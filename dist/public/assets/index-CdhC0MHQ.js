var Xie=Object.defineProperty;var OI=e=>{throw TypeError(e)};var Yie=(e,t,n)=>t in e?Xie(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var _e=(e,t,n)=>Yie(e,typeof t!="symbol"?t+"":t,n),PS=(e,t,n)=>t.has(e)||OI("Cannot "+n);var Se=(e,t,n)=>(PS(e,t,"read from private field"),n?n.call(e):t.get(e)),fn=(e,t,n)=>t.has(e)?OI("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Tt=(e,t,n,r)=>(PS(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Vn=(e,t,n)=>(PS(e,t,"access private method"),n);var dw=(e,t,n,r)=>({set _(i){Tt(e,t,i,n)},get _(){return Se(e,t,r)}});function Qie(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var T0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function jr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var dU={exports:{}},mj={},fU={exports:{}},Zn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sb=Symbol.for("react.element"),Jie=Symbol.for("react.portal"),eae=Symbol.for("react.fragment"),tae=Symbol.for("react.strict_mode"),nae=Symbol.for("react.profiler"),rae=Symbol.for("react.provider"),iae=Symbol.for("react.context"),aae=Symbol.for("react.forward_ref"),sae=Symbol.for("react.suspense"),oae=Symbol.for("react.memo"),lae=Symbol.for("react.lazy"),kI=Symbol.iterator;function cae(e){return e===null||typeof e!="object"?null:(e=kI&&e[kI]||e["@@iterator"],typeof e=="function"?e:null)}var hU={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},pU=Object.assign,mU={};function dy(e,t,n){this.props=e,this.context=t,this.refs=mU,this.updater=n||hU}dy.prototype.isReactComponent={};dy.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};dy.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function gU(){}gU.prototype=dy.prototype;function j4(e,t,n){this.props=e,this.context=t,this.refs=mU,this.updater=n||hU}var N4=j4.prototype=new gU;N4.constructor=j4;pU(N4,dy.prototype);N4.isPureReactComponent=!0;var TI=Array.isArray,vU=Object.prototype.hasOwnProperty,S4={current:null},yU={key:!0,ref:!0,__self:!0,__source:!0};function xU(e,t,n){var r,i={},a=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)vU.call(t,r)&&!yU.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:sb,type:e,key:a,ref:o,props:i,_owner:S4.current}}function uae(e,t){return{$$typeof:sb,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function A4(e){return typeof e=="object"&&e!==null&&e.$$typeof===sb}function dae(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var II=/\/+/g;function CS(e,t){return typeof e=="object"&&e!==null&&e.key!=null?dae(""+e.key):t.toString(36)}function d2(e,t,n,r,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case sb:case Jie:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+CS(o,0):r,TI(i)?(n="",e!=null&&(n=e.replace(II,"$&/")+"/"),d2(i,t,n,"",function(u){return u})):i!=null&&(A4(i)&&(i=uae(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(II,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",TI(e))for(var l=0;l<e.length;l++){a=e[l];var c=r+CS(a,l);o+=d2(a,t,n,c,i)}else if(c=cae(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=r+CS(a,l++),o+=d2(a,t,n,c,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function fw(e,t,n){if(e==null)return e;var r=[],i=0;return d2(e,r,"","",function(a){return t.call(n,a,i++)}),r}function fae(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Qs={current:null},f2={transition:null},hae={ReactCurrentDispatcher:Qs,ReactCurrentBatchConfig:f2,ReactCurrentOwner:S4};function bU(){throw Error("act(...) is not supported in production builds of React.")}Zn.Children={map:fw,forEach:function(e,t,n){fw(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return fw(e,function(){t++}),t},toArray:function(e){return fw(e,function(t){return t})||[]},only:function(e){if(!A4(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Zn.Component=dy;Zn.Fragment=eae;Zn.Profiler=nae;Zn.PureComponent=j4;Zn.StrictMode=tae;Zn.Suspense=sae;Zn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hae;Zn.act=bU;Zn.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=pU({},e.props),i=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=S4.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)vU.call(t,c)&&!yU.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:sb,type:e.type,key:i,ref:a,props:r,_owner:o}};Zn.createContext=function(e){return e={$$typeof:iae,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:rae,_context:e},e.Consumer=e};Zn.createElement=xU;Zn.createFactory=function(e){var t=xU.bind(null,e);return t.type=e,t};Zn.createRef=function(){return{current:null}};Zn.forwardRef=function(e){return{$$typeof:aae,render:e}};Zn.isValidElement=A4;Zn.lazy=function(e){return{$$typeof:lae,_payload:{_status:-1,_result:e},_init:fae}};Zn.memo=function(e,t){return{$$typeof:oae,type:e,compare:t===void 0?null:t}};Zn.startTransition=function(e){var t=f2.transition;f2.transition={};try{e()}finally{f2.transition=t}};Zn.unstable_act=bU;Zn.useCallback=function(e,t){return Qs.current.useCallback(e,t)};Zn.useContext=function(e){return Qs.current.useContext(e)};Zn.useDebugValue=function(){};Zn.useDeferredValue=function(e){return Qs.current.useDeferredValue(e)};Zn.useEffect=function(e,t){return Qs.current.useEffect(e,t)};Zn.useId=function(){return Qs.current.useId()};Zn.useImperativeHandle=function(e,t,n){return Qs.current.useImperativeHandle(e,t,n)};Zn.useInsertionEffect=function(e,t){return Qs.current.useInsertionEffect(e,t)};Zn.useLayoutEffect=function(e,t){return Qs.current.useLayoutEffect(e,t)};Zn.useMemo=function(e,t){return Qs.current.useMemo(e,t)};Zn.useReducer=function(e,t,n){return Qs.current.useReducer(e,t,n)};Zn.useRef=function(e){return Qs.current.useRef(e)};Zn.useState=function(e){return Qs.current.useState(e)};Zn.useSyncExternalStore=function(e,t,n){return Qs.current.useSyncExternalStore(e,t,n)};Zn.useTransition=function(){return Qs.current.useTransition()};Zn.version="18.3.1";fU.exports=Zn;var N=fU.exports;const ie=jr(N),wU=Qie({__proto__:null,default:ie},[N]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pae=N,mae=Symbol.for("react.element"),gae=Symbol.for("react.fragment"),vae=Object.prototype.hasOwnProperty,yae=pae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,xae={key:!0,ref:!0,__self:!0,__source:!0};function _U(e,t,n){var r,i={},a=null,o=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)vae.call(t,r)&&!xae.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:mae,type:e,key:a,ref:o,props:i,_owner:yae.current}}mj.Fragment=gae;mj.jsx=_U;mj.jsxs=_U;dU.exports=mj;var s=dU.exports,jU={exports:{}},ul={},NU={exports:{}},SU={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(W,te){var ue=W.length;W.push(te);e:for(;0<ue;){var ye=ue-1>>>1,V=W[ye];if(0<i(V,te))W[ye]=te,W[ue]=V,ue=ye;else break e}}function n(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var te=W[0],ue=W.pop();if(ue!==te){W[0]=ue;e:for(var ye=0,V=W.length,ee=V>>>1;ye<ee;){var Q=2*(ye+1)-1,de=W[Q],le=Q+1,ve=W[le];if(0>i(de,ue))le<V&&0>i(ve,de)?(W[ye]=ve,W[le]=ue,ye=le):(W[ye]=de,W[Q]=ue,ye=Q);else if(le<V&&0>i(ve,ue))W[ye]=ve,W[le]=ue,ye=le;else break e}}return te}function i(W,te){var ue=W.sortIndex-te.sortIndex;return ue!==0?ue:W.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],f=1,h=null,p=3,m=!1,x=!1,v=!1,y=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(W){for(var te=n(u);te!==null;){if(te.callback===null)r(u);else if(te.startTime<=W)r(u),te.sortIndex=te.expirationTime,t(c,te);else break;te=n(u)}}function P(W){if(v=!1,j(W),!x)if(n(c)!==null)x=!0,X(A);else{var te=n(u);te!==null&&ae(P,te.startTime-W)}}function A(W,te){x=!1,v&&(v=!1,b(I),I=-1),m=!0;var ue=p;try{for(j(te),h=n(c);h!==null&&(!(h.expirationTime>te)||W&&!T());){var ye=h.callback;if(typeof ye=="function"){h.callback=null,p=h.priorityLevel;var V=ye(h.expirationTime<=te);te=e.unstable_now(),typeof V=="function"?h.callback=V:h===n(c)&&r(c),j(te)}else r(c);h=n(c)}if(h!==null)var ee=!0;else{var Q=n(u);Q!==null&&ae(P,Q.startTime-te),ee=!1}return ee}finally{h=null,p=ue,m=!1}}var E=!1,O=null,I=-1,D=5,z=-1;function T(){return!(e.unstable_now()-z<D)}function k(){if(O!==null){var W=e.unstable_now();z=W;var te=!0;try{te=O(!0,W)}finally{te?F():(E=!1,O=null)}}else E=!1}var F;if(typeof w=="function")F=function(){w(k)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,H=B.port2;B.port1.onmessage=k,F=function(){H.postMessage(null)}}else F=function(){y(k,0)};function X(W){O=W,E||(E=!0,F())}function ae(W,te){I=y(function(){W(e.unstable_now())},te)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(W){W.callback=null},e.unstable_continueExecution=function(){x||m||(x=!0,X(A))},e.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<W?Math.floor(1e3/W):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(W){switch(p){case 1:case 2:case 3:var te=3;break;default:te=p}var ue=p;p=te;try{return W()}finally{p=ue}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(W,te){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var ue=p;p=W;try{return te()}finally{p=ue}},e.unstable_scheduleCallback=function(W,te,ue){var ye=e.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?ye+ue:ye):ue=ye,W){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=ue+V,W={id:f++,callback:te,priorityLevel:W,startTime:ue,expirationTime:V,sortIndex:-1},ue>ye?(W.sortIndex=ue,t(u,W),n(c)===null&&W===n(u)&&(v?(b(I),I=-1):v=!0,ae(P,ue-ye))):(W.sortIndex=V,t(c,W),x||m||(x=!0,X(A))),W},e.unstable_shouldYield=T,e.unstable_wrapCallback=function(W){var te=p;return function(){var ue=p;p=te;try{return W.apply(this,arguments)}finally{p=ue}}}})(SU);NU.exports=SU;var bae=NU.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wae=N,ll=bae;function ht(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var AU=new Set,Px={};function bm(e,t){vv(e,t),vv(e+"Capture",t)}function vv(e,t){for(Px[e]=t,e=0;e<t.length;e++)AU.add(t[e])}var $d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),TP=Object.prototype.hasOwnProperty,_ae=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,LI={},MI={};function jae(e){return TP.call(MI,e)?!0:TP.call(LI,e)?!1:_ae.test(e)?MI[e]=!0:(LI[e]=!0,!1)}function Nae(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Sae(e,t,n,r){if(t===null||typeof t>"u"||Nae(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Js(e,t,n,r,i,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var as={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){as[e]=new Js(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];as[t]=new Js(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){as[e]=new Js(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){as[e]=new Js(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){as[e]=new Js(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){as[e]=new Js(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){as[e]=new Js(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){as[e]=new Js(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){as[e]=new Js(e,5,!1,e.toLowerCase(),null,!1,!1)});var P4=/[\-:]([a-z])/g;function C4(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(P4,C4);as[t]=new Js(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(P4,C4);as[t]=new Js(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(P4,C4);as[t]=new Js(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){as[e]=new Js(e,1,!1,e.toLowerCase(),null,!1,!1)});as.xlinkHref=new Js("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){as[e]=new Js(e,1,!1,e.toLowerCase(),null,!0,!0)});function E4(e,t,n,r){var i=as.hasOwnProperty(t)?as[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Sae(t,n,i,r)&&(n=null),r||i===null?jae(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Zd=wae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,hw=Symbol.for("react.element"),ug=Symbol.for("react.portal"),dg=Symbol.for("react.fragment"),O4=Symbol.for("react.strict_mode"),IP=Symbol.for("react.profiler"),PU=Symbol.for("react.provider"),CU=Symbol.for("react.context"),k4=Symbol.for("react.forward_ref"),LP=Symbol.for("react.suspense"),MP=Symbol.for("react.suspense_list"),T4=Symbol.for("react.memo"),Cf=Symbol.for("react.lazy"),EU=Symbol.for("react.offscreen"),DI=Symbol.iterator;function s0(e){return e===null||typeof e!="object"?null:(e=DI&&e[DI]||e["@@iterator"],typeof e=="function"?e:null)}var Pi=Object.assign,ES;function I0(e){if(ES===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ES=t&&t[1]||""}return`
`+ES+e}var OS=!1;function kS(e,t){if(!e||OS)return"";OS=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=r.stack.split(`
`),o=i.length-1,l=a.length-1;1<=o&&0<=l&&i[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==a[l]){var c=`
`+i[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{OS=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?I0(e):""}function Aae(e){switch(e.tag){case 5:return I0(e.type);case 16:return I0("Lazy");case 13:return I0("Suspense");case 19:return I0("SuspenseList");case 0:case 2:case 15:return e=kS(e.type,!1),e;case 11:return e=kS(e.type.render,!1),e;case 1:return e=kS(e.type,!0),e;default:return""}}function DP(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case dg:return"Fragment";case ug:return"Portal";case IP:return"Profiler";case O4:return"StrictMode";case LP:return"Suspense";case MP:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case CU:return(e.displayName||"Context")+".Consumer";case PU:return(e._context.displayName||"Context")+".Provider";case k4:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case T4:return t=e.displayName||null,t!==null?t:DP(e.type)||"Memo";case Cf:t=e._payload,e=e._init;try{return DP(e(t))}catch{}}return null}function Pae(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return DP(t);case 8:return t===O4?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function gh(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function OU(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Cae(e){var t=OU(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function pw(e){e._valueTracker||(e._valueTracker=Cae(e))}function kU(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=OU(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function G2(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function RP(e,t){var n=t.checked;return Pi({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function RI(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=gh(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function TU(e,t){t=t.checked,t!=null&&E4(e,"checked",t,!1)}function $P(e,t){TU(e,t);var n=gh(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?FP(e,t.type,n):t.hasOwnProperty("defaultValue")&&FP(e,t.type,gh(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function $I(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function FP(e,t,n){(t!=="number"||G2(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var L0=Array.isArray;function Lg(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+gh(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function BP(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ht(91));return Pi({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function FI(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(ht(92));if(L0(n)){if(1<n.length)throw Error(ht(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:gh(n)}}function IU(e,t){var n=gh(t.value),r=gh(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function BI(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function LU(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function zP(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?LU(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var mw,MU=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(mw=mw||document.createElement("div"),mw.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=mw.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Cx(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var q0={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Eae=["Webkit","ms","Moz","O"];Object.keys(q0).forEach(function(e){Eae.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),q0[t]=q0[e]})});function DU(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||q0.hasOwnProperty(e)&&q0[e]?(""+t).trim():t+"px"}function RU(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=DU(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var Oae=Pi({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function UP(e,t){if(t){if(Oae[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ht(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ht(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ht(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ht(62))}}function qP(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var VP=null;function I4(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var WP=null,Mg=null,Dg=null;function zI(e){if(e=cb(e)){if(typeof WP!="function")throw Error(ht(280));var t=e.stateNode;t&&(t=bj(t),WP(e.stateNode,e.type,t))}}function $U(e){Mg?Dg?Dg.push(e):Dg=[e]:Mg=e}function FU(){if(Mg){var e=Mg,t=Dg;if(Dg=Mg=null,zI(e),t)for(e=0;e<t.length;e++)zI(t[e])}}function BU(e,t){return e(t)}function zU(){}var TS=!1;function UU(e,t,n){if(TS)return e(t,n);TS=!0;try{return BU(e,t,n)}finally{TS=!1,(Mg!==null||Dg!==null)&&(zU(),FU())}}function Ex(e,t){var n=e.stateNode;if(n===null)return null;var r=bj(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(ht(231,t,typeof n));return n}var HP=!1;if($d)try{var o0={};Object.defineProperty(o0,"passive",{get:function(){HP=!0}}),window.addEventListener("test",o0,o0),window.removeEventListener("test",o0,o0)}catch{HP=!1}function kae(e,t,n,r,i,a,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(f){this.onError(f)}}var V0=!1,Z2=null,X2=!1,KP=null,Tae={onError:function(e){V0=!0,Z2=e}};function Iae(e,t,n,r,i,a,o,l,c){V0=!1,Z2=null,kae.apply(Tae,arguments)}function Lae(e,t,n,r,i,a,o,l,c){if(Iae.apply(this,arguments),V0){if(V0){var u=Z2;V0=!1,Z2=null}else throw Error(ht(198));X2||(X2=!0,KP=u)}}function wm(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function qU(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function UI(e){if(wm(e)!==e)throw Error(ht(188))}function Mae(e){var t=e.alternate;if(!t){if(t=wm(e),t===null)throw Error(ht(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return UI(i),e;if(a===r)return UI(i),t;a=a.sibling}throw Error(ht(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=a;break}if(l===r){o=!0,r=i,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,r=i;break}if(l===r){o=!0,r=a,n=i;break}l=l.sibling}if(!o)throw Error(ht(189))}}if(n.alternate!==r)throw Error(ht(190))}if(n.tag!==3)throw Error(ht(188));return n.stateNode.current===n?e:t}function VU(e){return e=Mae(e),e!==null?WU(e):null}function WU(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=WU(e);if(t!==null)return t;e=e.sibling}return null}var HU=ll.unstable_scheduleCallback,qI=ll.unstable_cancelCallback,Dae=ll.unstable_shouldYield,Rae=ll.unstable_requestPaint,Yi=ll.unstable_now,$ae=ll.unstable_getCurrentPriorityLevel,L4=ll.unstable_ImmediatePriority,KU=ll.unstable_UserBlockingPriority,Y2=ll.unstable_NormalPriority,Fae=ll.unstable_LowPriority,GU=ll.unstable_IdlePriority,gj=null,Mu=null;function Bae(e){if(Mu&&typeof Mu.onCommitFiberRoot=="function")try{Mu.onCommitFiberRoot(gj,e,void 0,(e.current.flags&128)===128)}catch{}}var Tc=Math.clz32?Math.clz32:qae,zae=Math.log,Uae=Math.LN2;function qae(e){return e>>>=0,e===0?32:31-(zae(e)/Uae|0)|0}var gw=64,vw=4194304;function M0(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Q2(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=M0(l):(a&=o,a!==0&&(r=M0(a)))}else o=n&~i,o!==0?r=M0(o):a!==0&&(r=M0(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Tc(t),i=1<<n,r|=e[n],t&=~i;return r}function Vae(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wae(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-Tc(a),l=1<<o,c=i[o];c===-1?(!(l&n)||l&r)&&(i[o]=Vae(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function GP(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ZU(){var e=gw;return gw<<=1,!(gw&4194240)&&(gw=64),e}function IS(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ob(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Tc(t),e[t]=n}function Hae(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Tc(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}function M4(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Tc(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Mr=0;function XU(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var YU,D4,QU,JU,eq,ZP=!1,yw=[],th=null,nh=null,rh=null,Ox=new Map,kx=new Map,If=[],Kae="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function VI(e,t){switch(e){case"focusin":case"focusout":th=null;break;case"dragenter":case"dragleave":nh=null;break;case"mouseover":case"mouseout":rh=null;break;case"pointerover":case"pointerout":Ox.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":kx.delete(t.pointerId)}}function l0(e,t,n,r,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},t!==null&&(t=cb(t),t!==null&&D4(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Gae(e,t,n,r,i){switch(t){case"focusin":return th=l0(th,e,t,n,r,i),!0;case"dragenter":return nh=l0(nh,e,t,n,r,i),!0;case"mouseover":return rh=l0(rh,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Ox.set(a,l0(Ox.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,kx.set(a,l0(kx.get(a)||null,e,t,n,r,i)),!0}return!1}function tq(e){var t=wp(e.target);if(t!==null){var n=wm(t);if(n!==null){if(t=n.tag,t===13){if(t=qU(n),t!==null){e.blockedOn=t,eq(e.priority,function(){QU(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function h2(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=XP(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);VP=r,n.target.dispatchEvent(r),VP=null}else return t=cb(n),t!==null&&D4(t),e.blockedOn=n,!1;t.shift()}return!0}function WI(e,t,n){h2(e)&&n.delete(t)}function Zae(){ZP=!1,th!==null&&h2(th)&&(th=null),nh!==null&&h2(nh)&&(nh=null),rh!==null&&h2(rh)&&(rh=null),Ox.forEach(WI),kx.forEach(WI)}function c0(e,t){e.blockedOn===t&&(e.blockedOn=null,ZP||(ZP=!0,ll.unstable_scheduleCallback(ll.unstable_NormalPriority,Zae)))}function Tx(e){function t(i){return c0(i,e)}if(0<yw.length){c0(yw[0],e);for(var n=1;n<yw.length;n++){var r=yw[n];r.blockedOn===e&&(r.blockedOn=null)}}for(th!==null&&c0(th,e),nh!==null&&c0(nh,e),rh!==null&&c0(rh,e),Ox.forEach(t),kx.forEach(t),n=0;n<If.length;n++)r=If[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<If.length&&(n=If[0],n.blockedOn===null);)tq(n),n.blockedOn===null&&If.shift()}var Rg=Zd.ReactCurrentBatchConfig,J2=!0;function Xae(e,t,n,r){var i=Mr,a=Rg.transition;Rg.transition=null;try{Mr=1,R4(e,t,n,r)}finally{Mr=i,Rg.transition=a}}function Yae(e,t,n,r){var i=Mr,a=Rg.transition;Rg.transition=null;try{Mr=4,R4(e,t,n,r)}finally{Mr=i,Rg.transition=a}}function R4(e,t,n,r){if(J2){var i=XP(e,t,n,r);if(i===null)qS(e,t,r,e_,n),VI(e,r);else if(Gae(i,e,t,n,r))r.stopPropagation();else if(VI(e,r),t&4&&-1<Kae.indexOf(e)){for(;i!==null;){var a=cb(i);if(a!==null&&YU(a),a=XP(e,t,n,r),a===null&&qS(e,t,r,e_,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else qS(e,t,r,null,n)}}var e_=null;function XP(e,t,n,r){if(e_=null,e=I4(r),e=wp(e),e!==null)if(t=wm(e),t===null)e=null;else if(n=t.tag,n===13){if(e=qU(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return e_=e,null}function nq(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($ae()){case L4:return 1;case KU:return 4;case Y2:case Fae:return 16;case GU:return 536870912;default:return 16}default:return 16}}var Kf=null,$4=null,p2=null;function rq(){if(p2)return p2;var e,t=$4,n=t.length,r,i="value"in Kf?Kf.value:Kf.textContent,a=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[a-r];r++);return p2=i.slice(e,1<r?1-r:void 0)}function m2(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function xw(){return!0}function HI(){return!1}function dl(e){function t(n,r,i,a,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?xw:HI,this.isPropagationStopped=HI,this}return Pi(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=xw)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=xw)},persist:function(){},isPersistent:xw}),t}var fy={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},F4=dl(fy),lb=Pi({},fy,{view:0,detail:0}),Qae=dl(lb),LS,MS,u0,vj=Pi({},lb,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:B4,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==u0&&(u0&&e.type==="mousemove"?(LS=e.screenX-u0.screenX,MS=e.screenY-u0.screenY):MS=LS=0,u0=e),LS)},movementY:function(e){return"movementY"in e?e.movementY:MS}}),KI=dl(vj),Jae=Pi({},vj,{dataTransfer:0}),ese=dl(Jae),tse=Pi({},lb,{relatedTarget:0}),DS=dl(tse),nse=Pi({},fy,{animationName:0,elapsedTime:0,pseudoElement:0}),rse=dl(nse),ise=Pi({},fy,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ase=dl(ise),sse=Pi({},fy,{data:0}),GI=dl(sse),ose={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lse={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cse={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function use(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=cse[e])?!!t[e]:!1}function B4(){return use}var dse=Pi({},lb,{key:function(e){if(e.key){var t=ose[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=m2(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?lse[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:B4,charCode:function(e){return e.type==="keypress"?m2(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?m2(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),fse=dl(dse),hse=Pi({},vj,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ZI=dl(hse),pse=Pi({},lb,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:B4}),mse=dl(pse),gse=Pi({},fy,{propertyName:0,elapsedTime:0,pseudoElement:0}),vse=dl(gse),yse=Pi({},vj,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),xse=dl(yse),bse=[9,13,27,32],z4=$d&&"CompositionEvent"in window,W0=null;$d&&"documentMode"in document&&(W0=document.documentMode);var wse=$d&&"TextEvent"in window&&!W0,iq=$d&&(!z4||W0&&8<W0&&11>=W0),XI=" ",YI=!1;function aq(e,t){switch(e){case"keyup":return bse.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sq(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var fg=!1;function _se(e,t){switch(e){case"compositionend":return sq(t);case"keypress":return t.which!==32?null:(YI=!0,XI);case"textInput":return e=t.data,e===XI&&YI?null:e;default:return null}}function jse(e,t){if(fg)return e==="compositionend"||!z4&&aq(e,t)?(e=rq(),p2=$4=Kf=null,fg=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return iq&&t.locale!=="ko"?null:t.data;default:return null}}var Nse={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function QI(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Nse[e.type]:t==="textarea"}function oq(e,t,n,r){$U(r),t=t_(t,"onChange"),0<t.length&&(n=new F4("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var H0=null,Ix=null;function Sse(e){yq(e,0)}function yj(e){var t=mg(e);if(kU(t))return e}function Ase(e,t){if(e==="change")return t}var lq=!1;if($d){var RS;if($d){var $S="oninput"in document;if(!$S){var JI=document.createElement("div");JI.setAttribute("oninput","return;"),$S=typeof JI.oninput=="function"}RS=$S}else RS=!1;lq=RS&&(!document.documentMode||9<document.documentMode)}function eL(){H0&&(H0.detachEvent("onpropertychange",cq),Ix=H0=null)}function cq(e){if(e.propertyName==="value"&&yj(Ix)){var t=[];oq(t,Ix,e,I4(e)),UU(Sse,t)}}function Pse(e,t,n){e==="focusin"?(eL(),H0=t,Ix=n,H0.attachEvent("onpropertychange",cq)):e==="focusout"&&eL()}function Cse(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return yj(Ix)}function Ese(e,t){if(e==="click")return yj(t)}function Ose(e,t){if(e==="input"||e==="change")return yj(t)}function kse(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Fc=typeof Object.is=="function"?Object.is:kse;function Lx(e,t){if(Fc(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!TP.call(t,i)||!Fc(e[i],t[i]))return!1}return!0}function tL(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function nL(e,t){var n=tL(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=tL(n)}}function uq(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?uq(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function dq(){for(var e=window,t=G2();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=G2(e.document)}return t}function U4(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Tse(e){var t=dq(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&uq(n.ownerDocument.documentElement,n)){if(r!==null&&U4(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=nL(n,a);var o=nL(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Ise=$d&&"documentMode"in document&&11>=document.documentMode,hg=null,YP=null,K0=null,QP=!1;function rL(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;QP||hg==null||hg!==G2(r)||(r=hg,"selectionStart"in r&&U4(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),K0&&Lx(K0,r)||(K0=r,r=t_(YP,"onSelect"),0<r.length&&(t=new F4("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=hg)))}function bw(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var pg={animationend:bw("Animation","AnimationEnd"),animationiteration:bw("Animation","AnimationIteration"),animationstart:bw("Animation","AnimationStart"),transitionend:bw("Transition","TransitionEnd")},FS={},fq={};$d&&(fq=document.createElement("div").style,"AnimationEvent"in window||(delete pg.animationend.animation,delete pg.animationiteration.animation,delete pg.animationstart.animation),"TransitionEvent"in window||delete pg.transitionend.transition);function xj(e){if(FS[e])return FS[e];if(!pg[e])return e;var t=pg[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in fq)return FS[e]=t[n];return e}var hq=xj("animationend"),pq=xj("animationiteration"),mq=xj("animationstart"),gq=xj("transitionend"),vq=new Map,iL="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ih(e,t){vq.set(e,t),bm(t,[e])}for(var BS=0;BS<iL.length;BS++){var zS=iL[BS],Lse=zS.toLowerCase(),Mse=zS[0].toUpperCase()+zS.slice(1);Ih(Lse,"on"+Mse)}Ih(hq,"onAnimationEnd");Ih(pq,"onAnimationIteration");Ih(mq,"onAnimationStart");Ih("dblclick","onDoubleClick");Ih("focusin","onFocus");Ih("focusout","onBlur");Ih(gq,"onTransitionEnd");vv("onMouseEnter",["mouseout","mouseover"]);vv("onMouseLeave",["mouseout","mouseover"]);vv("onPointerEnter",["pointerout","pointerover"]);vv("onPointerLeave",["pointerout","pointerover"]);bm("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));bm("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));bm("onBeforeInput",["compositionend","keypress","textInput","paste"]);bm("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));bm("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));bm("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var D0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dse=new Set("cancel close invalid load scroll toggle".split(" ").concat(D0));function aL(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Lae(r,t,void 0,e),e.currentTarget=null}function yq(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&i.isPropagationStopped())break e;aL(i,l,u),a=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&i.isPropagationStopped())break e;aL(i,l,u),a=c}}}if(X2)throw e=KP,X2=!1,KP=null,e}function ni(e,t){var n=t[rC];n===void 0&&(n=t[rC]=new Set);var r=e+"__bubble";n.has(r)||(xq(t,e,2,!1),n.add(r))}function US(e,t,n){var r=0;t&&(r|=4),xq(n,e,r,t)}var ww="_reactListening"+Math.random().toString(36).slice(2);function Mx(e){if(!e[ww]){e[ww]=!0,AU.forEach(function(n){n!=="selectionchange"&&(Dse.has(n)||US(n,!1,e),US(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ww]||(t[ww]=!0,US("selectionchange",!1,t))}}function xq(e,t,n,r){switch(nq(t)){case 1:var i=Xae;break;case 4:i=Yae;break;default:i=R4}n=i.bind(null,t,n,e),i=void 0,!HP||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function qS(e,t,n,r,i){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;l!==null;){if(o=wp(l),o===null)return;if(c=o.tag,c===5||c===6){r=a=o;continue e}l=l.parentNode}}r=r.return}UU(function(){var u=a,f=I4(n),h=[];e:{var p=vq.get(e);if(p!==void 0){var m=F4,x=e;switch(e){case"keypress":if(m2(n)===0)break e;case"keydown":case"keyup":m=fse;break;case"focusin":x="focus",m=DS;break;case"focusout":x="blur",m=DS;break;case"beforeblur":case"afterblur":m=DS;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=KI;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=ese;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=mse;break;case hq:case pq:case mq:m=rse;break;case gq:m=vse;break;case"scroll":m=Qae;break;case"wheel":m=xse;break;case"copy":case"cut":case"paste":m=ase;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=ZI}var v=(t&4)!==0,y=!v&&e==="scroll",b=v?p!==null?p+"Capture":null:p;v=[];for(var w=u,j;w!==null;){j=w;var P=j.stateNode;if(j.tag===5&&P!==null&&(j=P,b!==null&&(P=Ex(w,b),P!=null&&v.push(Dx(w,P,j)))),y)break;w=w.return}0<v.length&&(p=new m(p,x,null,n,f),h.push({event:p,listeners:v}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",p&&n!==VP&&(x=n.relatedTarget||n.fromElement)&&(wp(x)||x[Fd]))break e;if((m||p)&&(p=f.window===f?f:(p=f.ownerDocument)?p.defaultView||p.parentWindow:window,m?(x=n.relatedTarget||n.toElement,m=u,x=x?wp(x):null,x!==null&&(y=wm(x),x!==y||x.tag!==5&&x.tag!==6)&&(x=null)):(m=null,x=u),m!==x)){if(v=KI,P="onMouseLeave",b="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(v=ZI,P="onPointerLeave",b="onPointerEnter",w="pointer"),y=m==null?p:mg(m),j=x==null?p:mg(x),p=new v(P,w+"leave",m,n,f),p.target=y,p.relatedTarget=j,P=null,wp(f)===u&&(v=new v(b,w+"enter",x,n,f),v.target=j,v.relatedTarget=y,P=v),y=P,m&&x)t:{for(v=m,b=x,w=0,j=v;j;j=qm(j))w++;for(j=0,P=b;P;P=qm(P))j++;for(;0<w-j;)v=qm(v),w--;for(;0<j-w;)b=qm(b),j--;for(;w--;){if(v===b||b!==null&&v===b.alternate)break t;v=qm(v),b=qm(b)}v=null}else v=null;m!==null&&sL(h,p,m,v,!1),x!==null&&y!==null&&sL(h,y,x,v,!0)}}e:{if(p=u?mg(u):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var A=Ase;else if(QI(p))if(lq)A=Ose;else{A=Cse;var E=Pse}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(A=Ese);if(A&&(A=A(e,u))){oq(h,A,n,f);break e}E&&E(e,p,u),e==="focusout"&&(E=p._wrapperState)&&E.controlled&&p.type==="number"&&FP(p,"number",p.value)}switch(E=u?mg(u):window,e){case"focusin":(QI(E)||E.contentEditable==="true")&&(hg=E,YP=u,K0=null);break;case"focusout":K0=YP=hg=null;break;case"mousedown":QP=!0;break;case"contextmenu":case"mouseup":case"dragend":QP=!1,rL(h,n,f);break;case"selectionchange":if(Ise)break;case"keydown":case"keyup":rL(h,n,f)}var O;if(z4)e:{switch(e){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else fg?aq(e,n)&&(I="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(iq&&n.locale!=="ko"&&(fg||I!=="onCompositionStart"?I==="onCompositionEnd"&&fg&&(O=rq()):(Kf=f,$4="value"in Kf?Kf.value:Kf.textContent,fg=!0)),E=t_(u,I),0<E.length&&(I=new GI(I,e,null,n,f),h.push({event:I,listeners:E}),O?I.data=O:(O=sq(n),O!==null&&(I.data=O)))),(O=wse?_se(e,n):jse(e,n))&&(u=t_(u,"onBeforeInput"),0<u.length&&(f=new GI("onBeforeInput","beforeinput",null,n,f),h.push({event:f,listeners:u}),f.data=O))}yq(h,t)})}function Dx(e,t,n){return{instance:e,listener:t,currentTarget:n}}function t_(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Ex(e,n),a!=null&&r.unshift(Dx(e,a,i)),a=Ex(e,t),a!=null&&r.push(Dx(e,a,i))),e=e.return}return r}function qm(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function sL(e,t,n,r,i){for(var a=t._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,i?(c=Ex(n,a),c!=null&&o.unshift(Dx(n,c,l))):i||(c=Ex(n,a),c!=null&&o.push(Dx(n,c,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var Rse=/\r\n?/g,$se=/\u0000|\uFFFD/g;function oL(e){return(typeof e=="string"?e:""+e).replace(Rse,`
`).replace($se,"")}function _w(e,t,n){if(t=oL(t),oL(e)!==t&&n)throw Error(ht(425))}function n_(){}var JP=null,eC=null;function tC(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var nC=typeof setTimeout=="function"?setTimeout:void 0,Fse=typeof clearTimeout=="function"?clearTimeout:void 0,lL=typeof Promise=="function"?Promise:void 0,Bse=typeof queueMicrotask=="function"?queueMicrotask:typeof lL<"u"?function(e){return lL.resolve(null).then(e).catch(zse)}:nC;function zse(e){setTimeout(function(){throw e})}function VS(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Tx(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Tx(t)}function ih(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function cL(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var hy=Math.random().toString(36).slice(2),Su="__reactFiber$"+hy,Rx="__reactProps$"+hy,Fd="__reactContainer$"+hy,rC="__reactEvents$"+hy,Use="__reactListeners$"+hy,qse="__reactHandles$"+hy;function wp(e){var t=e[Su];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Fd]||n[Su]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=cL(e);e!==null;){if(n=e[Su])return n;e=cL(e)}return t}e=n,n=e.parentNode}return null}function cb(e){return e=e[Su]||e[Fd],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function mg(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ht(33))}function bj(e){return e[Rx]||null}var iC=[],gg=-1;function Lh(e){return{current:e}}function ci(e){0>gg||(e.current=iC[gg],iC[gg]=null,gg--)}function Zr(e,t){gg++,iC[gg]=e.current,e.current=t}var vh={},Ns=Lh(vh),xo=Lh(!1),Gp=vh;function yv(e,t){var n=e.type.contextTypes;if(!n)return vh;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function bo(e){return e=e.childContextTypes,e!=null}function r_(){ci(xo),ci(Ns)}function uL(e,t,n){if(Ns.current!==vh)throw Error(ht(168));Zr(Ns,t),Zr(xo,n)}function bq(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(ht(108,Pae(e)||"Unknown",i));return Pi({},n,r)}function i_(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||vh,Gp=Ns.current,Zr(Ns,e),Zr(xo,xo.current),!0}function dL(e,t,n){var r=e.stateNode;if(!r)throw Error(ht(169));n?(e=bq(e,t,Gp),r.__reactInternalMemoizedMergedChildContext=e,ci(xo),ci(Ns),Zr(Ns,e)):ci(xo),Zr(xo,n)}var _d=null,wj=!1,WS=!1;function wq(e){_d===null?_d=[e]:_d.push(e)}function Vse(e){wj=!0,wq(e)}function Mh(){if(!WS&&_d!==null){WS=!0;var e=0,t=Mr;try{var n=_d;for(Mr=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}_d=null,wj=!1}catch(i){throw _d!==null&&(_d=_d.slice(e+1)),HU(L4,Mh),i}finally{Mr=t,WS=!1}}return null}var vg=[],yg=0,a_=null,s_=0,Ll=[],Ml=0,Zp=null,Pd=1,Cd="";function dp(e,t){vg[yg++]=s_,vg[yg++]=a_,a_=e,s_=t}function _q(e,t,n){Ll[Ml++]=Pd,Ll[Ml++]=Cd,Ll[Ml++]=Zp,Zp=e;var r=Pd;e=Cd;var i=32-Tc(r)-1;r&=~(1<<i),n+=1;var a=32-Tc(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Pd=1<<32-Tc(t)+i|n<<i|r,Cd=a+e}else Pd=1<<a|n<<i|r,Cd=e}function q4(e){e.return!==null&&(dp(e,1),_q(e,1,0))}function V4(e){for(;e===a_;)a_=vg[--yg],vg[yg]=null,s_=vg[--yg],vg[yg]=null;for(;e===Zp;)Zp=Ll[--Ml],Ll[Ml]=null,Cd=Ll[--Ml],Ll[Ml]=null,Pd=Ll[--Ml],Ll[Ml]=null}var il=null,Yo=null,mi=!1,Ac=null;function jq(e,t){var n=Fl(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function fL(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,il=e,Yo=ih(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,il=e,Yo=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Zp!==null?{id:Pd,overflow:Cd}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Fl(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,il=e,Yo=null,!0):!1;default:return!1}}function aC(e){return(e.mode&1)!==0&&(e.flags&128)===0}function sC(e){if(mi){var t=Yo;if(t){var n=t;if(!fL(e,t)){if(aC(e))throw Error(ht(418));t=ih(n.nextSibling);var r=il;t&&fL(e,t)?jq(r,n):(e.flags=e.flags&-4097|2,mi=!1,il=e)}}else{if(aC(e))throw Error(ht(418));e.flags=e.flags&-4097|2,mi=!1,il=e}}}function hL(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;il=e}function jw(e){if(e!==il)return!1;if(!mi)return hL(e),mi=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!tC(e.type,e.memoizedProps)),t&&(t=Yo)){if(aC(e))throw Nq(),Error(ht(418));for(;t;)jq(e,t),t=ih(t.nextSibling)}if(hL(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ht(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Yo=ih(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Yo=null}}else Yo=il?ih(e.stateNode.nextSibling):null;return!0}function Nq(){for(var e=Yo;e;)e=ih(e.nextSibling)}function xv(){Yo=il=null,mi=!1}function W4(e){Ac===null?Ac=[e]:Ac.push(e)}var Wse=Zd.ReactCurrentBatchConfig;function d0(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ht(309));var r=n.stateNode}if(!r)throw Error(ht(147,e));var i=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var l=i.refs;o===null?delete l[a]:l[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(ht(284));if(!n._owner)throw Error(ht(290,e))}return e}function Nw(e,t){throw e=Object.prototype.toString.call(t),Error(ht(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function pL(e){var t=e._init;return t(e._payload)}function Sq(e){function t(b,w){if(e){var j=b.deletions;j===null?(b.deletions=[w],b.flags|=16):j.push(w)}}function n(b,w){if(!e)return null;for(;w!==null;)t(b,w),w=w.sibling;return null}function r(b,w){for(b=new Map;w!==null;)w.key!==null?b.set(w.key,w):b.set(w.index,w),w=w.sibling;return b}function i(b,w){return b=lh(b,w),b.index=0,b.sibling=null,b}function a(b,w,j){return b.index=j,e?(j=b.alternate,j!==null?(j=j.index,j<w?(b.flags|=2,w):j):(b.flags|=2,w)):(b.flags|=1048576,w)}function o(b){return e&&b.alternate===null&&(b.flags|=2),b}function l(b,w,j,P){return w===null||w.tag!==6?(w=QS(j,b.mode,P),w.return=b,w):(w=i(w,j),w.return=b,w)}function c(b,w,j,P){var A=j.type;return A===dg?f(b,w,j.props.children,P,j.key):w!==null&&(w.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===Cf&&pL(A)===w.type)?(P=i(w,j.props),P.ref=d0(b,w,j),P.return=b,P):(P=_2(j.type,j.key,j.props,null,b.mode,P),P.ref=d0(b,w,j),P.return=b,P)}function u(b,w,j,P){return w===null||w.tag!==4||w.stateNode.containerInfo!==j.containerInfo||w.stateNode.implementation!==j.implementation?(w=JS(j,b.mode,P),w.return=b,w):(w=i(w,j.children||[]),w.return=b,w)}function f(b,w,j,P,A){return w===null||w.tag!==7?(w=Up(j,b.mode,P,A),w.return=b,w):(w=i(w,j),w.return=b,w)}function h(b,w,j){if(typeof w=="string"&&w!==""||typeof w=="number")return w=QS(""+w,b.mode,j),w.return=b,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case hw:return j=_2(w.type,w.key,w.props,null,b.mode,j),j.ref=d0(b,null,w),j.return=b,j;case ug:return w=JS(w,b.mode,j),w.return=b,w;case Cf:var P=w._init;return h(b,P(w._payload),j)}if(L0(w)||s0(w))return w=Up(w,b.mode,j,null),w.return=b,w;Nw(b,w)}return null}function p(b,w,j,P){var A=w!==null?w.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return A!==null?null:l(b,w,""+j,P);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case hw:return j.key===A?c(b,w,j,P):null;case ug:return j.key===A?u(b,w,j,P):null;case Cf:return A=j._init,p(b,w,A(j._payload),P)}if(L0(j)||s0(j))return A!==null?null:f(b,w,j,P,null);Nw(b,j)}return null}function m(b,w,j,P,A){if(typeof P=="string"&&P!==""||typeof P=="number")return b=b.get(j)||null,l(w,b,""+P,A);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case hw:return b=b.get(P.key===null?j:P.key)||null,c(w,b,P,A);case ug:return b=b.get(P.key===null?j:P.key)||null,u(w,b,P,A);case Cf:var E=P._init;return m(b,w,j,E(P._payload),A)}if(L0(P)||s0(P))return b=b.get(j)||null,f(w,b,P,A,null);Nw(w,P)}return null}function x(b,w,j,P){for(var A=null,E=null,O=w,I=w=0,D=null;O!==null&&I<j.length;I++){O.index>I?(D=O,O=null):D=O.sibling;var z=p(b,O,j[I],P);if(z===null){O===null&&(O=D);break}e&&O&&z.alternate===null&&t(b,O),w=a(z,w,I),E===null?A=z:E.sibling=z,E=z,O=D}if(I===j.length)return n(b,O),mi&&dp(b,I),A;if(O===null){for(;I<j.length;I++)O=h(b,j[I],P),O!==null&&(w=a(O,w,I),E===null?A=O:E.sibling=O,E=O);return mi&&dp(b,I),A}for(O=r(b,O);I<j.length;I++)D=m(O,b,I,j[I],P),D!==null&&(e&&D.alternate!==null&&O.delete(D.key===null?I:D.key),w=a(D,w,I),E===null?A=D:E.sibling=D,E=D);return e&&O.forEach(function(T){return t(b,T)}),mi&&dp(b,I),A}function v(b,w,j,P){var A=s0(j);if(typeof A!="function")throw Error(ht(150));if(j=A.call(j),j==null)throw Error(ht(151));for(var E=A=null,O=w,I=w=0,D=null,z=j.next();O!==null&&!z.done;I++,z=j.next()){O.index>I?(D=O,O=null):D=O.sibling;var T=p(b,O,z.value,P);if(T===null){O===null&&(O=D);break}e&&O&&T.alternate===null&&t(b,O),w=a(T,w,I),E===null?A=T:E.sibling=T,E=T,O=D}if(z.done)return n(b,O),mi&&dp(b,I),A;if(O===null){for(;!z.done;I++,z=j.next())z=h(b,z.value,P),z!==null&&(w=a(z,w,I),E===null?A=z:E.sibling=z,E=z);return mi&&dp(b,I),A}for(O=r(b,O);!z.done;I++,z=j.next())z=m(O,b,I,z.value,P),z!==null&&(e&&z.alternate!==null&&O.delete(z.key===null?I:z.key),w=a(z,w,I),E===null?A=z:E.sibling=z,E=z);return e&&O.forEach(function(k){return t(b,k)}),mi&&dp(b,I),A}function y(b,w,j,P){if(typeof j=="object"&&j!==null&&j.type===dg&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case hw:e:{for(var A=j.key,E=w;E!==null;){if(E.key===A){if(A=j.type,A===dg){if(E.tag===7){n(b,E.sibling),w=i(E,j.props.children),w.return=b,b=w;break e}}else if(E.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===Cf&&pL(A)===E.type){n(b,E.sibling),w=i(E,j.props),w.ref=d0(b,E,j),w.return=b,b=w;break e}n(b,E);break}else t(b,E);E=E.sibling}j.type===dg?(w=Up(j.props.children,b.mode,P,j.key),w.return=b,b=w):(P=_2(j.type,j.key,j.props,null,b.mode,P),P.ref=d0(b,w,j),P.return=b,b=P)}return o(b);case ug:e:{for(E=j.key;w!==null;){if(w.key===E)if(w.tag===4&&w.stateNode.containerInfo===j.containerInfo&&w.stateNode.implementation===j.implementation){n(b,w.sibling),w=i(w,j.children||[]),w.return=b,b=w;break e}else{n(b,w);break}else t(b,w);w=w.sibling}w=JS(j,b.mode,P),w.return=b,b=w}return o(b);case Cf:return E=j._init,y(b,w,E(j._payload),P)}if(L0(j))return x(b,w,j,P);if(s0(j))return v(b,w,j,P);Nw(b,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,w!==null&&w.tag===6?(n(b,w.sibling),w=i(w,j),w.return=b,b=w):(n(b,w),w=QS(j,b.mode,P),w.return=b,b=w),o(b)):n(b,w)}return y}var bv=Sq(!0),Aq=Sq(!1),o_=Lh(null),l_=null,xg=null,H4=null;function K4(){H4=xg=l_=null}function G4(e){var t=o_.current;ci(o_),e._currentValue=t}function oC(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function $g(e,t){l_=e,H4=xg=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(mo=!0),e.firstContext=null)}function Kl(e){var t=e._currentValue;if(H4!==e)if(e={context:e,memoizedValue:t,next:null},xg===null){if(l_===null)throw Error(ht(308));xg=e,l_.dependencies={lanes:0,firstContext:e}}else xg=xg.next=e;return t}var _p=null;function Z4(e){_p===null?_p=[e]:_p.push(e)}function Pq(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Z4(t)):(n.next=i.next,i.next=n),t.interleaved=n,Bd(e,r)}function Bd(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Ef=!1;function X4(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Cq(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Td(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ah(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ur&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Bd(e,n)}return i=r.interleaved,i===null?(t.next=t,Z4(r)):(t.next=i.next,i.next=t),r.interleaved=t,Bd(e,n)}function g2(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,M4(e,n)}}function mL(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?i=a=t:a=a.next=t}else i=a=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function c_(e,t,n,r){var i=e.updateQueue;Ef=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?a=u:o.next=u,o=c;var f=e.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==o&&(l===null?f.firstBaseUpdate=u:l.next=u,f.lastBaseUpdate=c))}if(a!==null){var h=i.baseState;o=0,f=u=c=null,l=a;do{var p=l.lane,m=l.eventTime;if((r&p)===p){f!==null&&(f=f.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=e,v=l;switch(p=t,m=n,v.tag){case 1:if(x=v.payload,typeof x=="function"){h=x.call(m,h,p);break e}h=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=v.payload,p=typeof x=="function"?x.call(m,h,p):x,p==null)break e;h=Pi({},h,p);break e;case 2:Ef=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,p=i.effects,p===null?i.effects=[l]:p.push(l))}else m={eventTime:m,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(u=f=m,c=h):f=f.next=m,o|=p;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;p=l,l=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(f===null&&(c=h),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=f,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);Yp|=o,e.lanes=o,e.memoizedState=h}}function gL(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ht(191,i));i.call(r)}}}var ub={},Du=Lh(ub),$x=Lh(ub),Fx=Lh(ub);function jp(e){if(e===ub)throw Error(ht(174));return e}function Y4(e,t){switch(Zr(Fx,t),Zr($x,e),Zr(Du,ub),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:zP(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=zP(t,e)}ci(Du),Zr(Du,t)}function wv(){ci(Du),ci($x),ci(Fx)}function Eq(e){jp(Fx.current);var t=jp(Du.current),n=zP(t,e.type);t!==n&&(Zr($x,e),Zr(Du,n))}function Q4(e){$x.current===e&&(ci(Du),ci($x))}var ji=Lh(0);function u_(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var HS=[];function J4(){for(var e=0;e<HS.length;e++)HS[e]._workInProgressVersionPrimary=null;HS.length=0}var v2=Zd.ReactCurrentDispatcher,KS=Zd.ReactCurrentBatchConfig,Xp=0,Ai=null,wa=null,ka=null,d_=!1,G0=!1,Bx=0,Hse=0;function hs(){throw Error(ht(321))}function ek(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Fc(e[n],t[n]))return!1;return!0}function tk(e,t,n,r,i,a){if(Xp=a,Ai=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,v2.current=e===null||e.memoizedState===null?Xse:Yse,e=n(r,i),G0){a=0;do{if(G0=!1,Bx=0,25<=a)throw Error(ht(301));a+=1,ka=wa=null,t.updateQueue=null,v2.current=Qse,e=n(r,i)}while(G0)}if(v2.current=f_,t=wa!==null&&wa.next!==null,Xp=0,ka=wa=Ai=null,d_=!1,t)throw Error(ht(300));return e}function nk(){var e=Bx!==0;return Bx=0,e}function bu(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ka===null?Ai.memoizedState=ka=e:ka=ka.next=e,ka}function Gl(){if(wa===null){var e=Ai.alternate;e=e!==null?e.memoizedState:null}else e=wa.next;var t=ka===null?Ai.memoizedState:ka.next;if(t!==null)ka=t,wa=e;else{if(e===null)throw Error(ht(310));wa=e,e={memoizedState:wa.memoizedState,baseState:wa.baseState,baseQueue:wa.baseQueue,queue:wa.queue,next:null},ka===null?Ai.memoizedState=ka=e:ka=ka.next=e}return ka}function zx(e,t){return typeof t=="function"?t(e):t}function GS(e){var t=Gl(),n=t.queue;if(n===null)throw Error(ht(311));n.lastRenderedReducer=e;var r=wa,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var l=o=null,c=null,u=a;do{var f=u.lane;if((Xp&f)===f)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,o=r):c=c.next=h,Ai.lanes|=f,Yp|=f}u=u.next}while(u!==null&&u!==a);c===null?o=r:c.next=l,Fc(r,t.memoizedState)||(mo=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do a=i.lane,Ai.lanes|=a,Yp|=a,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ZS(e){var t=Gl(),n=t.queue;if(n===null)throw Error(ht(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do a=e(a,o.action),o=o.next;while(o!==i);Fc(a,t.memoizedState)||(mo=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Oq(){}function kq(e,t){var n=Ai,r=Gl(),i=t(),a=!Fc(r.memoizedState,i);if(a&&(r.memoizedState=i,mo=!0),r=r.queue,rk(Lq.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||ka!==null&&ka.memoizedState.tag&1){if(n.flags|=2048,Ux(9,Iq.bind(null,n,r,i,t),void 0,null),Fa===null)throw Error(ht(349));Xp&30||Tq(n,t,i)}return i}function Tq(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ai.updateQueue,t===null?(t={lastEffect:null,stores:null},Ai.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Iq(e,t,n,r){t.value=n,t.getSnapshot=r,Mq(t)&&Dq(e)}function Lq(e,t,n){return n(function(){Mq(t)&&Dq(e)})}function Mq(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Fc(e,n)}catch{return!0}}function Dq(e){var t=Bd(e,1);t!==null&&Ic(t,e,1,-1)}function vL(e){var t=bu();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zx,lastRenderedState:e},t.queue=e,e=e.dispatch=Zse.bind(null,Ai,e),[t.memoizedState,e]}function Ux(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ai.updateQueue,t===null?(t={lastEffect:null,stores:null},Ai.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Rq(){return Gl().memoizedState}function y2(e,t,n,r){var i=bu();Ai.flags|=e,i.memoizedState=Ux(1|t,n,void 0,r===void 0?null:r)}function _j(e,t,n,r){var i=Gl();r=r===void 0?null:r;var a=void 0;if(wa!==null){var o=wa.memoizedState;if(a=o.destroy,r!==null&&ek(r,o.deps)){i.memoizedState=Ux(t,n,a,r);return}}Ai.flags|=e,i.memoizedState=Ux(1|t,n,a,r)}function yL(e,t){return y2(8390656,8,e,t)}function rk(e,t){return _j(2048,8,e,t)}function $q(e,t){return _j(4,2,e,t)}function Fq(e,t){return _j(4,4,e,t)}function Bq(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function zq(e,t,n){return n=n!=null?n.concat([e]):null,_j(4,4,Bq.bind(null,t,e),n)}function ik(){}function Uq(e,t){var n=Gl();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ek(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function qq(e,t){var n=Gl();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ek(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Vq(e,t,n){return Xp&21?(Fc(n,t)||(n=ZU(),Ai.lanes|=n,Yp|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,mo=!0),e.memoizedState=n)}function Kse(e,t){var n=Mr;Mr=n!==0&&4>n?n:4,e(!0);var r=KS.transition;KS.transition={};try{e(!1),t()}finally{Mr=n,KS.transition=r}}function Wq(){return Gl().memoizedState}function Gse(e,t,n){var r=oh(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Hq(e))Kq(t,n);else if(n=Pq(e,t,n,r),n!==null){var i=Zs();Ic(n,e,r,i),Gq(n,t,r)}}function Zse(e,t,n){var r=oh(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Hq(e))Kq(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,l=a(o,n);if(i.hasEagerState=!0,i.eagerState=l,Fc(l,o)){var c=t.interleaved;c===null?(i.next=i,Z4(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}n=Pq(e,t,i,r),n!==null&&(i=Zs(),Ic(n,e,r,i),Gq(n,t,r))}}function Hq(e){var t=e.alternate;return e===Ai||t!==null&&t===Ai}function Kq(e,t){G0=d_=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Gq(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,M4(e,n)}}var f_={readContext:Kl,useCallback:hs,useContext:hs,useEffect:hs,useImperativeHandle:hs,useInsertionEffect:hs,useLayoutEffect:hs,useMemo:hs,useReducer:hs,useRef:hs,useState:hs,useDebugValue:hs,useDeferredValue:hs,useTransition:hs,useMutableSource:hs,useSyncExternalStore:hs,useId:hs,unstable_isNewReconciler:!1},Xse={readContext:Kl,useCallback:function(e,t){return bu().memoizedState=[e,t===void 0?null:t],e},useContext:Kl,useEffect:yL,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,y2(4194308,4,Bq.bind(null,t,e),n)},useLayoutEffect:function(e,t){return y2(4194308,4,e,t)},useInsertionEffect:function(e,t){return y2(4,2,e,t)},useMemo:function(e,t){var n=bu();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=bu();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Gse.bind(null,Ai,e),[r.memoizedState,e]},useRef:function(e){var t=bu();return e={current:e},t.memoizedState=e},useState:vL,useDebugValue:ik,useDeferredValue:function(e){return bu().memoizedState=e},useTransition:function(){var e=vL(!1),t=e[0];return e=Kse.bind(null,e[1]),bu().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ai,i=bu();if(mi){if(n===void 0)throw Error(ht(407));n=n()}else{if(n=t(),Fa===null)throw Error(ht(349));Xp&30||Tq(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,yL(Lq.bind(null,r,a,e),[e]),r.flags|=2048,Ux(9,Iq.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=bu(),t=Fa.identifierPrefix;if(mi){var n=Cd,r=Pd;n=(r&~(1<<32-Tc(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Bx++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Hse++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Yse={readContext:Kl,useCallback:Uq,useContext:Kl,useEffect:rk,useImperativeHandle:zq,useInsertionEffect:$q,useLayoutEffect:Fq,useMemo:qq,useReducer:GS,useRef:Rq,useState:function(){return GS(zx)},useDebugValue:ik,useDeferredValue:function(e){var t=Gl();return Vq(t,wa.memoizedState,e)},useTransition:function(){var e=GS(zx)[0],t=Gl().memoizedState;return[e,t]},useMutableSource:Oq,useSyncExternalStore:kq,useId:Wq,unstable_isNewReconciler:!1},Qse={readContext:Kl,useCallback:Uq,useContext:Kl,useEffect:rk,useImperativeHandle:zq,useInsertionEffect:$q,useLayoutEffect:Fq,useMemo:qq,useReducer:ZS,useRef:Rq,useState:function(){return ZS(zx)},useDebugValue:ik,useDeferredValue:function(e){var t=Gl();return wa===null?t.memoizedState=e:Vq(t,wa.memoizedState,e)},useTransition:function(){var e=ZS(zx)[0],t=Gl().memoizedState;return[e,t]},useMutableSource:Oq,useSyncExternalStore:kq,useId:Wq,unstable_isNewReconciler:!1};function wc(e,t){if(e&&e.defaultProps){t=Pi({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function lC(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Pi({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var jj={isMounted:function(e){return(e=e._reactInternals)?wm(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Zs(),i=oh(e),a=Td(r,i);a.payload=t,n!=null&&(a.callback=n),t=ah(e,a,i),t!==null&&(Ic(t,e,i,r),g2(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Zs(),i=oh(e),a=Td(r,i);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=ah(e,a,i),t!==null&&(Ic(t,e,i,r),g2(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Zs(),r=oh(e),i=Td(n,r);i.tag=2,t!=null&&(i.callback=t),t=ah(e,i,r),t!==null&&(Ic(t,e,r,n),g2(t,e,r))}};function xL(e,t,n,r,i,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,o):t.prototype&&t.prototype.isPureReactComponent?!Lx(n,r)||!Lx(i,a):!0}function Zq(e,t,n){var r=!1,i=vh,a=t.contextType;return typeof a=="object"&&a!==null?a=Kl(a):(i=bo(t)?Gp:Ns.current,r=t.contextTypes,a=(r=r!=null)?yv(e,i):vh),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=jj,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function bL(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&jj.enqueueReplaceState(t,t.state,null)}function cC(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},X4(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=Kl(a):(a=bo(t)?Gp:Ns.current,i.context=yv(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(lC(e,t,a,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&jj.enqueueReplaceState(i,i.state,null),c_(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function _v(e,t){try{var n="",r=t;do n+=Aae(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function XS(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function uC(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Jse=typeof WeakMap=="function"?WeakMap:Map;function Xq(e,t,n){n=Td(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){p_||(p_=!0,bC=r),uC(e,t)},n}function Yq(e,t,n){n=Td(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){uC(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){uC(e,t),typeof r!="function"&&(sh===null?sh=new Set([this]):sh.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function wL(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Jse;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=hoe.bind(null,e,t,n),t.then(e,e))}function _L(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function jL(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Td(-1,1),t.tag=2,ah(n,t,1))),n.lanes|=1),e)}var eoe=Zd.ReactCurrentOwner,mo=!1;function Bs(e,t,n,r){t.child=e===null?Aq(t,null,n,r):bv(t,e.child,n,r)}function NL(e,t,n,r,i){n=n.render;var a=t.ref;return $g(t,i),r=tk(e,t,n,r,a,i),n=nk(),e!==null&&!mo?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,zd(e,t,i)):(mi&&n&&q4(t),t.flags|=1,Bs(e,t,r,i),t.child)}function SL(e,t,n,r,i){if(e===null){var a=n.type;return typeof a=="function"&&!fk(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,Qq(e,t,a,r,i)):(e=_2(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:Lx,n(o,r)&&e.ref===t.ref)return zd(e,t,i)}return t.flags|=1,e=lh(a,r),e.ref=t.ref,e.return=t,t.child=e}function Qq(e,t,n,r,i){if(e!==null){var a=e.memoizedProps;if(Lx(a,r)&&e.ref===t.ref)if(mo=!1,t.pendingProps=r=a,(e.lanes&i)!==0)e.flags&131072&&(mo=!0);else return t.lanes=e.lanes,zd(e,t,i)}return dC(e,t,n,r,i)}function Jq(e,t,n){var r=t.pendingProps,i=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Zr(wg,Ho),Ho|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Zr(wg,Ho),Ho|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,Zr(wg,Ho),Ho|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,Zr(wg,Ho),Ho|=r;return Bs(e,t,i,n),t.child}function eV(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function dC(e,t,n,r,i){var a=bo(n)?Gp:Ns.current;return a=yv(t,a),$g(t,i),n=tk(e,t,n,r,a,i),r=nk(),e!==null&&!mo?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,zd(e,t,i)):(mi&&r&&q4(t),t.flags|=1,Bs(e,t,n,i),t.child)}function AL(e,t,n,r,i){if(bo(n)){var a=!0;i_(t)}else a=!1;if($g(t,i),t.stateNode===null)x2(e,t),Zq(t,n,r),cC(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Kl(u):(u=bo(n)?Gp:Ns.current,u=yv(t,u));var f=n.getDerivedStateFromProps,h=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==u)&&bL(t,o,r,u),Ef=!1;var p=t.memoizedState;o.state=p,c_(t,r,o,i),c=t.memoizedState,l!==r||p!==c||xo.current||Ef?(typeof f=="function"&&(lC(t,n,f,r),c=t.memoizedState),(l=Ef||xL(t,n,l,r,p,c,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Cq(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:wc(t.type,l),o.props=u,h=t.pendingProps,p=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Kl(c):(c=bo(n)?Gp:Ns.current,c=yv(t,c));var m=n.getDerivedStateFromProps;(f=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||p!==c)&&bL(t,o,r,c),Ef=!1,p=t.memoizedState,o.state=p,c_(t,r,o,i);var x=t.memoizedState;l!==h||p!==x||xo.current||Ef?(typeof m=="function"&&(lC(t,n,m,r),x=t.memoizedState),(u=Ef||xL(t,n,u,r,p,x,c)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,x,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,x,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=x),o.props=r,o.state=x,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return fC(e,t,n,r,a,i)}function fC(e,t,n,r,i,a){eV(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&dL(t,n,!1),zd(e,t,a);r=t.stateNode,eoe.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=bv(t,e.child,null,a),t.child=bv(t,null,l,a)):Bs(e,t,l,a),t.memoizedState=r.state,i&&dL(t,n,!0),t.child}function tV(e){var t=e.stateNode;t.pendingContext?uL(e,t.pendingContext,t.pendingContext!==t.context):t.context&&uL(e,t.context,!1),Y4(e,t.containerInfo)}function PL(e,t,n,r,i){return xv(),W4(i),t.flags|=256,Bs(e,t,n,r),t.child}var hC={dehydrated:null,treeContext:null,retryLane:0};function pC(e){return{baseLanes:e,cachePool:null,transitions:null}}function nV(e,t,n){var r=t.pendingProps,i=ji.current,a=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Zr(ji,i&1),e===null)return sC(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,a?(r=t.mode,a=t.child,o={mode:"hidden",children:o},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=Aj(o,r,0,null),e=Up(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=pC(n),t.memoizedState=hC,e):ak(t,o));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return toe(e,t,o,r,l,i,n);if(a){a=r.fallback,o=t.mode,i=e.child,l=i.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=lh(i,c),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?a=lh(l,a):(a=Up(a,o,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,o=e.child.memoizedState,o=o===null?pC(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~n,t.memoizedState=hC,r}return a=e.child,e=a.sibling,r=lh(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function ak(e,t){return t=Aj({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Sw(e,t,n,r){return r!==null&&W4(r),bv(t,e.child,null,n),e=ak(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function toe(e,t,n,r,i,a,o){if(n)return t.flags&256?(t.flags&=-257,r=XS(Error(ht(422))),Sw(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Aj({mode:"visible",children:r.children},i,0,null),a=Up(a,i,o,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&bv(t,e.child,null,o),t.child.memoizedState=pC(o),t.memoizedState=hC,a);if(!(t.mode&1))return Sw(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,a=Error(ht(419)),r=XS(a,r,void 0),Sw(e,t,o,r)}if(l=(o&e.childLanes)!==0,mo||l){if(r=Fa,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Bd(e,i),Ic(r,e,i,-1))}return dk(),r=XS(Error(ht(421))),Sw(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=poe.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,Yo=ih(i.nextSibling),il=t,mi=!0,Ac=null,e!==null&&(Ll[Ml++]=Pd,Ll[Ml++]=Cd,Ll[Ml++]=Zp,Pd=e.id,Cd=e.overflow,Zp=t),t=ak(t,r.children),t.flags|=4096,t)}function CL(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),oC(e.return,t,n)}function YS(e,t,n,r,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function rV(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Bs(e,t,r.children,n),r=ji.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&CL(e,n,t);else if(e.tag===19)CL(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Zr(ji,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&u_(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),YS(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&u_(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}YS(t,!0,n,null,a);break;case"together":YS(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function x2(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function zd(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Yp|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ht(153));if(t.child!==null){for(e=t.child,n=lh(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=lh(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function noe(e,t,n){switch(t.tag){case 3:tV(t),xv();break;case 5:Eq(t);break;case 1:bo(t.type)&&i_(t);break;case 4:Y4(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Zr(o_,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Zr(ji,ji.current&1),t.flags|=128,null):n&t.child.childLanes?nV(e,t,n):(Zr(ji,ji.current&1),e=zd(e,t,n),e!==null?e.sibling:null);Zr(ji,ji.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return rV(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Zr(ji,ji.current),r)break;return null;case 22:case 23:return t.lanes=0,Jq(e,t,n)}return zd(e,t,n)}var iV,mC,aV,sV;iV=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};mC=function(){};aV=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,jp(Du.current);var a=null;switch(n){case"input":i=RP(e,i),r=RP(e,r),a=[];break;case"select":i=Pi({},i,{value:void 0}),r=Pi({},r,{value:void 0}),a=[];break;case"textarea":i=BP(e,i),r=BP(e,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=n_)}UP(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Px.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Px.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&ni("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};sV=function(e,t,n,r){n!==r&&(t.flags|=4)};function f0(e,t){if(!mi)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ps(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function roe(e,t,n){var r=t.pendingProps;switch(V4(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ps(t),null;case 1:return bo(t.type)&&r_(),ps(t),null;case 3:return r=t.stateNode,wv(),ci(xo),ci(Ns),J4(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(jw(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ac!==null&&(jC(Ac),Ac=null))),mC(e,t),ps(t),null;case 5:Q4(t);var i=jp(Fx.current);if(n=t.type,e!==null&&t.stateNode!=null)aV(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(ht(166));return ps(t),null}if(e=jp(Du.current),jw(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[Su]=t,r[Rx]=a,e=(t.mode&1)!==0,n){case"dialog":ni("cancel",r),ni("close",r);break;case"iframe":case"object":case"embed":ni("load",r);break;case"video":case"audio":for(i=0;i<D0.length;i++)ni(D0[i],r);break;case"source":ni("error",r);break;case"img":case"image":case"link":ni("error",r),ni("load",r);break;case"details":ni("toggle",r);break;case"input":RI(r,a),ni("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},ni("invalid",r);break;case"textarea":FI(r,a),ni("invalid",r)}UP(n,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?r.textContent!==l&&(a.suppressHydrationWarning!==!0&&_w(r.textContent,l,e),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&_w(r.textContent,l,e),i=["children",""+l]):Px.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&ni("scroll",r)}switch(n){case"input":pw(r),$I(r,a,!0);break;case"textarea":pw(r),BI(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=n_)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=LU(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Su]=t,e[Rx]=r,iV(e,t,!1,!1),t.stateNode=e;e:{switch(o=qP(n,r),n){case"dialog":ni("cancel",e),ni("close",e),i=r;break;case"iframe":case"object":case"embed":ni("load",e),i=r;break;case"video":case"audio":for(i=0;i<D0.length;i++)ni(D0[i],e);i=r;break;case"source":ni("error",e),i=r;break;case"img":case"image":case"link":ni("error",e),ni("load",e),i=r;break;case"details":ni("toggle",e),i=r;break;case"input":RI(e,r),i=RP(e,r),ni("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Pi({},r,{value:void 0}),ni("invalid",e);break;case"textarea":FI(e,r),i=BP(e,r),ni("invalid",e);break;default:i=r}UP(n,i),l=i;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?RU(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&MU(e,c)):a==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Cx(e,c):typeof c=="number"&&Cx(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Px.hasOwnProperty(a)?c!=null&&a==="onScroll"&&ni("scroll",e):c!=null&&E4(e,a,c,o))}switch(n){case"input":pw(e),$I(e,r,!1);break;case"textarea":pw(e),BI(e);break;case"option":r.value!=null&&e.setAttribute("value",""+gh(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?Lg(e,!!r.multiple,a,!1):r.defaultValue!=null&&Lg(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=n_)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ps(t),null;case 6:if(e&&t.stateNode!=null)sV(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(ht(166));if(n=jp(Fx.current),jp(Du.current),jw(t)){if(r=t.stateNode,n=t.memoizedProps,r[Su]=t,(a=r.nodeValue!==n)&&(e=il,e!==null))switch(e.tag){case 3:_w(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&_w(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Su]=t,t.stateNode=r}return ps(t),null;case 13:if(ci(ji),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(mi&&Yo!==null&&t.mode&1&&!(t.flags&128))Nq(),xv(),t.flags|=98560,a=!1;else if(a=jw(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(ht(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(ht(317));a[Su]=t}else xv(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ps(t),a=!1}else Ac!==null&&(jC(Ac),Ac=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ji.current&1?Na===0&&(Na=3):dk())),t.updateQueue!==null&&(t.flags|=4),ps(t),null);case 4:return wv(),mC(e,t),e===null&&Mx(t.stateNode.containerInfo),ps(t),null;case 10:return G4(t.type._context),ps(t),null;case 17:return bo(t.type)&&r_(),ps(t),null;case 19:if(ci(ji),a=t.memoizedState,a===null)return ps(t),null;if(r=(t.flags&128)!==0,o=a.rendering,o===null)if(r)f0(a,!1);else{if(Na!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=u_(e),o!==null){for(t.flags|=128,f0(a,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Zr(ji,ji.current&1|2),t.child}e=e.sibling}a.tail!==null&&Yi()>jv&&(t.flags|=128,r=!0,f0(a,!1),t.lanes=4194304)}else{if(!r)if(e=u_(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),f0(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!mi)return ps(t),null}else 2*Yi()-a.renderingStartTime>jv&&n!==1073741824&&(t.flags|=128,r=!0,f0(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(n=a.last,n!==null?n.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Yi(),t.sibling=null,n=ji.current,Zr(ji,r?n&1|2:n&1),t):(ps(t),null);case 22:case 23:return uk(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ho&1073741824&&(ps(t),t.subtreeFlags&6&&(t.flags|=8192)):ps(t),null;case 24:return null;case 25:return null}throw Error(ht(156,t.tag))}function ioe(e,t){switch(V4(t),t.tag){case 1:return bo(t.type)&&r_(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return wv(),ci(xo),ci(Ns),J4(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Q4(t),null;case 13:if(ci(ji),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ht(340));xv()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ci(ji),null;case 4:return wv(),null;case 10:return G4(t.type._context),null;case 22:case 23:return uk(),null;case 24:return null;default:return null}}var Aw=!1,ws=!1,aoe=typeof WeakSet=="function"?WeakSet:Set,Lt=null;function bg(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Di(e,t,r)}else n.current=null}function gC(e,t,n){try{n()}catch(r){Di(e,t,r)}}var EL=!1;function soe(e,t){if(JP=J2,e=dq(),U4(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,u=0,f=0,h=e,p=null;t:for(;;){for(var m;h!==n||i!==0&&h.nodeType!==3||(l=o+i),h!==a||r!==0&&h.nodeType!==3||(c=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)p=h,h=m;for(;;){if(h===e)break t;if(p===n&&++u===i&&(l=o),p===a&&++f===r&&(c=o),(m=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=m}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(eC={focusedElem:e,selectionRange:n},J2=!1,Lt=t;Lt!==null;)if(t=Lt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Lt=e;else for(;Lt!==null;){t=Lt;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var v=x.memoizedProps,y=x.memoizedState,b=t.stateNode,w=b.getSnapshotBeforeUpdate(t.elementType===t.type?v:wc(t.type,v),y);b.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var j=t.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ht(163))}}catch(P){Di(t,t.return,P)}if(e=t.sibling,e!==null){e.return=t.return,Lt=e;break}Lt=t.return}return x=EL,EL=!1,x}function Z0(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&gC(t,n,a)}i=i.next}while(i!==r)}}function Nj(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function vC(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function oV(e){var t=e.alternate;t!==null&&(e.alternate=null,oV(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Su],delete t[Rx],delete t[rC],delete t[Use],delete t[qse])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function lV(e){return e.tag===5||e.tag===3||e.tag===4}function OL(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||lV(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function yC(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=n_));else if(r!==4&&(e=e.child,e!==null))for(yC(e,t,n),e=e.sibling;e!==null;)yC(e,t,n),e=e.sibling}function xC(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(xC(e,t,n),e=e.sibling;e!==null;)xC(e,t,n),e=e.sibling}var ns=null,jc=!1;function xf(e,t,n){for(n=n.child;n!==null;)cV(e,t,n),n=n.sibling}function cV(e,t,n){if(Mu&&typeof Mu.onCommitFiberUnmount=="function")try{Mu.onCommitFiberUnmount(gj,n)}catch{}switch(n.tag){case 5:ws||bg(n,t);case 6:var r=ns,i=jc;ns=null,xf(e,t,n),ns=r,jc=i,ns!==null&&(jc?(e=ns,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ns.removeChild(n.stateNode));break;case 18:ns!==null&&(jc?(e=ns,n=n.stateNode,e.nodeType===8?VS(e.parentNode,n):e.nodeType===1&&VS(e,n),Tx(e)):VS(ns,n.stateNode));break;case 4:r=ns,i=jc,ns=n.stateNode.containerInfo,jc=!0,xf(e,t,n),ns=r,jc=i;break;case 0:case 11:case 14:case 15:if(!ws&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&gC(n,t,o),i=i.next}while(i!==r)}xf(e,t,n);break;case 1:if(!ws&&(bg(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Di(n,t,l)}xf(e,t,n);break;case 21:xf(e,t,n);break;case 22:n.mode&1?(ws=(r=ws)||n.memoizedState!==null,xf(e,t,n),ws=r):xf(e,t,n);break;default:xf(e,t,n)}}function kL(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new aoe),t.forEach(function(r){var i=moe.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function gc(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:ns=l.stateNode,jc=!1;break e;case 3:ns=l.stateNode.containerInfo,jc=!0;break e;case 4:ns=l.stateNode.containerInfo,jc=!0;break e}l=l.return}if(ns===null)throw Error(ht(160));cV(a,o,i),ns=null,jc=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){Di(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)uV(t,e),t=t.sibling}function uV(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gc(t,e),mu(e),r&4){try{Z0(3,e,e.return),Nj(3,e)}catch(v){Di(e,e.return,v)}try{Z0(5,e,e.return)}catch(v){Di(e,e.return,v)}}break;case 1:gc(t,e),mu(e),r&512&&n!==null&&bg(n,n.return);break;case 5:if(gc(t,e),mu(e),r&512&&n!==null&&bg(n,n.return),e.flags&32){var i=e.stateNode;try{Cx(i,"")}catch(v){Di(e,e.return,v)}}if(r&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,o=n!==null?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&TU(i,a),qP(l,o);var u=qP(l,a);for(o=0;o<c.length;o+=2){var f=c[o],h=c[o+1];f==="style"?RU(i,h):f==="dangerouslySetInnerHTML"?MU(i,h):f==="children"?Cx(i,h):E4(i,f,h,u)}switch(l){case"input":$P(i,a);break;case"textarea":IU(i,a);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var m=a.value;m!=null?Lg(i,!!a.multiple,m,!1):p!==!!a.multiple&&(a.defaultValue!=null?Lg(i,!!a.multiple,a.defaultValue,!0):Lg(i,!!a.multiple,a.multiple?[]:"",!1))}i[Rx]=a}catch(v){Di(e,e.return,v)}}break;case 6:if(gc(t,e),mu(e),r&4){if(e.stateNode===null)throw Error(ht(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(v){Di(e,e.return,v)}}break;case 3:if(gc(t,e),mu(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Tx(t.containerInfo)}catch(v){Di(e,e.return,v)}break;case 4:gc(t,e),mu(e);break;case 13:gc(t,e),mu(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(lk=Yi())),r&4&&kL(e);break;case 22:if(f=n!==null&&n.memoizedState!==null,e.mode&1?(ws=(u=ws)||f,gc(t,e),ws=u):gc(t,e),mu(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!f&&e.mode&1)for(Lt=e,f=e.child;f!==null;){for(h=Lt=f;Lt!==null;){switch(p=Lt,m=p.child,p.tag){case 0:case 11:case 14:case 15:Z0(4,p,p.return);break;case 1:bg(p,p.return);var x=p.stateNode;if(typeof x.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(v){Di(r,n,v)}}break;case 5:bg(p,p.return);break;case 22:if(p.memoizedState!==null){IL(h);continue}}m!==null?(m.return=p,Lt=m):IL(h)}f=f.sibling}e:for(f=null,h=e;;){if(h.tag===5){if(f===null){f=h;try{i=h.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=DU("display",o))}catch(v){Di(e,e.return,v)}}}else if(h.tag===6){if(f===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(v){Di(e,e.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:gc(t,e),mu(e),r&4&&kL(e);break;case 21:break;default:gc(t,e),mu(e)}}function mu(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(lV(n)){var r=n;break e}n=n.return}throw Error(ht(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Cx(i,""),r.flags&=-33);var a=OL(e);xC(e,a,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=OL(e);yC(e,l,o);break;default:throw Error(ht(161))}}catch(c){Di(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ooe(e,t,n){Lt=e,dV(e)}function dV(e,t,n){for(var r=(e.mode&1)!==0;Lt!==null;){var i=Lt,a=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Aw;if(!o){var l=i.alternate,c=l!==null&&l.memoizedState!==null||ws;l=Aw;var u=ws;if(Aw=o,(ws=c)&&!u)for(Lt=i;Lt!==null;)o=Lt,c=o.child,o.tag===22&&o.memoizedState!==null?LL(i):c!==null?(c.return=o,Lt=c):LL(i);for(;a!==null;)Lt=a,dV(a),a=a.sibling;Lt=i,Aw=l,ws=u}TL(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,Lt=a):TL(e)}}function TL(e){for(;Lt!==null;){var t=Lt;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ws||Nj(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!ws)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:wc(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&gL(t,a,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}gL(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var h=f.dehydrated;h!==null&&Tx(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ht(163))}ws||t.flags&512&&vC(t)}catch(p){Di(t,t.return,p)}}if(t===e){Lt=null;break}if(n=t.sibling,n!==null){n.return=t.return,Lt=n;break}Lt=t.return}}function IL(e){for(;Lt!==null;){var t=Lt;if(t===e){Lt=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Lt=n;break}Lt=t.return}}function LL(e){for(;Lt!==null;){var t=Lt;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Nj(4,t)}catch(c){Di(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(c){Di(t,i,c)}}var a=t.return;try{vC(t)}catch(c){Di(t,a,c)}break;case 5:var o=t.return;try{vC(t)}catch(c){Di(t,o,c)}}}catch(c){Di(t,t.return,c)}if(t===e){Lt=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Lt=l;break}Lt=t.return}}var loe=Math.ceil,h_=Zd.ReactCurrentDispatcher,sk=Zd.ReactCurrentOwner,Ul=Zd.ReactCurrentBatchConfig,ur=0,Fa=null,ca=null,is=0,Ho=0,wg=Lh(0),Na=0,qx=null,Yp=0,Sj=0,ok=0,X0=null,po=null,lk=0,jv=1/0,bd=null,p_=!1,bC=null,sh=null,Pw=!1,Gf=null,m_=0,Y0=0,wC=null,b2=-1,w2=0;function Zs(){return ur&6?Yi():b2!==-1?b2:b2=Yi()}function oh(e){return e.mode&1?ur&2&&is!==0?is&-is:Wse.transition!==null?(w2===0&&(w2=ZU()),w2):(e=Mr,e!==0||(e=window.event,e=e===void 0?16:nq(e.type)),e):1}function Ic(e,t,n,r){if(50<Y0)throw Y0=0,wC=null,Error(ht(185));ob(e,n,r),(!(ur&2)||e!==Fa)&&(e===Fa&&(!(ur&2)&&(Sj|=n),Na===4&&Lf(e,is)),wo(e,r),n===1&&ur===0&&!(t.mode&1)&&(jv=Yi()+500,wj&&Mh()))}function wo(e,t){var n=e.callbackNode;Wae(e,t);var r=Q2(e,e===Fa?is:0);if(r===0)n!==null&&qI(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&qI(n),t===1)e.tag===0?Vse(ML.bind(null,e)):wq(ML.bind(null,e)),Bse(function(){!(ur&6)&&Mh()}),n=null;else{switch(XU(r)){case 1:n=L4;break;case 4:n=KU;break;case 16:n=Y2;break;case 536870912:n=GU;break;default:n=Y2}n=xV(n,fV.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function fV(e,t){if(b2=-1,w2=0,ur&6)throw Error(ht(327));var n=e.callbackNode;if(Fg()&&e.callbackNode!==n)return null;var r=Q2(e,e===Fa?is:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=g_(e,r);else{t=r;var i=ur;ur|=2;var a=pV();(Fa!==e||is!==t)&&(bd=null,jv=Yi()+500,zp(e,t));do try{doe();break}catch(l){hV(e,l)}while(!0);K4(),h_.current=a,ur=i,ca!==null?t=0:(Fa=null,is=0,t=Na)}if(t!==0){if(t===2&&(i=GP(e),i!==0&&(r=i,t=_C(e,i))),t===1)throw n=qx,zp(e,0),Lf(e,r),wo(e,Yi()),n;if(t===6)Lf(e,r);else{if(i=e.current.alternate,!(r&30)&&!coe(i)&&(t=g_(e,r),t===2&&(a=GP(e),a!==0&&(r=a,t=_C(e,a))),t===1))throw n=qx,zp(e,0),Lf(e,r),wo(e,Yi()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(ht(345));case 2:fp(e,po,bd);break;case 3:if(Lf(e,r),(r&130023424)===r&&(t=lk+500-Yi(),10<t)){if(Q2(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Zs(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=nC(fp.bind(null,e,po,bd),t);break}fp(e,po,bd);break;case 4:if(Lf(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-Tc(r);a=1<<o,o=t[o],o>i&&(i=o),r&=~a}if(r=i,r=Yi()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*loe(r/1960))-r,10<r){e.timeoutHandle=nC(fp.bind(null,e,po,bd),r);break}fp(e,po,bd);break;case 5:fp(e,po,bd);break;default:throw Error(ht(329))}}}return wo(e,Yi()),e.callbackNode===n?fV.bind(null,e):null}function _C(e,t){var n=X0;return e.current.memoizedState.isDehydrated&&(zp(e,t).flags|=256),e=g_(e,t),e!==2&&(t=po,po=n,t!==null&&jC(t)),e}function jC(e){po===null?po=e:po.push.apply(po,e)}function coe(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Fc(a(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Lf(e,t){for(t&=~ok,t&=~Sj,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Tc(t),r=1<<n;e[n]=-1,t&=~r}}function ML(e){if(ur&6)throw Error(ht(327));Fg();var t=Q2(e,0);if(!(t&1))return wo(e,Yi()),null;var n=g_(e,t);if(e.tag!==0&&n===2){var r=GP(e);r!==0&&(t=r,n=_C(e,r))}if(n===1)throw n=qx,zp(e,0),Lf(e,t),wo(e,Yi()),n;if(n===6)throw Error(ht(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,fp(e,po,bd),wo(e,Yi()),null}function ck(e,t){var n=ur;ur|=1;try{return e(t)}finally{ur=n,ur===0&&(jv=Yi()+500,wj&&Mh())}}function Qp(e){Gf!==null&&Gf.tag===0&&!(ur&6)&&Fg();var t=ur;ur|=1;var n=Ul.transition,r=Mr;try{if(Ul.transition=null,Mr=1,e)return e()}finally{Mr=r,Ul.transition=n,ur=t,!(ur&6)&&Mh()}}function uk(){Ho=wg.current,ci(wg)}function zp(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Fse(n)),ca!==null)for(n=ca.return;n!==null;){var r=n;switch(V4(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&r_();break;case 3:wv(),ci(xo),ci(Ns),J4();break;case 5:Q4(r);break;case 4:wv();break;case 13:ci(ji);break;case 19:ci(ji);break;case 10:G4(r.type._context);break;case 22:case 23:uk()}n=n.return}if(Fa=e,ca=e=lh(e.current,null),is=Ho=t,Na=0,qx=null,ok=Sj=Yp=0,po=X0=null,_p!==null){for(t=0;t<_p.length;t++)if(n=_p[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var o=a.next;a.next=i,r.next=o}n.pending=r}_p=null}return e}function hV(e,t){do{var n=ca;try{if(K4(),v2.current=f_,d_){for(var r=Ai.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}d_=!1}if(Xp=0,ka=wa=Ai=null,G0=!1,Bx=0,sk.current=null,n===null||n.return===null){Na=1,qx=t,ca=null;break}e:{var a=e,o=n.return,l=n,c=t;if(t=is,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,f=l,h=f.tag;if(!(f.mode&1)&&(h===0||h===11||h===15)){var p=f.alternate;p?(f.updateQueue=p.updateQueue,f.memoizedState=p.memoizedState,f.lanes=p.lanes):(f.updateQueue=null,f.memoizedState=null)}var m=_L(o);if(m!==null){m.flags&=-257,jL(m,o,l,a,t),m.mode&1&&wL(a,u,t),t=m,c=u;var x=t.updateQueue;if(x===null){var v=new Set;v.add(c),t.updateQueue=v}else x.add(c);break e}else{if(!(t&1)){wL(a,u,t),dk();break e}c=Error(ht(426))}}else if(mi&&l.mode&1){var y=_L(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),jL(y,o,l,a,t),W4(_v(c,l));break e}}a=c=_v(c,l),Na!==4&&(Na=2),X0===null?X0=[a]:X0.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var b=Xq(a,c,t);mL(a,b);break e;case 1:l=c;var w=a.type,j=a.stateNode;if(!(a.flags&128)&&(typeof w.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(sh===null||!sh.has(j)))){a.flags|=65536,t&=-t,a.lanes|=t;var P=Yq(a,l,t);mL(a,P);break e}}a=a.return}while(a!==null)}gV(n)}catch(A){t=A,ca===n&&n!==null&&(ca=n=n.return);continue}break}while(!0)}function pV(){var e=h_.current;return h_.current=f_,e===null?f_:e}function dk(){(Na===0||Na===3||Na===2)&&(Na=4),Fa===null||!(Yp&268435455)&&!(Sj&268435455)||Lf(Fa,is)}function g_(e,t){var n=ur;ur|=2;var r=pV();(Fa!==e||is!==t)&&(bd=null,zp(e,t));do try{uoe();break}catch(i){hV(e,i)}while(!0);if(K4(),ur=n,h_.current=r,ca!==null)throw Error(ht(261));return Fa=null,is=0,Na}function uoe(){for(;ca!==null;)mV(ca)}function doe(){for(;ca!==null&&!Dae();)mV(ca)}function mV(e){var t=yV(e.alternate,e,Ho);e.memoizedProps=e.pendingProps,t===null?gV(e):ca=t,sk.current=null}function gV(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=ioe(n,t),n!==null){n.flags&=32767,ca=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Na=6,ca=null;return}}else if(n=roe(n,t,Ho),n!==null){ca=n;return}if(t=t.sibling,t!==null){ca=t;return}ca=t=e}while(t!==null);Na===0&&(Na=5)}function fp(e,t,n){var r=Mr,i=Ul.transition;try{Ul.transition=null,Mr=1,foe(e,t,n,r)}finally{Ul.transition=i,Mr=r}return null}function foe(e,t,n,r){do Fg();while(Gf!==null);if(ur&6)throw Error(ht(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(ht(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(Hae(e,a),e===Fa&&(ca=Fa=null,is=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Pw||(Pw=!0,xV(Y2,function(){return Fg(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=Ul.transition,Ul.transition=null;var o=Mr;Mr=1;var l=ur;ur|=4,sk.current=null,soe(e,n),uV(n,e),Tse(eC),J2=!!JP,eC=JP=null,e.current=n,ooe(n),Rae(),ur=l,Mr=o,Ul.transition=a}else e.current=n;if(Pw&&(Pw=!1,Gf=e,m_=i),a=e.pendingLanes,a===0&&(sh=null),Bae(n.stateNode),wo(e,Yi()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(p_)throw p_=!1,e=bC,bC=null,e;return m_&1&&e.tag!==0&&Fg(),a=e.pendingLanes,a&1?e===wC?Y0++:(Y0=0,wC=e):Y0=0,Mh(),null}function Fg(){if(Gf!==null){var e=XU(m_),t=Ul.transition,n=Mr;try{if(Ul.transition=null,Mr=16>e?16:e,Gf===null)var r=!1;else{if(e=Gf,Gf=null,m_=0,ur&6)throw Error(ht(331));var i=ur;for(ur|=4,Lt=e.current;Lt!==null;){var a=Lt,o=a.child;if(Lt.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(Lt=u;Lt!==null;){var f=Lt;switch(f.tag){case 0:case 11:case 15:Z0(8,f,a)}var h=f.child;if(h!==null)h.return=f,Lt=h;else for(;Lt!==null;){f=Lt;var p=f.sibling,m=f.return;if(oV(f),f===u){Lt=null;break}if(p!==null){p.return=m,Lt=p;break}Lt=m}}}var x=a.alternate;if(x!==null){var v=x.child;if(v!==null){x.child=null;do{var y=v.sibling;v.sibling=null,v=y}while(v!==null)}}Lt=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,Lt=o;else e:for(;Lt!==null;){if(a=Lt,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Z0(9,a,a.return)}var b=a.sibling;if(b!==null){b.return=a.return,Lt=b;break e}Lt=a.return}}var w=e.current;for(Lt=w;Lt!==null;){o=Lt;var j=o.child;if(o.subtreeFlags&2064&&j!==null)j.return=o,Lt=j;else e:for(o=w;Lt!==null;){if(l=Lt,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Nj(9,l)}}catch(A){Di(l,l.return,A)}if(l===o){Lt=null;break e}var P=l.sibling;if(P!==null){P.return=l.return,Lt=P;break e}Lt=l.return}}if(ur=i,Mh(),Mu&&typeof Mu.onPostCommitFiberRoot=="function")try{Mu.onPostCommitFiberRoot(gj,e)}catch{}r=!0}return r}finally{Mr=n,Ul.transition=t}}return!1}function DL(e,t,n){t=_v(n,t),t=Xq(e,t,1),e=ah(e,t,1),t=Zs(),e!==null&&(ob(e,1,t),wo(e,t))}function Di(e,t,n){if(e.tag===3)DL(e,e,n);else for(;t!==null;){if(t.tag===3){DL(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(sh===null||!sh.has(r))){e=_v(n,e),e=Yq(t,e,1),t=ah(t,e,1),e=Zs(),t!==null&&(ob(t,1,e),wo(t,e));break}}t=t.return}}function hoe(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Zs(),e.pingedLanes|=e.suspendedLanes&n,Fa===e&&(is&n)===n&&(Na===4||Na===3&&(is&130023424)===is&&500>Yi()-lk?zp(e,0):ok|=n),wo(e,t)}function vV(e,t){t===0&&(e.mode&1?(t=vw,vw<<=1,!(vw&130023424)&&(vw=4194304)):t=1);var n=Zs();e=Bd(e,t),e!==null&&(ob(e,t,n),wo(e,n))}function poe(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),vV(e,n)}function moe(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(ht(314))}r!==null&&r.delete(t),vV(e,n)}var yV;yV=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||xo.current)mo=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return mo=!1,noe(e,t,n);mo=!!(e.flags&131072)}else mo=!1,mi&&t.flags&1048576&&_q(t,s_,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;x2(e,t),e=t.pendingProps;var i=yv(t,Ns.current);$g(t,n),i=tk(null,t,r,e,i,n);var a=nk();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,bo(r)?(a=!0,i_(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,X4(t),i.updater=jj,t.stateNode=i,i._reactInternals=t,cC(t,r,e,n),t=fC(null,t,r,!0,a,n)):(t.tag=0,mi&&a&&q4(t),Bs(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(x2(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=voe(r),e=wc(r,e),i){case 0:t=dC(null,t,r,e,n);break e;case 1:t=AL(null,t,r,e,n);break e;case 11:t=NL(null,t,r,e,n);break e;case 14:t=SL(null,t,r,wc(r.type,e),n);break e}throw Error(ht(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:wc(r,i),dC(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:wc(r,i),AL(e,t,r,i,n);case 3:e:{if(tV(t),e===null)throw Error(ht(387));r=t.pendingProps,a=t.memoizedState,i=a.element,Cq(e,t),c_(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=_v(Error(ht(423)),t),t=PL(e,t,r,n,i);break e}else if(r!==i){i=_v(Error(ht(424)),t),t=PL(e,t,r,n,i);break e}else for(Yo=ih(t.stateNode.containerInfo.firstChild),il=t,mi=!0,Ac=null,n=Aq(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(xv(),r===i){t=zd(e,t,n);break e}Bs(e,t,r,n)}t=t.child}return t;case 5:return Eq(t),e===null&&sC(t),r=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,o=i.children,tC(r,i)?o=null:a!==null&&tC(r,a)&&(t.flags|=32),eV(e,t),Bs(e,t,o,n),t.child;case 6:return e===null&&sC(t),null;case 13:return nV(e,t,n);case 4:return Y4(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=bv(t,null,r,n):Bs(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:wc(r,i),NL(e,t,r,i,n);case 7:return Bs(e,t,t.pendingProps,n),t.child;case 8:return Bs(e,t,t.pendingProps.children,n),t.child;case 12:return Bs(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,Zr(o_,r._currentValue),r._currentValue=o,a!==null)if(Fc(a.value,o)){if(a.children===i.children&&!xo.current){t=zd(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(a.tag===1){c=Td(-1,n&-n),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?c.next=c:(c.next=f.next,f.next=c),u.pending=c}}a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),oC(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(ht(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),oC(o,n,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}Bs(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,$g(t,n),i=Kl(i),r=r(i),t.flags|=1,Bs(e,t,r,n),t.child;case 14:return r=t.type,i=wc(r,t.pendingProps),i=wc(r.type,i),SL(e,t,r,i,n);case 15:return Qq(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:wc(r,i),x2(e,t),t.tag=1,bo(r)?(e=!0,i_(t)):e=!1,$g(t,n),Zq(t,r,i),cC(t,r,i,n),fC(null,t,r,!0,e,n);case 19:return rV(e,t,n);case 22:return Jq(e,t,n)}throw Error(ht(156,t.tag))};function xV(e,t){return HU(e,t)}function goe(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fl(e,t,n,r){return new goe(e,t,n,r)}function fk(e){return e=e.prototype,!(!e||!e.isReactComponent)}function voe(e){if(typeof e=="function")return fk(e)?1:0;if(e!=null){if(e=e.$$typeof,e===k4)return 11;if(e===T4)return 14}return 2}function lh(e,t){var n=e.alternate;return n===null?(n=Fl(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function _2(e,t,n,r,i,a){var o=2;if(r=e,typeof e=="function")fk(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case dg:return Up(n.children,i,a,t);case O4:o=8,i|=8;break;case IP:return e=Fl(12,n,t,i|2),e.elementType=IP,e.lanes=a,e;case LP:return e=Fl(13,n,t,i),e.elementType=LP,e.lanes=a,e;case MP:return e=Fl(19,n,t,i),e.elementType=MP,e.lanes=a,e;case EU:return Aj(n,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case PU:o=10;break e;case CU:o=9;break e;case k4:o=11;break e;case T4:o=14;break e;case Cf:o=16,r=null;break e}throw Error(ht(130,e==null?e:typeof e,""))}return t=Fl(o,n,t,i),t.elementType=e,t.type=r,t.lanes=a,t}function Up(e,t,n,r){return e=Fl(7,e,r,t),e.lanes=n,e}function Aj(e,t,n,r){return e=Fl(22,e,r,t),e.elementType=EU,e.lanes=n,e.stateNode={isHidden:!1},e}function QS(e,t,n){return e=Fl(6,e,null,t),e.lanes=n,e}function JS(e,t,n){return t=Fl(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function yoe(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=IS(0),this.expirationTimes=IS(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=IS(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function hk(e,t,n,r,i,a,o,l,c){return e=new yoe(e,t,n,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Fl(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},X4(a),e}function xoe(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ug,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function bV(e){if(!e)return vh;e=e._reactInternals;e:{if(wm(e)!==e||e.tag!==1)throw Error(ht(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(bo(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ht(171))}if(e.tag===1){var n=e.type;if(bo(n))return bq(e,n,t)}return t}function wV(e,t,n,r,i,a,o,l,c){return e=hk(n,r,!0,e,i,a,o,l,c),e.context=bV(null),n=e.current,r=Zs(),i=oh(n),a=Td(r,i),a.callback=t??null,ah(n,a,i),e.current.lanes=i,ob(e,i,r),wo(e,r),e}function Pj(e,t,n,r){var i=t.current,a=Zs(),o=oh(i);return n=bV(n),t.context===null?t.context=n:t.pendingContext=n,t=Td(a,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=ah(i,t,o),e!==null&&(Ic(e,i,o,a),g2(e,i,o)),o}function v_(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function RL(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function pk(e,t){RL(e,t),(e=e.alternate)&&RL(e,t)}function boe(){return null}var _V=typeof reportError=="function"?reportError:function(e){console.error(e)};function mk(e){this._internalRoot=e}Cj.prototype.render=mk.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ht(409));Pj(e,t,null,null)};Cj.prototype.unmount=mk.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Qp(function(){Pj(null,e,null,null)}),t[Fd]=null}};function Cj(e){this._internalRoot=e}Cj.prototype.unstable_scheduleHydration=function(e){if(e){var t=JU();e={blockedOn:null,target:e,priority:t};for(var n=0;n<If.length&&t!==0&&t<If[n].priority;n++);If.splice(n,0,e),n===0&&tq(e)}};function gk(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ej(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function $L(){}function woe(e,t,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var u=v_(o);a.call(u)}}var o=wV(t,r,e,0,null,!1,!1,"",$L);return e._reactRootContainer=o,e[Fd]=o.current,Mx(e.nodeType===8?e.parentNode:e),Qp(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var u=v_(c);l.call(u)}}var c=hk(e,0,!1,null,null,!1,!1,"",$L);return e._reactRootContainer=c,e[Fd]=c.current,Mx(e.nodeType===8?e.parentNode:e),Qp(function(){Pj(t,c,n,r)}),c}function Oj(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var l=i;i=function(){var c=v_(o);l.call(c)}}Pj(t,o,e,i)}else o=woe(n,t,e,i,r);return v_(o)}YU=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=M0(t.pendingLanes);n!==0&&(M4(t,n|1),wo(t,Yi()),!(ur&6)&&(jv=Yi()+500,Mh()))}break;case 13:Qp(function(){var r=Bd(e,1);if(r!==null){var i=Zs();Ic(r,e,1,i)}}),pk(e,1)}};D4=function(e){if(e.tag===13){var t=Bd(e,134217728);if(t!==null){var n=Zs();Ic(t,e,134217728,n)}pk(e,134217728)}};QU=function(e){if(e.tag===13){var t=oh(e),n=Bd(e,t);if(n!==null){var r=Zs();Ic(n,e,t,r)}pk(e,t)}};JU=function(){return Mr};eq=function(e,t){var n=Mr;try{return Mr=e,t()}finally{Mr=n}};WP=function(e,t,n){switch(t){case"input":if($P(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=bj(r);if(!i)throw Error(ht(90));kU(r),$P(r,i)}}}break;case"textarea":IU(e,n);break;case"select":t=n.value,t!=null&&Lg(e,!!n.multiple,t,!1)}};BU=ck;zU=Qp;var _oe={usingClientEntryPoint:!1,Events:[cb,mg,bj,$U,FU,ck]},h0={findFiberByHostInstance:wp,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},joe={bundleType:h0.bundleType,version:h0.version,rendererPackageName:h0.rendererPackageName,rendererConfig:h0.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Zd.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=VU(e),e===null?null:e.stateNode},findFiberByHostInstance:h0.findFiberByHostInstance||boe,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cw=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cw.isDisabled&&Cw.supportsFiber)try{gj=Cw.inject(joe),Mu=Cw}catch{}}ul.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_oe;ul.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!gk(t))throw Error(ht(200));return xoe(e,t,null,n)};ul.createRoot=function(e,t){if(!gk(e))throw Error(ht(299));var n=!1,r="",i=_V;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=hk(e,1,!1,null,null,n,!1,r,i),e[Fd]=t.current,Mx(e.nodeType===8?e.parentNode:e),new mk(t)};ul.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ht(188)):(e=Object.keys(e).join(","),Error(ht(268,e)));return e=VU(t),e=e===null?null:e.stateNode,e};ul.flushSync=function(e){return Qp(e)};ul.hydrate=function(e,t,n){if(!Ej(t))throw Error(ht(200));return Oj(null,e,t,!0,n)};ul.hydrateRoot=function(e,t,n){if(!gk(e))throw Error(ht(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",o=_V;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=wV(t,null,e,1,n??null,i,!1,a,o),e[Fd]=t.current,Mx(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Cj(t)};ul.render=function(e,t,n){if(!Ej(t))throw Error(ht(200));return Oj(null,e,t,!1,n)};ul.unmountComponentAtNode=function(e){if(!Ej(e))throw Error(ht(40));return e._reactRootContainer?(Qp(function(){Oj(null,null,e,!1,function(){e._reactRootContainer=null,e[Fd]=null})}),!0):!1};ul.unstable_batchedUpdates=ck;ul.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ej(n))throw Error(ht(200));if(e==null||e._reactInternals===void 0)throw Error(ht(38));return Oj(e,t,n,!1,r)};ul.version="18.3.1-next-f1338f8080-20240426";function jV(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(jV)}catch(e){console.error(e)}}jV(),jU.exports=ul;var Qo=jU.exports;const Noe=jr(Qo);var NV,FL=Qo;NV=FL.createRoot,FL.hydrateRoot;function Soe(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var n,r,i,a,o=[],l="",c=e.split("/");for(c[0]||c.shift();i=c.shift();)n=i[0],n==="*"?(o.push(n),l+=i[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=i.indexOf("?",1),a=i.indexOf(".",1),o.push(i.substring(1,~r?r:~a?a:i.length)),l+=~r&&!~a?"(?:/([^/]+?))?":"/([^/]+?)",~a&&(l+=(~r?"?":"")+"\\"+i.substring(a))):l+="/"+i;return{keys:o,pattern:new RegExp("^"+l+(t?"(?=$|/)":"/?$"),"i")}}var SV={exports:{}},AV={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nv=N;function Aoe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Poe=typeof Object.is=="function"?Object.is:Aoe,Coe=Nv.useState,Eoe=Nv.useEffect,Ooe=Nv.useLayoutEffect,koe=Nv.useDebugValue;function Toe(e,t){var n=t(),r=Coe({inst:{value:n,getSnapshot:t}}),i=r[0].inst,a=r[1];return Ooe(function(){i.value=n,i.getSnapshot=t,eA(i)&&a({inst:i})},[e,n,t]),Eoe(function(){return eA(i)&&a({inst:i}),e(function(){eA(i)&&a({inst:i})})},[e]),koe(n),n}function eA(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Poe(e,n)}catch{return!0}}function Ioe(e,t){return t()}var Loe=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Ioe:Toe;AV.useSyncExternalStore=Nv.useSyncExternalStore!==void 0?Nv.useSyncExternalStore:Loe;SV.exports=AV;var Moe=SV.exports;const Doe=wU.useInsertionEffect,Roe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",$oe=Roe?N.useLayoutEffect:N.useEffect,Foe=Doe||$oe,PV=e=>{const t=N.useRef([e,(...n)=>t[0](...n)]).current;return Foe(()=>{t[0]=e}),t[1]},Boe="popstate",vk="pushState",yk="replaceState",zoe="hashchange",BL=[Boe,vk,yk,zoe],Uoe=e=>{for(const t of BL)addEventListener(t,e);return()=>{for(const t of BL)removeEventListener(t,e)}},CV=(e,t)=>Moe.useSyncExternalStore(Uoe,e,t),qoe=()=>location.search,Voe=({ssrSearch:e=""}={})=>CV(qoe,()=>e),zL=()=>location.pathname,Woe=({ssrPath:e}={})=>CV(zL,e?()=>e:zL),Hoe=(e,{replace:t=!1,state:n=null}={})=>history[t?yk:vk](n,"",e),Koe=(e={})=>[Woe(e),Hoe],UL=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[UL]>"u"){for(const e of[vk,yk]){const t=history[e];history[e]=function(){const n=t.apply(this,arguments),r=new Event(e);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,UL,{value:!0})}const Goe=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",EV=(e="")=>e==="/"?"":e,Zoe=(e,t)=>e[0]==="~"?e.slice(1):EV(t)+e,Xoe=(e="",t)=>Goe(qL(EV(e)),qL(t)),qL=e=>{try{return decodeURI(e)}catch{return e}},OV={hook:Koe,searchHook:Voe,parser:Soe,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:e=>e},kV=N.createContext(OV),db=()=>N.useContext(kV),TV={},IV=N.createContext(TV),LV=()=>N.useContext(IV),kj=e=>{const[t,n]=e.hook(e);return[Xoe(e.base,t),PV((r,i)=>n(Zoe(r,e.base),i))]},Gc=()=>kj(db()),MV=(e,t,n,r)=>{const{pattern:i,keys:a}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",r),o=i.exec(n)||[],[l,...c]=o;return l!==void 0?[!0,(()=>{const u=a!==!1?Object.fromEntries(a.map((h,p)=>[h,c[p]])):o.groups;let f={...c};return u&&Object.assign(f,u),f})(),...r?[l]:[]]:[!1,null]},Yoe=({children:e,...t})=>{var f,h;const n=db(),r=t.hook?OV:n;let i=r;const[a,o]=((f=t.ssrPath)==null?void 0:f.split("?"))??[];o&&(t.ssrSearch=o,t.ssrPath=a),t.hrefs=t.hrefs??((h=t.hook)==null?void 0:h.hrefs);let l=N.useRef({}),c=l.current,u=c;for(let p in r){const m=p==="base"?r[p]+(t[p]||""):t[p]||r[p];c===u&&m!==u[p]&&(l.current=u={...u}),u[p]=m,m!==r[p]&&(i=u)}return N.createElement(kV.Provider,{value:i,children:e})},VL=({children:e,component:t},n)=>t?N.createElement(t,{params:n}):typeof e=="function"?e(n):e,Qoe=e=>{let t=N.useRef(TV),n=t.current;for(const r in e)e[r]!==n[r]&&(n=e);return Object.keys(e).length===0&&(n=e),t.current=n},Ms=({path:e,nest:t,match:n,...r})=>{const i=db(),[a]=kj(i),[o,l,c]=n??MV(i.parser,e,a,t),u=Qoe({...LV(),...l});if(!o)return null;const f=c?N.createElement(Yoe,{base:c},VL(r,u)):VL(r,u);return N.createElement(IV.Provider,{value:u,children:f})},Np=N.forwardRef((e,t)=>{const n=db(),[r,i]=kj(n),{to:a="",href:o=a,onClick:l,asChild:c,children:u,className:f,replace:h,state:p,...m}=e,x=PV(y=>{y.ctrlKey||y.metaKey||y.altKey||y.shiftKey||y.button!==0||(l==null||l(y),y.defaultPrevented||(y.preventDefault(),i(o,e)))}),v=n.hrefs(o[0]==="~"?o.slice(1):n.base+o,n);return c&&N.isValidElement(u)?N.cloneElement(u,{onClick:x,href:v}):N.createElement("a",{...m,onClick:x,href:v,className:f!=null&&f.call?f(r===o):f,children:u,ref:t})}),DV=e=>Array.isArray(e)?e.flatMap(t=>DV(t&&t.type===N.Fragment?t.props.children:t)):[e],Joe=({children:e,location:t})=>{const n=db(),[r]=kj(n);for(const i of DV(e)){let a=0;if(N.isValidElement(i)&&(a=MV(n.parser,i.props.path,t||r,i.props.nest))[0])return N.cloneElement(i,{match:a})}return null};var py=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Jp=typeof window>"u"||"Deno"in globalThis;function kl(){}function ele(e,t){return typeof e=="function"?e(t):e}function NC(e){return typeof e=="number"&&e>=0&&e!==1/0}function RV(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Bg(e,t){return typeof e=="function"?e(t):e}function Pc(e,t){return typeof e=="function"?e(t):e}function WL(e,t){const{type:n="all",exact:r,fetchStatus:i,predicate:a,queryKey:o,stale:l}=e;if(o){if(r){if(t.queryHash!==xk(o,t.options))return!1}else if(!Vx(t.queryKey,o))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||i&&i!==t.state.fetchStatus||a&&!a(t))}function HL(e,t){const{exact:n,status:r,predicate:i,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(n){if(em(t.options.mutationKey)!==em(a))return!1}else if(!Vx(t.options.mutationKey,a))return!1}return!(r&&t.state.status!==r||i&&!i(t))}function xk(e,t){return((t==null?void 0:t.queryKeyHashFn)||em)(e)}function em(e){return JSON.stringify(e,(t,n)=>SC(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function Vx(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!Vx(e[n],t[n])):!1}function $V(e,t){if(e===t)return e;const n=KL(e)&&KL(t);if(n||SC(e)&&SC(t)){const r=n?e:Object.keys(e),i=r.length,a=n?t:Object.keys(t),o=a.length,l=n?[]:{};let c=0;for(let u=0;u<o;u++){const f=n?u:a[u];(!n&&r.includes(f)||n)&&e[f]===void 0&&t[f]===void 0?(l[f]=void 0,c++):(l[f]=$V(e[f],t[f]),l[f]===e[f]&&e[f]!==void 0&&c++)}return i===o&&c===i?e:l}return t}function y_(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function KL(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function SC(e){if(!GL(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!GL(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function GL(e){return Object.prototype.toString.call(e)==="[object Object]"}function tle(e){return new Promise(t=>{setTimeout(t,e)})}function AC(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?$V(e,t):t}function nle(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function rle(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var bk=Symbol();function FV(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===bk?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Lp,$f,iv,d7,ile=(d7=class extends py{constructor(){super();fn(this,Lp);fn(this,$f);fn(this,iv);Tt(this,iv,t=>{if(!Jp&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){Se(this,$f)||this.setEventListener(Se(this,iv))}onUnsubscribe(){var t;this.hasListeners()||((t=Se(this,$f))==null||t.call(this),Tt(this,$f,void 0))}setEventListener(t){var n;Tt(this,iv,t),(n=Se(this,$f))==null||n.call(this),Tt(this,$f,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){Se(this,Lp)!==t&&(Tt(this,Lp,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof Se(this,Lp)=="boolean"?Se(this,Lp):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Lp=new WeakMap,$f=new WeakMap,iv=new WeakMap,d7),wk=new ile,av,Ff,sv,f7,ale=(f7=class extends py{constructor(){super();fn(this,av,!0);fn(this,Ff);fn(this,sv);Tt(this,sv,t=>{if(!Jp&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){Se(this,Ff)||this.setEventListener(Se(this,sv))}onUnsubscribe(){var t;this.hasListeners()||((t=Se(this,Ff))==null||t.call(this),Tt(this,Ff,void 0))}setEventListener(t){var n;Tt(this,sv,t),(n=Se(this,Ff))==null||n.call(this),Tt(this,Ff,t(this.setOnline.bind(this)))}setOnline(t){Se(this,av)!==t&&(Tt(this,av,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return Se(this,av)}},av=new WeakMap,Ff=new WeakMap,sv=new WeakMap,f7),x_=new ale;function PC(){let e,t;const n=new Promise((i,a)=>{e=i,t=a});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),e(i)},n.reject=i=>{r({status:"rejected",reason:i}),t(i)},n}function sle(e){return Math.min(1e3*2**e,3e4)}function BV(e){return(e??"online")==="online"?x_.isOnline():!0}var zV=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function tA(e){return e instanceof zV}function UV(e){let t=!1,n=0,r=!1,i;const a=PC(),o=v=>{var y;r||(p(new zV(v)),(y=e.abort)==null||y.call(e))},l=()=>{t=!0},c=()=>{t=!1},u=()=>wk.isFocused()&&(e.networkMode==="always"||x_.isOnline())&&e.canRun(),f=()=>BV(e.networkMode)&&e.canRun(),h=v=>{var y;r||(r=!0,(y=e.onSuccess)==null||y.call(e,v),i==null||i(),a.resolve(v))},p=v=>{var y;r||(r=!0,(y=e.onError)==null||y.call(e,v),i==null||i(),a.reject(v))},m=()=>new Promise(v=>{var y;i=b=>{(r||u())&&v(b)},(y=e.onPause)==null||y.call(e)}).then(()=>{var v;i=void 0,r||(v=e.onContinue)==null||v.call(e)}),x=()=>{if(r)return;let v;const y=n===0?e.initialPromise:void 0;try{v=y??e.fn()}catch(b){v=Promise.reject(b)}Promise.resolve(v).then(h).catch(b=>{var E;if(r)return;const w=e.retry??(Jp?0:3),j=e.retryDelay??sle,P=typeof j=="function"?j(n,b):j,A=w===!0||typeof w=="number"&&n<w||typeof w=="function"&&w(n,b);if(t||!A){p(b);return}n++,(E=e.onFail)==null||E.call(e,n,b),tle(P).then(()=>u()?void 0:m()).then(()=>{t?p(b):x()})})};return{promise:a,cancel:o,continue:()=>(i==null||i(),a),cancelRetry:l,continueRetry:c,canStart:f,start:()=>(f()?x():m().then(x),a)}}function ole(){let e=[],t=0,n=l=>{l()},r=l=>{l()},i=l=>setTimeout(l,0);const a=l=>{t?e.push(l):i(()=>{n(l)})},o=()=>{const l=e;e=[],l.length&&i(()=>{r(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{a(()=>{l(...c)})},schedule:a,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{i=l}}}var ja=ole(),Mp,h7,qV=(h7=class{constructor(){fn(this,Mp)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),NC(this.gcTime)&&Tt(this,Mp,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Jp?1/0:5*60*1e3))}clearGcTimeout(){Se(this,Mp)&&(clearTimeout(Se(this,Mp)),Tt(this,Mp,void 0))}},Mp=new WeakMap,h7),ov,lv,Ol,xs,nb,Dp,_c,yd,p7,lle=(p7=class extends qV{constructor(t){super();fn(this,_c);fn(this,ov);fn(this,lv);fn(this,Ol);fn(this,xs);fn(this,nb);fn(this,Dp);Tt(this,Dp,!1),Tt(this,nb,t.defaultOptions),this.setOptions(t.options),this.observers=[],Tt(this,Ol,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Tt(this,ov,cle(this.options)),this.state=t.state??Se(this,ov),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=Se(this,xs))==null?void 0:t.promise}setOptions(t){this.options={...Se(this,nb),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Se(this,Ol).remove(this)}setData(t,n){const r=AC(this.state.data,t,this.options);return Vn(this,_c,yd).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){Vn(this,_c,yd).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,i;const n=(r=Se(this,xs))==null?void 0:r.promise;return(i=Se(this,xs))==null||i.cancel(t),n?n.then(kl).catch(kl):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Se(this,ov))}isActive(){return this.observers.some(t=>Pc(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===bk||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!RV(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=Se(this,xs))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=Se(this,xs))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),Se(this,Ol).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(Se(this,xs)&&(Se(this,Dp)?Se(this,xs).cancel({revert:!0}):Se(this,xs).cancelRetry()),this.scheduleGc()),Se(this,Ol).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Vn(this,_c,yd).call(this,{type:"invalidate"})}fetch(t,n){var c,u,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(Se(this,xs))return Se(this,xs).continueRetry(),Se(this,xs).promise}if(t&&this.setOptions(t),!this.options.queryFn){const h=this.observers.find(p=>p.options.queryFn);h&&this.setOptions(h.options)}const r=new AbortController,i=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(Tt(this,Dp,!0),r.signal)})},a=()=>{const h=FV(this.options,n),p={queryKey:this.queryKey,meta:this.meta};return i(p),Tt(this,Dp,!1),this.options.persister?this.options.persister(h,p,this):h(p)},o={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:a};i(o),(c=this.options.behavior)==null||c.onFetch(o,this),Tt(this,lv,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=o.fetchOptions)==null?void 0:u.meta))&&Vn(this,_c,yd).call(this,{type:"fetch",meta:(f=o.fetchOptions)==null?void 0:f.meta});const l=h=>{var p,m,x,v;tA(h)&&h.silent||Vn(this,_c,yd).call(this,{type:"error",error:h}),tA(h)||((m=(p=Se(this,Ol).config).onError)==null||m.call(p,h,this),(v=(x=Se(this,Ol).config).onSettled)==null||v.call(x,this.state.data,h,this)),this.scheduleGc()};return Tt(this,xs,UV({initialPromise:n==null?void 0:n.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:h=>{var p,m,x,v;if(h===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(y){l(y);return}(m=(p=Se(this,Ol).config).onSuccess)==null||m.call(p,h,this),(v=(x=Se(this,Ol).config).onSettled)==null||v.call(x,h,this.state.error,this),this.scheduleGc()},onError:l,onFail:(h,p)=>{Vn(this,_c,yd).call(this,{type:"failed",failureCount:h,error:p})},onPause:()=>{Vn(this,_c,yd).call(this,{type:"pause"})},onContinue:()=>{Vn(this,_c,yd).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),Se(this,xs).start()}},ov=new WeakMap,lv=new WeakMap,Ol=new WeakMap,xs=new WeakMap,nb=new WeakMap,Dp=new WeakMap,_c=new WeakSet,yd=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...VV(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=t.error;return tA(i)&&i.revert&&Se(this,lv)?{...Se(this,lv),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),ja.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),Se(this,Ol).notify({query:this,type:"updated",action:t})})},p7);function VV(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:BV(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function cle(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var wu,m7,ule=(m7=class extends py{constructor(t={}){super();fn(this,wu);this.config=t,Tt(this,wu,new Map)}build(t,n,r){const i=n.queryKey,a=n.queryHash??xk(i,n);let o=this.get(a);return o||(o=new lle({cache:this,queryKey:i,queryHash:a,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(i)}),this.add(o)),o}add(t){Se(this,wu).has(t.queryHash)||(Se(this,wu).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=Se(this,wu).get(t.queryHash);n&&(t.destroy(),n===t&&Se(this,wu).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){ja.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return Se(this,wu).get(t)}getAll(){return[...Se(this,wu).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>WL(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>WL(t,r)):n}notify(t){ja.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){ja.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){ja.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},wu=new WeakMap,m7),_u,Rs,Rp,ju,Sf,g7,dle=(g7=class extends qV{constructor(t){super();fn(this,ju);fn(this,_u);fn(this,Rs);fn(this,Rp);this.mutationId=t.mutationId,Tt(this,Rs,t.mutationCache),Tt(this,_u,[]),this.state=t.state||WV(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){Se(this,_u).includes(t)||(Se(this,_u).push(t),this.clearGcTimeout(),Se(this,Rs).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Tt(this,_u,Se(this,_u).filter(n=>n!==t)),this.scheduleGc(),Se(this,Rs).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){Se(this,_u).length||(this.state.status==="pending"?this.scheduleGc():Se(this,Rs).remove(this))}continue(){var t;return((t=Se(this,Rp))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,a,o,l,c,u,f,h,p,m,x,v,y,b,w,j,P,A,E,O;Tt(this,Rp,UV({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(I,D)=>{Vn(this,ju,Sf).call(this,{type:"failed",failureCount:I,error:D})},onPause:()=>{Vn(this,ju,Sf).call(this,{type:"pause"})},onContinue:()=>{Vn(this,ju,Sf).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Se(this,Rs).canRun(this)}));const n=this.state.status==="pending",r=!Se(this,Rp).canStart();try{if(!n){Vn(this,ju,Sf).call(this,{type:"pending",variables:t,isPaused:r}),await((a=(i=Se(this,Rs).config).onMutate)==null?void 0:a.call(i,t,this));const D=await((l=(o=this.options).onMutate)==null?void 0:l.call(o,t));D!==this.state.context&&Vn(this,ju,Sf).call(this,{type:"pending",context:D,variables:t,isPaused:r})}const I=await Se(this,Rp).start();return await((u=(c=Se(this,Rs).config).onSuccess)==null?void 0:u.call(c,I,t,this.state.context,this)),await((h=(f=this.options).onSuccess)==null?void 0:h.call(f,I,t,this.state.context)),await((m=(p=Se(this,Rs).config).onSettled)==null?void 0:m.call(p,I,null,this.state.variables,this.state.context,this)),await((v=(x=this.options).onSettled)==null?void 0:v.call(x,I,null,t,this.state.context)),Vn(this,ju,Sf).call(this,{type:"success",data:I}),I}catch(I){try{throw await((b=(y=Se(this,Rs).config).onError)==null?void 0:b.call(y,I,t,this.state.context,this)),await((j=(w=this.options).onError)==null?void 0:j.call(w,I,t,this.state.context)),await((A=(P=Se(this,Rs).config).onSettled)==null?void 0:A.call(P,void 0,I,this.state.variables,this.state.context,this)),await((O=(E=this.options).onSettled)==null?void 0:O.call(E,void 0,I,t,this.state.context)),I}finally{Vn(this,ju,Sf).call(this,{type:"error",error:I})}}finally{Se(this,Rs).runNext(this)}}},_u=new WeakMap,Rs=new WeakMap,Rp=new WeakMap,ju=new WeakSet,Sf=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),ja.batch(()=>{Se(this,_u).forEach(r=>{r.onMutationUpdate(t)}),Se(this,Rs).notify({mutation:this,type:"updated",action:t})})},g7);function WV(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Wo,rb,v7,fle=(v7=class extends py{constructor(t={}){super();fn(this,Wo);fn(this,rb);this.config=t,Tt(this,Wo,new Map),Tt(this,rb,Date.now())}build(t,n,r){const i=new dle({mutationCache:this,mutationId:++dw(this,rb)._,options:t.defaultMutationOptions(n),state:r});return this.add(i),i}add(t){const n=Ew(t),r=Se(this,Wo).get(n)??[];r.push(t),Se(this,Wo).set(n,r),this.notify({type:"added",mutation:t})}remove(t){var r;const n=Ew(t);if(Se(this,Wo).has(n)){const i=(r=Se(this,Wo).get(n))==null?void 0:r.filter(a=>a!==t);i&&(i.length===0?Se(this,Wo).delete(n):Se(this,Wo).set(n,i))}this.notify({type:"removed",mutation:t})}canRun(t){var r;const n=(r=Se(this,Wo).get(Ew(t)))==null?void 0:r.find(i=>i.state.status==="pending");return!n||n===t}runNext(t){var r;const n=(r=Se(this,Wo).get(Ew(t)))==null?void 0:r.find(i=>i!==t&&i.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){ja.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...Se(this,Wo).values()].flat()}find(t){const n={exact:!0,...t};return this.getAll().find(r=>HL(n,r))}findAll(t={}){return this.getAll().filter(n=>HL(t,n))}notify(t){ja.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return ja.batch(()=>Promise.all(t.map(n=>n.continue().catch(kl))))}},Wo=new WeakMap,rb=new WeakMap,v7);function Ew(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function ZL(e){return{onFetch:(t,n)=>{var f,h,p,m,x;const r=t.options,i=(p=(h=(f=t.fetchOptions)==null?void 0:f.meta)==null?void 0:h.fetchMore)==null?void 0:p.direction,a=((m=t.state.data)==null?void 0:m.pages)||[],o=((x=t.state.data)==null?void 0:x.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let v=!1;const y=j=>{Object.defineProperty(j,"signal",{enumerable:!0,get:()=>(t.signal.aborted?v=!0:t.signal.addEventListener("abort",()=>{v=!0}),t.signal)})},b=FV(t.options,t.fetchOptions),w=async(j,P,A)=>{if(v)return Promise.reject();if(P==null&&j.pages.length)return Promise.resolve(j);const E={queryKey:t.queryKey,pageParam:P,direction:A?"backward":"forward",meta:t.options.meta};y(E);const O=await b(E),{maxPages:I}=t.options,D=A?rle:nle;return{pages:D(j.pages,O,I),pageParams:D(j.pageParams,P,I)}};if(i&&a.length){const j=i==="backward",P=j?hle:XL,A={pages:a,pageParams:o},E=P(r,A);l=await w(A,E,j)}else{const j=e??a.length;do{const P=c===0?o[0]??r.initialPageParam:XL(r,l);if(c>0&&P==null)break;l=await w(l,P),c++}while(c<j)}return l};t.options.persister?t.fetchFn=()=>{var v,y;return(y=(v=t.options).persister)==null?void 0:y.call(v,u,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function XL(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function hle(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var Li,Bf,zf,cv,uv,Uf,dv,fv,y7,ple=(y7=class{constructor(e={}){fn(this,Li);fn(this,Bf);fn(this,zf);fn(this,cv);fn(this,uv);fn(this,Uf);fn(this,dv);fn(this,fv);Tt(this,Li,e.queryCache||new ule),Tt(this,Bf,e.mutationCache||new fle),Tt(this,zf,e.defaultOptions||{}),Tt(this,cv,new Map),Tt(this,uv,new Map),Tt(this,Uf,0)}mount(){dw(this,Uf)._++,Se(this,Uf)===1&&(Tt(this,dv,wk.subscribe(async e=>{e&&(await this.resumePausedMutations(),Se(this,Li).onFocus())})),Tt(this,fv,x_.subscribe(async e=>{e&&(await this.resumePausedMutations(),Se(this,Li).onOnline())})))}unmount(){var e,t;dw(this,Uf)._--,Se(this,Uf)===0&&((e=Se(this,dv))==null||e.call(this),Tt(this,dv,void 0),(t=Se(this,fv))==null||t.call(this),Tt(this,fv,void 0))}isFetching(e){return Se(this,Li).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return Se(this,Bf).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=Se(this,Li).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const n=this.defaultQueryOptions(e),r=Se(this,Li).build(this,n);return e.revalidateIfStale&&r.isStaleByTime(Bg(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(t)}}getQueriesData(e){return Se(this,Li).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),i=Se(this,Li).get(r.queryHash),a=i==null?void 0:i.state.data,o=ele(t,a);if(o!==void 0)return Se(this,Li).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return ja.batch(()=>Se(this,Li).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=Se(this,Li).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=Se(this,Li);ja.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=Se(this,Li),r={type:"active",...e};return ja.batch(()=>(n.findAll(e).forEach(i=>{i.reset()}),this.refetchQueries(r,t)))}cancelQueries(e={},t={}){const n={revert:!0,...t},r=ja.batch(()=>Se(this,Li).findAll(e).map(i=>i.cancel(n)));return Promise.all(r).then(kl).catch(kl)}invalidateQueries(e={},t={}){return ja.batch(()=>{if(Se(this,Li).findAll(e).forEach(r=>{r.invalidate()}),e.refetchType==="none")return Promise.resolve();const n={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(n,t)})}refetchQueries(e={},t){const n={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},r=ja.batch(()=>Se(this,Li).findAll(e).filter(i=>!i.isDisabled()).map(i=>{let a=i.fetch(void 0,n);return n.throwOnError||(a=a.catch(kl)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(r).then(kl)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=Se(this,Li).build(this,t);return n.isStaleByTime(Bg(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(kl).catch(kl)}fetchInfiniteQuery(e){return e.behavior=ZL(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(kl).catch(kl)}ensureInfiniteQueryData(e){return e.behavior=ZL(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return x_.isOnline()?Se(this,Bf).resumePausedMutations():Promise.resolve()}getQueryCache(){return Se(this,Li)}getMutationCache(){return Se(this,Bf)}getDefaultOptions(){return Se(this,zf)}setDefaultOptions(e){Tt(this,zf,e)}setQueryDefaults(e,t){Se(this,cv).set(em(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...Se(this,cv).values()];let n={};return t.forEach(r=>{Vx(e,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(e,t){Se(this,uv).set(em(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...Se(this,uv).values()];let n={};return t.forEach(r=>{Vx(e,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...Se(this,zf).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=xk(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===bk&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...Se(this,zf).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){Se(this,Li).clear(),Se(this,Bf).clear()}},Li=new WeakMap,Bf=new WeakMap,zf=new WeakMap,cv=new WeakMap,uv=new WeakMap,Uf=new WeakMap,dv=new WeakMap,fv=new WeakMap,y7),fo,Qn,ib,$s,$p,hv,qf,Nu,ab,pv,mv,Fp,Bp,Vf,gv,Er,R0,CC,EC,OC,kC,TC,IC,LC,HV,x7,mle=(x7=class extends py{constructor(t,n){super();fn(this,Er);fn(this,fo);fn(this,Qn);fn(this,ib);fn(this,$s);fn(this,$p);fn(this,hv);fn(this,qf);fn(this,Nu);fn(this,ab);fn(this,pv);fn(this,mv);fn(this,Fp);fn(this,Bp);fn(this,Vf);fn(this,gv,new Set);this.options=n,Tt(this,fo,t),Tt(this,Nu,null),Tt(this,qf,PC()),this.options.experimental_prefetchInRender||Se(this,qf).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(Se(this,Qn).addObserver(this),YL(Se(this,Qn),this.options)?Vn(this,Er,R0).call(this):this.updateResult(),Vn(this,Er,kC).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return MC(Se(this,Qn),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return MC(Se(this,Qn),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Vn(this,Er,TC).call(this),Vn(this,Er,IC).call(this),Se(this,Qn).removeObserver(this)}setOptions(t,n){const r=this.options,i=Se(this,Qn);if(this.options=Se(this,fo).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Pc(this.options.enabled,Se(this,Qn))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Vn(this,Er,LC).call(this),Se(this,Qn).setOptions(this.options),r._defaulted&&!y_(this.options,r)&&Se(this,fo).getQueryCache().notify({type:"observerOptionsUpdated",query:Se(this,Qn),observer:this});const a=this.hasListeners();a&&QL(Se(this,Qn),i,this.options,r)&&Vn(this,Er,R0).call(this),this.updateResult(n),a&&(Se(this,Qn)!==i||Pc(this.options.enabled,Se(this,Qn))!==Pc(r.enabled,Se(this,Qn))||Bg(this.options.staleTime,Se(this,Qn))!==Bg(r.staleTime,Se(this,Qn)))&&Vn(this,Er,CC).call(this);const o=Vn(this,Er,EC).call(this);a&&(Se(this,Qn)!==i||Pc(this.options.enabled,Se(this,Qn))!==Pc(r.enabled,Se(this,Qn))||o!==Se(this,Vf))&&Vn(this,Er,OC).call(this,o)}getOptimisticResult(t){const n=Se(this,fo).getQueryCache().build(Se(this,fo),t),r=this.createResult(n,t);return vle(this,r)&&(Tt(this,$s,r),Tt(this,hv,this.options),Tt(this,$p,Se(this,Qn).state)),r}getCurrentResult(){return Se(this,$s)}trackResult(t,n){const r={};return Object.keys(t).forEach(i=>{Object.defineProperty(r,i,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(i),n==null||n(i),t[i])})}),r}trackProp(t){Se(this,gv).add(t)}getCurrentQuery(){return Se(this,Qn)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=Se(this,fo).defaultQueryOptions(t),r=Se(this,fo).getQueryCache().build(Se(this,fo),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return Vn(this,Er,R0).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),Se(this,$s)))}createResult(t,n){var I;const r=Se(this,Qn),i=this.options,a=Se(this,$s),o=Se(this,$p),l=Se(this,hv),u=t!==r?t.state:Se(this,ib),{state:f}=t;let h={...f},p=!1,m;if(n._optimisticResults){const D=this.hasListeners(),z=!D&&YL(t,n),T=D&&QL(t,r,n,i);(z||T)&&(h={...h,...VV(f.data,t.options)}),n._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:x,errorUpdatedAt:v,status:y}=h;if(n.select&&h.data!==void 0)if(a&&h.data===(o==null?void 0:o.data)&&n.select===Se(this,ab))m=Se(this,pv);else try{Tt(this,ab,n.select),m=n.select(h.data),m=AC(a==null?void 0:a.data,m,n),Tt(this,pv,m),Tt(this,Nu,null)}catch(D){Tt(this,Nu,D)}else m=h.data;if(n.placeholderData!==void 0&&m===void 0&&y==="pending"){let D;if(a!=null&&a.isPlaceholderData&&n.placeholderData===(l==null?void 0:l.placeholderData))D=a.data;else if(D=typeof n.placeholderData=="function"?n.placeholderData((I=Se(this,mv))==null?void 0:I.state.data,Se(this,mv)):n.placeholderData,n.select&&D!==void 0)try{D=n.select(D),Tt(this,Nu,null)}catch(z){Tt(this,Nu,z)}D!==void 0&&(y="success",m=AC(a==null?void 0:a.data,D,n),p=!0)}Se(this,Nu)&&(x=Se(this,Nu),m=Se(this,pv),v=Date.now(),y="error");const b=h.fetchStatus==="fetching",w=y==="pending",j=y==="error",P=w&&b,A=m!==void 0,O={status:y,fetchStatus:h.fetchStatus,isPending:w,isSuccess:y==="success",isError:j,isInitialLoading:P,isLoading:P,data:m,dataUpdatedAt:h.dataUpdatedAt,error:x,errorUpdatedAt:v,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>u.dataUpdateCount||h.errorUpdateCount>u.errorUpdateCount,isFetching:b,isRefetching:b&&!w,isLoadingError:j&&!A,isPaused:h.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:j&&A,isStale:_k(t,n),refetch:this.refetch,promise:Se(this,qf)};if(this.options.experimental_prefetchInRender){const D=k=>{O.status==="error"?k.reject(O.error):O.data!==void 0&&k.resolve(O.data)},z=()=>{const k=Tt(this,qf,O.promise=PC());D(k)},T=Se(this,qf);switch(T.status){case"pending":t.queryHash===r.queryHash&&D(T);break;case"fulfilled":(O.status==="error"||O.data!==T.value)&&z();break;case"rejected":(O.status!=="error"||O.error!==T.reason)&&z();break}}return O}updateResult(t){const n=Se(this,$s),r=this.createResult(Se(this,Qn),this.options);if(Tt(this,$p,Se(this,Qn).state),Tt(this,hv,this.options),Se(this,$p).data!==void 0&&Tt(this,mv,Se(this,Qn)),y_(r,n))return;Tt(this,$s,r);const i={},a=()=>{if(!n)return!0;const{notifyOnChangeProps:o}=this.options,l=typeof o=="function"?o():o;if(l==="all"||!l&&!Se(this,gv).size)return!0;const c=new Set(l??Se(this,gv));return this.options.throwOnError&&c.add("error"),Object.keys(Se(this,$s)).some(u=>{const f=u;return Se(this,$s)[f]!==n[f]&&c.has(f)})};(t==null?void 0:t.listeners)!==!1&&a()&&(i.listeners=!0),Vn(this,Er,HV).call(this,{...i,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Vn(this,Er,kC).call(this)}},fo=new WeakMap,Qn=new WeakMap,ib=new WeakMap,$s=new WeakMap,$p=new WeakMap,hv=new WeakMap,qf=new WeakMap,Nu=new WeakMap,ab=new WeakMap,pv=new WeakMap,mv=new WeakMap,Fp=new WeakMap,Bp=new WeakMap,Vf=new WeakMap,gv=new WeakMap,Er=new WeakSet,R0=function(t){Vn(this,Er,LC).call(this);let n=Se(this,Qn).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(kl)),n},CC=function(){Vn(this,Er,TC).call(this);const t=Bg(this.options.staleTime,Se(this,Qn));if(Jp||Se(this,$s).isStale||!NC(t))return;const r=RV(Se(this,$s).dataUpdatedAt,t)+1;Tt(this,Fp,setTimeout(()=>{Se(this,$s).isStale||this.updateResult()},r))},EC=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(Se(this,Qn)):this.options.refetchInterval)??!1},OC=function(t){Vn(this,Er,IC).call(this),Tt(this,Vf,t),!(Jp||Pc(this.options.enabled,Se(this,Qn))===!1||!NC(Se(this,Vf))||Se(this,Vf)===0)&&Tt(this,Bp,setInterval(()=>{(this.options.refetchIntervalInBackground||wk.isFocused())&&Vn(this,Er,R0).call(this)},Se(this,Vf)))},kC=function(){Vn(this,Er,CC).call(this),Vn(this,Er,OC).call(this,Vn(this,Er,EC).call(this))},TC=function(){Se(this,Fp)&&(clearTimeout(Se(this,Fp)),Tt(this,Fp,void 0))},IC=function(){Se(this,Bp)&&(clearInterval(Se(this,Bp)),Tt(this,Bp,void 0))},LC=function(){const t=Se(this,fo).getQueryCache().build(Se(this,fo),this.options);if(t===Se(this,Qn))return;const n=Se(this,Qn);Tt(this,Qn,t),Tt(this,ib,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},HV=function(t){ja.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(Se(this,$s))}),Se(this,fo).getQueryCache().notify({query:Se(this,Qn),type:"observerResultsUpdated"})})},x7);function gle(e,t){return Pc(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function YL(e,t){return gle(e,t)||e.state.data!==void 0&&MC(e,t,t.refetchOnMount)}function MC(e,t,n){if(Pc(t.enabled,e)!==!1){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&_k(e,t)}return!1}function QL(e,t,n,r){return(e!==t||Pc(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&_k(e,n)}function _k(e,t){return Pc(t.enabled,e)!==!1&&e.isStaleByTime(Bg(t.staleTime,e))}function vle(e,t){return!y_(e.getCurrentResult(),t)}var Wf,Hf,ho,Ad,Rd,j2,DC,b7,yle=(b7=class extends py{constructor(n,r){super();fn(this,Rd);fn(this,Wf);fn(this,Hf);fn(this,ho);fn(this,Ad);Tt(this,Wf,n),this.setOptions(r),this.bindMethods(),Vn(this,Rd,j2).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var i;const r=this.options;this.options=Se(this,Wf).defaultMutationOptions(n),y_(this.options,r)||Se(this,Wf).getMutationCache().notify({type:"observerOptionsUpdated",mutation:Se(this,ho),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&em(r.mutationKey)!==em(this.options.mutationKey)?this.reset():((i=Se(this,ho))==null?void 0:i.state.status)==="pending"&&Se(this,ho).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=Se(this,ho))==null||n.removeObserver(this)}onMutationUpdate(n){Vn(this,Rd,j2).call(this),Vn(this,Rd,DC).call(this,n)}getCurrentResult(){return Se(this,Hf)}reset(){var n;(n=Se(this,ho))==null||n.removeObserver(this),Tt(this,ho,void 0),Vn(this,Rd,j2).call(this),Vn(this,Rd,DC).call(this)}mutate(n,r){var i;return Tt(this,Ad,r),(i=Se(this,ho))==null||i.removeObserver(this),Tt(this,ho,Se(this,Wf).getMutationCache().build(Se(this,Wf),this.options)),Se(this,ho).addObserver(this),Se(this,ho).execute(n)}},Wf=new WeakMap,Hf=new WeakMap,ho=new WeakMap,Ad=new WeakMap,Rd=new WeakSet,j2=function(){var r;const n=((r=Se(this,ho))==null?void 0:r.state)??WV();Tt(this,Hf,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},DC=function(n){ja.batch(()=>{var r,i,a,o,l,c,u,f;if(Se(this,Ad)&&this.hasListeners()){const h=Se(this,Hf).variables,p=Se(this,Hf).context;(n==null?void 0:n.type)==="success"?((i=(r=Se(this,Ad)).onSuccess)==null||i.call(r,n.data,h,p),(o=(a=Se(this,Ad)).onSettled)==null||o.call(a,n.data,null,h,p)):(n==null?void 0:n.type)==="error"&&((c=(l=Se(this,Ad)).onError)==null||c.call(l,n.error,h,p),(f=(u=Se(this,Ad)).onSettled)==null||f.call(u,void 0,n.error,h,p))}this.listeners.forEach(h=>{h(Se(this,Hf))})})},b7),KV=N.createContext(void 0),Xd=e=>{const t=N.useContext(KV);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},xle=({client:e,children:t})=>(N.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(KV.Provider,{value:e,children:t})),GV=N.createContext(!1),ble=()=>N.useContext(GV);GV.Provider;function wle(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var _le=N.createContext(wle()),jle=()=>N.useContext(_le);function ZV(e,t){return typeof e=="function"?e(...t):!!e}function RC(){}var Nle=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},Sle=e=>{N.useEffect(()=>{e.clearReset()},[e])},Ale=({result:e,errorResetBoundary:t,throwOnError:n,query:r})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&ZV(n,[e.error,r]),Ple=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},Cle=(e,t)=>e.isLoading&&e.isFetching&&!t,Ele=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,JL=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function Ole(e,t,n){var f,h,p,m,x;const r=Xd(),i=ble(),a=jle(),o=r.defaultQueryOptions(e);(h=(f=r.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||h.call(f,o),o._optimisticResults=i?"isRestoring":"optimistic",Ple(o),Nle(o,a),Sle(a);const l=!r.getQueryCache().get(o.queryHash),[c]=N.useState(()=>new t(r,o)),u=c.getOptimisticResult(o);if(N.useSyncExternalStore(N.useCallback(v=>{const y=i?RC:c.subscribe(ja.batchCalls(v));return c.updateResult(),y},[c,i]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),N.useEffect(()=>{c.setOptions(o,{listeners:!1})},[o,c]),Ele(o,u))throw JL(o,c,a);if(Ale({result:u,errorResetBoundary:a,throwOnError:o.throwOnError,query:r.getQueryCache().get(o.queryHash)}))throw u.error;if((m=(p=r.getDefaultOptions().queries)==null?void 0:p._experimental_afterQuery)==null||m.call(p,o,u),o.experimental_prefetchInRender&&!Jp&&Cle(u,i)){const v=l?JL(o,c,a):(x=r.getQueryCache().get(o.queryHash))==null?void 0:x.promise;v==null||v.catch(RC).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?u:c.trackResult(u)}function Zt(e,t){return Ole(e,mle)}function cr(e,t){const n=Xd(),[r]=N.useState(()=>new yle(n,e));N.useEffect(()=>{r.setOptions(e)},[r,e]);const i=N.useSyncExternalStore(N.useCallback(o=>r.subscribe(ja.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),a=N.useCallback((o,l)=>{r.mutate(o,l).catch(RC)},[r]);if(i.error&&ZV(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:a,mutateAsync:i.mutate}}function Sv(){try{return localStorage.getItem("authToken")}catch(e){return console.warn("[Auth] Error accediendo localStorage para leer token:",e),null}}function kle(e){try{localStorage.setItem("authToken",e)}catch(t){throw console.error("[Auth] Error guardando token en localStorage:",t),new Error("No se pudo guardar el token de autenticación")}}function _g(){try{localStorage.removeItem("authToken")}catch(e){console.warn("[Auth] Error eliminando token de localStorage:",e)}}async function Tle(e){if(!e.ok){e.status===401&&(console.log("[API] Error 401 detectado, limpiando token..."),_g(),typeof window<"u"&&!window.location.pathname.includes("/login")&&(console.log("[API] Guardando ruta actual para después del login"),sessionStorage.setItem("redirectAfterLogin",window.location.pathname)));const t=await e.text()||e.statusText;throw new Error(`${e.status}: ${t}`)}}async function Cr(e,t,n){const r=n?{"Content-Type":"application/json"}:{},i=Sv();i&&(r.Authorization=`Bearer ${i}`);const a=await fetch(t,{method:e,headers:r,body:n?JSON.stringify(n):void 0,credentials:"include"});return await Tle(a),a}const XV=({on401:e})=>async({queryKey:t})=>{try{const n=t[0],r=t[1]||{},i=new URL(n,window.location.origin);Object.entries(r).forEach(([o,l])=>{l!=null&&i.searchParams.append(o,String(l))});const a=await Cr("GET",i.pathname+i.search);return e==="returnNull"&&a.status===401?null:await a.json()}catch(n){if(n instanceof Error&&n.message.includes("401")&&e==="returnNull")return null;throw n}};async function $C(e,t){return await(await Cr(t.method,e,t.body)).json()}const Ni=new ple({defaultOptions:{queries:{queryFn:XV({on401:"throw"}),refetchOnWindowFocus:!1,staleTime:3e4,retry:(e,t)=>t instanceof Error&&t.message.includes("401")?!1:e<1,retryDelay:1e3,gcTime:10*60*1e3},mutations:{retry:1,retryDelay:1e3,onSuccess:()=>{console.log("[QueryClient] Mutación exitosa, invalidando queries"),Ni.invalidateQueries({queryKey:["/api/kpi-values"]}),Ni.invalidateQueries({queryKey:["/api/kpis"]})}}}}),Ile=Object.freeze(Object.defineProperty({__proto__:null,apiRequest:Cr,apiRequestLegacy:$C,getAuthToken:Sv,getQueryFn:XV,queryClient:Ni,removeAuthToken:_g,setAuthToken:kle},Symbol.toStringTag,{value:"Module"})),Lle=1,Mle=1e6;let nA=0;function Dle(){return nA=(nA+1)%Number.MAX_SAFE_INTEGER,nA.toString()}const rA=new Map,e6=e=>{if(rA.has(e))return;const t=setTimeout(()=>{rA.delete(e),Q0({type:"REMOVE_TOAST",toastId:e})},Mle);rA.set(e,t)},Rle=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,Lle)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?e6(n):e.toasts.forEach(r=>{e6(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},N2=[];let S2={toasts:[]};function Q0(e){S2=Rle(S2,e),N2.forEach(t=>{t(S2)})}function A2({...e}){const t=Dle(),n=i=>Q0({type:"UPDATE_TOAST",toast:{...i,id:t}}),r=()=>Q0({type:"DISMISS_TOAST",toastId:t});return Q0({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:i=>{i||r()}}}),{id:t,dismiss:r,update:n}}function ss(){const[e,t]=N.useState(S2);return N.useEffect(()=>(N2.push(t),()=>{const n=N2.indexOf(t);n>-1&&N2.splice(n,1)}),[e]),{...e,toast:A2,dismiss:n=>Q0({type:"DISMISS_TOAST",toastId:n})}}function yt(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function t6(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Tj(...e){return t=>{let n=!1;const r=e.map(i=>{const a=t6(i,t);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let i=0;i<r.length;i++){const a=r[i];typeof a=="function"?a():t6(e[i],null)}}}}function Dn(...e){return N.useCallback(Tj(...e),e)}function $le(e,t){const n=N.createContext(t),r=a=>{const{children:o,...l}=a,c=N.useMemo(()=>l,Object.values(l));return s.jsx(n.Provider,{value:c,children:o})};r.displayName=e+"Provider";function i(a){const o=N.useContext(n);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[r,i]}function Ba(e,t=[]){let n=[];function r(a,o){const l=N.createContext(o),c=n.length;n=[...n,o];const u=h=>{var b;const{scope:p,children:m,...x}=h,v=((b=p==null?void 0:p[e])==null?void 0:b[c])||l,y=N.useMemo(()=>x,Object.values(x));return s.jsx(v.Provider,{value:y,children:m})};u.displayName=a+"Provider";function f(h,p){var v;const m=((v=p==null?void 0:p[e])==null?void 0:v[c])||l,x=N.useContext(m);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${a}\``)}return[u,f]}const i=()=>{const a=n.map(o=>N.createContext(o));return function(l){const c=(l==null?void 0:l[e])||a;return N.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return i.scopeName=e,[r,Fle(i,...t)]}function Fle(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=r.reduce((l,{useScope:c,scopeName:u})=>{const h=c(a)[`__scope${u}`];return{...l,...h}},{});return N.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function tm(e){const t=Ble(e),n=N.forwardRef((r,i)=>{const{children:a,...o}=r,l=N.Children.toArray(a),c=l.find(zle);if(c){const u=c.props.children,f=l.map(h=>h===c?N.Children.count(u)>1?N.Children.only(null):N.isValidElement(u)?u.props.children:null:h);return s.jsx(t,{...o,ref:i,children:N.isValidElement(u)?N.cloneElement(u,void 0,f):null})}return s.jsx(t,{...o,ref:i,children:a})});return n.displayName=`${e}.Slot`,n}var YV=tm("Slot");function Ble(e){const t=N.forwardRef((n,r)=>{const{children:i,...a}=n;if(N.isValidElement(i)){const o=qle(i),l=Ule(a,i.props);return i.type!==N.Fragment&&(l.ref=r?Tj(r,o):o),N.cloneElement(i,l)}return N.Children.count(i)>1?N.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var QV=Symbol("radix.slottable");function JV(e){const t=({children:n})=>s.jsx(s.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=QV,t}function zle(e){return N.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===QV}function Ule(e,t){const n={...t};for(const r in t){const i=e[r],a=t[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...l)=>{a(...l),i(...l)}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...e,...n}}function qle(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Ij(e){const t=e+"CollectionProvider",[n,r]=Ba(t),[i,a]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=v=>{const{scope:y,children:b}=v,w=ie.useRef(null),j=ie.useRef(new Map).current;return s.jsx(i,{scope:y,itemMap:j,collectionRef:w,children:b})};o.displayName=t;const l=e+"CollectionSlot",c=tm(l),u=ie.forwardRef((v,y)=>{const{scope:b,children:w}=v,j=a(l,b),P=Dn(y,j.collectionRef);return s.jsx(c,{ref:P,children:w})});u.displayName=l;const f=e+"CollectionItemSlot",h="data-radix-collection-item",p=tm(f),m=ie.forwardRef((v,y)=>{const{scope:b,children:w,...j}=v,P=ie.useRef(null),A=Dn(y,P),E=a(f,b);return ie.useEffect(()=>(E.itemMap.set(P,{ref:P,...j}),()=>void E.itemMap.delete(P))),s.jsx(p,{[h]:"",ref:A,children:w})});m.displayName=f;function x(v){const y=a(e+"CollectionConsumer",v);return ie.useCallback(()=>{const w=y.collectionRef.current;if(!w)return[];const j=Array.from(w.querySelectorAll(`[${h}]`));return Array.from(y.itemMap.values()).sort((E,O)=>j.indexOf(E.ref.current)-j.indexOf(O.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:o,Slot:u,ItemSlot:m},x,r]}var Vle=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Rt=Vle.reduce((e,t)=>{const n=tm(`Primitive.${t}`),r=N.forwardRef((i,a)=>{const{asChild:o,...l}=i,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:a})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function jk(e,t){e&&Qo.flushSync(()=>e.dispatchEvent(t))}function gi(e){const t=N.useRef(e);return N.useEffect(()=>{t.current=e}),N.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function Wle(e,t=globalThis==null?void 0:globalThis.document){const n=gi(e);N.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var Hle="DismissableLayer",FC="dismissableLayer.update",Kle="dismissableLayer.pointerDownOutside",Gle="dismissableLayer.focusOutside",n6,eW=N.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),my=N.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:o,onDismiss:l,...c}=e,u=N.useContext(eW),[f,h]=N.useState(null),p=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=N.useState({}),x=Dn(t,O=>h(O)),v=Array.from(u.layers),[y]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),b=v.indexOf(y),w=f?v.indexOf(f):-1,j=u.layersWithOutsidePointerEventsDisabled.size>0,P=w>=b,A=Xle(O=>{const I=O.target,D=[...u.branches].some(z=>z.contains(I));!P||D||(i==null||i(O),o==null||o(O),O.defaultPrevented||l==null||l())},p),E=Yle(O=>{const I=O.target;[...u.branches].some(z=>z.contains(I))||(a==null||a(O),o==null||o(O),O.defaultPrevented||l==null||l())},p);return Wle(O=>{w===u.layers.size-1&&(r==null||r(O),!O.defaultPrevented&&l&&(O.preventDefault(),l()))},p),N.useEffect(()=>{if(f)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(n6=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),r6(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=n6)}},[f,p,n,u]),N.useEffect(()=>()=>{f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),r6())},[f,u]),N.useEffect(()=>{const O=()=>m({});return document.addEventListener(FC,O),()=>document.removeEventListener(FC,O)},[]),s.jsx(Rt.div,{...c,ref:x,style:{pointerEvents:j?P?"auto":"none":void 0,...e.style},onFocusCapture:yt(e.onFocusCapture,E.onFocusCapture),onBlurCapture:yt(e.onBlurCapture,E.onBlurCapture),onPointerDownCapture:yt(e.onPointerDownCapture,A.onPointerDownCapture)})});my.displayName=Hle;var Zle="DismissableLayerBranch",tW=N.forwardRef((e,t)=>{const n=N.useContext(eW),r=N.useRef(null),i=Dn(t,r);return N.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),s.jsx(Rt.div,{...e,ref:i})});tW.displayName=Zle;function Xle(e,t=globalThis==null?void 0:globalThis.document){const n=gi(e),r=N.useRef(!1),i=N.useRef(()=>{});return N.useEffect(()=>{const a=l=>{if(l.target&&!r.current){let c=function(){nW(Kle,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=c,t.addEventListener("click",i.current,{once:!0})):c()}else t.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",a),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function Yle(e,t=globalThis==null?void 0:globalThis.document){const n=gi(e),r=N.useRef(!1);return N.useEffect(()=>{const i=a=>{a.target&&!r.current&&nW(Gle,n,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function r6(){const e=new CustomEvent(FC);document.dispatchEvent(e)}function nW(e,t,n,{discrete:r}){const i=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?jk(i,a):i.dispatchEvent(a)}var Qle=my,Jle=tW,na=globalThis!=null&&globalThis.document?N.useLayoutEffect:()=>{},ece="Portal",fb=N.forwardRef((e,t)=>{var l;const{container:n,...r}=e,[i,a]=N.useState(!1);na(()=>a(!0),[]);const o=n||i&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?Noe.createPortal(s.jsx(Rt.div,{...r,ref:t}),o):null});fb.displayName=ece;function tce(e,t){return N.useReducer((n,r)=>t[n][r]??n,e)}var os=e=>{const{present:t,children:n}=e,r=nce(t),i=typeof n=="function"?n({present:r.isPresent}):N.Children.only(n),a=Dn(r.ref,rce(i));return typeof n=="function"||r.isPresent?N.cloneElement(i,{ref:a}):null};os.displayName="Presence";function nce(e){const[t,n]=N.useState(),r=N.useRef({}),i=N.useRef(e),a=N.useRef("none"),o=e?"mounted":"unmounted",[l,c]=tce(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return N.useEffect(()=>{const u=Ow(r.current);a.current=l==="mounted"?u:"none"},[l]),na(()=>{const u=r.current,f=i.current;if(f!==e){const p=a.current,m=Ow(u);e?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(f&&p!==m?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,c]),na(()=>{if(t){let u;const f=t.ownerDocument.defaultView??window,h=m=>{const v=Ow(r.current).includes(m.animationName);if(m.target===t&&v&&(c("ANIMATION_END"),!i.current)){const y=t.style.animationFillMode;t.style.animationFillMode="forwards",u=f.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=y)})}},p=m=>{m.target===t&&(a.current=Ow(r.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{f.clearTimeout(u),t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:N.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function Ow(e){return(e==null?void 0:e.animationName)||"none"}function rce(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function cl({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,i]=ice({defaultProp:t,onChange:n}),a=e!==void 0,o=a?e:r,l=gi(n),c=N.useCallback(u=>{if(a){const h=typeof u=="function"?u(e):u;h!==e&&l(h)}else i(u)},[a,e,i,l]);return[o,c]}function ice({defaultProp:e,onChange:t}){const n=N.useState(e),[r]=n,i=N.useRef(r),a=gi(t);return N.useEffect(()=>{i.current!==r&&(a(r),i.current=r)},[r,i,a]),n}var ace="VisuallyHidden",hb=N.forwardRef((e,t)=>s.jsx(Rt.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));hb.displayName=ace;var sce=hb,Nk="ToastProvider",[Sk,oce,lce]=Ij("Toast"),[rW,QKe]=Ba("Toast",[lce]),[cce,Lj]=rW(Nk),iW=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:a=50,children:o}=e,[l,c]=N.useState(null),[u,f]=N.useState(0),h=N.useRef(!1),p=N.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Nk}\`. Expected non-empty \`string\`.`),s.jsx(Sk.Provider,{scope:t,children:s.jsx(cce,{scope:t,label:n,duration:r,swipeDirection:i,swipeThreshold:a,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:N.useCallback(()=>f(m=>m+1),[]),onToastRemove:N.useCallback(()=>f(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:p,children:o})})};iW.displayName=Nk;var aW="ToastViewport",uce=["F8"],BC="toast.viewportPause",zC="toast.viewportResume",sW=N.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=uce,label:i="Notifications ({hotkey})",...a}=e,o=Lj(aW,n),l=oce(n),c=N.useRef(null),u=N.useRef(null),f=N.useRef(null),h=N.useRef(null),p=Dn(t,h,o.onViewportChange),m=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=o.toastCount>0;N.useEffect(()=>{const y=b=>{var j;r.length!==0&&r.every(P=>b[P]||b.code===P)&&((j=h.current)==null||j.focus())};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[r]),N.useEffect(()=>{const y=c.current,b=h.current;if(x&&y&&b){const w=()=>{if(!o.isClosePausedRef.current){const E=new CustomEvent(BC);b.dispatchEvent(E),o.isClosePausedRef.current=!0}},j=()=>{if(o.isClosePausedRef.current){const E=new CustomEvent(zC);b.dispatchEvent(E),o.isClosePausedRef.current=!1}},P=E=>{!y.contains(E.relatedTarget)&&j()},A=()=>{y.contains(document.activeElement)||j()};return y.addEventListener("focusin",w),y.addEventListener("focusout",P),y.addEventListener("pointermove",w),y.addEventListener("pointerleave",A),window.addEventListener("blur",w),window.addEventListener("focus",j),()=>{y.removeEventListener("focusin",w),y.removeEventListener("focusout",P),y.removeEventListener("pointermove",w),y.removeEventListener("pointerleave",A),window.removeEventListener("blur",w),window.removeEventListener("focus",j)}}},[x,o.isClosePausedRef]);const v=N.useCallback(({tabbingDirection:y})=>{const w=l().map(j=>{const P=j.ref.current,A=[P,...jce(P)];return y==="forwards"?A:A.reverse()});return(y==="forwards"?w.reverse():w).flat()},[l]);return N.useEffect(()=>{const y=h.current;if(y){const b=w=>{var A,E,O;const j=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!j){const I=document.activeElement,D=w.shiftKey;if(w.target===y&&D){(A=u.current)==null||A.focus();return}const k=v({tabbingDirection:D?"backwards":"forwards"}),F=k.findIndex(B=>B===I);iA(k.slice(F+1))?w.preventDefault():D?(E=u.current)==null||E.focus():(O=f.current)==null||O.focus()}};return y.addEventListener("keydown",b),()=>y.removeEventListener("keydown",b)}},[l,v]),s.jsxs(Jle,{ref:c,role:"region","aria-label":i.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&s.jsx(UC,{ref:u,onFocusFromOutsideViewport:()=>{const y=v({tabbingDirection:"forwards"});iA(y)}}),s.jsx(Sk.Slot,{scope:n,children:s.jsx(Rt.ol,{tabIndex:-1,...a,ref:p})}),x&&s.jsx(UC,{ref:f,onFocusFromOutsideViewport:()=>{const y=v({tabbingDirection:"backwards"});iA(y)}})]})});sW.displayName=aW;var oW="ToastFocusProxy",UC=N.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=e,a=Lj(oW,n);return s.jsx(hb,{"aria-hidden":!0,tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=a.viewport)!=null&&u.contains(l))&&r()}})});UC.displayName=oW;var Mj="Toast",dce="toast.swipeStart",fce="toast.swipeMove",hce="toast.swipeCancel",pce="toast.swipeEnd",lW=N.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:a,...o}=e,[l=!0,c]=cl({prop:r,defaultProp:i,onChange:a});return s.jsx(os,{present:n||l,children:s.jsx(vce,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:gi(e.onPause),onResume:gi(e.onResume),onSwipeStart:yt(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:yt(e.onSwipeMove,u=>{const{x:f,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${f}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:yt(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:yt(e.onSwipeEnd,u=>{const{x:f,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${f}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});lW.displayName=Mj;var[mce,gce]=rW(Mj,{onClose(){}}),vce=N.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:a,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:f,onSwipeMove:h,onSwipeCancel:p,onSwipeEnd:m,...x}=e,v=Lj(Mj,n),[y,b]=N.useState(null),w=Dn(t,B=>b(B)),j=N.useRef(null),P=N.useRef(null),A=i||v.duration,E=N.useRef(0),O=N.useRef(A),I=N.useRef(0),{onToastAdd:D,onToastRemove:z}=v,T=gi(()=>{var H;(y==null?void 0:y.contains(document.activeElement))&&((H=v.viewport)==null||H.focus()),o()}),k=N.useCallback(B=>{!B||B===1/0||(window.clearTimeout(I.current),E.current=new Date().getTime(),I.current=window.setTimeout(T,B))},[T]);N.useEffect(()=>{const B=v.viewport;if(B){const H=()=>{k(O.current),u==null||u()},X=()=>{const ae=new Date().getTime()-E.current;O.current=O.current-ae,window.clearTimeout(I.current),c==null||c()};return B.addEventListener(BC,X),B.addEventListener(zC,H),()=>{B.removeEventListener(BC,X),B.removeEventListener(zC,H)}}},[v.viewport,A,c,u,k]),N.useEffect(()=>{a&&!v.isClosePausedRef.current&&k(A)},[a,A,v.isClosePausedRef,k]),N.useEffect(()=>(D(),()=>z()),[D,z]);const F=N.useMemo(()=>y?mW(y):null,[y]);return v.viewport?s.jsxs(s.Fragment,{children:[F&&s.jsx(yce,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:F}),s.jsx(mce,{scope:n,onClose:T,children:Qo.createPortal(s.jsx(Sk.ItemSlot,{scope:n,children:s.jsx(Qle,{asChild:!0,onEscapeKeyDown:yt(l,()=>{v.isFocusedToastEscapeKeyDownRef.current||T(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:s.jsx(Rt.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":v.swipeDirection,...x,ref:w,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:yt(e.onKeyDown,B=>{B.key==="Escape"&&(l==null||l(B.nativeEvent),B.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,T()))}),onPointerDown:yt(e.onPointerDown,B=>{B.button===0&&(j.current={x:B.clientX,y:B.clientY})}),onPointerMove:yt(e.onPointerMove,B=>{if(!j.current)return;const H=B.clientX-j.current.x,X=B.clientY-j.current.y,ae=!!P.current,W=["left","right"].includes(v.swipeDirection),te=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,ue=W?te(0,H):0,ye=W?0:te(0,X),V=B.pointerType==="touch"?10:2,ee={x:ue,y:ye},Q={originalEvent:B,delta:ee};ae?(P.current=ee,kw(fce,h,Q,{discrete:!1})):i6(ee,v.swipeDirection,V)?(P.current=ee,kw(dce,f,Q,{discrete:!1}),B.target.setPointerCapture(B.pointerId)):(Math.abs(H)>V||Math.abs(X)>V)&&(j.current=null)}),onPointerUp:yt(e.onPointerUp,B=>{const H=P.current,X=B.target;if(X.hasPointerCapture(B.pointerId)&&X.releasePointerCapture(B.pointerId),P.current=null,j.current=null,H){const ae=B.currentTarget,W={originalEvent:B,delta:H};i6(H,v.swipeDirection,v.swipeThreshold)?kw(pce,m,W,{discrete:!0}):kw(hce,p,W,{discrete:!0}),ae.addEventListener("click",te=>te.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),yce=e=>{const{__scopeToast:t,children:n,...r}=e,i=Lj(Mj,t),[a,o]=N.useState(!1),[l,c]=N.useState(!1);return wce(()=>o(!0)),N.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:s.jsx(fb,{asChild:!0,children:s.jsx(hb,{...r,children:a&&s.jsxs(s.Fragment,{children:[i.label," ",n]})})})},xce="ToastTitle",cW=N.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return s.jsx(Rt.div,{...r,ref:t})});cW.displayName=xce;var bce="ToastDescription",uW=N.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return s.jsx(Rt.div,{...r,ref:t})});uW.displayName=bce;var dW="ToastAction",fW=N.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?s.jsx(pW,{altText:n,asChild:!0,children:s.jsx(Ak,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${dW}\`. Expected non-empty \`string\`.`),null)});fW.displayName=dW;var hW="ToastClose",Ak=N.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,i=gce(hW,n);return s.jsx(pW,{asChild:!0,children:s.jsx(Rt.button,{type:"button",...r,ref:t,onClick:yt(e.onClick,i.onClose)})})});Ak.displayName=hW;var pW=N.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...i}=e;return s.jsx(Rt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:t})});function mW(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),_ce(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",a=r.dataset.radixToastAnnounceExclude==="";if(!i)if(a){const o=r.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...mW(r))}}),t}function kw(e,t,n,{discrete:r}){const i=n.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?jk(i,a):i.dispatchEvent(a)}var i6=(e,t,n=0)=>{const r=Math.abs(e.x),i=Math.abs(e.y),a=r>i;return t==="left"||t==="right"?a&&r>n:!a&&i>n};function wce(e=()=>{}){const t=gi(e);na(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function _ce(e){return e.nodeType===e.ELEMENT_NODE}function jce(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function iA(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var Nce=iW,gW=sW,vW=lW,yW=cW,xW=uW,bW=fW,wW=Ak;function _W(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=_W(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Pn(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=_W(e))&&(r&&(r+=" "),r+=t);return r}const a6=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,s6=Pn,gy=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return s6(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:a}=t,o=Object.keys(i).map(u=>{const f=n==null?void 0:n[u],h=a==null?void 0:a[u];if(f===null)return null;const p=a6(f)||a6(h);return i[u][p]}),l=n&&Object.entries(n).reduce((u,f)=>{let[h,p]=f;return p===void 0||(u[h]=p),u},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,f)=>{let{class:h,className:p,...m}=f;return Object.entries(m).every(x=>{let[v,y]=x;return Array.isArray(y)?y.includes({...a,...l}[v]):{...a,...l}[v]===y})?[...u,h,p]:u},[]);return s6(e,o,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sce=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),jW=(...e)=>e.filter((t,n,r)=>!!t&&r.indexOf(t)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ace={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pce=N.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:o,...l},c)=>N.createElement("svg",{ref:c,...Ace,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:jW("lucide",i),...l},[...o.map(([u,f])=>N.createElement(u,f)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jt=(e,t)=>{const n=N.forwardRef(({className:r,...i},a)=>N.createElement(Pce,{ref:a,iconNode:t,className:jW(`lucide-${Sce(e)}`,r),...i}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pk=jt("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o6=jt("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NW=jt("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b_=jt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cce=jt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l6=jt("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dj=jt("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qp=jt("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c6=jt("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SW=jt("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jg=jt("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J0=jt("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ece=jt("CalendarClock",[["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M17.5 17.5 16 16.3V14",key:"akvzfd"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ru=jt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Us=jt("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oce=jt("ChartLine",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kce=jt("ChartNoAxesColumnIncreasing",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qC=jt("ChartNoAxesColumn",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pb=jt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ck=jt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tce=jt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w_=jt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ice=jt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mb=jt("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vu=jt("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ek=jt("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lce=jt("CircleMinus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nm=jt("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mce=jt("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dce=jt("ClipboardCopy",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2",key:"4jdomd"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v4",key:"3hqy98"}],["path",{d:"M21 14H11",key:"1bme5i"}],["path",{d:"m15 10-4 4 4 4",key:"5dvupr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dh=jt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rce=jt("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AW=jt("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PW=jt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VC=jt("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WC=jt("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ce=jt("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u6=jt("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ok=jt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fce=jt("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bce=jt("Fuel",[["line",{x1:"3",x2:"15",y1:"22",y2:"22",key:"xegly4"}],["line",{x1:"4",x2:"14",y1:"9",y2:"9",key:"xcnuvu"}],["path",{d:"M14 22V4a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v18",key:"16j0yd"}],["path",{d:"M14 13h2a2 2 0 0 1 2 2v2a2 2 0 0 0 2 2a2 2 0 0 0 2-2V9.83a2 2 0 0 0-.59-1.42L18 5",key:"7cu91f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zce=jt("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uce=jt("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ng=jt("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qce=jt("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vce=jt("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const go=jt("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wce=jt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bc=jt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yh=jt("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hce=jt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kce=jt("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d6=jt("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kk=jt("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gce=jt("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aA=jt("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ch=jt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zce=jt("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P2=jt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xce=jt("RotateCw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yce=jt("Ruler",[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qce=jt("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HC=jt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CW=jt("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __=jt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f6=jt("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KC=jt("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jce=jt("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ud=jt("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GC=jt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eue=jt("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ma=jt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lc=jt("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _o=jt("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sA=jt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tk=jt("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jo=jt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ql=jt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tue=jt("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xh=jt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Ik="-",nue=e=>{const t=iue(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:o=>{const l=o.split(Ik);return l[0]===""&&l.length!==1&&l.shift(),EW(l,t)||rue(o)},getConflictingClassGroupIds:(o,l)=>{const c=n[o]||[];return l&&r[o]?[...c,...r[o]]:c}}},EW=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),i=r?EW(e.slice(1),r):void 0;if(i)return i;if(t.validators.length===0)return;const a=e.join(Ik);return(o=t.validators.find(({validator:l})=>l(a)))==null?void 0:o.classGroupId},h6=/^\[(.+)\]$/,rue=e=>{if(h6.test(e)){const t=h6.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},iue=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return sue(Object.entries(e.classGroups),n).forEach(([a,o])=>{ZC(o,r,a,t)}),r},ZC=(e,t,n,r)=>{e.forEach(i=>{if(typeof i=="string"){const a=i===""?t:p6(t,i);a.classGroupId=n;return}if(typeof i=="function"){if(aue(i)){ZC(i(r),t,n,r);return}t.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([a,o])=>{ZC(o,p6(t,a),n,r)})})},p6=(e,t)=>{let n=e;return t.split(Ik).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},aue=e=>e.isThemeGetter,sue=(e,t)=>t?e.map(([n,r])=>{const i=r.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([o,l])=>[t+o,l])):a);return[n,i]}):e,oue=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const i=(a,o)=>{n.set(a,o),t++,t>e&&(t=0,r=n,n=new Map)};return{get(a){let o=n.get(a);if(o!==void 0)return o;if((o=r.get(a))!==void 0)return i(a,o),o},set(a,o){n.has(a)?n.set(a,o):i(a,o)}}},OW="!",lue=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,i=t[0],a=t.length,o=l=>{const c=[];let u=0,f=0,h;for(let y=0;y<l.length;y++){let b=l[y];if(u===0){if(b===i&&(r||l.slice(y,y+a)===t)){c.push(l.slice(f,y)),f=y+a;continue}if(b==="/"){h=y;continue}}b==="["?u++:b==="]"&&u--}const p=c.length===0?l:l.substring(f),m=p.startsWith(OW),x=m?p.substring(1):p,v=h&&h>f?h-f:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:x,maybePostfixModifierPosition:v}};return n?l=>n({className:l,parseClassName:o}):o},cue=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},uue=e=>({cache:oue(e.cacheSize),parseClassName:lue(e),...nue(e)}),due=/\s+/,fue=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=t,a=[],o=e.trim().split(due);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:f,hasImportantModifier:h,baseClassName:p,maybePostfixModifierPosition:m}=n(u);let x=!!m,v=r(x?p.substring(0,m):p);if(!v){if(!x){l=u+(l.length>0?" "+l:l);continue}if(v=r(p),!v){l=u+(l.length>0?" "+l:l);continue}x=!1}const y=cue(f).join(":"),b=h?y+OW:y,w=b+v;if(a.includes(w))continue;a.push(w);const j=i(v,x);for(let P=0;P<j.length;++P){const A=j[P];a.push(b+A)}l=u+(l.length>0?" "+l:l)}return l};function hue(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=kW(t))&&(r&&(r+=" "),r+=n);return r}const kW=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=kW(e[r]))&&(n&&(n+=" "),n+=t);return n};function pue(e,...t){let n,r,i,a=o;function o(c){const u=t.reduce((f,h)=>h(f),e());return n=uue(u),r=n.cache.get,i=n.cache.set,a=l,l(c)}function l(c){const u=r(c);if(u)return u;const f=fue(c,n);return i(c,f),f}return function(){return a(hue.apply(null,arguments))}}const ti=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},TW=/^\[(?:([a-z-]+):)?(.+)\]$/i,mue=/^\d+\/\d+$/,gue=new Set(["px","full","screen"]),vue=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,yue=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,xue=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,bue=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,wue=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,hd=e=>zg(e)||gue.has(e)||mue.test(e),bf=e=>vy(e,"length",Eue),zg=e=>!!e&&!Number.isNaN(Number(e)),oA=e=>vy(e,"number",zg),p0=e=>!!e&&Number.isInteger(Number(e)),_ue=e=>e.endsWith("%")&&zg(e.slice(0,-1)),Un=e=>TW.test(e),wf=e=>vue.test(e),jue=new Set(["length","size","percentage"]),Nue=e=>vy(e,jue,IW),Sue=e=>vy(e,"position",IW),Aue=new Set(["image","url"]),Pue=e=>vy(e,Aue,kue),Cue=e=>vy(e,"",Oue),m0=()=>!0,vy=(e,t,n)=>{const r=TW.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},Eue=e=>yue.test(e)&&!xue.test(e),IW=()=>!1,Oue=e=>bue.test(e),kue=e=>wue.test(e),Tue=()=>{const e=ti("colors"),t=ti("spacing"),n=ti("blur"),r=ti("brightness"),i=ti("borderColor"),a=ti("borderRadius"),o=ti("borderSpacing"),l=ti("borderWidth"),c=ti("contrast"),u=ti("grayscale"),f=ti("hueRotate"),h=ti("invert"),p=ti("gap"),m=ti("gradientColorStops"),x=ti("gradientColorStopPositions"),v=ti("inset"),y=ti("margin"),b=ti("opacity"),w=ti("padding"),j=ti("saturate"),P=ti("scale"),A=ti("sepia"),E=ti("skew"),O=ti("space"),I=ti("translate"),D=()=>["auto","contain","none"],z=()=>["auto","hidden","clip","visible","scroll"],T=()=>["auto",Un,t],k=()=>[Un,t],F=()=>["",hd,bf],B=()=>["auto",zg,Un],H=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],X=()=>["solid","dashed","dotted","double","none"],ae=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],W=()=>["start","end","center","between","around","evenly","stretch"],te=()=>["","0",Un],ue=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ye=()=>[zg,Un];return{cacheSize:500,separator:":",theme:{colors:[m0],spacing:[hd,bf],blur:["none","",wf,Un],brightness:ye(),borderColor:[e],borderRadius:["none","","full",wf,Un],borderSpacing:k(),borderWidth:F(),contrast:ye(),grayscale:te(),hueRotate:ye(),invert:te(),gap:k(),gradientColorStops:[e],gradientColorStopPositions:[_ue,bf],inset:T(),margin:T(),opacity:ye(),padding:k(),saturate:ye(),scale:ye(),sepia:te(),skew:ye(),space:k(),translate:k()},classGroups:{aspect:[{aspect:["auto","square","video",Un]}],container:["container"],columns:[{columns:[wf]}],"break-after":[{"break-after":ue()}],"break-before":[{"break-before":ue()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...H(),Un]}],overflow:[{overflow:z()}],"overflow-x":[{"overflow-x":z()}],"overflow-y":[{"overflow-y":z()}],overscroll:[{overscroll:D()}],"overscroll-x":[{"overscroll-x":D()}],"overscroll-y":[{"overscroll-y":D()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",p0,Un]}],basis:[{basis:T()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Un]}],grow:[{grow:te()}],shrink:[{shrink:te()}],order:[{order:["first","last","none",p0,Un]}],"grid-cols":[{"grid-cols":[m0]}],"col-start-end":[{col:["auto",{span:["full",p0,Un]},Un]}],"col-start":[{"col-start":B()}],"col-end":[{"col-end":B()}],"grid-rows":[{"grid-rows":[m0]}],"row-start-end":[{row:["auto",{span:[p0,Un]},Un]}],"row-start":[{"row-start":B()}],"row-end":[{"row-end":B()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Un]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Un]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...W()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...W(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...W(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[O]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[O]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Un,t]}],"min-w":[{"min-w":[Un,t,"min","max","fit"]}],"max-w":[{"max-w":[Un,t,"none","full","min","max","fit","prose",{screen:[wf]},wf]}],h:[{h:[Un,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Un,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Un,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Un,t,"auto","min","max","fit"]}],"font-size":[{text:["base",wf,bf]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",oA]}],"font-family":[{font:[m0]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Un]}],"line-clamp":[{"line-clamp":["none",zg,oA]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",hd,Un]}],"list-image":[{"list-image":["none",Un]}],"list-style-type":[{list:["none","disc","decimal",Un]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...X(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",hd,bf]}],"underline-offset":[{"underline-offset":["auto",hd,Un]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:k()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Un]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Un]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...H(),Sue]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Nue]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Pue]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...X(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:X()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...X()]}],"outline-offset":[{"outline-offset":[hd,Un]}],"outline-w":[{outline:[hd,bf]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:F()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[hd,bf]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",wf,Cue]}],"shadow-color":[{shadow:[m0]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...ae(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ae()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",wf,Un]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[h]}],saturate:[{saturate:[j]}],sepia:[{sepia:[A]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[j]}],"backdrop-sepia":[{"backdrop-sepia":[A]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Un]}],duration:[{duration:ye()}],ease:[{ease:["linear","in","out","in-out",Un]}],delay:[{delay:ye()}],animate:[{animate:["none","spin","ping","pulse","bounce",Un]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[P]}],"scale-x":[{"scale-x":[P]}],"scale-y":[{"scale-y":[P]}],rotate:[{rotate:[p0,Un]}],"translate-x":[{"translate-x":[I]}],"translate-y":[{"translate-y":[I]}],"skew-x":[{"skew-x":[E]}],"skew-y":[{"skew-y":[E]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Un]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Un]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":k()}],"scroll-mx":[{"scroll-mx":k()}],"scroll-my":[{"scroll-my":k()}],"scroll-ms":[{"scroll-ms":k()}],"scroll-me":[{"scroll-me":k()}],"scroll-mt":[{"scroll-mt":k()}],"scroll-mr":[{"scroll-mr":k()}],"scroll-mb":[{"scroll-mb":k()}],"scroll-ml":[{"scroll-ml":k()}],"scroll-p":[{"scroll-p":k()}],"scroll-px":[{"scroll-px":k()}],"scroll-py":[{"scroll-py":k()}],"scroll-ps":[{"scroll-ps":k()}],"scroll-pe":[{"scroll-pe":k()}],"scroll-pt":[{"scroll-pt":k()}],"scroll-pr":[{"scroll-pr":k()}],"scroll-pb":[{"scroll-pb":k()}],"scroll-pl":[{"scroll-pl":k()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Un]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[hd,bf,oA]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Iue=pue(Tue);function wt(...e){return Iue(Pn(e))}const Lue=Nce,LW=N.forwardRef(({className:e,...t},n)=>s.jsx(gW,{ref:n,className:wt("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));LW.displayName=gW.displayName;const Mue=gy("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),MW=N.forwardRef(({className:e,variant:t,...n},r)=>s.jsx(vW,{ref:r,className:wt(Mue({variant:t}),e),...n}));MW.displayName=vW.displayName;const Due=N.forwardRef(({className:e,...t},n)=>s.jsx(bW,{ref:n,className:wt("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));Due.displayName=bW.displayName;const DW=N.forwardRef(({className:e,...t},n)=>s.jsx(wW,{ref:n,className:wt("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:s.jsx(xh,{className:"h-4 w-4"})}));DW.displayName=wW.displayName;const RW=N.forwardRef(({className:e,...t},n)=>s.jsx(yW,{ref:n,className:wt("text-sm font-semibold",e),...t}));RW.displayName=yW.displayName;const $W=N.forwardRef(({className:e,...t},n)=>s.jsx(xW,{ref:n,className:wt("text-sm opacity-90",e),...t}));$W.displayName=xW.displayName;function Rue(){const{toasts:e}=ss();return s.jsxs(Lue,{children:[e.map(function({id:t,title:n,description:r,action:i,...a}){return s.jsxs(MW,{...a,children:[s.jsxs("div",{className:"grid gap-1",children:[n&&s.jsx(RW,{children:n}),r&&s.jsx($W,{children:r})]}),i,s.jsx(DW,{})]},t)}),s.jsx(LW,{})]})}var $ue=wU[" useId ".trim().toString()]||(()=>{}),Fue=0;function Mc(e){const[t,n]=N.useState($ue());return na(()=>{e||n(r=>r??String(Fue++))},[e]),e||(t?`radix-${t}`:"")}const Bue=["top","right","bottom","left"],bh=Math.min,Zo=Math.max,j_=Math.round,Tw=Math.floor,$u=e=>({x:e,y:e}),zue={left:"right",right:"left",bottom:"top",top:"bottom"},Uue={start:"end",end:"start"};function XC(e,t,n){return Zo(e,bh(t,n))}function qd(e,t){return typeof e=="function"?e(t):e}function Vd(e){return e.split("-")[0]}function yy(e){return e.split("-")[1]}function Lk(e){return e==="x"?"y":"x"}function Mk(e){return e==="y"?"height":"width"}function wh(e){return["top","bottom"].includes(Vd(e))?"y":"x"}function Dk(e){return Lk(wh(e))}function que(e,t,n){n===void 0&&(n=!1);const r=yy(e),i=Dk(e),a=Mk(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(o=N_(o)),[o,N_(o)]}function Vue(e){const t=N_(e);return[YC(e),t,YC(t)]}function YC(e){return e.replace(/start|end/g,t=>Uue[t])}function Wue(e,t,n){const r=["left","right"],i=["right","left"],a=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?a:o;default:return[]}}function Hue(e,t,n,r){const i=yy(e);let a=Wue(Vd(e),n==="start",r);return i&&(a=a.map(o=>o+"-"+i),t&&(a=a.concat(a.map(YC)))),a}function N_(e){return e.replace(/left|right|bottom|top/g,t=>zue[t])}function Kue(e){return{top:0,right:0,bottom:0,left:0,...e}}function FW(e){return typeof e!="number"?Kue(e):{top:e,right:e,bottom:e,left:e}}function S_(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function m6(e,t,n){let{reference:r,floating:i}=e;const a=wh(t),o=Dk(t),l=Mk(o),c=Vd(t),u=a==="y",f=r.x+r.width/2-i.width/2,h=r.y+r.height/2-i.height/2,p=r[l]/2-i[l]/2;let m;switch(c){case"top":m={x:f,y:r.y-i.height};break;case"bottom":m={x:f,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:h};break;case"left":m={x:r.x-i.width,y:h};break;default:m={x:r.x,y:r.y}}switch(yy(t)){case"start":m[o]-=p*(n&&u?-1:1);break;case"end":m[o]+=p*(n&&u?-1:1);break}return m}const Gue=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:o}=n,l=a.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:f,y:h}=m6(u,r,c),p=r,m={},x=0;for(let v=0;v<l.length;v++){const{name:y,fn:b}=l[v],{x:w,y:j,data:P,reset:A}=await b({x:f,y:h,initialPlacement:r,placement:p,strategy:i,middlewareData:m,rects:u,platform:o,elements:{reference:e,floating:t}});f=w??f,h=j??h,m={...m,[y]:{...m[y],...P}},A&&x<=50&&(x++,typeof A=="object"&&(A.placement&&(p=A.placement),A.rects&&(u=A.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:i}):A.rects),{x:f,y:h}=m6(u,p,c)),v=-1)}return{x:f,y:h,placement:p,strategy:i,middlewareData:m}};async function Wx(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:a,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:f="viewport",elementContext:h="floating",altBoundary:p=!1,padding:m=0}=qd(t,e),x=FW(m),y=l[p?h==="floating"?"reference":"floating":h],b=S_(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(y)))==null||n?y:y.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:u,rootBoundary:f,strategy:c})),w=h==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,j=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),P=await(a.isElement==null?void 0:a.isElement(j))?await(a.getScale==null?void 0:a.getScale(j))||{x:1,y:1}:{x:1,y:1},A=S_(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:w,offsetParent:j,strategy:c}):w);return{top:(b.top-A.top+x.top)/P.y,bottom:(A.bottom-b.bottom+x.bottom)/P.y,left:(b.left-A.left+x.left)/P.x,right:(A.right-b.right+x.right)/P.x}}const Zue=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:a,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:f=0}=qd(e,t)||{};if(u==null)return{};const h=FW(f),p={x:n,y:r},m=Dk(i),x=Mk(m),v=await o.getDimensions(u),y=m==="y",b=y?"top":"left",w=y?"bottom":"right",j=y?"clientHeight":"clientWidth",P=a.reference[x]+a.reference[m]-p[m]-a.floating[x],A=p[m]-a.reference[m],E=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let O=E?E[j]:0;(!O||!await(o.isElement==null?void 0:o.isElement(E)))&&(O=l.floating[j]||a.floating[x]);const I=P/2-A/2,D=O/2-v[x]/2-1,z=bh(h[b],D),T=bh(h[w],D),k=z,F=O-v[x]-T,B=O/2-v[x]/2+I,H=XC(k,B,F),X=!c.arrow&&yy(i)!=null&&B!==H&&a.reference[x]/2-(B<k?z:T)-v[x]/2<0,ae=X?B<k?B-k:B-F:0;return{[m]:p[m]+ae,data:{[m]:H,centerOffset:B-H-ae,...X&&{alignmentOffset:ae}},reset:X}}}),Xue=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:a,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:f=!0,crossAxis:h=!0,fallbackPlacements:p,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:v=!0,...y}=qd(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const b=Vd(i),w=wh(l),j=Vd(l)===l,P=await(c.isRTL==null?void 0:c.isRTL(u.floating)),A=p||(j||!v?[N_(l)]:Vue(l)),E=x!=="none";!p&&E&&A.push(...Hue(l,v,x,P));const O=[l,...A],I=await Wx(t,y),D=[];let z=((r=a.flip)==null?void 0:r.overflows)||[];if(f&&D.push(I[b]),h){const B=que(i,o,P);D.push(I[B[0]],I[B[1]])}if(z=[...z,{placement:i,overflows:D}],!D.every(B=>B<=0)){var T,k;const B=(((T=a.flip)==null?void 0:T.index)||0)+1,H=O[B];if(H)return{data:{index:B,overflows:z},reset:{placement:H}};let X=(k=z.filter(ae=>ae.overflows[0]<=0).sort((ae,W)=>ae.overflows[1]-W.overflows[1])[0])==null?void 0:k.placement;if(!X)switch(m){case"bestFit":{var F;const ae=(F=z.filter(W=>{if(E){const te=wh(W.placement);return te===w||te==="y"}return!0}).map(W=>[W.placement,W.overflows.filter(te=>te>0).reduce((te,ue)=>te+ue,0)]).sort((W,te)=>W[1]-te[1])[0])==null?void 0:F[0];ae&&(X=ae);break}case"initialPlacement":X=l;break}if(i!==X)return{reset:{placement:X}}}return{}}}};function g6(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function v6(e){return Bue.some(t=>e[t]>=0)}const Yue=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...i}=qd(e,t);switch(r){case"referenceHidden":{const a=await Wx(t,{...i,elementContext:"reference"}),o=g6(a,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:v6(o)}}}case"escaped":{const a=await Wx(t,{...i,altBoundary:!0}),o=g6(a,n.floating);return{data:{escapedOffsets:o,escaped:v6(o)}}}default:return{}}}}};async function Que(e,t){const{placement:n,platform:r,elements:i}=e,a=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Vd(n),l=yy(n),c=wh(n)==="y",u=["left","top"].includes(o)?-1:1,f=a&&c?-1:1,h=qd(t,e);let{mainAxis:p,crossAxis:m,alignmentAxis:x}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof x=="number"&&(m=l==="end"?x*-1:x),c?{x:m*f,y:p*u}:{x:p*u,y:m*f}}const Jue=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:a,placement:o,middlewareData:l}=t,c=await Que(t,e);return o===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:i+c.x,y:a+c.y,data:{...c,placement:o}}}}},ede=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:a=!0,crossAxis:o=!1,limiter:l={fn:y=>{let{x:b,y:w}=y;return{x:b,y:w}}},...c}=qd(e,t),u={x:n,y:r},f=await Wx(t,c),h=wh(Vd(i)),p=Lk(h);let m=u[p],x=u[h];if(a){const y=p==="y"?"top":"left",b=p==="y"?"bottom":"right",w=m+f[y],j=m-f[b];m=XC(w,m,j)}if(o){const y=h==="y"?"top":"left",b=h==="y"?"bottom":"right",w=x+f[y],j=x-f[b];x=XC(w,x,j)}const v=l.fn({...t,[p]:m,[h]:x});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[p]:a,[h]:o}}}}}},tde=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:a,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=qd(e,t),f={x:n,y:r},h=wh(i),p=Lk(h);let m=f[p],x=f[h];const v=qd(l,t),y=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(c){const j=p==="y"?"height":"width",P=a.reference[p]-a.floating[j]+y.mainAxis,A=a.reference[p]+a.reference[j]-y.mainAxis;m<P?m=P:m>A&&(m=A)}if(u){var b,w;const j=p==="y"?"width":"height",P=["top","left"].includes(Vd(i)),A=a.reference[h]-a.floating[j]+(P&&((b=o.offset)==null?void 0:b[h])||0)+(P?0:y.crossAxis),E=a.reference[h]+a.reference[j]+(P?0:((w=o.offset)==null?void 0:w[h])||0)-(P?y.crossAxis:0);x<A?x=A:x>E&&(x=E)}return{[p]:m,[h]:x}}}},nde=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:a,platform:o,elements:l}=t,{apply:c=()=>{},...u}=qd(e,t),f=await Wx(t,u),h=Vd(i),p=yy(i),m=wh(i)==="y",{width:x,height:v}=a.floating;let y,b;h==="top"||h==="bottom"?(y=h,b=p===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(b=h,y=p==="end"?"top":"bottom");const w=v-f.top-f.bottom,j=x-f.left-f.right,P=bh(v-f[y],w),A=bh(x-f[b],j),E=!t.middlewareData.shift;let O=P,I=A;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(I=j),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(O=w),E&&!p){const z=Zo(f.left,0),T=Zo(f.right,0),k=Zo(f.top,0),F=Zo(f.bottom,0);m?I=x-2*(z!==0||T!==0?z+T:Zo(f.left,f.right)):O=v-2*(k!==0||F!==0?k+F:Zo(f.top,f.bottom))}await c({...t,availableWidth:I,availableHeight:O});const D=await o.getDimensions(l.floating);return x!==D.width||v!==D.height?{reset:{rects:!0}}:{}}}};function Rj(){return typeof window<"u"}function xy(e){return BW(e)?(e.nodeName||"").toLowerCase():"#document"}function al(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Yu(e){var t;return(t=(BW(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function BW(e){return Rj()?e instanceof Node||e instanceof al(e).Node:!1}function zc(e){return Rj()?e instanceof Element||e instanceof al(e).Element:!1}function Wu(e){return Rj()?e instanceof HTMLElement||e instanceof al(e).HTMLElement:!1}function y6(e){return!Rj()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof al(e).ShadowRoot}function gb(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=Uc(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function rde(e){return["table","td","th"].includes(xy(e))}function $j(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Rk(e){const t=$k(),n=zc(e)?Uc(e):e;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function ide(e){let t=_h(e);for(;Wu(t)&&!Av(t);){if(Rk(t))return t;if($j(t))return null;t=_h(t)}return null}function $k(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Av(e){return["html","body","#document"].includes(xy(e))}function Uc(e){return al(e).getComputedStyle(e)}function Fj(e){return zc(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function _h(e){if(xy(e)==="html")return e;const t=e.assignedSlot||e.parentNode||y6(e)&&e.host||Yu(e);return y6(t)?t.host:t}function zW(e){const t=_h(e);return Av(t)?e.ownerDocument?e.ownerDocument.body:e.body:Wu(t)&&gb(t)?t:zW(t)}function Hx(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=zW(e),a=i===((r=e.ownerDocument)==null?void 0:r.body),o=al(i);if(a){const l=QC(o);return t.concat(o,o.visualViewport||[],gb(i)?i:[],l&&n?Hx(l):[])}return t.concat(i,Hx(i,[],n))}function QC(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function UW(e){const t=Uc(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=Wu(e),a=i?e.offsetWidth:n,o=i?e.offsetHeight:r,l=j_(n)!==a||j_(r)!==o;return l&&(n=a,r=o),{width:n,height:r,$:l}}function Fk(e){return zc(e)?e:e.contextElement}function Ug(e){const t=Fk(e);if(!Wu(t))return $u(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:a}=UW(t);let o=(a?j_(n.width):n.width)/r,l=(a?j_(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const ade=$u(0);function qW(e){const t=al(e);return!$k()||!t.visualViewport?ade:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function sde(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==al(e)?!1:t}function rm(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),a=Fk(e);let o=$u(1);t&&(r?zc(r)&&(o=Ug(r)):o=Ug(e));const l=sde(a,n,r)?qW(a):$u(0);let c=(i.left+l.x)/o.x,u=(i.top+l.y)/o.y,f=i.width/o.x,h=i.height/o.y;if(a){const p=al(a),m=r&&zc(r)?al(r):r;let x=p,v=QC(x);for(;v&&r&&m!==x;){const y=Ug(v),b=v.getBoundingClientRect(),w=Uc(v),j=b.left+(v.clientLeft+parseFloat(w.paddingLeft))*y.x,P=b.top+(v.clientTop+parseFloat(w.paddingTop))*y.y;c*=y.x,u*=y.y,f*=y.x,h*=y.y,c+=j,u+=P,x=al(v),v=QC(x)}}return S_({width:f,height:h,x:c,y:u})}function Bk(e,t){const n=Fj(e).scrollLeft;return t?t.left+n:rm(Yu(e)).left+n}function VW(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),i=r.left+t.scrollLeft-(n?0:Bk(e,r)),a=r.top+t.scrollTop;return{x:i,y:a}}function ode(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const a=i==="fixed",o=Yu(r),l=t?$j(t.floating):!1;if(r===o||l&&a)return n;let c={scrollLeft:0,scrollTop:0},u=$u(1);const f=$u(0),h=Wu(r);if((h||!h&&!a)&&((xy(r)!=="body"||gb(o))&&(c=Fj(r)),Wu(r))){const m=rm(r);u=Ug(r),f.x=m.x+r.clientLeft,f.y=m.y+r.clientTop}const p=o&&!h&&!a?VW(o,c,!0):$u(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+f.x+p.x,y:n.y*u.y-c.scrollTop*u.y+f.y+p.y}}function lde(e){return Array.from(e.getClientRects())}function cde(e){const t=Yu(e),n=Fj(e),r=e.ownerDocument.body,i=Zo(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=Zo(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Bk(e);const l=-n.scrollTop;return Uc(r).direction==="rtl"&&(o+=Zo(t.clientWidth,r.clientWidth)-i),{width:i,height:a,x:o,y:l}}function ude(e,t){const n=al(e),r=Yu(e),i=n.visualViewport;let a=r.clientWidth,o=r.clientHeight,l=0,c=0;if(i){a=i.width,o=i.height;const u=$k();(!u||u&&t==="fixed")&&(l=i.offsetLeft,c=i.offsetTop)}return{width:a,height:o,x:l,y:c}}function dde(e,t){const n=rm(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,a=Wu(e)?Ug(e):$u(1),o=e.clientWidth*a.x,l=e.clientHeight*a.y,c=i*a.x,u=r*a.y;return{width:o,height:l,x:c,y:u}}function x6(e,t,n){let r;if(t==="viewport")r=ude(e,n);else if(t==="document")r=cde(Yu(e));else if(zc(t))r=dde(t,n);else{const i=qW(e);r={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return S_(r)}function WW(e,t){const n=_h(e);return n===t||!zc(n)||Av(n)?!1:Uc(n).position==="fixed"||WW(n,t)}function fde(e,t){const n=t.get(e);if(n)return n;let r=Hx(e,[],!1).filter(l=>zc(l)&&xy(l)!=="body"),i=null;const a=Uc(e).position==="fixed";let o=a?_h(e):e;for(;zc(o)&&!Av(o);){const l=Uc(o),c=Rk(o);!c&&l.position==="fixed"&&(i=null),(a?!c&&!i:!c&&l.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||gb(o)&&!c&&WW(e,o))?r=r.filter(f=>f!==o):i=l,o=_h(o)}return t.set(e,r),r}function hde(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const o=[...n==="clippingAncestors"?$j(t)?[]:fde(t,this._c):[].concat(n),r],l=o[0],c=o.reduce((u,f)=>{const h=x6(t,f,i);return u.top=Zo(h.top,u.top),u.right=bh(h.right,u.right),u.bottom=bh(h.bottom,u.bottom),u.left=Zo(h.left,u.left),u},x6(t,l,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function pde(e){const{width:t,height:n}=UW(e);return{width:t,height:n}}function mde(e,t,n){const r=Wu(t),i=Yu(t),a=n==="fixed",o=rm(e,!0,a,t);let l={scrollLeft:0,scrollTop:0};const c=$u(0);if(r||!r&&!a)if((xy(t)!=="body"||gb(i))&&(l=Fj(t)),r){const p=rm(t,!0,a,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else i&&(c.x=Bk(i));const u=i&&!r&&!a?VW(i,l):$u(0),f=o.left+l.scrollLeft-c.x-u.x,h=o.top+l.scrollTop-c.y-u.y;return{x:f,y:h,width:o.width,height:o.height}}function lA(e){return Uc(e).position==="static"}function b6(e,t){if(!Wu(e)||Uc(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Yu(e)===n&&(n=n.ownerDocument.body),n}function HW(e,t){const n=al(e);if($j(e))return n;if(!Wu(e)){let i=_h(e);for(;i&&!Av(i);){if(zc(i)&&!lA(i))return i;i=_h(i)}return n}let r=b6(e,t);for(;r&&rde(r)&&lA(r);)r=b6(r,t);return r&&Av(r)&&lA(r)&&!Rk(r)?n:r||ide(e)||n}const gde=async function(e){const t=this.getOffsetParent||HW,n=this.getDimensions,r=await n(e.floating);return{reference:mde(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function vde(e){return Uc(e).direction==="rtl"}const yde={convertOffsetParentRelativeRectToViewportRelativeRect:ode,getDocumentElement:Yu,getClippingRect:hde,getOffsetParent:HW,getElementRects:gde,getClientRects:lde,getDimensions:pde,getScale:Ug,isElement:zc,isRTL:vde};function KW(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function xde(e,t){let n=null,r;const i=Yu(e);function a(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const u=e.getBoundingClientRect(),{left:f,top:h,width:p,height:m}=u;if(l||t(),!p||!m)return;const x=Tw(h),v=Tw(i.clientWidth-(f+p)),y=Tw(i.clientHeight-(h+m)),b=Tw(f),j={rootMargin:-x+"px "+-v+"px "+-y+"px "+-b+"px",threshold:Zo(0,bh(1,c))||1};let P=!0;function A(E){const O=E[0].intersectionRatio;if(O!==c){if(!P)return o();O?o(!1,O):r=setTimeout(()=>{o(!1,1e-7)},1e3)}O===1&&!KW(u,e.getBoundingClientRect())&&o(),P=!1}try{n=new IntersectionObserver(A,{...j,root:i.ownerDocument})}catch{n=new IntersectionObserver(A,j)}n.observe(e)}return o(!0),a}function bde(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=Fk(e),f=i||a?[...u?Hx(u):[],...Hx(t)]:[];f.forEach(b=>{i&&b.addEventListener("scroll",n,{passive:!0}),a&&b.addEventListener("resize",n)});const h=u&&l?xde(u,n):null;let p=-1,m=null;o&&(m=new ResizeObserver(b=>{let[w]=b;w&&w.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var j;(j=m)==null||j.observe(t)})),n()}),u&&!c&&m.observe(u),m.observe(t));let x,v=c?rm(e):null;c&&y();function y(){const b=rm(e);v&&!KW(v,b)&&n(),v=b,x=requestAnimationFrame(y)}return n(),()=>{var b;f.forEach(w=>{i&&w.removeEventListener("scroll",n),a&&w.removeEventListener("resize",n)}),h==null||h(),(b=m)==null||b.disconnect(),m=null,c&&cancelAnimationFrame(x)}}const wde=Jue,_de=ede,jde=Xue,Nde=nde,Sde=Yue,w6=Zue,Ade=tde,Pde=(e,t,n)=>{const r=new Map,i={platform:yde,...n},a={...i.platform,_c:r};return Gue(e,t,{...i,platform:a})};var C2=typeof document<"u"?N.useLayoutEffect:N.useEffect;function A_(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!A_(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const a=i[r];if(!(a==="_owner"&&e.$$typeof)&&!A_(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function GW(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function _6(e,t){const n=GW(e);return Math.round(t*n)/n}function cA(e){const t=N.useRef(e);return C2(()=>{t.current=e}),t}function Cde(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:a,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[f,h]=N.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[p,m]=N.useState(r);A_(p,r)||m(r);const[x,v]=N.useState(null),[y,b]=N.useState(null),w=N.useCallback(W=>{W!==E.current&&(E.current=W,v(W))},[]),j=N.useCallback(W=>{W!==O.current&&(O.current=W,b(W))},[]),P=a||x,A=o||y,E=N.useRef(null),O=N.useRef(null),I=N.useRef(f),D=c!=null,z=cA(c),T=cA(i),k=cA(u),F=N.useCallback(()=>{if(!E.current||!O.current)return;const W={placement:t,strategy:n,middleware:p};T.current&&(W.platform=T.current),Pde(E.current,O.current,W).then(te=>{const ue={...te,isPositioned:k.current!==!1};B.current&&!A_(I.current,ue)&&(I.current=ue,Qo.flushSync(()=>{h(ue)}))})},[p,t,n,T,k]);C2(()=>{u===!1&&I.current.isPositioned&&(I.current.isPositioned=!1,h(W=>({...W,isPositioned:!1})))},[u]);const B=N.useRef(!1);C2(()=>(B.current=!0,()=>{B.current=!1}),[]),C2(()=>{if(P&&(E.current=P),A&&(O.current=A),P&&A){if(z.current)return z.current(P,A,F);F()}},[P,A,F,z,D]);const H=N.useMemo(()=>({reference:E,floating:O,setReference:w,setFloating:j}),[w,j]),X=N.useMemo(()=>({reference:P,floating:A}),[P,A]),ae=N.useMemo(()=>{const W={position:n,left:0,top:0};if(!X.floating)return W;const te=_6(X.floating,f.x),ue=_6(X.floating,f.y);return l?{...W,transform:"translate("+te+"px, "+ue+"px)",...GW(X.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:te,top:ue}},[n,l,X.floating,f.x,f.y]);return N.useMemo(()=>({...f,update:F,refs:H,elements:X,floatingStyles:ae}),[f,F,H,X,ae])}const Ede=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:i}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?w6({element:r.current,padding:i}).fn(n):{}:r?w6({element:r,padding:i}).fn(n):{}}}},Ode=(e,t)=>({...wde(e),options:[e,t]}),kde=(e,t)=>({..._de(e),options:[e,t]}),Tde=(e,t)=>({...Ade(e),options:[e,t]}),Ide=(e,t)=>({...jde(e),options:[e,t]}),Lde=(e,t)=>({...Nde(e),options:[e,t]}),Mde=(e,t)=>({...Sde(e),options:[e,t]}),Dde=(e,t)=>({...Ede(e),options:[e,t]});var Rde="Arrow",ZW=N.forwardRef((e,t)=>{const{children:n,width:r=10,height:i=5,...a}=e;return s.jsx(Rt.svg,{...a,ref:t,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});ZW.displayName=Rde;var $de=ZW;function zk(e){const[t,n]=N.useState(void 0);return na(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let o,l;if("borderBoxSize"in a){const c=a.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;n({width:o,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var Uk="Popper",[XW,by]=Ba(Uk),[Fde,YW]=XW(Uk),QW=e=>{const{__scopePopper:t,children:n}=e,[r,i]=N.useState(null);return s.jsx(Fde,{scope:t,anchor:r,onAnchorChange:i,children:n})};QW.displayName=Uk;var JW="PopperAnchor",eH=N.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...i}=e,a=YW(JW,n),o=N.useRef(null),l=Dn(t,o);return N.useEffect(()=>{a.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:s.jsx(Rt.div,{...i,ref:l})});eH.displayName=JW;var qk="PopperContent",[Bde,zde]=XW(qk),tH=N.forwardRef((e,t)=>{var ve,Z,ne,ge,Ee,be;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:a="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:f=0,sticky:h="partial",hideWhenDetached:p=!1,updatePositionStrategy:m="optimized",onPlaced:x,...v}=e,y=YW(qk,n),[b,w]=N.useState(null),j=Dn(t,Ue=>w(Ue)),[P,A]=N.useState(null),E=zk(P),O=(E==null?void 0:E.width)??0,I=(E==null?void 0:E.height)??0,D=r+(a!=="center"?"-"+a:""),z=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},T=Array.isArray(u)?u:[u],k=T.length>0,F={padding:z,boundary:T.filter(qde),altBoundary:k},{refs:B,floatingStyles:H,placement:X,isPositioned:ae,middlewareData:W}=Cde({strategy:"fixed",placement:D,whileElementsMounted:(...Ue)=>bde(...Ue,{animationFrame:m==="always"}),elements:{reference:y.anchor},middleware:[Ode({mainAxis:i+I,alignmentAxis:o}),c&&kde({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?Tde():void 0,...F}),c&&Ide({...F}),Lde({...F,apply:({elements:Ue,rects:Pe,availableWidth:ce,availableHeight:it})=>{const{width:_t,height:gt}=Pe.reference,Ye=Ue.floating.style;Ye.setProperty("--radix-popper-available-width",`${ce}px`),Ye.setProperty("--radix-popper-available-height",`${it}px`),Ye.setProperty("--radix-popper-anchor-width",`${_t}px`),Ye.setProperty("--radix-popper-anchor-height",`${gt}px`)}}),P&&Dde({element:P,padding:l}),Vde({arrowWidth:O,arrowHeight:I}),p&&Mde({strategy:"referenceHidden",...F})]}),[te,ue]=iH(X),ye=gi(x);na(()=>{ae&&(ye==null||ye())},[ae,ye]);const V=(ve=W.arrow)==null?void 0:ve.x,ee=(Z=W.arrow)==null?void 0:Z.y,Q=((ne=W.arrow)==null?void 0:ne.centerOffset)!==0,[de,le]=N.useState();return na(()=>{b&&le(window.getComputedStyle(b).zIndex)},[b]),s.jsx("div",{ref:B.setFloating,"data-radix-popper-content-wrapper":"",style:{...H,transform:ae?H.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:de,"--radix-popper-transform-origin":[(ge=W.transformOrigin)==null?void 0:ge.x,(Ee=W.transformOrigin)==null?void 0:Ee.y].join(" "),...((be=W.hide)==null?void 0:be.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(Bde,{scope:n,placedSide:te,onArrowChange:A,arrowX:V,arrowY:ee,shouldHideArrow:Q,children:s.jsx(Rt.div,{"data-side":te,"data-align":ue,...v,ref:j,style:{...v.style,animation:ae?void 0:"none"}})})})});tH.displayName=qk;var nH="PopperArrow",Ude={top:"bottom",right:"left",bottom:"top",left:"right"},rH=N.forwardRef(function(t,n){const{__scopePopper:r,...i}=t,a=zde(nH,r),o=Ude[a.placedSide];return s.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:s.jsx($de,{...i,ref:n,style:{...i.style,display:"block"}})})});rH.displayName=nH;function qde(e){return e!==null}var Vde=e=>({name:"transformOrigin",options:e,fn(t){var y,b,w;const{placement:n,rects:r,middlewareData:i}=t,o=((y=i.arrow)==null?void 0:y.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,f]=iH(n),h={start:"0%",center:"50%",end:"100%"}[f],p=(((b=i.arrow)==null?void 0:b.x)??0)+l/2,m=(((w=i.arrow)==null?void 0:w.y)??0)+c/2;let x="",v="";return u==="bottom"?(x=o?h:`${p}px`,v=`${-c}px`):u==="top"?(x=o?h:`${p}px`,v=`${r.floating.height+c}px`):u==="right"?(x=`${-c}px`,v=o?h:`${m}px`):u==="left"&&(x=`${r.floating.width+c}px`,v=o?h:`${m}px`),{data:{x,y:v}}}});function iH(e){const[t,n="center"]=e.split("-");return[t,n]}var aH=QW,Vk=eH,Wk=tH,Hk=rH,[Bj,JKe]=Ba("Tooltip",[by]),Kk=by(),sH="TooltipProvider",Wde=700,j6="tooltip.open",[Hde,oH]=Bj(sH),lH=e=>{const{__scopeTooltip:t,delayDuration:n=Wde,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:a}=e,o=N.useRef(!0),l=N.useRef(!1),c=N.useRef(0);return N.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),s.jsx(Hde,{scope:t,isOpenDelayedRef:o,delayDuration:n,onOpen:N.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:N.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:N.useCallback(u=>{l.current=u},[]),disableHoverableContent:i,children:a})};lH.displayName=sH;var cH="Tooltip",[eGe,zj]=Bj(cH),JC="TooltipTrigger",Kde=N.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=zj(JC,n),a=oH(JC,n),o=Kk(n),l=N.useRef(null),c=Dn(t,l,i.onTriggerChange),u=N.useRef(!1),f=N.useRef(!1),h=N.useCallback(()=>u.current=!1,[]);return N.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),s.jsx(Vk,{asChild:!0,...o,children:s.jsx(Rt.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:c,onPointerMove:yt(e.onPointerMove,p=>{p.pointerType!=="touch"&&!f.current&&!a.isPointerInTransitRef.current&&(i.onTriggerEnter(),f.current=!0)}),onPointerLeave:yt(e.onPointerLeave,()=>{i.onTriggerLeave(),f.current=!1}),onPointerDown:yt(e.onPointerDown,()=>{i.open&&i.onClose(),u.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:yt(e.onFocus,()=>{u.current||i.onOpen()}),onBlur:yt(e.onBlur,i.onClose),onClick:yt(e.onClick,i.onClose)})})});Kde.displayName=JC;var Gde="TooltipPortal",[tGe,Zde]=Bj(Gde,{forceMount:void 0}),Pv="TooltipContent",uH=N.forwardRef((e,t)=>{const n=Zde(Pv,e.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...a}=e,o=zj(Pv,e.__scopeTooltip);return s.jsx(os,{present:r||o.open,children:o.disableHoverableContent?s.jsx(dH,{side:i,...a,ref:t}):s.jsx(Xde,{side:i,...a,ref:t})})}),Xde=N.forwardRef((e,t)=>{const n=zj(Pv,e.__scopeTooltip),r=oH(Pv,e.__scopeTooltip),i=N.useRef(null),a=Dn(t,i),[o,l]=N.useState(null),{trigger:c,onClose:u}=n,f=i.current,{onPointerInTransitChange:h}=r,p=N.useCallback(()=>{l(null),h(!1)},[h]),m=N.useCallback((x,v)=>{const y=x.currentTarget,b={x:x.clientX,y:x.clientY},w=tfe(b,y.getBoundingClientRect()),j=nfe(b,w),P=rfe(v.getBoundingClientRect()),A=afe([...j,...P]);l(A),h(!0)},[h]);return N.useEffect(()=>()=>p(),[p]),N.useEffect(()=>{if(c&&f){const x=y=>m(y,f),v=y=>m(y,c);return c.addEventListener("pointerleave",x),f.addEventListener("pointerleave",v),()=>{c.removeEventListener("pointerleave",x),f.removeEventListener("pointerleave",v)}}},[c,f,m,p]),N.useEffect(()=>{if(o){const x=v=>{const y=v.target,b={x:v.clientX,y:v.clientY},w=(c==null?void 0:c.contains(y))||(f==null?void 0:f.contains(y)),j=!ife(b,o);w?p():j&&(p(),u())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[c,f,o,u,p]),s.jsx(dH,{...e,ref:a})}),[Yde,Qde]=Bj(cH,{isInside:!1}),Jde=JV("TooltipContent"),dH=N.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:o,...l}=e,c=zj(Pv,n),u=Kk(n),{onClose:f}=c;return N.useEffect(()=>(document.addEventListener(j6,f),()=>document.removeEventListener(j6,f)),[f]),N.useEffect(()=>{if(c.trigger){const h=p=>{const m=p.target;m!=null&&m.contains(c.trigger)&&f()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[c.trigger,f]),s.jsx(my,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:f,children:s.jsxs(Wk,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx(Jde,{children:r}),s.jsx(Yde,{scope:n,isInside:!0,children:s.jsx(sce,{id:c.contentId,role:"tooltip",children:i||r})})]})})});uH.displayName=Pv;var fH="TooltipArrow",efe=N.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=Kk(n);return Qde(fH,n).isInside?null:s.jsx(Hk,{...i,...r,ref:t})});efe.displayName=fH;function tfe(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(n,r,i,a)){case a:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function nfe(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function rfe(e){const{top:t,right:n,bottom:r,left:i}=e;return[{x:i,y:t},{x:n,y:t},{x:n,y:r},{x:i,y:r}]}function ife(e,t){const{x:n,y:r}=e;let i=!1;for(let a=0,o=t.length-1;a<t.length;o=a++){const l=t[a].x,c=t[a].y,u=t[o].x,f=t[o].y;c>r!=f>r&&n<(u-l)*(r-c)/(f-c)+l&&(i=!i)}return i}function afe(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),sfe(t)}function sfe(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const i=e[r];for(;t.length>=2;){const a=t[t.length-1],o=t[t.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))t.pop();else break}t.push(i)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const i=e[r];for(;n.length>=2;){const a=n[n.length-1],o=n[n.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))n.pop();else break}n.push(i)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var ofe=lH,hH=uH;const lfe=ofe,cfe=N.forwardRef(({className:e,sideOffset:t=4,...n},r)=>s.jsx(hH,{ref:r,sideOffset:t,className:wt("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...n}));cfe.displayName=hH.displayName;const ot=N.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:wt("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));ot.displayName="Card";const Ht=N.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:wt("flex flex-col space-y-1.5 p-6",e),...t}));Ht.displayName="CardHeader";const Qt=N.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:wt("text-2xl font-semibold leading-none tracking-tight",e),...t}));Qt.displayName="CardTitle";const fr=N.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:wt("text-sm text-muted-foreground",e),...t}));fr.displayName="CardDescription";const lt=N.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:wt("p-6 pt-0",e),...t}));lt.displayName="CardContent";const pH=N.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:wt("flex items-center p-6 pt-0",e),...t}));pH.displayName="CardFooter";function ufe(){return s.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:s.jsx(ot,{className:"w-full max-w-md mx-4",children:s.jsxs(lt,{className:"pt-6",children:[s.jsxs("div",{className:"flex mb-4 gap-2",children:[s.jsx(mb,{className:"h-8 w-8 text-red-500"}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),s.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}var dfe=(e,t,n,r,i,a,o,l)=>{let c=document.documentElement,u=["light","dark"];function f(m){(Array.isArray(e)?e:[e]).forEach(x=>{let v=x==="class",y=v&&a?i.map(b=>a[b]||b):i;v?(c.classList.remove(...y),c.classList.add(a&&a[m]?a[m]:m)):c.setAttribute(x,m)}),h(m)}function h(m){l&&u.includes(m)&&(c.style.colorScheme=m)}function p(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(r)f(r);else try{let m=localStorage.getItem(t)||n,x=o&&m==="system"?p():m;f(x)}catch{}},N6=["light","dark"],mH="(prefers-color-scheme: dark)",ffe=typeof window>"u",gH=N.createContext(void 0),hfe=e=>N.useContext(gH)?N.createElement(N.Fragment,null,e.children):N.createElement(mfe,{...e}),pfe=["light","dark"],mfe=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:n=!0,enableColorScheme:r=!0,storageKey:i="theme",themes:a=pfe,defaultTheme:o=n?"system":"light",attribute:l="data-theme",value:c,children:u,nonce:f,scriptProps:h})=>{let[p,m]=N.useState(()=>vfe(i,o)),[x,v]=N.useState(()=>p==="system"?uA():p),y=c?Object.values(c):a,b=N.useCallback(A=>{let E=A;if(!E)return;A==="system"&&n&&(E=uA());let O=c?c[E]:E,I=t?yfe(f):null,D=document.documentElement,z=T=>{T==="class"?(D.classList.remove(...y),O&&D.classList.add(O)):T.startsWith("data-")&&(O?D.setAttribute(T,O):D.removeAttribute(T))};if(Array.isArray(l)?l.forEach(z):z(l),r){let T=N6.includes(o)?o:null,k=N6.includes(E)?E:T;D.style.colorScheme=k}I==null||I()},[f]),w=N.useCallback(A=>{let E=typeof A=="function"?A(p):A;m(E);try{localStorage.setItem(i,E)}catch{}},[p]),j=N.useCallback(A=>{let E=uA(A);v(E),p==="system"&&n&&!e&&b("system")},[p,e]);N.useEffect(()=>{let A=window.matchMedia(mH);return A.addListener(j),j(A),()=>A.removeListener(j)},[j]),N.useEffect(()=>{let A=E=>{E.key===i&&(E.newValue?m(E.newValue):w(o))};return window.addEventListener("storage",A),()=>window.removeEventListener("storage",A)},[w]),N.useEffect(()=>{b(e??p)},[e,p]);let P=N.useMemo(()=>({theme:p,setTheme:w,forcedTheme:e,resolvedTheme:p==="system"?x:p,themes:n?[...a,"system"]:a,systemTheme:n?x:void 0}),[p,w,e,x,n,a]);return N.createElement(gH.Provider,{value:P},N.createElement(gfe,{forcedTheme:e,storageKey:i,attribute:l,enableSystem:n,enableColorScheme:r,defaultTheme:o,value:c,themes:a,nonce:f,scriptProps:h}),u)},gfe=N.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:i,defaultTheme:a,value:o,themes:l,nonce:c,scriptProps:u})=>{let f=JSON.stringify([n,t,a,e,l,o,r,i]).slice(1,-1);return N.createElement("script",{...u,suppressHydrationWarning:!0,nonce:typeof window>"u"?c:"",dangerouslySetInnerHTML:{__html:`(${dfe.toString()})(${f})`}})}),vfe=(e,t)=>{if(ffe)return;let n;try{n=localStorage.getItem(e)||void 0}catch{}return n||t},yfe=e=>{let t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(t),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(t)},1)}},uA=e=>(e||(e=window.matchMedia(mH)),e.matches?"dark":"light");const xfe="modulepreload",bfe=function(e){return"/"+e},S6={},E2=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(c=>{if(c=bfe(c),c in S6)return;S6[c]=!0;const u=c.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${f}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":xfe,u||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),u)return new Promise((p,m)=>{h.addEventListener("load",p),h.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return i.then(o=>{for(const l of o||[])l.status==="rejected"&&a(l.reason);return t().catch(a)})},vH=N.createContext(null);function wfe({children:e}){const[t,n]=N.useState(null),[r,i]=N.useState(!0),[a,o]=N.useState(!1),{toast:l}=ss(),c=async()=>{try{const v=Sv();if(!v){n(null);return}i(!0);const y=await fetch("/api/user",{headers:{Authorization:`Bearer ${v}`}});if(y.ok){const b=await y.json();n(b)}else _g(),n(null),Ni.invalidateQueries()}catch{n(null)}finally{i(!1)}};N.useEffect(()=>{(async()=>{try{const y=Sv();if(!y){n(null),i(!1);return}const b=await fetch("/api/user",{headers:{Authorization:`Bearer ${y}`}});if(b.ok){const w=await b.json();n(w)}else _g(),n(null)}catch{_g(),n(null)}finally{i(!1),o(!0)}})()},[]);const u=async(v,y)=>{try{i(!0);const{apiRequest:b,setAuthToken:w}=await E2(async()=>{const{apiRequest:E,setAuthToken:O}=await Promise.resolve().then(()=>Ile);return{apiRequest:E,setAuthToken:O}},void 0),j=await b("POST","/api/login",{username:v,password:y});if(!j.ok){const E=await j.json();throw new Error(E.message||"Error al iniciar sesión")}const P=await j.json(),A=P.token||P.jwt||P.accessToken;if(!A)throw new Error("No se recibió token del servidor");w(A),n(P.user),Ni.invalidateQueries(),l({title:"¡Bienvenido!",description:`Sesión iniciada como ${P.user.name}`})}catch(b){throw console.error("[Auth] Error login:",b),l({title:"Error al iniciar sesión",description:b.message||"Credenciales incorrectas",variant:"destructive"}),b}finally{i(!1)}},f=async()=>{try{i(!0),_g(),n(null),Ni.clear(),l({title:"Sesión cerrada",description:"Has cerrado sesión correctamente"})}catch(v){console.error("[Auth] Error logout:",v),l({title:"Error al cerrar sesión",description:"Ha ocurrido un error al cerrar la sesión",variant:"destructive"})}finally{i(!1)}},h=(t==null?void 0:t.role)==="admin",p=(t==null?void 0:t.role)==="admin"||(t==null?void 0:t.role)==="manager"||(t==null?void 0:t.name)==="Mario Reynoso";return s.jsx(vH.Provider,{value:{user:t,isLoading:r,authReady:a,isAdmin:h,isMarioOrAdmin:p,hasLogisticsAccess:!0,hasSalesAccess:!0,login:u,logout:f,refreshUser:c},children:e})}function Qu(){const e=N.useContext(vH);if(!e)throw new Error("useAuth debe ser usado dentro de un AuthProvider");return e}const Gk=gy("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Je=N.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...i},a)=>{const o=r?YV:"button";return s.jsx(o,{className:wt(Gk({variant:t,size:n,className:e})),ref:a,...i})});Je.displayName="Button";function yH({className:e="",height:t=100}){return s.jsx("img",{src:"/Logo-ECONOVA-OF_Blanco.png",alt:"Econova Logo",className:e,style:{height:`${t}px`,display:"block",objectFit:"contain",maxWidth:"100%",width:"auto"},onError:n=>{console.error("Error loading logo:",n);const r=n.target;r.style.display="none";const i=r.parentElement;i&&(i.innerHTML='<div class="text-white text-2xl font-bold">ECONOVA</div>')}})}const Vm=({href:e,icon:t,children:n,className:r,active:i,onClick:a})=>{const[,o]=Gc(),l=()=>{o(e),a&&a()};return s.jsxs("div",{onClick:l,className:wt("flex items-center px-4 py-3 text-sm font-medium rounded-lg cursor-pointer transition-all duration-200 group",i?"bg-gradient-to-r from-[#b5e951]/20 to-[#b5e951]/10 text-white shadow-lg border-l-4 border-[#b5e951] scale-105":"text-white/80 hover:bg-gradient-to-r hover:from-[#3a4d5d] hover:to-[#3a4d5d]/80 hover:text-white hover:scale-105 hover:shadow-md",r),children:[t,s.jsx("span",{className:"transition-all duration-200",children:n})]})};function eE(){const[e]=Gc(),{user:t,isAdmin:n,isMarioOrAdmin:r,hasLogisticsAccess:i,hasSalesAccess:a,logout:o}=Qu(),[l,c]=N.useState(!1),u=()=>{c(!l)},f=()=>{l&&c(!1)};return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"lg:hidden fixed top-2 left-2 z-[1000]",children:s.jsx(Je,{variant:"ghost",size:"sm",className:"p-2 text-primary bg-white dark:bg-primary-950 dark:text-white border shadow-sm hover:bg-secondary-50 dark:hover:bg-primary-900",onClick:u,children:s.jsx(Hce,{className:"h-5 w-5"})})}),s.jsxs("aside",{className:wt("lg:flex lg:flex-col w-64 bg-gradient-to-b from-[#1a2633] via-[#273949] to-[#1a2633] shadow-2xl z-[1001] h-screen overflow-y-auto transition-all duration-300",l?"fixed inset-y-0 left-0 transform translate-x-0":"fixed inset-y-0 left-0 transform -translate-x-full lg:translate-x-0"),style:{width:"250px"},children:[l&&s.jsx(Je,{variant:"ghost",size:"sm",className:"absolute top-2 right-2 text-white hover:bg-[#3a4d5d] lg:hidden",onClick:f,children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M18 6 6 18"}),s.jsx("path",{d:"m6 6 12 12"})]})}),s.jsx("div",{className:"px-4 py-6 border-b border-[#3a4d5d]/60 flex items-center justify-center from-[#b5e951]/10 to-[#b5e951]/5 backdrop-blur-sm bg-[#253646]",children:s.jsx("div",{className:"flex flex-shrink-0 items-center",children:s.jsx(yH,{height:55})})}),s.jsxs("nav",{className:"flex-1 px-3 py-6 space-y-2",children:[s.jsx("div",{className:"pb-3",children:s.jsx("p",{className:"px-4 text-xs uppercase tracking-wider text-white/60 font-semibold",children:"Acciones Principales"})}),s.jsx(Vm,{href:"/",icon:s.jsx(qce,{className:"mr-3 h-5 w-5 text-[#b5e951] group-hover:scale-110 transition-transform duration-200"}),active:e==="/",onClick:f,children:"Dashboard"}),s.jsx(Vm,{href:"/kpi-control",icon:s.jsx(Ma,{className:"mr-3 h-5 w-5 text-orange-400 group-hover:scale-110 transition-transform duration-200"}),active:e==="/kpi-control",onClick:f,className:"border border-orange-400/20 bg-gradient-to-r from-orange-400/10 to-yellow-400/10",children:"Centro de Control KPIs"}),a&&s.jsx(Vm,{href:"/sales-update",icon:s.jsx(Oce,{className:"mr-3 h-5 w-5 text-emerald-400 group-hover:scale-110 transition-transform duration-200"}),active:e==="/sales-update",onClick:f,children:"Actualizar Ventas"}),i&&s.jsx(Vm,{href:"/logistics",icon:s.jsx(_o,{className:"mr-3 h-5 w-5 text-cyan-400 group-hover:scale-110 transition-transform duration-200"}),active:e==="/logistics"||e.includes("/logistics/"),onClick:f,children:"Módulo de Logística"}),s.jsx(Vm,{href:"/team-management",icon:s.jsx(ql,{className:"mr-3 h-5 w-5 text-purple-400 group-hover:scale-110 transition-transform duration-200"}),active:e==="/team-management",onClick:f,children:"Gestión de Equipo"}),s.jsx(Vm,{href:"/treasury",icon:s.jsx(tue,{className:"mr-3 h-5 w-5 text-yellow-400 group-hover:scale-110 transition-transform duration-200"}),active:e==="/treasury",onClick:f,children:"Tesorería"})]})]}),l&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 z-0 lg:hidden",onClick:u})]})}const Mt=N.forwardRef(({className:e,type:t,...n},r)=>s.jsx("input",{type:t,className:wt("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));Mt.displayName="Input";var _fe=N.createContext(void 0);function wy(e){const t=N.useContext(_fe);return e||t||"ltr"}var dA=0;function Zk(){N.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??A6()),document.body.insertAdjacentElement("beforeend",e[1]??A6()),dA++,()=>{dA===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),dA--}},[])}function A6(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var fA="focusScope.autoFocusOnMount",hA="focusScope.autoFocusOnUnmount",P6={bubbles:!1,cancelable:!0},jfe="FocusScope",Uj=N.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...o}=e,[l,c]=N.useState(null),u=gi(i),f=gi(a),h=N.useRef(null),p=Dn(t,v=>c(v)),m=N.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;N.useEffect(()=>{if(r){let v=function(j){if(m.paused||!l)return;const P=j.target;l.contains(P)?h.current=P:Af(h.current,{select:!0})},y=function(j){if(m.paused||!l)return;const P=j.relatedTarget;P!==null&&(l.contains(P)||Af(h.current,{select:!0}))},b=function(j){if(document.activeElement===document.body)for(const A of j)A.removedNodes.length>0&&Af(l)};document.addEventListener("focusin",v),document.addEventListener("focusout",y);const w=new MutationObserver(b);return l&&w.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",y),w.disconnect()}}},[r,l,m.paused]),N.useEffect(()=>{if(l){E6.add(m);const v=document.activeElement;if(!l.contains(v)){const b=new CustomEvent(fA,P6);l.addEventListener(fA,u),l.dispatchEvent(b),b.defaultPrevented||(Nfe(Efe(xH(l)),{select:!0}),document.activeElement===v&&Af(l))}return()=>{l.removeEventListener(fA,u),setTimeout(()=>{const b=new CustomEvent(hA,P6);l.addEventListener(hA,f),l.dispatchEvent(b),b.defaultPrevented||Af(v??document.body,{select:!0}),l.removeEventListener(hA,f),E6.remove(m)},0)}}},[l,u,f,m]);const x=N.useCallback(v=>{if(!n&&!r||m.paused)return;const y=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,b=document.activeElement;if(y&&b){const w=v.currentTarget,[j,P]=Sfe(w);j&&P?!v.shiftKey&&b===P?(v.preventDefault(),n&&Af(j,{select:!0})):v.shiftKey&&b===j&&(v.preventDefault(),n&&Af(P,{select:!0})):b===w&&v.preventDefault()}},[n,r,m.paused]);return s.jsx(Rt.div,{tabIndex:-1,...o,ref:p,onKeyDown:x})});Uj.displayName=jfe;function Nfe(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Af(r,{select:t}),document.activeElement!==n)return}function Sfe(e){const t=xH(e),n=C6(t,e),r=C6(t.reverse(),e);return[n,r]}function xH(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function C6(e,t){for(const n of e)if(!Afe(n,{upTo:t}))return n}function Afe(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Pfe(e){return e instanceof HTMLInputElement&&"select"in e}function Af(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&Pfe(e)&&t&&e.select()}}var E6=Cfe();function Cfe(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=O6(e,t),e.unshift(t)},remove(t){var n;e=O6(e,t),(n=e[0])==null||n.resume()}}}function O6(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function Efe(e){return e.filter(t=>t.tagName!=="A")}var pA="rovingFocusGroup.onEntryFocus",Ofe={bubbles:!1,cancelable:!0},qj="RovingFocusGroup",[tE,bH,kfe]=Ij(qj),[Tfe,_y]=Ba(qj,[kfe]),[Ife,Lfe]=Tfe(qj),wH=N.forwardRef((e,t)=>s.jsx(tE.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(tE.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(Mfe,{...e,ref:t})})}));wH.displayName=qj;var Mfe=N.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:f=!1,...h}=e,p=N.useRef(null),m=Dn(t,p),x=wy(a),[v=null,y]=cl({prop:o,defaultProp:l,onChange:c}),[b,w]=N.useState(!1),j=gi(u),P=bH(n),A=N.useRef(!1),[E,O]=N.useState(0);return N.useEffect(()=>{const I=p.current;if(I)return I.addEventListener(pA,j),()=>I.removeEventListener(pA,j)},[j]),s.jsx(Ife,{scope:n,orientation:r,dir:x,loop:i,currentTabStopId:v,onItemFocus:N.useCallback(I=>y(I),[y]),onItemShiftTab:N.useCallback(()=>w(!0),[]),onFocusableItemAdd:N.useCallback(()=>O(I=>I+1),[]),onFocusableItemRemove:N.useCallback(()=>O(I=>I-1),[]),children:s.jsx(Rt.div,{tabIndex:b||E===0?-1:0,"data-orientation":r,...h,ref:m,style:{outline:"none",...e.style},onMouseDown:yt(e.onMouseDown,()=>{A.current=!0}),onFocus:yt(e.onFocus,I=>{const D=!A.current;if(I.target===I.currentTarget&&D&&!b){const z=new CustomEvent(pA,Ofe);if(I.currentTarget.dispatchEvent(z),!z.defaultPrevented){const T=P().filter(X=>X.focusable),k=T.find(X=>X.active),F=T.find(X=>X.id===v),H=[k,F,...T].filter(Boolean).map(X=>X.ref.current);NH(H,f)}}A.current=!1}),onBlur:yt(e.onBlur,()=>w(!1))})})}),_H="RovingFocusGroupItem",jH=N.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:a,...o}=e,l=Mc(),c=a||l,u=Lfe(_H,n),f=u.currentTabStopId===c,h=bH(n),{onFocusableItemAdd:p,onFocusableItemRemove:m}=u;return N.useEffect(()=>{if(r)return p(),()=>m()},[r,p,m]),s.jsx(tE.ItemSlot,{scope:n,id:c,focusable:r,active:i,children:s.jsx(Rt.span,{tabIndex:f?0:-1,"data-orientation":u.orientation,...o,ref:t,onMouseDown:yt(e.onMouseDown,x=>{r?u.onItemFocus(c):x.preventDefault()}),onFocus:yt(e.onFocus,()=>u.onItemFocus(c)),onKeyDown:yt(e.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){u.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const v=$fe(x,u.orientation,u.dir);if(v!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let b=h().filter(w=>w.focusable).map(w=>w.ref.current);if(v==="last")b.reverse();else if(v==="prev"||v==="next"){v==="prev"&&b.reverse();const w=b.indexOf(x.currentTarget);b=u.loop?Ffe(b,w+1):b.slice(w+1)}setTimeout(()=>NH(b))}})})})});jH.displayName=_H;var Dfe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Rfe(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function $fe(e,t,n){const r=Rfe(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return Dfe[r]}function NH(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function Ffe(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var Xk=wH,Yk=jH,Bfe=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Wm=new WeakMap,Iw=new WeakMap,Lw={},mA=0,SH=function(e){return e&&(e.host||SH(e.parentNode))},zfe=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=SH(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},Ufe=function(e,t,n,r){var i=zfe(t,Array.isArray(e)?e:[e]);Lw[n]||(Lw[n]=new WeakMap);var a=Lw[n],o=[],l=new Set,c=new Set(i),u=function(h){!h||l.has(h)||(l.add(h),u(h.parentNode))};i.forEach(u);var f=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(p){if(l.has(p))f(p);else try{var m=p.getAttribute(r),x=m!==null&&m!=="false",v=(Wm.get(p)||0)+1,y=(a.get(p)||0)+1;Wm.set(p,v),a.set(p,y),o.push(p),v===1&&x&&Iw.set(p,!0),y===1&&p.setAttribute(n,"true"),x||p.setAttribute(r,"true")}catch(b){console.error("aria-hidden: cannot operate on ",p,b)}})};return f(t),l.clear(),mA++,function(){o.forEach(function(h){var p=Wm.get(h)-1,m=a.get(h)-1;Wm.set(h,p),a.set(h,m),p||(Iw.has(h)||h.removeAttribute(r),Iw.delete(h)),m||h.removeAttribute(n)}),mA--,mA||(Wm=new WeakMap,Wm=new WeakMap,Iw=new WeakMap,Lw={})}},Qk=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=Bfe(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),Ufe(r,i,n,"aria-hidden")):function(){return null}},Au=function(){return Au=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Au.apply(this,arguments)};function AH(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function qfe(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}var O2="right-scroll-bar-position",k2="width-before-scroll-bar",Vfe="with-scroll-bars-hidden",Wfe="--removed-body-scroll-bar-size";function gA(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Hfe(e,t){var n=N.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=t,n.facade}var Kfe=typeof window<"u"?N.useLayoutEffect:N.useEffect,k6=new WeakMap;function Gfe(e,t){var n=Hfe(null,function(r){return e.forEach(function(i){return gA(i,r)})});return Kfe(function(){var r=k6.get(n);if(r){var i=new Set(r),a=new Set(e),o=n.current;i.forEach(function(l){a.has(l)||gA(l,null)}),a.forEach(function(l){i.has(l)||gA(l,o)})}k6.set(n,e)},[e]),n}function Zfe(e){return e}function Xfe(e,t){t===void 0&&(t=Zfe);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(a){var o=t(a,r);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(a){for(r=!0;n.length;){var o=n;n=[],o.forEach(a)}n={push:function(l){return a(l)},filter:function(){return n}}},assignMedium:function(a){r=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(a),o=n}var c=function(){var f=o;o=[],f.forEach(a)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(f){o.push(f),u()},filter:function(f){return o=o.filter(f),n}}}};return i}function Yfe(e){e===void 0&&(e={});var t=Xfe(null);return t.options=Au({async:!0,ssr:!1},e),t}var PH=function(e){var t=e.sideCar,n=AH(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return N.createElement(r,Au({},n))};PH.isSideCarExport=!0;function Qfe(e,t){return e.useMedium(t),PH}var CH=Yfe(),vA=function(){},Vj=N.forwardRef(function(e,t){var n=N.useRef(null),r=N.useState({onScrollCapture:vA,onWheelCapture:vA,onTouchMoveCapture:vA}),i=r[0],a=r[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,f=e.enabled,h=e.shards,p=e.sideCar,m=e.noIsolation,x=e.inert,v=e.allowPinchZoom,y=e.as,b=y===void 0?"div":y,w=e.gapMode,j=AH(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),P=p,A=Gfe([n,t]),E=Au(Au({},j),i);return N.createElement(N.Fragment,null,f&&N.createElement(P,{sideCar:CH,removeScrollBar:u,shards:h,noIsolation:m,inert:x,setCallbacks:a,allowPinchZoom:!!v,lockRef:n,gapMode:w}),o?N.cloneElement(N.Children.only(l),Au(Au({},E),{ref:A})):N.createElement(b,Au({},E,{className:c,ref:A}),l))});Vj.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Vj.classNames={fullWidth:k2,zeroRight:O2};var Jfe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function ehe(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Jfe();return t&&e.setAttribute("nonce",t),e}function the(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function nhe(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var rhe=function(){var e=0,t=null;return{add:function(n){e==0&&(t=ehe())&&(the(t,n),nhe(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},ihe=function(){var e=rhe();return function(t,n){N.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},EH=function(){var e=ihe(),t=function(n){var r=n.styles,i=n.dynamic;return e(r,i),null};return t},ahe={left:0,top:0,right:0,gap:0},yA=function(e){return parseInt(e||"",10)||0},she=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[yA(n),yA(r),yA(i)]},ohe=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return ahe;var t=she(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},lhe=EH(),qg="data-scroll-locked",che=function(e,t,n,r){var i=e.left,a=e.top,o=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(Vfe,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(qg,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(O2,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(k2,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(O2," .").concat(O2,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(k2," .").concat(k2,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(qg,`] {
    `).concat(Wfe,": ").concat(l,`px;
  }
`)},T6=function(){var e=parseInt(document.body.getAttribute(qg)||"0",10);return isFinite(e)?e:0},uhe=function(){N.useEffect(function(){return document.body.setAttribute(qg,(T6()+1).toString()),function(){var e=T6()-1;e<=0?document.body.removeAttribute(qg):document.body.setAttribute(qg,e.toString())}},[])},dhe=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=r===void 0?"margin":r;uhe();var a=N.useMemo(function(){return ohe(i)},[i]);return N.createElement(lhe,{styles:che(a,!t,i,n?"":"!important")})},nE=!1;if(typeof window<"u")try{var Mw=Object.defineProperty({},"passive",{get:function(){return nE=!0,!0}});window.addEventListener("test",Mw,Mw),window.removeEventListener("test",Mw,Mw)}catch{nE=!1}var Hm=nE?{passive:!1}:!1,fhe=function(e){return e.tagName==="TEXTAREA"},OH=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!fhe(e)&&n[t]==="visible")},hhe=function(e){return OH(e,"overflowY")},phe=function(e){return OH(e,"overflowX")},I6=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=kH(e,r);if(i){var a=TH(e,r),o=a[1],l=a[2];if(o>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},mhe=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},ghe=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},kH=function(e,t){return e==="v"?hhe(t):phe(t)},TH=function(e,t){return e==="v"?mhe(t):ghe(t)},vhe=function(e,t){return e==="h"&&t==="rtl"?-1:1},yhe=function(e,t,n,r,i){var a=vhe(e,window.getComputedStyle(t).direction),o=a*r,l=n.target,c=t.contains(l),u=!1,f=o>0,h=0,p=0;do{var m=TH(e,l),x=m[0],v=m[1],y=m[2],b=v-y-a*x;(x||b)&&kH(e,l)&&(h+=b,p+=x),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(f&&(Math.abs(h)<1||!i)||!f&&(Math.abs(p)<1||!i))&&(u=!0),u},Dw=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},L6=function(e){return[e.deltaX,e.deltaY]},M6=function(e){return e&&"current"in e?e.current:e},xhe=function(e,t){return e[0]===t[0]&&e[1]===t[1]},bhe=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},whe=0,Km=[];function _he(e){var t=N.useRef([]),n=N.useRef([0,0]),r=N.useRef(),i=N.useState(whe++)[0],a=N.useState(EH)[0],o=N.useRef(e);N.useEffect(function(){o.current=e},[e]),N.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var v=qfe([e.lockRef.current],(e.shards||[]).map(M6),!0).filter(Boolean);return v.forEach(function(y){return y.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),v.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var l=N.useCallback(function(v,y){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!o.current.allowPinchZoom;var b=Dw(v),w=n.current,j="deltaX"in v?v.deltaX:w[0]-b[0],P="deltaY"in v?v.deltaY:w[1]-b[1],A,E=v.target,O=Math.abs(j)>Math.abs(P)?"h":"v";if("touches"in v&&O==="h"&&E.type==="range")return!1;var I=I6(O,E);if(!I)return!0;if(I?A=O:(A=O==="v"?"h":"v",I=I6(O,E)),!I)return!1;if(!r.current&&"changedTouches"in v&&(j||P)&&(r.current=A),!A)return!0;var D=r.current||A;return yhe(D,y,v,D==="h"?j:P,!0)},[]),c=N.useCallback(function(v){var y=v;if(!(!Km.length||Km[Km.length-1]!==a)){var b="deltaY"in y?L6(y):Dw(y),w=t.current.filter(function(A){return A.name===y.type&&(A.target===y.target||y.target===A.shadowParent)&&xhe(A.delta,b)})[0];if(w&&w.should){y.cancelable&&y.preventDefault();return}if(!w){var j=(o.current.shards||[]).map(M6).filter(Boolean).filter(function(A){return A.contains(y.target)}),P=j.length>0?l(y,j[0]):!o.current.noIsolation;P&&y.cancelable&&y.preventDefault()}}},[]),u=N.useCallback(function(v,y,b,w){var j={name:v,delta:y,target:b,should:w,shadowParent:jhe(b)};t.current.push(j),setTimeout(function(){t.current=t.current.filter(function(P){return P!==j})},1)},[]),f=N.useCallback(function(v){n.current=Dw(v),r.current=void 0},[]),h=N.useCallback(function(v){u(v.type,L6(v),v.target,l(v,e.lockRef.current))},[]),p=N.useCallback(function(v){u(v.type,Dw(v),v.target,l(v,e.lockRef.current))},[]);N.useEffect(function(){return Km.push(a),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:p}),document.addEventListener("wheel",c,Hm),document.addEventListener("touchmove",c,Hm),document.addEventListener("touchstart",f,Hm),function(){Km=Km.filter(function(v){return v!==a}),document.removeEventListener("wheel",c,Hm),document.removeEventListener("touchmove",c,Hm),document.removeEventListener("touchstart",f,Hm)}},[]);var m=e.removeScrollBar,x=e.inert;return N.createElement(N.Fragment,null,x?N.createElement(a,{styles:bhe(i)}):null,m?N.createElement(dhe,{gapMode:e.gapMode}):null)}function jhe(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Nhe=Qfe(CH,_he);var Wj=N.forwardRef(function(e,t){return N.createElement(Vj,Au({},e,{ref:t,sideCar:Nhe}))});Wj.classNames=Vj.classNames;var rE=["Enter"," "],She=["ArrowDown","PageUp","Home"],IH=["ArrowUp","PageDown","End"],Ahe=[...She,...IH],Phe={ltr:[...rE,"ArrowRight"],rtl:[...rE,"ArrowLeft"]},Che={ltr:["ArrowLeft"],rtl:["ArrowRight"]},vb="Menu",[Kx,Ehe,Ohe]=Ij(vb),[_m,LH]=Ba(vb,[Ohe,by,_y]),Hj=by(),MH=_y(),[khe,jm]=_m(vb),[The,yb]=_m(vb),DH=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:i,onOpenChange:a,modal:o=!0}=e,l=Hj(t),[c,u]=N.useState(null),f=N.useRef(!1),h=gi(a),p=wy(i);return N.useEffect(()=>{const m=()=>{f.current=!0,document.addEventListener("pointerdown",x,{capture:!0,once:!0}),document.addEventListener("pointermove",x,{capture:!0,once:!0})},x=()=>f.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",x,{capture:!0}),document.removeEventListener("pointermove",x,{capture:!0})}},[]),s.jsx(aH,{...l,children:s.jsx(khe,{scope:t,open:n,onOpenChange:h,content:c,onContentChange:u,children:s.jsx(The,{scope:t,onClose:N.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:f,dir:p,modal:o,children:r})})})};DH.displayName=vb;var Ihe="MenuAnchor",Jk=N.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,i=Hj(n);return s.jsx(Vk,{...i,...r,ref:t})});Jk.displayName=Ihe;var eT="MenuPortal",[Lhe,RH]=_m(eT,{forceMount:void 0}),$H=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:i}=e,a=jm(eT,t);return s.jsx(Lhe,{scope:t,forceMount:n,children:s.jsx(os,{present:n||a.open,children:s.jsx(fb,{asChild:!0,container:i,children:r})})})};$H.displayName=eT;var Vl="MenuContent",[Mhe,tT]=_m(Vl),FH=N.forwardRef((e,t)=>{const n=RH(Vl,e.__scopeMenu),{forceMount:r=n.forceMount,...i}=e,a=jm(Vl,e.__scopeMenu),o=yb(Vl,e.__scopeMenu);return s.jsx(Kx.Provider,{scope:e.__scopeMenu,children:s.jsx(os,{present:r||a.open,children:s.jsx(Kx.Slot,{scope:e.__scopeMenu,children:o.modal?s.jsx(Dhe,{...i,ref:t}):s.jsx(Rhe,{...i,ref:t})})})})}),Dhe=N.forwardRef((e,t)=>{const n=jm(Vl,e.__scopeMenu),r=N.useRef(null),i=Dn(t,r);return N.useEffect(()=>{const a=r.current;if(a)return Qk(a)},[]),s.jsx(nT,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:yt(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),Rhe=N.forwardRef((e,t)=>{const n=jm(Vl,e.__scopeMenu);return s.jsx(nT,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),$he=tm("MenuContent.ScrollLock"),nT=N.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:a,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:h,onInteractOutside:p,onDismiss:m,disableOutsideScroll:x,...v}=e,y=jm(Vl,n),b=yb(Vl,n),w=Hj(n),j=MH(n),P=Ehe(n),[A,E]=N.useState(null),O=N.useRef(null),I=Dn(t,O,y.onContentChange),D=N.useRef(0),z=N.useRef(""),T=N.useRef(0),k=N.useRef(null),F=N.useRef("right"),B=N.useRef(0),H=x?Wj:N.Fragment,X=x?{as:$he,allowPinchZoom:!0}:void 0,ae=te=>{var ve,Z;const ue=z.current+te,ye=P().filter(ne=>!ne.disabled),V=document.activeElement,ee=(ve=ye.find(ne=>ne.ref.current===V))==null?void 0:ve.textValue,Q=ye.map(ne=>ne.textValue),de=Xhe(Q,ue,ee),le=(Z=ye.find(ne=>ne.textValue===de))==null?void 0:Z.ref.current;(function ne(ge){z.current=ge,window.clearTimeout(D.current),ge!==""&&(D.current=window.setTimeout(()=>ne(""),1e3))})(ue),le&&setTimeout(()=>le.focus())};N.useEffect(()=>()=>window.clearTimeout(D.current),[]),Zk();const W=N.useCallback(te=>{var ye,V;return F.current===((ye=k.current)==null?void 0:ye.side)&&Qhe(te,(V=k.current)==null?void 0:V.area)},[]);return s.jsx(Mhe,{scope:n,searchRef:z,onItemEnter:N.useCallback(te=>{W(te)&&te.preventDefault()},[W]),onItemLeave:N.useCallback(te=>{var ue;W(te)||((ue=O.current)==null||ue.focus(),E(null))},[W]),onTriggerLeave:N.useCallback(te=>{W(te)&&te.preventDefault()},[W]),pointerGraceTimerRef:T,onPointerGraceIntentChange:N.useCallback(te=>{k.current=te},[]),children:s.jsx(H,{...X,children:s.jsx(Uj,{asChild:!0,trapped:i,onMountAutoFocus:yt(a,te=>{var ue;te.preventDefault(),(ue=O.current)==null||ue.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:s.jsx(my,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:h,onInteractOutside:p,onDismiss:m,children:s.jsx(Xk,{asChild:!0,...j,dir:b.dir,orientation:"vertical",loop:r,currentTabStopId:A,onCurrentTabStopIdChange:E,onEntryFocus:yt(c,te=>{b.isUsingKeyboardRef.current||te.preventDefault()}),preventScrollOnEntryFocus:!0,children:s.jsx(Wk,{role:"menu","aria-orientation":"vertical","data-state":tK(y.open),"data-radix-menu-content":"",dir:b.dir,...w,...v,ref:I,style:{outline:"none",...v.style},onKeyDown:yt(v.onKeyDown,te=>{const ye=te.target.closest("[data-radix-menu-content]")===te.currentTarget,V=te.ctrlKey||te.altKey||te.metaKey,ee=te.key.length===1;ye&&(te.key==="Tab"&&te.preventDefault(),!V&&ee&&ae(te.key));const Q=O.current;if(te.target!==Q||!Ahe.includes(te.key))return;te.preventDefault();const le=P().filter(ve=>!ve.disabled).map(ve=>ve.ref.current);IH.includes(te.key)&&le.reverse(),Ghe(le)}),onBlur:yt(e.onBlur,te=>{te.currentTarget.contains(te.target)||(window.clearTimeout(D.current),z.current="")}),onPointerMove:yt(e.onPointerMove,Gx(te=>{const ue=te.target,ye=B.current!==te.clientX;if(te.currentTarget.contains(ue)&&ye){const V=te.clientX>B.current?"right":"left";F.current=V,B.current=te.clientX}}))})})})})})})});FH.displayName=Vl;var Fhe="MenuGroup",rT=N.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return s.jsx(Rt.div,{role:"group",...r,ref:t})});rT.displayName=Fhe;var Bhe="MenuLabel",BH=N.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return s.jsx(Rt.div,{...r,ref:t})});BH.displayName=Bhe;var P_="MenuItem",D6="menu.itemSelect",Kj=N.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...i}=e,a=N.useRef(null),o=yb(P_,e.__scopeMenu),l=tT(P_,e.__scopeMenu),c=Dn(t,a),u=N.useRef(!1),f=()=>{const h=a.current;if(!n&&h){const p=new CustomEvent(D6,{bubbles:!0,cancelable:!0});h.addEventListener(D6,m=>r==null?void 0:r(m),{once:!0}),jk(h,p),p.defaultPrevented?u.current=!1:o.onClose()}};return s.jsx(zH,{...i,ref:c,disabled:n,onClick:yt(e.onClick,f),onPointerDown:h=>{var p;(p=e.onPointerDown)==null||p.call(e,h),u.current=!0},onPointerUp:yt(e.onPointerUp,h=>{var p;u.current||(p=h.currentTarget)==null||p.click()}),onKeyDown:yt(e.onKeyDown,h=>{const p=l.searchRef.current!=="";n||p&&h.key===" "||rE.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});Kj.displayName=P_;var zH=N.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...a}=e,o=tT(P_,n),l=MH(n),c=N.useRef(null),u=Dn(t,c),[f,h]=N.useState(!1),[p,m]=N.useState("");return N.useEffect(()=>{const x=c.current;x&&m((x.textContent??"").trim())},[a.children]),s.jsx(Kx.ItemSlot,{scope:n,disabled:r,textValue:i??p,children:s.jsx(Yk,{asChild:!0,...l,focusable:!r,children:s.jsx(Rt.div,{role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...a,ref:u,onPointerMove:yt(e.onPointerMove,Gx(x=>{r?o.onItemLeave(x):(o.onItemEnter(x),x.defaultPrevented||x.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:yt(e.onPointerLeave,Gx(x=>o.onItemLeave(x))),onFocus:yt(e.onFocus,()=>h(!0)),onBlur:yt(e.onBlur,()=>h(!1))})})})}),zhe="MenuCheckboxItem",UH=N.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...i}=e;return s.jsx(KH,{scope:e.__scopeMenu,checked:n,children:s.jsx(Kj,{role:"menuitemcheckbox","aria-checked":C_(n)?"mixed":n,...i,ref:t,"data-state":aT(n),onSelect:yt(i.onSelect,()=>r==null?void 0:r(C_(n)?!0:!n),{checkForDefaultPrevented:!1})})})});UH.displayName=zhe;var qH="MenuRadioGroup",[Uhe,qhe]=_m(qH,{value:void 0,onValueChange:()=>{}}),VH=N.forwardRef((e,t)=>{const{value:n,onValueChange:r,...i}=e,a=gi(r);return s.jsx(Uhe,{scope:e.__scopeMenu,value:n,onValueChange:a,children:s.jsx(rT,{...i,ref:t})})});VH.displayName=qH;var WH="MenuRadioItem",HH=N.forwardRef((e,t)=>{const{value:n,...r}=e,i=qhe(WH,e.__scopeMenu),a=n===i.value;return s.jsx(KH,{scope:e.__scopeMenu,checked:a,children:s.jsx(Kj,{role:"menuitemradio","aria-checked":a,...r,ref:t,"data-state":aT(a),onSelect:yt(r.onSelect,()=>{var o;return(o=i.onValueChange)==null?void 0:o.call(i,n)},{checkForDefaultPrevented:!1})})})});HH.displayName=WH;var iT="MenuItemIndicator",[KH,Vhe]=_m(iT,{checked:!1}),GH=N.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...i}=e,a=Vhe(iT,n);return s.jsx(os,{present:r||C_(a.checked)||a.checked===!0,children:s.jsx(Rt.span,{...i,ref:t,"data-state":aT(a.checked)})})});GH.displayName=iT;var Whe="MenuSeparator",ZH=N.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return s.jsx(Rt.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});ZH.displayName=Whe;var Hhe="MenuArrow",XH=N.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,i=Hj(n);return s.jsx(Hk,{...i,...r,ref:t})});XH.displayName=Hhe;var Khe="MenuSub",[nGe,YH]=_m(Khe),$0="MenuSubTrigger",QH=N.forwardRef((e,t)=>{const n=jm($0,e.__scopeMenu),r=yb($0,e.__scopeMenu),i=YH($0,e.__scopeMenu),a=tT($0,e.__scopeMenu),o=N.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=a,u={__scopeMenu:e.__scopeMenu},f=N.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return N.useEffect(()=>f,[f]),N.useEffect(()=>{const h=l.current;return()=>{window.clearTimeout(h),c(null)}},[l,c]),s.jsx(Jk,{asChild:!0,...u,children:s.jsx(zH,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":tK(n.open),...e,ref:Tj(t,i.onTriggerChange),onClick:h=>{var p;(p=e.onClick)==null||p.call(e,h),!(e.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:yt(e.onPointerMove,Gx(h=>{a.onItemEnter(h),!h.defaultPrevented&&!e.disabled&&!n.open&&!o.current&&(a.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),f()},100))})),onPointerLeave:yt(e.onPointerLeave,Gx(h=>{var m,x;f();const p=(m=n.content)==null?void 0:m.getBoundingClientRect();if(p){const v=(x=n.content)==null?void 0:x.dataset.side,y=v==="right",b=y?-5:5,w=p[y?"left":"right"],j=p[y?"right":"left"];a.onPointerGraceIntentChange({area:[{x:h.clientX+b,y:h.clientY},{x:w,y:p.top},{x:j,y:p.top},{x:j,y:p.bottom},{x:w,y:p.bottom}],side:v}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(h),h.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:yt(e.onKeyDown,h=>{var m;const p=a.searchRef.current!=="";e.disabled||p&&h.key===" "||Phe[r.dir].includes(h.key)&&(n.onOpenChange(!0),(m=n.content)==null||m.focus(),h.preventDefault())})})})});QH.displayName=$0;var JH="MenuSubContent",eK=N.forwardRef((e,t)=>{const n=RH(Vl,e.__scopeMenu),{forceMount:r=n.forceMount,...i}=e,a=jm(Vl,e.__scopeMenu),o=yb(Vl,e.__scopeMenu),l=YH(JH,e.__scopeMenu),c=N.useRef(null),u=Dn(t,c);return s.jsx(Kx.Provider,{scope:e.__scopeMenu,children:s.jsx(os,{present:r||a.open,children:s.jsx(Kx.Slot,{scope:e.__scopeMenu,children:s.jsx(nT,{id:l.contentId,"aria-labelledby":l.triggerId,...i,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:f=>{var h;o.isUsingKeyboardRef.current&&((h=c.current)==null||h.focus()),f.preventDefault()},onCloseAutoFocus:f=>f.preventDefault(),onFocusOutside:yt(e.onFocusOutside,f=>{f.target!==l.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:yt(e.onEscapeKeyDown,f=>{o.onClose(),f.preventDefault()}),onKeyDown:yt(e.onKeyDown,f=>{var m;const h=f.currentTarget.contains(f.target),p=Che[o.dir].includes(f.key);h&&p&&(a.onOpenChange(!1),(m=l.trigger)==null||m.focus(),f.preventDefault())})})})})})});eK.displayName=JH;function tK(e){return e?"open":"closed"}function C_(e){return e==="indeterminate"}function aT(e){return C_(e)?"indeterminate":e?"checked":"unchecked"}function Ghe(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function Zhe(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function Xhe(e,t,n){const i=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let o=Zhe(e,Math.max(a,0));i.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function Yhe(e,t){const{x:n,y:r}=e;let i=!1;for(let a=0,o=t.length-1;a<t.length;o=a++){const l=t[a].x,c=t[a].y,u=t[o].x,f=t[o].y;c>r!=f>r&&n<(u-l)*(r-c)/(f-c)+l&&(i=!i)}return i}function Qhe(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return Yhe(n,t)}function Gx(e){return t=>t.pointerType==="mouse"?e(t):void 0}var Jhe=DH,epe=Jk,tpe=$H,npe=FH,rpe=rT,ipe=BH,ape=Kj,spe=UH,ope=VH,lpe=HH,cpe=GH,upe=ZH,dpe=XH,fpe=QH,hpe=eK,sT="DropdownMenu",[ppe,rGe]=Ba(sT,[LH]),eo=LH(),[mpe,nK]=ppe(sT),rK=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:i,defaultOpen:a,onOpenChange:o,modal:l=!0}=e,c=eo(t),u=N.useRef(null),[f=!1,h]=cl({prop:i,defaultProp:a,onChange:o});return s.jsx(mpe,{scope:t,triggerId:Mc(),triggerRef:u,contentId:Mc(),open:f,onOpenChange:h,onOpenToggle:N.useCallback(()=>h(p=>!p),[h]),modal:l,children:s.jsx(Jhe,{...c,open:f,onOpenChange:h,dir:r,modal:l,children:n})})};rK.displayName=sT;var iK="DropdownMenuTrigger",aK=N.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=e,a=nK(iK,n),o=eo(n);return s.jsx(epe,{asChild:!0,...o,children:s.jsx(Rt.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:Tj(t,a.triggerRef),onPointerDown:yt(e.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(a.onOpenToggle(),a.open||l.preventDefault())}),onKeyDown:yt(e.onKeyDown,l=>{r||(["Enter"," "].includes(l.key)&&a.onOpenToggle(),l.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});aK.displayName=iK;var gpe="DropdownMenuPortal",sK=e=>{const{__scopeDropdownMenu:t,...n}=e,r=eo(t);return s.jsx(tpe,{...r,...n})};sK.displayName=gpe;var oK="DropdownMenuContent",lK=N.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=nK(oK,n),a=eo(n),o=N.useRef(!1);return s.jsx(npe,{id:i.contentId,"aria-labelledby":i.triggerId,...a,...r,ref:t,onCloseAutoFocus:yt(e.onCloseAutoFocus,l=>{var c;o.current||(c=i.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:yt(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,f=c.button===2||u;(!i.modal||f)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});lK.displayName=oK;var vpe="DropdownMenuGroup",ype=N.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=eo(n);return s.jsx(rpe,{...i,...r,ref:t})});ype.displayName=vpe;var xpe="DropdownMenuLabel",cK=N.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=eo(n);return s.jsx(ipe,{...i,...r,ref:t})});cK.displayName=xpe;var bpe="DropdownMenuItem",uK=N.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=eo(n);return s.jsx(ape,{...i,...r,ref:t})});uK.displayName=bpe;var wpe="DropdownMenuCheckboxItem",dK=N.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=eo(n);return s.jsx(spe,{...i,...r,ref:t})});dK.displayName=wpe;var _pe="DropdownMenuRadioGroup",jpe=N.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=eo(n);return s.jsx(ope,{...i,...r,ref:t})});jpe.displayName=_pe;var Npe="DropdownMenuRadioItem",fK=N.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=eo(n);return s.jsx(lpe,{...i,...r,ref:t})});fK.displayName=Npe;var Spe="DropdownMenuItemIndicator",hK=N.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=eo(n);return s.jsx(cpe,{...i,...r,ref:t})});hK.displayName=Spe;var Ape="DropdownMenuSeparator",pK=N.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=eo(n);return s.jsx(upe,{...i,...r,ref:t})});pK.displayName=Ape;var Ppe="DropdownMenuArrow",Cpe=N.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=eo(n);return s.jsx(dpe,{...i,...r,ref:t})});Cpe.displayName=Ppe;var Epe="DropdownMenuSubTrigger",mK=N.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=eo(n);return s.jsx(fpe,{...i,...r,ref:t})});mK.displayName=Epe;var Ope="DropdownMenuSubContent",gK=N.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=eo(n);return s.jsx(hpe,{...i,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});gK.displayName=Ope;var kpe=rK,Tpe=aK,Ipe=sK,vK=lK,yK=cK,xK=uK,bK=dK,wK=fK,_K=hK,jK=pK,NK=mK,SK=gK;const Lpe=kpe,Mpe=Tpe,Dpe=N.forwardRef(({className:e,inset:t,children:n,...r},i)=>s.jsxs(NK,{ref:i,className:wt("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...r,children:[n,s.jsx(w_,{className:"ml-auto"})]}));Dpe.displayName=NK.displayName;const Rpe=N.forwardRef(({className:e,...t},n)=>s.jsx(SK,{ref:n,className:wt("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...t}));Rpe.displayName=SK.displayName;const AK=N.forwardRef(({className:e,sideOffset:t=4,...n},r)=>s.jsx(Ipe,{children:s.jsx(vK,{ref:r,sideOffset:t,className:wt("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...n})}));AK.displayName=vK.displayName;const iE=N.forwardRef(({className:e,inset:t,...n},r)=>s.jsx(xK,{ref:r,className:wt("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...n}));iE.displayName=xK.displayName;const $pe=N.forwardRef(({className:e,children:t,checked:n,...r},i)=>s.jsxs(bK,{ref:i,className:wt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(_K,{children:s.jsx(pb,{className:"h-4 w-4"})})}),t]}));$pe.displayName=bK.displayName;const Fpe=N.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(wK,{ref:r,className:wt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(_K,{children:s.jsx(Mce,{className:"h-2 w-2 fill-current"})})}),t]}));Fpe.displayName=wK.displayName;const Bpe=N.forwardRef(({className:e,inset:t,...n},r)=>s.jsx(yK,{ref:r,className:wt("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));Bpe.displayName=yK.displayName;const PK=N.forwardRef(({className:e,...t},n)=>s.jsx(jK,{ref:n,className:wt("-mx-1 my-1 h-px bg-muted",e),...t}));PK.displayName=jK.displayName;var oT="Avatar",[zpe,iGe]=Ba(oT),[Upe,CK]=zpe(oT),EK=N.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[i,a]=N.useState("idle");return s.jsx(Upe,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:a,children:s.jsx(Rt.span,{...r,ref:t})})});EK.displayName=oT;var OK="AvatarImage",kK=N.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:i=()=>{},...a}=e,o=CK(OK,n),l=qpe(r,a),c=gi(u=>{i(u),o.onImageLoadingStatusChange(u)});return na(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?s.jsx(Rt.img,{...a,ref:t,src:r}):null});kK.displayName=OK;var TK="AvatarFallback",IK=N.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...i}=e,a=CK(TK,n),[o,l]=N.useState(r===void 0);return N.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>l(!0),r);return()=>window.clearTimeout(c)}},[r]),o&&a.imageLoadingStatus!=="loaded"?s.jsx(Rt.span,{...i,ref:t}):null});IK.displayName=TK;function R6(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function qpe(e,{referrerPolicy:t,crossOrigin:n}){const r=Wpe(),i=N.useRef(null),a=r?(i.current||(i.current=new window.Image),i.current):null,[o,l]=N.useState(()=>R6(a,e));return na(()=>{l(R6(a,e))},[a,e]),na(()=>{const c=h=>()=>{l(h)};if(!a)return;const u=c("loaded"),f=c("error");return a.addEventListener("load",u),a.addEventListener("error",f),t&&(a.referrerPolicy=t),typeof n=="string"&&(a.crossOrigin=n),()=>{a.removeEventListener("load",u),a.removeEventListener("error",f)}},[a,n,t]),o}function Vpe(){return()=>{}}function Wpe(){return N.useSyncExternalStore(Vpe,()=>!0,()=>!1)}var LK=EK,MK=kK,DK=IK;const Sg=N.forwardRef(({className:e,...t},n)=>s.jsx(LK,{ref:n,className:wt("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));Sg.displayName=LK.displayName;const Hpe=N.forwardRef(({className:e,...t},n)=>s.jsx(MK,{ref:n,className:wt("aspect-square h-full w-full",e),...t}));Hpe.displayName=MK.displayName;const Ag=N.forwardRef(({className:e,...t},n)=>s.jsx(DK,{ref:n,className:wt("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));Ag.displayName=DK.displayName;function RK({title:e}){const[t,n]=N.useState(!1),{user:r,logout:i}=Qu(),[,a]=Gc(),o=()=>{a("/mi-perfil")},l=()=>{i(),a("/login")},c=u=>u.split(" ").map(f=>f.charAt(0)).join("").toUpperCase().slice(0,2);return s.jsx("header",{className:"bg-white shadow-sm border-b",children:s.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[s.jsx("div",{className:"flex items-center space-x-4"}),s.jsxs("div",{className:"flex items-center space-x-3",children:[t?s.jsxs("div",{className:"relative",children:[s.jsx(Mt,{type:"text",placeholder:"Buscar...",className:"w-48 pr-8",autoFocus:!0,onBlur:()=>n(!1)}),s.jsx(HC,{className:"absolute right-2 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"})]}):s.jsx(Je,{variant:"ghost",size:"sm",className:"text-gray-500 hover:text-gray-700",onClick:()=>n(!0),children:s.jsx(HC,{className:"h-5 w-5"})}),r&&s.jsxs(Lpe,{children:[s.jsx(Mpe,{asChild:!0,children:s.jsxs(Je,{variant:"ghost",size:"sm",className:"flex items-center space-x-2 hover:bg-gray-100",children:[s.jsx(Sg,{className:"h-7 w-7",children:s.jsx(Ag,{className:"text-xs bg-gradient-to-r from-blue-500 to-purple-600 text-white",children:c(r.name)})}),s.jsx("span",{className:"hidden sm:inline text-sm font-medium text-gray-700",children:r.name.split(" ")[0]})]})}),s.jsxs(AK,{align:"end",className:"w-48",children:[s.jsxs(iE,{onClick:o,className:"cursor-pointer",children:[s.jsx(Jo,{className:"mr-2 h-4 w-4"}),"Mi Perfil"]}),s.jsx(PK,{}),s.jsxs(iE,{onClick:l,className:"cursor-pointer text-red-600",children:[s.jsx(Wce,{className:"mr-2 h-4 w-4"}),"Cerrar Sesión"]})]})]})]})]})})}function qc({children:e,title:t}){return s.jsx(s.Fragment,{children:s.jsxs("div",{className:"flex h-screen overflow-hidden bg-secondary-50 dark:bg-primary-950",children:[s.jsx("div",{className:"hidden lg:block lg:w-64 flex-shrink-0",children:s.jsx(eE,{})}),s.jsx("div",{className:"lg:hidden",children:s.jsx(eE,{})}),s.jsxs("main",{className:"flex-1 overflow-auto w-full",children:[s.jsx(RK,{title:t}),s.jsx("div",{className:"px-3 sm:px-4 md:px-6 pb-6 space-y-3 sm:space-y-4",children:e})]})]})})}function $6(e){return new Intl.DateTimeFormat("es-ES",{year:"numeric",month:"long",day:"numeric"}).format(e)}function Kpe(e){return new Intl.DateTimeFormat("es-ES",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(e)}function Gpe(){return[{label:"Todos los períodos",value:"all"},{label:"Q1 2023",value:"Q1 2023"},{label:"Q2 2023",value:"Q2 2023"},{label:"Q3 2023",value:"Q3 2023"},{label:"Q4 2023",value:"Q4 2023"},{label:"Q1 2024",value:"Q1 2024"}]}function Zpe({onFilterChange:e}){const[t,n]=N.useState("all"),[r,i]=N.useState("all"),[a,o]=N.useState("all"),[l,c]=N.useState(Gpe()[0].value);return Zt({queryKey:["/api/companies"]}),Zt({queryKey:["/api/areas",t&&t!=="all"&&!isNaN(parseInt(t))?{companyId:parseInt(t)}:null],enabled:!0}),N.useEffect(()=>{const u={areaId:r&&r!=="all"?parseInt(r):void 0,status:a&&a!=="all"?a:void 0,period:l};t&&t!=="all"&&(u.companyId=parseInt(t)),e(u)},[t,r,a,l,e]),s.jsx("div",{className:"hidden"})}var lT="Dialog",[$K,FK]=Ba(lT),[Xpe,Zc]=$K(lT),BK=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:i,onOpenChange:a,modal:o=!0}=e,l=N.useRef(null),c=N.useRef(null),[u=!1,f]=cl({prop:r,defaultProp:i,onChange:a});return s.jsx(Xpe,{scope:t,triggerRef:l,contentRef:c,contentId:Mc(),titleId:Mc(),descriptionId:Mc(),open:u,onOpenChange:f,onOpenToggle:N.useCallback(()=>f(h=>!h),[f]),modal:o,children:n})};BK.displayName=lT;var zK="DialogTrigger",UK=N.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Zc(zK,n),a=Dn(t,i.triggerRef);return s.jsx(Rt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":dT(i.open),...r,ref:a,onClick:yt(e.onClick,i.onOpenToggle)})});UK.displayName=zK;var cT="DialogPortal",[Ype,qK]=$K(cT,{forceMount:void 0}),VK=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:i}=e,a=Zc(cT,t);return s.jsx(Ype,{scope:t,forceMount:n,children:N.Children.map(r,o=>s.jsx(os,{present:n||a.open,children:s.jsx(fb,{asChild:!0,container:i,children:o})}))})};VK.displayName=cT;var E_="DialogOverlay",WK=N.forwardRef((e,t)=>{const n=qK(E_,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,a=Zc(E_,e.__scopeDialog);return a.modal?s.jsx(os,{present:r||a.open,children:s.jsx(Jpe,{...i,ref:t})}):null});WK.displayName=E_;var Qpe=tm("DialogOverlay.RemoveScroll"),Jpe=N.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Zc(E_,n);return s.jsx(Wj,{as:Qpe,allowPinchZoom:!0,shards:[i.contentRef],children:s.jsx(Rt.div,{"data-state":dT(i.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),im="DialogContent",HK=N.forwardRef((e,t)=>{const n=qK(im,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,a=Zc(im,e.__scopeDialog);return s.jsx(os,{present:r||a.open,children:a.modal?s.jsx(eme,{...i,ref:t}):s.jsx(tme,{...i,ref:t})})});HK.displayName=im;var eme=N.forwardRef((e,t)=>{const n=Zc(im,e.__scopeDialog),r=N.useRef(null),i=Dn(t,n.contentRef,r);return N.useEffect(()=>{const a=r.current;if(a)return Qk(a)},[]),s.jsx(KK,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:yt(e.onCloseAutoFocus,a=>{var o;a.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:yt(e.onPointerDownOutside,a=>{const o=a.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&a.preventDefault()}),onFocusOutside:yt(e.onFocusOutside,a=>a.preventDefault())})}),tme=N.forwardRef((e,t)=>{const n=Zc(im,e.__scopeDialog),r=N.useRef(!1),i=N.useRef(!1);return s.jsx(KK,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,a),a.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),a.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:a=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),KK=N.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:a,...o}=e,l=Zc(im,n),c=N.useRef(null),u=Dn(t,c);return Zk(),s.jsxs(s.Fragment,{children:[s.jsx(Uj,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:a,children:s.jsx(my,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":dT(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(rme,{titleId:l.titleId}),s.jsx(ame,{contentRef:c,descriptionId:l.descriptionId})]})]})}),uT="DialogTitle",GK=N.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Zc(uT,n);return s.jsx(Rt.h2,{id:i.titleId,...r,ref:t})});GK.displayName=uT;var ZK="DialogDescription",XK=N.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Zc(ZK,n);return s.jsx(Rt.p,{id:i.descriptionId,...r,ref:t})});XK.displayName=ZK;var YK="DialogClose",QK=N.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Zc(YK,n);return s.jsx(Rt.button,{type:"button",...r,ref:t,onClick:yt(e.onClick,()=>i.onOpenChange(!1))})});QK.displayName=YK;function dT(e){return e?"open":"closed"}var JK="DialogTitleWarning",[nme,eG]=$le(JK,{contentName:im,titleName:uT,docsSlug:"dialog"}),rme=({titleId:e})=>{const t=eG(JK),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return N.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},ime="DialogDescriptionWarning",ame=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${eG(ime).contentName}}.`;return N.useEffect(()=>{var a;const i=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},tG=BK,nG=UK,rG=VK,fT=WK,hT=HK,pT=GK,mT=XK,Gj=QK;const vi=tG,aE=nG,sme=rG,ome=Gj,iG=N.forwardRef(({className:e,...t},n)=>s.jsx(fT,{ref:n,className:wt("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));iG.displayName=fT.displayName;const ui=N.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(sme,{children:[s.jsx(iG,{}),s.jsxs(hT,{ref:r,className:wt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,s.jsxs(Gj,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(xh,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ui.displayName=hT.displayName;const di=({className:e,...t})=>s.jsx("div",{className:wt("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});di.displayName="DialogHeader";const am=({className:e,...t})=>s.jsx("div",{className:wt("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});am.displayName="DialogFooter";const fi=N.forwardRef(({className:e,...t},n)=>s.jsx(pT,{ref:n,className:wt("text-lg font-semibold leading-none tracking-tight",e),...t}));fi.displayName=pT.displayName;const jo=N.forwardRef(({className:e,...t},n)=>s.jsx(mT,{ref:n,className:wt("text-sm text-muted-foreground",e),...t}));jo.displayName=mT.displayName;var gT="Tabs",[lme,aGe]=Ba(gT,[_y]),aG=_y(),[cme,vT]=lme(gT),sG=N.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:a,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,f=wy(l),[h,p]=cl({prop:r,onChange:i,defaultProp:a});return s.jsx(cme,{scope:n,baseId:Mc(),value:h,onValueChange:p,orientation:o,dir:f,activationMode:c,children:s.jsx(Rt.div,{dir:f,"data-orientation":o,...u,ref:t})})});sG.displayName=gT;var oG="TabsList",lG=N.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...i}=e,a=vT(oG,n),o=aG(n);return s.jsx(Xk,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:r,children:s.jsx(Rt.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:t})})});lG.displayName=oG;var cG="TabsTrigger",uG=N.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...a}=e,o=vT(cG,n),l=aG(n),c=hG(o.baseId,r),u=pG(o.baseId,r),f=r===o.value;return s.jsx(Yk,{asChild:!0,...l,focusable:!i,active:f,children:s.jsx(Rt.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":u,"data-state":f?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...a,ref:t,onMouseDown:yt(e.onMouseDown,h=>{!i&&h.button===0&&h.ctrlKey===!1?o.onValueChange(r):h.preventDefault()}),onKeyDown:yt(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(r)}),onFocus:yt(e.onFocus,()=>{const h=o.activationMode!=="manual";!f&&!i&&h&&o.onValueChange(r)})})})});uG.displayName=cG;var dG="TabsContent",fG=N.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:i,children:a,...o}=e,l=vT(dG,n),c=hG(l.baseId,r),u=pG(l.baseId,r),f=r===l.value,h=N.useRef(f);return N.useEffect(()=>{const p=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(p)},[]),s.jsx(os,{present:i||f,children:({present:p})=>s.jsx(Rt.div,{"data-state":f?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!p,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:p&&a})})});fG.displayName=dG;function hG(e,t){return`${e}-trigger-${t}`}function pG(e,t){return`${e}-content-${t}`}var ume=sG,mG=lG,gG=uG,vG=fG;const Nm=ume,Rh=N.forwardRef(({className:e,...t},n)=>s.jsx(mG,{ref:n,className:wt("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Rh.displayName=mG.displayName;const si=N.forwardRef(({className:e,...t},n)=>s.jsx(gG,{ref:n,className:wt("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));si.displayName=gG.displayName;const ua=N.forwardRef(({className:e,...t},n)=>s.jsx(vG,{ref:n,className:wt("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));ua.displayName=vG.displayName;var dme="Label",yG=N.forwardRef((e,t)=>s.jsx(Rt.label,{...e,ref:t,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=e.onMouseDown)==null||i.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));yG.displayName=dme;var xG=yG;const fme=gy("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),xt=N.forwardRef(({className:e,...t},n)=>s.jsx(xG,{ref:n,className:wt(fme(),e),...t}));xt.displayName=xG.displayName;const Hu=N.forwardRef(({className:e,...t},n)=>s.jsx("textarea",{className:wt("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...t}));Hu.displayName="Textarea";const hme=gy("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",success:"border-transparent bg-green-500 text-white hover:bg-green-600",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Wn({className:e,variant:t,...n}){return s.jsx("div",{className:wt(hme({variant:t}),e),...n})}var pme=Array.isArray,No=pme,mme=typeof T0=="object"&&T0&&T0.Object===Object&&T0,bG=mme,gme=bG,vme=typeof self=="object"&&self&&self.Object===Object&&self,yme=gme||vme||Function("return this")(),Ju=yme,xme=Ju,bme=xme.Symbol,xb=bme,F6=xb,wG=Object.prototype,wme=wG.hasOwnProperty,_me=wG.toString,g0=F6?F6.toStringTag:void 0;function jme(e){var t=wme.call(e,g0),n=e[g0];try{e[g0]=void 0;var r=!0}catch{}var i=_me.call(e);return r&&(t?e[g0]=n:delete e[g0]),i}var Nme=jme,Sme=Object.prototype,Ame=Sme.toString;function Pme(e){return Ame.call(e)}var Cme=Pme,B6=xb,Eme=Nme,Ome=Cme,kme="[object Null]",Tme="[object Undefined]",z6=B6?B6.toStringTag:void 0;function Ime(e){return e==null?e===void 0?Tme:kme:z6&&z6 in Object(e)?Eme(e):Ome(e)}var Yd=Ime;function Lme(e){return e!=null&&typeof e=="object"}var Qd=Lme,Mme=Yd,Dme=Qd,Rme="[object Symbol]";function $me(e){return typeof e=="symbol"||Dme(e)&&Mme(e)==Rme}var jy=$me,Fme=No,Bme=jy,zme=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ume=/^\w*$/;function qme(e,t){if(Fme(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||Bme(e)?!0:Ume.test(e)||!zme.test(e)||t!=null&&e in Object(t)}var yT=qme;function Vme(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var $h=Vme;const Ny=jr($h);var Wme=Yd,Hme=$h,Kme="[object AsyncFunction]",Gme="[object Function]",Zme="[object GeneratorFunction]",Xme="[object Proxy]";function Yme(e){if(!Hme(e))return!1;var t=Wme(e);return t==Gme||t==Zme||t==Kme||t==Xme}var xT=Yme;const hn=jr(xT);var Qme=Ju,Jme=Qme["__core-js_shared__"],ege=Jme,xA=ege,U6=function(){var e=/[^.]+$/.exec(xA&&xA.keys&&xA.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function tge(e){return!!U6&&U6 in e}var nge=tge,rge=Function.prototype,ige=rge.toString;function age(e){if(e!=null){try{return ige.call(e)}catch{}try{return e+""}catch{}}return""}var _G=age,sge=xT,oge=nge,lge=$h,cge=_G,uge=/[\\^$.*+?()[\]{}|]/g,dge=/^\[object .+?Constructor\]$/,fge=Function.prototype,hge=Object.prototype,pge=fge.toString,mge=hge.hasOwnProperty,gge=RegExp("^"+pge.call(mge).replace(uge,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function vge(e){if(!lge(e)||oge(e))return!1;var t=sge(e)?gge:dge;return t.test(cge(e))}var yge=vge;function xge(e,t){return e==null?void 0:e[t]}var bge=xge,wge=yge,_ge=bge;function jge(e,t){var n=_ge(e,t);return wge(n)?n:void 0}var Sm=jge,Nge=Sm,Sge=Nge(Object,"create"),Zj=Sge,q6=Zj;function Age(){this.__data__=q6?q6(null):{},this.size=0}var Pge=Age;function Cge(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Ege=Cge,Oge=Zj,kge="__lodash_hash_undefined__",Tge=Object.prototype,Ige=Tge.hasOwnProperty;function Lge(e){var t=this.__data__;if(Oge){var n=t[e];return n===kge?void 0:n}return Ige.call(t,e)?t[e]:void 0}var Mge=Lge,Dge=Zj,Rge=Object.prototype,$ge=Rge.hasOwnProperty;function Fge(e){var t=this.__data__;return Dge?t[e]!==void 0:$ge.call(t,e)}var Bge=Fge,zge=Zj,Uge="__lodash_hash_undefined__";function qge(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=zge&&t===void 0?Uge:t,this}var Vge=qge,Wge=Pge,Hge=Ege,Kge=Mge,Gge=Bge,Zge=Vge;function Sy(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Sy.prototype.clear=Wge;Sy.prototype.delete=Hge;Sy.prototype.get=Kge;Sy.prototype.has=Gge;Sy.prototype.set=Zge;var Xge=Sy;function Yge(){this.__data__=[],this.size=0}var Qge=Yge;function Jge(e,t){return e===t||e!==e&&t!==t}var bT=Jge,eve=bT;function tve(e,t){for(var n=e.length;n--;)if(eve(e[n][0],t))return n;return-1}var Xj=tve,nve=Xj,rve=Array.prototype,ive=rve.splice;function ave(e){var t=this.__data__,n=nve(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():ive.call(t,n,1),--this.size,!0}var sve=ave,ove=Xj;function lve(e){var t=this.__data__,n=ove(t,e);return n<0?void 0:t[n][1]}var cve=lve,uve=Xj;function dve(e){return uve(this.__data__,e)>-1}var fve=dve,hve=Xj;function pve(e,t){var n=this.__data__,r=hve(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var mve=pve,gve=Qge,vve=sve,yve=cve,xve=fve,bve=mve;function Ay(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Ay.prototype.clear=gve;Ay.prototype.delete=vve;Ay.prototype.get=yve;Ay.prototype.has=xve;Ay.prototype.set=bve;var Yj=Ay,wve=Sm,_ve=Ju,jve=wve(_ve,"Map"),wT=jve,V6=Xge,Nve=Yj,Sve=wT;function Ave(){this.size=0,this.__data__={hash:new V6,map:new(Sve||Nve),string:new V6}}var Pve=Ave;function Cve(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var Eve=Cve,Ove=Eve;function kve(e,t){var n=e.__data__;return Ove(t)?n[typeof t=="string"?"string":"hash"]:n.map}var Qj=kve,Tve=Qj;function Ive(e){var t=Tve(this,e).delete(e);return this.size-=t?1:0,t}var Lve=Ive,Mve=Qj;function Dve(e){return Mve(this,e).get(e)}var Rve=Dve,$ve=Qj;function Fve(e){return $ve(this,e).has(e)}var Bve=Fve,zve=Qj;function Uve(e,t){var n=zve(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var qve=Uve,Vve=Pve,Wve=Lve,Hve=Rve,Kve=Bve,Gve=qve;function Py(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Py.prototype.clear=Vve;Py.prototype.delete=Wve;Py.prototype.get=Hve;Py.prototype.has=Kve;Py.prototype.set=Gve;var _T=Py,jG=_T,Zve="Expected a function";function jT(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Zve);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(jT.Cache||jG),n}jT.Cache=jG;var NG=jT;const Xve=jr(NG);var Yve=NG,Qve=500;function Jve(e){var t=Yve(e,function(r){return n.size===Qve&&n.clear(),r}),n=t.cache;return t}var eye=Jve,tye=eye,nye=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,rye=/\\(\\)?/g,iye=tye(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(nye,function(n,r,i,a){t.push(i?a.replace(rye,"$1"):r||n)}),t}),aye=iye;function sye(e,t){for(var n=-1,r=e==null?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}var NT=sye,W6=xb,oye=NT,lye=No,cye=jy,uye=1/0,H6=W6?W6.prototype:void 0,K6=H6?H6.toString:void 0;function SG(e){if(typeof e=="string")return e;if(lye(e))return oye(e,SG)+"";if(cye(e))return K6?K6.call(e):"";var t=e+"";return t=="0"&&1/e==-uye?"-0":t}var dye=SG,fye=dye;function hye(e){return e==null?"":fye(e)}var AG=hye,pye=No,mye=yT,gye=aye,vye=AG;function yye(e,t){return pye(e)?e:mye(e,t)?[e]:gye(vye(e))}var PG=yye,xye=jy,bye=1/0;function wye(e){if(typeof e=="string"||xye(e))return e;var t=e+"";return t=="0"&&1/e==-bye?"-0":t}var Jj=wye,_ye=PG,jye=Jj;function Nye(e,t){t=_ye(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[jye(t[n++])];return n&&n==r?e:void 0}var ST=Nye,Sye=ST;function Aye(e,t,n){var r=e==null?void 0:Sye(e,t);return r===void 0?n:r}var CG=Aye;const sl=jr(CG);function Pye(e){return e==null}var Cye=Pye;const pn=jr(Cye);var Eye=Yd,Oye=No,kye=Qd,Tye="[object String]";function Iye(e){return typeof e=="string"||!Oye(e)&&kye(e)&&Eye(e)==Tye}var Lye=Iye;const sm=jr(Lye);var EG={exports:{}},Dr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AT=Symbol.for("react.element"),PT=Symbol.for("react.portal"),eN=Symbol.for("react.fragment"),tN=Symbol.for("react.strict_mode"),nN=Symbol.for("react.profiler"),rN=Symbol.for("react.provider"),iN=Symbol.for("react.context"),Mye=Symbol.for("react.server_context"),aN=Symbol.for("react.forward_ref"),sN=Symbol.for("react.suspense"),oN=Symbol.for("react.suspense_list"),lN=Symbol.for("react.memo"),cN=Symbol.for("react.lazy"),Dye=Symbol.for("react.offscreen"),OG;OG=Symbol.for("react.module.reference");function Ql(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case AT:switch(e=e.type,e){case eN:case nN:case tN:case sN:case oN:return e;default:switch(e=e&&e.$$typeof,e){case Mye:case iN:case aN:case cN:case lN:case rN:return e;default:return t}}case PT:return t}}}Dr.ContextConsumer=iN;Dr.ContextProvider=rN;Dr.Element=AT;Dr.ForwardRef=aN;Dr.Fragment=eN;Dr.Lazy=cN;Dr.Memo=lN;Dr.Portal=PT;Dr.Profiler=nN;Dr.StrictMode=tN;Dr.Suspense=sN;Dr.SuspenseList=oN;Dr.isAsyncMode=function(){return!1};Dr.isConcurrentMode=function(){return!1};Dr.isContextConsumer=function(e){return Ql(e)===iN};Dr.isContextProvider=function(e){return Ql(e)===rN};Dr.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===AT};Dr.isForwardRef=function(e){return Ql(e)===aN};Dr.isFragment=function(e){return Ql(e)===eN};Dr.isLazy=function(e){return Ql(e)===cN};Dr.isMemo=function(e){return Ql(e)===lN};Dr.isPortal=function(e){return Ql(e)===PT};Dr.isProfiler=function(e){return Ql(e)===nN};Dr.isStrictMode=function(e){return Ql(e)===tN};Dr.isSuspense=function(e){return Ql(e)===sN};Dr.isSuspenseList=function(e){return Ql(e)===oN};Dr.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===eN||e===nN||e===tN||e===sN||e===oN||e===Dye||typeof e=="object"&&e!==null&&(e.$$typeof===cN||e.$$typeof===lN||e.$$typeof===rN||e.$$typeof===iN||e.$$typeof===aN||e.$$typeof===OG||e.getModuleId!==void 0)};Dr.typeOf=Ql;EG.exports=Dr;var Rye=EG.exports,$ye=Yd,Fye=Qd,Bye="[object Number]";function zye(e){return typeof e=="number"||Fye(e)&&$ye(e)==Bye}var kG=zye;const Uye=jr(kG);var qye=kG;function Vye(e){return qye(e)&&e!=+e}var Wye=Vye;const Cy=jr(Wye);var Ws=function(t){return t===0?0:t>0?1:-1},Sp=function(t){return sm(t)&&t.indexOf("%")===t.length-1},pt=function(t){return Uye(t)&&!Cy(t)},Sa=function(t){return pt(t)||sm(t)},Hye=0,Fh=function(t){var n=++Hye;return"".concat(t||"").concat(n)},Hs=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!pt(t)&&!sm(t))return r;var a;if(Sp(t)){var o=t.indexOf("%");a=n*parseFloat(t.slice(0,o))/100}else a=+t;return Cy(a)&&(a=r),i&&a>n&&(a=n),a},Mf=function(t){if(!t)return null;var n=Object.keys(t);return n&&n.length?t[n[0]]:null},Kye=function(t){if(!Array.isArray(t))return!1;for(var n=t.length,r={},i=0;i<n;i++)if(!r[t[i]])r[t[i]]=!0;else return!0;return!1},Si=function(t,n){return pt(t)&&pt(n)?function(r){return t+r*(n-t)}:function(){return n}};function O_(e,t,n){return!e||!e.length?null:e.find(function(r){return r&&(typeof t=="function"?t(r):sl(r,t))===n})}var Gye=function(t){if(!t||!t.length)return null;for(var n=t.length,r=0,i=0,a=0,o=0,l=1/0,c=-1/0,u=0,f=0,h=0;h<n;h++)u=t[h].cx||0,f=t[h].cy||0,r+=u,i+=f,a+=u*f,o+=u*u,l=Math.min(l,u),c=Math.max(c,u);var p=n*o!==r*r?(n*a-r*i)/(n*o-r*r):0;return{xmin:l,xmax:c,a:p,b:(i-p*r)/n}},Zye=function(t,n){return pt(t)&&pt(n)?t-n:sm(t)&&sm(n)?t.localeCompare(n):t instanceof Date&&n instanceof Date?t.getTime()-n.getTime():String(t).localeCompare(String(n))};function Vg(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function sE(e){"@babel/helpers - typeof";return sE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sE(e)}var Xye=["viewBox","children"],Yye=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],G6=["points","pathLength"],bA={svg:Xye,polygon:G6,polyline:G6},CT=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],k_=function(t,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(N.isValidElement(t)&&(r=t.props),!Ny(r))return null;var i={};return Object.keys(r).forEach(function(a){CT.includes(a)&&(i[a]=n||function(o){return r[a](r,o)})}),i},Qye=function(t,n,r){return function(i){return t(n,r,i),null}},jh=function(t,n,r){if(!Ny(t)||sE(t)!=="object")return null;var i=null;return Object.keys(t).forEach(function(a){var o=t[a];CT.includes(a)&&typeof o=="function"&&(i||(i={}),i[a]=Qye(o,n,r))}),i},Jye=["children"],e0e=["children"];function Z6(e,t){if(e==null)return{};var n=t0e(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function t0e(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function oE(e){"@babel/helpers - typeof";return oE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oE(e)}var X6={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Id=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},Y6=null,wA=null,ET=function e(t){if(t===Y6&&Array.isArray(wA))return wA;var n=[];return N.Children.forEach(t,function(r){pn(r)||(Rye.isFragment(r)?n=n.concat(e(r.props.children)):n.push(r))}),wA=n,Y6=t,n};function Xs(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(function(i){return Id(i)}):r=[Id(t)],ET(e).forEach(function(i){var a=sl(i,"type.displayName")||sl(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}function Ko(e,t){var n=Xs(e,t);return n&&n[0]}var Q6=function(t){if(!t||!t.props)return!1;var n=t.props,r=n.width,i=n.height;return!(!pt(r)||r<=0||!pt(i)||i<=0)},n0e=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],r0e=function(t){return t&&t.type&&sm(t.type)&&n0e.indexOf(t.type)>=0},TG=function(t){return t&&oE(t)==="object"&&"clipDot"in t},i0e=function(t,n,r,i){var a,o=(a=bA==null?void 0:bA[i])!==null&&a!==void 0?a:[];return n.startsWith("data-")||!hn(t)&&(i&&o.includes(n)||Yye.includes(n))||r&&CT.includes(n)},Xt=function(t,n,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var i=t;if(N.isValidElement(t)&&(i=t.props),!Ny(i))return null;var a={};return Object.keys(i).forEach(function(o){var l;i0e((l=i)===null||l===void 0?void 0:l[o],o,n,r)&&(a[o]=i[o])}),a},lE=function e(t,n){if(t===n)return!0;var r=N.Children.count(t);if(r!==N.Children.count(n))return!1;if(r===0)return!0;if(r===1)return J6(Array.isArray(t)?t[0]:t,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var a=t[i],o=n[i];if(Array.isArray(a)||Array.isArray(o)){if(!e(a,o))return!1}else if(!J6(a,o))return!1}return!0},J6=function(t,n){if(pn(t)&&pn(n))return!0;if(!pn(t)&&!pn(n)){var r=t.props||{},i=r.children,a=Z6(r,Jye),o=n.props||{},l=o.children,c=Z6(o,e0e);return i&&l?Vg(a,c)&&lE(i,l):!i&&!l?Vg(a,c):!1}return!1},eM=function(t,n){var r=[],i={};return ET(t).forEach(function(a,o){if(r0e(a))r.push(a);else if(a){var l=Id(a.type),c=n[l]||{},u=c.handler,f=c.once;if(u&&(!f||!i[l])){var h=u(a,l,o);r.push(h),i[l]=!0}}}),r},a0e=function(t){var n=t&&t.type;return n&&X6[n]?X6[n]:null},s0e=function(t,n){return ET(n).indexOf(t)},o0e=["children","width","height","viewBox","className","style","title","desc"];function cE(){return cE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cE.apply(this,arguments)}function l0e(e,t){if(e==null)return{};var n=c0e(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function c0e(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function uE(e){var t=e.children,n=e.width,r=e.height,i=e.viewBox,a=e.className,o=e.style,l=e.title,c=e.desc,u=l0e(e,o0e),f=i||{width:n,height:r,x:0,y:0},h=Pn("recharts-surface",a);return ie.createElement("svg",cE({},Xt(u,!0,"svg"),{className:h,width:n,height:r,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height)}),ie.createElement("title",null,l),ie.createElement("desc",null,c),t)}var u0e=["children","className"];function dE(){return dE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dE.apply(this,arguments)}function d0e(e,t){if(e==null)return{};var n=f0e(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function f0e(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var In=ie.forwardRef(function(e,t){var n=e.children,r=e.className,i=d0e(e,u0e),a=Pn("recharts-layer",r);return ie.createElement("g",dE({className:a},Xt(i,!0),{ref:t}),n)}),Dc=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]};function h0e(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),n=n>i?i:n,n<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var a=Array(i);++r<i;)a[r]=e[r+t];return a}var p0e=h0e,m0e=p0e;function g0e(e,t,n){var r=e.length;return n=n===void 0?r:n,!t&&n>=r?e:m0e(e,t,n)}var v0e=g0e,y0e="\\ud800-\\udfff",x0e="\\u0300-\\u036f",b0e="\\ufe20-\\ufe2f",w0e="\\u20d0-\\u20ff",_0e=x0e+b0e+w0e,j0e="\\ufe0e\\ufe0f",N0e="\\u200d",S0e=RegExp("["+N0e+y0e+_0e+j0e+"]");function A0e(e){return S0e.test(e)}var IG=A0e;function P0e(e){return e.split("")}var C0e=P0e,LG="\\ud800-\\udfff",E0e="\\u0300-\\u036f",O0e="\\ufe20-\\ufe2f",k0e="\\u20d0-\\u20ff",T0e=E0e+O0e+k0e,I0e="\\ufe0e\\ufe0f",L0e="["+LG+"]",fE="["+T0e+"]",hE="\\ud83c[\\udffb-\\udfff]",M0e="(?:"+fE+"|"+hE+")",MG="[^"+LG+"]",DG="(?:\\ud83c[\\udde6-\\uddff]){2}",RG="[\\ud800-\\udbff][\\udc00-\\udfff]",D0e="\\u200d",$G=M0e+"?",FG="["+I0e+"]?",R0e="(?:"+D0e+"(?:"+[MG,DG,RG].join("|")+")"+FG+$G+")*",$0e=FG+$G+R0e,F0e="(?:"+[MG+fE+"?",fE,DG,RG,L0e].join("|")+")",B0e=RegExp(hE+"(?="+hE+")|"+F0e+$0e,"g");function z0e(e){return e.match(B0e)||[]}var U0e=z0e,q0e=C0e,V0e=IG,W0e=U0e;function H0e(e){return V0e(e)?W0e(e):q0e(e)}var K0e=H0e,G0e=v0e,Z0e=IG,X0e=K0e,Y0e=AG;function Q0e(e){return function(t){t=Y0e(t);var n=Z0e(t)?X0e(t):void 0,r=n?n[0]:t.charAt(0),i=n?G0e(n,1).join(""):t.slice(1);return r[e]()+i}}var J0e=Q0e,exe=J0e,txe=exe("toUpperCase"),nxe=txe;const uN=jr(nxe);function Gr(e){return function(){return e}}const BG=Math.cos,T_=Math.sin,Xc=Math.sqrt,I_=Math.PI,dN=2*I_,pE=Math.PI,mE=2*pE,hp=1e-6,rxe=mE-hp;function zG(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function ixe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return zG;const n=10**t;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class axe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?zG:ixe(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,a,o){this._append`C${+t},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(t,n,r,i,a){if(t=+t,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,l=this._y1,c=r-t,u=i-n,f=o-t,h=l-n,p=f*f+h*h;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(p>hp)if(!(Math.abs(h*c-u*f)>hp)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let m=r-o,x=i-l,v=c*c+u*u,y=m*m+x*x,b=Math.sqrt(v),w=Math.sqrt(p),j=a*Math.tan((pE-Math.acos((v+p-y)/(2*b*w)))/2),P=j/w,A=j/b;Math.abs(P-1)>hp&&this._append`L${t+P*f},${n+P*h}`,this._append`A${a},${a},0,0,${+(h*m>f*x)},${this._x1=t+A*c},${this._y1=n+A*u}`}}arc(t,n,r,i,a,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(i),c=r*Math.sin(i),u=t+l,f=n+c,h=1^o,p=o?i-a:a-i;this._x1===null?this._append`M${u},${f}`:(Math.abs(this._x1-u)>hp||Math.abs(this._y1-f)>hp)&&this._append`L${u},${f}`,r&&(p<0&&(p=p%mE+mE),p>rxe?this._append`A${r},${r},0,1,${h},${t-l},${n-c}A${r},${r},0,1,${h},${this._x1=u},${this._y1=f}`:p>hp&&this._append`A${r},${r},0,${+(p>=pE)},${h},${this._x1=t+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function OT(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new axe(t)}function kT(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function UG(e){this._context=e}UG.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function fN(e){return new UG(e)}function qG(e){return e[0]}function VG(e){return e[1]}function WG(e,t){var n=Gr(!0),r=null,i=fN,a=null,o=OT(l);e=typeof e=="function"?e:e===void 0?qG:Gr(e),t=typeof t=="function"?t:t===void 0?VG:Gr(t);function l(c){var u,f=(c=kT(c)).length,h,p=!1,m;for(r==null&&(a=i(m=o())),u=0;u<=f;++u)!(u<f&&n(h=c[u],u,c))===p&&((p=!p)?a.lineStart():a.lineEnd()),p&&a.point(+e(h,u,c),+t(h,u,c));if(m)return a=null,m+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Gr(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Gr(+c),l):t},l.defined=function(c){return arguments.length?(n=typeof c=="function"?c:Gr(!!c),l):n},l.curve=function(c){return arguments.length?(i=c,r!=null&&(a=i(r)),l):i},l.context=function(c){return arguments.length?(c==null?r=a=null:a=i(r=c),l):r},l}function Rw(e,t,n){var r=null,i=Gr(!0),a=null,o=fN,l=null,c=OT(u);e=typeof e=="function"?e:e===void 0?qG:Gr(+e),t=typeof t=="function"?t:Gr(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?VG:Gr(+n);function u(h){var p,m,x,v=(h=kT(h)).length,y,b=!1,w,j=new Array(v),P=new Array(v);for(a==null&&(l=o(w=c())),p=0;p<=v;++p){if(!(p<v&&i(y=h[p],p,h))===b)if(b=!b)m=p,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),x=p-1;x>=m;--x)l.point(j[x],P[x]);l.lineEnd(),l.areaEnd()}b&&(j[p]=+e(y,p,h),P[p]=+t(y,p,h),l.point(r?+r(y,p,h):j[p],n?+n(y,p,h):P[p]))}if(w)return l=null,w+""||null}function f(){return WG().defined(i).curve(o).context(a)}return u.x=function(h){return arguments.length?(e=typeof h=="function"?h:Gr(+h),r=null,u):e},u.x0=function(h){return arguments.length?(e=typeof h=="function"?h:Gr(+h),u):e},u.x1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:Gr(+h),u):r},u.y=function(h){return arguments.length?(t=typeof h=="function"?h:Gr(+h),n=null,u):t},u.y0=function(h){return arguments.length?(t=typeof h=="function"?h:Gr(+h),u):t},u.y1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:Gr(+h),u):n},u.lineX0=u.lineY0=function(){return f().x(e).y(t)},u.lineY1=function(){return f().x(e).y(n)},u.lineX1=function(){return f().x(r).y(t)},u.defined=function(h){return arguments.length?(i=typeof h=="function"?h:Gr(!!h),u):i},u.curve=function(h){return arguments.length?(o=h,a!=null&&(l=o(a)),u):o},u.context=function(h){return arguments.length?(h==null?a=l=null:l=o(a=h),u):a},u}class HG{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function sxe(e){return new HG(e,!0)}function oxe(e){return new HG(e,!1)}const TT={draw(e,t){const n=Xc(t/I_);e.moveTo(n,0),e.arc(0,0,n,0,dN)}},lxe={draw(e,t){const n=Xc(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},KG=Xc(1/3),cxe=KG*2,uxe={draw(e,t){const n=Xc(t/cxe),r=n*KG;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},dxe={draw(e,t){const n=Xc(t),r=-n/2;e.rect(r,r,n,n)}},fxe=.8908130915292852,GG=T_(I_/10)/T_(7*I_/10),hxe=T_(dN/10)*GG,pxe=-BG(dN/10)*GG,mxe={draw(e,t){const n=Xc(t*fxe),r=hxe*n,i=pxe*n;e.moveTo(0,-n),e.lineTo(r,i);for(let a=1;a<5;++a){const o=dN*a/5,l=BG(o),c=T_(o);e.lineTo(c*n,-l*n),e.lineTo(l*r-c*i,c*r+l*i)}e.closePath()}},_A=Xc(3),gxe={draw(e,t){const n=-Xc(t/(_A*3));e.moveTo(0,n*2),e.lineTo(-_A*n,-n),e.lineTo(_A*n,-n),e.closePath()}},Sl=-.5,Al=Xc(3)/2,gE=1/Xc(12),vxe=(gE/2+1)*3,yxe={draw(e,t){const n=Xc(t/vxe),r=n/2,i=n*gE,a=r,o=n*gE+n,l=-a,c=o;e.moveTo(r,i),e.lineTo(a,o),e.lineTo(l,c),e.lineTo(Sl*r-Al*i,Al*r+Sl*i),e.lineTo(Sl*a-Al*o,Al*a+Sl*o),e.lineTo(Sl*l-Al*c,Al*l+Sl*c),e.lineTo(Sl*r+Al*i,Sl*i-Al*r),e.lineTo(Sl*a+Al*o,Sl*o-Al*a),e.lineTo(Sl*l+Al*c,Sl*c-Al*l),e.closePath()}};function xxe(e,t){let n=null,r=OT(i);e=typeof e=="function"?e:Gr(e||TT),t=typeof t=="function"?t:Gr(t===void 0?64:+t);function i(){let a;if(n||(n=a=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:Gr(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:Gr(+a),i):t},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function L_(){}function M_(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function ZG(e){this._context=e}ZG.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:M_(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:M_(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function bxe(e){return new ZG(e)}function XG(e){this._context=e}XG.prototype={areaStart:L_,areaEnd:L_,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:M_(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function wxe(e){return new XG(e)}function YG(e){this._context=e}YG.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:M_(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function _xe(e){return new YG(e)}function QG(e){this._context=e}QG.prototype={areaStart:L_,areaEnd:L_,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function jxe(e){return new QG(e)}function tM(e){return e<0?-1:1}function nM(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),o=(n-e._y1)/(i||r<0&&-0),l=(a*i+o*r)/(r+i);return(tM(a)+tM(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(l))||0}function rM(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function jA(e,t,n){var r=e._x0,i=e._y0,a=e._x1,o=e._y1,l=(a-r)/3;e._context.bezierCurveTo(r+l,i+l*t,a-l,o-l*n,a,o)}function D_(e){this._context=e}D_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:jA(this,this._t0,rM(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,jA(this,rM(this,n=nM(this,e,t)),n);break;default:jA(this,this._t0,n=nM(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function JG(e){this._context=new eZ(e)}(JG.prototype=Object.create(D_.prototype)).point=function(e,t){D_.prototype.point.call(this,t,e)};function eZ(e){this._context=e}eZ.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}};function Nxe(e){return new D_(e)}function Sxe(e){return new JG(e)}function tZ(e){this._context=e}tZ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=iM(e),i=iM(t),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function iM(e){var t,n=e.length-1,r,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/a[t-1],a[t]-=r,o[t]-=r*o[t-1];for(i[n-1]=o[n-1]/a[n-1],t=n-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(a[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function Axe(e){return new tZ(e)}function hN(e,t){this._context=e,this._t=t}hN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function Pxe(e){return new hN(e,.5)}function Cxe(e){return new hN(e,0)}function Exe(e){return new hN(e,1)}function Cv(e,t){if((o=e.length)>1)for(var n=1,r,i,a=e[t[0]],o,l=a.length;n<o;++n)for(i=a,a=e[t[n]],r=0;r<l;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function vE(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function Oxe(e,t){return e[t]}function kxe(e){const t=[];return t.key=e,t}function Txe(){var e=Gr([]),t=vE,n=Cv,r=Oxe;function i(a){var o=Array.from(e.apply(this,arguments),kxe),l,c=o.length,u=-1,f;for(const h of a)for(l=0,++u;l<c;++l)(o[l][u]=[0,+r(h,o[l].key,u,a)]).data=h;for(l=0,f=kT(t(o));l<c;++l)o[f[l]].index=l;return n(o,f),o}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:Gr(Array.from(a)),i):e},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:Gr(+a),i):r},i.order=function(a){return arguments.length?(t=a==null?vE:typeof a=="function"?a:Gr(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(n=a??Cv,i):n},i}function Ixe(e,t){if((r=e.length)>0){for(var n,r,i=0,a=e[0].length,o;i<a;++i){for(o=n=0;n<r;++n)o+=e[n][i][1]||0;if(o)for(n=0;n<r;++n)e[n][i][1]/=o}Cv(e,t)}}function Lxe(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,a=r.length;n<a;++n){for(var o=0,l=0;o<i;++o)l+=e[o][n][1]||0;r[n][1]+=r[n][0]=-l/2}Cv(e,t)}}function Mxe(e,t){if(!(!((o=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,a,o;r<a;++r){for(var l=0,c=0,u=0;l<o;++l){for(var f=e[t[l]],h=f[r][1]||0,p=f[r-1][1]||0,m=(h-p)/2,x=0;x<l;++x){var v=e[t[x]],y=v[r][1]||0,b=v[r-1][1]||0;m+=y-b}c+=h,u+=m*h}i[r-1][1]+=i[r-1][0]=n,c&&(n-=u/c)}i[r-1][1]+=i[r-1][0]=n,Cv(e,t)}}function Zx(e){"@babel/helpers - typeof";return Zx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zx(e)}var Dxe=["type","size","sizeType"];function yE(){return yE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yE.apply(this,arguments)}function aM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function sM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aM(Object(n),!0).forEach(function(r){Rxe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Rxe(e,t,n){return t=$xe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $xe(e){var t=Fxe(e,"string");return Zx(t)=="symbol"?t:t+""}function Fxe(e,t){if(Zx(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Zx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bxe(e,t){if(e==null)return{};var n=zxe(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function zxe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var nZ={symbolCircle:TT,symbolCross:lxe,symbolDiamond:uxe,symbolSquare:dxe,symbolStar:mxe,symbolTriangle:gxe,symbolWye:yxe},Uxe=Math.PI/180,qxe=function(t){var n="symbol".concat(uN(t));return nZ[n]||TT},Vxe=function(t,n,r){if(n==="area")return t;switch(r){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var i=18*Uxe;return 1.25*t*t*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},Wxe=function(t,n){nZ["symbol".concat(uN(t))]=n},pN=function(t){var n=t.type,r=n===void 0?"circle":n,i=t.size,a=i===void 0?64:i,o=t.sizeType,l=o===void 0?"area":o,c=Bxe(t,Dxe),u=sM(sM({},c),{},{type:r,size:a,sizeType:l}),f=function(){var y=qxe(r),b=xxe().type(y).size(Vxe(a,l,r));return b()},h=u.className,p=u.cx,m=u.cy,x=Xt(u,!0);return p===+p&&m===+m&&a===+a?ie.createElement("path",yE({},x,{className:Pn("recharts-symbols",h),transform:"translate(".concat(p,", ").concat(m,")"),d:f()})):null};pN.registerSymbol=Wxe;function Ev(e){"@babel/helpers - typeof";return Ev=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ev(e)}function xE(){return xE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xE.apply(this,arguments)}function oM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Hxe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oM(Object(n),!0).forEach(function(r){Xx(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Kxe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gxe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,iZ(r.key),r)}}function Zxe(e,t,n){return t&&Gxe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Xxe(e,t,n){return t=R_(t),Yxe(e,rZ()?Reflect.construct(t,n||[],R_(e).constructor):t.apply(e,n))}function Yxe(e,t){if(t&&(Ev(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qxe(e)}function Qxe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rZ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rZ=function(){return!!e})()}function R_(e){return R_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},R_(e)}function Jxe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bE(e,t)}function bE(e,t){return bE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},bE(e,t)}function Xx(e,t,n){return t=iZ(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iZ(e){var t=e1e(e,"string");return Ev(t)=="symbol"?t:t+""}function e1e(e,t){if(Ev(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Ev(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Pl=32,IT=function(e){function t(){return Kxe(this,t),Xxe(this,t,arguments)}return Jxe(t,e),Zxe(t,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,a=Pl/2,o=Pl/6,l=Pl/3,c=r.inactive?i:r.color;if(r.type==="plainline")return ie.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:a,x2:Pl,y2:a,className:"recharts-legend-icon"});if(r.type==="line")return ie.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(a,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(a,`
            H`).concat(Pl,"M").concat(2*l,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(a),className:"recharts-legend-icon"});if(r.type==="rect")return ie.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Pl/8,"h").concat(Pl,"v").concat(Pl*3/4,"h").concat(-Pl,"z"),className:"recharts-legend-icon"});if(ie.isValidElement(r.legendIcon)){var u=Hxe({},r);return delete u.legendIcon,ie.cloneElement(r.legendIcon,u)}return ie.createElement(pN,{fill:c,cx:a,cy:a,size:Pl,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,a=i.payload,o=i.iconSize,l=i.layout,c=i.formatter,u=i.inactiveColor,f={x:0,y:0,width:Pl,height:Pl},h={display:l==="horizontal"?"inline-block":"block",marginRight:10},p={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(m,x){var v=m.formatter||c,y=Pn(Xx(Xx({"recharts-legend-item":!0},"legend-item-".concat(x),!0),"inactive",m.inactive));if(m.type==="none")return null;var b=hn(m.value)?null:m.value;Dc(!hn(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var w=m.inactive?u:m.color;return ie.createElement("li",xE({className:y,style:h,key:"legend-item-".concat(x)},jh(r.props,m,x)),ie.createElement(uE,{width:o,height:o,viewBox:f,style:p},r.renderIcon(m)),ie.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},v?v(b,m,x):b))})}},{key:"render",value:function(){var r=this.props,i=r.payload,a=r.layout,o=r.align;if(!i||!i.length)return null;var l={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return ie.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(N.PureComponent);Xx(IT,"displayName","Legend");Xx(IT,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var t1e=Yj;function n1e(){this.__data__=new t1e,this.size=0}var r1e=n1e;function i1e(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var a1e=i1e;function s1e(e){return this.__data__.get(e)}var o1e=s1e;function l1e(e){return this.__data__.has(e)}var c1e=l1e,u1e=Yj,d1e=wT,f1e=_T,h1e=200;function p1e(e,t){var n=this.__data__;if(n instanceof u1e){var r=n.__data__;if(!d1e||r.length<h1e-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new f1e(r)}return n.set(e,t),this.size=n.size,this}var m1e=p1e,g1e=Yj,v1e=r1e,y1e=a1e,x1e=o1e,b1e=c1e,w1e=m1e;function Ey(e){var t=this.__data__=new g1e(e);this.size=t.size}Ey.prototype.clear=v1e;Ey.prototype.delete=y1e;Ey.prototype.get=x1e;Ey.prototype.has=b1e;Ey.prototype.set=w1e;var aZ=Ey,_1e="__lodash_hash_undefined__";function j1e(e){return this.__data__.set(e,_1e),this}var N1e=j1e;function S1e(e){return this.__data__.has(e)}var A1e=S1e,P1e=_T,C1e=N1e,E1e=A1e;function $_(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new P1e;++t<n;)this.add(e[t])}$_.prototype.add=$_.prototype.push=C1e;$_.prototype.has=E1e;var sZ=$_;function O1e(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var oZ=O1e;function k1e(e,t){return e.has(t)}var lZ=k1e,T1e=sZ,I1e=oZ,L1e=lZ,M1e=1,D1e=2;function R1e(e,t,n,r,i,a){var o=n&M1e,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var u=a.get(e),f=a.get(t);if(u&&f)return u==t&&f==e;var h=-1,p=!0,m=n&D1e?new T1e:void 0;for(a.set(e,t),a.set(t,e);++h<l;){var x=e[h],v=t[h];if(r)var y=o?r(v,x,h,t,e,a):r(x,v,h,e,t,a);if(y!==void 0){if(y)continue;p=!1;break}if(m){if(!I1e(t,function(b,w){if(!L1e(m,w)&&(x===b||i(x,b,n,r,a)))return m.push(w)})){p=!1;break}}else if(!(x===v||i(x,v,n,r,a))){p=!1;break}}return a.delete(e),a.delete(t),p}var cZ=R1e,$1e=Ju,F1e=$1e.Uint8Array,B1e=F1e;function z1e(e){var t=-1,n=Array(e.size);return e.forEach(function(r,i){n[++t]=[i,r]}),n}var U1e=z1e;function q1e(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var LT=q1e,lM=xb,cM=B1e,V1e=bT,W1e=cZ,H1e=U1e,K1e=LT,G1e=1,Z1e=2,X1e="[object Boolean]",Y1e="[object Date]",Q1e="[object Error]",J1e="[object Map]",ebe="[object Number]",tbe="[object RegExp]",nbe="[object Set]",rbe="[object String]",ibe="[object Symbol]",abe="[object ArrayBuffer]",sbe="[object DataView]",uM=lM?lM.prototype:void 0,NA=uM?uM.valueOf:void 0;function obe(e,t,n,r,i,a,o){switch(n){case sbe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case abe:return!(e.byteLength!=t.byteLength||!a(new cM(e),new cM(t)));case X1e:case Y1e:case ebe:return V1e(+e,+t);case Q1e:return e.name==t.name&&e.message==t.message;case tbe:case rbe:return e==t+"";case J1e:var l=H1e;case nbe:var c=r&G1e;if(l||(l=K1e),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;r|=Z1e,o.set(e,t);var f=W1e(l(e),l(t),r,i,a,o);return o.delete(e),f;case ibe:if(NA)return NA.call(e)==NA.call(t)}return!1}var lbe=obe;function cbe(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var uZ=cbe,ube=uZ,dbe=No;function fbe(e,t,n){var r=t(e);return dbe(e)?r:ube(r,n(e))}var hbe=fbe;function pbe(e,t){for(var n=-1,r=e==null?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a}var mbe=pbe;function gbe(){return[]}var vbe=gbe,ybe=mbe,xbe=vbe,bbe=Object.prototype,wbe=bbe.propertyIsEnumerable,dM=Object.getOwnPropertySymbols,_be=dM?function(e){return e==null?[]:(e=Object(e),ybe(dM(e),function(t){return wbe.call(e,t)}))}:xbe,jbe=_be;function Nbe(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var Sbe=Nbe,Abe=Yd,Pbe=Qd,Cbe="[object Arguments]";function Ebe(e){return Pbe(e)&&Abe(e)==Cbe}var Obe=Ebe,fM=Obe,kbe=Qd,dZ=Object.prototype,Tbe=dZ.hasOwnProperty,Ibe=dZ.propertyIsEnumerable,Lbe=fM(function(){return arguments}())?fM:function(e){return kbe(e)&&Tbe.call(e,"callee")&&!Ibe.call(e,"callee")},MT=Lbe,F_={exports:{}};function Mbe(){return!1}var Dbe=Mbe;F_.exports;(function(e,t){var n=Ju,r=Dbe,i=t&&!t.nodeType&&t,a=i&&!0&&e&&!e.nodeType&&e,o=a&&a.exports===i,l=o?n.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||r;e.exports=u})(F_,F_.exports);var fZ=F_.exports,Rbe=9007199254740991,$be=/^(?:0|[1-9]\d*)$/;function Fbe(e,t){var n=typeof e;return t=t??Rbe,!!t&&(n=="number"||n!="symbol"&&$be.test(e))&&e>-1&&e%1==0&&e<t}var DT=Fbe,Bbe=9007199254740991;function zbe(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Bbe}var RT=zbe,Ube=Yd,qbe=RT,Vbe=Qd,Wbe="[object Arguments]",Hbe="[object Array]",Kbe="[object Boolean]",Gbe="[object Date]",Zbe="[object Error]",Xbe="[object Function]",Ybe="[object Map]",Qbe="[object Number]",Jbe="[object Object]",ewe="[object RegExp]",twe="[object Set]",nwe="[object String]",rwe="[object WeakMap]",iwe="[object ArrayBuffer]",awe="[object DataView]",swe="[object Float32Array]",owe="[object Float64Array]",lwe="[object Int8Array]",cwe="[object Int16Array]",uwe="[object Int32Array]",dwe="[object Uint8Array]",fwe="[object Uint8ClampedArray]",hwe="[object Uint16Array]",pwe="[object Uint32Array]",ri={};ri[swe]=ri[owe]=ri[lwe]=ri[cwe]=ri[uwe]=ri[dwe]=ri[fwe]=ri[hwe]=ri[pwe]=!0;ri[Wbe]=ri[Hbe]=ri[iwe]=ri[Kbe]=ri[awe]=ri[Gbe]=ri[Zbe]=ri[Xbe]=ri[Ybe]=ri[Qbe]=ri[Jbe]=ri[ewe]=ri[twe]=ri[nwe]=ri[rwe]=!1;function mwe(e){return Vbe(e)&&qbe(e.length)&&!!ri[Ube(e)]}var gwe=mwe;function vwe(e){return function(t){return e(t)}}var hZ=vwe,B_={exports:{}};B_.exports;(function(e,t){var n=bG,r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,a=i&&i.exports===r,o=a&&n.process,l=function(){try{var c=i&&i.require&&i.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(B_,B_.exports);var ywe=B_.exports,xwe=gwe,bwe=hZ,hM=ywe,pM=hM&&hM.isTypedArray,wwe=pM?bwe(pM):xwe,pZ=wwe,_we=Sbe,jwe=MT,Nwe=No,Swe=fZ,Awe=DT,Pwe=pZ,Cwe=Object.prototype,Ewe=Cwe.hasOwnProperty;function Owe(e,t){var n=Nwe(e),r=!n&&jwe(e),i=!n&&!r&&Swe(e),a=!n&&!r&&!i&&Pwe(e),o=n||r||i||a,l=o?_we(e.length,String):[],c=l.length;for(var u in e)(t||Ewe.call(e,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Awe(u,c)))&&l.push(u);return l}var kwe=Owe,Twe=Object.prototype;function Iwe(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||Twe;return e===n}var Lwe=Iwe;function Mwe(e,t){return function(n){return e(t(n))}}var mZ=Mwe,Dwe=mZ,Rwe=Dwe(Object.keys,Object),$we=Rwe,Fwe=Lwe,Bwe=$we,zwe=Object.prototype,Uwe=zwe.hasOwnProperty;function qwe(e){if(!Fwe(e))return Bwe(e);var t=[];for(var n in Object(e))Uwe.call(e,n)&&n!="constructor"&&t.push(n);return t}var Vwe=qwe,Wwe=xT,Hwe=RT;function Kwe(e){return e!=null&&Hwe(e.length)&&!Wwe(e)}var bb=Kwe,Gwe=kwe,Zwe=Vwe,Xwe=bb;function Ywe(e){return Xwe(e)?Gwe(e):Zwe(e)}var mN=Ywe,Qwe=hbe,Jwe=jbe,e2e=mN;function t2e(e){return Qwe(e,e2e,Jwe)}var n2e=t2e,mM=n2e,r2e=1,i2e=Object.prototype,a2e=i2e.hasOwnProperty;function s2e(e,t,n,r,i,a){var o=n&r2e,l=mM(e),c=l.length,u=mM(t),f=u.length;if(c!=f&&!o)return!1;for(var h=c;h--;){var p=l[h];if(!(o?p in t:a2e.call(t,p)))return!1}var m=a.get(e),x=a.get(t);if(m&&x)return m==t&&x==e;var v=!0;a.set(e,t),a.set(t,e);for(var y=o;++h<c;){p=l[h];var b=e[p],w=t[p];if(r)var j=o?r(w,b,p,t,e,a):r(b,w,p,e,t,a);if(!(j===void 0?b===w||i(b,w,n,r,a):j)){v=!1;break}y||(y=p=="constructor")}if(v&&!y){var P=e.constructor,A=t.constructor;P!=A&&"constructor"in e&&"constructor"in t&&!(typeof P=="function"&&P instanceof P&&typeof A=="function"&&A instanceof A)&&(v=!1)}return a.delete(e),a.delete(t),v}var o2e=s2e,l2e=Sm,c2e=Ju,u2e=l2e(c2e,"DataView"),d2e=u2e,f2e=Sm,h2e=Ju,p2e=f2e(h2e,"Promise"),m2e=p2e,g2e=Sm,v2e=Ju,y2e=g2e(v2e,"Set"),gZ=y2e,x2e=Sm,b2e=Ju,w2e=x2e(b2e,"WeakMap"),_2e=w2e,wE=d2e,_E=wT,jE=m2e,NE=gZ,SE=_2e,vZ=Yd,Oy=_G,gM="[object Map]",j2e="[object Object]",vM="[object Promise]",yM="[object Set]",xM="[object WeakMap]",bM="[object DataView]",N2e=Oy(wE),S2e=Oy(_E),A2e=Oy(jE),P2e=Oy(NE),C2e=Oy(SE),pp=vZ;(wE&&pp(new wE(new ArrayBuffer(1)))!=bM||_E&&pp(new _E)!=gM||jE&&pp(jE.resolve())!=vM||NE&&pp(new NE)!=yM||SE&&pp(new SE)!=xM)&&(pp=function(e){var t=vZ(e),n=t==j2e?e.constructor:void 0,r=n?Oy(n):"";if(r)switch(r){case N2e:return bM;case S2e:return gM;case A2e:return vM;case P2e:return yM;case C2e:return xM}return t});var E2e=pp,SA=aZ,O2e=cZ,k2e=lbe,T2e=o2e,wM=E2e,_M=No,jM=fZ,I2e=pZ,L2e=1,NM="[object Arguments]",SM="[object Array]",$w="[object Object]",M2e=Object.prototype,AM=M2e.hasOwnProperty;function D2e(e,t,n,r,i,a){var o=_M(e),l=_M(t),c=o?SM:wM(e),u=l?SM:wM(t);c=c==NM?$w:c,u=u==NM?$w:u;var f=c==$w,h=u==$w,p=c==u;if(p&&jM(e)){if(!jM(t))return!1;o=!0,f=!1}if(p&&!f)return a||(a=new SA),o||I2e(e)?O2e(e,t,n,r,i,a):k2e(e,t,c,n,r,i,a);if(!(n&L2e)){var m=f&&AM.call(e,"__wrapped__"),x=h&&AM.call(t,"__wrapped__");if(m||x){var v=m?e.value():e,y=x?t.value():t;return a||(a=new SA),i(v,y,n,r,a)}}return p?(a||(a=new SA),T2e(e,t,n,r,i,a)):!1}var R2e=D2e,$2e=R2e,PM=Qd;function yZ(e,t,n,r,i){return e===t?!0:e==null||t==null||!PM(e)&&!PM(t)?e!==e&&t!==t:$2e(e,t,n,r,yZ,i)}var $T=yZ,F2e=aZ,B2e=$T,z2e=1,U2e=2;function q2e(e,t,n,r){var i=n.length,a=i,o=!r;if(e==null)return!a;for(e=Object(e);i--;){var l=n[i];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++i<a;){l=n[i];var c=l[0],u=e[c],f=l[1];if(o&&l[2]){if(u===void 0&&!(c in e))return!1}else{var h=new F2e;if(r)var p=r(u,f,c,e,t,h);if(!(p===void 0?B2e(f,u,z2e|U2e,r,h):p))return!1}}return!0}var V2e=q2e,W2e=$h;function H2e(e){return e===e&&!W2e(e)}var xZ=H2e,K2e=xZ,G2e=mN;function Z2e(e){for(var t=G2e(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,K2e(i)]}return t}var X2e=Z2e;function Y2e(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var bZ=Y2e,Q2e=V2e,J2e=X2e,e_e=bZ;function t_e(e){var t=J2e(e);return t.length==1&&t[0][2]?e_e(t[0][0],t[0][1]):function(n){return n===e||Q2e(n,e,t)}}var n_e=t_e;function r_e(e,t){return e!=null&&t in Object(e)}var i_e=r_e,a_e=PG,s_e=MT,o_e=No,l_e=DT,c_e=RT,u_e=Jj;function d_e(e,t,n){t=a_e(t,e);for(var r=-1,i=t.length,a=!1;++r<i;){var o=u_e(t[r]);if(!(a=e!=null&&n(e,o)))break;e=e[o]}return a||++r!=i?a:(i=e==null?0:e.length,!!i&&c_e(i)&&l_e(o,i)&&(o_e(e)||s_e(e)))}var f_e=d_e,h_e=i_e,p_e=f_e;function m_e(e,t){return e!=null&&p_e(e,t,h_e)}var g_e=m_e,v_e=$T,y_e=CG,x_e=g_e,b_e=yT,w_e=xZ,__e=bZ,j_e=Jj,N_e=1,S_e=2;function A_e(e,t){return b_e(e)&&w_e(t)?__e(j_e(e),t):function(n){var r=y_e(n,e);return r===void 0&&r===t?x_e(n,e):v_e(t,r,N_e|S_e)}}var P_e=A_e;function C_e(e){return e}var ky=C_e;function E_e(e){return function(t){return t==null?void 0:t[e]}}var O_e=E_e,k_e=ST;function T_e(e){return function(t){return k_e(t,e)}}var I_e=T_e,L_e=O_e,M_e=I_e,D_e=yT,R_e=Jj;function $_e(e){return D_e(e)?L_e(R_e(e)):M_e(e)}var F_e=$_e,B_e=n_e,z_e=P_e,U_e=ky,q_e=No,V_e=F_e;function W_e(e){return typeof e=="function"?e:e==null?U_e:typeof e=="object"?q_e(e)?z_e(e[0],e[1]):B_e(e):V_e(e)}var ed=W_e;function H_e(e,t,n,r){for(var i=e.length,a=n+(r?1:-1);r?a--:++a<i;)if(t(e[a],a,e))return a;return-1}var wZ=H_e;function K_e(e){return e!==e}var G_e=K_e;function Z_e(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}var X_e=Z_e,Y_e=wZ,Q_e=G_e,J_e=X_e;function e5e(e,t,n){return t===t?J_e(e,t,n):Y_e(e,Q_e,n)}var t5e=e5e,n5e=t5e;function r5e(e,t){var n=e==null?0:e.length;return!!n&&n5e(e,t,0)>-1}var i5e=r5e;function a5e(e,t,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}var s5e=a5e;function o5e(){}var l5e=o5e,AA=gZ,c5e=l5e,u5e=LT,d5e=1/0,f5e=AA&&1/u5e(new AA([,-0]))[1]==d5e?function(e){return new AA(e)}:c5e,h5e=f5e,p5e=sZ,m5e=i5e,g5e=s5e,v5e=lZ,y5e=h5e,x5e=LT,b5e=200;function w5e(e,t,n){var r=-1,i=m5e,a=e.length,o=!0,l=[],c=l;if(n)o=!1,i=g5e;else if(a>=b5e){var u=t?null:y5e(e);if(u)return x5e(u);o=!1,i=v5e,c=new p5e}else c=t?[]:l;e:for(;++r<a;){var f=e[r],h=t?t(f):f;if(f=n||f!==0?f:0,o&&h===h){for(var p=c.length;p--;)if(c[p]===h)continue e;t&&c.push(h),l.push(f)}else i(c,h,n)||(c!==l&&c.push(h),l.push(f))}return l}var _5e=w5e,j5e=ed,N5e=_5e;function S5e(e,t){return e&&e.length?N5e(e,j5e(t)):[]}var A5e=S5e;const CM=jr(A5e);function _Z(e,t,n){return t===!0?CM(e,n):hn(t)?CM(e,t):e}function Ov(e){"@babel/helpers - typeof";return Ov=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ov(e)}var P5e=["ref"];function EM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function pd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?EM(Object(n),!0).forEach(function(r){gN(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function C5e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function OM(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,NZ(r.key),r)}}function E5e(e,t,n){return t&&OM(e.prototype,t),n&&OM(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function O5e(e,t,n){return t=z_(t),k5e(e,jZ()?Reflect.construct(t,n||[],z_(e).constructor):t.apply(e,n))}function k5e(e,t){if(t&&(Ov(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return T5e(e)}function T5e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jZ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jZ=function(){return!!e})()}function z_(e){return z_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},z_(e)}function I5e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&AE(e,t)}function AE(e,t){return AE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},AE(e,t)}function gN(e,t,n){return t=NZ(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function NZ(e){var t=L5e(e,"string");return Ov(t)=="symbol"?t:t+""}function L5e(e,t){if(Ov(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Ov(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function M5e(e,t){if(e==null)return{};var n=D5e(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function D5e(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function R5e(e){return e.value}function $5e(e,t){if(ie.isValidElement(e))return ie.cloneElement(e,t);if(typeof e=="function")return ie.createElement(e,t);t.ref;var n=M5e(t,P5e);return ie.createElement(IT,n)}var kM=1,Da=function(e){function t(){var n;C5e(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=O5e(this,t,[].concat(i)),gN(n,"lastBoundingBox",{width:-1,height:-1}),n}return I5e(t,e),E5e(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>kM||Math.abs(i.height-this.lastBoundingBox.height)>kM)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?pd({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,a=i.layout,o=i.align,l=i.verticalAlign,c=i.margin,u=i.chartWidth,f=i.chartHeight,h,p;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(o==="center"&&a==="vertical"){var m=this.getBBoxSnapshot();h={left:((u||0)-m.width)/2}}else h=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(l==="middle"){var x=this.getBBoxSnapshot();p={top:((f||0)-x.height)/2}}else p=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return pd(pd({},h),p)}},{key:"render",value:function(){var r=this,i=this.props,a=i.content,o=i.width,l=i.height,c=i.wrapperStyle,u=i.payloadUniqBy,f=i.payload,h=pd(pd({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return ie.createElement("div",{className:"recharts-legend-wrapper",style:h,ref:function(m){r.wrapperNode=m}},$5e(a,pd(pd({},this.props),{},{payload:_Z(f,u,R5e)})))}}],[{key:"getWithHeight",value:function(r,i){var a=pd(pd({},this.defaultProps),r.props),o=a.layout;return o==="vertical"&&pt(r.props.height)?{height:r.props.height}:o==="horizontal"?{width:r.props.width||i}:null}}])}(N.PureComponent);gN(Da,"displayName","Legend");gN(Da,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var TM=xb,F5e=MT,B5e=No,IM=TM?TM.isConcatSpreadable:void 0;function z5e(e){return B5e(e)||F5e(e)||!!(IM&&e&&e[IM])}var U5e=z5e,q5e=uZ,V5e=U5e;function SZ(e,t,n,r,i){var a=-1,o=e.length;for(n||(n=V5e),i||(i=[]);++a<o;){var l=e[a];t>0&&n(l)?t>1?SZ(l,t-1,n,r,i):q5e(i,l):r||(i[i.length]=l)}return i}var AZ=SZ;function W5e(e){return function(t,n,r){for(var i=-1,a=Object(t),o=r(t),l=o.length;l--;){var c=o[e?l:++i];if(n(a[c],c,a)===!1)break}return t}}var H5e=W5e,K5e=H5e,G5e=K5e(),Z5e=G5e,X5e=Z5e,Y5e=mN;function Q5e(e,t){return e&&X5e(e,t,Y5e)}var PZ=Q5e,J5e=bb;function eje(e,t){return function(n,r){if(n==null)return n;if(!J5e(n))return e(n,r);for(var i=n.length,a=t?i:-1,o=Object(n);(t?a--:++a<i)&&r(o[a],a,o)!==!1;);return n}}var tje=eje,nje=PZ,rje=tje,ije=rje(nje),FT=ije,aje=FT,sje=bb;function oje(e,t){var n=-1,r=sje(e)?Array(e.length):[];return aje(e,function(i,a,o){r[++n]=t(i,a,o)}),r}var CZ=oje;function lje(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}var cje=lje,LM=jy;function uje(e,t){if(e!==t){var n=e!==void 0,r=e===null,i=e===e,a=LM(e),o=t!==void 0,l=t===null,c=t===t,u=LM(t);if(!l&&!u&&!a&&e>t||a&&o&&c&&!l&&!u||r&&o&&c||!n&&c||!i)return 1;if(!r&&!a&&!u&&e<t||u&&n&&i&&!r&&!a||l&&n&&i||!o&&i||!c)return-1}return 0}var dje=uje,fje=dje;function hje(e,t,n){for(var r=-1,i=e.criteria,a=t.criteria,o=i.length,l=n.length;++r<o;){var c=fje(i[r],a[r]);if(c){if(r>=l)return c;var u=n[r];return c*(u=="desc"?-1:1)}}return e.index-t.index}var pje=hje,PA=NT,mje=ST,gje=ed,vje=CZ,yje=cje,xje=hZ,bje=pje,wje=ky,_je=No;function jje(e,t,n){t.length?t=PA(t,function(a){return _je(a)?function(o){return mje(o,a.length===1?a[0]:a)}:a}):t=[wje];var r=-1;t=PA(t,xje(gje));var i=vje(e,function(a,o,l){var c=PA(t,function(u){return u(a)});return{criteria:c,index:++r,value:a}});return yje(i,function(a,o){return bje(a,o,n)})}var Nje=jje;function Sje(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var Aje=Sje,Pje=Aje,MM=Math.max;function Cje(e,t,n){return t=MM(t===void 0?e.length-1:t,0),function(){for(var r=arguments,i=-1,a=MM(r.length-t,0),o=Array(a);++i<a;)o[i]=r[t+i];i=-1;for(var l=Array(t+1);++i<t;)l[i]=r[i];return l[t]=n(o),Pje(e,this,l)}}var Eje=Cje;function Oje(e){return function(){return e}}var kje=Oje,Tje=Sm,Ije=function(){try{var e=Tje(Object,"defineProperty");return e({},"",{}),e}catch{}}(),EZ=Ije,Lje=kje,DM=EZ,Mje=ky,Dje=DM?function(e,t){return DM(e,"toString",{configurable:!0,enumerable:!1,value:Lje(t),writable:!0})}:Mje,Rje=Dje,$je=800,Fje=16,Bje=Date.now;function zje(e){var t=0,n=0;return function(){var r=Bje(),i=Fje-(r-n);if(n=r,i>0){if(++t>=$je)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var Uje=zje,qje=Rje,Vje=Uje,Wje=Vje(qje),Hje=Wje,Kje=ky,Gje=Eje,Zje=Hje;function Xje(e,t){return Zje(Gje(e,t,Kje),e+"")}var Yje=Xje,Qje=bT,Jje=bb,eNe=DT,tNe=$h;function nNe(e,t,n){if(!tNe(n))return!1;var r=typeof t;return(r=="number"?Jje(n)&&eNe(t,n.length):r=="string"&&t in n)?Qje(n[t],e):!1}var vN=nNe,rNe=AZ,iNe=Nje,aNe=Yje,RM=vN,sNe=aNe(function(e,t){if(e==null)return[];var n=t.length;return n>1&&RM(e,t[0],t[1])?t=[]:n>2&&RM(t[0],t[1],t[2])&&(t=[t[0]]),iNe(e,rNe(t,1),[])}),oNe=sNe;const BT=jr(oNe);function Yx(e){"@babel/helpers - typeof";return Yx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yx(e)}function PE(){return PE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},PE.apply(this,arguments)}function lNe(e,t){return fNe(e)||dNe(e,t)||uNe(e,t)||cNe()}function cNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uNe(e,t){if(e){if(typeof e=="string")return $M(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $M(e,t)}}function $M(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function dNe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function fNe(e){if(Array.isArray(e))return e}function FM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function CA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FM(Object(n),!0).forEach(function(r){hNe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hNe(e,t,n){return t=pNe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pNe(e){var t=mNe(e,"string");return Yx(t)=="symbol"?t:t+""}function mNe(e,t){if(Yx(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Yx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gNe(e){return Array.isArray(e)&&Sa(e[0])&&Sa(e[1])?e.join(" ~ "):e}var vNe=function(t){var n=t.separator,r=n===void 0?" : ":n,i=t.contentStyle,a=i===void 0?{}:i,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,f=t.payload,h=t.formatter,p=t.itemSorter,m=t.wrapperClassName,x=t.labelClassName,v=t.label,y=t.labelFormatter,b=t.accessibilityLayer,w=b===void 0?!1:b,j=function(){if(f&&f.length){var k={padding:0,margin:0},F=(p?BT(f,p):f).map(function(B,H){if(B.type==="none")return null;var X=CA({display:"block",paddingTop:4,paddingBottom:4,color:B.color||"#000"},l),ae=B.formatter||h||gNe,W=B.value,te=B.name,ue=W,ye=te;if(ae&&ue!=null&&ye!=null){var V=ae(W,te,B,H,f);if(Array.isArray(V)){var ee=lNe(V,2);ue=ee[0],ye=ee[1]}else ue=V}return ie.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(H),style:X},Sa(ye)?ie.createElement("span",{className:"recharts-tooltip-item-name"},ye):null,Sa(ye)?ie.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,ie.createElement("span",{className:"recharts-tooltip-item-value"},ue),ie.createElement("span",{className:"recharts-tooltip-item-unit"},B.unit||""))});return ie.createElement("ul",{className:"recharts-tooltip-item-list",style:k},F)}return null},P=CA({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),A=CA({margin:0},u),E=!pn(v),O=E?v:"",I=Pn("recharts-default-tooltip",m),D=Pn("recharts-tooltip-label",x);E&&y&&f!==void 0&&f!==null&&(O=y(v,f));var z=w?{role:"status","aria-live":"assertive"}:{};return ie.createElement("div",PE({className:I,style:P},z),ie.createElement("p",{className:D,style:A},ie.isValidElement(O)?O:"".concat(O)),j())};function Qx(e){"@babel/helpers - typeof";return Qx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qx(e)}function Fw(e,t,n){return t=yNe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yNe(e){var t=xNe(e,"string");return Qx(t)=="symbol"?t:t+""}function xNe(e,t){if(Qx(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Qx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var v0="recharts-tooltip-wrapper",bNe={visibility:"hidden"};function wNe(e){var t=e.coordinate,n=e.translateX,r=e.translateY;return Pn(v0,Fw(Fw(Fw(Fw({},"".concat(v0,"-right"),pt(n)&&t&&pt(t.x)&&n>=t.x),"".concat(v0,"-left"),pt(n)&&t&&pt(t.x)&&n<t.x),"".concat(v0,"-bottom"),pt(r)&&t&&pt(t.y)&&r>=t.y),"".concat(v0,"-top"),pt(r)&&t&&pt(t.y)&&r<t.y))}function BM(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.key,i=e.offsetTopLeft,a=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(a&&pt(a[r]))return a[r];var f=n[r]-l-i,h=n[r]+i;if(t[r])return o[r]?f:h;if(o[r]){var p=f,m=c[r];return p<m?Math.max(h,c[r]):Math.max(f,c[r])}var x=h+l,v=c[r]+u;return x>v?Math.max(f,c[r]):Math.max(h,c[r])}function _Ne(e){var t=e.translateX,n=e.translateY,r=e.useTranslate3d;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function jNe(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.offsetTopLeft,i=e.position,a=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,f,h;return o.height>0&&o.width>0&&n?(f=BM({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),h=BM({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=_Ne({translateX:f,translateY:h,useTranslate3d:l})):u=bNe,{cssProperties:u,cssClasses:wNe({translateX:f,translateY:h,coordinate:n})}}function kv(e){"@babel/helpers - typeof";return kv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kv(e)}function zM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function UM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zM(Object(n),!0).forEach(function(r){EE(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function NNe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function SNe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,kZ(r.key),r)}}function ANe(e,t,n){return t&&SNe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function PNe(e,t,n){return t=U_(t),CNe(e,OZ()?Reflect.construct(t,n||[],U_(e).constructor):t.apply(e,n))}function CNe(e,t){if(t&&(kv(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ENe(e)}function ENe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function OZ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OZ=function(){return!!e})()}function U_(e){return U_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},U_(e)}function ONe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&CE(e,t)}function CE(e,t){return CE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},CE(e,t)}function EE(e,t,n){return t=kZ(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kZ(e){var t=kNe(e,"string");return kv(t)=="symbol"?t:t+""}function kNe(e,t){if(kv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(kv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qM=1,TNe=function(e){function t(){var n;NNe(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=PNe(this,t,[].concat(i)),EE(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),EE(n,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,f;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=n.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(f=n.props.coordinate)===null||f===void 0?void 0:f.y)!==null&&u!==void 0?u:0}})}}),n}return ONe(t,e),ANe(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>qM||Math.abs(r.height-this.state.lastBoundingBox.height)>qM)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,u=i.children,f=i.coordinate,h=i.hasPayload,p=i.isAnimationActive,m=i.offset,x=i.position,v=i.reverseDirection,y=i.useTranslate3d,b=i.viewBox,w=i.wrapperStyle,j=jNe({allowEscapeViewBox:o,coordinate:f,offsetTopLeft:m,position:x,reverseDirection:v,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:b}),P=j.cssClasses,A=j.cssProperties,E=UM(UM({transition:p&&a?"transform ".concat(l,"ms ").concat(c):void 0},A),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&h?"visible":"hidden",position:"absolute",top:0,left:0},w);return ie.createElement("div",{tabIndex:-1,className:P,style:E,ref:function(I){r.wrapperNode=I}},u)}}])}(N.PureComponent),INe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Wl={isSsr:INe(),get:function(t){return Wl[t]},set:function(t,n){if(typeof t=="string")Wl[t]=n;else{var r=Object.keys(t);r&&r.length&&r.forEach(function(i){Wl[i]=t[i]})}}};function Tv(e){"@babel/helpers - typeof";return Tv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tv(e)}function VM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function WM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VM(Object(n),!0).forEach(function(r){zT(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function LNe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function MNe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,IZ(r.key),r)}}function DNe(e,t,n){return t&&MNe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function RNe(e,t,n){return t=q_(t),$Ne(e,TZ()?Reflect.construct(t,n||[],q_(e).constructor):t.apply(e,n))}function $Ne(e,t){if(t&&(Tv(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FNe(e)}function FNe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function TZ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TZ=function(){return!!e})()}function q_(e){return q_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},q_(e)}function BNe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&OE(e,t)}function OE(e,t){return OE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},OE(e,t)}function zT(e,t,n){return t=IZ(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function IZ(e){var t=zNe(e,"string");return Tv(t)=="symbol"?t:t+""}function zNe(e,t){if(Tv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Tv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function UNe(e){return e.dataKey}function qNe(e,t){return ie.isValidElement(e)?ie.cloneElement(e,t):typeof e=="function"?ie.createElement(e,t):ie.createElement(vNe,t)}var $i=function(e){function t(){return LNe(this,t),RNe(this,t,arguments)}return BNe(t,e),DNe(t,[{key:"render",value:function(){var r=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,u=i.content,f=i.coordinate,h=i.filterNull,p=i.isAnimationActive,m=i.offset,x=i.payload,v=i.payloadUniqBy,y=i.position,b=i.reverseDirection,w=i.useTranslate3d,j=i.viewBox,P=i.wrapperStyle,A=x??[];h&&A.length&&(A=_Z(x.filter(function(O){return O.value!=null&&(O.hide!==!0||r.props.includeHidden)}),v,UNe));var E=A.length>0;return ie.createElement(TNe,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:p,active:a,coordinate:f,hasPayload:E,offset:m,position:y,reverseDirection:b,useTranslate3d:w,viewBox:j,wrapperStyle:P},qNe(u,WM(WM({},this.props),{},{payload:A})))}}])}(N.PureComponent);zT($i,"displayName","Tooltip");zT($i,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Wl.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var VNe=Ju,WNe=function(){return VNe.Date.now()},HNe=WNe,KNe=/\s/;function GNe(e){for(var t=e.length;t--&&KNe.test(e.charAt(t)););return t}var ZNe=GNe,XNe=ZNe,YNe=/^\s+/;function QNe(e){return e&&e.slice(0,XNe(e)+1).replace(YNe,"")}var JNe=QNe,eSe=JNe,HM=$h,tSe=jy,KM=NaN,nSe=/^[-+]0x[0-9a-f]+$/i,rSe=/^0b[01]+$/i,iSe=/^0o[0-7]+$/i,aSe=parseInt;function sSe(e){if(typeof e=="number")return e;if(tSe(e))return KM;if(HM(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=HM(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=eSe(e);var n=rSe.test(e);return n||iSe.test(e)?aSe(e.slice(2),n?2:8):nSe.test(e)?KM:+e}var LZ=sSe,oSe=$h,EA=HNe,GM=LZ,lSe="Expected a function",cSe=Math.max,uSe=Math.min;function dSe(e,t,n){var r,i,a,o,l,c,u=0,f=!1,h=!1,p=!0;if(typeof e!="function")throw new TypeError(lSe);t=GM(t)||0,oSe(n)&&(f=!!n.leading,h="maxWait"in n,a=h?cSe(GM(n.maxWait)||0,t):a,p="trailing"in n?!!n.trailing:p);function m(E){var O=r,I=i;return r=i=void 0,u=E,o=e.apply(I,O),o}function x(E){return u=E,l=setTimeout(b,t),f?m(E):o}function v(E){var O=E-c,I=E-u,D=t-O;return h?uSe(D,a-I):D}function y(E){var O=E-c,I=E-u;return c===void 0||O>=t||O<0||h&&I>=a}function b(){var E=EA();if(y(E))return w(E);l=setTimeout(b,v(E))}function w(E){return l=void 0,p&&r?m(E):(r=i=void 0,o)}function j(){l!==void 0&&clearTimeout(l),u=0,r=c=i=l=void 0}function P(){return l===void 0?o:w(EA())}function A(){var E=EA(),O=y(E);if(r=arguments,i=this,c=E,O){if(l===void 0)return x(c);if(h)return clearTimeout(l),l=setTimeout(b,t),m(c)}return l===void 0&&(l=setTimeout(b,t)),o}return A.cancel=j,A.flush=P,A}var fSe=dSe,hSe=fSe,pSe=$h,mSe="Expected a function";function gSe(e,t,n){var r=!0,i=!0;if(typeof e!="function")throw new TypeError(mSe);return pSe(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),hSe(e,t,{leading:r,maxWait:t,trailing:i})}var vSe=gSe;const MZ=jr(vSe);function Jx(e){"@babel/helpers - typeof";return Jx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jx(e)}function ZM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Bw(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ZM(Object(n),!0).forEach(function(r){ySe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ySe(e,t,n){return t=xSe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xSe(e){var t=bSe(e,"string");return Jx(t)=="symbol"?t:t+""}function bSe(e,t){if(Jx(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Jx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wSe(e,t){return SSe(e)||NSe(e,t)||jSe(e,t)||_Se()}function _Se(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jSe(e,t){if(e){if(typeof e=="string")return XM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return XM(e,t)}}function XM(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function NSe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function SSe(e){if(Array.isArray(e))return e}var el=N.forwardRef(function(e,t){var n=e.aspect,r=e.initialDimension,i=r===void 0?{width:-1,height:-1}:r,a=e.width,o=a===void 0?"100%":a,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,f=u===void 0?0:u,h=e.minHeight,p=e.maxHeight,m=e.children,x=e.debounce,v=x===void 0?0:x,y=e.id,b=e.className,w=e.onResize,j=e.style,P=j===void 0?{}:j,A=N.useRef(null),E=N.useRef();E.current=w,N.useImperativeHandle(t,function(){return Object.defineProperty(A.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),A.current},configurable:!0})});var O=N.useState({containerWidth:i.width,containerHeight:i.height}),I=wSe(O,2),D=I[0],z=I[1],T=N.useCallback(function(F,B){z(function(H){var X=Math.round(F),ae=Math.round(B);return H.containerWidth===X&&H.containerHeight===ae?H:{containerWidth:X,containerHeight:ae}})},[]);N.useEffect(function(){var F=function(te){var ue,ye=te[0].contentRect,V=ye.width,ee=ye.height;T(V,ee),(ue=E.current)===null||ue===void 0||ue.call(E,V,ee)};v>0&&(F=MZ(F,v,{trailing:!0,leading:!1}));var B=new ResizeObserver(F),H=A.current.getBoundingClientRect(),X=H.width,ae=H.height;return T(X,ae),B.observe(A.current),function(){B.disconnect()}},[T,v]);var k=N.useMemo(function(){var F=D.containerWidth,B=D.containerHeight;if(F<0||B<0)return null;Dc(Sp(o)||Sp(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),Dc(!n||n>0,"The aspect(%s) must be greater than zero.",n);var H=Sp(o)?F:o,X=Sp(c)?B:c;n&&n>0&&(H?X=H/n:X&&(H=X*n),p&&X>p&&(X=p)),Dc(H>0||X>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,H,X,o,c,f,h,n);var ae=!Array.isArray(m)&&Id(m.type).endsWith("Chart");return ie.Children.map(m,function(W){return ie.isValidElement(W)?N.cloneElement(W,Bw({width:H,height:X},ae?{style:Bw({height:"100%",width:"100%",maxHeight:X,maxWidth:H},W.props.style)}:{})):W})},[n,m,c,p,h,f,D,o]);return ie.createElement("div",{id:y?"".concat(y):void 0,className:Pn("recharts-responsive-container",b),style:Bw(Bw({},P),{},{width:o,height:c,minWidth:f,minHeight:h,maxHeight:p}),ref:A},k)}),wb=function(t){return null};wb.displayName="Cell";function e1(e){"@babel/helpers - typeof";return e1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e1(e)}function YM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function kE(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YM(Object(n),!0).forEach(function(r){ASe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ASe(e,t,n){return t=PSe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function PSe(e){var t=CSe(e,"string");return e1(t)=="symbol"?t:t+""}function CSe(e,t){if(e1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(e1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Gm={widthCache:{},cacheCount:0},ESe=2e3,OSe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},QM="recharts_measurement_span";function kSe(e){var t=kE({},e);return Object.keys(t).forEach(function(n){t[n]||delete t[n]}),t}var ex=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Wl.isSsr)return{width:0,height:0};var r=kSe(n),i=JSON.stringify({text:t,copyStyle:r});if(Gm.widthCache[i])return Gm.widthCache[i];try{var a=document.getElementById(QM);a||(a=document.createElement("span"),a.setAttribute("id",QM),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=kE(kE({},OSe),r);Object.assign(a.style,o),a.textContent="".concat(t);var l=a.getBoundingClientRect(),c={width:l.width,height:l.height};return Gm.widthCache[i]=c,++Gm.cacheCount>ESe&&(Gm.cacheCount=0,Gm.widthCache={}),c}catch{return{width:0,height:0}}},TSe=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function t1(e){"@babel/helpers - typeof";return t1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t1(e)}function V_(e,t){return DSe(e)||MSe(e,t)||LSe(e,t)||ISe()}function ISe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LSe(e,t){if(e){if(typeof e=="string")return JM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return JM(e,t)}}function JM(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function MSe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function DSe(e){if(Array.isArray(e))return e}function RSe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eD(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,FSe(r.key),r)}}function $Se(e,t,n){return t&&eD(e.prototype,t),n&&eD(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function FSe(e){var t=BSe(e,"string");return t1(t)=="symbol"?t:t+""}function BSe(e,t){if(t1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(t1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var tD=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,nD=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,zSe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,USe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,DZ={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},qSe=Object.keys(DZ),Pg="NaN";function VSe(e,t){return e*DZ[t]}var zw=function(){function e(t,n){RSe(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),n!==""&&!zSe.test(n)&&(this.num=NaN,this.unit=""),qSe.includes(n)&&(this.num=VSe(t,n),this.unit="px")}return $Se(e,[{key:"add",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=USe.exec(n))!==null&&r!==void 0?r:[],a=V_(i,3),o=a[1],l=a[2];return new e(parseFloat(o),l??"")}}])}();function RZ(e){if(e.includes(Pg))return Pg;for(var t=e;t.includes("*")||t.includes("/");){var n,r=(n=tD.exec(t))!==null&&n!==void 0?n:[],i=V_(r,4),a=i[1],o=i[2],l=i[3],c=zw.parse(a??""),u=zw.parse(l??""),f=o==="*"?c.multiply(u):c.divide(u);if(f.isNaN())return Pg;t=t.replace(tD,f.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var h,p=(h=nD.exec(t))!==null&&h!==void 0?h:[],m=V_(p,4),x=m[1],v=m[2],y=m[3],b=zw.parse(x??""),w=zw.parse(y??""),j=v==="+"?b.add(w):b.subtract(w);if(j.isNaN())return Pg;t=t.replace(nD,j.toString())}return t}var rD=/\(([^()]*)\)/;function WSe(e){for(var t=e;t.includes("(");){var n=rD.exec(t),r=V_(n,2),i=r[1];t=t.replace(rD,RZ(i))}return t}function HSe(e){var t=e.replace(/\s+/g,"");return t=WSe(t),t=RZ(t),t}function KSe(e){try{return HSe(e)}catch{return Pg}}function OA(e){var t=KSe(e.slice(5,-1));return t===Pg?"":t}var GSe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],ZSe=["dx","dy","angle","className","breakAll"];function TE(){return TE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},TE.apply(this,arguments)}function iD(e,t){if(e==null)return{};var n=XSe(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function XSe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function aD(e,t){return eAe(e)||JSe(e,t)||QSe(e,t)||YSe()}function YSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QSe(e,t){if(e){if(typeof e=="string")return sD(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sD(e,t)}}function sD(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function JSe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function eAe(e){if(Array.isArray(e))return e}var $Z=/[ \f\n\r\t\v\u2028\u2029]+/,FZ=function(t){var n=t.children,r=t.breakAll,i=t.style;try{var a=[];pn(n)||(r?a=n.toString().split(""):a=n.toString().split($Z));var o=a.map(function(c){return{word:c,width:ex(c,i).width}}),l=r?0:ex(" ",i).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},tAe=function(t,n,r,i,a){var o=t.maxLines,l=t.children,c=t.style,u=t.breakAll,f=pt(o),h=l,p=function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return H.reduce(function(X,ae){var W=ae.word,te=ae.width,ue=X[X.length-1];if(ue&&(i==null||a||ue.width+te+r<Number(i)))ue.words.push(W),ue.width+=te+r;else{var ye={words:[W],width:te};X.push(ye)}return X},[])},m=p(n),x=function(H){return H.reduce(function(X,ae){return X.width>ae.width?X:ae})};if(!f)return m;for(var v="…",y=function(H){var X=h.slice(0,H),ae=FZ({breakAll:u,style:c,children:X+v}).wordsWithComputedWidth,W=p(ae),te=W.length>o||x(W).width>Number(i);return[te,W]},b=0,w=h.length-1,j=0,P;b<=w&&j<=h.length-1;){var A=Math.floor((b+w)/2),E=A-1,O=y(E),I=aD(O,2),D=I[0],z=I[1],T=y(A),k=aD(T,1),F=k[0];if(!D&&!F&&(b=A+1),D&&F&&(w=A-1),!D&&F){P=z;break}j++}return P||m},oD=function(t){var n=pn(t)?[]:t.toString().split($Z);return[{words:n}]},nAe=function(t){var n=t.width,r=t.scaleToFit,i=t.children,a=t.style,o=t.breakAll,l=t.maxLines;if((n||r)&&!Wl.isSsr){var c,u,f=FZ({breakAll:o,children:i,style:a});if(f){var h=f.wordsWithComputedWidth,p=f.spaceWidth;c=h,u=p}else return oD(i);return tAe({breakAll:o,children:i,maxLines:l,style:a},c,u,n,r)}return oD(i)},lD="#808080",om=function(t){var n=t.x,r=n===void 0?0:n,i=t.y,a=i===void 0?0:i,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,f=t.scaleToFit,h=f===void 0?!1:f,p=t.textAnchor,m=p===void 0?"start":p,x=t.verticalAnchor,v=x===void 0?"end":x,y=t.fill,b=y===void 0?lD:y,w=iD(t,GSe),j=N.useMemo(function(){return nAe({breakAll:w.breakAll,children:w.children,maxLines:w.maxLines,scaleToFit:h,style:w.style,width:w.width})},[w.breakAll,w.children,w.maxLines,h,w.style,w.width]),P=w.dx,A=w.dy,E=w.angle,O=w.className,I=w.breakAll,D=iD(w,ZSe);if(!Sa(r)||!Sa(a))return null;var z=r+(pt(P)?P:0),T=a+(pt(A)?A:0),k;switch(v){case"start":k=OA("calc(".concat(u,")"));break;case"middle":k=OA("calc(".concat((j.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:k=OA("calc(".concat(j.length-1," * -").concat(l,")"));break}var F=[];if(h){var B=j[0].width,H=w.width;F.push("scale(".concat((pt(H)?H/B:1)/B,")"))}return E&&F.push("rotate(".concat(E,", ").concat(z,", ").concat(T,")")),F.length&&(D.transform=F.join(" ")),ie.createElement("text",TE({},Xt(D,!0),{x:z,y:T,className:Pn("recharts-text",O),textAnchor:m,fill:b.includes("url")?lD:b}),j.map(function(X,ae){var W=X.words.join(I?"":" ");return ie.createElement("tspan",{x:z,dy:ae===0?k:l,key:"".concat(W,"-").concat(ae)},W)}))};function uh(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function rAe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function UT(e){let t,n,r;e.length!==2?(t=uh,n=(l,c)=>uh(e(l),c),r=(l,c)=>e(l)-c):(t=e===uh||e===rAe?e:iAe,n=e,r=e);function i(l,c,u=0,f=l.length){if(u<f){if(t(c,c)!==0)return f;do{const h=u+f>>>1;n(l[h],c)<0?u=h+1:f=h}while(u<f)}return u}function a(l,c,u=0,f=l.length){if(u<f){if(t(c,c)!==0)return f;do{const h=u+f>>>1;n(l[h],c)<=0?u=h+1:f=h}while(u<f)}return u}function o(l,c,u=0,f=l.length){const h=i(l,c,u,f-1);return h>u&&r(l[h-1],c)>-r(l[h],c)?h-1:h}return{left:i,center:o,right:a}}function iAe(){return 0}function BZ(e){return e===null?NaN:+e}function*aAe(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const sAe=UT(uh),_b=sAe.right;UT(BZ).center;class cD extends Map{constructor(t,n=cAe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(uD(this,t))}has(t){return super.has(uD(this,t))}set(t,n){return super.set(oAe(this,t),n)}delete(t){return super.delete(lAe(this,t))}}function uD({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function oAe({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function lAe({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function cAe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function uAe(e=uh){if(e===uh)return zZ;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function zZ(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const dAe=Math.sqrt(50),fAe=Math.sqrt(10),hAe=Math.sqrt(2);function W_(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=dAe?10:a>=fAe?5:a>=hAe?2:1;let l,c,u;return i<0?(u=Math.pow(10,-i)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,i)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=n&&n<2?W_(e,t,n*2):[l,c,u]}function IE(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,a,o]=r?W_(t,e,n):W_(e,t,n);if(!(a>=i))return[];const l=a-i+1,c=new Array(l);if(r)if(o<0)for(let u=0;u<l;++u)c[u]=(a-u)/-o;else for(let u=0;u<l;++u)c[u]=(a-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(i+u)/-o;else for(let u=0;u<l;++u)c[u]=(i+u)*o;return c}function LE(e,t,n){return t=+t,e=+e,n=+n,W_(e,t,n)[2]}function ME(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?LE(t,e,n):LE(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function dD(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function fD(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function UZ(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?zZ:uAe(i);r>n;){if(r-n>600){const c=r-n+1,u=t-n+1,f=Math.log(c),h=.5*Math.exp(2*f/3),p=.5*Math.sqrt(f*h*(c-h)/c)*(u-c/2<0?-1:1),m=Math.max(n,Math.floor(t-u*h/c+p)),x=Math.min(r,Math.floor(t+(c-u)*h/c+p));UZ(e,t,m,x,i)}const a=e[t];let o=n,l=r;for(y0(e,n,t),i(e[r],a)>0&&y0(e,n,r);o<l;){for(y0(e,o,l),++o,--l;i(e[o],a)<0;)++o;for(;i(e[l],a)>0;)--l}i(e[n],a)===0?y0(e,n,l):(++l,y0(e,l,r)),l<=t&&(n=l+1),t<=l&&(r=l-1)}return e}function y0(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function pAe(e,t,n){if(e=Float64Array.from(aAe(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return fD(e);if(t>=1)return dD(e);var r,i=(r-1)*t,a=Math.floor(i),o=dD(UZ(e,a).subarray(0,a+1)),l=fD(e.subarray(a+1));return o+(l-o)*(i-a)}}function mAe(e,t,n=BZ){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),o=+n(e[a],a,e),l=+n(e[a+1],a+1,e);return o+(l-o)*(i-a)}}function gAe(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(i);++r<i;)a[r]=e+r*n;return a}function Jl(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Jd(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const DE=Symbol("implicit");function qT(){var e=new cD,t=[],n=[],r=DE;function i(a){let o=e.get(a);if(o===void 0){if(r!==DE)return r;e.set(a,o=t.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new cD;for(const o of a)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return qT(t,n).unknown(r)},Jl.apply(i,arguments),i}function n1(){var e=qT().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,a,o,l=!1,c=0,u=0,f=.5;delete e.unknown;function h(){var p=t().length,m=i<r,x=m?i:r,v=m?r:i;a=(v-x)/Math.max(1,p-c+u*2),l&&(a=Math.floor(a)),x+=(v-x-a*(p-c))*f,o=a*(1-c),l&&(x=Math.round(x),o=Math.round(o));var y=gAe(p).map(function(b){return x+a*b});return n(m?y.reverse():y)}return e.domain=function(p){return arguments.length?(t(p),h()):t()},e.range=function(p){return arguments.length?([r,i]=p,r=+r,i=+i,h()):[r,i]},e.rangeRound=function(p){return[r,i]=p,r=+r,i=+i,l=!0,h()},e.bandwidth=function(){return o},e.step=function(){return a},e.round=function(p){return arguments.length?(l=!!p,h()):l},e.padding=function(p){return arguments.length?(c=Math.min(1,u=+p),h()):c},e.paddingInner=function(p){return arguments.length?(c=Math.min(1,p),h()):c},e.paddingOuter=function(p){return arguments.length?(u=+p,h()):u},e.align=function(p){return arguments.length?(f=Math.max(0,Math.min(1,p)),h()):f},e.copy=function(){return n1(t(),[r,i]).round(l).paddingInner(c).paddingOuter(u).align(f)},Jl.apply(h(),arguments)}function qZ(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return qZ(t())},e}function tx(){return qZ(n1.apply(null,arguments).paddingInner(1))}function VT(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function VZ(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function jb(){}var r1=.7,H_=1/r1,Wg="\\s*([+-]?\\d+)\\s*",i1="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Fu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",vAe=/^#([0-9a-f]{3,8})$/,yAe=new RegExp(`^rgb\\(${Wg},${Wg},${Wg}\\)$`),xAe=new RegExp(`^rgb\\(${Fu},${Fu},${Fu}\\)$`),bAe=new RegExp(`^rgba\\(${Wg},${Wg},${Wg},${i1}\\)$`),wAe=new RegExp(`^rgba\\(${Fu},${Fu},${Fu},${i1}\\)$`),_Ae=new RegExp(`^hsl\\(${i1},${Fu},${Fu}\\)$`),jAe=new RegExp(`^hsla\\(${i1},${Fu},${Fu},${i1}\\)$`),hD={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};VT(jb,a1,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:pD,formatHex:pD,formatHex8:NAe,formatHsl:SAe,formatRgb:mD,toString:mD});function pD(){return this.rgb().formatHex()}function NAe(){return this.rgb().formatHex8()}function SAe(){return WZ(this).formatHsl()}function mD(){return this.rgb().formatRgb()}function a1(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=vAe.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?gD(t):n===3?new vo(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Uw(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Uw(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=yAe.exec(e))?new vo(t[1],t[2],t[3],1):(t=xAe.exec(e))?new vo(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=bAe.exec(e))?Uw(t[1],t[2],t[3],t[4]):(t=wAe.exec(e))?Uw(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=_Ae.exec(e))?xD(t[1],t[2]/100,t[3]/100,1):(t=jAe.exec(e))?xD(t[1],t[2]/100,t[3]/100,t[4]):hD.hasOwnProperty(e)?gD(hD[e]):e==="transparent"?new vo(NaN,NaN,NaN,0):null}function gD(e){return new vo(e>>16&255,e>>8&255,e&255,1)}function Uw(e,t,n,r){return r<=0&&(e=t=n=NaN),new vo(e,t,n,r)}function AAe(e){return e instanceof jb||(e=a1(e)),e?(e=e.rgb(),new vo(e.r,e.g,e.b,e.opacity)):new vo}function RE(e,t,n,r){return arguments.length===1?AAe(e):new vo(e,t,n,r??1)}function vo(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}VT(vo,RE,VZ(jb,{brighter(e){return e=e==null?H_:Math.pow(H_,e),new vo(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?r1:Math.pow(r1,e),new vo(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new vo(Vp(this.r),Vp(this.g),Vp(this.b),K_(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:vD,formatHex:vD,formatHex8:PAe,formatRgb:yD,toString:yD}));function vD(){return`#${Ap(this.r)}${Ap(this.g)}${Ap(this.b)}`}function PAe(){return`#${Ap(this.r)}${Ap(this.g)}${Ap(this.b)}${Ap((isNaN(this.opacity)?1:this.opacity)*255)}`}function yD(){const e=K_(this.opacity);return`${e===1?"rgb(":"rgba("}${Vp(this.r)}, ${Vp(this.g)}, ${Vp(this.b)}${e===1?")":`, ${e})`}`}function K_(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Vp(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ap(e){return e=Vp(e),(e<16?"0":"")+e.toString(16)}function xD(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Cc(e,t,n,r)}function WZ(e){if(e instanceof Cc)return new Cc(e.h,e.s,e.l,e.opacity);if(e instanceof jb||(e=a1(e)),!e)return new Cc;if(e instanceof Cc)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),o=NaN,l=a-i,c=(a+i)/2;return l?(t===a?o=(n-r)/l+(n<r)*6:n===a?o=(r-t)/l+2:o=(t-n)/l+4,l/=c<.5?a+i:2-a-i,o*=60):l=c>0&&c<1?0:o,new Cc(o,l,c,e.opacity)}function CAe(e,t,n,r){return arguments.length===1?WZ(e):new Cc(e,t,n,r??1)}function Cc(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}VT(Cc,CAe,VZ(jb,{brighter(e){return e=e==null?H_:Math.pow(H_,e),new Cc(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?r1:Math.pow(r1,e),new Cc(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new vo(kA(e>=240?e-240:e+120,i,r),kA(e,i,r),kA(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Cc(bD(this.h),qw(this.s),qw(this.l),K_(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=K_(this.opacity);return`${e===1?"hsl(":"hsla("}${bD(this.h)}, ${qw(this.s)*100}%, ${qw(this.l)*100}%${e===1?")":`, ${e})`}`}}));function bD(e){return e=(e||0)%360,e<0?e+360:e}function qw(e){return Math.max(0,Math.min(1,e||0))}function kA(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const WT=e=>()=>e;function EAe(e,t){return function(n){return e+n*t}}function OAe(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function kAe(e){return(e=+e)==1?HZ:function(t,n){return n-t?OAe(t,n,e):WT(isNaN(t)?n:t)}}function HZ(e,t){var n=t-e;return n?EAe(e,n):WT(isNaN(e)?t:e)}const wD=function e(t){var n=kAe(t);function r(i,a){var o=n((i=RE(i)).r,(a=RE(a)).r),l=n(i.g,a.g),c=n(i.b,a.b),u=HZ(i.opacity,a.opacity);return function(f){return i.r=o(f),i.g=l(f),i.b=c(f),i.opacity=u(f),i+""}}return r.gamma=e,r}(1);function TAe(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function IAe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function LAe(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=Ty(e[o],t[o]);for(;o<n;++o)a[o]=t[o];return function(l){for(o=0;o<r;++o)a[o]=i[o](l);return a}}function MAe(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function G_(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function DAe(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Ty(e[i],t[i]):r[i]=t[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var $E=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,TA=new RegExp($E.source,"g");function RAe(e){return function(){return e}}function $Ae(e){return function(t){return e(t)+""}}function FAe(e,t){var n=$E.lastIndex=TA.lastIndex=0,r,i,a,o=-1,l=[],c=[];for(e=e+"",t=t+"";(r=$E.exec(e))&&(i=TA.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),l[o]?l[o]+=a:l[++o]=a),(r=r[0])===(i=i[0])?l[o]?l[o]+=i:l[++o]=i:(l[++o]=null,c.push({i:o,x:G_(r,i)})),n=TA.lastIndex;return n<t.length&&(a=t.slice(n),l[o]?l[o]+=a:l[++o]=a),l.length<2?c[0]?$Ae(c[0].x):RAe(t):(t=c.length,function(u){for(var f=0,h;f<t;++f)l[(h=c[f]).i]=h.x(u);return l.join("")})}function Ty(e,t){var n=typeof t,r;return t==null||n==="boolean"?WT(t):(n==="number"?G_:n==="string"?(r=a1(t))?(t=r,wD):FAe:t instanceof a1?wD:t instanceof Date?MAe:IAe(t)?TAe:Array.isArray(t)?LAe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?DAe:G_)(e,t)}function HT(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function BAe(e,t){t===void 0&&(t=e,e=Ty);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(o){var l=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[l](o-l)}}function zAe(e){return function(){return e}}function Z_(e){return+e}var _D=[0,1];function Ks(e){return e}function FE(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:zAe(isNaN(t)?NaN:.5)}function UAe(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function qAe(e,t,n){var r=e[0],i=e[1],a=t[0],o=t[1];return i<r?(r=FE(i,r),a=n(o,a)):(r=FE(r,i),a=n(a,o)),function(l){return a(r(l))}}function VAe(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=FE(e[o],e[o+1]),a[o]=n(t[o],t[o+1]);return function(l){var c=_b(e,l,1,r)-1;return a[c](i[c](l))}}function Nb(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function yN(){var e=_D,t=_D,n=Ty,r,i,a,o=Ks,l,c,u;function f(){var p=Math.min(e.length,t.length);return o!==Ks&&(o=UAe(e[0],e[p-1])),l=p>2?VAe:qAe,c=u=null,h}function h(p){return p==null||isNaN(p=+p)?a:(c||(c=l(e.map(r),t,n)))(r(o(p)))}return h.invert=function(p){return o(i((u||(u=l(t,e.map(r),G_)))(p)))},h.domain=function(p){return arguments.length?(e=Array.from(p,Z_),f()):e.slice()},h.range=function(p){return arguments.length?(t=Array.from(p),f()):t.slice()},h.rangeRound=function(p){return t=Array.from(p),n=HT,f()},h.clamp=function(p){return arguments.length?(o=p?!0:Ks,f()):o!==Ks},h.interpolate=function(p){return arguments.length?(n=p,f()):n},h.unknown=function(p){return arguments.length?(a=p,h):a},function(p,m){return r=p,i=m,f()}}function KT(){return yN()(Ks,Ks)}function WAe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function X_(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Iv(e){return e=X_(Math.abs(e)),e?e[1]:NaN}function HAe(e,t){return function(n,r){for(var i=n.length,a=[],o=0,l=e[0],c=0;i>0&&l>0&&(c+l+1>r&&(l=Math.max(1,r-c)),a.push(n.substring(i-=l,i+l)),!((c+=l+1)>r));)l=e[o=(o+1)%e.length];return a.reverse().join(t)}}function KAe(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var GAe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function s1(e){if(!(t=GAe.exec(e)))throw new Error("invalid format: "+e);var t;return new GT({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}s1.prototype=GT.prototype;function GT(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}GT.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function ZAe(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var KZ;function XAe(e,t){var n=X_(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(KZ=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+X_(e,Math.max(0,t+a-1))[0]}function jD(e,t){var n=X_(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const ND={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:WAe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>jD(e*100,t),r:jD,s:XAe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function SD(e){return e}var AD=Array.prototype.map,PD=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function YAe(e){var t=e.grouping===void 0||e.thousands===void 0?SD:HAe(AD.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?SD:KAe(AD.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"−":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(h){h=s1(h);var p=h.fill,m=h.align,x=h.sign,v=h.symbol,y=h.zero,b=h.width,w=h.comma,j=h.precision,P=h.trim,A=h.type;A==="n"?(w=!0,A="g"):ND[A]||(j===void 0&&(j=12),P=!0,A="g"),(y||p==="0"&&m==="=")&&(y=!0,p="0",m="=");var E=v==="$"?n:v==="#"&&/[boxX]/.test(A)?"0"+A.toLowerCase():"",O=v==="$"?r:/[%p]/.test(A)?o:"",I=ND[A],D=/[defgprs%]/.test(A);j=j===void 0?6:/[gprs]/.test(A)?Math.max(1,Math.min(21,j)):Math.max(0,Math.min(20,j));function z(T){var k=E,F=O,B,H,X;if(A==="c")F=I(T)+F,T="";else{T=+T;var ae=T<0||1/T<0;if(T=isNaN(T)?c:I(Math.abs(T),j),P&&(T=ZAe(T)),ae&&+T==0&&x!=="+"&&(ae=!1),k=(ae?x==="("?x:l:x==="-"||x==="("?"":x)+k,F=(A==="s"?PD[8+KZ/3]:"")+F+(ae&&x==="("?")":""),D){for(B=-1,H=T.length;++B<H;)if(X=T.charCodeAt(B),48>X||X>57){F=(X===46?i+T.slice(B+1):T.slice(B))+F,T=T.slice(0,B);break}}}w&&!y&&(T=t(T,1/0));var W=k.length+T.length+F.length,te=W<b?new Array(b-W+1).join(p):"";switch(w&&y&&(T=t(te+T,te.length?b-F.length:1/0),te=""),m){case"<":T=k+T+F+te;break;case"=":T=k+te+T+F;break;case"^":T=te.slice(0,W=te.length>>1)+k+T+F+te.slice(W);break;default:T=te+k+T+F;break}return a(T)}return z.toString=function(){return h+""},z}function f(h,p){var m=u((h=s1(h),h.type="f",h)),x=Math.max(-8,Math.min(8,Math.floor(Iv(p)/3)))*3,v=Math.pow(10,-x),y=PD[8+x/3];return function(b){return m(v*b)+y}}return{format:u,formatPrefix:f}}var Vw,ZT,GZ;QAe({thousands:",",grouping:[3],currency:["$",""]});function QAe(e){return Vw=YAe(e),ZT=Vw.format,GZ=Vw.formatPrefix,Vw}function JAe(e){return Math.max(0,-Iv(Math.abs(e)))}function ePe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Iv(t)/3)))*3-Iv(Math.abs(e)))}function tPe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Iv(t)-Iv(e))+1}function ZZ(e,t,n,r){var i=ME(e,t,n),a;switch(r=s1(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=ePe(i,o))&&(r.precision=a),GZ(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=tPe(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=JAe(i))&&(r.precision=a-(r.type==="%")*2);break}}return ZT(r)}function Bh(e){var t=e.domain;return e.ticks=function(n){var r=t();return IE(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return ZZ(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,a=r.length-1,o=r[i],l=r[a],c,u,f=10;for(l<o&&(u=o,o=l,l=u,u=i,i=a,a=u);f-- >0;){if(u=LE(o,l,n),u===c)return r[i]=o,r[a]=l,t(r);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function Y_(){var e=KT();return e.copy=function(){return Nb(e,Y_())},Jl.apply(e,arguments),Bh(e)}function XZ(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,Z_),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return XZ(e).unknown(t)},e=arguments.length?Array.from(e,Z_):[0,1],Bh(n)}function YZ(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],a=e[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),e[n]=t.floor(i),e[r]=t.ceil(a),e}function CD(e){return Math.log(e)}function ED(e){return Math.exp(e)}function nPe(e){return-Math.log(-e)}function rPe(e){return-Math.exp(-e)}function iPe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function aPe(e){return e===10?iPe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function sPe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function OD(e){return(t,n)=>-e(-t,n)}function XT(e){const t=e(CD,ED),n=t.domain;let r=10,i,a;function o(){return i=sPe(r),a=aPe(r),n()[0]<0?(i=OD(i),a=OD(a),e(nPe,rPe)):e(CD,ED),t}return t.base=function(l){return arguments.length?(r=+l,o()):r},t.domain=function(l){return arguments.length?(n(l),o()):n()},t.ticks=l=>{const c=n();let u=c[0],f=c[c.length-1];const h=f<u;h&&([u,f]=[f,u]);let p=i(u),m=i(f),x,v;const y=l==null?10:+l;let b=[];if(!(r%1)&&m-p<y){if(p=Math.floor(p),m=Math.ceil(m),u>0){for(;p<=m;++p)for(x=1;x<r;++x)if(v=p<0?x/a(-p):x*a(p),!(v<u)){if(v>f)break;b.push(v)}}else for(;p<=m;++p)for(x=r-1;x>=1;--x)if(v=p>0?x/a(-p):x*a(p),!(v<u)){if(v>f)break;b.push(v)}b.length*2<y&&(b=IE(u,f,y))}else b=IE(p,m,Math.min(m-p,y)).map(a);return h?b.reverse():b},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=s1(c)).precision==null&&(c.trim=!0),c=ZT(c)),l===1/0)return c;const u=Math.max(1,r*l/t.ticks().length);return f=>{let h=f/a(Math.round(i(f)));return h*r<r-.5&&(h*=r),h<=u?c(f):""}},t.nice=()=>n(YZ(n(),{floor:l=>a(Math.floor(i(l))),ceil:l=>a(Math.ceil(i(l)))})),t}function QZ(){const e=XT(yN()).domain([1,10]);return e.copy=()=>Nb(e,QZ()).base(e.base()),Jl.apply(e,arguments),e}function kD(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function TD(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function YT(e){var t=1,n=e(kD(t),TD(t));return n.constant=function(r){return arguments.length?e(kD(t=+r),TD(t)):t},Bh(n)}function JZ(){var e=YT(yN());return e.copy=function(){return Nb(e,JZ()).constant(e.constant())},Jl.apply(e,arguments)}function ID(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function oPe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function lPe(e){return e<0?-e*e:e*e}function QT(e){var t=e(Ks,Ks),n=1;function r(){return n===1?e(Ks,Ks):n===.5?e(oPe,lPe):e(ID(n),ID(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},Bh(t)}function JT(){var e=QT(yN());return e.copy=function(){return Nb(e,JT()).exponent(e.exponent())},Jl.apply(e,arguments),e}function cPe(){return JT.apply(null,arguments).exponent(.5)}function LD(e){return Math.sign(e)*e*e}function uPe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function eX(){var e=KT(),t=[0,1],n=!1,r;function i(a){var o=uPe(e(a));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(a){return e.invert(LD(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,Z_)).map(LD)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return eX(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},Jl.apply(i,arguments),Bh(i)}function tX(){var e=[],t=[],n=[],r;function i(){var o=0,l=Math.max(1,t.length);for(n=new Array(l-1);++o<l;)n[o-1]=mAe(e,o/l);return a}function a(o){return o==null||isNaN(o=+o)?r:t[_b(n,o)]}return a.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?n[l-1]:e[0],l<n.length?n[l]:e[e.length-1]]},a.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(uh),i()},a.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return tX().domain(e).range(t).unknown(r)},Jl.apply(a,arguments)}function nX(){var e=0,t=1,n=1,r=[.5],i=[0,1],a;function o(c){return c!=null&&c<=c?i[_b(r,c,0,n)]:a}function l(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*t-(c-n)*e)/(n+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(n=(i=Array.from(c)).length-1,l()):i.slice()},o.invertExtent=function(c){var u=i.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,r[0]]:u>=n?[r[n-1],t]:[r[u-1],r[u]]},o.unknown=function(c){return arguments.length&&(a=c),o},o.thresholds=function(){return r.slice()},o.copy=function(){return nX().domain([e,t]).range(i).unknown(a)},Jl.apply(Bh(o),arguments)}function rX(){var e=[.5],t=[0,1],n,r=1;function i(a){return a!=null&&a<=a?t[_b(e,a,0,r)]:n}return i.domain=function(a){return arguments.length?(e=Array.from(a),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var o=t.indexOf(a);return[e[o-1],e[o]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return rX().domain(e).range(t).unknown(n)},Jl.apply(i,arguments)}const IA=new Date,LA=new Date;function Aa(e,t,n,r){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const o=i(a),l=i.ceil(a);return a-o<l-a?o:l},i.offset=(a,o)=>(t(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,l)=>{const c=[];if(a=i.ceil(a),l=l==null?1:Math.floor(l),!(a<o)||!(l>0))return c;let u;do c.push(u=new Date(+a)),t(a,l),e(a);while(u<a&&a<o);return c},i.filter=a=>Aa(o=>{if(o>=o)for(;e(o),!a(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!a(o););else for(;--l>=0;)for(;t(o,1),!a(o););}),n&&(i.count=(a,o)=>(IA.setTime(+a),LA.setTime(+o),e(IA),e(LA),Math.floor(n(IA,LA))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const Q_=Aa(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Q_.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Aa(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Q_);Q_.range;const Ed=1e3,Bl=Ed*60,Od=Bl*60,Wd=Od*24,e3=Wd*7,MD=Wd*30,MA=Wd*365,Pp=Aa(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Ed)},(e,t)=>(t-e)/Ed,e=>e.getUTCSeconds());Pp.range;const t3=Aa(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ed)},(e,t)=>{e.setTime(+e+t*Bl)},(e,t)=>(t-e)/Bl,e=>e.getMinutes());t3.range;const n3=Aa(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Bl)},(e,t)=>(t-e)/Bl,e=>e.getUTCMinutes());n3.range;const r3=Aa(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ed-e.getMinutes()*Bl)},(e,t)=>{e.setTime(+e+t*Od)},(e,t)=>(t-e)/Od,e=>e.getHours());r3.range;const i3=Aa(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Od)},(e,t)=>(t-e)/Od,e=>e.getUTCHours());i3.range;const Sb=Aa(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Bl)/Wd,e=>e.getDate()-1);Sb.range;const xN=Aa(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Wd,e=>e.getUTCDate()-1);xN.range;const iX=Aa(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Wd,e=>Math.floor(e/Wd));iX.range;function Am(e){return Aa(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Bl)/e3)}const bN=Am(0),J_=Am(1),dPe=Am(2),fPe=Am(3),Lv=Am(4),hPe=Am(5),pPe=Am(6);bN.range;J_.range;dPe.range;fPe.range;Lv.range;hPe.range;pPe.range;function Pm(e){return Aa(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/e3)}const wN=Pm(0),e5=Pm(1),mPe=Pm(2),gPe=Pm(3),Mv=Pm(4),vPe=Pm(5),yPe=Pm(6);wN.range;e5.range;mPe.range;gPe.range;Mv.range;vPe.range;yPe.range;const a3=Aa(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());a3.range;const s3=Aa(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());s3.range;const Hd=Aa(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Hd.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Aa(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Hd.range;const Kd=Aa(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Kd.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Aa(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Kd.range;function aX(e,t,n,r,i,a){const o=[[Pp,1,Ed],[Pp,5,5*Ed],[Pp,15,15*Ed],[Pp,30,30*Ed],[a,1,Bl],[a,5,5*Bl],[a,15,15*Bl],[a,30,30*Bl],[i,1,Od],[i,3,3*Od],[i,6,6*Od],[i,12,12*Od],[r,1,Wd],[r,2,2*Wd],[n,1,e3],[t,1,MD],[t,3,3*MD],[e,1,MA]];function l(u,f,h){const p=f<u;p&&([u,f]=[f,u]);const m=h&&typeof h.range=="function"?h:c(u,f,h),x=m?m.range(u,+f+1):[];return p?x.reverse():x}function c(u,f,h){const p=Math.abs(f-u)/h,m=UT(([,,y])=>y).right(o,p);if(m===o.length)return e.every(ME(u/MA,f/MA,h));if(m===0)return Q_.every(Math.max(ME(u,f,h),1));const[x,v]=o[p/o[m-1][2]<o[m][2]/p?m-1:m];return x.every(v)}return[l,c]}const[xPe,bPe]=aX(Kd,s3,wN,iX,i3,n3),[wPe,_Pe]=aX(Hd,a3,bN,Sb,r3,t3);function DA(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function RA(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function x0(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function jPe(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=b0(i),f=w0(i),h=b0(a),p=w0(a),m=b0(o),x=w0(o),v=b0(l),y=w0(l),b=b0(c),w=w0(c),j={a:ae,A:W,b:te,B:ue,c:null,d:zD,e:zD,f:HPe,g:nCe,G:iCe,H:qPe,I:VPe,j:WPe,L:sX,m:KPe,M:GPe,p:ye,q:V,Q:VD,s:WD,S:ZPe,u:XPe,U:YPe,V:QPe,w:JPe,W:eCe,x:null,X:null,y:tCe,Y:rCe,Z:aCe,"%":qD},P={a:ee,A:Q,b:de,B:le,c:null,d:UD,e:UD,f:cCe,g:xCe,G:wCe,H:sCe,I:oCe,j:lCe,L:lX,m:uCe,M:dCe,p:ve,q:Z,Q:VD,s:WD,S:fCe,u:hCe,U:pCe,V:mCe,w:gCe,W:vCe,x:null,X:null,y:yCe,Y:bCe,Z:_Ce,"%":qD},A={a:z,A:T,b:k,B:F,c:B,d:FD,e:FD,f:FPe,g:$D,G:RD,H:BD,I:BD,j:MPe,L:$Pe,m:LPe,M:DPe,p:D,q:IPe,Q:zPe,s:UPe,S:RPe,u:CPe,U:EPe,V:OPe,w:PPe,W:kPe,x:H,X,y:$D,Y:RD,Z:TPe,"%":BPe};j.x=E(n,j),j.X=E(r,j),j.c=E(t,j),P.x=E(n,P),P.X=E(r,P),P.c=E(t,P);function E(ne,ge){return function(Ee){var be=[],Ue=-1,Pe=0,ce=ne.length,it,_t,gt;for(Ee instanceof Date||(Ee=new Date(+Ee));++Ue<ce;)ne.charCodeAt(Ue)===37&&(be.push(ne.slice(Pe,Ue)),(_t=DD[it=ne.charAt(++Ue)])!=null?it=ne.charAt(++Ue):_t=it==="e"?" ":"0",(gt=ge[it])&&(it=gt(Ee,_t)),be.push(it),Pe=Ue+1);return be.push(ne.slice(Pe,Ue)),be.join("")}}function O(ne,ge){return function(Ee){var be=x0(1900,void 0,1),Ue=I(be,ne,Ee+="",0),Pe,ce;if(Ue!=Ee.length)return null;if("Q"in be)return new Date(be.Q);if("s"in be)return new Date(be.s*1e3+("L"in be?be.L:0));if(ge&&!("Z"in be)&&(be.Z=0),"p"in be&&(be.H=be.H%12+be.p*12),be.m===void 0&&(be.m="q"in be?be.q:0),"V"in be){if(be.V<1||be.V>53)return null;"w"in be||(be.w=1),"Z"in be?(Pe=RA(x0(be.y,0,1)),ce=Pe.getUTCDay(),Pe=ce>4||ce===0?e5.ceil(Pe):e5(Pe),Pe=xN.offset(Pe,(be.V-1)*7),be.y=Pe.getUTCFullYear(),be.m=Pe.getUTCMonth(),be.d=Pe.getUTCDate()+(be.w+6)%7):(Pe=DA(x0(be.y,0,1)),ce=Pe.getDay(),Pe=ce>4||ce===0?J_.ceil(Pe):J_(Pe),Pe=Sb.offset(Pe,(be.V-1)*7),be.y=Pe.getFullYear(),be.m=Pe.getMonth(),be.d=Pe.getDate()+(be.w+6)%7)}else("W"in be||"U"in be)&&("w"in be||(be.w="u"in be?be.u%7:"W"in be?1:0),ce="Z"in be?RA(x0(be.y,0,1)).getUTCDay():DA(x0(be.y,0,1)).getDay(),be.m=0,be.d="W"in be?(be.w+6)%7+be.W*7-(ce+5)%7:be.w+be.U*7-(ce+6)%7);return"Z"in be?(be.H+=be.Z/100|0,be.M+=be.Z%100,RA(be)):DA(be)}}function I(ne,ge,Ee,be){for(var Ue=0,Pe=ge.length,ce=Ee.length,it,_t;Ue<Pe;){if(be>=ce)return-1;if(it=ge.charCodeAt(Ue++),it===37){if(it=ge.charAt(Ue++),_t=A[it in DD?ge.charAt(Ue++):it],!_t||(be=_t(ne,Ee,be))<0)return-1}else if(it!=Ee.charCodeAt(be++))return-1}return be}function D(ne,ge,Ee){var be=u.exec(ge.slice(Ee));return be?(ne.p=f.get(be[0].toLowerCase()),Ee+be[0].length):-1}function z(ne,ge,Ee){var be=m.exec(ge.slice(Ee));return be?(ne.w=x.get(be[0].toLowerCase()),Ee+be[0].length):-1}function T(ne,ge,Ee){var be=h.exec(ge.slice(Ee));return be?(ne.w=p.get(be[0].toLowerCase()),Ee+be[0].length):-1}function k(ne,ge,Ee){var be=b.exec(ge.slice(Ee));return be?(ne.m=w.get(be[0].toLowerCase()),Ee+be[0].length):-1}function F(ne,ge,Ee){var be=v.exec(ge.slice(Ee));return be?(ne.m=y.get(be[0].toLowerCase()),Ee+be[0].length):-1}function B(ne,ge,Ee){return I(ne,t,ge,Ee)}function H(ne,ge,Ee){return I(ne,n,ge,Ee)}function X(ne,ge,Ee){return I(ne,r,ge,Ee)}function ae(ne){return o[ne.getDay()]}function W(ne){return a[ne.getDay()]}function te(ne){return c[ne.getMonth()]}function ue(ne){return l[ne.getMonth()]}function ye(ne){return i[+(ne.getHours()>=12)]}function V(ne){return 1+~~(ne.getMonth()/3)}function ee(ne){return o[ne.getUTCDay()]}function Q(ne){return a[ne.getUTCDay()]}function de(ne){return c[ne.getUTCMonth()]}function le(ne){return l[ne.getUTCMonth()]}function ve(ne){return i[+(ne.getUTCHours()>=12)]}function Z(ne){return 1+~~(ne.getUTCMonth()/3)}return{format:function(ne){var ge=E(ne+="",j);return ge.toString=function(){return ne},ge},parse:function(ne){var ge=O(ne+="",!1);return ge.toString=function(){return ne},ge},utcFormat:function(ne){var ge=E(ne+="",P);return ge.toString=function(){return ne},ge},utcParse:function(ne){var ge=O(ne+="",!0);return ge.toString=function(){return ne},ge}}}var DD={"-":"",_:" ",0:"0"},za=/^\s*\d+/,NPe=/^%/,SPe=/[\\^$*+?|[\]().{}]/g;function hr(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function APe(e){return e.replace(SPe,"\\$&")}function b0(e){return new RegExp("^(?:"+e.map(APe).join("|")+")","i")}function w0(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function PPe(e,t,n){var r=za.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function CPe(e,t,n){var r=za.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function EPe(e,t,n){var r=za.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function OPe(e,t,n){var r=za.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function kPe(e,t,n){var r=za.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function RD(e,t,n){var r=za.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function $D(e,t,n){var r=za.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function TPe(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function IPe(e,t,n){var r=za.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function LPe(e,t,n){var r=za.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function FD(e,t,n){var r=za.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function MPe(e,t,n){var r=za.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function BD(e,t,n){var r=za.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function DPe(e,t,n){var r=za.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function RPe(e,t,n){var r=za.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function $Pe(e,t,n){var r=za.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function FPe(e,t,n){var r=za.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function BPe(e,t,n){var r=NPe.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function zPe(e,t,n){var r=za.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function UPe(e,t,n){var r=za.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function zD(e,t){return hr(e.getDate(),t,2)}function qPe(e,t){return hr(e.getHours(),t,2)}function VPe(e,t){return hr(e.getHours()%12||12,t,2)}function WPe(e,t){return hr(1+Sb.count(Hd(e),e),t,3)}function sX(e,t){return hr(e.getMilliseconds(),t,3)}function HPe(e,t){return sX(e,t)+"000"}function KPe(e,t){return hr(e.getMonth()+1,t,2)}function GPe(e,t){return hr(e.getMinutes(),t,2)}function ZPe(e,t){return hr(e.getSeconds(),t,2)}function XPe(e){var t=e.getDay();return t===0?7:t}function YPe(e,t){return hr(bN.count(Hd(e)-1,e),t,2)}function oX(e){var t=e.getDay();return t>=4||t===0?Lv(e):Lv.ceil(e)}function QPe(e,t){return e=oX(e),hr(Lv.count(Hd(e),e)+(Hd(e).getDay()===4),t,2)}function JPe(e){return e.getDay()}function eCe(e,t){return hr(J_.count(Hd(e)-1,e),t,2)}function tCe(e,t){return hr(e.getFullYear()%100,t,2)}function nCe(e,t){return e=oX(e),hr(e.getFullYear()%100,t,2)}function rCe(e,t){return hr(e.getFullYear()%1e4,t,4)}function iCe(e,t){var n=e.getDay();return e=n>=4||n===0?Lv(e):Lv.ceil(e),hr(e.getFullYear()%1e4,t,4)}function aCe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+hr(t/60|0,"0",2)+hr(t%60,"0",2)}function UD(e,t){return hr(e.getUTCDate(),t,2)}function sCe(e,t){return hr(e.getUTCHours(),t,2)}function oCe(e,t){return hr(e.getUTCHours()%12||12,t,2)}function lCe(e,t){return hr(1+xN.count(Kd(e),e),t,3)}function lX(e,t){return hr(e.getUTCMilliseconds(),t,3)}function cCe(e,t){return lX(e,t)+"000"}function uCe(e,t){return hr(e.getUTCMonth()+1,t,2)}function dCe(e,t){return hr(e.getUTCMinutes(),t,2)}function fCe(e,t){return hr(e.getUTCSeconds(),t,2)}function hCe(e){var t=e.getUTCDay();return t===0?7:t}function pCe(e,t){return hr(wN.count(Kd(e)-1,e),t,2)}function cX(e){var t=e.getUTCDay();return t>=4||t===0?Mv(e):Mv.ceil(e)}function mCe(e,t){return e=cX(e),hr(Mv.count(Kd(e),e)+(Kd(e).getUTCDay()===4),t,2)}function gCe(e){return e.getUTCDay()}function vCe(e,t){return hr(e5.count(Kd(e)-1,e),t,2)}function yCe(e,t){return hr(e.getUTCFullYear()%100,t,2)}function xCe(e,t){return e=cX(e),hr(e.getUTCFullYear()%100,t,2)}function bCe(e,t){return hr(e.getUTCFullYear()%1e4,t,4)}function wCe(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Mv(e):Mv.ceil(e),hr(e.getUTCFullYear()%1e4,t,4)}function _Ce(){return"+0000"}function qD(){return"%"}function VD(e){return+e}function WD(e){return Math.floor(+e/1e3)}var Zm,uX,dX;jCe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function jCe(e){return Zm=jPe(e),uX=Zm.format,Zm.parse,dX=Zm.utcFormat,Zm.utcParse,Zm}function NCe(e){return new Date(e)}function SCe(e){return e instanceof Date?+e:+new Date(+e)}function o3(e,t,n,r,i,a,o,l,c,u){var f=KT(),h=f.invert,p=f.domain,m=u(".%L"),x=u(":%S"),v=u("%I:%M"),y=u("%I %p"),b=u("%a %d"),w=u("%b %d"),j=u("%B"),P=u("%Y");function A(E){return(c(E)<E?m:l(E)<E?x:o(E)<E?v:a(E)<E?y:r(E)<E?i(E)<E?b:w:n(E)<E?j:P)(E)}return f.invert=function(E){return new Date(h(E))},f.domain=function(E){return arguments.length?p(Array.from(E,SCe)):p().map(NCe)},f.ticks=function(E){var O=p();return e(O[0],O[O.length-1],E??10)},f.tickFormat=function(E,O){return O==null?A:u(O)},f.nice=function(E){var O=p();return(!E||typeof E.range!="function")&&(E=t(O[0],O[O.length-1],E??10)),E?p(YZ(O,E)):f},f.copy=function(){return Nb(f,o3(e,t,n,r,i,a,o,l,c,u))},f}function ACe(){return Jl.apply(o3(wPe,_Pe,Hd,a3,bN,Sb,r3,t3,Pp,uX).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function PCe(){return Jl.apply(o3(xPe,bPe,Kd,s3,wN,xN,i3,n3,Pp,dX).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function _N(){var e=0,t=1,n,r,i,a,o=Ks,l=!1,c;function u(h){return h==null||isNaN(h=+h)?c:o(i===0?.5:(h=(a(h)-n)*i,l?Math.max(0,Math.min(1,h)):h))}u.domain=function(h){return arguments.length?([e,t]=h,n=a(e=+e),r=a(t=+t),i=n===r?0:1/(r-n),u):[e,t]},u.clamp=function(h){return arguments.length?(l=!!h,u):l},u.interpolator=function(h){return arguments.length?(o=h,u):o};function f(h){return function(p){var m,x;return arguments.length?([m,x]=p,o=h(m,x),u):[o(0),o(1)]}}return u.range=f(Ty),u.rangeRound=f(HT),u.unknown=function(h){return arguments.length?(c=h,u):c},function(h){return a=h,n=h(e),r=h(t),i=n===r?0:1/(r-n),u}}function zh(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function fX(){var e=Bh(_N()(Ks));return e.copy=function(){return zh(e,fX())},Jd.apply(e,arguments)}function hX(){var e=XT(_N()).domain([1,10]);return e.copy=function(){return zh(e,hX()).base(e.base())},Jd.apply(e,arguments)}function pX(){var e=YT(_N());return e.copy=function(){return zh(e,pX()).constant(e.constant())},Jd.apply(e,arguments)}function l3(){var e=QT(_N());return e.copy=function(){return zh(e,l3()).exponent(e.exponent())},Jd.apply(e,arguments)}function CCe(){return l3.apply(null,arguments).exponent(.5)}function mX(){var e=[],t=Ks;function n(r){if(r!=null&&!isNaN(r=+r))return t((_b(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(uh),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>pAe(e,a/r))},n.copy=function(){return mX(t).domain(e)},Jd.apply(n,arguments)}function jN(){var e=0,t=.5,n=1,r=1,i,a,o,l,c,u=Ks,f,h=!1,p;function m(v){return isNaN(v=+v)?p:(v=.5+((v=+f(v))-a)*(r*v<r*a?l:c),u(h?Math.max(0,Math.min(1,v)):v))}m.domain=function(v){return arguments.length?([e,t,n]=v,i=f(e=+e),a=f(t=+t),o=f(n=+n),l=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),r=a<i?-1:1,m):[e,t,n]},m.clamp=function(v){return arguments.length?(h=!!v,m):h},m.interpolator=function(v){return arguments.length?(u=v,m):u};function x(v){return function(y){var b,w,j;return arguments.length?([b,w,j]=y,u=BAe(v,[b,w,j]),m):[u(0),u(.5),u(1)]}}return m.range=x(Ty),m.rangeRound=x(HT),m.unknown=function(v){return arguments.length?(p=v,m):p},function(v){return f=v,i=v(e),a=v(t),o=v(n),l=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),r=a<i?-1:1,m}}function gX(){var e=Bh(jN()(Ks));return e.copy=function(){return zh(e,gX())},Jd.apply(e,arguments)}function vX(){var e=XT(jN()).domain([.1,1,10]);return e.copy=function(){return zh(e,vX()).base(e.base())},Jd.apply(e,arguments)}function yX(){var e=YT(jN());return e.copy=function(){return zh(e,yX()).constant(e.constant())},Jd.apply(e,arguments)}function c3(){var e=QT(jN());return e.copy=function(){return zh(e,c3()).exponent(e.exponent())},Jd.apply(e,arguments)}function ECe(){return c3.apply(null,arguments).exponent(.5)}const HD=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:n1,scaleDiverging:gX,scaleDivergingLog:vX,scaleDivergingPow:c3,scaleDivergingSqrt:ECe,scaleDivergingSymlog:yX,scaleIdentity:XZ,scaleImplicit:DE,scaleLinear:Y_,scaleLog:QZ,scaleOrdinal:qT,scalePoint:tx,scalePow:JT,scaleQuantile:tX,scaleQuantize:nX,scaleRadial:eX,scaleSequential:fX,scaleSequentialLog:hX,scaleSequentialPow:l3,scaleSequentialQuantile:mX,scaleSequentialSqrt:CCe,scaleSequentialSymlog:pX,scaleSqrt:cPe,scaleSymlog:JZ,scaleThreshold:rX,scaleTime:ACe,scaleUtc:PCe,tickFormat:ZZ},Symbol.toStringTag,{value:"Module"}));var OCe=jy;function kCe(e,t,n){for(var r=-1,i=e.length;++r<i;){var a=e[r],o=t(a);if(o!=null&&(l===void 0?o===o&&!OCe(o):n(o,l)))var l=o,c=a}return c}var NN=kCe;function TCe(e,t){return e>t}var xX=TCe,ICe=NN,LCe=xX,MCe=ky;function DCe(e){return e&&e.length?ICe(e,MCe,LCe):void 0}var RCe=DCe;const Zf=jr(RCe);function $Ce(e,t){return e<t}var bX=$Ce,FCe=NN,BCe=bX,zCe=ky;function UCe(e){return e&&e.length?FCe(e,zCe,BCe):void 0}var qCe=UCe;const SN=jr(qCe);var VCe=NT,WCe=ed,HCe=CZ,KCe=No;function GCe(e,t){var n=KCe(e)?VCe:HCe;return n(e,WCe(t))}var ZCe=GCe,XCe=AZ,YCe=ZCe;function QCe(e,t){return XCe(YCe(e,t),1)}var JCe=QCe;const eEe=jr(JCe);var tEe=$T;function nEe(e,t){return tEe(e,t)}var rEe=nEe;const Nh=jr(rEe);var Iy=1e9,iEe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},d3,yi=!0,Zl="[DecimalError] ",Wp=Zl+"Invalid argument: ",u3=Zl+"Exponent out of range: ",Ly=Math.floor,mp=Math.pow,aEe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Xo,Oa=1e7,ai=7,wX=9007199254740991,t5=Ly(wX/ai),Dt={};Dt.absoluteValue=Dt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Dt.comparedTo=Dt.cmp=function(e){var t,n,r,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(r=a.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};Dt.decimalPlaces=Dt.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*ai;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};Dt.dividedBy=Dt.div=function(e){return Ld(this,new this.constructor(e))};Dt.dividedToIntegerBy=Dt.idiv=function(e){var t=this,n=t.constructor;return qr(Ld(t,new n(e),0,1),n.precision)};Dt.equals=Dt.eq=function(e){return!this.cmp(e)};Dt.exponent=function(){return da(this)};Dt.greaterThan=Dt.gt=function(e){return this.cmp(e)>0};Dt.greaterThanOrEqualTo=Dt.gte=function(e){return this.cmp(e)>=0};Dt.isInteger=Dt.isint=function(){return this.e>this.d.length-2};Dt.isNegative=Dt.isneg=function(){return this.s<0};Dt.isPositive=Dt.ispos=function(){return this.s>0};Dt.isZero=function(){return this.s===0};Dt.lessThan=Dt.lt=function(e){return this.cmp(e)<0};Dt.lessThanOrEqualTo=Dt.lte=function(e){return this.cmp(e)<1};Dt.logarithm=Dt.log=function(e){var t,n=this,r=n.constructor,i=r.precision,a=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(Xo))throw Error(Zl+"NaN");if(n.s<1)throw Error(Zl+(n.s?"NaN":"-Infinity"));return n.eq(Xo)?new r(0):(yi=!1,t=Ld(o1(n,a),o1(e,a),a),yi=!0,qr(t,i))};Dt.minus=Dt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?NX(t,e):_X(t,(e.s=-e.s,e))};Dt.modulo=Dt.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(Zl+"NaN");return n.s?(yi=!1,t=Ld(n,e,0,1).times(e),yi=!0,n.minus(t)):qr(new r(n),i)};Dt.naturalExponential=Dt.exp=function(){return jX(this)};Dt.naturalLogarithm=Dt.ln=function(){return o1(this)};Dt.negated=Dt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Dt.plus=Dt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?_X(t,e):NX(t,(e.s=-e.s,e))};Dt.precision=Dt.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Wp+e);if(t=da(i)+1,r=i.d.length-1,n=r*ai+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};Dt.squareRoot=Dt.sqrt=function(){var e,t,n,r,i,a,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Zl+"NaN")}for(e=da(l),yi=!1,i=Math.sqrt(+l),i==0||i==1/0?(t=Ou(l.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Ly((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new c(t)):r=new c(i.toString()),n=c.precision,i=o=n+3;;)if(a=r,r=a.plus(Ld(l,a,o+2)).times(.5),Ou(a.d).slice(0,o)===(t=Ou(r.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&t=="4999"){if(qr(a,n+1,0),a.times(a).eq(l)){r=a;break}}else if(t!="9999")break;o+=4}return yi=!0,qr(r,n)};Dt.times=Dt.mul=function(e){var t,n,r,i,a,o,l,c,u,f=this,h=f.constructor,p=f.d,m=(e=new h(e)).d;if(!f.s||!e.s)return new h(0);for(e.s*=f.s,n=f.e+e.e,c=p.length,u=m.length,c<u&&(a=p,p=m,m=a,o=c,c=u,u=o),a=[],o=c+u,r=o;r--;)a.push(0);for(r=u;--r>=0;){for(t=0,i=c+r;i>r;)l=a[i]+m[r]*p[i-r-1]+t,a[i--]=l%Oa|0,t=l/Oa|0;a[i]=(a[i]+t)%Oa|0}for(;!a[--o];)a.pop();return t?++n:a.shift(),e.d=a,e.e=n,yi?qr(e,h.precision):e};Dt.toDecimalPlaces=Dt.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(Ku(e,0,Iy),t===void 0?t=r.rounding:Ku(t,0,8),qr(n,e+da(n)+1,t))};Dt.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=lm(r,!0):(Ku(e,0,Iy),t===void 0?t=i.rounding:Ku(t,0,8),r=qr(new i(r),e+1,t),n=lm(r,!0,e+1)),n};Dt.toFixed=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?lm(i):(Ku(e,0,Iy),t===void 0?t=a.rounding:Ku(t,0,8),r=qr(new a(i),e+da(i)+1,t),n=lm(r.abs(),!1,e+da(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Dt.toInteger=Dt.toint=function(){var e=this,t=e.constructor;return qr(new t(e),da(e)+1,t.rounding)};Dt.toNumber=function(){return+this};Dt.toPower=Dt.pow=function(e){var t,n,r,i,a,o,l=this,c=l.constructor,u=12,f=+(e=new c(e));if(!e.s)return new c(Xo);if(l=new c(l),!l.s){if(e.s<1)throw Error(Zl+"Infinity");return l}if(l.eq(Xo))return l;if(r=c.precision,e.eq(Xo))return qr(l,r);if(t=e.e,n=e.d.length-1,o=t>=n,a=l.s,o){if((n=f<0?-f:f)<=wX){for(i=new c(Xo),t=Math.ceil(r/ai+4),yi=!1;n%2&&(i=i.times(l),GD(i.d,t)),n=Ly(n/2),n!==0;)l=l.times(l),GD(l.d,t);return yi=!0,e.s<0?new c(Xo).div(i):qr(i,r)}}else if(a<0)throw Error(Zl+"NaN");return a=a<0&&e.d[Math.max(t,n)]&1?-1:1,l.s=1,yi=!1,i=e.times(o1(l,r+u)),yi=!0,i=jX(i),i.s=a,i};Dt.toPrecision=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?(n=da(i),r=lm(i,n<=a.toExpNeg||n>=a.toExpPos)):(Ku(e,1,Iy),t===void 0?t=a.rounding:Ku(t,0,8),i=qr(new a(i),e,t),n=da(i),r=lm(i,e<=n||n<=a.toExpNeg,e)),r};Dt.toSignificantDigits=Dt.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(Ku(e,1,Iy),t===void 0?t=r.rounding:Ku(t,0,8)),qr(new r(n),e,t)};Dt.toString=Dt.valueOf=Dt.val=Dt.toJSON=Dt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=da(e),n=e.constructor;return lm(e,t<=n.toExpNeg||t>=n.toExpPos)};function _X(e,t){var n,r,i,a,o,l,c,u,f=e.constructor,h=f.precision;if(!e.s||!t.s)return t.s||(t=new f(e)),yi?qr(t,h):t;if(c=e.d,u=t.d,o=e.e,i=t.e,c=c.slice(),a=o-i,a){for(a<0?(r=c,a=-a,l=u.length):(r=u,i=o,l=c.length),o=Math.ceil(h/ai),l=o>l?o+1:l+1,a>l&&(a=l,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(l=c.length,a=u.length,l-a<0&&(a=l,r=u,u=c,c=r),n=0;a;)n=(c[--a]=c[a]+u[a]+n)/Oa|0,c[a]%=Oa;for(n&&(c.unshift(n),++i),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=i,yi?qr(t,h):t}function Ku(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Wp+e)}function Ou(e){var t,n,r,i=e.length-1,a="",o=e[0];if(i>0){for(a+=o,t=1;t<i;t++)r=e[t]+"",n=ai-r.length,n&&(a+=Of(n)),a+=r;o=e[t],r=o+"",n=ai-r.length,n&&(a+=Of(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var Ld=function(){function e(r,i){var a,o=0,l=r.length;for(r=r.slice();l--;)a=r[l]*i+o,r[l]=a%Oa|0,o=a/Oa|0;return o&&r.unshift(o),r}function t(r,i,a,o){var l,c;if(a!=o)c=a>o?1:-1;else for(l=c=0;l<a;l++)if(r[l]!=i[l]){c=r[l]>i[l]?1:-1;break}return c}function n(r,i,a){for(var o=0;a--;)r[a]-=o,o=r[a]<i[a]?1:0,r[a]=o*Oa+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,o){var l,c,u,f,h,p,m,x,v,y,b,w,j,P,A,E,O,I,D=r.constructor,z=r.s==i.s?1:-1,T=r.d,k=i.d;if(!r.s)return new D(r);if(!i.s)throw Error(Zl+"Division by zero");for(c=r.e-i.e,O=k.length,A=T.length,m=new D(z),x=m.d=[],u=0;k[u]==(T[u]||0);)++u;if(k[u]>(T[u]||0)&&--c,a==null?w=a=D.precision:o?w=a+(da(r)-da(i))+1:w=a,w<0)return new D(0);if(w=w/ai+2|0,u=0,O==1)for(f=0,k=k[0],w++;(u<A||f)&&w--;u++)j=f*Oa+(T[u]||0),x[u]=j/k|0,f=j%k|0;else{for(f=Oa/(k[0]+1)|0,f>1&&(k=e(k,f),T=e(T,f),O=k.length,A=T.length),P=O,v=T.slice(0,O),y=v.length;y<O;)v[y++]=0;I=k.slice(),I.unshift(0),E=k[0],k[1]>=Oa/2&&++E;do f=0,l=t(k,v,O,y),l<0?(b=v[0],O!=y&&(b=b*Oa+(v[1]||0)),f=b/E|0,f>1?(f>=Oa&&(f=Oa-1),h=e(k,f),p=h.length,y=v.length,l=t(h,v,p,y),l==1&&(f--,n(h,O<p?I:k,p))):(f==0&&(l=f=1),h=k.slice()),p=h.length,p<y&&h.unshift(0),n(v,h,y),l==-1&&(y=v.length,l=t(k,v,O,y),l<1&&(f++,n(v,O<y?I:k,y))),y=v.length):l===0&&(f++,v=[0]),x[u++]=f,l&&v[0]?v[y++]=T[P]||0:(v=[T[P]],y=1);while((P++<A||v[0]!==void 0)&&w--)}return x[0]||x.shift(),m.e=c,qr(m,o?a+da(m)+1:a)}}();function jX(e,t){var n,r,i,a,o,l,c=0,u=0,f=e.constructor,h=f.precision;if(da(e)>16)throw Error(u3+da(e));if(!e.s)return new f(Xo);for(t==null?(yi=!1,l=h):l=t,o=new f(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(r=Math.log(mp(2,u))/Math.LN10*2+5|0,l+=r,n=i=a=new f(Xo),f.precision=l;;){if(i=qr(i.times(e),l),n=n.times(++c),o=a.plus(Ld(i,n,l)),Ou(o.d).slice(0,l)===Ou(a.d).slice(0,l)){for(;u--;)a=qr(a.times(a),l);return f.precision=h,t==null?(yi=!0,qr(a,h)):a}a=o}}function da(e){for(var t=e.e*ai,n=e.d[0];n>=10;n/=10)t++;return t}function $A(e,t,n){if(t>e.LN10.sd())throw yi=!0,n&&(e.precision=n),Error(Zl+"LN10 precision limit exceeded");return qr(new e(e.LN10),t)}function Of(e){for(var t="";e--;)t+="0";return t}function o1(e,t){var n,r,i,a,o,l,c,u,f,h=1,p=10,m=e,x=m.d,v=m.constructor,y=v.precision;if(m.s<1)throw Error(Zl+(m.s?"NaN":"-Infinity"));if(m.eq(Xo))return new v(0);if(t==null?(yi=!1,u=y):u=t,m.eq(10))return t==null&&(yi=!0),$A(v,u);if(u+=p,v.precision=u,n=Ou(x),r=n.charAt(0),a=da(m),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)m=m.times(e),n=Ou(m.d),r=n.charAt(0),h++;a=da(m),r>1?(m=new v("0."+n),a++):m=new v(r+"."+n.slice(1))}else return c=$A(v,u+2,y).times(a+""),m=o1(new v(r+"."+n.slice(1)),u-p).plus(c),v.precision=y,t==null?(yi=!0,qr(m,y)):m;for(l=o=m=Ld(m.minus(Xo),m.plus(Xo),u),f=qr(m.times(m),u),i=3;;){if(o=qr(o.times(f),u),c=l.plus(Ld(o,new v(i),u)),Ou(c.d).slice(0,u)===Ou(l.d).slice(0,u))return l=l.times(2),a!==0&&(l=l.plus($A(v,u+2,y).times(a+""))),l=Ld(l,new v(h),u),v.precision=y,t==null?(yi=!0,qr(l,y)):l;l=c,i+=2}}function KD(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=Ly(n/ai),e.d=[],r=(n+1)%ai,n<0&&(r+=ai),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=ai;r<i;)e.d.push(+t.slice(r,r+=ai));t=t.slice(r),r=ai-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),yi&&(e.e>t5||e.e<-t5))throw Error(u3+n)}else e.s=0,e.e=0,e.d=[0];return e}function qr(e,t,n){var r,i,a,o,l,c,u,f,h=e.d;for(o=1,a=h[0];a>=10;a/=10)o++;if(r=t-o,r<0)r+=ai,i=t,u=h[f=0];else{if(f=Math.ceil((r+1)/ai),a=h.length,f>=a)return e;for(u=a=h[f],o=1;a>=10;a/=10)o++;r%=ai,i=r-ai+o}if(n!==void 0&&(a=mp(10,o-i-1),l=u/a%10|0,c=t<0||h[f+1]!==void 0||u%a,c=n<4?(l||c)&&(n==0||n==(e.s<0?3:2)):l>5||l==5&&(n==4||c||n==6&&(r>0?i>0?u/mp(10,o-i):0:h[f-1])%10&1||n==(e.s<0?8:7))),t<1||!h[0])return c?(a=da(e),h.length=1,t=t-a-1,h[0]=mp(10,(ai-t%ai)%ai),e.e=Ly(-t/ai)||0):(h.length=1,h[0]=e.e=e.s=0),e;if(r==0?(h.length=f,a=1,f--):(h.length=f+1,a=mp(10,ai-r),h[f]=i>0?(u/mp(10,o-i)%mp(10,i)|0)*a:0),c)for(;;)if(f==0){(h[0]+=a)==Oa&&(h[0]=1,++e.e);break}else{if(h[f]+=a,h[f]!=Oa)break;h[f--]=0,a=1}for(r=h.length;h[--r]===0;)h.pop();if(yi&&(e.e>t5||e.e<-t5))throw Error(u3+da(e));return e}function NX(e,t){var n,r,i,a,o,l,c,u,f,h,p=e.constructor,m=p.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new p(e),yi?qr(t,m):t;if(c=e.d,h=t.d,r=t.e,u=e.e,c=c.slice(),o=u-r,o){for(f=o<0,f?(n=c,o=-o,l=h.length):(n=h,r=u,l=c.length),i=Math.max(Math.ceil(m/ai),l)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=c.length,l=h.length,f=i<l,f&&(l=i),i=0;i<l;i++)if(c[i]!=h[i]){f=c[i]<h[i];break}o=0}for(f&&(n=c,c=h,h=n,t.s=-t.s),l=c.length,i=h.length-l;i>0;--i)c[l++]=0;for(i=h.length;i>o;){if(c[--i]<h[i]){for(a=i;a&&c[--a]===0;)c[a]=Oa-1;--c[a],c[i]+=Oa}c[i]-=h[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(t.d=c,t.e=r,yi?qr(t,m):t):new p(0)}function lm(e,t,n){var r,i=da(e),a=Ou(e.d),o=a.length;return t?(n&&(r=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+Of(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Of(-i-1)+a,n&&(r=n-o)>0&&(a+=Of(r))):i>=o?(a+=Of(i+1-o),n&&(r=n-i-1)>0&&(a=a+"."+Of(r))):((r=i+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(a+="."),a+=Of(r))),e.s<0?"-"+a:a}function GD(e,t){if(e.length>t)return e.length=t,!0}function SX(e){var t,n,r;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Wp+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return KD(o,a.toString())}else if(typeof a!="string")throw Error(Wp+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,aEe.test(a))KD(o,a);else throw Error(Wp+a)}if(i.prototype=Dt,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=SX,i.config=i.set=sEe,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function sEe(e){if(!e||typeof e!="object")throw Error(Zl+"Object expected");var t,n,r,i=["precision",1,Iy,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(Ly(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(Wp+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Wp+n+": "+r);return this}var d3=SX(iEe);Xo=new d3(1);const Rr=d3;function oEe(e){return dEe(e)||uEe(e)||cEe(e)||lEe()}function lEe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cEe(e,t){if(e){if(typeof e=="string")return BE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return BE(e,t)}}function uEe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function dEe(e){if(Array.isArray(e))return BE(e)}function BE(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var fEe=function(t){return t},AX={"@@functional/placeholder":!0},PX=function(t){return t===AX},ZD=function(t){return function n(){return arguments.length===0||arguments.length===1&&PX(arguments.length<=0?void 0:arguments[0])?n:t.apply(void 0,arguments)}},hEe=function e(t,n){return t===1?n:ZD(function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var o=i.filter(function(l){return l!==AX}).length;return o>=t?n.apply(void 0,i):e(t-o,ZD(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var f=i.map(function(h){return PX(h)?c.shift():h});return n.apply(void 0,oEe(f).concat(c))}))})},AN=function(t){return hEe(t.length,t)},zE=function(t,n){for(var r=[],i=t;i<n;++i)r[i-t]=i;return r},pEe=AN(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(n){return t[n]}).map(e)}),mEe=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return fEe;var i=n.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce(function(l,c){return c(l)},a.apply(void 0,arguments))}},UE=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},CX=function(t){var n=null,r=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n&&a.every(function(l,c){return l===n[c]})||(n=a,r=t.apply(void 0,a)),r}};function gEe(e){var t;return e===0?t=1:t=Math.floor(new Rr(e).abs().log(10).toNumber())+1,t}function vEe(e,t,n){for(var r=new Rr(e),i=0,a=[];r.lt(t)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var yEe=AN(function(e,t,n){var r=+e,i=+t;return r+n*(i-r)}),xEe=AN(function(e,t,n){var r=t-+e;return r=r||1/0,(n-e)/r}),bEe=AN(function(e,t,n){var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});const PN={rangeStep:vEe,getDigitCount:gEe,interpolateNumber:yEe,uninterpolateNumber:xEe,uninterpolateTruncation:bEe};function qE(e){return jEe(e)||_Ee(e)||EX(e)||wEe()}function wEe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _Ee(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function jEe(e){if(Array.isArray(e))return VE(e)}function l1(e,t){return AEe(e)||SEe(e,t)||EX(e,t)||NEe()}function NEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EX(e,t){if(e){if(typeof e=="string")return VE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return VE(e,t)}}function VE(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function SEe(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],r=!0,i=!1,a=void 0;try{for(var o=e[Symbol.iterator](),l;!(r=(l=o.next()).done)&&(n.push(l.value),!(t&&n.length===t));r=!0);}catch(c){i=!0,a=c}finally{try{!r&&o.return!=null&&o.return()}finally{if(i)throw a}}return n}}function AEe(e){if(Array.isArray(e))return e}function OX(e){var t=l1(e,2),n=t[0],r=t[1],i=n,a=r;return n>r&&(i=r,a=n),[i,a]}function kX(e,t,n){if(e.lte(0))return new Rr(0);var r=PN.getDigitCount(e.toNumber()),i=new Rr(10).pow(r),a=e.div(i),o=r!==1?.05:.1,l=new Rr(Math.ceil(a.div(o).toNumber())).add(n).mul(o),c=l.mul(i);return t?c:new Rr(Math.ceil(c))}function PEe(e,t,n){var r=1,i=new Rr(e);if(!i.isint()&&n){var a=Math.abs(e);a<1?(r=new Rr(10).pow(PN.getDigitCount(e)-1),i=new Rr(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new Rr(Math.floor(e)))}else e===0?i=new Rr(Math.floor((t-1)/2)):n||(i=new Rr(Math.floor(e)));var o=Math.floor((t-1)/2),l=mEe(pEe(function(c){return i.add(new Rr(c-o).mul(r)).toNumber()}),zE);return l(0,t)}function TX(e,t,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new Rr(0),tickMin:new Rr(0),tickMax:new Rr(0)};var a=kX(new Rr(t).sub(e).div(n-1),r,i),o;e<=0&&t>=0?o=new Rr(0):(o=new Rr(e).add(t).div(2),o=o.sub(new Rr(o).mod(a)));var l=Math.ceil(o.sub(e).div(a).toNumber()),c=Math.ceil(new Rr(t).sub(o).div(a).toNumber()),u=l+c+1;return u>n?TX(e,t,n,r,i+1):(u<n&&(c=t>0?c+(n-u):c,l=t>0?l:l+(n-u)),{step:a,tickMin:o.sub(new Rr(l).mul(a)),tickMax:o.add(new Rr(c).mul(a))})}function CEe(e){var t=l1(e,2),n=t[0],r=t[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),l=OX([n,r]),c=l1(l,2),u=c[0],f=c[1];if(u===-1/0||f===1/0){var h=f===1/0?[u].concat(qE(zE(0,i-1).map(function(){return 1/0}))):[].concat(qE(zE(0,i-1).map(function(){return-1/0})),[f]);return n>r?UE(h):h}if(u===f)return PEe(u,i,a);var p=TX(u,f,o,a),m=p.step,x=p.tickMin,v=p.tickMax,y=PN.rangeStep(x,v.add(new Rr(.1).mul(m)),m);return n>r?UE(y):y}function EEe(e,t){var n=l1(e,2),r=n[0],i=n[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=OX([r,i]),l=l1(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[r,i];if(c===u)return[c];var f=Math.max(t,2),h=kX(new Rr(u).sub(c).div(f-1),a,0),p=[].concat(qE(PN.rangeStep(new Rr(c),new Rr(u).sub(new Rr(.99).mul(h)),h)),[u]);return r>i?UE(p):p}var OEe=CX(CEe),kEe=CX(EEe),TEe="Invariant failed";function cm(e,t){throw new Error(TEe)}var IEe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Dv(e){"@babel/helpers - typeof";return Dv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dv(e)}function n5(){return n5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n5.apply(this,arguments)}function LEe(e,t){return $Ee(e)||REe(e,t)||DEe(e,t)||MEe()}function MEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DEe(e,t){if(e){if(typeof e=="string")return XD(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return XD(e,t)}}function XD(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function REe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function $Ee(e){if(Array.isArray(e))return e}function FEe(e,t){if(e==null)return{};var n=BEe(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function BEe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function zEe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function UEe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,MX(r.key),r)}}function qEe(e,t,n){return t&&UEe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function VEe(e,t,n){return t=r5(t),WEe(e,IX()?Reflect.construct(t,n||[],r5(e).constructor):t.apply(e,n))}function WEe(e,t){if(t&&(Dv(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HEe(e)}function HEe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function IX(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IX=function(){return!!e})()}function r5(e){return r5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},r5(e)}function KEe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&WE(e,t)}function WE(e,t){return WE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},WE(e,t)}function LX(e,t,n){return t=MX(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MX(e){var t=GEe(e,"string");return Dv(t)=="symbol"?t:t+""}function GEe(e,t){if(Dv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Dv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var My=function(e){function t(){return zEe(this,t),VEe(this,t,arguments)}return KEe(t,e),qEe(t,[{key:"render",value:function(){var r=this.props,i=r.offset,a=r.layout,o=r.width,l=r.dataKey,c=r.data,u=r.dataPointFormatter,f=r.xAxis,h=r.yAxis,p=FEe(r,IEe),m=Xt(p,!1);this.props.direction==="x"&&f.type!=="number"&&cm();var x=c.map(function(v){var y=u(v,l),b=y.x,w=y.y,j=y.value,P=y.errorVal;if(!P)return null;var A=[],E,O;if(Array.isArray(P)){var I=LEe(P,2);E=I[0],O=I[1]}else E=O=P;if(a==="vertical"){var D=f.scale,z=w+i,T=z+o,k=z-o,F=D(j-E),B=D(j+O);A.push({x1:B,y1:T,x2:B,y2:k}),A.push({x1:F,y1:z,x2:B,y2:z}),A.push({x1:F,y1:T,x2:F,y2:k})}else if(a==="horizontal"){var H=h.scale,X=b+i,ae=X-o,W=X+o,te=H(j-E),ue=H(j+O);A.push({x1:ae,y1:ue,x2:W,y2:ue}),A.push({x1:X,y1:te,x2:X,y2:ue}),A.push({x1:ae,y1:te,x2:W,y2:te})}return ie.createElement(In,n5({className:"recharts-errorBar",key:"bar-".concat(A.map(function(ye){return"".concat(ye.x1,"-").concat(ye.x2,"-").concat(ye.y1,"-").concat(ye.y2)}))},m),A.map(function(ye){return ie.createElement("line",n5({},ye,{key:"line-".concat(ye.x1,"-").concat(ye.x2,"-").concat(ye.y1,"-").concat(ye.y2)}))}))});return ie.createElement(In,{className:"recharts-errorBars"},x)}}])}(ie.Component);LX(My,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});LX(My,"displayName","ErrorBar");function c1(e){"@babel/helpers - typeof";return c1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c1(e)}function YD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function lp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YD(Object(n),!0).forEach(function(r){ZEe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ZEe(e,t,n){return t=XEe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function XEe(e){var t=YEe(e,"string");return c1(t)=="symbol"?t:t+""}function YEe(e,t){if(c1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(c1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var DX=function(t){var n=t.children,r=t.formattedGraphicalItems,i=t.legendWidth,a=t.legendContent,o=Ko(n,Da);if(!o)return null;var l=Da.defaultProps,c=l!==void 0?lp(lp({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:a==="children"?u=(r||[]).reduce(function(f,h){var p=h.item,m=h.props,x=m.sectors||m.data||[];return f.concat(x.map(function(v){return{type:o.props.iconType||p.props.legendType,value:v.name,color:v.fill,payload:v}}))},[]):u=(r||[]).map(function(f){var h=f.item,p=h.type.defaultProps,m=p!==void 0?lp(lp({},p),h.props):{},x=m.dataKey,v=m.name,y=m.legendType,b=m.hide;return{inactive:b,dataKey:x,type:c.iconType||y||"square",color:f3(h),value:v||x,payload:m}}),lp(lp(lp({},c),Da.getWithHeight(o,i)),{},{payload:u,item:o})};function u1(e){"@babel/helpers - typeof";return u1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u1(e)}function QD(e){return tOe(e)||eOe(e)||JEe(e)||QEe()}function QEe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JEe(e,t){if(e){if(typeof e=="string")return HE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return HE(e,t)}}function eOe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function tOe(e){if(Array.isArray(e))return HE(e)}function HE(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function JD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ri(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?JD(Object(n),!0).forEach(function(r){Hg(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Hg(e,t,n){return t=nOe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nOe(e){var t=rOe(e,"string");return u1(t)=="symbol"?t:t+""}function rOe(e,t){if(u1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(u1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oi(e,t,n){return pn(e)||pn(t)?n:Sa(t)?sl(e,t,n):hn(t)?t(e):n}function nx(e,t,n,r){var i=eEe(e,function(l){return oi(l,t)});if(n==="number"){var a=i.filter(function(l){return pt(l)||parseFloat(l)});return a.length?[SN(a),Zf(a)]:[1/0,-1/0]}var o=r?i.filter(function(l){return!pn(l)}):i;return o.map(function(l){return Sa(l)||l instanceof Date?l:""})}var iOe=function(t){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,l=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(l<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var c=a.range,u=0;u<l;u++){var f=u>0?i[u-1].coordinate:i[l-1].coordinate,h=i[u].coordinate,p=u>=l-1?i[0].coordinate:i[u+1].coordinate,m=void 0;if(Ws(h-f)!==Ws(p-h)){var x=[];if(Ws(p-h)===Ws(c[1]-c[0])){m=p;var v=h+c[1]-c[0];x[0]=Math.min(v,(v+f)/2),x[1]=Math.max(v,(v+f)/2)}else{m=f;var y=p+c[1]-c[0];x[0]=Math.min(h,(y+h)/2),x[1]=Math.max(h,(y+h)/2)}var b=[Math.min(h,(m+h)/2),Math.max(h,(m+h)/2)];if(t>b[0]&&t<=b[1]||t>=x[0]&&t<=x[1]){o=i[u].index;break}}else{var w=Math.min(f,p),j=Math.max(f,p);if(t>(w+h)/2&&t<=(j+h)/2){o=i[u].index;break}}}else for(var P=0;P<l;P++)if(P===0&&t<=(r[P].coordinate+r[P+1].coordinate)/2||P>0&&P<l-1&&t>(r[P].coordinate+r[P-1].coordinate)/2&&t<=(r[P].coordinate+r[P+1].coordinate)/2||P===l-1&&t>(r[P].coordinate+r[P-1].coordinate)/2){o=r[P].index;break}return o},f3=function(t){var n,r=t,i=r.type.displayName,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Ri(Ri({},t.type.defaultProps),t.props):t.props,o=a.stroke,l=a.fill,c;switch(i){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},aOe=function(t){var n=t.barSize,r=t.totalSize,i=t.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var o={},l=Object.keys(a),c=0,u=l.length;c<u;c++)for(var f=a[l[c]].stackGroups,h=Object.keys(f),p=0,m=h.length;p<m;p++){var x=f[h[p]],v=x.items,y=x.cateAxisId,b=v.filter(function(O){return Id(O.type).indexOf("Bar")>=0});if(b&&b.length){var w=b[0].type.defaultProps,j=w!==void 0?Ri(Ri({},w),b[0].props):b[0].props,P=j.barSize,A=j[y];o[A]||(o[A]=[]);var E=pn(P)?n:P;o[A].push({item:b[0],stackList:b.slice(1),barSize:pn(E)?void 0:Hs(E,r,0)})}}return o},sOe=function(t){var n=t.barGap,r=t.barCategoryGap,i=t.bandSize,a=t.sizeList,o=a===void 0?[]:a,l=t.maxBarSize,c=o.length;if(c<1)return null;var u=Hs(n,i,0,!0),f,h=[];if(o[0].barSize===+o[0].barSize){var p=!1,m=i/c,x=o.reduce(function(P,A){return P+A.barSize||0},0);x+=(c-1)*u,x>=i&&(x-=(c-1)*u,u=0),x>=i&&m>0&&(p=!0,m*=.9,x=c*m);var v=(i-x)/2>>0,y={offset:v-u,size:0};f=o.reduce(function(P,A){var E={item:A.item,position:{offset:y.offset+y.size+u,size:p?m:A.barSize}},O=[].concat(QD(P),[E]);return y=O[O.length-1].position,A.stackList&&A.stackList.length&&A.stackList.forEach(function(I){O.push({item:I,position:y})}),O},h)}else{var b=Hs(r,i,0,!0);i-2*b-(c-1)*u<=0&&(u=0);var w=(i-2*b-(c-1)*u)/c;w>1&&(w>>=0);var j=l===+l?Math.min(w,l):w;f=o.reduce(function(P,A,E){var O=[].concat(QD(P),[{item:A.item,position:{offset:b+(w+u)*E+(w-j)/2,size:j}}]);return A.stackList&&A.stackList.length&&A.stackList.forEach(function(I){O.push({item:I,position:O[O.length-1].position})}),O},h)}return f},oOe=function(t,n,r,i){var a=r.children,o=r.width,l=r.margin,c=o-(l.left||0)-(l.right||0),u=DX({children:a,legendWidth:c});if(u){var f=i||{},h=f.width,p=f.height,m=u.align,x=u.verticalAlign,v=u.layout;if((v==="vertical"||v==="horizontal"&&x==="middle")&&m!=="center"&&pt(t[m]))return Ri(Ri({},t),{},Hg({},m,t[m]+(h||0)));if((v==="horizontal"||v==="vertical"&&m==="center")&&x!=="middle"&&pt(t[x]))return Ri(Ri({},t),{},Hg({},x,t[x]+(p||0)))}return t},lOe=function(t,n,r){return pn(n)?!0:t==="horizontal"?n==="yAxis":t==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},RX=function(t,n,r,i,a){var o=n.props.children,l=Xs(o,My).filter(function(u){return lOe(i,a,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,f){var h=oi(f,r);if(pn(h))return u;var p=Array.isArray(h)?[SN(h),Zf(h)]:[h,h],m=c.reduce(function(x,v){var y=oi(f,v,0),b=p[0]-Math.abs(Array.isArray(y)?y[0]:y),w=p[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(b,x[0]),Math.max(w,x[1])]},[1/0,-1/0]);return[Math.min(m[0],u[0]),Math.max(m[1],u[1])]},[1/0,-1/0])}return null},cOe=function(t,n,r,i,a){var o=n.map(function(l){return RX(t,l,r,a,i)}).filter(function(l){return!pn(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},$X=function(t,n,r,i,a){var o=n.map(function(c){var u=c.props.dataKey;return r==="number"&&u&&RX(t,c,u,i)||nx(t,u,r,a)});if(r==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var f=0,h=u.length;f<h;f++)l[u[f]]||(l[u[f]]=!0,c.push(u[f]));return c},[])},FX=function(t,n){return t==="horizontal"&&n==="xAxis"||t==="vertical"&&n==="yAxis"||t==="centric"&&n==="angleAxis"||t==="radial"&&n==="radiusAxis"},BX=function(t,n,r,i){if(i)return t.map(function(c){return c.coordinate});var a,o,l=t.map(function(c){return c.coordinate===n&&(a=!0),c.coordinate===r&&(o=!0),c.coordinate});return a||l.push(n),o||l.push(r),l},kd=function(t,n,r){if(!t)return null;var i=t.scale,a=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&o==="category"&&i.bandwidth?i.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Ws(l[0]-l[1])*2*u:u,n&&(t.ticks||t.niceTicks)){var f=(t.ticks||t.niceTicks).map(function(h){var p=a?a.indexOf(h):h;return{coordinate:i(p)+u,value:h,offset:u}});return f.filter(function(h){return!Cy(h.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(h,p){return{coordinate:i(h)+u,value:h,index:p,offset:u}}):i.ticks&&!r?i.ticks(t.tickCount).map(function(h){return{coordinate:i(h)+u,value:h,offset:u}}):i.domain().map(function(h,p){return{coordinate:i(h)+u,value:a?a[h]:h,index:p,offset:u}})},FA=new WeakMap,Ww=function(t,n){if(typeof n!="function")return t;FA.has(t)||FA.set(t,new WeakMap);var r=FA.get(t);if(r.has(n))return r.get(n);var i=function(){t.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},zX=function(t,n,r){var i=t.scale,a=t.type,o=t.layout,l=t.axisType;if(i==="auto")return o==="radial"&&l==="radiusAxis"?{scale:n1(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:Y_(),realScaleType:"linear"}:a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:tx(),realScaleType:"point"}:a==="category"?{scale:n1(),realScaleType:"band"}:{scale:Y_(),realScaleType:"linear"};if(sm(i)){var c="scale".concat(uN(i));return{scale:(HD[c]||tx)(),realScaleType:HD[c]?c:"point"}}return hn(i)?{scale:i}:{scale:tx(),realScaleType:"point"}},eR=1e-4,UX=function(t){var n=t.domain();if(!(!n||n.length<=2)){var r=n.length,i=t.range(),a=Math.min(i[0],i[1])-eR,o=Math.max(i[0],i[1])+eR,l=t(n[0]),c=t(n[r-1]);(l<a||l>o||c<a||c>o)&&t.domain([n[0],n[r-1]])}},uOe=function(t,n){if(!t)return null;for(var r=0,i=t.length;r<i;r++)if(t[r].item===n)return t[r].position;return null},dOe=function(t,n){if(!n||n.length!==2||!pt(n[0])||!pt(n[1]))return t;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),a=[t[0],t[1]];return(!pt(t[0])||t[0]<r)&&(a[0]=r),(!pt(t[1])||t[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<r&&(a[1]=r),a},fOe=function(t){var n=t.length;if(!(n<=0))for(var r=0,i=t[0].length;r<i;++r)for(var a=0,o=0,l=0;l<n;++l){var c=Cy(t[l][r][1])?t[l][r][0]:t[l][r][1];c>=0?(t[l][r][0]=a,t[l][r][1]=a+c,a=t[l][r][1]):(t[l][r][0]=o,t[l][r][1]=o+c,o=t[l][r][1])}},hOe=function(t){var n=t.length;if(!(n<=0))for(var r=0,i=t[0].length;r<i;++r)for(var a=0,o=0;o<n;++o){var l=Cy(t[o][r][1])?t[o][r][0]:t[o][r][1];l>=0?(t[o][r][0]=a,t[o][r][1]=a+l,a=t[o][r][1]):(t[o][r][0]=0,t[o][r][1]=0)}},pOe={sign:fOe,expand:Ixe,none:Cv,silhouette:Lxe,wiggle:Mxe,positive:hOe},mOe=function(t,n,r){var i=n.map(function(l){return l.props.dataKey}),a=pOe[r],o=Txe().keys(i).value(function(l,c){return+oi(l,c,0)}).order(vE).offset(a);return o(t)},gOe=function(t,n,r,i,a,o){if(!t)return null;var l=o?n.reverse():n,c={},u=l.reduce(function(h,p){var m,x=(m=p.type)!==null&&m!==void 0&&m.defaultProps?Ri(Ri({},p.type.defaultProps),p.props):p.props,v=x.stackId,y=x.hide;if(y)return h;var b=x[r],w=h[b]||{hasStack:!1,stackGroups:{}};if(Sa(v)){var j=w.stackGroups[v]||{numericAxisId:r,cateAxisId:i,items:[]};j.items.push(p),w.hasStack=!0,w.stackGroups[v]=j}else w.stackGroups[Fh("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[p]};return Ri(Ri({},h),{},Hg({},b,w))},c),f={};return Object.keys(u).reduce(function(h,p){var m=u[p];if(m.hasStack){var x={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(v,y){var b=m.stackGroups[y];return Ri(Ri({},v),{},Hg({},y,{numericAxisId:r,cateAxisId:i,items:b.items,stackedData:mOe(t,b.items,a)}))},x)}return Ri(Ri({},h),{},Hg({},p,m))},f)},qX=function(t,n){var r=n.realScaleType,i=n.type,a=n.tickCount,o=n.originalDomain,l=n.allowDecimals,c=r||n.scale;if(c!=="auto"&&c!=="linear")return null;if(a&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var f=OEe(u,a,l);return t.domain([SN(f),Zf(f)]),{niceTicks:f}}if(a&&i==="number"){var h=t.domain(),p=kEe(h,a,l);return{niceTicks:p}}return null};function Rv(e){var t=e.axis,n=e.ticks,r=e.bandSize,i=e.entry,a=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!pn(i[t.dataKey])){var l=O_(n,"value",i[t.dataKey]);if(l)return l.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var c=oi(i,pn(o)?t.dataKey:o);return pn(c)?null:t.scale(c)}var tR=function(t){var n=t.axis,r=t.ticks,i=t.offset,a=t.bandSize,o=t.entry,l=t.index;if(n.type==="category")return r[l]?r[l].coordinate+i:null;var c=oi(o,n.dataKey,n.domain[l]);return pn(c)?null:n.scale(c)-a/2+i},vOe=function(t){var n=t.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return i<=0&&a>=0?0:a<0?a:i}return r[0]},yOe=function(t,n){var r,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Ri(Ri({},t.type.defaultProps),t.props):t.props,a=i.stackId;if(Sa(a)){var o=n[a];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},xOe=function(t){return t.reduce(function(n,r){return[SN(r.concat([n[0]]).filter(pt)),Zf(r.concat([n[1]]).filter(pt))]},[1/0,-1/0])},VX=function(t,n,r){return Object.keys(t).reduce(function(i,a){var o=t[a],l=o.stackedData,c=l.reduce(function(u,f){var h=xOe(f.slice(n,r+1));return[Math.min(u[0],h[0]),Math.max(u[1],h[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},nR=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,rR=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,KE=function(t,n,r){if(hn(t))return t(n,r);if(!Array.isArray(t))return n;var i=[];if(pt(t[0]))i[0]=r?t[0]:Math.min(t[0],n[0]);else if(nR.test(t[0])){var a=+nR.exec(t[0])[1];i[0]=n[0]-a}else hn(t[0])?i[0]=t[0](n[0]):i[0]=n[0];if(pt(t[1]))i[1]=r?t[1]:Math.max(t[1],n[1]);else if(rR.test(t[1])){var o=+rR.exec(t[1])[1];i[1]=n[1]+o}else hn(t[1])?i[1]=t[1](n[1]):i[1]=n[1];return i},i5=function(t,n,r){if(t&&t.scale&&t.scale.bandwidth){var i=t.scale.bandwidth();if(!r||i>0)return i}if(t&&n&&n.length>=2){for(var a=BT(n,function(h){return h.coordinate}),o=1/0,l=1,c=a.length;l<c;l++){var u=a[l],f=a[l-1];o=Math.min((u.coordinate||0)-(f.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0},iR=function(t,n,r){return!t||!t.length||Nh(t,sl(r,"type.defaultProps.domain"))?n:t},WX=function(t,n){var r=t.type.defaultProps?Ri(Ri({},t.type.defaultProps),t.props):t.props,i=r.dataKey,a=r.name,o=r.unit,l=r.formatter,c=r.tooltipType,u=r.chartType,f=r.hide;return Ri(Ri({},Xt(t,!1)),{},{dataKey:i,unit:o,formatter:l,name:a||i,color:f3(t),value:oi(n,i),type:c,payload:n,chartType:u,hide:f})};function d1(e){"@babel/helpers - typeof";return d1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d1(e)}function aR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function wd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aR(Object(n),!0).forEach(function(r){HX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function HX(e,t,n){return t=bOe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bOe(e){var t=wOe(e,"string");return d1(t)=="symbol"?t:t+""}function wOe(e,t){if(d1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(d1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _Oe(e,t){return AOe(e)||SOe(e,t)||NOe(e,t)||jOe()}function jOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NOe(e,t){if(e){if(typeof e=="string")return sR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sR(e,t)}}function sR(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function SOe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function AOe(e){if(Array.isArray(e))return e}var a5=Math.PI/180,POe=function(t){return t*180/Math.PI},Xr=function(t,n,r,i){return{x:t+Math.cos(-a5*i)*r,y:n+Math.sin(-a5*i)*r}},KX=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},COe=function(t,n,r,i,a){var o=t.width,l=t.height,c=t.startAngle,u=t.endAngle,f=Hs(t.cx,o,o/2),h=Hs(t.cy,l,l/2),p=KX(o,l,r),m=Hs(t.innerRadius,p,0),x=Hs(t.outerRadius,p,p*.8),v=Object.keys(n);return v.reduce(function(y,b){var w=n[b],j=w.domain,P=w.reversed,A;if(pn(w.range))i==="angleAxis"?A=[c,u]:i==="radiusAxis"&&(A=[m,x]),P&&(A=[A[1],A[0]]);else{A=w.range;var E=A,O=_Oe(E,2);c=O[0],u=O[1]}var I=zX(w,a),D=I.realScaleType,z=I.scale;z.domain(j).range(A),UX(z);var T=qX(z,wd(wd({},w),{},{realScaleType:D})),k=wd(wd(wd({},w),T),{},{range:A,radius:x,realScaleType:D,scale:z,cx:f,cy:h,innerRadius:m,outerRadius:x,startAngle:c,endAngle:u});return wd(wd({},y),{},HX({},b,k))},{})},EOe=function(t,n){var r=t.x,i=t.y,a=n.x,o=n.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(i-o,2))},OOe=function(t,n){var r=t.x,i=t.y,a=n.cx,o=n.cy,l=EOe({x:r,y:i},{x:a,y:o});if(l<=0)return{radius:l};var c=(r-a)/l,u=Math.acos(c);return i>o&&(u=2*Math.PI-u),{radius:l,angle:POe(u),angleInRadian:u}},kOe=function(t){var n=t.startAngle,r=t.endAngle,i=Math.floor(n/360),a=Math.floor(r/360),o=Math.min(i,a);return{startAngle:n-o*360,endAngle:r-o*360}},TOe=function(t,n){var r=n.startAngle,i=n.endAngle,a=Math.floor(r/360),o=Math.floor(i/360),l=Math.min(a,o);return t+l*360},oR=function(t,n){var r=t.x,i=t.y,a=OOe({x:r,y:i},n),o=a.radius,l=a.angle,c=n.innerRadius,u=n.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var f=kOe(n),h=f.startAngle,p=f.endAngle,m=l,x;if(h<=p){for(;m>p;)m-=360;for(;m<h;)m+=360;x=m>=h&&m<=p}else{for(;m>h;)m-=360;for(;m<p;)m+=360;x=m>=p&&m<=h}return x?wd(wd({},n),{},{radius:o,angle:TOe(m,n)}):null},GX=function(t){return!N.isValidElement(t)&&!hn(t)&&typeof t!="boolean"?t.className:""};function f1(e){"@babel/helpers - typeof";return f1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f1(e)}var IOe=["offset"];function LOe(e){return $Oe(e)||ROe(e)||DOe(e)||MOe()}function MOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DOe(e,t){if(e){if(typeof e=="string")return GE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return GE(e,t)}}function ROe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function $Oe(e){if(Array.isArray(e))return GE(e)}function GE(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function FOe(e,t){if(e==null)return{};var n=BOe(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function BOe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function lR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function xa(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lR(Object(n),!0).forEach(function(r){zOe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zOe(e,t,n){return t=UOe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function UOe(e){var t=qOe(e,"string");return f1(t)=="symbol"?t:t+""}function qOe(e,t){if(f1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(f1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function h1(){return h1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h1.apply(this,arguments)}var VOe=function(t){var n=t.value,r=t.formatter,i=pn(t.children)?n:t.children;return hn(r)?r(i):i},WOe=function(t,n){var r=Ws(n-t),i=Math.min(Math.abs(n-t),360);return r*i},HOe=function(t,n,r){var i=t.position,a=t.viewBox,o=t.offset,l=t.className,c=a,u=c.cx,f=c.cy,h=c.innerRadius,p=c.outerRadius,m=c.startAngle,x=c.endAngle,v=c.clockWise,y=(h+p)/2,b=WOe(m,x),w=b>=0?1:-1,j,P;i==="insideStart"?(j=m+w*o,P=v):i==="insideEnd"?(j=x-w*o,P=!v):i==="end"&&(j=x+w*o,P=v),P=b<=0?P:!P;var A=Xr(u,f,y,j),E=Xr(u,f,y,j+(P?1:-1)*359),O="M".concat(A.x,",").concat(A.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(P?0:1,`,
    `).concat(E.x,",").concat(E.y),I=pn(t.id)?Fh("recharts-radial-line-"):t.id;return ie.createElement("text",h1({},r,{dominantBaseline:"central",className:Pn("recharts-radial-bar-label",l)}),ie.createElement("defs",null,ie.createElement("path",{id:I,d:O})),ie.createElement("textPath",{xlinkHref:"#".concat(I)},n))},KOe=function(t){var n=t.viewBox,r=t.offset,i=t.position,a=n,o=a.cx,l=a.cy,c=a.innerRadius,u=a.outerRadius,f=a.startAngle,h=a.endAngle,p=(f+h)/2;if(i==="outside"){var m=Xr(o,l,u+r,p),x=m.x,v=m.y;return{x,y:v,textAnchor:x>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var y=(c+u)/2,b=Xr(o,l,y,p),w=b.x,j=b.y;return{x:w,y:j,textAnchor:"middle",verticalAnchor:"middle"}},GOe=function(t){var n=t.viewBox,r=t.parentViewBox,i=t.offset,a=t.position,o=n,l=o.x,c=o.y,u=o.width,f=o.height,h=f>=0?1:-1,p=h*i,m=h>0?"end":"start",x=h>0?"start":"end",v=u>=0?1:-1,y=v*i,b=v>0?"end":"start",w=v>0?"start":"end";if(a==="top"){var j={x:l+u/2,y:c-h*i,textAnchor:"middle",verticalAnchor:m};return xa(xa({},j),r?{height:Math.max(c-r.y,0),width:u}:{})}if(a==="bottom"){var P={x:l+u/2,y:c+f+p,textAnchor:"middle",verticalAnchor:x};return xa(xa({},P),r?{height:Math.max(r.y+r.height-(c+f),0),width:u}:{})}if(a==="left"){var A={x:l-y,y:c+f/2,textAnchor:b,verticalAnchor:"middle"};return xa(xa({},A),r?{width:Math.max(A.x-r.x,0),height:f}:{})}if(a==="right"){var E={x:l+u+y,y:c+f/2,textAnchor:w,verticalAnchor:"middle"};return xa(xa({},E),r?{width:Math.max(r.x+r.width-E.x,0),height:f}:{})}var O=r?{width:u,height:f}:{};return a==="insideLeft"?xa({x:l+y,y:c+f/2,textAnchor:w,verticalAnchor:"middle"},O):a==="insideRight"?xa({x:l+u-y,y:c+f/2,textAnchor:b,verticalAnchor:"middle"},O):a==="insideTop"?xa({x:l+u/2,y:c+p,textAnchor:"middle",verticalAnchor:x},O):a==="insideBottom"?xa({x:l+u/2,y:c+f-p,textAnchor:"middle",verticalAnchor:m},O):a==="insideTopLeft"?xa({x:l+y,y:c+p,textAnchor:w,verticalAnchor:x},O):a==="insideTopRight"?xa({x:l+u-y,y:c+p,textAnchor:b,verticalAnchor:x},O):a==="insideBottomLeft"?xa({x:l+y,y:c+f-p,textAnchor:w,verticalAnchor:m},O):a==="insideBottomRight"?xa({x:l+u-y,y:c+f-p,textAnchor:b,verticalAnchor:m},O):Ny(a)&&(pt(a.x)||Sp(a.x))&&(pt(a.y)||Sp(a.y))?xa({x:l+Hs(a.x,u),y:c+Hs(a.y,f),textAnchor:"end",verticalAnchor:"end"},O):xa({x:l+u/2,y:c+f/2,textAnchor:"middle",verticalAnchor:"middle"},O)},ZOe=function(t){return"cx"in t&&pt(t.cx)};function La(e){var t=e.offset,n=t===void 0?5:t,r=FOe(e,IOe),i=xa({offset:n},r),a=i.viewBox,o=i.position,l=i.value,c=i.children,u=i.content,f=i.className,h=f===void 0?"":f,p=i.textBreakAll;if(!a||pn(l)&&pn(c)&&!N.isValidElement(u)&&!hn(u))return null;if(N.isValidElement(u))return N.cloneElement(u,i);var m;if(hn(u)){if(m=N.createElement(u,i),N.isValidElement(m))return m}else m=VOe(i);var x=ZOe(a),v=Xt(i,!0);if(x&&(o==="insideStart"||o==="insideEnd"||o==="end"))return HOe(i,m,v);var y=x?KOe(i):GOe(i);return ie.createElement(om,h1({className:Pn("recharts-label",h)},v,y,{breakAll:p}),m)}La.displayName="Label";var ZX=function(t){var n=t.cx,r=t.cy,i=t.angle,a=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,f=t.outerRadius,h=t.x,p=t.y,m=t.top,x=t.left,v=t.width,y=t.height,b=t.clockWise,w=t.labelViewBox;if(w)return w;if(pt(v)&&pt(y)){if(pt(h)&&pt(p))return{x:h,y:p,width:v,height:y};if(pt(m)&&pt(x))return{x:m,y:x,width:v,height:y}}return pt(h)&&pt(p)?{x:h,y:p,width:0,height:0}:pt(n)&&pt(r)?{cx:n,cy:r,startAngle:a||i||0,endAngle:o||i||0,innerRadius:u||0,outerRadius:f||c||l||0,clockWise:b}:t.viewBox?t.viewBox:{}},XOe=function(t,n){return t?t===!0?ie.createElement(La,{key:"label-implicit",viewBox:n}):Sa(t)?ie.createElement(La,{key:"label-implicit",viewBox:n,value:t}):N.isValidElement(t)?t.type===La?N.cloneElement(t,{key:"label-implicit",viewBox:n}):ie.createElement(La,{key:"label-implicit",content:t,viewBox:n}):hn(t)?ie.createElement(La,{key:"label-implicit",content:t,viewBox:n}):Ny(t)?ie.createElement(La,h1({viewBox:n},t,{key:"label-implicit"})):null:null},YOe=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var i=t.children,a=ZX(t),o=Xs(i,La).map(function(c,u){return N.cloneElement(c,{viewBox:n||a,key:"label-".concat(u)})});if(!r)return o;var l=XOe(t.label,n||a);return[l].concat(LOe(o))};La.parseViewBox=ZX;La.renderCallByParent=YOe;function QOe(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var JOe=QOe;const e4e=jr(JOe);function p1(e){"@babel/helpers - typeof";return p1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p1(e)}var t4e=["valueAccessor"],n4e=["data","dataKey","clockWise","id","textBreakAll"];function r4e(e){return o4e(e)||s4e(e)||a4e(e)||i4e()}function i4e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function a4e(e,t){if(e){if(typeof e=="string")return ZE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ZE(e,t)}}function s4e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function o4e(e){if(Array.isArray(e))return ZE(e)}function ZE(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s5(){return s5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s5.apply(this,arguments)}function cR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function uR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cR(Object(n),!0).forEach(function(r){l4e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function l4e(e,t,n){return t=c4e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c4e(e){var t=u4e(e,"string");return p1(t)=="symbol"?t:t+""}function u4e(e,t){if(p1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(p1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dR(e,t){if(e==null)return{};var n=d4e(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function d4e(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var f4e=function(t){return Array.isArray(t.value)?e4e(t.value):t.value};function Rc(e){var t=e.valueAccessor,n=t===void 0?f4e:t,r=dR(e,t4e),i=r.data,a=r.dataKey,o=r.clockWise,l=r.id,c=r.textBreakAll,u=dR(r,n4e);return!i||!i.length?null:ie.createElement(In,{className:"recharts-label-list"},i.map(function(f,h){var p=pn(a)?n(f,h):oi(f&&f.payload,a),m=pn(l)?{}:{id:"".concat(l,"-").concat(h)};return ie.createElement(La,s5({},Xt(f,!0),u,m,{parentViewBox:f.parentViewBox,value:p,textBreakAll:c,viewBox:La.parseViewBox(pn(o)?f:uR(uR({},f),{},{clockWise:o})),key:"label-".concat(h),index:h}))}))}Rc.displayName="LabelList";function h4e(e,t){return e?e===!0?ie.createElement(Rc,{key:"labelList-implicit",data:t}):ie.isValidElement(e)||hn(e)?ie.createElement(Rc,{key:"labelList-implicit",data:t,content:e}):Ny(e)?ie.createElement(Rc,s5({data:t},e,{key:"labelList-implicit"})):null:null}function p4e(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var r=e.children,i=Xs(r,Rc).map(function(o,l){return N.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!n)return i;var a=h4e(e.label,t);return[a].concat(r4e(i))}Rc.renderCallByParent=p4e;function m1(e){"@babel/helpers - typeof";return m1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m1(e)}function XE(){return XE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},XE.apply(this,arguments)}function fR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function hR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fR(Object(n),!0).forEach(function(r){m4e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function m4e(e,t,n){return t=g4e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g4e(e){var t=v4e(e,"string");return m1(t)=="symbol"?t:t+""}function v4e(e,t){if(m1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(m1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var y4e=function(t,n){var r=Ws(n-t),i=Math.min(Math.abs(n-t),359.999);return r*i},Hw=function(t){var n=t.cx,r=t.cy,i=t.radius,a=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,f=c*(l?1:-1)+i,h=Math.asin(c/f)/a5,p=u?a:a+o*h,m=Xr(n,r,f,p),x=Xr(n,r,i,p),v=u?a-o*h:a,y=Xr(n,r,f*Math.cos(h*a5),v);return{center:m,circleTangency:x,lineTangency:y,theta:h}},XX=function(t){var n=t.cx,r=t.cy,i=t.innerRadius,a=t.outerRadius,o=t.startAngle,l=t.endAngle,c=y4e(o,l),u=o+c,f=Xr(n,r,a,o),h=Xr(n,r,a,u),p="M ".concat(f.x,",").concat(f.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(i>0){var m=Xr(n,r,i,o),x=Xr(n,r,i,u);p+="L ".concat(x.x,",").concat(x.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(m.x,",").concat(m.y," Z")}else p+="L ".concat(n,",").concat(r," Z");return p},x4e=function(t){var n=t.cx,r=t.cy,i=t.innerRadius,a=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,f=t.endAngle,h=Ws(f-u),p=Hw({cx:n,cy:r,radius:a,angle:u,sign:h,cornerRadius:o,cornerIsExternal:c}),m=p.circleTangency,x=p.lineTangency,v=p.theta,y=Hw({cx:n,cy:r,radius:a,angle:f,sign:-h,cornerRadius:o,cornerIsExternal:c}),b=y.circleTangency,w=y.lineTangency,j=y.theta,P=c?Math.abs(u-f):Math.abs(u-f)-v-j;if(P<0)return l?"M ".concat(x.x,",").concat(x.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):XX({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:u,endAngle:f});var A="M ".concat(x.x,",").concat(x.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(P>180),",").concat(+(h<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(w.x,",").concat(w.y,`
  `);if(i>0){var E=Hw({cx:n,cy:r,radius:i,angle:u,sign:h,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),O=E.circleTangency,I=E.lineTangency,D=E.theta,z=Hw({cx:n,cy:r,radius:i,angle:f,sign:-h,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),T=z.circleTangency,k=z.lineTangency,F=z.theta,B=c?Math.abs(u-f):Math.abs(u-f)-D-F;if(B<0&&o===0)return"".concat(A,"L").concat(n,",").concat(r,"Z");A+="L".concat(k.x,",").concat(k.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(T.x,",").concat(T.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(B>180),",").concat(+(h>0),",").concat(O.x,",").concat(O.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(I.x,",").concat(I.y,"Z")}else A+="L".concat(n,",").concat(r,"Z");return A},b4e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},YX=function(t){var n=hR(hR({},b4e),t),r=n.cx,i=n.cy,a=n.innerRadius,o=n.outerRadius,l=n.cornerRadius,c=n.forceCornerRadius,u=n.cornerIsExternal,f=n.startAngle,h=n.endAngle,p=n.className;if(o<a||f===h)return null;var m=Pn("recharts-sector",p),x=o-a,v=Hs(l,x,0,!0),y;return v>0&&Math.abs(f-h)<360?y=x4e({cx:r,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(v,x/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:f,endAngle:h}):y=XX({cx:r,cy:i,innerRadius:a,outerRadius:o,startAngle:f,endAngle:h}),ie.createElement("path",XE({},Xt(n,!0),{className:m,d:y,role:"img"}))};function g1(e){"@babel/helpers - typeof";return g1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},g1(e)}function YE(){return YE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},YE.apply(this,arguments)}function pR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function mR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pR(Object(n),!0).forEach(function(r){w4e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function w4e(e,t,n){return t=_4e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _4e(e){var t=j4e(e,"string");return g1(t)=="symbol"?t:t+""}function j4e(e,t){if(g1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(g1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gR={curveBasisClosed:wxe,curveBasisOpen:_xe,curveBasis:bxe,curveBumpX:sxe,curveBumpY:oxe,curveLinearClosed:jxe,curveLinear:fN,curveMonotoneX:Nxe,curveMonotoneY:Sxe,curveNatural:Axe,curveStep:Pxe,curveStepAfter:Exe,curveStepBefore:Cxe},Kw=function(t){return t.x===+t.x&&t.y===+t.y},_0=function(t){return t.x},j0=function(t){return t.y},N4e=function(t,n){if(hn(t))return t;var r="curve".concat(uN(t));return(r==="curveMonotone"||r==="curveBump")&&n?gR["".concat(r).concat(n==="vertical"?"Y":"X")]:gR[r]||fN},S4e=function(t){var n=t.type,r=n===void 0?"linear":n,i=t.points,a=i===void 0?[]:i,o=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,f=N4e(r,l),h=u?a.filter(function(v){return Kw(v)}):a,p;if(Array.isArray(o)){var m=u?o.filter(function(v){return Kw(v)}):o,x=h.map(function(v,y){return mR(mR({},v),{},{base:m[y]})});return l==="vertical"?p=Rw().y(j0).x1(_0).x0(function(v){return v.base.x}):p=Rw().x(_0).y1(j0).y0(function(v){return v.base.y}),p.defined(Kw).curve(f),p(x)}return l==="vertical"&&pt(o)?p=Rw().y(j0).x1(_0).x0(o):pt(o)?p=Rw().x(_0).y1(j0).y0(o):p=WG().x(_0).y(j0),p.defined(Kw).curve(f),p(h)},dh=function(t){var n=t.className,r=t.points,i=t.path,a=t.pathRef;if((!r||!r.length)&&!i)return null;var o=r&&r.length?S4e(t):i;return ie.createElement("path",YE({},Xt(t,!1),k_(t),{className:Pn("recharts-curve",n),d:o,ref:a}))},QX={exports:{}},A4e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",P4e=A4e,C4e=P4e;function JX(){}function eY(){}eY.resetWarningCache=JX;var E4e=function(){function e(r,i,a,o,l,c){if(c!==C4e){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:eY,resetWarningCache:JX};return n.PropTypes=n,n};QX.exports=E4e();var O4e=QX.exports;const Sr=jr(O4e);var k4e=Object.getOwnPropertyNames,T4e=Object.getOwnPropertySymbols,I4e=Object.prototype.hasOwnProperty;function vR(e,t){return function(r,i,a){return e(r,i,a)&&t(r,i,a)}}function Gw(e){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return e(n,r,i);var a=i.cache,o=a.get(n),l=a.get(r);if(o&&l)return o===r&&l===n;a.set(n,r),a.set(r,n);var c=e(n,r,i);return a.delete(n),a.delete(r),c}}function yR(e){return k4e(e).concat(T4e(e))}var L4e=Object.hasOwn||function(e,t){return I4e.call(e,t)};function Cm(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var M4e="__v",D4e="__o",R4e="_owner",xR=Object.getOwnPropertyDescriptor,bR=Object.keys;function $4e(e,t,n){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(!n.equals(e[r],t[r],r,r,e,t,n))return!1;return!0}function F4e(e,t){return Cm(e.getTime(),t.getTime())}function B4e(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function z4e(e,t){return e===t}function wR(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var i=new Array(r),a=e.entries(),o,l,c=0;(o=a.next())&&!o.done;){for(var u=t.entries(),f=!1,h=0;(l=u.next())&&!l.done;){if(i[h]){h++;continue}var p=o.value,m=l.value;if(n.equals(p[0],m[0],c,h,e,t,n)&&n.equals(p[1],m[1],p[0],m[0],e,t,n)){f=i[h]=!0;break}h++}if(!f)return!1;c++}return!0}var U4e=Cm;function q4e(e,t,n){var r=bR(e),i=r.length;if(bR(t).length!==i)return!1;for(;i-- >0;)if(!tY(e,t,n,r[i]))return!1;return!0}function N0(e,t,n){var r=yR(e),i=r.length;if(yR(t).length!==i)return!1;for(var a,o,l;i-- >0;)if(a=r[i],!tY(e,t,n,a)||(o=xR(e,a),l=xR(t,a),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function V4e(e,t){return Cm(e.valueOf(),t.valueOf())}function W4e(e,t){return e.source===t.source&&e.flags===t.flags}function _R(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var i=new Array(r),a=e.values(),o,l;(o=a.next())&&!o.done;){for(var c=t.values(),u=!1,f=0;(l=c.next())&&!l.done;){if(!i[f]&&n.equals(o.value,l.value,o.value,l.value,e,t,n)){u=i[f]=!0;break}f++}if(!u)return!1}return!0}function H4e(e,t){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}function K4e(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function tY(e,t,n,r){return(r===R4e||r===D4e||r===M4e)&&(e.$$typeof||t.$$typeof)?!0:L4e(t,r)&&n.equals(e[r],t[r],r,r,e,t,n)}var G4e="[object Arguments]",Z4e="[object Boolean]",X4e="[object Date]",Y4e="[object Error]",Q4e="[object Map]",J4e="[object Number]",eke="[object Object]",tke="[object RegExp]",nke="[object Set]",rke="[object String]",ike="[object URL]",ake=Array.isArray,jR=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,NR=Object.assign,ske=Object.prototype.toString.call.bind(Object.prototype.toString);function oke(e){var t=e.areArraysEqual,n=e.areDatesEqual,r=e.areErrorsEqual,i=e.areFunctionsEqual,a=e.areMapsEqual,o=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,f=e.areSetsEqual,h=e.areTypedArraysEqual,p=e.areUrlsEqual;return function(x,v,y){if(x===v)return!0;if(x==null||v==null)return!1;var b=typeof x;if(b!==typeof v)return!1;if(b!=="object")return b==="number"?o(x,v,y):b==="function"?i(x,v,y):!1;var w=x.constructor;if(w!==v.constructor)return!1;if(w===Object)return l(x,v,y);if(ake(x))return t(x,v,y);if(jR!=null&&jR(x))return h(x,v,y);if(w===Date)return n(x,v,y);if(w===RegExp)return u(x,v,y);if(w===Map)return a(x,v,y);if(w===Set)return f(x,v,y);var j=ske(x);return j===X4e?n(x,v,y):j===tke?u(x,v,y):j===Q4e?a(x,v,y):j===nke?f(x,v,y):j===eke?typeof x.then!="function"&&typeof v.then!="function"&&l(x,v,y):j===ike?p(x,v,y):j===Y4e?r(x,v,y):j===G4e?l(x,v,y):j===Z4e||j===J4e||j===rke?c(x,v,y):!1}}function lke(e){var t=e.circular,n=e.createCustomConfig,r=e.strict,i={areArraysEqual:r?N0:$4e,areDatesEqual:F4e,areErrorsEqual:B4e,areFunctionsEqual:z4e,areMapsEqual:r?vR(wR,N0):wR,areNumbersEqual:U4e,areObjectsEqual:r?N0:q4e,arePrimitiveWrappersEqual:V4e,areRegExpsEqual:W4e,areSetsEqual:r?vR(_R,N0):_R,areTypedArraysEqual:r?N0:H4e,areUrlsEqual:K4e};if(n&&(i=NR({},i,n(i))),t){var a=Gw(i.areArraysEqual),o=Gw(i.areMapsEqual),l=Gw(i.areObjectsEqual),c=Gw(i.areSetsEqual);i=NR({},i,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return i}function cke(e){return function(t,n,r,i,a,o,l){return e(t,n,l)}}function uke(e){var t=e.circular,n=e.comparator,r=e.createState,i=e.equals,a=e.strict;if(r)return function(c,u){var f=r(),h=f.cache,p=h===void 0?t?new WeakMap:void 0:h,m=f.meta;return n(c,u,{cache:p,equals:i,meta:m,strict:a})};if(t)return function(c,u){return n(c,u,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var o={cache:void 0,equals:i,meta:void 0,strict:a};return function(c,u){return n(c,u,o)}}var dke=Uh();Uh({strict:!0});Uh({circular:!0});Uh({circular:!0,strict:!0});Uh({createInternalComparator:function(){return Cm}});Uh({strict:!0,createInternalComparator:function(){return Cm}});Uh({circular:!0,createInternalComparator:function(){return Cm}});Uh({circular:!0,createInternalComparator:function(){return Cm},strict:!0});function Uh(e){e===void 0&&(e={});var t=e.circular,n=t===void 0?!1:t,r=e.createInternalComparator,i=e.createState,a=e.strict,o=a===void 0?!1:a,l=lke(e),c=oke(l),u=r?r(c):cke(c);return uke({circular:n,comparator:c,createState:i,equals:u,strict:o})}function fke(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function SR(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(a){n<0&&(n=a),a-n>t?(e(a),n=-1):fke(i)};requestAnimationFrame(r)}function QE(e){"@babel/helpers - typeof";return QE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},QE(e)}function hke(e){return vke(e)||gke(e)||mke(e)||pke()}function pke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mke(e,t){if(e){if(typeof e=="string")return AR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return AR(e,t)}}function AR(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function gke(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function vke(e){if(Array.isArray(e))return e}function yke(){var e={},t=function(){return null},n=!1,r=function i(a){if(!n){if(Array.isArray(a)){if(!a.length)return;var o=a,l=hke(o),c=l[0],u=l.slice(1);if(typeof c=="number"){SR(i.bind(null,u),c);return}i(c),SR(i.bind(null,u));return}QE(a)==="object"&&(e=a,t(e)),typeof a=="function"&&a()}};return{stop:function(){n=!0},start:function(a){n=!1,r(a)},subscribe:function(a){return t=a,function(){t=function(){return null}}}}}function v1(e){"@babel/helpers - typeof";return v1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v1(e)}function PR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function CR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?PR(Object(n),!0).forEach(function(r){nY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nY(e,t,n){return t=xke(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xke(e){var t=bke(e,"string");return v1(t)==="symbol"?t:String(t)}function bke(e,t){if(v1(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(v1(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wke=function(t,n){return[Object.keys(t),Object.keys(n)].reduce(function(r,i){return r.filter(function(a){return i.includes(a)})})},_ke=function(t){return t},jke=function(t){return t.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},rx=function(t,n){return Object.keys(n).reduce(function(r,i){return CR(CR({},r),{},nY({},i,t(i,n[i])))},{})},ER=function(t,n,r){return t.map(function(i){return"".concat(jke(i)," ").concat(n,"ms ").concat(r)}).join(",")};function Nke(e,t){return Pke(e)||Ake(e,t)||rY(e,t)||Ske()}function Ske(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ake(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function Pke(e){if(Array.isArray(e))return e}function Cke(e){return kke(e)||Oke(e)||rY(e)||Eke()}function Eke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rY(e,t){if(e){if(typeof e=="string")return JE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return JE(e,t)}}function Oke(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function kke(e){if(Array.isArray(e))return JE(e)}function JE(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var o5=1e-4,iY=function(t,n){return[0,3*t,3*n-6*t,3*t-3*n+1]},aY=function(t,n){return t.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},OR=function(t,n){return function(r){var i=iY(t,n);return aY(i,r)}},Tke=function(t,n){return function(r){var i=iY(t,n),a=[].concat(Cke(i.map(function(o,l){return o*l}).slice(1)),[0]);return aY(a,r)}},kR=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n[0],a=n[1],o=n[2],l=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,a=0,o=1,l=1;break;case"ease":i=.25,a=.1,o=.25,l=1;break;case"ease-in":i=.42,a=0,o=1,l=1;break;case"ease-out":i=.42,a=0,o=.58,l=1;break;case"ease-in-out":i=0,a=0,o=.58,l=1;break;default:{var c=n[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),f=Nke(u,4);i=f[0],a=f[1],o=f[2],l=f[3]}}}var h=OR(i,o),p=OR(a,l),m=Tke(i,o),x=function(b){return b>1?1:b<0?0:b},v=function(b){for(var w=b>1?1:b,j=w,P=0;P<8;++P){var A=h(j)-w,E=m(j);if(Math.abs(A-w)<o5||E<o5)return p(j);j=x(j-A/E)}return p(j)};return v.isStepper=!1,v},Ike=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.stiff,r=n===void 0?100:n,i=t.damping,a=i===void 0?8:i,o=t.dt,l=o===void 0?17:o,c=function(f,h,p){var m=-(f-h)*r,x=p*a,v=p+(m-x)*l/1e3,y=p*l/1e3+f;return Math.abs(y-h)<o5&&Math.abs(v)<o5?[h,0]:[y,v]};return c.isStepper=!0,c.dt=l,c},Lke=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return kR(i);case"spring":return Ike();default:if(i.split("(")[0]==="cubic-bezier")return kR(i)}return typeof i=="function"?i:null};function y1(e){"@babel/helpers - typeof";return y1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},y1(e)}function TR(e){return Rke(e)||Dke(e)||sY(e)||Mke()}function Mke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dke(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Rke(e){if(Array.isArray(e))return tO(e)}function IR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ts(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?IR(Object(n),!0).forEach(function(r){eO(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function eO(e,t,n){return t=$ke(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $ke(e){var t=Fke(e,"string");return y1(t)==="symbol"?t:String(t)}function Fke(e,t){if(y1(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(y1(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bke(e,t){return qke(e)||Uke(e,t)||sY(e,t)||zke()}function zke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sY(e,t){if(e){if(typeof e=="string")return tO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tO(e,t)}}function tO(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Uke(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function qke(e){if(Array.isArray(e))return e}var l5=function(t,n,r){return t+(n-t)*r},nO=function(t){var n=t.from,r=t.to;return n!==r},Vke=function e(t,n,r){var i=rx(function(a,o){if(nO(o)){var l=t(o.from,o.to,o.velocity),c=Bke(l,2),u=c[0],f=c[1];return ts(ts({},o),{},{from:u,velocity:f})}return o},n);return r<1?rx(function(a,o){return nO(o)?ts(ts({},o),{},{velocity:l5(o.velocity,i[a].velocity,r),from:l5(o.from,i[a].from,r)}):o},n):e(t,i,r-1)};const Wke=function(e,t,n,r,i){var a=wke(e,t),o=a.reduce(function(y,b){return ts(ts({},y),{},eO({},b,[e[b],t[b]]))},{}),l=a.reduce(function(y,b){return ts(ts({},y),{},eO({},b,{from:e[b],velocity:0,to:t[b]}))},{}),c=-1,u,f,h=function(){return null},p=function(){return rx(function(b,w){return w.from},l)},m=function(){return!Object.values(l).filter(nO).length},x=function(b){u||(u=b);var w=b-u,j=w/n.dt;l=Vke(n,l,j),i(ts(ts(ts({},e),t),p())),u=b,m()||(c=requestAnimationFrame(h))},v=function(b){f||(f=b);var w=(b-f)/r,j=rx(function(A,E){return l5.apply(void 0,TR(E).concat([n(w)]))},o);if(i(ts(ts(ts({},e),t),j)),w<1)c=requestAnimationFrame(h);else{var P=rx(function(A,E){return l5.apply(void 0,TR(E).concat([n(1)]))},o);i(ts(ts(ts({},e),t),P))}};return h=n.isStepper?x:v,function(){return requestAnimationFrame(h),function(){cancelAnimationFrame(c)}}};function $v(e){"@babel/helpers - typeof";return $v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$v(e)}var Hke=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Kke(e,t){if(e==null)return{};var n=Gke(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Gke(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function BA(e){return Qke(e)||Yke(e)||Xke(e)||Zke()}function Zke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xke(e,t){if(e){if(typeof e=="string")return rO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rO(e,t)}}function Yke(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Qke(e){if(Array.isArray(e))return rO(e)}function rO(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function LR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function vc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?LR(Object(n),!0).forEach(function(r){F0(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function F0(e,t,n){return t=oY(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eTe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,oY(r.key),r)}}function tTe(e,t,n){return t&&eTe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function oY(e){var t=nTe(e,"string");return $v(t)==="symbol"?t:String(t)}function nTe(e,t){if($v(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if($v(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rTe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&iO(e,t)}function iO(e,t){return iO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},iO(e,t)}function iTe(e){var t=aTe();return function(){var r=c5(e),i;if(t){var a=c5(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return aO(this,i)}}function aO(e,t){if(t&&($v(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sO(e)}function sO(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function aTe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function c5(e){return c5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},c5(e)}var Xl=function(e){rTe(n,e);var t=iTe(n);function n(r,i){var a;Jke(this,n),a=t.call(this,r,i);var o=a.props,l=o.isActive,c=o.attributeName,u=o.from,f=o.to,h=o.steps,p=o.children,m=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(sO(a)),a.changeStyle=a.changeStyle.bind(sO(a)),!l||m<=0)return a.state={style:{}},typeof p=="function"&&(a.state={style:f}),aO(a);if(h&&h.length)a.state={style:h[0].style};else if(u){if(typeof p=="function")return a.state={style:u},aO(a);a.state={style:c?F0({},c,u):u}}else a.state={style:{}};return a}return tTe(n,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,o=i.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isActive,l=a.canBegin,c=a.attributeName,u=a.shouldReAnimate,f=a.to,h=a.from,p=this.state.style;if(l){if(!o){var m={style:c?F0({},c,f):f};this.state&&p&&(c&&p[c]!==f||!c&&p!==f)&&this.setState(m);return}if(!(dke(i.to,f)&&i.canBegin&&i.isActive)){var x=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var v=x||u?h:i.to;if(this.state&&p){var y={style:c?F0({},c,v):v};(c&&p[c]!==v||!c&&p!==v)&&this.setState(y)}this.runAnimation(vc(vc({},this.props),{},{from:v,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,o=i.from,l=i.to,c=i.duration,u=i.easing,f=i.begin,h=i.onAnimationEnd,p=i.onAnimationStart,m=Wke(o,l,Lke(u),c,this.changeStyle),x=function(){a.stopJSAnimation=m()};this.manager.start([p,f,x,c,h])}},{key:"runStepAnimation",value:function(i){var a=this,o=i.steps,l=i.begin,c=i.onAnimationStart,u=o[0],f=u.style,h=u.duration,p=h===void 0?0:h,m=function(v,y,b){if(b===0)return v;var w=y.duration,j=y.easing,P=j===void 0?"ease":j,A=y.style,E=y.properties,O=y.onAnimationEnd,I=b>0?o[b-1]:y,D=E||Object.keys(A);if(typeof P=="function"||P==="spring")return[].concat(BA(v),[a.runJSAnimation.bind(a,{from:I.style,to:A,duration:w,easing:P}),w]);var z=ER(D,w,P),T=vc(vc(vc({},I.style),A),{},{transition:z});return[].concat(BA(v),[T,w,O]).filter(_ke)};return this.manager.start([c].concat(BA(o.reduce(m,[f,Math.max(p,l)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=yke());var a=i.begin,o=i.duration,l=i.attributeName,c=i.to,u=i.easing,f=i.onAnimationStart,h=i.onAnimationEnd,p=i.steps,m=i.children,x=this.manager;if(this.unSubscribe=x.subscribe(this.handleStyleChange),typeof u=="function"||typeof m=="function"||u==="spring"){this.runJSAnimation(i);return}if(p.length>1){this.runStepAnimation(i);return}var v=l?F0({},l,c):c,y=ER(Object.keys(v),o,u);x.start([f,a,vc(vc({},v),{},{transition:y}),o,h])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var l=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=Kke(i,Hke),u=N.Children.count(a),f=this.state.style;if(typeof a=="function")return a(f);if(!l||u===0||o<=0)return a;var h=function(m){var x=m.props,v=x.style,y=v===void 0?{}:v,b=x.className,w=N.cloneElement(m,vc(vc({},c),{},{style:vc(vc({},y),f),className:b}));return w};return u===1?h(N.Children.only(a)):ie.createElement("div",null,N.Children.map(a,function(p){return h(p)}))}}]),n}(N.PureComponent);Xl.displayName="Animate";Xl.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Xl.propTypes={from:Sr.oneOfType([Sr.object,Sr.string]),to:Sr.oneOfType([Sr.object,Sr.string]),attributeName:Sr.string,duration:Sr.number,begin:Sr.number,easing:Sr.oneOfType([Sr.string,Sr.func]),steps:Sr.arrayOf(Sr.shape({duration:Sr.number.isRequired,style:Sr.object.isRequired,easing:Sr.oneOfType([Sr.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Sr.func]),properties:Sr.arrayOf("string"),onAnimationEnd:Sr.func})),children:Sr.oneOfType([Sr.node,Sr.func]),isActive:Sr.bool,canBegin:Sr.bool,onAnimationEnd:Sr.func,shouldReAnimate:Sr.bool,onAnimationStart:Sr.func,onAnimationReStart:Sr.func};function x1(e){"@babel/helpers - typeof";return x1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},x1(e)}function u5(){return u5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u5.apply(this,arguments)}function sTe(e,t){return uTe(e)||cTe(e,t)||lTe(e,t)||oTe()}function oTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lTe(e,t){if(e){if(typeof e=="string")return MR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return MR(e,t)}}function MR(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function cTe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function uTe(e){if(Array.isArray(e))return e}function DR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function RR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?DR(Object(n),!0).forEach(function(r){dTe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function dTe(e,t,n){return t=fTe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fTe(e){var t=hTe(e,"string");return x1(t)=="symbol"?t:t+""}function hTe(e,t){if(x1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(x1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $R=function(t,n,r,i,a){var o=Math.min(Math.abs(r)/2,Math.abs(i)/2),l=i>=0?1:-1,c=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,f;if(o>0&&a instanceof Array){for(var h=[0,0,0,0],p=0,m=4;p<m;p++)h[p]=a[p]>o?o:a[p];f="M".concat(t,",").concat(n+l*h[0]),h[0]>0&&(f+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(u,",").concat(t+c*h[0],",").concat(n)),f+="L ".concat(t+r-c*h[1],",").concat(n),h[1]>0&&(f+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(u,`,
        `).concat(t+r,",").concat(n+l*h[1])),f+="L ".concat(t+r,",").concat(n+i-l*h[2]),h[2]>0&&(f+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(u,`,
        `).concat(t+r-c*h[2],",").concat(n+i)),f+="L ".concat(t+c*h[3],",").concat(n+i),h[3]>0&&(f+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(n+i-l*h[3])),f+="Z"}else if(o>0&&a===+a&&a>0){var x=Math.min(o,a);f="M ".concat(t,",").concat(n+l*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(t+c*x,",").concat(n,`
            L `).concat(t+r-c*x,",").concat(n,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(t+r,",").concat(n+l*x,`
            L `).concat(t+r,",").concat(n+i-l*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(t+r-c*x,",").concat(n+i,`
            L `).concat(t+c*x,",").concat(n+i,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(t,",").concat(n+i-l*x," Z")}else f="M ".concat(t,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return f},pTe=function(t,n){if(!t||!n)return!1;var r=t.x,i=t.y,a=n.x,o=n.y,l=n.width,c=n.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(a,a+l),f=Math.max(a,a+l),h=Math.min(o,o+c),p=Math.max(o,o+c);return r>=u&&r<=f&&i>=h&&i<=p}return!1},mTe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},h3=function(t){var n=RR(RR({},mTe),t),r=N.useRef(),i=N.useState(-1),a=sTe(i,2),o=a[0],l=a[1];N.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var P=r.current.getTotalLength();P&&l(P)}catch{}},[]);var c=n.x,u=n.y,f=n.width,h=n.height,p=n.radius,m=n.className,x=n.animationEasing,v=n.animationDuration,y=n.animationBegin,b=n.isAnimationActive,w=n.isUpdateAnimationActive;if(c!==+c||u!==+u||f!==+f||h!==+h||f===0||h===0)return null;var j=Pn("recharts-rectangle",m);return w?ie.createElement(Xl,{canBegin:o>0,from:{width:f,height:h,x:c,y:u},to:{width:f,height:h,x:c,y:u},duration:v,animationEasing:x,isActive:w},function(P){var A=P.width,E=P.height,O=P.x,I=P.y;return ie.createElement(Xl,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:v,isActive:b,easing:x},ie.createElement("path",u5({},Xt(n,!0),{className:j,d:$R(O,I,A,E,p),ref:r})))}):ie.createElement("path",u5({},Xt(n,!0),{className:j,d:$R(c,u,f,h,p)}))},gTe=["points","className","baseLinePoints","connectNulls"];function Cg(){return Cg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Cg.apply(this,arguments)}function vTe(e,t){if(e==null)return{};var n=yTe(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function yTe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function FR(e){return _Te(e)||wTe(e)||bTe(e)||xTe()}function xTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bTe(e,t){if(e){if(typeof e=="string")return oO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oO(e,t)}}function wTe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _Te(e){if(Array.isArray(e))return oO(e)}function oO(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var BR=function(t){return t&&t.x===+t.x&&t.y===+t.y},jTe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return t.forEach(function(r){BR(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),BR(t[0])&&n[n.length-1].push(t[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},ix=function(t,n){var r=jTe(t);n&&(r=[r.reduce(function(a,o){return[].concat(FR(a),FR(o))},[])]);var i=r.map(function(a){return a.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},NTe=function(t,n,r){var i=ix(t,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(ix(n.reverse(),r).slice(1))},STe=function(t){var n=t.points,r=t.className,i=t.baseLinePoints,a=t.connectNulls,o=vTe(t,gTe);if(!n||!n.length)return null;var l=Pn("recharts-polygon",r);if(i&&i.length){var c=o.stroke&&o.stroke!=="none",u=NTe(n,i,a);return ie.createElement("g",{className:l},ie.createElement("path",Cg({},Xt(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),c?ie.createElement("path",Cg({},Xt(o,!0),{fill:"none",d:ix(n,a)})):null,c?ie.createElement("path",Cg({},Xt(o,!0),{fill:"none",d:ix(i,a)})):null)}var f=ix(n,a);return ie.createElement("path",Cg({},Xt(o,!0),{fill:f.slice(-1)==="Z"?o.fill:"none",className:l,d:f}))};function lO(){return lO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lO.apply(this,arguments)}var Ab=function(t){var n=t.cx,r=t.cy,i=t.r,a=t.className,o=Pn("recharts-dot",a);return n===+n&&r===+r&&i===+i?ie.createElement("circle",lO({},Xt(t,!1),k_(t),{className:o,cx:n,cy:r,r:i})):null};function b1(e){"@babel/helpers - typeof";return b1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},b1(e)}var ATe=["x","y","top","left","width","height","className"];function cO(){return cO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cO.apply(this,arguments)}function zR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function PTe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zR(Object(n),!0).forEach(function(r){CTe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function CTe(e,t,n){return t=ETe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ETe(e){var t=OTe(e,"string");return b1(t)=="symbol"?t:t+""}function OTe(e,t){if(b1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(b1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kTe(e,t){if(e==null)return{};var n=TTe(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function TTe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var ITe=function(t,n,r,i,a,o){return"M".concat(t,",").concat(a,"v").concat(i,"M").concat(o,",").concat(n,"h").concat(r)},LTe=function(t){var n=t.x,r=n===void 0?0:n,i=t.y,a=i===void 0?0:i,o=t.top,l=o===void 0?0:o,c=t.left,u=c===void 0?0:c,f=t.width,h=f===void 0?0:f,p=t.height,m=p===void 0?0:p,x=t.className,v=kTe(t,ATe),y=PTe({x:r,y:a,top:l,left:u,width:h,height:m},v);return!pt(r)||!pt(a)||!pt(h)||!pt(m)||!pt(l)||!pt(u)?null:ie.createElement("path",cO({},Xt(y,!0),{className:Pn("recharts-cross",x),d:ITe(r,a,h,m,l,u)}))},MTe=NN,DTe=xX,RTe=ed;function $Te(e,t){return e&&e.length?MTe(e,RTe(t),DTe):void 0}var FTe=$Te;const BTe=jr(FTe);var zTe=NN,UTe=ed,qTe=bX;function VTe(e,t){return e&&e.length?zTe(e,UTe(t),qTe):void 0}var WTe=VTe;const HTe=jr(WTe);var KTe=["cx","cy","angle","ticks","axisLine"],GTe=["ticks","tick","angle","tickFormatter","stroke"];function Fv(e){"@babel/helpers - typeof";return Fv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fv(e)}function ax(){return ax=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ax.apply(this,arguments)}function UR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function cp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?UR(Object(n),!0).forEach(function(r){CN(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qR(e,t){if(e==null)return{};var n=ZTe(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function ZTe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function XTe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function VR(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,cY(r.key),r)}}function YTe(e,t,n){return t&&VR(e.prototype,t),n&&VR(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function QTe(e,t,n){return t=d5(t),JTe(e,lY()?Reflect.construct(t,n||[],d5(e).constructor):t.apply(e,n))}function JTe(e,t){if(t&&(Fv(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return e3e(e)}function e3e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lY=function(){return!!e})()}function d5(e){return d5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},d5(e)}function t3e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&uO(e,t)}function uO(e,t){return uO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},uO(e,t)}function CN(e,t,n){return t=cY(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cY(e){var t=n3e(e,"string");return Fv(t)=="symbol"?t:t+""}function n3e(e,t){if(Fv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Fv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var EN=function(e){function t(){return XTe(this,t),QTe(this,t,arguments)}return t3e(t,e),YTe(t,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,a=this.props,o=a.angle,l=a.cx,c=a.cy;return Xr(l,c,i,o)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,a=r.cy,o=r.angle,l=r.ticks,c=BTe(l,function(f){return f.coordinate||0}),u=HTe(l,function(f){return f.coordinate||0});return{cx:i,cy:a,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,a=r.cy,o=r.angle,l=r.ticks,c=r.axisLine,u=qR(r,KTe),f=l.reduce(function(x,v){return[Math.min(x[0],v.coordinate),Math.max(x[1],v.coordinate)]},[1/0,-1/0]),h=Xr(i,a,f[0],o),p=Xr(i,a,f[1],o),m=cp(cp(cp({},Xt(u,!1)),{},{fill:"none"},Xt(c,!1)),{},{x1:h.x,y1:h.y,x2:p.x,y2:p.y});return ie.createElement("line",ax({className:"recharts-polar-radius-axis-line"},m))}},{key:"renderTicks",value:function(){var r=this,i=this.props,a=i.ticks,o=i.tick,l=i.angle,c=i.tickFormatter,u=i.stroke,f=qR(i,GTe),h=this.getTickTextAnchor(),p=Xt(f,!1),m=Xt(o,!1),x=a.map(function(v,y){var b=r.getTickValueCoord(v),w=cp(cp(cp(cp({textAnchor:h,transform:"rotate(".concat(90-l,", ").concat(b.x,", ").concat(b.y,")")},p),{},{stroke:"none",fill:u},m),{},{index:y},b),{},{payload:v});return ie.createElement(In,ax({className:Pn("recharts-polar-radius-axis-tick",GX(o)),key:"tick-".concat(v.coordinate)},jh(r.props,v,y)),t.renderTickItem(o,w,c?c(v.value,y):v.value))});return ie.createElement(In,{className:"recharts-polar-radius-axis-ticks"},x)}},{key:"render",value:function(){var r=this.props,i=r.ticks,a=r.axisLine,o=r.tick;return!i||!i.length?null:ie.createElement(In,{className:Pn("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),o&&this.renderTicks(),La.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,a){var o;return ie.isValidElement(r)?o=ie.cloneElement(r,i):hn(r)?o=r(i):o=ie.createElement(om,ax({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),o}}])}(N.PureComponent);CN(EN,"displayName","PolarRadiusAxis");CN(EN,"axisType","radiusAxis");CN(EN,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Bv(e){"@babel/helpers - typeof";return Bv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bv(e)}function yp(){return yp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yp.apply(this,arguments)}function WR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function up(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?WR(Object(n),!0).forEach(function(r){ON(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function r3e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function HR(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,dY(r.key),r)}}function i3e(e,t,n){return t&&HR(e.prototype,t),n&&HR(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function a3e(e,t,n){return t=f5(t),s3e(e,uY()?Reflect.construct(t,n||[],f5(e).constructor):t.apply(e,n))}function s3e(e,t){if(t&&(Bv(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return o3e(e)}function o3e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uY=function(){return!!e})()}function f5(e){return f5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},f5(e)}function l3e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dO(e,t)}function dO(e,t){return dO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},dO(e,t)}function ON(e,t,n){return t=dY(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dY(e){var t=c3e(e,"string");return Bv(t)=="symbol"?t:t+""}function c3e(e,t){if(Bv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Bv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var u3e=Math.PI/180,KR=1e-5,kN=function(e){function t(){return r3e(this,t),a3e(this,t,arguments)}return l3e(t,e),i3e(t,[{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.cx,o=i.cy,l=i.radius,c=i.orientation,u=i.tickSize,f=u||8,h=Xr(a,o,l,r.coordinate),p=Xr(a,o,l+(c==="inner"?-1:1)*f,r.coordinate);return{x1:h.x,y1:h.y,x2:p.x,y2:p.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,a=Math.cos(-r.coordinate*u3e),o;return a>KR?o=i==="outer"?"start":"end":a<-KR?o=i==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,a=r.cy,o=r.radius,l=r.axisLine,c=r.axisLineType,u=up(up({},Xt(this.props,!1)),{},{fill:"none"},Xt(l,!1));if(c==="circle")return ie.createElement(Ab,yp({className:"recharts-polar-angle-axis-line"},u,{cx:i,cy:a,r:o}));var f=this.props.ticks,h=f.map(function(p){return Xr(i,a,o,p.coordinate)});return ie.createElement(STe,yp({className:"recharts-polar-angle-axis-line"},u,{points:h}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,a=i.ticks,o=i.tick,l=i.tickLine,c=i.tickFormatter,u=i.stroke,f=Xt(this.props,!1),h=Xt(o,!1),p=up(up({},f),{},{fill:"none"},Xt(l,!1)),m=a.map(function(x,v){var y=r.getTickLineCoord(x),b=r.getTickTextAnchor(x),w=up(up(up({textAnchor:b},f),{},{stroke:"none",fill:u},h),{},{index:v,payload:x,x:y.x2,y:y.y2});return ie.createElement(In,yp({className:Pn("recharts-polar-angle-axis-tick",GX(o)),key:"tick-".concat(x.coordinate)},jh(r.props,x,v)),l&&ie.createElement("line",yp({className:"recharts-polar-angle-axis-tick-line"},p,y)),o&&t.renderTickItem(o,w,c?c(x.value,v):x.value))});return ie.createElement(In,{className:"recharts-polar-angle-axis-ticks"},m)}},{key:"render",value:function(){var r=this.props,i=r.ticks,a=r.radius,o=r.axisLine;return a<=0||!i||!i.length?null:ie.createElement(In,{className:Pn("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,a){var o;return ie.isValidElement(r)?o=ie.cloneElement(r,i):hn(r)?o=r(i):o=ie.createElement(om,yp({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),o}}])}(N.PureComponent);ON(kN,"displayName","PolarAngleAxis");ON(kN,"axisType","angleAxis");ON(kN,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var d3e=mZ,f3e=d3e(Object.getPrototypeOf,Object),h3e=f3e,p3e=Yd,m3e=h3e,g3e=Qd,v3e="[object Object]",y3e=Function.prototype,x3e=Object.prototype,fY=y3e.toString,b3e=x3e.hasOwnProperty,w3e=fY.call(Object);function _3e(e){if(!g3e(e)||p3e(e)!=v3e)return!1;var t=m3e(e);if(t===null)return!0;var n=b3e.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&fY.call(n)==w3e}var j3e=_3e;const N3e=jr(j3e);var S3e=Yd,A3e=Qd,P3e="[object Boolean]";function C3e(e){return e===!0||e===!1||A3e(e)&&S3e(e)==P3e}var E3e=C3e;const O3e=jr(E3e);function w1(e){"@babel/helpers - typeof";return w1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},w1(e)}function h5(){return h5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h5.apply(this,arguments)}function k3e(e,t){return M3e(e)||L3e(e,t)||I3e(e,t)||T3e()}function T3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function I3e(e,t){if(e){if(typeof e=="string")return GR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return GR(e,t)}}function GR(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function L3e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function M3e(e){if(Array.isArray(e))return e}function ZR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function XR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ZR(Object(n),!0).forEach(function(r){D3e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function D3e(e,t,n){return t=R3e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function R3e(e){var t=$3e(e,"string");return w1(t)=="symbol"?t:t+""}function $3e(e,t){if(w1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(w1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var YR=function(t,n,r,i,a){var o=r-i,l;return l="M ".concat(t,",").concat(n),l+="L ".concat(t+r,",").concat(n),l+="L ".concat(t+r-o/2,",").concat(n+a),l+="L ".concat(t+r-o/2-i,",").concat(n+a),l+="L ".concat(t,",").concat(n," Z"),l},F3e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},B3e=function(t){var n=XR(XR({},F3e),t),r=N.useRef(),i=N.useState(-1),a=k3e(i,2),o=a[0],l=a[1];N.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var j=r.current.getTotalLength();j&&l(j)}catch{}},[]);var c=n.x,u=n.y,f=n.upperWidth,h=n.lowerWidth,p=n.height,m=n.className,x=n.animationEasing,v=n.animationDuration,y=n.animationBegin,b=n.isUpdateAnimationActive;if(c!==+c||u!==+u||f!==+f||h!==+h||p!==+p||f===0&&h===0||p===0)return null;var w=Pn("recharts-trapezoid",m);return b?ie.createElement(Xl,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:p,x:c,y:u},to:{upperWidth:f,lowerWidth:h,height:p,x:c,y:u},duration:v,animationEasing:x,isActive:b},function(j){var P=j.upperWidth,A=j.lowerWidth,E=j.height,O=j.x,I=j.y;return ie.createElement(Xl,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:v,easing:x},ie.createElement("path",h5({},Xt(n,!0),{className:w,d:YR(O,I,P,A,E),ref:r})))}):ie.createElement("g",null,ie.createElement("path",h5({},Xt(n,!0),{className:w,d:YR(c,u,f,h,p)})))},z3e=["option","shapeType","propTransformer","activeClassName","isActive"];function _1(e){"@babel/helpers - typeof";return _1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_1(e)}function U3e(e,t){if(e==null)return{};var n=q3e(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function q3e(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function QR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function p5(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QR(Object(n),!0).forEach(function(r){V3e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function V3e(e,t,n){return t=W3e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function W3e(e){var t=H3e(e,"string");return _1(t)=="symbol"?t:t+""}function H3e(e,t){if(_1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(_1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function K3e(e,t){return p5(p5({},t),e)}function G3e(e,t){return e==="symbols"}function JR(e){var t=e.shapeType,n=e.elementProps;switch(t){case"rectangle":return ie.createElement(h3,n);case"trapezoid":return ie.createElement(B3e,n);case"sector":return ie.createElement(YX,n);case"symbols":if(G3e(t))return ie.createElement(pN,n);break;default:return null}}function Z3e(e){return N.isValidElement(e)?e.props:e}function m5(e){var t=e.option,n=e.shapeType,r=e.propTransformer,i=r===void 0?K3e:r,a=e.activeClassName,o=a===void 0?"recharts-active-shape":a,l=e.isActive,c=U3e(e,z3e),u;if(N.isValidElement(t))u=N.cloneElement(t,p5(p5({},c),Z3e(t)));else if(hn(t))u=t(c);else if(N3e(t)&&!O3e(t)){var f=i(t,c);u=ie.createElement(JR,{shapeType:n,elementProps:f})}else{var h=c;u=ie.createElement(JR,{shapeType:n,elementProps:h})}return l?ie.createElement(In,{className:o},u):u}function TN(e,t){return t!=null&&"trapezoids"in e.props}function IN(e,t){return t!=null&&"sectors"in e.props}function j1(e,t){return t!=null&&"points"in e.props}function X3e(e,t){var n,r,i=e.x===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.x)||e.x===t.x,a=e.y===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.y)||e.y===t.y;return i&&a}function Y3e(e,t){var n=e.endAngle===t.endAngle,r=e.startAngle===t.startAngle;return n&&r}function Q3e(e,t){var n=e.x===t.x,r=e.y===t.y,i=e.z===t.z;return n&&r&&i}function J3e(e,t){var n;return TN(e,t)?n=X3e:IN(e,t)?n=Y3e:j1(e,t)&&(n=Q3e),n}function eIe(e,t){var n;return TN(e,t)?n="trapezoids":IN(e,t)?n="sectors":j1(e,t)&&(n="points"),n}function tIe(e,t){if(TN(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(IN(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return j1(e,t)?t.payload:{}}function nIe(e){var t=e.activeTooltipItem,n=e.graphicalItem,r=e.itemData,i=eIe(n,t),a=tIe(n,t),o=r.filter(function(c,u){var f=Nh(a,c),h=n.props[i].filter(function(x){var v=J3e(n,t);return v(x,t)}),p=n.props[i].indexOf(h[h.length-1]),m=u===p;return f&&m}),l=r.indexOf(o[o.length-1]);return l}var T2;function zv(e){"@babel/helpers - typeof";return zv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zv(e)}function Eg(){return Eg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Eg.apply(this,arguments)}function e8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Kr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?e8(Object(n),!0).forEach(function(r){Rl(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):e8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function rIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t8(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,pY(r.key),r)}}function iIe(e,t,n){return t&&t8(e.prototype,t),n&&t8(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function aIe(e,t,n){return t=g5(t),sIe(e,hY()?Reflect.construct(t,n||[],g5(e).constructor):t.apply(e,n))}function sIe(e,t){if(t&&(zv(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oIe(e)}function oIe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hY=function(){return!!e})()}function g5(e){return g5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},g5(e)}function lIe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fO(e,t)}function fO(e,t){return fO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},fO(e,t)}function Rl(e,t,n){return t=pY(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pY(e){var t=cIe(e,"string");return zv(t)=="symbol"?t:t+""}function cIe(e,t){if(zv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(zv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ef=function(e){function t(n){var r;return rIe(this,t),r=aIe(this,t,[n]),Rl(r,"pieRef",null),Rl(r,"sectorRefs",[]),Rl(r,"id",Fh("recharts-pie-")),Rl(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),hn(i)&&i()}),Rl(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),hn(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return lIe(t,e),iIe(t,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.label,l=a.labelLine,c=a.dataKey,u=a.valueKey,f=Xt(this.props,!1),h=Xt(o,!1),p=Xt(l,!1),m=o&&o.offsetRadius||20,x=r.map(function(v,y){var b=(v.startAngle+v.endAngle)/2,w=Xr(v.cx,v.cy,v.outerRadius+m,b),j=Kr(Kr(Kr(Kr({},f),v),{},{stroke:"none"},h),{},{index:y,textAnchor:t.getTextAnchor(w.x,v.cx)},w),P=Kr(Kr(Kr(Kr({},f),v),{},{fill:"none",stroke:v.fill},p),{},{index:y,points:[Xr(v.cx,v.cy,v.outerRadius,b),w]}),A=c;return pn(c)&&pn(u)?A="value":pn(c)&&(A=u),ie.createElement(In,{key:"label-".concat(v.startAngle,"-").concat(v.endAngle,"-").concat(v.midAngle,"-").concat(y)},l&&t.renderLabelLineItem(l,P,"line"),t.renderLabelItem(o,j,oi(v,A)))});return ie.createElement(In,{className:"recharts-pie-labels"},x)}},{key:"renderSectorsStatically",value:function(r){var i=this,a=this.props,o=a.activeShape,l=a.blendStroke,c=a.inactiveShape;return r.map(function(u,f){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&r.length!==1)return null;var h=i.isActiveIndex(f),p=c&&i.hasActiveIndex()?c:null,m=h?o:p,x=Kr(Kr({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return ie.createElement(In,Eg({ref:function(y){y&&!i.sectorRefs.includes(y)&&i.sectorRefs.push(y)},tabIndex:-1,className:"recharts-pie-sector"},jh(i.props,u,f),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(f)}),ie.createElement(m5,Eg({option:m,isActive:h,shapeType:"sector"},x)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,a=i.sectors,o=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,u=i.animationEasing,f=i.animationId,h=this.state,p=h.prevSectors,m=h.prevIsAnimationActive;return ie.createElement(Xl,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(f,"-").concat(m),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(x){var v=x.t,y=[],b=a&&a[0],w=b.startAngle;return a.forEach(function(j,P){var A=p&&p[P],E=P>0?sl(j,"paddingAngle",0):0;if(A){var O=Si(A.endAngle-A.startAngle,j.endAngle-j.startAngle),I=Kr(Kr({},j),{},{startAngle:w+E,endAngle:w+O(v)+E});y.push(I),w=I.endAngle}else{var D=j.endAngle,z=j.startAngle,T=Si(0,D-z),k=T(v),F=Kr(Kr({},j),{},{startAngle:w+E,endAngle:w+k+E});y.push(F),w=F.endAngle}}),ie.createElement(In,null,r.renderSectorsStatically(y))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var o=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[l].focus(),i.setState({sectorToFocus:l});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,a=r.isAnimationActive,o=this.state.prevSectors;return a&&i&&i.length&&(!o||!Nh(o,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,a=i.hide,o=i.sectors,l=i.className,c=i.label,u=i.cx,f=i.cy,h=i.innerRadius,p=i.outerRadius,m=i.isAnimationActive,x=this.state.isAnimationFinished;if(a||!o||!o.length||!pt(u)||!pt(f)||!pt(h)||!pt(p))return null;var v=Pn("recharts-pie",l);return ie.createElement(In,{tabIndex:this.props.rootTabIndex,className:v,ref:function(b){r.pieRef=b}},this.renderSectors(),c&&this.renderLabels(o),La.renderCallByParent(this.props,null,!1),(!m||x)&&Rc.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,a){if(ie.isValidElement(r))return ie.cloneElement(r,i);if(hn(r))return r(i);var o=Pn("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return ie.createElement(dh,Eg({},i,{key:a,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(r,i,a){if(ie.isValidElement(r))return ie.cloneElement(r,i);var o=a;if(hn(r)&&(o=r(i),ie.isValidElement(o)))return o;var l=Pn("recharts-pie-label-text",typeof r!="boolean"&&!hn(r)?r.className:"");return ie.createElement(om,Eg({},i,{alignmentBaseline:"middle",className:l}),o)}}])}(N.PureComponent);T2=ef;Rl(ef,"displayName","Pie");Rl(ef,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Wl.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Rl(ef,"parseDeltaAngle",function(e,t){var n=Ws(t-e),r=Math.min(Math.abs(t-e),360);return n*r});Rl(ef,"getRealPieData",function(e){var t=e.data,n=e.children,r=Xt(e,!1),i=Xs(n,wb);return t&&t.length?t.map(function(a,o){return Kr(Kr(Kr({payload:a},r),a),i&&i[o]&&i[o].props)}):i&&i.length?i.map(function(a){return Kr(Kr({},r),a.props)}):[]});Rl(ef,"parseCoordinateOfPie",function(e,t){var n=t.top,r=t.left,i=t.width,a=t.height,o=KX(i,a),l=r+Hs(e.cx,i,i/2),c=n+Hs(e.cy,a,a/2),u=Hs(e.innerRadius,o,0),f=Hs(e.outerRadius,o,o*.8),h=e.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:f,maxRadius:h}});Rl(ef,"getComposedData",function(e){var t=e.item,n=e.offset,r=t.type.defaultProps!==void 0?Kr(Kr({},t.type.defaultProps),t.props):t.props,i=T2.getRealPieData(r);if(!i||!i.length)return null;var a=r.cornerRadius,o=r.startAngle,l=r.endAngle,c=r.paddingAngle,u=r.dataKey,f=r.nameKey,h=r.valueKey,p=r.tooltipType,m=Math.abs(r.minAngle),x=T2.parseCoordinateOfPie(r,n),v=T2.parseDeltaAngle(o,l),y=Math.abs(v),b=u;pn(u)&&pn(h)?(Dc(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b="value"):pn(u)&&(Dc(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b=h);var w=i.filter(function(I){return oi(I,b,0)!==0}).length,j=(y>=360?w:w-1)*c,P=y-w*m-j,A=i.reduce(function(I,D){var z=oi(D,b,0);return I+(pt(z)?z:0)},0),E;if(A>0){var O;E=i.map(function(I,D){var z=oi(I,b,0),T=oi(I,f,D),k=(pt(z)?z:0)/A,F;D?F=O.endAngle+Ws(v)*c*(z!==0?1:0):F=o;var B=F+Ws(v)*((z!==0?m:0)+k*P),H=(F+B)/2,X=(x.innerRadius+x.outerRadius)/2,ae=[{name:T,value:z,payload:I,dataKey:b,type:p}],W=Xr(x.cx,x.cy,X,H);return O=Kr(Kr(Kr({percent:k,cornerRadius:a,name:T,tooltipPayload:ae,midAngle:H,middleRadius:X,tooltipPosition:W},I),x),{},{value:oi(I,b),startAngle:F,endAngle:B,payload:I,paddingAngle:Ws(v)*c}),O})}return Kr(Kr({},x),{},{sectors:E,data:i})});var uIe=Math.ceil,dIe=Math.max;function fIe(e,t,n,r){for(var i=-1,a=dIe(uIe((t-e)/(n||1)),0),o=Array(a);a--;)o[r?a:++i]=e,e+=n;return o}var hIe=fIe,pIe=LZ,n8=1/0,mIe=17976931348623157e292;function gIe(e){if(!e)return e===0?e:0;if(e=pIe(e),e===n8||e===-n8){var t=e<0?-1:1;return t*mIe}return e===e?e:0}var mY=gIe,vIe=hIe,yIe=vN,zA=mY;function xIe(e){return function(t,n,r){return r&&typeof r!="number"&&yIe(t,n,r)&&(n=r=void 0),t=zA(t),n===void 0?(n=t,t=0):n=zA(n),r=r===void 0?t<n?1:-1:zA(r),vIe(t,n,r,e)}}var bIe=xIe,wIe=bIe,_Ie=wIe(),jIe=_Ie;const v5=jr(jIe);function N1(e){"@babel/helpers - typeof";return N1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},N1(e)}function r8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function i8(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?r8(Object(n),!0).forEach(function(r){gY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gY(e,t,n){return t=NIe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function NIe(e){var t=SIe(e,"string");return N1(t)=="symbol"?t:t+""}function SIe(e,t){if(N1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(N1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var AIe=["Webkit","Moz","O","ms"],PIe=function(t,n){var r=t.replace(/(\w)/,function(a){return a.toUpperCase()}),i=AIe.reduce(function(a,o){return i8(i8({},a),{},gY({},o+r,n))},{});return i[t]=n,i};function Uv(e){"@babel/helpers - typeof";return Uv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uv(e)}function y5(){return y5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},y5.apply(this,arguments)}function a8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function UA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?a8(Object(n),!0).forEach(function(r){qo(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function CIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s8(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,yY(r.key),r)}}function EIe(e,t,n){return t&&s8(e.prototype,t),n&&s8(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function OIe(e,t,n){return t=x5(t),kIe(e,vY()?Reflect.construct(t,n||[],x5(e).constructor):t.apply(e,n))}function kIe(e,t){if(t&&(Uv(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TIe(e)}function TIe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vY=function(){return!!e})()}function x5(e){return x5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},x5(e)}function IIe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hO(e,t)}function hO(e,t){return hO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},hO(e,t)}function qo(e,t,n){return t=yY(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yY(e){var t=LIe(e,"string");return Uv(t)=="symbol"?t:t+""}function LIe(e,t){if(Uv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Uv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var MIe=function(t){var n=t.data,r=t.startIndex,i=t.endIndex,a=t.x,o=t.width,l=t.travellerWidth;if(!n||!n.length)return{};var c=n.length,u=tx().domain(v5(0,c)).range([a,a+o-l]),f=u.domain().map(function(h){return u(h)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:f}},o8=function(t){return t.changedTouches&&!!t.changedTouches.length},qv=function(e){function t(n){var r;return CIe(this,t),r=OIe(this,t,[n]),qo(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),qo(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),qo(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,a=i.endIndex,o=i.onDragEnd,l=i.startIndex;o==null||o({endIndex:a,startIndex:l})}),r.detachDragEndListener()}),qo(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),qo(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),qo(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),qo(r,"handleSlideDragStart",function(i){var a=o8(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return IIe(t,e),EIe(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,a=r.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,f=u.length-1,h=Math.min(i,a),p=Math.max(i,a),m=t.getIndexInRange(o,h),x=t.getIndexInRange(o,p);return{startIndex:m-m%c,endIndex:x===f?f:x-x%c}}},{key:"getTextOfTick",value:function(r){var i=this.props,a=i.data,o=i.tickFormatter,l=i.dataKey,c=oi(a[r],l,r);return hn(o)?o(c,r):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,a=i.slideMoveStartX,o=i.startX,l=i.endX,c=this.props,u=c.x,f=c.width,h=c.travellerWidth,p=c.startIndex,m=c.endIndex,x=c.onChange,v=r.pageX-a;v>0?v=Math.min(v,u+f-h-l,u+f-h-o):v<0&&(v=Math.max(v,u-o,u-l));var y=this.getIndex({startX:o+v,endX:l+v});(y.startIndex!==p||y.endIndex!==m)&&x&&x(y),this.setState({startX:o+v,endX:l+v,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var a=o8(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,a=i.brushMoveStartX,o=i.movingTravellerId,l=i.endX,c=i.startX,u=this.state[o],f=this.props,h=f.x,p=f.width,m=f.travellerWidth,x=f.onChange,v=f.gap,y=f.data,b={startX:this.state.startX,endX:this.state.endX},w=r.pageX-a;w>0?w=Math.min(w,h+p-m-u):w<0&&(w=Math.max(w,h-u)),b[o]=u+w;var j=this.getIndex(b),P=j.startIndex,A=j.endIndex,E=function(){var I=y.length-1;return o==="startX"&&(l>c?P%v===0:A%v===0)||l<c&&A===I||o==="endX"&&(l>c?A%v===0:P%v===0)||l>c&&A===I};this.setState(qo(qo({},o,u+w),"brushMoveStartX",r.pageX),function(){x&&E()&&x(j)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var a=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,f=this.state[i],h=l.indexOf(f);if(h!==-1){var p=h+r;if(!(p===-1||p>=l.length)){var m=l[p];i==="startX"&&m>=u||i==="endX"&&m<=c||this.setState(qo({},i,m),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,l=r.height,c=r.fill,u=r.stroke;return ie.createElement("rect",{stroke:u,fill:c,x:i,y:a,width:o,height:l})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,l=r.height,c=r.data,u=r.children,f=r.padding,h=N.Children.only(u);return h?ie.cloneElement(h,{x:i,y:a,width:o,height:l,margin:f,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(r,i){var a,o,l=this,c=this.props,u=c.y,f=c.travellerWidth,h=c.height,p=c.traveller,m=c.ariaLabel,x=c.data,v=c.startIndex,y=c.endIndex,b=Math.max(r,this.props.x),w=UA(UA({},Xt(this.props,!1)),{},{x:b,y:u,width:f,height:h}),j=m||"Min value: ".concat((a=x[v])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=x[y])===null||o===void 0?void 0:o.name);return ie.createElement(In,{tabIndex:0,role:"slider","aria-label":j,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(A){["ArrowLeft","ArrowRight"].includes(A.key)&&(A.preventDefault(),A.stopPropagation(),l.handleTravellerMoveKeyboard(A.key==="ArrowRight"?1:-1,i))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(p,w))}},{key:"renderSlide",value:function(r,i){var a=this.props,o=a.y,l=a.height,c=a.stroke,u=a.travellerWidth,f=Math.min(r,i)+u,h=Math.max(Math.abs(i-r)-u,0);return ie.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:f,y:o,width:h,height:l})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,a=r.endIndex,o=r.y,l=r.height,c=r.travellerWidth,u=r.stroke,f=this.state,h=f.startX,p=f.endX,m=5,x={pointerEvents:"none",fill:u};return ie.createElement(In,{className:"recharts-brush-texts"},ie.createElement(om,y5({textAnchor:"end",verticalAnchor:"middle",x:Math.min(h,p)-m,y:o+l/2},x),this.getTextOfTick(i)),ie.createElement(om,y5({textAnchor:"start",verticalAnchor:"middle",x:Math.max(h,p)+c+m,y:o+l/2},x),this.getTextOfTick(a)))}},{key:"render",value:function(){var r=this.props,i=r.data,a=r.className,o=r.children,l=r.x,c=r.y,u=r.width,f=r.height,h=r.alwaysShowText,p=this.state,m=p.startX,x=p.endX,v=p.isTextActive,y=p.isSlideMoving,b=p.isTravellerMoving,w=p.isTravellerFocused;if(!i||!i.length||!pt(l)||!pt(c)||!pt(u)||!pt(f)||u<=0||f<=0)return null;var j=Pn("recharts-brush",a),P=ie.Children.count(o)===1,A=PIe("userSelect","none");return ie.createElement(In,{className:j,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:A},this.renderBackground(),P&&this.renderPanorama(),this.renderSlide(m,x),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(x,"endX"),(v||y||b||w||h)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,a=r.y,o=r.width,l=r.height,c=r.stroke,u=Math.floor(a+l/2)-1;return ie.createElement(ie.Fragment,null,ie.createElement("rect",{x:i,y:a,width:o,height:l,fill:c,stroke:"none"}),ie.createElement("line",{x1:i+1,y1:u,x2:i+o-1,y2:u,fill:"none",stroke:"#fff"}),ie.createElement("line",{x1:i+1,y1:u+2,x2:i+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var a;return ie.isValidElement(r)?a=ie.cloneElement(r,i):hn(r)?a=r(i):a=t.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(r,i){var a=r.data,o=r.width,l=r.x,c=r.travellerWidth,u=r.updateId,f=r.startIndex,h=r.endIndex;if(a!==i.prevData||u!==i.prevUpdateId)return UA({prevData:a,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},a&&a.length?MIe({data:a,width:o,x:l,travellerWidth:c,startIndex:f,endIndex:h}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||l!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([l,l+o-c]);var p=i.scale.domain().map(function(m){return i.scale(m)});return{prevData:a,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:p}}return null}},{key:"getIndexInRange",value:function(r,i){for(var a=r.length,o=0,l=a-1;l-o>1;){var c=Math.floor((o+l)/2);r[c]>i?l=c:o=c}return i>=r[l]?l:o}}])}(N.PureComponent);qo(qv,"displayName","Brush");qo(qv,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var DIe=FT;function RIe(e,t){var n;return DIe(e,function(r,i,a){return n=t(r,i,a),!n}),!!n}var $Ie=RIe,FIe=oZ,BIe=ed,zIe=$Ie,UIe=No,qIe=vN;function VIe(e,t,n){var r=UIe(e)?FIe:zIe;return n&&qIe(e,t,n)&&(t=void 0),r(e,BIe(t))}var WIe=VIe;const HIe=jr(WIe);var Bu=function(t,n){var r=t.alwaysShow,i=t.ifOverflow;return r&&(i="extendDomain"),i===n},l8=EZ;function KIe(e,t,n){t=="__proto__"&&l8?l8(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var GIe=KIe,ZIe=GIe,XIe=PZ,YIe=ed;function QIe(e,t){var n={};return t=YIe(t),XIe(e,function(r,i,a){ZIe(n,i,t(r,i,a))}),n}var JIe=QIe;const eLe=jr(JIe);function tLe(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}var nLe=tLe,rLe=FT;function iLe(e,t){var n=!0;return rLe(e,function(r,i,a){return n=!!t(r,i,a),n}),n}var aLe=iLe,sLe=nLe,oLe=aLe,lLe=ed,cLe=No,uLe=vN;function dLe(e,t,n){var r=cLe(e)?sLe:oLe;return n&&uLe(e,t,n)&&(t=void 0),r(e,lLe(t))}var fLe=dLe;const xY=jr(fLe);var hLe=["x","y"];function S1(e){"@babel/helpers - typeof";return S1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},S1(e)}function pO(){return pO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pO.apply(this,arguments)}function c8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function S0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?c8(Object(n),!0).forEach(function(r){pLe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pLe(e,t,n){return t=mLe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mLe(e){var t=gLe(e,"string");return S1(t)=="symbol"?t:t+""}function gLe(e,t){if(S1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(S1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vLe(e,t){if(e==null)return{};var n=yLe(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function yLe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function xLe(e,t){var n=e.x,r=e.y,i=vLe(e,hLe),a="".concat(n),o=parseInt(a,10),l="".concat(r),c=parseInt(l,10),u="".concat(t.height||i.height),f=parseInt(u,10),h="".concat(t.width||i.width),p=parseInt(h,10);return S0(S0(S0(S0(S0({},t),i),o?{x:o}:{}),c?{y:c}:{}),{},{height:f,width:p,name:t.name,radius:t.radius})}function u8(e){return ie.createElement(m5,pO({shapeType:"rectangle",propTransformer:xLe,activeClassName:"recharts-active-bar"},e))}var bLe=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof t=="number")return t;var a=typeof r=="number";return a?t(r,i):(a||cm(),n)}},wLe=["value","background"],bY;function Vv(e){"@babel/helpers - typeof";return Vv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vv(e)}function _Le(e,t){if(e==null)return{};var n=jLe(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function jLe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function b5(){return b5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},b5.apply(this,arguments)}function d8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function sa(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?d8(Object(n),!0).forEach(function(r){Xf(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function NLe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f8(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_Y(r.key),r)}}function SLe(e,t,n){return t&&f8(e.prototype,t),n&&f8(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ALe(e,t,n){return t=w5(t),PLe(e,wY()?Reflect.construct(t,n||[],w5(e).constructor):t.apply(e,n))}function PLe(e,t){if(t&&(Vv(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return CLe(e)}function CLe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wY=function(){return!!e})()}function w5(e){return w5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},w5(e)}function ELe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mO(e,t)}function mO(e,t){return mO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},mO(e,t)}function Xf(e,t,n){return t=_Y(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _Y(e){var t=OLe(e,"string");return Vv(t)=="symbol"?t:t+""}function OLe(e,t){if(Vv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Vv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Hl=function(e){function t(){var n;NLe(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=ALe(this,t,[].concat(i)),Xf(n,"state",{isAnimationFinished:!1}),Xf(n,"id",Fh("recharts-bar-")),Xf(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),Xf(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return ELe(t,e),SLe(t,[{key:"renderRectanglesStatically",value:function(r){var i=this,a=this.props,o=a.shape,l=a.dataKey,c=a.activeIndex,u=a.activeBar,f=Xt(this.props,!1);return r&&r.map(function(h,p){var m=p===c,x=m?u:o,v=sa(sa(sa({},f),h),{},{isActive:m,option:x,index:p,dataKey:l,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return ie.createElement(In,b5({className:"recharts-bar-rectangle"},jh(i.props,h,p),{key:"rectangle-".concat(h==null?void 0:h.x,"-").concat(h==null?void 0:h.y,"-").concat(h==null?void 0:h.value,"-").concat(p)}),ie.createElement(u8,v))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,a=i.data,o=i.layout,l=i.isAnimationActive,c=i.animationBegin,u=i.animationDuration,f=i.animationEasing,h=i.animationId,p=this.state.prevData;return ie.createElement(Xl,{begin:c,duration:u,isActive:l,easing:f,from:{t:0},to:{t:1},key:"bar-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var x=m.t,v=a.map(function(y,b){var w=p&&p[b];if(w){var j=Si(w.x,y.x),P=Si(w.y,y.y),A=Si(w.width,y.width),E=Si(w.height,y.height);return sa(sa({},y),{},{x:j(x),y:P(x),width:A(x),height:E(x)})}if(o==="horizontal"){var O=Si(0,y.height),I=O(x);return sa(sa({},y),{},{y:y.y+y.height-I,height:I})}var D=Si(0,y.width),z=D(x);return sa(sa({},y),{},{width:z})});return ie.createElement(In,null,r.renderRectanglesStatically(v))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,a=r.isAnimationActive,o=this.state.prevData;return a&&i&&i.length&&(!o||!Nh(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,a=i.data,o=i.dataKey,l=i.activeIndex,c=Xt(this.props.background,!1);return a.map(function(u,f){u.value;var h=u.background,p=_Le(u,wLe);if(!h)return null;var m=sa(sa(sa(sa(sa({},p),{},{fill:"#eee"},h),c),jh(r.props,u,f)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:o,index:f,className:"recharts-bar-background-rectangle"});return ie.createElement(u8,b5({key:"background-bar-".concat(f),option:r.props.background,isActive:f===l},m))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,l=a.xAxis,c=a.yAxis,u=a.layout,f=a.children,h=Xs(f,My);if(!h)return null;var p=u==="vertical"?o[0].height/2:o[0].width/2,m=function(y,b){var w=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:w,errorVal:oi(y,b)}},x={clipPath:r?"url(#clipPath-".concat(i,")"):null};return ie.createElement(In,x,h.map(function(v){return ie.cloneElement(v,{key:"error-bar-".concat(i,"-").concat(v.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:p,dataPointFormatter:m})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,a=r.data,o=r.className,l=r.xAxis,c=r.yAxis,u=r.left,f=r.top,h=r.width,p=r.height,m=r.isAnimationActive,x=r.background,v=r.id;if(i||!a||!a.length)return null;var y=this.state.isAnimationFinished,b=Pn("recharts-bar",o),w=l&&l.allowDataOverflow,j=c&&c.allowDataOverflow,P=w||j,A=pn(v)?this.id:v;return ie.createElement(In,{className:b},w||j?ie.createElement("defs",null,ie.createElement("clipPath",{id:"clipPath-".concat(A)},ie.createElement("rect",{x:w?u:u-h/2,y:j?f:f-p/2,width:w?h:h*2,height:j?p:p*2}))):null,ie.createElement(In,{className:"recharts-bar-rectangles",clipPath:P?"url(#clipPath-".concat(A,")"):null},x?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(P,A),(!m||y)&&Rc.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(N.PureComponent);bY=Hl;Xf(Hl,"displayName","Bar");Xf(Hl,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Wl.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Xf(Hl,"getComposedData",function(e){var t=e.props,n=e.item,r=e.barPosition,i=e.bandSize,a=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,f=e.dataStartIndex,h=e.displayedData,p=e.offset,m=uOe(r,n);if(!m)return null;var x=t.layout,v=n.type.defaultProps,y=v!==void 0?sa(sa({},v),n.props):n.props,b=y.dataKey,w=y.children,j=y.minPointSize,P=x==="horizontal"?o:a,A=u?P.scale.domain():null,E=vOe({numericAxis:P}),O=Xs(w,wb),I=h.map(function(D,z){var T,k,F,B,H,X;u?T=dOe(u[f+z],A):(T=oi(D,b),Array.isArray(T)||(T=[E,T]));var ae=bLe(j,bY.defaultProps.minPointSize)(T[1],z);if(x==="horizontal"){var W,te=[o.scale(T[0]),o.scale(T[1])],ue=te[0],ye=te[1];k=tR({axis:a,ticks:l,bandSize:i,offset:m.offset,entry:D,index:z}),F=(W=ye??ue)!==null&&W!==void 0?W:void 0,B=m.size;var V=ue-ye;if(H=Number.isNaN(V)?0:V,X={x:k,y:o.y,width:B,height:o.height},Math.abs(ae)>0&&Math.abs(H)<Math.abs(ae)){var ee=Ws(H||ae)*(Math.abs(ae)-Math.abs(H));F-=ee,H+=ee}}else{var Q=[a.scale(T[0]),a.scale(T[1])],de=Q[0],le=Q[1];if(k=de,F=tR({axis:o,ticks:c,bandSize:i,offset:m.offset,entry:D,index:z}),B=le-de,H=m.size,X={x:a.x,y:F,width:a.width,height:H},Math.abs(ae)>0&&Math.abs(B)<Math.abs(ae)){var ve=Ws(B||ae)*(Math.abs(ae)-Math.abs(B));B+=ve}}return sa(sa(sa({},D),{},{x:k,y:F,width:B,height:H,value:u?T:T[1],payload:D,background:X},O&&O[z]&&O[z].props),{},{tooltipPayload:[WX(n,D)],tooltipPosition:{x:k+B/2,y:F+H/2}})});return sa({data:I,layout:x},p)});function A1(e){"@babel/helpers - typeof";return A1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},A1(e)}function kLe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h8(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,jY(r.key),r)}}function TLe(e,t,n){return t&&h8(e.prototype,t),n&&h8(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function p8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Nc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?p8(Object(n),!0).forEach(function(r){LN(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function LN(e,t,n){return t=jY(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jY(e){var t=ILe(e,"string");return A1(t)=="symbol"?t:t+""}function ILe(e,t){if(A1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(A1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var MN=function(t,n,r,i,a){var o=t.width,l=t.height,c=t.layout,u=t.children,f=Object.keys(n),h={left:r.left,leftMirror:r.left,right:o-r.right,rightMirror:o-r.right,top:r.top,topMirror:r.top,bottom:l-r.bottom,bottomMirror:l-r.bottom},p=!!Ko(u,Hl);return f.reduce(function(m,x){var v=n[x],y=v.orientation,b=v.domain,w=v.padding,j=w===void 0?{}:w,P=v.mirror,A=v.reversed,E="".concat(y).concat(P?"Mirror":""),O,I,D,z,T;if(v.type==="number"&&(v.padding==="gap"||v.padding==="no-gap")){var k=b[1]-b[0],F=1/0,B=v.categoricalDomain.sort(Zye);if(B.forEach(function(Q,de){de>0&&(F=Math.min((Q||0)-(B[de-1]||0),F))}),Number.isFinite(F)){var H=F/k,X=v.layout==="vertical"?r.height:r.width;if(v.padding==="gap"&&(O=H*X/2),v.padding==="no-gap"){var ae=Hs(t.barCategoryGap,H*X),W=H*X/2;O=W-ae-(W-ae)/X*ae}}}i==="xAxis"?I=[r.left+(j.left||0)+(O||0),r.left+r.width-(j.right||0)-(O||0)]:i==="yAxis"?I=c==="horizontal"?[r.top+r.height-(j.bottom||0),r.top+(j.top||0)]:[r.top+(j.top||0)+(O||0),r.top+r.height-(j.bottom||0)-(O||0)]:I=v.range,A&&(I=[I[1],I[0]]);var te=zX(v,a,p),ue=te.scale,ye=te.realScaleType;ue.domain(b).range(I),UX(ue);var V=qX(ue,Nc(Nc({},v),{},{realScaleType:ye}));i==="xAxis"?(T=y==="top"&&!P||y==="bottom"&&P,D=r.left,z=h[E]-T*v.height):i==="yAxis"&&(T=y==="left"&&!P||y==="right"&&P,D=h[E]-T*v.width,z=r.top);var ee=Nc(Nc(Nc({},v),V),{},{realScaleType:ye,x:D,y:z,scale:ue,width:i==="xAxis"?r.width:v.width,height:i==="yAxis"?r.height:v.height});return ee.bandSize=i5(ee,V),!v.hide&&i==="xAxis"?h[E]+=(T?-1:1)*ee.height:v.hide||(h[E]+=(T?-1:1)*ee.width),Nc(Nc({},m),{},LN({},x,ee))},{})},NY=function(t,n){var r=t.x,i=t.y,a=n.x,o=n.y;return{x:Math.min(r,a),y:Math.min(i,o),width:Math.abs(a-r),height:Math.abs(o-i)}},LLe=function(t){var n=t.x1,r=t.y1,i=t.x2,a=t.y2;return NY({x:n,y:r},{x:i,y:a})},SY=function(){function e(t){kLe(this,e),this.scale=t}return TLe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,a=r.position;if(n!==void 0){if(a)switch(a){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(n)+l}default:return this.scale(n)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+c}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],a=r[r.length-1];return i<=a?n>=i&&n<=a:n>=a&&n<=i}}],[{key:"create",value:function(n){return new e(n)}}])}();LN(SY,"EPS",1e-4);var p3=function(t){var n=Object.keys(t).reduce(function(r,i){return Nc(Nc({},r),{},LN({},i,SY.create(t[i])))},{});return Nc(Nc({},n),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,l=a.position;return eLe(i,function(c,u){return n[u].apply(c,{bandAware:o,position:l})})},isInRange:function(i){return xY(i,function(a,o){return n[o].isInRange(a)})}})};function MLe(e){return(e%180+180)%180}var DLe=function(t){var n=t.width,r=t.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=MLe(i),o=a*Math.PI/180,l=Math.atan(r/n),c=o>l&&o<Math.PI-l?r/Math.sin(o):n/Math.cos(o);return Math.abs(c)},RLe=ed,$Le=bb,FLe=mN;function BLe(e){return function(t,n,r){var i=Object(t);if(!$Le(t)){var a=RLe(n);t=FLe(t),n=function(l){return a(i[l],l,i)}}var o=e(t,n,r);return o>-1?i[a?t[o]:o]:void 0}}var zLe=BLe,ULe=mY;function qLe(e){var t=ULe(e),n=t%1;return t===t?n?t-n:t:0}var VLe=qLe,WLe=wZ,HLe=ed,KLe=VLe,GLe=Math.max;function ZLe(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var i=n==null?0:KLe(n);return i<0&&(i=GLe(r+i,0)),WLe(e,HLe(t),i)}var XLe=ZLe,YLe=zLe,QLe=XLe,JLe=YLe(QLe),e6e=JLe;const t6e=jr(e6e);var n6e=Xve(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),m3=N.createContext(void 0),g3=N.createContext(void 0),AY=N.createContext(void 0),PY=N.createContext({}),CY=N.createContext(void 0),EY=N.createContext(0),OY=N.createContext(0),m8=function(t){var n=t.state,r=n.xAxisMap,i=n.yAxisMap,a=n.offset,o=t.clipPathId,l=t.children,c=t.width,u=t.height,f=n6e(a);return ie.createElement(m3.Provider,{value:r},ie.createElement(g3.Provider,{value:i},ie.createElement(PY.Provider,{value:a},ie.createElement(AY.Provider,{value:f},ie.createElement(CY.Provider,{value:o},ie.createElement(EY.Provider,{value:u},ie.createElement(OY.Provider,{value:c},l)))))))},r6e=function(){return N.useContext(CY)},kY=function(t){var n=N.useContext(m3);n==null&&cm();var r=n[t];return r==null&&cm(),r},i6e=function(){var t=N.useContext(m3);return Mf(t)},a6e=function(){var t=N.useContext(g3),n=t6e(t,function(r){return xY(r.domain,Number.isFinite)});return n||Mf(t)},TY=function(t){var n=N.useContext(g3);n==null&&cm();var r=n[t];return r==null&&cm(),r},s6e=function(){var t=N.useContext(AY);return t},o6e=function(){return N.useContext(PY)},v3=function(){return N.useContext(OY)},y3=function(){return N.useContext(EY)};function Wv(e){"@babel/helpers - typeof";return Wv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wv(e)}function l6e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c6e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,LY(r.key),r)}}function u6e(e,t,n){return t&&c6e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function d6e(e,t,n){return t=_5(t),f6e(e,IY()?Reflect.construct(t,n||[],_5(e).constructor):t.apply(e,n))}function f6e(e,t){if(t&&(Wv(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return h6e(e)}function h6e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function IY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IY=function(){return!!e})()}function _5(e){return _5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_5(e)}function p6e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gO(e,t)}function gO(e,t){return gO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},gO(e,t)}function g8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function v8(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?g8(Object(n),!0).forEach(function(r){x3(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function x3(e,t,n){return t=LY(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LY(e){var t=m6e(e,"string");return Wv(t)=="symbol"?t:t+""}function m6e(e,t){if(Wv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Wv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function g6e(e,t){return b6e(e)||x6e(e,t)||y6e(e,t)||v6e()}function v6e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y6e(e,t){if(e){if(typeof e=="string")return y8(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y8(e,t)}}function y8(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function x6e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function b6e(e){if(Array.isArray(e))return e}function vO(){return vO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vO.apply(this,arguments)}var w6e=function(t,n){var r;return ie.isValidElement(t)?r=ie.cloneElement(t,n):hn(t)?r=t(n):r=ie.createElement("line",vO({},n,{className:"recharts-reference-line-line"})),r},_6e=function(t,n,r,i,a,o,l,c,u){var f=a.x,h=a.y,p=a.width,m=a.height;if(r){var x=u.y,v=t.y.apply(x,{position:o});if(Bu(u,"discard")&&!t.y.isInRange(v))return null;var y=[{x:f+p,y:v},{x:f,y:v}];return c==="left"?y.reverse():y}if(n){var b=u.x,w=t.x.apply(b,{position:o});if(Bu(u,"discard")&&!t.x.isInRange(w))return null;var j=[{x:w,y:h+m},{x:w,y:h}];return l==="top"?j.reverse():j}if(i){var P=u.segment,A=P.map(function(E){return t.apply(E,{position:o})});return Bu(u,"discard")&&HIe(A,function(E){return!t.isInRange(E)})?null:A}return null};function j6e(e){var t=e.x,n=e.y,r=e.segment,i=e.xAxisId,a=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=r6e(),f=kY(i),h=TY(a),p=s6e();if(!u||!p)return null;Dc(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=p3({x:f.scale,y:h.scale}),x=Sa(t),v=Sa(n),y=r&&r.length===2,b=_6e(m,x,v,y,p,e.position,f.orientation,h.orientation,e);if(!b)return null;var w=g6e(b,2),j=w[0],P=j.x,A=j.y,E=w[1],O=E.x,I=E.y,D=Bu(e,"hidden")?"url(#".concat(u,")"):void 0,z=v8(v8({clipPath:D},Xt(e,!0)),{},{x1:P,y1:A,x2:O,y2:I});return ie.createElement(In,{className:Pn("recharts-reference-line",l)},w6e(o,z),La.renderCallByParent(e,LLe({x1:P,y1:A,x2:O,y2:I})))}var Dl=function(e){function t(){return l6e(this,t),d6e(this,t,arguments)}return p6e(t,e),u6e(t,[{key:"render",value:function(){return ie.createElement(j6e,this.props)}}])}(ie.Component);x3(Dl,"displayName","ReferenceLine");x3(Dl,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function yO(){return yO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yO.apply(this,arguments)}function Hv(e){"@babel/helpers - typeof";return Hv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hv(e)}function x8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function b8(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?x8(Object(n),!0).forEach(function(r){DN(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function N6e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S6e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,DY(r.key),r)}}function A6e(e,t,n){return t&&S6e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function P6e(e,t,n){return t=j5(t),C6e(e,MY()?Reflect.construct(t,n||[],j5(e).constructor):t.apply(e,n))}function C6e(e,t){if(t&&(Hv(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return E6e(e)}function E6e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function MY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MY=function(){return!!e})()}function j5(e){return j5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},j5(e)}function O6e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xO(e,t)}function xO(e,t){return xO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},xO(e,t)}function DN(e,t,n){return t=DY(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function DY(e){var t=k6e(e,"string");return Hv(t)=="symbol"?t:t+""}function k6e(e,t){if(Hv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Hv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var T6e=function(t){var n=t.x,r=t.y,i=t.xAxis,a=t.yAxis,o=p3({x:i.scale,y:a.scale}),l=o.apply({x:n,y:r},{bandAware:!0});return Bu(t,"discard")&&!o.isInRange(l)?null:l},RN=function(e){function t(){return N6e(this,t),P6e(this,t,arguments)}return O6e(t,e),A6e(t,[{key:"render",value:function(){var r=this.props,i=r.x,a=r.y,o=r.r,l=r.alwaysShow,c=r.clipPathId,u=Sa(i),f=Sa(a);if(Dc(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!f)return null;var h=T6e(this.props);if(!h)return null;var p=h.x,m=h.y,x=this.props,v=x.shape,y=x.className,b=Bu(this.props,"hidden")?"url(#".concat(c,")"):void 0,w=b8(b8({clipPath:b},Xt(this.props,!0)),{},{cx:p,cy:m});return ie.createElement(In,{className:Pn("recharts-reference-dot",y)},t.renderDot(v,w),La.renderCallByParent(this.props,{x:p-o,y:m-o,width:2*o,height:2*o}))}}])}(ie.Component);DN(RN,"displayName","ReferenceDot");DN(RN,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});DN(RN,"renderDot",function(e,t){var n;return ie.isValidElement(e)?n=ie.cloneElement(e,t):hn(e)?n=e(t):n=ie.createElement(Ab,yO({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),n});function bO(){return bO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bO.apply(this,arguments)}function Kv(e){"@babel/helpers - typeof";return Kv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kv(e)}function w8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _8(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?w8(Object(n),!0).forEach(function(r){$N(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function I6e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function L6e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,$Y(r.key),r)}}function M6e(e,t,n){return t&&L6e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function D6e(e,t,n){return t=N5(t),R6e(e,RY()?Reflect.construct(t,n||[],N5(e).constructor):t.apply(e,n))}function R6e(e,t){if(t&&(Kv(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $6e(e)}function $6e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function RY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RY=function(){return!!e})()}function N5(e){return N5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},N5(e)}function F6e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wO(e,t)}function wO(e,t){return wO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},wO(e,t)}function $N(e,t,n){return t=$Y(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $Y(e){var t=B6e(e,"string");return Kv(t)=="symbol"?t:t+""}function B6e(e,t){if(Kv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Kv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var z6e=function(t,n,r,i,a){var o=a.x1,l=a.x2,c=a.y1,u=a.y2,f=a.xAxis,h=a.yAxis;if(!f||!h)return null;var p=p3({x:f.scale,y:h.scale}),m={x:t?p.x.apply(o,{position:"start"}):p.x.rangeMin,y:r?p.y.apply(c,{position:"start"}):p.y.rangeMin},x={x:n?p.x.apply(l,{position:"end"}):p.x.rangeMax,y:i?p.y.apply(u,{position:"end"}):p.y.rangeMax};return Bu(a,"discard")&&(!p.isInRange(m)||!p.isInRange(x))?null:NY(m,x)},FN=function(e){function t(){return I6e(this,t),D6e(this,t,arguments)}return F6e(t,e),M6e(t,[{key:"render",value:function(){var r=this.props,i=r.x1,a=r.x2,o=r.y1,l=r.y2,c=r.className,u=r.alwaysShow,f=r.clipPathId;Dc(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=Sa(i),p=Sa(a),m=Sa(o),x=Sa(l),v=this.props.shape;if(!h&&!p&&!m&&!x&&!v)return null;var y=z6e(h,p,m,x,this.props);if(!y&&!v)return null;var b=Bu(this.props,"hidden")?"url(#".concat(f,")"):void 0;return ie.createElement(In,{className:Pn("recharts-reference-area",c)},t.renderRect(v,_8(_8({clipPath:b},Xt(this.props,!0)),y)),La.renderCallByParent(this.props,y))}}])}(ie.Component);$N(FN,"displayName","ReferenceArea");$N(FN,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});$N(FN,"renderRect",function(e,t){var n;return ie.isValidElement(e)?n=ie.cloneElement(e,t):hn(e)?n=e(t):n=ie.createElement(h3,bO({},t,{className:"recharts-reference-area-rect"})),n});function FY(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var r=[],i=0;i<e.length;i+=t)r.push(e[i]);return r}function U6e(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return DLe(r,n)}function q6e(e,t,n){var r=n==="width",i=e.x,a=e.y,o=e.width,l=e.height;return t===1?{start:r?i:a,end:r?i+o:a+l}:{start:r?i+o:a+l,end:r?i:a}}function S5(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var a=n();return e*(t-e*a/2-r)>=0&&e*(t+e*a/2-i)<=0}function V6e(e,t){return FY(e,t+1)}function W6e(e,t,n,r,i){for(var a=(r||[]).slice(),o=t.start,l=t.end,c=0,u=1,f=o,h=function(){var x=r==null?void 0:r[c];if(x===void 0)return{v:FY(r,u)};var v=c,y,b=function(){return y===void 0&&(y=n(x,v)),y},w=x.coordinate,j=c===0||S5(e,w,b,f,l);j||(c=0,f=o,u+=1),j&&(f=w+e*(b()/2+i),c+=u)},p;u<=a.length;)if(p=h(),p)return p.v;return[]}function P1(e){"@babel/helpers - typeof";return P1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},P1(e)}function j8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function bs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?j8(Object(n),!0).forEach(function(r){H6e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function H6e(e,t,n){return t=K6e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function K6e(e){var t=G6e(e,"string");return P1(t)=="symbol"?t:t+""}function G6e(e,t){if(P1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(P1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Z6e(e,t,n,r,i){for(var a=(r||[]).slice(),o=a.length,l=t.start,c=t.end,u=function(p){var m=a[p],x,v=function(){return x===void 0&&(x=n(m,p)),x};if(p===o-1){var y=e*(m.coordinate+e*v()/2-c);a[p]=m=bs(bs({},m),{},{tickCoord:y>0?m.coordinate-y*e:m.coordinate})}else a[p]=m=bs(bs({},m),{},{tickCoord:m.coordinate});var b=S5(e,m.tickCoord,v,l,c);b&&(c=m.tickCoord-e*(v()/2+i),a[p]=bs(bs({},m),{},{isShow:!0}))},f=o-1;f>=0;f--)u(f);return a}function X6e(e,t,n,r,i,a){var o=(r||[]).slice(),l=o.length,c=t.start,u=t.end;if(a){var f=r[l-1],h=n(f,l-1),p=e*(f.coordinate+e*h/2-u);o[l-1]=f=bs(bs({},f),{},{tickCoord:p>0?f.coordinate-p*e:f.coordinate});var m=S5(e,f.tickCoord,function(){return h},c,u);m&&(u=f.tickCoord-e*(h/2+i),o[l-1]=bs(bs({},f),{},{isShow:!0}))}for(var x=a?l-1:l,v=function(w){var j=o[w],P,A=function(){return P===void 0&&(P=n(j,w)),P};if(w===0){var E=e*(j.coordinate-e*A()/2-c);o[w]=j=bs(bs({},j),{},{tickCoord:E<0?j.coordinate-E*e:j.coordinate})}else o[w]=j=bs(bs({},j),{},{tickCoord:j.coordinate});var O=S5(e,j.tickCoord,A,c,u);O&&(c=j.tickCoord+e*(A()/2+i),o[w]=bs(bs({},j),{},{isShow:!0}))},y=0;y<x;y++)v(y);return o}function b3(e,t,n){var r=e.tick,i=e.ticks,a=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,f=e.unit,h=e.angle;if(!i||!i.length||!r)return[];if(pt(c)||Wl.isSsr)return V6e(i,typeof c=="number"&&pt(c)?c:0);var p=[],m=l==="top"||l==="bottom"?"width":"height",x=f&&m==="width"?ex(f,{fontSize:t,letterSpacing:n}):{width:0,height:0},v=function(j,P){var A=hn(u)?u(j.value,P):j.value;return m==="width"?U6e(ex(A,{fontSize:t,letterSpacing:n}),x,h):ex(A,{fontSize:t,letterSpacing:n})[m]},y=i.length>=2?Ws(i[1].coordinate-i[0].coordinate):1,b=q6e(a,y,m);return c==="equidistantPreserveStart"?W6e(y,b,v,i,o):(c==="preserveStart"||c==="preserveStartEnd"?p=X6e(y,b,v,i,o,c==="preserveStartEnd"):p=Z6e(y,b,v,i,o),p.filter(function(w){return w.isShow}))}var Y6e=["viewBox"],Q6e=["viewBox"],J6e=["ticks"];function Gv(e){"@babel/helpers - typeof";return Gv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gv(e)}function Og(){return Og=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Og.apply(this,arguments)}function N8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ds(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?N8(Object(n),!0).forEach(function(r){w3(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qA(e,t){if(e==null)return{};var n=eMe(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function eMe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function tMe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S8(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,zY(r.key),r)}}function nMe(e,t,n){return t&&S8(e.prototype,t),n&&S8(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function rMe(e,t,n){return t=A5(t),iMe(e,BY()?Reflect.construct(t,n||[],A5(e).constructor):t.apply(e,n))}function iMe(e,t){if(t&&(Gv(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aMe(e)}function aMe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function BY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BY=function(){return!!e})()}function A5(e){return A5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},A5(e)}function sMe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_O(e,t)}function _O(e,t){return _O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},_O(e,t)}function w3(e,t,n){return t=zY(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zY(e){var t=oMe(e,"string");return Gv(t)=="symbol"?t:t+""}function oMe(e,t){if(Gv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Gv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Dy=function(e){function t(n){var r;return tMe(this,t),r=rMe(this,t,[n]),r.state={fontSize:"",letterSpacing:""},r}return sMe(t,e),nMe(t,[{key:"shouldComponentUpdate",value:function(r,i){var a=r.viewBox,o=qA(r,Y6e),l=this.props,c=l.viewBox,u=qA(l,Q6e);return!Vg(a,c)||!Vg(o,u)||!Vg(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.x,o=i.y,l=i.width,c=i.height,u=i.orientation,f=i.tickSize,h=i.mirror,p=i.tickMargin,m,x,v,y,b,w,j=h?-1:1,P=r.tickSize||f,A=pt(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":m=x=r.coordinate,y=o+ +!h*c,v=y-j*P,w=v-j*p,b=A;break;case"left":v=y=r.coordinate,x=a+ +!h*l,m=x-j*P,b=m-j*p,w=A;break;case"right":v=y=r.coordinate,x=a+ +h*l,m=x+j*P,b=m+j*p,w=A;break;default:m=x=r.coordinate,y=o+ +h*c,v=y+j*P,w=v+j*p,b=A;break}return{line:{x1:m,y1:v,x2:x,y2:y},tick:{x:b,y:w}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,o;switch(i){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,l=r.height,c=r.orientation,u=r.mirror,f=r.axisLine,h=Ds(Ds(Ds({},Xt(this.props,!1)),Xt(f,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var p=+(c==="top"&&!u||c==="bottom"&&u);h=Ds(Ds({},h),{},{x1:i,y1:a+p*l,x2:i+o,y2:a+p*l})}else{var m=+(c==="left"&&!u||c==="right"&&u);h=Ds(Ds({},h),{},{x1:i+m*o,y1:a,x2:i+m*o,y2:a+l})}return ie.createElement("line",Og({},h,{className:Pn("recharts-cartesian-axis-line",sl(f,"className"))}))}},{key:"renderTicks",value:function(r,i,a){var o=this,l=this.props,c=l.tickLine,u=l.stroke,f=l.tick,h=l.tickFormatter,p=l.unit,m=b3(Ds(Ds({},this.props),{},{ticks:r}),i,a),x=this.getTickTextAnchor(),v=this.getTickVerticalAnchor(),y=Xt(this.props,!1),b=Xt(f,!1),w=Ds(Ds({},y),{},{fill:"none"},Xt(c,!1)),j=m.map(function(P,A){var E=o.getTickLineCoord(P),O=E.line,I=E.tick,D=Ds(Ds(Ds(Ds({textAnchor:x,verticalAnchor:v},y),{},{stroke:"none",fill:u},b),I),{},{index:A,payload:P,visibleTicksCount:m.length,tickFormatter:h});return ie.createElement(In,Og({className:"recharts-cartesian-axis-tick",key:"tick-".concat(P.value,"-").concat(P.coordinate,"-").concat(P.tickCoord)},jh(o.props,P,A)),c&&ie.createElement("line",Og({},w,O,{className:Pn("recharts-cartesian-axis-tick-line",sl(c,"className"))})),f&&t.renderTickItem(f,D,"".concat(hn(h)?h(P.value,A):P.value).concat(p||"")))});return ie.createElement("g",{className:"recharts-cartesian-axis-ticks"},j)}},{key:"render",value:function(){var r=this,i=this.props,a=i.axisLine,o=i.width,l=i.height,c=i.ticksGenerator,u=i.className,f=i.hide;if(f)return null;var h=this.props,p=h.ticks,m=qA(h,J6e),x=p;return hn(c)&&(x=p&&p.length>0?c(this.props):c(m)),o<=0||l<=0||!x||!x.length?null:ie.createElement(In,{className:Pn("recharts-cartesian-axis",u),ref:function(y){r.layerReference=y}},a&&this.renderAxisLine(),this.renderTicks(x,this.state.fontSize,this.state.letterSpacing),La.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,a){var o;return ie.isValidElement(r)?o=ie.cloneElement(r,i):hn(r)?o=r(i):o=ie.createElement(om,Og({},i,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])}(N.Component);w3(Dy,"displayName","CartesianAxis");w3(Dy,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var lMe=["x1","y1","x2","y2","key"],cMe=["offset"];function um(e){"@babel/helpers - typeof";return um=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},um(e)}function A8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _s(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?A8(Object(n),!0).forEach(function(r){uMe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uMe(e,t,n){return t=dMe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dMe(e){var t=fMe(e,"string");return um(t)=="symbol"?t:t+""}function fMe(e,t){if(um(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(um(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Cp(){return Cp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Cp.apply(this,arguments)}function P8(e,t){if(e==null)return{};var n=hMe(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function hMe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var pMe=function(t){var n=t.fill;if(!n||n==="none")return null;var r=t.fillOpacity,i=t.x,a=t.y,o=t.width,l=t.height,c=t.ry;return ie.createElement("rect",{x:i,y:a,ry:c,width:o,height:l,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function UY(e,t){var n;if(ie.isValidElement(e))n=ie.cloneElement(e,t);else if(hn(e))n=e(t);else{var r=t.x1,i=t.y1,a=t.x2,o=t.y2,l=t.key,c=P8(t,lMe),u=Xt(c,!1);u.offset;var f=P8(u,cMe);n=ie.createElement("line",Cp({},f,{x1:r,y1:i,x2:a,y2:o,fill:"none",key:l}))}return n}function mMe(e){var t=e.x,n=e.width,r=e.horizontal,i=r===void 0?!0:r,a=e.horizontalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(l,c){var u=_s(_s({},e),{},{x1:t,y1:l,x2:t+n,y2:l,key:"line-".concat(c),index:c});return UY(i,u)});return ie.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function gMe(e){var t=e.y,n=e.height,r=e.vertical,i=r===void 0?!0:r,a=e.verticalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(l,c){var u=_s(_s({},e),{},{x1:l,y1:t,x2:l,y2:t+n,key:"line-".concat(c),index:c});return UY(i,u)});return ie.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function vMe(e){var t=e.horizontalFill,n=e.fillOpacity,r=e.x,i=e.y,a=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var f=l.map(function(p){return Math.round(p+i-i)}).sort(function(p,m){return p-m});i!==f[0]&&f.unshift(0);var h=f.map(function(p,m){var x=!f[m+1],v=x?i+o-p:f[m+1]-p;if(v<=0)return null;var y=m%t.length;return ie.createElement("rect",{key:"react-".concat(m),y:p,x:r,height:v,width:a,stroke:"none",fill:t[y],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return ie.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function yMe(e){var t=e.vertical,n=t===void 0?!0:t,r=e.verticalFill,i=e.fillOpacity,a=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!n||!r||!r.length)return null;var f=u.map(function(p){return Math.round(p+a-a)}).sort(function(p,m){return p-m});a!==f[0]&&f.unshift(0);var h=f.map(function(p,m){var x=!f[m+1],v=x?a+l-p:f[m+1]-p;if(v<=0)return null;var y=m%r.length;return ie.createElement("rect",{key:"react-".concat(m),x:p,y:o,width:v,height:c,stroke:"none",fill:r[y],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return ie.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var xMe=function(t,n){var r=t.xAxis,i=t.width,a=t.height,o=t.offset;return BX(b3(_s(_s(_s({},Dy.defaultProps),r),{},{ticks:kd(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.left,o.left+o.width,n)},bMe=function(t,n){var r=t.yAxis,i=t.width,a=t.height,o=t.offset;return BX(b3(_s(_s(_s({},Dy.defaultProps),r),{},{ticks:kd(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.top,o.top+o.height,n)},Xm={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function tl(e){var t,n,r,i,a,o,l=v3(),c=y3(),u=o6e(),f=_s(_s({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Xm.stroke,fill:(n=e.fill)!==null&&n!==void 0?n:Xm.fill,horizontal:(r=e.horizontal)!==null&&r!==void 0?r:Xm.horizontal,horizontalFill:(i=e.horizontalFill)!==null&&i!==void 0?i:Xm.horizontalFill,vertical:(a=e.vertical)!==null&&a!==void 0?a:Xm.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:Xm.verticalFill,x:pt(e.x)?e.x:u.left,y:pt(e.y)?e.y:u.top,width:pt(e.width)?e.width:u.width,height:pt(e.height)?e.height:u.height}),h=f.x,p=f.y,m=f.width,x=f.height,v=f.syncWithTicks,y=f.horizontalValues,b=f.verticalValues,w=i6e(),j=a6e();if(!pt(m)||m<=0||!pt(x)||x<=0||!pt(h)||h!==+h||!pt(p)||p!==+p)return null;var P=f.verticalCoordinatesGenerator||xMe,A=f.horizontalCoordinatesGenerator||bMe,E=f.horizontalPoints,O=f.verticalPoints;if((!E||!E.length)&&hn(A)){var I=y&&y.length,D=A({yAxis:j?_s(_s({},j),{},{ticks:I?y:j.ticks}):void 0,width:l,height:c,offset:u},I?!0:v);Dc(Array.isArray(D),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(um(D),"]")),Array.isArray(D)&&(E=D)}if((!O||!O.length)&&hn(P)){var z=b&&b.length,T=P({xAxis:w?_s(_s({},w),{},{ticks:z?b:w.ticks}):void 0,width:l,height:c,offset:u},z?!0:v);Dc(Array.isArray(T),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(um(T),"]")),Array.isArray(T)&&(O=T)}return ie.createElement("g",{className:"recharts-cartesian-grid"},ie.createElement(pMe,{fill:f.fill,fillOpacity:f.fillOpacity,x:f.x,y:f.y,width:f.width,height:f.height,ry:f.ry}),ie.createElement(mMe,Cp({},f,{offset:u,horizontalPoints:E,xAxis:w,yAxis:j})),ie.createElement(gMe,Cp({},f,{offset:u,verticalPoints:O,xAxis:w,yAxis:j})),ie.createElement(vMe,Cp({},f,{horizontalPoints:E})),ie.createElement(yMe,Cp({},f,{verticalPoints:O})))}tl.displayName="CartesianGrid";var wMe=["type","layout","connectNulls","ref"],_Me=["key"];function Zv(e){"@babel/helpers - typeof";return Zv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zv(e)}function C8(e,t){if(e==null)return{};var n=jMe(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function jMe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function sx(){return sx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sx.apply(this,arguments)}function E8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Uo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?E8(Object(n),!0).forEach(function(r){Sc(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ym(e){return PMe(e)||AMe(e)||SMe(e)||NMe()}function NMe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SMe(e,t){if(e){if(typeof e=="string")return jO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jO(e,t)}}function AMe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function PMe(e){if(Array.isArray(e))return jO(e)}function jO(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function CMe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O8(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,VY(r.key),r)}}function EMe(e,t,n){return t&&O8(e.prototype,t),n&&O8(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function OMe(e,t,n){return t=P5(t),kMe(e,qY()?Reflect.construct(t,n||[],P5(e).constructor):t.apply(e,n))}function kMe(e,t){if(t&&(Zv(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TMe(e)}function TMe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qY=function(){return!!e})()}function P5(e){return P5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},P5(e)}function IMe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&NO(e,t)}function NO(e,t){return NO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},NO(e,t)}function Sc(e,t,n){return t=VY(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VY(e){var t=LMe(e,"string");return Zv(t)=="symbol"?t:t+""}function LMe(e,t){if(Zv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Zv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ii=function(e){function t(){var n;CMe(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=OMe(this,t,[].concat(i)),Sc(n,"state",{isAnimationFinished:!0,totalLength:0}),Sc(n,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),Sc(n,"getStrokeDasharray",function(o,l,c){var u=c.reduce(function(b,w){return b+w});if(!u)return n.generateSimpleStrokeDasharray(l,o);for(var f=Math.floor(o/u),h=o%u,p=l-o,m=[],x=0,v=0;x<c.length;v+=c[x],++x)if(v+c[x]>h){m=[].concat(Ym(c.slice(0,x)),[h-v]);break}var y=m.length%2===0?[0,p]:[p];return[].concat(Ym(t.repeat(c,f)),Ym(m),y).map(function(b){return"".concat(b,"px")}).join(", ")}),Sc(n,"id",Fh("recharts-line-")),Sc(n,"pathRef",function(o){n.mainCurve=o}),Sc(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),Sc(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return IMe(t,e),EMe(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.points,l=a.xAxis,c=a.yAxis,u=a.layout,f=a.children,h=Xs(f,My);if(!h)return null;var p=function(v,y){return{x:v.x,y:v.y,value:v.value,errorVal:oi(v.payload,y)}},m={clipPath:r?"url(#clipPath-".concat(i,")"):null};return ie.createElement(In,m,h.map(function(x){return ie.cloneElement(x,{key:"bar-".concat(x.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,dataPointFormatter:p})}))}},{key:"renderDots",value:function(r,i,a){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,f=l.dataKey,h=Xt(this.props,!1),p=Xt(c,!0),m=u.map(function(v,y){var b=Uo(Uo(Uo({key:"dot-".concat(y),r:3},h),p),{},{index:y,cx:v.x,cy:v.y,value:v.value,dataKey:f,payload:v.payload,points:u});return t.renderDotItem(c,b)}),x={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return ie.createElement(In,sx({className:"recharts-line-dots",key:"dots"},x),m)}},{key:"renderCurveStatically",value:function(r,i,a,o){var l=this.props,c=l.type,u=l.layout,f=l.connectNulls;l.ref;var h=C8(l,wMe),p=Uo(Uo(Uo({},Xt(h,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:r},o),{},{type:c,layout:u,connectNulls:f});return ie.createElement(dh,sx({},p,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var a=this,o=this.props,l=o.points,c=o.strokeDasharray,u=o.isAnimationActive,f=o.animationBegin,h=o.animationDuration,p=o.animationEasing,m=o.animationId,x=o.animateNewValues,v=o.width,y=o.height,b=this.state,w=b.prevPoints,j=b.totalLength;return ie.createElement(Xl,{begin:f,duration:h,isActive:u,easing:p,from:{t:0},to:{t:1},key:"line-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(P){var A=P.t;if(w){var E=w.length/l.length,O=l.map(function(k,F){var B=Math.floor(F*E);if(w[B]){var H=w[B],X=Si(H.x,k.x),ae=Si(H.y,k.y);return Uo(Uo({},k),{},{x:X(A),y:ae(A)})}if(x){var W=Si(v*2,k.x),te=Si(y/2,k.y);return Uo(Uo({},k),{},{x:W(A),y:te(A)})}return Uo(Uo({},k),{},{x:k.x,y:k.y})});return a.renderCurveStatically(O,r,i)}var I=Si(0,j),D=I(A),z;if(c){var T="".concat(c).split(/[,\s]+/gim).map(function(k){return parseFloat(k)});z=a.getStrokeDasharray(D,j,T)}else z=a.generateSimpleStrokeDasharray(j,D);return a.renderCurveStatically(l,r,i,{strokeDasharray:z})})}},{key:"renderCurve",value:function(r,i){var a=this.props,o=a.points,l=a.isAnimationActive,c=this.state,u=c.prevPoints,f=c.totalLength;return l&&o&&o.length&&(!u&&f>0||!Nh(u,o))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(o,r,i)}},{key:"render",value:function(){var r,i=this.props,a=i.hide,o=i.dot,l=i.points,c=i.className,u=i.xAxis,f=i.yAxis,h=i.top,p=i.left,m=i.width,x=i.height,v=i.isAnimationActive,y=i.id;if(a||!l||!l.length)return null;var b=this.state.isAnimationFinished,w=l.length===1,j=Pn("recharts-line",c),P=u&&u.allowDataOverflow,A=f&&f.allowDataOverflow,E=P||A,O=pn(y)?this.id:y,I=(r=Xt(o,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},D=I.r,z=D===void 0?3:D,T=I.strokeWidth,k=T===void 0?2:T,F=TG(o)?o:{},B=F.clipDot,H=B===void 0?!0:B,X=z*2+k;return ie.createElement(In,{className:j},P||A?ie.createElement("defs",null,ie.createElement("clipPath",{id:"clipPath-".concat(O)},ie.createElement("rect",{x:P?p:p-m/2,y:A?h:h-x/2,width:P?m:m*2,height:A?x:x*2})),!H&&ie.createElement("clipPath",{id:"clipPath-dots-".concat(O)},ie.createElement("rect",{x:p-X/2,y:h-X/2,width:m+X,height:x+X}))):null,!w&&this.renderCurve(E,O),this.renderErrorBar(E,O),(w||o)&&this.renderDots(E,H,O),(!v||b)&&Rc.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var a=r.length%2!==0?[].concat(Ym(r),[0]):r,o=[],l=0;l<i;++l)o=[].concat(Ym(o),Ym(a));return o}},{key:"renderDotItem",value:function(r,i){var a;if(ie.isValidElement(r))a=ie.cloneElement(r,i);else if(hn(r))a=r(i);else{var o=i.key,l=C8(i,_Me),c=Pn("recharts-line-dot",typeof r!="boolean"?r.className:"");a=ie.createElement(Ab,sx({key:o},l,{className:c}))}return a}}])}(N.PureComponent);Sc(ii,"displayName","Line");Sc(ii,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Wl.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Sc(ii,"getComposedData",function(e){var t=e.props,n=e.xAxis,r=e.yAxis,i=e.xAxisTicks,a=e.yAxisTicks,o=e.dataKey,l=e.bandSize,c=e.displayedData,u=e.offset,f=t.layout,h=c.map(function(p,m){var x=oi(p,o);return f==="horizontal"?{x:Rv({axis:n,ticks:i,bandSize:l,entry:p,index:m}),y:pn(x)?null:r.scale(x),value:x,payload:p}:{x:pn(x)?null:n.scale(x),y:Rv({axis:r,ticks:a,bandSize:l,entry:p,index:m}),value:x,payload:p}});return Uo({points:h,layout:f},u)});var MMe=["layout","type","stroke","connectNulls","isRange","ref"],DMe=["key"],WY;function Xv(e){"@babel/helpers - typeof";return Xv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xv(e)}function HY(e,t){if(e==null)return{};var n=RMe(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function RMe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Ep(){return Ep=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ep.apply(this,arguments)}function k8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Pf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?k8(Object(n),!0).forEach(function(r){ku(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $Me(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T8(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,GY(r.key),r)}}function FMe(e,t,n){return t&&T8(e.prototype,t),n&&T8(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function BMe(e,t,n){return t=C5(t),zMe(e,KY()?Reflect.construct(t,n||[],C5(e).constructor):t.apply(e,n))}function zMe(e,t){if(t&&(Xv(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UMe(e)}function UMe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function KY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KY=function(){return!!e})()}function C5(e){return C5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},C5(e)}function qMe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&SO(e,t)}function SO(e,t){return SO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},SO(e,t)}function ku(e,t,n){return t=GY(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GY(e){var t=VMe(e,"string");return Xv(t)=="symbol"?t:t+""}function VMe(e,t){if(Xv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Xv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Gu=function(e){function t(){var n;$Me(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=BMe(this,t,[].concat(i)),ku(n,"state",{isAnimationFinished:!0}),ku(n,"id",Fh("recharts-area-")),ku(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),hn(o)&&o()}),ku(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),hn(o)&&o()}),n}return qMe(t,e),FMe(t,[{key:"renderDots",value:function(r,i,a){var o=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(o&&!l)return null;var c=this.props,u=c.dot,f=c.points,h=c.dataKey,p=Xt(this.props,!1),m=Xt(u,!0),x=f.map(function(y,b){var w=Pf(Pf(Pf({key:"dot-".concat(b),r:3},p),m),{},{index:b,cx:y.x,cy:y.y,dataKey:h,value:y.value,payload:y.payload,points:f});return t.renderDotItem(u,w)}),v={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return ie.createElement(In,Ep({className:"recharts-area-dots"},v),x)}},{key:"renderHorizontalRect",value:function(r){var i=this.props,a=i.baseLine,o=i.points,l=i.strokeWidth,c=o[0].x,u=o[o.length-1].x,f=r*Math.abs(c-u),h=Zf(o.map(function(p){return p.y||0}));return pt(a)&&typeof a=="number"?h=Math.max(a,h):a&&Array.isArray(a)&&a.length&&(h=Math.max(Zf(a.map(function(p){return p.y||0})),h)),pt(h)?ie.createElement("rect",{x:c<u?c:c-f,y:0,width:f,height:Math.floor(h+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var i=this.props,a=i.baseLine,o=i.points,l=i.strokeWidth,c=o[0].y,u=o[o.length-1].y,f=r*Math.abs(c-u),h=Zf(o.map(function(p){return p.x||0}));return pt(a)&&typeof a=="number"?h=Math.max(a,h):a&&Array.isArray(a)&&a.length&&(h=Math.max(Zf(a.map(function(p){return p.x||0})),h)),pt(h)?ie.createElement("rect",{x:0,y:c<u?c:c-f,width:h+(l?parseInt("".concat(l),10):1),height:Math.floor(f)}):null}},{key:"renderClipRect",value:function(r){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,i,a,o){var l=this.props,c=l.layout,u=l.type,f=l.stroke,h=l.connectNulls,p=l.isRange;l.ref;var m=HY(l,MMe);return ie.createElement(In,{clipPath:a?"url(#clipPath-".concat(o,")"):null},ie.createElement(dh,Ep({},Xt(m,!0),{points:r,connectNulls:h,type:u,baseLine:i,layout:c,stroke:"none",className:"recharts-area-area"})),f!=="none"&&ie.createElement(dh,Ep({},Xt(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:h,fill:"none",points:r})),f!=="none"&&p&&ie.createElement(dh,Ep({},Xt(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:h,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(r,i){var a=this,o=this.props,l=o.points,c=o.baseLine,u=o.isAnimationActive,f=o.animationBegin,h=o.animationDuration,p=o.animationEasing,m=o.animationId,x=this.state,v=x.prevPoints,y=x.prevBaseLine;return ie.createElement(Xl,{begin:f,duration:h,isActive:u,easing:p,from:{t:0},to:{t:1},key:"area-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(b){var w=b.t;if(v){var j=v.length/l.length,P=l.map(function(I,D){var z=Math.floor(D*j);if(v[z]){var T=v[z],k=Si(T.x,I.x),F=Si(T.y,I.y);return Pf(Pf({},I),{},{x:k(w),y:F(w)})}return I}),A;if(pt(c)&&typeof c=="number"){var E=Si(y,c);A=E(w)}else if(pn(c)||Cy(c)){var O=Si(y,0);A=O(w)}else A=c.map(function(I,D){var z=Math.floor(D*j);if(y[z]){var T=y[z],k=Si(T.x,I.x),F=Si(T.y,I.y);return Pf(Pf({},I),{},{x:k(w),y:F(w)})}return I});return a.renderAreaStatically(P,A,r,i)}return ie.createElement(In,null,ie.createElement("defs",null,ie.createElement("clipPath",{id:"animationClipPath-".concat(i)},a.renderClipRect(w))),ie.createElement(In,{clipPath:"url(#animationClipPath-".concat(i,")")},a.renderAreaStatically(l,c,r,i)))})}},{key:"renderArea",value:function(r,i){var a=this.props,o=a.points,l=a.baseLine,c=a.isAnimationActive,u=this.state,f=u.prevPoints,h=u.prevBaseLine,p=u.totalLength;return c&&o&&o.length&&(!f&&p>0||!Nh(f,o)||!Nh(h,l))?this.renderAreaWithAnimation(r,i):this.renderAreaStatically(o,l,r,i)}},{key:"render",value:function(){var r,i=this.props,a=i.hide,o=i.dot,l=i.points,c=i.className,u=i.top,f=i.left,h=i.xAxis,p=i.yAxis,m=i.width,x=i.height,v=i.isAnimationActive,y=i.id;if(a||!l||!l.length)return null;var b=this.state.isAnimationFinished,w=l.length===1,j=Pn("recharts-area",c),P=h&&h.allowDataOverflow,A=p&&p.allowDataOverflow,E=P||A,O=pn(y)?this.id:y,I=(r=Xt(o,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},D=I.r,z=D===void 0?3:D,T=I.strokeWidth,k=T===void 0?2:T,F=TG(o)?o:{},B=F.clipDot,H=B===void 0?!0:B,X=z*2+k;return ie.createElement(In,{className:j},P||A?ie.createElement("defs",null,ie.createElement("clipPath",{id:"clipPath-".concat(O)},ie.createElement("rect",{x:P?f:f-m/2,y:A?u:u-x/2,width:P?m:m*2,height:A?x:x*2})),!H&&ie.createElement("clipPath",{id:"clipPath-dots-".concat(O)},ie.createElement("rect",{x:f-X/2,y:u-X/2,width:m+X,height:x+X}))):null,w?null:this.renderArea(E,O),(o||w)&&this.renderDots(E,H,O),(!v||b)&&Rc.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:r.points!==i.curPoints||r.baseLine!==i.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])}(N.PureComponent);WY=Gu;ku(Gu,"displayName","Area");ku(Gu,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Wl.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});ku(Gu,"getBaseValue",function(e,t,n,r){var i=e.layout,a=e.baseValue,o=t.props.baseValue,l=o??a;if(pt(l)&&typeof l=="number")return l;var c=i==="horizontal"?r:n,u=c.scale.domain();if(c.type==="number"){var f=Math.max(u[0],u[1]),h=Math.min(u[0],u[1]);return l==="dataMin"?h:l==="dataMax"||f<0?f:Math.max(Math.min(u[0],u[1]),0)}return l==="dataMin"?u[0]:l==="dataMax"?u[1]:u[0]});ku(Gu,"getComposedData",function(e){var t=e.props,n=e.item,r=e.xAxis,i=e.yAxis,a=e.xAxisTicks,o=e.yAxisTicks,l=e.bandSize,c=e.dataKey,u=e.stackedData,f=e.dataStartIndex,h=e.displayedData,p=e.offset,m=t.layout,x=u&&u.length,v=WY.getBaseValue(t,n,r,i),y=m==="horizontal",b=!1,w=h.map(function(P,A){var E;x?E=u[f+A]:(E=oi(P,c),Array.isArray(E)?b=!0:E=[v,E]);var O=E[1]==null||x&&oi(P,c)==null;return y?{x:Rv({axis:r,ticks:a,bandSize:l,entry:P,index:A}),y:O?null:i.scale(E[1]),value:E,payload:P}:{x:O?null:r.scale(E[1]),y:Rv({axis:i,ticks:o,bandSize:l,entry:P,index:A}),value:E,payload:P}}),j;return x||b?j=w.map(function(P){var A=Array.isArray(P.value)?P.value[0]:null;return y?{x:P.x,y:A!=null&&P.y!=null?i.scale(A):null}:{x:A!=null?r.scale(A):null,y:P.y}}):j=y?i.scale(v):r.scale(v),Pf({points:w,baseLine:j,layout:m,isRange:b},p)});ku(Gu,"renderDotItem",function(e,t){var n;if(ie.isValidElement(e))n=ie.cloneElement(e,t);else if(hn(e))n=e(t);else{var r=Pn("recharts-area-dot",typeof e!="boolean"?e.className:""),i=t.key,a=HY(t,DMe);n=ie.createElement(Ab,Ep({},a,{key:i,className:r}))}return n});function Yv(e){"@babel/helpers - typeof";return Yv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yv(e)}function WMe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function HMe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,YY(r.key),r)}}function KMe(e,t,n){return t&&HMe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function GMe(e,t,n){return t=E5(t),ZMe(e,ZY()?Reflect.construct(t,n||[],E5(e).constructor):t.apply(e,n))}function ZMe(e,t){if(t&&(Yv(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return XMe(e)}function XMe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ZY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZY=function(){return!!e})()}function E5(e){return E5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},E5(e)}function YMe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&AO(e,t)}function AO(e,t){return AO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},AO(e,t)}function XY(e,t,n){return t=YY(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function YY(e){var t=QMe(e,"string");return Yv(t)=="symbol"?t:t+""}function QMe(e,t){if(Yv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Yv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var BN=function(e){function t(){return WMe(this,t),GMe(this,t,arguments)}return YMe(t,e),KMe(t,[{key:"render",value:function(){return null}}])}(ie.Component);XY(BN,"displayName","ZAxis");XY(BN,"defaultProps",{zAxisId:0,range:[64,64],scale:"auto",type:"number"});var JMe=["option","isActive"];function ox(){return ox=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ox.apply(this,arguments)}function eDe(e,t){if(e==null)return{};var n=tDe(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function tDe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function nDe(e){var t=e.option,n=e.isActive,r=eDe(e,JMe);return typeof t=="string"?ie.createElement(m5,ox({option:ie.createElement(pN,ox({type:t},r)),isActive:n,shapeType:"symbols"},r)):ie.createElement(m5,ox({option:t,isActive:n,shapeType:"symbols"},r))}function Qv(e){"@babel/helpers - typeof";return Qv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qv(e)}function lx(){return lx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lx.apply(this,arguments)}function I8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function El(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?I8(Object(n),!0).forEach(function(r){Yf(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function rDe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function L8(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,JY(r.key),r)}}function iDe(e,t,n){return t&&L8(e.prototype,t),n&&L8(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function aDe(e,t,n){return t=O5(t),sDe(e,QY()?Reflect.construct(t,n||[],O5(e).constructor):t.apply(e,n))}function sDe(e,t){if(t&&(Qv(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oDe(e)}function oDe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function QY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QY=function(){return!!e})()}function O5(e){return O5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},O5(e)}function lDe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&PO(e,t)}function PO(e,t){return PO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},PO(e,t)}function Yf(e,t,n){return t=JY(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function JY(e){var t=cDe(e,"string");return Qv(t)=="symbol"?t:t+""}function cDe(e,t){if(Qv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Qv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zN=function(e){function t(){var n;rDe(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=aDe(this,t,[].concat(i)),Yf(n,"state",{isAnimationFinished:!1}),Yf(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0})}),Yf(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1})}),Yf(n,"id",Fh("recharts-scatter-")),n}return lDe(t,e),iDe(t,[{key:"renderSymbolsStatically",value:function(r){var i=this,a=this.props,o=a.shape,l=a.activeShape,c=a.activeIndex,u=Xt(this.props,!1);return r.map(function(f,h){var p=c===h,m=p?l:o,x=El(El({},u),f);return ie.createElement(In,lx({className:"recharts-scatter-symbol",key:"symbol-".concat(f==null?void 0:f.cx,"-").concat(f==null?void 0:f.cy,"-").concat(f==null?void 0:f.size,"-").concat(h)},jh(i.props,f,h),{role:"img"}),ie.createElement(nDe,lx({option:m,isActive:p,key:"symbol-".concat(h)},x)))})}},{key:"renderSymbolsWithAnimation",value:function(){var r=this,i=this.props,a=i.points,o=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,u=i.animationEasing,f=i.animationId,h=this.state.prevPoints;return ie.createElement(Xl,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var m=p.t,x=a.map(function(v,y){var b=h&&h[y];if(b){var w=Si(b.cx,v.cx),j=Si(b.cy,v.cy),P=Si(b.size,v.size);return El(El({},v),{},{cx:w(m),cy:j(m),size:P(m)})}var A=Si(0,v.size);return El(El({},v),{},{size:A(m)})});return ie.createElement(In,null,r.renderSymbolsStatically(x))})}},{key:"renderSymbols",value:function(){var r=this.props,i=r.points,a=r.isAnimationActive,o=this.state.prevPoints;return a&&i&&i.length&&(!o||!Nh(o,i))?this.renderSymbolsWithAnimation():this.renderSymbolsStatically(i)}},{key:"renderErrorBar",value:function(){var r=this.props.isAnimationActive;if(r&&!this.state.isAnimationFinished)return null;var i=this.props,a=i.points,o=i.xAxis,l=i.yAxis,c=i.children,u=Xs(c,My);return u?u.map(function(f,h){var p=f.props,m=p.direction,x=p.dataKey;return ie.cloneElement(f,{key:"".concat(m,"-").concat(x,"-").concat(a[h]),data:a,xAxis:o,yAxis:l,layout:m==="x"?"vertical":"horizontal",dataPointFormatter:function(y,b){return{x:y.cx,y:y.cy,value:m==="x"?+y.node.x:+y.node.y,errorVal:oi(y,b)}}})}):null}},{key:"renderLine",value:function(){var r=this.props,i=r.points,a=r.line,o=r.lineType,l=r.lineJointType,c=Xt(this.props,!1),u=Xt(a,!1),f,h;if(o==="joint")f=i.map(function(j){return{x:j.cx,y:j.cy}});else if(o==="fitting"){var p=Gye(i),m=p.xmin,x=p.xmax,v=p.a,y=p.b,b=function(P){return v*P+y};f=[{x:m,y:b(m)},{x,y:b(x)}]}var w=El(El(El({},c),{},{fill:"none",stroke:c&&c.fill},u),{},{points:f});return ie.isValidElement(a)?h=ie.cloneElement(a,w):hn(a)?h=a(w):h=ie.createElement(dh,lx({},w,{type:l})),ie.createElement(In,{className:"recharts-scatter-line",key:"recharts-scatter-line"},h)}},{key:"render",value:function(){var r=this.props,i=r.hide,a=r.points,o=r.line,l=r.className,c=r.xAxis,u=r.yAxis,f=r.left,h=r.top,p=r.width,m=r.height,x=r.id,v=r.isAnimationActive;if(i||!a||!a.length)return null;var y=this.state.isAnimationFinished,b=Pn("recharts-scatter",l),w=c&&c.allowDataOverflow,j=u&&u.allowDataOverflow,P=w||j,A=pn(x)?this.id:x;return ie.createElement(In,{className:b,clipPath:P?"url(#clipPath-".concat(A,")"):null},w||j?ie.createElement("defs",null,ie.createElement("clipPath",{id:"clipPath-".concat(A)},ie.createElement("rect",{x:w?f:f-p/2,y:j?h:h-m/2,width:w?p:p*2,height:j?m:m*2}))):null,o&&this.renderLine(),this.renderErrorBar(),ie.createElement(In,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!v||y)&&Rc.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}}])}(N.PureComponent);Yf(zN,"displayName","Scatter");Yf(zN,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!Wl.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"});Yf(zN,"getComposedData",function(e){var t=e.xAxis,n=e.yAxis,r=e.zAxis,i=e.item,a=e.displayedData,o=e.xAxisTicks,l=e.yAxisTicks,c=e.offset,u=i.props.tooltipType,f=Xs(i.props.children,wb),h=pn(t.dataKey)?i.props.dataKey:t.dataKey,p=pn(n.dataKey)?i.props.dataKey:n.dataKey,m=r&&r.dataKey,x=r?r.range:BN.defaultProps.range,v=x&&x[0],y=t.scale.bandwidth?t.scale.bandwidth():0,b=n.scale.bandwidth?n.scale.bandwidth():0,w=a.map(function(j,P){var A=oi(j,h),E=oi(j,p),O=!pn(m)&&oi(j,m)||"-",I=[{name:pn(t.dataKey)?i.props.name:t.name||t.dataKey,unit:t.unit||"",value:A,payload:j,dataKey:h,type:u},{name:pn(n.dataKey)?i.props.name:n.name||n.dataKey,unit:n.unit||"",value:E,payload:j,dataKey:p,type:u}];O!=="-"&&I.push({name:r.name||r.dataKey,unit:r.unit||"",value:O,payload:j,dataKey:m,type:u});var D=Rv({axis:t,ticks:o,bandSize:y,entry:j,index:P,dataKey:h}),z=Rv({axis:n,ticks:l,bandSize:b,entry:j,index:P,dataKey:p}),T=O!=="-"?r.scale(O):v,k=Math.sqrt(Math.max(T,0)/Math.PI);return El(El({},j),{},{cx:D,cy:z,x:D-k,y:z-k,xAxis:t,yAxis:n,zAxis:r,width:2*k,height:2*k,size:T,node:{x:A,y:E,z:O},tooltipPayload:I,tooltipPosition:{x:D,y:z},payload:j},f&&f[P]&&f[P].props)});return El({points:w},c)});function Jv(e){"@babel/helpers - typeof";return Jv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jv(e)}function uDe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dDe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,nQ(r.key),r)}}function fDe(e,t,n){return t&&dDe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function hDe(e,t,n){return t=k5(t),pDe(e,eQ()?Reflect.construct(t,n||[],k5(e).constructor):t.apply(e,n))}function pDe(e,t){if(t&&(Jv(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mDe(e)}function mDe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eQ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eQ=function(){return!!e})()}function k5(e){return k5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},k5(e)}function gDe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&CO(e,t)}function CO(e,t){return CO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},CO(e,t)}function tQ(e,t,n){return t=nQ(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nQ(e){var t=vDe(e,"string");return Jv(t)=="symbol"?t:t+""}function vDe(e,t){if(Jv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Jv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function EO(){return EO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},EO.apply(this,arguments)}function yDe(e){var t=e.xAxisId,n=v3(),r=y3(),i=kY(t);return i==null?null:ie.createElement(Dy,EO({},i,{className:Pn("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(o){return kd(o,!0)}}))}var Ra=function(e){function t(){return uDe(this,t),hDe(this,t,arguments)}return gDe(t,e),fDe(t,[{key:"render",value:function(){return ie.createElement(yDe,this.props)}}])}(ie.Component);tQ(Ra,"displayName","XAxis");tQ(Ra,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function ey(e){"@babel/helpers - typeof";return ey=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ey(e)}function xDe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bDe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,aQ(r.key),r)}}function wDe(e,t,n){return t&&bDe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _De(e,t,n){return t=T5(t),jDe(e,rQ()?Reflect.construct(t,n||[],T5(e).constructor):t.apply(e,n))}function jDe(e,t){if(t&&(ey(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return NDe(e)}function NDe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rQ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rQ=function(){return!!e})()}function T5(e){return T5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},T5(e)}function SDe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&OO(e,t)}function OO(e,t){return OO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},OO(e,t)}function iQ(e,t,n){return t=aQ(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aQ(e){var t=ADe(e,"string");return ey(t)=="symbol"?t:t+""}function ADe(e,t){if(ey(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(ey(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kO(){return kO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kO.apply(this,arguments)}var PDe=function(t){var n=t.yAxisId,r=v3(),i=y3(),a=TY(n);return a==null?null:ie.createElement(Dy,kO({},a,{className:Pn("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(l){return kd(l,!0)}}))},$a=function(e){function t(){return xDe(this,t),_De(this,t,arguments)}return SDe(t,e),wDe(t,[{key:"render",value:function(){return ie.createElement(PDe,this.props)}}])}(ie.Component);iQ($a,"displayName","YAxis");iQ($a,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function M8(e){return kDe(e)||ODe(e)||EDe(e)||CDe()}function CDe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EDe(e,t){if(e){if(typeof e=="string")return TO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return TO(e,t)}}function ODe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function kDe(e){if(Array.isArray(e))return TO(e)}function TO(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var IO=function(t,n,r,i,a){var o=Xs(t,Dl),l=Xs(t,RN),c=[].concat(M8(o),M8(l)),u=Xs(t,FN),f="".concat(i,"Id"),h=i[0],p=n;if(c.length&&(p=c.reduce(function(v,y){if(y.props[f]===r&&Bu(y.props,"extendDomain")&&pt(y.props[h])){var b=y.props[h];return[Math.min(v[0],b),Math.max(v[1],b)]}return v},p)),u.length){var m="".concat(h,"1"),x="".concat(h,"2");p=u.reduce(function(v,y){if(y.props[f]===r&&Bu(y.props,"extendDomain")&&pt(y.props[m])&&pt(y.props[x])){var b=y.props[m],w=y.props[x];return[Math.min(v[0],b,w),Math.max(v[1],b,w)]}return v},p)}return a&&a.length&&(p=a.reduce(function(v,y){return pt(y)?[Math.min(v[0],y),Math.max(v[1],y)]:v},p)),p},sQ={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,u,f){this.fn=c,this.context=u,this.once=f||!1}function a(c,u,f,h,p){if(typeof f!="function")throw new TypeError("The listener must be a function");var m=new i(f,h||c,p),x=n?n+u:u;return c._events[x]?c._events[x].fn?c._events[x]=[c._events[x],m]:c._events[x].push(m):(c._events[x]=m,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new r:delete c._events[u]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],f,h;if(this._eventsCount===0)return u;for(h in f=this._events)t.call(f,h)&&u.push(n?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(f)):u},l.prototype.listeners=function(u){var f=n?n+u:u,h=this._events[f];if(!h)return[];if(h.fn)return[h.fn];for(var p=0,m=h.length,x=new Array(m);p<m;p++)x[p]=h[p].fn;return x},l.prototype.listenerCount=function(u){var f=n?n+u:u,h=this._events[f];return h?h.fn?1:h.length:0},l.prototype.emit=function(u,f,h,p,m,x){var v=n?n+u:u;if(!this._events[v])return!1;var y=this._events[v],b=arguments.length,w,j;if(y.fn){switch(y.once&&this.removeListener(u,y.fn,void 0,!0),b){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,f),!0;case 3:return y.fn.call(y.context,f,h),!0;case 4:return y.fn.call(y.context,f,h,p),!0;case 5:return y.fn.call(y.context,f,h,p,m),!0;case 6:return y.fn.call(y.context,f,h,p,m,x),!0}for(j=1,w=new Array(b-1);j<b;j++)w[j-1]=arguments[j];y.fn.apply(y.context,w)}else{var P=y.length,A;for(j=0;j<P;j++)switch(y[j].once&&this.removeListener(u,y[j].fn,void 0,!0),b){case 1:y[j].fn.call(y[j].context);break;case 2:y[j].fn.call(y[j].context,f);break;case 3:y[j].fn.call(y[j].context,f,h);break;case 4:y[j].fn.call(y[j].context,f,h,p);break;default:if(!w)for(A=1,w=new Array(b-1);A<b;A++)w[A-1]=arguments[A];y[j].fn.apply(y[j].context,w)}}return!0},l.prototype.on=function(u,f,h){return a(this,u,f,h,!1)},l.prototype.once=function(u,f,h){return a(this,u,f,h,!0)},l.prototype.removeListener=function(u,f,h,p){var m=n?n+u:u;if(!this._events[m])return this;if(!f)return o(this,m),this;var x=this._events[m];if(x.fn)x.fn===f&&(!p||x.once)&&(!h||x.context===h)&&o(this,m);else{for(var v=0,y=[],b=x.length;v<b;v++)(x[v].fn!==f||p&&!x[v].once||h&&x[v].context!==h)&&y.push(x[v]);y.length?this._events[m]=y.length===1?y[0]:y:o(this,m)}return this},l.prototype.removeAllListeners=function(u){var f;return u?(f=n?n+u:u,this._events[f]&&o(this,f)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,e.exports=l})(sQ);var TDe=sQ.exports;const IDe=jr(TDe);var VA=new IDe,WA="recharts.syncMouseEvents";function C1(e){"@babel/helpers - typeof";return C1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},C1(e)}function LDe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function MDe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,oQ(r.key),r)}}function DDe(e,t,n){return t&&MDe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function HA(e,t,n){return t=oQ(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oQ(e){var t=RDe(e,"string");return C1(t)=="symbol"?t:t+""}function RDe(e,t){if(C1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(C1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var $De=function(){function e(){LDe(this,e),HA(this,"activeIndex",0),HA(this,"coordinateList",[]),HA(this,"layout","horizontal")}return DDe(e,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,a=i===void 0?null:i,o=n.container,l=o===void 0?null:o,c=n.layout,u=c===void 0?null:c,f=n.offset,h=f===void 0?null:f,p=n.mouseHandlerCallback,m=p===void 0?null:p;this.coordinateList=(r=a??this.coordinateList)!==null&&r!==void 0?r:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=h??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,o=i.y,l=i.height,c=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,f=((r=window)===null||r===void 0?void 0:r.scrollY)||0,h=a+c+u,p=o+this.offset.top+l/2+f;this.mouseHandlerCallback({pageX:h,pageY:p})}}}])}();function FDe(e,t,n){if(n==="number"&&t===!0&&Array.isArray(e)){var r=e==null?void 0:e[0],i=e==null?void 0:e[1];if(r&&i&&pt(r)&&pt(i))return!0}return!1}function BDe(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function lQ(e){var t=e.cx,n=e.cy,r=e.radius,i=e.startAngle,a=e.endAngle,o=Xr(t,n,r,i),l=Xr(t,n,r,a);return{points:[o,l],cx:t,cy:n,radius:r,startAngle:i,endAngle:a}}function zDe(e,t,n){var r,i,a,o;if(e==="horizontal")r=t.x,a=r,i=n.top,o=n.top+n.height;else if(e==="vertical")i=t.y,o=i,r=n.left,a=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,f=t.outerRadius,h=t.angle,p=Xr(l,c,u,h),m=Xr(l,c,f,h);r=p.x,i=p.y,a=m.x,o=m.y}else return lQ(t);return[{x:r,y:i},{x:a,y:o}]}function E1(e){"@babel/helpers - typeof";return E1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},E1(e)}function D8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Zw(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?D8(Object(n),!0).forEach(function(r){UDe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function UDe(e,t,n){return t=qDe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qDe(e){var t=VDe(e,"string");return E1(t)=="symbol"?t:t+""}function VDe(e,t){if(E1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(E1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function WDe(e){var t,n,r=e.element,i=e.tooltipEventType,a=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,f=e.tooltipAxisBandSize,h=e.layout,p=e.chartName,m=(t=r.props.cursor)!==null&&t!==void 0?t:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!m||!a||!o||p!=="ScatterChart"&&i!=="axis")return null;var x,v=dh;if(p==="ScatterChart")x=o,v=LTe;else if(p==="BarChart")x=BDe(h,o,c,f),v=h3;else if(h==="radial"){var y=lQ(o),b=y.cx,w=y.cy,j=y.radius,P=y.startAngle,A=y.endAngle;x={cx:b,cy:w,startAngle:P,endAngle:A,innerRadius:j,outerRadius:j},v=YX}else x={points:zDe(h,o,c)},v=dh;var E=Zw(Zw(Zw(Zw({stroke:"#ccc",pointerEvents:"none"},c),x),Xt(m,!1)),{},{payload:l,payloadIndex:u,className:Pn("recharts-tooltip-cursor",m.className)});return N.isValidElement(m)?N.cloneElement(m,E):N.createElement(v,E)}var HDe=["item"],KDe=["children","className","width","height","style","compact","title","desc"];function ty(e){"@babel/helpers - typeof";return ty=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ty(e)}function kg(){return kg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kg.apply(this,arguments)}function R8(e,t){return XDe(e)||ZDe(e,t)||uQ(e,t)||GDe()}function GDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZDe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function XDe(e){if(Array.isArray(e))return e}function $8(e,t){if(e==null)return{};var n=YDe(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function YDe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function QDe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function JDe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,dQ(r.key),r)}}function eRe(e,t,n){return t&&JDe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function tRe(e,t,n){return t=I5(t),nRe(e,cQ()?Reflect.construct(t,n||[],I5(e).constructor):t.apply(e,n))}function nRe(e,t){if(t&&(ty(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rRe(e)}function rRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cQ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cQ=function(){return!!e})()}function I5(e){return I5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},I5(e)}function iRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&LO(e,t)}function LO(e,t){return LO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},LO(e,t)}function ny(e){return oRe(e)||sRe(e)||uQ(e)||aRe()}function aRe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uQ(e,t){if(e){if(typeof e=="string")return MO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return MO(e,t)}}function sRe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function oRe(e){if(Array.isArray(e))return MO(e)}function MO(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function F8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ve(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?F8(Object(n),!0).forEach(function(r){gn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gn(e,t,n){return t=dQ(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dQ(e){var t=lRe(e,"string");return ty(t)=="symbol"?t:t+""}function lRe(e,t){if(ty(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(ty(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cRe={xAxis:["bottom","top"],yAxis:["left","right"]},uRe={width:"100%",height:"100%"},fQ={x:0,y:0};function Xw(e){return e}var dRe=function(t,n){return n==="horizontal"?t.x:n==="vertical"?t.y:n==="centric"?t.angle:t.radius},fRe=function(t,n,r,i){var a=n.find(function(f){return f&&f.index===r});if(a){if(t==="horizontal")return{x:a.coordinate,y:i.y};if(t==="vertical")return{x:i.x,y:a.coordinate};if(t==="centric"){var o=a.coordinate,l=i.radius;return Ve(Ve(Ve({},i),Xr(i.cx,i.cy,l,o)),{},{angle:o,radius:l})}var c=a.coordinate,u=i.angle;return Ve(Ve(Ve({},i),Xr(i.cx,i.cy,c,u)),{},{angle:u,radius:c})}return fQ},UN=function(t,n){var r=n.graphicalItems,i=n.dataStartIndex,a=n.dataEndIndex,o=(r??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(ny(l),ny(u)):l},[]);return o.length>0?o:t&&t.length&&pt(i)&&pt(a)?t.slice(i,a+1):[]};function hQ(e){return e==="number"?[0,"auto"]:void 0}var DO=function(t,n,r,i){var a=t.graphicalItems,o=t.tooltipAxis,l=UN(n,t);return r<0||!a||!a.length||r>=l.length?null:a.reduce(function(c,u){var f,h=(f=u.props.data)!==null&&f!==void 0?f:n;h&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=r&&(h=h.slice(t.dataStartIndex,t.dataEndIndex+1));var p;if(o.dataKey&&!o.allowDuplicatedCategory){var m=h===void 0?l:h;p=O_(m,o.dataKey,i)}else p=h&&h[r]||l[r];return p?[].concat(ny(c),[WX(u,p)]):c},[])},B8=function(t,n,r,i){var a=i||{x:t.chartX,y:t.chartY},o=dRe(a,r),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,f=iOe(o,l,u,c);if(f>=0&&u){var h=u[f]&&u[f].value,p=DO(t,n,f,h),m=fRe(r,l,f,a);return{activeTooltipIndex:f,activeLabel:h,activePayload:p,activeCoordinate:m}}return null},hRe=function(t,n){var r=n.axes,i=n.graphicalItems,a=n.axisType,o=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,f=t.layout,h=t.children,p=t.stackOffset,m=FX(f,a);return r.reduce(function(x,v){var y,b=v.type.defaultProps!==void 0?Ve(Ve({},v.type.defaultProps),v.props):v.props,w=b.type,j=b.dataKey,P=b.allowDataOverflow,A=b.allowDuplicatedCategory,E=b.scale,O=b.ticks,I=b.includeHidden,D=b[o];if(x[D])return x;var z=UN(t.data,{graphicalItems:i.filter(function(V){var ee,Q=o in V.props?V.props[o]:(ee=V.type.defaultProps)===null||ee===void 0?void 0:ee[o];return Q===D}),dataStartIndex:c,dataEndIndex:u}),T=z.length,k,F,B;FDe(b.domain,P,w)&&(k=KE(b.domain,null,P),m&&(w==="number"||E!=="auto")&&(B=nx(z,j,"category")));var H=hQ(w);if(!k||k.length===0){var X,ae=(X=b.domain)!==null&&X!==void 0?X:H;if(j){if(k=nx(z,j,w),w==="category"&&m){var W=Kye(k);A&&W?(F=k,k=v5(0,T)):A||(k=iR(ae,k,v).reduce(function(V,ee){return V.indexOf(ee)>=0?V:[].concat(ny(V),[ee])},[]))}else if(w==="category")A?k=k.filter(function(V){return V!==""&&!pn(V)}):k=iR(ae,k,v).reduce(function(V,ee){return V.indexOf(ee)>=0||ee===""||pn(ee)?V:[].concat(ny(V),[ee])},[]);else if(w==="number"){var te=cOe(z,i.filter(function(V){var ee,Q,de=o in V.props?V.props[o]:(ee=V.type.defaultProps)===null||ee===void 0?void 0:ee[o],le="hide"in V.props?V.props.hide:(Q=V.type.defaultProps)===null||Q===void 0?void 0:Q.hide;return de===D&&(I||!le)}),j,a,f);te&&(k=te)}m&&(w==="number"||E!=="auto")&&(B=nx(z,j,"category"))}else m?k=v5(0,T):l&&l[D]&&l[D].hasStack&&w==="number"?k=p==="expand"?[0,1]:VX(l[D].stackGroups,c,u):k=$X(z,i.filter(function(V){var ee=o in V.props?V.props[o]:V.type.defaultProps[o],Q="hide"in V.props?V.props.hide:V.type.defaultProps.hide;return ee===D&&(I||!Q)}),w,f,!0);if(w==="number")k=IO(h,k,D,a,O),ae&&(k=KE(ae,k,P));else if(w==="category"&&ae){var ue=ae,ye=k.every(function(V){return ue.indexOf(V)>=0});ye&&(k=ue)}}return Ve(Ve({},x),{},gn({},D,Ve(Ve({},b),{},{axisType:a,domain:k,categoricalDomain:B,duplicateDomain:F,originalDomain:(y=b.domain)!==null&&y!==void 0?y:H,isCategorical:m,layout:f})))},{})},pRe=function(t,n){var r=n.graphicalItems,i=n.Axis,a=n.axisType,o=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,f=t.layout,h=t.children,p=UN(t.data,{graphicalItems:r,dataStartIndex:c,dataEndIndex:u}),m=p.length,x=FX(f,a),v=-1;return r.reduce(function(y,b){var w=b.type.defaultProps!==void 0?Ve(Ve({},b.type.defaultProps),b.props):b.props,j=w[o],P=hQ("number");if(!y[j]){v++;var A;return x?A=v5(0,m):l&&l[j]&&l[j].hasStack?(A=VX(l[j].stackGroups,c,u),A=IO(h,A,j,a)):(A=KE(P,$X(p,r.filter(function(E){var O,I,D=o in E.props?E.props[o]:(O=E.type.defaultProps)===null||O===void 0?void 0:O[o],z="hide"in E.props?E.props.hide:(I=E.type.defaultProps)===null||I===void 0?void 0:I.hide;return D===j&&!z}),"number",f),i.defaultProps.allowDataOverflow),A=IO(h,A,j,a)),Ve(Ve({},y),{},gn({},j,Ve(Ve({axisType:a},i.defaultProps),{},{hide:!0,orientation:sl(cRe,"".concat(a,".").concat(v%2),null),domain:A,originalDomain:P,isCategorical:x,layout:f})))}return y},{})},mRe=function(t,n){var r=n.axisType,i=r===void 0?"xAxis":r,a=n.AxisComp,o=n.graphicalItems,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,f=t.children,h="".concat(i,"Id"),p=Xs(f,a),m={};return p&&p.length?m=hRe(t,{axes:p,graphicalItems:o,axisType:i,axisIdKey:h,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(m=pRe(t,{Axis:a,graphicalItems:o,axisType:i,axisIdKey:h,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),m},gRe=function(t){var n=Mf(t),r=kd(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:BT(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:i5(n,r)}},z8=function(t){var n=t.children,r=t.defaultShowTooltip,i=Ko(n,qv),a=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!r}},vRe=function(t){return!t||!t.length?!1:t.some(function(n){var r=Id(n&&n.type);return r&&r.indexOf("Bar")>=0})},U8=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},yRe=function(t,n){var r=t.props,i=t.graphicalItems,a=t.xAxisMap,o=a===void 0?{}:a,l=t.yAxisMap,c=l===void 0?{}:l,u=r.width,f=r.height,h=r.children,p=r.margin||{},m=Ko(h,qv),x=Ko(h,Da),v=Object.keys(c).reduce(function(A,E){var O=c[E],I=O.orientation;return!O.mirror&&!O.hide?Ve(Ve({},A),{},gn({},I,A[I]+O.width)):A},{left:p.left||0,right:p.right||0}),y=Object.keys(o).reduce(function(A,E){var O=o[E],I=O.orientation;return!O.mirror&&!O.hide?Ve(Ve({},A),{},gn({},I,sl(A,"".concat(I))+O.height)):A},{top:p.top||0,bottom:p.bottom||0}),b=Ve(Ve({},y),v),w=b.bottom;m&&(b.bottom+=m.props.height||qv.defaultProps.height),x&&n&&(b=oOe(b,i,r,n));var j=u-b.left-b.right,P=f-b.top-b.bottom;return Ve(Ve({brushBottom:w},b),{},{width:Math.max(j,0),height:Math.max(P,0)})},xRe=function(t,n){if(n==="xAxis")return t[n].width;if(n==="yAxis")return t[n].height},Pb=function(t){var n=t.chartName,r=t.GraphicalChild,i=t.defaultTooltipEventType,a=i===void 0?"axis":i,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,f=t.formatAxisMap,h=t.defaultProps,p=function(b,w){var j=w.graphicalItems,P=w.stackGroups,A=w.offset,E=w.updateId,O=w.dataStartIndex,I=w.dataEndIndex,D=b.barSize,z=b.layout,T=b.barGap,k=b.barCategoryGap,F=b.maxBarSize,B=U8(z),H=B.numericAxisName,X=B.cateAxisName,ae=vRe(j),W=[];return j.forEach(function(te,ue){var ye=UN(b.data,{graphicalItems:[te],dataStartIndex:O,dataEndIndex:I}),V=te.type.defaultProps!==void 0?Ve(Ve({},te.type.defaultProps),te.props):te.props,ee=V.dataKey,Q=V.maxBarSize,de=V["".concat(H,"Id")],le=V["".concat(X,"Id")],ve={},Z=c.reduce(function(ct,fe){var Ne=w["".concat(fe.axisType,"Map")],Ie=V["".concat(fe.axisType,"Id")];Ne&&Ne[Ie]||fe.axisType==="zAxis"||cm();var He=Ne[Ie];return Ve(Ve({},ct),{},gn(gn({},fe.axisType,He),"".concat(fe.axisType,"Ticks"),kd(He)))},ve),ne=Z[X],ge=Z["".concat(X,"Ticks")],Ee=P&&P[de]&&P[de].hasStack&&yOe(te,P[de].stackGroups),be=Id(te.type).indexOf("Bar")>=0,Ue=i5(ne,ge),Pe=[],ce=ae&&aOe({barSize:D,stackGroups:P,totalSize:xRe(Z,X)});if(be){var it,_t,gt=pn(Q)?F:Q,Ye=(it=(_t=i5(ne,ge,!0))!==null&&_t!==void 0?_t:gt)!==null&&it!==void 0?it:0;Pe=sOe({barGap:T,barCategoryGap:k,bandSize:Ye!==Ue?Ye:Ue,sizeList:ce[le],maxBarSize:gt}),Ye!==Ue&&(Pe=Pe.map(function(ct){return Ve(Ve({},ct),{},{position:Ve(Ve({},ct.position),{},{offset:ct.position.offset-Ye/2})})}))}var mt=te&&te.type&&te.type.getComposedData;mt&&W.push({props:Ve(Ve({},mt(Ve(Ve({},Z),{},{displayedData:ye,props:b,dataKey:ee,item:te,bandSize:Ue,barPosition:Pe,offset:A,stackedData:Ee,layout:z,dataStartIndex:O,dataEndIndex:I}))),{},gn(gn(gn({key:te.key||"item-".concat(ue)},H,Z[H]),X,Z[X]),"animationId",E)),childIndex:s0e(te,b.children),item:te})}),W},m=function(b,w){var j=b.props,P=b.dataStartIndex,A=b.dataEndIndex,E=b.updateId;if(!Q6({props:j}))return null;var O=j.children,I=j.layout,D=j.stackOffset,z=j.data,T=j.reverseStackOrder,k=U8(I),F=k.numericAxisName,B=k.cateAxisName,H=Xs(O,r),X=gOe(z,H,"".concat(F,"Id"),"".concat(B,"Id"),D,T),ae=c.reduce(function(V,ee){var Q="".concat(ee.axisType,"Map");return Ve(Ve({},V),{},gn({},Q,mRe(j,Ve(Ve({},ee),{},{graphicalItems:H,stackGroups:ee.axisType===F&&X,dataStartIndex:P,dataEndIndex:A}))))},{}),W=yRe(Ve(Ve({},ae),{},{props:j,graphicalItems:H}),w==null?void 0:w.legendBBox);Object.keys(ae).forEach(function(V){ae[V]=f(j,ae[V],W,V.replace("Map",""),n)});var te=ae["".concat(B,"Map")],ue=gRe(te),ye=p(j,Ve(Ve({},ae),{},{dataStartIndex:P,dataEndIndex:A,updateId:E,graphicalItems:H,stackGroups:X,offset:W}));return Ve(Ve({formattedGraphicalItems:ye,graphicalItems:H,offset:W,stackGroups:X},ue),ae)},x=function(y){function b(w){var j,P,A;return QDe(this,b),A=tRe(this,b,[w]),gn(A,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),gn(A,"accessibilityManager",new $De),gn(A,"handleLegendBBoxUpdate",function(E){if(E){var O=A.state,I=O.dataStartIndex,D=O.dataEndIndex,z=O.updateId;A.setState(Ve({legendBBox:E},m({props:A.props,dataStartIndex:I,dataEndIndex:D,updateId:z},Ve(Ve({},A.state),{},{legendBBox:E}))))}}),gn(A,"handleReceiveSyncEvent",function(E,O,I){if(A.props.syncId===E){if(I===A.eventEmitterSymbol&&typeof A.props.syncMethod!="function")return;A.applySyncEvent(O)}}),gn(A,"handleBrushChange",function(E){var O=E.startIndex,I=E.endIndex;if(O!==A.state.dataStartIndex||I!==A.state.dataEndIndex){var D=A.state.updateId;A.setState(function(){return Ve({dataStartIndex:O,dataEndIndex:I},m({props:A.props,dataStartIndex:O,dataEndIndex:I,updateId:D},A.state))}),A.triggerSyncEvent({dataStartIndex:O,dataEndIndex:I})}}),gn(A,"handleMouseEnter",function(E){var O=A.getMouseInfo(E);if(O){var I=Ve(Ve({},O),{},{isTooltipActive:!0});A.setState(I),A.triggerSyncEvent(I);var D=A.props.onMouseEnter;hn(D)&&D(I,E)}}),gn(A,"triggeredAfterMouseMove",function(E){var O=A.getMouseInfo(E),I=O?Ve(Ve({},O),{},{isTooltipActive:!0}):{isTooltipActive:!1};A.setState(I),A.triggerSyncEvent(I);var D=A.props.onMouseMove;hn(D)&&D(I,E)}),gn(A,"handleItemMouseEnter",function(E){A.setState(function(){return{isTooltipActive:!0,activeItem:E,activePayload:E.tooltipPayload,activeCoordinate:E.tooltipPosition||{x:E.cx,y:E.cy}}})}),gn(A,"handleItemMouseLeave",function(){A.setState(function(){return{isTooltipActive:!1}})}),gn(A,"handleMouseMove",function(E){E.persist(),A.throttleTriggeredAfterMouseMove(E)}),gn(A,"handleMouseLeave",function(E){A.throttleTriggeredAfterMouseMove.cancel();var O={isTooltipActive:!1};A.setState(O),A.triggerSyncEvent(O);var I=A.props.onMouseLeave;hn(I)&&I(O,E)}),gn(A,"handleOuterEvent",function(E){var O=a0e(E),I=sl(A.props,"".concat(O));if(O&&hn(I)){var D,z;/.*touch.*/i.test(O)?z=A.getMouseInfo(E.changedTouches[0]):z=A.getMouseInfo(E),I((D=z)!==null&&D!==void 0?D:{},E)}}),gn(A,"handleClick",function(E){var O=A.getMouseInfo(E);if(O){var I=Ve(Ve({},O),{},{isTooltipActive:!0});A.setState(I),A.triggerSyncEvent(I);var D=A.props.onClick;hn(D)&&D(I,E)}}),gn(A,"handleMouseDown",function(E){var O=A.props.onMouseDown;if(hn(O)){var I=A.getMouseInfo(E);O(I,E)}}),gn(A,"handleMouseUp",function(E){var O=A.props.onMouseUp;if(hn(O)){var I=A.getMouseInfo(E);O(I,E)}}),gn(A,"handleTouchMove",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&A.throttleTriggeredAfterMouseMove(E.changedTouches[0])}),gn(A,"handleTouchStart",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&A.handleMouseDown(E.changedTouches[0])}),gn(A,"handleTouchEnd",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&A.handleMouseUp(E.changedTouches[0])}),gn(A,"handleDoubleClick",function(E){var O=A.props.onDoubleClick;if(hn(O)){var I=A.getMouseInfo(E);O(I,E)}}),gn(A,"handleContextMenu",function(E){var O=A.props.onContextMenu;if(hn(O)){var I=A.getMouseInfo(E);O(I,E)}}),gn(A,"triggerSyncEvent",function(E){A.props.syncId!==void 0&&VA.emit(WA,A.props.syncId,E,A.eventEmitterSymbol)}),gn(A,"applySyncEvent",function(E){var O=A.props,I=O.layout,D=O.syncMethod,z=A.state.updateId,T=E.dataStartIndex,k=E.dataEndIndex;if(E.dataStartIndex!==void 0||E.dataEndIndex!==void 0)A.setState(Ve({dataStartIndex:T,dataEndIndex:k},m({props:A.props,dataStartIndex:T,dataEndIndex:k,updateId:z},A.state)));else if(E.activeTooltipIndex!==void 0){var F=E.chartX,B=E.chartY,H=E.activeTooltipIndex,X=A.state,ae=X.offset,W=X.tooltipTicks;if(!ae)return;if(typeof D=="function")H=D(W,E);else if(D==="value"){H=-1;for(var te=0;te<W.length;te++)if(W[te].value===E.activeLabel){H=te;break}}var ue=Ve(Ve({},ae),{},{x:ae.left,y:ae.top}),ye=Math.min(F,ue.x+ue.width),V=Math.min(B,ue.y+ue.height),ee=W[H]&&W[H].value,Q=DO(A.state,A.props.data,H),de=W[H]?{x:I==="horizontal"?W[H].coordinate:ye,y:I==="horizontal"?V:W[H].coordinate}:fQ;A.setState(Ve(Ve({},E),{},{activeLabel:ee,activeCoordinate:de,activePayload:Q,activeTooltipIndex:H}))}else A.setState(E)}),gn(A,"renderCursor",function(E){var O,I=A.state,D=I.isTooltipActive,z=I.activeCoordinate,T=I.activePayload,k=I.offset,F=I.activeTooltipIndex,B=I.tooltipAxisBandSize,H=A.getTooltipEventType(),X=(O=E.props.active)!==null&&O!==void 0?O:D,ae=A.props.layout,W=E.key||"_recharts-cursor";return ie.createElement(WDe,{key:W,activeCoordinate:z,activePayload:T,activeTooltipIndex:F,chartName:n,element:E,isActive:X,layout:ae,offset:k,tooltipAxisBandSize:B,tooltipEventType:H})}),gn(A,"renderPolarAxis",function(E,O,I){var D=sl(E,"type.axisType"),z=sl(A.state,"".concat(D,"Map")),T=E.type.defaultProps,k=T!==void 0?Ve(Ve({},T),E.props):E.props,F=z&&z[k["".concat(D,"Id")]];return N.cloneElement(E,Ve(Ve({},F),{},{className:Pn(D,F.className),key:E.key||"".concat(O,"-").concat(I),ticks:kd(F,!0)}))}),gn(A,"renderPolarGrid",function(E){var O=E.props,I=O.radialLines,D=O.polarAngles,z=O.polarRadius,T=A.state,k=T.radiusAxisMap,F=T.angleAxisMap,B=Mf(k),H=Mf(F),X=H.cx,ae=H.cy,W=H.innerRadius,te=H.outerRadius;return N.cloneElement(E,{polarAngles:Array.isArray(D)?D:kd(H,!0).map(function(ue){return ue.coordinate}),polarRadius:Array.isArray(z)?z:kd(B,!0).map(function(ue){return ue.coordinate}),cx:X,cy:ae,innerRadius:W,outerRadius:te,key:E.key||"polar-grid",radialLines:I})}),gn(A,"renderLegend",function(){var E=A.state.formattedGraphicalItems,O=A.props,I=O.children,D=O.width,z=O.height,T=A.props.margin||{},k=D-(T.left||0)-(T.right||0),F=DX({children:I,formattedGraphicalItems:E,legendWidth:k,legendContent:u});if(!F)return null;var B=F.item,H=$8(F,HDe);return N.cloneElement(B,Ve(Ve({},H),{},{chartWidth:D,chartHeight:z,margin:T,onBBoxUpdate:A.handleLegendBBoxUpdate}))}),gn(A,"renderTooltip",function(){var E,O=A.props,I=O.children,D=O.accessibilityLayer,z=Ko(I,$i);if(!z)return null;var T=A.state,k=T.isTooltipActive,F=T.activeCoordinate,B=T.activePayload,H=T.activeLabel,X=T.offset,ae=(E=z.props.active)!==null&&E!==void 0?E:k;return N.cloneElement(z,{viewBox:Ve(Ve({},X),{},{x:X.left,y:X.top}),active:ae,label:H,payload:ae?B:[],coordinate:F,accessibilityLayer:D})}),gn(A,"renderBrush",function(E){var O=A.props,I=O.margin,D=O.data,z=A.state,T=z.offset,k=z.dataStartIndex,F=z.dataEndIndex,B=z.updateId;return N.cloneElement(E,{key:E.key||"_recharts-brush",onChange:Ww(A.handleBrushChange,E.props.onChange),data:D,x:pt(E.props.x)?E.props.x:T.left,y:pt(E.props.y)?E.props.y:T.top+T.height+T.brushBottom-(I.bottom||0),width:pt(E.props.width)?E.props.width:T.width,startIndex:k,endIndex:F,updateId:"brush-".concat(B)})}),gn(A,"renderReferenceElement",function(E,O,I){if(!E)return null;var D=A,z=D.clipPathId,T=A.state,k=T.xAxisMap,F=T.yAxisMap,B=T.offset,H=E.type.defaultProps||{},X=E.props,ae=X.xAxisId,W=ae===void 0?H.xAxisId:ae,te=X.yAxisId,ue=te===void 0?H.yAxisId:te;return N.cloneElement(E,{key:E.key||"".concat(O,"-").concat(I),xAxis:k[W],yAxis:F[ue],viewBox:{x:B.left,y:B.top,width:B.width,height:B.height},clipPathId:z})}),gn(A,"renderActivePoints",function(E){var O=E.item,I=E.activePoint,D=E.basePoint,z=E.childIndex,T=E.isRange,k=[],F=O.props.key,B=O.item.type.defaultProps!==void 0?Ve(Ve({},O.item.type.defaultProps),O.item.props):O.item.props,H=B.activeDot,X=B.dataKey,ae=Ve(Ve({index:z,dataKey:X,cx:I.x,cy:I.y,r:4,fill:f3(O.item),strokeWidth:2,stroke:"#fff",payload:I.payload,value:I.value},Xt(H,!1)),k_(H));return k.push(b.renderActiveDot(H,ae,"".concat(F,"-activePoint-").concat(z))),D?k.push(b.renderActiveDot(H,Ve(Ve({},ae),{},{cx:D.x,cy:D.y}),"".concat(F,"-basePoint-").concat(z))):T&&k.push(null),k}),gn(A,"renderGraphicChild",function(E,O,I){var D=A.filterFormatItem(E,O,I);if(!D)return null;var z=A.getTooltipEventType(),T=A.state,k=T.isTooltipActive,F=T.tooltipAxis,B=T.activeTooltipIndex,H=T.activeLabel,X=A.props.children,ae=Ko(X,$i),W=D.props,te=W.points,ue=W.isRange,ye=W.baseLine,V=D.item.type.defaultProps!==void 0?Ve(Ve({},D.item.type.defaultProps),D.item.props):D.item.props,ee=V.activeDot,Q=V.hide,de=V.activeBar,le=V.activeShape,ve=!!(!Q&&k&&ae&&(ee||de||le)),Z={};z!=="axis"&&ae&&ae.props.trigger==="click"?Z={onClick:Ww(A.handleItemMouseEnter,E.props.onClick)}:z!=="axis"&&(Z={onMouseLeave:Ww(A.handleItemMouseLeave,E.props.onMouseLeave),onMouseEnter:Ww(A.handleItemMouseEnter,E.props.onMouseEnter)});var ne=N.cloneElement(E,Ve(Ve({},D.props),Z));function ge(fe){return typeof F.dataKey=="function"?F.dataKey(fe.payload):null}if(ve)if(B>=0){var Ee,be;if(F.dataKey&&!F.allowDuplicatedCategory){var Ue=typeof F.dataKey=="function"?ge:"payload.".concat(F.dataKey.toString());Ee=O_(te,Ue,H),be=ue&&ye&&O_(ye,Ue,H)}else Ee=te==null?void 0:te[B],be=ue&&ye&&ye[B];if(le||de){var Pe=E.props.activeIndex!==void 0?E.props.activeIndex:B;return[N.cloneElement(E,Ve(Ve(Ve({},D.props),Z),{},{activeIndex:Pe})),null,null]}if(!pn(Ee))return[ne].concat(ny(A.renderActivePoints({item:D,activePoint:Ee,basePoint:be,childIndex:B,isRange:ue})))}else{var ce,it=(ce=A.getItemByXY(A.state.activeCoordinate))!==null&&ce!==void 0?ce:{graphicalItem:ne},_t=it.graphicalItem,gt=_t.item,Ye=gt===void 0?E:gt,mt=_t.childIndex,ct=Ve(Ve(Ve({},D.props),Z),{},{activeIndex:mt});return[N.cloneElement(Ye,ct),null,null]}return ue?[ne,null,null]:[ne,null]}),gn(A,"renderCustomized",function(E,O,I){return N.cloneElement(E,Ve(Ve({key:"recharts-customized-".concat(I)},A.props),A.state))}),gn(A,"renderMap",{CartesianGrid:{handler:Xw,once:!0},ReferenceArea:{handler:A.renderReferenceElement},ReferenceLine:{handler:Xw},ReferenceDot:{handler:A.renderReferenceElement},XAxis:{handler:Xw},YAxis:{handler:Xw},Brush:{handler:A.renderBrush,once:!0},Bar:{handler:A.renderGraphicChild},Line:{handler:A.renderGraphicChild},Area:{handler:A.renderGraphicChild},Radar:{handler:A.renderGraphicChild},RadialBar:{handler:A.renderGraphicChild},Scatter:{handler:A.renderGraphicChild},Pie:{handler:A.renderGraphicChild},Funnel:{handler:A.renderGraphicChild},Tooltip:{handler:A.renderCursor,once:!0},PolarGrid:{handler:A.renderPolarGrid,once:!0},PolarAngleAxis:{handler:A.renderPolarAxis},PolarRadiusAxis:{handler:A.renderPolarAxis},Customized:{handler:A.renderCustomized}}),A.clipPathId="".concat((j=w.id)!==null&&j!==void 0?j:Fh("recharts"),"-clip"),A.throttleTriggeredAfterMouseMove=MZ(A.triggeredAfterMouseMove,(P=w.throttleDelay)!==null&&P!==void 0?P:1e3/60),A.state={},A}return iRe(b,y),eRe(b,[{key:"componentDidMount",value:function(){var j,P;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(j=this.props.margin.left)!==null&&j!==void 0?j:0,top:(P=this.props.margin.top)!==null&&P!==void 0?P:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var j=this.props,P=j.children,A=j.data,E=j.height,O=j.layout,I=Ko(P,$i);if(I){var D=I.props.defaultIndex;if(!(typeof D!="number"||D<0||D>this.state.tooltipTicks.length-1)){var z=this.state.tooltipTicks[D]&&this.state.tooltipTicks[D].value,T=DO(this.state,A,D,z),k=this.state.tooltipTicks[D].coordinate,F=(this.state.offset.top+E)/2,B=O==="horizontal",H=B?{x:k,y:F}:{y:k,x:F},X=this.state.formattedGraphicalItems.find(function(W){var te=W.item;return te.type.name==="Scatter"});X&&(H=Ve(Ve({},H),X.props.points[D].tooltipPosition),T=X.props.points[D].tooltipPayload);var ae={activeTooltipIndex:D,isTooltipActive:!0,activeLabel:z,activePayload:T,activeCoordinate:H};this.setState(ae),this.renderCursor(I),this.accessibilityManager.setIndex(D)}}}},{key:"getSnapshotBeforeUpdate",value:function(j,P){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==P.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==j.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==j.margin){var A,E;this.accessibilityManager.setDetails({offset:{left:(A=this.props.margin.left)!==null&&A!==void 0?A:0,top:(E=this.props.margin.top)!==null&&E!==void 0?E:0}})}return null}},{key:"componentDidUpdate",value:function(j){lE([Ko(j.children,$i)],[Ko(this.props.children,$i)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var j=Ko(this.props.children,$i);if(j&&typeof j.props.shared=="boolean"){var P=j.props.shared?"axis":"item";return l.indexOf(P)>=0?P:a}return a}},{key:"getMouseInfo",value:function(j){if(!this.container)return null;var P=this.container,A=P.getBoundingClientRect(),E=TSe(A),O={chartX:Math.round(j.pageX-E.left),chartY:Math.round(j.pageY-E.top)},I=A.width/P.offsetWidth||1,D=this.inRange(O.chartX,O.chartY,I);if(!D)return null;var z=this.state,T=z.xAxisMap,k=z.yAxisMap,F=this.getTooltipEventType(),B=B8(this.state,this.props.data,this.props.layout,D);if(F!=="axis"&&T&&k){var H=Mf(T).scale,X=Mf(k).scale,ae=H&&H.invert?H.invert(O.chartX):null,W=X&&X.invert?X.invert(O.chartY):null;return Ve(Ve({},O),{},{xValue:ae,yValue:W},B)}return B?Ve(Ve({},O),B):null}},{key:"inRange",value:function(j,P){var A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,E=this.props.layout,O=j/A,I=P/A;if(E==="horizontal"||E==="vertical"){var D=this.state.offset,z=O>=D.left&&O<=D.left+D.width&&I>=D.top&&I<=D.top+D.height;return z?{x:O,y:I}:null}var T=this.state,k=T.angleAxisMap,F=T.radiusAxisMap;if(k&&F){var B=Mf(k);return oR({x:O,y:I},B)}return null}},{key:"parseEventsOfWrapper",value:function(){var j=this.props.children,P=this.getTooltipEventType(),A=Ko(j,$i),E={};A&&P==="axis"&&(A.props.trigger==="click"?E={onClick:this.handleClick}:E={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var O=k_(this.props,this.handleOuterEvent);return Ve(Ve({},O),E)}},{key:"addListener",value:function(){VA.on(WA,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){VA.removeListener(WA,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(j,P,A){for(var E=this.state.formattedGraphicalItems,O=0,I=E.length;O<I;O++){var D=E[O];if(D.item===j||D.props.key===j.key||P===Id(D.item.type)&&A===D.childIndex)return D}return null}},{key:"renderClipPath",value:function(){var j=this.clipPathId,P=this.state.offset,A=P.left,E=P.top,O=P.height,I=P.width;return ie.createElement("defs",null,ie.createElement("clipPath",{id:j},ie.createElement("rect",{x:A,y:E,height:O,width:I})))}},{key:"getXScales",value:function(){var j=this.state.xAxisMap;return j?Object.entries(j).reduce(function(P,A){var E=R8(A,2),O=E[0],I=E[1];return Ve(Ve({},P),{},gn({},O,I.scale))},{}):null}},{key:"getYScales",value:function(){var j=this.state.yAxisMap;return j?Object.entries(j).reduce(function(P,A){var E=R8(A,2),O=E[0],I=E[1];return Ve(Ve({},P),{},gn({},O,I.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(j){var P;return(P=this.state.xAxisMap)===null||P===void 0||(P=P[j])===null||P===void 0?void 0:P.scale}},{key:"getYScaleByAxisId",value:function(j){var P;return(P=this.state.yAxisMap)===null||P===void 0||(P=P[j])===null||P===void 0?void 0:P.scale}},{key:"getItemByXY",value:function(j){var P=this.state,A=P.formattedGraphicalItems,E=P.activeItem;if(A&&A.length)for(var O=0,I=A.length;O<I;O++){var D=A[O],z=D.props,T=D.item,k=T.type.defaultProps!==void 0?Ve(Ve({},T.type.defaultProps),T.props):T.props,F=Id(T.type);if(F==="Bar"){var B=(z.data||[]).find(function(W){return pTe(j,W)});if(B)return{graphicalItem:D,payload:B}}else if(F==="RadialBar"){var H=(z.data||[]).find(function(W){return oR(j,W)});if(H)return{graphicalItem:D,payload:H}}else if(TN(D,E)||IN(D,E)||j1(D,E)){var X=nIe({graphicalItem:D,activeTooltipItem:E,itemData:k.data}),ae=k.activeIndex===void 0?X:k.activeIndex;return{graphicalItem:Ve(Ve({},D),{},{childIndex:ae}),payload:j1(D,E)?k.data[X]:D.props.data[X]}}}return null}},{key:"render",value:function(){var j=this;if(!Q6(this))return null;var P=this.props,A=P.children,E=P.className,O=P.width,I=P.height,D=P.style,z=P.compact,T=P.title,k=P.desc,F=$8(P,KDe),B=Xt(F,!1);if(z)return ie.createElement(m8,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ie.createElement(uE,kg({},B,{width:O,height:I,title:T,desc:k}),this.renderClipPath(),eM(A,this.renderMap)));if(this.props.accessibilityLayer){var H,X;B.tabIndex=(H=this.props.tabIndex)!==null&&H!==void 0?H:0,B.role=(X=this.props.role)!==null&&X!==void 0?X:"application",B.onKeyDown=function(W){j.accessibilityManager.keyboardEvent(W)},B.onFocus=function(){j.accessibilityManager.focus()}}var ae=this.parseEventsOfWrapper();return ie.createElement(m8,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ie.createElement("div",kg({className:Pn("recharts-wrapper",E),style:Ve({position:"relative",cursor:"default",width:O,height:I},D)},ae,{ref:function(te){j.container=te}}),ie.createElement(uE,kg({},B,{width:O,height:I,title:T,desc:k,style:uRe}),this.renderClipPath(),eM(A,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(N.Component);gn(x,"displayName",n),gn(x,"defaultProps",Ve({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),gn(x,"getDerivedStateFromProps",function(y,b){var w=y.dataKey,j=y.data,P=y.children,A=y.width,E=y.height,O=y.layout,I=y.stackOffset,D=y.margin,z=b.dataStartIndex,T=b.dataEndIndex;if(b.updateId===void 0){var k=z8(y);return Ve(Ve(Ve({},k),{},{updateId:0},m(Ve(Ve({props:y},k),{},{updateId:0}),b)),{},{prevDataKey:w,prevData:j,prevWidth:A,prevHeight:E,prevLayout:O,prevStackOffset:I,prevMargin:D,prevChildren:P})}if(w!==b.prevDataKey||j!==b.prevData||A!==b.prevWidth||E!==b.prevHeight||O!==b.prevLayout||I!==b.prevStackOffset||!Vg(D,b.prevMargin)){var F=z8(y),B={chartX:b.chartX,chartY:b.chartY,isTooltipActive:b.isTooltipActive},H=Ve(Ve({},B8(b,j,O)),{},{updateId:b.updateId+1}),X=Ve(Ve(Ve({},F),B),H);return Ve(Ve(Ve({},X),m(Ve({props:y},X),b)),{},{prevDataKey:w,prevData:j,prevWidth:A,prevHeight:E,prevLayout:O,prevStackOffset:I,prevMargin:D,prevChildren:P})}if(!lE(P,b.prevChildren)){var ae,W,te,ue,ye=Ko(P,qv),V=ye&&(ae=(W=ye.props)===null||W===void 0?void 0:W.startIndex)!==null&&ae!==void 0?ae:z,ee=ye&&(te=(ue=ye.props)===null||ue===void 0?void 0:ue.endIndex)!==null&&te!==void 0?te:T,Q=V!==z||ee!==T,de=!pn(j),le=de&&!Q?b.updateId:b.updateId+1;return Ve(Ve({updateId:le},m(Ve(Ve({props:y},b),{},{updateId:le,dataStartIndex:V,dataEndIndex:ee}),b)),{},{prevChildren:P,dataStartIndex:V,dataEndIndex:ee})}return null}),gn(x,"renderActiveDot",function(y,b,w){var j;return N.isValidElement(y)?j=N.cloneElement(y,b):hn(y)?j=y(b):j=ie.createElement(Ab,b),ie.createElement(In,{className:"recharts-active-dot",key:w},j)});var v=N.forwardRef(function(b,w){return ie.createElement(x,kg({},b,{ref:w}))});return v.displayName=x.displayName,v},Qf=Pb({chartName:"LineChart",GraphicalChild:ii,axisComponents:[{axisType:"xAxis",AxisComp:Ra},{axisType:"yAxis",AxisComp:$a}],formatAxisMap:MN}),pQ=Pb({chartName:"BarChart",GraphicalChild:Hl,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Ra},{axisType:"yAxis",AxisComp:$a}],formatAxisMap:MN}),bRe=Pb({chartName:"PieChart",GraphicalChild:ef,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:kN},{axisType:"radiusAxis",AxisComp:EN}],formatAxisMap:COe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),wRe=Pb({chartName:"AreaChart",GraphicalChild:Gu,axisComponents:[{axisType:"xAxis",AxisComp:Ra},{axisType:"yAxis",AxisComp:$a}],formatAxisMap:MN}),_Re=Pb({chartName:"ComposedChart",GraphicalChild:[ii,Gu,Hl,zN],axisComponents:[{axisType:"xAxis",AxisComp:Ra},{axisType:"yAxis",AxisComp:$a},{axisType:"zAxis",AxisComp:BN}],formatAxisMap:MN});function jRe(e,t,n=!1){const r=typeof e=="string"?parseFloat(e.replace(/[^0-9.-]+/g,"")):e,i=typeof t=="string"?parseFloat(t.replace(/[^0-9.-]+/g,"")):t;if(isNaN(r)||isNaN(i))return"alert";const a=.9;return n?r<=i?"complies":r<=i*(1+(1-a))?"alert":"not_compliant":r>=i?"complies":r>=i*a?"alert":"not_compliant"}function NRe(e,t,n=!1){const r=typeof e=="string"?parseFloat(e.replace(/[^0-9.-]+/g,"")):e,i=typeof t=="string"?parseFloat(t.replace(/[^0-9.-]+/g,"")):t;if(isNaN(r)||isNaN(i))return"0.0%";let a;return n?r===0?a=i>0?200:0:a=i/r*100:i===0?a=r>0?100:0:a=r/i*100,`${a.toFixed(1)}%`}function SRe(e){const t=typeof e=="string"?new Date(e):e,n=String(t.getDate()).padStart(2,"0"),r=String(t.getMonth()+1).padStart(2,"0"),i=t.getFullYear(),a=String(t.getHours()).padStart(2,"0"),o=String(t.getMinutes()).padStart(2,"0");return`${n}/${r}/${i} ${a}:${o}`}const ARe=({kpiValues:e,title:t,isInverted:n=!1,unit:r="",target:i="0"})=>{const a=N.useMemo(()=>[...e].sort((c,u)=>{const f=c.date?new Date(c.date).getTime():0,h=u.date?new Date(u.date).getTime():0;return f-h}).map(c=>{let u=parseFloat(c.value.replace(/[^\d.-]/g,""));return{fecha:c.date?SRe(c.date):"Fecha no disponible",valor:u,period:c.period,original:c.value}}),[e]),o=parseFloat(i.replace(/[^\d.-]/g,""));return s.jsxs(ot,{className:"w-full h-full shadow-md",children:[s.jsxs(Ht,{children:[s.jsx("h3",{className:"text-lg font-bold",children:t}),s.jsx("p",{className:"text-sm text-gray-500",children:"Tendencia histórica"})]}),s.jsx(lt,{children:a.length>1?s.jsx(el,{width:"100%",height:300,children:s.jsxs(Qf,{data:a,margin:{top:5,right:30,left:20,bottom:5},children:[s.jsx(tl,{strokeDasharray:"3 3"}),s.jsx(Ra,{dataKey:"fecha",tick:{fontSize:12},angle:-45,textAnchor:"end",height:70}),s.jsx($a,{}),s.jsx($i,{formatter:(l,c)=>{const u=a.find(f=>f.valor===l);return[(u==null?void 0:u.original)||l,"Valor"]}}),s.jsx(Da,{}),s.jsx(ii,{type:"monotone",dataKey:"valor",name:"Valor",stroke:"#273949",activeDot:{r:8},strokeWidth:2,dot:{stroke:"#273949",strokeWidth:2,r:4,fill:"#fff"}}),s.jsx(ii,{type:"monotone",dataKey:()=>o,name:"Objetivo",stroke:"#b5e951",strokeDasharray:"5 5",dot:!1})]})}):s.jsx("div",{className:"flex items-center justify-center h-[300px] text-gray-500",children:a.length===0?"No hay datos históricos disponibles":"Se necesitan al menos dos puntos para mostrar la tendencia"})})]})};function PRe({kpiId:e,isOpen:t,onClose:n}){var A,E,O,I,D,z;const[r,i]=N.useState("overview"),a=()=>{const T=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],k=new Date;return`${T[k.getMonth()]} ${k.getFullYear()}`},[o,l]=N.useState({value:"",period:a(),comments:""}),{toast:c}=ss(),u=Xd();Qu();const{data:f,isLoading:h}=Zt({queryKey:["/api/kpis",e],queryFn:async()=>e?await(await Cr("GET",`/api/kpis/${e}`)).json():null,enabled:!!e&&t}),{data:p,isLoading:m}=Zt({queryKey:["/api/kpi-values",e],queryFn:async()=>e?await(await Cr("GET",`/api/kpi-values?kpiId=${e}`)).json():[],enabled:!!e&&t}),{data:x}=Zt({queryKey:["/api/areas",f==null?void 0:f.areaId],queryFn:async()=>f!=null&&f.areaId?await(await Cr("GET",`/api/areas/${f.areaId}`)).json():null,enabled:!!(f!=null&&f.areaId)&&t}),{data:v}=Zt({queryKey:["/api/companies",f==null?void 0:f.companyId],queryFn:async()=>f!=null&&f.companyId?await(await Cr("GET",`/api/companies/${f.companyId}`)).json():null,enabled:!!(f!=null&&f.companyId)&&t}),y=cr({mutationFn:async T=>await(await Cr("POST","/api/kpi-values",T)).json(),onSuccess:()=>{c({title:"Actualización registrada",description:"La actualización del KPI ha sido registrada exitosamente."}),l({value:"",period:a(),comments:""}),u.invalidateQueries({queryKey:["/api/kpi-values"]}),u.invalidateQueries({queryKey:["/api/kpi-values",e]})},onError:T=>{c({title:"Error",description:T.message||"No se pudo registrar la actualización. Intente nuevamente.",variant:"destructive"})}}),b=T=>{const{name:k,value:F}=T.target;l(B=>({...B,[k]:F}))},w=(T,k)=>{const F=(f==null?void 0:f.name.includes("Rotación de cuentas por cobrar"))||(f==null?void 0:f.name.includes("Velocidad de rotación"))||(f==null?void 0:f.name.includes("Tiempo"))&&!(f!=null&&f.name.includes("entrega"));console.log(`KPI ${f==null?void 0:f.name} - ¿Métrica invertida?: ${F}`),console.log(`Valor actual: ${T}, Objetivo: ${k}`);const B=NRe(T,k,F),H=jRe(T,k,F);return console.log(`Porcentaje calculado: ${B}, Estado: ${H}`),{compliancePercentage:B,status:H}},j=T=>{if(T.preventDefault(),!e||!(f!=null&&f.target))return;const{compliancePercentage:k,status:F}=w(o.value,f.target);console.log(`Enviando actualización de KPI ${e}: valor=${o.value}, porcentaje=${k}, estado=${F}`),y.mutate({...o,compliancePercentage:k,status:F,kpiId:e},{onSuccess:()=>{console.log("Actualizando todas las consultas de KPIs para refrescar datos en tiempo real"),u.invalidateQueries({queryKey:["/api/kpi-values"]}),u.invalidateQueries({queryKey:["/api/kpis"]}),u.invalidateQueries()}})},P=p&&Array.isArray(p)?p.filter(T=>T.kpiId===e).sort((T,k)=>{const F=X=>{const ae={Enero:1,Febrero:2,Marzo:3,Abril:4,Mayo:5,Junio:6,Julio:7,Agosto:8,Septiembre:9,Octubre:10,Noviembre:11,Diciembre:12},W=X.split(" ");if(W.length>=2){const te=W[0],ue=parseInt(W[1],10);if(ae[te]&&!isNaN(ue))return ue*100+ae[te]}return new Date(X).getTime()},B=F(T.period),H=F(k.period);return B&&H?B-H:new Date(T.date).getTime()-new Date(k.date).getTime()}).map(T=>{let k=T.value;return typeof T.value=="string"&&T.value.includes("KG")&&(k=parseInt(T.value.replace(/[^0-9,.]/g,"").replace(",",""),10)),{date:T.period,originalDate:$6(new Date(T.date)),value:T.value,numericValue:k,status:T.status,compliancePercentage:T.compliancePercentage?parseFloat(T.compliancePercentage.replace("%","")):0}}):[];return P.reduce((T,k)=>{const F=T.findIndex(B=>B.name===k.status);return F>=0?T[F].value+=1:T.push({name:k.status,value:1}),T},[]),t?s.jsx(vi,{open:t,onOpenChange:T=>!T&&n(),children:s.jsx(ui,{className:"max-w-4xl max-h-[95vh] overflow-y-auto p-3 sm:p-6",children:h?s.jsx("div",{className:"flex justify-center items-center h-40",children:s.jsx(go,{className:"h-8 w-8 animate-spin text-primary"})}):f?s.jsxs(s.Fragment,{children:[s.jsxs(di,{children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2",children:[s.jsx(fi,{className:"text-lg sm:text-xl font-bold",children:f.name}),s.jsx(Wn,{className:`text-xs whitespace-nowrap ${f.status==="complies"?"bg-green-100 text-green-800 hover:bg-green-200 dark:bg-green-900/40 dark:text-green-400":f.status==="alert"?"bg-yellow-100 text-yellow-800 hover:bg-yellow-200 dark:bg-yellow-900/40 dark:text-yellow-400":"bg-red-100 text-red-800 hover:bg-red-200 dark:bg-red-900/40 dark:text-red-400"}`,children:f.status==="complies"?"Cumple":f.status==="alert"?"Alerta":"No cumple"})]}),s.jsx(jo,{children:s.jsxs("div",{className:"mt-1 sm:mt-2 space-y-0.5 sm:space-y-1 text-xs sm:text-sm",children:[s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Objetivo:"})," ",f.target]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Área:"})," ",(x==null?void 0:x.name)||"Cargando..."]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Responsable:"})," ",f.responsible||"No asignado"]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Frecuencia:"})," ",f.frequency==="weekly"?"Semanal":f.frequency==="monthly"?"Mensual":f.frequency==="quarterly"?"Trimestral":f.frequency==="yearly"?"Anual":f.frequency]})]})})]}),s.jsxs(Nm,{value:r,onValueChange:i,className:"w-full mt-3 sm:mt-6",children:[s.jsxs(Rh,{className:"grid w-full grid-cols-3",children:[s.jsx(si,{className:"text-xs sm:text-sm py-1.5",value:"overview",children:"Visión General"}),s.jsx(si,{className:"text-xs sm:text-sm py-1.5",value:"history",children:"Historial"}),s.jsx(si,{className:"text-xs sm:text-sm py-1.5",value:"update",children:"Actualizar"})]}),s.jsxs(ua,{value:"overview",className:"space-y-3 sm:space-y-4 pt-2 sm:pt-4",children:[s.jsxs(ot,{className:"shadow-sm",children:[s.jsxs(Ht,{className:"pb-2 sm:pb-4",children:[s.jsx(Qt,{className:"text-sm sm:text-base",children:"Tendencia del Volumen de Ventas"}),s.jsx(fr,{className:"text-xs sm:text-sm",children:"Evolución del KPI en el tiempo"})]}),s.jsx(lt,{children:P.length>0?s.jsx(el,{width:"100%",height:250,children:s.jsxs(Qf,{data:P,margin:{top:5,right:10,left:0,bottom:5},children:[s.jsx(tl,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),s.jsx(Ra,{dataKey:"date",tick:{fontSize:10}}),s.jsx($a,{label:{value:"Kilogramos (KG)",angle:-90,position:"insideLeft",style:{fontSize:"10px"}},tick:{fontSize:10}}),s.jsx($i,{formatter:(T,k)=>typeof T=="string"&&T.includes("KG")?[`${T.replace(/[^0-9,.]/g,"").replace(",","")} KG`,"Volumen"]:[T,k],contentStyle:{fontSize:"12px"}}),s.jsx(Da,{wrapperStyle:{fontSize:"10px"}}),s.jsx(ii,{type:"monotone",dataKey:"numericValue",name:"Volumen (KG)",stroke:"#4f46e5",activeDot:{r:6},strokeWidth:2})]})}):s.jsx("div",{className:"flex justify-center items-center h-32 text-secondary-500 text-xs sm:text-sm",children:"No hay datos suficientes para mostrar la tendencia"})})]}),s.jsxs(ot,{className:"shadow-sm",children:[s.jsxs(Ht,{className:"pb-2 sm:pb-4",children:[s.jsx(Qt,{className:"text-sm sm:text-base",children:"Último Reporte"}),s.jsx(fr,{className:"text-xs sm:text-sm",children:"Detalles del último reporte registrado"})]}),s.jsx(lt,{children:P.length>0?s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-2 sm:gap-4",children:[s.jsxs("div",{className:"space-y-0.5 sm:space-y-1",children:[s.jsx("p",{className:"text-xs sm:text-sm font-medium text-secondary-500",children:"Fecha"}),s.jsx("p",{className:"text-xs sm:text-sm",children:P[P.length-1].date})]}),s.jsxs("div",{className:"space-y-0.5 sm:space-y-1",children:[s.jsx("p",{className:"text-xs sm:text-sm font-medium text-secondary-500",children:"Valor"}),s.jsx("p",{className:"text-xs sm:text-sm",children:P[P.length-1].value})]}),s.jsxs("div",{className:"space-y-0.5 sm:space-y-1",children:[s.jsx("p",{className:"text-xs sm:text-sm font-medium text-secondary-500",children:"Estado"}),s.jsx(Wn,{className:`text-xs ${P[P.length-1].status==="complies"?"bg-green-100 text-green-800 dark:bg-green-900/40 dark:text-green-400":P[P.length-1].status==="alert"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/40 dark:text-yellow-400":"bg-red-100 text-red-800 dark:bg-red-900/40 dark:text-red-400"}`,children:P[P.length-1].status==="complies"?"Cumple":P[P.length-1].status==="alert"?"Alerta":"No cumple"})]}),s.jsxs("div",{className:"space-y-0.5 sm:space-y-1",children:[s.jsx("p",{className:"text-xs sm:text-sm font-medium text-secondary-500",children:"% Cumplimiento"}),s.jsxs("p",{className:"text-xs sm:text-sm",children:[P[P.length-1].compliancePercentage,"%"]})]})]}),p&&p.length>0&&p[p.length-1].comments&&s.jsxs("div",{className:"mt-3 sm:mt-4",children:[s.jsx("p",{className:"text-xs sm:text-sm font-medium text-secondary-500",children:"Comentarios"}),s.jsx("p",{className:"text-xs sm:text-sm mt-1",children:p[p.length-1].comments})]})]}):s.jsx("div",{className:"text-center text-secondary-500 text-xs sm:text-sm py-4",children:"No hay reportes registrados aún"})})]})]}),s.jsxs(ua,{value:"history",className:"pt-2 sm:pt-4",children:[s.jsx("div",{className:"mb-4",children:m?s.jsx("div",{className:"flex justify-center items-center h-32",children:s.jsx(go,{className:"h-6 w-6 sm:h-8 sm:w-8 animate-spin text-primary"})}):p&&Array.isArray(p)&&p.length>1?s.jsx(ARe,{kpiValues:p,title:`Tendencia histórica de ${(f==null?void 0:f.name)||"KPI"}`,isInverted:((A=f==null?void 0:f.name)==null?void 0:A.includes("Rotación de cuentas por cobrar"))||((E=f==null?void 0:f.name)==null?void 0:E.includes("Velocidad de rotación"))||((O=f==null?void 0:f.name)==null?void 0:O.includes("Tiempo"))&&!((I=f==null?void 0:f.name)!=null&&I.includes("entrega")),unit:f==null?void 0:f.unit,target:f==null?void 0:f.target}):s.jsx(ot,{className:"shadow-sm",children:s.jsx(lt,{className:"p-6",children:s.jsx("div",{className:"flex justify-center items-center h-32 text-secondary-500 text-sm",children:p&&Array.isArray(p)&&p.length===1?"Se necesitan al menos dos puntos de datos para mostrar la tendencia histórica":"No hay datos históricos disponibles para este KPI"})})})}),s.jsxs(ot,{className:"shadow-sm",children:[s.jsxs(Ht,{className:"pb-2 sm:pb-4",children:[s.jsx(Qt,{className:"text-sm sm:text-base",children:"Historial de Actualizaciones"}),s.jsx(fr,{className:"text-xs sm:text-sm",children:"Registro cronológico de las actualizaciones del KPI"})]}),s.jsx(lt,{children:m?s.jsx("div",{className:"flex justify-center items-center h-32",children:s.jsx(go,{className:"h-6 w-6 sm:h-8 sm:w-8 animate-spin text-primary"})}):p&&p.length>0?s.jsx("div",{className:"space-y-3 sm:space-y-4",children:p.sort((T,k)=>new Date(k.date).getTime()-new Date(T.date).getTime()).map((T,k)=>s.jsxs("div",{className:"border rounded-lg p-2 sm:p-4 space-y-2 sm:space-y-3",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-2 sm:gap-4",children:[s.jsxs("div",{className:"space-y-0.5 sm:space-y-1",children:[s.jsx("p",{className:"text-xs sm:text-sm font-medium text-secondary-500",children:"Fecha"}),s.jsx("p",{className:"text-xs sm:text-sm",children:T.period||$6(new Date(T.date))})]}),s.jsxs("div",{className:"space-y-0.5 sm:space-y-1",children:[s.jsx("p",{className:"text-xs sm:text-sm font-medium text-secondary-500",children:"Valor"}),s.jsx("p",{className:"text-xs sm:text-sm",children:T.value})]}),s.jsxs("div",{className:"space-y-0.5 sm:space-y-1",children:[s.jsx("p",{className:"text-xs sm:text-sm font-medium text-secondary-500",children:"Estado"}),s.jsx(Wn,{className:`text-xs ${T.status==="complies"?"bg-green-100 text-green-800 dark:bg-green-900/40 dark:text-green-400":T.status==="alert"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/40 dark:text-yellow-400":"bg-red-100 text-red-800 dark:bg-red-900/40 dark:text-red-400"}`,children:T.status==="complies"?"Cumple":T.status==="alert"?"Alerta":"No cumple"})]}),s.jsxs("div",{className:"space-y-0.5 sm:space-y-1",children:[s.jsx("p",{className:"text-xs sm:text-sm font-medium text-secondary-500",children:"% Cumplimiento"}),s.jsx("p",{className:"text-xs sm:text-sm",children:T.compliancePercentage||"-"})]})]}),T.comments&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs sm:text-sm font-medium text-secondary-500",children:"Comentarios"}),s.jsx("p",{className:"text-xs sm:text-sm mt-0.5 sm:mt-1",children:T.comments})]})]},k))}):s.jsx("div",{className:"text-center text-secondary-500 text-xs sm:text-sm py-6 sm:py-10",children:"No hay actualizaciones registradas para este KPI"})})]})]}),s.jsx(ua,{value:"update",className:"pt-2 sm:pt-4",children:s.jsxs(ot,{className:"shadow-sm",children:[s.jsxs(Ht,{className:"pb-2 sm:pb-4",children:[s.jsx(Qt,{className:"text-sm sm:text-base",children:"Registrar Nueva Actualización"}),s.jsx(fr,{className:"text-xs sm:text-sm",children:"Complete el formulario para registrar una nueva actualización del KPI"})]}),s.jsx(lt,{children:s.jsxs("form",{onSubmit:j,className:"space-y-3 sm:space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 gap-3 sm:gap-4 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-1 sm:space-y-2",children:[s.jsx(xt,{htmlFor:"value",className:"text-xs sm:text-sm",children:"Valor Actual"}),s.jsx(Mt,{id:"value",name:"value",className:"text-xs sm:text-sm h-8 sm:h-10",placeholder:(D=f==null?void 0:f.name)!=null&&D.includes("Volumen de ventas")&&(v==null?void 0:v.name)==="Dura International"?"Ej: 52,450 KG":(z=f==null?void 0:f.name)!=null&&z.includes("Volumen de ventas")&&(v==null?void 0:v.name)==="Grupo Orsega"?"Ej: 760,000 unidades":"Ej: 98.5%",value:o.value,onChange:b,required:!0})]}),s.jsxs("div",{className:"space-y-1 sm:space-y-2",children:[s.jsx(xt,{htmlFor:"period",className:"text-xs sm:text-sm",children:"Período"}),s.jsx("div",{className:"flex items-center border rounded-md h-8 sm:h-10 px-3 bg-secondary-50 dark:bg-secondary-900/20",children:s.jsxs("div",{className:"text-xs sm:text-sm text-secondary-700 dark:text-secondary-300 flex-1",children:[o.period," ",s.jsx("span",{className:"text-xs text-secondary-500",children:"(período actual)"})]})}),s.jsx("p",{className:"text-xs text-secondary-500 mt-1",children:"El período se establece automáticamente al mes actual."})]}),s.jsxs("div",{className:"space-y-1 sm:space-y-2 md:col-span-2",children:[s.jsx(xt,{className:"text-xs sm:text-sm",children:"Estado y Cumplimiento"}),s.jsxs("div",{className:"px-3 sm:px-4 py-2 sm:py-3 rounded-md bg-secondary/10 text-xs sm:text-sm",children:["El estado y porcentaje de cumplimiento se calcularán automáticamente al enviar el formulario, basándose en el valor ingresado y la meta establecida.",f!=null&&f.name.includes("Velocidad de rotación")||f!=null&&f.name.includes("Tiempo")&&!(f!=null&&f.name.includes("entrega"))?s.jsx("p",{className:"mt-1 font-medium text-primary-700 dark:text-primary-500",children:"Nota: Para este KPI, valores menores al objetivo representan un mejor desempeño."}):null]})]})]}),s.jsxs("div",{className:"space-y-1 sm:space-y-2",children:[s.jsx(xt,{htmlFor:"comments",className:"text-xs sm:text-sm",children:"Comentarios"}),s.jsx(Hu,{id:"comments",name:"comments",className:"text-xs sm:text-sm min-h-[80px] sm:min-h-[100px]",placeholder:"Ingrese detalles, causas, acciones tomadas, etc.",value:o.comments,onChange:b,rows:3})]}),s.jsxs(am,{className:"mt-4 sm:mt-6 flex flex-col-reverse sm:flex-row gap-2 sm:gap-0",children:[s.jsx(Je,{type:"button",variant:"outline",onClick:n,disabled:y.isPending,className:"w-full sm:w-auto text-xs sm:text-sm py-1.5 sm:py-2 h-8 sm:h-10",children:"Cancelar"}),s.jsx(Je,{type:"submit",disabled:y.isPending,className:"w-full sm:w-auto text-xs sm:text-sm py-1.5 sm:py-2 h-8 sm:h-10",children:y.isPending?s.jsxs(s.Fragment,{children:[s.jsx(go,{className:"mr-2 h-3 w-3 sm:h-4 sm:w-4 animate-spin"}),"Guardando..."]}):"Guardar Actualización"})]})]})})]})})]})]}):s.jsxs(di,{children:[s.jsx(fi,{children:"KPI no encontrado"}),s.jsx(jo,{children:"No se pudo cargar la información del KPI."})]})})}):null}function RO(e,[t,n]){return Math.min(n,Math.max(t,e))}function CRe(e,t){return N.useReducer((n,r)=>t[n][r]??n,e)}var _3="ScrollArea",[mQ,sGe]=Ba(_3),[ERe,ec]=mQ(_3),gQ=N.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:a=600,...o}=e,[l,c]=N.useState(null),[u,f]=N.useState(null),[h,p]=N.useState(null),[m,x]=N.useState(null),[v,y]=N.useState(null),[b,w]=N.useState(0),[j,P]=N.useState(0),[A,E]=N.useState(!1),[O,I]=N.useState(!1),D=Dn(t,T=>c(T)),z=wy(i);return s.jsx(ERe,{scope:n,type:r,dir:z,scrollHideDelay:a,scrollArea:l,viewport:u,onViewportChange:f,content:h,onContentChange:p,scrollbarX:m,onScrollbarXChange:x,scrollbarXEnabled:A,onScrollbarXEnabledChange:E,scrollbarY:v,onScrollbarYChange:y,scrollbarYEnabled:O,onScrollbarYEnabledChange:I,onCornerWidthChange:w,onCornerHeightChange:P,children:s.jsx(Rt.div,{dir:z,...o,ref:D,style:{position:"relative","--radix-scroll-area-corner-width":b+"px","--radix-scroll-area-corner-height":j+"px",...e.style}})})});gQ.displayName=_3;var vQ="ScrollAreaViewport",yQ=N.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,nonce:i,...a}=e,o=ec(vQ,n),l=N.useRef(null),c=Dn(t,l,o.onViewportChange);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),s.jsx(Rt.div,{"data-radix-scroll-area-viewport":"",...a,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:s.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});yQ.displayName=vQ;var td="ScrollAreaScrollbar",j3=N.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=ec(td,e.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:o}=i,l=e.orientation==="horizontal";return N.useEffect(()=>(l?a(!0):o(!0),()=>{l?a(!1):o(!1)}),[l,a,o]),i.type==="hover"?s.jsx(ORe,{...r,ref:t,forceMount:n}):i.type==="scroll"?s.jsx(kRe,{...r,ref:t,forceMount:n}):i.type==="auto"?s.jsx(xQ,{...r,ref:t,forceMount:n}):i.type==="always"?s.jsx(N3,{...r,ref:t}):null});j3.displayName=td;var ORe=N.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=ec(td,e.__scopeScrollArea),[a,o]=N.useState(!1);return N.useEffect(()=>{const l=i.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),o(!0)},f=()=>{c=window.setTimeout(()=>o(!1),i.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",f),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",f)}}},[i.scrollArea,i.scrollHideDelay]),s.jsx(os,{present:n||a,children:s.jsx(xQ,{"data-state":a?"visible":"hidden",...r,ref:t})})}),kRe=N.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=ec(td,e.__scopeScrollArea),a=e.orientation==="horizontal",o=VN(()=>c("SCROLL_END"),100),[l,c]=CRe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return N.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,i.scrollHideDelay,c]),N.useEffect(()=>{const u=i.viewport,f=a?"scrollLeft":"scrollTop";if(u){let h=u[f];const p=()=>{const m=u[f];h!==m&&(c("SCROLL"),o()),h=m};return u.addEventListener("scroll",p),()=>u.removeEventListener("scroll",p)}},[i.viewport,a,c,o]),s.jsx(os,{present:n||l!=="hidden",children:s.jsx(N3,{"data-state":l==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:yt(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:yt(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),xQ=N.forwardRef((e,t)=>{const n=ec(td,e.__scopeScrollArea),{forceMount:r,...i}=e,[a,o]=N.useState(!1),l=e.orientation==="horizontal",c=VN(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,f=n.viewport.offsetHeight<n.viewport.scrollHeight;o(l?u:f)}},10);return ry(n.viewport,c),ry(n.content,c),s.jsx(os,{present:r||a,children:s.jsx(N3,{"data-state":a?"visible":"hidden",...i,ref:t})})}),N3=N.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,i=ec(td,e.__scopeScrollArea),a=N.useRef(null),o=N.useRef(0),[l,c]=N.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=NQ(l.viewport,l.content),f={...r,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:p=>a.current=p,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:p=>o.current=p};function h(p,m){return RRe(p,o.current,l,m)}return n==="horizontal"?s.jsx(TRe,{...f,ref:t,onThumbPositionChange:()=>{if(i.viewport&&a.current){const p=i.viewport.scrollLeft,m=q8(p,l,i.dir);a.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:p=>{i.viewport&&(i.viewport.scrollLeft=p)},onDragScroll:p=>{i.viewport&&(i.viewport.scrollLeft=h(p,i.dir))}}):n==="vertical"?s.jsx(IRe,{...f,ref:t,onThumbPositionChange:()=>{if(i.viewport&&a.current){const p=i.viewport.scrollTop,m=q8(p,l);a.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:p=>{i.viewport&&(i.viewport.scrollTop=p)},onDragScroll:p=>{i.viewport&&(i.viewport.scrollTop=h(p))}}):null}),TRe=N.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...i}=e,a=ec(td,e.__scopeScrollArea),[o,l]=N.useState(),c=N.useRef(null),u=Dn(t,c,a.onScrollbarXChange);return N.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(wQ,{"data-orientation":"horizontal",...i,ref:u,sizes:n,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":qN(n)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.x),onDragScroll:f=>e.onDragScroll(f.x),onWheelScroll:(f,h)=>{if(a.viewport){const p=a.viewport.scrollLeft+f.deltaX;e.onWheelScroll(p),AQ(p,h)&&f.preventDefault()}},onResize:()=>{c.current&&a.viewport&&o&&r({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:M5(o.paddingLeft),paddingEnd:M5(o.paddingRight)}})}})}),IRe=N.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...i}=e,a=ec(td,e.__scopeScrollArea),[o,l]=N.useState(),c=N.useRef(null),u=Dn(t,c,a.onScrollbarYChange);return N.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(wQ,{"data-orientation":"vertical",...i,ref:u,sizes:n,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":qN(n)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.y),onDragScroll:f=>e.onDragScroll(f.y),onWheelScroll:(f,h)=>{if(a.viewport){const p=a.viewport.scrollTop+f.deltaY;e.onWheelScroll(p),AQ(p,h)&&f.preventDefault()}},onResize:()=>{c.current&&a.viewport&&o&&r({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:M5(o.paddingTop),paddingEnd:M5(o.paddingBottom)}})}})}),[LRe,bQ]=mQ(td),wQ=N.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:a,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:f,onResize:h,...p}=e,m=ec(td,n),[x,v]=N.useState(null),y=Dn(t,D=>v(D)),b=N.useRef(null),w=N.useRef(""),j=m.viewport,P=r.content-r.viewport,A=gi(f),E=gi(c),O=VN(h,10);function I(D){if(b.current){const z=D.clientX-b.current.left,T=D.clientY-b.current.top;u({x:z,y:T})}}return N.useEffect(()=>{const D=z=>{const T=z.target;(x==null?void 0:x.contains(T))&&A(z,P)};return document.addEventListener("wheel",D,{passive:!1}),()=>document.removeEventListener("wheel",D,{passive:!1})},[j,x,P,A]),N.useEffect(E,[r,E]),ry(x,O),ry(m.content,O),s.jsx(LRe,{scope:n,scrollbar:x,hasThumb:i,onThumbChange:gi(a),onThumbPointerUp:gi(o),onThumbPositionChange:E,onThumbPointerDown:gi(l),children:s.jsx(Rt.div,{...p,ref:y,style:{position:"absolute",...p.style},onPointerDown:yt(e.onPointerDown,D=>{D.button===0&&(D.target.setPointerCapture(D.pointerId),b.current=x.getBoundingClientRect(),w.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),I(D))}),onPointerMove:yt(e.onPointerMove,I),onPointerUp:yt(e.onPointerUp,D=>{const z=D.target;z.hasPointerCapture(D.pointerId)&&z.releasePointerCapture(D.pointerId),document.body.style.webkitUserSelect=w.current,m.viewport&&(m.viewport.style.scrollBehavior=""),b.current=null})})})}),L5="ScrollAreaThumb",_Q=N.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=bQ(L5,e.__scopeScrollArea);return s.jsx(os,{present:n||i.hasThumb,children:s.jsx(MRe,{ref:t,...r})})}),MRe=N.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...i}=e,a=ec(L5,n),o=bQ(L5,n),{onThumbPositionChange:l}=o,c=Dn(t,h=>o.onThumbChange(h)),u=N.useRef(void 0),f=VN(()=>{u.current&&(u.current(),u.current=void 0)},100);return N.useEffect(()=>{const h=a.viewport;if(h){const p=()=>{if(f(),!u.current){const m=$Re(h,l);u.current=m,l()}};return l(),h.addEventListener("scroll",p),()=>h.removeEventListener("scroll",p)}},[a.viewport,f,l]),s.jsx(Rt.div,{"data-state":o.hasThumb?"visible":"hidden",...i,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:yt(e.onPointerDownCapture,h=>{const m=h.target.getBoundingClientRect(),x=h.clientX-m.left,v=h.clientY-m.top;o.onThumbPointerDown({x,y:v})}),onPointerUp:yt(e.onPointerUp,o.onThumbPointerUp)})});_Q.displayName=L5;var S3="ScrollAreaCorner",jQ=N.forwardRef((e,t)=>{const n=ec(S3,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?s.jsx(DRe,{...e,ref:t}):null});jQ.displayName=S3;var DRe=N.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,i=ec(S3,n),[a,o]=N.useState(0),[l,c]=N.useState(0),u=!!(a&&l);return ry(i.scrollbarX,()=>{var h;const f=((h=i.scrollbarX)==null?void 0:h.offsetHeight)||0;i.onCornerHeightChange(f),c(f)}),ry(i.scrollbarY,()=>{var h;const f=((h=i.scrollbarY)==null?void 0:h.offsetWidth)||0;i.onCornerWidthChange(f),o(f)}),u?s.jsx(Rt.div,{...r,ref:t,style:{width:a,height:l,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function M5(e){return e?parseInt(e,10):0}function NQ(e,t){const n=e/t;return isNaN(n)?0:n}function qN(e){const t=NQ(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function RRe(e,t,n,r="ltr"){const i=qN(n),a=i/2,o=t||a,l=i-o,c=n.scrollbar.paddingStart+o,u=n.scrollbar.size-n.scrollbar.paddingEnd-l,f=n.content-n.viewport,h=r==="ltr"?[0,f]:[f*-1,0];return SQ([c,u],h)(e)}function q8(e,t,n="ltr"){const r=qN(t),i=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=t.scrollbar.size-i,o=t.content-t.viewport,l=a-r,c=n==="ltr"?[0,o]:[o*-1,0],u=RO(e,c);return SQ([0,o],[0,l])(u)}function SQ(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function AQ(e,t){return e>0&&e<t}var $Re=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function i(){const a={left:e.scrollLeft,top:e.scrollTop},o=n.left!==a.left,l=n.top!==a.top;(o||l)&&t(),n=a,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)};function VN(e,t){const n=gi(e),r=N.useRef(0);return N.useEffect(()=>()=>window.clearTimeout(r.current),[]),N.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function ry(e,t){const n=gi(t);na(()=>{let r=0;if(e){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(e),()=>{window.cancelAnimationFrame(r),i.unobserve(e)}}},[e,n])}var PQ=gQ,FRe=yQ,BRe=jQ;const cx=N.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(PQ,{ref:r,className:wt("relative overflow-hidden",e),...n,children:[s.jsx(FRe,{className:"h-full w-full rounded-[inherit]",children:t}),s.jsx(CQ,{}),s.jsx(BRe,{})]}));cx.displayName=PQ.displayName;const CQ=N.forwardRef(({className:e,orientation:t="vertical",...n},r)=>s.jsx(j3,{ref:r,orientation:t,className:wt("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:s.jsx(_Q,{className:"relative flex-1 rounded-full bg-border"})}));CQ.displayName=j3.displayName;const V8={complies:"En cumplimiento",alert:"En alerta",not_compliant:"Fuera de objetivo",all:"Todos los KPIs"},zRe={complies:s.jsx(Vu,{className:"h-5 w-5 text-green-500"}),alert:s.jsx(Lc,{className:"h-5 w-5 text-yellow-500"}),not_compliant:s.jsx(nm,{className:"h-5 w-5 text-red-500"}),all:s.jsx(Us,{className:"h-5 w-5 text-blue-500"})};function URe({isOpen:e,onClose:t,status:n,kpis:r,onViewKpiDetails:i}){var c;const[a,o]=N.useState([]);N.useEffect(()=>{o(n==="all"||!n?r:r.filter(u=>u.status===n))},[r,n]);const l=n==="complies"?"text-green-600 bg-green-50 dark:text-green-400 dark:bg-green-900/30":n==="alert"?"text-yellow-600 bg-yellow-50 dark:text-yellow-400 dark:bg-yellow-900/30":n==="not_compliant"?"text-red-600 bg-red-50 dark:text-red-400 dark:bg-red-900/30":"text-primary-600 bg-primary-50 dark:text-primary-400 dark:bg-primary-900/30";return s.jsx(vi,{open:e,onOpenChange:t,children:s.jsxs(ui,{className:"sm:max-w-2xl max-h-[95vh] overflow-hidden",children:[s.jsxs(di,{children:[s.jsxs("div",{className:"flex items-center mb-1 sm:mb-2",children:[s.jsx("div",{className:`h-6 w-6 sm:h-8 sm:w-8 rounded-full flex items-center justify-center mr-2 ${l}`,children:n&&zRe[n]}),s.jsx(fi,{className:"text-base sm:text-xl",children:n?V8[n]:"Todos los KPIs"})]}),s.jsxs(jo,{className:"text-xs sm:text-sm",children:[a.length," KPIs",n!=="all"&&n?` en estado "${(c=V8[n])==null?void 0:c.toLowerCase()}"`:""]})]}),s.jsx(cx,{className:"max-h-[calc(70vh-80px)] mt-2 sm:mt-4",children:s.jsx("div",{className:"space-y-2 sm:space-y-3 pr-2 sm:pr-4",children:a.length>0?a.map(u=>s.jsx(ot,{className:`border ${u.status==="complies"?"border-green-100 hover:border-green-300":u.status==="alert"?"border-yellow-100 hover:border-yellow-300":"border-red-100 hover:border-red-300"} cursor-pointer transition-all hover:shadow-sm`,onClick:()=>i&&i(u.id),children:s.jsxs(lt,{className:"p-3 sm:p-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:`h-6 w-6 sm:h-8 sm:w-8 rounded-full flex items-center justify-center mr-2 sm:mr-3 ${u.status==="complies"?"bg-green-100 text-green-600 dark:bg-green-900/40 dark:text-green-400":u.status==="alert"?"bg-yellow-100 text-yellow-600 dark:bg-yellow-900/40 dark:text-yellow-400":"bg-red-100 text-red-600 dark:bg-red-900/40 dark:text-red-400"}`,children:u.status==="complies"?s.jsx(Vu,{className:"h-3 w-3 sm:h-4 sm:w-4"}):u.status==="alert"?s.jsx(Lc,{className:"h-3 w-3 sm:h-4 sm:w-4"}):s.jsx(nm,{className:"h-3 w-3 sm:h-4 sm:w-4"})}),s.jsx("div",{className:"min-w-0 flex-1 mr-2",children:s.jsx("h3",{className:"font-medium text-sm sm:text-base truncate",children:u.name})})]}),s.jsx(Wn,{className:`text-xs whitespace-nowrap ${u.status==="complies"?"bg-green-100 text-green-800 dark:bg-green-900/40 dark:text-green-400":u.status==="alert"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/40 dark:text-yellow-400":"bg-red-100 text-red-800 dark:bg-red-900/40 dark:text-red-400"}`,children:u.status==="complies"?"Cumple":u.status==="alert"?"Alerta":"No Cumple"})]}),(u.value||u.target||u.compliancePercentage)&&s.jsxs("div",{className:"mt-2 sm:mt-3 flex flex-wrap sm:flex-nowrap items-center justify-between gap-y-2",children:[s.jsxs("div",{className:"flex space-x-4 sm:space-x-6",children:[u.value&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Valor actual"}),s.jsx("p",{className:"font-medium text-xs sm:text-sm",children:u.value})]}),u.target&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Objetivo"}),s.jsx("p",{className:"font-medium text-xs sm:text-sm",children:u.target})]})]}),u.compliancePercentage&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Cumplimiento"}),s.jsx("p",{className:`text-xs sm:text-sm ${u.status==="complies"?"font-medium text-green-600 dark:text-green-400":u.status==="alert"?"font-medium text-yellow-600 dark:text-yellow-400":"font-medium text-red-600 dark:text-red-400"}`,children:u.compliancePercentage||"—"})]})]}),u.comments&&s.jsx("div",{className:"mt-2 text-xs sm:text-sm text-gray-500 p-2 bg-gray-50 dark:bg-gray-900/20 rounded-md",children:u.comments})]})},u.id)):s.jsx("div",{className:"text-center py-8 text-gray-500 text-sm",children:"No se encontraron KPIs con el estado seleccionado."})})})]})})}var qRe="Toggle",A3=N.forwardRef((e,t)=>{const{pressed:n,defaultPressed:r=!1,onPressedChange:i,...a}=e,[o=!1,l]=cl({prop:n,onChange:i,defaultProp:r});return s.jsx(Rt.button,{type:"button","aria-pressed":o,"data-state":o?"on":"off","data-disabled":e.disabled?"":void 0,...a,ref:t,onClick:yt(e.onClick,()=>{e.disabled||l(!o)})})});A3.displayName=qRe;var EQ=A3,Ry="ToggleGroup",[OQ,oGe]=Ba(Ry,[_y]),kQ=_y(),P3=ie.forwardRef((e,t)=>{const{type:n,...r}=e;if(n==="single"){const i=r;return s.jsx(VRe,{...i,ref:t})}if(n==="multiple"){const i=r;return s.jsx(WRe,{...i,ref:t})}throw new Error(`Missing prop \`type\` expected on \`${Ry}\``)});P3.displayName=Ry;var[TQ,IQ]=OQ(Ry),VRe=ie.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:i=()=>{},...a}=e,[o,l]=cl({prop:n,defaultProp:r,onChange:i});return s.jsx(TQ,{scope:e.__scopeToggleGroup,type:"single",value:o?[o]:[],onItemActivate:l,onItemDeactivate:ie.useCallback(()=>l(""),[l]),children:s.jsx(LQ,{...a,ref:t})})}),WRe=ie.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:i=()=>{},...a}=e,[o=[],l]=cl({prop:n,defaultProp:r,onChange:i}),c=ie.useCallback(f=>l((h=[])=>[...h,f]),[l]),u=ie.useCallback(f=>l((h=[])=>h.filter(p=>p!==f)),[l]);return s.jsx(TQ,{scope:e.__scopeToggleGroup,type:"multiple",value:o,onItemActivate:c,onItemDeactivate:u,children:s.jsx(LQ,{...a,ref:t})})});P3.displayName=Ry;var[HRe,KRe]=OQ(Ry),LQ=ie.forwardRef((e,t)=>{const{__scopeToggleGroup:n,disabled:r=!1,rovingFocus:i=!0,orientation:a,dir:o,loop:l=!0,...c}=e,u=kQ(n),f=wy(o),h={role:"group",dir:f,...c};return s.jsx(HRe,{scope:n,rovingFocus:i,disabled:r,children:i?s.jsx(Xk,{asChild:!0,...u,orientation:a,dir:f,loop:l,children:s.jsx(Rt.div,{...h,ref:t})}):s.jsx(Rt.div,{...h,ref:t})})}),D5="ToggleGroupItem",MQ=ie.forwardRef((e,t)=>{const n=IQ(D5,e.__scopeToggleGroup),r=KRe(D5,e.__scopeToggleGroup),i=kQ(e.__scopeToggleGroup),a=n.value.includes(e.value),o=r.disabled||e.disabled,l={...e,pressed:a,disabled:o},c=ie.useRef(null);return r.rovingFocus?s.jsx(Yk,{asChild:!0,...i,focusable:!o,active:a,ref:c,children:s.jsx(W8,{...l,ref:t})}):s.jsx(W8,{...l,ref:t})});MQ.displayName=D5;var W8=ie.forwardRef((e,t)=>{const{__scopeToggleGroup:n,value:r,...i}=e,a=IQ(D5,n),o={role:"radio","aria-checked":e.pressed,"aria-pressed":void 0},l=a.type==="single"?o:void 0;return s.jsx(A3,{...l,...i,ref:t,onPressedChange:c=>{c?a.onItemActivate(r):a.onItemDeactivate(r)}})}),DQ=P3,RQ=MQ;const $Q=gy("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 gap-2",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground"},size:{default:"h-10 px-3 min-w-10",sm:"h-9 px-2.5 min-w-9",lg:"h-11 px-5 min-w-11"}},defaultVariants:{variant:"default",size:"default"}}),GRe=N.forwardRef(({className:e,variant:t,size:n,...r},i)=>s.jsx(EQ,{ref:i,className:wt($Q({variant:t,size:n,className:e})),...r}));GRe.displayName=EQ.displayName;const FQ=N.createContext({size:"default",variant:"default"}),BQ=N.forwardRef(({className:e,variant:t,size:n,children:r,...i},a)=>s.jsx(DQ,{ref:a,className:wt("flex items-center justify-center gap-1",e),...i,children:s.jsx(FQ.Provider,{value:{variant:t,size:n},children:r})}));BQ.displayName=DQ.displayName;const $O=N.forwardRef(({className:e,children:t,variant:n,size:r,...i},a)=>{const o=N.useContext(FQ);return s.jsx(RQ,{ref:a,className:wt($Q({variant:o.variant||n,size:o.size||r}),e),...i,children:t})});$O.displayName=RQ.displayName;function ZRe({companyId:e,title:t="Volumen de Ventas",subtitle:n="Resumen mensual de ventas"}){const[r,i]=N.useState([]),a=e===1?39:10,o=e===1?"KG":"unidades",l=e===1?55620:858373,{data:c}=Zt({queryKey:[`/api/kpi-history/${a}`,{months:12}],refetchInterval:3e4});N.useEffect(()=>{if(c&&c.length>0){const f={Enero:1,Febrero:2,Marzo:3,Abril:4,Mayo:5,Junio:6,Julio:7,Agosto:8,Septiembre:9,Octubre:10,Noviembre:11,Diciembre:12},p=[...c].sort((m,x)=>{const v=(m.period||"").split(" ")[0],y=(x.period||"").split(" ")[0];return(f[v]||0)-(f[y]||0)}).map((m,x)=>{const v=parseFloat(m.value)||0;let y=0;l>0&&(y=(v-l)/l*100,y=Math.round(y*10)/10);let b="success";return y<-20?b="danger":y<0&&(b="warning"),{month:m.period||"Sin período",value:v,percentChange:y,status:b,unit:o}});i(p)}},[c,o,l]);const u=f=>new Intl.NumberFormat("es-MX").format(f);return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200 mb-2",children:t}),s.jsxs("p",{className:"text-slate-600 dark:text-slate-400 text-sm",children:["Datos mensuales de ventas • ",r.length," meses"]})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:r.map((f,h)=>s.jsxs(ot,{className:`
            relative overflow-hidden transition-all duration-200 hover:shadow-lg hover:-translate-y-1
            bg-white dark:bg-slate-900 border-0 shadow-md
            ${f.percentChange>0?"ring-2 ring-green-100 dark:ring-green-900/30 bg-gradient-to-br from-green-50/30 to-white dark:from-green-950/20 dark:to-slate-900":f.percentChange<0?"ring-2 ring-red-100 dark:ring-red-900/30 bg-gradient-to-br from-red-50/30 to-white dark:from-red-950/20 dark:to-slate-900":"ring-2 ring-blue-100 dark:ring-blue-900/30 bg-gradient-to-br from-blue-50/30 to-white dark:from-blue-950/20 dark:to-slate-900"}
          `,children:[s.jsx("div",{className:`h-1 w-full ${f.percentChange>0?"bg-green-500":f.percentChange<0?"bg-red-500":"bg-blue-500"}`}),s.jsx(Ht,{className:"pb-3 pt-4",children:s.jsxs(Qt,{className:"text-lg font-semibold text-slate-800 dark:text-slate-200 flex items-center justify-between",children:[s.jsx("span",{children:f.month.replace(" 2025","")}),s.jsx("span",{className:"text-xs font-normal text-slate-500 dark:text-slate-400",children:"2025"})]})}),s.jsx(lt,{className:"pt-0 pb-4",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200 mb-1",children:u(f.value)}),s.jsx("div",{className:"text-sm font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wide",children:f.unit})]}),s.jsx("div",{className:"flex items-center justify-center",children:s.jsxs("div",{className:`flex items-center px-3 py-1 rounded-full text-sm font-medium ${f.percentChange>0?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-300":f.percentChange<0?"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-300":"bg-gray-100 text-gray-700 dark:bg-gray-900/30 dark:text-gray-300"}`,children:[f.percentChange>0?s.jsx(Ma,{className:"h-3 w-3 mr-1"}):f.percentChange<0?s.jsx(eue,{className:"h-3 w-3 mr-1"}):null,s.jsxs("span",{children:[f.percentChange>0?"+":"",f.percentChange,"%"]})]})})]})})]},h))})]})}function XRe({companyId:e}){const[t,n]=N.useState(e),[r,i]=N.useState("monthly"),[a,o]=N.useState([]),l=t===1?39:10,c=t===1?55620:858373,{data:u}=Zt({queryKey:[`/api/kpi-history/${l}`,{months:12}],refetchInterval:3e4});N.useEffect(()=>{n(e)},[e]),N.useEffect(()=>{if(u&&u.length>0){const P={Enero:1,Febrero:2,Marzo:3,Abril:4,Mayo:5,Junio:6,Julio:7,Agosto:8,Septiembre:9,Octubre:10,Noviembre:11,Diciembre:12},E=[...u].sort((O,I)=>{const D=(O.period||"").split(" ")[0],z=(I.period||"").split(" ")[0];return(P[D]||0)-(P[z]||0)}).map(O=>{var B,H;const I=parseFloat(O.value)||0,D=((B=O.period)==null?void 0:B.split(" "))||["",""],T={Enero:"Ene",Febrero:"Feb",Marzo:"Mar",Abril:"Abr",Mayo:"May",Junio:"Jun",Julio:"Jul",Agosto:"Ago",Septiembre:"Sep",Octubre:"Oct",Noviembre:"Nov",Diciembre:"Dic"}[D[0]]||D[0],k=((H=D[1])==null?void 0:H.slice(-2))||"";return{month:`${T} ${k}`,sales:I,target:c,profit:Math.round(I*.12),period:O.period}});if(r==="quarterly"){const O={};E.forEach(I=>{const D=I.month.slice(-2),z=I.month.slice(0,3);let T="";["Ene","Feb","Mar"].includes(z)?T="Q1":["Abr","May","Jun"].includes(z)?T="Q2":["Jul","Ago","Sep"].includes(z)?T="Q3":T="Q4";const k=`${T} ${D}`;O[k]||(O[k]={month:k,sales:0,target:0,profit:0,period:k}),O[k].sales+=I.sales,O[k].target+=I.target,O[k].profit+=I.profit}),o(Object.values(O))}else o(E)}},[u,r,t]);const f={dura:667449,orsega:10300476},h=localStorage.getItem("duraAnnualTarget"),p=localStorage.getItem("orsegaAnnualTarget"),m={dura:h?parseInt(h,10):f.dura,orsega:p?parseInt(p,10):f.orsega},x=a.reduce((P,A)=>P+A.sales,0),v=t===1?m.dura:m.orsega,y=Math.round(x/v*100),w=(()=>{if(a.length<2)return"0.0";const P=a[a.length-1].sales,A=a[a.length-2].sales;return A===0?"0.0":((P-A)/A*100).toFixed(1)})(),j=P=>t===1?new Intl.NumberFormat("es-MX").format(P)+" KG":new Intl.NumberFormat("es-MX").format(P)+" unidades";return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid gap-6 grid-cols-1 lg:grid-cols-2 max-w-4xl mx-auto",children:[s.jsxs(ot,{className:"border-0 shadow-lg bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/30 dark:to-blue-800/30 dark:border-blue-800/30 h-full",children:[s.jsx(Ht,{className:"pb-3 pt-6",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx(Qt,{className:"text-lg font-medium text-blue-900 dark:text-blue-100",children:"Volumen Total"}),s.jsxs(fr,{className:"text-blue-600 dark:text-blue-300",children:["Acumulado anual (",t===1?"KG":"unidades",")"]})]}),s.jsx("div",{className:"p-2 bg-blue-100 rounded-lg dark:bg-blue-800/50",children:s.jsx(qC,{className:"h-5 w-5 text-blue-600 dark:text-blue-300"})})]})}),s.jsxs(lt,{className:"flex-1 flex flex-col",children:[s.jsx("div",{className:"text-3xl font-bold text-blue-700 dark:text-blue-100 mb-2",children:j(x)}),s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsxs("div",{className:"flex items-center text-emerald-600 dark:text-emerald-400 mr-2",children:[s.jsx(Dj,{className:"h-4 w-4 mr-1"}),s.jsxs("span",{className:"text-sm font-medium",children:[w,"%"]})]}),s.jsx("div",{className:"text-sm text-blue-600 dark:text-blue-300",children:"vs mes anterior"})]}),s.jsxs("div",{className:"mt-auto",children:[s.jsxs("div",{className:"text-xs text-blue-600 dark:text-blue-300 mb-2 flex justify-between",children:[s.jsx("span",{children:"Progreso"}),s.jsxs("span",{className:"font-medium",children:[y,"%"]})]}),s.jsx("div",{className:"w-full h-2 bg-blue-200 dark:bg-blue-800 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-blue-600 dark:bg-blue-400 rounded-full transition-all duration-500",style:{width:`${y>100?100:y}%`}})})]})]})]}),s.jsxs(ot,{className:"border-0 shadow-lg bg-gradient-to-br from-amber-50 to-amber-100 dark:from-amber-900/30 dark:to-amber-800/30 dark:border-amber-800/30 h-full",children:[s.jsx(Ht,{className:"pb-3 pt-6",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx(Qt,{className:"text-lg font-medium text-amber-900 dark:text-amber-100",children:"Avance del Objetivo Anual"}),s.jsx(fr,{className:"text-amber-600 dark:text-amber-300",children:"Progreso hacia meta anual"})]}),s.jsx("div",{className:"p-2 bg-amber-100 rounded-lg dark:bg-amber-800/50",children:s.jsx(qp,{className:"h-5 w-5 text-amber-600 dark:text-amber-300"})})]})}),s.jsxs(lt,{className:"flex-1 flex flex-col",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsxs("div",{className:"text-3xl font-bold text-amber-700 dark:text-amber-100",children:[y,"%"]}),s.jsx("div",{className:"ml-3 px-2 py-0.5 rounded-full text-xs font-medium bg-amber-200 text-amber-800 dark:bg-amber-800 dark:text-amber-200",children:y>=100?"¡Meta cumplida!":y>=75?"Buen progreso":y>=50?"Progreso medio":"Requiere atención"})]}),s.jsxs("div",{className:"space-y-3 mt-2 mb-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"text-sm text-amber-600 dark:text-amber-300",children:[s.jsx("span",{className:"font-medium",children:"Ventas actuales:"}),s.jsx("br",{}),s.jsx("span",{className:"text-xs",children:j(x)})]}),s.jsxs("div",{className:"text-sm text-amber-600 dark:text-amber-300 text-right",children:[s.jsx("span",{className:"font-medium",children:"Meta anual:"}),s.jsx("br",{}),s.jsx("span",{className:"text-xs",children:j(v)})]})]}),s.jsx("div",{className:"border-t border-amber-200 dark:border-amber-700 pt-2",children:s.jsxs("div",{className:"flex items-center justify-center gap-2 px-3 py-2 bg-amber-100 dark:bg-amber-800/30 rounded-md",children:[s.jsx(Ece,{className:"h-4 w-4 text-amber-700 dark:text-amber-300"}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-xs text-amber-600 dark:text-amber-400 font-medium",children:"Meta mensual"}),s.jsx("div",{className:"text-sm font-bold text-amber-800 dark:text-amber-200",children:j(c)})]})]})})]}),s.jsxs("div",{className:"mt-auto",children:[s.jsxs("div",{className:"text-xs text-amber-600 dark:text-amber-300 mb-2 flex justify-between",children:[s.jsx("span",{children:"Progreso"}),s.jsxs("span",{className:"font-medium",children:[y,"%"]})]}),s.jsx("div",{className:"w-full h-3 bg-amber-200 dark:bg-amber-800 rounded-full overflow-hidden",children:s.jsx("div",{className:`h-full rounded-full flex items-center justify-end pr-2 text-xs font-bold transition-all duration-500 ${y>=100?"bg-green-600 text-white":"bg-amber-600 dark:bg-amber-400 text-white"}`,style:{width:`${y>100?100:y}%`},children:y>=20?`${y}%`:""})})]})]})]})]}),s.jsx("div",{className:"mt-6 mb-8",children:s.jsx(ZRe,{companyId:t,title:"Volumen de Ventas",subtitle:"Visualización histórica y tendencias de ventas"})}),s.jsxs(ot,{className:"border-0 shadow-lg mt-8",children:[s.jsx(Ht,{className:"pb-2",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(Qt,{className:"text-xl font-bold",children:"Volumen de Ventas Histórico - Vista Completa"}),s.jsxs(fr,{children:["Evolución histórica del volumen de ventas (",t===1?"KG":"Unidades",")"]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(BQ,{type:"single",value:r,onValueChange:P=>P&&i(P),children:[s.jsx($O,{value:"monthly","aria-label":"Mensual",className:`px-3 h-8 text-xs ${r==="monthly"?"bg-primary text-white":"text-gray-600 dark:text-gray-400"}`,children:"Mensual"}),s.jsx($O,{value:"quarterly","aria-label":"Trimestral",className:`px-3 h-8 text-xs ${r==="quarterly"?"bg-primary text-white":"text-gray-600 dark:text-gray-400"}`,children:"Trimestral"})]}),s.jsx(kce,{className:"h-5 w-5 text-primary-600 dark:text-primary-400"})]})]})}),s.jsx(lt,{children:s.jsx("div",{className:"h-[250px] sm:h-[300px]",children:s.jsx(el,{width:"100%",height:"100%",children:s.jsxs(_Re,{data:a,margin:{top:20,right:30,left:20,bottom:10},children:[s.jsxs("defs",{children:[s.jsxs("linearGradient",{id:"colorSales",x1:"0",y1:"0",x2:"0",y2:"1",children:[s.jsx("stop",{offset:"5%",stopColor:"#273949",stopOpacity:.9}),s.jsx("stop",{offset:"95%",stopColor:"#273949",stopOpacity:.4})]}),s.jsxs("linearGradient",{id:"colorSalesBelow",x1:"0",y1:"0",x2:"0",y2:"1",children:[s.jsx("stop",{offset:"5%",stopColor:"#ef4444",stopOpacity:.9}),s.jsx("stop",{offset:"95%",stopColor:"#ef4444",stopOpacity:.4})]}),s.jsx("filter",{id:"shadow",height:"200%",children:s.jsx("feDropShadow",{dx:"0",dy:"4",stdDeviation:"6",floodColor:"#273949",floodOpacity:"0.3"})}),s.jsx("filter",{id:"shadowRed",height:"200%",children:s.jsx("feDropShadow",{dx:"0",dy:"4",stdDeviation:"6",floodColor:"#ef4444",floodOpacity:"0.3"})})]}),s.jsx(tl,{strokeDasharray:"3 3",vertical:!1,opacity:.1}),s.jsx(Ra,{dataKey:"month",tick:{fontSize:12,fill:"#4b5563"},axisLine:{stroke:"#d1d5db"}}),s.jsx($a,{tick:{fontSize:12,fill:"#4b5563"},axisLine:{stroke:"#d1d5db"}}),s.jsx($i,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",border:"none",borderRadius:"8px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},formatter:P=>new Intl.NumberFormat("es-MX").format(P)}),s.jsx(Da,{wrapperStyle:{paddingTop:"20px"}}),s.jsx(Hl,{dataKey:"sales",name:"Volumen",radius:[8,8,0,0],shape:P=>{const{fill:A,x:E,y:O,width:I,height:D,payload:z}=P,T=z.sales<z.target,k=T?"url(#colorSalesBelow)":"url(#colorSales)",F=T?"url(#shadowRed)":"url(#shadow)";return s.jsx("rect",{x:E,y:O,width:I,height:D,fill:k,filter:F,rx:8,ry:8})}}),s.jsx(ii,{type:"monotone",dataKey:"target",name:"Objetivo",stroke:"#b5e951",strokeWidth:2,dot:{r:4,fill:"#b5e951"}})]})})})})]})]})}function C3(e){const t=N.useRef({value:e,previous:e});return N.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var YRe=[" ","Enter","ArrowUp","ArrowDown"],QRe=[" ","Enter"],Cb="Select",[WN,HN,JRe]=Ij(Cb),[$y,lGe]=Ba(Cb,[JRe,by]),KN=by(),[e8e,qh]=$y(Cb),[t8e,n8e]=$y(Cb),zQ=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:i,onOpenChange:a,value:o,defaultValue:l,onValueChange:c,dir:u,name:f,autoComplete:h,disabled:p,required:m,form:x}=e,v=KN(t),[y,b]=N.useState(null),[w,j]=N.useState(null),[P,A]=N.useState(!1),E=wy(u),[O=!1,I]=cl({prop:r,defaultProp:i,onChange:a}),[D,z]=cl({prop:o,defaultProp:l,onChange:c}),T=N.useRef(null),k=y?x||!!y.closest("form"):!0,[F,B]=N.useState(new Set),H=Array.from(F).map(X=>X.props.value).join(";");return s.jsx(aH,{...v,children:s.jsxs(e8e,{required:m,scope:t,trigger:y,onTriggerChange:b,valueNode:w,onValueNodeChange:j,valueNodeHasChildren:P,onValueNodeHasChildrenChange:A,contentId:Mc(),value:D,onValueChange:z,open:O,onOpenChange:I,dir:E,triggerPointerDownPosRef:T,disabled:p,children:[s.jsx(WN.Provider,{scope:t,children:s.jsx(t8e,{scope:e.__scopeSelect,onNativeOptionAdd:N.useCallback(X=>{B(ae=>new Set(ae).add(X))},[]),onNativeOptionRemove:N.useCallback(X=>{B(ae=>{const W=new Set(ae);return W.delete(X),W})},[]),children:n})}),k?s.jsxs(fJ,{"aria-hidden":!0,required:m,tabIndex:-1,name:f,autoComplete:h,value:D,onChange:X=>z(X.target.value),disabled:p,form:x,children:[D===void 0?s.jsx("option",{value:""}):null,Array.from(F)]},H):null]})})};zQ.displayName=Cb;var UQ="SelectTrigger",qQ=N.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...i}=e,a=KN(n),o=qh(UQ,n),l=o.disabled||r,c=Dn(t,o.onTriggerChange),u=HN(n),f=N.useRef("touch"),[h,p,m]=hJ(v=>{const y=u().filter(j=>!j.disabled),b=y.find(j=>j.value===o.value),w=pJ(y,v,b);w!==void 0&&o.onValueChange(w.value)}),x=v=>{l||(o.onOpenChange(!0),m()),v&&(o.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return s.jsx(Vk,{asChild:!0,...a,children:s.jsx(Rt.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":dJ(o.value)?"":void 0,...i,ref:c,onClick:yt(i.onClick,v=>{v.currentTarget.focus(),f.current!=="mouse"&&x(v)}),onPointerDown:yt(i.onPointerDown,v=>{f.current=v.pointerType;const y=v.target;y.hasPointerCapture(v.pointerId)&&y.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(x(v),v.preventDefault())}),onKeyDown:yt(i.onKeyDown,v=>{const y=h.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&p(v.key),!(y&&v.key===" ")&&YRe.includes(v.key)&&(x(),v.preventDefault())})})})});qQ.displayName=UQ;var VQ="SelectValue",WQ=N.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,children:a,placeholder:o="",...l}=e,c=qh(VQ,n),{onValueNodeHasChildrenChange:u}=c,f=a!==void 0,h=Dn(t,c.onValueNodeChange);return na(()=>{u(f)},[u,f]),s.jsx(Rt.span,{...l,ref:h,style:{pointerEvents:"none"},children:dJ(c.value)?s.jsx(s.Fragment,{children:o}):a})});WQ.displayName=VQ;var r8e="SelectIcon",HQ=N.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...i}=e;return s.jsx(Rt.span,{"aria-hidden":!0,...i,ref:t,children:r||"▼"})});HQ.displayName=r8e;var i8e="SelectPortal",KQ=e=>s.jsx(fb,{asChild:!0,...e});KQ.displayName=i8e;var dm="SelectContent",GQ=N.forwardRef((e,t)=>{const n=qh(dm,e.__scopeSelect),[r,i]=N.useState();if(na(()=>{i(new DocumentFragment)},[]),!n.open){const a=r;return a?Qo.createPortal(s.jsx(ZQ,{scope:e.__scopeSelect,children:s.jsx(WN.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),a):null}return s.jsx(XQ,{...e,ref:t})});GQ.displayName=dm;var bc=10,[ZQ,Vh]=$y(dm),a8e="SelectContentImpl",s8e=tm("SelectContent.RemoveScroll"),XQ=N.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:f,arrowPadding:h,collisionBoundary:p,collisionPadding:m,sticky:x,hideWhenDetached:v,avoidCollisions:y,...b}=e,w=qh(dm,n),[j,P]=N.useState(null),[A,E]=N.useState(null),O=Dn(t,ve=>P(ve)),[I,D]=N.useState(null),[z,T]=N.useState(null),k=HN(n),[F,B]=N.useState(!1),H=N.useRef(!1);N.useEffect(()=>{if(j)return Qk(j)},[j]),Zk();const X=N.useCallback(ve=>{const[Z,...ne]=k().map(be=>be.ref.current),[ge]=ne.slice(-1),Ee=document.activeElement;for(const be of ve)if(be===Ee||(be==null||be.scrollIntoView({block:"nearest"}),be===Z&&A&&(A.scrollTop=0),be===ge&&A&&(A.scrollTop=A.scrollHeight),be==null||be.focus(),document.activeElement!==Ee))return},[k,A]),ae=N.useCallback(()=>X([I,j]),[X,I,j]);N.useEffect(()=>{F&&ae()},[F,ae]);const{onOpenChange:W,triggerPointerDownPosRef:te}=w;N.useEffect(()=>{if(j){let ve={x:0,y:0};const Z=ge=>{var Ee,be;ve={x:Math.abs(Math.round(ge.pageX)-(((Ee=te.current)==null?void 0:Ee.x)??0)),y:Math.abs(Math.round(ge.pageY)-(((be=te.current)==null?void 0:be.y)??0))}},ne=ge=>{ve.x<=10&&ve.y<=10?ge.preventDefault():j.contains(ge.target)||W(!1),document.removeEventListener("pointermove",Z),te.current=null};return te.current!==null&&(document.addEventListener("pointermove",Z),document.addEventListener("pointerup",ne,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Z),document.removeEventListener("pointerup",ne,{capture:!0})}}},[j,W,te]),N.useEffect(()=>{const ve=()=>W(!1);return window.addEventListener("blur",ve),window.addEventListener("resize",ve),()=>{window.removeEventListener("blur",ve),window.removeEventListener("resize",ve)}},[W]);const[ue,ye]=hJ(ve=>{const Z=k().filter(Ee=>!Ee.disabled),ne=Z.find(Ee=>Ee.ref.current===document.activeElement),ge=pJ(Z,ve,ne);ge&&setTimeout(()=>ge.ref.current.focus())}),V=N.useCallback((ve,Z,ne)=>{const ge=!H.current&&!ne;(w.value!==void 0&&w.value===Z||ge)&&(D(ve),ge&&(H.current=!0))},[w.value]),ee=N.useCallback(()=>j==null?void 0:j.focus(),[j]),Q=N.useCallback((ve,Z,ne)=>{const ge=!H.current&&!ne;(w.value!==void 0&&w.value===Z||ge)&&T(ve)},[w.value]),de=r==="popper"?FO:YQ,le=de===FO?{side:l,sideOffset:c,align:u,alignOffset:f,arrowPadding:h,collisionBoundary:p,collisionPadding:m,sticky:x,hideWhenDetached:v,avoidCollisions:y}:{};return s.jsx(ZQ,{scope:n,content:j,viewport:A,onViewportChange:E,itemRefCallback:V,selectedItem:I,onItemLeave:ee,itemTextRefCallback:Q,focusSelectedItem:ae,selectedItemText:z,position:r,isPositioned:F,searchRef:ue,children:s.jsx(Wj,{as:s8e,allowPinchZoom:!0,children:s.jsx(Uj,{asChild:!0,trapped:w.open,onMountAutoFocus:ve=>{ve.preventDefault()},onUnmountAutoFocus:yt(i,ve=>{var Z;(Z=w.trigger)==null||Z.focus({preventScroll:!0}),ve.preventDefault()}),children:s.jsx(my,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:ve=>ve.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:s.jsx(de,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:ve=>ve.preventDefault(),...b,...le,onPlaced:()=>B(!0),ref:O,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:yt(b.onKeyDown,ve=>{const Z=ve.ctrlKey||ve.altKey||ve.metaKey;if(ve.key==="Tab"&&ve.preventDefault(),!Z&&ve.key.length===1&&ye(ve.key),["ArrowUp","ArrowDown","Home","End"].includes(ve.key)){let ge=k().filter(Ee=>!Ee.disabled).map(Ee=>Ee.ref.current);if(["ArrowUp","End"].includes(ve.key)&&(ge=ge.slice().reverse()),["ArrowUp","ArrowDown"].includes(ve.key)){const Ee=ve.target,be=ge.indexOf(Ee);ge=ge.slice(be+1)}setTimeout(()=>X(ge)),ve.preventDefault()}})})})})})})});XQ.displayName=a8e;var o8e="SelectItemAlignedPosition",YQ=N.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...i}=e,a=qh(dm,n),o=Vh(dm,n),[l,c]=N.useState(null),[u,f]=N.useState(null),h=Dn(t,O=>f(O)),p=HN(n),m=N.useRef(!1),x=N.useRef(!0),{viewport:v,selectedItem:y,selectedItemText:b,focusSelectedItem:w}=o,j=N.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&u&&v&&y&&b){const O=a.trigger.getBoundingClientRect(),I=u.getBoundingClientRect(),D=a.valueNode.getBoundingClientRect(),z=b.getBoundingClientRect();if(a.dir!=="rtl"){const Ee=z.left-I.left,be=D.left-Ee,Ue=O.left-be,Pe=O.width+Ue,ce=Math.max(Pe,I.width),it=window.innerWidth-bc,_t=RO(be,[bc,Math.max(bc,it-ce)]);l.style.minWidth=Pe+"px",l.style.left=_t+"px"}else{const Ee=I.right-z.right,be=window.innerWidth-D.right-Ee,Ue=window.innerWidth-O.right-be,Pe=O.width+Ue,ce=Math.max(Pe,I.width),it=window.innerWidth-bc,_t=RO(be,[bc,Math.max(bc,it-ce)]);l.style.minWidth=Pe+"px",l.style.right=_t+"px"}const T=p(),k=window.innerHeight-bc*2,F=v.scrollHeight,B=window.getComputedStyle(u),H=parseInt(B.borderTopWidth,10),X=parseInt(B.paddingTop,10),ae=parseInt(B.borderBottomWidth,10),W=parseInt(B.paddingBottom,10),te=H+X+F+W+ae,ue=Math.min(y.offsetHeight*5,te),ye=window.getComputedStyle(v),V=parseInt(ye.paddingTop,10),ee=parseInt(ye.paddingBottom,10),Q=O.top+O.height/2-bc,de=k-Q,le=y.offsetHeight/2,ve=y.offsetTop+le,Z=H+X+ve,ne=te-Z;if(Z<=Q){const Ee=T.length>0&&y===T[T.length-1].ref.current;l.style.bottom="0px";const be=u.clientHeight-v.offsetTop-v.offsetHeight,Ue=Math.max(de,le+(Ee?ee:0)+be+ae),Pe=Z+Ue;l.style.height=Pe+"px"}else{const Ee=T.length>0&&y===T[0].ref.current;l.style.top="0px";const Ue=Math.max(Q,H+v.offsetTop+(Ee?V:0)+le)+ne;l.style.height=Ue+"px",v.scrollTop=Z-Q+v.offsetTop}l.style.margin=`${bc}px 0`,l.style.minHeight=ue+"px",l.style.maxHeight=k+"px",r==null||r(),requestAnimationFrame(()=>m.current=!0)}},[p,a.trigger,a.valueNode,l,u,v,y,b,a.dir,r]);na(()=>j(),[j]);const[P,A]=N.useState();na(()=>{u&&A(window.getComputedStyle(u).zIndex)},[u]);const E=N.useCallback(O=>{O&&x.current===!0&&(j(),w==null||w(),x.current=!1)},[j,w]);return s.jsx(c8e,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:m,onScrollButtonChange:E,children:s.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:P},children:s.jsx(Rt.div,{...i,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});YQ.displayName=o8e;var l8e="SelectPopperPosition",FO=N.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=bc,...a}=e,o=KN(n);return s.jsx(Wk,{...o,...a,ref:t,align:r,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});FO.displayName=l8e;var[c8e,E3]=$y(dm,{}),BO="SelectViewport",QQ=N.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...i}=e,a=Vh(BO,n),o=E3(BO,n),l=Dn(t,a.onViewportChange),c=N.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),s.jsx(WN.Slot,{scope:n,children:s.jsx(Rt.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:yt(i.onScroll,u=>{const f=u.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:p}=o;if(p!=null&&p.current&&h){const m=Math.abs(c.current-f.scrollTop);if(m>0){const x=window.innerHeight-bc*2,v=parseFloat(h.style.minHeight),y=parseFloat(h.style.height),b=Math.max(v,y);if(b<x){const w=b+m,j=Math.min(x,w),P=w-j;h.style.height=j+"px",h.style.bottom==="0px"&&(f.scrollTop=P>0?P:0,h.style.justifyContent="flex-end")}}}c.current=f.scrollTop})})})]})});QQ.displayName=BO;var JQ="SelectGroup",[u8e,d8e]=$y(JQ),f8e=N.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=Mc();return s.jsx(u8e,{scope:n,id:i,children:s.jsx(Rt.div,{role:"group","aria-labelledby":i,...r,ref:t})})});f8e.displayName=JQ;var eJ="SelectLabel",tJ=N.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=d8e(eJ,n);return s.jsx(Rt.div,{id:i.id,...r,ref:t})});tJ.displayName=eJ;var R5="SelectItem",[h8e,nJ]=$y(R5),rJ=N.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:a,...o}=e,l=qh(R5,n),c=Vh(R5,n),u=l.value===r,[f,h]=N.useState(a??""),[p,m]=N.useState(!1),x=Dn(t,w=>{var j;return(j=c.itemRefCallback)==null?void 0:j.call(c,w,r,i)}),v=Mc(),y=N.useRef("touch"),b=()=>{i||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(h8e,{scope:n,value:r,disabled:i,textId:v,isSelected:u,onItemTextChange:N.useCallback(w=>{h(j=>j||((w==null?void 0:w.textContent)??"").trim())},[]),children:s.jsx(WN.ItemSlot,{scope:n,value:r,disabled:i,textValue:f,children:s.jsx(Rt.div,{role:"option","aria-labelledby":v,"data-highlighted":p?"":void 0,"aria-selected":u&&p,"data-state":u?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:x,onFocus:yt(o.onFocus,()=>m(!0)),onBlur:yt(o.onBlur,()=>m(!1)),onClick:yt(o.onClick,()=>{y.current!=="mouse"&&b()}),onPointerUp:yt(o.onPointerUp,()=>{y.current==="mouse"&&b()}),onPointerDown:yt(o.onPointerDown,w=>{y.current=w.pointerType}),onPointerMove:yt(o.onPointerMove,w=>{var j;y.current=w.pointerType,i?(j=c.onItemLeave)==null||j.call(c):y.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:yt(o.onPointerLeave,w=>{var j;w.currentTarget===document.activeElement&&((j=c.onItemLeave)==null||j.call(c))}),onKeyDown:yt(o.onKeyDown,w=>{var P;((P=c.searchRef)==null?void 0:P.current)!==""&&w.key===" "||(QRe.includes(w.key)&&b(),w.key===" "&&w.preventDefault())})})})})});rJ.displayName=R5;var B0="SelectItemText",iJ=N.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,...a}=e,o=qh(B0,n),l=Vh(B0,n),c=nJ(B0,n),u=n8e(B0,n),[f,h]=N.useState(null),p=Dn(t,b=>h(b),c.onItemTextChange,b=>{var w;return(w=l.itemTextRefCallback)==null?void 0:w.call(l,b,c.value,c.disabled)}),m=f==null?void 0:f.textContent,x=N.useMemo(()=>s.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:v,onNativeOptionRemove:y}=u;return na(()=>(v(x),()=>y(x)),[v,y,x]),s.jsxs(s.Fragment,{children:[s.jsx(Rt.span,{id:c.textId,...a,ref:p}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Qo.createPortal(a.children,o.valueNode):null]})});iJ.displayName=B0;var aJ="SelectItemIndicator",sJ=N.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return nJ(aJ,n).isSelected?s.jsx(Rt.span,{"aria-hidden":!0,...r,ref:t}):null});sJ.displayName=aJ;var zO="SelectScrollUpButton",oJ=N.forwardRef((e,t)=>{const n=Vh(zO,e.__scopeSelect),r=E3(zO,e.__scopeSelect),[i,a]=N.useState(!1),o=Dn(t,r.onScrollButtonChange);return na(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;a(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),i?s.jsx(cJ,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});oJ.displayName=zO;var UO="SelectScrollDownButton",lJ=N.forwardRef((e,t)=>{const n=Vh(UO,e.__scopeSelect),r=E3(UO,e.__scopeSelect),[i,a]=N.useState(!1),o=Dn(t,r.onScrollButtonChange);return na(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,f=Math.ceil(c.scrollTop)<u;a(f)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),i?s.jsx(cJ,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});lJ.displayName=UO;var cJ=N.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=e,a=Vh("SelectScrollButton",n),o=N.useRef(null),l=HN(n),c=N.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return N.useEffect(()=>()=>c(),[c]),na(()=>{var f;const u=l().find(h=>h.ref.current===document.activeElement);(f=u==null?void 0:u.ref.current)==null||f.scrollIntoView({block:"nearest"})},[l]),s.jsx(Rt.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:yt(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:yt(i.onPointerMove,()=>{var u;(u=a.onItemLeave)==null||u.call(a),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:yt(i.onPointerLeave,()=>{c()})})}),p8e="SelectSeparator",uJ=N.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return s.jsx(Rt.div,{"aria-hidden":!0,...r,ref:t})});uJ.displayName=p8e;var qO="SelectArrow",m8e=N.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=KN(n),a=qh(qO,n),o=Vh(qO,n);return a.open&&o.position==="popper"?s.jsx(Hk,{...i,...r,ref:t}):null});m8e.displayName=qO;function dJ(e){return e===""||e===void 0}var fJ=N.forwardRef((e,t)=>{const{value:n,...r}=e,i=N.useRef(null),a=Dn(t,i),o=C3(n);return N.useEffect(()=>{const l=i.current,c=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==n&&f){const h=new Event("change",{bubbles:!0});f.call(l,n),l.dispatchEvent(h)}},[o,n]),s.jsx(hb,{asChild:!0,children:s.jsx("select",{...r,ref:a,defaultValue:n})})});fJ.displayName="BubbleSelect";function hJ(e){const t=gi(e),n=N.useRef(""),r=N.useRef(0),i=N.useCallback(o=>{const l=n.current+o;t(l),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),a=N.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return N.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,a]}function pJ(e,t,n){const i=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let o=g8e(e,Math.max(a,0));i.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function g8e(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var v8e=zQ,mJ=qQ,y8e=WQ,x8e=HQ,b8e=KQ,gJ=GQ,w8e=QQ,vJ=tJ,yJ=rJ,_8e=iJ,j8e=sJ,xJ=oJ,bJ=lJ,wJ=uJ;const on=v8e,ln=y8e,an=N.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(mJ,{ref:r,className:wt("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,s.jsx(x8e,{asChild:!0,children:s.jsx(Ck,{className:"h-4 w-4 opacity-50"})})]}));an.displayName=mJ.displayName;const _J=N.forwardRef(({className:e,...t},n)=>s.jsx(xJ,{ref:n,className:wt("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(Ice,{className:"h-4 w-4"})}));_J.displayName=xJ.displayName;const jJ=N.forwardRef(({className:e,...t},n)=>s.jsx(bJ,{ref:n,className:wt("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(Ck,{className:"h-4 w-4"})}));jJ.displayName=bJ.displayName;const sn=N.forwardRef(({className:e,children:t,position:n="popper",...r},i)=>s.jsx(b8e,{children:s.jsxs(gJ,{ref:i,className:wt("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[s.jsx(_J,{}),s.jsx(w8e,{className:wt("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(jJ,{})]})}));sn.displayName=gJ.displayName;const N8e=N.forwardRef(({className:e,...t},n)=>s.jsx(vJ,{ref:n,className:wt("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));N8e.displayName=vJ.displayName;const xe=N.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(yJ,{ref:r,className:wt("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(j8e,{children:s.jsx(pb,{className:"h-4 w-4"})})}),s.jsx(_8e,{children:t})]}));xe.displayName=yJ.displayName;const S8e=N.forwardRef(({className:e,...t},n)=>s.jsx(wJ,{ref:n,className:wt("-mx-1 my-1 h-px bg-muted",e),...t}));S8e.displayName=wJ.displayName;function A8e({companies:e,selectedCompanyId:t,onCompanyChange:n}){const r=i=>{const a=Number(i);console.log("CompanySelector: Cambiando a compañía ID:",a),n(a)};return s.jsxs("div",{className:"flex items-center bg-white/20 backdrop-blur-sm rounded-lg shadow-md border border-white/30 p-2 hover:bg-white/30 transition-colors",children:[s.jsx("div",{className:"px-3",children:s.jsx(SW,{className:"h-6 w-6 text-white"})}),s.jsxs(on,{defaultValue:t.toString(),value:t.toString(),onValueChange:r,children:[s.jsx(an,{className:"border-0 bg-transparent focus:ring-0 focus:ring-offset-0 p-2 text-white font-medium",children:s.jsx(ln,{placeholder:"Seleccionar empresa"})}),s.jsx(sn,{children:e.map(i=>s.jsx(xe,{value:i.id.toString(),children:i.name},i.id))})]})]})}function P8e(){const{user:e}=Qu(),t=ie.useRef(null),[n,r]=N.useState(()=>{const D=localStorage.getItem("selectedCompanyId");return D?Number(D):2}),[i,a]=N.useState({companyId:n,areaId:void 0,status:void 0,period:void 0}),[o,l]=N.useState(null),[c,u]=N.useState(!1);N.useState("charts");const[f,h]=N.useState(!1),[p,m]=N.useState(void 0),{data:x,isLoading:v}=Zt({queryKey:["/api/companies"],staleTime:5*60*1e3,refetchInterval:3e4,refetchOnWindowFocus:!1,enabled:!!e}),{data:y,isLoading:b}=Zt({queryKey:["/api/kpis"],staleTime:2*60*1e3,refetchInterval:2e4,refetchOnWindowFocus:!1,enabled:!!e}),{data:w,isLoading:j}=Zt({queryKey:["/api/kpi-values"],staleTime:1*60*1e3,refetchInterval:15e3,refetchOnWindowFocus:!1,enabled:!!e}),A=(()=>{if(!y||!w)return[];if(!Array.isArray(y))return[];if(!Array.isArray(w))return[];const D=y.filter(T=>T.companyId===Number(i.companyId));return Array.from(new Map(D.map(T=>[T.id,T])).values()).map(T=>{const k=w.filter(X=>X.kpiId===T.id),F=i.period&&i.period!=="all"?k.filter(X=>X.period===i.period):k;if(!F||F.length===0)return null;const H=F.sort((X,ae)=>{const W=new Date(X.date||"").getTime();return new Date(ae.date||"").getTime()-W})[0];return i.status&&i.status!=="all"&&H.status!==i.status||i.areaId&&T.areaId!==i.areaId?null:{id:T.id,name:T.name,status:H.status,value:H.value,compliancePercentage:H.compliancePercentage,target:T.target,period:H.period,comments:H.comments}}).filter(Boolean)})();x&&i.companyId&&x.filter(D=>D.id===i.companyId);const E=D=>{if(console.log("Cambiando filtros:",D),"companyId"in D){const z=Number(D.companyId);console.log("Cambiando compañía a:",z),localStorage.setItem("selectedCompanyId",String(z)),r(z),a(T=>({...T,companyId:z})),console.log(`CompanyId actualizado en filters: ${z}`)}else a(z=>{const T={...z,...D};return console.log("Filtros actualizados:",T),T})},O=D=>{l(D),u(!0)},I=()=>{if(!w||w.length===0)return"N/A";const D=w.map(T=>new Date(T.date||"")),z=new Date(Math.max(...D.map(T=>T.getTime())));return Kpe(z)};return s.jsx(qc,{title:"Panel de Control",children:s.jsxs("div",{id:"dashboard-container",ref:t,children:[s.jsx(Zpe,{onFilterChange:E}),s.jsx("div",{className:"mb-4 sm:mb-6 text-center",children:s.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-[#273949] dark:text-white",children:"Sistema de Gestion Integral"})}),s.jsxs("div",{className:"relative mb-6 sm:mb-10 overflow-hidden rounded-lg sm:rounded-xl bg-gradient-to-r from-[#273949] to-[#1a2a36] p-4 sm:p-8 shadow-lg dark:from-[#15202b] dark:to-[#0d1117]",children:[s.jsx("div",{className:"absolute inset-0 bg-grid-white/10 bg-[length:20px_20px] [mask-image:linear-gradient(to_bottom,white_20%,transparent_60%)]"}),s.jsx("div",{className:"absolute right-0 top-0 h-full w-1/3 bg-gradient-to-l from-[#b5e951]/20 to-transparent"}),s.jsxs("div",{className:"relative",children:[s.jsx("h2",{className:"mb-2 sm:mb-3 text-xl sm:text-2xl md:text-3xl font-bold text-white",children:"Panel de Control"}),s.jsx("p",{className:"mb-4 sm:mb-6 max-w-xl text-sm sm:text-base text-white/80",children:"Visualiza el rendimiento de tu negocio con nuestros tableros interactivos de ventas y trazabilidad de envíos."}),x&&x.length>0&&s.jsx("div",{className:"mb-4 sm:mb-6 max-w-full sm:max-w-xs",children:s.jsx(A8e,{companies:x,selectedCompanyId:Number(i.companyId)||1,onCompanyChange:D=>E({companyId:D})})}),s.jsxs("div",{className:"mt-4 sm:mt-8 grid gap-2 grid-cols-1 sm:grid-cols-2 md:grid-cols-3 md:gap-4",children:[s.jsxs("div",{className:"bg-white/10 p-3 rounded-lg backdrop-blur-sm text-white",children:[s.jsx("p",{className:"text-xs text-white/70",children:"Volumen de ventas (último mes)"}),s.jsx("p",{className:"text-2xl font-bold",children:Number(i.companyId)===2?"237,464 Unidades":"59,680 KG"}),s.jsxs("p",{className:"text-xs flex items-center text-emerald-400",children:[s.jsx(Dj,{className:"h-3 w-3 mr-1"}),s.jsxs("span",{children:[Number(i.companyId)===2?"+26%":"+4.2%"," vs mes anterior"]})]})]}),s.jsxs("div",{className:"bg-white/10 p-3 rounded-lg backdrop-blur-sm text-white",children:[s.jsx("p",{className:"text-xs text-white/70",children:"KPIs en seguimiento"}),s.jsx("p",{className:"text-2xl font-bold",children:A.length}),s.jsxs("p",{className:"text-xs text-white/70",children:[A.filter(D=>D.status==="complies").length," cumpliendo objetivo"]})]}),s.jsxs("div",{className:"bg-white/10 p-3 rounded-lg backdrop-blur-sm text-white",children:[s.jsx("p",{className:"text-xs text-white/70",children:"Última actualización"}),s.jsx("p",{className:"text-xl font-bold",children:I()}),s.jsx("p",{className:"text-xs text-white/70",children:"Datos en tiempo real"})]})]})]})]}),s.jsx("div",{className:"mb-6 sm:mb-12",children:s.jsxs("div",{className:"bg-slate-50 dark:bg-primary-950/50 p-3 sm:p-6 rounded-xl sm:rounded-2xl shadow-md mx-2 sm:mx-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3 sm:mb-6",children:[s.jsx("div",{className:"h-8 w-8 sm:h-10 sm:w-10 rounded-full bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center",children:s.jsx(AW,{className:"h-4 w-4 sm:h-5 sm:w-5 text-blue-600 dark:text-blue-400"})}),s.jsx("h2",{className:"text-lg sm:text-xl md:text-2xl font-bold text-slate-800 dark:text-slate-100",children:"Reporte de Ventas"})]}),s.jsx(XRe,{companyId:Number(i.companyId)||1},`sales-summary-${i.companyId}`)]})}),s.jsx(PRe,{kpiId:o,isOpen:c,onClose:()=>u(!1)}),s.jsx(URe,{isOpen:f,onClose:()=>h(!1),status:p,kpis:A,onViewKpiDetails:O})]})})}const C8e=()=>{const[e]=Gc();N.useEffect(()=>{["/logistics","/kpi-control","/"].includes(e)&&(console.log(`[NavigationCleanup] Limpiando cache para ruta: ${e}`),Ni.removeQueries({predicate:n=>{var i;const r=((i=n.queryKey[0])==null?void 0:i.toString())||"";return!r.includes("/api/user")&&!r.includes("/api/login")&&!r.includes("auth")}}))},[e])};var Eb=e=>e.type==="checkbox",Op=e=>e instanceof Date,zs=e=>e==null;const NJ=e=>typeof e=="object";var ta=e=>!zs(e)&&!Array.isArray(e)&&NJ(e)&&!Op(e),SJ=e=>ta(e)&&e.target?Eb(e.target)?e.target.checked:e.target.value:e,E8e=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,AJ=(e,t)=>e.has(E8e(t)),O8e=e=>{const t=e.constructor&&e.constructor.prototype;return ta(t)&&t.hasOwnProperty("isPrototypeOf")},O3=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function es(e){let t;const n=Array.isArray(e),r=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(O3&&(e instanceof Blob||r))&&(n||ta(e)))if(t=n?[]:{},!n&&!O8e(e))t=e;else for(const i in e)e.hasOwnProperty(i)&&(t[i]=es(e[i]));else return e;return t}var GN=e=>Array.isArray(e)?e.filter(Boolean):[],Xi=e=>e===void 0,At=(e,t,n)=>{if(!t||!ta(e))return n;const r=GN(t.split(/[,[\].]+?/)).reduce((i,a)=>zs(i)?i:i[a],e);return Xi(r)||r===e?Xi(e[t])?n:e[t]:r},Go=e=>typeof e=="boolean",k3=e=>/^\w*$/.test(e),PJ=e=>GN(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Ar=(e,t,n)=>{let r=-1;const i=k3(t)?[t]:PJ(t),a=i.length,o=a-1;for(;++r<a;){const l=i[r];let c=n;if(r!==o){const u=e[l];c=ta(u)||Array.isArray(u)?u:isNaN(+i[r+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const $5={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Ec={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},md={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},CJ=ie.createContext(null),ZN=()=>ie.useContext(CJ),k8e=e=>{const{children:t,...n}=e;return ie.createElement(CJ.Provider,{value:n},t)};var EJ=(e,t,n,r=!0)=>{const i={defaultValues:t._defaultValues};for(const a in e)Object.defineProperty(i,a,{get:()=>{const o=a;return t._proxyFormState[o]!==Ec.all&&(t._proxyFormState[o]=!r||Ec.all),n&&(n[o]=!0),e[o]}});return i};function T8e(e){const t=ZN(),{control:n=t.control,disabled:r,name:i,exact:a}=e||{},[o,l]=ie.useState(n._formState),c=ie.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),u=ie.useRef(i);return u.current=i,ie.useEffect(()=>n._subscribe({name:u.current,formState:c.current,exact:a,callback:f=>{!r&&l({...n._formState,...f})}}),[n,r,a]),ie.useEffect(()=>{c.current.isValid&&n._setValid(!0)},[n]),ie.useMemo(()=>EJ(o,n,c.current,!1),[o,n])}var Tu=e=>typeof e=="string",OJ=(e,t,n,r,i)=>Tu(e)?(r&&t.watch.add(e),At(n,e,i)):Array.isArray(e)?e.map(a=>(r&&t.watch.add(a),At(n,a))):(r&&(t.watchAll=!0),n);function I8e(e){const t=ZN(),{control:n=t.control,name:r,defaultValue:i,disabled:a,exact:o}=e||{},l=ie.useRef(r),c=ie.useRef(i);l.current=r,ie.useEffect(()=>n._subscribe({name:l.current,formState:{values:!0},exact:o,callback:h=>!a&&f(OJ(l.current,n._names,h.values||n._formValues,!1,c.current))}),[n,a,o]);const[u,f]=ie.useState(n._getWatch(r,i));return ie.useEffect(()=>n._removeUnmounted()),u}function L8e(e){const t=ZN(),{name:n,disabled:r,control:i=t.control,shouldUnregister:a}=e,o=AJ(i._names.array,n),l=I8e({control:i,name:n,defaultValue:At(i._formValues,n,At(i._defaultValues,n,e.defaultValue)),exact:!0}),c=T8e({control:i,name:n,exact:!0}),u=ie.useRef(e),f=ie.useRef(i.register(n,{...e.rules,value:l,...Go(e.disabled)?{disabled:e.disabled}:{}})),h=ie.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!At(c.errors,n)},isDirty:{enumerable:!0,get:()=>!!At(c.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!At(c.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!At(c.validatingFields,n)},error:{enumerable:!0,get:()=>At(c.errors,n)}}),[c,n]),p=ie.useCallback(y=>f.current.onChange({target:{value:SJ(y),name:n},type:$5.CHANGE}),[n]),m=ie.useCallback(()=>f.current.onBlur({target:{value:At(i._formValues,n),name:n},type:$5.BLUR}),[n,i._formValues]),x=ie.useCallback(y=>{const b=At(i._fields,n);b&&y&&(b._f.ref={focus:()=>y.focus(),select:()=>y.select(),setCustomValidity:w=>y.setCustomValidity(w),reportValidity:()=>y.reportValidity()})},[i._fields,n]),v=ie.useMemo(()=>({name:n,value:l,...Go(r)||c.disabled?{disabled:c.disabled||r}:{},onChange:p,onBlur:m,ref:x}),[n,r,c.disabled,p,m,x,l]);return ie.useEffect(()=>{const y=i._options.shouldUnregister||a;i.register(n,{...u.current.rules,...Go(u.current.disabled)?{disabled:u.current.disabled}:{}});const b=(w,j)=>{const P=At(i._fields,w);P&&P._f&&(P._f.mount=j)};if(b(n,!0),y){const w=es(At(i._options.defaultValues,n));Ar(i._defaultValues,n,w),Xi(At(i._formValues,n))&&Ar(i._formValues,n,w)}return!o&&i.register(n),()=>{(o?y&&!i._state.action:y)?i.unregister(n):b(n,!1)}},[n,i,o,a]),ie.useEffect(()=>{i._setDisabledField({disabled:r,name:n})},[r,n,i]),ie.useMemo(()=>({field:v,formState:c,fieldState:h}),[v,c,h])}const M8e=e=>e.render(L8e(e));var kJ=(e,t,n,r,i)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:i||!0}}:{},ux=e=>Array.isArray(e)?e:[e],H8=()=>{let e=[];return{get observers(){return e},next:i=>{for(const a of e)a.next&&a.next(i)},subscribe:i=>(e.push(i),{unsubscribe:()=>{e=e.filter(a=>a!==i)}}),unsubscribe:()=>{e=[]}}},VO=e=>zs(e)||!NJ(e);function Df(e,t){if(VO(e)||VO(t))return e===t;if(Op(e)&&Op(t))return e.getTime()===t.getTime();const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(const i of n){const a=e[i];if(!r.includes(i))return!1;if(i!=="ref"){const o=t[i];if(Op(a)&&Op(o)||ta(a)&&ta(o)||Array.isArray(a)&&Array.isArray(o)?!Df(a,o):a!==o)return!1}}return!0}var Fs=e=>ta(e)&&!Object.keys(e).length,T3=e=>e.type==="file",Oc=e=>typeof e=="function",F5=e=>{if(!O3)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},TJ=e=>e.type==="select-multiple",I3=e=>e.type==="radio",D8e=e=>I3(e)||Eb(e),KA=e=>F5(e)&&e.isConnected;function R8e(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=Xi(e)?r++:e[t[r++]];return e}function $8e(e){for(const t in e)if(e.hasOwnProperty(t)&&!Xi(e[t]))return!1;return!0}function ba(e,t){const n=Array.isArray(t)?t:k3(t)?[t]:PJ(t),r=n.length===1?e:R8e(e,n),i=n.length-1,a=n[i];return r&&delete r[a],i!==0&&(ta(r)&&Fs(r)||Array.isArray(r)&&$8e(r))&&ba(e,n.slice(0,-1)),e}var IJ=e=>{for(const t in e)if(Oc(e[t]))return!0;return!1};function B5(e,t={}){const n=Array.isArray(e);if(ta(e)||n)for(const r in e)Array.isArray(e[r])||ta(e[r])&&!IJ(e[r])?(t[r]=Array.isArray(e[r])?[]:{},B5(e[r],t[r])):zs(e[r])||(t[r]=!0);return t}function LJ(e,t,n){const r=Array.isArray(e);if(ta(e)||r)for(const i in e)Array.isArray(e[i])||ta(e[i])&&!IJ(e[i])?Xi(t)||VO(n[i])?n[i]=Array.isArray(e[i])?B5(e[i],[]):{...B5(e[i])}:LJ(e[i],zs(t)?{}:t[i],n[i]):n[i]=!Df(e[i],t[i]);return n}var A0=(e,t)=>LJ(e,t,B5(t));const K8={value:!1,isValid:!1},G8={value:!0,isValid:!0};var MJ=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Xi(e[0].attributes.value)?Xi(e[0].value)||e[0].value===""?G8:{value:e[0].value,isValid:!0}:G8:K8}return K8},DJ=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:r})=>Xi(e)?e:t?e===""?NaN:e&&+e:n&&Tu(e)?new Date(e):r?r(e):e;const Z8={isValid:!1,value:null};var RJ=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,Z8):Z8;function X8(e){const t=e.ref;return T3(t)?t.files:I3(t)?RJ(e.refs).value:TJ(t)?[...t.selectedOptions].map(({value:n})=>n):Eb(t)?MJ(e.refs).value:DJ(Xi(t.value)?e.ref.value:t.value,e)}var F8e=(e,t,n,r)=>{const i={};for(const a of e){const o=At(t,a);o&&Ar(i,a,o._f)}return{criteriaMode:n,names:[...e],fields:i,shouldUseNativeValidation:r}},z5=e=>e instanceof RegExp,P0=e=>Xi(e)?e:z5(e)?e.source:ta(e)?z5(e.value)?e.value.source:e.value:e,Y8=e=>({isOnSubmit:!e||e===Ec.onSubmit,isOnBlur:e===Ec.onBlur,isOnChange:e===Ec.onChange,isOnAll:e===Ec.all,isOnTouch:e===Ec.onTouched});const Q8="AsyncFunction";var B8e=e=>!!e&&!!e.validate&&!!(Oc(e.validate)&&e.validate.constructor.name===Q8||ta(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===Q8)),z8e=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),J8=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length))));const dx=(e,t,n,r)=>{for(const i of n||Object.keys(e)){const a=At(e,i);if(a){const{_f:o,...l}=a;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],i)&&!r)return!0;if(o.ref&&t(o.ref,o.name)&&!r)return!0;if(dx(l,t))break}else if(ta(l)&&dx(l,t))break}}};function e$(e,t,n){const r=At(e,n);if(r||k3(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const a=i.join("."),o=At(t,a),l=At(e,a);if(o&&!Array.isArray(o)&&n!==a)return{name:n};if(l&&l.type)return{name:a,error:l};i.pop()}return{name:n}}var U8e=(e,t,n,r)=>{n(e);const{name:i,...a}=e;return Fs(a)||Object.keys(a).length>=Object.keys(t).length||Object.keys(a).find(o=>t[o]===(!r||Ec.all))},q8e=(e,t,n)=>!e||!t||e===t||ux(e).some(r=>r&&(n?r===t:r.startsWith(t)||t.startsWith(r))),V8e=(e,t,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(t||e):(n?r.isOnBlur:i.isOnBlur)?!e:(n?r.isOnChange:i.isOnChange)?e:!0,W8e=(e,t)=>!GN(At(e,t)).length&&ba(e,t),H8e=(e,t,n)=>{const r=ux(At(e,n));return Ar(r,"root",t[n]),Ar(e,n,r),e},I2=e=>Tu(e);function t$(e,t,n="validate"){if(I2(e)||Array.isArray(e)&&e.every(I2)||Go(e)&&!e)return{type:n,message:I2(e)?e:"",ref:t}}var Qm=e=>ta(e)&&!z5(e)?e:{value:e,message:""},n$=async(e,t,n,r,i,a)=>{const{ref:o,refs:l,required:c,maxLength:u,minLength:f,min:h,max:p,pattern:m,validate:x,name:v,valueAsNumber:y,mount:b}=e._f,w=At(n,v);if(!b||t.has(v))return{};const j=l?l[0]:o,P=k=>{i&&j.reportValidity&&(j.setCustomValidity(Go(k)?"":k||""),j.reportValidity())},A={},E=I3(o),O=Eb(o),I=E||O,D=(y||T3(o))&&Xi(o.value)&&Xi(w)||F5(o)&&o.value===""||w===""||Array.isArray(w)&&!w.length,z=kJ.bind(null,v,r,A),T=(k,F,B,H=md.maxLength,X=md.minLength)=>{const ae=k?F:B;A[v]={type:k?H:X,message:ae,ref:o,...z(k?H:X,ae)}};if(a?!Array.isArray(w)||!w.length:c&&(!I&&(D||zs(w))||Go(w)&&!w||O&&!MJ(l).isValid||E&&!RJ(l).isValid)){const{value:k,message:F}=I2(c)?{value:!!c,message:c}:Qm(c);if(k&&(A[v]={type:md.required,message:F,ref:j,...z(md.required,F)},!r))return P(F),A}if(!D&&(!zs(h)||!zs(p))){let k,F;const B=Qm(p),H=Qm(h);if(!zs(w)&&!isNaN(w)){const X=o.valueAsNumber||w&&+w;zs(B.value)||(k=X>B.value),zs(H.value)||(F=X<H.value)}else{const X=o.valueAsDate||new Date(w),ae=ue=>new Date(new Date().toDateString()+" "+ue),W=o.type=="time",te=o.type=="week";Tu(B.value)&&w&&(k=W?ae(w)>ae(B.value):te?w>B.value:X>new Date(B.value)),Tu(H.value)&&w&&(F=W?ae(w)<ae(H.value):te?w<H.value:X<new Date(H.value))}if((k||F)&&(T(!!k,B.message,H.message,md.max,md.min),!r))return P(A[v].message),A}if((u||f)&&!D&&(Tu(w)||a&&Array.isArray(w))){const k=Qm(u),F=Qm(f),B=!zs(k.value)&&w.length>+k.value,H=!zs(F.value)&&w.length<+F.value;if((B||H)&&(T(B,k.message,F.message),!r))return P(A[v].message),A}if(m&&!D&&Tu(w)){const{value:k,message:F}=Qm(m);if(z5(k)&&!w.match(k)&&(A[v]={type:md.pattern,message:F,ref:o,...z(md.pattern,F)},!r))return P(F),A}if(x){if(Oc(x)){const k=await x(w,n),F=t$(k,j);if(F&&(A[v]={...F,...z(md.validate,F.message)},!r))return P(F.message),A}else if(ta(x)){let k={};for(const F in x){if(!Fs(k)&&!r)break;const B=t$(await x[F](w,n),j,F);B&&(k={...B,...z(F,B.message)},P(B.message),r&&(A[v]=k))}if(!Fs(k)&&(A[v]={ref:j,...k},!r))return A}}return P(!0),A};const K8e={mode:Ec.onSubmit,reValidateMode:Ec.onChange,shouldFocusError:!0};function G8e(e={}){let t={...K8e,...e},n={submitCount:0,isDirty:!1,isLoading:Oc(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1};const r={};let i=ta(t.defaultValues)||ta(t.values)?es(t.values||t.defaultValues)||{}:{},a=t.shouldUnregister?{}:es(i),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const f={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let h={...f};const p={array:H8(),state:H8()},m=Y8(t.mode),x=Y8(t.reValidateMode),v=t.criteriaMode===Ec.all,y=fe=>Ne=>{clearTimeout(u),u=setTimeout(fe,Ne)},b=async fe=>{if(!t.disabled&&(f.isValid||h.isValid||fe)){const Ne=t.resolver?Fs((await D()).errors):await T(r,!0);Ne!==n.isValid&&p.state.next({isValid:Ne})}},w=(fe,Ne)=>{!t.disabled&&(f.isValidating||f.validatingFields||h.isValidating||h.validatingFields)&&((fe||Array.from(l.mount)).forEach(Ie=>{Ie&&(Ne?Ar(n.validatingFields,Ie,Ne):ba(n.validatingFields,Ie))}),p.state.next({validatingFields:n.validatingFields,isValidating:!Fs(n.validatingFields)}))},j=(fe,Ne=[],Ie,He,Be=!0,ze=!0)=>{if(He&&Ie&&!t.disabled){if(o.action=!0,ze&&Array.isArray(At(r,fe))){const Ge=Ie(At(r,fe),He.argA,He.argB);Be&&Ar(r,fe,Ge)}if(ze&&Array.isArray(At(n.errors,fe))){const Ge=Ie(At(n.errors,fe),He.argA,He.argB);Be&&Ar(n.errors,fe,Ge),W8e(n.errors,fe)}if((f.touchedFields||h.touchedFields)&&ze&&Array.isArray(At(n.touchedFields,fe))){const Ge=Ie(At(n.touchedFields,fe),He.argA,He.argB);Be&&Ar(n.touchedFields,fe,Ge)}(f.dirtyFields||h.dirtyFields)&&(n.dirtyFields=A0(i,a)),p.state.next({name:fe,isDirty:F(fe,Ne),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Ar(a,fe,Ne)},P=(fe,Ne)=>{Ar(n.errors,fe,Ne),p.state.next({errors:n.errors})},A=fe=>{n.errors=fe,p.state.next({errors:n.errors,isValid:!1})},E=(fe,Ne,Ie,He)=>{const Be=At(r,fe);if(Be){const ze=At(a,fe,Xi(Ie)?At(i,fe):Ie);Xi(ze)||He&&He.defaultChecked||Ne?Ar(a,fe,Ne?ze:X8(Be._f)):X(fe,ze),o.mount&&b()}},O=(fe,Ne,Ie,He,Be)=>{let ze=!1,Ge=!1;const st={name:fe};if(!t.disabled){if(!Ie||He){(f.isDirty||h.isDirty)&&(Ge=n.isDirty,n.isDirty=st.isDirty=F(),ze=Ge!==st.isDirty);const St=Df(At(i,fe),Ne);Ge=!!At(n.dirtyFields,fe),St?ba(n.dirtyFields,fe):Ar(n.dirtyFields,fe,!0),st.dirtyFields=n.dirtyFields,ze=ze||(f.dirtyFields||h.dirtyFields)&&Ge!==!St}if(Ie){const St=At(n.touchedFields,fe);St||(Ar(n.touchedFields,fe,Ie),st.touchedFields=n.touchedFields,ze=ze||(f.touchedFields||h.touchedFields)&&St!==Ie)}ze&&Be&&p.state.next(st)}return ze?st:{}},I=(fe,Ne,Ie,He)=>{const Be=At(n.errors,fe),ze=(f.isValid||h.isValid)&&Go(Ne)&&n.isValid!==Ne;if(t.delayError&&Ie?(c=y(()=>P(fe,Ie)),c(t.delayError)):(clearTimeout(u),c=null,Ie?Ar(n.errors,fe,Ie):ba(n.errors,fe)),(Ie?!Df(Be,Ie):Be)||!Fs(He)||ze){const Ge={...He,...ze&&Go(Ne)?{isValid:Ne}:{},errors:n.errors,name:fe};n={...n,...Ge},p.state.next(Ge)}},D=async fe=>{w(fe,!0);const Ne=await t.resolver(a,t.context,F8e(fe||l.mount,r,t.criteriaMode,t.shouldUseNativeValidation));return w(fe),Ne},z=async fe=>{const{errors:Ne}=await D(fe);if(fe)for(const Ie of fe){const He=At(Ne,Ie);He?Ar(n.errors,Ie,He):ba(n.errors,Ie)}else n.errors=Ne;return Ne},T=async(fe,Ne,Ie={valid:!0})=>{for(const He in fe){const Be=fe[He];if(Be){const{_f:ze,...Ge}=Be;if(ze){const st=l.array.has(ze.name),St=Be._f&&B8e(Be._f);St&&f.validatingFields&&w([He],!0);const vt=await n$(Be,l.disabled,a,v,t.shouldUseNativeValidation&&!Ne,st);if(St&&f.validatingFields&&w([He]),vt[ze.name]&&(Ie.valid=!1,Ne))break;!Ne&&(At(vt,ze.name)?st?H8e(n.errors,vt,ze.name):Ar(n.errors,ze.name,vt[ze.name]):ba(n.errors,ze.name))}!Fs(Ge)&&await T(Ge,Ne,Ie)}}return Ie.valid},k=()=>{for(const fe of l.unMount){const Ne=At(r,fe);Ne&&(Ne._f.refs?Ne._f.refs.every(Ie=>!KA(Ie)):!KA(Ne._f.ref))&&ne(fe)}l.unMount=new Set},F=(fe,Ne)=>!t.disabled&&(fe&&Ne&&Ar(a,fe,Ne),!Df(V(),i)),B=(fe,Ne,Ie)=>OJ(fe,l,{...o.mount?a:Xi(Ne)?i:Tu(fe)?{[fe]:Ne}:Ne},Ie,Ne),H=fe=>GN(At(o.mount?a:i,fe,t.shouldUnregister?At(i,fe,[]):[])),X=(fe,Ne,Ie={})=>{const He=At(r,fe);let Be=Ne;if(He){const ze=He._f;ze&&(!ze.disabled&&Ar(a,fe,DJ(Ne,ze)),Be=F5(ze.ref)&&zs(Ne)?"":Ne,TJ(ze.ref)?[...ze.ref.options].forEach(Ge=>Ge.selected=Be.includes(Ge.value)):ze.refs?Eb(ze.ref)?ze.refs.length>1?ze.refs.forEach(Ge=>(!Ge.defaultChecked||!Ge.disabled)&&(Ge.checked=Array.isArray(Be)?!!Be.find(st=>st===Ge.value):Be===Ge.value)):ze.refs[0]&&(ze.refs[0].checked=!!Be):ze.refs.forEach(Ge=>Ge.checked=Ge.value===Be):T3(ze.ref)?ze.ref.value="":(ze.ref.value=Be,ze.ref.type||p.state.next({name:fe,values:es(a)})))}(Ie.shouldDirty||Ie.shouldTouch)&&O(fe,Be,Ie.shouldTouch,Ie.shouldDirty,!0),Ie.shouldValidate&&ye(fe)},ae=(fe,Ne,Ie)=>{for(const He in Ne){const Be=Ne[He],ze=`${fe}.${He}`,Ge=At(r,ze);(l.array.has(fe)||ta(Be)||Ge&&!Ge._f)&&!Op(Be)?ae(ze,Be,Ie):X(ze,Be,Ie)}},W=(fe,Ne,Ie={})=>{const He=At(r,fe),Be=l.array.has(fe),ze=es(Ne);Ar(a,fe,ze),Be?(p.array.next({name:fe,values:es(a)}),(f.isDirty||f.dirtyFields||h.isDirty||h.dirtyFields)&&Ie.shouldDirty&&p.state.next({name:fe,dirtyFields:A0(i,a),isDirty:F(fe,ze)})):He&&!He._f&&!zs(ze)?ae(fe,ze,Ie):X(fe,ze,Ie),J8(fe,l)&&p.state.next({...n}),p.state.next({name:o.mount?fe:void 0,values:es(a)})},te=async fe=>{o.mount=!0;const Ne=fe.target;let Ie=Ne.name,He=!0;const Be=At(r,Ie),ze=Ge=>{He=Number.isNaN(Ge)||Op(Ge)&&isNaN(Ge.getTime())||Df(Ge,At(a,Ie,Ge))};if(Be){let Ge,st;const St=Ne.type?X8(Be._f):SJ(fe),vt=fe.type===$5.BLUR||fe.type===$5.FOCUS_OUT,Gn=!z8e(Be._f)&&!t.resolver&&!At(n.errors,Ie)&&!Be._f.deps||V8e(vt,At(n.touchedFields,Ie),n.isSubmitted,x,m),Cn=J8(Ie,l,vt);Ar(a,Ie,St),vt?(Be._f.onBlur&&Be._f.onBlur(fe),c&&c(0)):Be._f.onChange&&Be._f.onChange(fe);const Ot=O(Ie,St,vt),en=!Fs(Ot)||Cn;if(!vt&&p.state.next({name:Ie,type:fe.type,values:es(a)}),Gn)return(f.isValid||h.isValid)&&(t.mode==="onBlur"?vt&&b():vt||b()),en&&p.state.next({name:Ie,...Cn?{}:Ot});if(!vt&&Cn&&p.state.next({...n}),t.resolver){const{errors:Tn}=await D([Ie]);if(ze(St),He){const Ut=e$(n.errors,r,Ie),$t=e$(Tn,r,Ut.name||Ie);Ge=$t.error,Ie=$t.name,st=Fs(Tn)}}else w([Ie],!0),Ge=(await n$(Be,l.disabled,a,v,t.shouldUseNativeValidation))[Ie],w([Ie]),ze(St),He&&(Ge?st=!1:(f.isValid||h.isValid)&&(st=await T(r,!0)));He&&(Be._f.deps&&ye(Be._f.deps),I(Ie,st,Ge,Ot))}},ue=(fe,Ne)=>{if(At(n.errors,Ne)&&fe.focus)return fe.focus(),1},ye=async(fe,Ne={})=>{let Ie,He;const Be=ux(fe);if(t.resolver){const ze=await z(Xi(fe)?fe:Be);Ie=Fs(ze),He=fe?!Be.some(Ge=>At(ze,Ge)):Ie}else fe?(He=(await Promise.all(Be.map(async ze=>{const Ge=At(r,ze);return await T(Ge&&Ge._f?{[ze]:Ge}:Ge)}))).every(Boolean),!(!He&&!n.isValid)&&b()):He=Ie=await T(r);return p.state.next({...!Tu(fe)||(f.isValid||h.isValid)&&Ie!==n.isValid?{}:{name:fe},...t.resolver||!fe?{isValid:Ie}:{},errors:n.errors}),Ne.shouldFocus&&!He&&dx(r,ue,fe?Be:l.mount),He},V=fe=>{const Ne={...o.mount?a:i};return Xi(fe)?Ne:Tu(fe)?At(Ne,fe):fe.map(Ie=>At(Ne,Ie))},ee=(fe,Ne)=>({invalid:!!At((Ne||n).errors,fe),isDirty:!!At((Ne||n).dirtyFields,fe),error:At((Ne||n).errors,fe),isValidating:!!At(n.validatingFields,fe),isTouched:!!At((Ne||n).touchedFields,fe)}),Q=fe=>{fe&&ux(fe).forEach(Ne=>ba(n.errors,Ne)),p.state.next({errors:fe?n.errors:{}})},de=(fe,Ne,Ie)=>{const He=(At(r,fe,{_f:{}})._f||{}).ref,Be=At(n.errors,fe)||{},{ref:ze,message:Ge,type:st,...St}=Be;Ar(n.errors,fe,{...St,...Ne,ref:He}),p.state.next({name:fe,errors:n.errors,isValid:!1}),Ie&&Ie.shouldFocus&&He&&He.focus&&He.focus()},le=(fe,Ne)=>Oc(fe)?p.state.subscribe({next:Ie=>fe(B(void 0,Ne),Ie)}):B(fe,Ne,!0),ve=fe=>p.state.subscribe({next:Ne=>{q8e(fe.name,Ne.name,fe.exact)&&U8e(Ne,fe.formState||f,Ye,fe.reRenderRoot)&&fe.callback({values:{...a},...n,...Ne})}}).unsubscribe,Z=fe=>(o.mount=!0,h={...h,...fe.formState},ve({...fe,formState:h})),ne=(fe,Ne={})=>{for(const Ie of fe?ux(fe):l.mount)l.mount.delete(Ie),l.array.delete(Ie),Ne.keepValue||(ba(r,Ie),ba(a,Ie)),!Ne.keepError&&ba(n.errors,Ie),!Ne.keepDirty&&ba(n.dirtyFields,Ie),!Ne.keepTouched&&ba(n.touchedFields,Ie),!Ne.keepIsValidating&&ba(n.validatingFields,Ie),!t.shouldUnregister&&!Ne.keepDefaultValue&&ba(i,Ie);p.state.next({values:es(a)}),p.state.next({...n,...Ne.keepDirty?{isDirty:F()}:{}}),!Ne.keepIsValid&&b()},ge=({disabled:fe,name:Ne})=>{(Go(fe)&&o.mount||fe||l.disabled.has(Ne))&&(fe?l.disabled.add(Ne):l.disabled.delete(Ne))},Ee=(fe,Ne={})=>{let Ie=At(r,fe);const He=Go(Ne.disabled)||Go(t.disabled);return Ar(r,fe,{...Ie||{},_f:{...Ie&&Ie._f?Ie._f:{ref:{name:fe}},name:fe,mount:!0,...Ne}}),l.mount.add(fe),Ie?ge({disabled:Go(Ne.disabled)?Ne.disabled:t.disabled,name:fe}):E(fe,!0,Ne.value),{...He?{disabled:Ne.disabled||t.disabled}:{},...t.progressive?{required:!!Ne.required,min:P0(Ne.min),max:P0(Ne.max),minLength:P0(Ne.minLength),maxLength:P0(Ne.maxLength),pattern:P0(Ne.pattern)}:{},name:fe,onChange:te,onBlur:te,ref:Be=>{if(Be){Ee(fe,Ne),Ie=At(r,fe);const ze=Xi(Be.value)&&Be.querySelectorAll&&Be.querySelectorAll("input,select,textarea")[0]||Be,Ge=D8e(ze),st=Ie._f.refs||[];if(Ge?st.find(St=>St===ze):ze===Ie._f.ref)return;Ar(r,fe,{_f:{...Ie._f,...Ge?{refs:[...st.filter(KA),ze,...Array.isArray(At(i,fe))?[{}]:[]],ref:{type:ze.type,name:fe}}:{ref:ze}}}),E(fe,!1,void 0,ze)}else Ie=At(r,fe,{}),Ie._f&&(Ie._f.mount=!1),(t.shouldUnregister||Ne.shouldUnregister)&&!(AJ(l.array,fe)&&o.action)&&l.unMount.add(fe)}}},be=()=>t.shouldFocusError&&dx(r,ue,l.mount),Ue=fe=>{Go(fe)&&(p.state.next({disabled:fe}),dx(r,(Ne,Ie)=>{const He=At(r,Ie);He&&(Ne.disabled=He._f.disabled||fe,Array.isArray(He._f.refs)&&He._f.refs.forEach(Be=>{Be.disabled=He._f.disabled||fe}))},0,!1))},Pe=(fe,Ne)=>async Ie=>{let He;Ie&&(Ie.preventDefault&&Ie.preventDefault(),Ie.persist&&Ie.persist());let Be=es(a);if(p.state.next({isSubmitting:!0}),t.resolver){const{errors:ze,values:Ge}=await D();n.errors=ze,Be=Ge}else await T(r);if(l.disabled.size)for(const ze of l.disabled)Ar(Be,ze,void 0);if(ba(n.errors,"root"),Fs(n.errors)){p.state.next({errors:{}});try{await fe(Be,Ie)}catch(ze){He=ze}}else Ne&&await Ne({...n.errors},Ie),be(),setTimeout(be);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Fs(n.errors)&&!He,submitCount:n.submitCount+1,errors:n.errors}),He)throw He},ce=(fe,Ne={})=>{At(r,fe)&&(Xi(Ne.defaultValue)?W(fe,es(At(i,fe))):(W(fe,Ne.defaultValue),Ar(i,fe,es(Ne.defaultValue))),Ne.keepTouched||ba(n.touchedFields,fe),Ne.keepDirty||(ba(n.dirtyFields,fe),n.isDirty=Ne.defaultValue?F(fe,es(At(i,fe))):F()),Ne.keepError||(ba(n.errors,fe),f.isValid&&b()),p.state.next({...n}))},it=(fe,Ne={})=>{const Ie=fe?es(fe):i,He=es(Ie),Be=Fs(fe),ze=Be?i:He;if(Ne.keepDefaultValues||(i=Ie),!Ne.keepValues){if(Ne.keepDirtyValues){const Ge=new Set([...l.mount,...Object.keys(A0(i,a))]);for(const st of Array.from(Ge))At(n.dirtyFields,st)?Ar(ze,st,At(a,st)):W(st,At(ze,st))}else{if(O3&&Xi(fe))for(const Ge of l.mount){const st=At(r,Ge);if(st&&st._f){const St=Array.isArray(st._f.refs)?st._f.refs[0]:st._f.ref;if(F5(St)){const vt=St.closest("form");if(vt){vt.reset();break}}}}for(const Ge of l.mount)W(Ge,At(ze,Ge))}a=es(ze),p.array.next({values:{...ze}}),p.state.next({values:{...ze}})}l={mount:Ne.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!f.isValid||!!Ne.keepIsValid||!!Ne.keepDirtyValues,o.watch=!!t.shouldUnregister,p.state.next({submitCount:Ne.keepSubmitCount?n.submitCount:0,isDirty:Be?!1:Ne.keepDirty?n.isDirty:!!(Ne.keepDefaultValues&&!Df(fe,i)),isSubmitted:Ne.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:Be?{}:Ne.keepDirtyValues?Ne.keepDefaultValues&&a?A0(i,a):n.dirtyFields:Ne.keepDefaultValues&&fe?A0(i,fe):Ne.keepDirty?n.dirtyFields:{},touchedFields:Ne.keepTouched?n.touchedFields:{},errors:Ne.keepErrors?n.errors:{},isSubmitSuccessful:Ne.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},_t=(fe,Ne)=>it(Oc(fe)?fe(a):fe,Ne),gt=(fe,Ne={})=>{const Ie=At(r,fe),He=Ie&&Ie._f;if(He){const Be=He.refs?He.refs[0]:He.ref;Be.focus&&(Be.focus(),Ne.shouldSelect&&Oc(Be.select)&&Be.select())}},Ye=fe=>{n={...n,...fe}},ct={control:{register:Ee,unregister:ne,getFieldState:ee,handleSubmit:Pe,setError:de,_subscribe:ve,_runSchema:D,_getWatch:B,_getDirty:F,_setValid:b,_setFieldArray:j,_setDisabledField:ge,_setErrors:A,_getFieldArray:H,_reset:it,_resetDefaultValues:()=>Oc(t.defaultValues)&&t.defaultValues().then(fe=>{_t(fe,t.resetOptions),p.state.next({isLoading:!1})}),_removeUnmounted:k,_disableForm:Ue,_subjects:p,_proxyFormState:f,get _fields(){return r},get _formValues(){return a},get _state(){return o},set _state(fe){o=fe},get _defaultValues(){return i},get _names(){return l},set _names(fe){l=fe},get _formState(){return n},get _options(){return t},set _options(fe){t={...t,...fe}}},subscribe:Z,trigger:ye,register:Ee,handleSubmit:Pe,watch:le,setValue:W,getValues:V,reset:_t,resetField:ce,clearErrors:Q,unregister:ne,setError:de,setFocus:gt,getFieldState:ee};return{...ct,formControl:ct}}function Ob(e={}){const t=ie.useRef(void 0),n=ie.useRef(void 0),[r,i]=ie.useState({isDirty:!1,isValidating:!1,isLoading:Oc(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:Oc(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...e.formControl?e.formControl:G8e(e),formState:r},e.formControl&&e.defaultValues&&!Oc(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions));const a=t.current.control;return a._options=e,ie.useLayoutEffect(()=>a._subscribe({formState:a._proxyFormState,callback:()=>i({...a._formState}),reRenderRoot:!0}),[a]),ie.useEffect(()=>a._disableForm(e.disabled),[a,e.disabled]),ie.useEffect(()=>{if(a._proxyFormState.isDirty){const o=a._getDirty();o!==r.isDirty&&a._subjects.state.next({isDirty:o})}},[a,r.isDirty]),ie.useEffect(()=>{e.values&&!Df(e.values,n.current)?(a._reset(e.values,a._options.resetOptions),n.current=e.values,i(o=>({...o}))):a._resetDefaultValues()},[e.values,a]),ie.useEffect(()=>{e.errors&&!Fs(e.errors)&&a._setErrors(e.errors)},[e.errors,a]),ie.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),ie.useEffect(()=>{e.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[e.shouldUnregister,a]),t.current.formState=EJ(r,a),t.current}const r$=(e,t,n)=>{if(e&&"reportValidity"in e){const r=At(n,t);e.setCustomValidity(r&&r.message||""),e.reportValidity()}},$J=(e,t)=>{for(const n in t.fields){const r=t.fields[n];r&&r.ref&&"reportValidity"in r.ref?r$(r.ref,n,e):r.refs&&r.refs.forEach(i=>r$(i,n,e))}},Z8e=(e,t)=>{t.shouldUseNativeValidation&&$J(e,t);const n={};for(const r in e){const i=At(t.fields,r),a=Object.assign(e[r]||{},{ref:i&&i.ref});if(X8e(t.names||Object.keys(e),r)){const o=Object.assign({},At(n,r));Ar(o,"root",a),Ar(n,r,o)}else Ar(n,r,a)}return n},X8e=(e,t)=>e.some(n=>n.startsWith(t+"."));var Y8e=function(e,t){for(var n={};e.length;){var r=e[0],i=r.code,a=r.message,o=r.path.join(".");if(!n[o])if("unionErrors"in r){var l=r.unionErrors[0].errors[0];n[o]={message:l.message,type:l.code}}else n[o]={message:a,type:i};if("unionErrors"in r&&r.unionErrors.forEach(function(f){return f.errors.forEach(function(h){return e.push(h)})}),t){var c=n[o].types,u=c&&c[r.code];n[o]=kJ(o,t,n,i,u?[].concat(u,r.message):r.message)}e.shift()}return n},kb=function(e,t,n){return n===void 0&&(n={}),function(r,i,a){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(e[n.mode==="sync"?"parse":"parseAsync"](r,t)).then(function(u){return a.shouldUseNativeValidation&&$J({},a),{errors:{},values:n.raw?r:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:Z8e(Y8e(o.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw o}))}catch(o){return Promise.reject(o)}}},ir;(function(e){e.assertEqual=i=>{};function t(i){}e.assertIs=t;function n(i){throw new Error}e.assertNever=n,e.arrayToEnum=i=>{const a={};for(const o of i)a[o]=o;return a},e.getValidEnumValues=i=>{const a=e.objectKeys(i).filter(l=>typeof i[i[l]]!="number"),o={};for(const l of a)o[l]=i[l];return e.objectValues(o)},e.objectValues=i=>e.objectKeys(i).map(function(a){return i[a]}),e.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const a=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&a.push(o);return a},e.find=(i,a)=>{for(const o of i)if(a(o))return o},e.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function r(i,a=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(a)}e.joinValues=r,e.jsonStringifyReplacer=(i,a)=>typeof a=="bigint"?a.toString():a})(ir||(ir={}));var WO;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(WO||(WO={}));const It=ir.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),jd=e=>{switch(typeof e){case"undefined":return It.undefined;case"string":return It.string;case"number":return Number.isNaN(e)?It.nan:It.number;case"boolean":return It.boolean;case"function":return It.function;case"bigint":return It.bigint;case"symbol":return It.symbol;case"object":return Array.isArray(e)?It.array:e===null?It.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?It.promise:typeof Map<"u"&&e instanceof Map?It.map:typeof Set<"u"&&e instanceof Set?It.set:typeof Date<"u"&&e instanceof Date?It.date:It.object;default:return It.unknown}},ft=ir.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Q8e=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class ol extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}format(t){const n=t||function(a){return a.message},r={_errors:[]},i=a=>{for(const o of a.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let l=r,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(n(o))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return i(this),r}static assert(t){if(!(t instanceof ol))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ir.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n={},r=[];for(const i of this.issues)if(i.path.length>0){const a=i.path[0];n[a]=n[a]||[],n[a].push(t(i))}else r.push(t(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}ol.create=e=>new ol(e);const iy=(e,t)=>{let n;switch(e.code){case ft.invalid_type:e.received===It.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case ft.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,ir.jsonStringifyReplacer)}`;break;case ft.unrecognized_keys:n=`Unrecognized key(s) in object: ${ir.joinValues(e.keys,", ")}`;break;case ft.invalid_union:n="Invalid input";break;case ft.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${ir.joinValues(e.options)}`;break;case ft.invalid_enum_value:n=`Invalid enum value. Expected ${ir.joinValues(e.options)}, received '${e.received}'`;break;case ft.invalid_arguments:n="Invalid function arguments";break;case ft.invalid_return_type:n="Invalid function return type";break;case ft.invalid_date:n="Invalid date";break;case ft.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:ir.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case ft.too_small:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:n="Invalid input";break;case ft.too_big:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?n=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:n="Invalid input";break;case ft.custom:n="Invalid input";break;case ft.invalid_intersection_types:n="Intersection results could not be merged";break;case ft.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case ft.not_finite:n="Number must be finite";break;default:n=t.defaultError,ir.assertNever(e)}return{message:n}};let FJ=iy;function J8e(e){FJ=e}function U5(){return FJ}const q5=e=>{const{data:t,path:n,errorMaps:r,issueData:i}=e,a=[...n,...i.path||[]],o={...i,path:a};if(i.message!==void 0)return{...i,path:a,message:i.message};let l="";const c=r.filter(u=>!!u).slice().reverse();for(const u of c)l=u(o,{data:t,defaultError:l}).message;return{...i,path:a,message:l}},e$e=[];function Pt(e,t){const n=U5(),r=q5({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===iy?void 0:iy].filter(i=>!!i)});e.common.issues.push(r)}class Ss{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const r=[];for(const i of n){if(i.status==="aborted")return vn;i.status==="dirty"&&t.dirty(),r.push(i.value)}return{status:t.value,value:r}}static async mergeObjectAsync(t,n){const r=[];for(const i of n){const a=await i.key,o=await i.value;r.push({key:a,value:o})}return Ss.mergeObjectSync(t,r)}static mergeObjectSync(t,n){const r={};for(const i of n){const{key:a,value:o}=i;if(a.status==="aborted"||o.status==="aborted")return vn;a.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),a.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(r[a.value]=o.value)}return{status:t.value,value:r}}}const vn=Object.freeze({status:"aborted"}),Tg=e=>({status:"dirty",value:e}),Ys=e=>({status:"valid",value:e}),HO=e=>e.status==="aborted",KO=e=>e.status==="dirty",fm=e=>e.status==="valid",O1=e=>typeof Promise<"u"&&e instanceof Promise;var Yt;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(Yt||(Yt={}));class Zu{constructor(t,n,r,i){this._cachedPath=[],this.parent=t,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const i$=(e,t)=>{if(fm(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new ol(e.common.issues);return this._error=n,this._error}}};function Mn(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:i}=e;if(t&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:i}:{errorMap:(o,l)=>{const{message:c}=e;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??r??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??n??l.defaultError}},description:i}}class Hn{get description(){return this._def.description}_getType(t){return jd(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:jd(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Ss,ctx:{common:t.parent.common,data:t.data,parsedType:jd(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const n=this._parse(t);if(O1(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){const n=this._parse(t);return Promise.resolve(n)}parse(t,n){const r=this.safeParse(t,n);if(r.success)return r.data;throw r.error}safeParse(t,n){const r={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:jd(t)},i=this._parseSync({data:t,path:r.path,parent:r});return i$(r,i)}"~validate"(t){var r,i;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:jd(t)};if(!this["~standard"].async)try{const a=this._parseSync({data:t,path:[],parent:n});return fm(a)?{value:a.value}:{issues:n.common.issues}}catch(a){(i=(r=a==null?void 0:a.message)==null?void 0:r.toLowerCase())!=null&&i.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:n}).then(a=>fm(a)?{value:a.value}:{issues:n.common.issues})}async parseAsync(t,n){const r=await this.safeParseAsync(t,n);if(r.success)return r.data;throw r.error}async safeParseAsync(t,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:jd(t)},i=this._parse({data:t,path:r.path,parent:r}),a=await(O1(i)?i:Promise.resolve(i));return i$(r,a)}refine(t,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,a)=>{const o=t(i),l=()=>a.addIssue({code:ft.custom,...r(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,n){return this._refinement((r,i)=>t(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(t){return new Vc({schema:this,typeName:yn.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return zu.create(this,this._def)}nullable(){return Ch.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return $c.create(this)}promise(){return sy.create(this,this._def)}or(t){return L1.create([this,t],this._def)}and(t){return M1.create(this,t,this._def)}transform(t){return new Vc({...Mn(this._def),schema:this,typeName:yn.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const n=typeof t=="function"?t:()=>t;return new B1({...Mn(this._def),innerType:this,defaultValue:n,typeName:yn.ZodDefault})}brand(){return new L3({typeName:yn.ZodBranded,type:this,...Mn(this._def)})}catch(t){const n=typeof t=="function"?t:()=>t;return new z1({...Mn(this._def),innerType:this,catchValue:n,typeName:yn.ZodCatch})}describe(t){const n=this.constructor;return new n({...this._def,description:t})}pipe(t){return Tb.create(this,t)}readonly(){return U1.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const t$e=/^c[^\s-]{8,}$/i,n$e=/^[0-9a-z]+$/,r$e=/^[0-9A-HJKMNP-TV-Z]{26}$/i,i$e=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,a$e=/^[a-z0-9_-]{21}$/i,s$e=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,o$e=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,l$e=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,c$e="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let GA;const u$e=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,d$e=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,f$e=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,h$e=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,p$e=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,m$e=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,BJ="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",g$e=new RegExp(`^${BJ}$`);function zJ(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const n=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${n}`}function v$e(e){return new RegExp(`^${zJ(e)}$`)}function UJ(e){let t=`${BJ}T${zJ(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function y$e(e,t){return!!((t==="v4"||!t)&&u$e.test(e)||(t==="v6"||!t)&&f$e.test(e))}function x$e(e,t){if(!s$e.test(e))return!1;try{const[n]=e.split(".");if(!n)return!1;const r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(r));return!(typeof i!="object"||i===null||"typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||t&&i.alg!==t)}catch{return!1}}function b$e(e,t){return!!((t==="v4"||!t)&&d$e.test(e)||(t==="v6"||!t)&&h$e.test(e))}class kc extends Hn{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==It.string){const a=this._getOrReturnCtx(t);return Pt(a,{code:ft.invalid_type,expected:It.string,received:a.parsedType}),vn}const r=new Ss;let i;for(const a of this._def.checks)if(a.kind==="min")t.data.length<a.value&&(i=this._getOrReturnCtx(t,i),Pt(i,{code:ft.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="max")t.data.length>a.value&&(i=this._getOrReturnCtx(t,i),Pt(i,{code:ft.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="length"){const o=t.data.length>a.value,l=t.data.length<a.value;(o||l)&&(i=this._getOrReturnCtx(t,i),o?Pt(i,{code:ft.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):l&&Pt(i,{code:ft.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),r.dirty())}else if(a.kind==="email")l$e.test(t.data)||(i=this._getOrReturnCtx(t,i),Pt(i,{validation:"email",code:ft.invalid_string,message:a.message}),r.dirty());else if(a.kind==="emoji")GA||(GA=new RegExp(c$e,"u")),GA.test(t.data)||(i=this._getOrReturnCtx(t,i),Pt(i,{validation:"emoji",code:ft.invalid_string,message:a.message}),r.dirty());else if(a.kind==="uuid")i$e.test(t.data)||(i=this._getOrReturnCtx(t,i),Pt(i,{validation:"uuid",code:ft.invalid_string,message:a.message}),r.dirty());else if(a.kind==="nanoid")a$e.test(t.data)||(i=this._getOrReturnCtx(t,i),Pt(i,{validation:"nanoid",code:ft.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid")t$e.test(t.data)||(i=this._getOrReturnCtx(t,i),Pt(i,{validation:"cuid",code:ft.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid2")n$e.test(t.data)||(i=this._getOrReturnCtx(t,i),Pt(i,{validation:"cuid2",code:ft.invalid_string,message:a.message}),r.dirty());else if(a.kind==="ulid")r$e.test(t.data)||(i=this._getOrReturnCtx(t,i),Pt(i,{validation:"ulid",code:ft.invalid_string,message:a.message}),r.dirty());else if(a.kind==="url")try{new URL(t.data)}catch{i=this._getOrReturnCtx(t,i),Pt(i,{validation:"url",code:ft.invalid_string,message:a.message}),r.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(t.data)||(i=this._getOrReturnCtx(t,i),Pt(i,{validation:"regex",code:ft.invalid_string,message:a.message}),r.dirty())):a.kind==="trim"?t.data=t.data.trim():a.kind==="includes"?t.data.includes(a.value,a.position)||(i=this._getOrReturnCtx(t,i),Pt(i,{code:ft.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),r.dirty()):a.kind==="toLowerCase"?t.data=t.data.toLowerCase():a.kind==="toUpperCase"?t.data=t.data.toUpperCase():a.kind==="startsWith"?t.data.startsWith(a.value)||(i=this._getOrReturnCtx(t,i),Pt(i,{code:ft.invalid_string,validation:{startsWith:a.value},message:a.message}),r.dirty()):a.kind==="endsWith"?t.data.endsWith(a.value)||(i=this._getOrReturnCtx(t,i),Pt(i,{code:ft.invalid_string,validation:{endsWith:a.value},message:a.message}),r.dirty()):a.kind==="datetime"?UJ(a).test(t.data)||(i=this._getOrReturnCtx(t,i),Pt(i,{code:ft.invalid_string,validation:"datetime",message:a.message}),r.dirty()):a.kind==="date"?g$e.test(t.data)||(i=this._getOrReturnCtx(t,i),Pt(i,{code:ft.invalid_string,validation:"date",message:a.message}),r.dirty()):a.kind==="time"?v$e(a).test(t.data)||(i=this._getOrReturnCtx(t,i),Pt(i,{code:ft.invalid_string,validation:"time",message:a.message}),r.dirty()):a.kind==="duration"?o$e.test(t.data)||(i=this._getOrReturnCtx(t,i),Pt(i,{validation:"duration",code:ft.invalid_string,message:a.message}),r.dirty()):a.kind==="ip"?y$e(t.data,a.version)||(i=this._getOrReturnCtx(t,i),Pt(i,{validation:"ip",code:ft.invalid_string,message:a.message}),r.dirty()):a.kind==="jwt"?x$e(t.data,a.alg)||(i=this._getOrReturnCtx(t,i),Pt(i,{validation:"jwt",code:ft.invalid_string,message:a.message}),r.dirty()):a.kind==="cidr"?b$e(t.data,a.version)||(i=this._getOrReturnCtx(t,i),Pt(i,{validation:"cidr",code:ft.invalid_string,message:a.message}),r.dirty()):a.kind==="base64"?p$e.test(t.data)||(i=this._getOrReturnCtx(t,i),Pt(i,{validation:"base64",code:ft.invalid_string,message:a.message}),r.dirty()):a.kind==="base64url"?m$e.test(t.data)||(i=this._getOrReturnCtx(t,i),Pt(i,{validation:"base64url",code:ft.invalid_string,message:a.message}),r.dirty()):ir.assertNever(a);return{status:r.value,value:t.data}}_regex(t,n,r){return this.refinement(i=>t.test(i),{validation:n,code:ft.invalid_string,...Yt.errToObj(r)})}_addCheck(t){return new kc({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Yt.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Yt.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Yt.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Yt.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Yt.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Yt.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Yt.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Yt.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Yt.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Yt.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Yt.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Yt.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Yt.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...Yt.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...Yt.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...Yt.errToObj(t)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...Yt.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n==null?void 0:n.position,...Yt.errToObj(n==null?void 0:n.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...Yt.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...Yt.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...Yt.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...Yt.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...Yt.errToObj(n)})}nonempty(t){return this.min(1,Yt.errToObj(t))}trim(){return new kc({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new kc({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new kc({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}kc.create=e=>new kc({checks:[],typeName:yn.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...Mn(e)});function w$e(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,i=n>r?n:r,a=Number.parseInt(e.toFixed(i).replace(".","")),o=Number.parseInt(t.toFixed(i).replace(".",""));return a%o/10**i}class Sh extends Hn{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==It.number){const a=this._getOrReturnCtx(t);return Pt(a,{code:ft.invalid_type,expected:It.number,received:a.parsedType}),vn}let r;const i=new Ss;for(const a of this._def.checks)a.kind==="int"?ir.isInteger(t.data)||(r=this._getOrReturnCtx(t,r),Pt(r,{code:ft.invalid_type,expected:"integer",received:"float",message:a.message}),i.dirty()):a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(r=this._getOrReturnCtx(t,r),Pt(r,{code:ft.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(r=this._getOrReturnCtx(t,r),Pt(r,{code:ft.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="multipleOf"?w$e(t.data,a.value)!==0&&(r=this._getOrReturnCtx(t,r),Pt(r,{code:ft.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):a.kind==="finite"?Number.isFinite(t.data)||(r=this._getOrReturnCtx(t,r),Pt(r,{code:ft.not_finite,message:a.message}),i.dirty()):ir.assertNever(a);return{status:i.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,Yt.toString(n))}gt(t,n){return this.setLimit("min",t,!1,Yt.toString(n))}lte(t,n){return this.setLimit("max",t,!0,Yt.toString(n))}lt(t,n){return this.setLimit("max",t,!1,Yt.toString(n))}setLimit(t,n,r,i){return new Sh({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:Yt.toString(i)}]})}_addCheck(t){return new Sh({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Yt.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Yt.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Yt.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Yt.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Yt.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:Yt.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:Yt.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Yt.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Yt.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&ir.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(t===null||r.value<t)&&(t=r.value)}return Number.isFinite(n)&&Number.isFinite(t)}}Sh.create=e=>new Sh({checks:[],typeName:yn.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...Mn(e)});class Ah extends Hn{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==It.bigint)return this._getInvalidInput(t);let r;const i=new Ss;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(r=this._getOrReturnCtx(t,r),Pt(r,{code:ft.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(r=this._getOrReturnCtx(t,r),Pt(r,{code:ft.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="multipleOf"?t.data%a.value!==BigInt(0)&&(r=this._getOrReturnCtx(t,r),Pt(r,{code:ft.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):ir.assertNever(a);return{status:i.value,value:t.data}}_getInvalidInput(t){const n=this._getOrReturnCtx(t);return Pt(n,{code:ft.invalid_type,expected:It.bigint,received:n.parsedType}),vn}gte(t,n){return this.setLimit("min",t,!0,Yt.toString(n))}gt(t,n){return this.setLimit("min",t,!1,Yt.toString(n))}lte(t,n){return this.setLimit("max",t,!0,Yt.toString(n))}lt(t,n){return this.setLimit("max",t,!1,Yt.toString(n))}setLimit(t,n,r,i){return new Ah({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:Yt.toString(i)}]})}_addCheck(t){return new Ah({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Yt.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Yt.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Yt.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Yt.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:Yt.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}Ah.create=e=>new Ah({checks:[],typeName:yn.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...Mn(e)});class k1 extends Hn{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==It.boolean){const r=this._getOrReturnCtx(t);return Pt(r,{code:ft.invalid_type,expected:It.boolean,received:r.parsedType}),vn}return Ys(t.data)}}k1.create=e=>new k1({typeName:yn.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...Mn(e)});class hm extends Hn{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==It.date){const a=this._getOrReturnCtx(t);return Pt(a,{code:ft.invalid_type,expected:It.date,received:a.parsedType}),vn}if(Number.isNaN(t.data.getTime())){const a=this._getOrReturnCtx(t);return Pt(a,{code:ft.invalid_date}),vn}const r=new Ss;let i;for(const a of this._def.checks)a.kind==="min"?t.data.getTime()<a.value&&(i=this._getOrReturnCtx(t,i),Pt(i,{code:ft.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),r.dirty()):a.kind==="max"?t.data.getTime()>a.value&&(i=this._getOrReturnCtx(t,i),Pt(i,{code:ft.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),r.dirty()):ir.assertNever(a);return{status:r.value,value:new Date(t.data.getTime())}}_addCheck(t){return new hm({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:Yt.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:Yt.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}}hm.create=e=>new hm({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:yn.ZodDate,...Mn(e)});class V5 extends Hn{_parse(t){if(this._getType(t)!==It.symbol){const r=this._getOrReturnCtx(t);return Pt(r,{code:ft.invalid_type,expected:It.symbol,received:r.parsedType}),vn}return Ys(t.data)}}V5.create=e=>new V5({typeName:yn.ZodSymbol,...Mn(e)});class T1 extends Hn{_parse(t){if(this._getType(t)!==It.undefined){const r=this._getOrReturnCtx(t);return Pt(r,{code:ft.invalid_type,expected:It.undefined,received:r.parsedType}),vn}return Ys(t.data)}}T1.create=e=>new T1({typeName:yn.ZodUndefined,...Mn(e)});class I1 extends Hn{_parse(t){if(this._getType(t)!==It.null){const r=this._getOrReturnCtx(t);return Pt(r,{code:ft.invalid_type,expected:It.null,received:r.parsedType}),vn}return Ys(t.data)}}I1.create=e=>new I1({typeName:yn.ZodNull,...Mn(e)});class ay extends Hn{constructor(){super(...arguments),this._any=!0}_parse(t){return Ys(t.data)}}ay.create=e=>new ay({typeName:yn.ZodAny,...Mn(e)});class Hp extends Hn{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Ys(t.data)}}Hp.create=e=>new Hp({typeName:yn.ZodUnknown,...Mn(e)});class Gd extends Hn{_parse(t){const n=this._getOrReturnCtx(t);return Pt(n,{code:ft.invalid_type,expected:It.never,received:n.parsedType}),vn}}Gd.create=e=>new Gd({typeName:yn.ZodNever,...Mn(e)});class W5 extends Hn{_parse(t){if(this._getType(t)!==It.undefined){const r=this._getOrReturnCtx(t);return Pt(r,{code:ft.invalid_type,expected:It.void,received:r.parsedType}),vn}return Ys(t.data)}}W5.create=e=>new W5({typeName:yn.ZodVoid,...Mn(e)});class $c extends Hn{_parse(t){const{ctx:n,status:r}=this._processInputParams(t),i=this._def;if(n.parsedType!==It.array)return Pt(n,{code:ft.invalid_type,expected:It.array,received:n.parsedType}),vn;if(i.exactLength!==null){const o=n.data.length>i.exactLength.value,l=n.data.length<i.exactLength.value;(o||l)&&(Pt(n,{code:o?ft.too_big:ft.too_small,minimum:l?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(Pt(n,{code:ft.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(Pt(n,{code:ft.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,l)=>i.type._parseAsync(new Zu(n,o,n.path,l)))).then(o=>Ss.mergeArray(r,o));const a=[...n.data].map((o,l)=>i.type._parseSync(new Zu(n,o,n.path,l)));return Ss.mergeArray(r,a)}get element(){return this._def.type}min(t,n){return new $c({...this._def,minLength:{value:t,message:Yt.toString(n)}})}max(t,n){return new $c({...this._def,maxLength:{value:t,message:Yt.toString(n)}})}length(t,n){return new $c({...this._def,exactLength:{value:t,message:Yt.toString(n)}})}nonempty(t){return this.min(1,t)}}$c.create=(e,t)=>new $c({type:e,minLength:null,maxLength:null,exactLength:null,typeName:yn.ZodArray,...Mn(t)});function ag(e){if(e instanceof _i){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=zu.create(ag(r))}return new _i({...e._def,shape:()=>t})}else return e instanceof $c?new $c({...e._def,type:ag(e.element)}):e instanceof zu?zu.create(ag(e.unwrap())):e instanceof Ch?Ch.create(ag(e.unwrap())):e instanceof Xu?Xu.create(e.items.map(t=>ag(t))):e}class _i extends Hn{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=ir.objectKeys(t);return this._cached={shape:t,keys:n},this._cached}_parse(t){if(this._getType(t)!==It.object){const u=this._getOrReturnCtx(t);return Pt(u,{code:ft.invalid_type,expected:It.object,received:u.parsedType}),vn}const{status:r,ctx:i}=this._processInputParams(t),{shape:a,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof Gd&&this._def.unknownKeys==="strip"))for(const u in i.data)o.includes(u)||l.push(u);const c=[];for(const u of o){const f=a[u],h=i.data[u];c.push({key:{status:"valid",value:u},value:f._parse(new Zu(i,h,i.path,u)),alwaysSet:u in i.data})}if(this._def.catchall instanceof Gd){const u=this._def.unknownKeys;if(u==="passthrough")for(const f of l)c.push({key:{status:"valid",value:f},value:{status:"valid",value:i.data[f]}});else if(u==="strict")l.length>0&&(Pt(i,{code:ft.unrecognized_keys,keys:l}),r.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const f of l){const h=i.data[f];c.push({key:{status:"valid",value:f},value:u._parse(new Zu(i,h,i.path,f)),alwaysSet:f in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const u=[];for(const f of c){const h=await f.key,p=await f.value;u.push({key:h,value:p,alwaysSet:f.alwaysSet})}return u}).then(u=>Ss.mergeObjectSync(r,u)):Ss.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(t){return Yt.errToObj,new _i({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,r)=>{var a,o;const i=((o=(a=this._def).errorMap)==null?void 0:o.call(a,n,r).message)??r.defaultError;return n.code==="unrecognized_keys"?{message:Yt.errToObj(t).message??i}:{message:i}}}:{}})}strip(){return new _i({...this._def,unknownKeys:"strip"})}passthrough(){return new _i({...this._def,unknownKeys:"passthrough"})}extend(t){return new _i({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new _i({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:yn.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new _i({...this._def,catchall:t})}pick(t){const n={};for(const r of ir.objectKeys(t))t[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new _i({...this._def,shape:()=>n})}omit(t){const n={};for(const r of ir.objectKeys(this.shape))t[r]||(n[r]=this.shape[r]);return new _i({...this._def,shape:()=>n})}deepPartial(){return ag(this)}partial(t){const n={};for(const r of ir.objectKeys(this.shape)){const i=this.shape[r];t&&!t[r]?n[r]=i:n[r]=i.optional()}return new _i({...this._def,shape:()=>n})}required(t){const n={};for(const r of ir.objectKeys(this.shape))if(t&&!t[r])n[r]=this.shape[r];else{let a=this.shape[r];for(;a instanceof zu;)a=a._def.innerType;n[r]=a}return new _i({...this._def,shape:()=>n})}keyof(){return qJ(ir.objectKeys(this.shape))}}_i.create=(e,t)=>new _i({shape:()=>e,unknownKeys:"strip",catchall:Gd.create(),typeName:yn.ZodObject,...Mn(t)});_i.strictCreate=(e,t)=>new _i({shape:()=>e,unknownKeys:"strict",catchall:Gd.create(),typeName:yn.ZodObject,...Mn(t)});_i.lazycreate=(e,t)=>new _i({shape:e,unknownKeys:"strip",catchall:Gd.create(),typeName:yn.ZodObject,...Mn(t)});class L1 extends Hn{_parse(t){const{ctx:n}=this._processInputParams(t),r=this._def.options;function i(a){for(const l of a)if(l.result.status==="valid")return l.result;for(const l of a)if(l.result.status==="dirty")return n.common.issues.push(...l.ctx.common.issues),l.result;const o=a.map(l=>new ol(l.ctx.common.issues));return Pt(n,{code:ft.invalid_union,unionErrors:o}),vn}if(n.common.async)return Promise.all(r.map(async a=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await a._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(i);{let a;const o=[];for(const c of r){const u={...n,common:{...n.common,issues:[]},parent:null},f=c._parseSync({data:n.data,path:n.path,parent:u});if(f.status==="valid")return f;f.status==="dirty"&&!a&&(a={result:f,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(a)return n.common.issues.push(...a.ctx.common.issues),a.result;const l=o.map(c=>new ol(c));return Pt(n,{code:ft.invalid_union,unionErrors:l}),vn}}get options(){return this._def.options}}L1.create=(e,t)=>new L1({options:e,typeName:yn.ZodUnion,...Mn(t)});const xd=e=>e instanceof R1?xd(e.schema):e instanceof Vc?xd(e.innerType()):e instanceof $1?[e.value]:e instanceof Ph?e.options:e instanceof F1?ir.objectValues(e.enum):e instanceof B1?xd(e._def.innerType):e instanceof T1?[void 0]:e instanceof I1?[null]:e instanceof zu?[void 0,...xd(e.unwrap())]:e instanceof Ch?[null,...xd(e.unwrap())]:e instanceof L3||e instanceof U1?xd(e.unwrap()):e instanceof z1?xd(e._def.innerType):[];class XN extends Hn{_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==It.object)return Pt(n,{code:ft.invalid_type,expected:It.object,received:n.parsedType}),vn;const r=this.discriminator,i=n.data[r],a=this.optionsMap.get(i);return a?n.common.async?a._parseAsync({data:n.data,path:n.path,parent:n}):a._parseSync({data:n.data,path:n.path,parent:n}):(Pt(n,{code:ft.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),vn)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,n,r){const i=new Map;for(const a of n){const o=xd(a.shape[t]);if(!o.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const l of o){if(i.has(l))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(l)}`);i.set(l,a)}}return new XN({typeName:yn.ZodDiscriminatedUnion,discriminator:t,options:n,optionsMap:i,...Mn(r)})}}function GO(e,t){const n=jd(e),r=jd(t);if(e===t)return{valid:!0,data:e};if(n===It.object&&r===It.object){const i=ir.objectKeys(t),a=ir.objectKeys(e).filter(l=>i.indexOf(l)!==-1),o={...e,...t};for(const l of a){const c=GO(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(n===It.array&&r===It.array){if(e.length!==t.length)return{valid:!1};const i=[];for(let a=0;a<e.length;a++){const o=e[a],l=t[a],c=GO(o,l);if(!c.valid)return{valid:!1};i.push(c.data)}return{valid:!0,data:i}}else return n===It.date&&r===It.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class M1 extends Hn{_parse(t){const{status:n,ctx:r}=this._processInputParams(t),i=(a,o)=>{if(HO(a)||HO(o))return vn;const l=GO(a.value,o.value);return l.valid?((KO(a)||KO(o))&&n.dirty(),{status:n.value,value:l.data}):(Pt(r,{code:ft.invalid_intersection_types}),vn)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([a,o])=>i(a,o)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}M1.create=(e,t,n)=>new M1({left:e,right:t,typeName:yn.ZodIntersection,...Mn(n)});class Xu extends Hn{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==It.array)return Pt(r,{code:ft.invalid_type,expected:It.array,received:r.parsedType}),vn;if(r.data.length<this._def.items.length)return Pt(r,{code:ft.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),vn;!this._def.rest&&r.data.length>this._def.items.length&&(Pt(r,{code:ft.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const a=[...r.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new Zu(r,o,r.path,l)):null}).filter(o=>!!o);return r.common.async?Promise.all(a).then(o=>Ss.mergeArray(n,o)):Ss.mergeArray(n,a)}get items(){return this._def.items}rest(t){return new Xu({...this._def,rest:t})}}Xu.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Xu({items:e,typeName:yn.ZodTuple,rest:null,...Mn(t)})};class D1 extends Hn{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==It.object)return Pt(r,{code:ft.invalid_type,expected:It.object,received:r.parsedType}),vn;const i=[],a=this._def.keyType,o=this._def.valueType;for(const l in r.data)i.push({key:a._parse(new Zu(r,l,r.path,l)),value:o._parse(new Zu(r,r.data[l],r.path,l)),alwaysSet:l in r.data});return r.common.async?Ss.mergeObjectAsync(n,i):Ss.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(t,n,r){return n instanceof Hn?new D1({keyType:t,valueType:n,typeName:yn.ZodRecord,...Mn(r)}):new D1({keyType:kc.create(),valueType:t,typeName:yn.ZodRecord,...Mn(n)})}}class H5 extends Hn{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==It.map)return Pt(r,{code:ft.invalid_type,expected:It.map,received:r.parsedType}),vn;const i=this._def.keyType,a=this._def.valueType,o=[...r.data.entries()].map(([l,c],u)=>({key:i._parse(new Zu(r,l,r.path,[u,"key"])),value:a._parse(new Zu(r,c,r.path,[u,"value"]))}));if(r.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,f=await c.value;if(u.status==="aborted"||f.status==="aborted")return vn;(u.status==="dirty"||f.status==="dirty")&&n.dirty(),l.set(u.value,f.value)}return{status:n.value,value:l}})}else{const l=new Map;for(const c of o){const u=c.key,f=c.value;if(u.status==="aborted"||f.status==="aborted")return vn;(u.status==="dirty"||f.status==="dirty")&&n.dirty(),l.set(u.value,f.value)}return{status:n.value,value:l}}}}H5.create=(e,t,n)=>new H5({valueType:t,keyType:e,typeName:yn.ZodMap,...Mn(n)});class pm extends Hn{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==It.set)return Pt(r,{code:ft.invalid_type,expected:It.set,received:r.parsedType}),vn;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(Pt(r,{code:ft.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(Pt(r,{code:ft.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const a=this._def.valueType;function o(c){const u=new Set;for(const f of c){if(f.status==="aborted")return vn;f.status==="dirty"&&n.dirty(),u.add(f.value)}return{status:n.value,value:u}}const l=[...r.data.values()].map((c,u)=>a._parse(new Zu(r,c,r.path,u)));return r.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,n){return new pm({...this._def,minSize:{value:t,message:Yt.toString(n)}})}max(t,n){return new pm({...this._def,maxSize:{value:t,message:Yt.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}pm.create=(e,t)=>new pm({valueType:e,minSize:null,maxSize:null,typeName:yn.ZodSet,...Mn(t)});class Kg extends Hn{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==It.function)return Pt(n,{code:ft.invalid_type,expected:It.function,received:n.parsedType}),vn;function r(l,c){return q5({data:l,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,U5(),iy].filter(u=>!!u),issueData:{code:ft.invalid_arguments,argumentsError:c}})}function i(l,c){return q5({data:l,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,U5(),iy].filter(u=>!!u),issueData:{code:ft.invalid_return_type,returnTypeError:c}})}const a={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof sy){const l=this;return Ys(async function(...c){const u=new ol([]),f=await l._def.args.parseAsync(c,a).catch(m=>{throw u.addIssue(r(c,m)),u}),h=await Reflect.apply(o,this,f);return await l._def.returns._def.type.parseAsync(h,a).catch(m=>{throw u.addIssue(i(h,m)),u})})}else{const l=this;return Ys(function(...c){const u=l._def.args.safeParse(c,a);if(!u.success)throw new ol([r(c,u.error)]);const f=Reflect.apply(o,this,u.data),h=l._def.returns.safeParse(f,a);if(!h.success)throw new ol([i(f,h.error)]);return h.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new Kg({...this._def,args:Xu.create(t).rest(Hp.create())})}returns(t){return new Kg({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,n,r){return new Kg({args:t||Xu.create([]).rest(Hp.create()),returns:n||Hp.create(),typeName:yn.ZodFunction,...Mn(r)})}}class R1 extends Hn{get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}R1.create=(e,t)=>new R1({getter:e,typeName:yn.ZodLazy,...Mn(t)});class $1 extends Hn{_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return Pt(n,{received:n.data,code:ft.invalid_literal,expected:this._def.value}),vn}return{status:"valid",value:t.data}}get value(){return this._def.value}}$1.create=(e,t)=>new $1({value:e,typeName:yn.ZodLiteral,...Mn(t)});function qJ(e,t){return new Ph({values:e,typeName:yn.ZodEnum,...Mn(t)})}class Ph extends Hn{_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),r=this._def.values;return Pt(n,{expected:ir.joinValues(r),received:n.parsedType,code:ft.invalid_type}),vn}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const n=this._getOrReturnCtx(t),r=this._def.values;return Pt(n,{received:n.data,code:ft.invalid_enum_value,options:r}),vn}return Ys(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}extract(t,n=this._def){return Ph.create(t,{...this._def,...n})}exclude(t,n=this._def){return Ph.create(this.options.filter(r=>!t.includes(r)),{...this._def,...n})}}Ph.create=qJ;class F1 extends Hn{_parse(t){const n=ir.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(t);if(r.parsedType!==It.string&&r.parsedType!==It.number){const i=ir.objectValues(n);return Pt(r,{expected:ir.joinValues(i),received:r.parsedType,code:ft.invalid_type}),vn}if(this._cache||(this._cache=new Set(ir.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const i=ir.objectValues(n);return Pt(r,{received:r.data,code:ft.invalid_enum_value,options:i}),vn}return Ys(t.data)}get enum(){return this._def.values}}F1.create=(e,t)=>new F1({values:e,typeName:yn.ZodNativeEnum,...Mn(t)});class sy extends Hn{unwrap(){return this._def.type}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==It.promise&&n.common.async===!1)return Pt(n,{code:ft.invalid_type,expected:It.promise,received:n.parsedType}),vn;const r=n.parsedType===It.promise?n.data:Promise.resolve(n.data);return Ys(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}sy.create=(e,t)=>new sy({type:e,typeName:yn.ZodPromise,...Mn(t)});class Vc extends Hn{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===yn.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:n,ctx:r}=this._processInputParams(t),i=this._def.effect||null,a={addIssue:o=>{Pt(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(a.addIssue=a.addIssue.bind(a),i.type==="preprocess"){const o=i.transform(r.data,a);if(r.common.async)return Promise.resolve(o).then(async l=>{if(n.value==="aborted")return vn;const c=await this._def.schema._parseAsync({data:l,path:r.path,parent:r});return c.status==="aborted"?vn:c.status==="dirty"||n.value==="dirty"?Tg(c.value):c});{if(n.value==="aborted")return vn;const l=this._def.schema._parseSync({data:o,path:r.path,parent:r});return l.status==="aborted"?vn:l.status==="dirty"||n.value==="dirty"?Tg(l.value):l}}if(i.type==="refinement"){const o=l=>{const c=i.refinement(l,a);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return l.status==="aborted"?vn:(l.status==="dirty"&&n.dirty(),o(l.value),{status:n.value,value:l.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>l.status==="aborted"?vn:(l.status==="dirty"&&n.dirty(),o(l.value).then(()=>({status:n.value,value:l.value}))))}if(i.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!fm(o))return vn;const l=i.transform(o.value,a);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:l}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>fm(o)?Promise.resolve(i.transform(o.value,a)).then(l=>({status:n.value,value:l})):vn);ir.assertNever(i)}}Vc.create=(e,t,n)=>new Vc({schema:e,typeName:yn.ZodEffects,effect:t,...Mn(n)});Vc.createWithPreprocess=(e,t,n)=>new Vc({schema:t,effect:{type:"preprocess",transform:e},typeName:yn.ZodEffects,...Mn(n)});class zu extends Hn{_parse(t){return this._getType(t)===It.undefined?Ys(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}zu.create=(e,t)=>new zu({innerType:e,typeName:yn.ZodOptional,...Mn(t)});class Ch extends Hn{_parse(t){return this._getType(t)===It.null?Ys(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Ch.create=(e,t)=>new Ch({innerType:e,typeName:yn.ZodNullable,...Mn(t)});class B1 extends Hn{_parse(t){const{ctx:n}=this._processInputParams(t);let r=n.data;return n.parsedType===It.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}B1.create=(e,t)=>new B1({innerType:e,typeName:yn.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Mn(t)});class z1 extends Hn{_parse(t){const{ctx:n}=this._processInputParams(t),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return O1(i)?i.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new ol(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new ol(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}z1.create=(e,t)=>new z1({innerType:e,typeName:yn.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Mn(t)});class K5 extends Hn{_parse(t){if(this._getType(t)!==It.nan){const r=this._getOrReturnCtx(t);return Pt(r,{code:ft.invalid_type,expected:It.nan,received:r.parsedType}),vn}return{status:"valid",value:t.data}}}K5.create=e=>new K5({typeName:yn.ZodNaN,...Mn(e)});const _$e=Symbol("zod_brand");class L3 extends Hn{_parse(t){const{ctx:n}=this._processInputParams(t),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Tb extends Hn{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?vn:a.status==="dirty"?(n.dirty(),Tg(a.value)):this._def.out._parseAsync({data:a.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?vn:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(t,n){return new Tb({in:t,out:n,typeName:yn.ZodPipeline})}}class U1 extends Hn{_parse(t){const n=this._def.innerType._parse(t),r=i=>(fm(i)&&(i.value=Object.freeze(i.value)),i);return O1(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}U1.create=(e,t)=>new U1({innerType:e,typeName:yn.ZodReadonly,...Mn(t)});function a$(e,t){const n=typeof e=="function"?e(t):typeof e=="string"?{message:e}:e;return typeof n=="string"?{message:n}:n}function M3(e,t={},n){return e?ay.create().superRefine((r,i)=>{const a=e(r);if(a instanceof Promise)return a.then(o=>{if(!o){const l=a$(t,r),c=l.fatal??n??!0;i.addIssue({code:"custom",...l,fatal:c})}});if(!a){const o=a$(t,r),l=o.fatal??n??!0;i.addIssue({code:"custom",...o,fatal:l})}}):ay.create()}const j$e={object:_i.lazycreate};var yn;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(yn||(yn={}));const N$e=(e,t={message:`Input not instance of ${e.name}`})=>M3(n=>n instanceof e,t),Wt=kc.create,la=Sh.create,S$e=K5.create,A$e=Ah.create,Ib=k1.create,P$e=hm.create,C$e=V5.create,E$e=T1.create,VJ=I1.create,G5=ay.create,O$e=Hp.create,k$e=Gd.create,T$e=W5.create,Cl=$c.create,js=_i.create,I$e=_i.strictCreate,YN=L1.create,L$e=XN.create,M$e=M1.create,D$e=Xu.create,WJ=D1.create,R$e=H5.create,$$e=pm.create,F$e=Kg.create,B$e=R1.create,z$e=$1.create,HJ=Ph.create,U$e=F1.create,q$e=sy.create,s$=Vc.create,V$e=zu.create,W$e=Ch.create,H$e=Vc.createWithPreprocess,K$e=Tb.create,G$e=()=>Wt().optional(),Z$e=()=>la().optional(),X$e=()=>Ib().optional(),Y$e={string:e=>kc.create({...e,coerce:!0}),number:e=>Sh.create({...e,coerce:!0}),boolean:e=>k1.create({...e,coerce:!0}),bigint:e=>Ah.create({...e,coerce:!0}),date:e=>hm.create({...e,coerce:!0})},Q$e=vn,J$e=Object.freeze(Object.defineProperty({__proto__:null,BRAND:_$e,DIRTY:Tg,EMPTY_PATH:e$e,INVALID:vn,NEVER:Q$e,OK:Ys,ParseStatus:Ss,Schema:Hn,ZodAny:ay,ZodArray:$c,ZodBigInt:Ah,ZodBoolean:k1,ZodBranded:L3,ZodCatch:z1,ZodDate:hm,ZodDefault:B1,ZodDiscriminatedUnion:XN,ZodEffects:Vc,ZodEnum:Ph,ZodError:ol,get ZodFirstPartyTypeKind(){return yn},ZodFunction:Kg,ZodIntersection:M1,ZodIssueCode:ft,ZodLazy:R1,ZodLiteral:$1,ZodMap:H5,ZodNaN:K5,ZodNativeEnum:F1,ZodNever:Gd,ZodNull:I1,ZodNullable:Ch,ZodNumber:Sh,ZodObject:_i,ZodOptional:zu,ZodParsedType:It,ZodPipeline:Tb,ZodPromise:sy,ZodReadonly:U1,ZodRecord:D1,ZodSchema:Hn,ZodSet:pm,ZodString:kc,ZodSymbol:V5,ZodTransformer:Vc,ZodTuple:Xu,ZodType:Hn,ZodUndefined:T1,ZodUnion:L1,ZodUnknown:Hp,ZodVoid:W5,addIssueToContext:Pt,any:G5,array:Cl,bigint:A$e,boolean:Ib,coerce:Y$e,custom:M3,date:P$e,datetimeRegex:UJ,defaultErrorMap:iy,discriminatedUnion:L$e,effect:s$,enum:HJ,function:F$e,getErrorMap:U5,getParsedType:jd,instanceof:N$e,intersection:M$e,isAborted:HO,isAsync:O1,isDirty:KO,isValid:fm,late:j$e,lazy:B$e,literal:z$e,makeIssue:q5,map:R$e,nan:S$e,nativeEnum:U$e,never:k$e,null:VJ,nullable:W$e,number:la,object:js,get objectUtil(){return WO},oboolean:X$e,onumber:Z$e,optional:V$e,ostring:G$e,pipeline:K$e,preprocess:H$e,promise:q$e,quotelessJson:Q8e,record:WJ,set:$$e,setErrorMap:J8e,strictObject:I$e,string:Wt,symbol:C$e,transformer:s$,tuple:D$e,undefined:E$e,union:YN,unknown:O$e,get util(){return ir},void:T$e},Symbol.toStringTag,{value:"Module"})),Lb=k8e,KJ=N.createContext({}),Pr=({...e})=>s.jsx(KJ.Provider,{value:{name:e.name},children:s.jsx(M8e,{...e})}),QN=()=>{const e=N.useContext(KJ),t=N.useContext(GJ),{getFieldState:n,formState:r}=ZN(),i=n(e.name,r);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:a}=t;return{id:a,name:e.name,formItemId:`${a}-form-item`,formDescriptionId:`${a}-form-item-description`,formMessageId:`${a}-form-item-message`,...i}},GJ=N.createContext({}),br=N.forwardRef(({className:e,...t},n)=>{const r=N.useId();return s.jsx(GJ.Provider,{value:{id:r},children:s.jsx("div",{ref:n,className:wt("space-y-2",e),...t})})});br.displayName="FormItem";const wr=N.forwardRef(({className:e,...t},n)=>{const{error:r,formItemId:i}=QN();return s.jsx(xt,{ref:n,className:wt(r&&"text-destructive",e),htmlFor:i,...t})});wr.displayName="FormLabel";const dr=N.forwardRef(({...e},t)=>{const{error:n,formItemId:r,formDescriptionId:i,formMessageId:a}=QN();return s.jsx(YV,{ref:t,id:r,"aria-describedby":n?`${i} ${a}`:`${i}`,"aria-invalid":!!n,...e})});dr.displayName="FormControl";const sg=N.forwardRef(({className:e,...t},n)=>{const{formDescriptionId:r}=QN();return s.jsx("p",{ref:n,id:r,className:wt("text-sm text-muted-foreground",e),...t})});sg.displayName="FormDescription";const _r=N.forwardRef(({className:e,children:t,...n},r)=>{const{error:i,formMessageId:a}=QN(),o=i?String((i==null?void 0:i.message)??""):t;return o?s.jsx("p",{ref:r,id:a,className:wt("text-sm font-medium text-destructive",e),...n,children:o}):null});_r.displayName="FormMessage";const eFe=gy("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Eh=N.forwardRef(({className:e,variant:t,...n},r)=>s.jsx("div",{ref:r,role:"alert",className:wt(eFe({variant:t}),e),...n}));Eh.displayName="Alert";const q1=N.forwardRef(({className:e,...t},n)=>s.jsx("h5",{ref:n,className:wt("mb-1 font-medium leading-none tracking-tight",e),...t}));q1.displayName="AlertTitle";const Oh=N.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:wt("text-sm [&_p]:leading-relaxed",e),...t}));Oh.displayName="AlertDescription";const tFe=js({username:Wt().min(3,"El nombre de usuario debe tener al menos 3 caracteres"),password:Wt().min(6,"La contraseña debe tener al menos 6 caracteres")});function nFe(){const{login:e,user:t}=Qu(),[n,r]=N.useState(null),[i,a]=N.useState(!1),[,o]=Gc();N.useEffect(()=>{if(t){const u=sessionStorage.getItem("redirectAfterLogin");u?(console.log(`[LoginForm] Redireccionando a ruta guardada: ${u}`),sessionStorage.removeItem("redirectAfterLogin"),o(u)):(console.log("[LoginForm] No hay ruta guardada, redireccionando al dashboard"),o("/"))}},[t,o]);const l=Ob({resolver:kb(tFe),defaultValues:{username:"",password:""}}),c=async u=>{a(!0),r(null);try{console.log(`[LoginForm] Intentando iniciar sesión con usuario: ${u.username}`),await e(u.username,u.password)}catch(f){console.error("[LoginForm] Error en inicio de sesión:",f),r(f instanceof Error?f.message:"Error al iniciar sesión")}finally{a(!1)}};return s.jsxs("div",{className:"p-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"Iniciar Sesión"}),s.jsx("p",{className:"text-gray-500 text-sm",children:"Acceso al sistema de gestión de indicadores"})]}),n&&s.jsxs(Eh,{variant:"destructive",className:"mb-6 bg-red-50 border-red-200 text-red-800",children:[s.jsx(mb,{className:"h-4 w-4"}),s.jsx(Oh,{children:n})]}),s.jsx(Lb,{...l,children:s.jsxs("form",{onSubmit:l.handleSubmit(c),className:"space-y-6",children:[s.jsx(Pr,{control:l.control,name:"username",render:({field:u})=>s.jsxs(br,{children:[s.jsx(wr,{className:"text-gray-700 font-medium text-sm",children:"Usuario"}),s.jsx(dr,{children:s.jsx(Mt,{placeholder:"daniel@econova.com.mx",className:"bg-white border-gray-300 text-gray-900 placeholder:text-gray-400 focus:border-[#00a8a8] focus:ring-[#00a8a8]/20 h-12 rounded-md",...u})}),s.jsx(_r,{className:"text-red-500 text-xs"})]})}),s.jsx(Pr,{control:l.control,name:"password",render:({field:u})=>s.jsxs(br,{children:[s.jsx(wr,{className:"text-gray-700 font-medium text-sm",children:"Contraseña"}),s.jsx(dr,{children:s.jsx(Mt,{type:"password",placeholder:"••••••••",className:"bg-white border-gray-300 text-gray-900 placeholder:text-gray-400 focus:border-[#00a8a8] focus:ring-[#00a8a8]/20 h-12 rounded-md",...u})}),s.jsx(_r,{className:"text-red-500 text-xs"})]})}),s.jsx(Je,{type:"submit",className:"w-full bg-[#00a8a8] hover:bg-[#008080] text-white font-semibold py-3 rounded-md transition-all duration-200 h-12",disabled:i,children:i?s.jsxs(s.Fragment,{children:[s.jsx(go,{className:"mr-2 h-4 w-4 animate-spin"}),"Accediendo..."]}):"Acceder al Sistema"})]})})]})}function rFe(){const{user:e,isLoading:t}=Qu(),[n,r]=Gc();return C8e(),N.useEffect(()=>{if(!t&&e){const i=sessionStorage.getItem("redirectAfterLogin");i&&i!=="/login"?(sessionStorage.removeItem("redirectAfterLogin"),r(i)):r("/")}},[e,t,r]),t?s.jsx("div",{className:"flex justify-center items-center min-h-screen bg-secondary-100",children:s.jsx("div",{className:"w-8 h-8 border-4 border-primary-600 border-t-transparent rounded-full animate-spin"})}):s.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center p-4",children:s.jsxs("div",{className:"w-full max-w-md",children:[s.jsx("div",{className:"text-center mb-12",children:s.jsxs("div",{className:"flex justify-center items-center space-x-16",children:[s.jsx("div",{className:"relative",children:s.jsx("img",{src:"/logo orsega.jpg",alt:"Grupo Orsega Logo",className:"w-40 h-40 object-contain",onError:i=>{const a=i.target;a.style.display="none";const o=a.parentElement;o&&(o.innerHTML=`
                      <div class="w-40 h-40 bg-gray-200 rounded-full flex items-center justify-center text-gray-500 text-xl font-medium">
                        ORSEGA
                      </div>
                    `)}})}),s.jsx("div",{className:"relative",children:s.jsx("img",{src:"/logodura.jpg",alt:"Dura International Logo",className:"w-40 h-40 object-contain",onError:i=>{const a=i.target;a.style.display="none";const o=a.parentElement;o&&(o.innerHTML=`
                      <div class="w-40 h-40 bg-gray-200 rounded-lg flex items-center justify-center text-gray-500 text-xl font-medium">
                        DURA
                      </div>
                    `)}})})]})}),s.jsx("div",{className:"bg-white border border-gray-200 rounded-lg shadow-lg overflow-hidden",children:s.jsx(nFe,{})})]})})}const iFe=js({name:Wt().min(2,"El nombre debe tener al menos 2 caracteres"),email:Wt().email("Email inválido"),password:Wt().min(8,"La contraseña debe tener al menos 8 caracteres"),confirmPassword:Wt(),companyId:Wt().min(1,"Selecciona una empresa"),area:Wt().min(1,"Selecciona un área")}).refine(e=>e.password===e.confirmPassword,{message:"Las contraseñas no coinciden",path:["confirmPassword"]});function aFe(){const[e,t]=Gc(),[n,r]=N.useState(!1),[i,a]=N.useState(!1),[o,l]=N.useState(!1),{toast:c}=ss(),u=Ob({resolver:kb(iFe),defaultValues:{name:"",email:"",password:"",confirmPassword:"",companyId:"",area:""}}),f=async h=>{try{l(!0);const p=await Cr("POST","/api/register",{name:h.name,email:h.email,password:h.password,companyId:parseInt(h.companyId),area:h.area});if(p.ok)c({title:"¡Registro exitoso!",description:"Tu cuenta ha sido creada. Ahora puedes iniciar sesión."}),t("/login");else{const m=await p.json();c({title:"Error en el registro",description:m.message||"No se pudo crear la cuenta",variant:"destructive"})}}catch{c({title:"Error",description:"No se pudo conectar con el servidor",variant:"destructive"})}finally{l(!1)}};return s.jsx("div",{className:"min-h-screen flex flex-col justify-center items-center bg-[#273949] p-4",children:s.jsxs("div",{className:"w-full max-w-lg",children:[s.jsxs("div",{className:"text-center mb-8 flex flex-col items-center",children:[s.jsx(yH,{height:120,className:"mb-4"}),s.jsx("h1",{className:"text-3xl font-bold text-[#b5e951]",children:"DIGO KPIs"}),s.jsx("p",{className:"text-white mt-2",children:"Crear nueva cuenta"})]}),s.jsxs(ot,{className:"bg-white shadow-xl",children:[s.jsxs(Ht,{className:"text-center",children:[s.jsxs(Qt,{className:"flex items-center justify-center gap-2",children:[s.jsx(Tk,{className:"h-5 w-5 text-[#273949]"}),"Registro"]}),s.jsx(fr,{children:"Completa tus datos para crear tu cuenta"})]}),s.jsxs(lt,{children:[s.jsx(Lb,{...u,children:s.jsxs("form",{onSubmit:u.handleSubmit(f),className:"space-y-4",children:[s.jsx(Pr,{control:u.control,name:"name",render:({field:h})=>s.jsxs(br,{children:[s.jsx(wr,{children:"Nombre completo"}),s.jsx(dr,{children:s.jsx(Mt,{placeholder:"Tu nombre completo",...h,"data-testid":"input-name"})}),s.jsx(_r,{})]})}),s.jsx(Pr,{control:u.control,name:"email",render:({field:h})=>s.jsxs(br,{children:[s.jsx(wr,{children:"Email"}),s.jsx(dr,{children:s.jsx(Mt,{type:"email",placeholder:"tu@email.com",...h,"data-testid":"input-email"})}),s.jsx(_r,{})]})}),s.jsx(Pr,{control:u.control,name:"companyId",render:({field:h})=>s.jsxs(br,{children:[s.jsx(wr,{children:"Empresa"}),s.jsxs(on,{onValueChange:h.onChange,defaultValue:h.value,children:[s.jsx(dr,{children:s.jsx(an,{"data-testid":"select-company",children:s.jsx(ln,{placeholder:"Selecciona tu empresa"})})}),s.jsxs(sn,{children:[s.jsx(xe,{value:"1",children:"Dura International"}),s.jsx(xe,{value:"2",children:"Grupo Orsega"})]})]}),s.jsx(_r,{})]})}),s.jsx(Pr,{control:u.control,name:"area",render:({field:h})=>s.jsxs(br,{children:[s.jsx(wr,{children:"Área"}),s.jsxs(on,{onValueChange:h.onChange,defaultValue:h.value,children:[s.jsx(dr,{children:s.jsx(an,{"data-testid":"select-area",children:s.jsx(ln,{placeholder:"Selecciona tu área"})})}),s.jsxs(sn,{children:[s.jsx(xe,{value:"Sales",children:"Ventas"}),s.jsx(xe,{value:"Logistics",children:"Logística"}),s.jsx(xe,{value:"Purchasing",children:"Compras"}),s.jsx(xe,{value:"Accounting",children:"Contabilidad y Finanzas"})]})]}),s.jsx(_r,{})]})}),s.jsx(Pr,{control:u.control,name:"password",render:({field:h})=>s.jsxs(br,{children:[s.jsx(wr,{children:"Contraseña"}),s.jsx(dr,{children:s.jsxs("div",{className:"relative",children:[s.jsx(Mt,{type:n?"text":"password",placeholder:"Mínimo 8 caracteres",...h,"data-testid":"input-password"}),s.jsx(Je,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>r(!n),"data-testid":"button-toggle-password",children:n?s.jsx(VC,{className:"h-4 w-4 text-gray-500"}):s.jsx(WC,{className:"h-4 w-4 text-gray-500"})})]})}),s.jsx(_r,{})]})}),s.jsx(Pr,{control:u.control,name:"confirmPassword",render:({field:h})=>s.jsxs(br,{children:[s.jsx(wr,{children:"Confirmar contraseña"}),s.jsx(dr,{children:s.jsxs("div",{className:"relative",children:[s.jsx(Mt,{type:i?"text":"password",placeholder:"Confirma tu contraseña",...h,"data-testid":"input-confirm-password"}),s.jsx(Je,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>a(!i),"data-testid":"button-toggle-confirm-password",children:i?s.jsx(VC,{className:"h-4 w-4 text-gray-500"}):s.jsx(WC,{className:"h-4 w-4 text-gray-500"})})]})}),s.jsx(_r,{})]})}),s.jsx(Je,{type:"submit",className:"w-full bg-[#273949] hover:bg-[#1e2a36]",disabled:o,"data-testid":"button-register",children:o?"Creando cuenta...":"Crear cuenta"})]})}),s.jsx("div",{className:"mt-6 text-center",children:s.jsxs("p",{className:"text-sm text-gray-600",children:["¿Ya tienes cuenta?"," ",s.jsx(Np,{href:"/login",className:"text-[#273949] hover:text-[#1e2a36] font-medium","data-testid":"link-login",children:"Inicia sesión aquí"})]})})]})]})]})})}var D3="Switch",[sFe,cGe]=Ba(D3),[oFe,lFe]=sFe(D3),ZJ=N.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:a,required:o,disabled:l,value:c="on",onCheckedChange:u,form:f,...h}=e,[p,m]=N.useState(null),x=Dn(t,j=>m(j)),v=N.useRef(!1),y=p?f||!!p.closest("form"):!0,[b=!1,w]=cl({prop:i,defaultProp:a,onChange:u});return s.jsxs(oFe,{scope:n,checked:b,disabled:l,children:[s.jsx(Rt.button,{type:"button",role:"switch","aria-checked":b,"aria-required":o,"data-state":QJ(b),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:x,onClick:yt(e.onClick,j=>{w(P=>!P),y&&(v.current=j.isPropagationStopped(),v.current||j.stopPropagation())})}),y&&s.jsx(cFe,{control:p,bubbles:!v.current,name:r,value:c,checked:b,required:o,disabled:l,form:f,style:{transform:"translateX(-100%)"}})]})});ZJ.displayName=D3;var XJ="SwitchThumb",YJ=N.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,i=lFe(XJ,n);return s.jsx(Rt.span,{"data-state":QJ(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:t})});YJ.displayName=XJ;var cFe=e=>{const{control:t,checked:n,bubbles:r=!0,...i}=e,a=N.useRef(null),o=C3(n),l=zk(t);return N.useEffect(()=>{const c=a.current,u=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(u,"checked").set;if(o!==n&&h){const p=new Event("click",{bubbles:r});h.call(c,n),c.dispatchEvent(p)}},[o,n,r]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:a,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function QJ(e){return e?"checked":"unchecked"}var JJ=ZJ,uFe=YJ;const R3=N.forwardRef(({className:e,...t},n)=>s.jsx(JJ,{className:wt("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:s.jsx(uFe,{className:wt("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));R3.displayName=JJ.displayName;function dFe({shipment:e,providers:t,isOpen:n,onClose:r,onSubmit:i}){const{toast:a}=ss(),[o,l]=N.useState({providerId:"",pickupDate:e.estimatedDeliveryDate?new Date(e.estimatedDeliveryDate).toISOString().split("T")[0]:new Date().toISOString().split("T")[0],appointmentRequired:!1,appointmentNotes:"",ccEmails:[],additionalNotes:""}),[c,u]=N.useState(!1),f=t.find(y=>y.id===o.providerId),h=()=>{const y=`Solicitud de recolección – ${e.customerName} – ${new Date(o.pickupDate).toLocaleDateString("es-MX")}`,b=o.appointmentRequired?`Este servicio LLEVA cita${o.appointmentNotes?` - ${o.appointmentNotes}`:""}`:"Este servicio NO lleva cita",w=`
Estimado equipo de ${(f==null?void 0:f.name)||"[Proveedor]"},

Esperamos se encuentren bien. Les solicitamos cotización para el siguiente servicio de recolección:

${b}

DETALLES DEL ENVÍO:
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
• Cliente/Proyecto: ${e.customerName}
• Código: ${e.trackingCode}
• Origen: ${e.origin}
• Destino: ${e.destination}
• Fecha de recolección: ${new Date(o.pickupDate).toLocaleDateString("es-MX")}
• Carga: ${e.product}
• Cantidad: ${e.quantity} ${e.unit}
• Observaciones: ${e.comments||"Sin observaciones especiales"}
${e.customerPhone?`• Contacto: ${e.customerPhone}`:""}
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

${o.additionalNotes?`Notas adicionales: ${o.additionalNotes}`:""}

Por favor confirmen disponibilidad y cotización.

Saludos cordiales,
Thalía Rodríguez
Dura International
thaliarodriguez@duraintal.com
    `.trim();return{subject:y,body:w}},p=()=>{if(!o.providerId){a({title:"Error",description:"Por favor selecciona un proveedor",variant:"destructive"});return}i(o)},m=()=>{const{subject:y,body:b}=h(),w=`mailto:${f==null?void 0:f.email}?subject=${encodeURIComponent(y)}&body=${encodeURIComponent(b)}`;window.open(w),a({title:"Correo copiado",description:"Se abrió tu cliente de correo con el mensaje preparado"})},{subject:x,body:v}=h();return s.jsx(vi,{open:n,onOpenChange:r,children:s.jsxs(ui,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(di,{children:[s.jsxs(fi,{className:"flex items-center gap-2",children:[s.jsx(_o,{className:"h-5 w-5 text-blue-600"}),"Solicitar Transporte"]}),s.jsx(jo,{children:"Enviar solicitud de recolección al proveedor seleccionado"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h3",{className:"font-semibold text-lg flex items-center gap-2",children:[s.jsx(kk,{className:"h-4 w-4"}),"Información del Envío"]}),s.jsxs("div",{className:"space-y-3 p-4 bg-gray-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx(xt,{className:"text-xs text-gray-600",children:"Cliente/Proyecto"}),s.jsx("p",{className:"font-medium",children:e.customerName})]}),s.jsxs("div",{children:[s.jsx(xt,{className:"text-xs text-gray-600",children:"Código"}),s.jsx("p",{className:"font-mono text-sm",children:e.trackingCode})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx(xt,{className:"text-xs text-gray-600",children:"Origen"}),s.jsx("p",{className:"text-sm",children:e.origin})]}),s.jsxs("div",{children:[s.jsx(xt,{className:"text-xs text-gray-600",children:"Destino"}),s.jsx("p",{className:"text-sm",children:e.destination})]})]}),s.jsxs("div",{children:[s.jsx(xt,{className:"text-xs text-gray-600",children:"Carga"}),s.jsxs("p",{className:"text-sm",children:[e.product," - ",e.quantity," ",e.unit]})]}),e.comments&&s.jsxs("div",{children:[s.jsx(xt,{className:"text-xs text-gray-600",children:"Observaciones"}),s.jsx("p",{className:"text-sm",children:e.comments})]}),e.customerPhone&&s.jsxs("div",{children:[s.jsx(xt,{className:"text-xs text-gray-600",children:"Contacto"}),s.jsx("p",{className:"text-sm",children:e.customerPhone})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h3",{className:"font-semibold text-lg flex items-center gap-2",children:[s.jsx(Bc,{className:"h-4 w-4"}),"Detalles de la Solicitud"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(xt,{htmlFor:"provider",children:"Proveedor *"}),s.jsxs(on,{value:o.providerId,onValueChange:y=>l(b=>({...b,providerId:y})),children:[s.jsx(an,{children:s.jsx(ln,{placeholder:"Selecciona un proveedor"})}),s.jsx(sn,{children:t.map(y=>s.jsx(xe,{value:y.id,children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"font-medium",children:y.name}),y.email&&s.jsx("span",{className:"text-xs text-gray-500",children:y.email})]})},y.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(xt,{htmlFor:"pickupDate",children:"Fecha de recolección"}),s.jsx(Mt,{id:"pickupDate",type:"date",value:o.pickupDate,onChange:y=>l(b=>({...b,pickupDate:y.target.value}))})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(R3,{id:"appointment",checked:o.appointmentRequired,onCheckedChange:y=>l(b=>({...b,appointmentRequired:y}))}),s.jsx(xt,{htmlFor:"appointment",children:"¿Lleva cita?"})]}),o.appointmentRequired&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(xt,{htmlFor:"appointmentNotes",children:"Notas de la cita"}),s.jsx(Hu,{id:"appointmentNotes",value:o.appointmentNotes,onChange:y=>l(b=>({...b,appointmentNotes:y.target.value})),placeholder:"Horario preferido, instrucciones especiales...",rows:2})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(xt,{htmlFor:"additionalNotes",children:"Notas adicionales (opcional)"}),s.jsx(Hu,{id:"additionalNotes",value:o.additionalNotes,onChange:y=>l(b=>({...b,additionalNotes:y.target.value})),placeholder:"Información adicional para el proveedor...",rows:3})]})]})]})]}),f&&s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"font-semibold text-lg",children:"Vista Previa del Correo"}),s.jsxs(Je,{variant:"outline",size:"sm",onClick:()=>u(!c),children:[c?"Ocultar":"Mostrar"," Vista Previa"]})]}),c&&s.jsxs("div",{className:"space-y-3 p-4 bg-gray-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx(xt,{className:"text-xs text-gray-600",children:"Para:"}),s.jsx("p",{className:"text-sm",children:f.email})]}),s.jsxs("div",{children:[s.jsx(xt,{className:"text-xs text-gray-600",children:"Asunto:"}),s.jsx("p",{className:"text-sm font-medium",children:x})]}),s.jsxs("div",{children:[s.jsx(xt,{className:"text-xs text-gray-600",children:"Mensaje:"}),s.jsx("pre",{className:"text-xs whitespace-pre-wrap bg-white p-3 rounded border font-mono max-h-32 overflow-y-auto",children:v})]})]})]}),s.jsxs(am,{className:"gap-2",children:[s.jsx(Je,{variant:"outline",onClick:r,children:"Cancelar"}),s.jsxs(Je,{variant:"outline",onClick:m,disabled:!f,className:"flex items-center gap-2",children:[s.jsx(Dce,{className:"h-4 w-4"}),"Copiar Correo"]}),s.jsxs(Je,{onClick:p,disabled:!f,className:"flex items-center gap-2",children:[s.jsx(CW,{className:"h-4 w-4"}),"Enviar Solicitud"]})]})]})})}function Lr(e){"@babel/helpers - typeof";return Lr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lr(e)}var Wc=Uint8Array,nl=Uint16Array,$3=Int32Array,F3=new Wc([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),B3=new Wc([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),o$=new Wc([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),eee=function(e,t){for(var n=new nl(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];for(var i=new $3(n[30]),r=1;r<30;++r)for(var a=n[r];a<n[r+1];++a)i[a]=a-n[r]<<5|r;return{b:n,r:i}},tee=eee(F3,2),fFe=tee.b,ZO=tee.r;fFe[28]=258,ZO[258]=28;var hFe=eee(B3,0),l$=hFe.r,XO=new nl(32768);for(var li=0;li<32768;++li){var _f=(li&43690)>>1|(li&21845)<<1;_f=(_f&52428)>>2|(_f&13107)<<2,_f=(_f&61680)>>4|(_f&3855)<<4,XO[li]=((_f&65280)>>8|(_f&255)<<8)>>1}var fx=function(e,t,n){for(var r=e.length,i=0,a=new nl(t);i<r;++i)e[i]&&++a[e[i]-1];var o=new nl(t);for(i=1;i<t;++i)o[i]=o[i-1]+a[i-1]<<1;var l;if(n){l=new nl(1<<t);var c=15-t;for(i=0;i<r;++i)if(e[i])for(var u=i<<4|e[i],f=t-e[i],h=o[e[i]-1]++<<f,p=h|(1<<f)-1;h<=p;++h)l[XO[h]>>c]=u}else for(l=new nl(r),i=0;i<r;++i)e[i]&&(l[i]=XO[o[e[i]-1]++]>>15-e[i]);return l},mm=new Wc(288);for(var li=0;li<144;++li)mm[li]=8;for(var li=144;li<256;++li)mm[li]=9;for(var li=256;li<280;++li)mm[li]=7;for(var li=280;li<288;++li)mm[li]=8;var Z5=new Wc(32);for(var li=0;li<32;++li)Z5[li]=5;var pFe=fx(mm,9,0),mFe=fx(Z5,5,0),nee=function(e){return(e+7)/8|0},gFe=function(e,t,n){return(n==null||n>e.length)&&(n=e.length),new Wc(e.subarray(t,n))},gd=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8},C0=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8,e[r+2]|=n>>16},ZA=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var i=n.length,a=n.slice();if(!i)return{t:iee,l:0};if(i==1){var o=new Wc(n[0].s+1);return o[n[0].s]=1,{t:o,l:1}}n.sort(function(A,E){return A.f-E.f}),n.push({s:-1,f:25001});var l=n[0],c=n[1],u=0,f=1,h=2;for(n[0]={s:-1,f:l.f+c.f,l,r:c};f!=i-1;)l=n[n[u].f<n[h].f?u++:h++],c=n[u!=f&&n[u].f<n[h].f?u++:h++],n[f++]={s:-1,f:l.f+c.f,l,r:c};for(var p=a[0].s,r=1;r<i;++r)a[r].s>p&&(p=a[r].s);var m=new nl(p+1),x=YO(n[f-1],m,0);if(x>t){var r=0,v=0,y=x-t,b=1<<y;for(a.sort(function(E,O){return m[O.s]-m[E.s]||E.f-O.f});r<i;++r){var w=a[r].s;if(m[w]>t)v+=b-(1<<x-m[w]),m[w]=t;else break}for(v>>=y;v>0;){var j=a[r].s;m[j]<t?v-=1<<t-m[j]++-1:++r}for(;r>=0&&v;--r){var P=a[r].s;m[P]==t&&(--m[P],++v)}x=t}return{t:new Wc(m),l:x}},YO=function(e,t,n){return e.s==-1?Math.max(YO(e.l,t,n+1),YO(e.r,t,n+1)):t[e.s]=n},c$=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new nl(++t),r=0,i=e[0],a=1,o=function(c){n[r++]=c},l=1;l<=t;++l)if(e[l]==i&&l!=t)++a;else{if(!i&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(i),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(i);a=1,i=e[l]}return{c:n.subarray(0,r),n:t}},E0=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},ree=function(e,t,n){var r=n.length,i=nee(t+2);e[i]=r&255,e[i+1]=r>>8,e[i+2]=e[i]^255,e[i+3]=e[i+1]^255;for(var a=0;a<r;++a)e[i+a+4]=n[a];return(i+4+r)*8},u$=function(e,t,n,r,i,a,o,l,c,u,f){gd(t,f++,n),++i[256];for(var h=ZA(i,15),p=h.t,m=h.l,x=ZA(a,15),v=x.t,y=x.l,b=c$(p),w=b.c,j=b.n,P=c$(v),A=P.c,E=P.n,O=new nl(19),I=0;I<w.length;++I)++O[w[I]&31];for(var I=0;I<A.length;++I)++O[A[I]&31];for(var D=ZA(O,7),z=D.t,T=D.l,k=19;k>4&&!z[o$[k-1]];--k);var F=u+5<<3,B=E0(i,mm)+E0(a,Z5)+o,H=E0(i,p)+E0(a,v)+o+14+3*k+E0(O,z)+2*O[16]+3*O[17]+7*O[18];if(c>=0&&F<=B&&F<=H)return ree(t,f,e.subarray(c,c+u));var X,ae,W,te;if(gd(t,f,1+(H<B)),f+=2,H<B){X=fx(p,m,0),ae=p,W=fx(v,y,0),te=v;var ue=fx(z,T,0);gd(t,f,j-257),gd(t,f+5,E-1),gd(t,f+10,k-4),f+=14;for(var I=0;I<k;++I)gd(t,f+3*I,z[o$[I]]);f+=3*k;for(var ye=[w,A],V=0;V<2;++V)for(var ee=ye[V],I=0;I<ee.length;++I){var Q=ee[I]&31;gd(t,f,ue[Q]),f+=z[Q],Q>15&&(gd(t,f,ee[I]>>5&127),f+=ee[I]>>12)}}else X=pFe,ae=mm,W=mFe,te=Z5;for(var I=0;I<l;++I){var de=r[I];if(de>255){var Q=de>>18&31;C0(t,f,X[Q+257]),f+=ae[Q+257],Q>7&&(gd(t,f,de>>23&31),f+=F3[Q]);var le=de&31;C0(t,f,W[le]),f+=te[le],le>3&&(C0(t,f,de>>5&8191),f+=B3[le])}else C0(t,f,X[de]),f+=ae[de]}return C0(t,f,X[256]),f+ae[256]},vFe=new $3([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),iee=new Wc(0),yFe=function(e,t,n,r,i,a){var o=a.z||e.length,l=new Wc(r+o+5*(1+Math.ceil(o/7e3))+i),c=l.subarray(r,l.length-i),u=a.l,f=(a.r||0)&7;if(t){f&&(c[0]=a.r>>3);for(var h=vFe[t-1],p=h>>13,m=h&8191,x=(1<<n)-1,v=a.p||new nl(32768),y=a.h||new nl(x+1),b=Math.ceil(n/3),w=2*b,j=function(Pe){return(e[Pe]^e[Pe+1]<<b^e[Pe+2]<<w)&x},P=new $3(25e3),A=new nl(288),E=new nl(32),O=0,I=0,D=a.i||0,z=0,T=a.w||0,k=0;D+2<o;++D){var F=j(D),B=D&32767,H=y[F];if(v[B]=H,y[F]=B,T<=D){var X=o-D;if((O>7e3||z>24576)&&(X>423||!u)){f=u$(e,c,0,P,A,E,I,z,k,D-k,f),z=O=I=0,k=D;for(var ae=0;ae<286;++ae)A[ae]=0;for(var ae=0;ae<30;++ae)E[ae]=0}var W=2,te=0,ue=m,ye=B-H&32767;if(X>2&&F==j(D-ye))for(var V=Math.min(p,X)-1,ee=Math.min(32767,D),Q=Math.min(258,X);ye<=ee&&--ue&&B!=H;){if(e[D+W]==e[D+W-ye]){for(var de=0;de<Q&&e[D+de]==e[D+de-ye];++de);if(de>W){if(W=de,te=ye,de>V)break;for(var le=Math.min(ye,de-2),ve=0,ae=0;ae<le;++ae){var Z=D-ye+ae&32767,ne=v[Z],ge=Z-ne&32767;ge>ve&&(ve=ge,H=Z)}}}B=H,H=v[B],ye+=B-H&32767}if(te){P[z++]=268435456|ZO[W]<<18|l$[te];var Ee=ZO[W]&31,be=l$[te]&31;I+=F3[Ee]+B3[be],++A[257+Ee],++E[be],T=D+W,++O}else P[z++]=e[D],++A[e[D]]}}for(D=Math.max(D,T);D<o;++D)P[z++]=e[D],++A[e[D]];f=u$(e,c,u,P,A,E,I,z,k,D-k,f),u||(a.r=f&7|c[f/8|0]<<3,f-=7,a.h=y,a.p=v,a.i=D,a.w=T)}else{for(var D=a.w||0;D<o+u;D+=65535){var Ue=D+65535;Ue>=o&&(c[f/8|0]=u,Ue=o),f=ree(c,f+1,e.subarray(D,Ue))}a.i=o}return gFe(l,0,r+nee(f)+i)},aee=function(){var e=1,t=0;return{p:function(n){for(var r=e,i=t,a=n.length|0,o=0;o!=a;){for(var l=Math.min(o+2655,a);o<l;++o)i+=r+=n[o];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}e=r,t=i},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},xFe=function(e,t,n,r,i){if(!i&&(i={l:1},t.dictionary)){var a=t.dictionary.subarray(-32768),o=new Wc(a.length+e.length);o.set(a),o.set(e,a.length),e=o,i.w=a.length}return yFe(e,t.level==null?6:t.level,t.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,n,r,i)},see=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},bFe=function(e,t){var n=t.level,r=n==0?0:n<6?1:n==9?3:2;if(e[0]=120,e[1]=r<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var i=aee();i.p(t.dictionary),see(e,2,i.d())}};function QO(e,t){t||(t={});var n=aee();n.p(e);var r=xFe(e,t,t.dictionary?6:2,4);return bFe(r,t),see(r,r.length-4,n.d()),r}var wFe=typeof TextDecoder<"u"&&new TextDecoder,_Fe=0;try{wFe.decode(iee,{stream:!0}),_Fe=1}catch{}function jFe(e){if(Array.isArray(e))return e}function NFe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function d$(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function SFe(e,t){if(e){if(typeof e=="string")return d$(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d$(e,t):void 0}}function AFe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function f$(e,t){return jFe(e)||NFe(e,t)||SFe(e,t)||AFe()}function h$(e,t="utf8"){return new TextDecoder(t).decode(e)}const PFe=new TextEncoder;function CFe(e){return PFe.encode(e)}const EFe=1024*8,OFe=(()=>{const e=new Uint8Array(4),t=new Uint32Array(e.buffer);return!((t[0]=1)&e[0])})(),XA={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class z3{constructor(t=EFe,n={}){_e(this,"buffer");_e(this,"byteLength");_e(this,"byteOffset");_e(this,"length");_e(this,"offset");_e(this,"lastWrittenByte");_e(this,"littleEndian");_e(this,"_data");_e(this,"_mark");_e(this,"_marks");let r=!1;typeof t=="number"?t=new ArrayBuffer(t):(r=!0,this.lastWrittenByte=t.byteLength);const i=n.offset?n.offset>>>0:0,a=t.byteLength-i;let o=i;(ArrayBuffer.isView(t)||t instanceof z3)&&(t.byteLength!==t.buffer.byteLength&&(o=t.byteOffset+i),t=t.buffer),r?this.lastWrittenByte=a:this.lastWrittenByte=0,this.buffer=t,this.length=a,this.byteLength=a,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,a),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const r=(this.offset+t)*2,i=new Uint8Array(r);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,n){const r=XA[n].BYTES_PER_ELEMENT*t,i=this.byteOffset+this.offset,a=this.buffer.slice(i,i+r);if(this.littleEndian===OFe&&n!=="uint8"&&n!=="int8"){const l=new Uint8Array(this.buffer.slice(i,i+r));l.reverse();const c=new XA[n](l.buffer);return this.offset+=r,c.reverse(),c}const o=new XA[n](a);return this.offset+=r,o}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let n="";for(let r=0;r<t;r++)n+=this.readChar();return n}readUtf8(t=1){return h$(this.readBytes(t))}decodeText(t=1,n="utf8"){return h$(this.readBytes(t),n)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let n=0;n<t.length;n++)this._data.setUint8(this.offset++,t[n]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let n=0;n<t.length;n++)this.writeUint8(t.charCodeAt(n));return this}writeUtf8(t){return this.writeBytes(CFe(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const kFe=4,p$=0,m$=1,TFe=2;function Fy(e){let t=e.length;for(;--t>=0;)e[t]=0}const IFe=0,oee=1,LFe=2,MFe=3,DFe=258,U3=29,Mb=256,V1=Mb+1+U3,Gg=30,q3=19,lee=2*V1+1,kp=15,YA=16,RFe=7,V3=256,cee=16,uee=17,dee=18,JO=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),L2=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),$Fe=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),fee=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),FFe=512,Nd=new Array((V1+2)*2);Fy(Nd);const hx=new Array(Gg*2);Fy(hx);const W1=new Array(FFe);Fy(W1);const H1=new Array(DFe-MFe+1);Fy(H1);const W3=new Array(U3);Fy(W3);const X5=new Array(Gg);Fy(X5);function QA(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}let hee,pee,mee;function JA(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}const gee=e=>e<256?W1[e]:W1[256+(e>>>7)],K1=(e,t)=>{e.pending_buf[e.pending++]=t&255,e.pending_buf[e.pending++]=t>>>8&255},yo=(e,t,n)=>{e.bi_valid>YA-n?(e.bi_buf|=t<<e.bi_valid&65535,K1(e,e.bi_buf),e.bi_buf=t>>YA-e.bi_valid,e.bi_valid+=n-YA):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)},Pu=(e,t,n)=>{yo(e,n[t*2],n[t*2+1])},vee=(e,t)=>{let n=0;do n|=e&1,e>>>=1,n<<=1;while(--t>0);return n>>>1},BFe=e=>{e.bi_valid===16?(K1(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)},zFe=(e,t)=>{const n=t.dyn_tree,r=t.max_code,i=t.stat_desc.static_tree,a=t.stat_desc.has_stree,o=t.stat_desc.extra_bits,l=t.stat_desc.extra_base,c=t.stat_desc.max_length;let u,f,h,p,m,x,v=0;for(p=0;p<=kp;p++)e.bl_count[p]=0;for(n[e.heap[e.heap_max]*2+1]=0,u=e.heap_max+1;u<lee;u++)f=e.heap[u],p=n[n[f*2+1]*2+1]+1,p>c&&(p=c,v++),n[f*2+1]=p,!(f>r)&&(e.bl_count[p]++,m=0,f>=l&&(m=o[f-l]),x=n[f*2],e.opt_len+=x*(p+m),a&&(e.static_len+=x*(i[f*2+1]+m)));if(v!==0){do{for(p=c-1;e.bl_count[p]===0;)p--;e.bl_count[p]--,e.bl_count[p+1]+=2,e.bl_count[c]--,v-=2}while(v>0);for(p=c;p!==0;p--)for(f=e.bl_count[p];f!==0;)h=e.heap[--u],!(h>r)&&(n[h*2+1]!==p&&(e.opt_len+=(p-n[h*2+1])*n[h*2],n[h*2+1]=p),f--)}},yee=(e,t,n)=>{const r=new Array(kp+1);let i=0,a,o;for(a=1;a<=kp;a++)i=i+n[a-1]<<1,r[a]=i;for(o=0;o<=t;o++){let l=e[o*2+1];l!==0&&(e[o*2]=vee(r[l]++,l))}},UFe=()=>{let e,t,n,r,i;const a=new Array(kp+1);for(n=0,r=0;r<U3-1;r++)for(W3[r]=n,e=0;e<1<<JO[r];e++)H1[n++]=r;for(H1[n-1]=r,i=0,r=0;r<16;r++)for(X5[r]=i,e=0;e<1<<L2[r];e++)W1[i++]=r;for(i>>=7;r<Gg;r++)for(X5[r]=i<<7,e=0;e<1<<L2[r]-7;e++)W1[256+i++]=r;for(t=0;t<=kp;t++)a[t]=0;for(e=0;e<=143;)Nd[e*2+1]=8,e++,a[8]++;for(;e<=255;)Nd[e*2+1]=9,e++,a[9]++;for(;e<=279;)Nd[e*2+1]=7,e++,a[7]++;for(;e<=287;)Nd[e*2+1]=8,e++,a[8]++;for(yee(Nd,V1+1,a),e=0;e<Gg;e++)hx[e*2+1]=5,hx[e*2]=vee(e,5);hee=new QA(Nd,JO,Mb+1,V1,kp),pee=new QA(hx,L2,0,Gg,kp),mee=new QA(new Array(0),$Fe,0,q3,RFe)},xee=e=>{let t;for(t=0;t<V1;t++)e.dyn_ltree[t*2]=0;for(t=0;t<Gg;t++)e.dyn_dtree[t*2]=0;for(t=0;t<q3;t++)e.bl_tree[t*2]=0;e.dyn_ltree[V3*2]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},bee=e=>{e.bi_valid>8?K1(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},g$=(e,t,n,r)=>{const i=t*2,a=n*2;return e[i]<e[a]||e[i]===e[a]&&r[t]<=r[n]},eP=(e,t,n)=>{const r=e.heap[n];let i=n<<1;for(;i<=e.heap_len&&(i<e.heap_len&&g$(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!g$(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r},v$=(e,t,n)=>{let r,i,a=0,o,l;if(e.sym_next!==0)do r=e.pending_buf[e.sym_buf+a++]&255,r+=(e.pending_buf[e.sym_buf+a++]&255)<<8,i=e.pending_buf[e.sym_buf+a++],r===0?Pu(e,i,t):(o=H1[i],Pu(e,o+Mb+1,t),l=JO[o],l!==0&&(i-=W3[o],yo(e,i,l)),r--,o=gee(r),Pu(e,o,n),l=L2[o],l!==0&&(r-=X5[o],yo(e,r,l)));while(a<e.sym_next);Pu(e,V3,t)},e4=(e,t)=>{const n=t.dyn_tree,r=t.stat_desc.static_tree,i=t.stat_desc.has_stree,a=t.stat_desc.elems;let o,l,c=-1,u;for(e.heap_len=0,e.heap_max=lee,o=0;o<a;o++)n[o*2]!==0?(e.heap[++e.heap_len]=c=o,e.depth[o]=0):n[o*2+1]=0;for(;e.heap_len<2;)u=e.heap[++e.heap_len]=c<2?++c:0,n[u*2]=1,e.depth[u]=0,e.opt_len--,i&&(e.static_len-=r[u*2+1]);for(t.max_code=c,o=e.heap_len>>1;o>=1;o--)eP(e,n,o);u=a;do o=e.heap[1],e.heap[1]=e.heap[e.heap_len--],eP(e,n,1),l=e.heap[1],e.heap[--e.heap_max]=o,e.heap[--e.heap_max]=l,n[u*2]=n[o*2]+n[l*2],e.depth[u]=(e.depth[o]>=e.depth[l]?e.depth[o]:e.depth[l])+1,n[o*2+1]=n[l*2+1]=u,e.heap[1]=u++,eP(e,n,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],zFe(e,t),yee(n,c,e.bl_count)},y$=(e,t,n)=>{let r,i=-1,a,o=t[0*2+1],l=0,c=7,u=4;for(o===0&&(c=138,u=3),t[(n+1)*2+1]=65535,r=0;r<=n;r++)a=o,o=t[(r+1)*2+1],!(++l<c&&a===o)&&(l<u?e.bl_tree[a*2]+=l:a!==0?(a!==i&&e.bl_tree[a*2]++,e.bl_tree[cee*2]++):l<=10?e.bl_tree[uee*2]++:e.bl_tree[dee*2]++,l=0,i=a,o===0?(c=138,u=3):a===o?(c=6,u=3):(c=7,u=4))},x$=(e,t,n)=>{let r,i=-1,a,o=t[0*2+1],l=0,c=7,u=4;for(o===0&&(c=138,u=3),r=0;r<=n;r++)if(a=o,o=t[(r+1)*2+1],!(++l<c&&a===o)){if(l<u)do Pu(e,a,e.bl_tree);while(--l!==0);else a!==0?(a!==i&&(Pu(e,a,e.bl_tree),l--),Pu(e,cee,e.bl_tree),yo(e,l-3,2)):l<=10?(Pu(e,uee,e.bl_tree),yo(e,l-3,3)):(Pu(e,dee,e.bl_tree),yo(e,l-11,7));l=0,i=a,o===0?(c=138,u=3):a===o?(c=6,u=3):(c=7,u=4)}},qFe=e=>{let t;for(y$(e,e.dyn_ltree,e.l_desc.max_code),y$(e,e.dyn_dtree,e.d_desc.max_code),e4(e,e.bl_desc),t=q3-1;t>=3&&e.bl_tree[fee[t]*2+1]===0;t--);return e.opt_len+=3*(t+1)+5+5+4,t},VFe=(e,t,n,r)=>{let i;for(yo(e,t-257,5),yo(e,n-1,5),yo(e,r-4,4),i=0;i<r;i++)yo(e,e.bl_tree[fee[i]*2+1],3);x$(e,e.dyn_ltree,t-1),x$(e,e.dyn_dtree,n-1)},WFe=e=>{let t=4093624447,n;for(n=0;n<=31;n++,t>>>=1)if(t&1&&e.dyn_ltree[n*2]!==0)return p$;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return m$;for(n=32;n<Mb;n++)if(e.dyn_ltree[n*2]!==0)return m$;return p$};let b$=!1;const HFe=e=>{b$||(UFe(),b$=!0),e.l_desc=new JA(e.dyn_ltree,hee),e.d_desc=new JA(e.dyn_dtree,pee),e.bl_desc=new JA(e.bl_tree,mee),e.bi_buf=0,e.bi_valid=0,xee(e)},wee=(e,t,n,r)=>{yo(e,(IFe<<1)+(r?1:0),3),bee(e),K1(e,n),K1(e,~n),n&&e.pending_buf.set(e.window.subarray(t,t+n),e.pending),e.pending+=n},KFe=e=>{yo(e,oee<<1,3),Pu(e,V3,Nd),BFe(e)},GFe=(e,t,n,r)=>{let i,a,o=0;e.level>0?(e.strm.data_type===TFe&&(e.strm.data_type=WFe(e)),e4(e,e.l_desc),e4(e,e.d_desc),o=qFe(e),i=e.opt_len+3+7>>>3,a=e.static_len+3+7>>>3,a<=i&&(i=a)):i=a=n+5,n+4<=i&&t!==-1?wee(e,t,n,r):e.strategy===kFe||a===i?(yo(e,(oee<<1)+(r?1:0),3),v$(e,Nd,hx)):(yo(e,(LFe<<1)+(r?1:0),3),VFe(e,e.l_desc.max_code+1,e.d_desc.max_code+1,o+1),v$(e,e.dyn_ltree,e.dyn_dtree)),xee(e),r&&bee(e)},ZFe=(e,t,n)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=n,t===0?e.dyn_ltree[n*2]++:(e.matches++,t--,e.dyn_ltree[(H1[n]+Mb+1)*2]++,e.dyn_dtree[gee(t)*2]++),e.sym_next===e.sym_end);var XFe=HFe,YFe=wee,QFe=GFe,JFe=ZFe,e7e=KFe,t7e={_tr_init:XFe,_tr_stored_block:YFe,_tr_flush_block:QFe,_tr_tally:JFe,_tr_align:e7e};const n7e=(e,t,n,r)=>{let i=e&65535|0,a=e>>>16&65535|0,o=0;for(;n!==0;){o=n>2e3?2e3:n,n-=o;do i=i+t[r++]|0,a=a+i|0;while(--o);i%=65521,a%=65521}return i|a<<16|0};var G1=n7e;const r7e=()=>{let e,t=[];for(var n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=e&1?3988292384^e>>>1:e>>>1;t[n]=e}return t},i7e=new Uint32Array(r7e()),a7e=(e,t,n,r)=>{const i=i7e,a=r+n;e^=-1;for(let o=r;o<a;o++)e=e>>>8^i[(e^t[o])&255];return e^-1};var Ea=a7e,oy={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Db={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:s7e,_tr_stored_block:t4,_tr_flush_block:o7e,_tr_tally:fh,_tr_align:l7e}=t7e,{Z_NO_FLUSH:hh,Z_PARTIAL_FLUSH:c7e,Z_FULL_FLUSH:u7e,Z_FINISH:$l,Z_BLOCK:w$,Z_OK:rs,Z_STREAM_END:_$,Z_STREAM_ERROR:Uu,Z_DATA_ERROR:d7e,Z_BUF_ERROR:tP,Z_DEFAULT_COMPRESSION:f7e,Z_FILTERED:h7e,Z_HUFFMAN_ONLY:Yw,Z_RLE:p7e,Z_FIXED:m7e,Z_DEFAULT_STRATEGY:g7e,Z_UNKNOWN:v7e,Z_DEFLATED:JN}=Db,y7e=9,x7e=15,b7e=8,w7e=29,_7e=256,n4=_7e+1+w7e,j7e=30,N7e=19,S7e=2*n4+1,A7e=15,er=3,Jf=258,qu=Jf+er+1,P7e=32,ly=42,H3=57,r4=69,i4=73,a4=91,s4=103,Tp=113,z0=666,Gs=1,By=2,gm=3,zy=4,C7e=3,Ip=(e,t)=>(e.msg=oy[t],t),j$=e=>e*2-(e>4?9:0),Rf=e=>{let t=e.length;for(;--t>=0;)e[t]=0},E7e=e=>{let t,n,r,i=e.w_size;t=e.hash_size,r=t;do n=e.head[--r],e.head[r]=n>=i?n-i:0;while(--t);t=i,r=t;do n=e.prev[--r],e.prev[r]=n>=i?n-i:0;while(--t)};let O7e=(e,t,n)=>(t<<e.hash_shift^n)&e.hash_mask,ph=O7e;const Vo=e=>{const t=e.state;let n=t.pending;n>e.avail_out&&(n=e.avail_out),n!==0&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+n),e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,t.pending===0&&(t.pending_out=0))},rl=(e,t)=>{o7e(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,Vo(e.strm)},xr=(e,t)=>{e.pending_buf[e.pending++]=t},O0=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=t&255},o4=(e,t,n,r)=>{let i=e.avail_in;return i>r&&(i=r),i===0?0:(e.avail_in-=i,t.set(e.input.subarray(e.next_in,e.next_in+i),n),e.state.wrap===1?e.adler=G1(e.adler,t,i,n):e.state.wrap===2&&(e.adler=Ea(e.adler,t,i,n)),e.next_in+=i,e.total_in+=i,i)},_ee=(e,t)=>{let n=e.max_chain_length,r=e.strstart,i,a,o=e.prev_length,l=e.nice_match;const c=e.strstart>e.w_size-qu?e.strstart-(e.w_size-qu):0,u=e.window,f=e.w_mask,h=e.prev,p=e.strstart+Jf;let m=u[r+o-1],x=u[r+o];e.prev_length>=e.good_match&&(n>>=2),l>e.lookahead&&(l=e.lookahead);do if(i=t,!(u[i+o]!==x||u[i+o-1]!==m||u[i]!==u[r]||u[++i]!==u[r+1])){r+=2,i++;do;while(u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&r<p);if(a=Jf-(p-r),r=p-Jf,a>o){if(e.match_start=t,o=a,a>=l)break;m=u[r+o-1],x=u[r+o]}}while((t=h[t&f])>c&&--n!==0);return o<=e.lookahead?o:e.lookahead},cy=e=>{const t=e.w_size;let n,r,i;do{if(r=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-qu)&&(e.window.set(e.window.subarray(t,t+t-r),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,e.insert>e.strstart&&(e.insert=e.strstart),E7e(e),r+=t),e.strm.avail_in===0)break;if(n=o4(e.strm,e.window,e.strstart+e.lookahead,r),e.lookahead+=n,e.lookahead+e.insert>=er)for(i=e.strstart-e.insert,e.ins_h=e.window[i],e.ins_h=ph(e,e.ins_h,e.window[i+1]);e.insert&&(e.ins_h=ph(e,e.ins_h,e.window[i+er-1]),e.prev[i&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=i,i++,e.insert--,!(e.lookahead+e.insert<er)););}while(e.lookahead<qu&&e.strm.avail_in!==0)},jee=(e,t)=>{let n=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,r,i,a,o=0,l=e.strm.avail_in;do{if(r=65535,a=e.bi_valid+42>>3,e.strm.avail_out<a||(a=e.strm.avail_out-a,i=e.strstart-e.block_start,r>i+e.strm.avail_in&&(r=i+e.strm.avail_in),r>a&&(r=a),r<n&&(r===0&&t!==$l||t===hh||r!==i+e.strm.avail_in)))break;o=t===$l&&r===i+e.strm.avail_in?1:0,t4(e,0,0,o),e.pending_buf[e.pending-4]=r,e.pending_buf[e.pending-3]=r>>8,e.pending_buf[e.pending-2]=~r,e.pending_buf[e.pending-1]=~r>>8,Vo(e.strm),i&&(i>r&&(i=r),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+i),e.strm.next_out),e.strm.next_out+=i,e.strm.avail_out-=i,e.strm.total_out+=i,e.block_start+=i,r-=i),r&&(o4(e.strm,e.strm.output,e.strm.next_out,r),e.strm.next_out+=r,e.strm.avail_out-=r,e.strm.total_out+=r)}while(o===0);return l-=e.strm.avail_in,l&&(l>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=l&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-l,e.strm.next_in),e.strstart),e.strstart+=l,e.insert+=l>e.w_size-e.insert?e.w_size-e.insert:l),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),o?zy:t!==hh&&t!==$l&&e.strm.avail_in===0&&e.strstart===e.block_start?By:(a=e.window_size-e.strstart,e.strm.avail_in>a&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,a+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),a>e.strm.avail_in&&(a=e.strm.avail_in),a&&(o4(e.strm,e.window,e.strstart,a),e.strstart+=a,e.insert+=a>e.w_size-e.insert?e.w_size-e.insert:a),e.high_water<e.strstart&&(e.high_water=e.strstart),a=e.bi_valid+42>>3,a=e.pending_buf_size-a>65535?65535:e.pending_buf_size-a,n=a>e.w_size?e.w_size:a,i=e.strstart-e.block_start,(i>=n||(i||t===$l)&&t!==hh&&e.strm.avail_in===0&&i<=a)&&(r=i>a?a:i,o=t===$l&&e.strm.avail_in===0&&r===i?1:0,t4(e,e.block_start,r,o),e.block_start+=r,Vo(e.strm)),o?gm:Gs)},nP=(e,t)=>{let n,r;for(;;){if(e.lookahead<qu){if(cy(e),e.lookahead<qu&&t===hh)return Gs;if(e.lookahead===0)break}if(n=0,e.lookahead>=er&&(e.ins_h=ph(e,e.ins_h,e.window[e.strstart+er-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),n!==0&&e.strstart-n<=e.w_size-qu&&(e.match_length=_ee(e,n)),e.match_length>=er)if(r=fh(e,e.strstart-e.match_start,e.match_length-er),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=er){e.match_length--;do e.strstart++,e.ins_h=ph(e,e.ins_h,e.window[e.strstart+er-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=ph(e,e.ins_h,e.window[e.strstart+1]);else r=fh(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(rl(e,!1),e.strm.avail_out===0))return Gs}return e.insert=e.strstart<er-1?e.strstart:er-1,t===$l?(rl(e,!0),e.strm.avail_out===0?gm:zy):e.sym_next&&(rl(e,!1),e.strm.avail_out===0)?Gs:By},Jm=(e,t)=>{let n,r,i;for(;;){if(e.lookahead<qu){if(cy(e),e.lookahead<qu&&t===hh)return Gs;if(e.lookahead===0)break}if(n=0,e.lookahead>=er&&(e.ins_h=ph(e,e.ins_h,e.window[e.strstart+er-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=er-1,n!==0&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-qu&&(e.match_length=_ee(e,n),e.match_length<=5&&(e.strategy===h7e||e.match_length===er&&e.strstart-e.match_start>4096)&&(e.match_length=er-1)),e.prev_length>=er&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-er,r=fh(e,e.strstart-1-e.prev_match,e.prev_length-er),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=i&&(e.ins_h=ph(e,e.ins_h,e.window[e.strstart+er-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=er-1,e.strstart++,r&&(rl(e,!1),e.strm.avail_out===0))return Gs}else if(e.match_available){if(r=fh(e,0,e.window[e.strstart-1]),r&&rl(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return Gs}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=fh(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<er-1?e.strstart:er-1,t===$l?(rl(e,!0),e.strm.avail_out===0?gm:zy):e.sym_next&&(rl(e,!1),e.strm.avail_out===0)?Gs:By},k7e=(e,t)=>{let n,r,i,a;const o=e.window;for(;;){if(e.lookahead<=Jf){if(cy(e),e.lookahead<=Jf&&t===hh)return Gs;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=er&&e.strstart>0&&(i=e.strstart-1,r=o[i],r===o[++i]&&r===o[++i]&&r===o[++i])){a=e.strstart+Jf;do;while(r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&i<a);e.match_length=Jf-(a-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=er?(n=fh(e,1,e.match_length-er),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=fh(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(rl(e,!1),e.strm.avail_out===0))return Gs}return e.insert=0,t===$l?(rl(e,!0),e.strm.avail_out===0?gm:zy):e.sym_next&&(rl(e,!1),e.strm.avail_out===0)?Gs:By},T7e=(e,t)=>{let n;for(;;){if(e.lookahead===0&&(cy(e),e.lookahead===0)){if(t===hh)return Gs;break}if(e.match_length=0,n=fh(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(rl(e,!1),e.strm.avail_out===0))return Gs}return e.insert=0,t===$l?(rl(e,!0),e.strm.avail_out===0?gm:zy):e.sym_next&&(rl(e,!1),e.strm.avail_out===0)?Gs:By};function gu(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}const U0=[new gu(0,0,0,0,jee),new gu(4,4,8,4,nP),new gu(4,5,16,8,nP),new gu(4,6,32,32,nP),new gu(4,4,16,16,Jm),new gu(8,16,32,32,Jm),new gu(8,16,128,128,Jm),new gu(8,32,128,256,Jm),new gu(32,128,258,1024,Jm),new gu(32,258,258,4096,Jm)],I7e=e=>{e.window_size=2*e.w_size,Rf(e.head),e.max_lazy_match=U0[e.level].max_lazy,e.good_match=U0[e.level].good_length,e.nice_match=U0[e.level].nice_length,e.max_chain_length=U0[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=er-1,e.match_available=0,e.ins_h=0};function L7e(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=JN,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(S7e*2),this.dyn_dtree=new Uint16Array((2*j7e+1)*2),this.bl_tree=new Uint16Array((2*N7e+1)*2),Rf(this.dyn_ltree),Rf(this.dyn_dtree),Rf(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(A7e+1),this.heap=new Uint16Array(2*n4+1),Rf(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*n4+1),Rf(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Rb=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.status!==ly&&t.status!==H3&&t.status!==r4&&t.status!==i4&&t.status!==a4&&t.status!==s4&&t.status!==Tp&&t.status!==z0?1:0},Nee=e=>{if(Rb(e))return Ip(e,Uu);e.total_in=e.total_out=0,e.data_type=v7e;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap===2?H3:t.wrap?ly:Tp,e.adler=t.wrap===2?0:1,t.last_flush=-2,s7e(t),rs},See=e=>{const t=Nee(e);return t===rs&&I7e(e.state),t},M7e=(e,t)=>Rb(e)||e.state.wrap!==2?Uu:(e.state.gzhead=t,rs),Aee=(e,t,n,r,i,a)=>{if(!e)return Uu;let o=1;if(t===f7e&&(t=6),r<0?(o=0,r=-r):r>15&&(o=2,r-=16),i<1||i>y7e||n!==JN||r<8||r>15||t<0||t>9||a<0||a>m7e||r===8&&o!==1)return Ip(e,Uu);r===8&&(r=9);const l=new L7e;return e.state=l,l.strm=e,l.status=ly,l.wrap=o,l.gzhead=null,l.w_bits=r,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=i+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+er-1)/er),l.window=new Uint8Array(l.w_size*2),l.head=new Uint16Array(l.hash_size),l.prev=new Uint16Array(l.w_size),l.lit_bufsize=1<<i+6,l.pending_buf_size=l.lit_bufsize*4,l.pending_buf=new Uint8Array(l.pending_buf_size),l.sym_buf=l.lit_bufsize,l.sym_end=(l.lit_bufsize-1)*3,l.level=t,l.strategy=a,l.method=n,See(e)},D7e=(e,t)=>Aee(e,t,JN,x7e,b7e,g7e),R7e=(e,t)=>{if(Rb(e)||t>w$||t<0)return e?Ip(e,Uu):Uu;const n=e.state;if(!e.output||e.avail_in!==0&&!e.input||n.status===z0&&t!==$l)return Ip(e,e.avail_out===0?tP:Uu);const r=n.last_flush;if(n.last_flush=t,n.pending!==0){if(Vo(e),e.avail_out===0)return n.last_flush=-1,rs}else if(e.avail_in===0&&j$(t)<=j$(r)&&t!==$l)return Ip(e,tP);if(n.status===z0&&e.avail_in!==0)return Ip(e,tP);if(n.status===ly&&n.wrap===0&&(n.status=Tp),n.status===ly){let i=JN+(n.w_bits-8<<4)<<8,a=-1;if(n.strategy>=Yw||n.level<2?a=0:n.level<6?a=1:n.level===6?a=2:a=3,i|=a<<6,n.strstart!==0&&(i|=P7e),i+=31-i%31,O0(n,i),n.strstart!==0&&(O0(n,e.adler>>>16),O0(n,e.adler&65535)),e.adler=1,n.status=Tp,Vo(e),n.pending!==0)return n.last_flush=-1,rs}if(n.status===H3){if(e.adler=0,xr(n,31),xr(n,139),xr(n,8),n.gzhead)xr(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),xr(n,n.gzhead.time&255),xr(n,n.gzhead.time>>8&255),xr(n,n.gzhead.time>>16&255),xr(n,n.gzhead.time>>24&255),xr(n,n.level===9?2:n.strategy>=Yw||n.level<2?4:0),xr(n,n.gzhead.os&255),n.gzhead.extra&&n.gzhead.extra.length&&(xr(n,n.gzhead.extra.length&255),xr(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(e.adler=Ea(e.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=r4;else if(xr(n,0),xr(n,0),xr(n,0),xr(n,0),xr(n,0),xr(n,n.level===9?2:n.strategy>=Yw||n.level<2?4:0),xr(n,C7e),n.status=Tp,Vo(e),n.pending!==0)return n.last_flush=-1,rs}if(n.status===r4){if(n.gzhead.extra){let i=n.pending,a=(n.gzhead.extra.length&65535)-n.gzindex;for(;n.pending+a>n.pending_buf_size;){let l=n.pending_buf_size-n.pending;if(n.pending_buf.set(n.gzhead.extra.subarray(n.gzindex,n.gzindex+l),n.pending),n.pending=n.pending_buf_size,n.gzhead.hcrc&&n.pending>i&&(e.adler=Ea(e.adler,n.pending_buf,n.pending-i,i)),n.gzindex+=l,Vo(e),n.pending!==0)return n.last_flush=-1,rs;i=0,a-=l}let o=new Uint8Array(n.gzhead.extra);n.pending_buf.set(o.subarray(n.gzindex,n.gzindex+a),n.pending),n.pending+=a,n.gzhead.hcrc&&n.pending>i&&(e.adler=Ea(e.adler,n.pending_buf,n.pending-i,i)),n.gzindex=0}n.status=i4}if(n.status===i4){if(n.gzhead.name){let i=n.pending,a;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>i&&(e.adler=Ea(e.adler,n.pending_buf,n.pending-i,i)),Vo(e),n.pending!==0)return n.last_flush=-1,rs;i=0}n.gzindex<n.gzhead.name.length?a=n.gzhead.name.charCodeAt(n.gzindex++)&255:a=0,xr(n,a)}while(a!==0);n.gzhead.hcrc&&n.pending>i&&(e.adler=Ea(e.adler,n.pending_buf,n.pending-i,i)),n.gzindex=0}n.status=a4}if(n.status===a4){if(n.gzhead.comment){let i=n.pending,a;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>i&&(e.adler=Ea(e.adler,n.pending_buf,n.pending-i,i)),Vo(e),n.pending!==0)return n.last_flush=-1,rs;i=0}n.gzindex<n.gzhead.comment.length?a=n.gzhead.comment.charCodeAt(n.gzindex++)&255:a=0,xr(n,a)}while(a!==0);n.gzhead.hcrc&&n.pending>i&&(e.adler=Ea(e.adler,n.pending_buf,n.pending-i,i))}n.status=s4}if(n.status===s4){if(n.gzhead.hcrc){if(n.pending+2>n.pending_buf_size&&(Vo(e),n.pending!==0))return n.last_flush=-1,rs;xr(n,e.adler&255),xr(n,e.adler>>8&255),e.adler=0}if(n.status=Tp,Vo(e),n.pending!==0)return n.last_flush=-1,rs}if(e.avail_in!==0||n.lookahead!==0||t!==hh&&n.status!==z0){let i=n.level===0?jee(n,t):n.strategy===Yw?T7e(n,t):n.strategy===p7e?k7e(n,t):U0[n.level].func(n,t);if((i===gm||i===zy)&&(n.status=z0),i===Gs||i===gm)return e.avail_out===0&&(n.last_flush=-1),rs;if(i===By&&(t===c7e?l7e(n):t!==w$&&(t4(n,0,0,!1),t===u7e&&(Rf(n.head),n.lookahead===0&&(n.strstart=0,n.block_start=0,n.insert=0))),Vo(e),e.avail_out===0))return n.last_flush=-1,rs}return t!==$l?rs:n.wrap<=0?_$:(n.wrap===2?(xr(n,e.adler&255),xr(n,e.adler>>8&255),xr(n,e.adler>>16&255),xr(n,e.adler>>24&255),xr(n,e.total_in&255),xr(n,e.total_in>>8&255),xr(n,e.total_in>>16&255),xr(n,e.total_in>>24&255)):(O0(n,e.adler>>>16),O0(n,e.adler&65535)),Vo(e),n.wrap>0&&(n.wrap=-n.wrap),n.pending!==0?rs:_$)},$7e=e=>{if(Rb(e))return Uu;const t=e.state.status;return e.state=null,t===Tp?Ip(e,d7e):rs},F7e=(e,t)=>{let n=t.length;if(Rb(e))return Uu;const r=e.state,i=r.wrap;if(i===2||i===1&&r.status!==ly||r.lookahead)return Uu;if(i===1&&(e.adler=G1(e.adler,t,n,0)),r.wrap=0,n>=r.w_size){i===0&&(Rf(r.head),r.strstart=0,r.block_start=0,r.insert=0);let c=new Uint8Array(r.w_size);c.set(t.subarray(n-r.w_size,n),0),t=c,n=r.w_size}const a=e.avail_in,o=e.next_in,l=e.input;for(e.avail_in=n,e.next_in=0,e.input=t,cy(r);r.lookahead>=er;){let c=r.strstart,u=r.lookahead-(er-1);do r.ins_h=ph(r,r.ins_h,r.window[c+er-1]),r.prev[c&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=c,c++;while(--u);r.strstart=c,r.lookahead=er-1,cy(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=er-1,r.match_available=0,e.next_in=o,e.input=l,e.avail_in=a,r.wrap=i,rs};var B7e=D7e,z7e=Aee,U7e=See,q7e=Nee,V7e=M7e,W7e=R7e,H7e=$7e,K7e=F7e,G7e="pako deflate (from Nodeca project)",px={deflateInit:B7e,deflateInit2:z7e,deflateReset:U7e,deflateResetKeep:q7e,deflateSetHeader:V7e,deflate:W7e,deflateEnd:H7e,deflateSetDictionary:K7e,deflateInfo:G7e};const Z7e=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var X7e=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const n=t.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const r in n)Z7e(n,r)&&(e[r]=n[r])}}return e},Y7e=e=>{let t=0;for(let r=0,i=e.length;r<i;r++)t+=e[r].length;const n=new Uint8Array(t);for(let r=0,i=0,a=e.length;r<a;r++){let o=e[r];n.set(o,i),i+=o.length}return n},eS={assign:X7e,flattenChunks:Y7e};let Pee=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Pee=!1}const Z1=new Uint8Array(256);for(let e=0;e<256;e++)Z1[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;Z1[254]=Z1[254]=1;var Q7e=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,n,r,i,a,o=e.length,l=0;for(i=0;i<o;i++)n=e.charCodeAt(i),(n&64512)===55296&&i+1<o&&(r=e.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),l+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(l),a=0,i=0;a<l;i++)n=e.charCodeAt(i),(n&64512)===55296&&i+1<o&&(r=e.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?t[a++]=n:n<2048?(t[a++]=192|n>>>6,t[a++]=128|n&63):n<65536?(t[a++]=224|n>>>12,t[a++]=128|n>>>6&63,t[a++]=128|n&63):(t[a++]=240|n>>>18,t[a++]=128|n>>>12&63,t[a++]=128|n>>>6&63,t[a++]=128|n&63);return t};const J7e=(e,t)=>{if(t<65534&&e.subarray&&Pee)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let n="";for(let r=0;r<t;r++)n+=String.fromCharCode(e[r]);return n};var eBe=(e,t)=>{const n=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let r,i;const a=new Array(n*2);for(i=0,r=0;r<n;){let o=e[r++];if(o<128){a[i++]=o;continue}let l=Z1[o];if(l>4){a[i++]=65533,r+=l-1;continue}for(o&=l===2?31:l===3?15:7;l>1&&r<n;)o=o<<6|e[r++]&63,l--;if(l>1){a[i++]=65533;continue}o<65536?a[i++]=o:(o-=65536,a[i++]=55296|o>>10&1023,a[i++]=56320|o&1023)}return J7e(a,i)},tBe=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let n=t-1;for(;n>=0&&(e[n]&192)===128;)n--;return n<0||n===0?t:n+Z1[e[n]]>t?n:t},X1={string2buf:Q7e,buf2string:eBe,utf8border:tBe};function nBe(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var Cee=nBe;const Eee=Object.prototype.toString,{Z_NO_FLUSH:rBe,Z_SYNC_FLUSH:iBe,Z_FULL_FLUSH:aBe,Z_FINISH:sBe,Z_OK:Y5,Z_STREAM_END:oBe,Z_DEFAULT_COMPRESSION:lBe,Z_DEFAULT_STRATEGY:cBe,Z_DEFLATED:uBe}=Db;function K3(e){this.options=eS.assign({level:lBe,method:uBe,chunkSize:16384,windowBits:15,memLevel:8,strategy:cBe},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Cee,this.strm.avail_out=0;let n=px.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==Y5)throw new Error(oy[n]);if(t.header&&px.deflateSetHeader(this.strm,t.header),t.dictionary){let r;if(typeof t.dictionary=="string"?r=X1.string2buf(t.dictionary):Eee.call(t.dictionary)==="[object ArrayBuffer]"?r=new Uint8Array(t.dictionary):r=t.dictionary,n=px.deflateSetDictionary(this.strm,r),n!==Y5)throw new Error(oy[n]);this._dict_set=!0}}K3.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize;let i,a;if(this.ended)return!1;for(t===~~t?a=t:a=t===!0?sBe:rBe,typeof e=="string"?n.input=X1.string2buf(e):Eee.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){if(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),(a===iBe||a===aBe)&&n.avail_out<=6){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(i=px.deflate(n,a),i===oBe)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),i=px.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===Y5;if(n.avail_out===0){this.onData(n.output);continue}if(a>0&&n.next_out>0){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(n.avail_in===0)break}return!0};K3.prototype.onData=function(e){this.chunks.push(e)};K3.prototype.onEnd=function(e){e===Y5&&(this.result=eS.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};const Qw=16209,dBe=16191;var fBe=function(t,n){let r,i,a,o,l,c,u,f,h,p,m,x,v,y,b,w,j,P,A,E,O,I,D,z;const T=t.state;r=t.next_in,D=t.input,i=r+(t.avail_in-5),a=t.next_out,z=t.output,o=a-(n-t.avail_out),l=a+(t.avail_out-257),c=T.dmax,u=T.wsize,f=T.whave,h=T.wnext,p=T.window,m=T.hold,x=T.bits,v=T.lencode,y=T.distcode,b=(1<<T.lenbits)-1,w=(1<<T.distbits)-1;e:do{x<15&&(m+=D[r++]<<x,x+=8,m+=D[r++]<<x,x+=8),j=v[m&b];t:for(;;){if(P=j>>>24,m>>>=P,x-=P,P=j>>>16&255,P===0)z[a++]=j&65535;else if(P&16){A=j&65535,P&=15,P&&(x<P&&(m+=D[r++]<<x,x+=8),A+=m&(1<<P)-1,m>>>=P,x-=P),x<15&&(m+=D[r++]<<x,x+=8,m+=D[r++]<<x,x+=8),j=y[m&w];n:for(;;){if(P=j>>>24,m>>>=P,x-=P,P=j>>>16&255,P&16){if(E=j&65535,P&=15,x<P&&(m+=D[r++]<<x,x+=8,x<P&&(m+=D[r++]<<x,x+=8)),E+=m&(1<<P)-1,E>c){t.msg="invalid distance too far back",T.mode=Qw;break e}if(m>>>=P,x-=P,P=a-o,E>P){if(P=E-P,P>f&&T.sane){t.msg="invalid distance too far back",T.mode=Qw;break e}if(O=0,I=p,h===0){if(O+=u-P,P<A){A-=P;do z[a++]=p[O++];while(--P);O=a-E,I=z}}else if(h<P){if(O+=u+h-P,P-=h,P<A){A-=P;do z[a++]=p[O++];while(--P);if(O=0,h<A){P=h,A-=P;do z[a++]=p[O++];while(--P);O=a-E,I=z}}}else if(O+=h-P,P<A){A-=P;do z[a++]=p[O++];while(--P);O=a-E,I=z}for(;A>2;)z[a++]=I[O++],z[a++]=I[O++],z[a++]=I[O++],A-=3;A&&(z[a++]=I[O++],A>1&&(z[a++]=I[O++]))}else{O=a-E;do z[a++]=z[O++],z[a++]=z[O++],z[a++]=z[O++],A-=3;while(A>2);A&&(z[a++]=z[O++],A>1&&(z[a++]=z[O++]))}}else if(P&64){t.msg="invalid distance code",T.mode=Qw;break e}else{j=y[(j&65535)+(m&(1<<P)-1)];continue n}break}}else if(P&64)if(P&32){T.mode=dBe;break e}else{t.msg="invalid literal/length code",T.mode=Qw;break e}else{j=v[(j&65535)+(m&(1<<P)-1)];continue t}break}}while(r<i&&a<l);A=x>>3,r-=A,x-=A<<3,m&=(1<<x)-1,t.next_in=r,t.next_out=a,t.avail_in=r<i?5+(i-r):5-(r-i),t.avail_out=a<l?257+(l-a):257-(a-l),T.hold=m,T.bits=x};const eg=15,N$=852,S$=592,A$=0,rP=1,P$=2,hBe=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),pBe=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),mBe=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),gBe=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),vBe=(e,t,n,r,i,a,o,l)=>{const c=l.bits;let u=0,f=0,h=0,p=0,m=0,x=0,v=0,y=0,b=0,w=0,j,P,A,E,O,I=null,D;const z=new Uint16Array(eg+1),T=new Uint16Array(eg+1);let k=null,F,B,H;for(u=0;u<=eg;u++)z[u]=0;for(f=0;f<r;f++)z[t[n+f]]++;for(m=c,p=eg;p>=1&&z[p]===0;p--);if(m>p&&(m=p),p===0)return i[a++]=1<<24|64<<16|0,i[a++]=1<<24|64<<16|0,l.bits=1,0;for(h=1;h<p&&z[h]===0;h++);for(m<h&&(m=h),y=1,u=1;u<=eg;u++)if(y<<=1,y-=z[u],y<0)return-1;if(y>0&&(e===A$||p!==1))return-1;for(T[1]=0,u=1;u<eg;u++)T[u+1]=T[u]+z[u];for(f=0;f<r;f++)t[n+f]!==0&&(o[T[t[n+f]]++]=f);if(e===A$?(I=k=o,D=20):e===rP?(I=hBe,k=pBe,D=257):(I=mBe,k=gBe,D=0),w=0,f=0,u=h,O=a,x=m,v=0,A=-1,b=1<<m,E=b-1,e===rP&&b>N$||e===P$&&b>S$)return 1;for(;;){F=u-v,o[f]+1<D?(B=0,H=o[f]):o[f]>=D?(B=k[o[f]-D],H=I[o[f]-D]):(B=96,H=0),j=1<<u-v,P=1<<x,h=P;do P-=j,i[O+(w>>v)+P]=F<<24|B<<16|H|0;while(P!==0);for(j=1<<u-1;w&j;)j>>=1;if(j!==0?(w&=j-1,w+=j):w=0,f++,--z[u]===0){if(u===p)break;u=t[n+o[f]]}if(u>m&&(w&E)!==A){for(v===0&&(v=m),O+=h,x=u-v,y=1<<x;x+v<p&&(y-=z[x+v],!(y<=0));)x++,y<<=1;if(b+=1<<x,e===rP&&b>N$||e===P$&&b>S$)return 1;A=w&E,i[A]=m<<24|x<<16|O-a|0}}return w!==0&&(i[O+w]=u-v<<24|64<<16|0),l.bits=m,0};var mx=vBe;const yBe=0,Oee=1,kee=2,{Z_FINISH:C$,Z_BLOCK:xBe,Z_TREES:Jw,Z_OK:vm,Z_STREAM_END:bBe,Z_NEED_DICT:wBe,Z_STREAM_ERROR:Yl,Z_DATA_ERROR:Tee,Z_MEM_ERROR:Iee,Z_BUF_ERROR:_Be,Z_DEFLATED:E$}=Db,tS=16180,O$=16181,k$=16182,T$=16183,I$=16184,L$=16185,M$=16186,D$=16187,R$=16188,$$=16189,Q5=16190,vd=16191,iP=16192,F$=16193,aP=16194,B$=16195,z$=16196,U$=16197,q$=16198,e2=16199,t2=16200,V$=16201,W$=16202,H$=16203,K$=16204,G$=16205,sP=16206,Z$=16207,X$=16208,pi=16209,Lee=16210,Mee=16211,jBe=852,NBe=592,SBe=15,ABe=SBe,Y$=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function PBe(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Em=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<tS||t.mode>Mee?1:0},Dee=e=>{if(Em(e))return Yl;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=tS,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(jBe),t.distcode=t.distdyn=new Int32Array(NBe),t.sane=1,t.back=-1,vm},Ree=e=>{if(Em(e))return Yl;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,Dee(e)},$ee=(e,t)=>{let n;if(Em(e))return Yl;const r=e.state;return t<0?(n=0,t=-t):(n=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?Yl:(r.window!==null&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,Ree(e))},Fee=(e,t)=>{if(!e)return Yl;const n=new PBe;e.state=n,n.strm=e,n.window=null,n.mode=tS;const r=$ee(e,t);return r!==vm&&(e.state=null),r},CBe=e=>Fee(e,ABe);let Q$=!0,oP,lP;const EBe=e=>{if(Q$){oP=new Int32Array(512),lP=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(mx(Oee,e.lens,0,288,oP,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;mx(kee,e.lens,0,32,lP,0,e.work,{bits:5}),Q$=!1}e.lencode=oP,e.lenbits=9,e.distcode=lP,e.distbits=5},Bee=(e,t,n,r)=>{let i;const a=e.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),r>=a.wsize?(a.window.set(t.subarray(n-a.wsize,n),0),a.wnext=0,a.whave=a.wsize):(i=a.wsize-a.wnext,i>r&&(i=r),a.window.set(t.subarray(n-r,n-r+i),a.wnext),r-=i,r?(a.window.set(t.subarray(n-r,n),0),a.wnext=r,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0},OBe=(e,t)=>{let n,r,i,a,o,l,c,u,f,h,p,m,x,v,y=0,b,w,j,P,A,E,O,I;const D=new Uint8Array(4);let z,T;const k=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Em(e)||!e.output||!e.input&&e.avail_in!==0)return Yl;n=e.state,n.mode===vd&&(n.mode=iP),o=e.next_out,i=e.output,c=e.avail_out,a=e.next_in,r=e.input,l=e.avail_in,u=n.hold,f=n.bits,h=l,p=c,I=vm;e:for(;;)switch(n.mode){case tS:if(n.wrap===0){n.mode=iP;break}for(;f<16;){if(l===0)break e;l--,u+=r[a++]<<f,f+=8}if(n.wrap&2&&u===35615){n.wbits===0&&(n.wbits=15),n.check=0,D[0]=u&255,D[1]=u>>>8&255,n.check=Ea(n.check,D,2,0),u=0,f=0,n.mode=O$;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((u&255)<<8)+(u>>8))%31){e.msg="incorrect header check",n.mode=pi;break}if((u&15)!==E$){e.msg="unknown compression method",n.mode=pi;break}if(u>>>=4,f-=4,O=(u&15)+8,n.wbits===0&&(n.wbits=O),O>15||O>n.wbits){e.msg="invalid window size",n.mode=pi;break}n.dmax=1<<n.wbits,n.flags=0,e.adler=n.check=1,n.mode=u&512?$$:vd,u=0,f=0;break;case O$:for(;f<16;){if(l===0)break e;l--,u+=r[a++]<<f,f+=8}if(n.flags=u,(n.flags&255)!==E$){e.msg="unknown compression method",n.mode=pi;break}if(n.flags&57344){e.msg="unknown header flags set",n.mode=pi;break}n.head&&(n.head.text=u>>8&1),n.flags&512&&n.wrap&4&&(D[0]=u&255,D[1]=u>>>8&255,n.check=Ea(n.check,D,2,0)),u=0,f=0,n.mode=k$;case k$:for(;f<32;){if(l===0)break e;l--,u+=r[a++]<<f,f+=8}n.head&&(n.head.time=u),n.flags&512&&n.wrap&4&&(D[0]=u&255,D[1]=u>>>8&255,D[2]=u>>>16&255,D[3]=u>>>24&255,n.check=Ea(n.check,D,4,0)),u=0,f=0,n.mode=T$;case T$:for(;f<16;){if(l===0)break e;l--,u+=r[a++]<<f,f+=8}n.head&&(n.head.xflags=u&255,n.head.os=u>>8),n.flags&512&&n.wrap&4&&(D[0]=u&255,D[1]=u>>>8&255,n.check=Ea(n.check,D,2,0)),u=0,f=0,n.mode=I$;case I$:if(n.flags&1024){for(;f<16;){if(l===0)break e;l--,u+=r[a++]<<f,f+=8}n.length=u,n.head&&(n.head.extra_len=u),n.flags&512&&n.wrap&4&&(D[0]=u&255,D[1]=u>>>8&255,n.check=Ea(n.check,D,2,0)),u=0,f=0}else n.head&&(n.head.extra=null);n.mode=L$;case L$:if(n.flags&1024&&(m=n.length,m>l&&(m=l),m&&(n.head&&(O=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(a,a+m),O)),n.flags&512&&n.wrap&4&&(n.check=Ea(n.check,r,m,a)),l-=m,a+=m,n.length-=m),n.length))break e;n.length=0,n.mode=M$;case M$:if(n.flags&2048){if(l===0)break e;m=0;do O=r[a+m++],n.head&&O&&n.length<65536&&(n.head.name+=String.fromCharCode(O));while(O&&m<l);if(n.flags&512&&n.wrap&4&&(n.check=Ea(n.check,r,m,a)),l-=m,a+=m,O)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=D$;case D$:if(n.flags&4096){if(l===0)break e;m=0;do O=r[a+m++],n.head&&O&&n.length<65536&&(n.head.comment+=String.fromCharCode(O));while(O&&m<l);if(n.flags&512&&n.wrap&4&&(n.check=Ea(n.check,r,m,a)),l-=m,a+=m,O)break e}else n.head&&(n.head.comment=null);n.mode=R$;case R$:if(n.flags&512){for(;f<16;){if(l===0)break e;l--,u+=r[a++]<<f,f+=8}if(n.wrap&4&&u!==(n.check&65535)){e.msg="header crc mismatch",n.mode=pi;break}u=0,f=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=vd;break;case $$:for(;f<32;){if(l===0)break e;l--,u+=r[a++]<<f,f+=8}e.adler=n.check=Y$(u),u=0,f=0,n.mode=Q5;case Q5:if(n.havedict===0)return e.next_out=o,e.avail_out=c,e.next_in=a,e.avail_in=l,n.hold=u,n.bits=f,wBe;e.adler=n.check=1,n.mode=vd;case vd:if(t===xBe||t===Jw)break e;case iP:if(n.last){u>>>=f&7,f-=f&7,n.mode=sP;break}for(;f<3;){if(l===0)break e;l--,u+=r[a++]<<f,f+=8}switch(n.last=u&1,u>>>=1,f-=1,u&3){case 0:n.mode=F$;break;case 1:if(EBe(n),n.mode=e2,t===Jw){u>>>=2,f-=2;break e}break;case 2:n.mode=z$;break;case 3:e.msg="invalid block type",n.mode=pi}u>>>=2,f-=2;break;case F$:for(u>>>=f&7,f-=f&7;f<32;){if(l===0)break e;l--,u+=r[a++]<<f,f+=8}if((u&65535)!==(u>>>16^65535)){e.msg="invalid stored block lengths",n.mode=pi;break}if(n.length=u&65535,u=0,f=0,n.mode=aP,t===Jw)break e;case aP:n.mode=B$;case B$:if(m=n.length,m){if(m>l&&(m=l),m>c&&(m=c),m===0)break e;i.set(r.subarray(a,a+m),o),l-=m,a+=m,c-=m,o+=m,n.length-=m;break}n.mode=vd;break;case z$:for(;f<14;){if(l===0)break e;l--,u+=r[a++]<<f,f+=8}if(n.nlen=(u&31)+257,u>>>=5,f-=5,n.ndist=(u&31)+1,u>>>=5,f-=5,n.ncode=(u&15)+4,u>>>=4,f-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=pi;break}n.have=0,n.mode=U$;case U$:for(;n.have<n.ncode;){for(;f<3;){if(l===0)break e;l--,u+=r[a++]<<f,f+=8}n.lens[k[n.have++]]=u&7,u>>>=3,f-=3}for(;n.have<19;)n.lens[k[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,z={bits:n.lenbits},I=mx(yBe,n.lens,0,19,n.lencode,0,n.work,z),n.lenbits=z.bits,I){e.msg="invalid code lengths set",n.mode=pi;break}n.have=0,n.mode=q$;case q$:for(;n.have<n.nlen+n.ndist;){for(;y=n.lencode[u&(1<<n.lenbits)-1],b=y>>>24,w=y>>>16&255,j=y&65535,!(b<=f);){if(l===0)break e;l--,u+=r[a++]<<f,f+=8}if(j<16)u>>>=b,f-=b,n.lens[n.have++]=j;else{if(j===16){for(T=b+2;f<T;){if(l===0)break e;l--,u+=r[a++]<<f,f+=8}if(u>>>=b,f-=b,n.have===0){e.msg="invalid bit length repeat",n.mode=pi;break}O=n.lens[n.have-1],m=3+(u&3),u>>>=2,f-=2}else if(j===17){for(T=b+3;f<T;){if(l===0)break e;l--,u+=r[a++]<<f,f+=8}u>>>=b,f-=b,O=0,m=3+(u&7),u>>>=3,f-=3}else{for(T=b+7;f<T;){if(l===0)break e;l--,u+=r[a++]<<f,f+=8}u>>>=b,f-=b,O=0,m=11+(u&127),u>>>=7,f-=7}if(n.have+m>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=pi;break}for(;m--;)n.lens[n.have++]=O}}if(n.mode===pi)break;if(n.lens[256]===0){e.msg="invalid code -- missing end-of-block",n.mode=pi;break}if(n.lenbits=9,z={bits:n.lenbits},I=mx(Oee,n.lens,0,n.nlen,n.lencode,0,n.work,z),n.lenbits=z.bits,I){e.msg="invalid literal/lengths set",n.mode=pi;break}if(n.distbits=6,n.distcode=n.distdyn,z={bits:n.distbits},I=mx(kee,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,z),n.distbits=z.bits,I){e.msg="invalid distances set",n.mode=pi;break}if(n.mode=e2,t===Jw)break e;case e2:n.mode=t2;case t2:if(l>=6&&c>=258){e.next_out=o,e.avail_out=c,e.next_in=a,e.avail_in=l,n.hold=u,n.bits=f,fBe(e,p),o=e.next_out,i=e.output,c=e.avail_out,a=e.next_in,r=e.input,l=e.avail_in,u=n.hold,f=n.bits,n.mode===vd&&(n.back=-1);break}for(n.back=0;y=n.lencode[u&(1<<n.lenbits)-1],b=y>>>24,w=y>>>16&255,j=y&65535,!(b<=f);){if(l===0)break e;l--,u+=r[a++]<<f,f+=8}if(w&&!(w&240)){for(P=b,A=w,E=j;y=n.lencode[E+((u&(1<<P+A)-1)>>P)],b=y>>>24,w=y>>>16&255,j=y&65535,!(P+b<=f);){if(l===0)break e;l--,u+=r[a++]<<f,f+=8}u>>>=P,f-=P,n.back+=P}if(u>>>=b,f-=b,n.back+=b,n.length=j,w===0){n.mode=G$;break}if(w&32){n.back=-1,n.mode=vd;break}if(w&64){e.msg="invalid literal/length code",n.mode=pi;break}n.extra=w&15,n.mode=V$;case V$:if(n.extra){for(T=n.extra;f<T;){if(l===0)break e;l--,u+=r[a++]<<f,f+=8}n.length+=u&(1<<n.extra)-1,u>>>=n.extra,f-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=W$;case W$:for(;y=n.distcode[u&(1<<n.distbits)-1],b=y>>>24,w=y>>>16&255,j=y&65535,!(b<=f);){if(l===0)break e;l--,u+=r[a++]<<f,f+=8}if(!(w&240)){for(P=b,A=w,E=j;y=n.distcode[E+((u&(1<<P+A)-1)>>P)],b=y>>>24,w=y>>>16&255,j=y&65535,!(P+b<=f);){if(l===0)break e;l--,u+=r[a++]<<f,f+=8}u>>>=P,f-=P,n.back+=P}if(u>>>=b,f-=b,n.back+=b,w&64){e.msg="invalid distance code",n.mode=pi;break}n.offset=j,n.extra=w&15,n.mode=H$;case H$:if(n.extra){for(T=n.extra;f<T;){if(l===0)break e;l--,u+=r[a++]<<f,f+=8}n.offset+=u&(1<<n.extra)-1,u>>>=n.extra,f-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=pi;break}n.mode=K$;case K$:if(c===0)break e;if(m=p-c,n.offset>m){if(m=n.offset-m,m>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=pi;break}m>n.wnext?(m-=n.wnext,x=n.wsize-m):x=n.wnext-m,m>n.length&&(m=n.length),v=n.window}else v=i,x=o-n.offset,m=n.length;m>c&&(m=c),c-=m,n.length-=m;do i[o++]=v[x++];while(--m);n.length===0&&(n.mode=t2);break;case G$:if(c===0)break e;i[o++]=n.length,c--,n.mode=t2;break;case sP:if(n.wrap){for(;f<32;){if(l===0)break e;l--,u|=r[a++]<<f,f+=8}if(p-=c,e.total_out+=p,n.total+=p,n.wrap&4&&p&&(e.adler=n.check=n.flags?Ea(n.check,i,p,o-p):G1(n.check,i,p,o-p)),p=c,n.wrap&4&&(n.flags?u:Y$(u))!==n.check){e.msg="incorrect data check",n.mode=pi;break}u=0,f=0}n.mode=Z$;case Z$:if(n.wrap&&n.flags){for(;f<32;){if(l===0)break e;l--,u+=r[a++]<<f,f+=8}if(n.wrap&4&&u!==(n.total&4294967295)){e.msg="incorrect length check",n.mode=pi;break}u=0,f=0}n.mode=X$;case X$:I=bBe;break e;case pi:I=Tee;break e;case Lee:return Iee;case Mee:default:return Yl}return e.next_out=o,e.avail_out=c,e.next_in=a,e.avail_in=l,n.hold=u,n.bits=f,(n.wsize||p!==e.avail_out&&n.mode<pi&&(n.mode<sP||t!==C$))&&Bee(e,e.output,e.next_out,p-e.avail_out),h-=e.avail_in,p-=e.avail_out,e.total_in+=h,e.total_out+=p,n.total+=p,n.wrap&4&&p&&(e.adler=n.check=n.flags?Ea(n.check,i,p,e.next_out-p):G1(n.check,i,p,e.next_out-p)),e.data_type=n.bits+(n.last?64:0)+(n.mode===vd?128:0)+(n.mode===e2||n.mode===aP?256:0),(h===0&&p===0||t===C$)&&I===vm&&(I=_Be),I},kBe=e=>{if(Em(e))return Yl;let t=e.state;return t.window&&(t.window=null),e.state=null,vm},TBe=(e,t)=>{if(Em(e))return Yl;const n=e.state;return n.wrap&2?(n.head=t,t.done=!1,vm):Yl},IBe=(e,t)=>{const n=t.length;let r,i,a;return Em(e)||(r=e.state,r.wrap!==0&&r.mode!==Q5)?Yl:r.mode===Q5&&(i=1,i=G1(i,t,n,0),i!==r.check)?Tee:(a=Bee(e,t,n,n),a?(r.mode=Lee,Iee):(r.havedict=1,vm))};var LBe=Ree,MBe=$ee,DBe=Dee,RBe=CBe,$Be=Fee,FBe=OBe,BBe=kBe,zBe=TBe,UBe=IBe,qBe="pako inflate (from Nodeca project)",Sd={inflateReset:LBe,inflateReset2:MBe,inflateResetKeep:DBe,inflateInit:RBe,inflateInit2:$Be,inflate:FBe,inflateEnd:BBe,inflateGetHeader:zBe,inflateSetDictionary:UBe,inflateInfo:qBe};function VBe(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var WBe=VBe;const zee=Object.prototype.toString,{Z_NO_FLUSH:HBe,Z_FINISH:KBe,Z_OK:Y1,Z_STREAM_END:cP,Z_NEED_DICT:uP,Z_STREAM_ERROR:GBe,Z_DATA_ERROR:J$,Z_MEM_ERROR:ZBe}=Db;function $b(e){this.options=eS.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Cee,this.strm.avail_out=0;let n=Sd.inflateInit2(this.strm,t.windowBits);if(n!==Y1)throw new Error(oy[n]);if(this.header=new WBe,Sd.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=X1.string2buf(t.dictionary):zee.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=Sd.inflateSetDictionary(this.strm,t.dictionary),n!==Y1)))throw new Error(oy[n])}$b.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let a,o,l;if(this.ended)return!1;for(t===~~t?o=t:o=t===!0?KBe:HBe,zee.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),a=Sd.inflate(n,o),a===uP&&i&&(a=Sd.inflateSetDictionary(n,i),a===Y1?a=Sd.inflate(n,o):a===J$&&(a=uP));n.avail_in>0&&a===cP&&n.state.wrap>0&&e[n.next_in]!==0;)Sd.inflateReset(n),a=Sd.inflate(n,o);switch(a){case GBe:case J$:case uP:case ZBe:return this.onEnd(a),this.ended=!0,!1}if(l=n.avail_out,n.next_out&&(n.avail_out===0||a===cP))if(this.options.to==="string"){let c=X1.utf8border(n.output,n.next_out),u=n.next_out-c,f=X1.buf2string(n.output,c);n.next_out=u,n.avail_out=r-u,u&&n.output.set(n.output.subarray(c,c+u),0),this.onData(f)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(a===Y1&&l===0)){if(a===cP)return a=Sd.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};$b.prototype.onData=function(e){this.chunks.push(e)};$b.prototype.onEnd=function(e){e===Y1&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=eS.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function G3(e,t){const n=new $b(t);if(n.push(e),n.err)throw n.msg||oy[n.err];return n.result}function XBe(e,t){return t=t||{},t.raw=!0,G3(e,t)}var YBe=$b,QBe=G3,JBe=XBe,e9e=G3,t9e=Db,n9e={Inflate:YBe,inflate:QBe,inflateRaw:JBe,ungzip:e9e,constants:t9e};const{Inflate:r9e,inflate:i9e,inflateRaw:uGe,ungzip:dGe}=n9e;var eF=r9e,a9e=i9e;const Uee=[];for(let e=0;e<256;e++){let t=e;for(let n=0;n<8;n++)t&1?t=3988292384^t>>>1:t=t>>>1;Uee[e]=t}const tF=4294967295;function s9e(e,t,n){let r=e;for(let i=0;i<n;i++)r=Uee[(r^t[i])&255]^r>>>8;return r}function o9e(e,t){return(s9e(tF,e,t)^tF)>>>0}function nF(e,t,n){const r=e.readUint32(),i=o9e(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(i!==r)throw new Error(`CRC mismatch for chunk ${n}. Expected ${r}, found ${i}`)}function qee(e,t,n){for(let r=0;r<n;r++)t[r]=e[r]}function Vee(e,t,n,r){let i=0;for(;i<r;i++)t[i]=e[i];for(;i<n;i++)t[i]=e[i]+t[i-r]&255}function Wee(e,t,n,r){let i=0;if(n.length===0)for(;i<r;i++)t[i]=e[i];else for(;i<r;i++)t[i]=e[i]+n[i]&255}function Hee(e,t,n,r,i){let a=0;if(n.length===0){for(;a<i;a++)t[a]=e[a];for(;a<r;a++)t[a]=e[a]+(t[a-i]>>1)&255}else{for(;a<i;a++)t[a]=e[a]+(n[a]>>1)&255;for(;a<r;a++)t[a]=e[a]+(t[a-i]+n[a]>>1)&255}}function Kee(e,t,n,r,i){let a=0;if(n.length===0){for(;a<i;a++)t[a]=e[a];for(;a<r;a++)t[a]=e[a]+t[a-i]&255}else{for(;a<i;a++)t[a]=e[a]+n[a]&255;for(;a<r;a++)t[a]=e[a]+l9e(t[a-i],n[a],n[a-i])&255}}function l9e(e,t,n){const r=e+t-n,i=Math.abs(r-e),a=Math.abs(r-t),o=Math.abs(r-n);return i<=a&&i<=o?e:a<=o?t:n}function c9e(e,t,n,r,i,a){switch(e){case 0:qee(t,n,i);break;case 1:Vee(t,n,i,a);break;case 2:Wee(t,n,r,i);break;case 3:Hee(t,n,r,i,a);break;case 4:Kee(t,n,r,i,a);break;default:throw new Error(`Unsupported filter: ${e}`)}}const u9e=new Uint16Array([255]),d9e=new Uint8Array(u9e.buffer),f9e=d9e[0]===255;function h9e(e){const{data:t,width:n,height:r,channels:i,depth:a}=e,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],l=Math.ceil(a/8)*i,c=new Uint8Array(r*n*l);let u=0;for(let f=0;f<7;f++){const h=o[f],p=Math.ceil((n-h.x)/h.xStep),m=Math.ceil((r-h.y)/h.yStep);if(p<=0||m<=0)continue;const x=p*l,v=new Uint8Array(x);for(let y=0;y<m;y++){const b=t[u++],w=t.subarray(u,u+x);u+=x;const j=new Uint8Array(x);c9e(b,w,j,v,x,l),v.set(j);for(let P=0;P<p;P++){const A=h.x+P*h.xStep,E=h.y+y*h.yStep;if(!(A>=n||E>=r))for(let O=0;O<l;O++)c[(E*n+A)*l+O]=j[P*l+O]}}}if(a===16){const f=new Uint16Array(c.buffer);if(f9e)for(let h=0;h<f.length;h++)f[h]=p9e(f[h]);return f}else return c}function p9e(e){return(e&255)<<8|e>>8&255}const m9e=new Uint16Array([255]),g9e=new Uint8Array(m9e.buffer),v9e=g9e[0]===255,y9e=new Uint8Array(0);function rF(e){const{data:t,width:n,height:r,channels:i,depth:a}=e,o=Math.ceil(a/8)*i,l=Math.ceil(a/8*i*n),c=new Uint8Array(r*l);let u=y9e,f=0,h,p;for(let m=0;m<r;m++){switch(h=t.subarray(f+1,f+1+l),p=c.subarray(m*l,(m+1)*l),t[f]){case 0:qee(h,p,l);break;case 1:Vee(h,p,l,o);break;case 2:Wee(h,p,u,l);break;case 3:Hee(h,p,u,l,o);break;case 4:Kee(h,p,u,l,o);break;default:throw new Error(`Unsupported filter: ${t[f]}`)}u=p,f+=l+1}if(a===16){const m=new Uint16Array(c.buffer);if(v9e)for(let x=0;x<m.length;x++)m[x]=x9e(m[x]);return m}else return c}function x9e(e){return(e&255)<<8|e>>8&255}const M2=Uint8Array.of(137,80,78,71,13,10,26,10);function iF(e){if(!b9e(e.readBytes(M2.length)))throw new Error("wrong PNG signature")}function b9e(e){if(e.length<M2.length)return!1;for(let t=0;t<M2.length;t++)if(e[t]!==M2[t])return!1;return!0}const w9e="tEXt",_9e=0,Gee=new TextDecoder("latin1");function j9e(e){if(S9e(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}const N9e=/^[\u0000-\u00FF]*$/;function S9e(e){if(!N9e.test(e))throw new Error("invalid latin1 text")}function A9e(e,t,n){const r=Zee(t);e[r]=P9e(t,n-r.length-1)}function Zee(e){for(e.mark();e.readByte()!==_9e;);const t=e.offset;e.reset();const n=Gee.decode(e.readBytes(t-e.offset-1));return e.skip(1),j9e(n),n}function P9e(e,t){return Gee.decode(e.readBytes(t))}const zo={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},dP={UNKNOWN:-1,DEFLATE:0},aF={UNKNOWN:-1,ADAPTIVE:0},fP={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},n2={NONE:0,BACKGROUND:1,PREVIOUS:2},hP={SOURCE:0,OVER:1};class C9e extends z3{constructor(n,r={}){super(n);_e(this,"_checkCrc");_e(this,"_inflator");_e(this,"_png");_e(this,"_apng");_e(this,"_end");_e(this,"_hasPalette");_e(this,"_palette");_e(this,"_hasTransparency");_e(this,"_transparency");_e(this,"_compressionMethod");_e(this,"_filterMethod");_e(this,"_interlaceMethod");_e(this,"_colorType");_e(this,"_isAnimated");_e(this,"_numberOfFrames");_e(this,"_numberOfPlays");_e(this,"_frames");_e(this,"_writingDataChunks");const{checkCrc:i=!1}=r;this._checkCrc=i,this._inflator=new eF,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=dP.UNKNOWN,this._filterMethod=aF.UNKNOWN,this._interlaceMethod=fP.UNKNOWN,this._colorType=zo.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(iF(this);!this._end;){const n=this.readUint32(),r=this.readChars(4);this.decodeChunk(n,r)}return this.decodeImage(),this._png}decodeApng(){for(iF(this);!this._end;){const n=this.readUint32(),r=this.readChars(4);this.decodeApngChunk(n,r)}return this.decodeApngImage(),this._apng}decodeChunk(n,r){const i=this.offset;switch(r){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(n);break;case"IDAT":this.decodeIDAT(n);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(n);break;case"iCCP":this.decodeiCCP(n);break;case w9e:A9e(this._png.text,this,n);break;case"pHYs":this.decodepHYs();break;default:this.skip(n);break}if(this.offset-i!==n)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?nF(this,n+4,r):this.skip(4)}decodeApngChunk(n,r){const i=this.offset;switch(r!=="fdAT"&&r!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),r){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(n);break;default:this.decodeChunk(n,r),this.offset=i+n;break}if(this.offset-i!==n)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?nF(this,n+4,r):this.skip(4)}decodeIHDR(){const n=this._png;n.width=this.readUint32(),n.height=this.readUint32(),n.depth=E9e(this.readUint8());const r=this.readUint8();this._colorType=r;let i;switch(r){case zo.GREYSCALE:i=1;break;case zo.TRUECOLOUR:i=3;break;case zo.INDEXED_COLOUR:i=1;break;case zo.GREYSCALE_ALPHA:i=2;break;case zo.TRUECOLOUR_ALPHA:i=4;break;case zo.UNKNOWN:default:throw new Error(`Unknown color type: ${r}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==dP.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const n={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(n)}decodePLTE(n){if(n%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${n}`);const r=n/3;this._hasPalette=!0;const i=[];this._palette=i;for(let a=0;a<r;a++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(n){this._writingDataChunks=!0;const r=n,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodeFDAT(n){this._writingDataChunks=!0;let r=n,i=this.offset+this.byteOffset;if(i+=4,r-=4,this._inflator.push(new Uint8Array(this.buffer,i,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodetRNS(n){switch(this._colorType){case zo.GREYSCALE:case zo.TRUECOLOUR:{if(n%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${n}`);if(n/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${n/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(n/2);for(let r=0;r<n/2;r++)this._transparency[r]=this.readUint16();break}case zo.INDEXED_COLOUR:{if(n>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${n} vs ${this._palette.length})`);let r=0;for(;r<n;r++){const i=this.readByte();this._palette[r].push(i)}for(;r<this._palette.length;r++)this._palette[r].push(255);break}case zo.UNKNOWN:case zo.GREYSCALE_ALPHA:case zo.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(n){const r=Zee(this),i=this.readUint8();if(i!==dP.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const a=this.readBytes(n-r.length-2);this._png.iccEmbeddedProfile={name:r,profile:a9e(a)}}decodepHYs(){const n=this.readUint32(),r=this.readUint32(),i=this.readByte();this._png.resolution={x:n,y:r,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let n=0;n<this._numberOfFrames;n++){const r={sequenceNumber:this._frames[n].sequenceNumber,delayNumber:this._frames[n].delayNumber,delayDenominator:this._frames[n].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(n);if(i){if(i.data=rF({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),n===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)r.data=i.data;else{const a=this._apng.frames.at(n-1);this.disposeFrame(i,a,r),this.addFrameDataToCanvas(r,i)}this._apng.frames.push(r)}}return this._apng}disposeFrame(n,r,i){switch(n.disposeOp){case n2.NONE:break;case n2.BACKGROUND:for(let a=0;a<this._png.height;a++)for(let o=0;o<this._png.width;o++){const l=(a*n.width+o)*this._png.channels;for(let c=0;c<this._png.channels;c++)i.data[l+c]=0}break;case n2.PREVIOUS:i.data.set(r.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(n,r){const i=1<<this._png.depth,a=(o,l)=>{const c=((o+r.yOffset)*this._png.width+r.xOffset+l)*this._png.channels,u=(o*r.width+l)*this._png.channels;return{index:c,frameIndex:u}};switch(r.blendOp){case hP.SOURCE:for(let o=0;o<r.height;o++)for(let l=0;l<r.width;l++){const{index:c,frameIndex:u}=a(o,l);for(let f=0;f<this._png.channels;f++)n.data[c+f]=r.data[u+f]}break;case hP.OVER:for(let o=0;o<r.height;o++)for(let l=0;l<r.width;l++){const{index:c,frameIndex:u}=a(o,l);for(let f=0;f<this._png.channels;f++){const h=r.data[u+this._png.channels-1]/i,p=f%(this._png.channels-1)===0?1:r.data[u+f],m=Math.floor(h*p+(1-h)*n.data[c+f]);n.data[c+f]+=m}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var r;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const n=this._isAnimated?((r=this._frames)==null?void 0:r.at(0)).data:this._inflator.result;if(this._filterMethod!==aF.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===fP.NO_INTERLACE)this._png.data=rF({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===fP.ADAM7)this._png.data=h9e({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const n=this._inflator.result,r=this._frames.at(-1);r?r.data=n:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:n2.NONE,blendOp:hP.SOURCE,data:n}),this._inflator=new eF,this._writingDataChunks=!1}}function E9e(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}var sF;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"})(sF||(sF={}));function O9e(e,t){return new C9e(e,t).decode()}var jn=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function pP(){jn.console&&typeof jn.console.log=="function"&&jn.console.log.apply(jn.console,arguments)}var Ur={log:pP,warn:function(e){jn.console&&(typeof jn.console.warn=="function"?jn.console.warn.apply(jn.console,arguments):pP.call(null,arguments))},error:function(e){jn.console&&(typeof jn.console.error=="function"?jn.console.error.apply(jn.console,arguments):pP(e))}};function mP(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){gp(r.response,t,n)},r.onerror=function(){Ur.error("could not download file")},r.send()}function oF(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function r2(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var gp=jn.saveAs||((typeof window>"u"?"undefined":Lr(window))!=="object"||window!==jn?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,n){var r=jn.URL||jn.webkitURL,i=document.createElement("a");t=t||e.name||"download",i.download=t,i.rel="noopener",typeof e=="string"?(i.href=e,i.origin!==location.origin?oF(i.href)?mP(e,t,n):r2(i,i.target="_blank"):r2(i)):(i.href=r.createObjectURL(e),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){r2(i)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,n){if(t=t||e.name||"download",typeof e=="string")if(oF(e))mP(e,t,n);else{var r=document.createElement("a");r.href=e,r.target="_blank",setTimeout(function(){r2(r)})}else navigator.msSaveOrOpenBlob(function(i,a){return a===void 0?a={autoBom:!1}:Lr(a)!=="object"&&(Ur.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(e,n),t)}:function(e,t,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof e=="string")return mP(e,t,n);var i=e.type==="application/octet-stream",a=/constructor/i.test(jn.HTMLElement)||jn.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&a)&&(typeof FileReader>"u"?"undefined":Lr(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var f=l.result;f=o?f:f.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=f:location=f,r=null},l.readAsDataURL(e)}else{var c=jn.URL||jn.webkitURL,u=c.createObjectURL(e);r?r.location=u:location.href=u,r=null,setTimeout(function(){c.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function Xee(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,a=n[r].process,o=i.exec(e);o&&(t=a(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),u=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),u.length==1&&(u="0"+u),"#"+l+c+u}}var D2=jn.atob.bind(jn),lF=jn.btoa.bind(jn);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function gP(e,t){var n=e[0],r=e[1],i=e[2],a=e[3];n=ms(n,r,i,a,t[0],7,-680876936),a=ms(a,n,r,i,t[1],12,-389564586),i=ms(i,a,n,r,t[2],17,606105819),r=ms(r,i,a,n,t[3],22,-1044525330),n=ms(n,r,i,a,t[4],7,-176418897),a=ms(a,n,r,i,t[5],12,1200080426),i=ms(i,a,n,r,t[6],17,-1473231341),r=ms(r,i,a,n,t[7],22,-45705983),n=ms(n,r,i,a,t[8],7,1770035416),a=ms(a,n,r,i,t[9],12,-1958414417),i=ms(i,a,n,r,t[10],17,-42063),r=ms(r,i,a,n,t[11],22,-1990404162),n=ms(n,r,i,a,t[12],7,1804603682),a=ms(a,n,r,i,t[13],12,-40341101),i=ms(i,a,n,r,t[14],17,-1502002290),n=gs(n,r=ms(r,i,a,n,t[15],22,1236535329),i,a,t[1],5,-165796510),a=gs(a,n,r,i,t[6],9,-1069501632),i=gs(i,a,n,r,t[11],14,643717713),r=gs(r,i,a,n,t[0],20,-373897302),n=gs(n,r,i,a,t[5],5,-701558691),a=gs(a,n,r,i,t[10],9,38016083),i=gs(i,a,n,r,t[15],14,-660478335),r=gs(r,i,a,n,t[4],20,-405537848),n=gs(n,r,i,a,t[9],5,568446438),a=gs(a,n,r,i,t[14],9,-1019803690),i=gs(i,a,n,r,t[3],14,-187363961),r=gs(r,i,a,n,t[8],20,1163531501),n=gs(n,r,i,a,t[13],5,-1444681467),a=gs(a,n,r,i,t[2],9,-51403784),i=gs(i,a,n,r,t[7],14,1735328473),n=vs(n,r=gs(r,i,a,n,t[12],20,-1926607734),i,a,t[5],4,-378558),a=vs(a,n,r,i,t[8],11,-2022574463),i=vs(i,a,n,r,t[11],16,1839030562),r=vs(r,i,a,n,t[14],23,-35309556),n=vs(n,r,i,a,t[1],4,-1530992060),a=vs(a,n,r,i,t[4],11,1272893353),i=vs(i,a,n,r,t[7],16,-155497632),r=vs(r,i,a,n,t[10],23,-1094730640),n=vs(n,r,i,a,t[13],4,681279174),a=vs(a,n,r,i,t[0],11,-358537222),i=vs(i,a,n,r,t[3],16,-722521979),r=vs(r,i,a,n,t[6],23,76029189),n=vs(n,r,i,a,t[9],4,-640364487),a=vs(a,n,r,i,t[12],11,-421815835),i=vs(i,a,n,r,t[15],16,530742520),n=ys(n,r=vs(r,i,a,n,t[2],23,-995338651),i,a,t[0],6,-198630844),a=ys(a,n,r,i,t[7],10,1126891415),i=ys(i,a,n,r,t[14],15,-1416354905),r=ys(r,i,a,n,t[5],21,-57434055),n=ys(n,r,i,a,t[12],6,1700485571),a=ys(a,n,r,i,t[3],10,-1894986606),i=ys(i,a,n,r,t[10],15,-1051523),r=ys(r,i,a,n,t[1],21,-2054922799),n=ys(n,r,i,a,t[8],6,1873313359),a=ys(a,n,r,i,t[15],10,-30611744),i=ys(i,a,n,r,t[6],15,-1560198380),r=ys(r,i,a,n,t[13],21,1309151649),n=ys(n,r,i,a,t[4],6,-145523070),a=ys(a,n,r,i,t[11],10,-1120210379),i=ys(i,a,n,r,t[2],15,718787259),r=ys(r,i,a,n,t[9],21,-343485551),e[0]=eh(n,e[0]),e[1]=eh(r,e[1]),e[2]=eh(i,e[2]),e[3]=eh(a,e[3])}function nS(e,t,n,r,i,a){return t=eh(eh(t,e),eh(r,a)),eh(t<<i|t>>>32-i,n)}function ms(e,t,n,r,i,a,o){return nS(t&n|~t&r,e,t,i,a,o)}function gs(e,t,n,r,i,a,o){return nS(t&r|n&~r,e,t,i,a,o)}function vs(e,t,n,r,i,a,o){return nS(t^n^r,e,t,i,a,o)}function ys(e,t,n,r,i,a,o){return nS(n^(t|~r),e,t,i,a,o)}function Yee(e){var t,n=e.length,r=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)gP(r,k9e(e.substring(t-64,t)));e=e.substring(t-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(gP(r,i),t=0;t<16;t++)i[t]=0;return i[14]=8*n,gP(r,i),r}function k9e(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}var cF="0123456789abcdef".split("");function T9e(e){for(var t="",n=0;n<4;n++)t+=cF[e>>8*n+4&15]+cF[e>>8*n&15];return t}function I9e(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function l4(e){return Yee(e).map(I9e).join("")}var L9e=function(e){for(var t=0;t<e.length;t++)e[t]=T9e(e[t]);return e.join("")}(Yee("hello"))!="5d41402abc4b2a76b9719d911017c592";function eh(e,t){if(L9e){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function c4(e,t){var n,r,i,a;if(e!==n){for(var o=(i=e,a=1+(256/e.length|0),new Array(a+1).join(i)),l=[],c=0;c<256;c++)l[c]=c;var u=0;for(c=0;c<256;c++){var f=l[c];u=(u+f+o.charCodeAt(c))%256,l[c]=l[u],l[u]=f}n=e,r=l}else l=r;var h=t.length,p=0,m=0,x="";for(c=0;c<h;c++)m=(m+(f=l[p=(p+1)%256]))%256,l[p]=l[m],l[m]=f,o=l[(l[p]+l[m])%256],x+=String.fromCharCode(t.charCodeAt(c)^o);return x}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var uF={print:4,modify:8,copy:16,"annot-forms":32};function og(e,t,n,r){this.v=1,this.r=2;var i=192;e.forEach(function(l){if(uF.perm!==void 0)throw new Error("Invalid permission: "+l);i+=uF[l]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var a=(t+this.padding).substr(0,32),o=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,o),this.P=-(1+(255^i)),this.encryptionKey=l4(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=c4(this.encryptionKey,this.padding)}function lg(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",n=e.length,r=0;r<n;r++){var i=e.charCodeAt(r);t+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):e[r]}return t}function dF(e){if(Lr(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(n)||(t[n]={});var a=Math.random().toString(35);return t[n][a]=[r,!!i],a},this.unsubscribe=function(n){for(var r in t)if(t[r][n])return delete t[r][n],Object.keys(t[r]).length===0&&delete t[r],!0;return!1},this.publish=function(n){if(t.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var a in t[n]){var o=t[n][a];try{o[0].apply(e,r)}catch(l){jn.console&&Ur.error("jsPDF PubSub Error",l.message,l)}o[1]&&i.push(a)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function J5(e){if(!(this instanceof J5))return new J5(e);var t="opacity,stroke-opacity".split(",");for(var n in e)e.hasOwnProperty(n)&&t.indexOf(n)>=0&&(this[n]=e[n]);this.id="",this.objectNumber=-1}function Qee(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function xp(e,t,n,r,i){if(!(this instanceof xp))return new xp(e,t,n,r,i);this.type=e==="axial"?2:3,this.coords=t,this.colors=n,Qee.call(this,r,i)}function Ig(e,t,n,r,i){if(!(this instanceof Ig))return new Ig(e,t,n,r,i);this.boundingBox=e,this.xStep=t,this.yStep=n,this.stream="",this.cloneIndex=0,Qee.call(this,r,i)}function tn(e){var t,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],a=arguments[3],o=[],l=1,c=16,u="S",f=null;Lr(e=e||{})==="object"&&(n=e.orientation,r=e.unit||r,i=e.format||i,a=e.compress||e.compressPdf||a,(f=e.encryption||null)!==null&&(f.userPassword=f.userPassword||"",f.ownerPassword=f.ownerPassword||"",f.userPermissions=f.userPermissions||[]),l=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(c=e.floatPrecision),u=e.defaultPathOperation||"S"),o=e.filters||(a===!0?["FlateEncode"]:o),r=r||"mm",n=(""+(n||"P")).toLowerCase();var h=e.putOnlyUsedFonts||!1,p={},m={internal:{},__private__:{}};m.__private__.PubSub=dF;var x="1.3",v=m.__private__.getPdfVersion=function(){return x};m.__private__.setPdfVersion=function(R){x=R};var y={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};m.__private__.getPageFormats=function(){return y};var b=m.__private__.getPageFormat=function(R){return y[R]};i=i||"a4";var w="compat",j="advanced",P=w;function A(){this.saveGraphicsState(),ce(new Et(St,0,0,-St,0,Ps()*St).toString()+" cm"),this.setFontSize(this.getFontSize()/St),u="n",P=j}function E(){this.restoreGraphicsState(),u="S",P=w}var O=m.__private__.combineFontStyleAndFontWeight=function(R,K){if(R=="bold"&&K=="normal"||R=="bold"&&K==400||R=="normal"&&K=="italic"||R=="bold"&&K=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return K&&(R=K==400||K==="normal"?R==="italic"?"italic":"normal":K!=700&&K!=="bold"||R!=="normal"?(K==700?"bold":K)+""+R:"bold"),R};m.advancedAPI=function(R){var K=P===w;return K&&A.call(this),typeof R!="function"||(R(this),K&&E.call(this)),this},m.compatAPI=function(R){var K=P===j;return K&&E.call(this),typeof R!="function"||(R(this),K&&A.call(this)),this},m.isAdvancedAPI=function(){return P===j};var I,D=function(R){if(P!==j)throw new Error(R+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},z=m.roundToPrecision=m.__private__.roundToPrecision=function(R,K){var he=t||K;if(isNaN(R)||isNaN(he))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return R.toFixed(he).replace(/0+$/,"")};I=m.hpf=m.__private__.hpf=typeof c=="number"?function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.hpf");return z(R,c)}:c==="smart"?function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.hpf");return z(R,R>-1&&R<1?16:5)}:function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.hpf");return z(R,16)};var T=m.f2=m.__private__.f2=function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.f2");return z(R,2)},k=m.__private__.f3=function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.f3");return z(R,3)},F=m.scale=m.__private__.scale=function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.scale");return P===w?R*St:P===j?R:void 0},B=function(R){return F(function(K){return P===w?Ps()-K:P===j?K:void 0}(R))};m.__private__.setPrecision=m.setPrecision=function(R){typeof parseInt(R,10)=="number"&&(t=parseInt(R,10))};var H,X="00000000000000000000000000000000",ae=m.__private__.getFileId=function(){return X},W=m.__private__.setFileId=function(R){return X=R!==void 0&&/^[a-fA-F0-9]{32}$/.test(R)?R.toUpperCase():X.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),f!==null&&(Wr=new og(f.userPermissions,f.userPassword,f.ownerPassword,X)),X};m.setFileId=function(R){return W(R),this},m.getFileId=function(){return ae()};var te=m.__private__.convertDateToPDFDate=function(R){var K=R.getTimezoneOffset(),he=K<0?"+":"-",je=Math.floor(Math.abs(K/60)),ke=Math.abs(K%60),Ke=[he,Q(je),"'",Q(ke),"'"].join("");return["D:",R.getFullYear(),Q(R.getMonth()+1),Q(R.getDate()),Q(R.getHours()),Q(R.getMinutes()),Q(R.getSeconds()),Ke].join("")},ue=m.__private__.convertPDFDateToDate=function(R){var K=parseInt(R.substr(2,4),10),he=parseInt(R.substr(6,2),10)-1,je=parseInt(R.substr(8,2),10),ke=parseInt(R.substr(10,2),10),Ke=parseInt(R.substr(12,2),10),Qe=parseInt(R.substr(14,2),10);return new Date(K,he,je,ke,Ke,Qe,0)},ye=m.__private__.setCreationDate=function(R){var K;if(R===void 0&&(R=new Date),R instanceof Date)K=te(R);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(R))throw new Error("Invalid argument passed to jsPDF.setCreationDate");K=R}return H=K},V=m.__private__.getCreationDate=function(R){var K=H;return R==="jsDate"&&(K=ue(H)),K};m.setCreationDate=function(R){return ye(R),this},m.getCreationDate=function(R){return V(R)};var ee,Q=m.__private__.padd2=function(R){return("0"+parseInt(R)).slice(-2)},de=m.__private__.padd2Hex=function(R){return("00"+(R=R.toString())).substr(R.length)},le=0,ve=[],Z=[],ne=0,ge=[],Ee=[],be=!1,Ue=Z;m.__private__.setCustomOutputDestination=function(R){be=!0,Ue=R};var Pe=function(R){be||(Ue=R)};m.__private__.resetCustomOutputDestination=function(){be=!1,Ue=Z};var ce=m.__private__.out=function(R){return R=R.toString(),ne+=R.length+1,Ue.push(R),Ue},it=m.__private__.write=function(R){return ce(arguments.length===1?R.toString():Array.prototype.join.call(arguments," "))},_t=m.__private__.getArrayBuffer=function(R){for(var K=R.length,he=new ArrayBuffer(K),je=new Uint8Array(he);K--;)je[K]=R.charCodeAt(K);return he},gt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];m.__private__.getStandardFonts=function(){return gt};var Ye=e.fontSize||16;m.__private__.setFontSize=m.setFontSize=function(R){return Ye=P===j?R/St:R,this};var mt,ct=m.__private__.getFontSize=m.getFontSize=function(){return P===w?Ye:Ye*St},fe=e.R2L||!1;m.__private__.setR2L=m.setR2L=function(R){return fe=R,this},m.__private__.getR2L=m.getR2L=function(){return fe};var Ne,Ie=m.__private__.setZoomMode=function(R){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(R))mt=R;else if(isNaN(R)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(R)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+R+'" is not recognized.');mt=R}else mt=parseInt(R,10)};m.__private__.getZoomMode=function(){return mt};var He,Be=m.__private__.setPageMode=function(R){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(R)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+R+'" is not recognized.');Ne=R};m.__private__.getPageMode=function(){return Ne};var ze=m.__private__.setLayoutMode=function(R){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(R)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+R+'" is not recognized.');He=R};m.__private__.getLayoutMode=function(){return He},m.__private__.setDisplayMode=m.setDisplayMode=function(R,K,he){return Ie(R),ze(K),Be(he),this};var Ge={title:"",subject:"",author:"",keywords:"",creator:""};m.__private__.getDocumentProperty=function(R){if(Object.keys(Ge).indexOf(R)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Ge[R]},m.__private__.getDocumentProperties=function(){return Ge},m.__private__.setDocumentProperties=m.setProperties=m.setDocumentProperties=function(R){for(var K in Ge)Ge.hasOwnProperty(K)&&R[K]&&(Ge[K]=R[K]);return this},m.__private__.setDocumentProperty=function(R,K){if(Object.keys(Ge).indexOf(R)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Ge[R]=K};var st,St,vt,Gn,Cn,Ot={},en={},Tn=[],Ut={},$t={},cn={},wn={},Ae=null,Fe=0,tt=[],ut=new dF(m),Nn=e.hotfixes||[],dn={},Rn={},Xn=[],Et=function R(K,he,je,ke,Ke,Qe){if(!(this instanceof R))return new R(K,he,je,ke,Ke,Qe);isNaN(K)&&(K=1),isNaN(he)&&(he=0),isNaN(je)&&(je=0),isNaN(ke)&&(ke=1),isNaN(Ke)&&(Ke=0),isNaN(Qe)&&(Qe=0),this._matrix=[K,he,je,ke,Ke,Qe]};Object.defineProperty(Et.prototype,"sx",{get:function(){return this._matrix[0]},set:function(R){this._matrix[0]=R}}),Object.defineProperty(Et.prototype,"shy",{get:function(){return this._matrix[1]},set:function(R){this._matrix[1]=R}}),Object.defineProperty(Et.prototype,"shx",{get:function(){return this._matrix[2]},set:function(R){this._matrix[2]=R}}),Object.defineProperty(Et.prototype,"sy",{get:function(){return this._matrix[3]},set:function(R){this._matrix[3]=R}}),Object.defineProperty(Et.prototype,"tx",{get:function(){return this._matrix[4]},set:function(R){this._matrix[4]=R}}),Object.defineProperty(Et.prototype,"ty",{get:function(){return this._matrix[5]},set:function(R){this._matrix[5]=R}}),Object.defineProperty(Et.prototype,"a",{get:function(){return this._matrix[0]},set:function(R){this._matrix[0]=R}}),Object.defineProperty(Et.prototype,"b",{get:function(){return this._matrix[1]},set:function(R){this._matrix[1]=R}}),Object.defineProperty(Et.prototype,"c",{get:function(){return this._matrix[2]},set:function(R){this._matrix[2]=R}}),Object.defineProperty(Et.prototype,"d",{get:function(){return this._matrix[3]},set:function(R){this._matrix[3]=R}}),Object.defineProperty(Et.prototype,"e",{get:function(){return this._matrix[4]},set:function(R){this._matrix[4]=R}}),Object.defineProperty(Et.prototype,"f",{get:function(){return this._matrix[5]},set:function(R){this._matrix[5]=R}}),Object.defineProperty(Et.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Et.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Et.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Et.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Et.prototype.join=function(R){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(I).join(R)},Et.prototype.multiply=function(R){var K=R.sx*this.sx+R.shy*this.shx,he=R.sx*this.shy+R.shy*this.sy,je=R.shx*this.sx+R.sy*this.shx,ke=R.shx*this.shy+R.sy*this.sy,Ke=R.tx*this.sx+R.ty*this.shx+this.tx,Qe=R.tx*this.shy+R.ty*this.sy+this.ty;return new Et(K,he,je,ke,Ke,Qe)},Et.prototype.decompose=function(){var R=this.sx,K=this.shy,he=this.shx,je=this.sy,ke=this.tx,Ke=this.ty,Qe=Math.sqrt(R*R+K*K),Ft=(R/=Qe)*he+(K/=Qe)*je;he-=R*Ft,je-=K*Ft;var Vt=Math.sqrt(he*he+je*je);return Ft/=Vt,R*(je/=Vt)<K*(he/=Vt)&&(R=-R,K=-K,Ft=-Ft,Qe=-Qe),{scale:new Et(Qe,0,0,Vt,0,0),translate:new Et(1,0,0,1,ke,Ke),rotate:new Et(R,K,-K,R,0,0),skew:new Et(1,0,Ft,1,0,0)}},Et.prototype.toString=function(R){return this.join(" ")},Et.prototype.inversed=function(){var R=this.sx,K=this.shy,he=this.shx,je=this.sy,ke=this.tx,Ke=this.ty,Qe=1/(R*je-K*he),Ft=je*Qe,Vt=-K*Qe,nn=-he*Qe,An=R*Qe;return new Et(Ft,Vt,nn,An,-Ft*ke-nn*Ke,-Vt*ke-An*Ke)},Et.prototype.applyToPoint=function(R){var K=R.x*this.sx+R.y*this.shx+this.tx,he=R.x*this.shy+R.y*this.sy+this.ty;return new ld(K,he)},Et.prototype.applyToRectangle=function(R){var K=this.applyToPoint(R),he=this.applyToPoint(new ld(R.x+R.w,R.y+R.h));return new sf(K.x,K.y,he.x-K.x,he.y-K.y)},Et.prototype.clone=function(){var R=this.sx,K=this.shy,he=this.shx,je=this.sy,ke=this.tx,Ke=this.ty;return new Et(R,K,he,je,ke,Ke)},m.Matrix=Et;var pr=m.matrixMult=function(R,K){return K.multiply(R)},xi=new Et(1,0,0,1,0,0);m.unitMatrix=m.identityMatrix=xi;var $r=function(R,K){if(!$t[R]){var he=(K instanceof xp?"Sh":"P")+(Object.keys(Ut).length+1).toString(10);K.id=he,$t[R]=he,Ut[he]=K,ut.publish("addPattern",K)}};m.ShadingPattern=xp,m.TilingPattern=Ig,m.addShadingPattern=function(R,K){return D("addShadingPattern()"),$r(R,K),this},m.beginTilingPattern=function(R){D("beginTilingPattern()"),Yh(R.boundingBox[0],R.boundingBox[1],R.boundingBox[2]-R.boundingBox[0],R.boundingBox[3]-R.boundingBox[1],R.matrix)},m.endTilingPattern=function(R,K){D("endTilingPattern()"),K.stream=Ee[ee].join(`
`),$r(R,K),ut.publish("endTilingPattern",K),Xn.pop().restore()};var Vr,$n=m.__private__.newObject=function(){var R=bt();return ar(R,!0),R},bt=m.__private__.newObjectDeferred=function(){return le++,ve[le]=function(){return ne},le},ar=function(R,K){return K=typeof K=="boolean"&&K,ve[R]=ne,K&&ce(R+" 0 obj"),R},ra=m.__private__.newAdditionalObject=function(){var R={objId:bt(),content:""};return ge.push(R),R},Ci=bt(),qa=bt(),Va=m.__private__.decodeColorString=function(R){var K=R.split(" ");if(K.length!==2||K[1]!=="g"&&K[1]!=="G")K.length!==5||K[4]!=="k"&&K[4]!=="K"||(K=[(1-K[0])*(1-K[3]),(1-K[1])*(1-K[3]),(1-K[2])*(1-K[3]),"r"]);else{var he=parseFloat(K[0]);K=[he,he,he,"r"]}for(var je="#",ke=0;ke<3;ke++)je+=("0"+Math.floor(255*parseFloat(K[ke])).toString(16)).slice(-2);return je},Wa=m.__private__.encodeColorString=function(R){var K;typeof R=="string"&&(R={ch1:R});var he=R.ch1,je=R.ch2,ke=R.ch3,Ke=R.ch4,Qe=R.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof he=="string"&&he.charAt(0)!=="#"){var Ft=new Xee(he);if(Ft.ok)he=Ft.toHex();else if(!/^\d*\.?\d*$/.test(he))throw new Error('Invalid color "'+he+'" passed to jsPDF.encodeColorString.')}if(typeof he=="string"&&/^#[0-9A-Fa-f]{3}$/.test(he)&&(he="#"+he[1]+he[1]+he[2]+he[2]+he[3]+he[3]),typeof he=="string"&&/^#[0-9A-Fa-f]{6}$/.test(he)){var Vt=parseInt(he.substr(1),16);he=Vt>>16&255,je=Vt>>8&255,ke=255&Vt}if(je===void 0||Ke===void 0&&he===je&&je===ke)K=typeof he=="string"?he+" "+Qe[0]:R.precision===2?T(he/255)+" "+Qe[0]:k(he/255)+" "+Qe[0];else if(Ke===void 0||Lr(Ke)==="object"){if(Ke&&!isNaN(Ke.a)&&Ke.a===0)return["1.","1.","1.",Qe[1]].join(" ");K=typeof he=="string"?[he,je,ke,Qe[1]].join(" "):R.precision===2?[T(he/255),T(je/255),T(ke/255),Qe[1]].join(" "):[k(he/255),k(je/255),k(ke/255),Qe[1]].join(" ")}else K=typeof he=="string"?[he,je,ke,Ke,Qe[2]].join(" "):R.precision===2?[T(he),T(je),T(ke),T(Ke),Qe[2]].join(" "):[k(he),k(je),k(ke),k(Ke),Qe[2]].join(" ");return K},qi=m.__private__.getFilters=function(){return o},Pa=m.__private__.putStream=function(R){var K=(R=R||{}).data||"",he=R.filters||qi(),je=R.alreadyAppliedFilters||[],ke=R.addLength1||!1,Ke=K.length,Qe=R.objectId,Ft=function(Oi){return Oi};if(f!==null&&Qe===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");f!==null&&(Ft=Wr.encryptor(Qe,0));var Vt={};he===!0&&(he=["FlateEncode"]);var nn=R.additionalKeyValues||[],An=(Vt=tn.API.processDataByFilters!==void 0?tn.API.processDataByFilters(K,he):{data:K,reverseChain:[]}).reverseChain+(Array.isArray(je)?je.join(" "):je.toString());if(Vt.data.length!==0&&(nn.push({key:"Length",value:Vt.data.length}),ke===!0&&nn.push({key:"Length1",value:Ke})),An.length!=0)if(An.split("/").length-1==1)nn.push({key:"Filter",value:An});else{nn.push({key:"Filter",value:"["+An+"]"});for(var nr=0;nr<nn.length;nr+=1)if(nn[nr].key==="DecodeParms"){for(var Br=[],Ei=0;Ei<Vt.reverseChain.split("/").length-1;Ei+=1)Br.push("null");Br.push(nn[nr].value),nn[nr].value="["+Br.join(" ")+"]"}}ce("<<");for(var gr=0;gr<nn.length;gr++)ce("/"+nn[gr].key+" "+nn[gr].value);ce(">>"),Vt.data.length!==0&&(ce("stream"),ce(Ft(Vt.data)),ce("endstream"))},fl=m.__private__.putPage=function(R){var K=R.number,he=R.data,je=R.objId,ke=R.contentsObjId;ar(je,!0),ce("<</Type /Page"),ce("/Parent "+R.rootDictionaryObjId+" 0 R"),ce("/Resources "+R.resourceDictionaryObjId+" 0 R"),ce("/MediaBox ["+parseFloat(I(R.mediaBox.bottomLeftX))+" "+parseFloat(I(R.mediaBox.bottomLeftY))+" "+I(R.mediaBox.topRightX)+" "+I(R.mediaBox.topRightY)+"]"),R.cropBox!==null&&ce("/CropBox ["+I(R.cropBox.bottomLeftX)+" "+I(R.cropBox.bottomLeftY)+" "+I(R.cropBox.topRightX)+" "+I(R.cropBox.topRightY)+"]"),R.bleedBox!==null&&ce("/BleedBox ["+I(R.bleedBox.bottomLeftX)+" "+I(R.bleedBox.bottomLeftY)+" "+I(R.bleedBox.topRightX)+" "+I(R.bleedBox.topRightY)+"]"),R.trimBox!==null&&ce("/TrimBox ["+I(R.trimBox.bottomLeftX)+" "+I(R.trimBox.bottomLeftY)+" "+I(R.trimBox.topRightX)+" "+I(R.trimBox.topRightY)+"]"),R.artBox!==null&&ce("/ArtBox ["+I(R.artBox.bottomLeftX)+" "+I(R.artBox.bottomLeftY)+" "+I(R.artBox.topRightX)+" "+I(R.artBox.topRightY)+"]"),typeof R.userUnit=="number"&&R.userUnit!==1&&ce("/UserUnit "+R.userUnit),ut.publish("putPage",{objId:je,pageContext:tt[K],pageNumber:K,page:he}),ce("/Contents "+ke+" 0 R"),ce(">>"),ce("endobj");var Ke=he.join(`
`);return P===j&&(Ke+=`
Q`),ar(ke,!0),Pa({data:Ke,filters:qi(),objectId:ke}),ce("endobj"),je},As=m.__private__.putPages=function(){var R,K,he=[];for(R=1;R<=Fe;R++)tt[R].objId=bt(),tt[R].contentsObjId=bt();for(R=1;R<=Fe;R++)he.push(fl({number:R,data:Ee[R],objId:tt[R].objId,contentsObjId:tt[R].contentsObjId,mediaBox:tt[R].mediaBox,cropBox:tt[R].cropBox,bleedBox:tt[R].bleedBox,trimBox:tt[R].trimBox,artBox:tt[R].artBox,userUnit:tt[R].userUnit,rootDictionaryObjId:Ci,resourceDictionaryObjId:qa}));ar(Ci,!0),ce("<</Type /Pages");var je="/Kids [";for(K=0;K<Fe;K++)je+=he[K]+" 0 R ";ce(je+"]"),ce("/Count "+Fe),ce(">>"),ce("endobj"),ut.publish("postPutPages")},Re=function(R){ut.publish("putFont",{font:R,out:ce,newObject:$n,putStream:Pa}),R.isAlreadyPutted!==!0&&(R.objectNumber=$n(),ce("<<"),ce("/Type /Font"),ce("/BaseFont /"+lg(R.postScriptName)),ce("/Subtype /Type1"),typeof R.encoding=="string"&&ce("/Encoding /"+R.encoding),ce("/FirstChar 32"),ce("/LastChar 255"),ce(">>"),ce("endobj"))},at=function(R){R.objectNumber=$n();var K=[];K.push({key:"Type",value:"/XObject"}),K.push({key:"Subtype",value:"/Form"}),K.push({key:"BBox",value:"["+[I(R.x),I(R.y),I(R.x+R.width),I(R.y+R.height)].join(" ")+"]"}),K.push({key:"Matrix",value:"["+R.matrix.toString()+"]"});var he=R.pages[1].join(`
`);Pa({data:he,additionalKeyValues:K,objectId:R.objectNumber}),ce("endobj")},qt=function(R,K){K||(K=21);var he=$n(),je=function(Qe,Ft){var Vt,nn=[],An=1/(Ft-1);for(Vt=0;Vt<1;Vt+=An)nn.push(Vt);if(nn.push(1),Qe[0].offset!=0){var nr={offset:0,color:Qe[0].color};Qe.unshift(nr)}if(Qe[Qe.length-1].offset!=1){var Br={offset:1,color:Qe[Qe.length-1].color};Qe.push(Br)}for(var Ei="",gr=0,Oi=0;Oi<nn.length;Oi++){for(Vt=nn[Oi];Vt>Qe[gr+1].offset;)gr++;var ki=Qe[gr].offset,ha=(Vt-ki)/(Qe[gr+1].offset-ki),Oo=Qe[gr].color,su=Qe[gr+1].color;Ei+=de(Math.round((1-ha)*Oo[0]+ha*su[0]).toString(16))+de(Math.round((1-ha)*Oo[1]+ha*su[1]).toString(16))+de(Math.round((1-ha)*Oo[2]+ha*su[2]).toString(16))}return Ei.trim()}(R.colors,K),ke=[];ke.push({key:"FunctionType",value:"0"}),ke.push({key:"Domain",value:"[0.0 1.0]"}),ke.push({key:"Size",value:"["+K+"]"}),ke.push({key:"BitsPerSample",value:"8"}),ke.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ke.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Pa({data:je,additionalKeyValues:ke,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:he}),ce("endobj"),R.objectNumber=$n(),ce("<< /ShadingType "+R.type),ce("/ColorSpace /DeviceRGB");var Ke="/Coords ["+I(parseFloat(R.coords[0]))+" "+I(parseFloat(R.coords[1]))+" ";R.type===2?Ke+=I(parseFloat(R.coords[2]))+" "+I(parseFloat(R.coords[3])):Ke+=I(parseFloat(R.coords[2]))+" "+I(parseFloat(R.coords[3]))+" "+I(parseFloat(R.coords[4]))+" "+I(parseFloat(R.coords[5])),ce(Ke+="]"),R.matrix&&ce("/Matrix ["+R.matrix.toString()+"]"),ce("/Function "+he+" 0 R"),ce("/Extend [true true]"),ce(">>"),ce("endobj")},mn=function(R,K){var he=bt(),je=$n();K.push({resourcesOid:he,objectOid:je}),R.objectNumber=je;var ke=[];ke.push({key:"Type",value:"/Pattern"}),ke.push({key:"PatternType",value:"1"}),ke.push({key:"PaintType",value:"1"}),ke.push({key:"TilingType",value:"1"}),ke.push({key:"BBox",value:"["+R.boundingBox.map(I).join(" ")+"]"}),ke.push({key:"XStep",value:I(R.xStep)}),ke.push({key:"YStep",value:I(R.yStep)}),ke.push({key:"Resources",value:he+" 0 R"}),R.matrix&&ke.push({key:"Matrix",value:"["+R.matrix.toString()+"]"}),Pa({data:R.stream,additionalKeyValues:ke,objectId:R.objectNumber}),ce("endobj")},un=function(R){for(var K in R.objectNumber=$n(),ce("<<"),R)switch(K){case"opacity":ce("/ca "+T(R[K]));break;case"stroke-opacity":ce("/CA "+T(R[K]))}ce(">>"),ce("endobj")},kt=function(R){ar(R.resourcesOid,!0),ce("<<"),ce("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var K in ce("/Font <<"),Ot)Ot.hasOwnProperty(K)&&(h===!1||h===!0&&p.hasOwnProperty(K))&&ce("/"+K+" "+Ot[K].objectNumber+" 0 R");ce(">>")}(),function(){if(Object.keys(Ut).length>0){for(var K in ce("/Shading <<"),Ut)Ut.hasOwnProperty(K)&&Ut[K]instanceof xp&&Ut[K].objectNumber>=0&&ce("/"+K+" "+Ut[K].objectNumber+" 0 R");ut.publish("putShadingPatternDict"),ce(">>")}}(),function(K){if(Object.keys(Ut).length>0){for(var he in ce("/Pattern <<"),Ut)Ut.hasOwnProperty(he)&&Ut[he]instanceof m.TilingPattern&&Ut[he].objectNumber>=0&&Ut[he].objectNumber<K&&ce("/"+he+" "+Ut[he].objectNumber+" 0 R");ut.publish("putTilingPatternDict"),ce(">>")}}(R.objectOid),function(){if(Object.keys(cn).length>0){var K;for(K in ce("/ExtGState <<"),cn)cn.hasOwnProperty(K)&&cn[K].objectNumber>=0&&ce("/"+K+" "+cn[K].objectNumber+" 0 R");ut.publish("putGStateDict"),ce(">>")}}(),function(){for(var K in ce("/XObject <<"),dn)dn.hasOwnProperty(K)&&dn[K].objectNumber>=0&&ce("/"+K+" "+dn[K].objectNumber+" 0 R");ut.publish("putXobjectDict"),ce(">>")}(),ce(">>"),ce("endobj")},Ao=function(R){en[R.fontName]=en[R.fontName]||{},en[R.fontName][R.fontStyle]=R.id},rd=function(R,K,he,je,ke){var Ke={id:"F"+(Object.keys(Ot).length+1).toString(10),postScriptName:R,fontName:K,fontStyle:he,encoding:je,isStandardFont:ke||!1,metadata:{}};return ut.publish("addFont",{font:Ke,instance:this}),Ot[Ke.id]=Ke,Ao(Ke),Ke.id},Ha=m.__private__.pdfEscape=m.pdfEscape=function(R,K){return function(he,je){var ke,Ke,Qe,Ft,Vt,nn,An,nr,Br;if(Qe=(je=je||{}).sourceEncoding||"Unicode",Vt=je.outputEncoding,(je.autoencode||Vt)&&Ot[st].metadata&&Ot[st].metadata[Qe]&&Ot[st].metadata[Qe].encoding&&(Ft=Ot[st].metadata[Qe].encoding,!Vt&&Ot[st].encoding&&(Vt=Ot[st].encoding),!Vt&&Ft.codePages&&(Vt=Ft.codePages[0]),typeof Vt=="string"&&(Vt=Ft[Vt]),Vt)){for(An=!1,nn=[],ke=0,Ke=he.length;ke<Ke;ke++)(nr=Vt[he.charCodeAt(ke)])?nn.push(String.fromCharCode(nr)):nn.push(he[ke]),nn[ke].charCodeAt(0)>>8&&(An=!0);he=nn.join("")}for(ke=he.length;An===void 0&&ke!==0;)he.charCodeAt(ke-1)>>8&&(An=!0),ke--;if(!An)return he;for(nn=je.noBOM?[]:[254,255],ke=0,Ke=he.length;ke<Ke;ke++){if((Br=(nr=he.charCodeAt(ke))>>8)>>8)throw new Error("Character at position "+ke+" of string '"+he+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");nn.push(Br),nn.push(nr-(Br<<8))}return String.fromCharCode.apply(void 0,nn)}(R,K).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},eu=m.__private__.beginPage=function(R){Ee[++Fe]=[],tt[Fe]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(R[0]),topRightY:Number(R[1])}},Wh(Fe),Pe(Ee[ee])},tc=function(R,K){var he,je,ke;switch(n=K||n,typeof R=="string"&&(he=b(R.toLowerCase()),Array.isArray(he)&&(je=he[0],ke=he[1])),Array.isArray(R)&&(je=R[0]*St,ke=R[1]*St),isNaN(je)&&(je=i[0],ke=i[1]),(je>14400||ke>14400)&&(Ur.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),je=Math.min(14400,je),ke=Math.min(14400,ke)),i=[je,ke],n.substr(0,1)){case"l":ke>je&&(i=[ke,je]);break;case"p":je>ke&&(i=[ke,je])}eu(i),Sn(sd),ce(au),Xh!==0&&ce(Xh+" J"),af!==0&&ce(af+" j"),ut.publish("addPage",{pageNumber:Fe})},no=function(R){R>0&&R<=Fe&&(Ee.splice(R,1),tt.splice(R,1),Fe--,ee>Fe&&(ee=Fe),this.setPage(ee))},Wh=function(R){R>0&&R<=Fe&&(ee=R)},Hh=m.__private__.getNumberOfPages=m.getNumberOfPages=function(){return Ee.length-1},tu=function(R,K,he){var je,ke=void 0;return he=he||{},R=R!==void 0?R:Ot[st].fontName,K=K!==void 0?K:Ot[st].fontStyle,je=R.toLowerCase(),en[je]!==void 0&&en[je][K]!==void 0?ke=en[je][K]:en[R]!==void 0&&en[R][K]!==void 0?ke=en[R][K]:he.disableWarning===!1&&Ur.warn("Unable to look up font label for font '"+R+"', '"+K+"'. Refer to getFontList() for available fonts."),ke||he.noFallback||(ke=en.times[K])==null&&(ke=en.times.normal),ke},Kn=m.__private__.putInfo=function(){var R=$n(),K=function(je){return je};for(var he in f!==null&&(K=Wr.encryptor(R,0)),ce("<<"),ce("/Producer ("+Ha(K("jsPDF "+tn.version))+")"),Ge)Ge.hasOwnProperty(he)&&Ge[he]&&ce("/"+he.substr(0,1).toUpperCase()+he.substr(1)+" ("+Ha(K(Ge[he]))+")");ce("/CreationDate ("+Ha(K(H))+")"),ce(">>"),ce("endobj")},Fr=m.__private__.putCatalog=function(R){var K=(R=R||{}).rootDictionaryObjId||Ci;switch($n(),ce("<<"),ce("/Type /Catalog"),ce("/Pages "+K+" 0 R"),mt||(mt="fullwidth"),mt){case"fullwidth":ce("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ce("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ce("/OpenAction [3 0 R /Fit]");break;case"original":ce("/OpenAction [3 0 R /XYZ null null 1]");break;default:var he=""+mt;he.substr(he.length-1)==="%"&&(mt=parseInt(mt)/100),typeof mt=="number"&&ce("/OpenAction [3 0 R /XYZ null null "+T(mt)+"]")}switch(He||(He="continuous"),He){case"continuous":ce("/PageLayout /OneColumn");break;case"single":ce("/PageLayout /SinglePage");break;case"two":case"twoleft":ce("/PageLayout /TwoColumnLeft");break;case"tworight":ce("/PageLayout /TwoColumnRight")}Ne&&ce("/PageMode /"+Ne),ut.publish("putCatalog"),ce(">>"),ce("endobj")},Yr=m.__private__.putTrailer=function(){ce("trailer"),ce("<<"),ce("/Size "+(le+1)),ce("/Root "+le+" 0 R"),ce("/Info "+(le-1)+" 0 R"),f!==null&&ce("/Encrypt "+Wr.oid+" 0 R"),ce("/ID [ <"+X+"> <"+X+"> ]"),ce(">>")},nc=m.__private__.putHeader=function(){ce("%PDF-"+x),ce("%ºß¬à")},rc=m.__private__.putXRef=function(){var R="0000000000";ce("xref"),ce("0 "+(le+1)),ce("0000000000 65535 f ");for(var K=1;K<=le;K++)typeof ve[K]=="function"?ce((R+ve[K]()).slice(-10)+" 00000 n "):ve[K]!==void 0?ce((R+ve[K]).slice(-10)+" 00000 n "):ce("0000000000 00000 n ")},Po=m.__private__.buildDocument=function(){var R;le=0,ne=0,Z=[],ve=[],ge=[],Ci=bt(),qa=bt(),Pe(Z),ut.publish("buildDocument"),nc(),As(),function(){ut.publish("putAdditionalObjects");for(var he=0;he<ge.length;he++){var je=ge[he];ar(je.objId,!0),ce(je.content),ce("endobj")}ut.publish("postPutAdditionalObjects")}(),R=[],function(){for(var he in Ot)Ot.hasOwnProperty(he)&&(h===!1||h===!0&&p.hasOwnProperty(he))&&Re(Ot[he])}(),function(){var he;for(he in cn)cn.hasOwnProperty(he)&&un(cn[he])}(),function(){for(var he in dn)dn.hasOwnProperty(he)&&at(dn[he])}(),function(he){var je;for(je in Ut)Ut.hasOwnProperty(je)&&(Ut[je]instanceof xp?qt(Ut[je]):Ut[je]instanceof Ig&&mn(Ut[je],he))}(R),ut.publish("putResources"),R.forEach(kt),kt({resourcesOid:qa,objectOid:Number.MAX_SAFE_INTEGER}),ut.publish("postPutResources"),f!==null&&(Wr.oid=$n(),ce("<<"),ce("/Filter /Standard"),ce("/V "+Wr.v),ce("/R "+Wr.r),ce("/U <"+Wr.toHexString(Wr.U)+">"),ce("/O <"+Wr.toHexString(Wr.O)+">"),ce("/P "+Wr.P),ce(">>"),ce("endobj")),Kn(),Fr();var K=ne;return rc(),Yr(),ce("startxref"),ce(""+K),ce("%%EOF"),Pe(Ee[ee]),Z.join(`
`)},xn=m.__private__.getBlob=function(R){return new Blob([_t(R)],{type:"application/pdf"})},sr=m.output=m.__private__.output=(Vr=function(R,K){switch(typeof(K=K||{})=="string"?K={filename:K}:K.filename=K.filename||"generated.pdf",R){case void 0:return Po();case"save":m.save(K.filename);break;case"arraybuffer":return _t(Po());case"blob":return xn(Po());case"bloburi":case"bloburl":if(jn.URL!==void 0&&typeof jn.URL.createObjectURL=="function")return jn.URL&&jn.URL.createObjectURL(xn(Po()))||void 0;Ur.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var he="",je=Po();try{he=lF(je)}catch{he=lF(unescape(encodeURIComponent(je)))}return"data:application/pdf;filename="+K.filename+";base64,"+he;case"pdfobjectnewwindow":if(Object.prototype.toString.call(jn)==="[object Window]"){var ke="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ke=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';K.pdfObjectUrl&&(ke=K.pdfObjectUrl,Ke="");var Qe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ke+'"'+Ke+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(K)+");<\/script></body></html>",Ft=jn.open();return Ft!==null&&Ft.document.write(Qe),Ft}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(jn)==="[object Window]"){var Vt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(K.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+K.filename+'" width="500px" height="400px" /></body></html>',nn=jn.open();if(nn!==null){nn.document.write(Vt);var An=this;nn.document.documentElement.querySelector("#pdfViewer").onload=function(){nn.document.title=K.filename,nn.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(An.output("bloburl"))}}return nn}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(jn)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var nr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",K)+'"></iframe></body></html>',Br=jn.open();if(Br!==null&&(Br.document.write(nr),Br.document.title=K.filename),Br||typeof safari>"u")return Br;break;case"datauri":case"dataurl":return jn.document.location.href=this.output("datauristring",K);default:return null}},Vr.foo=function(){try{return Vr.apply(this,arguments)}catch(he){var R=he.stack||"";~R.indexOf(" at ")&&(R=R.split(" at ")[1]);var K="Error in function "+R.split(`
`)[0].split("<")[0]+": "+he.message;if(!jn.console)throw new Error(K);jn.console.error(K,he),jn.alert&&alert(K)}},Vr.foo.bar=Vr,Vr.foo),ic=function(R){return Array.isArray(Nn)===!0&&Nn.indexOf(R)>-1};switch(r){case"pt":St=1;break;case"mm":St=72/25.4;break;case"cm":St=72/2.54;break;case"in":St=72;break;case"px":St=ic("px_scaling")==1?.75:96/72;break;case"pc":case"em":St=12;break;case"ex":St=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);St=r}var Wr=null;ye(),W();var Ca=m.__private__.getPageInfo=m.getPageInfo=function(R){if(isNaN(R)||R%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:tt[R].objId,pageNumber:R,pageContext:tt[R]}},Hy=m.__private__.getPageInfoByObjId=function(R){if(isNaN(R)||R%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var K in tt)if(tt[K].objId===R)break;return Ca(K)},nf=m.__private__.getCurrentPageInfo=m.getCurrentPageInfo=function(){return{objId:tt[ee].objId,pageNumber:ee,pageContext:tt[ee]}};m.addPage=function(){return tc.apply(this,arguments),this},m.setPage=function(){return Wh.apply(this,arguments),Pe.call(this,Ee[ee]),this},m.insertPage=function(R){return this.addPage(),this.movePage(ee,R),this},m.movePage=function(R,K){var he,je;if(R>K){he=Ee[R],je=tt[R];for(var ke=R;ke>K;ke--)Ee[ke]=Ee[ke-1],tt[ke]=tt[ke-1];Ee[K]=he,tt[K]=je,this.setPage(K)}else if(R<K){he=Ee[R],je=tt[R];for(var Ke=R;Ke<K;Ke++)Ee[Ke]=Ee[Ke+1],tt[Ke]=tt[Ke+1];Ee[K]=he,tt[K]=je,this.setPage(K)}return this},m.deletePage=function(){return no.apply(this,arguments),this},m.__private__.text=m.text=function(R,K,he,je,ke){var Ke,Qe,Ft,Vt,nn,An,nr,Br,Ei,gr=(je=je||{}).scope||this;if(typeof R=="number"&&typeof K=="number"&&(typeof he=="string"||Array.isArray(he))){var Oi=he;he=K,K=R,R=Oi}if(arguments[3]instanceof Et==0?(Ft=arguments[4],Vt=arguments[5],Lr(nr=arguments[3])==="object"&&nr!==null||(typeof Ft=="string"&&(Vt=Ft,Ft=null),typeof nr=="string"&&(Vt=nr,nr=null),typeof nr=="number"&&(Ft=nr,nr=null),je={flags:nr,angle:Ft,align:Vt})):(D("The transform parameter of text() with a Matrix value"),Ei=ke),isNaN(K)||isNaN(he)||R==null)throw new Error("Invalid arguments passed to jsPDF.text");if(R.length===0)return gr;var ki,ha="",Oo=typeof je.lineHeightFactor=="number"?je.lineHeightFactor:iu,su=gr.internal.scaleFactor;function Im(or){return or=or.split("	").join(Array(je.TabLen||9).join(" ")),Ha(or,nr)}function Qh(or){for(var yr,Jr=or.concat(),hi=[],fc=Jr.length;fc--;)typeof(yr=Jr.shift())=="string"?hi.push(yr):Array.isArray(or)&&(yr.length===1||yr[1]===void 0&&yr[2]===void 0)?hi.push(yr[0]):hi.push([yr[0],yr[1],yr[2]]);return hi}function ml(or,yr){var Jr;if(typeof or=="string")Jr=yr(or)[0];else if(Array.isArray(or)){for(var hi,fc,hc=or.concat(),wl=[],uf=hc.length;uf--;)typeof(hi=hc.shift())=="string"?wl.push(yr(hi)[0]):Array.isArray(hi)&&typeof hi[0]=="string"&&(fc=yr(hi[0],hi[1],hi[2]),wl.push([fc[0],fc[1],fc[2]]));Jr=wl}return Jr}var pa=!1,Jh=!0;if(typeof R=="string")pa=!0;else if(Array.isArray(R)){var gl=R.concat();Qe=[];for(var Vi,Wi=gl.length;Wi--;)(typeof(Vi=gl.shift())!="string"||Array.isArray(Vi)&&typeof Vi[0]!="string")&&(Jh=!1);pa=Jh}if(pa===!1)throw new Error('Type of text must be string or Array. "'+R+'" is not recognized.');typeof R=="string"&&(R=R.match(/[\r?\n]/)?R.split(/\r\n|\r|\n/g):[R]);var vl=Ye/gr.internal.scaleFactor,dc=vl*(Oo-1);switch(je.baseline){case"bottom":he-=dc;break;case"top":he+=vl-dc;break;case"hanging":he+=vl-2*dc;break;case"middle":he+=vl/2-dc}if((An=je.maxWidth||0)>0&&(typeof R=="string"?R=gr.splitTextToSize(R,An):Object.prototype.toString.call(R)==="[object Array]"&&(R=R.reduce(function(or,yr){return or.concat(gr.splitTextToSize(yr,An))},[]))),Ke={text:R,x:K,y:he,options:je,mutex:{pdfEscape:Ha,activeFontKey:st,fonts:Ot,activeFontSize:Ye}},ut.publish("preProcessText",Ke),R=Ke.text,Ft=(je=Ke.options).angle,Ei instanceof Et==0&&Ft&&typeof Ft=="number"){Ft*=Math.PI/180,je.rotationDirection===0&&(Ft=-Ft),P===j&&(Ft=-Ft);var ou=Math.cos(Ft),cd=Math.sin(Ft);Ei=new Et(ou,cd,-cd,ou,0,0)}else Ft&&Ft instanceof Et&&(Ei=Ft);P!==j||Ei||(Ei=xi),(nn=je.charSpace||od)!==void 0&&(ha+=I(F(nn))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Br=je.horizontalScale)!==void 0&&(ha+=I(100*Br)+` Tz
`),je.lang;var Ka=-1,Lm=je.renderingMode!==void 0?je.renderingMode:je.stroke,ud=gr.internal.getCurrentPageInfo().pageContext;switch(Lm){case 0:case!1:case"fill":Ka=0;break;case 1:case!0:case"stroke":Ka=1;break;case 2:case"fillThenStroke":Ka=2;break;case 3:case"invisible":Ka=3;break;case 4:case"fillAndAddForClipping":Ka=4;break;case 5:case"strokeAndAddPathForClipping":Ka=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Ka=6;break;case 7:case"addToPathForClipping":Ka=7}var Mm=ud.usedRenderingMode!==void 0?ud.usedRenderingMode:-1;Ka!==-1?ha+=Ka+` Tr
`:Mm!==-1&&(ha+=`0 Tr
`),Ka!==-1&&(ud.usedRenderingMode=Ka),Vt=je.align||"left";var vr,ma=Ye*Oo,ep=gr.internal.pageSize.getWidth(),Cs=Ot[st];nn=je.charSpace||od,An=je.maxWidth||0,nr=Object.assign({autoencode:!0,noBOM:!0},je.flags);var lu=[],ko=function(or){return gr.getStringUnitWidth(or,{font:Cs,charSpace:nn,fontSize:Ye,doKerning:!1})*Ye/su};if(Object.prototype.toString.call(R)==="[object Array]"){var ls;Qe=Qh(R),Vt!=="left"&&(vr=Qe.map(ko));var ia,cu=0;if(Vt==="right"){K-=vr[0],R=[],Wi=Qe.length;for(var Es=0;Es<Wi;Es++)Es===0?(ia=Co(K),ls=Eo(he)):(ia=F(cu-vr[Es]),ls=-ma),R.push([Qe[Es],ia,ls]),cu=vr[Es]}else if(Vt==="center"){K-=vr[0]/2,R=[],Wi=Qe.length;for(var uu=0;uu<Wi;uu++)uu===0?(ia=Co(K),ls=Eo(he)):(ia=F((cu-vr[uu])/2),ls=-ma),R.push([Qe[uu],ia,ls]),cu=vr[uu]}else if(Vt==="left"){R=[],Wi=Qe.length;for(var oo=0;oo<Wi;oo++)R.push(Qe[oo])}else if(Vt==="justify"&&Cs.encoding==="Identity-H"){R=[],Wi=Qe.length,An=An!==0?An:ep;for(var To=0,bi=0;bi<Wi;bi++)if(ls=bi===0?Eo(he):-ma,ia=bi===0?Co(K):To,bi<Wi-1){var tp=F((An-vr[bi])/(Qe[bi].split(" ").length-1)),yl=Qe[bi].split(" ");R.push([yl[0]+" ",ia,ls]),To=0;for(var aa=1;aa<yl.length;aa++){var lf=(ko(yl[aa-1]+" "+yl[aa])-ko(yl[aa]))*su+tp;aa==yl.length-1?R.push([yl[aa],lf,0]):R.push([yl[aa]+" ",lf,0]),To-=lf}}else R.push([Qe[bi],ia,ls]);R.push(["",To,0])}else{if(Vt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(R=[],Wi=Qe.length,An=An!==0?An:ep,bi=0;bi<Wi;bi++)ls=bi===0?Eo(he):-ma,ia=bi===0?Co(K):0,bi<Wi-1?lu.push(I(F((An-vr[bi])/(Qe[bi].split(" ").length-1)))):lu.push(0),R.push([Qe[bi],ia,ls])}}(typeof je.R2L=="boolean"?je.R2L:fe)===!0&&(R=ml(R,function(or,yr,Jr){return[or.split("").reverse().join(""),yr,Jr]})),Ke={text:R,x:K,y:he,options:je,mutex:{pdfEscape:Ha,activeFontKey:st,fonts:Ot,activeFontSize:Ye}},ut.publish("postProcessText",Ke),R=Ke.text,ki=Ke.mutex.isHex||!1;var xl=Ot[st].encoding;xl!=="WinAnsiEncoding"&&xl!=="StandardEncoding"||(R=ml(R,function(or,yr,Jr){return[Im(or),yr,Jr]})),Qe=Qh(R),R=[];for(var cf,cs,bl,du=Array.isArray(Qe[0])?1:0,Io="",fu=function(or,yr,Jr){var hi="";return Jr instanceof Et?(Jr=typeof je.angle=="number"?pr(Jr,new Et(1,0,0,1,or,yr)):pr(new Et(1,0,0,1,or,yr),Jr),P===j&&(Jr=pr(new Et(1,0,0,-1,0,0),Jr)),hi=Jr.join(" ")+` Tm
`):hi=I(or)+" "+I(yr)+` Td
`,hi},Ga=0;Ga<Qe.length;Ga++){switch(Io="",du){case 1:bl=(ki?"<":"(")+Qe[Ga][0]+(ki?">":")"),cf=parseFloat(Qe[Ga][1]),cs=parseFloat(Qe[Ga][2]);break;case 0:bl=(ki?"<":"(")+Qe[Ga]+(ki?">":")"),cf=Co(K),cs=Eo(he)}lu!==void 0&&lu[Ga]!==void 0&&(Io=lu[Ga]+` Tw
`),Ga===0?R.push(Io+fu(cf,cs,Ei)+bl):du===0?R.push(Io+bl):du===1&&R.push(Io+fu(cf,cs,Ei)+bl)}R=du===0?R.join(` Tj
T* `):R.join(` Tj
`),R+=` Tj
`;var Os=`BT
/`;return Os+=st+" "+Ye+` Tf
`,Os+=I(Ye*Oo)+` TL
`,Os+=Qr+`
`,Os+=ha,Os+=R,ce(Os+="ET"),p[st]=!0,gr};var ac=m.__private__.clip=m.clip=function(R){return ce(R==="evenodd"?"W*":"W"),this};m.clipEvenOdd=function(){return ac("evenodd")},m.__private__.discardPath=m.discardPath=function(){return ce("n"),this};var mr=m.__private__.isValidStyle=function(R){var K=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(R)!==-1&&(K=!0),K};m.__private__.setDefaultPathOperation=m.setDefaultPathOperation=function(R){return mr(R)&&(u=R),this};var hl=m.__private__.getStyle=m.getStyle=function(R){var K=u;switch(R){case"D":case"S":K="S";break;case"F":K="f";break;case"FD":case"DF":K="B";break;case"f":case"f*":case"B":case"B*":K=R}return K},nu=m.close=function(){return ce("h"),this};m.stroke=function(){return ce("S"),this},m.fill=function(R){return ro("f",R),this},m.fillEvenOdd=function(R){return ro("f*",R),this},m.fillStroke=function(R){return ro("B",R),this},m.fillStrokeEvenOdd=function(R){return ro("B*",R),this};var ro=function(R,K){Lr(K)==="object"?Kh(K,R):ce(R)},id=function(R){R===null||P===j&&R===void 0||(R=hl(R),ce(R))};function ad(R,K,he,je,ke){var Ke=new Ig(K||this.boundingBox,he||this.xStep,je||this.yStep,this.gState,ke||this.matrix);Ke.stream=this.stream;var Qe=R+"$$"+this.cloneIndex+++"$$";return $r(Qe,Ke),Ke}var Kh=function(R,K){var he=$t[R.key],je=Ut[he];if(je instanceof xp)ce("q"),ce(Gh(K)),je.gState&&m.setGState(je.gState),ce(R.matrix.toString()+" cm"),ce("/"+he+" sh"),ce("Q");else if(je instanceof Ig){var ke=new Et(1,0,0,-1,0,Ps());R.matrix&&(ke=ke.multiply(R.matrix||xi),he=ad.call(je,R.key,R.boundingBox,R.xStep,R.yStep,ke).id),ce("q"),ce("/Pattern cs"),ce("/"+he+" scn"),je.gState&&m.setGState(je.gState),ce(K),ce("Q")}},Gh=function(R){switch(R){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},ru=m.moveTo=function(R,K){return ce(I(F(R))+" "+I(B(K))+" m"),this},sc=m.lineTo=function(R,K){return ce(I(F(R))+" "+I(B(K))+" l"),this},pl=m.curveTo=function(R,K,he,je,ke,Ke){return ce([I(F(R)),I(B(K)),I(F(he)),I(B(je)),I(F(ke)),I(B(Ke)),"c"].join(" ")),this};m.__private__.line=m.line=function(R,K,he,je,ke){if(isNaN(R)||isNaN(K)||isNaN(he)||isNaN(je)||!mr(ke))throw new Error("Invalid arguments passed to jsPDF.line");return P===w?this.lines([[he-R,je-K]],R,K,[1,1],ke||"S"):this.lines([[he-R,je-K]],R,K,[1,1]).stroke()},m.__private__.lines=m.lines=function(R,K,he,je,ke,Ke){var Qe,Ft,Vt,nn,An,nr,Br,Ei,gr,Oi,ki,ha;if(typeof R=="number"&&(ha=he,he=K,K=R,R=ha),je=je||[1,1],Ke=Ke||!1,isNaN(K)||isNaN(he)||!Array.isArray(R)||!Array.isArray(je)||!mr(ke)||typeof Ke!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(ru(K,he),Qe=je[0],Ft=je[1],nn=R.length,Oi=K,ki=he,Vt=0;Vt<nn;Vt++)(An=R[Vt]).length===2?(Oi=An[0]*Qe+Oi,ki=An[1]*Ft+ki,sc(Oi,ki)):(nr=An[0]*Qe+Oi,Br=An[1]*Ft+ki,Ei=An[2]*Qe+Oi,gr=An[3]*Ft+ki,Oi=An[4]*Qe+Oi,ki=An[5]*Ft+ki,pl(nr,Br,Ei,gr,Oi,ki));return Ke&&nu(),id(ke),this},m.path=function(R){for(var K=0;K<R.length;K++){var he=R[K],je=he.c;switch(he.op){case"m":ru(je[0],je[1]);break;case"l":sc(je[0],je[1]);break;case"c":pl.apply(this,je);break;case"h":nu()}}return this},m.__private__.rect=m.rect=function(R,K,he,je,ke){if(isNaN(R)||isNaN(K)||isNaN(he)||isNaN(je)||!mr(ke))throw new Error("Invalid arguments passed to jsPDF.rect");return P===w&&(je=-je),ce([I(F(R)),I(B(K)),I(F(he)),I(F(je)),"re"].join(" ")),id(ke),this},m.__private__.triangle=m.triangle=function(R,K,he,je,ke,Ke,Qe){if(isNaN(R)||isNaN(K)||isNaN(he)||isNaN(je)||isNaN(ke)||isNaN(Ke)||!mr(Qe))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[he-R,je-K],[ke-he,Ke-je],[R-ke,K-Ke]],R,K,[1,1],Qe,!0),this},m.__private__.roundedRect=m.roundedRect=function(R,K,he,je,ke,Ke,Qe){if(isNaN(R)||isNaN(K)||isNaN(he)||isNaN(je)||isNaN(ke)||isNaN(Ke)||!mr(Qe))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Ft=4/3*(Math.SQRT2-1);return ke=Math.min(ke,.5*he),Ke=Math.min(Ke,.5*je),this.lines([[he-2*ke,0],[ke*Ft,0,ke,Ke-Ke*Ft,ke,Ke],[0,je-2*Ke],[0,Ke*Ft,-ke*Ft,Ke,-ke,Ke],[2*ke-he,0],[-ke*Ft,0,-ke,-Ke*Ft,-ke,-Ke],[0,2*Ke-je],[0,-Ke*Ft,ke*Ft,-Ke,ke,-Ke]],R+ke,K,[1,1],Qe,!0),this},m.__private__.ellipse=m.ellipse=function(R,K,he,je,ke){if(isNaN(R)||isNaN(K)||isNaN(he)||isNaN(je)||!mr(ke))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ke=4/3*(Math.SQRT2-1)*he,Qe=4/3*(Math.SQRT2-1)*je;return ru(R+he,K),pl(R+he,K-Qe,R+Ke,K-je,R,K-je),pl(R-Ke,K-je,R-he,K-Qe,R-he,K),pl(R-he,K+Qe,R-Ke,K+je,R,K+je),pl(R+Ke,K+je,R+he,K+Qe,R+he,K),id(ke),this},m.__private__.circle=m.circle=function(R,K,he,je){if(isNaN(R)||isNaN(K)||isNaN(he)||!mr(je))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(R,K,he,he,je)},m.setFont=function(R,K,he){return he&&(K=O(K,he)),st=tu(R,K,{disableWarning:!1}),this};var rf=m.__private__.getFont=m.getFont=function(){return Ot[tu.apply(m,arguments)]};m.__private__.getFontList=m.getFontList=function(){var R,K,he={};for(R in en)if(en.hasOwnProperty(R))for(K in he[R]=[],en[R])en[R].hasOwnProperty(K)&&he[R].push(K);return he},m.addFont=function(R,K,he,je,ke){var Ke=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ke.indexOf(arguments[3])!==-1?ke=arguments[3]:arguments[3]&&Ke.indexOf(arguments[3])==-1&&(he=O(he,je)),rd.call(this,R,K,he,ke=ke||"Identity-H")};var iu,sd=e.lineWidth||.200025,_n=m.__private__.getLineWidth=m.getLineWidth=function(){return sd},Sn=m.__private__.setLineWidth=m.setLineWidth=function(R){return sd=R,ce(I(F(R))+" w"),this};m.__private__.setLineDash=tn.API.setLineDash=tn.API.setLineDashPattern=function(R,K){if(R=R||[],K=K||0,isNaN(K)||!Array.isArray(R))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return R=R.map(function(he){return I(F(he))}).join(" "),K=I(F(K)),ce("["+R+"] "+K+" d"),this};var io=m.__private__.getLineHeight=m.getLineHeight=function(){return Ye*iu};m.__private__.getLineHeight=m.getLineHeight=function(){return Ye*iu};var Nr=m.__private__.setLineHeightFactor=m.setLineHeightFactor=function(R){return typeof(R=R||1.15)=="number"&&(iu=R),this},km=m.__private__.getLineHeightFactor=m.getLineHeightFactor=function(){return iu};Nr(e.lineHeight);var Co=m.__private__.getHorizontalCoordinate=function(R){return F(R)},Eo=m.__private__.getVerticalCoordinate=function(R){return P===j?R:tt[ee].mediaBox.topRightY-tt[ee].mediaBox.bottomLeftY-F(R)},Zh=m.__private__.getHorizontalCoordinateString=m.getHorizontalCoordinateString=function(R){return I(Co(R))},oc=m.__private__.getVerticalCoordinateString=m.getVerticalCoordinateString=function(R){return I(Eo(R))},au=e.strokeColor||"0 G";m.__private__.getStrokeColor=m.getDrawColor=function(){return Va(au)},m.__private__.setStrokeColor=m.setDrawColor=function(R,K,he,je){return au=Wa({ch1:R,ch2:K,ch3:he,ch4:je,pdfColorType:"draw",precision:2}),ce(au),this};var lc=e.fillColor||"0 g";m.__private__.getFillColor=m.getFillColor=function(){return Va(lc)},m.__private__.setFillColor=m.setFillColor=function(R,K,he,je){return lc=Wa({ch1:R,ch2:K,ch3:he,ch4:je,pdfColorType:"fill",precision:2}),ce(lc),this};var Qr=e.textColor||"0 g",ao=m.__private__.getTextColor=m.getTextColor=function(){return Va(Qr)};m.__private__.setTextColor=m.setTextColor=function(R,K,he,je){return Qr=Wa({ch1:R,ch2:K,ch3:he,ch4:je,pdfColorType:"text",precision:3}),this};var od=e.charSpace,Tm=m.__private__.getCharSpace=m.getCharSpace=function(){return parseFloat(od||0)};m.__private__.setCharSpace=m.setCharSpace=function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return od=R,this};var Xh=0;m.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},m.__private__.setLineCap=m.setLineCap=function(R){var K=m.CapJoinStyles[R];if(K===void 0)throw new Error("Line cap style of '"+R+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Xh=K,ce(K+" J"),this};var af=0;m.__private__.setLineJoin=m.setLineJoin=function(R){var K=m.CapJoinStyles[R];if(K===void 0)throw new Error("Line join style of '"+R+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return af=K,ce(K+" j"),this},m.__private__.setLineMiterLimit=m.__private__.setMiterLimit=m.setLineMiterLimit=m.setMiterLimit=function(R){if(R=R||0,isNaN(R))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ce(I(F(R))+" M"),this},m.GState=J5,m.setGState=function(R){(R=typeof R=="string"?cn[wn[R]]:cc(null,R)).equals(Ae)||(ce("/"+R.id+" gs"),Ae=R)};var cc=function(R,K){if(!R||!wn[R]){var he=!1;for(var je in cn)if(cn.hasOwnProperty(je)&&cn[je].equals(K)){he=!0;break}if(he)K=cn[je];else{var ke="GS"+(Object.keys(cn).length+1).toString(10);cn[ke]=K,K.id=ke}return R&&(wn[R]=K.id),ut.publish("addGState",K),K}};m.addGState=function(R,K){return cc(R,K),this},m.saveGraphicsState=function(){return ce("q"),Tn.push({key:st,size:Ye,color:Qr}),this},m.restoreGraphicsState=function(){ce("Q");var R=Tn.pop();return st=R.key,Ye=R.size,Qr=R.color,Ae=null,this},m.setCurrentTransformationMatrix=function(R){return ce(R.toString()+" cm"),this},m.comment=function(R){return ce("#"+R),this};var ld=function(R,K){var he=R||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return he},set:function(Ke){isNaN(Ke)||(he=parseFloat(Ke))}});var je=K||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return je},set:function(Ke){isNaN(Ke)||(je=parseFloat(Ke))}});var ke="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ke},set:function(Ke){ke=Ke.toString()}}),this},sf=function(R,K,he,je){ld.call(this,R,K),this.type="rect";var ke=he||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ke},set:function(Qe){isNaN(Qe)||(ke=parseFloat(Qe))}});var Ke=je||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ke},set:function(Qe){isNaN(Qe)||(Ke=parseFloat(Qe))}}),this},Fn=function(){this.page=Fe,this.currentPage=ee,this.pages=Ee.slice(0),this.pagesContext=tt.slice(0),this.x=vt,this.y=Gn,this.matrix=Cn,this.width=uc(ee),this.height=Ps(ee),this.outputDestination=Ue,this.id="",this.objectNumber=-1};Fn.prototype.restore=function(){Fe=this.page,ee=this.currentPage,tt=this.pagesContext,Ee=this.pages,vt=this.x,Gn=this.y,Cn=this.matrix,of(ee,this.width),so(ee,this.height),Ue=this.outputDestination};var Yh=function(R,K,he,je,ke){Xn.push(new Fn),Fe=ee=0,Ee=[],vt=R,Gn=K,Cn=ke,eu([he,je])};for(var fa in m.beginFormObject=function(R,K,he,je,ke){return Yh(R,K,he,je,ke),this},m.endFormObject=function(R){return function(K){if(Rn[K])Xn.pop().restore();else{var he=new Fn,je="Xo"+(Object.keys(dn).length+1).toString(10);he.id=je,Rn[K]=je,dn[je]=he,ut.publish("addFormObject",he),Xn.pop().restore()}}(R),this},m.doFormObject=function(R,K){var he=dn[Rn[R]];return ce("q"),ce(K.toString()+" cm"),ce("/"+he.id+" Do"),ce("Q"),this},m.getFormObject=function(R){var K=dn[Rn[R]];return{x:K.x,y:K.y,width:K.width,height:K.height,matrix:K.matrix}},m.save=function(R,K){return R=R||"generated.pdf",(K=K||{}).returnPromise=K.returnPromise||!1,K.returnPromise===!1?(gp(xn(Po()),R),typeof gp.unload=="function"&&jn.setTimeout&&setTimeout(gp.unload,911),this):new Promise(function(he,je){try{var ke=gp(xn(Po()),R);typeof gp.unload=="function"&&jn.setTimeout&&setTimeout(gp.unload,911),he(ke)}catch(Ke){je(Ke.message)}})},tn.API)tn.API.hasOwnProperty(fa)&&(fa==="events"&&tn.API.events.length?function(R,K){var he,je,ke;for(ke=K.length-1;ke!==-1;ke--)he=K[ke][0],je=K[ke][1],R.subscribe.apply(R,[he].concat(typeof je=="function"?[je]:je))}(ut,tn.API.events):m[fa]=tn.API[fa]);var uc=m.getPageWidth=function(R){return(tt[R=R||ee].mediaBox.topRightX-tt[R].mediaBox.bottomLeftX)/St},of=m.setPageWidth=function(R,K){tt[R].mediaBox.topRightX=K*St+tt[R].mediaBox.bottomLeftX},Ps=m.getPageHeight=function(R){return(tt[R=R||ee].mediaBox.topRightY-tt[R].mediaBox.bottomLeftY)/St},so=m.setPageHeight=function(R,K){tt[R].mediaBox.topRightY=K*St+tt[R].mediaBox.bottomLeftY};return m.internal={pdfEscape:Ha,getStyle:hl,getFont:rf,getFontSize:ct,getCharSpace:Tm,getTextColor:ao,getLineHeight:io,getLineHeightFactor:km,getLineWidth:_n,write:it,getHorizontalCoordinate:Co,getVerticalCoordinate:Eo,getCoordinateString:Zh,getVerticalCoordinateString:oc,collections:{},newObject:$n,newAdditionalObject:ra,newObjectDeferred:bt,newObjectDeferredBegin:ar,getFilters:qi,putStream:Pa,events:ut,scaleFactor:St,pageSize:{getWidth:function(){return uc(ee)},setWidth:function(R){of(ee,R)},getHeight:function(){return Ps(ee)},setHeight:function(R){so(ee,R)}},encryptionOptions:f,encryption:Wr,getEncryptor:function(R){return f!==null?Wr.encryptor(R,0):function(K){return K}},output:sr,getNumberOfPages:Hh,pages:Ee,out:ce,f2:T,f3:k,getPageInfo:Ca,getPageInfoByObjId:Hy,getCurrentPageInfo:nf,getPDFVersion:v,Point:ld,Rectangle:sf,Matrix:Et,hasHotfix:ic},Object.defineProperty(m.internal.pageSize,"width",{get:function(){return uc(ee)},set:function(R){of(ee,R)},enumerable:!0,configurable:!0}),Object.defineProperty(m.internal.pageSize,"height",{get:function(){return Ps(ee)},set:function(R){so(ee,R)},enumerable:!0,configurable:!0}),(function(R){for(var K=0,he=gt.length;K<he;K++){var je=rd.call(this,R[K][0],R[K][1],R[K][2],gt[K][3],!0);h===!1&&(p[je]=!0);var ke=R[K][0].split("-");Ao({id:je,fontName:ke[0],fontStyle:ke[1]||""})}ut.publish("addFonts",{fonts:Ot,dictionary:en})}).call(m,gt),st="F1",tc(i,n),ut.publish("initialized"),m}og.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},og.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},og.prototype.hexToBytes=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(String.fromCharCode(parseInt(e.substr(n,2),16)));return t.join("")},og.prototype.processOwnerPassword=function(e,t){return c4(l4(t).substr(0,5),e)},og.prototype.encryptor=function(e,t){var n=l4(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(r){return c4(n,r)}},J5.prototype.equals=function(e){var t,n="id,objectNumber,equals";if(!e||Lr(e)!==Lr(this))return!1;var r=0;for(t in this)if(!(n.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;r++}for(t in e)e.hasOwnProperty(t)&&n.indexOf(t)<0&&r--;return r===0},tn.API={events:[]},tn.version="3.0.2";var Mi=tn.API,Z3=1,Om=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},tg=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},En=function(e){return e.toFixed(2)},jf=function(e){return e.toFixed(5)};Mi.__acroform__={};var So=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},fF=function(e){return e*Z3},vu=function(e){var t=new ete,n=zt.internal.getHeight(e)||0,r=zt.internal.getWidth(e)||0;return t.BBox=[0,0,Number(En(r)),Number(En(n))],t},M9e=Mi.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},D9e=Mi.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},R9e=Mi.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},Qi=Mi.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return R9e(e,t-1)},Ji=Mi.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return M9e(e,t-1)},ea=Mi.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return D9e(e,t-1)},$9e=Mi.__acroform__.calculateCoordinates=function(e,t){var n=t.internal.getHorizontalCoordinate,r=t.internal.getVerticalCoordinate,i=e[0],a=e[1],o=e[2],l=e[3],c={};return c.lowerLeft_X=n(i)||0,c.lowerLeft_Y=r(a+l)||0,c.upperRight_X=n(i+o)||0,c.upperRight_Y=r(a)||0,[Number(En(c.lowerLeft_X)),Number(En(c.lowerLeft_Y)),Number(En(c.upperRight_X)),Number(En(c.upperRight_Y))]},F9e=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],n=e._V||e.DV,r=u4(e,n),i=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+i+" "+En(r.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(r.text),t.push("ET"),t.push("Q"),t.push("EMC");var a=vu(e);return a.scope=e.scope,a.stream=t.join(`
`),a}},u4=function(e,t){var n=e.fontSize===0?e.maxFontSize:e.fontSize,r={text:"",fontSize:""},i=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");i=e.multiline?i.map(function(T){return T.split(`
`)}):i.map(function(T){return[T]});var a=n,o=zt.internal.getHeight(e)||0;o=o<0?-o:o;var l=zt.internal.getWidth(e)||0;l=l<0?-l:l;var c=function(T,k,F){if(T+1<i.length){var B=k+" "+i[T+1][0];return i2(B,e,F).width<=l-4}return!1};a++;e:for(;a>0;){t="",a--;var u,f,h=i2("3",e,a).height,p=e.multiline?o-a:(o-h)/2,m=p+=2,x=0,v=0,y=0;if(a<=0){t=`(...) Tj
`,t+="% Width of Text: "+i2(t,e,a=12).width+", FieldWidth:"+l+`
`;break}for(var b="",w=0,j=0;j<i.length;j++)if(i.hasOwnProperty(j)){var P=!1;if(i[j].length!==1&&y!==i[j].length-1){if((h+2)*(w+2)+2>o)continue e;b+=i[j][y],P=!0,v=j,j--}else{b=(b+=i[j][y]+" ").substr(b.length-1)==" "?b.substr(0,b.length-1):b;var A=parseInt(j),E=c(A,b,a),O=j>=i.length-1;if(E&&!O){b+=" ",y=0;continue}if(E||O){if(O)v=A;else if(e.multiline&&(h+2)*(w+2)+2>o)continue e}else{if(!e.multiline||(h+2)*(w+2)+2>o)continue e;v=A}}for(var I="",D=x;D<=v;D++){var z=i[D];if(e.multiline){if(D===v){I+=z[y]+" ",y=(y+1)%z.length;continue}if(D===x){I+=z[z.length-1]+" ";continue}}I+=z[0]+" "}switch(I=I.substr(I.length-1)==" "?I.substr(0,I.length-1):I,f=i2(I,e,a).width,e.textAlign){case"right":u=l-f-2;break;case"center":u=(l-f)/2;break;default:u=2}t+=En(u)+" "+En(m)+` Td
`,t+="("+Om(I)+`) Tj
`,t+=-En(u)+` 0 Td
`,m=-(a+2),f=0,x=P?v:v+1,w++,b=""}break}return r.text=t,r.fontSize=a,r},i2=function(e,t,n){var r=t.scope.internal.getFont(t.fontName,t.fontStyle),i=t.scope.getStringUnitWidth(e,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:t.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},B9e={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},z9e=function(e,t){var n={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(n)},U9e=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Yc.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(B9e)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Z3=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new tte,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var a=r[i];a.objId=void 0,a.hasAnnotation&&z9e(a,n)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(n){(function(r,i){var a=!r;for(var o in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(o)){var l=r[o],c=[],u=l.Rect;if(l.Rect&&(l.Rect=$9e(l.Rect,i)),i.internal.newObjectDeferredBegin(l.objId,!0),l.DA=zt.createDefaultAppearanceStream(l),Lr(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=u,l.hasAppearanceStream&&!l.appearanceStreamContent){var f=F9e(l);c.push({key:"AP",value:"<</N "+f+">>"}),i.internal.acroformPlugin.xForms.push(f)}if(l.appearanceStreamContent){var h="";for(var p in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(p)){var m=l.appearanceStreamContent[p];if(h+="/"+p+" ",h+="<<",Object.keys(m).length>=1||Array.isArray(m)){for(var o in m)if(m.hasOwnProperty(o)){var x=m[o];typeof x=="function"&&(x=x.call(i,l)),h+="/"+o+" "+x+" ",i.internal.acroformPlugin.xForms.indexOf(x)>=0||i.internal.acroformPlugin.xForms.push(x)}}else typeof(x=m)=="function"&&(x=x.call(i,l)),h+="/"+o+" "+x,i.internal.acroformPlugin.xForms.indexOf(x)>=0||i.internal.acroformPlugin.xForms.push(x);h+=">>"}c.push({key:"AP",value:`<<
`+h+">>"})}i.internal.putStream({additionalKeyValues:c,objectId:l.objId}),i.internal.out("endobj")}a&&function(v,y){for(var b in v)if(v.hasOwnProperty(b)){var w=b,j=v[b];y.internal.newObjectDeferredBegin(j.objId,!0),Lr(j)==="object"&&typeof j.putStream=="function"&&j.putStream(),delete v[w]}}(i.internal.acroformPlugin.xForms,i)})(n,e)}),e.internal.acroformPlugin.isInitialized=!0}},Jee=Mi.__acroform__.arrayToPdfArray=function(e,t,n){var r=function(o){return o};if(Array.isArray(e)){for(var i="[",a=0;a<e.length;a++)switch(a!==0&&(i+=" "),Lr(e[a])){case"boolean":case"number":case"object":i+=e[a].toString();break;case"string":e[a].substr(0,1)!=="/"?(t!==void 0&&n&&(r=n.internal.getEncryptor(t)),i+="("+Om(r(e[a].toString()))+")"):i+=e[a].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},vP=function(e,t,n){var r=function(i){return i};return t!==void 0&&n&&(r=n.internal.getEncryptor(t)),(e=e||"").toString(),"("+Om(r(e))+")"},Iu=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Iu.prototype.toString=function(){return this.objId+" 0 R"},Iu.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Iu.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var n in t)if(Object.getOwnPropertyDescriptor(this,t[n]).configurable===!1){var r=t[n],i=this[r];i&&(Array.isArray(i)?e.push({key:r,value:Jee(i,this.objId,this.scope)}):i instanceof Iu?(i.scope=this.scope,e.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&e.push({key:r,value:i}))}return e};var ete=function(){Iu.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){e=n.trim()},get:function(){return e||null}})};So(ete,Iu);var tte=function(){Iu.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+Om(n(e))+")"}},set:function(n){e=n}})};So(tte,Iu);var Yc=function e(){Iu.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(b){if(isNaN(b))throw new Error('Invalid value "'+b+'" for attribute F supplied.');t=b}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Qi(t,3)},set:function(b){b?this.F=Ji(t,3):this.F=ea(t,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(b){if(isNaN(b))throw new Error('Invalid value "'+b+'" for attribute Ff supplied.');n=b}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(b){r=b!==void 0?b:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(b){r[0]=b}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(b){r[1]=b}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(b){r[2]=b}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(b){r[3]=b}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(b){switch(b){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=b;break;default:throw new Error('Invalid value "'+b+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof ej)return;a="FieldObject"+e.FieldNum++}var b=function(w){return w};return this.scope&&(b=this.scope.internal.getEncryptor(this.objId)),"("+Om(b(a))+")"},set:function(b){a=b.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(b){a=b}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(b){o=b}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(b){l=b}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(b){c=b}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/Z3:u},set:function(b){u=b}});var f="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return f},set:function(b){f=b}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof ej||this instanceof Kp))return vP(h,this.objId,this.scope)},set:function(b){b=b.toString(),h=b}});var p=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof Ta==0?vP(p,this.objId,this.scope):p},set:function(b){b=b.toString(),p=this instanceof Ta==0?b.substr(0,1)==="("?tg(b.substr(1,b.length-2)):tg(b):b}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ta==1?tg(p.substr(1,p.length-1)):p},set:function(b){b=b.toString(),p=this instanceof Ta==1?"/"+b:b}});var m=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(m)return m},set:function(b){this.V=b}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof Ta==0?vP(m,this.objId,this.scope):m},set:function(b){b=b.toString(),m=this instanceof Ta==0?b.substr(0,1)==="("?tg(b.substr(1,b.length-2)):tg(b):b}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ta==1?tg(m.substr(1,m.length-1)):m},set:function(b){b=b.toString(),m=this instanceof Ta==1?"/"+b:b}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var x,v=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return v},set:function(b){b=!!b,v=b}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(x)return x},set:function(b){x=b}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,1)},set:function(b){b?this.Ff=Ji(this.Ff,1):this.Ff=ea(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,2)},set:function(b){b?this.Ff=Ji(this.Ff,2):this.Ff=ea(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,3)},set:function(b){b?this.Ff=Ji(this.Ff,3):this.Ff=ea(this.Ff,3)}});var y=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(y!==null)return y},set:function(b){if([0,1,2].indexOf(b)===-1)throw new Error('Invalid value "'+b+'" for attribute Q supplied.');y=b}}),Object.defineProperty(this,"textAlign",{get:function(){var b;switch(y){case 0:default:b="left";break;case 1:b="center";break;case 2:b="right"}return b},configurable:!0,enumerable:!0,set:function(b){switch(b){case"right":case 2:y=2;break;case"center":case 1:y=1;break;default:y=0}}})};So(Yc,Iu);var Zg=function(){Yc.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(n){e=n}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Jee(t,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=function(a,o,l){l||(l=1);for(var c,u=[];c=o.exec(a);)u.push(c[l]);return u}(r,/\((.*?)\)/g)),t=i}}),this.getOptions=function(){return t},this.setOptions=function(n){t=n,this.sort&&t.sort()},this.addOption=function(n){n=(n=n||"").toString(),t.push(n),this.sort&&t.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();t.indexOf(n)!==-1&&(t.splice(t.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,18)},set:function(n){n?this.Ff=Ji(this.Ff,18):this.Ff=ea(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=Ji(this.Ff,19):this.Ff=ea(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,20)},set:function(n){n?(this.Ff=Ji(this.Ff,20),t.sort()):this.Ff=ea(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,22)},set:function(n){n?this.Ff=Ji(this.Ff,22):this.Ff=ea(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,23)},set:function(n){n?this.Ff=Ji(this.Ff,23):this.Ff=ea(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,27)},set:function(n){n?this.Ff=Ji(this.Ff,27):this.Ff=ea(this.Ff,27)}}),this.hasAppearanceStream=!1};So(Zg,Yc);var Xg=function(){Zg.call(this),this.fontName="helvetica",this.combo=!1};So(Xg,Zg);var Yg=function(){Xg.call(this),this.combo=!0};So(Yg,Xg);var R2=function(){Yg.call(this),this.edit=!0};So(R2,Yg);var Ta=function(){Yc.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,15)},set:function(n){n?this.Ff=Ji(this.Ff,15):this.Ff=ea(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,16)},set:function(n){n?this.Ff=Ji(this.Ff,16):this.Ff=ea(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,17)},set:function(n){n?this.Ff=Ji(this.Ff,17):this.Ff=ea(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,26)},set:function(n){n?this.Ff=Ji(this.Ff,26):this.Ff=ea(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(a){return a};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var r,i=[];for(r in i.push("<<"),t)i.push("/"+r+" ("+Om(n(t[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){Lr(n)==="object"&&(t=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(n){typeof n=="string"&&(t.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(n){e="/"+n}})};So(Ta,Yc);var $2=function(){Ta.call(this),this.pushButton=!0};So($2,Ta);var Qg=function(){Ta.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};So(Qg,Ta);var ej=function(){var e,t;Yc.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(i){e=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(i){t=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(l){return l};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var a,o=[];for(a in o.push("<<"),r)o.push("/"+a+" ("+Om(i(r[a]))+")");return o.push(">>"),o.join(`
`)},set:function(i){Lr(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=zt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};So(ej,Yc),Qg.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var n=this.Kids[t];n.appearanceStreamContent=e.createAppearanceStream(n.optionName),n.caption=e.getCA()}},Qg.prototype.createOption=function(e){var t=new ej;return t.Parent=this,t.optionName=e,this.Kids.push(t),q9e.call(this.scope,t),t};var F2=function(){Ta.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=zt.CheckBox.createAppearanceStream()};So(F2,Ta);var Kp=function(){Yc.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,13)},set:function(t){t?this.Ff=Ji(this.Ff,13):this.Ff=ea(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,21)},set:function(t){t?this.Ff=Ji(this.Ff,21):this.Ff=ea(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,23)},set:function(t){t?this.Ff=Ji(this.Ff,23):this.Ff=ea(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,24)},set:function(t){t?this.Ff=Ji(this.Ff,24):this.Ff=ea(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,25)},set:function(t){t?this.Ff=Ji(this.Ff,25):this.Ff=ea(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,26)},set:function(t){t?this.Ff=Ji(this.Ff,26):this.Ff=ea(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};So(Kp,Yc);var B2=function(){Kp.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Qi(this.Ff,14)},set:function(e){e?this.Ff=Ji(this.Ff,14):this.Ff=ea(this.Ff,14)}}),this.password=!0};So(B2,Kp);var zt={CheckBox:{createAppearanceStream:function(){return{N:{On:zt.CheckBox.YesNormal},D:{On:zt.CheckBox.YesPushDown,Off:zt.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=vu(e);t.scope=e.scope;var n=[],r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),a=u4(e,e.caption);return n.push("0.749023 g"),n.push("0 0 "+En(zt.internal.getWidth(e))+" "+En(zt.internal.getHeight(e))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+En(a.fontSize)+" Tf "+i),n.push("BT"),n.push(a.text),n.push("ET"),n.push("Q"),n.push("EMC"),t.stream=n.join(`
`),t},YesNormal:function(e){var t=vu(e);t.scope=e.scope;var n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color),i=[],a=zt.internal.getHeight(e),o=zt.internal.getWidth(e),l=u4(e,e.caption);return i.push("1 g"),i.push("0 0 "+En(o)+" "+En(a)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+En(o-1)+" "+En(a-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+En(l.fontSize)+" Tf "+r),i.push(l.text),i.push("ET"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(e){var t=vu(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+En(zt.internal.getWidth(e))+" "+En(zt.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:zt.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=zt.RadioButton.Circle.YesNormal,t.D[e]=zt.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=vu(e);t.scope=e.scope;var n=[],r=zt.internal.getWidth(e)<=zt.internal.getHeight(e)?zt.internal.getWidth(e)/4:zt.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=zt.internal.Bezier_C,a=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+jf(zt.internal.getWidth(e)/2)+" "+jf(zt.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),n.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),n.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),n.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=vu(e);t.scope=e.scope;var n=[],r=zt.internal.getWidth(e)<=zt.internal.getHeight(e)?zt.internal.getWidth(e)/4:zt.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),a=Number((i*zt.internal.Bezier_C).toFixed(5)),o=Number((r*zt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+jf(zt.internal.getWidth(e)/2)+" "+jf(zt.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),n.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),n.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),n.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+jf(zt.internal.getWidth(e)/2)+" "+jf(zt.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=vu(e);t.scope=e.scope;var n=[],r=zt.internal.getWidth(e)<=zt.internal.getHeight(e)?zt.internal.getWidth(e)/4:zt.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),a=Number((i*zt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+jf(zt.internal.getWidth(e)/2)+" "+jf(zt.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),n.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),n.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),n.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:zt.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=zt.RadioButton.Cross.YesNormal,t.D[e]=zt.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=vu(e);t.scope=e.scope;var n=[],r=zt.internal.calculateCross(e);return n.push("q"),n.push("1 1 "+En(zt.internal.getWidth(e)-2)+" "+En(zt.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(En(r.x1.x)+" "+En(r.x1.y)+" m"),n.push(En(r.x2.x)+" "+En(r.x2.y)+" l"),n.push(En(r.x4.x)+" "+En(r.x4.y)+" m"),n.push(En(r.x3.x)+" "+En(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=vu(e);t.scope=e.scope;var n=zt.internal.calculateCross(e),r=[];return r.push("0.749023 g"),r.push("0 0 "+En(zt.internal.getWidth(e))+" "+En(zt.internal.getHeight(e))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+En(zt.internal.getWidth(e)-2)+" "+En(zt.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(En(n.x1.x)+" "+En(n.x1.y)+" m"),r.push(En(n.x2.x)+" "+En(n.x2.y)+" l"),r.push(En(n.x4.x)+" "+En(n.x4.y)+" m"),r.push(En(n.x3.x)+" "+En(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=vu(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+En(zt.internal.getWidth(e))+" "+En(zt.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+n}};zt.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=zt.internal.getWidth(e),n=zt.internal.getHeight(e),r=Math.min(t,n);return{x1:{x:(t-r)/2,y:(n-r)/2+r},x2:{x:(t-r)/2+r,y:(n-r)/2},x3:{x:(t-r)/2,y:(n-r)/2},x4:{x:(t-r)/2+r,y:(n-r)/2+r}}}},zt.internal.getWidth=function(e){var t=0;return Lr(e)==="object"&&(t=fF(e.Rect[2])),t},zt.internal.getHeight=function(e){var t=0;return Lr(e)==="object"&&(t=fF(e.Rect[3])),t};var q9e=Mi.addField=function(e){if(U9e(this,e),!(e instanceof Yc))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Mi.AcroFormChoiceField=Zg,Mi.AcroFormListBox=Xg,Mi.AcroFormComboBox=Yg,Mi.AcroFormEditBox=R2,Mi.AcroFormButton=Ta,Mi.AcroFormPushButton=$2,Mi.AcroFormRadioButton=Qg,Mi.AcroFormCheckBox=F2,Mi.AcroFormTextField=Kp,Mi.AcroFormPasswordField=B2,Mi.AcroFormAppearance=zt,Mi.AcroForm={ChoiceField:Zg,ListBox:Xg,ComboBox:Yg,EditBox:R2,Button:Ta,PushButton:$2,RadioButton:Qg,CheckBox:F2,TextField:Kp,PasswordField:B2,Appearance:zt},tn.AcroForm={ChoiceField:Zg,ListBox:Xg,ComboBox:Yg,EditBox:R2,Button:Ta,PushButton:$2,RadioButton:Qg,CheckBox:F2,TextField:Kp,PasswordField:B2,Appearance:zt};function nte(e){return e.reduce(function(t,n,r){return t[n]=r,t},{})}(function(e){var t="addImage_";e.__addimage__={};var n="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=e.__addimage__.getImageFileTypeByImageData=function(T,k){var F,B,H,X,ae,W=n;if((k=k||n)==="RGBA"||T.data!==void 0&&T.data instanceof Uint8ClampedArray&&"height"in T&&"width"in T)return"RGBA";if(E(T))for(ae in r)for(H=r[ae],F=0;F<H.length;F+=1){for(X=!0,B=0;B<H[F].length;B+=1)if(H[F][B]!==void 0&&H[F][B]!==T[B]){X=!1;break}if(X===!0){W=ae;break}}else for(ae in r)for(H=r[ae],F=0;F<H.length;F+=1){for(X=!0,B=0;B<H[F].length;B+=1)if(H[F][B]!==void 0&&H[F][B]!==T.charCodeAt(B)){X=!1;break}if(X===!0){W=ae;break}}return W===n&&k!==n&&(W=k),W},a=function T(k){for(var F=this.internal.write,B=this.internal.putStream,H=(0,this.internal.getFilters)();H.indexOf("FlateEncode")!==-1;)H.splice(H.indexOf("FlateEncode"),1);k.objectId=this.internal.newObject();var X=[];if(X.push({key:"Type",value:"/XObject"}),X.push({key:"Subtype",value:"/Image"}),X.push({key:"Width",value:k.width}),X.push({key:"Height",value:k.height}),k.colorSpace===b.INDEXED?X.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(k.palette.length/3-1)+" "+("sMask"in k&&k.sMask!==void 0?k.objectId+2:k.objectId+1)+" 0 R]"}):(X.push({key:"ColorSpace",value:"/"+k.colorSpace}),k.colorSpace===b.DEVICE_CMYK&&X.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),X.push({key:"BitsPerComponent",value:k.bitsPerComponent}),"decodeParameters"in k&&k.decodeParameters!==void 0&&X.push({key:"DecodeParms",value:"<<"+k.decodeParameters+">>"}),"transparency"in k&&Array.isArray(k.transparency)){for(var ae="",W=0,te=k.transparency.length;W<te;W++)ae+=k.transparency[W]+" "+k.transparency[W]+" ";X.push({key:"Mask",value:"["+ae+"]"})}k.sMask!==void 0&&X.push({key:"SMask",value:k.objectId+1+" 0 R"});var ue=k.filter!==void 0?["/"+k.filter]:void 0;if(B({data:k.data,additionalKeyValues:X,alreadyAppliedFilters:ue,objectId:k.objectId}),F("endobj"),"sMask"in k&&k.sMask!==void 0){var ye=(k.predictor!=null?"/Predictor "+k.predictor:"")+" /Colors 1 /BitsPerComponent 8 /Columns "+k.width,V={width:k.width,height:k.height,colorSpace:"DeviceGray",bitsPerComponent:k.bitsPerComponent,decodeParameters:ye,data:k.sMask};"filter"in k&&(V.filter=k.filter),T.call(this,V)}if(k.colorSpace===b.INDEXED){var ee=this.internal.newObject();B({data:I(new Uint8Array(k.palette)),objectId:ee}),F("endobj")}},o=function(){var T=this.internal.collections[t+"images"];for(var k in T)a.call(this,T[k])},l=function(){var T,k=this.internal.collections[t+"images"],F=this.internal.write;for(var B in k)F("/I"+(T=k[B]).index,T.objectId,"0","R")},c=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",l))},u=function(){var T=this.internal.collections[t+"images"];return c.call(this),T},f=function(){return Object.keys(this.internal.collections[t+"images"]).length},h=function(T){return typeof e["process"+T.toUpperCase()]=="function"},p=function(T){return Lr(T)==="object"&&T.nodeType===1},m=function(T,k){if(T.nodeName==="IMG"&&T.hasAttribute("src")){var F=""+T.getAttribute("src");if(F.indexOf("data:image/")===0)return D2(unescape(F).split("base64,").pop());var B=e.loadFile(F,!0);if(B!==void 0)return B}if(T.nodeName==="CANVAS"){if(T.width===0||T.height===0)throw new Error("Given canvas must have data. Canvas width: "+T.width+", height: "+T.height);var H;switch(k){case"PNG":H="image/png";break;case"WEBP":H="image/webp";break;default:H="image/jpeg"}return D2(T.toDataURL(H,1).split("base64,").pop())}},x=function(T){var k=this.internal.collections[t+"images"];if(k){for(var F in k)if(T===k[F].alias)return k[F]}},v=function(T,k,F){return T||k||(T=-96,k=-96),T<0&&(T=-1*F.width*72/T/this.internal.scaleFactor),k<0&&(k=-1*F.height*72/k/this.internal.scaleFactor),T===0&&(T=k*F.width/F.height),k===0&&(k=T*F.height/F.width),[T,k]},y=function(T,k,F,B,H,X){var ae=v.call(this,F,B,H),W=this.internal.getCoordinateString,te=this.internal.getVerticalCoordinateString,ue=u.call(this);if(F=ae[0],B=ae[1],ue[H.index]=H,X){X*=Math.PI/180;var ye=Math.cos(X),V=Math.sin(X),ee=function(de){return de.toFixed(4)},Q=[ee(ye),ee(V),ee(-1*V),ee(ye),0,0,"cm"]}this.internal.write("q"),X?(this.internal.write([1,"0","0",1,W(T),te(k+B),"cm"].join(" ")),this.internal.write(Q.join(" ")),this.internal.write([W(F),"0","0",W(B),"0","0","cm"].join(" "))):this.internal.write([W(F),"0","0",W(B),W(T),te(k+B),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+H.index+" Do"),this.internal.write("Q")},b=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var w=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},j=e.__addimage__.sHashCode=function(T){var k,F,B=0;if(typeof T=="string")for(F=T.length,k=0;k<F;k++)B=(B<<5)-B+T.charCodeAt(k),B|=0;else if(E(T))for(F=T.byteLength/2,k=0;k<F;k++)B=(B<<5)-B+T[k],B|=0;return B},P=e.__addimage__.validateStringAsBase64=function(T){(T=T||"").toString().trim();var k=!0;return T.length===0&&(k=!1),T.length%4!=0&&(k=!1),/^[A-Za-z0-9+/]+$/.test(T.substr(0,T.length-2))===!1&&(k=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(T.substr(-2))===!1&&(k=!1),k},A=e.__addimage__.extractImageFromDataUrl=function(T){if(T==null||!(T=T.trim()).startsWith("data:"))return null;var k=T.indexOf(",");return k<0?null:T.substring(0,k).trim().endsWith("base64")?T.substring(k+1):null};e.__addimage__.isArrayBuffer=function(T){return T instanceof ArrayBuffer};var E=e.__addimage__.isArrayBufferView=function(T){return T instanceof Int8Array||T instanceof Uint8Array||T instanceof Uint8ClampedArray||T instanceof Int16Array||T instanceof Uint16Array||T instanceof Int32Array||T instanceof Uint32Array||T instanceof Float32Array||T instanceof Float64Array},O=e.__addimage__.binaryStringToUint8Array=function(T){for(var k=T.length,F=new Uint8Array(k),B=0;B<k;B++)F[B]=T.charCodeAt(B);return F},I=e.__addimage__.arrayBufferToBinaryString=function(T){for(var k="",F=E(T)?T:new Uint8Array(T),B=0;B<F.length;B+=8192)k+=String.fromCharCode.apply(null,F.subarray(B,B+8192));return k};e.addImage=function(){var T,k,F,B,H,X,ae,W,te;if(typeof arguments[1]=="number"?(k=n,F=arguments[1],B=arguments[2],H=arguments[3],X=arguments[4],ae=arguments[5],W=arguments[6],te=arguments[7]):(k=arguments[1],F=arguments[2],B=arguments[3],H=arguments[4],X=arguments[5],ae=arguments[6],W=arguments[7],te=arguments[8]),Lr(T=arguments[0])==="object"&&!p(T)&&"imageData"in T){var ue=T;T=ue.imageData,k=ue.format||k||n,F=ue.x||F||0,B=ue.y||B||0,H=ue.w||ue.width||H,X=ue.h||ue.height||X,ae=ue.alias||ae,W=ue.compression||W,te=ue.rotation||ue.angle||te}var ye=this.internal.getFilters();if(W===void 0&&ye.indexOf("FlateEncode")!==-1&&(W="SLOW"),isNaN(F)||isNaN(B))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var V=D.call(this,T,k,ae,W);return y.call(this,F,B,H,X,V,te),this};var D=function(T,k,F,B){var H,X,ae;if(typeof T=="string"&&i(T)===n){T=unescape(T);var W=z(T,!1);(W!==""||(W=e.loadFile(T,!0))!==void 0)&&(T=W)}if(p(T)&&(T=m(T,k)),k=i(T,k),!h(k))throw new Error("addImage does not support files of type '"+k+"', please ensure that a plugin for '"+k+"' support is added.");if(((ae=F)==null||ae.length===0)&&(F=function(te){return typeof te=="string"||E(te)?j(te):E(te.data)?j(te.data):null}(T)),(H=x.call(this,F))||(T instanceof Uint8Array||k==="RGBA"||(X=T,T=O(T)),H=this["process"+k.toUpperCase()](T,f.call(this),F,function(te){return te&&typeof te=="string"&&(te=te.toUpperCase()),te in e.image_compression?te:w.NONE}(B),X)),!H)throw new Error("An unknown error occurred whilst processing the image.");return H},z=e.__addimage__.convertBase64ToBinaryString=function(T,k){k=typeof k!="boolean"||k;var F,B="";if(typeof T=="string"){var H;F=(H=A(T))!==null&&H!==void 0?H:T;try{B=D2(F)}catch(X){if(k)throw P(F)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+X.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return B};e.getImageProperties=function(T){var k,F,B="";if(p(T)&&(T=m(T)),typeof T=="string"&&i(T)===n&&((B=z(T,!1))===""&&(B=e.loadFile(T)||""),T=B),F=i(T),!h(F))throw new Error("addImage does not support files of type '"+F+"', please ensure that a plugin for '"+F+"' support is added.");if(T instanceof Uint8Array||(T=O(T)),!(k=this["process"+F.toUpperCase()](T)))throw new Error("An unknown error occurred whilst processing the image");return k.fileType=F,k}})(tn.API),function(e){var t=function(n){if(n!==void 0&&n!="")return!0};tn.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(n){for(var r,i,a,o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(n.objId),u=n.pageContext.annotations,f=!1,h=0;h<u.length&&!f;h++)switch((r=u[h]).type){case"link":(t(r.options.url)||t(r.options.pageNumber))&&(f=!0);break;case"reference":case"text":case"freetext":f=!0}if(f!=0){this.internal.write("/Annots [");for(var p=0;p<u.length;p++){r=u[p];var m=this.internal.pdfEscape,x=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var v=this.internal.newAdditionalObject(),y=this.internal.newAdditionalObject(),b=this.internal.getEncryptor(v.objId),w=r.title||"Note";a="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(r.bounds.x)+" "+l(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w)+" "+l(r.bounds.y)+"] ")+"/Contents ("+m(b(r.contents))+")",a+=" /Popup "+y.objId+" 0 R",a+=" /P "+c.objId+" 0 R",a+=" /T ("+m(b(w))+") >>",v.content=a;var j=v.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(r.bounds.x+30)+" "+l(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w+30)+" "+l(r.bounds.y)+"] ")+" /Parent "+j,r.open&&(a+=" /Open true"),a+=" >>",y.content=a,this.internal.write(v.objId,"0 R",y.objId,"0 R");break;case"freetext":i="/Rect ["+o(r.bounds.x)+" "+l(r.bounds.y)+" "+o(r.bounds.x+r.bounds.w)+" "+l(r.bounds.y+r.bounds.h)+"] ";var P=r.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+m(x(r.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+P+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(r.options.name){var A=this.annotations._nameMap[r.options.name];r.options.pageNumber=A.page,r.options.top=A.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",a="",r.options.url)a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+m(x(r.options.url))+") >>";else if(r.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,a+=" /FitV "+r.options.left+"]";break;default:var E=l(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),a+=" /XYZ "+r.options.left+" "+E+" "+r.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),e.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},e.link=function(n,r,i,a,o){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(n),y:u(r),w:c(n+i),h:u(r+a)},options:o,type:"link"})},e.textWithLink=function(n,r,i,a){var o,l,c=this.getTextWidth(n),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){l=a.maxWidth;var f=this.splitTextToSize(n,l).length;o=Math.ceil(u*f)}else l=c,o=u;return this.text(n,r,i,a),i+=.2*u,a.align==="center"&&(r-=c/2),a.align==="right"&&(r-=c),this.link(r,i-u,l,o,a),c},e.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(tn.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];e.__arabicParser__={};var a=e.__arabicParser__.isInArabicSubstitutionA=function(v){return t[v.charCodeAt(0)]!==void 0},o=e.__arabicParser__.isArabicLetter=function(v){return typeof v=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(v)},l=e.__arabicParser__.isArabicEndLetter=function(v){return o(v)&&a(v)&&t[v.charCodeAt(0)].length<=2},c=e.__arabicParser__.isArabicAlfLetter=function(v){return o(v)&&i.indexOf(v.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(v){return o(v)&&a(v)&&t[v.charCodeAt(0)].length>=1};var u=e.__arabicParser__.arabicLetterHasFinalForm=function(v){return o(v)&&a(v)&&t[v.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(v){return o(v)&&a(v)&&t[v.charCodeAt(0)].length>=3};var f=e.__arabicParser__.arabicLetterHasMedialForm=function(v){return o(v)&&a(v)&&t[v.charCodeAt(0)].length==4},h=e.__arabicParser__.resolveLigatures=function(v){var y=0,b=n,w="",j=0;for(y=0;y<v.length;y+=1)b[v.charCodeAt(y)]!==void 0?(j++,typeof(b=b[v.charCodeAt(y)])=="number"&&(w+=String.fromCharCode(b),b=n,j=0),y===v.length-1&&(b=n,w+=v.charAt(y-(j-1)),y-=j-1,j=0)):(b=n,w+=v.charAt(y-j),y-=j,j=0);return w};e.__arabicParser__.isArabicDiacritic=function(v){return v!==void 0&&r[v.charCodeAt(0)]!==void 0};var p=e.__arabicParser__.getCorrectForm=function(v,y,b){return o(v)?a(v)===!1?-1:!u(v)||!o(y)&&!o(b)||!o(b)&&l(y)||l(v)&&!o(y)||l(v)&&c(y)||l(v)&&l(y)?0:f(v)&&o(y)&&!l(y)&&o(b)&&u(b)?3:l(v)||!o(b)?1:2:-1},m=function(v){var y=0,b=0,w=0,j="",P="",A="",E=(v=v||"").split("\\s+"),O=[];for(y=0;y<E.length;y+=1){for(O.push(""),b=0;b<E[y].length;b+=1)j=E[y][b],P=E[y][b-1],A=E[y][b+1],o(j)?(w=p(j,P,A),O[y]+=w!==-1?String.fromCharCode(t[j.charCodeAt(0)][w]):j):O[y]+=j;O[y]=h(O[y])}return O.join(" ")},x=e.__arabicParser__.processArabic=e.processArabic=function(){var v,y=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,b=[];if(Array.isArray(y)){var w=0;for(b=[],w=0;w<y.length;w+=1)Array.isArray(y[w])?b.push([m(y[w][0]),y[w][1],y[w][2]]):b.push([m(y[w])]);v=b}else v=m(y);return typeof arguments[0]=="string"?v:(arguments[0].text=v,arguments[0])};e.events.push(["preProcessText",x])}(tn.API),tn.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},function(e){var t=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(l){n=l}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(l){r=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(l){i=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(l){a=l}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(l){o=l}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(tn.API),function(e){var t={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(v){c=v}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(v){u=v}});var f=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return f},set:function(v){f=v}});var h=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return h},set:function(v){h=v}});var p=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return p},set:function(v){p=v}});var m=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return m},set:function(v){m=v}});var x=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return x},set:function(v){x=v}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(c){return r.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},e.getTextDimensions=function(c,u){r.call(this);var f=(u=u||{}).fontSize||this.getFontSize(),h=u.font||this.getFont(),p=u.scaleFactor||this.internal.scaleFactor,m=0,x=0,v=0,y=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var b=u.maxWidth;b>0?typeof c=="string"?c=this.splitTextToSize(c,b):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(j,P){return j.concat(y.splitTextToSize(P,b))},[])):c=Array.isArray(c)?c:[c];for(var w=0;w<c.length;w++)m<(v=this.getStringUnitWidth(c[w],{font:h})*f)&&(m=v);return m!==0&&(x=c.length),{w:m/=p,h:Math.max((x*f*this.getLineHeightFactor()-f*(this.getLineHeightFactor()-1))/p,0)}},e.cellAddPage=function(){r.call(this),this.addPage();var c=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new a(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var c;c=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var u=this.internal.__cell__.lastCell,f=this.internal.__cell__.padding,h=this.internal.__cell__.margins||t,p=this.internal.__cell__.tableHeaderRow,m=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===c.lineNumber?(c.x=(u.x||0)+(u.width||0),c.y=u.y||0):u.y+u.height+c.height+h.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=h.top,m&&p&&(this.printHeaderRow(c.lineNumber,!0),c.y+=p[0].height)):c.y=u.y+u.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,n===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-f,c.y+f,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+f,{align:"center",baseline:"top",maxWidth:c.width-f-f}):this.text(c.text,c.x+f,c.y+f,{align:"left",baseline:"top",maxWidth:c.width-f-f})),this.internal.__cell__.lastCell=c,this};e.table=function(c,u,f,h,p){if(r.call(this),!f)throw new Error("No data for PDF table.");var m,x,v,y,b=[],w=[],j=[],P={},A={},E=[],O=[],I=(p=p||{}).autoSize||!1,D=p.printHeaders!==!1,z=p.css&&p.css["font-size"]!==void 0?16*p.css["font-size"]:p.fontSize||12,T=p.margins||Object.assign({width:this.getPageWidth()},t),k=typeof p.padding=="number"?p.padding:3,F=p.headerBackgroundColor||"#c8c8c8",B=p.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=D,this.internal.__cell__.margins=T,this.internal.__cell__.table_font_size=z,this.internal.__cell__.padding=k,this.internal.__cell__.headerBackgroundColor=F,this.internal.__cell__.headerTextColor=B,this.setFontSize(z),h==null)w=b=Object.keys(f[0]),j=b.map(function(){return"left"});else if(Array.isArray(h)&&Lr(h[0])==="object")for(b=h.map(function(ue){return ue.name}),w=h.map(function(ue){return ue.prompt||ue.name||""}),j=h.map(function(ue){return ue.align||"left"}),m=0;m<h.length;m+=1)A[h[m].name]=.7499990551181103*h[m].width;else Array.isArray(h)&&typeof h[0]=="string"&&(w=b=h,j=b.map(function(){return"left"}));if(I||Array.isArray(h)&&typeof h[0]=="string")for(m=0;m<b.length;m+=1){for(P[y=b[m]]=f.map(function(ue){return ue[y]}),this.setFont(void 0,"bold"),E.push(this.getTextDimensions(w[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),x=P[y],this.setFont(void 0,"normal"),v=0;v<x.length;v+=1)E.push(this.getTextDimensions(x[v],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);A[y]=Math.max.apply(null,E)+k+k,E=[]}if(D){var H={};for(m=0;m<b.length;m+=1)H[b[m]]={},H[b[m]].text=w[m],H[b[m]].align=j[m];var X=l.call(this,H,A);O=b.map(function(ue){return new a(c,u,A[ue],X,H[ue].text,void 0,H[ue].align)}),this.setTableHeaderRow(O),this.printHeaderRow(1,!1)}var ae=h.reduce(function(ue,ye){return ue[ye.name]=ye.align,ue},{});for(m=0;m<f.length;m+=1){"rowStart"in p&&p.rowStart instanceof Function&&p.rowStart({row:m,data:f[m]},this);var W=l.call(this,f[m],A);for(v=0;v<b.length;v+=1){var te=f[m][b[v]];"cellStart"in p&&p.cellStart instanceof Function&&p.cellStart({row:m,col:v,data:te},this),o.call(this,new a(c,u,A[b[v]],W,te,m+2,ae[b[v]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=u,this};var l=function(c,u){var f=this.internal.__cell__.padding,h=this.internal.__cell__.table_font_size,p=this.internal.scaleFactor;return Object.keys(c).map(function(m){var x=c[m];return this.splitTextToSize(x.hasOwnProperty("text")?x.text:x,u[m]-f-f)},this).map(function(m){return this.getLineHeightFactor()*m.length*h/p+f+f},this).reduce(function(m,x){return Math.max(m,x)},0)};e.setTableHeaderRow=function(c){r.call(this),this.internal.__cell__.tableHeaderRow=c},e.printHeaderRow=function(c,u){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var f;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var h=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(h[0],h[1],h[2],h[3],void 0,-1)}this.setFont(void 0,"bold");for(var p=[],m=0;m<this.internal.__cell__.tableHeaderRow.length;m+=1){f=this.internal.__cell__.tableHeaderRow[m].clone(),u&&(f.y=this.internal.__cell__.margins.top||0,p.push(f)),f.lineNumber=c;var x=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,f),this.setTextColor(x)}p.length>0&&this.setTableHeaderRow(p),this.setFont(void 0,"normal"),n=!1}}(tn.API);var rte={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},ite=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],d4=nte(ite),ate=[100,200,300,400,500,600,700,800,900],V9e=nte(ate);function yP(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),n=function(a){return rte[a=a||"normal"]?a:"normal"}(e.style),r=function(a){return a?typeof a=="number"?a>=100&&a<=900&&a%100==0?a:400:/^\d00$/.test(a)?parseInt(a):a==="bold"?700:400:400}(e.weight),i=function(a){return typeof d4[a=a||"normal"]=="number"?a:"normal"}(e.stretch);return{family:t,style:n,weight:r,stretch:i,src:e.src||[],ref:e.ref||{name:t,style:[i,n,r].join(" ")}}}function hF(e,t,n,r){var i;for(i=n;i>=0&&i<t.length;i+=r)if(e[t[i]])return e[t[i]];for(i=n;i>=0&&i<t.length;i-=r)if(e[t[i]])return e[t[i]]}var W9e={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},pF={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function mF(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function gF(e){return e.trimLeft()}function H9e(e,t){for(var n=0;n<e.length;){if(e.charAt(n)===t)return[e.substring(0,n),e.substring(n+1)];n+=1}return null}function K9e(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var a2,vF,yF,ng,s2,xF,bF,wF,xP=["times"];function _F(e,t,n,r){var i=4,a=NF;switch(r){case tn.API.image_compression.FAST:i=1,a=jF;break;case tn.API.image_compression.MEDIUM:i=6,a=SF;break;case tn.API.image_compression.SLOW:i=9,a=AF}e=function(l,c,u,f){for(var h,p=l.length/c,m=new Uint8Array(l.length+p),x=[G9e,jF,NF,SF,AF],v=0;v<p;v+=1){var y=v*c,b=l.subarray(y,y+c);if(f)m.set(f(b,u,h),y+v);else{for(var w=x.length,j=[],P=0;P<w;P+=1)j[P]=x[P](b,u,h);var A=X9e(j.concat());m.set(j[A],y+v)}h=b}return m}(e,t,n,a);var o=QO(e,{level:i});return tn.API.__addimage__.arrayBufferToBinaryString(o)}function G9e(e){var t=Array.apply([],e);return t.unshift(0),t}function jF(e,t){var n=e.length,r=[];r[0]=1;for(var i=0;i<n;i+=1){var a=e[i-t]||0;r[i+1]=e[i]-a+256&255}return r}function NF(e,t,n){var r=e.length,i=[];i[0]=2;for(var a=0;a<r;a+=1){var o=n&&n[a]||0;i[a+1]=e[a]-o+256&255}return i}function SF(e,t,n){var r=e.length,i=[];i[0]=3;for(var a=0;a<r;a+=1){var o=e[a-t]||0,l=n&&n[a]||0;i[a+1]=e[a]+256-(o+l>>>1)&255}return i}function AF(e,t,n){var r=e.length,i=[];i[0]=4;for(var a=0;a<r;a+=1){var o=Z9e(e[a-t]||0,n&&n[a]||0,n&&n[a-t]||0);i[a+1]=e[a]-o+256&255}return i}function Z9e(e,t,n){if(e===t&&t===n)return e;var r=Math.abs(t-n),i=Math.abs(e-n),a=Math.abs(e+t-n-n);return r<=i&&r<=a?e:i<=a?t:n}function X9e(e){var t=e.map(function(n){return n.reduce(function(r,i){return r+Math.abs(i)},0)});return t.indexOf(Math.min.apply(null,t))}function bP(e,t,n){var r=t*n,i=Math.floor(r/8),a=16-(r-8*i+n),o=(1<<n)-1;return ste(e,i)>>a&o}function PF(e,t,n,r){var i=n*r,a=Math.floor(i/8),o=16-(i-8*a+r),l=(1<<r)-1,c=(t&l)<<o;(function(u,f,h){if(f+1<u.byteLength)u.setUint16(f,h,!1);else{var p=h>>8&255;u.setUint8(f,p)}})(e,a,ste(e,a)&~(l<<o)&65535|c)}function ste(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function Y9e(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=e[t++]|e[t++]<<8,r=e[t++]|e[t++]<<8,i=e[t++],a=i>>7,o=1<<1+(7&i);e[t++],e[t++];var l=null,c=null;a&&(l=t,c=o,t+=3*o);var u=!0,f=[],h=0,p=null,m=0,x=null;for(this.width=n,this.height=r;u&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,x=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((T=e[t++])>=0))throw Error("Invalid block size");if(T===0)break;t+=T}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var v=e[t++];h=e[t++]|e[t++]<<8,p=e[t++],1&v||(p=null),m=v>>2&7,t++;break;case 254:for(;;){if(!((T=e[t++])>=0))throw Error("Invalid block size");if(T===0)break;t+=T}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var y=e[t++]|e[t++]<<8,b=e[t++]|e[t++]<<8,w=e[t++]|e[t++]<<8,j=e[t++]|e[t++]<<8,P=e[t++],A=P>>6&1,E=1<<1+(7&P),O=l,I=c,D=!1;P>>7&&(D=!0,O=t,I=E,t+=3*E);var z=t;for(t++;;){var T;if(!((T=e[t++])>=0))throw Error("Invalid block size");if(T===0)break;t+=T}f.push({x:y,y:b,width:w,height:j,has_local_palette:D,palette_offset:O,palette_size:I,data_offset:z,data_length:t-z,transparent_index:p,interlaced:!!A,delay:h,disposal:m});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return f.length},this.loopCount=function(){return x},this.frameInfo=function(k){if(k<0||k>=f.length)throw new Error("Frame index out of range.");return f[k]},this.decodeAndBlitFrameBGRA=function(k,F){var B=this.frameInfo(k),H=B.width*B.height,X=new Uint8Array(H);CF(e,B.data_offset,X,H);var ae=B.palette_offset,W=B.transparent_index;W===null&&(W=256);var te=B.width,ue=n-te,ye=te,V=4*(B.y*n+B.x),ee=4*((B.y+B.height)*n+B.x),Q=V,de=4*ue;B.interlaced===!0&&(de+=4*n*7);for(var le=8,ve=0,Z=X.length;ve<Z;++ve){var ne=X[ve];if(ye===0&&(ye=te,(Q+=de)>=ee&&(de=4*ue+4*n*(le-1),Q=V+(te+ue)*(le<<1),le>>=1)),ne===W)Q+=4;else{var ge=e[ae+3*ne],Ee=e[ae+3*ne+1],be=e[ae+3*ne+2];F[Q++]=be,F[Q++]=Ee,F[Q++]=ge,F[Q++]=255}--ye}},this.decodeAndBlitFrameRGBA=function(k,F){var B=this.frameInfo(k),H=B.width*B.height,X=new Uint8Array(H);CF(e,B.data_offset,X,H);var ae=B.palette_offset,W=B.transparent_index;W===null&&(W=256);var te=B.width,ue=n-te,ye=te,V=4*(B.y*n+B.x),ee=4*((B.y+B.height)*n+B.x),Q=V,de=4*ue;B.interlaced===!0&&(de+=4*n*7);for(var le=8,ve=0,Z=X.length;ve<Z;++ve){var ne=X[ve];if(ye===0&&(ye=te,(Q+=de)>=ee&&(de=4*ue+4*n*(le-1),Q=V+(te+ue)*(le<<1),le>>=1)),ne===W)Q+=4;else{var ge=e[ae+3*ne],Ee=e[ae+3*ne+1],be=e[ae+3*ne+2];F[Q++]=ge,F[Q++]=Ee,F[Q++]=be,F[Q++]=255}--ye}}}function CF(e,t,n,r){for(var i=e[t++],a=1<<i,o=a+1,l=o+1,c=i+1,u=(1<<c)-1,f=0,h=0,p=0,m=e[t++],x=new Int32Array(4096),v=null;;){for(;f<16&&m!==0;)h|=e[t++]<<f,f+=8,m===1?m=e[t++]:--m;if(f<c)break;var y=h&u;if(h>>=c,f-=c,y!==a){if(y===o)break;for(var b=y<l?y:v,w=0,j=b;j>a;)j=x[j]>>8,++w;var P=j;if(p+w+(b!==y?1:0)>r)return void Ur.log("Warning, gif stream longer than expected.");n[p++]=P;var A=p+=w;for(b!==y&&(n[p++]=P),j=b;w--;)j=x[j],n[--A]=255&j,j>>=8;v!==null&&l<4096&&(x[l++]=v<<8|P,l>=u+1&&c<12&&(++c,u=u<<1|1)),v=y}else l=o+1,u=(1<<(c=i+1))-1,v=null}return p!==r&&Ur.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function wP(e){var t,n,r,i,a,o=Math.floor,l=new Array(64),c=new Array(64),u=new Array(64),f=new Array(64),h=new Array(65535),p=new Array(65535),m=new Array(64),x=new Array(64),v=[],y=0,b=7,w=new Array(64),j=new Array(64),P=new Array(64),A=new Array(256),E=new Array(2048),O=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],I=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],D=[0,1,2,3,4,5,6,7,8,9,10,11],z=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],T=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],k=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],F=[0,1,2,3,4,5,6,7,8,9,10,11],B=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],H=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function X(V,ee){for(var Q=0,de=0,le=new Array,ve=1;ve<=16;ve++){for(var Z=1;Z<=V[ve];Z++)le[ee[de]]=[],le[ee[de]][0]=Q,le[ee[de]][1]=ve,de++,Q++;Q*=2}return le}function ae(V){for(var ee=V[0],Q=V[1]-1;Q>=0;)ee&1<<Q&&(y|=1<<b),Q--,--b<0&&(y==255?(W(255),W(0)):W(y),b=7,y=0)}function W(V){v.push(V)}function te(V){W(V>>8&255),W(255&V)}function ue(V,ee,Q,de,le){for(var ve,Z=le[0],ne=le[240],ge=function(Ye,mt){var ct,fe,Ne,Ie,He,Be,ze,Ge,st,St,vt=0;for(st=0;st<8;++st){ct=Ye[vt],fe=Ye[vt+1],Ne=Ye[vt+2],Ie=Ye[vt+3],He=Ye[vt+4],Be=Ye[vt+5],ze=Ye[vt+6];var Gn=ct+(Ge=Ye[vt+7]),Cn=ct-Ge,Ot=fe+ze,en=fe-ze,Tn=Ne+Be,Ut=Ne-Be,$t=Ie+He,cn=Ie-He,wn=Gn+$t,Ae=Gn-$t,Fe=Ot+Tn,tt=Ot-Tn;Ye[vt]=wn+Fe,Ye[vt+4]=wn-Fe;var ut=.707106781*(tt+Ae);Ye[vt+2]=Ae+ut,Ye[vt+6]=Ae-ut;var Nn=.382683433*((wn=cn+Ut)-(tt=en+Cn)),dn=.5411961*wn+Nn,Rn=1.306562965*tt+Nn,Xn=.707106781*(Fe=Ut+en),Et=Cn+Xn,pr=Cn-Xn;Ye[vt+5]=pr+dn,Ye[vt+3]=pr-dn,Ye[vt+1]=Et+Rn,Ye[vt+7]=Et-Rn,vt+=8}for(vt=0,st=0;st<8;++st){ct=Ye[vt],fe=Ye[vt+8],Ne=Ye[vt+16],Ie=Ye[vt+24],He=Ye[vt+32],Be=Ye[vt+40],ze=Ye[vt+48];var xi=ct+(Ge=Ye[vt+56]),$r=ct-Ge,Vr=fe+ze,$n=fe-ze,bt=Ne+Be,ar=Ne-Be,ra=Ie+He,Ci=Ie-He,qa=xi+ra,Va=xi-ra,Wa=Vr+bt,qi=Vr-bt;Ye[vt]=qa+Wa,Ye[vt+32]=qa-Wa;var Pa=.707106781*(qi+Va);Ye[vt+16]=Va+Pa,Ye[vt+48]=Va-Pa;var fl=.382683433*((qa=Ci+ar)-(qi=$n+$r)),As=.5411961*qa+fl,Re=1.306562965*qi+fl,at=.707106781*(Wa=ar+$n),qt=$r+at,mn=$r-at;Ye[vt+40]=mn+As,Ye[vt+24]=mn-As,Ye[vt+8]=qt+Re,Ye[vt+56]=qt-Re,vt++}for(st=0;st<64;++st)St=Ye[st]*mt[st],m[st]=St>0?St+.5|0:St-.5|0;return m}(V,ee),Ee=0;Ee<64;++Ee)x[O[Ee]]=ge[Ee];var be=x[0]-Q;Q=x[0],be==0?ae(de[0]):(ae(de[p[ve=32767+be]]),ae(h[ve]));for(var Ue=63;Ue>0&&x[Ue]==0;)Ue--;if(Ue==0)return ae(Z),Q;for(var Pe,ce=1;ce<=Ue;){for(var it=ce;x[ce]==0&&ce<=Ue;)++ce;var _t=ce-it;if(_t>=16){Pe=_t>>4;for(var gt=1;gt<=Pe;++gt)ae(ne);_t&=15}ve=32767+x[ce],ae(le[(_t<<4)+p[ve]]),ae(h[ve]),ce++}return Ue!=63&&ae(Z),Q}function ye(V){V=Math.min(Math.max(V,1),100),a!=V&&(function(ee){for(var Q=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],de=0;de<64;de++){var le=o((Q[de]*ee+50)/100);le=Math.min(Math.max(le,1),255),l[O[de]]=le}for(var ve=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Z=0;Z<64;Z++){var ne=o((ve[Z]*ee+50)/100);ne=Math.min(Math.max(ne,1),255),c[O[Z]]=ne}for(var ge=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ee=0,be=0;be<8;be++)for(var Ue=0;Ue<8;Ue++)u[Ee]=1/(l[O[Ee]]*ge[be]*ge[Ue]*8),f[Ee]=1/(c[O[Ee]]*ge[be]*ge[Ue]*8),Ee++}(V<50?Math.floor(5e3/V):Math.floor(200-2*V)),a=V)}this.encode=function(V,ee){ee&&ye(ee),v=new Array,y=0,b=7,te(65496),te(65504),te(16),W(74),W(70),W(73),W(70),W(0),W(1),W(1),W(0),te(1),te(1),W(0),W(0),function(){te(65499),te(132),W(0);for(var fe=0;fe<64;fe++)W(l[fe]);W(1);for(var Ne=0;Ne<64;Ne++)W(c[Ne])}(),function(fe,Ne){te(65472),te(17),W(8),te(Ne),te(fe),W(3),W(1),W(17),W(0),W(2),W(17),W(1),W(3),W(17),W(1)}(V.width,V.height),function(){te(65476),te(418),W(0);for(var fe=0;fe<16;fe++)W(I[fe+1]);for(var Ne=0;Ne<=11;Ne++)W(D[Ne]);W(16);for(var Ie=0;Ie<16;Ie++)W(z[Ie+1]);for(var He=0;He<=161;He++)W(T[He]);W(1);for(var Be=0;Be<16;Be++)W(k[Be+1]);for(var ze=0;ze<=11;ze++)W(F[ze]);W(17);for(var Ge=0;Ge<16;Ge++)W(B[Ge+1]);for(var st=0;st<=161;st++)W(H[st])}(),te(65498),te(12),W(3),W(1),W(0),W(2),W(17),W(3),W(17),W(0),W(63),W(0);var Q=0,de=0,le=0;y=0,b=7,this.encode.displayName="_encode_";for(var ve,Z,ne,ge,Ee,be,Ue,Pe,ce,it=V.data,_t=V.width,gt=V.height,Ye=4*_t,mt=0;mt<gt;){for(ve=0;ve<Ye;){for(Ee=Ye*mt+ve,Ue=-1,Pe=0,ce=0;ce<64;ce++)be=Ee+(Pe=ce>>3)*Ye+(Ue=4*(7&ce)),mt+Pe>=gt&&(be-=Ye*(mt+1+Pe-gt)),ve+Ue>=Ye&&(be-=ve+Ue-Ye+4),Z=it[be++],ne=it[be++],ge=it[be++],w[ce]=(E[Z]+E[ne+256|0]+E[ge+512|0]>>16)-128,j[ce]=(E[Z+768|0]+E[ne+1024|0]+E[ge+1280|0]>>16)-128,P[ce]=(E[Z+1280|0]+E[ne+1536|0]+E[ge+1792|0]>>16)-128;Q=ue(w,u,Q,t,r),de=ue(j,f,de,n,i),le=ue(P,f,le,n,i),ve+=32}mt+=8}if(b>=0){var ct=[];ct[1]=b+1,ct[0]=(1<<b+1)-1,ae(ct)}return te(65497),new Uint8Array(v)},e=e||50,function(){for(var V=String.fromCharCode,ee=0;ee<256;ee++)A[ee]=V(ee)}(),t=X(I,D),n=X(k,F),r=X(z,T),i=X(B,H),function(){for(var V=1,ee=2,Q=1;Q<=15;Q++){for(var de=V;de<ee;de++)p[32767+de]=Q,h[32767+de]=[],h[32767+de][1]=Q,h[32767+de][0]=de;for(var le=-(ee-1);le<=-V;le++)p[32767+le]=Q,h[32767+le]=[],h[32767+le][1]=Q,h[32767+le][0]=ee-1+le;V<<=1,ee<<=1}}(),function(){for(var V=0;V<256;V++)E[V]=19595*V,E[V+256|0]=38470*V,E[V+512|0]=7471*V+32768,E[V+768|0]=-11059*V,E[V+1024|0]=-21709*V,E[V+1280|0]=32768*V+8421375,E[V+1536|0]=-27439*V,E[V+1792|0]=-5329*V}(),ye(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function yc(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function EF(e){function t(D){if(!D)throw Error("assert :P")}function n(D,z,T){for(var k=0;4>k;k++)if(D[z+k]!=T.charCodeAt(k))return!0;return!1}function r(D,z,T,k,F){for(var B=0;B<F;B++)D[z+B]=T[k+B]}function i(D,z,T,k){for(var F=0;F<k;F++)D[z+F]=T}function a(D){return new Int32Array(D)}function o(D,z){for(var T=[],k=0;k<D;k++)T.push(new z);return T}function l(D,z){var T=[];return function k(F,B,H){for(var X=H[B],ae=0;ae<X&&(F.push(H.length>B+1?[]:new z),!(H.length<B+1));ae++)k(F[ae],B+1,H)}(T,0,D),T}var c=function(){var D=this;function z(_,C){for(var $=1<<C-1>>>0;_&$;)$>>>=1;return $?(_&$-1)+$:_}function T(_,C,$,U,G){t(!(U%$));do _[C+(U-=$)]=G;while(0<U)}function k(_,C,$,U,G){if(t(2328>=G),512>=G)var Y=a(512);else if((Y=a(G))==null)return 0;return function(re,se,oe,pe,Ce,De){var me,Oe,Te=se,qe=1<<oe,Me=a(16),We=a(16);for(t(Ce!=0),t(pe!=null),t(re!=null),t(0<oe),Oe=0;Oe<Ce;++Oe){if(15<pe[Oe])return 0;++Me[pe[Oe]]}if(Me[0]==Ce)return 0;for(We[1]=0,me=1;15>me;++me){if(Me[me]>1<<me)return 0;We[me+1]=We[me]+Me[me]}for(Oe=0;Oe<Ce;++Oe)me=pe[Oe],0<pe[Oe]&&(De[We[me]++]=Oe);if(We[15]==1)return(pe=new F).g=0,pe.value=De[0],T(re,Te,1,qe,pe),qe;var Xe,dt=-1,rt=qe-1,Jt=0,Bt=1,Bn=1,Kt=1<<oe;for(Oe=0,me=1,Ce=2;me<=oe;++me,Ce<<=1){if(Bt+=Bn<<=1,0>(Bn-=Me[me]))return 0;for(;0<Me[me];--Me[me])(pe=new F).g=me,pe.value=De[Oe++],T(re,Te+Jt,Ce,Kt,pe),Jt=z(Jt,me)}for(me=oe+1,Ce=2;15>=me;++me,Ce<<=1){if(Bt+=Bn<<=1,0>(Bn-=Me[me]))return 0;for(;0<Me[me];--Me[me]){if(pe=new F,(Jt&rt)!=dt){for(Te+=Kt,Xe=1<<(dt=me)-oe;15>dt&&!(0>=(Xe-=Me[dt]));)++dt,Xe<<=1;qe+=Kt=1<<(Xe=dt-oe),re[se+(dt=Jt&rt)].g=Xe+oe,re[se+dt].value=Te-se-dt}pe.g=me-oe,pe.value=De[Oe++],T(re,Te+(Jt>>oe),Ce,Kt,pe),Jt=z(Jt,me)}}return Bt!=2*We[15]-1?0:qe}(_,C,$,U,G,Y)}function F(){this.value=this.g=0}function B(){this.value=this.g=0}function H(){this.G=o(5,F),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Es,B)}function X(_,C,$,U){t(_!=null),t(C!=null),t(2147483648>U),_.Ca=254,_.I=0,_.b=-8,_.Ka=0,_.oa=C,_.pa=$,_.Jd=C,_.Yc=$+U,_.Zc=4<=U?$+U-4+1:$,Z(_)}function ae(_,C){for(var $=0;0<C--;)$|=ge(_,128)<<C;return $}function W(_,C){var $=ae(_,C);return ne(_)?-$:$}function te(_,C,$,U){var G,Y=0;for(t(_!=null),t(C!=null),t(4294967288>U),_.Sb=U,_.Ra=0,_.u=0,_.h=0,4<U&&(U=4),G=0;G<U;++G)Y+=C[$+G]<<8*G;_.Ra=Y,_.bb=U,_.oa=C,_.pa=$}function ue(_){for(;8<=_.u&&_.bb<_.Sb;)_.Ra>>>=8,_.Ra+=_.oa[_.pa+_.bb]<<To-8>>>0,++_.bb,_.u-=8;de(_)&&(_.h=1,_.u=0)}function ye(_,C){if(t(0<=C),!_.h&&C<=oo){var $=Q(_)&uu[C];return _.u+=C,ue(_),$}return _.h=1,_.u=0}function V(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function ee(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Q(_){return _.Ra>>>(_.u&To-1)>>>0}function de(_){return t(_.bb<=_.Sb),_.h||_.bb==_.Sb&&_.u>To}function le(_,C){_.u=C,_.h=de(_)}function ve(_){_.u>=bi&&(t(_.u>=bi),ue(_))}function Z(_){t(_!=null&&_.oa!=null),_.pa<_.Zc?(_.I=(_.oa[_.pa++]|_.I<<8)>>>0,_.b+=8):(t(_!=null&&_.oa!=null),_.pa<_.Yc?(_.b+=8,_.I=_.oa[_.pa++]|_.I<<8):_.Ka?_.b=0:(_.I<<=8,_.b+=8,_.Ka=1))}function ne(_){return ae(_,1)}function ge(_,C){var $=_.Ca;0>_.b&&Z(_);var U=_.b,G=$*C>>>8,Y=(_.I>>>U>G)+0;for(Y?($-=G,_.I-=G+1<<U>>>0):$=G+1,U=$,G=0;256<=U;)G+=8,U>>=8;return U=7^G+tp[U],_.b-=U,_.Ca=($<<U)-1,Y}function Ee(_,C,$){_[C+0]=$>>24&255,_[C+1]=$>>16&255,_[C+2]=$>>8&255,_[C+3]=255&$}function be(_,C){return _[C+0]|_[C+1]<<8}function Ue(_,C){return be(_,C)|_[C+2]<<16}function Pe(_,C){return be(_,C)|be(_,C+2)<<16}function ce(_,C){var $=1<<C;return t(_!=null),t(0<C),_.X=a($),_.X==null?0:(_.Mb=32-C,_.Xa=C,1)}function it(_,C){t(_!=null),t(C!=null),t(_.Xa==C.Xa),r(C.X,0,_.X,0,1<<C.Xa)}function _t(){this.X=[],this.Xa=this.Mb=0}function gt(_,C,$,U){t($!=null),t(U!=null);var G=$[0],Y=U[0];return G==0&&(G=(_*Y+C/2)/C),Y==0&&(Y=(C*G+_/2)/_),0>=G||0>=Y?0:($[0]=G,U[0]=Y,1)}function Ye(_,C){return _+(1<<C)-1>>>C}function mt(_,C){return((4278255360&_)+(4278255360&C)>>>0&4278255360)+((16711935&_)+(16711935&C)>>>0&16711935)>>>0}function ct(_,C){D[C]=function($,U,G,Y,re,se,oe){var pe;for(pe=0;pe<re;++pe){var Ce=D[_](se[oe+pe-1],G,Y+pe);se[oe+pe]=mt($[U+pe],Ce)}}}function fe(){this.ud=this.hd=this.jd=0}function Ne(_,C){return((4278124286&(_^C))>>>1)+(_&C)>>>0}function Ie(_){return 0<=_&&256>_?_:0>_?0:255<_?255:void 0}function He(_,C){return Ie(_+(_-C+.5>>1))}function Be(_,C,$){return Math.abs(C-$)-Math.abs(_-$)}function ze(_,C,$,U,G,Y,re){for(U=Y[re-1],$=0;$<G;++$)Y[re+$]=U=mt(_[C+$],U)}function Ge(_,C,$,U,G){var Y;for(Y=0;Y<$;++Y){var re=_[C+Y],se=re>>8&255,oe=16711935&(oe=(oe=16711935&re)+((se<<16)+se));U[G+Y]=(4278255360&re)+oe>>>0}}function st(_,C){C.jd=255&_,C.hd=_>>8&255,C.ud=_>>16&255}function St(_,C,$,U,G,Y){var re;for(re=0;re<U;++re){var se=C[$+re],oe=se>>>8,pe=se,Ce=255&(Ce=(Ce=se>>>16)+((_.jd<<24>>24)*(oe<<24>>24)>>>5));pe=255&(pe=(pe+=(_.hd<<24>>24)*(oe<<24>>24)>>>5)+((_.ud<<24>>24)*(Ce<<24>>24)>>>5)),G[Y+re]=(4278255360&se)+(Ce<<16)+pe}}function vt(_,C,$,U,G){D[C]=function(Y,re,se,oe,pe,Ce,De,me,Oe){for(oe=De;oe<me;++oe)for(De=0;De<Oe;++De)pe[Ce++]=G(se[U(Y[re++])])},D[_]=function(Y,re,se,oe,pe,Ce,De){var me=8>>Y.b,Oe=Y.Ea,Te=Y.K[0],qe=Y.w;if(8>me)for(Y=(1<<Y.b)-1,qe=(1<<me)-1;re<se;++re){var Me,We=0;for(Me=0;Me<Oe;++Me)Me&Y||(We=U(oe[pe++])),Ce[De++]=G(Te[We&qe]),We>>=me}else D["VP8LMapColor"+$](oe,pe,Te,qe,Ce,De,re,se,Oe)}}function Gn(_,C,$,U,G){for($=C+$;C<$;){var Y=_[C++];U[G++]=Y>>16&255,U[G++]=Y>>8&255,U[G++]=255&Y}}function Cn(_,C,$,U,G){for($=C+$;C<$;){var Y=_[C++];U[G++]=Y>>16&255,U[G++]=Y>>8&255,U[G++]=255&Y,U[G++]=Y>>24&255}}function Ot(_,C,$,U,G){for($=C+$;C<$;){var Y=(re=_[C++])>>16&240|re>>12&15,re=240&re|re>>28&15;U[G++]=Y,U[G++]=re}}function en(_,C,$,U,G){for($=C+$;C<$;){var Y=(re=_[C++])>>16&248|re>>13&7,re=re>>5&224|re>>3&31;U[G++]=Y,U[G++]=re}}function Tn(_,C,$,U,G){for($=C+$;C<$;){var Y=_[C++];U[G++]=255&Y,U[G++]=Y>>8&255,U[G++]=Y>>16&255}}function Ut(_,C,$,U,G,Y){if(Y==0)for($=C+$;C<$;)Ee(U,((Y=_[C++])[0]>>24|Y[1]>>8&65280|Y[2]<<8&16711680|Y[3]<<24)>>>0),G+=32;else r(U,G,_,C,$)}function $t(_,C){D[C][0]=D[_+"0"],D[C][1]=D[_+"1"],D[C][2]=D[_+"2"],D[C][3]=D[_+"3"],D[C][4]=D[_+"4"],D[C][5]=D[_+"5"],D[C][6]=D[_+"6"],D[C][7]=D[_+"7"],D[C][8]=D[_+"8"],D[C][9]=D[_+"9"],D[C][10]=D[_+"10"],D[C][11]=D[_+"11"],D[C][12]=D[_+"12"],D[C][13]=D[_+"13"],D[C][14]=D[_+"0"],D[C][15]=D[_+"0"]}function cn(_){return _==$m||_==Fm||_==Bm||_==d}function wn(){this.eb=[],this.size=this.A=this.fb=0}function Ae(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Fe(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new wn,this.f.kb=new Ae,this.sd=null}function tt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function ut(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Nn(_){return alert("todo:WebPSamplerProcessPlane"),_.T}function dn(_,C){var $=_.T,U=C.ba.f.RGBA,G=U.eb,Y=U.fb+_.ka*U.A,re=Xa[C.ba.S],se=_.y,oe=_.O,pe=_.f,Ce=_.N,De=_.ea,me=_.W,Oe=C.cc,Te=C.dc,qe=C.Mc,Me=C.Nc,We=_.ka,Xe=_.ka+_.T,dt=_.U,rt=dt+1>>1;for(We==0?re(se,oe,null,null,pe,Ce,De,me,pe,Ce,De,me,G,Y,null,null,dt):(re(C.ec,C.fc,se,oe,Oe,Te,qe,Me,pe,Ce,De,me,G,Y-U.A,G,Y,dt),++$);We+2<Xe;We+=2)Oe=pe,Te=Ce,qe=De,Me=me,Ce+=_.Rc,me+=_.Rc,Y+=2*U.A,re(se,(oe+=2*_.fa)-_.fa,se,oe,Oe,Te,qe,Me,pe,Ce,De,me,G,Y-U.A,G,Y,dt);return oe+=_.fa,_.j+Xe<_.o?(r(C.ec,C.fc,se,oe,dt),r(C.cc,C.dc,pe,Ce,rt),r(C.Mc,C.Nc,De,me,rt),$--):1&Xe||re(se,oe,null,null,pe,Ce,De,me,pe,Ce,De,me,G,Y+U.A,null,null,dt),$}function Rn(_,C,$){var U=_.F,G=[_.J];if(U!=null){var Y=_.U,re=C.ba.S,se=re==sp||re==Bm;C=C.ba.f.RGBA;var oe=[0],pe=_.ka;oe[0]=_.T,_.Kb&&(pe==0?--oe[0]:(--pe,G[0]-=_.width),_.j+_.ka+_.T==_.o&&(oe[0]=_.o-_.j-pe));var Ce=C.eb;pe=C.fb+pe*C.A,_=Xy(U,G[0],_.width,Y,oe,Ce,pe+(se?0:3),C.A),t($==oe),_&&cn(re)&&_l(Ce,pe,se,Y,oe,C.A)}return 0}function Xn(_){var C=_.ma,$=C.ba.S,U=11>$,G=$==ip||$==ap||$==sp||$==Rm||$==12||cn($);if(C.memory=null,C.Ib=null,C.Jb=null,C.Nd=null,!ls(C.Oa,_,G?11:12))return 0;if(G&&cn($)&&Jh(),_.da)alert("todo:use_scaling");else{if(U){if(C.Ib=Nn,_.Kb){if($=_.U+1>>1,C.memory=a(_.U+2*$),C.memory==null)return 0;C.ec=C.memory,C.fc=0,C.cc=C.ec,C.dc=C.fc+_.U,C.Mc=C.cc,C.Nc=C.dc+$,C.Ib=dn,Jh()}}else alert("todo:EmitYUV");G&&(C.Jb=Rn,U&&ml())}if(U&&!gI){for(_=0;256>_;++_)kie[_]=89858*(_-128)+nw>>tw,Lie[_]=-22014*(_-128)+nw,Iie[_]=-45773*(_-128),Tie[_]=113618*(_-128)+nw>>tw;for(_=n0;_<yS;++_)C=76283*(_-16)+nw>>tw,Mie[_-n0]=vr(C,255),Die[_-n0]=vr(C+8>>4,15);gI=1}return 1}function Et(_){var C=_.ma,$=_.U,U=_.T;return t(!(1&_.ka)),0>=$||0>=U?0:($=C.Ib(_,C),C.Jb!=null&&C.Jb(_,C,$),C.Dc+=$,1)}function pr(_){_.ma.memory=null}function xi(_,C,$,U){return ye(_,8)!=47?0:(C[0]=ye(_,14)+1,$[0]=ye(_,14)+1,U[0]=ye(_,1),ye(_,3)!=0?0:!_.h)}function $r(_,C){if(4>_)return _+1;var $=_-2>>1;return(2+(1&_)<<$)+ye(C,$)+1}function Vr(_,C){return 120<C?C-120:1<=($=(($=we[C-1])>>4)*_+(8-(15&$)))?$:1;var $}function $n(_,C,$){var U=Q($),G=_[C+=255&U].g-8;return 0<G&&(le($,$.u+8),U=Q($),C+=_[C].value,C+=U&(1<<G)-1),le($,$.u+_[C].g),_[C].value}function bt(_,C,$){return $.g+=_.g,$.value+=_.value<<C>>>0,t(8>=$.g),_.g}function ar(_,C,$){var U=_.xc;return t((C=U==0?0:_.vc[_.md*($>>U)+(C>>U)])<_.Wb),_.Ya[C]}function ra(_,C,$,U){var G=_.ab,Y=_.c*C,re=_.C;C=re+C;var se=$,oe=U;for(U=_.Ta,$=_.Ua;0<G--;){var pe=_.gc[G],Ce=re,De=C,me=se,Oe=oe,Te=(oe=U,se=$,pe.Ea);switch(t(Ce<De),t(De<=pe.nc),pe.hc){case 2:lf(me,Oe,(De-Ce)*Te,oe,se);break;case 0:var qe=Ce,Me=De,We=oe,Xe=se,dt=(Kt=pe).Ea;qe==0&&(yl(me,Oe,null,null,1,We,Xe),ze(me,Oe+1,0,0,dt-1,We,Xe+1),Oe+=dt,Xe+=dt,++qe);for(var rt=1<<Kt.b,Jt=rt-1,Bt=Ye(dt,Kt.b),Bn=Kt.K,Kt=Kt.w+(qe>>Kt.b)*Bt;qe<Me;){var Yn=Bn,ga=Kt,zn=1;for(aa(me,Oe,We,Xe-dt,1,We,Xe);zn<dt;){var Gt=(zn&~Jt)+rt;Gt>dt&&(Gt=dt),(0,du[Yn[ga++]>>8&15])(me,Oe+ +zn,We,Xe+zn-dt,Gt-zn,We,Xe+zn),zn=Gt}Oe+=dt,Xe+=dt,++qe&Jt||(Kt+=Bt)}De!=pe.nc&&r(oe,se-Te,oe,se+(De-Ce-1)*Te,Te);break;case 1:for(Te=me,Me=Oe,dt=(me=pe.Ea)-(Xe=me&~(We=(Oe=1<<pe.b)-1)),qe=Ye(me,pe.b),rt=pe.K,pe=pe.w+(Ce>>pe.b)*qe;Ce<De;){for(Jt=rt,Bt=pe,Bn=new fe,Kt=Me+Xe,Yn=Me+me;Me<Kt;)st(Jt[Bt++],Bn),Io(Bn,Te,Me,Oe,oe,se),Me+=Oe,se+=Oe;Me<Yn&&(st(Jt[Bt++],Bn),Io(Bn,Te,Me,dt,oe,se),Me+=dt,se+=dt),++Ce&We||(pe+=qe)}break;case 3:if(me==oe&&Oe==se&&0<pe.b){for(Me=oe,me=Te=se+(De-Ce)*Te-(Xe=(De-Ce)*Ye(pe.Ea,pe.b)),Oe=oe,We=se,qe=[],Xe=(dt=Xe)-1;0<=Xe;--Xe)qe[Xe]=Oe[We+Xe];for(Xe=dt-1;0<=Xe;--Xe)Me[me+Xe]=qe[Xe];xl(pe,Ce,De,oe,Te,oe,se)}else xl(pe,Ce,De,me,Oe,oe,se)}se=U,oe=$}oe!=$&&r(U,$,se,oe,Y)}function Ci(_,C){var $=_.V,U=_.Ba+_.c*_.C,G=C-_.C;if(t(C<=_.l.o),t(16>=G),0<G){var Y=_.l,re=_.Ta,se=_.Ua,oe=Y.width;if(ra(_,G,$,U),G=se=[se],t(($=_.C)<(U=C)),t(Y.v<Y.va),U>Y.o&&(U=Y.o),$<Y.j){var pe=Y.j-$;$=Y.j,G[0]+=pe*oe}if($>=U?$=0:(G[0]+=4*Y.v,Y.ka=$-Y.j,Y.U=Y.va-Y.v,Y.T=U-$,$=1),$){if(se=se[0],11>($=_.ca).S){var Ce=$.f.RGBA,De=(U=$.S,G=Y.U,Y=Y.T,pe=Ce.eb,Ce.A),me=Y;for(Ce=Ce.fb+_.Ma*Ce.A;0<me--;){var Oe=re,Te=se,qe=G,Me=pe,We=Ce;switch(U){case Dm:fu(Oe,Te,qe,Me,We);break;case ip:Ga(Oe,Te,qe,Me,We);break;case $m:Ga(Oe,Te,qe,Me,We),_l(Me,We,0,qe,1,0);break;case Jy:yr(Oe,Te,qe,Me,We);break;case ap:Ut(Oe,Te,qe,Me,We,1);break;case Fm:Ut(Oe,Te,qe,Me,We,1),_l(Me,We,0,qe,1,0);break;case sp:Ut(Oe,Te,qe,Me,We,0);break;case Bm:Ut(Oe,Te,qe,Me,We,0),_l(Me,We,1,qe,1,0);break;case Rm:Os(Oe,Te,qe,Me,We);break;case d:Os(Oe,Te,qe,Me,We),Zy(Me,We,qe,1,0);break;case Qb:or(Oe,Te,qe,Me,We);break;default:t(0)}se+=oe,Ce+=De}_.Ma+=Y}else alert("todo:EmitRescaledRowsYUVA");t(_.Ma<=$.height)}}_.C=C,t(_.C<=_.i)}function qa(_){var C;if(0<_.ua)return 0;for(C=0;C<_.Wb;++C){var $=_.Ya[C].G,U=_.Ya[C].H;if(0<$[1][U[1]+0].g||0<$[2][U[2]+0].g||0<$[3][U[3]+0].g)return 0}return 1}function Va(_,C,$,U,G,Y){if(_.Z!=0){var re=_.qd,se=_.rd;for(t(Or[_.Z]!=null);C<$;++C)Or[_.Z](re,se,U,G,U,G,Y),re=U,se=G,G+=Y;_.qd=re,_.rd=se}}function Wa(_,C){var $=_.l.ma,U=$.Z==0||$.Z==1?_.l.j:_.C;if(U=_.C<U?U:_.C,t(C<=_.l.o),C>U){var G=_.l.width,Y=$.ca,re=$.tb+G*U,se=_.V,oe=_.Ba+_.c*U,pe=_.gc;t(_.ab==1),t(pe[0].hc==3),cs(pe[0],U,C,se,oe,Y,re),Va($,U,C,Y,re,G)}_.C=_.Ma=C}function qi(_,C,$,U,G,Y,re){var se=_.$/U,oe=_.$%U,pe=_.m,Ce=_.s,De=$+_.$,me=De;G=$+U*G;var Oe=$+U*Y,Te=280+Ce.ua,qe=_.Pb?se:16777216,Me=0<Ce.ua?Ce.Wa:null,We=Ce.wc,Xe=De<Oe?ar(Ce,oe,se):null;t(_.C<Y),t(Oe<=G);var dt=!1;e:for(;;){for(;dt||De<Oe;){var rt=0;if(se>=qe){var Jt=De-$;t((qe=_).Pb),qe.wd=qe.m,qe.xd=Jt,0<qe.s.ua&&it(qe.s.Wa,qe.s.vb),qe=se+$e}if(oe&We||(Xe=ar(Ce,oe,se)),t(Xe!=null),Xe.Qb&&(C[De]=Xe.qb,dt=!0),!dt)if(ve(pe),Xe.jc){rt=pe,Jt=C;var Bt=De,Bn=Xe.pd[Q(rt)&Es-1];t(Xe.jc),256>Bn.g?(le(rt,rt.u+Bn.g),Jt[Bt]=Bn.value,rt=0):(le(rt,rt.u+Bn.g-256),t(256<=Bn.value),rt=Bn.value),rt==0&&(dt=!0)}else rt=$n(Xe.G[0],Xe.H[0],pe);if(pe.h)break;if(dt||256>rt){if(!dt)if(Xe.nd)C[De]=(Xe.qb|rt<<8)>>>0;else{if(ve(pe),dt=$n(Xe.G[1],Xe.H[1],pe),ve(pe),Jt=$n(Xe.G[2],Xe.H[2],pe),Bt=$n(Xe.G[3],Xe.H[3],pe),pe.h)break;C[De]=(Bt<<24|dt<<16|rt<<8|Jt)>>>0}if(dt=!1,++De,++oe>=U&&(oe=0,++se,re!=null&&se<=Y&&!(se%16)&&re(_,se),Me!=null))for(;me<De;)rt=C[me++],Me.X[(506832829*rt&4294967295)>>>Me.Mb]=rt}else if(280>rt){if(rt=$r(rt-256,pe),Jt=$n(Xe.G[4],Xe.H[4],pe),ve(pe),Jt=Vr(U,Jt=$r(Jt,pe)),pe.h)break;if(De-$<Jt||G-De<rt)break e;for(Bt=0;Bt<rt;++Bt)C[De+Bt]=C[De+Bt-Jt];for(De+=rt,oe+=rt;oe>=U;)oe-=U,++se,re!=null&&se<=Y&&!(se%16)&&re(_,se);if(t(De<=G),oe&We&&(Xe=ar(Ce,oe,se)),Me!=null)for(;me<De;)rt=C[me++],Me.X[(506832829*rt&4294967295)>>>Me.Mb]=rt}else{if(!(rt<Te))break e;for(dt=rt-280,t(Me!=null);me<De;)rt=C[me++],Me.X[(506832829*rt&4294967295)>>>Me.Mb]=rt;rt=De,t(!(dt>>>(Jt=Me).Xa)),C[rt]=Jt.X[dt],dt=!0}dt||t(pe.h==de(pe))}if(_.Pb&&pe.h&&De<G)t(_.m.h),_.a=5,_.m=_.wd,_.$=_.xd,0<_.s.ua&&it(_.s.vb,_.s.Wa);else{if(pe.h)break e;re!=null&&re(_,se>Y?Y:se),_.a=0,_.$=De-$}return 1}return _.a=3,0}function Pa(_){t(_!=null),_.vc=null,_.yc=null,_.Ya=null;var C=_.Wa;C!=null&&(C.X=null),_.vb=null,t(_!=null)}function fl(){var _=new Br;return _==null?null:(_.a=0,_.xb=e0,$t("Predictor","VP8LPredictors"),$t("Predictor","VP8LPredictors_C"),$t("PredictorAdd","VP8LPredictorsAdd"),$t("PredictorAdd","VP8LPredictorsAdd_C"),lf=Ge,Io=St,fu=Gn,Ga=Cn,Os=Ot,or=en,yr=Tn,D.VP8LMapColor32b=cf,D.VP8LMapColor8b=bl,_)}function As(_,C,$,U,G){var Y=1,re=[_],se=[C],oe=U.m,pe=U.s,Ce=null,De=0;e:for(;;){if($)for(;Y&&ye(oe,1);){var me=re,Oe=se,Te=U,qe=1,Me=Te.m,We=Te.gc[Te.ab],Xe=ye(Me,2);if(Te.Oc&1<<Xe)Y=0;else{switch(Te.Oc|=1<<Xe,We.hc=Xe,We.Ea=me[0],We.nc=Oe[0],We.K=[null],++Te.ab,t(4>=Te.ab),Xe){case 0:case 1:We.b=ye(Me,3)+2,qe=As(Ye(We.Ea,We.b),Ye(We.nc,We.b),0,Te,We.K),We.K=We.K[0];break;case 3:var dt,rt=ye(Me,8)+1,Jt=16<rt?0:4<rt?1:2<rt?2:3;if(me[0]=Ye(We.Ea,Jt),We.b=Jt,dt=qe=As(rt,1,0,Te,We.K)){var Bt,Bn=rt,Kt=We,Yn=1<<(8>>Kt.b),ga=a(Yn);if(ga==null)dt=0;else{var zn=Kt.K[0],Gt=Kt.w;for(ga[0]=Kt.K[0][0],Bt=1;Bt<1*Bn;++Bt)ga[Bt]=mt(zn[Gt+Bt],ga[Bt-1]);for(;Bt<4*Yn;++Bt)ga[Bt]=0;Kt.K[0]=null,Kt.K[0]=ga,dt=1}}qe=dt;break;case 2:break;default:t(0)}Y=qe}}if(re=re[0],se=se[0],Y&&ye(oe,1)&&!(Y=1<=(De=ye(oe,4))&&11>=De)){U.a=3;break e}var Nt;if(Nt=Y)t:{var Ki,On,rr,ei=U,Ya=re,Ts=se,Ti=De,fs=$,Is=ei.m,va=ei.s,lr=[null],kr=1,Ii=0,Tr=Le[Ti];n:for(;;){if(fs&&ye(Is,1)){var Qa=ye(Is,3)+2,pc=Ye(Ya,Qa),Gi=Ye(Ts,Qa),co=pc*Gi;if(!As(pc,Gi,0,ei,lr))break n;for(lr=lr[0],va.xc=Qa,Ki=0;Ki<co;++Ki){var zr=lr[Ki]>>8&65535;lr[Ki]=zr,zr>=kr&&(kr=zr+1)}}if(Is.h)break n;for(On=0;5>On;++On){var ya=M[On];!On&&0<Ti&&(ya+=1<<Ti),Ii<ya&&(Ii=ya)}var Do=o(kr*Tr,F),Ls=kr,Ro=o(Ls,H);if(Ro==null)var $o=null;else t(65536>=Ls),$o=Ro;var uo=a(Ii);if($o==null||uo==null||Do==null){ei.a=1;break n}var Fo=Do;for(Ki=rr=0;Ki<kr;++Ki){var Hr=$o[Ki],Bo=Hr.G,mc=Hr.H,op=0,dd=1,Ja=0;for(On=0;5>On;++On){ya=M[On],Bo[On]=Fo,mc[On]=rr,!On&&0<Ti&&(ya+=1<<Ti);i:{var iw,xS=ya,aw=ei,r0=uo,Fie=Fo,Bie=rr,bS=0,mf=aw.m,zie=ye(mf,1);if(i(r0,0,0,xS),zie){var Uie=ye(mf,1)+1,qie=ye(mf,1),xI=ye(mf,qie==0?1:8);r0[xI]=1,Uie==2&&(r0[xI=ye(mf,8)]=1);var sw=1}else{var bI=a(19),wI=ye(mf,4)+4;if(19<wI){aw.a=3;var ow=0;break i}for(iw=0;iw<wI;++iw)bI[J[iw]]=ye(mf,3);var wS=void 0,i0=void 0,_I=aw,Vie=bI,lw=xS,jI=r0,_S=0,gf=_I.m,NI=8,SI=o(128,F);r:for(;k(SI,0,7,Vie,19);){if(ye(gf,1)){var Wie=2+2*ye(gf,3);if((wS=2+ye(gf,Wie))>lw)break r}else wS=lw;for(i0=0;i0<lw&&wS--;){ve(gf);var AI=SI[0+(127&Q(gf))];le(gf,gf.u+AI.g);var Um=AI.value;if(16>Um)jI[i0++]=Um,Um!=0&&(NI=Um);else{var Hie=Um==16,PI=Um-16,Kie=S[PI],CI=ye(gf,g[PI])+Kie;if(i0+CI>lw)break r;for(var Gie=Hie?NI:0;0<CI--;)jI[i0++]=Gie}}_S=1;break r}_S||(_I.a=3),sw=_S}(sw=sw&&!mf.h)&&(bS=k(Fie,Bie,8,r0,xS)),sw&&bS!=0?ow=bS:(aw.a=3,ow=0)}if(ow==0)break n;if(dd&&q[On]==1&&(dd=Fo[rr].g==0),op+=Fo[rr].g,rr+=ow,3>=On){var a0,jS=uo[0];for(a0=1;a0<ya;++a0)uo[a0]>jS&&(jS=uo[a0]);Ja+=jS}}if(Hr.nd=dd,Hr.Qb=0,dd&&(Hr.qb=(Bo[3][mc[3]+0].value<<24|Bo[1][mc[1]+0].value<<16|Bo[2][mc[2]+0].value)>>>0,op==0&&256>Bo[0][mc[0]+0].value&&(Hr.Qb=1,Hr.qb+=Bo[0][mc[0]+0].value<<8)),Hr.jc=!Hr.Qb&&6>Ja,Hr.jc){var cw,fd=Hr;for(cw=0;cw<Es;++cw){var vf=cw,yf=fd.pd[vf],uw=fd.G[0][fd.H[0]+vf];256<=uw.value?(yf.g=uw.g+256,yf.value=uw.value):(yf.g=0,yf.value=0,vf>>=bt(uw,8,yf),vf>>=bt(fd.G[1][fd.H[1]+vf],16,yf),vf>>=bt(fd.G[2][fd.H[2]+vf],0,yf),bt(fd.G[3][fd.H[3]+vf],24,yf))}}}va.vc=lr,va.Wb=kr,va.Ya=$o,va.yc=Do,Nt=1;break t}Nt=0}if(!(Y=Nt)){U.a=3;break e}if(0<De){if(pe.ua=1<<De,!ce(pe.Wa,De)){U.a=1,Y=0;break e}}else pe.ua=0;var NS=U,EI=re,Zie=se,SS=NS.s,AS=SS.xc;if(NS.c=EI,NS.i=Zie,SS.md=Ye(EI,AS),SS.wc=AS==0?-1:(1<<AS)-1,$){U.xb=mS;break e}if((Ce=a(re*se))==null){U.a=1,Y=0;break e}Y=(Y=qi(U,Ce,0,re,se,se,null))&&!oe.h;break e}return Y?(G!=null?G[0]=Ce:(t(Ce==null),t($)),U.$=0,$||Pa(pe)):Pa(pe),Y}function Re(_,C){var $=_.c*_.i,U=$+C+16*C;return t(_.c<=C),_.V=a(U),_.V==null?(_.Ta=null,_.Ua=0,_.a=1,0):(_.Ta=_.V,_.Ua=_.Ba+$+C,1)}function at(_,C){var $=_.C,U=C-$,G=_.V,Y=_.Ba+_.c*$;for(t(C<=_.l.o);0<U;){var re=16<U?16:U,se=_.l.ma,oe=_.l.width,pe=oe*re,Ce=se.ca,De=se.tb+oe*$,me=_.Ta,Oe=_.Ua;ra(_,re,G,Y),Xb(me,Oe,Ce,De,pe),Va(se,$,$+re,Ce,De,oe),U-=re,G+=re*_.c,$+=re}t($==C),_.C=_.Ma=C}function qt(){this.ub=this.yd=this.td=this.Rb=0}function mn(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function un(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function kt(){this.Yb=function(){var _=[];return function C($,U,G){for(var Y=G[U],re=0;re<Y&&($.push(G.length>U+1?[]:0),!(G.length<U+1));re++)C($[re],U+1,G)}(_,0,[3,11]),_}()}function Ao(){this.jb=a(3),this.Wc=l([4,8],kt),this.Xc=l([4,17],kt)}function rd(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function Ha(){this.ld=this.La=this.dd=this.tc=0}function eu(){this.Na=this.la=0}function tc(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function no(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Wh(){this.uc=this.M=this.Nb=0,this.wa=Array(new Ha),this.Y=0,this.ya=Array(new no),this.aa=0,this.l=new Kn}function Hh(){this.y=a(16),this.f=a(8),this.ea=a(8)}function tu(){this.cb=this.a=0,this.sc="",this.m=new V,this.Od=new qt,this.Kc=new mn,this.ed=new rd,this.Qa=new un,this.Ic=this.$c=this.Aa=0,this.D=new Wh,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,V),this.ia=0,this.pb=o(4,tc),this.Pa=new Ao,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Hh),this.Hd=0,this.rb=Array(new eu),this.sb=0,this.wa=Array(new Ha),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new no),this.L=this.aa=0,this.gd=l([4,2],Ha),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Kn(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Fr(){var _=new tu;return _!=null&&(_.a=0,_.sc="OK",_.cb=0,_.Xb=0,rn||(rn=Po)),_}function Yr(_,C,$){return _.a==0&&(_.a=C,_.sc=$,_.cb=0),0}function nc(_,C,$){return 3<=$&&_[C+0]==157&&_[C+1]==1&&_[C+2]==42}function rc(_,C){if(_==null)return 0;if(_.a=0,_.sc="OK",C==null)return Yr(_,2,"null VP8Io passed to VP8GetHeaders()");var $=C.data,U=C.w,G=C.ha;if(4>G)return Yr(_,7,"Truncated header.");var Y=$[U+0]|$[U+1]<<8|$[U+2]<<16,re=_.Od;if(re.Rb=!(1&Y),re.td=Y>>1&7,re.yd=Y>>4&1,re.ub=Y>>5,3<re.td)return Yr(_,3,"Incorrect keyframe parameters.");if(!re.yd)return Yr(_,4,"Frame not displayable.");U+=3,G-=3;var se=_.Kc;if(re.Rb){if(7>G)return Yr(_,7,"cannot parse picture header");if(!nc($,U,G))return Yr(_,3,"Bad code word");se.c=16383&($[U+4]<<8|$[U+3]),se.Td=$[U+4]>>6,se.i=16383&($[U+6]<<8|$[U+5]),se.Ud=$[U+6]>>6,U+=7,G-=7,_.za=se.c+15>>4,_.Ub=se.i+15>>4,C.width=se.c,C.height=se.i,C.Da=0,C.j=0,C.v=0,C.va=C.width,C.o=C.height,C.da=0,C.ib=C.width,C.hb=C.height,C.U=C.width,C.T=C.height,i((Y=_.Pa).jb,0,255,Y.jb.length),t((Y=_.Qa)!=null),Y.Cb=0,Y.Bb=0,Y.Fb=1,i(Y.Zb,0,0,Y.Zb.length),i(Y.Lb,0,0,Y.Lb)}if(re.ub>G)return Yr(_,7,"bad partition length");X(Y=_.m,$,U,re.ub),U+=re.ub,G-=re.ub,re.Rb&&(se.Ld=ne(Y),se.Kd=ne(Y)),se=_.Qa;var oe,pe=_.Pa;if(t(Y!=null),t(se!=null),se.Cb=ne(Y),se.Cb){if(se.Bb=ne(Y),ne(Y)){for(se.Fb=ne(Y),oe=0;4>oe;++oe)se.Zb[oe]=ne(Y)?W(Y,7):0;for(oe=0;4>oe;++oe)se.Lb[oe]=ne(Y)?W(Y,6):0}if(se.Bb)for(oe=0;3>oe;++oe)pe.jb[oe]=ne(Y)?ae(Y,8):255}else se.Bb=0;if(Y.Ka)return Yr(_,3,"cannot parse segment header");if((se=_.ed).zd=ne(Y),se.Tb=ae(Y,6),se.wb=ae(Y,3),se.Pc=ne(Y),se.Pc&&ne(Y)){for(pe=0;4>pe;++pe)ne(Y)&&(se.vd[pe]=W(Y,6));for(pe=0;4>pe;++pe)ne(Y)&&(se.od[pe]=W(Y,6))}if(_.L=se.Tb==0?0:se.zd?1:2,Y.Ka)return Yr(_,3,"cannot parse filter header");var Ce=G;if(G=oe=U,U=oe+Ce,se=Ce,_.Xb=(1<<ae(_.m,2))-1,Ce<3*(pe=_.Xb))$=7;else{for(oe+=3*pe,se-=3*pe,Ce=0;Ce<pe;++Ce){var De=$[G+0]|$[G+1]<<8|$[G+2]<<16;De>se&&(De=se),X(_.Jc[+Ce],$,oe,De),oe+=De,se-=De,G+=3}X(_.Jc[+pe],$,oe,se),$=oe<U?0:5}if($!=0)return Yr(_,$,"cannot parse partitions");for($=ae(oe=_.m,7),G=ne(oe)?W(oe,4):0,U=ne(oe)?W(oe,4):0,se=ne(oe)?W(oe,4):0,pe=ne(oe)?W(oe,4):0,oe=ne(oe)?W(oe,4):0,Ce=_.Qa,De=0;4>De;++De){if(Ce.Cb){var me=Ce.Zb[De];Ce.Fb||(me+=$)}else{if(0<De){_.pb[De]=_.pb[0];continue}me=$}var Oe=_.pb[De];Oe.Sc[0]=nt[vr(me+G,127)],Oe.Sc[1]=Ct[vr(me+0,127)],Oe.Eb[0]=2*nt[vr(me+U,127)],Oe.Eb[1]=101581*Ct[vr(me+se,127)]>>16,8>Oe.Eb[1]&&(Oe.Eb[1]=8),Oe.Qc[0]=nt[vr(me+pe,117)],Oe.Qc[1]=Ct[vr(me+oe,127)],Oe.lc=me+oe}if(!re.Rb)return Yr(_,4,"Not a key frame.");for(ne(Y),re=_.Pa,$=0;4>$;++$){for(G=0;8>G;++G)for(U=0;3>U;++U)for(se=0;11>se;++se)pe=ge(Y,pf[$][G][U][se])?ae(Y,8):lo[$][G][U][se],re.Wc[$][G].Yb[U][se]=pe;for(G=0;17>G;++G)re.Xc[$][G]=re.Wc[$][pS[G]]}return _.kc=ne(Y),_.kc&&(_.Bd=ae(Y,8)),_.cb=1}function Po(_,C,$,U,G,Y,re){var se=C[G].Yb[$];for($=0;16>G;++G){if(!ge(_,se[$+0]))return G;for(;!ge(_,se[$+1]);)if(se=C[++G].Yb[0],$=0,G==16)return 16;var oe=C[G+1].Yb;if(ge(_,se[$+2])){var pe=_,Ce=0;if(ge(pe,(me=se)[(De=$)+3]))if(ge(pe,me[De+6])){for(se=0,De=2*(Ce=ge(pe,me[De+8]))+(me=ge(pe,me[De+9+Ce])),Ce=0,me=qn[De];me[se];++se)Ce+=Ce+ge(pe,me[se]);Ce+=3+(8<<De)}else ge(pe,me[De+7])?(Ce=7+2*ge(pe,165),Ce+=ge(pe,145)):Ce=5+ge(pe,159);else Ce=ge(pe,me[De+4])?3+ge(pe,me[De+5]):2;se=oe[2]}else Ce=1,se=oe[1];oe=re+Za[G],0>(pe=_).b&&Z(pe);var De,me=pe.b,Oe=(De=pe.Ca>>1)-(pe.I>>me)>>31;--pe.b,pe.Ca+=Oe,pe.Ca|=1,pe.I-=(De+1&Oe)<<me,Y[oe]=((Ce^Oe)-Oe)*U[(0<G)+0]}return 16}function xn(_){var C=_.rb[_.sb-1];C.la=0,C.Na=0,i(_.zc,0,0,_.zc.length),_.ja=0}function sr(_,C,$,U,G){G=_[C+$+32*U]+(G>>3),_[C+$+32*U]=-256&G?0>G?0:255:G}function ic(_,C,$,U,G,Y){sr(_,C,0,$,U+G),sr(_,C,1,$,U+Y),sr(_,C,2,$,U-Y),sr(_,C,3,$,U-G)}function Wr(_){return(20091*_>>16)+_}function Ca(_,C,$,U){var G,Y=0,re=a(16);for(G=0;4>G;++G){var se=_[C+0]+_[C+8],oe=_[C+0]-_[C+8],pe=(35468*_[C+4]>>16)-Wr(_[C+12]),Ce=Wr(_[C+4])+(35468*_[C+12]>>16);re[Y+0]=se+Ce,re[Y+1]=oe+pe,re[Y+2]=oe-pe,re[Y+3]=se-Ce,Y+=4,C++}for(G=Y=0;4>G;++G)se=(_=re[Y+0]+4)+re[Y+8],oe=_-re[Y+8],pe=(35468*re[Y+4]>>16)-Wr(re[Y+12]),sr($,U,0,0,se+(Ce=Wr(re[Y+4])+(35468*re[Y+12]>>16))),sr($,U,1,0,oe+pe),sr($,U,2,0,oe-pe),sr($,U,3,0,se-Ce),Y++,U+=32}function Hy(_,C,$,U){var G=_[C+0]+4,Y=35468*_[C+4]>>16,re=Wr(_[C+4]),se=35468*_[C+1]>>16;ic($,U,0,G+re,_=Wr(_[C+1]),se),ic($,U,1,G+Y,_,se),ic($,U,2,G-Y,_,se),ic($,U,3,G-re,_,se)}function nf(_,C,$,U,G){Ca(_,C,$,U),G&&Ca(_,C+16,$,U+4)}function ac(_,C,$,U){hi(_,C+0,$,U,1),hi(_,C+32,$,U+128,1)}function mr(_,C,$,U){var G;for(_=_[C+0]+4,G=0;4>G;++G)for(C=0;4>C;++C)sr($,U,C,G,_)}function hl(_,C,$,U){_[C+0]&&wl(_,C+0,$,U),_[C+16]&&wl(_,C+16,$,U+4),_[C+32]&&wl(_,C+32,$,U+128),_[C+48]&&wl(_,C+48,$,U+128+4)}function nu(_,C,$,U){var G,Y=a(16);for(G=0;4>G;++G){var re=_[C+0+G]+_[C+12+G],se=_[C+4+G]+_[C+8+G],oe=_[C+4+G]-_[C+8+G],pe=_[C+0+G]-_[C+12+G];Y[0+G]=re+se,Y[8+G]=re-se,Y[4+G]=pe+oe,Y[12+G]=pe-oe}for(G=0;4>G;++G)re=(_=Y[0+4*G]+3)+Y[3+4*G],se=Y[1+4*G]+Y[2+4*G],oe=Y[1+4*G]-Y[2+4*G],pe=_-Y[3+4*G],$[U+0]=re+se>>3,$[U+16]=pe+oe>>3,$[U+32]=re-se>>3,$[U+48]=pe-oe>>3,U+=64}function ro(_,C,$){var U,G=C-32,Y=us,re=255-_[G-1];for(U=0;U<$;++U){var se,oe=Y,pe=re+_[C-1];for(se=0;se<$;++se)_[C+se]=oe[pe+_[G+se]];C+=32}}function id(_,C){ro(_,C,4)}function ad(_,C){ro(_,C,8)}function Kh(_,C){ro(_,C,16)}function Gh(_,C){var $;for($=0;16>$;++$)r(_,C+32*$,_,C-32,16)}function ru(_,C){var $;for($=16;0<$;--$)i(_,C,_[C-1],16),C+=32}function sc(_,C,$){var U;for(U=0;16>U;++U)i(C,$+32*U,_,16)}function pl(_,C){var $,U=16;for($=0;16>$;++$)U+=_[C-1+32*$]+_[C+$-32];sc(U>>5,_,C)}function rf(_,C){var $,U=8;for($=0;16>$;++$)U+=_[C-1+32*$];sc(U>>4,_,C)}function iu(_,C){var $,U=8;for($=0;16>$;++$)U+=_[C+$-32];sc(U>>4,_,C)}function sd(_,C){sc(128,_,C)}function _n(_,C,$){return _+2*C+$+2>>2}function Sn(_,C){var $,U=C-32;for(U=new Uint8Array([_n(_[U-1],_[U+0],_[U+1]),_n(_[U+0],_[U+1],_[U+2]),_n(_[U+1],_[U+2],_[U+3]),_n(_[U+2],_[U+3],_[U+4])]),$=0;4>$;++$)r(_,C+32*$,U,0,U.length)}function io(_,C){var $=_[C-1],U=_[C-1+32],G=_[C-1+64],Y=_[C-1+96];Ee(_,C+0,16843009*_n(_[C-1-32],$,U)),Ee(_,C+32,16843009*_n($,U,G)),Ee(_,C+64,16843009*_n(U,G,Y)),Ee(_,C+96,16843009*_n(G,Y,Y))}function Nr(_,C){var $,U=4;for($=0;4>$;++$)U+=_[C+$-32]+_[C-1+32*$];for(U>>=3,$=0;4>$;++$)i(_,C+32*$,U,4)}function km(_,C){var $=_[C-1+0],U=_[C-1+32],G=_[C-1+64],Y=_[C-1-32],re=_[C+0-32],se=_[C+1-32],oe=_[C+2-32],pe=_[C+3-32];_[C+0+96]=_n(U,G,_[C-1+96]),_[C+1+96]=_[C+0+64]=_n($,U,G),_[C+2+96]=_[C+1+64]=_[C+0+32]=_n(Y,$,U),_[C+3+96]=_[C+2+64]=_[C+1+32]=_[C+0+0]=_n(re,Y,$),_[C+3+64]=_[C+2+32]=_[C+1+0]=_n(se,re,Y),_[C+3+32]=_[C+2+0]=_n(oe,se,re),_[C+3+0]=_n(pe,oe,se)}function Co(_,C){var $=_[C+1-32],U=_[C+2-32],G=_[C+3-32],Y=_[C+4-32],re=_[C+5-32],se=_[C+6-32],oe=_[C+7-32];_[C+0+0]=_n(_[C+0-32],$,U),_[C+1+0]=_[C+0+32]=_n($,U,G),_[C+2+0]=_[C+1+32]=_[C+0+64]=_n(U,G,Y),_[C+3+0]=_[C+2+32]=_[C+1+64]=_[C+0+96]=_n(G,Y,re),_[C+3+32]=_[C+2+64]=_[C+1+96]=_n(Y,re,se),_[C+3+64]=_[C+2+96]=_n(re,se,oe),_[C+3+96]=_n(se,oe,oe)}function Eo(_,C){var $=_[C-1+0],U=_[C-1+32],G=_[C-1+64],Y=_[C-1-32],re=_[C+0-32],se=_[C+1-32],oe=_[C+2-32],pe=_[C+3-32];_[C+0+0]=_[C+1+64]=Y+re+1>>1,_[C+1+0]=_[C+2+64]=re+se+1>>1,_[C+2+0]=_[C+3+64]=se+oe+1>>1,_[C+3+0]=oe+pe+1>>1,_[C+0+96]=_n(G,U,$),_[C+0+64]=_n(U,$,Y),_[C+0+32]=_[C+1+96]=_n($,Y,re),_[C+1+32]=_[C+2+96]=_n(Y,re,se),_[C+2+32]=_[C+3+96]=_n(re,se,oe),_[C+3+32]=_n(se,oe,pe)}function Zh(_,C){var $=_[C+0-32],U=_[C+1-32],G=_[C+2-32],Y=_[C+3-32],re=_[C+4-32],se=_[C+5-32],oe=_[C+6-32],pe=_[C+7-32];_[C+0+0]=$+U+1>>1,_[C+1+0]=_[C+0+64]=U+G+1>>1,_[C+2+0]=_[C+1+64]=G+Y+1>>1,_[C+3+0]=_[C+2+64]=Y+re+1>>1,_[C+0+32]=_n($,U,G),_[C+1+32]=_[C+0+96]=_n(U,G,Y),_[C+2+32]=_[C+1+96]=_n(G,Y,re),_[C+3+32]=_[C+2+96]=_n(Y,re,se),_[C+3+64]=_n(re,se,oe),_[C+3+96]=_n(se,oe,pe)}function oc(_,C){var $=_[C-1+0],U=_[C-1+32],G=_[C-1+64],Y=_[C-1+96];_[C+0+0]=$+U+1>>1,_[C+2+0]=_[C+0+32]=U+G+1>>1,_[C+2+32]=_[C+0+64]=G+Y+1>>1,_[C+1+0]=_n($,U,G),_[C+3+0]=_[C+1+32]=_n(U,G,Y),_[C+3+32]=_[C+1+64]=_n(G,Y,Y),_[C+3+64]=_[C+2+64]=_[C+0+96]=_[C+1+96]=_[C+2+96]=_[C+3+96]=Y}function au(_,C){var $=_[C-1+0],U=_[C-1+32],G=_[C-1+64],Y=_[C-1+96],re=_[C-1-32],se=_[C+0-32],oe=_[C+1-32],pe=_[C+2-32];_[C+0+0]=_[C+2+32]=$+re+1>>1,_[C+0+32]=_[C+2+64]=U+$+1>>1,_[C+0+64]=_[C+2+96]=G+U+1>>1,_[C+0+96]=Y+G+1>>1,_[C+3+0]=_n(se,oe,pe),_[C+2+0]=_n(re,se,oe),_[C+1+0]=_[C+3+32]=_n($,re,se),_[C+1+32]=_[C+3+64]=_n(U,$,re),_[C+1+64]=_[C+3+96]=_n(G,U,$),_[C+1+96]=_n(Y,G,U)}function lc(_,C){var $;for($=0;8>$;++$)r(_,C+32*$,_,C-32,8)}function Qr(_,C){var $;for($=0;8>$;++$)i(_,C,_[C-1],8),C+=32}function ao(_,C,$){var U;for(U=0;8>U;++U)i(C,$+32*U,_,8)}function od(_,C){var $,U=8;for($=0;8>$;++$)U+=_[C+$-32]+_[C-1+32*$];ao(U>>4,_,C)}function Tm(_,C){var $,U=4;for($=0;8>$;++$)U+=_[C+$-32];ao(U>>3,_,C)}function Xh(_,C){var $,U=4;for($=0;8>$;++$)U+=_[C-1+32*$];ao(U>>3,_,C)}function af(_,C){ao(128,_,C)}function cc(_,C,$){var U=_[C-$],G=_[C+0],Y=3*(G-U)+hf[1020+_[C-2*$]-_[C+$]],re=hu[112+(Y+4>>3)];_[C-$]=us[255+U+hu[112+(Y+3>>3)]],_[C+0]=us[255+G-re]}function ld(_,C,$,U){var G=_[C+0],Y=_[C+$];return ks[255+_[C-2*$]-_[C-$]]>U||ks[255+Y-G]>U}function sf(_,C,$,U){return 4*ks[255+_[C-$]-_[C+0]]+ks[255+_[C-2*$]-_[C+$]]<=U}function Fn(_,C,$,U,G){var Y=_[C-3*$],re=_[C-2*$],se=_[C-$],oe=_[C+0],pe=_[C+$],Ce=_[C+2*$],De=_[C+3*$];return 4*ks[255+se-oe]+ks[255+re-pe]>U?0:ks[255+_[C-4*$]-Y]<=G&&ks[255+Y-re]<=G&&ks[255+re-se]<=G&&ks[255+De-Ce]<=G&&ks[255+Ce-pe]<=G&&ks[255+pe-oe]<=G}function Yh(_,C,$,U){var G=2*U+1;for(U=0;16>U;++U)sf(_,C+U,$,G)&&cc(_,C+U,$)}function fa(_,C,$,U){var G=2*U+1;for(U=0;16>U;++U)sf(_,C+U*$,1,G)&&cc(_,C+U*$,1)}function uc(_,C,$,U){var G;for(G=3;0<G;--G)Yh(_,C+=4*$,$,U)}function of(_,C,$,U){var G;for(G=3;0<G;--G)fa(_,C+=4,$,U)}function Ps(_,C,$,U,G,Y,re,se){for(Y=2*Y+1;0<G--;){if(Fn(_,C,$,Y,re))if(ld(_,C,$,se))cc(_,C,$);else{var oe=_,pe=C,Ce=$,De=oe[pe-2*Ce],me=oe[pe-Ce],Oe=oe[pe+0],Te=oe[pe+Ce],qe=oe[pe+2*Ce],Me=27*(Xe=hf[1020+3*(Oe-me)+hf[1020+De-Te]])+63>>7,We=18*Xe+63>>7,Xe=9*Xe+63>>7;oe[pe-3*Ce]=us[255+oe[pe-3*Ce]+Xe],oe[pe-2*Ce]=us[255+De+We],oe[pe-Ce]=us[255+me+Me],oe[pe+0]=us[255+Oe-Me],oe[pe+Ce]=us[255+Te-We],oe[pe+2*Ce]=us[255+qe-Xe]}C+=U}}function so(_,C,$,U,G,Y,re,se){for(Y=2*Y+1;0<G--;){if(Fn(_,C,$,Y,re))if(ld(_,C,$,se))cc(_,C,$);else{var oe=_,pe=C,Ce=$,De=oe[pe-Ce],me=oe[pe+0],Oe=oe[pe+Ce],Te=hu[112+(4+(qe=3*(me-De))>>3)],qe=hu[112+(qe+3>>3)],Me=Te+1>>1;oe[pe-2*Ce]=us[255+oe[pe-2*Ce]+Me],oe[pe-Ce]=us[255+De+qe],oe[pe+0]=us[255+me-Te],oe[pe+Ce]=us[255+Oe-Me]}C+=U}}function R(_,C,$,U,G,Y){Ps(_,C,$,1,16,U,G,Y)}function K(_,C,$,U,G,Y){Ps(_,C,1,$,16,U,G,Y)}function he(_,C,$,U,G,Y){var re;for(re=3;0<re;--re)so(_,C+=4*$,$,1,16,U,G,Y)}function je(_,C,$,U,G,Y){var re;for(re=3;0<re;--re)so(_,C+=4,1,$,16,U,G,Y)}function ke(_,C,$,U,G,Y,re,se){Ps(_,C,G,1,8,Y,re,se),Ps($,U,G,1,8,Y,re,se)}function Ke(_,C,$,U,G,Y,re,se){Ps(_,C,1,G,8,Y,re,se),Ps($,U,1,G,8,Y,re,se)}function Qe(_,C,$,U,G,Y,re,se){so(_,C+4*G,G,1,8,Y,re,se),so($,U+4*G,G,1,8,Y,re,se)}function Ft(_,C,$,U,G,Y,re,se){so(_,C+4,1,G,8,Y,re,se),so($,U+4,1,G,8,Y,re,se)}function Vt(){this.ba=new Fe,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new ut,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function nn(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function An(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function nr(){this.ua=0,this.Wa=new _t,this.vb=new _t,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new H,this.yc=new F}function Br(){this.xb=this.a=0,this.l=new Kn,this.ca=new Fe,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new ee,this.Pb=0,this.wd=new ee,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new nr,this.ab=0,this.gc=o(4,An),this.Oc=0}function Ei(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Kn,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function gr(_,C,$,U,G,Y,re){for(_=_==null?0:_[C+0],C=0;C<re;++C)G[Y+C]=_+$[U+C]&255,_=G[Y+C]}function Oi(_,C,$,U,G,Y,re){var se;if(_==null)gr(null,null,$,U,G,Y,re);else for(se=0;se<re;++se)G[Y+se]=_[C+se]+$[U+se]&255}function ki(_,C,$,U,G,Y,re){if(_==null)gr(null,null,$,U,G,Y,re);else{var se,oe=_[C+0],pe=oe,Ce=oe;for(se=0;se<re;++se)pe=Ce+(oe=_[C+se])-pe,Ce=$[U+se]+(-256&pe?0>pe?0:255:pe)&255,pe=oe,G[Y+se]=Ce}}function ha(_,C,$,U){var G=C.width,Y=C.o;if(t(_!=null&&C!=null),0>$||0>=U||$+U>Y)return null;if(!_.Cc){if(_.ga==null){var re;if(_.ga=new Ei,(re=_.ga==null)||(re=C.width*C.o,t(_.Gb.length==0),_.Gb=a(re),_.Uc=0,_.Gb==null?re=0:(_.mb=_.Gb,_.nb=_.Uc,_.rc=null,re=1),re=!re),!re){re=_.ga;var se=_.Fa,oe=_.P,pe=_.qc,Ce=_.mb,De=_.nb,me=oe+1,Oe=pe-1,Te=re.l;if(t(se!=null&&Ce!=null&&C!=null),Or[0]=null,Or[1]=gr,Or[2]=Oi,Or[3]=ki,re.ca=Ce,re.tb=De,re.c=C.width,re.i=C.height,t(0<re.c&&0<re.i),1>=pe)C=0;else if(re.$a=3&se[oe+0],re.Z=se[oe+0]>>2&3,re.Lc=se[oe+0]>>4&3,oe=se[oe+0]>>6&3,0>re.$a||1<re.$a||4<=re.Z||1<re.Lc||oe)C=0;else if(Te.put=Et,Te.ac=Xn,Te.bc=pr,Te.ma=re,Te.width=C.width,Te.height=C.height,Te.Da=C.Da,Te.v=C.v,Te.va=C.va,Te.j=C.j,Te.o=C.o,re.$a)e:{t(re.$a==1),C=fl();t:for(;;){if(C==null){C=0;break e}if(t(re!=null),re.mc=C,C.c=re.c,C.i=re.i,C.l=re.l,C.l.ma=re,C.l.width=re.c,C.l.height=re.i,C.a=0,te(C.m,se,me,Oe),!As(re.c,re.i,1,C,null)||(C.ab==1&&C.gc[0].hc==3&&qa(C.s)?(re.ic=1,se=C.c*C.i,C.Ta=null,C.Ua=0,C.V=a(se),C.Ba=0,C.V==null?(C.a=1,C=0):C=1):(re.ic=0,C=Re(C,re.c)),!C))break t;C=1;break e}re.mc=null,C=0}else C=Oe>=re.c*re.i;re=!C}if(re)return null;_.ga.Lc!=1?_.Ga=0:U=Y-$}t(_.ga!=null),t($+U<=Y);e:{if(C=(se=_.ga).c,Y=se.l.o,se.$a==0){if(me=_.rc,Oe=_.Vc,Te=_.Fa,oe=_.P+1+$*C,pe=_.mb,Ce=_.nb+$*C,t(oe<=_.P+_.qc),se.Z!=0)for(t(Or[se.Z]!=null),re=0;re<U;++re)Or[se.Z](me,Oe,Te,oe,pe,Ce,C),me=pe,Oe=Ce,Ce+=C,oe+=C;else for(re=0;re<U;++re)r(pe,Ce,Te,oe,C),me=pe,Oe=Ce,Ce+=C,oe+=C;_.rc=me,_.Vc=Oe}else{if(t(se.mc!=null),C=$+U,t((re=se.mc)!=null),t(C<=re.i),re.C>=C)C=1;else if(se.ic||ml(),se.ic){se=re.V,me=re.Ba,Oe=re.c;var qe=re.i,Me=(Te=1,oe=re.$/Oe,pe=re.$%Oe,Ce=re.m,De=re.s,re.$),We=Oe*qe,Xe=Oe*C,dt=De.wc,rt=Me<Xe?ar(De,pe,oe):null;t(Me<=We),t(C<=qe),t(qa(De));t:for(;;){for(;!Ce.h&&Me<Xe;){if(pe&dt||(rt=ar(De,pe,oe)),t(rt!=null),ve(Ce),256>(qe=$n(rt.G[0],rt.H[0],Ce)))se[me+Me]=qe,++Me,++pe>=Oe&&(pe=0,++oe<=C&&!(oe%16)&&Wa(re,oe));else{if(!(280>qe)){Te=0;break t}qe=$r(qe-256,Ce);var Jt,Bt=$n(rt.G[4],rt.H[4],Ce);if(ve(Ce),!(Me>=(Bt=Vr(Oe,Bt=$r(Bt,Ce)))&&We-Me>=qe)){Te=0;break t}for(Jt=0;Jt<qe;++Jt)se[me+Me+Jt]=se[me+Me+Jt-Bt];for(Me+=qe,pe+=qe;pe>=Oe;)pe-=Oe,++oe<=C&&!(oe%16)&&Wa(re,oe);Me<Xe&&pe&dt&&(rt=ar(De,pe,oe))}t(Ce.h==de(Ce))}Wa(re,oe>C?C:oe);break t}!Te||Ce.h&&Me<We?(Te=0,re.a=Ce.h?5:3):re.$=Me,C=Te}else C=qi(re,re.V,re.Ba,re.c,re.i,C,at);if(!C){U=0;break e}}$+U>=Y&&(_.Cc=1),U=1}if(!U)return null;if(_.Cc&&((U=_.ga)!=null&&(U.mc=null),_.ga=null,0<_.Ga))return alert("todo:WebPDequantizeLevels"),null}return _.nb+$*G}function Oo(_,C,$,U,G,Y){for(;0<G--;){var re,se=_,oe=C+($?1:0),pe=_,Ce=C+($?0:3);for(re=0;re<U;++re){var De=pe[Ce+4*re];De!=255&&(De*=32897,se[oe+4*re+0]=se[oe+4*re+0]*De>>23,se[oe+4*re+1]=se[oe+4*re+1]*De>>23,se[oe+4*re+2]=se[oe+4*re+2]*De>>23)}C+=Y}}function su(_,C,$,U,G){for(;0<U--;){var Y;for(Y=0;Y<$;++Y){var re=_[C+2*Y+0],se=15&(pe=_[C+2*Y+1]),oe=4369*se,pe=(240&pe|pe>>4)*oe>>16;_[C+2*Y+0]=(240&re|re>>4)*oe>>16&240|(15&re|re<<4)*oe>>16>>4&15,_[C+2*Y+1]=240&pe|se}C+=G}}function Im(_,C,$,U,G,Y,re,se){var oe,pe,Ce=255;for(pe=0;pe<G;++pe){for(oe=0;oe<U;++oe){var De=_[C+oe];Y[re+4*oe]=De,Ce&=De}C+=$,re+=se}return Ce!=255}function Qh(_,C,$,U,G){var Y;for(Y=0;Y<G;++Y)$[U+Y]=_[C+Y]>>8}function ml(){_l=Oo,Zy=su,Xy=Im,Xb=Qh}function pa(_,C,$){D[_]=function(U,G,Y,re,se,oe,pe,Ce,De,me,Oe,Te,qe,Me,We,Xe,dt){var rt,Jt=dt-1>>1,Bt=se[oe+0]|pe[Ce+0]<<16,Bn=De[me+0]|Oe[Te+0]<<16;t(U!=null);var Kt=3*Bt+Bn+131074>>2;for(C(U[G+0],255&Kt,Kt>>16,qe,Me),Y!=null&&(Kt=3*Bn+Bt+131074>>2,C(Y[re+0],255&Kt,Kt>>16,We,Xe)),rt=1;rt<=Jt;++rt){var Yn=se[oe+rt]|pe[Ce+rt]<<16,ga=De[me+rt]|Oe[Te+rt]<<16,zn=Bt+Yn+Bn+ga+524296,Gt=zn+2*(Yn+Bn)>>3;Kt=Gt+Bt>>1,Bt=(zn=zn+2*(Bt+ga)>>3)+Yn>>1,C(U[G+2*rt-1],255&Kt,Kt>>16,qe,Me+(2*rt-1)*$),C(U[G+2*rt-0],255&Bt,Bt>>16,qe,Me+(2*rt-0)*$),Y!=null&&(Kt=zn+Bn>>1,Bt=Gt+ga>>1,C(Y[re+2*rt-1],255&Kt,Kt>>16,We,Xe+(2*rt-1)*$),C(Y[re+2*rt+0],255&Bt,Bt>>16,We,Xe+(2*rt+0)*$)),Bt=Yn,Bn=ga}1&dt||(Kt=3*Bt+Bn+131074>>2,C(U[G+dt-1],255&Kt,Kt>>16,qe,Me+(dt-1)*$),Y!=null&&(Kt=3*Bn+Bt+131074>>2,C(Y[re+dt-1],255&Kt,Kt>>16,We,Xe+(dt-1)*$)))}}function Jh(){Xa[Dm]=gS,Xa[ip]=Jb,Xa[Jy]=vS,Xa[ap]=zm,Xa[sp]=t0,Xa[Rm]=ew,Xa[Qb]=Eie,Xa[$m]=Jb,Xa[Fm]=zm,Xa[Bm]=t0,Xa[d]=ew}function gl(_){return _&~Oie?0>_?0:255:_>>mI}function Vi(_,C){return gl((19077*_>>8)+(26149*C>>8)-14234)}function Wi(_,C,$){return gl((19077*_>>8)-(6419*C>>8)-(13320*$>>8)+8708)}function vl(_,C){return gl((19077*_>>8)+(33050*C>>8)-17685)}function dc(_,C,$,U,G){U[G+0]=Vi(_,$),U[G+1]=Wi(_,C,$),U[G+2]=vl(_,C)}function ou(_,C,$,U,G){U[G+0]=vl(_,C),U[G+1]=Wi(_,C,$),U[G+2]=Vi(_,$)}function cd(_,C,$,U,G){var Y=Wi(_,C,$);C=Y<<3&224|vl(_,C)>>3,U[G+0]=248&Vi(_,$)|Y>>5,U[G+1]=C}function Ka(_,C,$,U,G){var Y=240&vl(_,C)|15;U[G+0]=240&Vi(_,$)|Wi(_,C,$)>>4,U[G+1]=Y}function Lm(_,C,$,U,G){U[G+0]=255,dc(_,C,$,U,G+1)}function ud(_,C,$,U,G){ou(_,C,$,U,G),U[G+3]=255}function Mm(_,C,$,U,G){dc(_,C,$,U,G),U[G+3]=255}function vr(_,C){return 0>_?0:_>C?C:_}function ma(_,C,$){D[_]=function(U,G,Y,re,se,oe,pe,Ce,De){for(var me=Ce+(-2&De)*$;Ce!=me;)C(U[G+0],Y[re+0],se[oe+0],pe,Ce),C(U[G+1],Y[re+0],se[oe+0],pe,Ce+$),G+=2,++re,++oe,Ce+=2*$;1&De&&C(U[G+0],Y[re+0],se[oe+0],pe,Ce)}}function ep(_,C,$){return $==0?_==0?C==0?6:5:C==0?4:0:$}function Cs(_,C,$,U,G){switch(_>>>30){case 3:hi(C,$,U,G,0);break;case 2:fc(C,$,U,G);break;case 1:wl(C,$,U,G)}}function lu(_,C){var $,U,G=C.M,Y=C.Nb,re=_.oc,se=_.pc+40,oe=_.oc,pe=_.pc+584,Ce=_.oc,De=_.pc+600;for($=0;16>$;++$)re[se+32*$-1]=129;for($=0;8>$;++$)oe[pe+32*$-1]=129,Ce[De+32*$-1]=129;for(0<G?re[se-1-32]=oe[pe-1-32]=Ce[De-1-32]=129:(i(re,se-32-1,127,21),i(oe,pe-32-1,127,9),i(Ce,De-32-1,127,9)),U=0;U<_.za;++U){var me=C.ya[C.aa+U];if(0<U){for($=-1;16>$;++$)r(re,se+32*$-4,re,se+32*$+12,4);for($=-1;8>$;++$)r(oe,pe+32*$-4,oe,pe+32*$+4,4),r(Ce,De+32*$-4,Ce,De+32*$+4,4)}var Oe=_.Gd,Te=_.Hd+U,qe=me.ad,Me=me.Hc;if(0<G&&(r(re,se-32,Oe[Te].y,0,16),r(oe,pe-32,Oe[Te].f,0,8),r(Ce,De-32,Oe[Te].ea,0,8)),me.Za){var We=re,Xe=se-32+16;for(0<G&&(U>=_.za-1?i(We,Xe,Oe[Te].y[15],4):r(We,Xe,Oe[Te+1].y,0,4)),$=0;4>$;$++)We[Xe+128+$]=We[Xe+256+$]=We[Xe+384+$]=We[Xe+0+$];for($=0;16>$;++$,Me<<=2)We=re,Xe=se+vI[$],Mo[me.Ob[$]](We,Xe),Cs(Me,qe,16*+$,We,Xe)}else if(We=ep(U,G,me.Ob[0]),pu[We](re,se),Me!=0)for($=0;16>$;++$,Me<<=2)Cs(Me,qe,16*+$,re,se+vI[$]);for($=me.Gc,We=ep(U,G,me.Dd),Nl[We](oe,pe),Nl[We](Ce,De),Me=qe,We=oe,Xe=pe,255&(me=0|$)&&(170&me?hc(Me,256,We,Xe):uf(Me,256,We,Xe)),me=Ce,Me=De,255&($>>=8)&&(170&$?hc(qe,320,me,Me):uf(qe,320,me,Me)),G<_.Ub-1&&(r(Oe[Te].y,0,re,se+480,16),r(Oe[Te].f,0,oe,pe+224,8),r(Oe[Te].ea,0,Ce,De+224,8)),$=8*Y*_.B,Oe=_.sa,Te=_.ta+16*U+16*Y*_.R,qe=_.qa,me=_.ra+8*U+$,Me=_.Ha,We=_.Ia+8*U+$,$=0;16>$;++$)r(Oe,Te+$*_.R,re,se+32*$,16);for($=0;8>$;++$)r(qe,me+$*_.B,oe,pe+32*$,8),r(Me,We+$*_.B,Ce,De+32*$,8)}}function ko(_,C,$,U,G,Y,re,se,oe){var pe=[0],Ce=[0],De=0,me=oe!=null?oe.kd:0,Oe=oe??new nn;if(_==null||12>$)return 7;Oe.data=_,Oe.w=C,Oe.ha=$,C=[C],$=[$],Oe.gb=[Oe.gb];e:{var Te=C,qe=$,Me=Oe.gb;if(t(_!=null),t(qe!=null),t(Me!=null),Me[0]=0,12<=qe[0]&&!n(_,Te[0],"RIFF")){if(n(_,Te[0]+8,"WEBP")){Me=3;break e}var We=Pe(_,Te[0]+4);if(12>We||4294967286<We){Me=3;break e}if(me&&We>qe[0]-8){Me=7;break e}Me[0]=We,Te[0]+=12,qe[0]-=12}Me=0}if(Me!=0)return Me;for(We=0<Oe.gb[0],$=$[0];;){e:{var Xe=_;qe=C,Me=$;var dt=pe,rt=Ce,Jt=Te=[0];if((Kt=De=[De])[0]=0,8>Me[0])Me=7;else{if(!n(Xe,qe[0],"VP8X")){if(Pe(Xe,qe[0]+4)!=10){Me=3;break e}if(18>Me[0]){Me=7;break e}var Bt=Pe(Xe,qe[0]+8),Bn=1+Ue(Xe,qe[0]+12);if(2147483648<=Bn*(Xe=1+Ue(Xe,qe[0]+15))){Me=3;break e}Jt!=null&&(Jt[0]=Bt),dt!=null&&(dt[0]=Bn),rt!=null&&(rt[0]=Xe),qe[0]+=18,Me[0]-=18,Kt[0]=1}Me=0}}if(De=De[0],Te=Te[0],Me!=0)return Me;if(qe=!!(2&Te),!We&&De)return 3;if(Y!=null&&(Y[0]=!!(16&Te)),re!=null&&(re[0]=qe),se!=null&&(se[0]=0),re=pe[0],Te=Ce[0],De&&qe&&oe==null){Me=0;break}if(4>$){Me=7;break}if(We&&De||!We&&!De&&!n(_,C[0],"ALPH")){$=[$],Oe.na=[Oe.na],Oe.P=[Oe.P],Oe.Sa=[Oe.Sa];e:{Bt=_,Me=C,We=$;var Kt=Oe.gb;dt=Oe.na,rt=Oe.P,Jt=Oe.Sa,Bn=22,t(Bt!=null),t(We!=null),Xe=Me[0];var Yn=We[0];for(t(dt!=null),t(Jt!=null),dt[0]=null,rt[0]=null,Jt[0]=0;;){if(Me[0]=Xe,We[0]=Yn,8>Yn){Me=7;break e}var ga=Pe(Bt,Xe+4);if(4294967286<ga){Me=3;break e}var zn=8+ga+1&-2;if(Bn+=zn,0<Kt&&Bn>Kt){Me=3;break e}if(!n(Bt,Xe,"VP8 ")||!n(Bt,Xe,"VP8L")){Me=0;break e}if(Yn[0]<zn){Me=7;break e}n(Bt,Xe,"ALPH")||(dt[0]=Bt,rt[0]=Xe+8,Jt[0]=ga),Xe+=zn,Yn-=zn}}if($=$[0],Oe.na=Oe.na[0],Oe.P=Oe.P[0],Oe.Sa=Oe.Sa[0],Me!=0)break}$=[$],Oe.Ja=[Oe.Ja],Oe.xa=[Oe.xa];e:if(Kt=_,Me=C,We=$,dt=Oe.gb[0],rt=Oe.Ja,Jt=Oe.xa,Bt=Me[0],Xe=!n(Kt,Bt,"VP8 "),Bn=!n(Kt,Bt,"VP8L"),t(Kt!=null),t(We!=null),t(rt!=null),t(Jt!=null),8>We[0])Me=7;else{if(Xe||Bn){if(Kt=Pe(Kt,Bt+4),12<=dt&&Kt>dt-12){Me=3;break e}if(me&&Kt>We[0]-8){Me=7;break e}rt[0]=Kt,Me[0]+=8,We[0]-=8,Jt[0]=Bn}else Jt[0]=5<=We[0]&&Kt[Bt+0]==47&&!(Kt[Bt+4]>>5),rt[0]=We[0];Me=0}if($=$[0],Oe.Ja=Oe.Ja[0],Oe.xa=Oe.xa[0],C=C[0],Me!=0)break;if(4294967286<Oe.Ja)return 3;if(se==null||qe||(se[0]=Oe.xa?2:1),re=[re],Te=[Te],Oe.xa){if(5>$){Me=7;break}se=re,me=Te,qe=Y,_==null||5>$?_=0:5<=$&&_[C+0]==47&&!(_[C+4]>>5)?(We=[0],Kt=[0],dt=[0],te(rt=new ee,_,C,$),xi(rt,We,Kt,dt)?(se!=null&&(se[0]=We[0]),me!=null&&(me[0]=Kt[0]),qe!=null&&(qe[0]=dt[0]),_=1):_=0):_=0}else{if(10>$){Me=7;break}se=Te,_==null||10>$||!nc(_,C+3,$-3)?_=0:(me=_[C+0]|_[C+1]<<8|_[C+2]<<16,qe=16383&(_[C+7]<<8|_[C+6]),_=16383&(_[C+9]<<8|_[C+8]),1&me||3<(me>>1&7)||!(me>>4&1)||me>>5>=Oe.Ja||!qe||!_?_=0:(re&&(re[0]=qe),se&&(se[0]=_),_=1))}if(!_||(re=re[0],Te=Te[0],De&&(pe[0]!=re||Ce[0]!=Te)))return 3;oe!=null&&(oe[0]=Oe,oe.offset=C-oe.w,t(4294967286>C-oe.w),t(oe.offset==oe.ha-$));break}return Me==0||Me==7&&De&&oe==null?(Y!=null&&(Y[0]|=Oe.na!=null&&0<Oe.na.length),U!=null&&(U[0]=re),G!=null&&(G[0]=Te),0):Me}function ls(_,C,$){var U=C.width,G=C.height,Y=0,re=0,se=U,oe=G;if(C.Da=_!=null&&0<_.Da,C.Da&&(se=_.cd,oe=_.bd,Y=_.v,re=_.j,11>$||(Y&=-2,re&=-2),0>Y||0>re||0>=se||0>=oe||Y+se>U||re+oe>G))return 0;if(C.v=Y,C.j=re,C.va=Y+se,C.o=re+oe,C.U=se,C.T=oe,C.da=_!=null&&0<_.da,C.da){if(!gt(se,oe,$=[_.ib],Y=[_.hb]))return 0;C.ib=$[0],C.hb=Y[0]}return C.ob=_!=null&&_.ob,C.Kb=_==null||!_.Sd,C.da&&(C.ob=C.ib<3*U/4&&C.hb<3*G/4,C.Kb=0),1}function ia(_){if(_==null)return 2;if(11>_.S){var C=_.f.RGBA;C.fb+=(_.height-1)*C.A,C.A=-C.A}else C=_.f.kb,_=_.height,C.O+=(_-1)*C.fa,C.fa=-C.fa,C.N+=(_-1>>1)*C.Ab,C.Ab=-C.Ab,C.W+=(_-1>>1)*C.Db,C.Db=-C.Db,C.F!=null&&(C.J+=(_-1)*C.lb,C.lb=-C.lb);return 0}function cu(_,C,$,U){if(U==null||0>=_||0>=C)return 2;if($!=null){if($.Da){var G=$.cd,Y=$.bd,re=-2&$.v,se=-2&$.j;if(0>re||0>se||0>=G||0>=Y||re+G>_||se+Y>C)return 2;_=G,C=Y}if($.da){if(!gt(_,C,G=[$.ib],Y=[$.hb]))return 2;_=G[0],C=Y[0]}}U.width=_,U.height=C;e:{var oe=U.width,pe=U.height;if(_=U.S,0>=oe||0>=pe||!(_>=Dm&&13>_))_=2;else{if(0>=U.Rd&&U.sd==null){re=Y=G=C=0;var Ce=(se=oe*yI[_])*pe;if(11>_||(Y=(pe+1)/2*(C=(oe+1)/2),_==12&&(re=(G=oe)*pe)),(pe=a(Ce+2*Y+re))==null){_=1;break e}U.sd=pe,11>_?((oe=U.f.RGBA).eb=pe,oe.fb=0,oe.A=se,oe.size=Ce):((oe=U.f.kb).y=pe,oe.O=0,oe.fa=se,oe.Fd=Ce,oe.f=pe,oe.N=0+Ce,oe.Ab=C,oe.Cd=Y,oe.ea=pe,oe.W=0+Ce+Y,oe.Db=C,oe.Ed=Y,_==12&&(oe.F=pe,oe.J=0+Ce+2*Y),oe.Tc=re,oe.lb=G)}if(C=1,G=U.S,Y=U.width,re=U.height,G>=Dm&&13>G)if(11>G)_=U.f.RGBA,C&=(se=Math.abs(_.A))*(re-1)+Y<=_.size,C&=se>=Y*yI[G],C&=_.eb!=null;else{_=U.f.kb,se=(Y+1)/2,Ce=(re+1)/2,oe=Math.abs(_.fa),pe=Math.abs(_.Ab);var De=Math.abs(_.Db),me=Math.abs(_.lb),Oe=me*(re-1)+Y;C&=oe*(re-1)+Y<=_.Fd,C&=pe*(Ce-1)+se<=_.Cd,C=(C&=De*(Ce-1)+se<=_.Ed)&oe>=Y&pe>=se&De>=se,C&=_.y!=null,C&=_.f!=null,C&=_.ea!=null,G==12&&(C&=me>=Y,C&=Oe<=_.Tc,C&=_.F!=null)}else C=0;_=C?0:2}}return _!=0||$!=null&&$.fd&&(_=ia(U)),_}var Es=64,uu=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],oo=24,To=32,bi=8,tp=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];ct("Predictor0","PredictorAdd0"),D.Predictor0=function(){return 4278190080},D.Predictor1=function(_){return _},D.Predictor2=function(_,C,$){return C[$+0]},D.Predictor3=function(_,C,$){return C[$+1]},D.Predictor4=function(_,C,$){return C[$-1]},D.Predictor5=function(_,C,$){return Ne(Ne(_,C[$+1]),C[$+0])},D.Predictor6=function(_,C,$){return Ne(_,C[$-1])},D.Predictor7=function(_,C,$){return Ne(_,C[$+0])},D.Predictor8=function(_,C,$){return Ne(C[$-1],C[$+0])},D.Predictor9=function(_,C,$){return Ne(C[$+0],C[$+1])},D.Predictor10=function(_,C,$){return Ne(Ne(_,C[$-1]),Ne(C[$+0],C[$+1]))},D.Predictor11=function(_,C,$){var U=C[$+0];return 0>=Be(U>>24&255,_>>24&255,(C=C[$-1])>>24&255)+Be(U>>16&255,_>>16&255,C>>16&255)+Be(U>>8&255,_>>8&255,C>>8&255)+Be(255&U,255&_,255&C)?U:_},D.Predictor12=function(_,C,$){var U=C[$+0];return(Ie((_>>24&255)+(U>>24&255)-((C=C[$-1])>>24&255))<<24|Ie((_>>16&255)+(U>>16&255)-(C>>16&255))<<16|Ie((_>>8&255)+(U>>8&255)-(C>>8&255))<<8|Ie((255&_)+(255&U)-(255&C)))>>>0},D.Predictor13=function(_,C,$){var U=C[$-1];return(He((_=Ne(_,C[$+0]))>>24&255,U>>24&255)<<24|He(_>>16&255,U>>16&255)<<16|He(_>>8&255,U>>8&255)<<8|He(255&_,255&U))>>>0};var yl=D.PredictorAdd0;D.PredictorAdd1=ze,ct("Predictor2","PredictorAdd2"),ct("Predictor3","PredictorAdd3"),ct("Predictor4","PredictorAdd4"),ct("Predictor5","PredictorAdd5"),ct("Predictor6","PredictorAdd6"),ct("Predictor7","PredictorAdd7"),ct("Predictor8","PredictorAdd8"),ct("Predictor9","PredictorAdd9"),ct("Predictor10","PredictorAdd10"),ct("Predictor11","PredictorAdd11"),ct("Predictor12","PredictorAdd12"),ct("Predictor13","PredictorAdd13");var aa=D.PredictorAdd2;vt("ColorIndexInverseTransform","MapARGB","32b",function(_){return _>>8&255},function(_){return _}),vt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(_){return _},function(_){return _>>8&255});var lf,xl=D.ColorIndexInverseTransform,cf=D.MapARGB,cs=D.VP8LColorIndexInverseTransformAlpha,bl=D.MapAlpha,du=D.VP8LPredictorsAdd=[];du.length=16,(D.VP8LPredictors=[]).length=16,(D.VP8LPredictorsAdd_C=[]).length=16,(D.VP8LPredictors_C=[]).length=16;var Io,fu,Ga,Os,or,yr,Jr,hi,fc,hc,wl,uf,Vb,Ky,Wb,Lo,np,Hb,rp,Kb,Gy,Gb,df,Zb,_l,Zy,Xy,Xb,jl=a(511),Yy=a(2041),Qy=a(225),ff=a(767),Yb=0,hf=Yy,hu=Qy,us=ff,ks=jl,Dm=0,ip=1,Jy=2,ap=3,sp=4,Rm=5,Qb=6,$m=7,Fm=8,Bm=9,d=10,g=[2,3,7],S=[3,3,11],M=[280,256,256,256,40],q=[0,1,1,1,0],J=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],we=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Le=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],$e=8,nt=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Ct=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],rn=null,qn=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Za=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Hi=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],lo=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],ds=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],pf=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],pS=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],pu=[],Mo=[],Nl=[],mS=1,e0=2,Or=[],Xa=[];pa("UpsampleRgbLinePair",dc,3),pa("UpsampleBgrLinePair",ou,3),pa("UpsampleRgbaLinePair",Mm,4),pa("UpsampleBgraLinePair",ud,4),pa("UpsampleArgbLinePair",Lm,4),pa("UpsampleRgba4444LinePair",Ka,2),pa("UpsampleRgb565LinePair",cd,2);var gS=D.UpsampleRgbLinePair,vS=D.UpsampleBgrLinePair,Jb=D.UpsampleRgbaLinePair,zm=D.UpsampleBgraLinePair,t0=D.UpsampleArgbLinePair,ew=D.UpsampleRgba4444LinePair,Eie=D.UpsampleRgb565LinePair,tw=16,nw=1<<tw-1,n0=-227,yS=482,mI=6,Oie=(256<<mI)-1,gI=0,kie=a(256),Tie=a(256),Iie=a(256),Lie=a(256),Mie=a(yS-n0),Die=a(yS-n0);ma("YuvToRgbRow",dc,3),ma("YuvToBgrRow",ou,3),ma("YuvToRgbaRow",Mm,4),ma("YuvToBgraRow",ud,4),ma("YuvToArgbRow",Lm,4),ma("YuvToRgba4444Row",Ka,2),ma("YuvToRgb565Row",cd,2);var vI=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],rw=[0,2,8],Rie=[8,7,6,4,4,2,2,2,1,1,1,1],$ie=1;this.WebPDecodeRGBA=function(_,C,$,U,G){var Y=ip,re=new Vt,se=new Fe;re.ba=se,se.S=Y,se.width=[se.width],se.height=[se.height];var oe=se.width,pe=se.height,Ce=new tt;if(Ce==null||_==null)var De=2;else t(Ce!=null),De=ko(_,C,$,Ce.width,Ce.height,Ce.Pd,Ce.Qd,Ce.format,null);if(De!=0?oe=0:(oe!=null&&(oe[0]=Ce.width[0]),pe!=null&&(pe[0]=Ce.height[0]),oe=1),oe){se.width=se.width[0],se.height=se.height[0],U!=null&&(U[0]=se.width),G!=null&&(G[0]=se.height);e:{if(U=new Kn,(G=new nn).data=_,G.w=C,G.ha=$,G.kd=1,C=[0],t(G!=null),((_=ko(G.data,G.w,G.ha,null,null,null,C,null,G))==0||_==7)&&C[0]&&(_=4),(C=_)==0){if(t(re!=null),U.data=G.data,U.w=G.w+G.offset,U.ha=G.ha-G.offset,U.put=Et,U.ac=Xn,U.bc=pr,U.ma=re,G.xa){if((_=fl())==null){re=1;break e}if(function(me,Oe){var Te=[0],qe=[0],Me=[0];t:for(;;){if(me==null)return 0;if(Oe==null)return me.a=2,0;if(me.l=Oe,me.a=0,te(me.m,Oe.data,Oe.w,Oe.ha),!xi(me.m,Te,qe,Me)){me.a=3;break t}if(me.xb=e0,Oe.width=Te[0],Oe.height=qe[0],!As(Te[0],qe[0],1,me,null))break t;return 1}return t(me.a!=0),0}(_,U)){if(U=(C=cu(U.width,U.height,re.Oa,re.ba))==0){t:{U=_;n:for(;;){if(U==null){U=0;break t}if(t(U.s.yc!=null),t(U.s.Ya!=null),t(0<U.s.Wb),t(($=U.l)!=null),t((G=$.ma)!=null),U.xb!=0){if(U.ca=G.ba,U.tb=G.tb,t(U.ca!=null),!ls(G.Oa,$,ap)){U.a=2;break n}if(!Re(U,$.width)||$.da)break n;if(($.da||cn(U.ca.S))&&ml(),11>U.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),U.ca.f.kb.F!=null&&ml()),U.Pb&&0<U.s.ua&&U.s.vb.X==null&&!ce(U.s.vb,U.s.Wa.Xa)){U.a=1;break n}U.xb=0}if(!qi(U,U.V,U.Ba,U.c,U.i,$.o,Ci))break n;G.Dc=U.Ma,U=1;break t}t(U.a!=0),U=0}U=!U}U&&(C=_.a)}else C=_.a}else{if((_=new Fr)==null){re=1;break e}if(_.Fa=G.na,_.P=G.P,_.qc=G.Sa,rc(_,U)){if((C=cu(U.width,U.height,re.Oa,re.ba))==0){if(_.Aa=0,$=re.Oa,t((G=_)!=null),$!=null){if(0<(oe=0>(oe=$.Md)?0:100<oe?255:255*oe/100)){for(pe=Ce=0;4>pe;++pe)12>(De=G.pb[pe]).lc&&(De.ia=oe*Rie[0>De.lc?0:De.lc]>>3),Ce|=De.ia;Ce&&(alert("todo:VP8InitRandom"),G.ia=1)}G.Ga=$.Id,100<G.Ga?G.Ga=100:0>G.Ga&&(G.Ga=0)}(function(me,Oe){if(me==null)return 0;if(Oe==null)return Yr(me,2,"NULL VP8Io parameter in VP8Decode().");if(!me.cb&&!rc(me,Oe))return 0;if(t(me.cb),Oe.ac==null||Oe.ac(Oe)){Oe.ob&&(me.L=0);var Te=rw[me.L];if(me.L==2?(me.yb=0,me.zb=0):(me.yb=Oe.v-Te>>4,me.zb=Oe.j-Te>>4,0>me.yb&&(me.yb=0),0>me.zb&&(me.zb=0)),me.Va=Oe.o+15+Te>>4,me.Hb=Oe.va+15+Te>>4,me.Hb>me.za&&(me.Hb=me.za),me.Va>me.Ub&&(me.Va=me.Ub),0<me.L){var qe=me.ed;for(Te=0;4>Te;++Te){var Me;if(me.Qa.Cb){var We=me.Qa.Lb[Te];me.Qa.Fb||(We+=qe.Tb)}else We=qe.Tb;for(Me=0;1>=Me;++Me){var Xe=me.gd[Te][Me],dt=We;if(qe.Pc&&(dt+=qe.vd[0],Me&&(dt+=qe.od[0])),0<(dt=0>dt?0:63<dt?63:dt)){var rt=dt;0<qe.wb&&(rt=4<qe.wb?rt>>2:rt>>1)>9-qe.wb&&(rt=9-qe.wb),1>rt&&(rt=1),Xe.dd=rt,Xe.tc=2*dt+rt,Xe.ld=40<=dt?2:15<=dt?1:0}else Xe.tc=0;Xe.La=Me}}}Te=0}else Yr(me,6,"Frame setup failed"),Te=me.a;if(Te=Te==0){if(Te){me.$c=0,0<me.Aa||(me.Ic=$ie);t:{Te=me.Ic,qe=4*(rt=me.za);var Jt=32*rt,Bt=rt+1,Bn=0<me.L?rt*(0<me.Aa?2:1):0,Kt=(me.Aa==2?2:1)*rt;if((Xe=qe+832+(Me=3*(16*Te+rw[me.L])/2*Jt)+(We=me.Fa!=null&&0<me.Fa.length?me.Kc.c*me.Kc.i:0))!=Xe)Te=0;else{if(Xe>me.Vb){if(me.Vb=0,me.Ec=a(Xe),me.Fc=0,me.Ec==null){Te=Yr(me,1,"no memory during frame initialization.");break t}me.Vb=Xe}Xe=me.Ec,dt=me.Fc,me.Ac=Xe,me.Bc=dt,dt+=qe,me.Gd=o(Jt,Hh),me.Hd=0,me.rb=o(Bt+1,eu),me.sb=1,me.wa=Bn?o(Bn,Ha):null,me.Y=0,me.D.Nb=0,me.D.wa=me.wa,me.D.Y=me.Y,0<me.Aa&&(me.D.Y+=rt),t(!0),me.oc=Xe,me.pc=dt,dt+=832,me.ya=o(Kt,no),me.aa=0,me.D.ya=me.ya,me.D.aa=me.aa,me.Aa==2&&(me.D.aa+=rt),me.R=16*rt,me.B=8*rt,rt=(Jt=rw[me.L])*me.R,Jt=Jt/2*me.B,me.sa=Xe,me.ta=dt+rt,me.qa=me.sa,me.ra=me.ta+16*Te*me.R+Jt,me.Ha=me.qa,me.Ia=me.ra+8*Te*me.B+Jt,me.$c=0,dt+=Me,me.mb=We?Xe:null,me.nb=We?dt:null,t(dt+We<=me.Fc+me.Vb),xn(me),i(me.Ac,me.Bc,0,qe),Te=1}}if(Te){if(Oe.ka=0,Oe.y=me.sa,Oe.O=me.ta,Oe.f=me.qa,Oe.N=me.ra,Oe.ea=me.Ha,Oe.Vd=me.Ia,Oe.fa=me.R,Oe.Rc=me.B,Oe.F=null,Oe.J=0,!Yb){for(Te=-255;255>=Te;++Te)jl[255+Te]=0>Te?-Te:Te;for(Te=-1020;1020>=Te;++Te)Yy[1020+Te]=-128>Te?-128:127<Te?127:Te;for(Te=-112;112>=Te;++Te)Qy[112+Te]=-16>Te?-16:15<Te?15:Te;for(Te=-255;510>=Te;++Te)ff[255+Te]=0>Te?0:255<Te?255:Te;Yb=1}Jr=nu,hi=nf,hc=ac,wl=mr,uf=hl,fc=Hy,Vb=R,Ky=K,Wb=ke,Lo=Ke,np=he,Hb=je,rp=Qe,Kb=Ft,Gy=Yh,Gb=fa,df=uc,Zb=of,Mo[0]=Nr,Mo[1]=id,Mo[2]=Sn,Mo[3]=io,Mo[4]=km,Mo[5]=Eo,Mo[6]=Co,Mo[7]=Zh,Mo[8]=au,Mo[9]=oc,pu[0]=pl,pu[1]=Kh,pu[2]=Gh,pu[3]=ru,pu[4]=rf,pu[5]=iu,pu[6]=sd,Nl[0]=od,Nl[1]=ad,Nl[2]=lc,Nl[3]=Qr,Nl[4]=Xh,Nl[5]=Tm,Nl[6]=af,Te=1}else Te=0}Te&&(Te=function(Yn,ga){for(Yn.M=0;Yn.M<Yn.Va;++Yn.M){var zn,Gt=Yn.Jc[Yn.M&Yn.Xb],Nt=Yn.m,Ki=Yn;for(zn=0;zn<Ki.za;++zn){var On=Nt,rr=Ki,ei=rr.Ac,Ya=rr.Bc+4*zn,Ts=rr.zc,Ti=rr.ya[rr.aa+zn];if(rr.Qa.Bb?Ti.$b=ge(On,rr.Pa.jb[0])?2+ge(On,rr.Pa.jb[2]):ge(On,rr.Pa.jb[1]):Ti.$b=0,rr.kc&&(Ti.Ad=ge(On,rr.Bd)),Ti.Za=!ge(On,145)+0,Ti.Za){var fs=Ti.Ob,Is=0;for(rr=0;4>rr;++rr){var va,lr=Ts[0+rr];for(va=0;4>va;++va){lr=ds[ei[Ya+va]][lr];for(var kr=Hi[ge(On,lr[0])];0<kr;)kr=Hi[2*kr+ge(On,lr[kr])];lr=-kr,ei[Ya+va]=lr}r(fs,Is,ei,Ya,4),Is+=4,Ts[0+rr]=lr}}else lr=ge(On,156)?ge(On,128)?1:3:ge(On,163)?2:0,Ti.Ob[0]=lr,i(ei,Ya,lr,4),i(Ts,0,lr,4);Ti.Dd=ge(On,142)?ge(On,114)?ge(On,183)?1:3:2:0}if(Ki.m.Ka)return Yr(Yn,7,"Premature end-of-partition0 encountered.");for(;Yn.ja<Yn.za;++Yn.ja){if(Ki=Gt,On=(Nt=Yn).rb[Nt.sb-1],ei=Nt.rb[Nt.sb+Nt.ja],zn=Nt.ya[Nt.aa+Nt.ja],Ya=Nt.kc?zn.Ad:0)On.la=ei.la=0,zn.Za||(On.Na=ei.Na=0),zn.Hc=0,zn.Gc=0,zn.ia=0;else{var Ii,Tr;if(On=ei,ei=Ki,Ya=Nt.Pa.Xc,Ts=Nt.ya[Nt.aa+Nt.ja],Ti=Nt.pb[Ts.$b],rr=Ts.ad,fs=0,Is=Nt.rb[Nt.sb-1],lr=va=0,i(rr,fs,0,384),Ts.Za)var Qa=0,pc=Ya[3];else{kr=a(16);var Gi=On.Na+Is.Na;if(Gi=rn(ei,Ya[1],Gi,Ti.Eb,0,kr,0),On.Na=Is.Na=(0<Gi)+0,1<Gi)Jr(kr,0,rr,fs);else{var co=kr[0]+3>>3;for(kr=0;256>kr;kr+=16)rr[fs+kr]=co}Qa=1,pc=Ya[0]}var zr=15&On.la,ya=15&Is.la;for(kr=0;4>kr;++kr){var Do=1&ya;for(co=Tr=0;4>co;++co)zr=zr>>1|(Do=(Gi=rn(ei,pc,Gi=Do+(1&zr),Ti.Sc,Qa,rr,fs))>Qa)<<7,Tr=Tr<<2|(3<Gi?3:1<Gi?2:rr[fs+0]!=0),fs+=16;zr>>=4,ya=ya>>1|Do<<7,va=(va<<8|Tr)>>>0}for(pc=zr,Qa=ya>>4,Ii=0;4>Ii;Ii+=2){for(Tr=0,zr=On.la>>4+Ii,ya=Is.la>>4+Ii,kr=0;2>kr;++kr){for(Do=1&ya,co=0;2>co;++co)Gi=Do+(1&zr),zr=zr>>1|(Do=0<(Gi=rn(ei,Ya[2],Gi,Ti.Qc,0,rr,fs)))<<3,Tr=Tr<<2|(3<Gi?3:1<Gi?2:rr[fs+0]!=0),fs+=16;zr>>=2,ya=ya>>1|Do<<5}lr|=Tr<<4*Ii,pc|=zr<<4<<Ii,Qa|=(240&ya)<<Ii}On.la=pc,Is.la=Qa,Ts.Hc=va,Ts.Gc=lr,Ts.ia=43690&lr?0:Ti.ia,Ya=!(va|lr)}if(0<Nt.L&&(Nt.wa[Nt.Y+Nt.ja]=Nt.gd[zn.$b][zn.Za],Nt.wa[Nt.Y+Nt.ja].La|=!Ya),Ki.Ka)return Yr(Yn,7,"Premature end-of-file encountered.")}if(xn(Yn),Nt=ga,Ki=1,zn=(Gt=Yn).D,On=0<Gt.L&&Gt.M>=Gt.zb&&Gt.M<=Gt.Va,Gt.Aa==0)t:{if(zn.M=Gt.M,zn.uc=On,lu(Gt,zn),Ki=1,zn=(Tr=Gt.D).Nb,On=(lr=rw[Gt.L])*Gt.R,ei=lr/2*Gt.B,kr=16*zn*Gt.R,co=8*zn*Gt.B,Ya=Gt.sa,Ts=Gt.ta-On+kr,Ti=Gt.qa,rr=Gt.ra-ei+co,fs=Gt.Ha,Is=Gt.Ia-ei+co,ya=(zr=Tr.M)==0,va=zr>=Gt.Va-1,Gt.Aa==2&&lu(Gt,Tr),Tr.uc)for(Do=(Gi=Gt).D.M,t(Gi.D.uc),Tr=Gi.yb;Tr<Gi.Hb;++Tr){Qa=Tr,pc=Do;var Ls=(Ro=(Ja=Gi).D).Nb;Ii=Ja.R;var Ro=Ro.wa[Ro.Y+Qa],$o=Ja.sa,uo=Ja.ta+16*Ls*Ii+16*Qa,Fo=Ro.dd,Hr=Ro.tc;if(Hr!=0)if(t(3<=Hr),Ja.L==1)0<Qa&&Gb($o,uo,Ii,Hr+4),Ro.La&&Zb($o,uo,Ii,Hr),0<pc&&Gy($o,uo,Ii,Hr+4),Ro.La&&df($o,uo,Ii,Hr);else{var Bo=Ja.B,mc=Ja.qa,op=Ja.ra+8*Ls*Bo+8*Qa,dd=Ja.Ha,Ja=Ja.Ia+8*Ls*Bo+8*Qa;Ls=Ro.ld,0<Qa&&(Ky($o,uo,Ii,Hr+4,Fo,Ls),Lo(mc,op,dd,Ja,Bo,Hr+4,Fo,Ls)),Ro.La&&(Hb($o,uo,Ii,Hr,Fo,Ls),Kb(mc,op,dd,Ja,Bo,Hr,Fo,Ls)),0<pc&&(Vb($o,uo,Ii,Hr+4,Fo,Ls),Wb(mc,op,dd,Ja,Bo,Hr+4,Fo,Ls)),Ro.La&&(np($o,uo,Ii,Hr,Fo,Ls),rp(mc,op,dd,Ja,Bo,Hr,Fo,Ls))}}if(Gt.ia&&alert("todo:DitherRow"),Nt.put!=null){if(Tr=16*zr,zr=16*(zr+1),ya?(Nt.y=Gt.sa,Nt.O=Gt.ta+kr,Nt.f=Gt.qa,Nt.N=Gt.ra+co,Nt.ea=Gt.Ha,Nt.W=Gt.Ia+co):(Tr-=lr,Nt.y=Ya,Nt.O=Ts,Nt.f=Ti,Nt.N=rr,Nt.ea=fs,Nt.W=Is),va||(zr-=lr),zr>Nt.o&&(zr=Nt.o),Nt.F=null,Nt.J=null,Gt.Fa!=null&&0<Gt.Fa.length&&Tr<zr&&(Nt.J=ha(Gt,Nt,Tr,zr-Tr),Nt.F=Gt.mb,Nt.F==null&&Nt.F.length==0)){Ki=Yr(Gt,3,"Could not decode alpha data.");break t}Tr<Nt.j&&(lr=Nt.j-Tr,Tr=Nt.j,t(!(1&lr)),Nt.O+=Gt.R*lr,Nt.N+=Gt.B*(lr>>1),Nt.W+=Gt.B*(lr>>1),Nt.F!=null&&(Nt.J+=Nt.width*lr)),Tr<zr&&(Nt.O+=Nt.v,Nt.N+=Nt.v>>1,Nt.W+=Nt.v>>1,Nt.F!=null&&(Nt.J+=Nt.v),Nt.ka=Tr-Nt.j,Nt.U=Nt.va-Nt.v,Nt.T=zr-Tr,Ki=Nt.put(Nt))}zn+1!=Gt.Ic||va||(r(Gt.sa,Gt.ta-On,Ya,Ts+16*Gt.R,On),r(Gt.qa,Gt.ra-ei,Ti,rr+8*Gt.B,ei),r(Gt.Ha,Gt.Ia-ei,fs,Is+8*Gt.B,ei))}if(!Ki)return Yr(Yn,6,"Output aborted.")}return 1}(me,Oe)),Oe.bc!=null&&Oe.bc(Oe),Te&=1}return Te?(me.cb=0,Te):0})(_,U)||(C=_.a)}}else C=_.a}C==0&&re.Oa!=null&&re.Oa.fd&&(C=ia(re.ba))}re=C}Y=re!=0?null:11>Y?se.f.RGBA.eb:se.f.kb.y}else Y=null;return Y};var yI=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(D,z){for(var T="",k=0;k<4;k++)T+=String.fromCharCode(D[z++]);return T}function f(D,z){return D[z+0]|D[z+1]<<8}function h(D,z){return(D[z+0]|D[z+1]<<8|D[z+2]<<16)>>>0}function p(D,z){return(D[z+0]|D[z+1]<<8|D[z+2]<<16|D[z+3]<<24)>>>0}new c;var m=[0],x=[0],v=[],y=new c,b=e,w=function(D,z){var T={},k=0,F=!1,B=0,H=0;if(T.frames=[],!function(V,ee){for(var Q=0;Q<4;Q++)if(V[ee+Q]!="RIFF".charCodeAt(Q))return!0;return!1}(D,z)){for(p(D,z+=4),z+=8;z<D.length;){var X=u(D,z),ae=p(D,z+=4);z+=4;var W=ae+(1&ae);switch(X){case"VP8 ":case"VP8L":T.frames[k]===void 0&&(T.frames[k]={}),(ye=T.frames[k]).src_off=F?H:z-8,ye.src_size=B+ae+8,k++,F&&(F=!1,B=0,H=0);break;case"VP8X":(ye=T.header={}).feature_flags=D[z];var te=z+4;ye.canvas_width=1+h(D,te),te+=3,ye.canvas_height=1+h(D,te),te+=3;break;case"ALPH":F=!0,B=W+8,H=z-8;break;case"ANIM":(ye=T.header).bgcolor=p(D,z),te=z+4,ye.loop_count=f(D,te),te+=2;break;case"ANMF":var ue,ye;(ye=T.frames[k]={}).offset_x=2*h(D,z),z+=3,ye.offset_y=2*h(D,z),z+=3,ye.width=1+h(D,z),z+=3,ye.height=1+h(D,z),z+=3,ye.duration=h(D,z),z+=3,ue=D[z++],ye.dispose=1&ue,ye.blend=ue>>1&1}X!="ANMF"&&(z+=W)}return T}}(b,0);w.response=b,w.rgbaoutput=!0,w.dataurl=!1;var j=w.header?w.header:null,P=w.frames?w.frames:null;if(j){j.loop_counter=j.loop_count,m=[j.canvas_height],x=[j.canvas_width];for(var A=0;A<P.length&&P[A].blend!=0;A++);}var E=P[0],O=y.WebPDecodeRGBA(b,E.src_off,E.src_size,x,m);E.rgba=O,E.imgwidth=x[0],E.imgheight=m[0];for(var I=0;I<x[0]*m[0]*4;I++)v[I]=O[I];return this.width=x,this.height=m,this.data=v,this}(function(e){var t,n,r,i,a,o,l,c,u,f=function(V){return V=V||{},this.isStrokeTransparent=V.isStrokeTransparent||!1,this.strokeOpacity=V.strokeOpacity||1,this.strokeStyle=V.strokeStyle||"#000000",this.fillStyle=V.fillStyle||"#000000",this.isFillTransparent=V.isFillTransparent||!1,this.fillOpacity=V.fillOpacity||1,this.font=V.font||"10px sans-serif",this.textBaseline=V.textBaseline||"alphabetic",this.textAlign=V.textAlign||"left",this.lineWidth=V.lineWidth||1,this.lineJoin=V.lineJoin||"miter",this.lineCap=V.lineCap||"butt",this.path=V.path||[],this.transform=V.transform!==void 0?V.transform.clone():new c,this.globalCompositeOperation=V.globalCompositeOperation||"normal",this.globalAlpha=V.globalAlpha||1,this.clip_path=V.clip_path||[],this.currentPoint=V.currentPoint||new o,this.miterLimit=V.miterLimit||10,this.lastPoint=V.lastPoint||new o,this.lineDashOffset=V.lineDashOffset||0,this.lineDash=V.lineDash||[],this.margin=V.margin||[0,0,0,0],this.prevPageLastElemOffset=V.prevPageLastElemOffset||0,this.ignoreClearRect=typeof V.ignoreClearRect!="boolean"||V.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new h(this),t=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,o=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,u=new f}]);var h=function(V){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var ee=V;Object.defineProperty(this,"pdf",{get:function(){return ee}});var Q=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Q},set:function(Pe){Q=!!Pe}});var de=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return de},set:function(Pe){de=!!Pe}});var le=0;Object.defineProperty(this,"posX",{get:function(){return le},set:function(Pe){isNaN(Pe)||(le=Pe)}});var ve=0;Object.defineProperty(this,"posY",{get:function(){return ve},set:function(Pe){isNaN(Pe)||(ve=Pe)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(Pe){var ce;typeof Pe=="number"?ce=[Pe,Pe,Pe,Pe]:((ce=new Array(4))[0]=Pe[0],ce[1]=Pe.length>=2?Pe[1]:ce[0],ce[2]=Pe.length>=3?Pe[2]:ce[0],ce[3]=Pe.length>=4?Pe[3]:ce[1]),u.margin=ce}});var Z=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Z},set:function(Pe){Z=Pe}});var ne=0;Object.defineProperty(this,"lastBreak",{get:function(){return ne},set:function(Pe){ne=Pe}});var ge=[];Object.defineProperty(this,"pageBreaks",{get:function(){return ge},set:function(Pe){ge=Pe}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(Pe){Pe instanceof f&&(u=Pe)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(Pe){u.path=Pe}});var Ee=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ee},set:function(Pe){Ee=Pe}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Pe){var ce;ce=p(Pe),this.ctx.fillStyle=ce.style,this.ctx.isFillTransparent=ce.a===0,this.ctx.fillOpacity=ce.a,this.pdf.setFillColor(ce.r,ce.g,ce.b,{a:ce.a}),this.pdf.setTextColor(ce.r,ce.g,ce.b,{a:ce.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Pe){var ce=p(Pe);this.ctx.strokeStyle=ce.style,this.ctx.isStrokeTransparent=ce.a===0,this.ctx.strokeOpacity=ce.a,ce.a===0?this.pdf.setDrawColor(255,255,255):(ce.a,this.pdf.setDrawColor(ce.r,ce.g,ce.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Pe){["butt","round","square"].indexOf(Pe)!==-1&&(this.ctx.lineCap=Pe,this.pdf.setLineCap(Pe))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Pe){isNaN(Pe)||(this.ctx.lineWidth=Pe,this.pdf.setLineWidth(Pe))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Pe){["bevel","round","miter"].indexOf(Pe)!==-1&&(this.ctx.lineJoin=Pe,this.pdf.setLineJoin(Pe))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Pe){isNaN(Pe)||(this.ctx.miterLimit=Pe,this.pdf.setMiterLimit(Pe))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Pe){this.ctx.textBaseline=Pe}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Pe){["right","end","center","left","start"].indexOf(Pe)!==-1&&(this.ctx.textAlign=Pe)}});var be=null,Ue=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ue},set:function(Pe){be=null,Ue=Pe}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Pe){var ce;if(this.ctx.font=Pe,(ce=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Pe))!==null){var it=ce[1];ce[2];var _t=ce[3],gt=ce[4];ce[5];var Ye=ce[6],mt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(gt)[2];gt=Math.floor(mt==="px"?parseFloat(gt)*this.pdf.internal.scaleFactor:mt==="em"?parseFloat(gt)*this.pdf.getFontSize():parseFloat(gt)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(gt);var ct=function(St){var vt,Gn,Cn=[],Ot=St.trim();if(Ot==="")return xP;if(Ot in pF)return[pF[Ot]];for(;Ot!=="";){switch(Gn=null,vt=(Ot=gF(Ot)).charAt(0)){case'"':case"'":Gn=H9e(Ot.substring(1),vt);break;default:Gn=K9e(Ot)}if(Gn===null||(Cn.push(Gn[0]),(Ot=gF(Gn[1]))!==""&&Ot.charAt(0)!==","))return xP;Ot=Ot.replace(/^,/,"")}return Cn}(Ye);if(this.fontFaces){var fe=function(St,vt){if(be===null){var Gn=function(Cn){var Ot=[];return Object.keys(Cn).forEach(function(en){Cn[en].forEach(function(Tn){var Ut=null;switch(Tn){case"bold":Ut={family:en,weight:"bold"};break;case"italic":Ut={family:en,style:"italic"};break;case"bolditalic":Ut={family:en,weight:"bold",style:"italic"};break;case"":case"normal":Ut={family:en}}Ut!==null&&(Ut.ref={name:en,style:Tn},Ot.push(Ut))})}),Ot}(St.getFontList());be=function(Cn){for(var Ot={},en=0;en<Cn.length;++en){var Tn=yP(Cn[en]),Ut=Tn.family,$t=Tn.stretch,cn=Tn.style,wn=Tn.weight;Ot[Ut]=Ot[Ut]||{},Ot[Ut][$t]=Ot[Ut][$t]||{},Ot[Ut][$t][cn]=Ot[Ut][$t][cn]||{},Ot[Ut][$t][cn][wn]=Tn}return Ot}(Gn.concat(vt))}return be}(this.pdf,this.fontFaces),Ne=ct.map(function(St){return{family:St,stretch:"normal",weight:_t,style:it}}),Ie=function(St,vt,Gn){for(var Cn=(Gn=Gn||{}).defaultFontFamily||"times",Ot=Object.assign({},W9e,Gn.genericFontFamilies||{}),en=null,Tn=null,Ut=0;Ut<vt.length;++Ut)if(Ot[(en=yP(vt[Ut])).family]&&(en.family=Ot[en.family]),St.hasOwnProperty(en.family)){Tn=St[en.family];break}if(!(Tn=Tn||St[Cn]))throw new Error("Could not find a font-family for the rule '"+mF(en)+"' and default family '"+Cn+"'.");if(Tn=function($t,cn){if(cn[$t])return cn[$t];var wn=d4[$t],Ae=wn<=d4.normal?-1:1,Fe=hF(cn,ite,wn,Ae);if(!Fe)throw new Error("Could not find a matching font-stretch value for "+$t);return Fe}(en.stretch,Tn),Tn=function($t,cn){if(cn[$t])return cn[$t];for(var wn=rte[$t],Ae=0;Ae<wn.length;++Ae)if(cn[wn[Ae]])return cn[wn[Ae]];throw new Error("Could not find a matching font-style for "+$t)}(en.style,Tn),!(Tn=function($t,cn){if(cn[$t])return cn[$t];if($t===400&&cn[500])return cn[500];if($t===500&&cn[400])return cn[400];var wn=V9e[$t],Ae=hF(cn,ate,wn,$t<400?-1:1);if(!Ae)throw new Error("Could not find a matching font-weight for value "+$t);return Ae}(en.weight,Tn)))throw new Error("Failed to resolve a font for the rule '"+mF(en)+"'.");return Tn}(fe,Ne);this.pdf.setFont(Ie.ref.name,Ie.ref.style)}else{var He="";(_t==="bold"||parseInt(_t,10)>=700||it==="bold")&&(He="bold"),it==="italic"&&(He+="italic"),He.length===0&&(He="normal");for(var Be="",ze={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Ge=0;Ge<ct.length;Ge++){if(this.pdf.internal.getFont(ct[Ge],He,{noFallback:!0,disableWarning:!0})!==void 0){Be=ct[Ge];break}if(He==="bolditalic"&&this.pdf.internal.getFont(ct[Ge],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Be=ct[Ge],He="bold";else if(this.pdf.internal.getFont(ct[Ge],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Be=ct[Ge],He="normal";break}}if(Be===""){for(var st=0;st<ct.length;st++)if(ze[ct[st]]){Be=ze[ct[st]];break}}Be=Be===""?"Times":Be,this.pdf.setFont(Be,He)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Pe){this.ctx.globalCompositeOperation=Pe}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Pe){this.ctx.globalAlpha=Pe}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Pe){this.ctx.lineDashOffset=Pe,ye.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Pe){this.ctx.lineDash=Pe,ye.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Pe){this.ctx.ignoreClearRect=!!Pe}})};h.prototype.setLineDash=function(V){this.lineDash=V},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){P.call(this,"fill",!1)},h.prototype.stroke=function(){P.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(V,ee){if(isNaN(V)||isNaN(ee))throw Ur.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Q=this.ctx.transform.applyToPoint(new o(V,ee));this.path.push({type:"mt",x:Q.x,y:Q.y}),this.ctx.lastPoint=new o(V,ee)},h.prototype.closePath=function(){var V=new o(0,0),ee=0;for(ee=this.path.length-1;ee!==-1;ee--)if(this.path[ee].type==="begin"&&Lr(this.path[ee+1])==="object"&&typeof this.path[ee+1].x=="number"){V=new o(this.path[ee+1].x,this.path[ee+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(V.x,V.y)},h.prototype.lineTo=function(V,ee){if(isNaN(V)||isNaN(ee))throw Ur.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Q=this.ctx.transform.applyToPoint(new o(V,ee));this.path.push({type:"lt",x:Q.x,y:Q.y}),this.ctx.lastPoint=new o(Q.x,Q.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),P.call(this,null,!0)},h.prototype.quadraticCurveTo=function(V,ee,Q,de){if(isNaN(Q)||isNaN(de)||isNaN(V)||isNaN(ee))throw Ur.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var le=this.ctx.transform.applyToPoint(new o(Q,de)),ve=this.ctx.transform.applyToPoint(new o(V,ee));this.path.push({type:"qct",x1:ve.x,y1:ve.y,x:le.x,y:le.y}),this.ctx.lastPoint=new o(le.x,le.y)},h.prototype.bezierCurveTo=function(V,ee,Q,de,le,ve){if(isNaN(le)||isNaN(ve)||isNaN(V)||isNaN(ee)||isNaN(Q)||isNaN(de))throw Ur.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Z=this.ctx.transform.applyToPoint(new o(le,ve)),ne=this.ctx.transform.applyToPoint(new o(V,ee)),ge=this.ctx.transform.applyToPoint(new o(Q,de));this.path.push({type:"bct",x1:ne.x,y1:ne.y,x2:ge.x,y2:ge.y,x:Z.x,y:Z.y}),this.ctx.lastPoint=new o(Z.x,Z.y)},h.prototype.arc=function(V,ee,Q,de,le,ve){if(isNaN(V)||isNaN(ee)||isNaN(Q)||isNaN(de)||isNaN(le))throw Ur.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ve=!!ve,!this.ctx.transform.isIdentity){var Z=this.ctx.transform.applyToPoint(new o(V,ee));V=Z.x,ee=Z.y;var ne=this.ctx.transform.applyToPoint(new o(0,Q)),ge=this.ctx.transform.applyToPoint(new o(0,0));Q=Math.sqrt(Math.pow(ne.x-ge.x,2)+Math.pow(ne.y-ge.y,2))}Math.abs(le-de)>=2*Math.PI&&(de=0,le=2*Math.PI),this.path.push({type:"arc",x:V,y:ee,radius:Q,startAngle:de,endAngle:le,counterclockwise:ve})},h.prototype.arcTo=function(V,ee,Q,de,le){throw new Error("arcTo not implemented.")},h.prototype.rect=function(V,ee,Q,de){if(isNaN(V)||isNaN(ee)||isNaN(Q)||isNaN(de))throw Ur.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(V,ee),this.lineTo(V+Q,ee),this.lineTo(V+Q,ee+de),this.lineTo(V,ee+de),this.lineTo(V,ee),this.lineTo(V+Q,ee),this.lineTo(V,ee)},h.prototype.fillRect=function(V,ee,Q,de){if(isNaN(V)||isNaN(ee)||isNaN(Q)||isNaN(de))throw Ur.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!m.call(this)){var le={};this.lineCap!=="butt"&&(le.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(le.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(V,ee,Q,de),this.fill(),le.hasOwnProperty("lineCap")&&(this.lineCap=le.lineCap),le.hasOwnProperty("lineJoin")&&(this.lineJoin=le.lineJoin)}},h.prototype.strokeRect=function(V,ee,Q,de){if(isNaN(V)||isNaN(ee)||isNaN(Q)||isNaN(de))throw Ur.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");x.call(this)||(this.beginPath(),this.rect(V,ee,Q,de),this.stroke())},h.prototype.clearRect=function(V,ee,Q,de){if(isNaN(V)||isNaN(ee)||isNaN(Q)||isNaN(de))throw Ur.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(V,ee,Q,de))},h.prototype.save=function(V){V=typeof V!="boolean"||V;for(var ee=this.pdf.internal.getCurrentPageInfo().pageNumber,Q=0;Q<this.pdf.internal.getNumberOfPages();Q++)this.pdf.setPage(Q+1),this.pdf.internal.out("q");if(this.pdf.setPage(ee),V){this.ctx.fontSize=this.pdf.internal.getFontSize();var de=new f(this.ctx);this.ctxStack.push(this.ctx),this.ctx=de}},h.prototype.restore=function(V){V=typeof V!="boolean"||V;for(var ee=this.pdf.internal.getCurrentPageInfo().pageNumber,Q=0;Q<this.pdf.internal.getNumberOfPages();Q++)this.pdf.setPage(Q+1),this.pdf.internal.out("Q");this.pdf.setPage(ee),V&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var p=function(V){var ee,Q,de,le;if(V.isCanvasGradient===!0&&(V=V.getColor()),!V)return{r:0,g:0,b:0,a:0,style:V};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(V))ee=0,Q=0,de=0,le=0;else{var ve=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(V);if(ve!==null)ee=parseInt(ve[1]),Q=parseInt(ve[2]),de=parseInt(ve[3]),le=1;else if((ve=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(V))!==null)ee=parseInt(ve[1]),Q=parseInt(ve[2]),de=parseInt(ve[3]),le=parseFloat(ve[4]);else{if(le=1,typeof V=="string"&&V.charAt(0)!=="#"){var Z=new Xee(V);V=Z.ok?Z.toHex():"#000000"}V.length===4?(ee=V.substring(1,2),ee+=ee,Q=V.substring(2,3),Q+=Q,de=V.substring(3,4),de+=de):(ee=V.substring(1,3),Q=V.substring(3,5),de=V.substring(5,7)),ee=parseInt(ee,16),Q=parseInt(Q,16),de=parseInt(de,16)}}return{r:ee,g:Q,b:de,a:le,style:V}},m=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},x=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};h.prototype.fillText=function(V,ee,Q,de){if(isNaN(ee)||isNaN(Q)||typeof V!="string")throw Ur.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(de=isNaN(de)?void 0:de,!m.call(this)){var le=W(this.ctx.transform.rotation),ve=this.ctx.transform.scaleX;k.call(this,{text:V,x:ee,y:Q,scale:ve,angle:le,align:this.textAlign,maxWidth:de})}},h.prototype.strokeText=function(V,ee,Q,de){if(isNaN(ee)||isNaN(Q)||typeof V!="string")throw Ur.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!x.call(this)){de=isNaN(de)?void 0:de;var le=W(this.ctx.transform.rotation),ve=this.ctx.transform.scaleX;k.call(this,{text:V,x:ee,y:Q,scale:ve,renderingMode:"stroke",angle:le,align:this.textAlign,maxWidth:de})}},h.prototype.measureText=function(V){if(typeof V!="string")throw Ur.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var ee=this.pdf,Q=this.pdf.internal.scaleFactor,de=ee.internal.getFontSize(),le=ee.getStringUnitWidth(V)*de/ee.internal.scaleFactor;return new function(ve){var Z=(ve=ve||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Z}}),this}({width:le*=Math.round(96*Q/72*1e4)/1e4})},h.prototype.scale=function(V,ee){if(isNaN(V)||isNaN(ee))throw Ur.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Q=new c(V,0,0,ee,0,0);this.ctx.transform=this.ctx.transform.multiply(Q)},h.prototype.rotate=function(V){if(isNaN(V))throw Ur.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var ee=new c(Math.cos(V),Math.sin(V),-Math.sin(V),Math.cos(V),0,0);this.ctx.transform=this.ctx.transform.multiply(ee)},h.prototype.translate=function(V,ee){if(isNaN(V)||isNaN(ee))throw Ur.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Q=new c(1,0,0,1,V,ee);this.ctx.transform=this.ctx.transform.multiply(Q)},h.prototype.transform=function(V,ee,Q,de,le,ve){if(isNaN(V)||isNaN(ee)||isNaN(Q)||isNaN(de)||isNaN(le)||isNaN(ve))throw Ur.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Z=new c(V,ee,Q,de,le,ve);this.ctx.transform=this.ctx.transform.multiply(Z)},h.prototype.setTransform=function(V,ee,Q,de,le,ve){V=isNaN(V)?1:V,ee=isNaN(ee)?0:ee,Q=isNaN(Q)?0:Q,de=isNaN(de)?1:de,le=isNaN(le)?0:le,ve=isNaN(ve)?0:ve,this.ctx.transform=new c(V,ee,Q,de,le,ve)};var v=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(V,ee,Q,de,le,ve,Z,ne,ge){var Ee=this.pdf.getImageProperties(V),be=1,Ue=1,Pe=1,ce=1;de!==void 0&&ne!==void 0&&(Pe=ne/de,ce=ge/le,be=Ee.width/de*ne/de,Ue=Ee.height/le*ge/le),ve===void 0&&(ve=ee,Z=Q,ee=0,Q=0),de!==void 0&&ne===void 0&&(ne=de,ge=le),de===void 0&&ne===void 0&&(ne=Ee.width,ge=Ee.height);for(var it,_t=this.ctx.transform.decompose(),gt=W(_t.rotate.shx),Ye=new c,mt=(Ye=(Ye=(Ye=Ye.multiply(_t.translate)).multiply(_t.skew)).multiply(_t.scale)).applyToRectangle(new l(ve-ee*Pe,Z-Q*ce,de*be,le*Ue)),ct=y.call(this,mt),fe=[],Ne=0;Ne<ct.length;Ne+=1)fe.indexOf(ct[Ne])===-1&&fe.push(ct[Ne]);if(j(fe),this.autoPaging)for(var Ie=fe[0],He=fe[fe.length-1],Be=Ie;Be<He+1;Be++){this.pdf.setPage(Be);var ze=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ge=Be===1?this.posY+this.margin[0]:this.margin[0],st=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],St=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],vt=Be===1?0:st+(Be-2)*St;if(this.ctx.clip_path.length!==0){var Gn=this.path;it=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(it,this.posX+this.margin[3],-vt+Ge+this.ctx.prevPageLastElemOffset),A.call(this,"fill",!0),this.path=Gn}var Cn=JSON.parse(JSON.stringify(mt));Cn=w([Cn],this.posX+this.margin[3],-vt+Ge+this.ctx.prevPageLastElemOffset)[0];var Ot=(Be>Ie||Be<He)&&v.call(this);Ot&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ze,St,null).clip().discardPath()),this.pdf.addImage(V,"JPEG",Cn.x,Cn.y,Cn.w,Cn.h,null,null,gt),Ot&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(V,"JPEG",mt.x,mt.y,mt.w,mt.h,null,null,gt)};var y=function(V,ee,Q){var de=[];ee=ee||this.pdf.internal.pageSize.width,Q=Q||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var le=this.posY+this.ctx.prevPageLastElemOffset;switch(V.type){default:case"mt":case"lt":de.push(Math.floor((V.y+le)/Q)+1);break;case"arc":de.push(Math.floor((V.y+le-V.radius)/Q)+1),de.push(Math.floor((V.y+le+V.radius)/Q)+1);break;case"qct":var ve=te(this.ctx.lastPoint.x,this.ctx.lastPoint.y,V.x1,V.y1,V.x,V.y);de.push(Math.floor((ve.y+le)/Q)+1),de.push(Math.floor((ve.y+ve.h+le)/Q)+1);break;case"bct":var Z=ue(this.ctx.lastPoint.x,this.ctx.lastPoint.y,V.x1,V.y1,V.x2,V.y2,V.x,V.y);de.push(Math.floor((Z.y+le)/Q)+1),de.push(Math.floor((Z.y+Z.h+le)/Q)+1);break;case"rect":de.push(Math.floor((V.y+le)/Q)+1),de.push(Math.floor((V.y+V.h+le)/Q)+1)}for(var ne=0;ne<de.length;ne+=1)for(;this.pdf.internal.getNumberOfPages()<de[ne];)b.call(this);return de},b=function(){var V=this.fillStyle,ee=this.strokeStyle,Q=this.font,de=this.lineCap,le=this.lineWidth,ve=this.lineJoin;this.pdf.addPage(),this.fillStyle=V,this.strokeStyle=ee,this.font=Q,this.lineCap=de,this.lineWidth=le,this.lineJoin=ve},w=function(V,ee,Q){for(var de=0;de<V.length;de++)switch(V[de].type){case"bct":V[de].x2+=ee,V[de].y2+=Q;case"qct":V[de].x1+=ee,V[de].y1+=Q;default:V[de].x+=ee,V[de].y+=Q}return V},j=function(V){return V.sort(function(ee,Q){return ee-Q})},P=function(V,ee){for(var Q,de,le=this.fillStyle,ve=this.strokeStyle,Z=this.lineCap,ne=this.lineWidth,ge=Math.abs(ne*this.ctx.transform.scaleX),Ee=this.lineJoin,be=JSON.parse(JSON.stringify(this.path)),Ue=JSON.parse(JSON.stringify(this.path)),Pe=[],ce=0;ce<Ue.length;ce++)if(Ue[ce].x!==void 0)for(var it=y.call(this,Ue[ce]),_t=0;_t<it.length;_t+=1)Pe.indexOf(it[_t])===-1&&Pe.push(it[_t]);for(var gt=0;gt<Pe.length;gt++)for(;this.pdf.internal.getNumberOfPages()<Pe[gt];)b.call(this);if(j(Pe),this.autoPaging)for(var Ye=Pe[0],mt=Pe[Pe.length-1],ct=Ye;ct<mt+1;ct++){this.pdf.setPage(ct),this.fillStyle=le,this.strokeStyle=ve,this.lineCap=Z,this.lineWidth=ge,this.lineJoin=Ee;var fe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ne=ct===1?this.posY+this.margin[0]:this.margin[0],Ie=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],He=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Be=ct===1?0:Ie+(ct-2)*He;if(this.ctx.clip_path.length!==0){var ze=this.path;Q=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(Q,this.posX+this.margin[3],-Be+Ne+this.ctx.prevPageLastElemOffset),A.call(this,V,!0),this.path=ze}if(de=JSON.parse(JSON.stringify(be)),this.path=w(de,this.posX+this.margin[3],-Be+Ne+this.ctx.prevPageLastElemOffset),ee===!1||ct===0){var Ge=(ct>Ye||ct<mt)&&v.call(this);Ge&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],fe,He,null).clip().discardPath()),A.call(this,V,ee),Ge&&this.pdf.restoreGraphicsState()}this.lineWidth=ne}else this.lineWidth=ge,A.call(this,V,ee),this.lineWidth=ne;this.path=be},A=function(V,ee){if((V!=="stroke"||ee||!x.call(this))&&(V==="stroke"||ee||!m.call(this))){for(var Q,de,le=[],ve=this.path,Z=0;Z<ve.length;Z++){var ne=ve[Z];switch(ne.type){case"begin":le.push({begin:!0});break;case"close":le.push({close:!0});break;case"mt":le.push({start:ne,deltas:[],abs:[]});break;case"lt":var ge=le.length;if(ve[Z-1]&&!isNaN(ve[Z-1].x)&&(Q=[ne.x-ve[Z-1].x,ne.y-ve[Z-1].y],ge>0)){for(;ge>=0;ge--)if(le[ge-1].close!==!0&&le[ge-1].begin!==!0){le[ge-1].deltas.push(Q),le[ge-1].abs.push(ne);break}}break;case"bct":Q=[ne.x1-ve[Z-1].x,ne.y1-ve[Z-1].y,ne.x2-ve[Z-1].x,ne.y2-ve[Z-1].y,ne.x-ve[Z-1].x,ne.y-ve[Z-1].y],le[le.length-1].deltas.push(Q);break;case"qct":var Ee=ve[Z-1].x+2/3*(ne.x1-ve[Z-1].x),be=ve[Z-1].y+2/3*(ne.y1-ve[Z-1].y),Ue=ne.x+2/3*(ne.x1-ne.x),Pe=ne.y+2/3*(ne.y1-ne.y),ce=ne.x,it=ne.y;Q=[Ee-ve[Z-1].x,be-ve[Z-1].y,Ue-ve[Z-1].x,Pe-ve[Z-1].y,ce-ve[Z-1].x,it-ve[Z-1].y],le[le.length-1].deltas.push(Q);break;case"arc":le.push({deltas:[],abs:[],arc:!0}),Array.isArray(le[le.length-1].abs)&&le[le.length-1].abs.push(ne)}}de=ee?null:V==="stroke"?"stroke":"fill";for(var _t=!1,gt=0;gt<le.length;gt++)if(le[gt].arc)for(var Ye=le[gt].abs,mt=0;mt<Ye.length;mt++){var ct=Ye[mt];ct.type==="arc"?I.call(this,ct.x,ct.y,ct.radius,ct.startAngle,ct.endAngle,ct.counterclockwise,void 0,ee,!_t):F.call(this,ct.x,ct.y),_t=!0}else if(le[gt].close===!0)this.pdf.internal.out("h"),_t=!1;else if(le[gt].begin!==!0){var fe=le[gt].start.x,Ne=le[gt].start.y;B.call(this,le[gt].deltas,fe,Ne),_t=!0}de&&D.call(this,de),ee&&z.call(this)}},E=function(V){var ee=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Q=ee*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return V-Q;case"top":return V+ee-Q;case"hanging":return V+ee-2*Q;case"middle":return V+ee/2-Q;default:return V}},O=function(V){return V+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var V=function(){};return V.colorStops=[],V.addColorStop=function(ee,Q){this.colorStops.push([ee,Q])},V.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},V.isCanvasGradient=!0,V},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var I=function(V,ee,Q,de,le,ve,Z,ne,ge){for(var Ee=X.call(this,Q,de,le,ve),be=0;be<Ee.length;be++){var Ue=Ee[be];be===0&&(ge?T.call(this,Ue.x1+V,Ue.y1+ee):F.call(this,Ue.x1+V,Ue.y1+ee)),H.call(this,V,ee,Ue.x2,Ue.y2,Ue.x3,Ue.y3,Ue.x4,Ue.y4)}ne?z.call(this):D.call(this,Z)},D=function(V){switch(V){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},z=function(){this.pdf.clip(),this.pdf.discardPath()},T=function(V,ee){this.pdf.internal.out(n(V)+" "+r(ee)+" m")},k=function(V){var ee;switch(V.align){case"right":case"end":ee="right";break;case"center":ee="center";break;default:ee="left"}var Q=this.pdf.getTextDimensions(V.text),de=E.call(this,V.y),le=O.call(this,de)-Q.h,ve=this.ctx.transform.applyToPoint(new o(V.x,de)),Z=this.ctx.transform.decompose(),ne=new c;ne=(ne=(ne=ne.multiply(Z.translate)).multiply(Z.skew)).multiply(Z.scale);for(var ge,Ee,be,Ue=this.ctx.transform.applyToRectangle(new l(V.x,de,Q.w,Q.h)),Pe=ne.applyToRectangle(new l(V.x,le,Q.w,Q.h)),ce=y.call(this,Pe),it=[],_t=0;_t<ce.length;_t+=1)it.indexOf(ce[_t])===-1&&it.push(ce[_t]);if(j(it),this.autoPaging)for(var gt=it[0],Ye=it[it.length-1],mt=gt;mt<Ye+1;mt++){this.pdf.setPage(mt);var ct=mt===1?this.posY+this.margin[0]:this.margin[0],fe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ne=this.pdf.internal.pageSize.height-this.margin[2],Ie=Ne-this.margin[0],He=this.pdf.internal.pageSize.width-this.margin[1],Be=He-this.margin[3],ze=mt===1?0:fe+(mt-2)*Ie;if(this.ctx.clip_path.length!==0){var Ge=this.path;ge=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(ge,this.posX+this.margin[3],-1*ze+ct),A.call(this,"fill",!0),this.path=Ge}var st=w([JSON.parse(JSON.stringify(Pe))],this.posX+this.margin[3],-ze+ct+this.ctx.prevPageLastElemOffset)[0];V.scale>=.01&&(Ee=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ee*V.scale),be=this.lineWidth,this.lineWidth=be*V.scale);var St=this.autoPaging!=="text";if(St||st.y+st.h<=Ne){if(St||st.y>=ct&&st.x<=He){var vt=St?V.text:this.pdf.splitTextToSize(V.text,V.maxWidth||He-st.x)[0],Gn=w([JSON.parse(JSON.stringify(Ue))],this.posX+this.margin[3],-ze+ct+this.ctx.prevPageLastElemOffset)[0],Cn=St&&(mt>gt||mt<Ye)&&v.call(this);Cn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Be,Ie,null).clip().discardPath()),this.pdf.text(vt,Gn.x,Gn.y,{angle:V.angle,align:ee,renderingMode:V.renderingMode}),Cn&&this.pdf.restoreGraphicsState()}}else st.y<Ne&&(this.ctx.prevPageLastElemOffset+=Ne-st.y);V.scale>=.01&&(this.pdf.setFontSize(Ee),this.lineWidth=be)}else V.scale>=.01&&(Ee=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ee*V.scale),be=this.lineWidth,this.lineWidth=be*V.scale),this.pdf.text(V.text,ve.x+this.posX,ve.y+this.posY,{angle:V.angle,align:ee,renderingMode:V.renderingMode,maxWidth:V.maxWidth}),V.scale>=.01&&(this.pdf.setFontSize(Ee),this.lineWidth=be)},F=function(V,ee,Q,de){Q=Q||0,de=de||0,this.pdf.internal.out(n(V+Q)+" "+r(ee+de)+" l")},B=function(V,ee,Q){return this.pdf.lines(V,ee,Q,null,null)},H=function(V,ee,Q,de,le,ve,Z,ne){this.pdf.internal.out([t(i(Q+V)),t(a(de+ee)),t(i(le+V)),t(a(ve+ee)),t(i(Z+V)),t(a(ne+ee)),"c"].join(" "))},X=function(V,ee,Q,de){for(var le=2*Math.PI,ve=Math.PI/2;ee>Q;)ee-=le;var Z=Math.abs(Q-ee);Z<le&&de&&(Z=le-Z);for(var ne=[],ge=de?-1:1,Ee=ee;Z>1e-5;){var be=Ee+ge*Math.min(Z,ve);ne.push(ae.call(this,V,Ee,be)),Z-=Math.abs(be-Ee),Ee=be}return ne},ae=function(V,ee,Q){var de=(Q-ee)/2,le=V*Math.cos(de),ve=V*Math.sin(de),Z=le,ne=-ve,ge=Z*Z+ne*ne,Ee=ge+Z*le+ne*ve,be=4/3*(Math.sqrt(2*ge*Ee)-Ee)/(Z*ve-ne*le),Ue=Z-be*ne,Pe=ne+be*Z,ce=Ue,it=-Pe,_t=de+ee,gt=Math.cos(_t),Ye=Math.sin(_t);return{x1:V*Math.cos(ee),y1:V*Math.sin(ee),x2:Ue*gt-Pe*Ye,y2:Ue*Ye+Pe*gt,x3:ce*gt-it*Ye,y3:ce*Ye+it*gt,x4:V*Math.cos(Q),y4:V*Math.sin(Q)}},W=function(V){return 180*V/Math.PI},te=function(V,ee,Q,de,le,ve){var Z=V+.5*(Q-V),ne=ee+.5*(de-ee),ge=le+.5*(Q-le),Ee=ve+.5*(de-ve),be=Math.min(V,le,Z,ge),Ue=Math.max(V,le,Z,ge),Pe=Math.min(ee,ve,ne,Ee),ce=Math.max(ee,ve,ne,Ee);return new l(be,Pe,Ue-be,ce-Pe)},ue=function(V,ee,Q,de,le,ve,Z,ne){var ge,Ee,be,Ue,Pe,ce,it,_t,gt,Ye,mt,ct,fe,Ne,Ie=Q-V,He=de-ee,Be=le-Q,ze=ve-de,Ge=Z-le,st=ne-ve;for(Ee=0;Ee<41;Ee++)gt=(it=(be=V+(ge=Ee/40)*Ie)+ge*((Pe=Q+ge*Be)-be))+ge*(Pe+ge*(le+ge*Ge-Pe)-it),Ye=(_t=(Ue=ee+ge*He)+ge*((ce=de+ge*ze)-Ue))+ge*(ce+ge*(ve+ge*st-ce)-_t),Ee==0?(mt=gt,ct=Ye,fe=gt,Ne=Ye):(mt=Math.min(mt,gt),ct=Math.min(ct,Ye),fe=Math.max(fe,gt),Ne=Math.max(Ne,Ye));return new l(Math.round(mt),Math.round(ct),Math.round(fe-mt),Math.round(Ne-ct))},ye=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var V,ee,Q=(V=this.ctx.lineDash,ee=this.ctx.lineDashOffset,JSON.stringify({lineDash:V,lineDashOffset:ee}));this.prevLineDash!==Q&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Q)}}})(tn.API),function(e){var t=function(o){var l,c,u,f,h,p,m,x,v,y;for(c=[],u=0,f=(o+=l="\0\0\0\0".slice(o.length%4||4)).length;f>u;u+=4)(h=(o.charCodeAt(u)<<24)+(o.charCodeAt(u+1)<<16)+(o.charCodeAt(u+2)<<8)+o.charCodeAt(u+3))!==0?(p=(h=((h=((h=((h=(h-(y=h%85))/85)-(v=h%85))/85)-(x=h%85))/85)-(m=h%85))/85)%85,c.push(p+33,m+33,x+33,v+33,y+33)):c.push(122);return function(b,w){for(var j=w;j>0;j--)b.pop()}(c,l.length),String.fromCharCode.apply(String,c)+"~>"},n=function(o){var l,c,u,f,h,p=String,m="length",x=255,v="charCodeAt",y="slice",b="replace";for(o[y](-2),o=o[y](0,-2)[b](/\s/g,"")[b]("z","!!!!!"),u=[],f=0,h=(o+=l="uuuuu"[y](o[m]%5||5))[m];h>f;f+=5)c=52200625*(o[v](f)-33)+614125*(o[v](f+1)-33)+7225*(o[v](f+2)-33)+85*(o[v](f+3)-33)+(o[v](f+4)-33),u.push(x&c>>24,x&c>>16,x&c>>8,x&c);return function(w,j){for(var P=j;P>0;P--)w.pop()}(u,l[m]),p.fromCharCode.apply(p,u)},r=function(o){return o.split("").map(function(l){return("0"+l.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(o){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),l.test(o)===!1)return"";for(var c="",u=0;u<o.length;u+=2)c+=String.fromCharCode("0x"+(o[u]+o[u+1]));return c},a=function(o){for(var l=new Uint8Array(o.length),c=o.length;c--;)l[c]=o.charCodeAt(c);return(l=QO(l)).reduce(function(u,f){return u+String.fromCharCode(f)},"")};e.processDataByFilters=function(o,l){var c=0,u=o||"",f=[];for(typeof(l=l||[])=="string"&&(l=[l]),c=0;c<l.length;c+=1)switch(l[c]){case"ASCII85Decode":case"/ASCII85Decode":u=n(u),f.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=t(u),f.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=i(u),f.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=r(u),f.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=a(u),f.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[c]+'" is not implemented')}return{data:u,reverseChain:f.reverse().join(" ")}}}(tn.API),function(e){e.loadFile=function(t,n,r){return function(i,a,o){a=a!==!1,o=typeof o=="function"?o:function(){};var l=void 0;try{l=function(c,u,f){var h=new XMLHttpRequest,p=0,m=function(x){var v=x.length,y=[],b=String.fromCharCode;for(p=0;p<v;p+=1)y.push(b(255&x.charCodeAt(p)));return y.join("")};if(h.open("GET",c,!u),h.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(h.onload=function(){h.status===200?f(m(this.responseText)):f(void 0)}),h.send(null),u&&h.status===200)return m(h.responseText)}(i,a,o)}catch{}return l}(t,n,r)},e.loadImageFile=e.loadFile}(tn.API),function(e){function t(){return(jn.html2canvas?Promise.resolve(jn.html2canvas):E2(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function n(){return(jn.DOMPurify?Promise.resolve(jn.DOMPurify):E2(()=>import("./purify.es-CF4_YkFU.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var r=function(l){var c=Lr(l);return c==="undefined"?"undefined":c==="string"||l instanceof String?"string":c==="number"||l instanceof Number?"number":c==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":c==="object"?"object":"unknown"},i=function(l,c){var u=document.createElement(l);for(var f in c.className&&(u.className=c.className),c.innerHTML&&c.dompurify&&(u.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)u.style[f]=c.style[f];return u},a=function l(c,u){for(var f=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),h=c.firstChild;h;h=h.nextSibling)u!==!0&&h.nodeType===1&&h.nodeName==="SCRIPT"||f.appendChild(l(h,u));return c.nodeType===1&&(c.nodeName==="CANVAS"?(f.width=c.width,f.height=c.height,f.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(f.value=c.value),f.addEventListener("load",function(){f.scrollTop=c.scrollTop,f.scrollLeft=c.scrollLeft},!0)),f},o=function l(c){var u=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),f=l.convert(Promise.resolve(),u);return(f=f.setProgress(1,l,1,[l])).set(c)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(l,c){return l.__proto__=c||o.prototype,l},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(l,c){return this.then(function(){switch(c=c||function(u){switch(r(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(l),c){case"string":return this.then(n).then(function(u){return this.set({src:i("div",{innerHTML:l,dompurify:u})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},o.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=a(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(t).then(function(c){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,c(this.prop.container,u)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(t).then(function(c){var u=this.opt.jsPDF,f=this.opt.fontFaces,h=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,p=Object.assign({async:!0,allowTaint:!0,scale:h,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete p.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=f,f)for(var m=0;m<f.length;++m){var x=f[m],v=x.src.find(function(y){return y.format==="truetype"});v&&u.addFont(v.url,x.ref.name,x.ref.style)}return p.windowHeight=p.windowHeight||0,p.windowHeight=p.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):p.windowHeight,u.context2d.save(!0),c(this.prop.container,p)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(l,c,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(l,c):this.outputPdf(l,c)},o.prototype.outputPdf=function(l,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,c)})},o.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},o.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(l){if(r(l)!=="object")return this;var c=Object.keys(l||{}).map(function(u){if(u in o.template.prop)return function(){this.prop[u]=l[u]};switch(u){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[u]=l[u]}}},this);return this.then(function(){return this.thenList(c)})},o.prototype.get=function(l,c){return this.then(function(){var u=l in o.template.prop?this.prop[l]:this.opt[l];return c?c(u):u})},o.prototype.setMargin=function(l){return this.then(function(){switch(r(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},o.prototype.setPageSize=function(l){function c(u,f){return Math.floor(u*f/72*96)}return this.then(function(){(l=l||tn.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:c(l.inner.width,l.k),height:c(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},o.prototype.setProgress=function(l,c,u,f){return l!=null&&(this.progress.val=l),c!=null&&(this.progress.state=c),u!=null&&(this.progress.n=u),f!=null&&(this.progress.stack=f),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(l,c,u,f){return this.setProgress(l?this.progress.val+l:null,c||null,u?this.progress.n+u:null,f?this.progress.stack.concat(f):null)},o.prototype.then=function(l,c){var u=this;return this.thenCore(l,c,function(f,h){return u.updateProgress(null,null,1,[f]),Promise.prototype.then.call(this,function(p){return u.updateProgress(null,f),p}).then(f,h).then(function(p){return u.updateProgress(1),p})})},o.prototype.thenCore=function(l,c,u){u=u||Promise.prototype.then;var f=this;l&&(l=l.bind(f)),c&&(c=c.bind(f));var h=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?f:o.convert(Object.assign({},f),Promise.prototype),p=u.call(h,l,c);return o.convert(p,f.__proto__)},o.prototype.thenExternal=function(l,c){return Promise.prototype.then.call(this,l,c)},o.prototype.thenList=function(l){var c=this;return l.forEach(function(u){c=c.thenCore(u)}),c},o.prototype.catch=function(l){l&&(l=l.bind(this));var c=Promise.prototype.catch.call(this,l);return o.convert(c,this)},o.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},o.prototype.error=function(l){return this.then(function(){throw new Error(l)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,tn.getPageSize=function(l,c,u){if(Lr(l)==="object"){var f=l;l=f.orientation,c=f.unit||c,u=f.format||u}c=c||"mm",u=u||"a4",l=(""+(l||"P")).toLowerCase();var h,p=(""+u).toLowerCase(),m={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":h=1;break;case"mm":h=72/25.4;break;case"cm":h=72/2.54;break;case"in":h=72;break;case"px":h=.75;break;case"pc":case"em":h=12;break;case"ex":h=6;break;default:throw"Invalid unit: "+c}var x,v=0,y=0;if(m.hasOwnProperty(p))v=m[p][1]/h,y=m[p][0]/h;else try{v=u[1],y=u[0]}catch{throw new Error("Invalid format: "+u)}if(l==="p"||l==="portrait")l="p",y>v&&(x=y,y=v,v=x);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",v>y&&(x=y,y=v,v=x)}return{width:y,height:v,unit:c,k:h,orientation:l}},e.html=function(l,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(yP):null;var u=new o(c);return c.worker?u:u.from(l).doCallback()}}(tn.API),tn.API.addJS=function(e){return yF=e,this.internal.events.subscribe("postPutResources",function(){a2=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(a2+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),vF=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+yF+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){a2!==void 0&&vF!==void 0&&this.internal.out("/Names <</JavaScript "+a2+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),a=0;a<i.length;a++){var o=i[a],l=r.exec(o);if(l!=null){var c=l[1];n.internal.newObjectDeferredBegin(c,!1)}n.internal.write(o)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,f=[];for(a=0;a<u;a++){var h=n.internal.newObject();f.push(h);var p=n.internal.getPageInfo(a+1);n.internal.write("<< /D["+p.objId+" 0 R /XYZ null null null]>> endobj")}var m=n.internal.newObject();for(n.internal.write("<< /Names [ "),a=0;a<f.length;a++)n.internal.write("(page_"+(a+1)+")"+f[a]+" 0 R");n.internal.write(" ] >>","endobj"),t=n.internal.newObject(),n.internal.write("<< /Dests "+m+" 0 R"),n.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var n=this;n.outline.root.children.length>0&&(n.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&n.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,a){var o={title:i,options:a,children:[]};return r==null&&(r=this.root),r.children.push(o),o},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<r.children.length;a++){var o=r.children[a];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(r)),a>0&&this.line("/Prev "+this.makeRef(r.children[a-1])),a<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[a+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var l=this.count=this.count_r({count:0},o);if(l>0&&this.line("/Count "+l),o.options&&o.options.pageNumber){var c=n.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var u=0;u<r.children.length;u++)this.renderItems(r.children[u])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var a=0;a<i.children.length;a++)r.count++,this.count_r(r,i.children[a]);return r.count}}])}(tn.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(n,r,i,a,o,l){var c,u=this.decode.DCT_DECODE,f=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=o||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,c=function(h){for(var p,m=256*h.charCodeAt(4)+h.charCodeAt(5),x=h.length,v={width:0,height:0,numcomponents:1},y=4;y<x;y+=2){if(y+=m,t.indexOf(h.charCodeAt(y+1))!==-1){p=256*h.charCodeAt(y+5)+h.charCodeAt(y+6),v={width:256*h.charCodeAt(y+7)+h.charCodeAt(y+8),height:p,numcomponents:h.charCodeAt(y+9)};break}m=256*h.charCodeAt(y+2)+h.charCodeAt(y+3)}return v}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n),c.numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}f={data:n,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:u,index:r,alias:i}}return f}}(tn.API),tn.API.processPNG=function(e,t,n,r){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var i,a=O9e(e,{checkCrc:!0}),o=a.width,l=a.height,c=a.channels,u=a.palette,f=a.depth;i=u&&c===1?function(O){for(var I=O.width,D=O.height,z=O.data,T=O.palette,k=O.depth,F=!1,B=[],H=[],X=void 0,ae=!1,W=0,te=0;te<T.length;te++){var ue=f$(T[te],4),ye=ue[0],V=ue[1],ee=ue[2],Q=ue[3];B.push(ye,V,ee),Q!=null&&(Q===0?(W++,H.length<1&&H.push(te)):Q<255&&(ae=!0))}if(ae||W>1){F=!0,H=void 0;var de=I*D;X=new Uint8Array(de);for(var le=new DataView(z.buffer),ve=0;ve<de;ve++){var Z=bP(le,ve,k),ne=f$(T[Z],4)[3];X[ve]=ne}}return{colorSpace:"Indexed",colorsPerPixel:1,colorBytes:z,alphaBytes:X,needSMask:F,palette:B,mask:H}}(a):c===2||c===4?function(O){for(var I=O.data,D=O.width,z=O.height,T=O.channels,k=O.depth,F=T===2?"DeviceGray":"DeviceRGB",B=T-1,H=D*z,X=B,ae=H*X,W=1*H,te=Math.ceil(ae*k/8),ue=Math.ceil(W*k/8),ye=new Uint8Array(te),V=new Uint8Array(ue),ee=new DataView(I.buffer),Q=new DataView(ye.buffer),de=new DataView(V.buffer),le=!1,ve=0;ve<H;ve++){for(var Z=ve*T,ne=0;ne<X;ne++)PF(Q,bP(ee,Z+ne,k),ve*X+ne,k);var ge=bP(ee,Z+X,k);ge<(1<<k)-1&&(le=!0),PF(de,ge,1*ve,k)}return{colorSpace:F,colorsPerPixel:B,colorBytes:ye,alphaBytes:V,needSMask:le}}(a):function(O){var I=O.data,D=O.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:D,colorsPerPixel:D==="DeviceGray"?1:3,colorBytes:I instanceof Uint8Array?I:new Uint8Array(I.buffer),needSMask:!1}}(a);var h,p,m,x=i,v=x.colorSpace,y=x.colorsPerPixel,b=x.colorBytes,w=x.alphaBytes,j=x.needSMask,P=x.palette,A=x.mask,E=null;return r!==tn.API.image_compression.NONE&&typeof QO=="function"?(E=function(O){var I;switch(O){case tn.API.image_compression.FAST:I=11;break;case tn.API.image_compression.MEDIUM:I=13;break;case tn.API.image_compression.SLOW:I=14;break;default:I=12}return I}(r),h=this.decode.FLATE_DECODE,p="/Predictor ".concat(E," "),e=_F(b,o*y,y,r),j&&(m=_F(w,o,1,r))):(h=void 0,p="",e=b,j&&(m=w)),p+="/Colors ".concat(y," /BitsPerComponent ").concat(f," /Columns ").concat(o),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(m&&this.__addimage__.isArrayBuffer(m)||this.__addimage__.isArrayBufferView(m))&&(m=this.__addimage__.arrayBufferToBinaryString(m)),{alias:n,data:e,index:t,filter:h,decodeParameters:p,transparency:A,palette:P,sMask:m,predictor:E,width:o,height:l,bitsPerComponent:f,colorSpace:v}}},function(e){e.processGIF89A=function(t,n,r,i){var a=new Y9e(t),o=a.width,l=a.height,c=[];a.decodeAndBlitFrameRGBA(0,c);var u={data:c,width:o,height:l},f=new wP(100).encode(u,100);return e.processJPEG.call(this,f,n,r,i)},e.processGIF87A=e.processGIF89A}(tn.API),yc.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:i,green:r,blue:n,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},yc.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(n){Ur.log("bit decode error:"+n)}},yc.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),n=t%4;for(e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,i=0;i<t;i++)for(var a=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*i*4,l=0;l<8&&8*i+l<this.width;l++){var c=this.palette[a>>7-l&1];this.data[o+4*l]=c.blue,this.data[o+4*l+1]=c.green,this.data[o+4*l+2]=c.red,this.data[o+4*l+3]=255}n!==0&&(this.pos+=4-n)}},yc.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<e;i++){var a=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*i*4,l=a>>4,c=15&a,u=this.palette[l];if(this.data[o]=u.blue,this.data[o+1]=u.green,this.data[o+2]=u.red,this.data[o+3]=255,2*i+1>=this.width)break;u=this.palette[c],this.data[o+4]=u.blue,this.data[o+4+1]=u.green,this.data[o+4+2]=u.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},yc.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+4*r;if(i<this.palette.length){var o=this.palette[i];this.data[a]=o.red,this.data[a+1]=o.green,this.data[a+2]=o.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}e!==0&&(this.pos+=4-e)}},yc.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&t)/t*255|0,l=(a>>5&t)/t*255|0,c=(a>>10&t)/t*255|0,u=a>>15?255:0,f=r*this.width*4+4*i;this.data[f]=c,this.data[f+1]=l,this.data[f+2]=o,this.data[f+3]=u}this.pos+=e}},yc.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(o&t)/t*255|0,c=(o>>5&n)/n*255|0,u=(o>>11)/t*255|0,f=i*this.width*4+4*a;this.data[f]=u,this.data[f+1]=c,this.data[f+2]=l,this.data[f+3]=255}this.pos+=e}},yc.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*n;this.data[o]=a,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},yc.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*n;this.data[l]=a,this.data[l+1]=i,this.data[l+2]=r,this.data[l+3]=o}},yc.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,n,r,i){var a=new yc(t,!1),o=a.width,l=a.height,c={data:a.getData(),width:o,height:l},u=new wP(100).encode(c,100);return e.processJPEG.call(this,u,n,r,i)}}(tn.API),EF.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,n,r,i){var a=new EF(t),o=a.width,l=a.height,c={data:a.getData(),width:o,height:l},u=new wP(100).encode(c,100);return e.processJPEG.call(this,u,n,r,i)}}(tn.API),tn.API.processRGBA=function(e,t,n){for(var r=e.data,i=r.length,a=new Uint8Array(i/4*3),o=new Uint8Array(i/4),l=0,c=0,u=0;u<i;u+=4){var f=r[u],h=r[u+1],p=r[u+2],m=r[u+3];a[l++]=f,a[l++]=h,a[l++]=p,o[c++]=m}var x=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:x,index:t,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},tn.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},ng=tn.API,s2=ng.getCharWidthsArray=function(e,t){var n,r,i=(t=t||{}).font||this.internal.getFont(),a=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),l=t.widths?t.widths:i.metadata.Unicode.widths,c=l.fof?l.fof:1,u=t.kerning?t.kerning:i.metadata.Unicode.kerning,f=u.fof?u.fof:1,h=t.doKerning!==!1,p=0,m=e.length,x=0,v=l[0]||c,y=[];for(n=0;n<m;n++)r=e.charCodeAt(n),typeof i.metadata.widthOfString=="function"?y.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+o*(1e3/a)||0)/1e3):(p=h&&Lr(u[r])==="object"&&!isNaN(parseInt(u[r][x],10))?u[r][x]/f:0,y.push((l[r]||v)/c+p)),x=r;return y},xF=ng.getStringUnitWidth=function(e,t){var n=(t=t||{}).fontSize||this.internal.getFontSize(),r=t.font||this.internal.getFont(),i=t.charSpace||this.internal.getCharSpace();return ng.processArabic&&(e=ng.processArabic(e)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(e,n,i)/n:s2.apply(this,arguments).reduce(function(a,o){return a+o},0)},bF=function(e,t,n,r){for(var i=[],a=0,o=e.length,l=0;a!==o&&l+t[a]<n;)l+=t[a],a++;i.push(e.slice(0,a));var c=a;for(l=0;a!==o;)l+t[a]>r&&(i.push(e.slice(c,a)),l=0,c=a),l+=t[a],a++;return c!==a&&i.push(e.slice(c,a)),i},wF=function(e,t,n){n||(n={});var r,i,a,o,l,c,u,f=[],h=[f],p=n.textIndent||0,m=0,x=0,v=e.split(" "),y=s2.apply(this,[" ",n])[0];if(c=n.lineIndent===-1?v[0].length+2:n.lineIndent||0){var b=Array(c).join(" "),w=[];v.map(function(P){(P=P.split(/\s*\n/)).length>1?w=w.concat(P.map(function(A,E){return(E&&A.length?`
`:"")+A})):w.push(P[0])}),v=w,c=xF.apply(this,[b,n])}for(a=0,o=v.length;a<o;a++){var j=0;if(r=v[a],c&&r[0]==`
`&&(r=r.substr(1),j=1),p+m+(x=(i=s2.apply(this,[r,n])).reduce(function(P,A){return P+A},0))>t||j){if(x>t){for(l=bF.apply(this,[r,i,t-(p+m),t]),f.push(l.shift()),f=[l.pop()];l.length;)h.push([l.shift()]);x=i.slice(r.length-(f[0]?f[0].length:0)).reduce(function(P,A){return P+A},0)}else f=[r];h.push(f),p=x+c,m=y}else f.push(r),p+=m+x,m=y}return u=c?function(P,A){return(A?b:"")+P.join(" ")}:function(P){return P.join(" ")},h.map(u)},ng.splitTextToSize=function(e,t,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),a=(function(f){if(f.widths&&f.kerning)return{widths:f.widths,kerning:f.kerning};var h=this.internal.getFont(f.fontName,f.fontStyle),p="Unicode";return h.metadata[p]?{widths:h.metadata[p].widths||{0:1},kerning:h.metadata[p].kerning||{}}:{font:h.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/i;a.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,a.lineIndent=n.lineIndent;var l,c,u=[];for(l=0,c=r.length;l<c;l++)u=u.concat(wF.apply(this,[r[l],o,a]));return u},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",n="klmnopqrstuvwxyz",r={},i={},a=0;a<16;a++)r[n[a]]=t[a],i[t[a]]=n[a];var o=function(p){return"0x"+parseInt(p,10).toString(16)},l=e.__fontmetrics__.compress=function(p){var m,x,v,y,b=["{"];for(var w in p){if(m=p[w],isNaN(parseInt(w,10))?x="'"+w+"'":(w=parseInt(w,10),x=(x=o(w).slice(2)).slice(0,-1)+i[x.slice(-1)]),typeof m=="number")m<0?(v=o(m).slice(3),y="-"):(v=o(m).slice(2),y=""),v=y+v.slice(0,-1)+i[v.slice(-1)];else{if(Lr(m)!=="object")throw new Error("Don't know what to do with value type "+Lr(m)+".");v=l(m)}b.push(x+v)}return b.push("}"),b.join("")},c=e.__fontmetrics__.uncompress=function(p){if(typeof p!="string")throw new Error("Invalid argument passed to uncompress.");for(var m,x,v,y,b={},w=1,j=b,P=[],A="",E="",O=p.length-1,I=1;I<O;I+=1)(y=p[I])=="'"?m?(v=m.join(""),m=void 0):m=[]:m?m.push(y):y=="{"?(P.push([j,v]),j={},v=void 0):y=="}"?((x=P.pop())[0][x[1]]=j,v=void 0,j=x[0]):y=="-"?w=-1:v===void 0?r.hasOwnProperty(y)?(A+=r[y],v=parseInt(A,16)*w,w=1,A=""):A+=y:r.hasOwnProperty(y)?(E+=r[y],j[v]=parseInt(E,16)*w,w=1,v=void 0,E=""):E+=y;return b},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},f={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},h={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(p){var m=p.font,x=h.Unicode[m.postScriptName];x&&(m.metadata.Unicode={},m.metadata.Unicode.widths=x.widths,m.metadata.Unicode.kerning=x.kerning);var v=f.Unicode[m.postScriptName];v&&(m.metadata.Unicode.encoding=v,m.encoding=v.codePages[0])}])}(tn.API),function(e){var t=function(n){for(var r=n.length,i=new Uint8Array(r),a=0;a<r;a++)i[a]=n.charCodeAt(a);return i};e.API.events.push(["addFont",function(n){var r=void 0,i=n.font,a=n.instance;if(!i.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=a.existsFileInVFS(i.postScriptName)===!1?a.loadFile(i.postScriptName):a.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,l){l=/^\x00\x01\x00\x00/.test(l)?t(l):t(D2(l)),o.metadata=e.API.TTFFont.open(l),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,r)}}])}(tn),tn.API.addSvgAsImage=function(e,t,n,r,i,a,o,l){if(isNaN(t)||isNaN(n))throw Ur.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(i))throw Ur.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=r,c.height=i;var u=c.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,c.width,c.height);var f={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},h=this;return(jn.canvg?Promise.resolve(jn.canvg):E2(()=>import("./index.es-DzOF73tT.js"),[])).catch(function(p){return Promise.reject(new Error("Could not load canvg: "+p))}).then(function(p){return p.default?p.default:p}).then(function(p){return p.fromString(u,e,f)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(p){return p.render(f)}).then(function(){h.addImage(c.toDataURL("image/jpeg",1),t,n,r,i,o,l)})},tn.API.putTotalPages=function(e){var t,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),n=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(t,n);return this},tn.API.viewerPreferences=function(e,t){var n;e=e||{},t=t||!1;var r,i,a,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(o),c=[],u=0,f=0,h=0;function p(x,v){var y,b=!1;for(y=0;y<x.length;y+=1)x[y]===v&&(b=!0);return b}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var m=l.length;for(h=0;h<m;h+=1)n[l[h]].value=n[l[h]].defaultValue,n[l[h]].explicitSet=!1}if(Lr(e)==="object"){for(i in e)if(a=e[i],p(l,i)&&a!==void 0){if(n[i].type==="boolean"&&typeof a=="boolean")n[i].value=a;else if(n[i].type==="name"&&p(n[i].valueSet,a))n[i].value=a;else if(n[i].type==="integer"&&Number.isInteger(a))n[i].value=a;else if(n[i].type==="array"){for(u=0;u<a.length;u+=1)if(r=!0,a[u].length===1&&typeof a[u][0]=="number")c.push(String(a[u]-1));else if(a[u].length>1){for(f=0;f<a[u].length;f+=1)typeof a[u][f]!="number"&&(r=!1);r===!0&&c.push([a[u][0]-1,a[u][1]-1].join(" "))}n[i].value="["+c.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var x,v=[];for(x in n)n[x].explicitSet===!0&&(n[x].type==="name"?v.push("/"+x+" /"+n[x].value):v.push("/"+x+" "+n[x].value));v.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+v.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(e){var t=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(r)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),u=a.length+o.length+l.length+i.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(i+a+o+l+c),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",t)),this}}(tn.API),function(e){var t=e.API,n=t.pdfEscape16=function(a,o){for(var l,c=o.metadata.Unicode.widths,u=["","0","00","000","0000"],f=[""],h=0,p=a.length;h<p;++h){if(l=o.metadata.characterToGlyph(a.charCodeAt(h)),o.metadata.glyIdsUsed.push(l),o.metadata.toUnicode[l]=a.charCodeAt(h),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(o.metadata.widthOfGlyph(l),10)])),l=="0")return f.join("");l=l.toString(16),f.push(u[4-l.length],l)}return f.join("")},r=function(a){var o,l,c,u,f,h,p;for(f=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],h=0,p=(l=Object.keys(a).sort(function(m,x){return m-x})).length;h<p;h++)o=l[h],c.length>=100&&(f+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),a[o]!==void 0&&a[o]!==null&&typeof a[o].toString=="function"&&(u=("0000"+a[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),c.push("<"+o+"><"+u+">"));return c.length&&(f+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),f+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(a){(function(o){var l=o.font,c=o.out,u=o.newObject,f=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="Identity-H"){for(var h=l.metadata.Unicode.widths,p=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),m="",x=0;x<p.length;x++)m+=String.fromCharCode(p[x]);var v=u();f({data:m,addLength1:!0,objectId:v}),c("endobj");var y=u();f({data:r(l.metadata.toUnicode),addLength1:!0,objectId:y}),c("endobj");var b=u();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+lg(l.fontName)),c("/FontFile2 "+v+" 0 R"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var w=u();c("<<"),c("/Type /Font"),c("/BaseFont /"+lg(l.fontName)),c("/FontDescriptor "+b+" 0 R"),c("/W "+e.API.PDFObject.convert(h)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=u(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+y+" 0 R"),c("/BaseFont /"+lg(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+w+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(a)}]),t.events.push(["putFont",function(a){(function(o){var l=o.font,c=o.out,u=o.newObject,f=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var h=l.metadata.rawData,p="",m=0;m<h.length;m++)p+=String.fromCharCode(h[m]);var x=u();f({data:p,addLength1:!0,objectId:x}),c("endobj");var v=u();f({data:r(l.metadata.toUnicode),addLength1:!0,objectId:v}),c("endobj");var y=u();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+x+" 0 R"),c("/Flags 96"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+lg(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=u();for(var b=0;b<l.metadata.hmtx.widths.length;b++)l.metadata.hmtx.widths[b]=parseInt(l.metadata.hmtx.widths[b]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+v+" 0 R/BaseFont/"+lg(l.fontName)+"/FontDescriptor "+y+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(a)}]);var i=function(a){var o,l=a.text||"",c=a.x,u=a.y,f=a.options||{},h=a.mutex||{},p=h.pdfEscape,m=h.activeFontKey,x=h.fonts,v=m,y="",b=0,w="",j=x[v].encoding;if(x[v].encoding!=="Identity-H")return{text:l,x:c,y:u,options:f,mutex:h};for(w=l,v=m,Array.isArray(l)&&(w=l[0]),b=0;b<w.length;b+=1)x[v].metadata.hasOwnProperty("cmap")&&(o=x[v].metadata.cmap.unicode.codeMap[w[b].charCodeAt(0)]),o||w[b].charCodeAt(0)<256&&x[v].metadata.hasOwnProperty("Unicode")?y+=w[b]:y+="";var P="";return parseInt(v.slice(1))<14||j==="WinAnsiEncoding"?P=p(y,v).split("").map(function(A){return A.charCodeAt(0).toString(16)}).join(""):j==="Identity-H"&&(P=n(y,x[v])),h.isHex=!0,{text:P,x:c,y:u,options:f,mutex:h}};t.events.push(["postProcessText",function(a){var o=a.text||"",l=[],c={text:o,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(o)){var u=0;for(u=0;u<o.length;u+=1)Array.isArray(o[u])&&o[u].length===3?l.push([i(Object.assign({},c,{text:o[u][0]})).text,o[u][1],o[u][2]]):l.push(i(Object.assign({},c,{text:o[u]})).text);a.text=l}else a.text=i(Object.assign({},c,{text:o})).text}])}(tn),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0},e.addFileToVFS=function(n,r){return t.call(this),this.internal.vFS[n]=r,this},e.getFileFromVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(tn.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(r){var i,a,o,l,c,u,f,h=t,p=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],m=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],x={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},v={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},y=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],b=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),w=!1,j=0;this.__bidiEngine__={};var P=function(T){var k=T.charCodeAt(),F=k>>8,B=v[F];return B!==void 0?h[256*B+(255&k)]:F===252||F===253?"AL":b.test(F)?"L":F===8?"R":"N"},A=function(T){for(var k,F=0;F<T.length;F++){if((k=P(T.charAt(F)))==="L")return!1;if(k==="R")return!0}return!1},E=function(T,k,F,B){var H,X,ae,W,te=k[B];switch(te){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":w=!1;break;case"N":case"AN":break;case"EN":w&&(te="AN");break;case"AL":w=!0,te="R";break;case"WS":case"BN":te="N";break;case"CS":B<1||B+1>=k.length||(H=F[B-1])!=="EN"&&H!=="AN"||(X=k[B+1])!=="EN"&&X!=="AN"?te="N":w&&(X="AN"),te=X===H?X:"N";break;case"ES":te=(H=B>0?F[B-1]:"B")==="EN"&&B+1<k.length&&k[B+1]==="EN"?"EN":"N";break;case"ET":if(B>0&&F[B-1]==="EN"){te="EN";break}if(w){te="N";break}for(ae=B+1,W=k.length;ae<W&&k[ae]==="ET";)ae++;te=ae<W&&k[ae]==="EN"?"EN":"N";break;case"NSM":if(o&&!l){for(W=k.length,ae=B+1;ae<W&&k[ae]==="NSM";)ae++;if(ae<W){var ue=T[B],ye=ue>=1425&&ue<=2303||ue===64286;if(H=k[ae],ye&&(H==="R"||H==="AL")){te="R";break}}}te=B<1||(H=k[B-1])==="B"?"N":F[B-1];break;case"B":w=!1,i=!0,te=j;break;case"S":a=!0,te="N"}return te},O=function(T,k,F){var B=T.split("");return F&&I(B,F,{hiLevel:j}),B.reverse(),k&&k.reverse(),B.join("")},I=function(T,k,F){var B,H,X,ae,W,te=-1,ue=T.length,ye=0,V=[],ee=j?m:p,Q=[];for(w=!1,i=!1,a=!1,H=0;H<ue;H++)Q[H]=P(T[H]);for(X=0;X<ue;X++){if(W=ye,V[X]=E(T,Q,V,X),B=240&(ye=ee[W][x[V[X]]]),ye&=15,k[X]=ae=ee[ye][5],B>0)if(B===16){for(H=te;H<X;H++)k[H]=1;te=-1}else te=-1;if(ee[ye][6])te===-1&&(te=X);else if(te>-1){for(H=te;H<X;H++)k[H]=ae;te=-1}Q[X]==="B"&&(k[X]=0),F.hiLevel|=ae}a&&function(de,le,ve){for(var Z=0;Z<ve;Z++)if(de[Z]==="S"){le[Z]=j;for(var ne=Z-1;ne>=0&&de[ne]==="WS";ne--)le[ne]=j}}(Q,k,ue)},D=function(T,k,F,B,H){if(!(H.hiLevel<T)){if(T===1&&j===1&&!i)return k.reverse(),void(F&&F.reverse());for(var X,ae,W,te,ue=k.length,ye=0;ye<ue;){if(B[ye]>=T){for(W=ye+1;W<ue&&B[W]>=T;)W++;for(te=ye,ae=W-1;te<ae;te++,ae--)X=k[te],k[te]=k[ae],k[ae]=X,F&&(X=F[te],F[te]=F[ae],F[ae]=X);ye=W}ye++}}},z=function(T,k,F){var B=T.split(""),H={hiLevel:j};return F||(F=[]),I(B,F,H),function(X,ae,W){if(W.hiLevel!==0&&f)for(var te,ue=0;ue<X.length;ue++)ae[ue]===1&&(te=y.indexOf(X[ue]))>=0&&(X[ue]=y[te+1])}(B,F,H),D(2,B,k,F,H),D(1,B,k,F,H),B.join("")};return this.__bidiEngine__.doBidiReorder=function(T,k,F){if(function(H,X){if(X)for(var ae=0;ae<H.length;ae++)X[ae]=ae;l===void 0&&(l=A(H)),u===void 0&&(u=A(H))}(T,k),o||!c||u)if(o&&c&&l^u)j=l?1:0,T=O(T,k,F);else if(!o&&c&&u)j=l?1:0,T=z(T,k,F),T=O(T,k);else if(!o||l||c||u){if(o&&!c&&l^u)T=O(T,k),l?(j=0,T=z(T,k,F)):(j=1,T=z(T,k,F),T=O(T,k));else if(o&&l&&!c&&u)j=1,T=z(T,k,F),T=O(T,k);else if(!o&&!c&&l^u){var B=f;l?(j=1,T=z(T,k,F),j=0,f=!1,T=z(T,k,F),f=B):(j=0,T=z(T,k,F),T=O(T,k),j=1,f=!1,T=z(T,k,F),f=B,T=O(T,k))}}else j=0,T=z(T,k,F);else j=l?1:0,T=z(T,k,F);return T},this.__bidiEngine__.setOptions=function(T){T&&(o=T.isInputVisual,c=T.isOutputVisual,l=T.isInputRtl,u=T.isOutputRtl,f=T.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var a=r.options||{};r.mutex,a.lang;var o=[];if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,n.setOptions(a),Object.prototype.toString.call(i)==="[object Array]"){var l=0;for(o=[],l=0;l<i.length;l+=1)Object.prototype.toString.call(i[l])==="[object Array]"?o.push([n.doBidiReorder(i[l][0]),i[l][1],i[l][2]]):o.push([n.doBidiReorder(i[l])]);r.text=o}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])}(tn),tn.API.TTFFont=function(){function e(t){var n;if(this.rawData=t,n=this.contents=new kh(t),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new fze(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new Q9e(this.contents),this.head=new eze(this),this.name=new aze(this),this.cmap=new ote(this),this.toUnicode={},this.hhea=new tze(this),this.maxp=new sze(this),this.hmtx=new oze(this),this.post=new rze(this),this.os2=new nze(this),this.loca=new dze(this),this.glyf=new lze(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,n,r,i,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,l,c,u;for(u=[],o=0,l=(c=this.bbox).length;o<l;o++)t=c[o],u.push(Math.round(t*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var n;return((n=this.cmap.unicode)!=null?n.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*n},e.prototype.widthOfString=function(t,n,r){var i,a,o,l;for(o=0,a=0,l=(t=""+t).length;0<=l?a<l:a>l;a=0<=l?++a:--a)i=t.charCodeAt(a),o+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return o*(n/1e3)},e.prototype.lineHeight=function(t,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*t},e}();var Qc,kh=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var n,r;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},e.prototype.writeString=function(t){var n,r,i;for(i=[],n=0,r=t.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(t.charCodeAt(n)));return i},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,n,r,i,a,o,l,c;return t=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),a=this.readByte(),o=this.readByte(),l=this.readByte(),c=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^a)+65536*(255^o)+256*(255^l)+(255^c)+1):72057594037927940*t+281474976710656*n+1099511627776*r+4294967296*i+16777216*a+65536*o+256*l+c},e.prototype.writeLongLong=function(t){var n,r;return n=Math.floor(t/4294967296),r=4294967295&t,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var n,r;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n.push(this.readByte());return n},e.prototype.write=function(t){var n,r,i,a;for(a=[],r=0,i=t.length;r<i;r++)n=t[r],a.push(this.writeByte(n));return a},e}(),Q9e=function(){var e;function t(n){var r,i,a;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,a=this.tableCount;0<=a?i<a:i>a;i=0<=a?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return t.prototype.encode=function(n){var r,i,a,o,l,c,u,f,h,p,m,x,v;for(v in m=Object.keys(n).length,c=Math.log(2),h=16*Math.floor(Math.log(m)/c),o=Math.floor(h/c),f=16*m-h,(i=new kh).writeInt(this.scalarType),i.writeShort(m),i.writeShort(h),i.writeShort(o),i.writeShort(f),a=16*m,u=i.pos+a,l=null,x=[],n)for(p=n[v],i.writeString(v),i.writeInt(e(p)),i.writeInt(u),i.writeInt(p.length),x=x.concat(p),v==="head"&&(l=u),u+=p.length;u%4;)x.push(0),u++;return i.write(x),r=2981146554-e(i.data),i.pos=l+8,i.writeUInt32(r),i.data},e=function(n){var r,i,a,o;for(n=lte.call(n);n.length%4;)n.push(0);for(a=new kh(n),i=0,r=0,o=n.length;r<o;r=r+=4)i+=a.readUInt32();return 4294967295&i},t}(),J9e={}.hasOwnProperty,nd=function(e,t){for(var n in t)J9e.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};Qc=function(){function e(t){var n;this.file=t,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var eze=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return nd(e,Qc),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var n;return(n=new kh).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(t),n.writeShort(this.glyphDataFormat),n.data},e}(),OF=function(){function e(t,n){var r,i,a,o,l,c,u,f,h,p,m,x,v,y,b,w,j;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=n+t.readInt(),h=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=t.readByte();break;case 4:for(m=t.readUInt16(),p=m/2,t.pos+=6,a=function(){var P,A;for(A=[],c=P=0;0<=p?P<p:P>p;c=0<=p?++P:--P)A.push(t.readUInt16());return A}(),t.pos+=2,v=function(){var P,A;for(A=[],c=P=0;0<=p?P<p:P>p;c=0<=p?++P:--P)A.push(t.readUInt16());return A}(),u=function(){var P,A;for(A=[],c=P=0;0<=p?P<p:P>p;c=0<=p?++P:--P)A.push(t.readUInt16());return A}(),f=function(){var P,A;for(A=[],c=P=0;0<=p?P<p:P>p;c=0<=p?++P:--P)A.push(t.readUInt16());return A}(),i=(this.length-t.pos+this.offset)/2,l=function(){var P,A;for(A=[],c=P=0;0<=i?P<i:P>i;c=0<=i?++P:--P)A.push(t.readUInt16());return A}(),c=b=0,j=a.length;b<j;c=++b)for(y=a[c],r=w=x=v[c];x<=y?w<=y:w>=y;r=x<=y?++w:--w)f[c]===0?o=r+u[c]:(o=l[f[c]/2+(r-x)-(p-c)]||0)!==0&&(o+=u[c]),this.codeMap[r]=65535&o}t.pos=h}return e.encode=function(t,n){var r,i,a,o,l,c,u,f,h,p,m,x,v,y,b,w,j,P,A,E,O,I,D,z,T,k,F,B,H,X,ae,W,te,ue,ye,V,ee,Q,de,le,ve,Z,ne,ge,Ee,be;switch(B=new kh,o=Object.keys(t).sort(function(Ue,Pe){return Ue-Pe}),n){case"macroman":for(v=0,y=function(){var Ue=[];for(x=0;x<256;++x)Ue.push(0);return Ue}(),w={0:0},a={},H=0,te=o.length;H<te;H++)w[ne=t[i=o[H]]]==null&&(w[ne]=++v),a[i]={old:t[i],new:w[t[i]]},y[i]=w[t[i]];return B.writeUInt16(1),B.writeUInt16(0),B.writeUInt32(12),B.writeUInt16(0),B.writeUInt16(262),B.writeUInt16(0),B.write(y),{charMap:a,subtable:B.data,maxGlyphID:v+1};case"unicode":for(k=[],h=[],j=0,w={},r={},b=u=null,X=0,ue=o.length;X<ue;X++)w[A=t[i=o[X]]]==null&&(w[A]=++j),r[i]={old:A,new:w[A]},l=w[A]-i,b!=null&&l===u||(b&&h.push(b),k.push(i),u=l),b=i;for(b&&h.push(b),h.push(65535),k.push(65535),z=2*(D=k.length),I=2*Math.pow(Math.log(D)/Math.LN2,2),p=Math.log(I/2)/Math.LN2,O=2*D-I,c=[],E=[],m=[],x=ae=0,ye=k.length;ae<ye;x=++ae){if(T=k[x],f=h[x],T===65535){c.push(0),E.push(0);break}if(T-(F=r[T].new)>=32768)for(c.push(0),E.push(2*(m.length+D-x)),i=W=T;T<=f?W<=f:W>=f;i=T<=f?++W:--W)m.push(r[i].new);else c.push(F-T),E.push(0)}for(B.writeUInt16(3),B.writeUInt16(1),B.writeUInt32(12),B.writeUInt16(4),B.writeUInt16(16+8*D+2*m.length),B.writeUInt16(0),B.writeUInt16(z),B.writeUInt16(I),B.writeUInt16(p),B.writeUInt16(O),ve=0,V=h.length;ve<V;ve++)i=h[ve],B.writeUInt16(i);for(B.writeUInt16(0),Z=0,ee=k.length;Z<ee;Z++)i=k[Z],B.writeUInt16(i);for(ge=0,Q=c.length;ge<Q;ge++)l=c[ge],B.writeUInt16(l);for(Ee=0,de=E.length;Ee<de;Ee++)P=E[Ee],B.writeUInt16(P);for(be=0,le=m.length;be<le;be++)v=m[be],B.writeUInt16(v);return{charMap:r,subtable:B.data,maxGlyphID:j+1}}},e}(),ote=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return nd(e,Qc),e.prototype.tag="cmap",e.prototype.parse=function(t){var n,r,i;for(t.pos=this.offset,this.version=t.readUInt16(),i=t.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=i?r<i:r>i;r=0<=i?++r:--r)n=new OF(t,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},e.encode=function(t,n){var r,i;return n==null&&(n="macroman"),r=OF.encode(t,n),(i=new kh).writeUInt16(0),i.writeUInt16(1),r.table=i.data.concat(r.subtable),r},e}(),tze=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return nd(e,Qc),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),nze=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return nd(e,Qc),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var n,r;for(r=[],n=0;n<10;++n)r.push(t.readByte());return r}(),this.charRange=function(){var n,r;for(r=[],n=0;n<4;++n)r.push(t.readInt());return r}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var n,r;for(r=[],n=0;n<2;n=++n)r.push(t.readInt());return r}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),rze=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return nd(e,Qc),e.prototype.tag="post",e.prototype.parse=function(t){var n,r,i;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var a;for(r=t.readUInt16(),this.glyphNameIndex=[],a=0;0<=r?a<r:a>r;a=0<=r?++a:--a)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],i=[];t.pos<this.offset+this.length;)n=t.readByte(),i.push(this.names.push(t.readString(n)));return i;case 151552:return r=t.readUInt16(),this.offsets=t.read(r);case 262144:return this.map=(function(){var o,l,c;for(c=[],a=o=0,l=this.file.maxp.numGlyphs;0<=l?o<l:o>l;a=0<=l?++o:--o)c.push(t.readUInt32());return c}).call(this)}},e}(),ize=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},aze=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return nd(e,Qc),e.prototype.tag="name",e.prototype.parse=function(t){var n,r,i,a,o,l,c,u,f,h,p;for(t.pos=this.offset,t.readShort(),n=t.readShort(),l=t.readShort(),r=[],a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)r.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+l+t.readShort()});for(c={},a=f=0,h=r.length;f<h;a=++f)i=r[a],t.pos=i.offset,u=t.readString(i.length),o=new ize(u,i),c[p=i.nameID]==null&&(c[p]=[]),c[i.nameID].push(o);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},e}(),sze=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return nd(e,Qc),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),oze=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return nd(e,Qc),e.prototype.tag="hmtx",e.prototype.parse=function(t){var n,r,i,a,o,l,c;for(t.pos=this.offset,this.metrics=[],n=0,l=this.file.hhea.numberOfMetrics;0<=l?n<l:n>l;n=0<=l?++n:--n)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,f;for(f=[],n=u=0;0<=i?u<i:u>i;n=0<=i?++u:--u)f.push(t.readInt16());return f}(),this.widths=(function(){var u,f,h,p;for(p=[],u=0,f=(h=this.metrics).length;u<f;u++)a=h[u],p.push(a.advance);return p}).call(this),r=this.widths[this.widths.length-1],c=[],n=o=0;0<=i?o<i:o>i;n=0<=i?++o:--o)c.push(this.widths.push(r));return c},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),lte=[].slice,lze=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return nd(e,Qc),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var n,r,i,a,o,l,c,u,f,h;return t in this.cache?this.cache[t]:(a=this.file.loca,n=this.file.contents,r=a.indexOf(t),(i=a.lengthOf(t))===0?this.cache[t]=null:(n.pos=this.offset+r,o=(l=new kh(n.read(i))).readShort(),u=l.readShort(),h=l.readShort(),c=l.readShort(),f=l.readShort(),this.cache[t]=o===-1?new uze(l,u,h,c,f):new cze(l,o,u,h,c,f),this.cache[t]))},e.prototype.encode=function(t,n,r){var i,a,o,l,c;for(o=[],a=[],l=0,c=n.length;l<c;l++)i=t[n[l]],a.push(o.length),i&&(o=o.concat(i.encode(r)));return a.push(o.length),{table:o,offsets:a}},e}(),cze=function(){function e(t,n,r,i,a,o){this.raw=t,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=a,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),uze=function(){function e(t,n,r,i,a){var o,l;for(this.raw=t,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;l=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&l;)o.pos+=1&l?4:2,128&l?o.pos+=8:64&l?o.pos+=4:8&l&&(o.pos+=2)}return e.prototype.encode=function(){var t,n,r;for(n=new kh(lte.call(this.raw.data)),t=0,r=this.glyphIDs.length;t<r;++t)n.pos=this.glyphOffsets[t];return n.data},e}(),dze=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return nd(e,Qc),e.prototype.tag="loca",e.prototype.parse=function(t){var n,r;return t.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,a;for(a=[],r=0,i=this.length;r<i;r+=2)a.push(2*t.readUInt16());return a}).call(this):(function(){var i,a;for(a=[],r=0,i=this.length;r<i;r+=4)a.push(t.readUInt32());return a}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,n){for(var r=new Uint32Array(this.offsets.length),i=0,a=0,o=0;o<r.length;++o)if(r[o]=i,a<n.length&&n[a]==o){++a,r[o]=i;var l=this.offsets[o],c=this.offsets[o+1]-l;c>0&&(i+=c)}for(var u=new Array(4*r.length),f=0;f<r.length;++f)u[4*f+3]=255&r[f],u[4*f+2]=(65280&r[f])>>8,u[4*f+1]=(16711680&r[f])>>16,u[4*f]=(4278190080&r[f])>>24;return u},e}(),fze=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,n,r,i,a;for(n in i=this.font.cmap.tables[0].codeMap,t={},a=this.subset)r=a[n],t[n]=i[r];return t},e.prototype.glyphsFor=function(t){var n,r,i,a,o,l,c;for(i={},o=0,l=t.length;o<l;o++)i[a=t[o]]=this.font.glyf.glyphFor(a);for(a in n=[],i)(r=i[a])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(a in c=this.glyphsFor(n))r=c[a],i[a]=r;return i},e.prototype.encode=function(t,n){var r,i,a,o,l,c,u,f,h,p,m,x,v,y,b;for(i in r=ote.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),m={0:0},b=r.charMap)m[(c=b[i]).old]=c.new;for(x in p=r.maxGlyphID,o)x in m||(m[x]=p++);return f=function(w){var j,P;for(j in P={},w)P[w[j]]=j;return P}(m),h=Object.keys(f).sort(function(w,j){return w-j}),v=function(){var w,j,P;for(P=[],w=0,j=h.length;w<j;w++)l=h[w],P.push(f[l]);return P}(),a=this.font.glyf.encode(o,v,m),u=this.font.loca.encode(a.offsets,v),y={cmap:this.font.cmap.raw(),glyf:a.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(y["OS/2"]=this.font.os2.raw()),this.font.directory.encode(y)},e}();tn.API.PDFObject=function(){var e;function t(){}return e=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},t.convert=function(n){var r,i,a,o;if(Array.isArray(n))return"["+function(){var l,c,u;for(u=[],l=0,c=n.length;l<c;l++)r=n[l],u.push(t.convert(r));return u}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+e(n.getUTCFullYear(),4)+e(n.getUTCMonth(),2)+e(n.getUTCDate(),2)+e(n.getUTCHours(),2)+e(n.getUTCMinutes(),2)+e(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in a=["<<"],n)o=n[i],a.push("/"+i+" "+t.convert(o));return a.push(">>"),a.join(`
`)}return""+n},t}();function Jc(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function ym(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const cte=6048e5,hze=864e5;let pze={};function rS(){return pze}function Q1(e,t){var l,c,u,f;const n=rS(),r=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((f=(u=n.locale)==null?void 0:u.options)==null?void 0:f.weekStartsOn)??0,i=Jc(e),a=i.getDay(),o=(a<r?7:0)+a-r;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function tj(e){return Q1(e,{weekStartsOn:1})}function ute(e){const t=Jc(e),n=t.getFullYear(),r=ym(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=tj(r),a=ym(e,0);a.setFullYear(n,0,4),a.setHours(0,0,0,0);const o=tj(a);return t.getTime()>=i.getTime()?n+1:t.getTime()>=o.getTime()?n:n-1}function kF(e){const t=Jc(e);return t.setHours(0,0,0,0),t}function TF(e){const t=Jc(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function mze(e,t){const n=kF(e),r=kF(t),i=+n-TF(n),a=+r-TF(r);return Math.round((i-a)/hze)}function gze(e){const t=ute(e),n=ym(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),tj(n)}function vze(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function yze(e){if(!vze(e)&&typeof e!="number")return!1;const t=Jc(e);return!isNaN(Number(t))}function xze(e){const t=Jc(e),n=ym(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}const bze={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},wze=(e,t,n)=>{let r;const i=bze[e];return typeof i=="string"?r=i:t===1?r=i.one:r=i.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Jg(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const _ze={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},jze={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Nze={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Sze={date:Jg({formats:_ze,defaultWidth:"full"}),time:Jg({formats:jze,defaultWidth:"full"}),dateTime:Jg({formats:Nze,defaultWidth:"full"})},Aze={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Pze=(e,t,n,r)=>Aze[e];function Cu(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=n!=null&&n.width?String(n.width):o;i=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=n!=null&&n.width?String(n.width):e.defaultWidth;i=e.values[l]||e.values[o]}const a=e.argumentCallback?e.argumentCallback(t):t;return i[a]}}const Cze={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Eze={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Oze={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},kze={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Tze={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Ize={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Lze=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Mze={ordinalNumber:Lze,era:Cu({values:Cze,defaultWidth:"wide"}),quarter:Cu({values:Eze,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Cu({values:Oze,defaultWidth:"wide"}),day:Cu({values:kze,defaultWidth:"wide"}),dayPeriod:Cu({values:Tze,defaultWidth:"wide",formattingValues:Ize,defaultFormattingWidth:"wide"})};function Eu(e){return(t,n={})=>{const r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],a=t.match(i);if(!a)return null;const o=a[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?Rze(l,h=>h.test(o)):Dze(l,h=>h.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;const f=t.slice(o.length);return{value:u,rest:f}}}function Dze(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function Rze(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function dte(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const i=r[0],a=t.match(e.parsePattern);if(!a)return null;let o=e.valueCallback?e.valueCallback(a[0]):a[0];o=n.valueCallback?n.valueCallback(o):o;const l=t.slice(i.length);return{value:o,rest:l}}}const $ze=/^(\d+)(th|st|nd|rd)?/i,Fze=/\d+/i,Bze={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},zze={any:[/^b/i,/^(a|c)/i]},Uze={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},qze={any:[/1/i,/2/i,/3/i,/4/i]},Vze={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Wze={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Hze={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Kze={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Gze={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Zze={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Xze={ordinalNumber:dte({matchPattern:$ze,parsePattern:Fze,valueCallback:e=>parseInt(e,10)}),era:Eu({matchPatterns:Bze,defaultMatchWidth:"wide",parsePatterns:zze,defaultParseWidth:"any"}),quarter:Eu({matchPatterns:Uze,defaultMatchWidth:"wide",parsePatterns:qze,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Eu({matchPatterns:Vze,defaultMatchWidth:"wide",parsePatterns:Wze,defaultParseWidth:"any"}),day:Eu({matchPatterns:Hze,defaultMatchWidth:"wide",parsePatterns:Kze,defaultParseWidth:"any"}),dayPeriod:Eu({matchPatterns:Gze,defaultMatchWidth:"any",parsePatterns:Zze,defaultParseWidth:"any"})},Yze={code:"en-US",formatDistance:wze,formatLong:Sze,formatRelative:Pze,localize:Mze,match:Xze,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Qze(e){const t=Jc(e);return mze(t,xze(t))+1}function Jze(e){const t=Jc(e),n=+tj(t)-+gze(t);return Math.round(n/cte)+1}function fte(e,t){var f,h,p,m;const n=Jc(e),r=n.getFullYear(),i=rS(),a=(t==null?void 0:t.firstWeekContainsDate)??((h=(f=t==null?void 0:t.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)??i.firstWeekContainsDate??((m=(p=i.locale)==null?void 0:p.options)==null?void 0:m.firstWeekContainsDate)??1,o=ym(e,0);o.setFullYear(r+1,0,a),o.setHours(0,0,0,0);const l=Q1(o,t),c=ym(e,0);c.setFullYear(r,0,a),c.setHours(0,0,0,0);const u=Q1(c,t);return n.getTime()>=l.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function eUe(e,t){var l,c,u,f;const n=rS(),r=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((f=(u=n.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??1,i=fte(e,t),a=ym(e,0);return a.setFullYear(i,0,r),a.setHours(0,0,0,0),Q1(a,t)}function tUe(e,t){const n=Jc(e),r=+Q1(n,t)-+eUe(n,t);return Math.round(r/cte)+1}function Ir(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const Nf={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return Ir(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):Ir(n+1,2)},d(e,t){return Ir(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return Ir(e.getHours()%12||12,t.length)},H(e,t){return Ir(e.getHours(),t.length)},m(e,t){return Ir(e.getMinutes(),t.length)},s(e,t){return Ir(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return Ir(i,t.length)}},rg={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},IF={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Nf.y(e,t)},Y:function(e,t,n,r){const i=fte(e,r),a=i>0?i:1-i;if(t==="YY"){const o=a%100;return Ir(o,2)}return t==="Yo"?n.ordinalNumber(a,{unit:"year"}):Ir(a,t.length)},R:function(e,t){const n=ute(e);return Ir(n,t.length)},u:function(e,t){const n=e.getFullYear();return Ir(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return Ir(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return Ir(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return Nf.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return Ir(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const i=tUe(e,r);return t==="wo"?n.ordinalNumber(i,{unit:"week"}):Ir(i,t.length)},I:function(e,t,n){const r=Jze(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):Ir(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):Nf.d(e,t)},D:function(e,t,n){const r=Qze(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Ir(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const i=e.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return Ir(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const i=e.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return Ir(a,t.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),i=r===0?7:r;switch(t){case"i":return String(i);case"ii":return Ir(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let i;switch(r===12?i=rg.noon:r===0?i=rg.midnight:i=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let i;switch(r>=17?i=rg.evening:r>=12?i=rg.afternoon:r>=4?i=rg.morning:i=rg.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Nf.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):Nf.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Ir(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):Ir(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Nf.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Nf.s(e,t)},S:function(e,t){return Nf.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return MF(r);case"XXXX":case"XX":return vp(r);case"XXXXX":case"XXX":default:return vp(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return MF(r);case"xxxx":case"xx":return vp(r);case"xxxxx":case"xxx":default:return vp(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+LF(r,":");case"OOOO":default:return"GMT"+vp(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+LF(r,":");case"zzzz":default:return"GMT"+vp(r,":")}},t:function(e,t,n){const r=Math.trunc(e.getTime()/1e3);return Ir(r,t.length)},T:function(e,t,n){const r=e.getTime();return Ir(r,t.length)}};function LF(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=Math.trunc(r/60),a=r%60;return a===0?n+String(i):n+String(i)+t+Ir(a,2)}function MF(e,t){return e%60===0?(e>0?"-":"+")+Ir(Math.abs(e)/60,2):vp(e,t)}function vp(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=Ir(Math.trunc(r/60),2),a=Ir(r%60,2);return n+i+t+a}const DF=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},hte=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},nUe=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return DF(e,t);let a;switch(r){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",DF(r,t)).replace("{{time}}",hte(i,t))},rUe={p:hte,P:nUe},iUe=/^D+$/,aUe=/^Y+$/,sUe=["D","DD","YY","YYYY"];function oUe(e){return iUe.test(e)}function lUe(e){return aUe.test(e)}function cUe(e,t,n){const r=uUe(e,t,n);if(console.warn(r),sUe.includes(e))throw new RangeError(r)}function uUe(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const dUe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,fUe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,hUe=/^'([^]*?)'?$/,pUe=/''/g,mUe=/[a-zA-Z]/;function Vs(e,t,n){var f,h,p,m,x,v,y,b;const r=rS(),i=(n==null?void 0:n.locale)??r.locale??Yze,a=(n==null?void 0:n.firstWeekContainsDate)??((h=(f=n==null?void 0:n.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)??r.firstWeekContainsDate??((m=(p=r.locale)==null?void 0:p.options)==null?void 0:m.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((v=(x=n==null?void 0:n.locale)==null?void 0:x.options)==null?void 0:v.weekStartsOn)??r.weekStartsOn??((b=(y=r.locale)==null?void 0:y.options)==null?void 0:b.weekStartsOn)??0,l=Jc(e);if(!yze(l))throw new RangeError("Invalid time value");let c=t.match(fUe).map(w=>{const j=w[0];if(j==="p"||j==="P"){const P=rUe[j];return P(w,i.formatLong)}return w}).join("").match(dUe).map(w=>{if(w==="''")return{isToken:!1,value:"'"};const j=w[0];if(j==="'")return{isToken:!1,value:gUe(w)};if(IF[j])return{isToken:!0,value:w};if(j.match(mUe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+j+"`");return{isToken:!1,value:w}});i.localize.preprocessor&&(c=i.localize.preprocessor(l,c));const u={firstWeekContainsDate:a,weekStartsOn:o,locale:i};return c.map(w=>{if(!w.isToken)return w.value;const j=w.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&lUe(j)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&oUe(j))&&cUe(j,t,String(e));const P=IF[j[0]];return P(l,j,i.localize,u)}).join("")}function gUe(e){const t=e.match(hUe);return t?t[1].replace(pUe,"'"):e}const vUe={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 día",other:"{{count}} días"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 año",other:"alrededor de {{count}} años"},xYears:{one:"1 año",other:"{{count}} años"},overXYears:{one:"más de 1 año",other:"más de {{count}} años"},almostXYears:{one:"casi 1 año",other:"casi {{count}} años"}},yUe=(e,t,n)=>{let r;const i=vUe[e];return typeof i=="string"?r=i:t===1?r=i.one:r=i.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"en "+r:"hace "+r:r},xUe={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},bUe={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},wUe={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},_Ue={date:Jg({formats:xUe,defaultWidth:"full"}),time:Jg({formats:bUe,defaultWidth:"full"}),dateTime:Jg({formats:wUe,defaultWidth:"full"})},jUe={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'mañana a la' p",nextWeek:"eeee 'a la' p",other:"P"},NUe={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'mañana a las' p",nextWeek:"eeee 'a las' p",other:"P"},SUe=(e,t,n,r)=>t.getHours()!==1?NUe[e]:jUe[e],AUe={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","después de cristo"]},PUe={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1º trimestre","2º trimestre","3º trimestre","4º trimestre"]},CUe={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},EUe={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","sá"],abbreviated:["dom","lun","mar","mié","jue","vie","sáb"],wide:["domingo","lunes","martes","miércoles","jueves","viernes","sábado"]},OUe={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"}},kUe={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},TUe=(e,t)=>Number(e)+"º",IUe={ordinalNumber:TUe,era:Cu({values:AUe,defaultWidth:"wide"}),quarter:Cu({values:PUe,defaultWidth:"wide",argumentCallback:e=>Number(e)-1}),month:Cu({values:CUe,defaultWidth:"wide"}),day:Cu({values:EUe,defaultWidth:"wide"}),dayPeriod:Cu({values:OUe,defaultWidth:"wide",formattingValues:kUe,defaultFormattingWidth:"wide"})},LUe=/^(\d+)(º)?/i,MUe=/\d+/i,DUe={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[uú]n|despu[eé]s de cristo|era com[uú]n)/i},RUe={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[uú]n)/i,/^(despu[eé]s de cristo|era com[uú]n)/i]},$Ue={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](º)? trimestre/i},FUe={any:[/1/i,/2/i,/3/i,/4/i]},BUe={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},zUe={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},UUe={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[áa])/i,abbreviated:/^(dom|lun|mar|mi[ée]|jue|vie|s[áa]b)/i,wide:/^(domingo|lunes|martes|mi[ée]rcoles|jueves|viernes|s[áa]bado)/i},qUe={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},VUe={narrow:/^(a|p|mn|md|(de la|a las) (mañana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (mañana|tarde|noche))/i},WUe={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/mañana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},HUe={ordinalNumber:dte({matchPattern:LUe,parsePattern:MUe,valueCallback:function(e){return parseInt(e,10)}}),era:Eu({matchPatterns:DUe,defaultMatchWidth:"wide",parsePatterns:RUe,defaultParseWidth:"any"}),quarter:Eu({matchPatterns:$Ue,defaultMatchWidth:"wide",parsePatterns:FUe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Eu({matchPatterns:BUe,defaultMatchWidth:"wide",parsePatterns:zUe,defaultParseWidth:"any"}),day:Eu({matchPatterns:UUe,defaultMatchWidth:"wide",parsePatterns:qUe,defaultParseWidth:"any"}),dayPeriod:Eu({matchPatterns:VUe,defaultMatchWidth:"any",parsePatterns:WUe,defaultParseWidth:"any"})},Md={code:"es",formatDistance:yUe,formatLong:_Ue,formatRelative:SUe,localize:IUe,match:HUe,options:{weekStartsOn:1,firstWeekContainsDate:1}};function KUe({isOpen:e,onClose:t,shipments:n}){const[r,i]=N.useState("today"),[a,o]=N.useState(""),[l,c]=N.useState(""),[u,f]=N.useState(!1),h=(x,v)=>{const y=new Date,b=new Date(y.getFullYear(),y.getMonth(),y.getDate()),w=new Date(b.getTime()+24*60*60*1e3),j=new Date(b);j.setDate(b.getDate()-b.getDay()+1);const P=new Date(j.getTime()+6*24*60*60*1e3),A=new Date(j.getTime()+7*24*60*60*1e3),E=new Date(A.getTime()+6*24*60*60*1e3),O=new Date(y.getFullYear(),y.getMonth(),1),I=new Date(y.getFullYear(),y.getMonth()+1,0);return x.filter(D=>{const z=D.estimatedDeliveryDate?new Date(D.estimatedDeliveryDate):null,T=D.createdAt?new Date(D.createdAt):new Date,k=z||T;switch(v){case"today":return k>=b&&k<w;case"tomorrow":const F=new Date(w.getTime()+24*60*60*1e3);return k>=w&&k<F;case"thisWeek":return k>=j&&k<=P;case"nextWeek":return k>=A&&k<=E;case"thisMonth":return k>=O&&k<=I;case"custom":if(!a||!l)return!1;const B=new Date(a),H=new Date(l);return H.setHours(23,59,59,999),k>=B&&k<=H;default:return!0}})},p=async()=>{f(!0);try{const x=h(n,r),v=new tn("p","mm","a4"),y=v.internal.pageSize.getWidth(),b=v.internal.pageSize.getHeight();v.setFont("helvetica"),v.setFontSize(20),v.setTextColor(39,57,73),v.text("ECONOVA - Reporte de Envíos",y/2,25,{align:"center"}),v.setFontSize(12),v.setTextColor(100,100,100);const w=Vs(new Date,"dd 'de' MMMM, yyyy 'a las' HH:mm",{locale:Md});v.text(`Generado el ${w}`,y/2,35,{align:"center"});let j="";switch(r){case"today":j="Envíos de Hoy";break;case"tomorrow":j="Envíos de Mañana";break;case"thisWeek":j="Envíos de Esta Semana";break;case"nextWeek":j="Envíos de la Próxima Semana";break;case"thisMonth":j="Envíos de Este Mes";break;case"custom":a&&l?j=`Del ${Vs(new Date(a),"dd/MM/yyyy")} al ${Vs(new Date(l),"dd/MM/yyyy")}`:j="Rango personalizado";break}v.setFontSize(14),v.setTextColor(39,57,73),v.text(j,y/2,50,{align:"center"});const P=x.reduce((k,F)=>{const B=F.status||"unknown";return k[B]=(k[B]||0)+1,k},{}),A={pending:"Pendientes",in_transit:"En Tránsito",delivered:"Entregados",delayed:"Retrasados",cancelled:"Cancelados"};let E=70;v.setFontSize(16),v.text("Resumen por Estado",20,E),E+=10,v.setFontSize(12),Object.entries(P).forEach(([k,F])=>{const B=A[k]||k;v.text(`${B}: ${F} envíos`,20,E),E+=8}),E+=10,v.text(`Total de envíos: ${x.length}`,20,E),E+=20,E>b-40&&(v.addPage(),E=30),v.setFontSize(16),v.text("Detalle de Envíos",20,E),E+=15,v.setFontSize(10),v.setTextColor(39,57,73);const O=[25,45,25,35,25,30],I=["Código","Cliente","Estado","Producto","Cantidad","Entrega"];let D=15;I.forEach((k,F)=>{v.text(k,D,E),D+=O[F]}),E+=8,v.setDrawColor(200,200,200),v.line(15,E,y-15,E),E+=5,v.setTextColor(60,60,60),x.forEach(k=>{E>b-20&&(v.addPage(),E=30),D=15,[k.trackingCode||"N/A",k.customerName&&k.customerName.length>20?k.customerName.substring(0,17)+"...":k.customerName||"N/A",A[k.status]||k.status||"N/A",k.product&&k.product.length>15?k.product.substring(0,12)+"...":k.product||"N/A",`${k.quantity||0} ${k.unit||""}`,k.estimatedDeliveryDate?Vs(new Date(k.estimatedDeliveryDate),"dd/MM"):"N/A"].forEach((B,H)=>{v.text(B,D,E),D+=O[H]}),E+=7});const z=v.getNumberOfPages();for(let k=1;k<=z;k++)v.setPage(k),v.setFontSize(8),v.setTextColor(150,150,150),v.text(`Página ${k} de ${z}`,y/2,b-10,{align:"center"}),v.text("ECONOVA - Sistema de Gestión Logística",y/2,b-5,{align:"center"});const T=`reporte-envios-${r}-${Vs(new Date,"yyyyMMdd-HHmm")}.pdf`;v.save(T),t()}catch(x){console.error("Error al generar PDF:",x),alert("Error al generar el PDF. Por favor, inténtalo de nuevo.")}finally{f(!1)}},m=h(n,r);return s.jsx(vi,{open:e,onOpenChange:t,children:s.jsxs(ui,{className:"max-w-lg",children:[s.jsxs(di,{children:[s.jsxs(fi,{className:"flex items-center gap-2",children:[s.jsx(Ok,{className:"h-5 w-5 text-blue-600"}),"Generar Reporte PDF"]}),s.jsx(jo,{children:"Selecciona el período de tiempo para generar el reporte de envíos"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(xt,{htmlFor:"period",children:"Período del reporte"}),s.jsxs(on,{value:r,onValueChange:x=>i(x),children:[s.jsx(an,{children:s.jsx(ln,{placeholder:"Selecciona un período"})}),s.jsxs(sn,{children:[s.jsx(xe,{value:"today",children:"Envíos de Hoy"}),s.jsx(xe,{value:"tomorrow",children:"Envíos de Mañana"}),s.jsx(xe,{value:"thisWeek",children:"Esta Semana"}),s.jsx(xe,{value:"nextWeek",children:"Próxima Semana"}),s.jsx(xe,{value:"thisMonth",children:"Este Mes"}),s.jsx(xe,{value:"custom",children:"Rango Personalizado"})]})]})]}),r==="custom"&&s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(xt,{htmlFor:"startDate",children:"Fecha de inicio"}),s.jsx(Mt,{id:"startDate",type:"date",value:a,onChange:x=>o(x.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(xt,{htmlFor:"endDate",children:"Fecha de fin"}),s.jsx(Mt,{id:"endDate",type:"date",value:l,onChange:x=>c(x.target.value)})]})]}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Vista previa del reporte:"}),s.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[s.jsx("strong",{children:m.length})," envíos encontrados"]}),s.jsx("div",{className:"text-xs text-gray-500",children:m.length===0?"No hay envíos en el período seleccionado":`Estados: ${Object.entries(m.reduce((x,v)=>(x[v.status]=(x[v.status]||0)+1,x),{})).map(([x,v])=>`${v} ${x}`).join(", ")}`})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx(Je,{variant:"outline",onClick:t,className:"flex-1",children:"Cancelar"}),s.jsx(Je,{onClick:p,disabled:u||r==="custom"&&(!a||!l),className:"flex-1 flex items-center gap-2",children:u?s.jsxs(s.Fragment,{children:[s.jsx(go,{className:"h-4 w-4 animate-spin"}),"Generando..."]}):s.jsxs(s.Fragment,{children:[s.jsx(PW,{className:"h-4 w-4"}),"Descargar PDF"]})})]})]})]})})}const GUe=({status:e})=>{const n={pending:{label:"Por embarcar",variant:"outline",color:"bg-blue-100 text-blue-800"},in_transit:{label:"En Tránsito",variant:"default",color:"bg-orange-100 text-orange-800"},delayed:{label:"Retrasado",variant:"destructive",color:"bg-red-100 text-red-800"},delivered:{label:"Entregado",variant:"success",color:"bg-green-100 text-green-800"},cancelled:{label:"Cerrado",variant:"secondary",color:"bg-gray-100 text-gray-800"}}[e]||{label:e,variant:"outline",color:"bg-gray-100 text-gray-800"};return s.jsx(Wn,{variant:n.variant,children:n.label})},ZUe=({shipment:e,onCardClick:t,onRequestTransport:n})=>{const[r,i]=N.useState(!1),a=x=>{if(x>=24){const v=Math.floor(x/24),y=x%24;return y===0?`${v} ${v===1?"día":"días"}`:`${v} ${v===1?"día":"días"}, ${y.toFixed(1)}h`}else return`${x.toFixed(1)} horas`},o=e.cycleTimes,c=(()=>{const x=new Date(e.createdAt),v=new Date;switch(e.status){case"delivered":if((o==null?void 0:o.hoursToDelivery)!=null)return{label:"Tiempo entrega",value:a(parseFloat(o.hoursToDelivery)),icon:"📦"};break;case"cancelled":if((o==null?void 0:o.hoursTotalCycle)!=null)return{label:"Tiempo total",value:a(parseFloat(o.hoursTotalCycle)),icon:"⏱️"};break;case"in_transit":const y=(v.getTime()-x.getTime())/(1e3*60*60);return{label:"En tránsito",value:a(y),icon:"🚛"};case"delayed":const b=(v.getTime()-x.getTime())/(1e3*60*60);return{label:"Tiempo retraso",value:a(b),icon:"⚠️"};case"pending":const w=(v.getTime()-x.getTime())/(1e3*60*60);return{label:"Tiempo espera",value:a(w),icon:"⏳"};default:return null}return null})(),u=x=>{i(!0),x.dataTransfer.setData("shipment",JSON.stringify(e)),x.dataTransfer.effectAllowed="move"},f=()=>{i(!1)},h=x=>{r||(x.stopPropagation(),t(e))},p=x=>{switch(x){case"pending":return"border-l-slate-400";case"in_transit":return"border-l-amber-400";case"delivered":return"border-l-[#b5e951]";case"delayed":return"border-l-rose-400";case"cancelled":return"border-l-gray-400";default:return"border-l-gray-300"}},m=x=>{switch(x){case"delayed":return"🚨";case"in_transit":return"🚚";case"delivered":return"✅";case"cancelled":return"🔒";default:return"📦"}};return s.jsxs("div",{className:`mb-3 cursor-move transition-all duration-200 border-l-4 rounded-lg p-3 bg-white border border-gray-200 ${p(e.status)} ${r?"opacity-50 shadow-xl scale-105":"hover:shadow-md hover:-translate-y-0.5"}`,draggable:!0,onDragStart:u,onDragEnd:f,onClick:h,children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("span",{className:"text-base",children:m(e.status)}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-semibold text-sm text-gray-900",children:e.trackingCode}),s.jsx("div",{className:"text-xs text-gray-500",children:e.customerName})]}),s.jsx(zce,{className:"h-3 w-3 text-gray-300"})]}),s.jsx("div",{className:"mb-2",children:e.items&&e.items.length>0?s.jsxs("div",{className:"space-y-1",children:[e.items.slice(0,2).map((x,v)=>s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:x.product}),s.jsxs("div",{className:"text-xs text-gray-500",children:[x.quantity," ",x.unit]})]},x.id||v)),e.items.length>2&&s.jsxs("div",{className:"text-xs text-gray-500 italic",children:["+",e.items.length-2," más..."]})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:e.product}),s.jsxs("div",{className:"text-xs text-gray-500",children:[e.quantity," ",e.unit]})]})}),s.jsxs("div",{className:"flex items-center gap-1 text-xs mb-2",children:[s.jsx("span",{className:"text-slate-600 font-medium truncate flex-1",children:e.origin}),s.jsx("span",{className:"text-gray-400 text-xs",children:"→"}),s.jsx("span",{className:"text-slate-700 font-medium truncate flex-1",children:e.destination})]}),e.estimatedDeliveryDate&&s.jsxs("div",{className:"text-xs text-gray-500",children:["📅 ",new Date(e.estimatedDeliveryDate).toLocaleDateString("es-ES",{day:"numeric",month:"short"})]}),c&&s.jsx("div",{className:"mt-3 pt-2 border-t border-gray-100",children:s.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[s.jsx("span",{className:"text-gray-500",children:c.icon}),s.jsxs("span",{className:"text-gray-600 font-medium",children:[c.label,":"]}),s.jsx("span",{className:"text-gray-900 font-semibold","data-testid":`text-cycle-hours-${e.id}`,children:c.value})]})}),e.status==="pending"&&n&&s.jsx("div",{className:"mt-3 pt-2 border-t border-gray-100",children:s.jsxs("button",{onClick:x=>{x.stopPropagation(),n(e)},className:"w-full text-xs bg-blue-600 hover:bg-blue-700 text-white py-1.5 px-2 rounded transition-colors duration-200 flex items-center justify-center gap-1",children:[s.jsx(_o,{className:"h-3 w-3"}),"Solicitar envío"]})})]})},k0=({title:e,status:t,shipments:n,onDrop:r,onCardClick:i,onRequestTransport:a,showLoadMoreButton:o,onLoadMore:l,isLoadingMore:c})=>{const[u,f]=N.useState(!1),h=n.filter(w=>w.status===t),p=N.useMemo(()=>{if(t!=="cancelled"&&t!=="delivered")return[{month:null,shipments:h}];const w={};return h.forEach(j=>{let P;t==="delivered"?P=j.actualDeliveryDate?new Date(j.actualDeliveryDate):new Date(j.createdAt):t==="cancelled"?P=j.updatedAt?new Date(j.updatedAt):new Date(j.createdAt):P=new Date(j.createdAt);const A=`${P.getFullYear()}-${(P.getMonth()+1).toString().padStart(2,"0")}`;w[A]||(w[A]=[]),w[A].push(j)}),Object.entries(w).sort((j,P)=>P[0].localeCompare(j[0])).map(([j,P])=>({month:j,shipments:P.sort((A,E)=>{const O=I=>t==="delivered"?I.actualDeliveryDate?new Date(I.actualDeliveryDate):new Date(I.createdAt):t==="cancelled"?I.updatedAt?new Date(I.updatedAt):new Date(I.createdAt):new Date(I.createdAt);return O(E).getTime()-O(A).getTime()})}))},[h,t]),m=w=>{w.preventDefault(),f(!0)},x=()=>{f(!1)},v=w=>{w.preventDefault(),f(!1);try{const j=w.dataTransfer.getData("shipment"),P=JSON.parse(j);P.status!==t&&r(P,t)}catch(j){console.error("Error al procesar el drop:",j)}},b=(w=>{switch(w){case"pending":return{color:"border-slate-200 bg-gradient-to-b from-slate-50/60 to-white",headerColor:"bg-slate-700 text-white",icon:"📋",description:"Listos para enviar"};case"in_transit":return{color:"border-amber-200 bg-gradient-to-b from-amber-50/60 to-white",headerColor:"bg-amber-700 text-white",icon:"🚚",description:"En camino"};case"delivered":return{color:"border-[#b5e951]/30 bg-gradient-to-b from-[#b5e951]/10 to-white",headerColor:"bg-[#6b7a00] text-white",icon:"✅",description:"Completados"};case"delayed":return{color:"border-rose-200 bg-gradient-to-b from-rose-50/60 to-white",headerColor:"bg-rose-700 text-white",icon:"⚠️",description:"Requieren atención"};case"cancelled":return{color:"border-gray-200 bg-gradient-to-b from-gray-50/60 to-white",headerColor:"bg-gray-700 text-white",icon:"🔒",description:"Cerrados"};default:return{color:"border-gray-200 bg-gray-50/50",headerColor:"bg-gray-700 text-white",icon:"📦",description:"Envíos"}}})(t);return s.jsx("div",{className:"flex-1 min-w-80",children:s.jsxs(ot,{className:`${b.color} ${u?"ring-2 ring-blue-400 ring-opacity-50 shadow-lg":""} transition-all duration-200`,onDragOver:m,onDragLeave:x,onDrop:v,children:[s.jsx(Ht,{className:`${b.headerColor} rounded-t-lg -m-[1px] mb-3`,children:s.jsxs(Qt,{className:"text-lg flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-xl",children:b.icon}),s.jsxs("div",{children:[s.jsx("div",{className:"font-bold",children:e}),s.jsx("div",{className:"text-xs opacity-80 font-normal",children:b.description})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Wn,{variant:"secondary",className:"bg-white/20 text-white border-white/30",children:h.length}),h.length>0&&s.jsxs("div",{className:"text-xs opacity-80",children:[Math.round(h.length/n.length*100),"%"]})]})]})}),s.jsx(lt,{children:s.jsxs("div",{className:`space-y-3 max-h-96 overflow-y-auto transition-all ${u?"bg-blue-50 border-2 border-dashed border-blue-300 rounded-lg p-3":""}`,children:[p.map((w,j)=>s.jsxs("div",{children:[w.month&&s.jsxs("div",{className:"sticky top-0 bg-gray-100 border rounded-lg p-2 mb-3 text-center",children:[s.jsx("div",{className:"text-xs font-semibold text-gray-700 uppercase tracking-wide",children:new Date(w.month+"-01").toLocaleDateString("es-ES",{month:"long",year:"numeric"})}),s.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[w.shipments.length," envío",w.shipments.length!==1?"s":""]})]}),w.shipments.map(P=>s.jsx(ZUe,{shipment:P,onCardClick:i,onRequestTransport:a},P.id)),w.month&&j<p.length-1&&s.jsx("div",{className:"mb-4"})]},w.month||"ungrouped")),o&&l&&s.jsx("div",{className:"pt-3 mt-3 border-t border-gray-200",children:s.jsx(Je,{variant:"outline",size:"sm",onClick:l,disabled:c,className:"w-full text-xs text-gray-600 hover:text-gray-800 hover:bg-gray-50",children:c?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-3 h-3 border border-gray-300 border-t-gray-600 rounded-full animate-spin mr-2"}),"Cargando..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Dh,{className:"w-3 h-3 mr-1"}),"Ver más antiguos"]})})}),h.length===0&&s.jsxs("div",{className:"text-center text-gray-500 py-12",children:[s.jsx("div",{className:"text-4xl mb-2",children:b.icon}),s.jsx("div",{className:"text-sm font-medium",children:u?"Suelta la tarjeta aquí":"No hay envíos"}),s.jsx("div",{className:"text-xs opacity-75 mt-1",children:u?"para cambiar el estado":b.description.toLowerCase()})]})]})})]})})};function XUe(){var V,ee,Q,de,le,ve;const{toast:e}=ss(),t=Xd(),[n,r]=N.useState({isOpen:!1,shipment:null}),[i,a]=N.useState({isOpen:!1,shipment:null}),[o,l]=N.useState(!1),[c,u]=N.useState(!1),[f,h]=N.useState({isOpen:!1,shipment:null,targetStatus:""}),[p,m]=N.useState(""),[x,v]=N.useState({companyId:"1",trackingCode:"",customerName:"",customerId:void 0,purchaseOrder:"",customerEmail:"",product:"",quantity:"",unit:"kg",origin:"",destination:"",estimatedDeliveryDate:""}),[y,b]=N.useState([{product:"",quantity:"",unit:"kg"}]),w=(Z,ne)=>{const ge=Z==="1"?"DUR":"ORS",Ee=new Date().getFullYear(),be=ne.filter(ce=>{const it=new Date(ce.createdAt).getFullYear();return ce.trackingCode.startsWith(ge)&&it===Ee});let Ue=0;be.forEach(ce=>{const it=ce.trackingCode.match(new RegExp(`${ge}-${Ee}-(\\d+)`));if(it){const _t=parseInt(it[1]);_t>Ue&&(Ue=_t)}});const Pe=(Ue+1).toString().padStart(4,"0");return`${ge}-${Ee}-${Pe}`},[j,P]=N.useState(1),[A,E]=N.useState(!1),{data:O,isLoading:I}=Zt({queryKey:["/api/shipments",{page:j,limit:50,loadMoreClosed:A}],queryFn:async()=>{const Z=new URLSearchParams({page:j.toString(),limit:"50"});A||Z.append("since","30d");const ne=await fetch(`/api/shipments?${Z}`,{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")||""}`}});if(!ne.ok)throw new Error("Failed to fetch shipments");return await ne.json()},staleTime:5*60*1e3}),D=N.useMemo(()=>O?Array.isArray(O.shipments)?O.shipments:Array.isArray(O)?O:[]:[],[O]);N.useMemo(()=>!O||Array.isArray(O)?null:O.pagination,[O]);const{data:z=[]}=Zt({queryKey:["/api/providers"]}),{data:T=[],isLoading:k}=Zt({queryKey:["/api/clients"]});N.useEffect(()=>{if(x.companyId&&D){const Z=w(x.companyId,D);Z!==x.trackingCode&&v(ne=>({...ne,trackingCode:Z,product:""}))}},[x.companyId,D.length]);const F=cr({mutationFn:async({shipmentId:Z,status:ne,invoiceNumber:ge})=>await $C(`/api/shipments/${Z}/status`,{method:"PATCH",body:{status:ne,invoiceNumber:ge,sendNotification:!0,comments:`Estado actualizado mediante drag & drop a ${ne}`}}),onSuccess:Z=>{e({title:"Estado actualizado",description:Z.notificationSent?"Se actualizó el estado y se envió notificación al cliente":"El estado se actualizó correctamente"}),t.invalidateQueries({queryKey:["/api/shipments"]}),f.isOpen&&(h({isOpen:!1,shipment:null,targetStatus:""}),m(""))},onError:Z=>{Z.requiresInvoiceNumber&&f.shipment?e({title:"Número de factura requerido",description:Z.error||"Para mover a 'En Tránsito' debes ingresar el número de factura",variant:"destructive"}):e({title:"Error",description:Z.message||Z.error||"Error al actualizar el estado",variant:"destructive"})}}),B=cr({mutationFn:async Z=>{var ne;return await $C("/api/shipments",{method:"POST",body:{...Z,quantity:Z.quantity||((ne=y[0])==null?void 0:ne.quantity)||"0",carbonFootprint:"0",status:"pending",companyId:parseInt(Z.companyId),estimatedDeliveryDate:Z.estimatedDeliveryDate||null,items:y.filter(ge=>ge.product&&ge.quantity)}})},onSuccess:()=>{e({title:"Envío creado",description:"El nuevo envío se ha registrado correctamente"}),t.invalidateQueries({queryKey:["/api/shipments"]}),u(!1);const Z=w("1",D||[]);v({companyId:"1",trackingCode:Z,customerName:"",customerId:void 0,purchaseOrder:"",customerEmail:"",product:"",quantity:"",unit:"kg",origin:"",destination:"",estimatedDeliveryDate:""}),b([{product:"",quantity:"",unit:"kg"}])},onError:Z=>{e({title:"Error",description:Z.message||"Error al crear el envío",variant:"destructive"})}}),H=(Z,ne)=>{ne==="in_transit"&&!Z.invoiceNumber?(h({isOpen:!0,shipment:Z,targetStatus:ne}),m("")):F.mutate({shipmentId:Z.id,status:ne,invoiceNumber:Z.invoiceNumber||void 0})},X=()=>{if(!f.shipment||!p.trim()){e({title:"Error",description:"Por favor ingresa el número de factura",variant:"destructive"});return}F.mutate({shipmentId:f.shipment.id,status:f.targetStatus,invoiceNumber:p.trim()})},ae=Z=>{r({isOpen:!0,shipment:Z})},W=Z=>{a({isOpen:!0,shipment:Z})},te=async Z=>{console.log("Datos de solicitud:",Z),console.log("Envío:",i.shipment),e({title:"Solicitud enviada",description:"La solicitud de transporte se ha enviado al proveedor"}),a({isOpen:!1,shipment:null})},ue=()=>{const Z=y.filter(ne=>ne.product&&ne.quantity);if(!x.trackingCode||!x.customerName||!x.purchaseOrder){e({title:"Campos requeridos",description:"Por favor completa los campos obligatorios (código, nombre del cliente y orden de compra)",variant:"destructive"});return}if(Z.length===0){e({title:"Producto requerido",description:"Debes agregar al menos un producto con cantidad",variant:"destructive"});return}B.mutate(x)},ye=()=>{E(!0),e({title:"Cargando envíos históricos",description:"Se están cargando todos los envíos cerrados..."})};return I?s.jsx("div",{className:"flex justify-center items-center py-16",children:s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-blue-200 border-t-blue-600 mx-auto"}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsx("div",{className:"text-lg",children:"🚚"})})]}),s.jsx("p",{className:"text-gray-700 mt-4 font-medium",children:"Cargando tablero de envíos..."}),s.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Preparando tu vista Kanban"})]})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[s.jsx(_o,{className:"h-6 w-6 text-slate-600"}),"Gestión de Envíos"]}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Arrastra las tarjetas entre columnas para actualizar el estado"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(Je,{variant:"outline",onClick:()=>l(!0),className:"flex items-center gap-2",children:[s.jsx(PW,{className:"h-4 w-4"}),"Descargar Reporte"]}),s.jsxs(Je,{onClick:()=>u(!0),className:"flex items-center gap-2",children:[s.jsx(ch,{className:"h-4 w-4"}),"Nuevo Envío"]})]})]}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-5 gap-3",children:[{status:"pending",label:"Por embarcar",icon:"📋",color:"bg-slate-100 text-slate-700"},{status:"in_transit",label:"En Tránsito",icon:"🚚",color:"bg-amber-100 text-amber-700"},{status:"delivered",label:"Entregados",icon:"✅",color:"bg-[#b5e951]/20 text-[#6b7a00]"},{status:"delayed",label:"Retrasados",icon:"⚠️",color:"bg-rose-100 text-rose-700"},{status:"cancelled",label:"Cerrados",icon:"🔒",color:"bg-gray-100 text-gray-700"}].map(Z=>{const ne=D.filter(ge=>ge.status===Z.status).length;return s.jsxs("div",{className:`${Z.color} rounded-lg p-3 text-center`,children:[s.jsx("div",{className:"text-lg",children:Z.icon}),s.jsx("div",{className:"text-xl font-bold",children:ne}),s.jsx("div",{className:"text-xs font-medium",children:Z.label})]},Z.status)})}),s.jsxs("div",{className:"flex gap-4 overflow-x-auto pb-4",children:[s.jsx(k0,{title:"Por embarcar",status:"pending",shipments:D,onDrop:H,onCardClick:ae,onRequestTransport:W}),s.jsx(k0,{title:"En Tránsito",status:"in_transit",shipments:D,onDrop:H,onCardClick:ae}),s.jsx(k0,{title:"Entregados",status:"delivered",shipments:D,onDrop:H,onCardClick:ae}),s.jsx(k0,{title:"Retrasados",status:"delayed",shipments:D,onDrop:H,onCardClick:ae}),s.jsx(k0,{title:"Cerrados",status:"cancelled",shipments:D,onDrop:H,onCardClick:ae,showLoadMoreButton:!A,onLoadMore:ye,isLoadingMore:I&&A})]}),s.jsx(vi,{open:c,onOpenChange:u,children:s.jsxs(ui,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(di,{children:[s.jsxs(fi,{className:"flex items-center gap-2",children:[s.jsx(ch,{className:"h-5 w-5 text-slate-600"}),"Crear Nuevo Envío"]}),s.jsx(jo,{children:"Completa la información del nuevo envío"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(xt,{htmlFor:"companyId",children:"Empresa *"}),s.jsxs(on,{value:x.companyId,onValueChange:Z=>{v(ne=>({...ne,companyId:Z}))},children:[s.jsx(an,{children:s.jsx(ln,{})}),s.jsxs(sn,{children:[s.jsx(xe,{value:"1",children:"Dura International"}),s.jsx(xe,{value:"2",children:"Grupo Orsega"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(xt,{htmlFor:"trackingCode",children:"Código de Seguimiento *"}),s.jsxs("div",{className:"relative",children:[s.jsx(Mt,{id:"trackingCode",value:x.trackingCode,readOnly:!0,className:"bg-gray-50 font-mono text-sm",placeholder:"Se generará automáticamente"}),s.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3",children:s.jsx("div",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded",children:"AUTO"})})]}),s.jsx("p",{className:"text-xs text-gray-500",children:"Se genera automáticamente según la empresa"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(xt,{htmlFor:"customerName",children:"Nombre del Cliente *"}),k?s.jsx(Mt,{placeholder:"Cargando clientes...",disabled:!0}):T.length>0?s.jsxs(on,{value:x.customerName,onValueChange:Z=>{const ne=T.find(ge=>ge.name===Z);v(ge=>({...ge,customerName:Z,customerId:(ne==null?void 0:ne.id)||void 0,customerEmail:(ne==null?void 0:ne.email)||ge.customerEmail})),ne&&e({title:"Cliente seleccionado",description:`${ne.name}${ne.email?` (${ne.email})`:""}`})},children:[s.jsx(an,{"data-testid":"select-customer",children:s.jsx(ln,{placeholder:"Selecciona un cliente"})}),s.jsx(sn,{children:T.filter(Z=>{var ne;return!x.companyId||((ne=Z.company_id)==null?void 0:ne.toString())===x.companyId.toString()}).map(Z=>s.jsx(xe,{value:Z.name,children:s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:Z.name}),Z.email&&s.jsx("div",{className:"text-xs text-muted-foreground",children:Z.email})]})},Z.id))})]}):s.jsx(Mt,{id:"customerName",value:x.customerName,onChange:Z=>v(ne=>({...ne,customerName:Z.target.value,customerId:void 0})),placeholder:"Nombre completo del cliente"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(xt,{htmlFor:"purchaseOrder",children:"Orden de Compra *"}),s.jsx(Mt,{id:"purchaseOrder",value:x.purchaseOrder,onChange:Z=>v(ne=>({...ne,purchaseOrder:Z.target.value})),placeholder:"Número de orden de compra"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(xt,{htmlFor:"customerEmail",children:"Email del Cliente"}),s.jsx(Mt,{id:"customerEmail",type:"email",value:x.customerEmail,onChange:Z=>v(ne=>({...ne,customerEmail:Z.target.value})),placeholder:"email@cliente.com"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(xt,{children:"Productos *"}),s.jsxs(Je,{type:"button",variant:"outline",size:"sm",onClick:()=>b([...y,{product:"",quantity:"",unit:"kg"}]),children:[s.jsx(ch,{className:"h-4 w-4 mr-1"}),"Agregar Producto"]})]}),y.map((Z,ne)=>s.jsxs("div",{className:"border rounded-lg p-3 space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"text-sm font-medium",children:["Producto ",ne+1]}),y.length>1&&s.jsx(Je,{type:"button",variant:"ghost",size:"sm",onClick:()=>b(y.filter((ge,Ee)=>Ee!==ne)),children:s.jsx(xh,{className:"h-4 w-4"})})]}),s.jsx("div",{className:"space-y-2",children:s.jsxs(on,{value:Z.product,onValueChange:ge=>{const Ee=[...y];Ee[ne].product=ge,b(Ee)},children:[s.jsx(an,{children:s.jsx(ln,{placeholder:"Selecciona un producto"})}),s.jsx(sn,{children:x.companyId==="1"?s.jsxs(s.Fragment,{children:[s.jsx(xe,{value:"ACETATO DE ZINC",children:"ACETATO DE ZINC"}),s.jsx(xe,{value:"DUROCT POTASIO 10%",children:"DUROCT POTASIO 10%"}),s.jsx(xe,{value:"DURASTABIL 2",children:"DURASTABIL 2"}),s.jsx(xe,{value:"DURASTABIL 3",children:"DURASTABIL 3"}),s.jsx(xe,{value:"DURANAP COBRE 8%",children:"DURANAP COBRE 8%"}),s.jsx(xe,{value:"DUROCT CALCICO",children:"DUROCT CALCICO"}),s.jsx(xe,{value:"DUROCT COBALTO 12",children:"DUROCT COBALTO 12"}),s.jsx(xe,{value:"DUROCT COBRE",children:"DUROCT COBRE"}),s.jsx(xe,{value:"DUROCT COBALTO 6%",children:"DUROCT COBALTO 6%"}),s.jsx(xe,{value:"DUROK 12Y32",children:"DUROK 12Y32"}),s.jsx(xe,{value:"DURASPERS 57",children:"DURASPERS 57"}),s.jsx(xe,{value:"DUROCT ZINC 26%",children:"DUROCT ZINC 26%"}),s.jsx(xe,{value:"DUROCT POTASIO 15%",children:"DUROCT POTASIO 15%"}),s.jsx(xe,{value:"HEXOL",children:"HEXOL"}),s.jsx(xe,{value:"DUROCT MANGANESO 6%",children:"DUROCT MANGANESO 6%"}),s.jsx(xe,{value:"DUROCT MANGANESO 3%",children:"DUROCT MANGANESO 3%"}),s.jsx(xe,{value:"DUROCT ESTANOL 52%",children:"DUROCT ESTANOL 52%"}),s.jsx(xe,{value:"MCLON",children:"MCLON"}),s.jsx(xe,{value:"DUROCT ZINC 4.5%",children:"DUROCT ZINC 4.5%"}),s.jsx(xe,{value:"DUROCT ZINC 16%",children:"DUROCT ZINC 16%"}),s.jsx(xe,{value:"DUROCT ZINC 8%",children:"DUROCT ZINC 8%"}),s.jsx(xe,{value:"DUROCT ZINC 6%",children:"DUROCT ZINC 6%"}),s.jsx(xe,{value:"DUROCT ZIRCONIO 18%",children:"DUROCT ZIRCONIO 18%"}),s.jsx(xe,{value:"DUROCT ZIRCONIO 24%",children:"DUROCT ZIRCONIO 24%"}),s.jsx(xe,{value:"ANTISKIN DI MTPBEE",children:"ANTISKIN DI MTPBEE"}),s.jsx(xe,{value:"DIFOVIR AL507",children:"DIFOVIR AL507"}),s.jsx(xe,{value:"DIFOKM 552",children:"DIFOKM 552"}),s.jsx(xe,{value:"DIFOKM 556",children:"DIFOKM 556"}),s.jsx(xe,{value:"DIFOVAL 1",children:"DIFOVAL 1"}),s.jsx(xe,{value:"DIFOVAL 5",children:"DIFOVAL 5"})]}):s.jsxs(s.Fragment,{children:[s.jsx(xe,{value:"AGD GO 42",children:"AGD GO 42"}),s.jsx(xe,{value:"ÁCIDO ESTEÁRICO STD",children:"ÁCIDO ESTEÁRICO STD"}),s.jsx(xe,{value:"GO MATSOL 112 OD",children:"GO MATSOL 112 OD"}),s.jsx(xe,{value:"I 100",children:"I 100"}),s.jsx(xe,{value:"KALCAT 10201",children:"KALCAT 10201"}),s.jsx(xe,{value:"MONCAT 2021",children:"MONCAT 2021"}),s.jsx(xe,{value:"METILATO DE SODIO 25%",children:"METILATO DE SODIO 25%"}),s.jsx(xe,{value:"POLIESTER EXPANDIBLE",children:"POLIESTER EXPANDIBLE"}),s.jsx(xe,{value:"NAFTA LIGERA",children:"NAFTA LIGERA"}),s.jsx(xe,{value:"KALCAT 6215",children:"KALCAT 6215"}),s.jsx(xe,{value:"ACEITE DE PINO 55%",children:"ACEITE DE PINO 55%"}),s.jsx(xe,{value:"ÁCIDO OLEICO TOFÁ",children:"ÁCIDO OLEICO TOFÁ"}),s.jsx(xe,{value:"ÁCIDO OLEICO",children:"ÁCIDO OLEICO"}),s.jsx(xe,{value:"CLORURO DE METILENO",children:"CLORURO DE METILENO"}),s.jsx(xe,{value:"COMBUSTIBLE ALTERNO",children:"COMBUSTIBLE ALTERNO"}),s.jsx(xe,{value:"LECITINA DE SOYA",children:"LECITINA DE SOYA"}),s.jsx(xe,{value:"METILATO DE SODIO 30%",children:"METILATO DE SODIO 30%"}),s.jsx(xe,{value:"MONCAT 1991",children:"MONCAT 1991"}),s.jsx(xe,{value:"NAFTA AQ",children:"NAFTA AQ"}),s.jsx(xe,{value:"NAFTA S1",children:"NAFTA S1"}),s.jsx(xe,{value:"SEBO DE RES",children:"SEBO DE RES"}),s.jsx(xe,{value:"TOLUENO",children:"TOLUENO"}),s.jsx(xe,{value:"GLICERINA 799 IOG",children:"GLICERINA 799 IOG"}),s.jsx(xe,{value:"EQUIPOS TRASVASE AIR 1 GRG",children:"EQUIPOS TRASVASE AIR 1 GRG"}),s.jsx(xe,{value:"EQUIPOS TRASVASE AIR 1 BIDON",children:"EQUIPOS TRASVASE AIR 1 BIDON"}),s.jsx(xe,{value:"EQUIPOS TRASVASE AIR 1 BOMBA MANUAL",children:"EQUIPOS TRASVASE AIR 1 BOMBA MANUAL"}),s.jsx(xe,{value:"EQUIPOS TRASVASE AIR 1 BOMBA MANUAL CON CARRETE",children:"EQUIPOS TRASVASE AIR 1 BOMBA MANUAL CON CARRETE"}),s.jsx(xe,{value:"BOMBA MANUAL PALANCA AIR 1",children:"BOMBA MANUAL PALANCA AIR 1"}),s.jsx(xe,{value:"BOMBA TRASVASE AIR 1 12/24/110/220 V",children:"BOMBA TRASVASE AIR 1 12/24/110/220 V"}),s.jsx(xe,{value:"BOMBA ROTATIVA MANUAL AIR1",children:"BOMBA ROTATIVA MANUAL AIR1"}),s.jsx(xe,{value:"CONTADOR DIGITAL AIR 1",children:"CONTADOR DIGITAL AIR 1"}),s.jsx(xe,{value:"PISTOLA MANUAL AIR 1",children:"PISTOLA MANUAL AIR 1"}),s.jsx(xe,{value:"PISTOLA AUTOMÁTICA AIR 1 BASIC",children:"PISTOLA AUTOMÁTICA AIR 1 BASIC"}),s.jsx(xe,{value:"CARRETE PARA AIR 1",children:"CARRETE PARA AIR 1"}),s.jsx(xe,{value:"SURTIDORES CON CONTADOR",children:"SURTIDORES CON CONTADOR"}),s.jsx(xe,{value:"BLUEBOX PARA GASOLINERAS",children:"BLUEBOX PARA GASOLINERAS"}),s.jsx(xe,{value:"EQUIPO PARA DEPÓSITOS GRG",children:"EQUIPO PARA DEPÓSITOS GRG"}),s.jsx(xe,{value:"EQUIPO PARA BIDONES",children:"EQUIPO PARA BIDONES"}),s.jsx(xe,{value:"CONECTORES",children:"CONECTORES"}),s.jsx(xe,{value:"PISTOLA AUTOMÁTICA",children:"PISTOLA AUTOMÁTICA"}),s.jsx(xe,{value:"PISTOLA MANUAL",children:"PISTOLA MANUAL"}),s.jsx(xe,{value:"PISTOLA DIGITAL CONTADORA",children:"PISTOLA DIGITAL CONTADORA"}),s.jsx(xe,{value:"ANCLAJE PARA PARED",children:"ANCLAJE PARA PARED"}),s.jsx(xe,{value:"MOSTO CONCENTRADO RECTIFICADO",children:"MOSTO CONCENTRADO RECTIFICADO"}),s.jsx(xe,{value:"MOSTO CONCENTRADO",children:"MOSTO CONCENTRADO"}),s.jsx(xe,{value:"FINE TALC POWDER",children:"FINE TALC POWDER"}),s.jsx(xe,{value:"MATTING AGENT 6601",children:"MATTING AGENT 6601"}),s.jsx(xe,{value:"GLICERINA USP",children:"GLICERINA USP"}),s.jsx(xe,{value:"GLICERINA KOSHER",children:"GLICERINA KOSHER"}),s.jsx(xe,{value:"ÁCIDO GRASO DE COCO",children:"ÁCIDO GRASO DE COCO"}),s.jsx(xe,{value:"ÁCIDO GRASO DE PALMA PH",children:"ÁCIDO GRASO DE PALMA PH"}),s.jsx(xe,{value:"GO MATSOL 101 OD",children:"GO MATSOL 101 OD"}),s.jsx(xe,{value:"ACRILONITRILO",children:"ACRILONITRILO"}),s.jsx(xe,{value:"METILATO DE SODIO SOLUCIÓN 21-30%",children:"METILATO DE SODIO SOLUCIÓN 21-30%"}),s.jsx(xe,{value:"METILATO DE SODIO SOLUCIÓN 21% EN ETANOL",children:"METILATO DE SODIO SOLUCIÓN 21% EN ETANOL"}),s.jsx(xe,{value:"METILATO DE SODIO EN POLVO",children:"METILATO DE SODIO EN POLVO"}),s.jsx(xe,{value:"SOLVENTE S1",children:"SOLVENTE S1"}),s.jsx(xe,{value:"GO WAX 35",children:"GO WAX 35"}),s.jsx(xe,{value:"GO WAX 60",children:"GO WAX 60"}),s.jsx(xe,{value:"GO WAX 600",children:"GO WAX 600"}),s.jsx(xe,{value:"PALE OIL 40",children:"PALE OIL 40"}),s.jsx(xe,{value:"PALE VI1",children:"PALE VI1"}),s.jsx(xe,{value:"PALE OIL 100",children:"PALE OIL 100"}),s.jsx(xe,{value:"SN 70 GII",children:"SN 70 GII"}),s.jsx(xe,{value:"SN 100 GII",children:"SN 100 GII"}),s.jsx(xe,{value:"SN 230 GII",children:"SN 230 GII"}),s.jsx(xe,{value:"GO TINTAS 40",children:"GO TINTAS 40"})]})})]})}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(xt,{className:"text-xs",children:"Cantidad"}),s.jsx(Mt,{type:"number",value:Z.quantity,onChange:ge=>{const Ee=[...y];Ee[ne].quantity=ge.target.value,b(Ee)},placeholder:"0"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(xt,{className:"text-xs",children:"Unidad"}),s.jsxs(on,{value:Z.unit,onValueChange:ge=>{const Ee=[...y];Ee[ne].unit=ge,b(Ee)},children:[s.jsx(an,{children:s.jsx(ln,{})}),s.jsxs(sn,{children:[s.jsx(xe,{value:"kg",children:"Kilogramos (kg)"}),s.jsx(xe,{value:"toneladas",children:"Toneladas"}),s.jsx(xe,{value:"piezas",children:"Piezas"}),s.jsx(xe,{value:"cajas",children:"Cajas"}),s.jsx(xe,{value:"litros",children:"Litros"})]})]})]})]})]},ne))]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(xt,{htmlFor:"origin",children:"Origen"}),s.jsx(Mt,{id:"origin",value:x.origin,onChange:Z=>v(ne=>({...ne,origin:Z.target.value})),placeholder:"Ciudad/Estado de origen"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(xt,{htmlFor:"destination",children:"Destino"}),s.jsx(Mt,{id:"destination",value:x.destination,onChange:Z=>v(ne=>({...ne,destination:Z.target.value})),placeholder:"Ciudad/Estado de destino"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(xt,{htmlFor:"estimatedDeliveryDate",children:"Fecha Estimada de Entrega"}),s.jsx(Mt,{id:"estimatedDeliveryDate",type:"date",value:x.estimatedDeliveryDate,onChange:Z=>v(ne=>({...ne,estimatedDeliveryDate:Z.target.value}))})]})]}),s.jsxs(am,{className:"gap-2",children:[s.jsx(Je,{variant:"outline",onClick:()=>u(!1),children:"Cancelar"}),s.jsx(Je,{onClick:ue,disabled:B.isPending,children:B.isPending?"Creando...":"Crear Envío"})]})]})}),s.jsx(vi,{open:n.isOpen,onOpenChange:Z=>!Z&&r({isOpen:!1,shipment:null}),children:s.jsxs(ui,{className:"max-w-2xl",children:[s.jsxs(di,{children:[s.jsxs(fi,{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-xl",children:((V=n.shipment)==null?void 0:V.status)==="in_transit"?"🚚":((ee=n.shipment)==null?void 0:ee.status)==="delivered"?"✅":((Q=n.shipment)==null?void 0:Q.status)==="delayed"?"⚠️":((de=n.shipment)==null?void 0:de.status)==="cancelled"?"❌":"📦"}),"Detalles del Envío"]}),s.jsxs(jo,{children:["Información completa del envío ",(le=n.shipment)==null?void 0:le.trackingCode]})]}),n.shipment&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Código de seguimiento"}),s.jsx("p",{className:"text-lg font-bold text-gray-900",children:n.shipment.trackingCode})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Cliente"}),s.jsx("p",{className:"text-base text-gray-900",children:n.shipment.customerName}),n.shipment.customerEmail&&s.jsx("p",{className:"text-sm text-gray-600",children:n.shipment.customerEmail})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Estado actual"}),s.jsx("div",{className:"mt-1",children:s.jsx(GUe,{status:n.shipment.status})})]})]}),s.jsxs("div",{className:"space-y-3",children:[n.shipment.items&&n.shipment.items.length>0?s.jsxs("div",{children:[s.jsxs("label",{className:"text-sm font-medium text-gray-600",children:["Productos (",n.shipment.items.length,")"]}),s.jsx("div",{className:"mt-2 space-y-2",children:n.shipment.items.map((Z,ne)=>s.jsxs("div",{className:"bg-white p-2 rounded border border-gray-200",children:[s.jsx("div",{className:"font-medium text-gray-900",children:Z.product}),s.jsxs("div",{className:"text-sm text-gray-600",children:[Z.quantity," ",Z.unit]}),Z.description&&s.jsx("div",{className:"text-xs text-gray-500 mt-1",children:Z.description})]},Z.id||ne))})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Producto"}),s.jsx("p",{className:"text-base text-gray-900",children:n.shipment.product})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Cantidad"}),s.jsxs("p",{className:"text-base text-gray-900",children:[n.shipment.quantity," ",n.shipment.unit]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Fecha de creación"}),s.jsx("p",{className:"text-base text-gray-900",children:new Date(n.shipment.createdAt).toLocaleDateString("es-ES",{day:"numeric",month:"short",year:"numeric"})})]})]})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsxs("h4",{className:"font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[s.jsx(yh,{className:"h-4 w-4"}),"Información de Envío"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Origen"}),s.jsx("p",{className:"text-base text-gray-900",children:n.shipment.origin})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Destino"}),s.jsx("p",{className:"text-base text-gray-900",children:n.shipment.destination})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Fecha estimada de entrega"}),s.jsx("p",{className:"text-base text-gray-900",children:n.shipment.estimatedDeliveryDate?new Date(n.shipment.estimatedDeliveryDate).toLocaleDateString("es-ES",{weekday:"long",year:"numeric",month:"long",day:"numeric"}):"No programada"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Fecha de creación"}),s.jsx("p",{className:"text-base text-gray-900",children:new Date(n.shipment.createdAt).toLocaleDateString("es-ES",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]})]})]}),s.jsxs("div",{className:"flex gap-2 pt-4 border-t",children:[s.jsx(Je,{variant:"outline",onClick:()=>r({isOpen:!1,shipment:null}),className:"flex-1",children:"Cerrar"}),s.jsx(Je,{onClick:()=>{r({isOpen:!1,shipment:null})},className:"flex-1",children:"Editar Envío"})]})]})]})}),s.jsx(vi,{open:f.isOpen,onOpenChange:Z=>!Z&&h({isOpen:!1,shipment:null,targetStatus:""}),children:s.jsxs(ui,{className:"sm:max-w-md",children:[s.jsxs(di,{children:[s.jsxs(fi,{className:"flex items-center gap-2",children:[s.jsx(_o,{className:"h-5 w-5 text-amber-600"}),"Número de Factura Requerido"]}),s.jsxs(jo,{children:["Para mover el envío ",s.jsx("strong",{children:(ve=f.shipment)==null?void 0:ve.trackingCode}),' a "En Tránsito" es necesario ingresar el número de factura.']})]}),s.jsx("div",{className:"space-y-4 py-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(xt,{htmlFor:"invoice-number",children:"Número de Factura *"}),s.jsx(Mt,{id:"invoice-number",value:p,onChange:Z=>m(Z.target.value),placeholder:"Ej: FAC-2025-001",autoFocus:!0,onKeyDown:Z=>{Z.key==="Enter"&&X()}}),s.jsx("p",{className:"text-xs text-gray-500",children:"Este número quedará registrado en el sistema y no se volverá a solicitar."})]})}),s.jsxs(am,{className:"gap-2",children:[s.jsx(Je,{variant:"outline",onClick:()=>h({isOpen:!1,shipment:null,targetStatus:""}),children:"Cancelar"}),s.jsx(Je,{onClick:X,disabled:!p.trim()||F.isPending,children:F.isPending?"Actualizando...":"Confirmar"})]})]})}),i.shipment&&s.jsx(dFe,{shipment:i.shipment,providers:z,isOpen:i.isOpen,onClose:()=>a({isOpen:!1,shipment:null}),onSubmit:te}),s.jsx(KUe,{isOpen:o,onClose:()=>l(!1),shipments:D})]})}function YUe(){const[e,t]=N.useState(null),{data:n=[],isLoading:r}=Zt({queryKey:["/api/clients"]}),{data:i=[],isLoading:a}=Zt({queryKey:["/api/providers"]}),{data:o,isLoading:l}=Zt({queryKey:["/api/shipments"]}),c=N.useMemo(()=>o?Array.isArray(o.shipments)?o.shipments:Array.isArray(o)?o:[]:[],[o]);return s.jsxs("div",{className:"container mx-auto p-6",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-4 text-sm text-gray-600",children:[s.jsxs(Np,{href:"/",className:"flex items-center hover:text-blue-600 transition-colors",children:[s.jsx(Uce,{className:"w-4 h-4 mr-1"}),"Dashboard"]}),s.jsx("span",{children:"/"}),s.jsx("span",{className:"text-gray-900 font-medium",children:"Módulo de Logística"})]}),s.jsx("div",{className:"flex justify-between items-center mb-6",children:s.jsx("div",{children:s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(Np,{href:"/",className:"text-blue-600 hover:text-blue-800 transition-colors",children:s.jsxs(Je,{variant:"ghost",size:"sm",children:[s.jsx(b_,{className:"w-4 h-4 mr-1"}),"Dashboard"]})}),s.jsx("span",{className:"text-gray-300",children:"|"})]})})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6",children:[s.jsxs("div",{className:"lg:col-span-2 grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(ot,{className:"bg-gradient-to-br from-orange-50 to-orange-100 border-orange-200",children:s.jsx(lt,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-orange-800",children:"En Tránsito"}),s.jsx("p",{className:"text-4xl font-bold text-orange-900",children:c.filter(u=>u.status==="in_transit").length})]}),s.jsx("div",{className:"bg-orange-200 p-3 rounded-full",children:s.jsx(kk,{className:"w-10 h-10 text-orange-700"})})]})})}),s.jsx(ot,{className:"bg-gradient-to-br from-purple-50 to-purple-100 border-purple-200",children:s.jsx(lt,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-purple-800",children:"Pendientes"}),s.jsx("p",{className:"text-4xl font-bold text-purple-900",children:c.filter(u=>u.status==="pending").length})]}),s.jsx("div",{className:"bg-purple-200 p-3 rounded-full",children:s.jsx(Dh,{className:"w-10 h-10 text-purple-700"})})]})})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-500 mb-3",children:"Base de Datos"}),s.jsx(ot,{className:"bg-gray-50 hover:bg-gray-100 cursor-pointer transition-colors",onClick:()=>t("clients"),children:s.jsx(lt,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(ql,{className:"w-5 h-5 text-blue-600 mr-2"}),s.jsx("span",{className:"text-sm text-gray-600",children:"Clientes"})]}),s.jsx("span",{className:"text-lg font-semibold text-gray-900",children:n.length})]})})}),s.jsx(ot,{className:"bg-gray-50 hover:bg-gray-100 cursor-pointer transition-colors",onClick:()=>t("providers"),children:s.jsx(lt,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(_o,{className:"w-5 h-5 text-green-600 mr-2"}),s.jsx("span",{className:"text-sm text-gray-600",children:"Proveedores"})]}),s.jsx("span",{className:"text-lg font-semibold text-gray-900",children:i.length})]})})})]})]}),s.jsx(XUe,{}),s.jsx(vi,{open:e==="clients",onOpenChange:()=>t(null),children:s.jsxs(ui,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[s.jsx(di,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(fi,{className:"flex items-center gap-2",children:[s.jsx(ql,{className:"w-5 h-5 text-blue-600"}),"Clientes (",n.length,")"]}),s.jsxs(Je,{"data-testid":"button-new-client",children:[s.jsx(ch,{className:"w-4 h-4 mr-2"}),"Nuevo Cliente"]})]})}),s.jsx("div",{className:"grid gap-4 mt-4",children:r?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900 mx-auto"}),s.jsx("p",{className:"mt-2 text-gray-600",children:"Cargando clientes..."})]}):n.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(ql,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"No hay clientes registrados"})]}):n.map(u=>s.jsx(ot,{className:"border border-gray-200",children:s.jsx(lt,{className:"p-4",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-lg text-gray-900",children:u.name}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 mt-2 text-sm text-gray-600",children:[u.rfc&&s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"RFC:"})," ",u.rfc]}),u.email&&s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Email:"})," ",u.email]}),u.phone&&s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Teléfono:"})," ",u.phone]}),u.billing_addr&&s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Dir. Facturación:"})," ",u.billing_addr]}),u.shipping_addr&&s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Dir. Envío:"})," ",u.shipping_addr]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Wn,{variant:u.is_active?"default":"secondary",children:u.is_active?"Activo":"Inactivo"}),s.jsx(Je,{variant:"outline",size:"sm","data-testid":`button-edit-client-${u.id}`,children:"Editar"})]})]})})},u.id))})]})}),s.jsx(vi,{open:e==="providers",onOpenChange:()=>t(null),children:s.jsxs(ui,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[s.jsx(di,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(fi,{className:"flex items-center gap-2",children:[s.jsx(_o,{className:"w-5 h-5 text-green-600"}),"Proveedores de Transporte (",i.length,")"]}),s.jsxs(Je,{"data-testid":"button-new-provider",children:[s.jsx(ch,{className:"w-4 h-4 mr-2"}),"Nuevo Proveedor"]})]})}),s.jsx("div",{className:"grid gap-4 mt-4",children:a?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900 mx-auto"}),s.jsx("p",{className:"mt-2 text-gray-600",children:"Cargando proveedores..."})]}):i.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(_o,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"No hay proveedores registrados"})]}):i.map(u=>s.jsx(ot,{className:"border border-gray-200",children:s.jsx(lt,{className:"p-4",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-lg text-gray-900",children:u.name}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 mt-2 text-sm text-gray-600",children:[u.contact_name&&s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Contacto:"})," ",u.contact_name]}),u.email&&s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Email:"})," ",u.email]}),u.phone&&s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Teléfono:"})," ",u.phone]}),u.rating&&s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"font-medium mr-2",children:"Rating:"}),s.jsx("div",{className:"flex",children:[...Array(5)].map((f,h)=>s.jsx("span",{className:h<u.rating?"text-yellow-400":"text-gray-300",children:"⭐"},h))})]})]}),u.channels&&u.channels.length>0&&s.jsxs("div",{className:"mt-3 pt-3 border-t",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600 mb-2",children:"Canales de comunicación:"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:u.channels.map((f,h)=>s.jsxs(Wn,{variant:"outline",className:"text-xs",children:[f.type,": ",f.value," ",f.isDefault&&"(Principal)"]},h))})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Wn,{variant:u.is_active?"default":"secondary",children:u.is_active?"Activo":"Inactivo"}),s.jsx(Je,{variant:"outline",size:"sm","data-testid":`button-edit-provider-${u.id}`,children:"Editar"})]})]})})},u.id))})]})})]})}function ig({className:e,...t}){return s.jsx("div",{className:wt("animate-pulse rounded-md bg-muted",e),...t})}const QUe=(e,t=3)=>{var f;if(!e||e.length<2)return[];const n=e.length,r=e.slice(-n),i=r.map(h=>{const p=parseFloat(String(h.value||"0").replace(/[^0-9.-]+/g,""));return isNaN(p)?0:p});let a=0;for(let h=1;h<i.length;h++)a+=i[h]-i[h-1];const o=a/(i.length-1||1),l=i[i.length-1]||0,c=((f=r[r.length-1])==null?void 0:f.period)||"Enero 2025",u=[];for(let h=1;h<=t;h++){const p=l+o*h,m=c.split(" "),x=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"];let v=x.findIndex(w=>w===m[0]);v===-1&&(v=0);let y=parseInt(m[1]||"2025");isNaN(y)&&(y=2025),v=(v+h)%12,v+h>=12&&(y+=Math.floor((v+h)/12));const b=p.toFixed(2);u.push({period:`${x[v]} ${y}`,date:`Proyección ${h}`,value:p,originalValue:b,isProjection:!0})}return u},JUe=e=>{if(!e||e.length<2)return{change:"0",percentChange:"0",numericPercentChange:0,trend:"neutral"};const t=e.map(l=>{const c=parseFloat(String(l.value).replace(/[^0-9.-]+/g,""));return isNaN(c)?0:c}),n=t[0],i=t[t.length-1]-n,a=n!==0?i/Math.abs(n)*100:0;let o="neutral";return a>3?o="up":a<-3&&(o="down"),{change:i.toFixed(2),percentChange:a.toFixed(2),numericPercentChange:a,trend:o}};function eqe(){const[e,t]=N.useState(""),[n,r]=N.useState(""),[i,a]=N.useState(""),[o,l]=N.useState("all"),[c,u]=N.useState(!0),{data:f,isLoading:h}=Zt({queryKey:["/api/companies"]}),{data:p,isLoading:m}=Zt({queryKey:["/api/areas",e&&!isNaN(parseInt(e))?{companyId:parseInt(e)}:null],enabled:!!e&&!isNaN(parseInt(e))}),{data:x,isLoading:v}=Zt({queryKey:["/api/kpis",e?{companyId:parseInt(e)}:null,n?{areaId:parseInt(n)}:null],enabled:!!e}),{data:y,isLoading:b}=Zt({queryKey:["/api/kpi-values",i?{kpiId:parseInt(i)}:null],enabled:!!i}),w=y&&Array.isArray(y)?y.filter(I=>{if(o==="all")return!0;if(o==="3months"){const D=new Date(I.date),z=new Date;return z.setMonth(z.getMonth()-3),D>=z}if(o==="6months"){const D=new Date(I.date),z=new Date;return z.setMonth(z.getMonth()-6),D>=z}return!0}).sort((I,D)=>new Date(I.date).getTime()-new Date(D.date).getTime()):[],j=x&&Array.isArray(x)&&i?x.find(I=>I.id===parseInt(i)):null,P=w.map(I=>({period:I.period||"Sin período",date:I.date?new Date(I.date).toLocaleDateString("es-ES",{day:"2-digit",month:"short",year:"numeric"}):"Sin fecha",value:parseFloat(String(I.value||"0").replace(/[^0-9.-]+/g,""))||0,originalValue:I.value||"0",status:I.status,isProjection:!1})),A=c?QUe(w):[],E=[...P,...A],O=JUe(w);return N.useEffect(()=>{r(""),a("")},[e]),N.useEffect(()=>{a("")},[n]),s.jsx(qc,{title:"Análisis de Tendencias",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Análisis de Tendencias"}),s.jsx("p",{className:"text-secondary-500 dark:text-secondary-400",children:"Analiza la evolución histórica de los KPIs y proyecta tendencias futuras"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs(on,{value:o,onValueChange:l,children:[s.jsx(an,{className:"w-[180px]",children:s.jsx(ln,{placeholder:"Período de tiempo"})}),s.jsxs(sn,{children:[s.jsx(xe,{value:"all",children:"Todo el historial"}),s.jsx(xe,{value:"6months",children:"Últimos 6 meses"}),s.jsx(xe,{value:"3months",children:"Últimos 3 meses"})]})]}),s.jsxs(Je,{variant:c?"default":"outline",size:"sm",onClick:()=>u(!c),children:[s.jsx(Ma,{className:"mr-2 h-4 w-4"}),c?"Ocultar proyecciones":"Mostrar proyecciones"]})]})]}),s.jsxs(ot,{children:[s.jsxs(Ht,{className:"pb-3",children:[s.jsx(Qt,{className:"text-lg",children:"Filtros"}),s.jsx(fr,{children:"Selecciona una empresa, área y KPI para analizar sus tendencias"})]}),s.jsx(lt,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Empresa"}),s.jsxs(on,{value:e,onValueChange:t,children:[s.jsx(an,{children:s.jsx(ln,{placeholder:"Seleccionar empresa"})}),s.jsx(sn,{children:h?s.jsx("div",{className:"py-2 px-4",children:s.jsx(ig,{className:"h-5 w-full"})}):f&&Array.isArray(f)?f.map(I=>s.jsx(xe,{value:I.id.toString(),children:I.name},I.id)):s.jsx("div",{className:"py-2 px-4 text-center text-secondary-500",children:"No hay empresas disponibles"})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Área"}),s.jsxs(on,{value:n,onValueChange:r,disabled:!e||m,children:[s.jsx(an,{children:s.jsx(ln,{placeholder:"Seleccionar área"})}),s.jsx(sn,{children:m?s.jsx("div",{className:"py-2 px-4",children:s.jsx(ig,{className:"h-5 w-full"})}):p&&Array.isArray(p)?p.filter(I=>I.companyId===parseInt(e)).map(I=>s.jsx(xe,{value:I.id.toString(),children:I.name},I.id)):s.jsx("div",{className:"py-2 px-4 text-center text-secondary-500",children:"No hay áreas disponibles"})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"KPI"}),s.jsxs(on,{value:i,onValueChange:a,disabled:!e&&!n||v,children:[s.jsx(an,{children:s.jsx(ln,{placeholder:"Seleccionar KPI"})}),s.jsx(sn,{children:v?s.jsx("div",{className:"py-2 px-4",children:s.jsx(ig,{className:"h-5 w-full"})}):x&&Array.isArray(x)?x.filter(I=>n?I.areaId===parseInt(n):I.companyId===parseInt(e)).map(I=>s.jsx(xe,{value:I.id.toString(),children:I.name},I.id)):s.jsx("div",{className:"py-2 px-4 text-center text-secondary-500",children:"No hay KPIs disponibles"})})]})]})]})})]}),i&&j?s.jsxs("div",{className:"space-y-6",children:[s.jsxs(ot,{children:[s.jsx(Ht,{className:"pb-2",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(Qt,{children:j.name}),s.jsx(fr,{className:"mt-1",children:j.description||"Sin descripción"})]}),s.jsx(Wn,{variant:"outline",className:"ml-2",children:j.unit||"Sin unidad"})]})}),s.jsx(lt,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-primary-50 dark:bg-primary-900/20 rounded-lg p-4",children:[s.jsx("div",{className:"text-sm text-secondary-500 dark:text-secondary-400 mb-1",children:"Valor actual"}),s.jsx("div",{className:"text-2xl font-bold",children:w.length>0?w[w.length-1].value:"N/A"}),s.jsxs("div",{className:"text-xs text-secondary-500 dark:text-secondary-400 mt-1",children:[s.jsx(Ru,{className:"inline h-3 w-3 mr-1"}),w.length>0?new Date(w[w.length-1].date).toLocaleDateString("es-ES"):"Sin fecha"]})]}),s.jsxs("div",{className:"bg-secondary-50 dark:bg-secondary-900/20 rounded-lg p-4",children:[s.jsx("div",{className:"text-sm text-secondary-500 dark:text-secondary-400 mb-1",children:"Meta"}),s.jsx("div",{className:"text-2xl font-bold",children:j.target||"N/A"}),s.jsx("div",{className:"text-xs text-primary-600 dark:text-primary-400 mt-1",children:j.targetDescription||"Valor objetivo"})]}),s.jsxs("div",{className:"bg-secondary-50 dark:bg-secondary-900/20 rounded-lg p-4",children:[s.jsx("div",{className:"text-sm text-secondary-500 dark:text-secondary-400 mb-1",children:"Cambio absoluto"}),s.jsxs("div",{className:"text-2xl font-bold flex items-center",children:[O.change,O.trend==="up"&&s.jsx(l6,{className:"ml-1 h-5 w-5 text-green-600"}),O.trend==="down"&&s.jsx(o6,{className:"ml-1 h-5 w-5 text-red-600"})]}),s.jsx("div",{className:"text-xs text-secondary-500 dark:text-secondary-400 mt-1",children:"Desde el primer registro"})]}),s.jsxs("div",{className:"bg-secondary-50 dark:bg-secondary-900/20 rounded-lg p-4",children:[s.jsx("div",{className:"text-sm text-secondary-500 dark:text-secondary-400 mb-1",children:"Cambio porcentual"}),s.jsxs("div",{className:`text-2xl font-bold flex items-center ${O.trend==="up"?"text-green-600 dark:text-green-400":O.trend==="down"?"text-red-600 dark:text-red-400":"text-secondary-800 dark:text-secondary-200"}`,children:[O.percentChange,"%",O.trend==="up"&&s.jsx(l6,{className:"ml-1 h-5 w-5"}),O.trend==="down"&&s.jsx(o6,{className:"ml-1 h-5 w-5"})]}),s.jsx("div",{className:"text-xs text-secondary-500 dark:text-secondary-400 mt-1",children:O.trend==="up"?"Tendencia positiva":O.trend==="down"?"Tendencia negativa":"Sin cambios significativos"})]})]})})]}),s.jsxs(Nm,{defaultValue:"line",className:"w-full",children:[s.jsxs(Rh,{className:"mb-4",children:[s.jsxs(si,{value:"line",children:[s.jsx(Ma,{className:"mr-2 h-4 w-4"}),"Línea de tendencia"]}),s.jsxs(si,{value:"bar",children:[s.jsx(qC,{className:"mr-2 h-4 w-4"}),"Gráfico de barras"]}),s.jsxs(si,{value:"area",children:[s.jsx(qC,{className:"mr-2 h-4 w-4"}),"Gráfico de área"]})]}),s.jsx(ua,{value:"line",className:"mt-0",children:s.jsxs(ot,{children:[s.jsxs(Ht,{className:"pb-2",children:[s.jsx(Qt,{className:"text-lg",children:"Evolución histórica y proyección"}),s.jsx(fr,{children:"Evolución del KPI a lo largo del tiempo con proyección futura"})]}),s.jsx(lt,{children:b?s.jsx(ig,{className:"h-[400px] w-full"}):E.length>0?s.jsx("div",{className:"h-[400px] w-full",children:s.jsx(el,{width:"100%",height:"100%",children:s.jsxs(Qf,{data:E,margin:{top:10,right:30,left:20,bottom:30},children:[s.jsx(tl,{strokeDasharray:"3 3"}),s.jsx(Ra,{dataKey:"date",angle:-45,textAnchor:"end",height:70,tick:{fontSize:11}}),s.jsx($a,{}),s.jsx($i,{formatter:(I,D)=>{const z=E.find(T=>T.value===I);return[(z==null?void 0:z.originalValue)||I,"Valor"]},labelFormatter:I=>{const D=E.find(z=>z.date===I);return`${(D==null?void 0:D.period)||I}`}}),s.jsx(Da,{}),s.jsx(ii,{type:"monotone",dataKey:"value",stroke:"#3b82f6",strokeWidth:2,dot:{r:4},name:"Valor Histórico",activeDot:{r:6},connectNulls:!0,isAnimationActive:!0,animationDuration:1e3}),c&&A.length>0&&s.jsx(ii,{type:"monotone",dataKey:"value",stroke:"#8884d8",strokeDasharray:"5 5",strokeWidth:2,dot:{r:4,fill:"#8884d8"},name:"Proyección",connectNulls:!0,isAnimationActive:!0,animationDuration:1e3,data:A}),j.target&&s.jsx(Dl,{y:parseFloat(String(j.target).replace(/[^0-9.-]+/g,"")),stroke:"#16a34a",strokeDasharray:"3 3",label:{value:"Meta",position:"insideBottomRight",fill:"#16a34a",fontSize:12}})]})})}):s.jsx("div",{className:"h-[400px] w-full flex items-center justify-center bg-secondary-50 dark:bg-secondary-900/20 rounded-lg",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Ng,{className:"h-10 w-10 text-secondary-400 mx-auto mb-2"}),s.jsx("p",{className:"text-secondary-500 dark:text-secondary-400",children:"No hay datos suficientes para mostrar la tendencia"}),s.jsx("p",{className:"text-xs text-secondary-500 dark:text-secondary-400 mt-1",children:"Añade valores históricos para visualizar la evolución"})]})})})]})}),s.jsx(ua,{value:"bar",className:"mt-0",children:s.jsxs(ot,{children:[s.jsxs(Ht,{className:"pb-2",children:[s.jsx(Qt,{className:"text-lg",children:"Comparativa por períodos"}),s.jsx(fr,{children:"Compara los valores del KPI entre diferentes períodos"})]}),s.jsx(lt,{children:b?s.jsx(ig,{className:"h-[400px] w-full"}):P.length>0?s.jsx("div",{className:"h-[400px] w-full",children:s.jsx(el,{width:"100%",height:"100%",children:s.jsxs(pQ,{data:P,margin:{top:10,right:30,left:20,bottom:30},children:[s.jsx(tl,{strokeDasharray:"3 3"}),s.jsx(Ra,{dataKey:"date",angle:-45,textAnchor:"end",height:70,tick:{fontSize:11}}),s.jsx($a,{}),s.jsx($i,{formatter:(I,D)=>{const z=P.find(T=>T.value===I);return[(z==null?void 0:z.originalValue)||I,"Valor"]},labelFormatter:I=>{const D=P.find(z=>z.date===I);return`${(D==null?void 0:D.period)||I}`}}),s.jsx(Da,{}),s.jsx(Hl,{dataKey:"value",fill:"#3b82f6",name:"Valor",isAnimationActive:!0,animationDuration:1e3}),j.target&&s.jsx(Dl,{y:parseFloat(String(j.target).replace(/[^0-9.-]+/g,"")),stroke:"#16a34a",strokeDasharray:"3 3",label:{value:"Meta",position:"insideBottomRight",fill:"#16a34a",fontSize:12}})]})})}):s.jsx("div",{className:"h-[400px] w-full flex items-center justify-center bg-secondary-50 dark:bg-secondary-900/20 rounded-lg",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Ng,{className:"h-10 w-10 text-secondary-400 mx-auto mb-2"}),s.jsx("p",{className:"text-secondary-500 dark:text-secondary-400",children:"No hay datos suficientes para mostrar la comparativa"}),s.jsx("p",{className:"text-xs text-secondary-500 dark:text-secondary-400 mt-1",children:"Añade valores históricos para visualizar los períodos"})]})})})]})}),s.jsx(ua,{value:"area",className:"mt-0",children:s.jsxs(ot,{children:[s.jsxs(Ht,{className:"pb-2",children:[s.jsx(Qt,{className:"text-lg",children:"Gráfico de área"}),s.jsx(fr,{children:"Visualiza la evolución con un gráfico de área sombreada para mejor percepción"})]}),s.jsx(lt,{children:b?s.jsx(ig,{className:"h-[400px] w-full"}):P.length>0?s.jsx("div",{className:"h-[400px] w-full",children:s.jsx(el,{width:"100%",height:"100%",children:s.jsxs(wRe,{data:E,margin:{top:10,right:30,left:20,bottom:30},children:[s.jsx(tl,{strokeDasharray:"3 3"}),s.jsx(Ra,{dataKey:"date",angle:-45,textAnchor:"end",height:70,tick:{fontSize:11}}),s.jsx($a,{}),s.jsx($i,{formatter:(I,D)=>{const z=E.find(T=>T.value===I);return[(z==null?void 0:z.originalValue)||I,"Valor"]},labelFormatter:I=>{const D=E.find(z=>z.date===I);return`${(D==null?void 0:D.period)||I}`}}),s.jsx(Da,{}),s.jsx(Gu,{type:"monotone",dataKey:"value",stroke:"#3b82f6",fill:"#3b82f6",fillOpacity:.3,strokeWidth:2,dot:{r:4},name:"Valor Histórico",activeDot:{r:6},connectNulls:!0,isAnimationActive:!0,animationDuration:1e3}),c&&A.length>0&&s.jsx(Gu,{type:"monotone",dataKey:"value",stroke:"#8884d8",fill:"#8884d8",fillOpacity:.3,strokeDasharray:"5 5",strokeWidth:2,dot:{r:4,fill:"#8884d8"},name:"Proyección",connectNulls:!0,isAnimationActive:!0,animationDuration:1e3,data:A}),j.target&&s.jsx(Dl,{y:parseFloat(String(j.target).replace(/[^0-9.-]+/g,"")),stroke:"#16a34a",strokeDasharray:"3 3",label:{value:"Meta",position:"insideBottomRight",fill:"#16a34a",fontSize:12}})]})})}):s.jsx("div",{className:"h-[400px] w-full flex items-center justify-center bg-secondary-50 dark:bg-secondary-900/20 rounded-lg",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Ng,{className:"h-10 w-10 text-secondary-400 mx-auto mb-2"}),s.jsx("p",{className:"text-secondary-500 dark:text-secondary-400",children:"No hay datos suficientes para mostrar el gráfico de área"}),s.jsx("p",{className:"text-xs text-secondary-500 dark:text-secondary-400 mt-1",children:"Añade valores históricos para visualizar la evolución"})]})})})]})})]}),s.jsxs(ot,{children:[s.jsxs(Ht,{className:"pb-2",children:[s.jsx(Qt,{className:"text-lg",children:"Análisis y recomendaciones"}),s.jsx(fr,{children:"Interpretación automática basada en los datos históricos"})]}),s.jsx(lt,{children:P.length>0?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"p-4 bg-secondary-50 dark:bg-secondary-900/20 rounded-lg",children:[s.jsxs("h3",{className:"font-medium mb-2 flex items-center",children:[s.jsx(Ma,{className:"mr-2 h-4 w-4 text-primary-600"}),"Análisis de tendencia"]}),s.jsx("p",{className:"text-secondary-800 dark:text-secondary-200",children:O.trend==="up"?s.jsxs(s.Fragment,{children:["El KPI muestra una ",s.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:"tendencia positiva"})," con un incremento del ",O.percentChange,"% desde el primer registro.",O.numericPercentChange>10&&"El crecimiento es significativo."]}):O.trend==="down"?s.jsxs(s.Fragment,{children:["El KPI muestra una ",s.jsx("span",{className:"font-medium text-red-600 dark:text-red-400",children:"tendencia negativa"})," con una disminución del ",Math.abs(O.numericPercentChange).toFixed(2),"% desde el primer registro.",O.numericPercentChange<-10&&"La disminución es significativa y requiere atención."]}):s.jsxs(s.Fragment,{children:["El KPI se mantiene ",s.jsx("span",{className:"font-medium",children:"relativamente estable"})," con una variación del ",O.percentChange,"% desde el primer registro."]})})]}),c&&A.length>0&&s.jsxs("div",{className:"p-4 bg-purple-50 dark:bg-purple-900/20 rounded-lg",children:[s.jsxs("h3",{className:"font-medium mb-2 flex items-center",children:[s.jsx(w_,{className:"mr-2 h-4 w-4 text-purple-600"}),"Proyección futura"]}),s.jsxs("p",{className:"text-secondary-800 dark:text-secondary-200",children:["Basado en los datos históricos, se proyecta que el KPI",A.length>0&&P.length>0&&A[A.length-1].value>P[P.length-1].value?s.jsxs(s.Fragment,{children:[" seguirá ",s.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:"aumentando"})," hasta alcanzar aproximadamente ",s.jsx("span",{className:"font-medium",children:A[A.length-1].originalValue})," en ",A[A.length-1].period,"."]}):A.length>0&&P.length>0&&A[A.length-1].value<P[P.length-1].value?s.jsxs(s.Fragment,{children:[" continuará ",s.jsx("span",{className:"font-medium text-red-600 dark:text-red-400",children:"disminuyendo"})," hasta aproximadamente ",s.jsx("span",{className:"font-medium",children:A[A.length-1].originalValue})," en ",A[A.length-1].period,"."]}):s.jsxs(s.Fragment,{children:[" se mantendrá ",s.jsx("span",{className:"font-medium",children:"relativamente estable"})," en los próximos períodos."]})]})]}),s.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[s.jsxs("h3",{className:"font-medium mb-2 flex items-center",children:[s.jsx(w_,{className:"mr-2 h-4 w-4 text-blue-600"}),"Recomendaciones"]}),s.jsx("div",{className:"space-y-2",children:O.trend==="up"?s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"text-secondary-800 dark:text-secondary-200",children:"• Mantenga las prácticas actuales que están contribuyendo a esta tendencia positiva."}),s.jsx("p",{className:"text-secondary-800 dark:text-secondary-200",children:"• Documente los factores que han impulsado esta mejora para aplicarlos en otras áreas."}),j.target&&parseFloat(String(w[w.length-1].value).replace(/[^0-9.-]+/g,""))<parseFloat(String(j.target).replace(/[^0-9.-]+/g,""))&&s.jsx("p",{className:"text-secondary-800 dark:text-secondary-200",children:"• A pesar de la mejora, el KPI aún no alcanza el objetivo establecido. Continúe enfocándose en estrategias para cerrar esta brecha."})]}):O.trend==="down"?s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"text-secondary-800 dark:text-secondary-200",children:"• Identifique las causas fundamentales de esta tendencia negativa y establezca un plan de acción correctivo."}),s.jsx("p",{className:"text-secondary-800 dark:text-secondary-200",children:"• Realice un análisis más detallado de los factores que podrían estar afectando el desempeño de este KPI."}),s.jsx("p",{className:"text-secondary-800 dark:text-secondary-200",children:"• Considere establecer objetivos intermedios para revertir gradualmente esta tendencia."})]}):s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"text-secondary-800 dark:text-secondary-200",children:"• Evalúe si la estabilidad actual es suficiente o si se requiere un impulso adicional para mejorar el rendimiento."}),s.jsx("p",{className:"text-secondary-800 dark:text-secondary-200",children:"• Identifique oportunidades incrementales para optimizar este KPI sin grandes cambios disruptivos."})]})})]})]}):s.jsxs("div",{className:"p-4 bg-secondary-50 dark:bg-secondary-900/20 rounded-lg text-center",children:[s.jsx(Ng,{className:"h-6 w-6 text-secondary-400 mx-auto mb-2"}),s.jsx("p",{className:"text-secondary-500 dark:text-secondary-400",children:"No hay datos suficientes para realizar un análisis"}),s.jsx("p",{className:"text-xs text-secondary-500 dark:text-secondary-400 mt-1",children:"Añade al menos dos valores históricos para generar recomendaciones"})]})})]})]}):s.jsx(ot,{children:s.jsx(lt,{className:"p-6",children:s.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[300px] text-center",children:[s.jsx(Ma,{className:"h-12 w-12 text-secondary-300 dark:text-secondary-700 mb-4"}),s.jsx("h3",{className:"text-xl font-medium mb-2",children:"Selecciona un KPI para analizar"}),s.jsx("p",{className:"text-secondary-500 dark:text-secondary-400 max-w-md",children:"Usa los filtros superiores para seleccionar una empresa, área y KPI específico para visualizar su análisis de tendencias y proyecciones futuras."})]})})})]})})}function tqe({children:e,title:t}){return s.jsxs("div",{className:"flex h-screen bg-gray-50",children:[s.jsx(eE,{}),s.jsxs("div",{className:"flex flex-col flex-1 overflow-hidden ml-0 lg:ml-[250px]",children:[s.jsx(RK,{title:t}),s.jsx("main",{className:"flex-1 overflow-y-auto bg-gray-50 px-4 md:px-6 lg:px-8",children:e})]})]})}const nqe=js({value:Wt().min(1,"El valor es requerido"),companyId:la().min(1,"La empresa es requerida"),month:Wt().min(1,"El mes es requerido"),year:la().min(2020,"El año es requerido")});function rqe(){const[e,t]=N.useState("idle"),[n,r]=N.useState(""),[i,a]=N.useState(1),{toast:o}=ss(),l=new Date,c=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],u=c[l.getMonth()],f=l.getFullYear(),h=Ob({resolver:kb(nqe),defaultValues:{value:"",companyId:1,month:u,year:f}}),{data:p=[]}=Zt({queryKey:["/api/companies"],enabled:!0});N.useEffect(()=>{const j=h.watch("companyId");a(j)},[h.watch("companyId")]);const m=()=>i===1?"Valor en KG":"Valor en unidades",x=()=>i===1?"Ej: 55000":"Ej: 850000",v=c,y=[f-1,f,f+1],b=cr({mutationFn:async j=>{console.log("[SalesUpdate] Enviando actualización:",j);const P=String(j.value||""),A=parseFloat(P.replace(/[^0-9.]/g,"")),E=`${j.month} ${j.year}`,O={value:A,companyId:j.companyId,period:E,month:j.month,year:j.year};return console.log("[SalesUpdate] Enviando:",O),await(await Cr("POST","/api/sales/update-month",O)).json()},onSuccess:async j=>{t("success"),r(j.message||"Ventas actualizadas correctamente"),o({title:"✅ Actualización exitosa",description:j.message||"Las ventas han sido registradas correctamente."});const P=i===1?39:10;await Ni.invalidateQueries({queryKey:["/api/kpi-values"]}),await Ni.invalidateQueries({queryKey:["/api/kpis"]}),await Ni.invalidateQueries({queryKey:[`/api/kpi-history/${P}`]}),await Ni.refetchQueries({queryKey:[`/api/kpi-history/${P}`]}),h.setValue("value","")},onError:j=>{t("error"),r((j==null?void 0:j.message)||"Error al actualizar los datos de ventas"),o({title:"❌ Error en la actualización",description:(j==null?void 0:j.message)||"Error al actualizar los datos de ventas",variant:"destructive"})}}),w=j=>{t("idle"),b.mutate(j)};return s.jsxs("div",{className:"max-w-md mx-auto space-y-6",children:[s.jsxs("div",{className:"text-center space-y-2",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Actualizar Ventas Mensuales"}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Selecciona el mes y registra las ventas totales"})]}),s.jsx(Lb,{...h,children:s.jsxs("form",{onSubmit:h.handleSubmit(w),className:"space-y-5",children:[s.jsx(Pr,{control:h.control,name:"companyId",render:({field:j})=>s.jsxs(br,{children:[s.jsx(wr,{className:"font-medium text-gray-700 dark:text-gray-300",children:"Compañía"}),s.jsxs(on,{onValueChange:P=>{j.onChange(parseInt(P)),a(parseInt(P))},defaultValue:j.value.toString(),children:[s.jsx(dr,{children:s.jsx(an,{className:"h-12 text-base",children:s.jsx(ln,{placeholder:"Selecciona una compañía"})})}),s.jsx(sn,{children:p.map(P=>s.jsx(xe,{value:P.id.toString(),children:P.name},P.id))})]}),s.jsx(_r,{})]})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(Pr,{control:h.control,name:"month",render:({field:j})=>s.jsxs(br,{children:[s.jsx(wr,{className:"font-medium text-gray-700 dark:text-gray-300",children:"Mes"}),s.jsxs(on,{onValueChange:j.onChange,value:j.value,children:[s.jsx(dr,{children:s.jsx(an,{className:"h-12",children:s.jsx(ln,{placeholder:"Mes"})})}),s.jsx(sn,{children:v.map(P=>s.jsx(xe,{value:P,children:P},P))})]}),s.jsx(_r,{})]})}),s.jsx(Pr,{control:h.control,name:"year",render:({field:j})=>{var P;return s.jsxs(br,{children:[s.jsx(wr,{className:"font-medium text-gray-700 dark:text-gray-300",children:"Año"}),s.jsxs(on,{onValueChange:A=>j.onChange(parseInt(A)),value:(P=j.value)==null?void 0:P.toString(),children:[s.jsx(dr,{children:s.jsx(an,{className:"h-12",children:s.jsx(ln,{placeholder:"Año"})})}),s.jsx(sn,{children:y.map(A=>s.jsx(xe,{value:A.toString(),children:A},A))})]}),s.jsx(_r,{})]})}})]}),s.jsx(Pr,{control:h.control,name:"value",render:({field:j})=>s.jsxs(br,{children:[s.jsx(wr,{className:"font-medium text-gray-700 dark:text-gray-300 text-lg",children:m()}),s.jsx(dr,{children:s.jsx(Mt,{...j,placeholder:x(),type:"text",className:"h-14 text-xl text-center font-semibold border-2 focus:border-blue-500",onChange:P=>{const A=P.target.value.replace(/[^0-9]/g,""),E=A?parseInt(A).toLocaleString("es-MX"):"";j.onChange(E)}})}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 text-center",children:"Ingresa el valor total del mes"}),s.jsx(_r,{})]})}),e==="success"&&s.jsxs(Eh,{variant:"default",className:"bg-green-50 border-green-200 dark:bg-green-900/20 dark:border-green-800",children:[s.jsx(Ek,{className:"h-5 w-5 text-green-600 dark:text-green-400"}),s.jsx(q1,{className:"text-green-800 dark:text-green-300 text-base",children:"Actualización completada"}),s.jsx(Oh,{className:"text-green-700 dark:text-green-400",children:n})]}),e==="error"&&s.jsxs(Eh,{variant:"destructive",children:[s.jsx(mb,{className:"h-5 w-5"}),s.jsx(q1,{className:"text-base",children:"Error"}),s.jsx(Oh,{children:n})]}),s.jsx(Je,{type:"submit",className:"w-full h-14 text-lg font-semibold bg-blue-600 hover:bg-blue-700 text-white dark:bg-blue-700 dark:hover:bg-blue-800",disabled:b.isPending,children:b.isPending?s.jsxs(s.Fragment,{children:[s.jsx(go,{className:"mr-2 h-6 w-6 animate-spin"}),"Actualizando..."]}):`Actualizar ${h.watch("month")} ${h.watch("year")}`})]})})]})}function iqe(){const e=Xd(),[t,n]=N.useState(!1),[r,i]=N.useState(null),[a,o]=N.useState(""),[l,c]=N.useState(""),[u,f]=N.useState(""),{data:h=[]}=Zt({queryKey:["/api/companies"]}),{data:p=[]}=Zt({queryKey:["/api/kpis"]}),[m,x]=N.useState([]),v={1:667449,2:10300476};N.useEffect(()=>{if(h.length===0||p.length===0)return;const A=localStorage.getItem("salesTargets");let E={};try{A&&(E=JSON.parse(A))}catch(I){console.error("Error al parsear objetivos almacenados:",I)}const O=h.map(I=>{const D=p.find(F=>F.companyId===I.id&&F.name.toLowerCase().includes("volumen de ventas")),z=E[I.id];let T=v[I.id]||0;if(z&&z.annualTarget)T=z.annualTarget;else if(D&&D.target){const F=D.target.match(/[\d,]+/);if(F){const B=F[0].replace(/,/g,"");T=parseInt(B)*12}}const k=I.id===1?"KG":"unidades";return{companyId:I.id,annualTarget:T,name:I.name,unit:k}});x(O)},[h,p]);const y=(A,E)=>{try{const O=localStorage.getItem("salesTargets")||"{}",I=JSON.parse(O),D=Math.round(E/12),z=Math.round(D/4.33);return I[A]={annualTarget:E,monthlyTarget:D,weeklyTarget:z,timestamp:new Date().toISOString()},localStorage.setItem("salesTargets",JSON.stringify(I)),x(T=>T.map(k=>k.companyId===A?{...k,annualTarget:E}:k)),{monthlyTarget:D,weeklyTarget:z}}catch(O){throw console.error("Error al guardar objetivos:",O),O}},b=cr({mutationFn:async({companyId:A,annualTarget:E})=>{try{const O=typeof E=="string"?parseInt(E.replace(/[^\d]/g,"")):E;if(isNaN(O))throw new Error("El valor del objetivo no es válido");return y(A,O)}catch(O){throw console.error("Error actualizando objetivo:",O),O}},onSuccess:()=>{A2({title:"Objetivo actualizado",description:`Se ha actualizado el objetivo anual de ventas para ${r==null?void 0:r.name}.`}),n(!1),e.invalidateQueries({queryKey:["/api/kpis"]})},onError:A=>{A2({title:"Error",description:`No se pudo actualizar el objetivo: ${A.message}`,variant:"destructive"})}}),w=A=>{i(A);const E=A.annualTarget.toLocaleString("es-MX");o(E);const O=Math.round(A.annualTarget/12),I=Math.round(O/4.33);c(O.toLocaleString("es-MX")),f(I.toLocaleString("es-MX")),n(!0)},j=A=>{const E=A.target.value.replace(/[^\d]/g,"");if(E){const O=parseInt(E);o(O.toLocaleString("es-MX"));const I=Math.round(O/12),D=Math.round(I/4.33);c(I.toLocaleString("es-MX")),f(D.toLocaleString("es-MX"))}else o(""),c(""),f("")},P=()=>{if(!r)return;const A=parseInt(a.replace(/[^\d]/g,""));if(isNaN(A)){A2({title:"Error",description:"Por favor ingresa un valor numérico válido",variant:"destructive"});return}b.mutate({companyId:r.id,annualTarget:A})};return s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.map(A=>s.jsxs(Je,{variant:"outline",onClick:()=>w(A),className:"bg-white hover:bg-blue-50 border border-blue-200 text-left flex items-center justify-between h-auto py-3 px-4 rounded-lg shadow-sm transition-all hover:shadow-md",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"font-medium text-sm text-gray-900",children:A.name}),s.jsxs("span",{className:"text-xs text-gray-500",children:["Objetivo anual en ",A.unit]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-blue-600 bg-blue-50 px-3 py-1.5 rounded-full",children:[s.jsx(Ud,{className:"h-4 w-4"}),s.jsx("span",{className:"font-medium",children:A.annualTarget.toLocaleString("es-MX")})]})]},A.companyId)),s.jsx(vi,{open:t,onOpenChange:n,children:s.jsxs(ui,{className:"sm:max-w-md",children:[s.jsxs(di,{children:[s.jsx(fi,{children:"Editar objetivo de ventas"}),s.jsxs(jo,{children:["Establece el objetivo anual de ventas para ",r==null?void 0:r.name]})]}),s.jsxs("div",{className:"space-y-4 my-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(Ud,{className:"h-4 w-4 text-blue-600"}),s.jsxs("span",{children:["Objetivo anual (",r==null?void 0:r.unit,")"]})]}),s.jsx(Mt,{type:"text",value:a,onChange:j,className:"text-right font-medium"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"text-xs text-gray-500 flex items-center gap-1",children:[s.jsx(J0,{className:"h-3 w-3"}),s.jsx("span",{children:"Meta mensual"})]}),s.jsx("div",{className:"border rounded-md py-2 px-3 bg-slate-50 text-right text-sm",children:l||"-"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"text-xs text-gray-500 flex items-center gap-1",children:[s.jsx(J0,{className:"h-3 w-3"}),s.jsx("span",{children:"Meta semanal"})]}),s.jsx("div",{className:"border rounded-md py-2 px-3 bg-slate-50 text-right text-sm",children:u||"-"})]})]})]}),s.jsxs(am,{children:[s.jsx(Je,{type:"button",variant:"outline",onClick:()=>n(!1),children:"Cancelar"}),s.jsx(Je,{type:"button",onClick:P,disabled:b.isPending,children:b.isPending?"Guardando...":"Guardar objetivo"})]})]})})]})}function aqe(){return s.jsx(tqe,{title:"Actualización de Ventas",children:s.jsxs("div",{className:"max-w-screen-xl mx-auto p-4",children:[s.jsx("h1",{className:"text-2xl font-bold mb-1",children:"Actualización Mensual de Ventas"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Registra o actualiza las ventas mensuales de cualquier período."}),s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(Ud,{className:"h-5 w-5 text-blue-600"}),s.jsx("h2",{className:"text-lg font-medium",children:"Objetivos de Ventas"})]}),s.jsx(iqe,{})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs(ot,{className:"shadow-md bg-white border dark:bg-slate-900 dark:border-slate-800 md:col-span-2",children:[s.jsx(Ht,{className:"pb-2",children:s.jsx("div",{className:"flex justify-between items-start",children:s.jsxs("div",{children:[s.jsx(Qt,{className:"text-lg font-medium",children:"Formulario de Actualización"}),s.jsx(fr,{children:"Ingresa las ventas de la semana actual"})]})})}),s.jsx(lt,{children:s.jsx(rqe,{})})]}),s.jsxs(ot,{className:"shadow-md bg-slate-50 border border-slate-100 dark:bg-slate-800/50 dark:border-slate-700",children:[s.jsx(Ht,{className:"pb-2",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ng,{className:"h-5 w-5 text-slate-600 dark:text-slate-300"}),s.jsx(Qt,{className:"text-lg font-medium",children:"Instrucciones"})]})}),s.jsx(lt,{children:s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsxs("div",{className:"flex gap-2 items-start",children:[s.jsx("div",{className:"bg-slate-200 text-slate-700 rounded-full h-5 w-5 flex items-center justify-center flex-shrink-0 mt-0.5 dark:bg-slate-700 dark:text-slate-300",children:s.jsx("span",{className:"font-semibold text-xs",children:"1"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium",children:"Selecciona la compañía"}),s.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Dura International (KG) o Grupo Orsega (Unidades)"})]})]}),s.jsxs("div",{className:"flex gap-2 items-start",children:[s.jsx("div",{className:"bg-slate-200 text-slate-700 rounded-full h-5 w-5 flex items-center justify-center flex-shrink-0 mt-0.5 dark:bg-slate-700 dark:text-slate-300",children:s.jsx("span",{className:"font-semibold text-xs",children:"2"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium",children:"Ingresa los valores"}),s.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Valor de ventas según la unidad de la compañía"})]})]}),s.jsxs("div",{className:"flex gap-2 items-start",children:[s.jsx("div",{className:"bg-slate-200 text-slate-700 rounded-full h-5 w-5 flex items-center justify-center flex-shrink-0 mt-0.5 dark:bg-slate-700 dark:text-slate-300",children:s.jsx("span",{className:"font-semibold text-xs",children:"3"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium",children:"El sistema actualiza:"}),s.jsxs("ul",{className:"text-xs text-slate-500 dark:text-slate-400 list-disc ml-4 space-y-1",children:[s.jsx("li",{children:"Guarda el registro semanal"}),s.jsx("li",{children:"Calcula el acumulado mensual"}),s.jsx("li",{children:"Actualiza el KPI y su cumplimiento"})]})]})]})]})})]})]})]})})}var pte="AlertDialog",[sqe,fGe]=Ba(pte,[FK]),tf=FK(),mte=e=>{const{__scopeAlertDialog:t,...n}=e,r=tf(t);return s.jsx(tG,{...r,...n,modal:!0})};mte.displayName=pte;var oqe="AlertDialogTrigger",gte=N.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=tf(n);return s.jsx(nG,{...i,...r,ref:t})});gte.displayName=oqe;var lqe="AlertDialogPortal",vte=e=>{const{__scopeAlertDialog:t,...n}=e,r=tf(t);return s.jsx(rG,{...r,...n})};vte.displayName=lqe;var cqe="AlertDialogOverlay",yte=N.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=tf(n);return s.jsx(fT,{...i,...r,ref:t})});yte.displayName=cqe;var ev="AlertDialogContent",[uqe,dqe]=sqe(ev),fqe=JV("AlertDialogContent"),xte=N.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...i}=e,a=tf(n),o=N.useRef(null),l=Dn(t,o),c=N.useRef(null);return s.jsx(nme,{contentName:ev,titleName:bte,docsSlug:"alert-dialog",children:s.jsx(uqe,{scope:n,cancelRef:c,children:s.jsxs(hT,{role:"alertdialog",...a,...i,ref:l,onOpenAutoFocus:yt(i.onOpenAutoFocus,u=>{var f;u.preventDefault(),(f=c.current)==null||f.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[s.jsx(fqe,{children:r}),s.jsx(pqe,{contentRef:o})]})})})});xte.displayName=ev;var bte="AlertDialogTitle",wte=N.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=tf(n);return s.jsx(pT,{...i,...r,ref:t})});wte.displayName=bte;var _te="AlertDialogDescription",jte=N.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=tf(n);return s.jsx(mT,{...i,...r,ref:t})});jte.displayName=_te;var hqe="AlertDialogAction",Nte=N.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=tf(n);return s.jsx(Gj,{...i,...r,ref:t})});Nte.displayName=hqe;var Ste="AlertDialogCancel",Ate=N.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:i}=dqe(Ste,n),a=tf(n),o=Dn(t,i);return s.jsx(Gj,{...a,...r,ref:o})});Ate.displayName=Ste;var pqe=({contentRef:e})=>{const t=`\`${ev}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${ev}\` by passing a \`${_te}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${ev}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return N.useEffect(()=>{var r;document.getElementById((r=e.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},mqe=mte,gqe=gte,vqe=vte,Pte=yte,Cte=xte,Ete=Nte,Ote=Ate,kte=wte,Tte=jte;const z2=mqe,U2=gqe,yqe=vqe,Ite=N.forwardRef(({className:e,...t},n)=>s.jsx(Pte,{className:wt("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));Ite.displayName=Pte.displayName;const gx=N.forwardRef(({className:e,...t},n)=>s.jsxs(yqe,{children:[s.jsx(Ite,{}),s.jsx(Cte,{ref:n,className:wt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));gx.displayName=Cte.displayName;const vx=({className:e,...t})=>s.jsx("div",{className:wt("flex flex-col space-y-2 text-center sm:text-left",e),...t});vx.displayName="AlertDialogHeader";const yx=({className:e,...t})=>s.jsx("div",{className:wt("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});yx.displayName="AlertDialogFooter";const xx=N.forwardRef(({className:e,...t},n)=>s.jsx(kte,{ref:n,className:wt("text-lg font-semibold",e),...t}));xx.displayName=kte.displayName;const bx=N.forwardRef(({className:e,...t},n)=>s.jsx(Tte,{ref:n,className:wt("text-sm text-muted-foreground",e),...t}));bx.displayName=Tte.displayName;const wx=N.forwardRef(({className:e,...t},n)=>s.jsx(Ete,{ref:n,className:wt(Gk(),e),...t}));wx.displayName=Ete.displayName;const _x=N.forwardRef(({className:e,...t},n)=>s.jsx(Ote,{ref:n,className:wt(Gk({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));_x.displayName=Ote.displayName;var X3="Collapsible",[xqe,hGe]=Ba(X3),[bqe,Y3]=xqe(X3),Lte=N.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:r,defaultOpen:i,disabled:a,onOpenChange:o,...l}=e,[c=!1,u]=cl({prop:r,defaultProp:i,onChange:o});return s.jsx(bqe,{scope:n,disabled:a,contentId:Mc(),open:c,onOpenToggle:N.useCallback(()=>u(f=>!f),[u]),children:s.jsx(Rt.div,{"data-state":J3(c),"data-disabled":a?"":void 0,...l,ref:t})})});Lte.displayName=X3;var Mte="CollapsibleTrigger",Dte=N.forwardRef((e,t)=>{const{__scopeCollapsible:n,...r}=e,i=Y3(Mte,n);return s.jsx(Rt.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":J3(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...r,ref:t,onClick:yt(e.onClick,i.onOpenToggle)})});Dte.displayName=Mte;var Q3="CollapsibleContent",Rte=N.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=Y3(Q3,e.__scopeCollapsible);return s.jsx(os,{present:n||i.open,children:({present:a})=>s.jsx(wqe,{...r,ref:t,present:a})})});Rte.displayName=Q3;var wqe=N.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:r,children:i,...a}=e,o=Y3(Q3,n),[l,c]=N.useState(r),u=N.useRef(null),f=Dn(t,u),h=N.useRef(0),p=h.current,m=N.useRef(0),x=m.current,v=o.open||l,y=N.useRef(v),b=N.useRef(void 0);return N.useEffect(()=>{const w=requestAnimationFrame(()=>y.current=!1);return()=>cancelAnimationFrame(w)},[]),na(()=>{const w=u.current;if(w){b.current=b.current||{transitionDuration:w.style.transitionDuration,animationName:w.style.animationName},w.style.transitionDuration="0s",w.style.animationName="none";const j=w.getBoundingClientRect();h.current=j.height,m.current=j.width,y.current||(w.style.transitionDuration=b.current.transitionDuration,w.style.animationName=b.current.animationName),c(r)}},[o.open,r]),s.jsx(Rt.div,{"data-state":J3(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!v,...a,ref:f,style:{"--radix-collapsible-content-height":p?`${p}px`:void 0,"--radix-collapsible-content-width":x?`${x}px`:void 0,...e.style},children:v&&i})});function J3(e){return e?"open":"closed"}var _qe=Lte;const jqe=_qe,Nqe=Dte,Sqe=Rte,Aqe=js({value:Wt().min(1,"El valor es requerido"),comments:Wt().optional(),period:Wt().optional()});function Pqe({kpiId:e,isOpen:t,onClose:n}){const{toast:r}=ss(),i=Xd(),[a,o]=N.useState(!1),{data:l,isLoading:c}=Zt({queryKey:[`/api/kpis/${e}`],enabled:t&&!!e}),{data:u}=Zt({queryKey:["/api/kpi-values",e],enabled:t&&!!e}),f=u==null?void 0:u.filter(w=>w.kpiId===e).sort((w,j)=>new Date(j.date).getTime()-new Date(w.date).getTime())[0],h=Ob({resolver:kb(Aqe),defaultValues:{value:"",comments:"",period:p()}});function p(){const w=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],j=new Date,P=new Date(j.getFullYear(),0,1),A=(j.getTime()-P.getTime())/864e5;return`Semana ${Math.ceil((A+P.getDay()+1)/7)} - ${w[j.getMonth()]} ${j.getFullYear()}`}const m=cr({mutationFn:async w=>{console.log("[KPI Update] Enviando datos:",{kpiId:e,value:w.value,period:w.period||p(),comments:w.comments||""});try{const j=await Cr("POST","/api/kpi-values",{kpiId:e,value:w.value,period:w.period||p(),comments:w.comments||""});return console.log("[KPI Update] Respuesta exitosa:",j),await j.json()}catch(j){throw console.error("[KPI Update] Error en la petición:",j),j}},onSuccess:()=>{r({title:"KPI actualizado exitosamente",description:"El valor del KPI ha sido registrado correctamente.",variant:"default"}),i.invalidateQueries({queryKey:["/api/kpi-values"]}),i.invalidateQueries({queryKey:["/api/kpis"]}),n()},onError:w=>{r({title:"Error al actualizar KPI",description:w.message||"Ocurrió un error inesperado.",variant:"destructive"})}}),x=async w=>{o(!0);try{await m.mutateAsync(w)}finally{o(!1)}};N.useEffect(()=>{t&&h.reset({value:"",comments:"",period:p()})},[t,h]);const v=w=>{switch(w){case"complies":return"bg-green-100 text-green-800 border-green-200";case"alert":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"not_compliant":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},y=w=>{switch(w){case"complies":return"Cumple";case"alert":return"Alerta";case"not_compliant":return"No Cumple";default:return"Sin Estado"}},b=w=>{switch(w){case"complies":return s.jsx(Vu,{className:"h-4 w-4"});case"alert":return s.jsx(Lc,{className:"h-4 w-4"});case"not_compliant":return s.jsx(nm,{className:"h-4 w-4"});default:return null}};return c?s.jsx(vi,{open:t,onOpenChange:n,children:s.jsx(ui,{className:"sm:max-w-[500px]",children:s.jsxs("div",{className:"flex items-center justify-center py-8",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),s.jsx("span",{className:"ml-2 text-gray-600",children:"Cargando KPI..."})]})})}):s.jsx(vi,{open:t,onOpenChange:n,children:s.jsxs(ui,{className:"sm:max-w-[600px]",children:[s.jsxs(di,{children:[s.jsxs(fi,{className:"flex items-center gap-2",children:[s.jsx(Ma,{className:"h-5 w-5 text-blue-600"}),"Actualizar KPI"]}),s.jsx(jo,{children:"Registra un nuevo valor para este KPI"})]}),l&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsxs("h3",{className:"font-medium text-gray-900 mb-3 flex items-center gap-2",children:[s.jsx(Ng,{className:"h-4 w-4 text-blue-600"}),"Información del KPI"]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Nombre:"}),s.jsx("div",{className:"font-semibold text-gray-900",children:l.name})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Meta:"}),s.jsx("div",{className:"text-lg font-bold text-blue-600",children:l.target||"Sin meta definida"})]}),f&&s.jsxs("div",{children:[s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Valor Actual:"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-lg font-bold text-gray-900",children:f.value}),s.jsx(Wn,{className:`text-xs ${v(f.status)}`,children:s.jsxs("div",{className:"flex items-center gap-1",children:[b(f.status),y(f.status)]})})]})]})]}),f&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 pt-2",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Cumplimiento:"}),s.jsxs("div",{className:"text-lg font-bold text-green-600",children:[f.compliancePercentage,"%"]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Última actualización:"}),s.jsxs("div",{className:"text-sm text-gray-700 flex items-center gap-1",children:[s.jsx(Ru,{className:"h-3 w-3"}),new Date(f.date).toLocaleDateString()]})]})]}),(f==null?void 0:f.comments)&&s.jsxs("div",{className:"pt-2",children:[s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Comentarios anteriores:"}),s.jsx("div",{className:"text-sm text-gray-700 bg-white p-2 rounded border mt-1",children:f.comments})]})]})]}),s.jsx(Lb,{...h,children:s.jsxs("form",{onSubmit:h.handleSubmit(x),className:"space-y-4",children:[s.jsx(Pr,{control:h.control,name:"value",render:({field:w})=>s.jsxs(br,{children:[s.jsxs(wr,{className:"flex items-center gap-2",children:[s.jsx(Ud,{className:"h-4 w-4"}),"Nuevo Valor"]}),s.jsx(dr,{children:s.jsx(Mt,{placeholder:"Ej: 95.5%, 1500 KG, 2.3 días",...w,disabled:a})}),s.jsx(_r,{})]})}),s.jsx(Pr,{control:h.control,name:"period",render:({field:w})=>s.jsxs(br,{children:[s.jsxs(wr,{className:"flex items-center gap-2",children:[s.jsx(Ru,{className:"h-4 w-4"}),"Período (Automático)"]}),s.jsx(dr,{children:s.jsx(Mt,{...w,disabled:!0,className:"bg-gray-50 text-gray-700 cursor-not-allowed",readOnly:!0})}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"El período se detecta automáticamente basado en la semana actual"}),s.jsx(_r,{})]})}),s.jsx(Pr,{control:h.control,name:"comments",render:({field:w})=>s.jsxs(br,{children:[s.jsx(wr,{children:"Comentarios (opcional)"}),s.jsx(dr,{children:s.jsx(Hu,{placeholder:"Agrega comentarios sobre esta actualización...",className:"min-h-[80px]",...w,disabled:a})}),s.jsx(_r,{})]})}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[s.jsx(Je,{type:"button",variant:"outline",onClick:n,disabled:a,children:"Cancelar"}),s.jsx(Je,{type:"submit",disabled:a,children:a?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Actualizando..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Qce,{className:"h-4 w-4 mr-2"}),"Actualizar KPI"]})})]})]})})]})]})})}function Cqe({userId:e,months:t,users:n}){const[r,i]=N.useState(!1),{data:a,isLoading:o}=Zt({queryKey:[`/api/user-kpi-history/${e}`,{months:t}],enabled:!!e});if(o)return s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(Dh,{className:"h-12 w-12 mx-auto mb-4 text-gray-300 animate-spin"}),s.jsx("p",{children:"Cargando historial del usuario..."})]});if(!a||a.length===0)return s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(Ma,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),s.jsx("p",{children:"No hay datos históricos disponibles para este usuario"})]});const l=n.find(A=>A.id===e),c=a.reduce((A,E)=>(A[E.kpiId]||(A[E.kpiId]={kpiId:E.kpiId,kpiName:E.kpiName,kpiTarget:E.kpiTarget,kpiUnit:E.kpiUnit,companyName:E.companyName,areaName:E.areaName,values:[]}),A[E.kpiId].values.push(E),A),{}),u=Object.values(c),f=["Porcentaje de crecimiento en ventas","Nuevos clientes adquiridos","Tasa de retención de clientes"];let h=[];if(f.forEach(A=>{if(h.length<3){const E=u.find(O=>O.kpiName.toLowerCase().includes(A.toLowerCase())&&!h.some(I=>I.kpiId===O.kpiId));E&&h.push(E)}}),h.length<3){const A=u.filter(O=>!h.some(I=>I.kpiId===O.kpiId)),E=3-h.length;h=[...h,...A.slice(0,E)]}const p=u.filter(A=>!h.some(E=>E.kpiId===A.kpiId)),m=r?u:h,x=u.length,v=a.length,y=a.filter(A=>A.status==="complies").length,b=v>0?(y/v*100).toFixed(1):"0",w=u.map(A=>{const E=[...A.values].sort((I,D)=>new Date(I.date).getTime()-new Date(D.date).getTime()),O=E[E.length-1];return{name:A.kpiName,compliance:O.compliancePercentage?parseFloat(O.compliancePercentage):0,status:O.status}}).filter(A=>A.compliance>0),j=w.length>0?w.reduce((A,E)=>E.compliance>A.compliance?E:A):null,P=w.length>0?w.reduce((A,E)=>E.compliance<A.compliance?E:A):null;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx(ot,{children:s.jsx(lt,{className:"pt-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Ud,{className:"h-8 w-8 mx-auto text-blue-600 mb-2"}),s.jsx("div",{className:"text-2xl font-bold",children:x}),s.jsx("div",{className:"text-sm text-gray-600",children:"KPIs Asignados"})]})})}),s.jsx(ot,{children:s.jsx(lt,{className:"pt-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Ma,{className:"h-8 w-8 mx-auto text-green-600 mb-2"}),s.jsxs("div",{className:"text-2xl font-bold",children:[b,"%"]}),s.jsx("div",{className:"text-sm text-gray-600",children:"Cumplimiento Promedio"})]})})}),s.jsx(ot,{children:s.jsx(lt,{className:"pt-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx(qp,{className:"h-8 w-8 mx-auto text-yellow-600 mb-2"}),s.jsx("div",{className:"text-sm font-semibold truncate",title:j==null?void 0:j.name,children:j?j.name:"N/A"}),s.jsx("div",{className:"text-xs text-gray-600",children:"Mejor KPI"})]})})}),s.jsx(ot,{children:s.jsx(lt,{className:"pt-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Lc,{className:"h-8 w-8 mx-auto text-red-600 mb-2"}),s.jsx("div",{className:"text-sm font-semibold truncate",title:P==null?void 0:P.name,children:P?P.name:"N/A"}),s.jsx("div",{className:"text-xs text-gray-600",children:"Área de Mejora"})]})})})]}),s.jsxs(ot,{children:[s.jsx(Ht,{children:s.jsxs(Qt,{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Pk,{className:"h-5 w-5 text-blue-600"}),"Evolución Temporal por KPI - ",l==null?void 0:l.name]}),p.length>0&&s.jsx(Je,{variant:"outline",size:"sm",onClick:()=>i(!r),className:"gap-2","data-testid":"button-toggle-all-kpis",children:r?s.jsxs(s.Fragment,{children:[s.jsx(d6,{className:"h-4 w-4"}),"Ver menos"]}):s.jsxs(s.Fragment,{children:[s.jsx(Ma,{className:"h-4 w-4"}),"Ver más (",p.length," KPIs adicionales)"]})})]})}),s.jsx(lt,{className:"space-y-8",children:m.map(A=>{const E=[...A.values].sort((z,T)=>new Date(z.date).getTime()-new Date(T.date).getTime()),O=E.map(z=>({period:z.period,value:parseFloat(z.value)||0,compliance:parseFloat(z.compliancePercentage)||0})),I=E.length<=2,D=E[E.length-1];return s.jsxs("div",{className:"border-t pt-4 first:border-t-0 first:pt-0",children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("h4",{className:"font-semibold text-lg",children:A.kpiName}),s.jsxs("div",{className:"text-sm text-gray-600",children:[A.companyName," • ",A.areaName," • Meta: ",A.kpiTarget]})]}),I?s.jsx("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-6",children:s.jsxs("div",{className:"text-center space-y-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"text-4xl font-bold text-blue-600",children:[(D==null?void 0:D.value)||"N/A"," ",A.kpiUnit]}),s.jsx("div",{className:"text-sm text-gray-500 mt-1",children:(D==null?void 0:D.period)||"Sin datos"})]}),(D==null?void 0:D.compliancePercentage)&&s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Cumplimiento:"}),s.jsxs(Wn,{className:D.status==="complies"?"bg-green-500":D.status==="alert"?"bg-yellow-500":"bg-red-500",children:[D.compliancePercentage,"%"]})]}),s.jsxs("div",{className:"text-xs text-gray-400",children:["Datos insuficientes para mostrar gráfica (",E.length," registro",E.length!==1?"s":"",")"]})]})}):s.jsx(el,{width:"100%",height:250,children:s.jsxs(Qf,{data:O,children:[s.jsx(tl,{strokeDasharray:"3 3"}),s.jsx(Ra,{dataKey:"period",angle:-45,textAnchor:"end",height:80}),s.jsx($a,{}),s.jsx($i,{}),s.jsx(Da,{}),s.jsx(ii,{type:"monotone",dataKey:"value",stroke:"#3b82f6",strokeWidth:2,name:`Valor (${A.kpiUnit})`}),s.jsx(ii,{type:"monotone",dataKey:"compliance",stroke:"#10b981",strokeWidth:2,name:"Cumplimiento (%)"})]})})]},A.kpiId)})})]}),s.jsxs(ot,{children:[s.jsxs(Ht,{children:[s.jsxs(Qt,{className:"flex items-center gap-2",children:[s.jsx(Us,{className:"h-5 w-5 text-blue-600"}),"Historial Detallado por KPI"]}),s.jsx(fr,{children:"Expande cada KPI para ver su historial completo de valores"})]}),s.jsx(lt,{className:"space-y-2",children:u.map(A=>{const E=[...A.values].sort((I,D)=>new Date(D.date).getTime()-new Date(I.date).getTime()),O=E[0];return s.jsxs(jqe,{className:"border rounded-lg",children:[s.jsx(Nqe,{className:"w-full p-4 hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1 text-left",children:[s.jsx("div",{className:"font-semibold",children:A.kpiName}),s.jsxs("div",{className:"text-sm text-gray-500",children:[A.companyName," • ",A.areaName]})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-sm font-mono",children:[O==null?void 0:O.value," ",A.kpiUnit]}),s.jsx("div",{className:"text-xs text-gray-500",children:O==null?void 0:O.period})]}),(O==null?void 0:O.status)&&s.jsx(Wn,{className:O.status==="complies"?"bg-green-500":O.status==="alert"?"bg-yellow-500":"bg-red-500",children:O.status==="complies"?"Cumple":O.status==="alert"?"Alerta":"No Cumple"}),s.jsx(Ck,{className:"h-5 w-5 text-gray-400"})]})]})}),s.jsx(Sqe,{children:s.jsx("div",{className:"border-t bg-gray-50 dark:bg-gray-900",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-100 dark:bg-gray-800",children:s.jsxs("tr",{className:"text-xs",children:[s.jsx("th",{className:"text-left p-2",children:"Período"}),s.jsx("th",{className:"text-right p-2",children:"Valor"}),s.jsx("th",{className:"text-right p-2",children:"Meta"}),s.jsx("th",{className:"text-right p-2",children:"Cumplimiento"}),s.jsx("th",{className:"text-center p-2",children:"Estado"}),s.jsx("th",{className:"text-center p-2",children:"Tendencia"})]})}),s.jsx("tbody",{children:E.map((I,D)=>{const z=E[D-1],T=z?parseFloat(I.value)-parseFloat(z.value):0;return s.jsxs("tr",{className:"border-b text-sm hover:bg-white dark:hover:bg-gray-800",children:[s.jsx("td",{className:"p-2",children:I.period}),s.jsxs("td",{className:"p-2 text-right font-mono",children:[I.value," ",I.kpiUnit]}),s.jsx("td",{className:"p-2 text-right text-gray-600",children:I.kpiTarget}),s.jsx("td",{className:"p-2 text-right font-semibold",children:I.compliancePercentage?`${I.compliancePercentage}%`:"N/A"}),s.jsxs("td",{className:"p-2 text-center",children:[I.status==="complies"&&s.jsx(Wn,{className:"bg-green-500 text-xs",children:"Cumple"}),I.status==="alert"&&s.jsx(Wn,{className:"bg-yellow-500 text-xs",children:"Alerta"}),I.status==="not_compliant"&&s.jsx(Wn,{className:"bg-red-500 text-xs",children:"No Cumple"}),!I.status&&s.jsx("span",{className:"text-gray-400 text-xs",children:"N/A"})]}),s.jsx("td",{className:"p-2 text-center",children:T>0?s.jsx(Dj,{className:"h-4 w-4 text-green-600 inline"}):T<0?s.jsx(NW,{className:"h-4 w-4 text-red-600 inline"}):s.jsx(d6,{className:"h-4 w-4 text-gray-400 inline"})})]},I.valueId)})})]})})})})]},A.kpiId)})})]})]})}function Eqe(){var wn;const{toast:e}=ss(),t=Xd(),{user:n,isMarioOrAdmin:r}=Qu(),[i,a]=N.useState(2),[o,l]=N.useState(null),[c,u]=N.useState(!1),[f,h]=N.useState("all"),[p,m]=N.useState("overview"),[x,v]=N.useState(new Date),[y,b]=N.useState(null),[w,j]=N.useState(12),[P,A]=N.useState(!1);N.useState(!1);const[E,O]=N.useState(!1),[I,D]=N.useState(null),[z,T]=N.useState(!1);N.useState(!1);const[k,F]=N.useState(!1),[B,H]=N.useState(!1),[X,ae]=N.useState(null);N.useState(null);const[W,te]=N.useState(null),[ue,ye]=N.useState("all"),[V,ee]=N.useState("all"),{data:Q,isLoading:de}=Zt({queryKey:["/api/companies"],staleTime:5*60*1e3,enabled:!!n}),{data:le}=Zt({queryKey:["/api/areas"],staleTime:5*60*1e3,enabled:!!n}),{data:ve,isLoading:Z}=Zt({queryKey:["/api/kpis"],staleTime:2*60*1e3,refetchInterval:3e4,enabled:!!n}),{data:ne,isSuccess:ge}=Zt({queryKey:["/api/kpi-values"],staleTime:1*60*1e3,refetchInterval:15e3,enabled:!!n});N.useEffect(()=>{ge&&v(new Date)},[ge]);const{data:Ee=[],isLoading:be}=Zt({queryKey:["/api/users"],staleTime:10*60*1e3,enabled:!!n});N.useEffect(()=>{var Fe,tt;if(console.log("🚨 DEBUG useEffect ejecutándose, companies:",Q==null?void 0:Q.length),!Q||Q.length===0){console.log("🚨 No hay companies, saliendo...");return}console.log("🚨 Companies encontradas:",Q.map(ut=>`${ut.id}:${ut.name}`)),localStorage.removeItem("selectedCompanyId");const Ae=Q.find(ut=>ut.id===2);Ae?(console.log("✅ ENCONTRÉ Grupo Orsega:",Ae.name),a(2),localStorage.setItem("selectedCompanyId","2")):(console.log("🚨 No se encontró Grupo Orsega, usando:",(Fe=Q[0])==null?void 0:Fe.name),a(((tt=Q[0])==null?void 0:tt.id)||1))},[Q]);const Ue=Ae=>{const Fe=parseInt(Ae);a(Fe),localStorage.setItem("selectedCompanyId",Fe.toString())},Pe=N.useMemo(()=>!(n!=null&&n.areaId)||!le?null:le.find(Ae=>Ae.id===n.areaId),[n,le]),ce=N.useMemo(()=>!i||!Q?null:Q.find(Ae=>Ae.id===i),[i,Q]),it=N.useMemo(()=>!ve||!ne||!le?[]:(i?ve.filter(Fe=>Fe.companyId===i):ve).map(Fe=>{const tt=ne.filter(Nn=>Nn.kpiId===Fe.id);if(!tt||tt.length===0)return{...Fe,value:"Sin datos",status:"not_compliant",compliancePercentage:"0%",date:null,comments:"No hay valores registrados"};const ut=tt.sort((Nn,dn)=>new Date(dn.date).getTime()-new Date(Nn.date).getTime())[0];return{...Fe,value:ut.value||"Sin datos",status:ut.status,compliancePercentage:ut.compliancePercentage||"0%",date:ut.date,comments:ut.comments||void 0,period:ut.period}}),[ve,ne,le,i]),_t=N.useMemo(()=>f==="all"?it:it.filter(Ae=>Ae.status===f),[it,f]),gt=N.useMemo(()=>{const Ae={total:it.length,complies:0,alert:0,not_compliant:0};return it.forEach(Fe=>{Fe.status==="complies"?Ae.complies++:Fe.status==="alert"?Ae.alert++:Fe.status==="not_compliant"&&Ae.not_compliant++}),Ae},[it]),Ye=N.useMemo(()=>!le||!_t||le.length===0||_t.length===0?[]:le.map(Fe=>{const tt=_t.filter(Rn=>Rn.areaId===Fe.id),ut=tt.filter(Rn=>Rn.status==="complies").length,Nn=tt.length,dn=Nn>0?Math.round(ut/Nn*100):0;return{area_id:Fe.id,area_name:Fe.name,compliant_kpis:ut,total_kpis:Nn,compliance_percentage:dn}}).filter(Fe=>Fe.total_kpis>0).sort((Fe,tt)=>tt.compliance_percentage-Fe.compliance_percentage),[le,_t]),mt=N.useMemo(()=>it?[...it].sort((Ae,Fe)=>{const tt=Ae.date?new Date(Ae.date).getTime():0;return(Fe.date?new Date(Fe.date).getTime():0)-tt}):[],[it]),ct=N.useMemo(()=>P?mt:mt.slice(0,6),[mt,P]),fe=N.useMemo(()=>{if(!it)return[];const Ae=it.filter(ut=>parseFloat(ut.compliancePercentage||"0")>=90).length,Fe=it.filter(ut=>{const Nn=parseFloat(ut.compliancePercentage||"0");return Nn>=70&&Nn<90}).length,tt=it.filter(ut=>parseFloat(ut.compliancePercentage||"0")<70).length;return[{name:"Excelente (90%+)",value:Ae,color:"#10b981"},{name:"Bueno (70-89%)",value:Fe,color:"#f59e0b"},{name:"Mejorar (<70%)",value:tt,color:"#ef4444"}].filter(ut=>ut.value>0)},[it]),Ne=Ae=>{switch(Ae){case"complies":return"bg-green-100 text-green-800 border-green-200";case"alert":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"not_compliant":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},Ie=Ae=>{switch(Ae){case"complies":return"Cumple";case"alert":return"Alerta";case"not_compliant":return"No Cumple";default:return"Sin Estado"}},He=Ae=>{switch(Ae){case"complies":return s.jsx(Vu,{className:"h-4 w-4"});case"alert":return s.jsx(Lc,{className:"h-4 w-4"});case"not_compliant":return s.jsx(nm,{className:"h-4 w-4"});default:return null}},Be=Ae=>{l(Ae),u(!0)},ze=cr({mutationFn:({id:Ae,...Fe})=>Cr("PUT",`/api/kpis/${Ae}`,Fe),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/kpis"]}),O(!1),D(null),e({title:"KPI actualizado exitosamente"})},onError:Ae=>{e({title:"Error al actualizar KPI",description:Ae.message,variant:"destructive"})}}),Ge=cr({mutationFn:Ae=>Cr("POST","/api/users",Ae),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/users"]}),T(!1),ae(null),e({title:"Usuario creado exitosamente"})},onError:Ae=>{e({title:"Error al crear usuario",description:Ae.message,variant:"destructive"})}}),st=cr({mutationFn:({id:Ae,...Fe})=>Cr("PUT",`/api/users/${Ae}`,Fe),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/users"]}),T(!1),ae(null),e({title:"Usuario actualizado exitosamente"})},onError:Ae=>{e({title:"Error al actualizar usuario",description:Ae.message,variant:"destructive"})}}),St=cr({mutationFn:Ae=>Cr("DELETE",`/api/users/${Ae}`),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/users"]}),e({title:"Usuario eliminado exitosamente"})},onError:Ae=>{e({title:"Error al eliminar usuario",description:Ae.message,variant:"destructive"})}}),vt=cr({mutationFn:Ae=>Cr("POST","/api/notifications",Ae),onSuccess:()=>{H(!1),te(null),e({title:"Mensaje enviado por email exitosamente"})},onError:Ae=>{e({title:"Error al enviar mensaje",description:Ae.message,variant:"destructive"})}}),Gn=()=>{ae(null),T(!0)},Cn=Ae=>{ae(Ae),T(!0)},Ot=Ae=>{St.mutate(Ae)},en=Ae=>{te(Ae),F(!0)},Tn=Ae=>{te(Ae),H(!0)},Ut=Ae=>{D(Ae),O(!0)},$t=Ae=>!Ee.find(ut=>ut.id===Ae)||!ve?[]:ve||[],cn=N.useMemo(()=>Ee?Ee.filter(Ae=>{const Fe=ue==="all"||Ae.companyId===parseInt(ue),tt=V==="all"||Ae.areaId===parseInt(V);return Fe&&tt}):[],[Ee,ue,V]);return de||Z?s.jsx(qc,{title:"Centro de Control",children:s.jsxs("div",{className:"flex items-center justify-center h-64",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),s.jsx("span",{className:"ml-2 text-gray-600",children:"Cargando centro de control..."})]})}):s.jsx(qc,{title:"Centro de Control KPIs",children:s.jsxs("div",{className:"space-y-8",children:[s.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-800 text-white rounded-xl p-6 shadow-lg",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-3",children:[s.jsx(Us,{className:"h-8 w-8"}),"Centro de Control KPIs"]}),s.jsxs("div",{className:"flex items-center gap-4 mt-3 text-sm",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Jo,{className:"h-4 w-4"}),n==null?void 0:n.name]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(yh,{className:"h-4 w-4"}),(Pe==null?void 0:Pe.name)||"Sin área"]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Ru,{className:"h-4 w-4"}),new Date().toLocaleDateString("es-MX")]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"text-3xl font-bold",children:gt.total}),s.jsx("div",{className:"text-blue-100",children:"KPIs Monitoreados"}),s.jsxs("div",{className:"text-sm text-blue-200 mt-1",children:["Actualizado: ",x.toLocaleTimeString("es-MX",{hour:"2-digit",minute:"2-digit"})]})]})]})}),s.jsxs("div",{className:"flex items-center gap-4 bg-white rounded-lg p-1 shadow-sm border",children:[s.jsxs(Je,{variant:p==="overview"?"default":"ghost",onClick:()=>m("overview"),className:"flex items-center gap-2",children:[s.jsx(Us,{className:"h-4 w-4"}),"Vista General"]}),s.jsxs(Je,{variant:p==="historico"?"default":"ghost",onClick:()=>m("historico"),className:"flex items-center gap-2",children:[s.jsx(Ma,{className:"h-4 w-4"}),"Histórico"]}),r&&s.jsxs(Je,{variant:p==="team"?"default":"ghost",onClick:()=>m("team"),className:"flex items-center gap-2",children:[s.jsx(ql,{className:"h-4 w-4"}),"Gestión del Equipo"]})]}),s.jsx(ot,{className:"mb-6",children:s.jsx(lt,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(jg,{className:"h-5 w-5 text-blue-600 flex-shrink-0"}),s.jsxs(on,{value:(i==null?void 0:i.toString())||"",onValueChange:Ue,children:[s.jsx(an,{className:"w-full max-w-xs",children:s.jsx(ln,{placeholder:"Selecciona una empresa"})}),s.jsx(sn,{children:Q==null?void 0:Q.map(Ae=>s.jsx(xe,{value:Ae.id.toString(),children:Ae.name},Ae.id))})]}),ce&&s.jsxs("span",{className:"text-sm text-gray-600",children:["Monitoreando: ",s.jsx("span",{className:"font-semibold text-blue-600",children:ce.name})]})]})})}),p==="overview"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsx(ot,{className:"bg-gradient-to-br from-green-50 to-green-100 border-green-200",children:s.jsx(lt,{className:"p-6",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Vu,{className:"h-8 w-8 text-green-600"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-green-800",children:gt.complies}),s.jsx("div",{className:"text-sm text-green-600",children:"Cumpliendo"})]})]})})}),s.jsx(ot,{className:"bg-gradient-to-br from-yellow-50 to-yellow-100 border-yellow-200",children:s.jsx(lt,{className:"p-6",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Lc,{className:"h-8 w-8 text-yellow-600"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-yellow-800",children:gt.alert}),s.jsx("div",{className:"text-sm text-yellow-600",children:"En Alerta"})]})]})})}),s.jsx(ot,{className:"bg-gradient-to-br from-red-50 to-red-100 border-red-200",children:s.jsx(lt,{className:"p-6",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(nm,{className:"h-8 w-8 text-red-600"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-red-800",children:gt.not_compliant}),s.jsx("div",{className:"text-sm text-red-600",children:"No Cumple"})]})]})})}),s.jsx(ot,{className:"bg-gradient-to-br from-blue-50 to-blue-100 border-blue-200",children:s.jsx(lt,{className:"p-6",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Ud,{className:"h-8 w-8 text-blue-600"}),s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-blue-800",children:gt.total}),s.jsx("div",{className:"text-sm text-blue-600",children:"Total KPIs"})]})]})})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs(ot,{className:"lg:col-span-1",children:[s.jsx(Ht,{children:s.jsxs(Qt,{className:"flex items-center gap-2",children:[s.jsx(Us,{className:"h-5 w-5 text-purple-600"}),"📈 Análisis de Rendimiento"]})}),s.jsxs(lt,{children:[s.jsx("div",{className:"h-64 flex items-center justify-center",children:fe.length>0?s.jsx(el,{width:"100%",height:"100%",children:s.jsxs(bRe,{children:[s.jsx(ef,{data:fe,cx:"50%",cy:"50%",outerRadius:85,innerRadius:40,dataKey:"value",paddingAngle:2,label:({name:Ae,percent:Fe,value:tt})=>tt>0?`${Ae}: ${(Fe*100).toFixed(0)}%`:"",labelLine:!1,children:fe.map((Ae,Fe)=>s.jsx(wb,{fill:Ae.color},`cell-${Fe}`))}),s.jsx($i,{formatter:(Ae,Fe)=>[`${Ae} KPIs`,Fe],contentStyle:{backgroundColor:"white",border:"1px solid #ccc",borderRadius:"8px",fontSize:"14px"}})]})}):s.jsxs("div",{className:"text-center text-gray-500",children:[s.jsx(Us,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),s.jsx("p",{children:"Sin datos para mostrar"})]})}),fe.length>0&&s.jsx("div",{className:"mt-4 space-y-2",children:fe.map((Ae,Fe)=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:Ae.color}}),s.jsx("span",{className:"text-sm font-medium",children:Ae.name})]}),s.jsxs("span",{className:"text-sm text-gray-600 font-semibold",children:[Ae.value," KPIs"]})]},Fe))})]})]}),s.jsxs(ot,{className:"lg:col-span-2",children:[s.jsx(Ht,{children:s.jsxs(Qt,{className:"flex items-center gap-2",children:[s.jsx(qp,{className:"h-5 w-5 text-yellow-600"}),"🏆 Top 3 Áreas con Mejor Rendimiento"]})}),s.jsx(lt,{children:Ye.length>0?s.jsx("div",{className:"space-y-3",children:Ye.slice(0,3).map((Ae,Fe)=>{const tt=Fe===0,ut=Fe===0?"🥇":Fe===1?"🥈":"🥉";return s.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg border transition-all duration-300 ${tt?"bg-gradient-to-r from-yellow-100 to-amber-100 dark:from-yellow-900/30 dark:to-amber-900/30 border-yellow-300 dark:border-yellow-700 ring-1 ring-yellow-400 ring-opacity-50":"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 hover:shadow-md"}`,children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"text-xl",children:ut}),s.jsxs("div",{children:[s.jsx("h3",{className:`font-semibold ${tt?"text-yellow-800 dark:text-yellow-200":"text-gray-900 dark:text-gray-100"}`,children:Ae.area_name}),s.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[Ae.compliant_kpis,"/",Ae.total_kpis," KPIs"]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:`text-xl font-bold ${Ae.compliance_percentage>=90?"text-green-600":Ae.compliance_percentage>=70?"text-yellow-600":"text-red-600"}`,children:[Ae.compliance_percentage,"%"]}),s.jsx("div",{className:"w-16 bg-gray-200 dark:bg-gray-700 rounded-full h-1.5 mt-1",children:s.jsx("div",{className:`h-1.5 rounded-full transition-all duration-500 ${Ae.compliance_percentage>=90?"bg-green-500":Ae.compliance_percentage>=70?"bg-yellow-500":"bg-red-500"}`,style:{width:`${Ae.compliance_percentage}%`}})})]})]},Ae.area_id)})}):s.jsxs("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:[s.jsx(qp,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),s.jsx("p",{children:"No hay datos de rendimiento disponibles"})]})})]})]}),s.jsxs(ot,{children:[s.jsx(Ht,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(Qt,{className:"flex items-center gap-2",children:[s.jsx(qp,{className:"h-5 w-5"}),"📊 KPIs Actualizados Recientemente",s.jsxs(Wn,{variant:"outline",className:"ml-2",children:[ct.length," de ",mt.length]})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[mt.length>6&&s.jsxs(Je,{variant:"outline",size:"sm",onClick:()=>A(!P),className:"flex items-center gap-2 hover:bg-blue-50 dark:hover:bg-blue-900/20",children:[P?"Ver menos":"Ver más",s.jsx(Pk,{className:"h-4 w-4"})]}),s.jsxs(on,{value:f,onValueChange:h,children:[s.jsx(an,{className:"w-48",children:s.jsx(ln,{})}),s.jsxs(sn,{children:[s.jsx(xe,{value:"all",children:"Todos los Estados"}),s.jsx(xe,{value:"complies",children:"Solo Cumpliendo"}),s.jsx(xe,{value:"alert",children:"Solo en Alerta"}),s.jsx(xe,{value:"not_compliant",children:"Solo No Cumpliendo"})]})]})]})]})}),s.jsxs(lt,{children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:ct.map(Ae=>s.jsx(ot,{className:"border hover:shadow-md transition-shadow",children:s.jsx(lt,{className:"p-4",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsx("h3",{className:"font-semibold text-sm leading-tight",children:Ae.name}),s.jsxs(Wn,{className:`text-xs ${Ne(Ae.status)}`,children:[He(Ae.status),s.jsx("span",{className:"ml-1",children:Ie(Ae.status)})]})]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Valor Actual:"}),s.jsx("span",{className:"font-semibold",children:Ae.value!==null?`${Ae.value} ${Ae.unit}`:"Sin datos"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Meta:"}),s.jsxs("span",{children:[Ae.target," ",Ae.unit]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Cumplimiento:"}),s.jsx("span",{className:"font-semibold",children:Ae.compliancePercentage>0?`${Ae.compliancePercentage}%`:"Sin datos"})]})]}),s.jsxs(Je,{size:"sm",variant:"outline",onClick:()=>Be(Ae.id),className:"w-full",children:[s.jsx(Gce,{className:"h-3 w-3 mr-1"}),"Actualizar"]})]})})},Ae.id))}),!P&&mt.length>6&&s.jsxs("div",{className:"text-center py-4 border-t border-gray-200 dark:border-gray-700 mt-4",children:[s.jsxs("p",{className:"text-sm text-gray-500 mb-2",children:["Se muestran los ",ct.length," KPIs más recientes de ",mt.length," total"]}),s.jsxs(Je,{variant:"ghost",size:"sm",onClick:()=>A(!0),className:"text-blue-600 hover:text-blue-700 hover:bg-blue-50 dark:hover:bg-blue-900/20",children:["Ver todos los ",mt.length," KPIs →"]})]})]})]}),s.jsxs(ot,{children:[s.jsxs(Ht,{children:[s.jsxs(Qt,{className:"flex items-center gap-2",children:[s.jsx(jg,{className:"h-5 w-5 text-blue-600"}),"Comparación entre Empresas"]}),s.jsx(fr,{children:"Rendimiento comparativo en tiempo real"})]}),s.jsx(lt,{children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"h-64",children:[s.jsx("h3",{className:"font-semibold mb-4 text-center",children:"📊 KPIs por Empresa"}),Q&&Q.length>0?s.jsx(el,{width:"100%",height:"100%",children:s.jsxs(pQ,{data:Q.map(Ae=>{const Fe=it.filter(dn=>dn.companyId===Ae.id),tt=Fe.filter(dn=>dn.status==="complies").length,ut=Fe.filter(dn=>dn.status==="alert").length,Nn=Fe.filter(dn=>dn.status==="not_compliant").length;return{name:Ae.name.includes("Dura")?"Dura Intl.":"Grupo Orsega",Cumpliendo:tt,"En Alerta":ut,"No Cumple":Nn,total:Fe.length}}),children:[s.jsx(tl,{strokeDasharray:"3 3"}),s.jsx(Ra,{dataKey:"name"}),s.jsx($a,{}),s.jsx($i,{formatter:(Ae,Fe)=>[`${Ae} KPIs`,Fe],labelFormatter:Ae=>`Empresa: ${Ae}`}),s.jsx(Da,{}),s.jsx(Hl,{dataKey:"Cumpliendo",fill:"#10b981",radius:[2,2,0,0]}),s.jsx(Hl,{dataKey:"En Alerta",fill:"#f59e0b",radius:[2,2,0,0]}),s.jsx(Hl,{dataKey:"No Cumple",fill:"#ef4444",radius:[2,2,0,0]})]})}):s.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:s.jsxs("div",{className:"text-center",children:[s.jsx(jg,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),s.jsx("p",{children:"Cargando datos de empresas..."})]})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-semibold text-center",children:"🏆 Métricas Comparativas"}),Q&&Q.map(Ae=>{const Fe=it.filter(Et=>Et.companyId===Ae.id),tt=Fe.filter(Et=>Et.status==="complies").length,ut=Fe.length,Nn=ut>0?Math.round(tt/ut*100):0,dn=Ae.name.includes("Dura"),Rn=dn?"Dura International":"Grupo Orsega",Xn=dn?"from-blue-500 to-blue-600":"from-green-500 to-green-600";return s.jsxs("div",{className:`bg-gradient-to-r ${Xn} text-white rounded-lg p-4 shadow-md`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h4",{className:"font-semibold text-lg",children:Rn}),s.jsxs(Wn,{variant:"secondary",className:`${Nn>=80?"bg-green-100 text-green-800":Nn>=60?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[Nn,"% Cumplimiento"]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold",children:ut}),s.jsx("div",{className:"text-blue-100",children:"Total KPIs"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-green-200",children:tt}),s.jsx("div",{className:"text-blue-100",children:"Cumpliendo"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-yellow-200",children:Fe.filter(Et=>Et.status==="alert").length}),s.jsx("div",{className:"text-blue-100",children:"En Alerta"})]})]}),s.jsxs("div",{className:"mt-3",children:[s.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[s.jsx("span",{children:"Progreso General"}),s.jsxs("span",{children:[Nn,"%"]})]}),s.jsx("div",{className:"w-full bg-white bg-opacity-30 rounded-full h-2",children:s.jsx("div",{className:"bg-white h-2 rounded-full transition-all duration-500",style:{width:`${Nn}%`}})})]})]},Ae.id)}),Q&&Q.length>1&&s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4 mt-4",children:[s.jsx("h4",{className:"font-semibold mb-2 text-center",children:"📈 Análisis Comparativo"}),s.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300 space-y-1",children:(()=>{const Ae=it.filter(Rn=>{var Xn;return(Xn=Q.find(Et=>Et.id===Rn.companyId))==null?void 0:Xn.name.includes("Dura")}),Fe=it.filter(Rn=>{var Xn;return(Xn=Q.find(Et=>Et.id===Rn.companyId))==null?void 0:Xn.name.includes("Orsega")}),tt=Ae.length>0?Math.round(Ae.filter(Rn=>Rn.status==="complies").length/Ae.length*100):0,ut=Fe.length>0?Math.round(Fe.filter(Rn=>Rn.status==="complies").length/Fe.length*100):0,Nn=tt>ut?"Dura International":ut>tt?"Grupo Orsega":"Empate",dn=Math.abs(tt-ut);return s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"text-center",children:s.jsx("span",{className:"font-semibold text-blue-600",children:Nn==="Empate"?"🤝 Ambas empresas tienen el mismo rendimiento":`🏆 ${Nn} lidera con ${dn}% de ventaja`})}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-2 text-xs",children:[s.jsxs("div",{className:"text-center p-2 bg-blue-100 dark:bg-blue-900/30 rounded",children:[s.jsx("div",{className:"font-semibold",children:"Dura Intl."}),s.jsxs("div",{children:[tt,"% cumplimiento"]})]}),s.jsxs("div",{className:"text-center p-2 bg-green-100 dark:bg-green-900/30 rounded",children:[s.jsx("div",{className:"font-semibold",children:"Grupo Orsega"}),s.jsxs("div",{children:[ut,"% cumplimiento"]})]})]})]})})()})]})]})]})})]})]}),p==="historico"&&s.jsx("div",{className:"space-y-6",children:s.jsxs(ot,{children:[s.jsxs(Ht,{children:[s.jsxs(Qt,{className:"flex items-center gap-2",children:[s.jsx(Jo,{className:"h-5 w-5 text-blue-600"}),"Evolución Individual por Usuario"]}),s.jsx(fr,{children:"Analiza el desempeño histórico de cada colaborador en sus KPIs asignados"})]}),s.jsx(lt,{children:y?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4 pb-4 border-b",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Je,{variant:"outline",size:"sm",onClick:()=>b(null),className:"gap-2",children:"← Volver"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold",children:(wn=Ee.find(Ae=>Ae.id===y))==null?void 0:wn.name}),s.jsx("p",{className:"text-sm text-gray-500",children:"Historial de desempeño"})]})]}),s.jsxs(on,{value:w.toString(),onValueChange:Ae=>j(parseInt(Ae)),children:[s.jsx(an,{className:"w-32",children:s.jsx(ln,{})}),s.jsxs(sn,{children:[s.jsx(xe,{value:"3",children:"3 meses"}),s.jsx(xe,{value:"6",children:"6 meses"}),s.jsx(xe,{value:"12",children:"12 meses"})]})]})]}),s.jsx(Cqe,{userId:y,months:w,users:Ee})]}):s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Selecciona un colaborador"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(xt,{htmlFor:"months-selector-top",className:"text-sm",children:"Período:"}),s.jsxs(on,{value:w.toString(),onValueChange:Ae=>j(parseInt(Ae)),children:[s.jsx(an,{id:"months-selector-top",className:"w-32",children:s.jsx(ln,{})}),s.jsxs(sn,{children:[s.jsx(xe,{value:"3",children:"3 meses"}),s.jsx(xe,{value:"6",children:"6 meses"}),s.jsx(xe,{value:"12",children:"12 meses"})]})]})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Ee.filter(Ae=>Ae.id!==1).map(Ae=>s.jsx(ot,{className:"cursor-pointer hover:shadow-lg transition-all duration-200 hover:scale-105 border-2 hover:border-blue-400",onClick:()=>b(Ae.id),children:s.jsx(lt,{className:"p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"h-14 w-14 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white text-xl font-bold",children:Ae.name.split(" ").map(Fe=>Fe[0]).join("").slice(0,2).toUpperCase()}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-semibold text-lg",children:Ae.name}),s.jsx("p",{className:"text-sm text-gray-500",children:Ae.role==="admin"?"Administrador":Ae.role==="manager"?"Gerente":"Colaborador"})]}),s.jsx(Jo,{className:"h-5 w-5 text-blue-500"})]})})},Ae.id))})]})})})]})}),p==="team"&&r&&s.jsxs(ot,{children:[s.jsxs(Ht,{className:"flex flex-row items-center justify-between pb-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ql,{className:"h-5 w-5 text-blue-600"}),s.jsx(Qt,{className:"text-lg",children:"Gestión del Equipo"})]}),s.jsxs(Je,{onClick:Gn,className:"flex items-center gap-2","data-testid":"button-create-user",children:[s.jsx(Tk,{className:"h-4 w-4"}),"Agregar Usuario"]})]}),s.jsxs(lt,{className:"space-y-4",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx(xt,{htmlFor:"company-filter",children:"Filtrar por Empresa"}),s.jsxs(on,{value:ue,onValueChange:ye,children:[s.jsx(an,{id:"company-filter","data-testid":"select-company-filter",children:s.jsx(ln,{placeholder:"Todas las empresas"})}),s.jsxs(sn,{children:[s.jsx(xe,{value:"all",children:"Todas las empresas"}),Q==null?void 0:Q.map(Ae=>s.jsx(xe,{value:Ae.id.toString(),children:Ae.name},Ae.id))]})]})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx(xt,{htmlFor:"area-filter",children:"Filtrar por Área"}),s.jsxs(on,{value:V,onValueChange:ee,children:[s.jsx(an,{id:"area-filter","data-testid":"select-area-filter",children:s.jsx(ln,{placeholder:"Todas las áreas"})}),s.jsxs(sn,{children:[s.jsx(xe,{value:"all",children:"Todas las áreas"}),le==null?void 0:le.map(Ae=>s.jsx(xe,{value:Ae.id.toString(),children:Ae.name},Ae.id))]})]})]})]}),be?s.jsxs("div",{className:"flex items-center justify-center h-32",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),s.jsx("span",{className:"ml-2 text-gray-600",children:"Cargando usuarios..."})]}):s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:cn.map(Ae=>{const Fe=$t(Ae.id),tt=Q==null?void 0:Q.find(Nn=>Nn.id===Ae.companyId),ut=le==null?void 0:le.find(Nn=>Nn.id===Ae.areaId);return s.jsxs(ot,{className:"border border-gray-200 hover:border-blue-300 transition-colors",children:[s.jsx(Ht,{className:"pb-2",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(Qt,{className:"text-base flex items-center gap-2",children:[s.jsx(Jo,{className:"h-4 w-4 text-blue-600"}),Ae.name]}),s.jsx(Wn,{variant:Ae.role==="admin"?"default":Ae.role==="manager"?"secondary":"outline",children:Ae.role})]})}),s.jsxs(lt,{className:"space-y-3",children:[s.jsxs("div",{className:"text-sm text-gray-600",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(jg,{className:"h-3 w-3"}),(tt==null?void 0:tt.name)||"Sin empresa"]}),s.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[s.jsx(yh,{className:"h-3 w-3"}),(ut==null?void 0:ut.name)||"Sin área"]}),s.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[s.jsx(Ud,{className:"h-3 w-3"}),Fe.length," KPIs asignados"]})]}),s.jsxs("div",{className:"flex flex-wrap gap-1",children:[s.jsxs(Je,{size:"sm",variant:"outline",onClick:()=>en(Ae),"data-testid":"button-view-user-kpis",children:[s.jsx(Us,{className:"h-3 w-3 mr-1"}),"KPIs"]}),s.jsxs(Je,{size:"sm",variant:"outline",onClick:()=>Tn(Ae),"data-testid":"button-send-message",children:[s.jsx(Bc,{className:"h-3 w-3 mr-1"}),"Mensaje"]}),s.jsxs(Je,{size:"sm",variant:"outline",onClick:()=>Cn(Ae),"data-testid":"button-edit-user",children:[s.jsx(KC,{className:"h-3 w-3 mr-1"}),"Editar"]}),s.jsxs(z2,{children:[s.jsx(U2,{asChild:!0,children:s.jsx(Je,{size:"sm",variant:"destructive","data-testid":"button-delete-user",children:s.jsx(GC,{className:"h-4 w-4"})})}),s.jsxs(gx,{children:[s.jsxs(vx,{children:[s.jsx(xx,{children:"¿Estás seguro?"}),s.jsxs(bx,{children:['Esta acción eliminará permanentemente el usuario "',Ae.name,'".']})]}),s.jsxs(yx,{children:[s.jsx(_x,{children:"Cancelar"}),s.jsx(wx,{onClick:()=>Ot(Ae.id),className:"bg-red-600 hover:bg-red-700",children:"Eliminar"})]})]})]})]})]})]},Ae.id)})})]})]}),o&&s.jsx(Pqe,{kpiId:o,isOpen:c,onClose:()=>{u(!1),l(null)}}),s.jsx(vi,{open:z,onOpenChange:T,children:s.jsxs(ui,{className:"max-w-md",children:[s.jsx(di,{children:s.jsx(fi,{children:X?"Editar Usuario":"Crear Nuevo Usuario"})}),s.jsx(Oqe,{user:X,companies:Q,areas:le,onSubmit:Ae=>{X?st.mutate({id:X.id,...Ae}):Ge.mutate(Ae)},onCancel:()=>T(!1),isLoading:Ge.isPending||st.isPending})]})}),s.jsx(vi,{open:k,onOpenChange:F,children:s.jsxs(ui,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[s.jsx(di,{children:s.jsxs(fi,{className:"flex items-center gap-2",children:[s.jsx(Us,{className:"h-5 w-5"}),"KPIs de ",W==null?void 0:W.name]})}),s.jsx("div",{className:"space-y-4",children:W&&$t(W.id).length>0?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:$t(W.id).map(Ae=>{var Fe,tt;return s.jsx(ot,{className:"border",children:s.jsx(lt,{className:"p-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx("h3",{className:"font-medium text-gray-900",children:Ae.name}),s.jsx("p",{className:"text-sm text-gray-600",children:Ae.description}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-gray-600",children:"Empresa:"}),s.jsx("div",{children:(Fe=Q==null?void 0:Q.find(ut=>ut.id===Ae.companyId))==null?void 0:Fe.name})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-gray-600",children:"Área:"}),s.jsx("div",{children:(tt=le==null?void 0:le.find(ut=>ut.id===Ae.areaId))==null?void 0:tt.name})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-gray-600",children:"Unidad:"}),s.jsx("div",{children:Ae.unit})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-gray-600",children:"Meta:"}),s.jsx("div",{children:Ae.target||"Sin meta"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-gray-600",children:"Frecuencia:"}),s.jsx("div",{children:Ae.frequency})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-gray-600",children:"Responsable:"}),s.jsx("div",{children:Ae.responsible})]})]}),r&&s.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200",children:s.jsxs(Je,{size:"sm",variant:"outline",onClick:()=>Ut(Ae),className:"w-full","data-testid":"button-edit-kpi",children:[s.jsx(__,{className:"h-3 w-3 mr-1"}),"Editar Meta"]})})]})})},Ae.id)})}):s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(Us,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),s.jsx("p",{children:"No hay KPIs asignados a este usuario"}),s.jsx("p",{className:"text-sm",children:"Los KPIs se asignan según la empresa y área del usuario"})]})})]})}),s.jsx(vi,{open:B,onOpenChange:H,children:s.jsxs(ui,{className:"max-w-md",children:[s.jsx(di,{children:s.jsxs(fi,{className:"flex items-center gap-2",children:[s.jsx(Bc,{className:"h-5 w-5"}),"Enviar Mensaje por Email"]})}),s.jsx(kqe,{user:W,onSubmit:Ae=>{vt.mutate({toUserId:W.id,...Ae})},onCancel:()=>{H(!1),te(null)},isLoading:vt.isPending})]})}),s.jsx(vi,{open:E,onOpenChange:O,children:s.jsxs(ui,{className:"max-w-2xl",children:[s.jsx(di,{children:s.jsxs(fi,{className:"flex items-center gap-2",children:[s.jsx(__,{className:"h-5 w-5"}),"Editar KPI: ",I==null?void 0:I.name]})}),I&&s.jsxs("form",{onSubmit:Ae=>{Ae.preventDefault();const Fe=new FormData(Ae.currentTarget),tt={id:I.id,name:Fe.get("name"),description:Fe.get("description"),target:Fe.get("target"),unit:Fe.get("unit"),frequency:Fe.get("frequency"),responsible:Fe.get("responsible")};ze.mutate(tt)},className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(xt,{htmlFor:"name",children:"Nombre del KPI"}),s.jsx(Mt,{id:"name",name:"name",defaultValue:I.name,required:!0})]}),s.jsxs("div",{children:[s.jsx(xt,{htmlFor:"unit",children:"Unidad de Medida"}),s.jsx(Mt,{id:"unit",name:"unit",defaultValue:I.unit,placeholder:"%, días, unidades, kg, etc.",required:!0})]})]}),s.jsxs("div",{children:[s.jsx(xt,{htmlFor:"description",children:"Descripción"}),s.jsx(Hu,{id:"description",name:"description",defaultValue:I.description||"",rows:3,placeholder:"Describe el objetivo y metodología del KPI"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(xt,{htmlFor:"target",children:"🎯 Meta/Objetivo"}),s.jsx(Mt,{id:"target",name:"target",defaultValue:I.target,placeholder:"100%, 50, 2.5, etc.",required:!0})]}),s.jsxs("div",{children:[s.jsx(xt,{htmlFor:"frequency",children:"Frecuencia"}),s.jsxs(on,{name:"frequency",defaultValue:I.frequency,children:[s.jsx(an,{children:s.jsx(ln,{})}),s.jsxs(sn,{children:[s.jsx(xe,{value:"daily",children:"Diaria"}),s.jsx(xe,{value:"weekly",children:"Semanal"}),s.jsx(xe,{value:"monthly",children:"Mensual"}),s.jsx(xe,{value:"quarterly",children:"Trimestral"}),s.jsx(xe,{value:"yearly",children:"Anual"})]})]})]})]}),s.jsxs("div",{children:[s.jsx(xt,{htmlFor:"responsible",children:"Responsable"}),s.jsx(Mt,{id:"responsible",name:"responsible",defaultValue:I.responsible||"",placeholder:"Nombre del responsable o cargo"})]}),s.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[s.jsx(Je,{type:"button",variant:"outline",onClick:()=>O(!1),children:"Cancelar"}),s.jsx(Je,{type:"submit",disabled:ze.isPending,className:"bg-blue-600 hover:bg-blue-700",children:ze.isPending?"Guardando...":"Guardar Cambios"})]})]})]})})]})})}function Oqe({user:e,companies:t,areas:n,onSubmit:r,onCancel:i,isLoading:a}){const[o,l]=N.useState({name:(e==null?void 0:e.name)||"",email:(e==null?void 0:e.email)||"",password:"",role:(e==null?void 0:e.role)||"collaborator",companyId:(e==null?void 0:e.companyId)||"",areaId:(e==null?void 0:e.areaId)||""}),c=u=>{u.preventDefault();const f={...o,companyId:o.companyId?parseInt(o.companyId.toString()):null,areaId:o.areaId?parseInt(o.areaId.toString()):null};e&&!f.password&&delete f.password,r(f)};return s.jsxs("form",{onSubmit:c,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(xt,{htmlFor:"name",children:"Nombre"}),s.jsx(Mt,{id:"name",value:o.name,onChange:u=>l(f=>({...f,name:u.target.value})),required:!0,"data-testid":"input-user-name"})]}),s.jsxs("div",{children:[s.jsx(xt,{htmlFor:"email",children:"Email"}),s.jsx(Mt,{id:"email",type:"email",value:o.email,onChange:u=>l(f=>({...f,email:u.target.value})),required:!0,"data-testid":"input-user-email"})]}),s.jsxs("div",{children:[s.jsxs(xt,{htmlFor:"password",children:["Contraseña ",e?"(dejar vacío para mantener actual)":""]}),s.jsx(Mt,{id:"password",type:"password",value:o.password,onChange:u=>l(f=>({...f,password:u.target.value})),required:!e,"data-testid":"input-user-password"})]}),s.jsxs("div",{children:[s.jsx(xt,{htmlFor:"role",children:"Rol"}),s.jsxs(on,{value:o.role,onValueChange:u=>l(f=>({...f,role:u})),children:[s.jsx(an,{"data-testid":"select-user-role",children:s.jsx(ln,{})}),s.jsxs(sn,{children:[s.jsx(xe,{value:"admin",children:"Administrador"}),s.jsx(xe,{value:"manager",children:"Gerente"}),s.jsx(xe,{value:"collaborator",children:"Colaborador"}),s.jsx(xe,{value:"viewer",children:"Visualizador"})]})]})]}),s.jsxs("div",{children:[s.jsx(xt,{htmlFor:"company",children:"Empresa"}),s.jsxs(on,{value:o.companyId.toString(),onValueChange:u=>l(f=>({...f,companyId:parseInt(u)})),children:[s.jsx(an,{"data-testid":"select-user-company",children:s.jsx(ln,{placeholder:"Seleccionar empresa"})}),s.jsx(sn,{children:t==null?void 0:t.map(u=>s.jsx(xe,{value:u.id.toString(),children:u.name},u.id))})]})]}),s.jsxs("div",{children:[s.jsx(xt,{htmlFor:"area",children:"Área"}),s.jsxs(on,{value:o.areaId.toString(),onValueChange:u=>l(f=>({...f,areaId:parseInt(u)})),children:[s.jsx(an,{"data-testid":"select-user-area",children:s.jsx(ln,{placeholder:"Seleccionar área"})}),s.jsx(sn,{children:n==null?void 0:n.map(u=>s.jsx(xe,{value:u.id.toString(),children:u.name},u.id))})]})]}),s.jsxs("div",{className:"flex gap-2 pt-4",children:[s.jsx(Je,{type:"submit",disabled:a,"data-testid":"button-submit-user",children:a?"Guardando...":e?"Actualizar":"Crear"}),s.jsx(Je,{type:"button",variant:"outline",onClick:i,"data-testid":"button-cancel-user",children:"Cancelar"})]})]})}function kqe({user:e,onSubmit:t,onCancel:n,isLoading:r}){const[i,a]=N.useState({title:"",message:"",type:"info",priority:"normal"}),o=l=>{l.preventDefault(),t({...i,fromUserId:e.id})};return s.jsxs("form",{onSubmit:o,className:"space-y-4",children:[s.jsxs("div",{className:"mb-4 p-3 bg-gray-50 rounded-lg",children:[s.jsxs("p",{className:"text-sm text-gray-600",children:[s.jsx("strong",{children:"Destinatario:"})," ",e==null?void 0:e.name," (",e==null?void 0:e.email,")"]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"El mensaje se enviará por correo electrónico usando SendGrid"})]}),s.jsxs("div",{children:[s.jsx(xt,{htmlFor:"title",children:"Asunto"}),s.jsx(Mt,{id:"title",value:i.title,onChange:l=>a(c=>({...c,title:l.target.value})),placeholder:"Escribe el asunto del mensaje",required:!0,"data-testid":"input-message-title"})]}),s.jsxs("div",{children:[s.jsx(xt,{htmlFor:"message",children:"Mensaje"}),s.jsx(Hu,{id:"message",value:i.message,onChange:l=>a(c=>({...c,message:l.target.value})),placeholder:"Escribe tu mensaje aquí...",rows:5,required:!0,"data-testid":"textarea-message-content"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(xt,{htmlFor:"type",children:"Tipo"}),s.jsxs(on,{value:i.type,onValueChange:l=>a(c=>({...c,type:l})),children:[s.jsx(an,{"data-testid":"select-message-type",children:s.jsx(ln,{})}),s.jsxs(sn,{children:[s.jsx(xe,{value:"info",children:"Información"}),s.jsx(xe,{value:"success",children:"Éxito"}),s.jsx(xe,{value:"warning",children:"Advertencia"}),s.jsx(xe,{value:"error",children:"Error"})]})]})]}),s.jsxs("div",{children:[s.jsx(xt,{htmlFor:"priority",children:"Prioridad"}),s.jsxs(on,{value:i.priority,onValueChange:l=>a(c=>({...c,priority:l})),children:[s.jsx(an,{"data-testid":"select-message-priority",children:s.jsx(ln,{})}),s.jsxs(sn,{children:[s.jsx(xe,{value:"low",children:"Baja"}),s.jsx(xe,{value:"normal",children:"Normal"}),s.jsx(xe,{value:"high",children:"Alta"}),s.jsx(xe,{value:"urgent",children:"Urgente"})]})]})]})]}),s.jsxs("div",{className:"flex gap-2 pt-4",children:[s.jsxs(Je,{type:"submit",disabled:r,"data-testid":"button-send-message",children:[s.jsx(Bc,{className:"h-4 w-4 mr-2"}),r?"Enviando...":"Enviar por Email"]}),s.jsx(Je,{type:"button",variant:"outline",onClick:n,"data-testid":"button-cancel-message",children:"Cancelar"})]})]})}function Tqe(){var Q,de,le,ve;const{toast:e}=ss(),t=Xd(),[n,r]=N.useState(!1),[i,a]=N.useState(!1),[o,l]=N.useState(!1),[c,u]=N.useState(null),[f,h]=N.useState(null),[p,m]=N.useState(null),[x,v]=N.useState("all"),[y,b]=N.useState("all"),{data:w=[],isLoading:j}=Zt({queryKey:["/api/users"]}),{data:P=[],isLoading:A}=Zt({queryKey:["/api/companies"]}),{data:E=[],isLoading:O}=Zt({queryKey:["/api/areas"]}),{data:I=[],isLoading:D}=Zt({queryKey:["/api/kpis"]});Zt({queryKey:["/api/kpi-values"]});const z=cr({mutationFn:Z=>Cr("POST","/api/users",Z),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/users"]}),r(!1),u(null),e({title:"Usuario creado exitosamente"})},onError:Z=>{e({title:"Error al crear usuario",description:Z.message,variant:"destructive"})}}),T=cr({mutationFn:({id:Z,...ne})=>Cr("PUT",`/api/users/${Z}`,ne),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/users"]}),r(!1),u(null),e({title:"Usuario actualizado exitosamente"})},onError:Z=>{e({title:"Error al actualizar usuario",description:Z.message,variant:"destructive"})}}),k=cr({mutationFn:Z=>Cr("DELETE",`/api/users/${Z}`),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/users"]}),e({title:"Usuario eliminado exitosamente"})},onError:Z=>{e({title:"Error al eliminar usuario",description:Z.message,variant:"destructive"})}}),F=cr({mutationFn:Z=>Cr("POST","/api/kpis",Z),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/kpis"]}),a(!1),h(null),e({title:"KPI creado exitosamente"})},onError:Z=>{e({title:"Error al crear KPI",description:Z.message,variant:"destructive"})}}),B=cr({mutationFn:({id:Z,...ne})=>Cr("PUT",`/api/kpis/${Z}`,ne),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/kpis"]}),a(!1),h(null),e({title:"KPI actualizado exitosamente"})},onError:Z=>{e({title:"Error al actualizar KPI",description:Z.message,variant:"destructive"})}});cr({mutationFn:Z=>Cr("DELETE",`/api/kpis/${Z}`),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/kpis"]}),e({title:"KPI eliminado exitosamente"})},onError:Z=>{e({title:"Error al eliminar KPI",description:Z.message,variant:"destructive"})}});const H=cr({mutationFn:Z=>Cr("DELETE",`/api/user-kpis/${Z}`),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/kpis"]}),t.invalidateQueries({queryKey:["/api/kpi-values"]}),e({title:"KPI eliminado del usuario exitosamente"})},onError:Z=>{e({title:"Error al eliminar KPI del usuario",description:Z.message,variant:"destructive"})}}),X=cr({mutationFn:()=>Cr("POST","/api/admin/seed-fx-rates",{}),onSuccess:Z=>{t.invalidateQueries({queryKey:["/api/treasury/exchange-rates"]}),e({title:"✅ Importación exitosa",description:`${Z.imported} tipos de cambio nuevos importados de Banxico (${Z.skipped} ya existían)`})},onError:Z=>{e({title:"❌ Error al importar datos",description:Z.message,variant:"destructive"})}}),ae=Z=>{Z.preventDefault();const ne=new FormData(Z.target),ge={name:ne.get("name"),email:ne.get("email"),password:ne.get("password"),role:ne.get("role"),companyId:ne.get("companyId")==="none"?null:parseInt(ne.get("companyId")),areaId:ne.get("areaId")==="none"?null:parseInt(ne.get("areaId"))};c?T.mutate({id:c.id,...ge}):z.mutate(ge)},W=Z=>{Z.preventDefault();const ne=new FormData(Z.target),ge={name:ne.get("name"),description:ne.get("description"),unit:ne.get("unit"),companyId:parseInt(ne.get("companyId")),areaId:parseInt(ne.get("areaId")),objective:ne.get("objective"),frequency:ne.get("frequency")};f?B.mutate({id:f.id,...ge}):F.mutate(ge)},te=x==="all"?E:E.filter(Z=>Z.companyId===parseInt(x));I.filter(Z=>{const ne=x==="all"||Z.companyId===parseInt(x),ge=y==="all"||Z.areaId===parseInt(y);return ne&&ge});const ue=Z=>{const ne=P.find(ge=>ge.id===Z);return(ne==null?void 0:ne.name)||"Sin empresa"},ye=Z=>{const ne=E.find(ge=>ge.id===Z);return(ne==null?void 0:ne.name)||"Sin área"},V=Z=>{switch(Z){case"admin":return"bg-red-500";case"manager":return"bg-blue-500";case"collaborator":return"bg-green-500";case"viewer":return"bg-gray-500";default:return"bg-gray-500"}},ee=Z=>w.find(ge=>ge.id===Z)?I||[]:[];return D||A||O||j?s.jsx(qc,{title:"Administración del Sistema",children:s.jsx("div",{className:"flex items-center justify-center h-96",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Cargando administración del sistema..."})]})})}):s.jsx(qc,{title:"Administración del Sistema",children:s.jsxs("div",{className:"container mx-auto p-6 max-w-7xl",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx(ql,{className:"h-8 w-8 text-blue-600"}),s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Gestión del Equipo"})]}),s.jsxs(ot,{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-blue-200",children:[s.jsx(Ht,{children:s.jsxs(Qt,{className:"flex items-center gap-2 text-blue-900",children:[s.jsx(__,{className:"h-5 w-5"}),"Herramientas de Administración"]})}),s.jsx(lt,{children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs(z2,{children:[s.jsx(U2,{asChild:!0,children:s.jsx(Je,{variant:"outline",className:"border-blue-300 hover:bg-blue-100",disabled:X.isPending,"data-testid":"button-seed-fx-rates",children:X.isPending?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600 mr-2"}),"Importando..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Bc,{className:"h-4 w-4 mr-2"}),"Importar Tipos de Cambio (Banxico)"]})})}),s.jsxs(gx,{children:[s.jsxs(vx,{children:[s.jsx(xx,{children:"Importar Tipos de Cambio de Banxico"}),s.jsxs(bx,{children:["Esta acción importará los tipos de cambio históricos (Sept-Oct 2025) desde la API de Banxico a la base de datos de producción.",s.jsx("br",{}),s.jsx("br",{}),"• Los registros que ya existan no se duplicarán",s.jsx("br",{}),"• El proceso puede tardar ~30 segundos",s.jsx("br",{}),"• Solo se importan datos que no están en la base de datos"]})]}),s.jsxs(yx,{children:[s.jsx(_x,{children:"Cancelar"}),s.jsx(wx,{onClick:()=>X.mutate(),className:"bg-blue-600 hover:bg-blue-700",children:"Confirmar Importación"})]})]})]}),s.jsx("p",{className:"text-sm text-gray-600",children:"Importa datos históricos de tipos de cambio desde Banco de México"})]})})]}),s.jsx("div",{className:"w-full",children:s.jsxs(ot,{children:[s.jsx(Ht,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs(Qt,{className:"flex items-center gap-2",children:[s.jsx(ql,{className:"h-5 w-5"}),"Gestión del Equipo"]}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Administra usuarios, roles y permisos del sistema"})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs(vi,{open:n,onOpenChange:r,children:[s.jsx(aE,{asChild:!0,children:s.jsxs(Je,{onClick:()=>u(null),children:[s.jsx(Tk,{className:"h-4 w-4 mr-2"}),"Nuevo Usuario"]})}),s.jsxs(ui,{className:"max-w-2xl",children:[s.jsx(di,{children:s.jsx(fi,{children:c?"Editar Usuario":"Crear Nuevo Usuario"})}),s.jsxs("form",{onSubmit:ae,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(xt,{htmlFor:"name",children:"Nombre Completo"}),s.jsx(Mt,{id:"name",name:"name",defaultValue:(c==null?void 0:c.name)||"",required:!0})]}),s.jsxs("div",{children:[s.jsx(xt,{htmlFor:"email",children:"Email"}),s.jsx(Mt,{id:"email",name:"email",type:"email",defaultValue:(c==null?void 0:c.email)||"",required:!0})]})]}),s.jsxs("div",{children:[s.jsx(xt,{htmlFor:"password",children:c?"Nueva Contraseña (dejar vacío para no cambiar)":"Contraseña"}),s.jsx(Mt,{id:"password",name:"password",type:"password",required:!c})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(xt,{htmlFor:"role",children:"Rol"}),s.jsxs(on,{name:"role",defaultValue:(c==null?void 0:c.role)||"",required:!0,children:[s.jsx(an,{children:s.jsx(ln,{placeholder:"Seleccionar rol"})}),s.jsxs(sn,{children:[s.jsx(xe,{value:"admin",children:"Administrador"}),s.jsx(xe,{value:"manager",children:"Gerente"}),s.jsx(xe,{value:"collaborator",children:"Colaborador"}),s.jsx(xe,{value:"viewer",children:"Observador"})]})]})]}),s.jsxs("div",{children:[s.jsx(xt,{htmlFor:"companyId",children:"Empresa"}),s.jsxs(on,{name:"companyId",defaultValue:((Q=c==null?void 0:c.companyId)==null?void 0:Q.toString())||"none",required:!0,children:[s.jsx(an,{children:s.jsx(ln,{placeholder:"Seleccionar empresa"})}),s.jsxs(sn,{children:[s.jsx(xe,{value:"none",children:"Sin empresa"}),P.map(Z=>s.jsx(xe,{value:Z.id.toString(),children:Z.name},Z.id))]})]})]}),s.jsxs("div",{children:[s.jsx(xt,{htmlFor:"areaId",children:"Área"}),s.jsxs(on,{name:"areaId",defaultValue:((de=c==null?void 0:c.areaId)==null?void 0:de.toString())||"none",required:!0,children:[s.jsx(an,{children:s.jsx(ln,{placeholder:"Seleccionar área"})}),s.jsxs(sn,{children:[s.jsx(xe,{value:"none",children:"Sin área"}),E.map(Z=>s.jsx(xe,{value:Z.id.toString(),children:Z.name},Z.id))]})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(Je,{type:"button",variant:"outline",onClick:()=>r(!1),children:"Cancelar"}),s.jsxs(Je,{type:"submit",disabled:z.isPending||T.isPending,children:[c?"Actualizar":"Crear"," Usuario"]})]})]})]})]})})]})}),s.jsx(lt,{children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:w.map(Z=>s.jsx(ot,{className:"group hover:shadow-lg transition-shadow duration-200 border-0 shadow-sm bg-gradient-to-br from-white to-gray-50",children:s.jsxs(lt,{className:"p-6",children:[s.jsx("div",{className:"flex items-start justify-between mb-4",children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-blue-600 rounded-full flex items-center justify-center text-white font-bold text-lg",children:Z.name.split(" ").map(ne=>ne[0]).join("").toUpperCase()}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg text-gray-900",children:Z.name}),s.jsx(Wn,{className:`${V(Z.role)} text-white text-xs`,children:Z.role==="admin"?"Administrador":Z.role==="manager"?"Gerente":Z.role==="collaborator"?"Colaborador":"Observador"})]})]}),s.jsxs("div",{className:"space-y-2 mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[s.jsx(Bc,{className:"h-4 w-4 text-gray-400"}),s.jsx("span",{className:"truncate",children:Z.email})]}),Z.companyId&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[s.jsx(jg,{className:"h-4 w-4 text-gray-400"}),s.jsx("span",{className:"truncate",children:ue(Z.companyId)})]}),Z.areaId&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[s.jsx(__,{className:"h-4 w-4 text-gray-400"}),s.jsx("span",{className:"truncate",children:ye(Z.areaId)})]})]})]})}),s.jsx("div",{className:"space-y-2 pt-4 border-t border-gray-100",children:s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsxs(Je,{variant:"ghost",size:"sm",className:"flex-1 hover:bg-blue-50 hover:text-blue-600",onClick:()=>{m(Z),l(!0)},children:[s.jsx(Us,{className:"h-4 w-4 mr-2"}),"Ver KPIs (",ee(Z.id).length,")"]}),s.jsx(Je,{variant:"ghost",size:"sm",className:"hover:bg-green-50 hover:text-green-600",onClick:()=>{u(Z),r(!0)},children:s.jsx(KC,{className:"h-4 w-4"})}),s.jsxs(z2,{children:[s.jsx(U2,{asChild:!0,children:s.jsx(Je,{variant:"ghost",size:"sm",className:"hover:bg-red-50 hover:text-red-600",children:s.jsx(GC,{className:"h-4 w-4"})})}),s.jsxs(gx,{children:[s.jsxs(vx,{children:[s.jsx(xx,{children:"¿Eliminar Usuario?"}),s.jsxs(bx,{children:['Esta acción no se puede deshacer. Se eliminará permanentemente el usuario "',Z.name,'" y todos sus datos asociados.']})]}),s.jsxs(yx,{children:[s.jsx(_x,{children:"Cancelar"}),s.jsx(wx,{onClick:()=>k.mutate(Z.id),className:"bg-red-500 hover:bg-red-600",children:"Eliminar"})]})]})]})]})})]})},Z.id))})})]})}),s.jsx(vi,{open:o,onOpenChange:l,children:s.jsxs(ui,{className:"max-w-6xl max-h-[80vh] overflow-y-auto",children:[s.jsx(di,{children:s.jsxs(fi,{className:"flex items-center gap-2",children:[s.jsx(Us,{className:"h-5 w-5"}),"KPIs de ",p==null?void 0:p.name]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs(Je,{onClick:()=>{h(null),a(!0)},className:"flex items-center gap-2",children:[s.jsx(ch,{className:"h-4 w-4"}),"Nuevo KPI"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(xt,{htmlFor:"company-filter",children:"Empresa:"}),s.jsxs(on,{value:x,onValueChange:v,children:[s.jsx(an,{className:"w-40",children:s.jsx(ln,{})}),s.jsxs(sn,{children:[s.jsx(xe,{value:"all",children:"Todas"}),P.map(Z=>s.jsx(xe,{value:Z.id.toString(),children:Z.name},Z.id))]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(xt,{htmlFor:"area-filter",children:"Área:"}),s.jsxs(on,{value:y,onValueChange:b,children:[s.jsx(an,{className:"w-40",children:s.jsx(ln,{})}),s.jsxs(sn,{children:[s.jsx(xe,{value:"all",children:"Todas"}),te.map(Z=>s.jsx(xe,{value:Z.id.toString(),children:Z.name},Z.id))]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[ee(p==null?void 0:p.id).map(Z=>s.jsx(ot,{className:"group",children:s.jsx(lt,{className:"p-4",children:s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-medium text-sm mb-1",children:Z.name}),s.jsxs("div",{className:"text-xs text-gray-500 space-y-1",children:[s.jsx("span",{className:"block",children:ue(Z.companyId)}),s.jsx("span",{className:"block",children:ye(Z.areaId)}),s.jsxs("span",{className:"block",children:["Objetivo: ",Z.objective]}),s.jsxs("span",{className:"block",children:["Frecuencia: ",Z.frequency]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Je,{variant:"ghost",size:"sm",onClick:()=>{h(Z),a(!0)},children:s.jsx(KC,{className:"h-4 w-4"})}),s.jsxs(z2,{children:[s.jsx(U2,{asChild:!0,children:s.jsx(Je,{variant:"ghost",size:"sm",children:s.jsx(GC,{className:"h-4 w-4"})})}),s.jsxs(gx,{children:[s.jsxs(vx,{children:[s.jsx(xx,{children:"¿Eliminar KPI?"}),s.jsxs(bx,{children:['Esta acción no se puede deshacer. Se eliminará permanentemente el KPI "',Z.name,'" y todos sus datos asociados.']})]}),s.jsxs(yx,{children:[s.jsx(_x,{children:"Cancelar"}),s.jsx(wx,{onClick:()=>H.mutate(Z.id),className:"bg-red-500 hover:bg-red-600",children:"Eliminar"})]})]})]})]})]})})},Z.id)),p&&ee(p.id).length===0&&s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(Us,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),s.jsx("p",{children:"No hay KPIs asignados a este usuario"}),s.jsx("p",{className:"text-sm",children:'Haz clic en "Nuevo KPI" para agregar uno'})]})]})]})]})}),s.jsx(vi,{open:i,onOpenChange:a,children:s.jsxs(ui,{className:"max-w-2xl",children:[s.jsx(di,{children:s.jsx(fi,{children:f?"Editar KPI":"Crear Nuevo KPI"})}),s.jsxs("form",{onSubmit:W,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(xt,{htmlFor:"name",children:"Nombre del KPI"}),s.jsx(Mt,{id:"name",name:"name",defaultValue:(f==null?void 0:f.name)||"",required:!0})]}),s.jsxs("div",{children:[s.jsx(xt,{htmlFor:"unit",children:"Unidad"}),s.jsx(Mt,{id:"unit",name:"unit",defaultValue:(f==null?void 0:f.unit)||"",placeholder:"ej: %, unidades, pesos",required:!0})]})]}),s.jsxs("div",{children:[s.jsx(xt,{htmlFor:"description",children:"Descripción"}),s.jsx(Hu,{id:"description",name:"description",defaultValue:(f==null?void 0:f.description)||"",rows:3})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(xt,{htmlFor:"companyId",children:"Empresa"}),s.jsxs(on,{name:"companyId",defaultValue:((le=f==null?void 0:f.companyId)==null?void 0:le.toString())||"",required:!0,children:[s.jsx(an,{children:s.jsx(ln,{placeholder:"Seleccionar empresa"})}),s.jsx(sn,{children:P.map(Z=>s.jsx(xe,{value:Z.id.toString(),children:Z.name},Z.id))})]})]}),s.jsxs("div",{children:[s.jsx(xt,{htmlFor:"areaId",children:"Área"}),s.jsxs(on,{name:"areaId",defaultValue:((ve=f==null?void 0:f.areaId)==null?void 0:ve.toString())||"",required:!0,children:[s.jsx(an,{children:s.jsx(ln,{placeholder:"Seleccionar área"})}),s.jsx(sn,{children:E.map(Z=>s.jsx(xe,{value:Z.id.toString(),children:Z.name},Z.id))})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(xt,{htmlFor:"objective",children:"Objetivo"}),s.jsx(Mt,{id:"objective",name:"objective",defaultValue:(f==null?void 0:f.objective)||"",placeholder:"ej: 95%, 1000 unidades",required:!0})]}),s.jsxs("div",{children:[s.jsx(xt,{htmlFor:"frequency",children:"Frecuencia"}),s.jsxs(on,{name:"frequency",defaultValue:(f==null?void 0:f.frequency)||"",required:!0,children:[s.jsx(an,{children:s.jsx(ln,{placeholder:"Seleccionar frecuencia"})}),s.jsxs(sn,{children:[s.jsx(xe,{value:"daily",children:"Diaria"}),s.jsx(xe,{value:"weekly",children:"Semanal"}),s.jsx(xe,{value:"monthly",children:"Mensual"}),s.jsx(xe,{value:"quarterly",children:"Trimestral"}),s.jsx(xe,{value:"yearly",children:"Anual"})]})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(Je,{type:"button",variant:"outline",onClick:()=>a(!1),children:"Cancelar"}),s.jsxs(Je,{type:"submit",disabled:F.isPending||B.isPending,children:[f?"Actualizar":"Crear"," KPI"]})]})]})]})})]})})}var Iqe="Separator",RF="horizontal",Lqe=["horizontal","vertical"],$te=N.forwardRef((e,t)=>{const{decorative:n,orientation:r=RF,...i}=e,a=Mqe(r)?r:RF,l=n?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return s.jsx(Rt.div,{"data-orientation":a,...l,...i,ref:t})});$te.displayName=Iqe;function Mqe(e){return Lqe.includes(e)}var Fte=$te;const eI=N.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...r},i)=>s.jsx(Fte,{ref:i,decorative:n,orientation:t,className:wt("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...r}));eI.displayName=Fte.displayName;function Dqe(){const{user:e}=Qu(),{data:t,isLoading:n,error:r}=Zt({queryKey:[`/api/job-profiles/${e==null?void 0:e.id}`],enabled:!!(e!=null&&e.id),retry:!1}),{data:i,isLoading:a}=Zt({queryKey:[`/api/user-kpis/${e==null?void 0:e.id}`],enabled:!!(e!=null&&e.id)});if(n&&!r||a)return s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})});if(!t)return s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsx("div",{className:"mb-6",children:s.jsx(Np,{href:"/",children:s.jsxs(Je,{variant:"outline",className:"flex items-center gap-2",children:[s.jsx(b_,{className:"h-4 w-4"}),"Volver al Dashboard"]})})}),s.jsxs(ot,{className:"max-w-2xl mx-auto",children:[s.jsxs(Ht,{children:[s.jsxs(Qt,{className:"flex items-center gap-2",children:[s.jsx(Jo,{className:"h-5 w-5"}),"Perfil de Usuario"]}),s.jsx(fr,{children:"Tu perfil personalizado no está disponible aún. Pronto tendrás acceso a información detallada sobre tu puesto."})]}),s.jsx(lt,{children:s.jsxs("div",{className:"text-center py-8",children:[s.jsx(jg,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),s.jsx("p",{className:"text-gray-600",children:"Estamos configurando tu perfil personalizado con información específica de tu puesto."})]})})]})]});const l=t;return s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsx("div",{className:"mb-6",children:s.jsx(Np,{href:"/",children:s.jsxs(Je,{variant:"outline",className:"flex items-center gap-2",children:[s.jsx(b_,{className:"h-4 w-4"}),"Volver al Dashboard"]})})}),s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[s.jsx("div",{className:"bg-blue-100 p-3 rounded-full",children:s.jsx(Jo,{className:"h-6 w-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:e==null?void 0:e.name}),s.jsx("p",{className:"text-gray-600",children:l.title}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsx(Wn,{variant:"outline",children:l.companyName}),s.jsx(Wn,{variant:"outline",children:l.areaName})]})]})]})}),s.jsxs(Nm,{defaultValue:"overview",className:"w-full",children:[s.jsxs(Rh,{className:"grid w-full grid-cols-4",children:[s.jsx(si,{value:"overview",children:"Vista General"}),s.jsx(si,{value:"kpis",children:"Mis KPIs"}),s.jsx(si,{value:"activities",children:"Actividades"}),s.jsx(si,{value:"tips",children:"Tips & Guías"})]}),s.jsxs(ua,{value:"overview",className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs(ot,{className:"lg:col-span-2",children:[s.jsx(Ht,{children:s.jsxs(Qt,{className:"flex items-center gap-2",children:[s.jsx(c6,{className:"h-5 w-5"}),"Descripción del Puesto"]})}),s.jsx(lt,{children:s.jsx("p",{className:"text-gray-700 leading-relaxed",children:l.description})})]}),s.jsxs(ot,{children:[s.jsx(Ht,{children:s.jsxs(Qt,{className:"flex items-center gap-2",children:[s.jsx(Ud,{className:"h-5 w-5"}),"Resumen de KPIs"]})}),s.jsx(lt,{children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Total de KPIs"}),s.jsx(Wn,{variant:"secondary",children:l.userKpis.length})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Semanales"}),s.jsx("span",{className:"text-sm font-medium",children:l.userKpis.filter(c=>c.frequency==="weekly").length})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Mensuales"}),s.jsx("span",{className:"text-sm font-medium",children:l.userKpis.filter(c=>c.frequency==="monthly").length})]}),s.jsx(eI,{}),s.jsx(Np,{href:"/kpi-control",children:s.jsxs(Je,{className:"w-full",children:["Actualizar KPIs",s.jsx(Cce,{className:"h-4 w-4 ml-2"})]})})]})})]})]}),s.jsxs(ot,{children:[s.jsx(Ht,{children:s.jsxs(Qt,{className:"flex items-center gap-2",children:[s.jsx(ql,{className:"h-5 w-5"}),"Responsabilidades Principales"]})}),s.jsx(lt,{children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:l.responsibilities.map((c,u)=>s.jsxs("div",{className:"flex items-start gap-3 p-3 bg-gray-50 rounded-lg",children:[s.jsx(Vu,{className:"h-5 w-5 text-green-500 mt-0.5"}),s.jsx("span",{className:"text-sm text-gray-700",children:c})]},u))})})]})]}),s.jsx(ua,{value:"kpis",className:"space-y-6",children:s.jsxs(ot,{children:[s.jsxs(Ht,{children:[s.jsxs(Qt,{className:"flex items-center gap-2",children:[s.jsx(Ma,{className:"h-5 w-5"}),"Mis KPIs Asignados"]}),s.jsx(fr,{children:"Estos son los KPIs que debes monitorear y actualizar regularmente"})]}),s.jsxs(lt,{children:[s.jsx("div",{className:"space-y-4",children:l.userKpis.map((c,u)=>{var f;return s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-900",children:c.name}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Objetivo: ",c.target]})]}),s.jsx(Wn,{variant:c.frequency==="weekly"?"default":"secondary",children:c.frequency==="weekly"?"Semanal":"Mensual"})]}),l.kpiInstructions.find(h=>h.kpiName===c.name)&&s.jsx("div",{className:"mt-3 p-3 bg-blue-50 rounded-lg",children:s.jsxs("p",{className:"text-sm text-blue-800",children:[s.jsx("strong",{children:"Instrucciones:"})," ",(f=l.kpiInstructions.find(h=>h.kpiName===c.name))==null?void 0:f.instructions]})})]},u)})}),s.jsx("div",{className:"mt-6 p-4 bg-yellow-50 rounded-lg",children:s.jsxs("p",{className:"text-sm text-yellow-800",children:[s.jsx("strong",{children:"¿Dónde actualizar?"})," Ve a la sección",s.jsx(Np,{href:"/kpi-control",className:"mx-1 font-medium underline",children:'"Centro de Control de KPIs"'}),"para actualizar todos tus KPIs."]})})]})]})}),s.jsx(ua,{value:"activities",className:"space-y-6",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(ot,{children:[s.jsx(Ht,{children:s.jsxs(Qt,{className:"flex items-center gap-2",children:[s.jsx(Vu,{className:"h-5 w-5"}),"Actividades Principales"]})}),s.jsx(lt,{children:s.jsx(cx,{className:"h-96",children:s.jsx("div",{className:"space-y-3",children:l.mainActivities.map((c,u)=>s.jsxs("div",{className:"flex items-start gap-3 p-3 border rounded-lg",children:[s.jsx("div",{className:"bg-blue-100 p-1 rounded-full",children:s.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full"})}),s.jsx("span",{className:"text-sm text-gray-700",children:c})]},u))})})})]}),s.jsxs(ot,{children:[s.jsx(Ht,{children:s.jsxs(Qt,{className:"flex items-center gap-2",children:[s.jsx(Dh,{className:"h-5 w-5"}),"Cronograma de Actividades"]})}),s.jsx(lt,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Diarias"}),s.jsx("ul",{className:"space-y-1",children:l.updateFrequency.daily.map((c,u)=>s.jsx("li",{className:"text-sm text-gray-600 pl-4 border-l-2 border-green-200",children:c},u))})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Semanales"}),s.jsx("ul",{className:"space-y-1",children:l.updateFrequency.weekly.map((c,u)=>s.jsx("li",{className:"text-sm text-gray-600 pl-4 border-l-2 border-blue-200",children:c},u))})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Mensuales"}),s.jsx("ul",{className:"space-y-1",children:l.updateFrequency.monthly.map((c,u)=>s.jsx("li",{className:"text-sm text-gray-600 pl-4 border-l-2 border-purple-200",children:c},u))})]})]})})]})]})}),s.jsx(ua,{value:"tips",className:"space-y-6",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(ot,{children:[s.jsx(Ht,{children:s.jsxs(Qt,{className:"flex items-center gap-2",children:[s.jsx(Ma,{className:"h-5 w-5"}),"Tips para el Éxito"]})}),s.jsx(lt,{children:s.jsx(cx,{className:"h-96",children:s.jsx("div",{className:"space-y-4",children:l.tips.map((c,u)=>s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:c.category}),s.jsx("p",{className:"text-sm text-gray-700",children:c.tip})]},u))})})})]}),s.jsxs(ot,{children:[s.jsx(Ht,{children:s.jsxs(Qt,{className:"flex items-center gap-2",children:[s.jsx(c6,{className:"h-5 w-5"}),"Procesos y Procedimientos"]})}),s.jsx(lt,{children:s.jsx(cx,{className:"h-96",children:s.jsx("div",{className:"space-y-4",children:l.processes.map((c,u)=>s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:c.name}),s.jsx("p",{className:"text-sm text-gray-600 mb-3",children:c.description}),s.jsx("div",{className:"space-y-2",children:c.steps.map((f,h)=>s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(Wn,{variant:"outline",className:"text-xs",children:h+1}),s.jsx("span",{className:"text-sm text-gray-700",children:f})]},h))})]},u))})})})]})]})})]})]})}function Rqe(){const{token:e}=LV(),[,t]=Gc(),{toast:n}=ss(),[r,i]=N.useState(null),[a,o]=N.useState(!0),[l,c]=N.useState(""),[u,f]=N.useState(""),[h,p]=N.useState(""),[m,x]=N.useState(!1),[v,y]=N.useState(!1),[b,w]=N.useState(!1);N.useEffect(()=>{(async()=>{if(!e){c("Token de activación no válido"),o(!1);return}try{const A=await fetch(`/api/activate/${e}`),E=await A.json();A.ok&&E.valid?i(E):c(E.message||"Token de activación no válido")}catch(A){console.error("Error validating token:",A),c("Error de conexión. Inténtalo de nuevo.")}finally{o(!1)}})()},[e]);const j=async P=>{if(P.preventDefault(),u.length<8){n({title:"Error",description:"La contraseña debe tener al menos 8 caracteres",variant:"destructive"});return}if(u!==h){n({title:"Error",description:"Las contraseñas no coinciden",variant:"destructive"});return}y(!0);try{const A=await fetch(`/api/activate/${e}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:u})}),E=await A.json();A.ok?(w(!0),n({title:"¡Éxito!",description:"Tu contraseña ha sido establecida correctamente",variant:"default"}),setTimeout(()=>{t("/login")},3e3)):n({title:"Error",description:E.message||"Error al establecer la contraseña",variant:"destructive"})}catch(A){console.error("Error setting password:",A),n({title:"Error",description:"Error de conexión. Inténtalo de nuevo.",variant:"destructive"})}finally{y(!1)}};return a?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-green-50 flex items-center justify-center p-4",children:s.jsx(ot,{className:"w-full max-w-md",children:s.jsxs(lt,{className:"flex flex-col items-center justify-center py-12",children:[s.jsx(go,{className:"h-8 w-8 animate-spin text-blue-600 mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Validando enlace de activación..."})]})})}):l||!r?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-green-50 flex items-center justify-center p-4",children:s.jsxs(ot,{className:"w-full max-w-md",children:[s.jsxs(Ht,{className:"text-center",children:[s.jsx("div",{className:"mx-auto mb-4 h-12 w-12 rounded-full bg-red-100 flex items-center justify-center",children:s.jsx(nm,{className:"h-6 w-6 text-red-600"})}),s.jsx(Qt,{className:"text-red-800",children:"Enlace No Válido"}),s.jsx(fr,{className:"text-red-600",children:l})]}),s.jsx(lt,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsx(Eh,{children:s.jsx(Oh,{children:"Si necesitas un nuevo enlace de activación, contacta al administrador del sistema."})}),s.jsx(Je,{className:"w-full",onClick:()=>t("/login"),variant:"outline",children:"Ir al Login"})]})})]})}):b?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-green-50 flex items-center justify-center p-4",children:s.jsxs(ot,{className:"w-full max-w-md",children:[s.jsxs(Ht,{className:"text-center",children:[s.jsx("div",{className:"mx-auto mb-4 h-12 w-12 rounded-full bg-green-100 flex items-center justify-center",children:s.jsx(Vu,{className:"h-6 w-6 text-green-600"})}),s.jsx(Qt,{className:"text-green-800",children:"¡Cuenta Activada!"}),s.jsx(fr,{className:"text-green-600",children:"Tu contraseña ha sido establecida exitosamente"})]}),s.jsx(lt,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[s.jsx("h3",{className:"font-semibold text-green-800 mb-2",children:"¡Todo Listo!"}),s.jsx("p",{className:"text-green-700 text-sm",children:"Ya puedes iniciar sesión con tu email y la contraseña que acabas de crear."})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Serás redirigido al login en unos segundos..."}),s.jsx(Je,{className:"w-full",onClick:()=>t("/login"),children:"Ir al Login Ahora"})]})]})})]})}):s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-green-50 flex items-center justify-center p-4",children:s.jsxs(ot,{className:"w-full max-w-md",children:[s.jsxs(Ht,{className:"text-center",children:[s.jsx("div",{className:"mx-auto mb-4 h-12 w-12 rounded-full bg-blue-100 flex items-center justify-center",children:s.jsx(f6,{className:"h-6 w-6 text-blue-600"})}),s.jsx(Qt,{className:"text-2xl font-bold text-gray-900",children:"Activar tu Cuenta"}),s.jsx(fr,{children:"Establece tu contraseña para acceder al Sistema ECONOVA"})]}),s.jsxs(lt,{children:[s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:[s.jsxs("h3",{className:"font-semibold text-blue-800 mb-3 flex items-center",children:[s.jsx(Jo,{className:"h-4 w-4 mr-2"}),"Tu Información"]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex items-center text-blue-700",children:[s.jsx(Jo,{className:"h-3 w-3 mr-2"}),s.jsx("span",{className:"font-medium",children:"Nombre:"}),s.jsx("span",{className:"ml-2",children:r.user.name})]}),s.jsxs("div",{className:"flex items-center text-blue-700",children:[s.jsx(Bc,{className:"h-3 w-3 mr-2"}),s.jsx("span",{className:"font-medium",children:"Email:"}),s.jsx("span",{className:"ml-2",children:r.user.email})]}),s.jsxs("div",{className:"flex items-center text-blue-700",children:[s.jsx(f6,{className:"h-3 w-3 mr-2"}),s.jsx("span",{className:"font-medium",children:"Rol:"}),s.jsx("span",{className:"ml-2 capitalize",children:r.user.role})]})]})]}),s.jsxs("form",{onSubmit:j,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(xt,{htmlFor:"password",className:"text-sm font-medium",children:"Nueva Contraseña"}),s.jsxs("div",{className:"relative mt-1",children:[s.jsx(Mt,{id:"password",type:m?"text":"password",value:u,onChange:P=>f(P.target.value),placeholder:"Mínimo 8 caracteres",required:!0,minLength:8,className:"pr-10","data-testid":"input-password"}),s.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>x(!m),children:m?s.jsx(VC,{className:"h-4 w-4 text-gray-400"}):s.jsx(WC,{className:"h-4 w-4 text-gray-400"})})]})]}),s.jsxs("div",{children:[s.jsx(xt,{htmlFor:"confirmPassword",className:"text-sm font-medium",children:"Confirmar Contraseña"}),s.jsx(Mt,{id:"confirmPassword",type:m?"text":"password",value:h,onChange:P=>p(P.target.value),placeholder:"Repite tu contraseña",required:!0,minLength:8,className:"mt-1","data-testid":"input-confirm-password"})]}),s.jsx(Eh,{children:s.jsxs(Oh,{children:[s.jsx("strong",{children:"Importante:"})," Esta contraseña será tu clave de acceso permanente al sistema. Elige una contraseña segura que puedas recordar."]})}),s.jsx(Je,{type:"submit",className:"w-full bg-gradient-to-r from-blue-600 to-green-600 hover:from-blue-700 hover:to-green-700",disabled:v,"data-testid":"button-activate",children:v?s.jsxs(s.Fragment,{children:[s.jsx(go,{className:"h-4 w-4 animate-spin mr-2"}),"Activando cuenta..."]}):"Activar mi Cuenta"})]}),s.jsxs("div",{className:"mt-6 text-center text-xs text-gray-500",children:[s.jsx("p",{children:"© 2025 ECONOVA - KPI Dashboard"}),s.jsx("p",{children:"Sistema de Gestión de Indicadores de Rendimiento"})]})]})]})})}function $qe({children:e}){const[t,n]=N.useState(!1);return N.useEffect(()=>{const r=setTimeout(()=>{n(!0)},10);return()=>clearTimeout(r)},[]),t?s.jsx(wfe,{children:e}):s.jsx("div",{className:"flex justify-center items-center min-h-screen bg-secondary-100",children:s.jsxs("div",{className:"flex flex-col items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 border-4 border-primary-600 border-t-transparent rounded-full animate-spin"}),s.jsx("p",{className:"text-primary-600 text-sm",children:"Inicializando sistema de autenticación..."})]})})}const Fqe=N.createContext(null);function Bqe({children:e}){const[t,n]=N.useState(()=>{const r=localStorage.getItem("selectedCompanyId");return r?Number(r):1});return N.useEffect(()=>{localStorage.setItem("selectedCompanyId",t.toString())},[t]),s.jsx(Fqe.Provider,{value:{selectedCompany:t,setSelectedCompany:n},children:e})}const zqe=e=>{e!=="/login"&&sessionStorage.setItem("redirectAfterLogin",e)},xc=({children:e,adminOnly:t=!1,executiveOnly:n=!1,logisticsOnly:r=!1,salesOnly:i=!1})=>{const{user:a,isLoading:o,authReady:l,isAdmin:c,isMarioOrAdmin:u,hasLogisticsAccess:f,hasSalesAccess:h,refreshUser:p}=Qu(),[m,x]=Gc();N.useEffect(()=>{if(!l)return;const y=Sv();if(l&&!y&&!a){zqe(m),x("/login");return}if(l&&y&&!a&&!o){p();return}l&&a&&(t&&!c||n&&!u||r&&!f||i&&!h)&&x("/")},[a,o,l,c,u,t,n,x,m,p,f,h,r,i]);const v=Sv();return!l||o||v&&!a?s.jsx("div",{className:"flex justify-center items-center h-screen bg-gray-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx(go,{className:"h-12 w-12 animate-spin text-primary-600 mx-auto mb-4"}),s.jsx("p",{className:"text-primary-600 text-lg font-medium",children:"Validando acceso..."}),s.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Por favor espera un momento"})]})}):!a||t&&!c||n&&!u||r&&!f||i&&!h?s.jsx("div",{className:"flex justify-center items-center h-screen bg-gray-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx(go,{className:"h-12 w-12 animate-spin text-primary-600 mx-auto mb-4"}),s.jsx("p",{className:"text-primary-600 text-lg font-medium",children:"Verificando permisos..."})]})}):s.jsx(s.Fragment,{children:e})};class Uqe extends N.Component{constructor(t){super(t),this.handleReload=()=>{window.location.reload()},this.handleReset=()=>{this.setState({hasError:!1,error:void 0})},this.state={hasError:!1}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,n){console.error("[ErrorBoundary] Error capturado:",t,n)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4",children:s.jsx("div",{className:"max-w-md w-full text-center",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[s.jsx(mb,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Algo salió mal"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Ha ocurrido un error inesperado. Puedes intentar recargar la página o volver al inicio."}),!1,s.jsxs("div",{className:"space-y-3",children:[s.jsxs(Je,{onClick:this.handleReload,className:"w-full","data-testid":"button-reload",children:[s.jsx(P2,{className:"h-4 w-4 mr-2"}),"Recargar página"]}),s.jsx(Je,{variant:"outline",onClick:this.handleReset,className:"w-full","data-testid":"button-retry",children:"Intentar de nuevo"}),s.jsx(Je,{variant:"ghost",onClick:()=>window.location.href="/",className:"w-full","data-testid":"button-home",children:"Ir al inicio"})]})]})})}):this.props.children}}const Bte=N.forwardRef(({className:e,...t},n)=>s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",{ref:n,className:wt("w-full caption-bottom text-sm",e),...t})}));Bte.displayName="Table";const zte=N.forwardRef(({className:e,...t},n)=>s.jsx("thead",{ref:n,className:wt("[&_tr]:border-b",e),...t}));zte.displayName="TableHeader";const Ute=N.forwardRef(({className:e,...t},n)=>s.jsx("tbody",{ref:n,className:wt("[&_tr:last-child]:border-0",e),...t}));Ute.displayName="TableBody";const qqe=N.forwardRef(({className:e,...t},n)=>s.jsx("tfoot",{ref:n,className:wt("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));qqe.displayName="TableFooter";const f4=N.forwardRef(({className:e,...t},n)=>s.jsx("tr",{ref:n,className:wt("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));f4.displayName="TableRow";const yu=N.forwardRef(({className:e,...t},n)=>s.jsx("th",{ref:n,className:wt("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));yu.displayName="TableHead";const xu=N.forwardRef(({className:e,...t},n)=>s.jsx("td",{ref:n,className:wt("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));xu.displayName="TableCell";const Vqe=N.forwardRef(({className:e,...t},n)=>s.jsx("caption",{ref:n,className:wt("mt-4 text-sm text-muted-foreground",e),...t}));Vqe.displayName="TableCaption";function qte(e,t){const n=N.useRef(t);N.useEffect(function(){t!==n.current&&e.attributionControl!=null&&(n.current!=null&&e.attributionControl.removeAttribution(n.current),t!=null&&e.attributionControl.addAttribution(t)),n.current=t},[e,t])}const Wqe=1;function Hqe(e){return Object.freeze({__version:Wqe,map:e})}function Vte(e,t){return Object.freeze({...e,...t})}const Wte=N.createContext(null),Hte=Wte.Provider;function iS(){const e=N.useContext(Wte);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function Kte(e){function t(n,r){const{instance:i,context:a}=e(n).current;return N.useImperativeHandle(r,()=>i),n.children==null?null:ie.createElement(Hte,{value:a},n.children)}return N.forwardRef(t)}function Kqe(e){function t(n,r){const[i,a]=N.useState(!1),{instance:o}=e(n,a).current;N.useImperativeHandle(r,()=>o),N.useEffect(function(){i&&o.update()},[o,i,n.children]);const l=o._contentNode;return l?Qo.createPortal(n.children,l):null}return N.forwardRef(t)}function Gqe(e){function t(n,r){const{instance:i}=e(n).current;return N.useImperativeHandle(r,()=>i),null}return N.forwardRef(t)}function tI(e,t){const n=N.useRef();N.useEffect(function(){return t!=null&&e.instance.on(t),n.current=t,function(){n.current!=null&&e.instance.off(n.current),n.current=null}},[e,t])}function aS(e,t){const n=e.pane??t.pane;return n?{...e,pane:n}:e}function Zqe(e,t){return function(r,i){const a=iS(),o=e(aS(r,a),a);return qte(a.map,r.attribution),tI(o.current,r.eventHandlers),t(o.current,a,r,i),o}}var h4={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(e,t){(function(n,r){r(t)})(T0,function(n){var r="1.9.4";function i(d){var g,S,M,q;for(S=1,M=arguments.length;S<M;S++){q=arguments[S];for(g in q)d[g]=q[g]}return d}var a=Object.create||function(){function d(){}return function(g){return d.prototype=g,new d}}();function o(d,g){var S=Array.prototype.slice;if(d.bind)return d.bind.apply(d,S.call(arguments,1));var M=S.call(arguments,2);return function(){return d.apply(g,M.length?M.concat(S.call(arguments)):arguments)}}var l=0;function c(d){return"_leaflet_id"in d||(d._leaflet_id=++l),d._leaflet_id}function u(d,g,S){var M,q,J,we;return we=function(){M=!1,q&&(J.apply(S,q),q=!1)},J=function(){M?q=arguments:(d.apply(S,arguments),setTimeout(we,g),M=!0)},J}function f(d,g,S){var M=g[1],q=g[0],J=M-q;return d===M&&S?d:((d-q)%J+J)%J+q}function h(){return!1}function p(d,g){if(g===!1)return d;var S=Math.pow(10,g===void 0?6:g);return Math.round(d*S)/S}function m(d){return d.trim?d.trim():d.replace(/^\s+|\s+$/g,"")}function x(d){return m(d).split(/\s+/)}function v(d,g){Object.prototype.hasOwnProperty.call(d,"options")||(d.options=d.options?a(d.options):{});for(var S in g)d.options[S]=g[S];return d.options}function y(d,g,S){var M=[];for(var q in d)M.push(encodeURIComponent(S?q.toUpperCase():q)+"="+encodeURIComponent(d[q]));return(!g||g.indexOf("?")===-1?"?":"&")+M.join("&")}var b=/\{ *([\w_ -]+) *\}/g;function w(d,g){return d.replace(b,function(S,M){var q=g[M];if(q===void 0)throw new Error("No value provided for variable "+S);return typeof q=="function"&&(q=q(g)),q})}var j=Array.isArray||function(d){return Object.prototype.toString.call(d)==="[object Array]"};function P(d,g){for(var S=0;S<d.length;S++)if(d[S]===g)return S;return-1}var A="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function E(d){return window["webkit"+d]||window["moz"+d]||window["ms"+d]}var O=0;function I(d){var g=+new Date,S=Math.max(0,16-(g-O));return O=g+S,window.setTimeout(d,S)}var D=window.requestAnimationFrame||E("RequestAnimationFrame")||I,z=window.cancelAnimationFrame||E("CancelAnimationFrame")||E("CancelRequestAnimationFrame")||function(d){window.clearTimeout(d)};function T(d,g,S){if(S&&D===I)d.call(g);else return D.call(window,o(d,g))}function k(d){d&&z.call(window,d)}var F={__proto__:null,extend:i,create:a,bind:o,get lastId(){return l},stamp:c,throttle:u,wrapNum:f,falseFn:h,formatNum:p,trim:m,splitWords:x,setOptions:v,getParamString:y,template:w,isArray:j,indexOf:P,emptyImageUrl:A,requestFn:D,cancelFn:z,requestAnimFrame:T,cancelAnimFrame:k};function B(){}B.extend=function(d){var g=function(){v(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},S=g.__super__=this.prototype,M=a(S);M.constructor=g,g.prototype=M;for(var q in this)Object.prototype.hasOwnProperty.call(this,q)&&q!=="prototype"&&q!=="__super__"&&(g[q]=this[q]);return d.statics&&i(g,d.statics),d.includes&&(H(d.includes),i.apply(null,[M].concat(d.includes))),i(M,d),delete M.statics,delete M.includes,M.options&&(M.options=S.options?a(S.options):{},i(M.options,d.options)),M._initHooks=[],M.callInitHooks=function(){if(!this._initHooksCalled){S.callInitHooks&&S.callInitHooks.call(this),this._initHooksCalled=!0;for(var J=0,we=M._initHooks.length;J<we;J++)M._initHooks[J].call(this)}},g},B.include=function(d){var g=this.prototype.options;return i(this.prototype,d),d.options&&(this.prototype.options=g,this.mergeOptions(d.options)),this},B.mergeOptions=function(d){return i(this.prototype.options,d),this},B.addInitHook=function(d){var g=Array.prototype.slice.call(arguments,1),S=typeof d=="function"?d:function(){this[d].apply(this,g)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(S),this};function H(d){if(!(typeof L>"u"||!L||!L.Mixin)){d=j(d)?d:[d];for(var g=0;g<d.length;g++)d[g]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var X={on:function(d,g,S){if(typeof d=="object")for(var M in d)this._on(M,d[M],g);else{d=x(d);for(var q=0,J=d.length;q<J;q++)this._on(d[q],g,S)}return this},off:function(d,g,S){if(!arguments.length)delete this._events;else if(typeof d=="object")for(var M in d)this._off(M,d[M],g);else{d=x(d);for(var q=arguments.length===1,J=0,we=d.length;J<we;J++)q?this._off(d[J]):this._off(d[J],g,S)}return this},_on:function(d,g,S,M){if(typeof g!="function"){console.warn("wrong listener type: "+typeof g);return}if(this._listens(d,g,S)===!1){S===this&&(S=void 0);var q={fn:g,ctx:S};M&&(q.once=!0),this._events=this._events||{},this._events[d]=this._events[d]||[],this._events[d].push(q)}},_off:function(d,g,S){var M,q,J;if(this._events&&(M=this._events[d],!!M)){if(arguments.length===1){if(this._firingCount)for(q=0,J=M.length;q<J;q++)M[q].fn=h;delete this._events[d];return}if(typeof g!="function"){console.warn("wrong listener type: "+typeof g);return}var we=this._listens(d,g,S);if(we!==!1){var Le=M[we];this._firingCount&&(Le.fn=h,this._events[d]=M=M.slice()),M.splice(we,1)}}},fire:function(d,g,S){if(!this.listens(d,S))return this;var M=i({},g,{type:d,target:this,sourceTarget:g&&g.sourceTarget||this});if(this._events){var q=this._events[d];if(q){this._firingCount=this._firingCount+1||1;for(var J=0,we=q.length;J<we;J++){var Le=q[J],$e=Le.fn;Le.once&&this.off(d,$e,Le.ctx),$e.call(Le.ctx||this,M)}this._firingCount--}}return S&&this._propagateEvent(M),this},listens:function(d,g,S,M){typeof d!="string"&&console.warn('"string" type argument expected');var q=g;typeof g!="function"&&(M=!!g,q=void 0,S=void 0);var J=this._events&&this._events[d];if(J&&J.length&&this._listens(d,q,S)!==!1)return!0;if(M){for(var we in this._eventParents)if(this._eventParents[we].listens(d,g,S,M))return!0}return!1},_listens:function(d,g,S){if(!this._events)return!1;var M=this._events[d]||[];if(!g)return!!M.length;S===this&&(S=void 0);for(var q=0,J=M.length;q<J;q++)if(M[q].fn===g&&M[q].ctx===S)return q;return!1},once:function(d,g,S){if(typeof d=="object")for(var M in d)this._on(M,d[M],g,!0);else{d=x(d);for(var q=0,J=d.length;q<J;q++)this._on(d[q],g,S,!0)}return this},addEventParent:function(d){return this._eventParents=this._eventParents||{},this._eventParents[c(d)]=d,this},removeEventParent:function(d){return this._eventParents&&delete this._eventParents[c(d)],this},_propagateEvent:function(d){for(var g in this._eventParents)this._eventParents[g].fire(d.type,i({layer:d.target,propagatedFrom:d.target},d),!0)}};X.addEventListener=X.on,X.removeEventListener=X.clearAllEventListeners=X.off,X.addOneTimeEventListener=X.once,X.fireEvent=X.fire,X.hasEventListeners=X.listens;var ae=B.extend(X);function W(d,g,S){this.x=S?Math.round(d):d,this.y=S?Math.round(g):g}var te=Math.trunc||function(d){return d>0?Math.floor(d):Math.ceil(d)};W.prototype={clone:function(){return new W(this.x,this.y)},add:function(d){return this.clone()._add(ue(d))},_add:function(d){return this.x+=d.x,this.y+=d.y,this},subtract:function(d){return this.clone()._subtract(ue(d))},_subtract:function(d){return this.x-=d.x,this.y-=d.y,this},divideBy:function(d){return this.clone()._divideBy(d)},_divideBy:function(d){return this.x/=d,this.y/=d,this},multiplyBy:function(d){return this.clone()._multiplyBy(d)},_multiplyBy:function(d){return this.x*=d,this.y*=d,this},scaleBy:function(d){return new W(this.x*d.x,this.y*d.y)},unscaleBy:function(d){return new W(this.x/d.x,this.y/d.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=te(this.x),this.y=te(this.y),this},distanceTo:function(d){d=ue(d);var g=d.x-this.x,S=d.y-this.y;return Math.sqrt(g*g+S*S)},equals:function(d){return d=ue(d),d.x===this.x&&d.y===this.y},contains:function(d){return d=ue(d),Math.abs(d.x)<=Math.abs(this.x)&&Math.abs(d.y)<=Math.abs(this.y)},toString:function(){return"Point("+p(this.x)+", "+p(this.y)+")"}};function ue(d,g,S){return d instanceof W?d:j(d)?new W(d[0],d[1]):d==null?d:typeof d=="object"&&"x"in d&&"y"in d?new W(d.x,d.y):new W(d,g,S)}function ye(d,g){if(d)for(var S=g?[d,g]:d,M=0,q=S.length;M<q;M++)this.extend(S[M])}ye.prototype={extend:function(d){var g,S;if(!d)return this;if(d instanceof W||typeof d[0]=="number"||"x"in d)g=S=ue(d);else if(d=V(d),g=d.min,S=d.max,!g||!S)return this;return!this.min&&!this.max?(this.min=g.clone(),this.max=S.clone()):(this.min.x=Math.min(g.x,this.min.x),this.max.x=Math.max(S.x,this.max.x),this.min.y=Math.min(g.y,this.min.y),this.max.y=Math.max(S.y,this.max.y)),this},getCenter:function(d){return ue((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,d)},getBottomLeft:function(){return ue(this.min.x,this.max.y)},getTopRight:function(){return ue(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(d){var g,S;return typeof d[0]=="number"||d instanceof W?d=ue(d):d=V(d),d instanceof ye?(g=d.min,S=d.max):g=S=d,g.x>=this.min.x&&S.x<=this.max.x&&g.y>=this.min.y&&S.y<=this.max.y},intersects:function(d){d=V(d);var g=this.min,S=this.max,M=d.min,q=d.max,J=q.x>=g.x&&M.x<=S.x,we=q.y>=g.y&&M.y<=S.y;return J&&we},overlaps:function(d){d=V(d);var g=this.min,S=this.max,M=d.min,q=d.max,J=q.x>g.x&&M.x<S.x,we=q.y>g.y&&M.y<S.y;return J&&we},isValid:function(){return!!(this.min&&this.max)},pad:function(d){var g=this.min,S=this.max,M=Math.abs(g.x-S.x)*d,q=Math.abs(g.y-S.y)*d;return V(ue(g.x-M,g.y-q),ue(S.x+M,S.y+q))},equals:function(d){return d?(d=V(d),this.min.equals(d.getTopLeft())&&this.max.equals(d.getBottomRight())):!1}};function V(d,g){return!d||d instanceof ye?d:new ye(d,g)}function ee(d,g){if(d)for(var S=g?[d,g]:d,M=0,q=S.length;M<q;M++)this.extend(S[M])}ee.prototype={extend:function(d){var g=this._southWest,S=this._northEast,M,q;if(d instanceof de)M=d,q=d;else if(d instanceof ee){if(M=d._southWest,q=d._northEast,!M||!q)return this}else return d?this.extend(le(d)||Q(d)):this;return!g&&!S?(this._southWest=new de(M.lat,M.lng),this._northEast=new de(q.lat,q.lng)):(g.lat=Math.min(M.lat,g.lat),g.lng=Math.min(M.lng,g.lng),S.lat=Math.max(q.lat,S.lat),S.lng=Math.max(q.lng,S.lng)),this},pad:function(d){var g=this._southWest,S=this._northEast,M=Math.abs(g.lat-S.lat)*d,q=Math.abs(g.lng-S.lng)*d;return new ee(new de(g.lat-M,g.lng-q),new de(S.lat+M,S.lng+q))},getCenter:function(){return new de((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new de(this.getNorth(),this.getWest())},getSouthEast:function(){return new de(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(d){typeof d[0]=="number"||d instanceof de||"lat"in d?d=le(d):d=Q(d);var g=this._southWest,S=this._northEast,M,q;return d instanceof ee?(M=d.getSouthWest(),q=d.getNorthEast()):M=q=d,M.lat>=g.lat&&q.lat<=S.lat&&M.lng>=g.lng&&q.lng<=S.lng},intersects:function(d){d=Q(d);var g=this._southWest,S=this._northEast,M=d.getSouthWest(),q=d.getNorthEast(),J=q.lat>=g.lat&&M.lat<=S.lat,we=q.lng>=g.lng&&M.lng<=S.lng;return J&&we},overlaps:function(d){d=Q(d);var g=this._southWest,S=this._northEast,M=d.getSouthWest(),q=d.getNorthEast(),J=q.lat>g.lat&&M.lat<S.lat,we=q.lng>g.lng&&M.lng<S.lng;return J&&we},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(d,g){return d?(d=Q(d),this._southWest.equals(d.getSouthWest(),g)&&this._northEast.equals(d.getNorthEast(),g)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Q(d,g){return d instanceof ee?d:new ee(d,g)}function de(d,g,S){if(isNaN(d)||isNaN(g))throw new Error("Invalid LatLng object: ("+d+", "+g+")");this.lat=+d,this.lng=+g,S!==void 0&&(this.alt=+S)}de.prototype={equals:function(d,g){if(!d)return!1;d=le(d);var S=Math.max(Math.abs(this.lat-d.lat),Math.abs(this.lng-d.lng));return S<=(g===void 0?1e-9:g)},toString:function(d){return"LatLng("+p(this.lat,d)+", "+p(this.lng,d)+")"},distanceTo:function(d){return Z.distance(this,le(d))},wrap:function(){return Z.wrapLatLng(this)},toBounds:function(d){var g=180*d/40075017,S=g/Math.cos(Math.PI/180*this.lat);return Q([this.lat-g,this.lng-S],[this.lat+g,this.lng+S])},clone:function(){return new de(this.lat,this.lng,this.alt)}};function le(d,g,S){return d instanceof de?d:j(d)&&typeof d[0]!="object"?d.length===3?new de(d[0],d[1],d[2]):d.length===2?new de(d[0],d[1]):null:d==null?d:typeof d=="object"&&"lat"in d?new de(d.lat,"lng"in d?d.lng:d.lon,d.alt):g===void 0?null:new de(d,g,S)}var ve={latLngToPoint:function(d,g){var S=this.projection.project(d),M=this.scale(g);return this.transformation._transform(S,M)},pointToLatLng:function(d,g){var S=this.scale(g),M=this.transformation.untransform(d,S);return this.projection.unproject(M)},project:function(d){return this.projection.project(d)},unproject:function(d){return this.projection.unproject(d)},scale:function(d){return 256*Math.pow(2,d)},zoom:function(d){return Math.log(d/256)/Math.LN2},getProjectedBounds:function(d){if(this.infinite)return null;var g=this.projection.bounds,S=this.scale(d),M=this.transformation.transform(g.min,S),q=this.transformation.transform(g.max,S);return new ye(M,q)},infinite:!1,wrapLatLng:function(d){var g=this.wrapLng?f(d.lng,this.wrapLng,!0):d.lng,S=this.wrapLat?f(d.lat,this.wrapLat,!0):d.lat,M=d.alt;return new de(S,g,M)},wrapLatLngBounds:function(d){var g=d.getCenter(),S=this.wrapLatLng(g),M=g.lat-S.lat,q=g.lng-S.lng;if(M===0&&q===0)return d;var J=d.getSouthWest(),we=d.getNorthEast(),Le=new de(J.lat-M,J.lng-q),$e=new de(we.lat-M,we.lng-q);return new ee(Le,$e)}},Z=i({},ve,{wrapLng:[-180,180],R:6371e3,distance:function(d,g){var S=Math.PI/180,M=d.lat*S,q=g.lat*S,J=Math.sin((g.lat-d.lat)*S/2),we=Math.sin((g.lng-d.lng)*S/2),Le=J*J+Math.cos(M)*Math.cos(q)*we*we,$e=2*Math.atan2(Math.sqrt(Le),Math.sqrt(1-Le));return this.R*$e}}),ne=6378137,ge={R:ne,MAX_LATITUDE:85.0511287798,project:function(d){var g=Math.PI/180,S=this.MAX_LATITUDE,M=Math.max(Math.min(S,d.lat),-S),q=Math.sin(M*g);return new W(this.R*d.lng*g,this.R*Math.log((1+q)/(1-q))/2)},unproject:function(d){var g=180/Math.PI;return new de((2*Math.atan(Math.exp(d.y/this.R))-Math.PI/2)*g,d.x*g/this.R)},bounds:function(){var d=ne*Math.PI;return new ye([-d,-d],[d,d])}()};function Ee(d,g,S,M){if(j(d)){this._a=d[0],this._b=d[1],this._c=d[2],this._d=d[3];return}this._a=d,this._b=g,this._c=S,this._d=M}Ee.prototype={transform:function(d,g){return this._transform(d.clone(),g)},_transform:function(d,g){return g=g||1,d.x=g*(this._a*d.x+this._b),d.y=g*(this._c*d.y+this._d),d},untransform:function(d,g){return g=g||1,new W((d.x/g-this._b)/this._a,(d.y/g-this._d)/this._c)}};function be(d,g,S,M){return new Ee(d,g,S,M)}var Ue=i({},Z,{code:"EPSG:3857",projection:ge,transformation:function(){var d=.5/(Math.PI*ge.R);return be(d,.5,-d,.5)}()}),Pe=i({},Ue,{code:"EPSG:900913"});function ce(d){return document.createElementNS("http://www.w3.org/2000/svg",d)}function it(d,g){var S="",M,q,J,we,Le,$e;for(M=0,J=d.length;M<J;M++){for(Le=d[M],q=0,we=Le.length;q<we;q++)$e=Le[q],S+=(q?"L":"M")+$e.x+" "+$e.y;S+=g?bt.svg?"z":"x":""}return S||"M0 0"}var _t=document.documentElement.style,gt="ActiveXObject"in window,Ye=gt&&!document.addEventListener,mt="msLaunchUri"in navigator&&!("documentMode"in document),ct=$n("webkit"),fe=$n("android"),Ne=$n("android 2")||$n("android 3"),Ie=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),He=fe&&$n("Google")&&Ie<537&&!("AudioNode"in window),Be=!!window.opera,ze=!mt&&$n("chrome"),Ge=$n("gecko")&&!ct&&!Be&&!gt,st=!ze&&$n("safari"),St=$n("phantom"),vt="OTransition"in _t,Gn=navigator.platform.indexOf("Win")===0,Cn=gt&&"transition"in _t,Ot="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Ne,en="MozPerspective"in _t,Tn=!window.L_DISABLE_3D&&(Cn||Ot||en)&&!vt&&!St,Ut=typeof orientation<"u"||$n("mobile"),$t=Ut&&ct,cn=Ut&&Ot,wn=!window.PointerEvent&&window.MSPointerEvent,Ae=!!(window.PointerEvent||wn),Fe="ontouchstart"in window||!!window.TouchEvent,tt=!window.L_NO_TOUCH&&(Fe||Ae),ut=Ut&&Be,Nn=Ut&&Ge,dn=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Rn=function(){var d=!1;try{var g=Object.defineProperty({},"passive",{get:function(){d=!0}});window.addEventListener("testPassiveEventSupport",h,g),window.removeEventListener("testPassiveEventSupport",h,g)}catch{}return d}(),Xn=function(){return!!document.createElement("canvas").getContext}(),Et=!!(document.createElementNS&&ce("svg").createSVGRect),pr=!!Et&&function(){var d=document.createElement("div");return d.innerHTML="<svg/>",(d.firstChild&&d.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),xi=!Et&&function(){try{var d=document.createElement("div");d.innerHTML='<v:shape adj="1"/>';var g=d.firstChild;return g.style.behavior="url(#default#VML)",g&&typeof g.adj=="object"}catch{return!1}}(),$r=navigator.platform.indexOf("Mac")===0,Vr=navigator.platform.indexOf("Linux")===0;function $n(d){return navigator.userAgent.toLowerCase().indexOf(d)>=0}var bt={ie:gt,ielt9:Ye,edge:mt,webkit:ct,android:fe,android23:Ne,androidStock:He,opera:Be,chrome:ze,gecko:Ge,safari:st,phantom:St,opera12:vt,win:Gn,ie3d:Cn,webkit3d:Ot,gecko3d:en,any3d:Tn,mobile:Ut,mobileWebkit:$t,mobileWebkit3d:cn,msPointer:wn,pointer:Ae,touch:tt,touchNative:Fe,mobileOpera:ut,mobileGecko:Nn,retina:dn,passiveEvents:Rn,canvas:Xn,svg:Et,vml:xi,inlineSvg:pr,mac:$r,linux:Vr},ar=bt.msPointer?"MSPointerDown":"pointerdown",ra=bt.msPointer?"MSPointerMove":"pointermove",Ci=bt.msPointer?"MSPointerUp":"pointerup",qa=bt.msPointer?"MSPointerCancel":"pointercancel",Va={touchstart:ar,touchmove:ra,touchend:Ci,touchcancel:qa},Wa={touchstart:kt,touchmove:un,touchend:un,touchcancel:un},qi={},Pa=!1;function fl(d,g,S){return g==="touchstart"&&mn(),Wa[g]?(S=Wa[g].bind(this,S),d.addEventListener(Va[g],S,!1),S):(console.warn("wrong event specified:",g),h)}function As(d,g,S){if(!Va[g]){console.warn("wrong event specified:",g);return}d.removeEventListener(Va[g],S,!1)}function Re(d){qi[d.pointerId]=d}function at(d){qi[d.pointerId]&&(qi[d.pointerId]=d)}function qt(d){delete qi[d.pointerId]}function mn(){Pa||(document.addEventListener(ar,Re,!0),document.addEventListener(ra,at,!0),document.addEventListener(Ci,qt,!0),document.addEventListener(qa,qt,!0),Pa=!0)}function un(d,g){if(g.pointerType!==(g.MSPOINTER_TYPE_MOUSE||"mouse")){g.touches=[];for(var S in qi)g.touches.push(qi[S]);g.changedTouches=[g],d(g)}}function kt(d,g){g.MSPOINTER_TYPE_TOUCH&&g.pointerType===g.MSPOINTER_TYPE_TOUCH&&Qr(g),un(d,g)}function Ao(d){var g={},S,M;for(M in d)S=d[M],g[M]=S&&S.bind?S.bind(d):S;return d=g,g.type="dblclick",g.detail=2,g.isTrusted=!1,g._simulated=!0,g}var rd=200;function Ha(d,g){d.addEventListener("dblclick",g);var S=0,M;function q(J){if(J.detail!==1){M=J.detail;return}if(!(J.pointerType==="mouse"||J.sourceCapabilities&&!J.sourceCapabilities.firesTouchEvents)){var we=od(J);if(!(we.some(function($e){return $e instanceof HTMLLabelElement&&$e.attributes.for})&&!we.some(function($e){return $e instanceof HTMLInputElement||$e instanceof HTMLSelectElement}))){var Le=Date.now();Le-S<=rd?(M++,M===2&&g(Ao(J))):M=1,S=Le}}}return d.addEventListener("click",q),{dblclick:g,simDblclick:q}}function eu(d,g){d.removeEventListener("dblclick",g.dblclick),d.removeEventListener("click",g.simDblclick)}var tc=nf(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),no=nf(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Wh=no==="webkitTransition"||no==="OTransition"?no+"End":"transitionend";function Hh(d){return typeof d=="string"?document.getElementById(d):d}function tu(d,g){var S=d.style[g]||d.currentStyle&&d.currentStyle[g];if((!S||S==="auto")&&document.defaultView){var M=document.defaultView.getComputedStyle(d,null);S=M?M[g]:null}return S==="auto"?null:S}function Kn(d,g,S){var M=document.createElement(d);return M.className=g||"",S&&S.appendChild(M),M}function Fr(d){var g=d.parentNode;g&&g.removeChild(d)}function Yr(d){for(;d.firstChild;)d.removeChild(d.firstChild)}function nc(d){var g=d.parentNode;g&&g.lastChild!==d&&g.appendChild(d)}function rc(d){var g=d.parentNode;g&&g.firstChild!==d&&g.insertBefore(d,g.firstChild)}function Po(d,g){if(d.classList!==void 0)return d.classList.contains(g);var S=Wr(d);return S.length>0&&new RegExp("(^|\\s)"+g+"(\\s|$)").test(S)}function xn(d,g){if(d.classList!==void 0)for(var S=x(g),M=0,q=S.length;M<q;M++)d.classList.add(S[M]);else if(!Po(d,g)){var J=Wr(d);ic(d,(J?J+" ":"")+g)}}function sr(d,g){d.classList!==void 0?d.classList.remove(g):ic(d,m((" "+Wr(d)+" ").replace(" "+g+" "," ")))}function ic(d,g){d.className.baseVal===void 0?d.className=g:d.className.baseVal=g}function Wr(d){return d.correspondingElement&&(d=d.correspondingElement),d.className.baseVal===void 0?d.className:d.className.baseVal}function Ca(d,g){"opacity"in d.style?d.style.opacity=g:"filter"in d.style&&Hy(d,g)}function Hy(d,g){var S=!1,M="DXImageTransform.Microsoft.Alpha";try{S=d.filters.item(M)}catch{if(g===1)return}g=Math.round(g*100),S?(S.Enabled=g!==100,S.Opacity=g):d.style.filter+=" progid:"+M+"(opacity="+g+")"}function nf(d){for(var g=document.documentElement.style,S=0;S<d.length;S++)if(d[S]in g)return d[S];return!1}function ac(d,g,S){var M=g||new W(0,0);d.style[tc]=(bt.ie3d?"translate("+M.x+"px,"+M.y+"px)":"translate3d("+M.x+"px,"+M.y+"px,0)")+(S?" scale("+S+")":"")}function mr(d,g){d._leaflet_pos=g,bt.any3d?ac(d,g):(d.style.left=g.x+"px",d.style.top=g.y+"px")}function hl(d){return d._leaflet_pos||new W(0,0)}var nu,ro,id;if("onselectstart"in document)nu=function(){Sn(window,"selectstart",Qr)},ro=function(){Nr(window,"selectstart",Qr)};else{var ad=nf(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);nu=function(){if(ad){var d=document.documentElement.style;id=d[ad],d[ad]="none"}},ro=function(){ad&&(document.documentElement.style[ad]=id,id=void 0)}}function Kh(){Sn(window,"dragstart",Qr)}function Gh(){Nr(window,"dragstart",Qr)}var ru,sc;function pl(d){for(;d.tabIndex===-1;)d=d.parentNode;d.style&&(rf(),ru=d,sc=d.style.outlineStyle,d.style.outlineStyle="none",Sn(window,"keydown",rf))}function rf(){ru&&(ru.style.outlineStyle=sc,ru=void 0,sc=void 0,Nr(window,"keydown",rf))}function iu(d){do d=d.parentNode;while((!d.offsetWidth||!d.offsetHeight)&&d!==document.body);return d}function sd(d){var g=d.getBoundingClientRect();return{x:g.width/d.offsetWidth||1,y:g.height/d.offsetHeight||1,boundingClientRect:g}}var _n={__proto__:null,TRANSFORM:tc,TRANSITION:no,TRANSITION_END:Wh,get:Hh,getStyle:tu,create:Kn,remove:Fr,empty:Yr,toFront:nc,toBack:rc,hasClass:Po,addClass:xn,removeClass:sr,setClass:ic,getClass:Wr,setOpacity:Ca,testProp:nf,setTransform:ac,setPosition:mr,getPosition:hl,get disableTextSelection(){return nu},get enableTextSelection(){return ro},disableImageDrag:Kh,enableImageDrag:Gh,preventOutline:pl,restoreOutline:rf,getSizedParentNode:iu,getScale:sd};function Sn(d,g,S,M){if(g&&typeof g=="object")for(var q in g)Eo(d,q,g[q],S);else{g=x(g);for(var J=0,we=g.length;J<we;J++)Eo(d,g[J],S,M)}return this}var io="_leaflet_events";function Nr(d,g,S,M){if(arguments.length===1)km(d),delete d[io];else if(g&&typeof g=="object")for(var q in g)Zh(d,q,g[q],S);else if(g=x(g),arguments.length===2)km(d,function(Le){return P(g,Le)!==-1});else for(var J=0,we=g.length;J<we;J++)Zh(d,g[J],S,M);return this}function km(d,g){for(var S in d[io]){var M=S.split(/\d/)[0];(!g||g(M))&&Zh(d,M,null,null,S)}}var Co={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Eo(d,g,S,M){var q=g+c(S)+(M?"_"+c(M):"");if(d[io]&&d[io][q])return this;var J=function(Le){return S.call(M||d,Le||window.event)},we=J;!bt.touchNative&&bt.pointer&&g.indexOf("touch")===0?J=fl(d,g,J):bt.touch&&g==="dblclick"?J=Ha(d,J):"addEventListener"in d?g==="touchstart"||g==="touchmove"||g==="wheel"||g==="mousewheel"?d.addEventListener(Co[g]||g,J,bt.passiveEvents?{passive:!1}:!1):g==="mouseenter"||g==="mouseleave"?(J=function(Le){Le=Le||window.event,cc(d,Le)&&we(Le)},d.addEventListener(Co[g],J,!1)):d.addEventListener(g,we,!1):d.attachEvent("on"+g,J),d[io]=d[io]||{},d[io][q]=J}function Zh(d,g,S,M,q){q=q||g+c(S)+(M?"_"+c(M):"");var J=d[io]&&d[io][q];if(!J)return this;!bt.touchNative&&bt.pointer&&g.indexOf("touch")===0?As(d,g,J):bt.touch&&g==="dblclick"?eu(d,J):"removeEventListener"in d?d.removeEventListener(Co[g]||g,J,!1):d.detachEvent("on"+g,J),d[io][q]=null}function oc(d){return d.stopPropagation?d.stopPropagation():d.originalEvent?d.originalEvent._stopped=!0:d.cancelBubble=!0,this}function au(d){return Eo(d,"wheel",oc),this}function lc(d){return Sn(d,"mousedown touchstart dblclick contextmenu",oc),d._leaflet_disable_click=!0,this}function Qr(d){return d.preventDefault?d.preventDefault():d.returnValue=!1,this}function ao(d){return Qr(d),oc(d),this}function od(d){if(d.composedPath)return d.composedPath();for(var g=[],S=d.target;S;)g.push(S),S=S.parentNode;return g}function Tm(d,g){if(!g)return new W(d.clientX,d.clientY);var S=sd(g),M=S.boundingClientRect;return new W((d.clientX-M.left)/S.x-g.clientLeft,(d.clientY-M.top)/S.y-g.clientTop)}var Xh=bt.linux&&bt.chrome?window.devicePixelRatio:bt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function af(d){return bt.edge?d.wheelDeltaY/2:d.deltaY&&d.deltaMode===0?-d.deltaY/Xh:d.deltaY&&d.deltaMode===1?-d.deltaY*20:d.deltaY&&d.deltaMode===2?-d.deltaY*60:d.deltaX||d.deltaZ?0:d.wheelDelta?(d.wheelDeltaY||d.wheelDelta)/2:d.detail&&Math.abs(d.detail)<32765?-d.detail*20:d.detail?d.detail/-32765*60:0}function cc(d,g){var S=g.relatedTarget;if(!S)return!0;try{for(;S&&S!==d;)S=S.parentNode}catch{return!1}return S!==d}var ld={__proto__:null,on:Sn,off:Nr,stopPropagation:oc,disableScrollPropagation:au,disableClickPropagation:lc,preventDefault:Qr,stop:ao,getPropagationPath:od,getMousePosition:Tm,getWheelDelta:af,isExternalTarget:cc,addListener:Sn,removeListener:Nr},sf=ae.extend({run:function(d,g,S,M){this.stop(),this._el=d,this._inProgress=!0,this._duration=S||.25,this._easeOutPower=1/Math.max(M||.5,.2),this._startPos=hl(d),this._offset=g.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=T(this._animate,this),this._step()},_step:function(d){var g=+new Date-this._startTime,S=this._duration*1e3;g<S?this._runFrame(this._easeOut(g/S),d):(this._runFrame(1),this._complete())},_runFrame:function(d,g){var S=this._startPos.add(this._offset.multiplyBy(d));g&&S._round(),mr(this._el,S),this.fire("step")},_complete:function(){k(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(d){return 1-Math.pow(1-d,this._easeOutPower)}}),Fn=ae.extend({options:{crs:Ue,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(d,g){g=v(this,g),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(d),this._initLayout(),this._onResize=o(this._onResize,this),this._initEvents(),g.maxBounds&&this.setMaxBounds(g.maxBounds),g.zoom!==void 0&&(this._zoom=this._limitZoom(g.zoom)),g.center&&g.zoom!==void 0&&this.setView(le(g.center),g.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=no&&bt.any3d&&!bt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Sn(this._proxy,Wh,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(d,g,S){if(g=g===void 0?this._zoom:this._limitZoom(g),d=this._limitCenter(le(d),g,this.options.maxBounds),S=S||{},this._stop(),this._loaded&&!S.reset&&S!==!0){S.animate!==void 0&&(S.zoom=i({animate:S.animate},S.zoom),S.pan=i({animate:S.animate,duration:S.duration},S.pan));var M=this._zoom!==g?this._tryAnimatedZoom&&this._tryAnimatedZoom(d,g,S.zoom):this._tryAnimatedPan(d,S.pan);if(M)return clearTimeout(this._sizeTimer),this}return this._resetView(d,g,S.pan&&S.pan.noMoveStart),this},setZoom:function(d,g){return this._loaded?this.setView(this.getCenter(),d,{zoom:g}):(this._zoom=d,this)},zoomIn:function(d,g){return d=d||(bt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+d,g)},zoomOut:function(d,g){return d=d||(bt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-d,g)},setZoomAround:function(d,g,S){var M=this.getZoomScale(g),q=this.getSize().divideBy(2),J=d instanceof W?d:this.latLngToContainerPoint(d),we=J.subtract(q).multiplyBy(1-1/M),Le=this.containerPointToLatLng(q.add(we));return this.setView(Le,g,{zoom:S})},_getBoundsCenterZoom:function(d,g){g=g||{},d=d.getBounds?d.getBounds():Q(d);var S=ue(g.paddingTopLeft||g.padding||[0,0]),M=ue(g.paddingBottomRight||g.padding||[0,0]),q=this.getBoundsZoom(d,!1,S.add(M));if(q=typeof g.maxZoom=="number"?Math.min(g.maxZoom,q):q,q===1/0)return{center:d.getCenter(),zoom:q};var J=M.subtract(S).divideBy(2),we=this.project(d.getSouthWest(),q),Le=this.project(d.getNorthEast(),q),$e=this.unproject(we.add(Le).divideBy(2).add(J),q);return{center:$e,zoom:q}},fitBounds:function(d,g){if(d=Q(d),!d.isValid())throw new Error("Bounds are not valid.");var S=this._getBoundsCenterZoom(d,g);return this.setView(S.center,S.zoom,g)},fitWorld:function(d){return this.fitBounds([[-90,-180],[90,180]],d)},panTo:function(d,g){return this.setView(d,this._zoom,{pan:g})},panBy:function(d,g){if(d=ue(d).round(),g=g||{},!d.x&&!d.y)return this.fire("moveend");if(g.animate!==!0&&!this.getSize().contains(d))return this._resetView(this.unproject(this.project(this.getCenter()).add(d)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new sf,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),g.noMoveStart||this.fire("movestart"),g.animate!==!1){xn(this._mapPane,"leaflet-pan-anim");var S=this._getMapPanePos().subtract(d).round();this._panAnim.run(this._mapPane,S,g.duration||.25,g.easeLinearity)}else this._rawPanBy(d),this.fire("move").fire("moveend");return this},flyTo:function(d,g,S){if(S=S||{},S.animate===!1||!bt.any3d)return this.setView(d,g,S);this._stop();var M=this.project(this.getCenter()),q=this.project(d),J=this.getSize(),we=this._zoom;d=le(d),g=g===void 0?we:g;var Le=Math.max(J.x,J.y),$e=Le*this.getZoomScale(we,g),nt=q.distanceTo(M)||1,Ct=1.42,rn=Ct*Ct;function qn(Or){var Xa=Or?-1:1,gS=Or?$e:Le,vS=$e*$e-Le*Le+Xa*rn*rn*nt*nt,Jb=2*gS*rn*nt,zm=vS/Jb,t0=Math.sqrt(zm*zm+1)-zm,ew=t0<1e-9?-18:Math.log(t0);return ew}function Za(Or){return(Math.exp(Or)-Math.exp(-Or))/2}function Hi(Or){return(Math.exp(Or)+Math.exp(-Or))/2}function lo(Or){return Za(Or)/Hi(Or)}var ds=qn(0);function pf(Or){return Le*(Hi(ds)/Hi(ds+Ct*Or))}function pS(Or){return Le*(Hi(ds)*lo(ds+Ct*Or)-Za(ds))/rn}function pu(Or){return 1-Math.pow(1-Or,1.5)}var Mo=Date.now(),Nl=(qn(1)-ds)/Ct,mS=S.duration?1e3*S.duration:1e3*Nl*.8;function e0(){var Or=(Date.now()-Mo)/mS,Xa=pu(Or)*Nl;Or<=1?(this._flyToFrame=T(e0,this),this._move(this.unproject(M.add(q.subtract(M).multiplyBy(pS(Xa)/nt)),we),this.getScaleZoom(Le/pf(Xa),we),{flyTo:!0})):this._move(d,g)._moveEnd(!0)}return this._moveStart(!0,S.noMoveStart),e0.call(this),this},flyToBounds:function(d,g){var S=this._getBoundsCenterZoom(d,g);return this.flyTo(S.center,S.zoom,g)},setMaxBounds:function(d){return d=Q(d),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),d.isValid()?(this.options.maxBounds=d,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(d){var g=this.options.minZoom;return this.options.minZoom=d,this._loaded&&g!==d&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(d):this},setMaxZoom:function(d){var g=this.options.maxZoom;return this.options.maxZoom=d,this._loaded&&g!==d&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(d):this},panInsideBounds:function(d,g){this._enforcingBounds=!0;var S=this.getCenter(),M=this._limitCenter(S,this._zoom,Q(d));return S.equals(M)||this.panTo(M,g),this._enforcingBounds=!1,this},panInside:function(d,g){g=g||{};var S=ue(g.paddingTopLeft||g.padding||[0,0]),M=ue(g.paddingBottomRight||g.padding||[0,0]),q=this.project(this.getCenter()),J=this.project(d),we=this.getPixelBounds(),Le=V([we.min.add(S),we.max.subtract(M)]),$e=Le.getSize();if(!Le.contains(J)){this._enforcingBounds=!0;var nt=J.subtract(Le.getCenter()),Ct=Le.extend(J).getSize().subtract($e);q.x+=nt.x<0?-Ct.x:Ct.x,q.y+=nt.y<0?-Ct.y:Ct.y,this.panTo(this.unproject(q),g),this._enforcingBounds=!1}return this},invalidateSize:function(d){if(!this._loaded)return this;d=i({animate:!1,pan:!0},d===!0?{animate:!0}:d);var g=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var S=this.getSize(),M=g.divideBy(2).round(),q=S.divideBy(2).round(),J=M.subtract(q);return!J.x&&!J.y?this:(d.animate&&d.pan?this.panBy(J):(d.pan&&this._rawPanBy(J),this.fire("move"),d.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(o(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:g,newSize:S}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(d){if(d=this._locateOptions=i({timeout:1e4,watch:!1},d),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var g=o(this._handleGeolocationResponse,this),S=o(this._handleGeolocationError,this);return d.watch?this._locationWatchId=navigator.geolocation.watchPosition(g,S,d):navigator.geolocation.getCurrentPosition(g,S,d),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(d){if(this._container._leaflet_id){var g=d.code,S=d.message||(g===1?"permission denied":g===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:g,message:"Geolocation error: "+S+"."})}},_handleGeolocationResponse:function(d){if(this._container._leaflet_id){var g=d.coords.latitude,S=d.coords.longitude,M=new de(g,S),q=M.toBounds(d.coords.accuracy*2),J=this._locateOptions;if(J.setView){var we=this.getBoundsZoom(q);this.setView(M,J.maxZoom?Math.min(we,J.maxZoom):we)}var Le={latlng:M,bounds:q,timestamp:d.timestamp};for(var $e in d.coords)typeof d.coords[$e]=="number"&&(Le[$e]=d.coords[$e]);this.fire("locationfound",Le)}},addHandler:function(d,g){if(!g)return this;var S=this[d]=new g(this);return this._handlers.push(S),this.options[d]&&S.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Fr(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(k(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var d;for(d in this._layers)this._layers[d].remove();for(d in this._panes)Fr(this._panes[d]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(d,g){var S="leaflet-pane"+(d?" leaflet-"+d.replace("Pane","")+"-pane":""),M=Kn("div",S,g||this._mapPane);return d&&(this._panes[d]=M),M},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var d=this.getPixelBounds(),g=this.unproject(d.getBottomLeft()),S=this.unproject(d.getTopRight());return new ee(g,S)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(d,g,S){d=Q(d),S=ue(S||[0,0]);var M=this.getZoom()||0,q=this.getMinZoom(),J=this.getMaxZoom(),we=d.getNorthWest(),Le=d.getSouthEast(),$e=this.getSize().subtract(S),nt=V(this.project(Le,M),this.project(we,M)).getSize(),Ct=bt.any3d?this.options.zoomSnap:1,rn=$e.x/nt.x,qn=$e.y/nt.y,Za=g?Math.max(rn,qn):Math.min(rn,qn);return M=this.getScaleZoom(Za,M),Ct&&(M=Math.round(M/(Ct/100))*(Ct/100),M=g?Math.ceil(M/Ct)*Ct:Math.floor(M/Ct)*Ct),Math.max(q,Math.min(J,M))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new W(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(d,g){var S=this._getTopLeftPoint(d,g);return new ye(S,S.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(d){return this.options.crs.getProjectedBounds(d===void 0?this.getZoom():d)},getPane:function(d){return typeof d=="string"?this._panes[d]:d},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(d,g){var S=this.options.crs;return g=g===void 0?this._zoom:g,S.scale(d)/S.scale(g)},getScaleZoom:function(d,g){var S=this.options.crs;g=g===void 0?this._zoom:g;var M=S.zoom(d*S.scale(g));return isNaN(M)?1/0:M},project:function(d,g){return g=g===void 0?this._zoom:g,this.options.crs.latLngToPoint(le(d),g)},unproject:function(d,g){return g=g===void 0?this._zoom:g,this.options.crs.pointToLatLng(ue(d),g)},layerPointToLatLng:function(d){var g=ue(d).add(this.getPixelOrigin());return this.unproject(g)},latLngToLayerPoint:function(d){var g=this.project(le(d))._round();return g._subtract(this.getPixelOrigin())},wrapLatLng:function(d){return this.options.crs.wrapLatLng(le(d))},wrapLatLngBounds:function(d){return this.options.crs.wrapLatLngBounds(Q(d))},distance:function(d,g){return this.options.crs.distance(le(d),le(g))},containerPointToLayerPoint:function(d){return ue(d).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(d){return ue(d).add(this._getMapPanePos())},containerPointToLatLng:function(d){var g=this.containerPointToLayerPoint(ue(d));return this.layerPointToLatLng(g)},latLngToContainerPoint:function(d){return this.layerPointToContainerPoint(this.latLngToLayerPoint(le(d)))},mouseEventToContainerPoint:function(d){return Tm(d,this._container)},mouseEventToLayerPoint:function(d){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(d))},mouseEventToLatLng:function(d){return this.layerPointToLatLng(this.mouseEventToLayerPoint(d))},_initContainer:function(d){var g=this._container=Hh(d);if(g){if(g._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Sn(g,"scroll",this._onScroll,this),this._containerId=c(g)},_initLayout:function(){var d=this._container;this._fadeAnimated=this.options.fadeAnimation&&bt.any3d,xn(d,"leaflet-container"+(bt.touch?" leaflet-touch":"")+(bt.retina?" leaflet-retina":"")+(bt.ielt9?" leaflet-oldie":"")+(bt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var g=tu(d,"position");g!=="absolute"&&g!=="relative"&&g!=="fixed"&&g!=="sticky"&&(d.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var d=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),mr(this._mapPane,new W(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(xn(d.markerPane,"leaflet-zoom-hide"),xn(d.shadowPane,"leaflet-zoom-hide"))},_resetView:function(d,g,S){mr(this._mapPane,new W(0,0));var M=!this._loaded;this._loaded=!0,g=this._limitZoom(g),this.fire("viewprereset");var q=this._zoom!==g;this._moveStart(q,S)._move(d,g)._moveEnd(q),this.fire("viewreset"),M&&this.fire("load")},_moveStart:function(d,g){return d&&this.fire("zoomstart"),g||this.fire("movestart"),this},_move:function(d,g,S,M){g===void 0&&(g=this._zoom);var q=this._zoom!==g;return this._zoom=g,this._lastCenter=d,this._pixelOrigin=this._getNewPixelOrigin(d),M?S&&S.pinch&&this.fire("zoom",S):((q||S&&S.pinch)&&this.fire("zoom",S),this.fire("move",S)),this},_moveEnd:function(d){return d&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return k(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(d){mr(this._mapPane,this._getMapPanePos().subtract(d))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(d){this._targets={},this._targets[c(this._container)]=this;var g=d?Nr:Sn;g(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&g(window,"resize",this._onResize,this),bt.any3d&&this.options.transform3DLimit&&(d?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){k(this._resizeRequest),this._resizeRequest=T(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var d=this._getMapPanePos();Math.max(Math.abs(d.x),Math.abs(d.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(d,g){for(var S=[],M,q=g==="mouseout"||g==="mouseover",J=d.target||d.srcElement,we=!1;J;){if(M=this._targets[c(J)],M&&(g==="click"||g==="preclick")&&this._draggableMoved(M)){we=!0;break}if(M&&M.listens(g,!0)&&(q&&!cc(J,d)||(S.push(M),q))||J===this._container)break;J=J.parentNode}return!S.length&&!we&&!q&&this.listens(g,!0)&&(S=[this]),S},_isClickDisabled:function(d){for(;d&&d!==this._container;){if(d._leaflet_disable_click)return!0;d=d.parentNode}},_handleDOMEvent:function(d){var g=d.target||d.srcElement;if(!(!this._loaded||g._leaflet_disable_events||d.type==="click"&&this._isClickDisabled(g))){var S=d.type;S==="mousedown"&&pl(g),this._fireDOMEvent(d,S)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(d,g,S){if(d.type==="click"){var M=i({},d);M.type="preclick",this._fireDOMEvent(M,M.type,S)}var q=this._findEventTargets(d,g);if(S){for(var J=[],we=0;we<S.length;we++)S[we].listens(g,!0)&&J.push(S[we]);q=J.concat(q)}if(q.length){g==="contextmenu"&&Qr(d);var Le=q[0],$e={originalEvent:d};if(d.type!=="keypress"&&d.type!=="keydown"&&d.type!=="keyup"){var nt=Le.getLatLng&&(!Le._radius||Le._radius<=10);$e.containerPoint=nt?this.latLngToContainerPoint(Le.getLatLng()):this.mouseEventToContainerPoint(d),$e.layerPoint=this.containerPointToLayerPoint($e.containerPoint),$e.latlng=nt?Le.getLatLng():this.layerPointToLatLng($e.layerPoint)}for(we=0;we<q.length;we++)if(q[we].fire(g,$e,!0),$e.originalEvent._stopped||q[we].options.bubblingMouseEvents===!1&&P(this._mouseEvents,g)!==-1)return}},_draggableMoved:function(d){return d=d.dragging&&d.dragging.enabled()?d:this,d.dragging&&d.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var d=0,g=this._handlers.length;d<g;d++)this._handlers[d].disable()},whenReady:function(d,g){return this._loaded?d.call(g||this,{target:this}):this.on("load",d,g),this},_getMapPanePos:function(){return hl(this._mapPane)||new W(0,0)},_moved:function(){var d=this._getMapPanePos();return d&&!d.equals([0,0])},_getTopLeftPoint:function(d,g){var S=d&&g!==void 0?this._getNewPixelOrigin(d,g):this.getPixelOrigin();return S.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(d,g){var S=this.getSize()._divideBy(2);return this.project(d,g)._subtract(S)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(d,g,S){var M=this._getNewPixelOrigin(S,g);return this.project(d,g)._subtract(M)},_latLngBoundsToNewLayerBounds:function(d,g,S){var M=this._getNewPixelOrigin(S,g);return V([this.project(d.getSouthWest(),g)._subtract(M),this.project(d.getNorthWest(),g)._subtract(M),this.project(d.getSouthEast(),g)._subtract(M),this.project(d.getNorthEast(),g)._subtract(M)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(d){return this.latLngToLayerPoint(d).subtract(this._getCenterLayerPoint())},_limitCenter:function(d,g,S){if(!S)return d;var M=this.project(d,g),q=this.getSize().divideBy(2),J=new ye(M.subtract(q),M.add(q)),we=this._getBoundsOffset(J,S,g);return Math.abs(we.x)<=1&&Math.abs(we.y)<=1?d:this.unproject(M.add(we),g)},_limitOffset:function(d,g){if(!g)return d;var S=this.getPixelBounds(),M=new ye(S.min.add(d),S.max.add(d));return d.add(this._getBoundsOffset(M,g))},_getBoundsOffset:function(d,g,S){var M=V(this.project(g.getNorthEast(),S),this.project(g.getSouthWest(),S)),q=M.min.subtract(d.min),J=M.max.subtract(d.max),we=this._rebound(q.x,-J.x),Le=this._rebound(q.y,-J.y);return new W(we,Le)},_rebound:function(d,g){return d+g>0?Math.round(d-g)/2:Math.max(0,Math.ceil(d))-Math.max(0,Math.floor(g))},_limitZoom:function(d){var g=this.getMinZoom(),S=this.getMaxZoom(),M=bt.any3d?this.options.zoomSnap:1;return M&&(d=Math.round(d/M)*M),Math.max(g,Math.min(S,d))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){sr(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(d,g){var S=this._getCenterOffset(d)._trunc();return(g&&g.animate)!==!0&&!this.getSize().contains(S)?!1:(this.panBy(S,g),!0)},_createAnimProxy:function(){var d=this._proxy=Kn("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(d),this.on("zoomanim",function(g){var S=tc,M=this._proxy.style[S];ac(this._proxy,this.project(g.center,g.zoom),this.getZoomScale(g.zoom,1)),M===this._proxy.style[S]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Fr(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var d=this.getCenter(),g=this.getZoom();ac(this._proxy,this.project(d,g),this.getZoomScale(g,1))},_catchTransitionEnd:function(d){this._animatingZoom&&d.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(d,g,S){if(this._animatingZoom)return!0;if(S=S||{},!this._zoomAnimated||S.animate===!1||this._nothingToAnimate()||Math.abs(g-this._zoom)>this.options.zoomAnimationThreshold)return!1;var M=this.getZoomScale(g),q=this._getCenterOffset(d)._divideBy(1-1/M);return S.animate!==!0&&!this.getSize().contains(q)?!1:(T(function(){this._moveStart(!0,S.noMoveStart||!1)._animateZoom(d,g,!0)},this),!0)},_animateZoom:function(d,g,S,M){this._mapPane&&(S&&(this._animatingZoom=!0,this._animateToCenter=d,this._animateToZoom=g,xn(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:d,zoom:g,noUpdate:M}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(o(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&sr(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Yh(d,g){return new Fn(d,g)}var fa=B.extend({options:{position:"topright"},initialize:function(d){v(this,d)},getPosition:function(){return this.options.position},setPosition:function(d){var g=this._map;return g&&g.removeControl(this),this.options.position=d,g&&g.addControl(this),this},getContainer:function(){return this._container},addTo:function(d){this.remove(),this._map=d;var g=this._container=this.onAdd(d),S=this.getPosition(),M=d._controlCorners[S];return xn(g,"leaflet-control"),S.indexOf("bottom")!==-1?M.insertBefore(g,M.firstChild):M.appendChild(g),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Fr(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(d){this._map&&d&&d.screenX>0&&d.screenY>0&&this._map.getContainer().focus()}}),uc=function(d){return new fa(d)};Fn.include({addControl:function(d){return d.addTo(this),this},removeControl:function(d){return d.remove(),this},_initControlPos:function(){var d=this._controlCorners={},g="leaflet-",S=this._controlContainer=Kn("div",g+"control-container",this._container);function M(q,J){var we=g+q+" "+g+J;d[q+J]=Kn("div",we,S)}M("top","left"),M("top","right"),M("bottom","left"),M("bottom","right")},_clearControlPos:function(){for(var d in this._controlCorners)Fr(this._controlCorners[d]);Fr(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var of=fa.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(d,g,S,M){return S<M?-1:M<S?1:0}},initialize:function(d,g,S){v(this,S),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var M in d)this._addLayer(d[M],M);for(M in g)this._addLayer(g[M],M,!0)},onAdd:function(d){this._initLayout(),this._update(),this._map=d,d.on("zoomend",this._checkDisabledLayers,this);for(var g=0;g<this._layers.length;g++)this._layers[g].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(d){return fa.prototype.addTo.call(this,d),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var d=0;d<this._layers.length;d++)this._layers[d].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(d,g){return this._addLayer(d,g),this._map?this._update():this},addOverlay:function(d,g){return this._addLayer(d,g,!0),this._map?this._update():this},removeLayer:function(d){d.off("add remove",this._onLayerChange,this);var g=this._getLayer(c(d));return g&&this._layers.splice(this._layers.indexOf(g),1),this._map?this._update():this},expand:function(){xn(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var d=this._map.getSize().y-(this._container.offsetTop+50);return d<this._section.clientHeight?(xn(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=d+"px"):sr(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return sr(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var d="leaflet-control-layers",g=this._container=Kn("div",d),S=this.options.collapsed;g.setAttribute("aria-haspopup",!0),lc(g),au(g);var M=this._section=Kn("section",d+"-list");S&&(this._map.on("click",this.collapse,this),Sn(g,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var q=this._layersLink=Kn("a",d+"-toggle",g);q.href="#",q.title="Layers",q.setAttribute("role","button"),Sn(q,{keydown:function(J){J.keyCode===13&&this._expandSafely()},click:function(J){Qr(J),this._expandSafely()}},this),S||this.expand(),this._baseLayersList=Kn("div",d+"-base",M),this._separator=Kn("div",d+"-separator",M),this._overlaysList=Kn("div",d+"-overlays",M),g.appendChild(M)},_getLayer:function(d){for(var g=0;g<this._layers.length;g++)if(this._layers[g]&&c(this._layers[g].layer)===d)return this._layers[g]},_addLayer:function(d,g,S){this._map&&d.on("add remove",this._onLayerChange,this),this._layers.push({layer:d,name:g,overlay:S}),this.options.sortLayers&&this._layers.sort(o(function(M,q){return this.options.sortFunction(M.layer,q.layer,M.name,q.name)},this)),this.options.autoZIndex&&d.setZIndex&&(this._lastZIndex++,d.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Yr(this._baseLayersList),Yr(this._overlaysList),this._layerControlInputs=[];var d,g,S,M,q=0;for(S=0;S<this._layers.length;S++)M=this._layers[S],this._addItem(M),g=g||M.overlay,d=d||!M.overlay,q+=M.overlay?0:1;return this.options.hideSingleBase&&(d=d&&q>1,this._baseLayersList.style.display=d?"":"none"),this._separator.style.display=g&&d?"":"none",this},_onLayerChange:function(d){this._handlingClick||this._update();var g=this._getLayer(c(d.target)),S=g.overlay?d.type==="add"?"overlayadd":"overlayremove":d.type==="add"?"baselayerchange":null;S&&this._map.fire(S,g)},_createRadioElement:function(d,g){var S='<input type="radio" class="leaflet-control-layers-selector" name="'+d+'"'+(g?' checked="checked"':"")+"/>",M=document.createElement("div");return M.innerHTML=S,M.firstChild},_addItem:function(d){var g=document.createElement("label"),S=this._map.hasLayer(d.layer),M;d.overlay?(M=document.createElement("input"),M.type="checkbox",M.className="leaflet-control-layers-selector",M.defaultChecked=S):M=this._createRadioElement("leaflet-base-layers_"+c(this),S),this._layerControlInputs.push(M),M.layerId=c(d.layer),Sn(M,"click",this._onInputClick,this);var q=document.createElement("span");q.innerHTML=" "+d.name;var J=document.createElement("span");g.appendChild(J),J.appendChild(M),J.appendChild(q);var we=d.overlay?this._overlaysList:this._baseLayersList;return we.appendChild(g),this._checkDisabledLayers(),g},_onInputClick:function(){if(!this._preventClick){var d=this._layerControlInputs,g,S,M=[],q=[];this._handlingClick=!0;for(var J=d.length-1;J>=0;J--)g=d[J],S=this._getLayer(g.layerId).layer,g.checked?M.push(S):g.checked||q.push(S);for(J=0;J<q.length;J++)this._map.hasLayer(q[J])&&this._map.removeLayer(q[J]);for(J=0;J<M.length;J++)this._map.hasLayer(M[J])||this._map.addLayer(M[J]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var d=this._layerControlInputs,g,S,M=this._map.getZoom(),q=d.length-1;q>=0;q--)g=d[q],S=this._getLayer(g.layerId).layer,g.disabled=S.options.minZoom!==void 0&&M<S.options.minZoom||S.options.maxZoom!==void 0&&M>S.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var d=this._section;this._preventClick=!0,Sn(d,"click",Qr),this.expand();var g=this;setTimeout(function(){Nr(d,"click",Qr),g._preventClick=!1})}}),Ps=function(d,g,S){return new of(d,g,S)},so=fa.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(d){var g="leaflet-control-zoom",S=Kn("div",g+" leaflet-bar"),M=this.options;return this._zoomInButton=this._createButton(M.zoomInText,M.zoomInTitle,g+"-in",S,this._zoomIn),this._zoomOutButton=this._createButton(M.zoomOutText,M.zoomOutTitle,g+"-out",S,this._zoomOut),this._updateDisabled(),d.on("zoomend zoomlevelschange",this._updateDisabled,this),S},onRemove:function(d){d.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(d){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(d.shiftKey?3:1))},_zoomOut:function(d){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(d.shiftKey?3:1))},_createButton:function(d,g,S,M,q){var J=Kn("a",S,M);return J.innerHTML=d,J.href="#",J.title=g,J.setAttribute("role","button"),J.setAttribute("aria-label",g),lc(J),Sn(J,"click",ao),Sn(J,"click",q,this),Sn(J,"click",this._refocusOnMap,this),J},_updateDisabled:function(){var d=this._map,g="leaflet-disabled";sr(this._zoomInButton,g),sr(this._zoomOutButton,g),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||d._zoom===d.getMinZoom())&&(xn(this._zoomOutButton,g),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||d._zoom===d.getMaxZoom())&&(xn(this._zoomInButton,g),this._zoomInButton.setAttribute("aria-disabled","true"))}});Fn.mergeOptions({zoomControl:!0}),Fn.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new so,this.addControl(this.zoomControl))});var R=function(d){return new so(d)},K=fa.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(d){var g="leaflet-control-scale",S=Kn("div",g),M=this.options;return this._addScales(M,g+"-line",S),d.on(M.updateWhenIdle?"moveend":"move",this._update,this),d.whenReady(this._update,this),S},onRemove:function(d){d.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(d,g,S){d.metric&&(this._mScale=Kn("div",g,S)),d.imperial&&(this._iScale=Kn("div",g,S))},_update:function(){var d=this._map,g=d.getSize().y/2,S=d.distance(d.containerPointToLatLng([0,g]),d.containerPointToLatLng([this.options.maxWidth,g]));this._updateScales(S)},_updateScales:function(d){this.options.metric&&d&&this._updateMetric(d),this.options.imperial&&d&&this._updateImperial(d)},_updateMetric:function(d){var g=this._getRoundNum(d),S=g<1e3?g+" m":g/1e3+" km";this._updateScale(this._mScale,S,g/d)},_updateImperial:function(d){var g=d*3.2808399,S,M,q;g>5280?(S=g/5280,M=this._getRoundNum(S),this._updateScale(this._iScale,M+" mi",M/S)):(q=this._getRoundNum(g),this._updateScale(this._iScale,q+" ft",q/g))},_updateScale:function(d,g,S){d.style.width=Math.round(this.options.maxWidth*S)+"px",d.innerHTML=g},_getRoundNum:function(d){var g=Math.pow(10,(Math.floor(d)+"").length-1),S=d/g;return S=S>=10?10:S>=5?5:S>=3?3:S>=2?2:1,g*S}}),he=function(d){return new K(d)},je='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',ke=fa.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(bt.inlineSvg?je+" ":"")+"Leaflet</a>"},initialize:function(d){v(this,d),this._attributions={}},onAdd:function(d){d.attributionControl=this,this._container=Kn("div","leaflet-control-attribution"),lc(this._container);for(var g in d._layers)d._layers[g].getAttribution&&this.addAttribution(d._layers[g].getAttribution());return this._update(),d.on("layeradd",this._addAttribution,this),this._container},onRemove:function(d){d.off("layeradd",this._addAttribution,this)},_addAttribution:function(d){d.layer.getAttribution&&(this.addAttribution(d.layer.getAttribution()),d.layer.once("remove",function(){this.removeAttribution(d.layer.getAttribution())},this))},setPrefix:function(d){return this.options.prefix=d,this._update(),this},addAttribution:function(d){return d?(this._attributions[d]||(this._attributions[d]=0),this._attributions[d]++,this._update(),this):this},removeAttribution:function(d){return d?(this._attributions[d]&&(this._attributions[d]--,this._update()),this):this},_update:function(){if(this._map){var d=[];for(var g in this._attributions)this._attributions[g]&&d.push(g);var S=[];this.options.prefix&&S.push(this.options.prefix),d.length&&S.push(d.join(", ")),this._container.innerHTML=S.join(' <span aria-hidden="true">|</span> ')}}});Fn.mergeOptions({attributionControl:!0}),Fn.addInitHook(function(){this.options.attributionControl&&new ke().addTo(this)});var Ke=function(d){return new ke(d)};fa.Layers=of,fa.Zoom=so,fa.Scale=K,fa.Attribution=ke,uc.layers=Ps,uc.zoom=R,uc.scale=he,uc.attribution=Ke;var Qe=B.extend({initialize:function(d){this._map=d},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Qe.addTo=function(d,g){return d.addHandler(g,this),this};var Ft={Events:X},Vt=bt.touch?"touchstart mousedown":"mousedown",nn=ae.extend({options:{clickTolerance:3},initialize:function(d,g,S,M){v(this,M),this._element=d,this._dragStartTarget=g||d,this._preventOutline=S},enable:function(){this._enabled||(Sn(this._dragStartTarget,Vt,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(nn._dragging===this&&this.finishDrag(!0),Nr(this._dragStartTarget,Vt,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(d){if(this._enabled&&(this._moved=!1,!Po(this._element,"leaflet-zoom-anim"))){if(d.touches&&d.touches.length!==1){nn._dragging===this&&this.finishDrag();return}if(!(nn._dragging||d.shiftKey||d.which!==1&&d.button!==1&&!d.touches)&&(nn._dragging=this,this._preventOutline&&pl(this._element),Kh(),nu(),!this._moving)){this.fire("down");var g=d.touches?d.touches[0]:d,S=iu(this._element);this._startPoint=new W(g.clientX,g.clientY),this._startPos=hl(this._element),this._parentScale=sd(S);var M=d.type==="mousedown";Sn(document,M?"mousemove":"touchmove",this._onMove,this),Sn(document,M?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(d){if(this._enabled){if(d.touches&&d.touches.length>1){this._moved=!0;return}var g=d.touches&&d.touches.length===1?d.touches[0]:d,S=new W(g.clientX,g.clientY)._subtract(this._startPoint);!S.x&&!S.y||Math.abs(S.x)+Math.abs(S.y)<this.options.clickTolerance||(S.x/=this._parentScale.x,S.y/=this._parentScale.y,Qr(d),this._moved||(this.fire("dragstart"),this._moved=!0,xn(document.body,"leaflet-dragging"),this._lastTarget=d.target||d.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),xn(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(S),this._moving=!0,this._lastEvent=d,this._updatePosition())}},_updatePosition:function(){var d={originalEvent:this._lastEvent};this.fire("predrag",d),mr(this._element,this._newPos),this.fire("drag",d)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(d){sr(document.body,"leaflet-dragging"),this._lastTarget&&(sr(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Nr(document,"mousemove touchmove",this._onMove,this),Nr(document,"mouseup touchend touchcancel",this._onUp,this),Gh(),ro();var g=this._moved&&this._moving;this._moving=!1,nn._dragging=!1,g&&this.fire("dragend",{noInertia:d,distance:this._newPos.distanceTo(this._startPos)})}});function An(d,g,S){var M,q=[1,4,2,8],J,we,Le,$e,nt,Ct,rn,qn;for(J=0,Ct=d.length;J<Ct;J++)d[J]._code=pa(d[J],g);for(Le=0;Le<4;Le++){for(rn=q[Le],M=[],J=0,Ct=d.length,we=Ct-1;J<Ct;we=J++)$e=d[J],nt=d[we],$e._code&rn?nt._code&rn||(qn=ml(nt,$e,rn,g,S),qn._code=pa(qn,g),M.push(qn)):(nt._code&rn&&(qn=ml(nt,$e,rn,g,S),qn._code=pa(qn,g),M.push(qn)),M.push($e));d=M}return d}function nr(d,g){var S,M,q,J,we,Le,$e,nt,Ct;if(!d||d.length===0)throw new Error("latlngs not passed");Vi(d)||(console.warn("latlngs are not flat! Only the first ring will be used"),d=d[0]);var rn=le([0,0]),qn=Q(d),Za=qn.getNorthWest().distanceTo(qn.getSouthWest())*qn.getNorthEast().distanceTo(qn.getNorthWest());Za<1700&&(rn=Br(d));var Hi=d.length,lo=[];for(S=0;S<Hi;S++){var ds=le(d[S]);lo.push(g.project(le([ds.lat-rn.lat,ds.lng-rn.lng])))}for(Le=$e=nt=0,S=0,M=Hi-1;S<Hi;M=S++)q=lo[S],J=lo[M],we=q.y*J.x-J.y*q.x,$e+=(q.x+J.x)*we,nt+=(q.y+J.y)*we,Le+=we*3;Le===0?Ct=lo[0]:Ct=[$e/Le,nt/Le];var pf=g.unproject(ue(Ct));return le([pf.lat+rn.lat,pf.lng+rn.lng])}function Br(d){for(var g=0,S=0,M=0,q=0;q<d.length;q++){var J=le(d[q]);g+=J.lat,S+=J.lng,M++}return le([g/M,S/M])}var Ei={__proto__:null,clipPolygon:An,polygonCenter:nr,centroid:Br};function gr(d,g){if(!g||!d.length)return d.slice();var S=g*g;return d=su(d,S),d=ha(d,S),d}function Oi(d,g,S){return Math.sqrt(gl(d,g,S,!0))}function ki(d,g,S){return gl(d,g,S)}function ha(d,g){var S=d.length,M=typeof Uint8Array<"u"?Uint8Array:Array,q=new M(S);q[0]=q[S-1]=1,Oo(d,q,g,0,S-1);var J,we=[];for(J=0;J<S;J++)q[J]&&we.push(d[J]);return we}function Oo(d,g,S,M,q){var J=0,we,Le,$e;for(Le=M+1;Le<=q-1;Le++)$e=gl(d[Le],d[M],d[q],!0),$e>J&&(we=Le,J=$e);J>S&&(g[we]=1,Oo(d,g,S,M,we),Oo(d,g,S,we,q))}function su(d,g){for(var S=[d[0]],M=1,q=0,J=d.length;M<J;M++)Jh(d[M],d[q])>g&&(S.push(d[M]),q=M);return q<J-1&&S.push(d[J-1]),S}var Im;function Qh(d,g,S,M,q){var J=M?Im:pa(d,S),we=pa(g,S),Le,$e,nt;for(Im=we;;){if(!(J|we))return[d,g];if(J&we)return!1;Le=J||we,$e=ml(d,g,Le,S,q),nt=pa($e,S),Le===J?(d=$e,J=nt):(g=$e,we=nt)}}function ml(d,g,S,M,q){var J=g.x-d.x,we=g.y-d.y,Le=M.min,$e=M.max,nt,Ct;return S&8?(nt=d.x+J*($e.y-d.y)/we,Ct=$e.y):S&4?(nt=d.x+J*(Le.y-d.y)/we,Ct=Le.y):S&2?(nt=$e.x,Ct=d.y+we*($e.x-d.x)/J):S&1&&(nt=Le.x,Ct=d.y+we*(Le.x-d.x)/J),new W(nt,Ct,q)}function pa(d,g){var S=0;return d.x<g.min.x?S|=1:d.x>g.max.x&&(S|=2),d.y<g.min.y?S|=4:d.y>g.max.y&&(S|=8),S}function Jh(d,g){var S=g.x-d.x,M=g.y-d.y;return S*S+M*M}function gl(d,g,S,M){var q=g.x,J=g.y,we=S.x-q,Le=S.y-J,$e=we*we+Le*Le,nt;return $e>0&&(nt=((d.x-q)*we+(d.y-J)*Le)/$e,nt>1?(q=S.x,J=S.y):nt>0&&(q+=we*nt,J+=Le*nt)),we=d.x-q,Le=d.y-J,M?we*we+Le*Le:new W(q,J)}function Vi(d){return!j(d[0])||typeof d[0][0]!="object"&&typeof d[0][0]<"u"}function Wi(d){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Vi(d)}function vl(d,g){var S,M,q,J,we,Le,$e,nt;if(!d||d.length===0)throw new Error("latlngs not passed");Vi(d)||(console.warn("latlngs are not flat! Only the first ring will be used"),d=d[0]);var Ct=le([0,0]),rn=Q(d),qn=rn.getNorthWest().distanceTo(rn.getSouthWest())*rn.getNorthEast().distanceTo(rn.getNorthWest());qn<1700&&(Ct=Br(d));var Za=d.length,Hi=[];for(S=0;S<Za;S++){var lo=le(d[S]);Hi.push(g.project(le([lo.lat-Ct.lat,lo.lng-Ct.lng])))}for(S=0,M=0;S<Za-1;S++)M+=Hi[S].distanceTo(Hi[S+1])/2;if(M===0)nt=Hi[0];else for(S=0,J=0;S<Za-1;S++)if(we=Hi[S],Le=Hi[S+1],q=we.distanceTo(Le),J+=q,J>M){$e=(J-M)/q,nt=[Le.x-$e*(Le.x-we.x),Le.y-$e*(Le.y-we.y)];break}var ds=g.unproject(ue(nt));return le([ds.lat+Ct.lat,ds.lng+Ct.lng])}var dc={__proto__:null,simplify:gr,pointToSegmentDistance:Oi,closestPointOnSegment:ki,clipSegment:Qh,_getEdgeIntersection:ml,_getBitCode:pa,_sqClosestPointOnSegment:gl,isFlat:Vi,_flat:Wi,polylineCenter:vl},ou={project:function(d){return new W(d.lng,d.lat)},unproject:function(d){return new de(d.y,d.x)},bounds:new ye([-180,-90],[180,90])},cd={R:6378137,R_MINOR:6356752314245179e-9,bounds:new ye([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(d){var g=Math.PI/180,S=this.R,M=d.lat*g,q=this.R_MINOR/S,J=Math.sqrt(1-q*q),we=J*Math.sin(M),Le=Math.tan(Math.PI/4-M/2)/Math.pow((1-we)/(1+we),J/2);return M=-S*Math.log(Math.max(Le,1e-10)),new W(d.lng*g*S,M)},unproject:function(d){for(var g=180/Math.PI,S=this.R,M=this.R_MINOR/S,q=Math.sqrt(1-M*M),J=Math.exp(-d.y/S),we=Math.PI/2-2*Math.atan(J),Le=0,$e=.1,nt;Le<15&&Math.abs($e)>1e-7;Le++)nt=q*Math.sin(we),nt=Math.pow((1-nt)/(1+nt),q/2),$e=Math.PI/2-2*Math.atan(J*nt)-we,we+=$e;return new de(we*g,d.x*g/S)}},Ka={__proto__:null,LonLat:ou,Mercator:cd,SphericalMercator:ge},Lm=i({},Z,{code:"EPSG:3395",projection:cd,transformation:function(){var d=.5/(Math.PI*cd.R);return be(d,.5,-d,.5)}()}),ud=i({},Z,{code:"EPSG:4326",projection:ou,transformation:be(1/180,1,-1/180,.5)}),Mm=i({},ve,{projection:ou,transformation:be(1,0,-1,0),scale:function(d){return Math.pow(2,d)},zoom:function(d){return Math.log(d)/Math.LN2},distance:function(d,g){var S=g.lng-d.lng,M=g.lat-d.lat;return Math.sqrt(S*S+M*M)},infinite:!0});ve.Earth=Z,ve.EPSG3395=Lm,ve.EPSG3857=Ue,ve.EPSG900913=Pe,ve.EPSG4326=ud,ve.Simple=Mm;var vr=ae.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(d){return d.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(d){return d&&d.removeLayer(this),this},getPane:function(d){return this._map.getPane(d?this.options[d]||d:this.options.pane)},addInteractiveTarget:function(d){return this._map._targets[c(d)]=this,this},removeInteractiveTarget:function(d){return delete this._map._targets[c(d)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(d){var g=d.target;if(g.hasLayer(this)){if(this._map=g,this._zoomAnimated=g._zoomAnimated,this.getEvents){var S=this.getEvents();g.on(S,this),this.once("remove",function(){g.off(S,this)},this)}this.onAdd(g),this.fire("add"),g.fire("layeradd",{layer:this})}}});Fn.include({addLayer:function(d){if(!d._layerAdd)throw new Error("The provided object is not a Layer.");var g=c(d);return this._layers[g]?this:(this._layers[g]=d,d._mapToAdd=this,d.beforeAdd&&d.beforeAdd(this),this.whenReady(d._layerAdd,d),this)},removeLayer:function(d){var g=c(d);return this._layers[g]?(this._loaded&&d.onRemove(this),delete this._layers[g],this._loaded&&(this.fire("layerremove",{layer:d}),d.fire("remove")),d._map=d._mapToAdd=null,this):this},hasLayer:function(d){return c(d)in this._layers},eachLayer:function(d,g){for(var S in this._layers)d.call(g,this._layers[S]);return this},_addLayers:function(d){d=d?j(d)?d:[d]:[];for(var g=0,S=d.length;g<S;g++)this.addLayer(d[g])},_addZoomLimit:function(d){(!isNaN(d.options.maxZoom)||!isNaN(d.options.minZoom))&&(this._zoomBoundLayers[c(d)]=d,this._updateZoomLevels())},_removeZoomLimit:function(d){var g=c(d);this._zoomBoundLayers[g]&&(delete this._zoomBoundLayers[g],this._updateZoomLevels())},_updateZoomLevels:function(){var d=1/0,g=-1/0,S=this._getZoomSpan();for(var M in this._zoomBoundLayers){var q=this._zoomBoundLayers[M].options;d=q.minZoom===void 0?d:Math.min(d,q.minZoom),g=q.maxZoom===void 0?g:Math.max(g,q.maxZoom)}this._layersMaxZoom=g===-1/0?void 0:g,this._layersMinZoom=d===1/0?void 0:d,S!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var ma=vr.extend({initialize:function(d,g){v(this,g),this._layers={};var S,M;if(d)for(S=0,M=d.length;S<M;S++)this.addLayer(d[S])},addLayer:function(d){var g=this.getLayerId(d);return this._layers[g]=d,this._map&&this._map.addLayer(d),this},removeLayer:function(d){var g=d in this._layers?d:this.getLayerId(d);return this._map&&this._layers[g]&&this._map.removeLayer(this._layers[g]),delete this._layers[g],this},hasLayer:function(d){var g=typeof d=="number"?d:this.getLayerId(d);return g in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(d){var g=Array.prototype.slice.call(arguments,1),S,M;for(S in this._layers)M=this._layers[S],M[d]&&M[d].apply(M,g);return this},onAdd:function(d){this.eachLayer(d.addLayer,d)},onRemove:function(d){this.eachLayer(d.removeLayer,d)},eachLayer:function(d,g){for(var S in this._layers)d.call(g,this._layers[S]);return this},getLayer:function(d){return this._layers[d]},getLayers:function(){var d=[];return this.eachLayer(d.push,d),d},setZIndex:function(d){return this.invoke("setZIndex",d)},getLayerId:function(d){return c(d)}}),ep=function(d,g){return new ma(d,g)},Cs=ma.extend({addLayer:function(d){return this.hasLayer(d)?this:(d.addEventParent(this),ma.prototype.addLayer.call(this,d),this.fire("layeradd",{layer:d}))},removeLayer:function(d){return this.hasLayer(d)?(d in this._layers&&(d=this._layers[d]),d.removeEventParent(this),ma.prototype.removeLayer.call(this,d),this.fire("layerremove",{layer:d})):this},setStyle:function(d){return this.invoke("setStyle",d)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var d=new ee;for(var g in this._layers){var S=this._layers[g];d.extend(S.getBounds?S.getBounds():S.getLatLng())}return d}}),lu=function(d,g){return new Cs(d,g)},ko=B.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(d){v(this,d)},createIcon:function(d){return this._createIcon("icon",d)},createShadow:function(d){return this._createIcon("shadow",d)},_createIcon:function(d,g){var S=this._getIconUrl(d);if(!S){if(d==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var M=this._createImg(S,g&&g.tagName==="IMG"?g:null);return this._setIconStyles(M,d),(this.options.crossOrigin||this.options.crossOrigin==="")&&(M.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),M},_setIconStyles:function(d,g){var S=this.options,M=S[g+"Size"];typeof M=="number"&&(M=[M,M]);var q=ue(M),J=ue(g==="shadow"&&S.shadowAnchor||S.iconAnchor||q&&q.divideBy(2,!0));d.className="leaflet-marker-"+g+" "+(S.className||""),J&&(d.style.marginLeft=-J.x+"px",d.style.marginTop=-J.y+"px"),q&&(d.style.width=q.x+"px",d.style.height=q.y+"px")},_createImg:function(d,g){return g=g||document.createElement("img"),g.src=d,g},_getIconUrl:function(d){return bt.retina&&this.options[d+"RetinaUrl"]||this.options[d+"Url"]}});function ls(d){return new ko(d)}var ia=ko.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(d){return typeof ia.imagePath!="string"&&(ia.imagePath=this._detectIconPath()),(this.options.imagePath||ia.imagePath)+ko.prototype._getIconUrl.call(this,d)},_stripUrl:function(d){var g=function(S,M,q){var J=M.exec(S);return J&&J[q]};return d=g(d,/^url\((['"])?(.+)\1\)$/,2),d&&g(d,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var d=Kn("div","leaflet-default-icon-path",document.body),g=tu(d,"background-image")||tu(d,"backgroundImage");if(document.body.removeChild(d),g=this._stripUrl(g),g)return g;var S=document.querySelector('link[href$="leaflet.css"]');return S?S.href.substring(0,S.href.length-11-1):""}}),cu=Qe.extend({initialize:function(d){this._marker=d},addHooks:function(){var d=this._marker._icon;this._draggable||(this._draggable=new nn(d,d,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),xn(d,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&sr(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(d){var g=this._marker,S=g._map,M=this._marker.options.autoPanSpeed,q=this._marker.options.autoPanPadding,J=hl(g._icon),we=S.getPixelBounds(),Le=S.getPixelOrigin(),$e=V(we.min._subtract(Le).add(q),we.max._subtract(Le).subtract(q));if(!$e.contains(J)){var nt=ue((Math.max($e.max.x,J.x)-$e.max.x)/(we.max.x-$e.max.x)-(Math.min($e.min.x,J.x)-$e.min.x)/(we.min.x-$e.min.x),(Math.max($e.max.y,J.y)-$e.max.y)/(we.max.y-$e.max.y)-(Math.min($e.min.y,J.y)-$e.min.y)/(we.min.y-$e.min.y)).multiplyBy(M);S.panBy(nt,{animate:!1}),this._draggable._newPos._add(nt),this._draggable._startPos._add(nt),mr(g._icon,this._draggable._newPos),this._onDrag(d),this._panRequest=T(this._adjustPan.bind(this,d))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(d){this._marker.options.autoPan&&(k(this._panRequest),this._panRequest=T(this._adjustPan.bind(this,d)))},_onDrag:function(d){var g=this._marker,S=g._shadow,M=hl(g._icon),q=g._map.layerPointToLatLng(M);S&&mr(S,M),g._latlng=q,d.latlng=q,d.oldLatLng=this._oldLatLng,g.fire("move",d).fire("drag",d)},_onDragEnd:function(d){k(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",d)}}),Es=vr.extend({options:{icon:new ia,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(d,g){v(this,g),this._latlng=le(d)},onAdd:function(d){this._zoomAnimated=this._zoomAnimated&&d.options.markerZoomAnimation,this._zoomAnimated&&d.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(d){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&d.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(d){var g=this._latlng;return this._latlng=le(d),this.update(),this.fire("move",{oldLatLng:g,latlng:this._latlng})},setZIndexOffset:function(d){return this.options.zIndexOffset=d,this.update()},getIcon:function(){return this.options.icon},setIcon:function(d){return this.options.icon=d,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var d=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(d)}return this},_initIcon:function(){var d=this.options,g="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),S=d.icon.createIcon(this._icon),M=!1;S!==this._icon&&(this._icon&&this._removeIcon(),M=!0,d.title&&(S.title=d.title),S.tagName==="IMG"&&(S.alt=d.alt||"")),xn(S,g),d.keyboard&&(S.tabIndex="0",S.setAttribute("role","button")),this._icon=S,d.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Sn(S,"focus",this._panOnFocus,this);var q=d.icon.createShadow(this._shadow),J=!1;q!==this._shadow&&(this._removeShadow(),J=!0),q&&(xn(q,g),q.alt=""),this._shadow=q,d.opacity<1&&this._updateOpacity(),M&&this.getPane().appendChild(this._icon),this._initInteraction(),q&&J&&this.getPane(d.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Nr(this._icon,"focus",this._panOnFocus,this),Fr(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Fr(this._shadow),this._shadow=null},_setPos:function(d){this._icon&&mr(this._icon,d),this._shadow&&mr(this._shadow,d),this._zIndex=d.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(d){this._icon&&(this._icon.style.zIndex=this._zIndex+d)},_animateZoom:function(d){var g=this._map._latLngToNewLayerPoint(this._latlng,d.zoom,d.center).round();this._setPos(g)},_initInteraction:function(){if(this.options.interactive&&(xn(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),cu)){var d=this.options.draggable;this.dragging&&(d=this.dragging.enabled(),this.dragging.disable()),this.dragging=new cu(this),d&&this.dragging.enable()}},setOpacity:function(d){return this.options.opacity=d,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var d=this.options.opacity;this._icon&&Ca(this._icon,d),this._shadow&&Ca(this._shadow,d)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var d=this._map;if(d){var g=this.options.icon.options,S=g.iconSize?ue(g.iconSize):ue(0,0),M=g.iconAnchor?ue(g.iconAnchor):ue(0,0);d.panInside(this._latlng,{paddingTopLeft:M,paddingBottomRight:S.subtract(M)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function uu(d,g){return new Es(d,g)}var oo=vr.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(d){this._renderer=d.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(d){return v(this,d),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&d&&Object.prototype.hasOwnProperty.call(d,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),To=oo.extend({options:{fill:!0,radius:10},initialize:function(d,g){v(this,g),this._latlng=le(d),this._radius=this.options.radius},setLatLng:function(d){var g=this._latlng;return this._latlng=le(d),this.redraw(),this.fire("move",{oldLatLng:g,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(d){return this.options.radius=this._radius=d,this.redraw()},getRadius:function(){return this._radius},setStyle:function(d){var g=d&&d.radius||this._radius;return oo.prototype.setStyle.call(this,d),this.setRadius(g),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var d=this._radius,g=this._radiusY||d,S=this._clickTolerance(),M=[d+S,g+S];this._pxBounds=new ye(this._point.subtract(M),this._point.add(M))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(d){return d.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function bi(d,g){return new To(d,g)}var tp=To.extend({initialize:function(d,g,S){if(typeof g=="number"&&(g=i({},S,{radius:g})),v(this,g),this._latlng=le(d),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(d){return this._mRadius=d,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var d=[this._radius,this._radiusY||this._radius];return new ee(this._map.layerPointToLatLng(this._point.subtract(d)),this._map.layerPointToLatLng(this._point.add(d)))},setStyle:oo.prototype.setStyle,_project:function(){var d=this._latlng.lng,g=this._latlng.lat,S=this._map,M=S.options.crs;if(M.distance===Z.distance){var q=Math.PI/180,J=this._mRadius/Z.R/q,we=S.project([g+J,d]),Le=S.project([g-J,d]),$e=we.add(Le).divideBy(2),nt=S.unproject($e).lat,Ct=Math.acos((Math.cos(J*q)-Math.sin(g*q)*Math.sin(nt*q))/(Math.cos(g*q)*Math.cos(nt*q)))/q;(isNaN(Ct)||Ct===0)&&(Ct=J/Math.cos(Math.PI/180*g)),this._point=$e.subtract(S.getPixelOrigin()),this._radius=isNaN(Ct)?0:$e.x-S.project([nt,d-Ct]).x,this._radiusY=$e.y-we.y}else{var rn=M.unproject(M.project(this._latlng).subtract([this._mRadius,0]));this._point=S.latLngToLayerPoint(this._latlng),this._radius=this._point.x-S.latLngToLayerPoint(rn).x}this._updateBounds()}});function yl(d,g,S){return new tp(d,g,S)}var aa=oo.extend({options:{smoothFactor:1,noClip:!1},initialize:function(d,g){v(this,g),this._setLatLngs(d)},getLatLngs:function(){return this._latlngs},setLatLngs:function(d){return this._setLatLngs(d),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(d){for(var g=1/0,S=null,M=gl,q,J,we=0,Le=this._parts.length;we<Le;we++)for(var $e=this._parts[we],nt=1,Ct=$e.length;nt<Ct;nt++){q=$e[nt-1],J=$e[nt];var rn=M(d,q,J,!0);rn<g&&(g=rn,S=M(d,q,J))}return S&&(S.distance=Math.sqrt(g)),S},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return vl(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(d,g){return g=g||this._defaultShape(),d=le(d),g.push(d),this._bounds.extend(d),this.redraw()},_setLatLngs:function(d){this._bounds=new ee,this._latlngs=this._convertLatLngs(d)},_defaultShape:function(){return Vi(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(d){for(var g=[],S=Vi(d),M=0,q=d.length;M<q;M++)S?(g[M]=le(d[M]),this._bounds.extend(g[M])):g[M]=this._convertLatLngs(d[M]);return g},_project:function(){var d=new ye;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,d),this._bounds.isValid()&&d.isValid()&&(this._rawPxBounds=d,this._updateBounds())},_updateBounds:function(){var d=this._clickTolerance(),g=new W(d,d);this._rawPxBounds&&(this._pxBounds=new ye([this._rawPxBounds.min.subtract(g),this._rawPxBounds.max.add(g)]))},_projectLatlngs:function(d,g,S){var M=d[0]instanceof de,q=d.length,J,we;if(M){for(we=[],J=0;J<q;J++)we[J]=this._map.latLngToLayerPoint(d[J]),S.extend(we[J]);g.push(we)}else for(J=0;J<q;J++)this._projectLatlngs(d[J],g,S)},_clipPoints:function(){var d=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(d))){if(this.options.noClip){this._parts=this._rings;return}var g=this._parts,S,M,q,J,we,Le,$e;for(S=0,q=0,J=this._rings.length;S<J;S++)for($e=this._rings[S],M=0,we=$e.length;M<we-1;M++)Le=Qh($e[M],$e[M+1],d,M,!0),Le&&(g[q]=g[q]||[],g[q].push(Le[0]),(Le[1]!==$e[M+1]||M===we-2)&&(g[q].push(Le[1]),q++))}},_simplifyPoints:function(){for(var d=this._parts,g=this.options.smoothFactor,S=0,M=d.length;S<M;S++)d[S]=gr(d[S],g)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(d,g){var S,M,q,J,we,Le,$e=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(d))return!1;for(S=0,J=this._parts.length;S<J;S++)for(Le=this._parts[S],M=0,we=Le.length,q=we-1;M<we;q=M++)if(!(!g&&M===0)&&Oi(d,Le[q],Le[M])<=$e)return!0;return!1}});function lf(d,g){return new aa(d,g)}aa._flat=Wi;var xl=aa.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return nr(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(d){var g=aa.prototype._convertLatLngs.call(this,d),S=g.length;return S>=2&&g[0]instanceof de&&g[0].equals(g[S-1])&&g.pop(),g},_setLatLngs:function(d){aa.prototype._setLatLngs.call(this,d),Vi(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Vi(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var d=this._renderer._bounds,g=this.options.weight,S=new W(g,g);if(d=new ye(d.min.subtract(S),d.max.add(S)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(d))){if(this.options.noClip){this._parts=this._rings;return}for(var M=0,q=this._rings.length,J;M<q;M++)J=An(this._rings[M],d,!0),J.length&&this._parts.push(J)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(d){var g=!1,S,M,q,J,we,Le,$e,nt;if(!this._pxBounds||!this._pxBounds.contains(d))return!1;for(J=0,$e=this._parts.length;J<$e;J++)for(S=this._parts[J],we=0,nt=S.length,Le=nt-1;we<nt;Le=we++)M=S[we],q=S[Le],M.y>d.y!=q.y>d.y&&d.x<(q.x-M.x)*(d.y-M.y)/(q.y-M.y)+M.x&&(g=!g);return g||aa.prototype._containsPoint.call(this,d,!0)}});function cf(d,g){return new xl(d,g)}var cs=Cs.extend({initialize:function(d,g){v(this,g),this._layers={},d&&this.addData(d)},addData:function(d){var g=j(d)?d:d.features,S,M,q;if(g){for(S=0,M=g.length;S<M;S++)q=g[S],(q.geometries||q.geometry||q.features||q.coordinates)&&this.addData(q);return this}var J=this.options;if(J.filter&&!J.filter(d))return this;var we=bl(d,J);return we?(we.feature=yr(d),we.defaultOptions=we.options,this.resetStyle(we),J.onEachFeature&&J.onEachFeature(d,we),this.addLayer(we)):this},resetStyle:function(d){return d===void 0?this.eachLayer(this.resetStyle,this):(d.options=i({},d.defaultOptions),this._setLayerStyle(d,this.options.style),this)},setStyle:function(d){return this.eachLayer(function(g){this._setLayerStyle(g,d)},this)},_setLayerStyle:function(d,g){d.setStyle&&(typeof g=="function"&&(g=g(d.feature)),d.setStyle(g))}});function bl(d,g){var S=d.type==="Feature"?d.geometry:d,M=S?S.coordinates:null,q=[],J=g&&g.pointToLayer,we=g&&g.coordsToLatLng||Io,Le,$e,nt,Ct;if(!M&&!S)return null;switch(S.type){case"Point":return Le=we(M),du(J,d,Le,g);case"MultiPoint":for(nt=0,Ct=M.length;nt<Ct;nt++)Le=we(M[nt]),q.push(du(J,d,Le,g));return new Cs(q);case"LineString":case"MultiLineString":return $e=fu(M,S.type==="LineString"?0:1,we),new aa($e,g);case"Polygon":case"MultiPolygon":return $e=fu(M,S.type==="Polygon"?1:2,we),new xl($e,g);case"GeometryCollection":for(nt=0,Ct=S.geometries.length;nt<Ct;nt++){var rn=bl({geometry:S.geometries[nt],type:"Feature",properties:d.properties},g);rn&&q.push(rn)}return new Cs(q);case"FeatureCollection":for(nt=0,Ct=S.features.length;nt<Ct;nt++){var qn=bl(S.features[nt],g);qn&&q.push(qn)}return new Cs(q);default:throw new Error("Invalid GeoJSON object.")}}function du(d,g,S,M){return d?d(g,S):new Es(S,M&&M.markersInheritOptions&&M)}function Io(d){return new de(d[1],d[0],d[2])}function fu(d,g,S){for(var M=[],q=0,J=d.length,we;q<J;q++)we=g?fu(d[q],g-1,S):(S||Io)(d[q]),M.push(we);return M}function Ga(d,g){return d=le(d),d.alt!==void 0?[p(d.lng,g),p(d.lat,g),p(d.alt,g)]:[p(d.lng,g),p(d.lat,g)]}function Os(d,g,S,M){for(var q=[],J=0,we=d.length;J<we;J++)q.push(g?Os(d[J],Vi(d[J])?0:g-1,S,M):Ga(d[J],M));return!g&&S&&q.length>0&&q.push(q[0].slice()),q}function or(d,g){return d.feature?i({},d.feature,{geometry:g}):yr(g)}function yr(d){return d.type==="Feature"||d.type==="FeatureCollection"?d:{type:"Feature",properties:{},geometry:d}}var Jr={toGeoJSON:function(d){return or(this,{type:"Point",coordinates:Ga(this.getLatLng(),d)})}};Es.include(Jr),tp.include(Jr),To.include(Jr),aa.include({toGeoJSON:function(d){var g=!Vi(this._latlngs),S=Os(this._latlngs,g?1:0,!1,d);return or(this,{type:(g?"Multi":"")+"LineString",coordinates:S})}}),xl.include({toGeoJSON:function(d){var g=!Vi(this._latlngs),S=g&&!Vi(this._latlngs[0]),M=Os(this._latlngs,S?2:g?1:0,!0,d);return g||(M=[M]),or(this,{type:(S?"Multi":"")+"Polygon",coordinates:M})}}),ma.include({toMultiPoint:function(d){var g=[];return this.eachLayer(function(S){g.push(S.toGeoJSON(d).geometry.coordinates)}),or(this,{type:"MultiPoint",coordinates:g})},toGeoJSON:function(d){var g=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(g==="MultiPoint")return this.toMultiPoint(d);var S=g==="GeometryCollection",M=[];return this.eachLayer(function(q){if(q.toGeoJSON){var J=q.toGeoJSON(d);if(S)M.push(J.geometry);else{var we=yr(J);we.type==="FeatureCollection"?M.push.apply(M,we.features):M.push(we)}}}),S?or(this,{geometries:M,type:"GeometryCollection"}):{type:"FeatureCollection",features:M}}});function hi(d,g){return new cs(d,g)}var fc=hi,hc=vr.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(d,g,S){this._url=d,this._bounds=Q(g),v(this,S)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(xn(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Fr(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(d){return this.options.opacity=d,this._image&&this._updateOpacity(),this},setStyle:function(d){return d.opacity&&this.setOpacity(d.opacity),this},bringToFront:function(){return this._map&&nc(this._image),this},bringToBack:function(){return this._map&&rc(this._image),this},setUrl:function(d){return this._url=d,this._image&&(this._image.src=d),this},setBounds:function(d){return this._bounds=Q(d),this._map&&this._reset(),this},getEvents:function(){var d={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(d.zoomanim=this._animateZoom),d},setZIndex:function(d){return this.options.zIndex=d,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var d=this._url.tagName==="IMG",g=this._image=d?this._url:Kn("img");if(xn(g,"leaflet-image-layer"),this._zoomAnimated&&xn(g,"leaflet-zoom-animated"),this.options.className&&xn(g,this.options.className),g.onselectstart=h,g.onmousemove=h,g.onload=o(this.fire,this,"load"),g.onerror=o(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(g.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),d){this._url=g.src;return}g.src=this._url,g.alt=this.options.alt},_animateZoom:function(d){var g=this._map.getZoomScale(d.zoom),S=this._map._latLngBoundsToNewLayerBounds(this._bounds,d.zoom,d.center).min;ac(this._image,S,g)},_reset:function(){var d=this._image,g=new ye(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),S=g.getSize();mr(d,g.min),d.style.width=S.x+"px",d.style.height=S.y+"px"},_updateOpacity:function(){Ca(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var d=this.options.errorOverlayUrl;d&&this._url!==d&&(this._url=d,this._image.src=d)},getCenter:function(){return this._bounds.getCenter()}}),wl=function(d,g,S){return new hc(d,g,S)},uf=hc.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var d=this._url.tagName==="VIDEO",g=this._image=d?this._url:Kn("video");if(xn(g,"leaflet-image-layer"),this._zoomAnimated&&xn(g,"leaflet-zoom-animated"),this.options.className&&xn(g,this.options.className),g.onselectstart=h,g.onmousemove=h,g.onloadeddata=o(this.fire,this,"load"),d){for(var S=g.getElementsByTagName("source"),M=[],q=0;q<S.length;q++)M.push(S[q].src);this._url=S.length>0?M:[g.src];return}j(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(g.style,"objectFit")&&(g.style.objectFit="fill"),g.autoplay=!!this.options.autoplay,g.loop=!!this.options.loop,g.muted=!!this.options.muted,g.playsInline=!!this.options.playsInline;for(var J=0;J<this._url.length;J++){var we=Kn("source");we.src=this._url[J],g.appendChild(we)}}});function Vb(d,g,S){return new uf(d,g,S)}var Ky=hc.extend({_initImage:function(){var d=this._image=this._url;xn(d,"leaflet-image-layer"),this._zoomAnimated&&xn(d,"leaflet-zoom-animated"),this.options.className&&xn(d,this.options.className),d.onselectstart=h,d.onmousemove=h}});function Wb(d,g,S){return new Ky(d,g,S)}var Lo=vr.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(d,g){d&&(d instanceof de||j(d))?(this._latlng=le(d),v(this,g)):(v(this,d),this._source=g),this.options.content&&(this._content=this.options.content)},openOn:function(d){return d=arguments.length?d:this._source._map,d.hasLayer(this)||d.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(d){return this._map?this.close():(arguments.length?this._source=d:d=this._source,this._prepareOpen(),this.openOn(d._map)),this},onAdd:function(d){this._zoomAnimated=d._zoomAnimated,this._container||this._initLayout(),d._fadeAnimated&&Ca(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),d._fadeAnimated&&Ca(this._container,1),this.bringToFront(),this.options.interactive&&(xn(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(d){d._fadeAnimated?(Ca(this._container,0),this._removeTimeout=setTimeout(o(Fr,void 0,this._container),200)):Fr(this._container),this.options.interactive&&(sr(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(d){return this._latlng=le(d),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(d){return this._content=d,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var d={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(d.zoomanim=this._animateZoom),d},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&nc(this._container),this},bringToBack:function(){return this._map&&rc(this._container),this},_prepareOpen:function(d){var g=this._source;if(!g._map)return!1;if(g instanceof Cs){g=null;var S=this._source._layers;for(var M in S)if(S[M]._map){g=S[M];break}if(!g)return!1;this._source=g}if(!d)if(g.getCenter)d=g.getCenter();else if(g.getLatLng)d=g.getLatLng();else if(g.getBounds)d=g.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(d),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var d=this._contentNode,g=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof g=="string")d.innerHTML=g;else{for(;d.hasChildNodes();)d.removeChild(d.firstChild);d.appendChild(g)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var d=this._map.latLngToLayerPoint(this._latlng),g=ue(this.options.offset),S=this._getAnchor();this._zoomAnimated?mr(this._container,d.add(S)):g=g.add(d).add(S);var M=this._containerBottom=-g.y,q=this._containerLeft=-Math.round(this._containerWidth/2)+g.x;this._container.style.bottom=M+"px",this._container.style.left=q+"px"}},_getAnchor:function(){return[0,0]}});Fn.include({_initOverlay:function(d,g,S,M){var q=g;return q instanceof d||(q=new d(M).setContent(g)),S&&q.setLatLng(S),q}}),vr.include({_initOverlay:function(d,g,S,M){var q=S;return q instanceof d?(v(q,M),q._source=this):(q=g&&!M?g:new d(M,this),q.setContent(S)),q}});var np=Lo.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(d){return d=arguments.length?d:this._source._map,!d.hasLayer(this)&&d._popup&&d._popup.options.autoClose&&d.removeLayer(d._popup),d._popup=this,Lo.prototype.openOn.call(this,d)},onAdd:function(d){Lo.prototype.onAdd.call(this,d),d.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof oo||this._source.on("preclick",oc))},onRemove:function(d){Lo.prototype.onRemove.call(this,d),d.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof oo||this._source.off("preclick",oc))},getEvents:function(){var d=Lo.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(d.preclick=this.close),this.options.keepInView&&(d.moveend=this._adjustPan),d},_initLayout:function(){var d="leaflet-popup",g=this._container=Kn("div",d+" "+(this.options.className||"")+" leaflet-zoom-animated"),S=this._wrapper=Kn("div",d+"-content-wrapper",g);if(this._contentNode=Kn("div",d+"-content",S),lc(g),au(this._contentNode),Sn(g,"contextmenu",oc),this._tipContainer=Kn("div",d+"-tip-container",g),this._tip=Kn("div",d+"-tip",this._tipContainer),this.options.closeButton){var M=this._closeButton=Kn("a",d+"-close-button",g);M.setAttribute("role","button"),M.setAttribute("aria-label","Close popup"),M.href="#close",M.innerHTML='<span aria-hidden="true">&#215;</span>',Sn(M,"click",function(q){Qr(q),this.close()},this)}},_updateLayout:function(){var d=this._contentNode,g=d.style;g.width="",g.whiteSpace="nowrap";var S=d.offsetWidth;S=Math.min(S,this.options.maxWidth),S=Math.max(S,this.options.minWidth),g.width=S+1+"px",g.whiteSpace="",g.height="";var M=d.offsetHeight,q=this.options.maxHeight,J="leaflet-popup-scrolled";q&&M>q?(g.height=q+"px",xn(d,J)):sr(d,J),this._containerWidth=this._container.offsetWidth},_animateZoom:function(d){var g=this._map._latLngToNewLayerPoint(this._latlng,d.zoom,d.center),S=this._getAnchor();mr(this._container,g.add(S))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var d=this._map,g=parseInt(tu(this._container,"marginBottom"),10)||0,S=this._container.offsetHeight+g,M=this._containerWidth,q=new W(this._containerLeft,-S-this._containerBottom);q._add(hl(this._container));var J=d.layerPointToContainerPoint(q),we=ue(this.options.autoPanPadding),Le=ue(this.options.autoPanPaddingTopLeft||we),$e=ue(this.options.autoPanPaddingBottomRight||we),nt=d.getSize(),Ct=0,rn=0;J.x+M+$e.x>nt.x&&(Ct=J.x+M-nt.x+$e.x),J.x-Ct-Le.x<0&&(Ct=J.x-Le.x),J.y+S+$e.y>nt.y&&(rn=J.y+S-nt.y+$e.y),J.y-rn-Le.y<0&&(rn=J.y-Le.y),(Ct||rn)&&(this.options.keepInView&&(this._autopanning=!0),d.fire("autopanstart").panBy([Ct,rn]))}},_getAnchor:function(){return ue(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Hb=function(d,g){return new np(d,g)};Fn.mergeOptions({closePopupOnClick:!0}),Fn.include({openPopup:function(d,g,S){return this._initOverlay(np,d,g,S).openOn(this),this},closePopup:function(d){return d=arguments.length?d:this._popup,d&&d.close(),this}}),vr.include({bindPopup:function(d,g){return this._popup=this._initOverlay(np,this._popup,d,g),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(d){return this._popup&&(this instanceof Cs||(this._popup._source=this),this._popup._prepareOpen(d||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(d){return this._popup&&this._popup.setContent(d),this},getPopup:function(){return this._popup},_openPopup:function(d){if(!(!this._popup||!this._map)){ao(d);var g=d.layer||d.target;if(this._popup._source===g&&!(g instanceof oo)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(d.latlng);return}this._popup._source=g,this.openPopup(d.latlng)}},_movePopup:function(d){this._popup.setLatLng(d.latlng)},_onKeyPress:function(d){d.originalEvent.keyCode===13&&this._openPopup(d)}});var rp=Lo.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(d){Lo.prototype.onAdd.call(this,d),this.setOpacity(this.options.opacity),d.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(d){Lo.prototype.onRemove.call(this,d),d.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var d=Lo.prototype.getEvents.call(this);return this.options.permanent||(d.preclick=this.close),d},_initLayout:function(){var d="leaflet-tooltip",g=d+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Kn("div",g),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+c(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(d){var g,S,M=this._map,q=this._container,J=M.latLngToContainerPoint(M.getCenter()),we=M.layerPointToContainerPoint(d),Le=this.options.direction,$e=q.offsetWidth,nt=q.offsetHeight,Ct=ue(this.options.offset),rn=this._getAnchor();Le==="top"?(g=$e/2,S=nt):Le==="bottom"?(g=$e/2,S=0):Le==="center"?(g=$e/2,S=nt/2):Le==="right"?(g=0,S=nt/2):Le==="left"?(g=$e,S=nt/2):we.x<J.x?(Le="right",g=0,S=nt/2):(Le="left",g=$e+(Ct.x+rn.x)*2,S=nt/2),d=d.subtract(ue(g,S,!0)).add(Ct).add(rn),sr(q,"leaflet-tooltip-right"),sr(q,"leaflet-tooltip-left"),sr(q,"leaflet-tooltip-top"),sr(q,"leaflet-tooltip-bottom"),xn(q,"leaflet-tooltip-"+Le),mr(q,d)},_updatePosition:function(){var d=this._map.latLngToLayerPoint(this._latlng);this._setPosition(d)},setOpacity:function(d){this.options.opacity=d,this._container&&Ca(this._container,d)},_animateZoom:function(d){var g=this._map._latLngToNewLayerPoint(this._latlng,d.zoom,d.center);this._setPosition(g)},_getAnchor:function(){return ue(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Kb=function(d,g){return new rp(d,g)};Fn.include({openTooltip:function(d,g,S){return this._initOverlay(rp,d,g,S).openOn(this),this},closeTooltip:function(d){return d.close(),this}}),vr.include({bindTooltip:function(d,g){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(rp,this._tooltip,d,g),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(d){if(!(!d&&this._tooltipHandlersAdded)){var g=d?"off":"on",S={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?S.add=this._openTooltip:(S.mouseover=this._openTooltip,S.mouseout=this.closeTooltip,S.click=this._openTooltip,this._map?this._addFocusListeners():S.add=this._addFocusListeners),this._tooltip.options.sticky&&(S.mousemove=this._moveTooltip),this[g](S),this._tooltipHandlersAdded=!d}},openTooltip:function(d){return this._tooltip&&(this instanceof Cs||(this._tooltip._source=this),this._tooltip._prepareOpen(d)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(d){return this._tooltip&&this._tooltip.setContent(d),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(d){var g=typeof d.getElement=="function"&&d.getElement();g&&(Sn(g,"focus",function(){this._tooltip._source=d,this.openTooltip()},this),Sn(g,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(d){var g=typeof d.getElement=="function"&&d.getElement();g&&g.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(d){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var g=this;this._map.once("moveend",function(){g._openOnceFlag=!1,g._openTooltip(d)});return}this._tooltip._source=d.layer||d.target,this.openTooltip(this._tooltip.options.sticky?d.latlng:void 0)}},_moveTooltip:function(d){var g=d.latlng,S,M;this._tooltip.options.sticky&&d.originalEvent&&(S=this._map.mouseEventToContainerPoint(d.originalEvent),M=this._map.containerPointToLayerPoint(S),g=this._map.layerPointToLatLng(M)),this._tooltip.setLatLng(g)}});var Gy=ko.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(d){var g=d&&d.tagName==="DIV"?d:document.createElement("div"),S=this.options;if(S.html instanceof Element?(Yr(g),g.appendChild(S.html)):g.innerHTML=S.html!==!1?S.html:"",S.bgPos){var M=ue(S.bgPos);g.style.backgroundPosition=-M.x+"px "+-M.y+"px"}return this._setIconStyles(g,"icon"),g},createShadow:function(){return null}});function Gb(d){return new Gy(d)}ko.Default=ia;var df=vr.extend({options:{tileSize:256,opacity:1,updateWhenIdle:bt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(d){v(this,d)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(d){d._addZoomLimit(this)},onRemove:function(d){this._removeAllTiles(),Fr(this._container),d._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(nc(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(rc(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(d){return this.options.opacity=d,this._updateOpacity(),this},setZIndex:function(d){return this.options.zIndex=d,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var d=this._clampZoom(this._map.getZoom());d!==this._tileZoom&&(this._tileZoom=d,this._updateLevels()),this._update()}return this},getEvents:function(){var d={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=u(this._onMoveEnd,this.options.updateInterval,this)),d.move=this._onMove),this._zoomAnimated&&(d.zoomanim=this._animateZoom),d},createTile:function(){return document.createElement("div")},getTileSize:function(){var d=this.options.tileSize;return d instanceof W?d:new W(d,d)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(d){for(var g=this.getPane().children,S=-d(-1/0,1/0),M=0,q=g.length,J;M<q;M++)J=g[M].style.zIndex,g[M]!==this._container&&J&&(S=d(S,+J));isFinite(S)&&(this.options.zIndex=S+d(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!bt.ielt9){Ca(this._container,this.options.opacity);var d=+new Date,g=!1,S=!1;for(var M in this._tiles){var q=this._tiles[M];if(!(!q.current||!q.loaded)){var J=Math.min(1,(d-q.loaded)/200);Ca(q.el,J),J<1?g=!0:(q.active?S=!0:this._onOpaqueTile(q),q.active=!0)}}S&&!this._noPrune&&this._pruneTiles(),g&&(k(this._fadeFrame),this._fadeFrame=T(this._updateOpacity,this))}},_onOpaqueTile:h,_initContainer:function(){this._container||(this._container=Kn("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var d=this._tileZoom,g=this.options.maxZoom;if(d!==void 0){for(var S in this._levels)S=Number(S),this._levels[S].el.children.length||S===d?(this._levels[S].el.style.zIndex=g-Math.abs(d-S),this._onUpdateLevel(S)):(Fr(this._levels[S].el),this._removeTilesAtZoom(S),this._onRemoveLevel(S),delete this._levels[S]);var M=this._levels[d],q=this._map;return M||(M=this._levels[d]={},M.el=Kn("div","leaflet-tile-container leaflet-zoom-animated",this._container),M.el.style.zIndex=g,M.origin=q.project(q.unproject(q.getPixelOrigin()),d).round(),M.zoom=d,this._setZoomTransform(M,q.getCenter(),q.getZoom()),h(M.el.offsetWidth),this._onCreateLevel(M)),this._level=M,M}},_onUpdateLevel:h,_onRemoveLevel:h,_onCreateLevel:h,_pruneTiles:function(){if(this._map){var d,g,S=this._map.getZoom();if(S>this.options.maxZoom||S<this.options.minZoom){this._removeAllTiles();return}for(d in this._tiles)g=this._tiles[d],g.retain=g.current;for(d in this._tiles)if(g=this._tiles[d],g.current&&!g.active){var M=g.coords;this._retainParent(M.x,M.y,M.z,M.z-5)||this._retainChildren(M.x,M.y,M.z,M.z+2)}for(d in this._tiles)this._tiles[d].retain||this._removeTile(d)}},_removeTilesAtZoom:function(d){for(var g in this._tiles)this._tiles[g].coords.z===d&&this._removeTile(g)},_removeAllTiles:function(){for(var d in this._tiles)this._removeTile(d)},_invalidateAll:function(){for(var d in this._levels)Fr(this._levels[d].el),this._onRemoveLevel(Number(d)),delete this._levels[d];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(d,g,S,M){var q=Math.floor(d/2),J=Math.floor(g/2),we=S-1,Le=new W(+q,+J);Le.z=+we;var $e=this._tileCoordsToKey(Le),nt=this._tiles[$e];return nt&&nt.active?(nt.retain=!0,!0):(nt&&nt.loaded&&(nt.retain=!0),we>M?this._retainParent(q,J,we,M):!1)},_retainChildren:function(d,g,S,M){for(var q=2*d;q<2*d+2;q++)for(var J=2*g;J<2*g+2;J++){var we=new W(q,J);we.z=S+1;var Le=this._tileCoordsToKey(we),$e=this._tiles[Le];if($e&&$e.active){$e.retain=!0;continue}else $e&&$e.loaded&&($e.retain=!0);S+1<M&&this._retainChildren(q,J,S+1,M)}},_resetView:function(d){var g=d&&(d.pinch||d.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),g,g)},_animateZoom:function(d){this._setView(d.center,d.zoom,!0,d.noUpdate)},_clampZoom:function(d){var g=this.options;return g.minNativeZoom!==void 0&&d<g.minNativeZoom?g.minNativeZoom:g.maxNativeZoom!==void 0&&g.maxNativeZoom<d?g.maxNativeZoom:d},_setView:function(d,g,S,M){var q=Math.round(g);this.options.maxZoom!==void 0&&q>this.options.maxZoom||this.options.minZoom!==void 0&&q<this.options.minZoom?q=void 0:q=this._clampZoom(q);var J=this.options.updateWhenZooming&&q!==this._tileZoom;(!M||J)&&(this._tileZoom=q,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),q!==void 0&&this._update(d),S||this._pruneTiles(),this._noPrune=!!S),this._setZoomTransforms(d,g)},_setZoomTransforms:function(d,g){for(var S in this._levels)this._setZoomTransform(this._levels[S],d,g)},_setZoomTransform:function(d,g,S){var M=this._map.getZoomScale(S,d.zoom),q=d.origin.multiplyBy(M).subtract(this._map._getNewPixelOrigin(g,S)).round();bt.any3d?ac(d.el,q,M):mr(d.el,q)},_resetGrid:function(){var d=this._map,g=d.options.crs,S=this._tileSize=this.getTileSize(),M=this._tileZoom,q=this._map.getPixelWorldBounds(this._tileZoom);q&&(this._globalTileRange=this._pxBoundsToTileRange(q)),this._wrapX=g.wrapLng&&!this.options.noWrap&&[Math.floor(d.project([0,g.wrapLng[0]],M).x/S.x),Math.ceil(d.project([0,g.wrapLng[1]],M).x/S.y)],this._wrapY=g.wrapLat&&!this.options.noWrap&&[Math.floor(d.project([g.wrapLat[0],0],M).y/S.x),Math.ceil(d.project([g.wrapLat[1],0],M).y/S.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(d){var g=this._map,S=g._animatingZoom?Math.max(g._animateToZoom,g.getZoom()):g.getZoom(),M=g.getZoomScale(S,this._tileZoom),q=g.project(d,this._tileZoom).floor(),J=g.getSize().divideBy(M*2);return new ye(q.subtract(J),q.add(J))},_update:function(d){var g=this._map;if(g){var S=this._clampZoom(g.getZoom());if(d===void 0&&(d=g.getCenter()),this._tileZoom!==void 0){var M=this._getTiledPixelBounds(d),q=this._pxBoundsToTileRange(M),J=q.getCenter(),we=[],Le=this.options.keepBuffer,$e=new ye(q.getBottomLeft().subtract([Le,-Le]),q.getTopRight().add([Le,-Le]));if(!(isFinite(q.min.x)&&isFinite(q.min.y)&&isFinite(q.max.x)&&isFinite(q.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var nt in this._tiles){var Ct=this._tiles[nt].coords;(Ct.z!==this._tileZoom||!$e.contains(new W(Ct.x,Ct.y)))&&(this._tiles[nt].current=!1)}if(Math.abs(S-this._tileZoom)>1){this._setView(d,S);return}for(var rn=q.min.y;rn<=q.max.y;rn++)for(var qn=q.min.x;qn<=q.max.x;qn++){var Za=new W(qn,rn);if(Za.z=this._tileZoom,!!this._isValidTile(Za)){var Hi=this._tiles[this._tileCoordsToKey(Za)];Hi?Hi.current=!0:we.push(Za)}}if(we.sort(function(ds,pf){return ds.distanceTo(J)-pf.distanceTo(J)}),we.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var lo=document.createDocumentFragment();for(qn=0;qn<we.length;qn++)this._addTile(we[qn],lo);this._level.el.appendChild(lo)}}}},_isValidTile:function(d){var g=this._map.options.crs;if(!g.infinite){var S=this._globalTileRange;if(!g.wrapLng&&(d.x<S.min.x||d.x>S.max.x)||!g.wrapLat&&(d.y<S.min.y||d.y>S.max.y))return!1}if(!this.options.bounds)return!0;var M=this._tileCoordsToBounds(d);return Q(this.options.bounds).overlaps(M)},_keyToBounds:function(d){return this._tileCoordsToBounds(this._keyToTileCoords(d))},_tileCoordsToNwSe:function(d){var g=this._map,S=this.getTileSize(),M=d.scaleBy(S),q=M.add(S),J=g.unproject(M,d.z),we=g.unproject(q,d.z);return[J,we]},_tileCoordsToBounds:function(d){var g=this._tileCoordsToNwSe(d),S=new ee(g[0],g[1]);return this.options.noWrap||(S=this._map.wrapLatLngBounds(S)),S},_tileCoordsToKey:function(d){return d.x+":"+d.y+":"+d.z},_keyToTileCoords:function(d){var g=d.split(":"),S=new W(+g[0],+g[1]);return S.z=+g[2],S},_removeTile:function(d){var g=this._tiles[d];g&&(Fr(g.el),delete this._tiles[d],this.fire("tileunload",{tile:g.el,coords:this._keyToTileCoords(d)}))},_initTile:function(d){xn(d,"leaflet-tile");var g=this.getTileSize();d.style.width=g.x+"px",d.style.height=g.y+"px",d.onselectstart=h,d.onmousemove=h,bt.ielt9&&this.options.opacity<1&&Ca(d,this.options.opacity)},_addTile:function(d,g){var S=this._getTilePos(d),M=this._tileCoordsToKey(d),q=this.createTile(this._wrapCoords(d),o(this._tileReady,this,d));this._initTile(q),this.createTile.length<2&&T(o(this._tileReady,this,d,null,q)),mr(q,S),this._tiles[M]={el:q,coords:d,current:!0},g.appendChild(q),this.fire("tileloadstart",{tile:q,coords:d})},_tileReady:function(d,g,S){g&&this.fire("tileerror",{error:g,tile:S,coords:d});var M=this._tileCoordsToKey(d);S=this._tiles[M],S&&(S.loaded=+new Date,this._map._fadeAnimated?(Ca(S.el,0),k(this._fadeFrame),this._fadeFrame=T(this._updateOpacity,this)):(S.active=!0,this._pruneTiles()),g||(xn(S.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:S.el,coords:d})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),bt.ielt9||!this._map._fadeAnimated?T(this._pruneTiles,this):setTimeout(o(this._pruneTiles,this),250)))},_getTilePos:function(d){return d.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(d){var g=new W(this._wrapX?f(d.x,this._wrapX):d.x,this._wrapY?f(d.y,this._wrapY):d.y);return g.z=d.z,g},_pxBoundsToTileRange:function(d){var g=this.getTileSize();return new ye(d.min.unscaleBy(g).floor(),d.max.unscaleBy(g).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var d in this._tiles)if(!this._tiles[d].loaded)return!1;return!0}});function Zb(d){return new df(d)}var _l=df.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(d,g){this._url=d,g=v(this,g),g.detectRetina&&bt.retina&&g.maxZoom>0?(g.tileSize=Math.floor(g.tileSize/2),g.zoomReverse?(g.zoomOffset--,g.minZoom=Math.min(g.maxZoom,g.minZoom+1)):(g.zoomOffset++,g.maxZoom=Math.max(g.minZoom,g.maxZoom-1)),g.minZoom=Math.max(0,g.minZoom)):g.zoomReverse?g.minZoom=Math.min(g.maxZoom,g.minZoom):g.maxZoom=Math.max(g.minZoom,g.maxZoom),typeof g.subdomains=="string"&&(g.subdomains=g.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(d,g){return this._url===d&&g===void 0&&(g=!0),this._url=d,g||this.redraw(),this},createTile:function(d,g){var S=document.createElement("img");return Sn(S,"load",o(this._tileOnLoad,this,g,S)),Sn(S,"error",o(this._tileOnError,this,g,S)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(S.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(S.referrerPolicy=this.options.referrerPolicy),S.alt="",S.src=this.getTileUrl(d),S},getTileUrl:function(d){var g={r:bt.retina?"@2x":"",s:this._getSubdomain(d),x:d.x,y:d.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var S=this._globalTileRange.max.y-d.y;this.options.tms&&(g.y=S),g["-y"]=S}return w(this._url,i(g,this.options))},_tileOnLoad:function(d,g){bt.ielt9?setTimeout(o(d,this,null,g),0):d(null,g)},_tileOnError:function(d,g,S){var M=this.options.errorTileUrl;M&&g.getAttribute("src")!==M&&(g.src=M),d(S,g)},_onTileRemove:function(d){d.tile.onload=null},_getZoomForUrl:function(){var d=this._tileZoom,g=this.options.maxZoom,S=this.options.zoomReverse,M=this.options.zoomOffset;return S&&(d=g-d),d+M},_getSubdomain:function(d){var g=Math.abs(d.x+d.y)%this.options.subdomains.length;return this.options.subdomains[g]},_abortLoading:function(){var d,g;for(d in this._tiles)if(this._tiles[d].coords.z!==this._tileZoom&&(g=this._tiles[d].el,g.onload=h,g.onerror=h,!g.complete)){g.src=A;var S=this._tiles[d].coords;Fr(g),delete this._tiles[d],this.fire("tileabort",{tile:g,coords:S})}},_removeTile:function(d){var g=this._tiles[d];if(g)return g.el.setAttribute("src",A),df.prototype._removeTile.call(this,d)},_tileReady:function(d,g,S){if(!(!this._map||S&&S.getAttribute("src")===A))return df.prototype._tileReady.call(this,d,g,S)}});function Zy(d,g){return new _l(d,g)}var Xy=_l.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(d,g){this._url=d;var S=i({},this.defaultWmsParams);for(var M in g)M in this.options||(S[M]=g[M]);g=v(this,g);var q=g.detectRetina&&bt.retina?2:1,J=this.getTileSize();S.width=J.x*q,S.height=J.y*q,this.wmsParams=S},onAdd:function(d){this._crs=this.options.crs||d.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var g=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[g]=this._crs.code,_l.prototype.onAdd.call(this,d)},getTileUrl:function(d){var g=this._tileCoordsToNwSe(d),S=this._crs,M=V(S.project(g[0]),S.project(g[1])),q=M.min,J=M.max,we=(this._wmsVersion>=1.3&&this._crs===ud?[q.y,q.x,J.y,J.x]:[q.x,q.y,J.x,J.y]).join(","),Le=_l.prototype.getTileUrl.call(this,d);return Le+y(this.wmsParams,Le,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+we},setParams:function(d,g){return i(this.wmsParams,d),g||this.redraw(),this}});function Xb(d,g){return new Xy(d,g)}_l.WMS=Xy,Zy.wms=Xb;var jl=vr.extend({options:{padding:.1},initialize:function(d){v(this,d),c(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),xn(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var d={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(d.zoomanim=this._onAnimZoom),d},_onAnimZoom:function(d){this._updateTransform(d.center,d.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(d,g){var S=this._map.getZoomScale(g,this._zoom),M=this._map.getSize().multiplyBy(.5+this.options.padding),q=this._map.project(this._center,g),J=M.multiplyBy(-S).add(q).subtract(this._map._getNewPixelOrigin(d,g));bt.any3d?ac(this._container,J,S):mr(this._container,J)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var d in this._layers)this._layers[d]._reset()},_onZoomEnd:function(){for(var d in this._layers)this._layers[d]._project()},_updatePaths:function(){for(var d in this._layers)this._layers[d]._update()},_update:function(){var d=this.options.padding,g=this._map.getSize(),S=this._map.containerPointToLayerPoint(g.multiplyBy(-d)).round();this._bounds=new ye(S,S.add(g.multiplyBy(1+d*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Yy=jl.extend({options:{tolerance:0},getEvents:function(){var d=jl.prototype.getEvents.call(this);return d.viewprereset=this._onViewPreReset,d},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){jl.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var d=this._container=document.createElement("canvas");Sn(d,"mousemove",this._onMouseMove,this),Sn(d,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Sn(d,"mouseout",this._handleMouseOut,this),d._leaflet_disable_events=!0,this._ctx=d.getContext("2d")},_destroyContainer:function(){k(this._redrawRequest),delete this._ctx,Fr(this._container),Nr(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var d;this._redrawBounds=null;for(var g in this._layers)d=this._layers[g],d._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){jl.prototype._update.call(this);var d=this._bounds,g=this._container,S=d.getSize(),M=bt.retina?2:1;mr(g,d.min),g.width=M*S.x,g.height=M*S.y,g.style.width=S.x+"px",g.style.height=S.y+"px",bt.retina&&this._ctx.scale(2,2),this._ctx.translate(-d.min.x,-d.min.y),this.fire("update")}},_reset:function(){jl.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(d){this._updateDashArray(d),this._layers[c(d)]=d;var g=d._order={layer:d,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=g),this._drawLast=g,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(d){this._requestRedraw(d)},_removePath:function(d){var g=d._order,S=g.next,M=g.prev;S?S.prev=M:this._drawLast=M,M?M.next=S:this._drawFirst=S,delete d._order,delete this._layers[c(d)],this._requestRedraw(d)},_updatePath:function(d){this._extendRedrawBounds(d),d._project(),d._update(),this._requestRedraw(d)},_updateStyle:function(d){this._updateDashArray(d),this._requestRedraw(d)},_updateDashArray:function(d){if(typeof d.options.dashArray=="string"){var g=d.options.dashArray.split(/[, ]+/),S=[],M,q;for(q=0;q<g.length;q++){if(M=Number(g[q]),isNaN(M))return;S.push(M)}d.options._dashArray=S}else d.options._dashArray=d.options.dashArray},_requestRedraw:function(d){this._map&&(this._extendRedrawBounds(d),this._redrawRequest=this._redrawRequest||T(this._redraw,this))},_extendRedrawBounds:function(d){if(d._pxBounds){var g=(d.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new ye,this._redrawBounds.extend(d._pxBounds.min.subtract([g,g])),this._redrawBounds.extend(d._pxBounds.max.add([g,g]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var d=this._redrawBounds;if(d){var g=d.getSize();this._ctx.clearRect(d.min.x,d.min.y,g.x,g.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var d,g=this._redrawBounds;if(this._ctx.save(),g){var S=g.getSize();this._ctx.beginPath(),this._ctx.rect(g.min.x,g.min.y,S.x,S.y),this._ctx.clip()}this._drawing=!0;for(var M=this._drawFirst;M;M=M.next)d=M.layer,(!g||d._pxBounds&&d._pxBounds.intersects(g))&&d._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(d,g){if(this._drawing){var S,M,q,J,we=d._parts,Le=we.length,$e=this._ctx;if(Le){for($e.beginPath(),S=0;S<Le;S++){for(M=0,q=we[S].length;M<q;M++)J=we[S][M],$e[M?"lineTo":"moveTo"](J.x,J.y);g&&$e.closePath()}this._fillStroke($e,d)}}},_updateCircle:function(d){if(!(!this._drawing||d._empty())){var g=d._point,S=this._ctx,M=Math.max(Math.round(d._radius),1),q=(Math.max(Math.round(d._radiusY),1)||M)/M;q!==1&&(S.save(),S.scale(1,q)),S.beginPath(),S.arc(g.x,g.y/q,M,0,Math.PI*2,!1),q!==1&&S.restore(),this._fillStroke(S,d)}},_fillStroke:function(d,g){var S=g.options;S.fill&&(d.globalAlpha=S.fillOpacity,d.fillStyle=S.fillColor||S.color,d.fill(S.fillRule||"evenodd")),S.stroke&&S.weight!==0&&(d.setLineDash&&d.setLineDash(g.options&&g.options._dashArray||[]),d.globalAlpha=S.opacity,d.lineWidth=S.weight,d.strokeStyle=S.color,d.lineCap=S.lineCap,d.lineJoin=S.lineJoin,d.stroke())},_onClick:function(d){for(var g=this._map.mouseEventToLayerPoint(d),S,M,q=this._drawFirst;q;q=q.next)S=q.layer,S.options.interactive&&S._containsPoint(g)&&(!(d.type==="click"||d.type==="preclick")||!this._map._draggableMoved(S))&&(M=S);this._fireEvent(M?[M]:!1,d)},_onMouseMove:function(d){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var g=this._map.mouseEventToLayerPoint(d);this._handleMouseHover(d,g)}},_handleMouseOut:function(d){var g=this._hoveredLayer;g&&(sr(this._container,"leaflet-interactive"),this._fireEvent([g],d,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(d,g){if(!this._mouseHoverThrottled){for(var S,M,q=this._drawFirst;q;q=q.next)S=q.layer,S.options.interactive&&S._containsPoint(g)&&(M=S);M!==this._hoveredLayer&&(this._handleMouseOut(d),M&&(xn(this._container,"leaflet-interactive"),this._fireEvent([M],d,"mouseover"),this._hoveredLayer=M)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,d),this._mouseHoverThrottled=!0,setTimeout(o(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(d,g,S){this._map._fireDOMEvent(g,S||g.type,d)},_bringToFront:function(d){var g=d._order;if(g){var S=g.next,M=g.prev;if(S)S.prev=M;else return;M?M.next=S:S&&(this._drawFirst=S),g.prev=this._drawLast,this._drawLast.next=g,g.next=null,this._drawLast=g,this._requestRedraw(d)}},_bringToBack:function(d){var g=d._order;if(g){var S=g.next,M=g.prev;if(M)M.next=S;else return;S?S.prev=M:M&&(this._drawLast=M),g.prev=null,g.next=this._drawFirst,this._drawFirst.prev=g,this._drawFirst=g,this._requestRedraw(d)}}});function Qy(d){return bt.canvas?new Yy(d):null}var ff=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(d){return document.createElement("<lvml:"+d+' class="lvml">')}}catch{}return function(d){return document.createElement("<"+d+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Yb={_initContainer:function(){this._container=Kn("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(jl.prototype._update.call(this),this.fire("update"))},_initPath:function(d){var g=d._container=ff("shape");xn(g,"leaflet-vml-shape "+(this.options.className||"")),g.coordsize="1 1",d._path=ff("path"),g.appendChild(d._path),this._updateStyle(d),this._layers[c(d)]=d},_addPath:function(d){var g=d._container;this._container.appendChild(g),d.options.interactive&&d.addInteractiveTarget(g)},_removePath:function(d){var g=d._container;Fr(g),d.removeInteractiveTarget(g),delete this._layers[c(d)]},_updateStyle:function(d){var g=d._stroke,S=d._fill,M=d.options,q=d._container;q.stroked=!!M.stroke,q.filled=!!M.fill,M.stroke?(g||(g=d._stroke=ff("stroke")),q.appendChild(g),g.weight=M.weight+"px",g.color=M.color,g.opacity=M.opacity,M.dashArray?g.dashStyle=j(M.dashArray)?M.dashArray.join(" "):M.dashArray.replace(/( *, *)/g," "):g.dashStyle="",g.endcap=M.lineCap.replace("butt","flat"),g.joinstyle=M.lineJoin):g&&(q.removeChild(g),d._stroke=null),M.fill?(S||(S=d._fill=ff("fill")),q.appendChild(S),S.color=M.fillColor||M.color,S.opacity=M.fillOpacity):S&&(q.removeChild(S),d._fill=null)},_updateCircle:function(d){var g=d._point.round(),S=Math.round(d._radius),M=Math.round(d._radiusY||S);this._setPath(d,d._empty()?"M0 0":"AL "+g.x+","+g.y+" "+S+","+M+" 0,"+65535*360)},_setPath:function(d,g){d._path.v=g},_bringToFront:function(d){nc(d._container)},_bringToBack:function(d){rc(d._container)}},hf=bt.vml?ff:ce,hu=jl.extend({_initContainer:function(){this._container=hf("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=hf("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Fr(this._container),Nr(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){jl.prototype._update.call(this);var d=this._bounds,g=d.getSize(),S=this._container;(!this._svgSize||!this._svgSize.equals(g))&&(this._svgSize=g,S.setAttribute("width",g.x),S.setAttribute("height",g.y)),mr(S,d.min),S.setAttribute("viewBox",[d.min.x,d.min.y,g.x,g.y].join(" ")),this.fire("update")}},_initPath:function(d){var g=d._path=hf("path");d.options.className&&xn(g,d.options.className),d.options.interactive&&xn(g,"leaflet-interactive"),this._updateStyle(d),this._layers[c(d)]=d},_addPath:function(d){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(d._path),d.addInteractiveTarget(d._path)},_removePath:function(d){Fr(d._path),d.removeInteractiveTarget(d._path),delete this._layers[c(d)]},_updatePath:function(d){d._project(),d._update()},_updateStyle:function(d){var g=d._path,S=d.options;g&&(S.stroke?(g.setAttribute("stroke",S.color),g.setAttribute("stroke-opacity",S.opacity),g.setAttribute("stroke-width",S.weight),g.setAttribute("stroke-linecap",S.lineCap),g.setAttribute("stroke-linejoin",S.lineJoin),S.dashArray?g.setAttribute("stroke-dasharray",S.dashArray):g.removeAttribute("stroke-dasharray"),S.dashOffset?g.setAttribute("stroke-dashoffset",S.dashOffset):g.removeAttribute("stroke-dashoffset")):g.setAttribute("stroke","none"),S.fill?(g.setAttribute("fill",S.fillColor||S.color),g.setAttribute("fill-opacity",S.fillOpacity),g.setAttribute("fill-rule",S.fillRule||"evenodd")):g.setAttribute("fill","none"))},_updatePoly:function(d,g){this._setPath(d,it(d._parts,g))},_updateCircle:function(d){var g=d._point,S=Math.max(Math.round(d._radius),1),M=Math.max(Math.round(d._radiusY),1)||S,q="a"+S+","+M+" 0 1,0 ",J=d._empty()?"M0 0":"M"+(g.x-S)+","+g.y+q+S*2+",0 "+q+-S*2+",0 ";this._setPath(d,J)},_setPath:function(d,g){d._path.setAttribute("d",g)},_bringToFront:function(d){nc(d._path)},_bringToBack:function(d){rc(d._path)}});bt.vml&&hu.include(Yb);function us(d){return bt.svg||bt.vml?new hu(d):null}Fn.include({getRenderer:function(d){var g=d.options.renderer||this._getPaneRenderer(d.options.pane)||this.options.renderer||this._renderer;return g||(g=this._renderer=this._createRenderer()),this.hasLayer(g)||this.addLayer(g),g},_getPaneRenderer:function(d){if(d==="overlayPane"||d===void 0)return!1;var g=this._paneRenderers[d];return g===void 0&&(g=this._createRenderer({pane:d}),this._paneRenderers[d]=g),g},_createRenderer:function(d){return this.options.preferCanvas&&Qy(d)||us(d)}});var ks=xl.extend({initialize:function(d,g){xl.prototype.initialize.call(this,this._boundsToLatLngs(d),g)},setBounds:function(d){return this.setLatLngs(this._boundsToLatLngs(d))},_boundsToLatLngs:function(d){return d=Q(d),[d.getSouthWest(),d.getNorthWest(),d.getNorthEast(),d.getSouthEast()]}});function Dm(d,g){return new ks(d,g)}hu.create=hf,hu.pointsToPath=it,cs.geometryToLayer=bl,cs.coordsToLatLng=Io,cs.coordsToLatLngs=fu,cs.latLngToCoords=Ga,cs.latLngsToCoords=Os,cs.getFeature=or,cs.asFeature=yr,Fn.mergeOptions({boxZoom:!0});var ip=Qe.extend({initialize:function(d){this._map=d,this._container=d._container,this._pane=d._panes.overlayPane,this._resetStateTimeout=0,d.on("unload",this._destroy,this)},addHooks:function(){Sn(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Nr(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Fr(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(d){if(!d.shiftKey||d.which!==1&&d.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),nu(),Kh(),this._startPoint=this._map.mouseEventToContainerPoint(d),Sn(document,{contextmenu:ao,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(d){this._moved||(this._moved=!0,this._box=Kn("div","leaflet-zoom-box",this._container),xn(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(d);var g=new ye(this._point,this._startPoint),S=g.getSize();mr(this._box,g.min),this._box.style.width=S.x+"px",this._box.style.height=S.y+"px"},_finish:function(){this._moved&&(Fr(this._box),sr(this._container,"leaflet-crosshair")),ro(),Gh(),Nr(document,{contextmenu:ao,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(d){if(!(d.which!==1&&d.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(o(this._resetState,this),0);var g=new ee(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(g).fire("boxzoomend",{boxZoomBounds:g})}},_onKeyDown:function(d){d.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Fn.addInitHook("addHandler","boxZoom",ip),Fn.mergeOptions({doubleClickZoom:!0});var Jy=Qe.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(d){var g=this._map,S=g.getZoom(),M=g.options.zoomDelta,q=d.originalEvent.shiftKey?S-M:S+M;g.options.doubleClickZoom==="center"?g.setZoom(q):g.setZoomAround(d.containerPoint,q)}});Fn.addInitHook("addHandler","doubleClickZoom",Jy),Fn.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var ap=Qe.extend({addHooks:function(){if(!this._draggable){var d=this._map;this._draggable=new nn(d._mapPane,d._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),d.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),d.on("zoomend",this._onZoomEnd,this),d.whenReady(this._onZoomEnd,this))}xn(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){sr(this._map._container,"leaflet-grab"),sr(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var d=this._map;if(d._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var g=Q(this._map.options.maxBounds);this._offsetLimit=V(this._map.latLngToContainerPoint(g.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(g.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;d.fire("movestart").fire("dragstart"),d.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(d){if(this._map.options.inertia){var g=this._lastTime=+new Date,S=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(S),this._times.push(g),this._prunePositions(g)}this._map.fire("move",d).fire("drag",d)},_prunePositions:function(d){for(;this._positions.length>1&&d-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var d=this._map.getSize().divideBy(2),g=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=g.subtract(d).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(d,g){return d-(d-g)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var d=this._draggable._newPos.subtract(this._draggable._startPos),g=this._offsetLimit;d.x<g.min.x&&(d.x=this._viscousLimit(d.x,g.min.x)),d.y<g.min.y&&(d.y=this._viscousLimit(d.y,g.min.y)),d.x>g.max.x&&(d.x=this._viscousLimit(d.x,g.max.x)),d.y>g.max.y&&(d.y=this._viscousLimit(d.y,g.max.y)),this._draggable._newPos=this._draggable._startPos.add(d)}},_onPreDragWrap:function(){var d=this._worldWidth,g=Math.round(d/2),S=this._initialWorldOffset,M=this._draggable._newPos.x,q=(M-g+S)%d+g-S,J=(M+g+S)%d-g-S,we=Math.abs(q+S)<Math.abs(J+S)?q:J;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=we},_onDragEnd:function(d){var g=this._map,S=g.options,M=!S.inertia||d.noInertia||this._times.length<2;if(g.fire("dragend",d),M)g.fire("moveend");else{this._prunePositions(+new Date);var q=this._lastPos.subtract(this._positions[0]),J=(this._lastTime-this._times[0])/1e3,we=S.easeLinearity,Le=q.multiplyBy(we/J),$e=Le.distanceTo([0,0]),nt=Math.min(S.inertiaMaxSpeed,$e),Ct=Le.multiplyBy(nt/$e),rn=nt/(S.inertiaDeceleration*we),qn=Ct.multiplyBy(-rn/2).round();!qn.x&&!qn.y?g.fire("moveend"):(qn=g._limitOffset(qn,g.options.maxBounds),T(function(){g.panBy(qn,{duration:rn,easeLinearity:we,noMoveStart:!0,animate:!0})}))}}});Fn.addInitHook("addHandler","dragging",ap),Fn.mergeOptions({keyboard:!0,keyboardPanDelta:80});var sp=Qe.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(d){this._map=d,this._setPanDelta(d.options.keyboardPanDelta),this._setZoomDelta(d.options.zoomDelta)},addHooks:function(){var d=this._map._container;d.tabIndex<=0&&(d.tabIndex="0"),Sn(d,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Nr(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var d=document.body,g=document.documentElement,S=d.scrollTop||g.scrollTop,M=d.scrollLeft||g.scrollLeft;this._map._container.focus(),window.scrollTo(M,S)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(d){var g=this._panKeys={},S=this.keyCodes,M,q;for(M=0,q=S.left.length;M<q;M++)g[S.left[M]]=[-1*d,0];for(M=0,q=S.right.length;M<q;M++)g[S.right[M]]=[d,0];for(M=0,q=S.down.length;M<q;M++)g[S.down[M]]=[0,d];for(M=0,q=S.up.length;M<q;M++)g[S.up[M]]=[0,-1*d]},_setZoomDelta:function(d){var g=this._zoomKeys={},S=this.keyCodes,M,q;for(M=0,q=S.zoomIn.length;M<q;M++)g[S.zoomIn[M]]=d;for(M=0,q=S.zoomOut.length;M<q;M++)g[S.zoomOut[M]]=-d},_addHooks:function(){Sn(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Nr(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(d){if(!(d.altKey||d.ctrlKey||d.metaKey)){var g=d.keyCode,S=this._map,M;if(g in this._panKeys){if(!S._panAnim||!S._panAnim._inProgress)if(M=this._panKeys[g],d.shiftKey&&(M=ue(M).multiplyBy(3)),S.options.maxBounds&&(M=S._limitOffset(ue(M),S.options.maxBounds)),S.options.worldCopyJump){var q=S.wrapLatLng(S.unproject(S.project(S.getCenter()).add(M)));S.panTo(q)}else S.panBy(M)}else if(g in this._zoomKeys)S.setZoom(S.getZoom()+(d.shiftKey?3:1)*this._zoomKeys[g]);else if(g===27&&S._popup&&S._popup.options.closeOnEscapeKey)S.closePopup();else return;ao(d)}}});Fn.addInitHook("addHandler","keyboard",sp),Fn.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Rm=Qe.extend({addHooks:function(){Sn(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Nr(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(d){var g=af(d),S=this._map.options.wheelDebounceTime;this._delta+=g,this._lastMousePos=this._map.mouseEventToContainerPoint(d),this._startTime||(this._startTime=+new Date);var M=Math.max(S-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(o(this._performZoom,this),M),ao(d)},_performZoom:function(){var d=this._map,g=d.getZoom(),S=this._map.options.zoomSnap||0;d._stop();var M=this._delta/(this._map.options.wheelPxPerZoomLevel*4),q=4*Math.log(2/(1+Math.exp(-Math.abs(M))))/Math.LN2,J=S?Math.ceil(q/S)*S:q,we=d._limitZoom(g+(this._delta>0?J:-J))-g;this._delta=0,this._startTime=null,we&&(d.options.scrollWheelZoom==="center"?d.setZoom(g+we):d.setZoomAround(this._lastMousePos,g+we))}});Fn.addInitHook("addHandler","scrollWheelZoom",Rm);var Qb=600;Fn.mergeOptions({tapHold:bt.touchNative&&bt.safari&&bt.mobile,tapTolerance:15});var $m=Qe.extend({addHooks:function(){Sn(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Nr(this._map._container,"touchstart",this._onDown,this)},_onDown:function(d){if(clearTimeout(this._holdTimeout),d.touches.length===1){var g=d.touches[0];this._startPos=this._newPos=new W(g.clientX,g.clientY),this._holdTimeout=setTimeout(o(function(){this._cancel(),this._isTapValid()&&(Sn(document,"touchend",Qr),Sn(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",g))},this),Qb),Sn(document,"touchend touchcancel contextmenu",this._cancel,this),Sn(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function d(){Nr(document,"touchend",Qr),Nr(document,"touchend touchcancel",d)},_cancel:function(){clearTimeout(this._holdTimeout),Nr(document,"touchend touchcancel contextmenu",this._cancel,this),Nr(document,"touchmove",this._onMove,this)},_onMove:function(d){var g=d.touches[0];this._newPos=new W(g.clientX,g.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(d,g){var S=new MouseEvent(d,{bubbles:!0,cancelable:!0,view:window,screenX:g.screenX,screenY:g.screenY,clientX:g.clientX,clientY:g.clientY});S._simulated=!0,g.target.dispatchEvent(S)}});Fn.addInitHook("addHandler","tapHold",$m),Fn.mergeOptions({touchZoom:bt.touch,bounceAtZoomLimits:!0});var Fm=Qe.extend({addHooks:function(){xn(this._map._container,"leaflet-touch-zoom"),Sn(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){sr(this._map._container,"leaflet-touch-zoom"),Nr(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(d){var g=this._map;if(!(!d.touches||d.touches.length!==2||g._animatingZoom||this._zooming)){var S=g.mouseEventToContainerPoint(d.touches[0]),M=g.mouseEventToContainerPoint(d.touches[1]);this._centerPoint=g.getSize()._divideBy(2),this._startLatLng=g.containerPointToLatLng(this._centerPoint),g.options.touchZoom!=="center"&&(this._pinchStartLatLng=g.containerPointToLatLng(S.add(M)._divideBy(2))),this._startDist=S.distanceTo(M),this._startZoom=g.getZoom(),this._moved=!1,this._zooming=!0,g._stop(),Sn(document,"touchmove",this._onTouchMove,this),Sn(document,"touchend touchcancel",this._onTouchEnd,this),Qr(d)}},_onTouchMove:function(d){if(!(!d.touches||d.touches.length!==2||!this._zooming)){var g=this._map,S=g.mouseEventToContainerPoint(d.touches[0]),M=g.mouseEventToContainerPoint(d.touches[1]),q=S.distanceTo(M)/this._startDist;if(this._zoom=g.getScaleZoom(q,this._startZoom),!g.options.bounceAtZoomLimits&&(this._zoom<g.getMinZoom()&&q<1||this._zoom>g.getMaxZoom()&&q>1)&&(this._zoom=g._limitZoom(this._zoom)),g.options.touchZoom==="center"){if(this._center=this._startLatLng,q===1)return}else{var J=S._add(M)._divideBy(2)._subtract(this._centerPoint);if(q===1&&J.x===0&&J.y===0)return;this._center=g.unproject(g.project(this._pinchStartLatLng,this._zoom).subtract(J),this._zoom)}this._moved||(g._moveStart(!0,!1),this._moved=!0),k(this._animRequest);var we=o(g._move,g,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=T(we,this,!0),Qr(d)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,k(this._animRequest),Nr(document,"touchmove",this._onTouchMove,this),Nr(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Fn.addInitHook("addHandler","touchZoom",Fm),Fn.BoxZoom=ip,Fn.DoubleClickZoom=Jy,Fn.Drag=ap,Fn.Keyboard=sp,Fn.ScrollWheelZoom=Rm,Fn.TapHold=$m,Fn.TouchZoom=Fm,n.Bounds=ye,n.Browser=bt,n.CRS=ve,n.Canvas=Yy,n.Circle=tp,n.CircleMarker=To,n.Class=B,n.Control=fa,n.DivIcon=Gy,n.DivOverlay=Lo,n.DomEvent=ld,n.DomUtil=_n,n.Draggable=nn,n.Evented=ae,n.FeatureGroup=Cs,n.GeoJSON=cs,n.GridLayer=df,n.Handler=Qe,n.Icon=ko,n.ImageOverlay=hc,n.LatLng=de,n.LatLngBounds=ee,n.Layer=vr,n.LayerGroup=ma,n.LineUtil=dc,n.Map=Fn,n.Marker=Es,n.Mixin=Ft,n.Path=oo,n.Point=W,n.PolyUtil=Ei,n.Polygon=xl,n.Polyline=aa,n.Popup=np,n.PosAnimation=sf,n.Projection=Ka,n.Rectangle=ks,n.Renderer=jl,n.SVG=hu,n.SVGOverlay=Ky,n.TileLayer=_l,n.Tooltip=rp,n.Transformation=Ee,n.Util=F,n.VideoOverlay=uf,n.bind=o,n.bounds=V,n.canvas=Qy,n.circle=yl,n.circleMarker=bi,n.control=uc,n.divIcon=Gb,n.extend=i,n.featureGroup=lu,n.geoJSON=hi,n.geoJson=fc,n.gridLayer=Zb,n.icon=ls,n.imageOverlay=wl,n.latLng=le,n.latLngBounds=Q,n.layerGroup=ep,n.map=Yh,n.marker=uu,n.point=ue,n.polygon=cf,n.polyline=lf,n.popup=Hb,n.rectangle=Dm,n.setOptions=v,n.stamp=c,n.svg=us,n.svgOverlay=Wb,n.tileLayer=Zy,n.tooltip=Kb,n.transformation=be,n.version=r,n.videoOverlay=Vb;var Bm=window.L;n.noConflict=function(){return window.L=Bm,this},window.L=n})})(h4,h4.exports);var Dd=h4.exports;const nj=jr(Dd);function sS(e,t,n){return Object.freeze({instance:e,context:t,container:n})}function oS(e,t){return t==null?function(r,i){const a=N.useRef();return a.current||(a.current=e(r,i)),a}:function(r,i){const a=N.useRef();a.current||(a.current=e(r,i));const o=N.useRef(r),{instance:l}=a.current;return N.useEffect(function(){o.current!==r&&(t(l,r,o.current),o.current=r)},[l,r,i]),a}}function Gte(e,t){N.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){var a;(a=t.layerContainer)==null||a.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function Zte(e){return function(n){const r=iS(),i=e(aS(n,r),r);return qte(r.map,n.attribution),tI(i.current,n.eventHandlers),Gte(i.current,r),i}}function Xqe(e,t){const n=N.useRef();N.useEffect(function(){if(t.pathOptions!==n.current){const i=t.pathOptions??{};e.instance.setStyle(i),n.current=i}},[e,t])}function Yqe(e){return function(n){const r=iS(),i=e(aS(n,r),r);return tI(i.current,n.eventHandlers),Gte(i.current,r),Xqe(i.current,n),i}}function Qqe(e,t){const n=oS(e,t),r=Zte(n);return Kte(r)}function Jqe(e,t){const n=oS(e),r=Zqe(n,t);return Kqe(r)}function eVe(e,t){const n=oS(e,t),r=Yqe(n);return Kte(r)}function tVe(e,t){const n=oS(e,t),r=Zte(n);return Gqe(r)}function nVe(e,t,n){const{opacity:r,zIndex:i}=t;r!=null&&r!==n.opacity&&e.setOpacity(r),i!=null&&i!==n.zIndex&&e.setZIndex(i)}function Xte(){return iS().map}function p4(){return p4=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p4.apply(this,arguments)}function rVe({bounds:e,boundsOptions:t,center:n,children:r,className:i,id:a,placeholder:o,style:l,whenReady:c,zoom:u,...f},h){const[p]=N.useState({className:i,id:a,style:l}),[m,x]=N.useState(null);N.useImperativeHandle(h,()=>(m==null?void 0:m.map)??null,[m]);const v=N.useCallback(b=>{if(b!==null&&m===null){const w=new Dd.Map(b,f);n!=null&&u!=null?w.setView(n,u):e!=null&&w.fitBounds(e,t),c!=null&&w.whenReady(c),x(Hqe(w))}},[]);N.useEffect(()=>()=>{m==null||m.map.remove()},[m]);const y=m?ie.createElement(Hte,{value:m},r):o??null;return ie.createElement("div",p4({},p,{ref:v}),y)}const iVe=N.forwardRef(rVe),m4=Qqe(function({position:t,...n},r){const i=new Dd.Marker(t,n);return sS(i,Vte(r,{overlayContainer:i}))},function(t,n,r){n.position!==r.position&&t.setLatLng(n.position),n.icon!=null&&n.icon!==r.icon&&t.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==r.zIndexOffset&&t.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==r.opacity&&t.setOpacity(n.opacity),t.dragging!=null&&n.draggable!==r.draggable&&(n.draggable===!0?t.dragging.enable():t.dragging.disable())}),$F=eVe(function({positions:t,...n},r){const i=new Dd.Polyline(t,n);return sS(i,Vte(r,{overlayContainer:i}))},function(t,n,r){n.positions!==r.positions&&t.setLatLngs(n.positions)}),_P=Jqe(function(t,n){const r=new Dd.Popup(t,n.overlayContainer);return sS(r,n)},function(t,n,{position:r},i){N.useEffect(function(){const{instance:o}=t;function l(u){u.popup===o&&(o.update(),i(!0))}function c(u){u.popup===o&&i(!1)}return n.map.on({popupopen:l,popupclose:c}),n.overlayContainer==null?(r!=null&&o.setLatLng(r),o.openOn(n.map)):n.overlayContainer.bindPopup(o),function(){var f;n.map.off({popupopen:l,popupclose:c}),(f=n.overlayContainer)==null||f.unbindPopup(),n.map.removeLayer(o)}},[t,n,i,r])}),aVe=tVe(function({url:t,...n},r){const i=new Dd.TileLayer(t,aS(n,r));return sS(i,r)},function(t,n,r){nVe(t,n,r);const{url:i}=n;i!=null&&i!==r.url&&t.setUrl(i)}),sVe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAABSCAMAAAAhFXfZAAAC91BMVEVMaXEzeak2f7I4g7g3g7cua5gzeKg8hJo3grY4g7c3grU0gLI2frE0daAubJc2gbQwd6QzeKk2gLMtd5sxdKIua5g1frA2f7IydaM0e6w2fq41fK01eqo3grgubJgta5cxdKI1f7AydaQydaMxc6EubJgvbJkwcZ4ubZkwcJwubZgubJcydqUydKIxapgubJctbJcubZcubJcvbJYubJcvbZkubJctbJctbZcubJg2f7AubJcrbZcubJcubJcua5g3grY0fq8ubJcubJdEkdEwhsw6i88vhswuhcsuhMtBjMgthMsrg8srgss6is8qgcs8i9A9iMYtg8spgcoogMo7hcMngMonf8olfso4gr8kfck5iM8jfMk4iM8he8k1fro7itAgesk2hs8eecgzfLcofssdeMg0hc4cd8g2hcsxeLQbdsgZdcgxeLImfcszhM0vda4xgckzhM4xg84wf8Yxgs4udKsvfcQucqhUndROmdM1fK0wcZ8vb5w0eqpQm9MzeKhXoNVcpdYydKNWn9VZotVKltJFjsIwcJ1Rms9OlslLmtH///8+kc9epdYzd6dbo9VHkMM2f7FHmNBClM8ydqVcpNY9hro3gLM9hLczealQmcw3fa46f7A8gLMxc6I3eagyc6FIldJMl9JSnNRSntNNl9JPnNJFi75UnM9ZodVKksg8kM45jc09e6ZHltFBk883gbRBh7pDk9EwcaBzn784g7dKkcY2i81Om9M7j85Llc81is09g7Q4grY/j9A0eqxKmdFFltBEjcXf6fFImdBCiLxJl9FGlNFBi78yiMxVndEvbpo6js74+vx+psPP3+o/ks5HkcpGmNCjwdZCkNDM3ehYoNJEls+lxNkxh8xHks0+jdC1zd5Lg6r+/v/H2ufz9/o3jM3t8/edvdM/k89Th61OiLBSjbZklbaTt9BfptdjmL1AicBHj8hGk9FAgK1dkLNTjLRekrdClc/k7fM0icy0y9tgp9c4jc2NtM9Dlc8zicxeXZn3AAAAQ3RSTlMAHDdTb4yPA+LtnEQmC4L2EmHqB7XA0d0sr478x4/Yd5i1zOfyPkf1sLVq4Nh3FvjxopQ2/STNuFzUwFIwxKaejILpIBEV9wAABhVJREFUeF6s1NdyFEcYBeBeoQIhRAkLlRDGrhIgY3BJL8CVeKzuyXFzzjkn5ZxzzuScg3PO8cKzu70JkO0LfxdTU//pM9vTu7Xgf6KqOVTb9X7toRrVEfBf1HTVjZccrT/2by1VV928Yty9ZbVuucdz90frG8DBjl9pVApbOstvmMuvVgaNXSfAAd6pGxpy6yxf5ph43pS/4f3uoaGm2rdu72S9xzOvMymkZFq/ptDrk90mhW7e4zl7HLzhxGWPR20xmSxJ/VqldG5m9XhaVOA1DadsNh3Pu5L2N6QtPO/32JpqQBVVk20oy/Pi2s23WEvyfHbe1thadVQttvm7Llf65gGmXK67XtupyoM7HQhmXdLS8oGWJNeOJ3C5fG5XCEJnkez3/oFdsvgJ4l2ANZwhrJKk/7OSXa+3Vw2WJMlKnGkobouYk6T0TyX30klOUnTD9HJ5qpckL3EW/w4XF3Xd0FGywXUrstrclVsqz5Pd/sXFYyDnPdrLcQODmGOK47IZb4CmibmMn+MYRzFZ5jg33ZL/EJrWcszHmANy3ARBK/IXtciJy8VsitPSdE3uuHxzougojcUdr8/32atnz/ev3f/K5wtpxUTpcaI45zusVDpYtZi+jg0oU9b3x74h7+n9ABvYEZeKaVq0sh0AtLKsFtqNBdeT0MrSzwwlq9+x6xAO4tgOtSzbCjrNQQiNvQUbUEubvzBUeGw26yDCsRHCoLkTHDa7IdOLIThs/gHvChszh2CimE8peRs47cxANI0lYNB5y1DljpOF0IhzBDPOZnDOqYYbeGKECbPzWnXludPphw5c2YBq5zlwXphIbO4VDCZ0gnPfUO1TwZoYwAs2ExPCedAu9DAjfQUjzITQb3jNj0KG2Sgt6BHaQUdYzWz+XmBktOHwanXjaSTcwwziBcuMOtwBmqPrTOxFQR/DRKKPqyur0aiW6cULYsx6tBm0jXpR/AUWR6HRq9WVW6MRhIq5jLyjbaCTDCijyYJNpCajdyobP/eTw0iexBAKkJ3gA5KcQb2zBXsIBckn+xVv8jkZSaEFHE+jFEleAEfayRU0MouNoBmB/L50Ai/HSLIHxcrpCvnhSQAuakKp2C/YbCylJjXRVy/z3+Kv/RrNcCo+WUzlVEhzKffnTQnxeN9fWF88fiNCUdSTsaufaChKWInHeysygfpIqagoakW+vV20J8uyl6TyNKEZWV4oRSPyCkWpgOLSbkCObT8o2r6tlG58HQquf6O0v50tB7JM7F4EORd2dx/K0w/KHsVkLPaoYrwgP/y7krr3SSMA4zj+OBgmjYkxcdIJQyQRKgg2viX9Hddi9UBb29LrKR7CVVEEEXWojUkXNyfTNDE14W9gbHJNuhjDettN3ZvbOvdOqCD3Jp/9l+/wJE+9PkYGjx/fqkys3S2rMozM/o2106rfMUINo6hVqz+eu/hd1c4xTg0TAfy5kV+4UG6+IthHTU9woWmxuKNbTfuCSfovBCxq7EtHqvYL4Sm6F8GVxsSXHMQ07TOi1DKtZxjWaaIyi4CXWjxPccUw8WVbMYY5wxC1mzEyXMJWkllpRloi+Kkoq69sxBTlElF6aAxYUbjXNlhlDZilDnM4U5SlN5biRsRHnbx3mbeWjEh4mEyiuJDl5XcWVmX5GvNkFgLWZM5qwsop4/AWfLhU1cR7k1VVvcYCWRkOI6Xy5gmnphCYIkvzuNYzHzosq2oNk2RtSs8khfUOfHIDgR6ysYBaMpl4uEgk2U/oJTs9AaTSwma7dT69geAE2ZpEjUsn2ieJNHeKfrI3EcAGJ2ZaNgVuC8EBctCLc57P5u5led6IOBkIYkuQMrmmjChs4VkfOerHqSBkPzZlhe06RslZ3zMjk2sscqKwY0RcjKK+LWbzd7KiHhkncs/siFJ+V5eXxD34B8nVuJEpGJNmxN2gH3vSvp7J70tF+D1Ej8qUJD1TkErAND2GZwTFg/LubvmgiBG3SOvdlsqFQrkEzJCL1rstlnVFROixZoDDSuXQFHESwVGlcuQcMb/b42NgjLowh5MTDFE3vNB5qStRIErdCQEh6pLPR92anSUb/wAIhldAaDMpGgAAAABJRU5ErkJggg==",oVe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",lVe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC";function cVe({center:e,zoom:t}){const n=Xte();return N.useEffect(()=>{n.setView(e,t)},[e,t,n]),null}function uVe({position:e,icon:t,children:n,animate:r=!1,previousPosition:i=null}){const a=N.useRef(null),o=Xte();return N.useEffect(()=>{const l=a.current;if(!r||!i||!l)return;const u=nj.latLng(i[0],i[1]),f=nj.latLng(e[0],e[1]),h=100,p=(f.lat-u.lat)/h,m=(f.lng-u.lng)/h;let x=0;const v=()=>{if(x<h&&a.current){x++;const y=u.lat+p*x,b=u.lng+m*x;a.current.setLatLng([y,b]),requestAnimationFrame(v)}};v()},[e,r,i,o]),s.jsx(m4,{position:e,icon:t,ref:a,children:n})}function dVe({origin:e,destination:t,currentLocation:n,status:r}){N.useEffect(()=>{delete nj.Icon.Default.prototype._getIconUrl,nj.Icon.Default.mergeOptions({iconRetinaUrl:sVe,iconUrl:oVe,shadowUrl:lVe})},[]);let i;if(r==="delivered")i={lat:t.lat,lng:t.lng,name:t.name};else if(n)i=n;else{let j;switch(r){case"pending":j=.1;break;case"in_transit":j=.5;break;case"delayed":j=.7;break;case"cancelled":j=.3;break;default:j=.5}i={lat:e.lat+(t.lat-e.lat)*j,lng:e.lng+(t.lng-e.lng)*j,name:"En ruta"}}const a={lat:(e.lat+t.lat)/2,lng:(e.lng+t.lng)/2},o=[[e.lat,e.lng],[i.lat,i.lng],[t.lat,t.lng]],l=()=>{switch(r){case"pending":return"#3b82f6";case"in_transit":return"#f97316";case"delayed":return"#ef4444";case"delivered":return"#b5e951";case"cancelled":return"#6b7280";default:return"#3b82f6"}},c=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512" fill="${r==="delayed"?"red":r==="delivered"?"#4ade80":"orange"}" width="36" height="36"><path d="M32 96c0-35.3 28.7-64 64-64H320c23.7 0 44.4 12.9 55.4 32h51.8c25.3 0 48.2 14.9 58.5 38l52.8 118.8c.5 1.1 .9 2.3 1.3 3.5 6.5 2.5 12.7 5.5 18.7 9.1 18.9 11.3 34.1 28.3 43.8 48.8 9.2 19.4 14 40.5 14.1 61.7L640 409.1v7c0 22.1-17.9 40-40 40H608c0 8.8-7.2 16-16 16s-16-7.2-16-16H378.5c0 8.8-7.2 16-16 16s-16-7.2-16-16H320 288 205.5c0 8.8-7.2 16-16 16s-16-7.2-16-16H64c-8.8 0-16-7.2-16-16V409.1C27.8 407.9 8.4 393.9 2.6 373.3c-2.1-7.9 2.5-16.1 10.4-18.3s16.1 2.5 18.3 10.4c3.3 11.9 14.2 20.2 26.7 20.5l32 .9c23.5 .7 42.9-17.8 43.6-41.2s-17.8-42.9-41.2-43.6l-25.6-.7c-12.2-.3-22.8-8.2-27.4-19.8C29.1 255.8 32 228.3 32 200.7V96zm345.6 160H485.3l-42.7-96H390.9c-3.1 5.6-6.8 10.9-11.1 15.6-14.8 16.4-34.5 27.8-57.2 31.8V256zM151.5 176c6.6-18.6 24.4-32 45.3-32h48.5c-7.4 11.4-11.2 24.4-11.2 38.1c0 38.2 30.4 69.3 68.3 70.5l.7 0c30.1-1.2 54.9-23.4 61.1-52.5H440c-.2 34.5-6.4 61.9-16.7 82.3-12.4 24.3-30.6 39.4-54 43.2-10.5 1.7-21.6 2.1-32.7 1.3-15.3 24.9-42.8 41.5-74.1 41.5c-24.7 0-46.9-10.2-62.7-26.5c-2.9-.5-5.7-1-8.6-1.5c-28.9-5.4-54.8-20.8-73.2-42.2c-13.2-15.4-22.8-33.5-28.1-53.1c-2.2-8.1-3.9-16.5-5.1-25.1l5.1 .1c8.8 .2 16.9 3.3 23.4 8.3c7.1-11.8 17.7-21.2 30.7-26.5c6.2-2.6 12.9-4.1 19.9-4.4z"/></svg>`,u=new Dd.DivIcon({html:`
      <div style="position: relative; text-align: center;">
        <div style="color: #273949; font-weight: bold; background: white; padding: 2px 5px; border-radius: 3px; border: 1px solid #ccc; margin-bottom: 5px;">
          Origen
        </div>
        <img src="https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-blue.png" 
             style="width: 25px; height: 41px;" 
             alt="Origen" />
      </div>
    `,className:"origin-marker-icon",iconSize:[40,60],iconAnchor:[20,41],popupAnchor:[0,-41]}),f=new Dd.DivIcon({html:`
      <div style="position: relative; text-align: center;">
        <div style="color: #27674a; font-weight: bold; background: white; padding: 2px 5px; border-radius: 3px; border: 1px solid #ccc; margin-bottom: 5px;">
          Destino
        </div>
        <img src="https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-green.png" 
             style="width: 25px; height: 41px;" 
             alt="Destino" />
      </div>
    `,className:"destination-marker-icon",iconSize:[40,60],iconAnchor:[20,41],popupAnchor:[0,-41]}),h=`data:image/svg+xml;utf8,${encodeURIComponent(c)}`,p=new Dd.Icon({iconUrl:h,shadowUrl:"",iconSize:[36,36],iconAnchor:[18,18],popupAnchor:[0,-18]}),[m,x]=N.useState(null),[v,y]=N.useState(!0);N.useEffect(()=>{m||x([e.lat,e.lng])},[e.lat,e.lng,m]),N.useEffect(()=>{x(j=>j||[e.lat,e.lng]),y(!0)},[i.lat,i.lng,e.lat,e.lng]);const w=(()=>{const j=Math.sqrt(Math.pow(e.lat-t.lat,2)+Math.pow(e.lng-t.lng,2));return j>10?5:j>5?7:j>2?9:11})();return s.jsx("div",{className:"w-full h-[300px] rounded-lg overflow-hidden border border-gray-200",children:s.jsxs(iVe,{center:[a.lat,a.lng],zoom:w,style:{height:"100%",width:"100%"},children:[s.jsx(cVe,{center:[a.lat,a.lng],zoom:w}),s.jsx(aVe,{attribution:'© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),s.jsx(m4,{position:[e.lat,e.lng],icon:u,children:s.jsxs(_P,{children:[s.jsx("strong",{children:"Origen:"})," ",e.name]})}),s.jsx(m4,{position:[t.lat,t.lng],icon:f,children:s.jsxs(_P,{children:[s.jsx("strong",{children:"Destino:"})," ",t.name]})}),r!=="cancelled"&&s.jsx(uVe,{position:[i.lat,i.lng],icon:p,animate:r!=="delivered"&&v,previousPosition:m,children:s.jsxs(_P,{children:[s.jsx("strong",{children:r==="delayed"?"Retrasado en:":r==="in_transit"?"Ubicación actual:":r==="pending"?"Por enviar desde:":r==="delivered"?"Entregado en:":"Ubicación:"})," ",i.name]})}),r==="delivered"&&s.jsx($F,{positions:[[e.lat,e.lng],[t.lat,t.lng]],color:"#b5e951",weight:3,opacity:.7}),r!=="delivered"&&r!=="cancelled"&&s.jsx($F,{positions:o,color:l(),weight:3,opacity:.7,dashArray:r==="delayed"?"5, 10":""})]})})}const rj={"01000":{lat:19.3356,lng:-99.2045},44100:{lat:20.6597,lng:-103.3496},44130:{lat:20.7238,lng:-103.3844},44160:{lat:20.6403,lng:-103.3101},64e3:{lat:25.6866,lng:-100.3161},72e3:{lat:19.0414,lng:-98.2063},2e4:{lat:21.8818,lng:-102.2916},22e3:{lat:32.5027,lng:-117.0037},83e3:{lat:29.0729,lng:-110.9559},78e3:{lat:22.1565,lng:-100.9855},97e3:{lat:20.9674,lng:-89.5926},91e3:{lat:19.5438,lng:-96.9102},58e3:{lat:19.706,lng:-101.195},62e3:{lat:18.9242,lng:-99.2216},29e3:{lat:16.7569,lng:-93.1292},42e3:{lat:20.1168,lng:-98.7332},76e3:{lat:20.5888,lng:-100.3899},31e3:{lat:28.6353,lng:-106.0889},34e3:{lat:24.0277,lng:-104.6532},86e3:{lat:17.9904,lng:-92.9304},89600:{lat:22.4025,lng:-97.9297},45200:{lat:20.7503,lng:-103.45}};function jP(e){const t=g4(e);return t&&rj[t]?rj[t]:{lat:19.3356,lng:-99.2045}}function g4(e){let t=e.match(/\(CP:\s*(\d+)\)/);return t||(t=e.match(/\((\d{5})\)/),t)?t[1]:(t=e.match(/\b(\d{5})\b/),t?t[1]:null)}function fVe(e,t,n,r){const a=o2(n-e),o=o2(r-t),l=Math.sin(a/2)*Math.sin(a/2)+Math.cos(o2(e))*Math.cos(o2(n))*Math.sin(o/2)*Math.sin(o/2),u=6371*(2*Math.atan2(Math.sqrt(l),Math.sqrt(1-l)));return Math.round(u)}function o2(e){return e*(Math.PI/180)}function FF(e,t){const n=g4(e),r=g4(t);if(!n||!r)return e.toLowerCase().includes("méxico")&&(t.toLowerCase().includes("tijuana")||t.toLowerCase().includes("juárez")||t.toLowerCase().includes("juarez")||t.toLowerCase().includes("nuevo laredo"))||t.toLowerCase().includes("méxico")&&(e.toLowerCase().includes("tijuana")||e.toLowerCase().includes("juárez")||e.toLowerCase().includes("juarez")||e.toLowerCase().includes("nuevo laredo"))?1800:e.toLowerCase().includes("guadalajara")&&t.toLowerCase().includes("monterrey")||t.toLowerCase().includes("guadalajara")&&e.toLowerCase().includes("monterrey")?850:e.toLowerCase().includes("méxico")&&t.toLowerCase().includes("guadalajara")||t.toLowerCase().includes("méxico")&&e.toLowerCase().includes("guadalajara")?550:e.toLowerCase().includes("méxico")&&t.toLowerCase().includes("monterrey")||t.toLowerCase().includes("méxico")&&e.toLowerCase().includes("monterrey")?900:e&&t?300:null;const i=rj[n],a=rj[r];return!i||!a?350:fVe(i.lat,i.lng,a.lat,a.lng)}function cg({date:e,showTime:t=!1}){if(!e)return null;try{const n=t?"d 'de' MMMM, yyyy 'a las' HH:mm":"d 'de' MMMM, yyyy";return s.jsx("span",{children:Vs(new Date(e),n,{locale:Md})})}catch(n){return console.error("Error formatting date:",n),s.jsx("span",{children:e.toString()})}}const l2={pending:{label:"Preparándose para envío",color:"text-blue-600",icon:Dh},in_transit:{label:"En tránsito",color:"text-yellow-600",icon:_o},delayed:{label:"Retrasado",color:"text-red-600",icon:mb},delivered:{label:"Entregado",color:"text-green-600",icon:Vu},cancelled:{label:"Cancelado",color:"text-gray-600",icon:nm}};function hVe({shipment:e,onUpdate:t}){var w,j;const[n,r]=N.useState(e.status),[i,a]=N.useState(""),[o,l]=N.useState(""),[c,u]=N.useState(!0),[f,h]=N.useState(!1),{toast:p}=ss(),m=Xd(),x=cr({mutationFn:async P=>await Cr(`/api/shipments/${e.id}/status`,{method:"PATCH",body:P}),onSuccess:P=>{p({title:"Estado actualizado",description:P.notificationSent?"El estado del envío se actualizó y se envió una notificación al cliente":"El estado del envío se actualizó correctamente"}),m.invalidateQueries({queryKey:["/api/shipments"]}),m.invalidateQueries({queryKey:["/api/shipment-updates"]}),a(""),l(""),h(!1),t&&t()},onError:P=>{p({title:"Error",description:P.message||"Error al actualizar el estado del envío",variant:"destructive"})}}),v=P=>{if(P.preventDefault(),n===e.status&&!i&&!o){p({title:"Sin cambios",description:"No hay cambios para actualizar",variant:"destructive"});return}x.mutate({status:n,location:i||void 0,comments:o||void 0,sendNotification:c})},y=l2[n],b=(y==null?void 0:y.icon)||_o;return s.jsxs(ot,{className:"w-full",children:[s.jsx(Ht,{children:s.jsxs(Qt,{className:"flex items-center gap-2",children:[s.jsx(b,{className:"w-5 h-5"}),"Actualizar Estado del Envío"]})}),s.jsx(lt,{children:s.jsxs("form",{onSubmit:v,className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm font-medium",children:"Estado actual:"}),s.jsx("span",{className:`font-semibold ${(w=l2[e.status])==null?void 0:w.color}`,children:(j=l2[e.status])==null?void 0:j.label})]}),s.jsx(Je,{type:"button",variant:"outline",size:"sm",onClick:()=>h(!f),children:f?"Contraer":"Actualizar"})]}),f&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(xt,{htmlFor:"status",children:"Nuevo Estado"}),s.jsxs(on,{value:n,onValueChange:r,children:[s.jsx(an,{children:s.jsx(ln,{placeholder:"Seleccionar estado"})}),s.jsx(sn,{children:Object.entries(l2).map(([P,A])=>s.jsx(xe,{value:P,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(A.icon,{className:"w-4 h-4"}),s.jsx("span",{children:A.label})]})},P))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(xt,{htmlFor:"location",className:"flex items-center gap-2",children:[s.jsx(yh,{className:"w-4 h-4"}),"Ubicación Actual (opcional)"]}),s.jsx(Mt,{id:"location",value:i,onChange:P=>a(P.target.value),placeholder:"Ej: Ciudad de México, CDMX"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(xt,{htmlFor:"comments",className:"flex items-center gap-2",children:[s.jsx(Kce,{className:"w-4 h-4"}),"Comentarios (opcional)"]}),s.jsx(Hu,{id:"comments",value:o,onChange:P=>l(P.target.value),placeholder:"Notas adicionales sobre la actualización...",rows:3})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Bc,{className:"w-4 h-4 text-blue-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-sm",children:"Notificar al cliente por email"}),s.jsx("p",{className:"text-xs text-gray-600",children:e.customerEmail?`Se enviará a: ${e.customerEmail}`:"Cliente sin email registrado"})]})]}),s.jsx(R3,{checked:c,onCheckedChange:u,disabled:!e.customerEmail})]}),s.jsxs("div",{className:"flex gap-2 pt-2",children:[s.jsx(Je,{type:"submit",disabled:x.isPending,className:"flex-1",children:x.isPending?"Actualizando...":"Actualizar Estado"}),s.jsx(Je,{type:"button",variant:"outline",onClick:()=>h(!1),children:"Cancelar"})]})]})]})})]})}function pVe({shipment:e,onClose:t,onRefresh:n}){const{toast:r}=ss(),{data:i=[],isLoading:a,refetch:o}=Zt({queryKey:[`/api/shipments/${e.id}/updates`]}),{data:l}=Zt({queryKey:[`/api/companies/${e.companyId}`]}),c=useForm({resolver:zodResolver(updateShipmentSchema),defaultValues:{status:e.status}});cr({mutationFn:async m=>(await Cr("POST",`/api/shipments/${e.id}/updates`,m)).json(),onSuccess:()=>{r({title:"Actualización creada",description:"La actualización del envío se ha creado correctamente"}),setUpdateDialogOpen(!1),c.reset(),o(),n()},onError:m=>{r({title:"Error",description:"No se pudo crear la actualización",variant:"destructive"})}});const u=m=>({pending:{label:"Pendiente",color:"bg-slate-200",icon:s.jsx(Dh,{className:"h-5 w-5"})},in_transit:{label:"En tránsito",color:"bg-blue-100",icon:s.jsx(_o,{className:"h-5 w-5"})},delayed:{label:"Retrasado",color:"bg-red-100",icon:s.jsx(Lc,{className:"h-5 w-5"})},delivered:{label:"Entregado",color:"bg-green-100",icon:s.jsx(pb,{className:"h-5 w-5"})},cancelled:{label:"Cancelado",color:"bg-gray-100",icon:s.jsx(xh,{className:"h-5 w-5"})}})[m]||{label:m,color:"bg-gray-100",icon:null},{label:f,color:h,icon:p}=u(e.status);return s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:s.jsxs(ot,{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto flex flex-col",children:[s.jsxs(Ht,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsxs("div",{children:[s.jsxs(Qt,{className:"text-2xl",children:["Orden de Compra: ",e.purchaseOrder]}),s.jsxs(fr,{children:[l==null?void 0:l.name," • Código: ",e.trackingCode," • Creado el"," ",s.jsx(cg,{date:new Date(e.createdAt)})]})]}),s.jsx(Je,{variant:"ghost",size:"sm",onClick:t,children:s.jsx(xh,{className:"h-4 w-4"})})]}),s.jsx(Nm,{defaultValue:"details",children:s.jsxs(lt,{className:"pt-6",children:[s.jsxs(Rh,{className:"mb-4",children:[s.jsx(si,{value:"details",children:"Detalles"}),s.jsx(si,{value:"timeline",children:"Historial"})]}),s.jsx(ua,{value:"details",className:"space-y-4",children:s.jsx("div",{className:"flex flex-col md:flex-row space-y-4 md:space-y-0 md:space-x-4",children:s.jsxs("div",{className:"flex-1 space-y-4",children:[s.jsxs("div",{className:"bg-slate-50 p-4 rounded-md",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[s.jsx("div",{className:`p-2 rounded-full ${h}`,children:p}),s.jsxs("h3",{className:"text-lg font-semibold",children:["Estado: ",f]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(kk,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"font-medium",children:"Producto:"})," ",e.product]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"font-medium ml-6",children:"Cantidad:"})," ",e.quantity," ",e.unit]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(yh,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"font-medium",children:"Origen:"})," ",e.origin]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(yh,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"font-medium",children:"Destino:"})," ",e.destination]})]})]}),s.jsx("div",{className:"mt-4",children:s.jsx(dVe,{origin:{...jP(e.origin),name:e.origin},destination:{...jP(e.destination),name:e.destination},currentLocation:i&&i.length>0&&i[0].location?{...jP(i[0].location),name:i[0].location}:void 0,status:e.status})}),s.jsx(eI,{className:"my-4"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ru,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"font-medium",children:"Fecha de salida:"})," ",e.departureDate?s.jsx(cg,{date:new Date(e.departureDate)}):"No definida"]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ru,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"font-medium",children:"Fecha estimada de entrega:"})," ",e.estimatedDeliveryDate?s.jsx(cg,{date:new Date(e.estimatedDeliveryDate)}):"No definida"]}),e.actualDeliveryDate&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ru,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"font-medium",children:"Fecha real de entrega:"})," ",s.jsx(cg,{date:new Date(e.actualDeliveryDate)})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(_o,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"font-medium",children:"Transportista:"})," ",e.carrier]}),e.vehicleInfo&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"font-medium ml-6",children:"Vehículo:"})," ",e.vehicleInfo]}),e.driverName&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Jo,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"font-medium",children:"Conductor:"})," ",e.driverName]}),e.driverPhone&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(aA,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"font-medium",children:"Teléfono del conductor:"})," ",e.driverPhone]})]})]}),s.jsxs("div",{className:"mt-4 bg-blue-50 p-3 rounded-md border border-blue-100",children:[s.jsx("h3",{className:"text-sm font-semibold mb-2 text-primary",children:"Responsable de Logística"}),s.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[s.jsx(Jo,{className:"h-4 w-4 text-primary"}),s.jsx("span",{className:"text-sm text-gray-700",children:"Thalia Rodriguez"})]}),s.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[s.jsx(Bc,{className:"h-4 w-4 text-primary"}),s.jsx("span",{className:"text-sm text-gray-700",children:"thalia.rodriguez@econova.mx"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(aA,{className:"h-4 w-4 text-primary"}),s.jsx("span",{className:"text-sm text-gray-700",children:"+52 (55) 1234-5678"})]})]})]}),(e.carbonFootprint||e.distance||e.vehicleType||e.fuelType)&&s.jsxs("div",{className:"bg-green-50 p-4 rounded-md border border-green-100",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[s.jsx("div",{className:"p-2 rounded-full bg-green-100",children:s.jsx(Vce,{className:"h-5 w-5 text-green-600"})}),s.jsx("h3",{className:"text-lg font-semibold text-green-800",children:"Huella de Carbono"})]}),e.carbonFootprint&&s.jsxs("div",{className:"flex flex-col items-center mb-6 bg-white p-4 rounded-lg border border-green-200",children:[s.jsx("h4",{className:"text-green-800 font-medium mb-2",children:"Emisiones de CO₂"}),s.jsxs("div",{className:"text-4xl font-bold text-green-800 flex items-end",children:[e.carbonFootprint,s.jsx("span",{className:"text-xl ml-1 font-normal",children:"kg CO₂e"})]}),s.jsxs("p",{className:"mt-2 text-green-600 text-sm text-center",children:["Equivalente a ",s.jsx("span",{className:"font-semibold",children:(parseFloat(e.carbonFootprint.replace(/[^\d.-]/g,""))/1e3).toFixed(2)})," toneladas de CO₂"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-2",children:[e.distance&&s.jsx("div",{className:"bg-white p-3 rounded-lg border border-green-200",children:s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx(Yce,{className:"h-5 w-5 text-green-600 mb-1"}),s.jsx("span",{className:"font-medium text-green-800 text-sm",children:"Distancia"}),s.jsxs("span",{className:"text-lg font-bold text-green-700",children:[e.distance," km"]})]})}),e.vehicleType&&s.jsx("div",{className:"bg-white p-3 rounded-lg border border-green-200",children:s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx(_o,{className:"h-5 w-5 text-green-600 mb-1"}),s.jsx("span",{className:"font-medium text-green-800 text-sm",children:"Vehículo"}),s.jsx("span",{className:"text-lg font-bold text-green-700",children:e.vehicleType})]})}),e.fuelType&&s.jsx("div",{className:"bg-white p-3 rounded-lg border border-green-200",children:s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx(Bce,{className:"h-5 w-5 text-green-600 mb-1"}),s.jsx("span",{className:"font-medium text-green-800 text-sm",children:"Combustible"}),s.jsx("span",{className:"text-lg font-bold text-green-700",children:e.fuelType})]})})]}),s.jsxs("div",{className:"mt-4 text-xs text-green-600 bg-green-50 p-2 rounded border-t border-green-100",children:[s.jsx("span",{className:"font-semibold",children:"¿Cómo se calcula?"})," La huella de carbono se determina en base al tipo de vehículo, combustible utilizado y distancia recorrida, usando factores de emisión estándar de la industria.",s.jsx("br",{}),s.jsx("br",{}),s.jsx("span",{className:"font-semibold",children:"Nota:"})," Esta información es utilizada para nuestros reportes de sostenibilidad y emisiones de Alcance 3."]})]}),s.jsxs("div",{className:"bg-slate-50 p-4 rounded-md",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Información del Cliente"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Jo,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"font-medium",children:"Cliente:"})," ",e.customerName]}),e.customerEmail&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Bc,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"font-medium",children:"Email:"})," ",e.customerEmail]}),e.customerPhone&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(aA,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"font-medium",children:"Teléfono:"})," ",e.customerPhone]})]})]}),e.comments&&s.jsxs("div",{className:"bg-slate-50 p-4 rounded-md",children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Comentarios"}),s.jsx("p",{className:"text-gray-700",children:e.comments})]})]})})}),s.jsx(ua,{value:"timeline",className:"max-h-[60vh] overflow-y-auto",children:s.jsxs("div",{className:"space-y-6",children:[s.jsx(hVe,{shipment:e,onUpdate:()=>{n(),o()}}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Historial de Actualizaciones"}),a?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Xce,{className:"h-8 w-8 animate-spin mx-auto text-primary"}),s.jsx("p",{className:"mt-2 text-muted-foreground",children:"Cargando historial de actualizaciones..."})]}):i.length===0?s.jsx("div",{className:"text-center py-8 text-gray-500",children:"No hay actualizaciones disponibles para este envío"}):s.jsx("div",{className:"relative space-y-8 before:absolute before:inset-0 before:left-5 before:h-full before:border-l-2 before:border-slate-200 pl-12",children:i.map(m=>{const{color:x,icon:v}=u(m.status);return s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:`absolute left-0 -translate-x-[27px] p-1.5 rounded-full ${x}`,children:v}),s.jsxs("div",{className:"bg-white p-4 rounded-lg border border-slate-200",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:s.jsx(cg,{date:new Date(m.timestamp),showTime:!0})}),s.jsxs("h4",{className:"text-lg font-medium mt-1",children:[u(m.status).label,m.location&&s.jsxs("span",{className:"font-normal",children:[" - ",m.location]})]}),m.comments&&s.jsx("p",{className:"mt-2",children:m.comments})]})]},m.id)})})]})]})})]})}),s.jsx(pH,{className:"flex justify-between border-t px-6 py-4 mt-auto",children:s.jsx(Je,{variant:"outline",onClick:t,children:"Cerrar"})})]})})}const BF=({status:e})=>{const t={pending:{label:"Pendiente",variant:"outline"},in_transit:{label:"En tránsito",variant:"default"},delayed:{label:"Retrasado",variant:"destructive"},delivered:{label:"Entregado",variant:"success"},cancelled:{label:"Cancelado",variant:"secondary"}},{label:n,variant:r}=t[e]||{label:e,variant:"outline"};return s.jsx(Wn,{variant:r,children:n})};function mVe(){const[e,t]=N.useState("all"),[n,r]=N.useState(""),[i,a]=N.useState("all"),[o,l]=N.useState(null),[c,u]=N.useState(!1),[f,h]=Gc(),{toast:p}=ss(),{data:m,isLoading:x}=Zt({queryKey:["/api/companies"]}),{data:v,isLoading:y,error:b,refetch:w}=Zt({queryKey:["/api/shipments"]}),j=(v==null?void 0:v.shipments)||[];N.useEffect(()=>{if(b&&p({title:"Error al cargar envíos",description:"No se pudieron cargar los datos de envíos",variant:"destructive"}),v&&(console.log("Respuesta de envíos:",v),console.log("Array de envíos:",j),Array.isArray(j))){const O=j.filter(I=>I.departureDate&&I.estimatedDeliveryDate);console.log("Envíos con fechas válidas:",O)}},[b,p,v,j]);const P=Array.isArray(j)?j.filter(O=>{const I=e==="all"||O.status===e,D=i==="all"||O.companyId===parseInt(i),z=!n||O.trackingCode.toLowerCase().includes(n.toLowerCase())||O.customerName.toLowerCase().includes(n.toLowerCase())||O.product.toLowerCase().includes(n.toLowerCase())||O.destination.toLowerCase().includes(n.toLowerCase());return I&&D&&z}):[],A=O=>{l(O)},E=()=>{l(null)};return y||x?s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx(go,{className:"h-8 w-8 animate-spin text-border"})}):s.jsx(qc,{title:"Trazabilidad de Envíos",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("div",{className:"text-sm text-gray-600",children:"Gestiona y rastrea tus envíos con el sistema Kanban"}),s.jsx(Je,{onClick:()=>h("/shipments/new"),children:"Nuevo Envío"})]}),s.jsxs("div",{className:"mb-6 flex flex-col sm:flex-row gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsx(Mt,{placeholder:"Buscar por código, cliente, producto o destino...",value:n,onChange:O=>r(O.target.value)})}),s.jsx("div",{className:"w-full sm:w-64",children:s.jsxs(on,{value:i,onValueChange:a,children:[s.jsx(an,{children:s.jsx(ln,{placeholder:"Filtrar por empresa"})}),s.jsxs(sn,{children:[s.jsx(xe,{value:"all",children:"Todas las empresas"}),m==null?void 0:m.map(O=>s.jsx(xe,{value:O.id.toString(),children:O.name},O.id))]})]})})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-4 mb-6",children:j&&s.jsxs(s.Fragment,{children:[s.jsx(ot,{className:"cursor-pointer",onClick:()=>t("pending"),children:s.jsxs(lt,{className:"p-6 flex items-center space-x-4",children:[s.jsx("div",{className:"p-2 rounded-full bg-amber-100",children:s.jsx(Ru,{className:"h-6 w-6 text-amber-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:"Pendientes"}),s.jsx("p",{className:"text-2xl font-bold",children:j.filter(O=>O.status==="pending").length})]})]})}),s.jsx(ot,{className:"cursor-pointer",onClick:()=>{t("in_transit"),u(!0)},children:s.jsxs(lt,{className:"p-6 flex items-center space-x-4",children:[s.jsx("div",{className:"p-2 rounded-full bg-blue-100",children:s.jsx(_o,{className:"h-6 w-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:"En Tránsito"}),s.jsx("p",{className:"text-2xl font-bold",children:j.filter(O=>O.status==="in_transit").length})]})]})}),s.jsx(ot,{className:"cursor-pointer",onClick:()=>t("delayed"),children:s.jsxs(lt,{className:"p-6 flex items-center space-x-4",children:[s.jsx("div",{className:"p-2 rounded-full bg-red-100",children:s.jsx(Lc,{className:"h-6 w-6 text-red-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:"Retrasados"}),s.jsx("p",{className:"text-2xl font-bold",children:j.filter(O=>O.status==="delayed").length})]})]})}),s.jsx(ot,{className:"cursor-pointer",onClick:()=>t("delivered"),children:s.jsxs(lt,{className:"p-6 flex items-center space-x-4",children:[s.jsx("div",{className:"p-2 rounded-full bg-green-100",children:s.jsx(Ek,{className:"h-6 w-6 text-green-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:"Entregados"}),s.jsx("p",{className:"text-2xl font-bold",children:j.filter(O=>O.status==="delivered").length})]})]})}),s.jsx(ot,{className:"cursor-pointer",onClick:()=>t("cancelled"),children:s.jsxs(lt,{className:"p-6 flex items-center space-x-4",children:[s.jsx("div",{className:"p-2 rounded-full bg-gray-100",children:s.jsx(xh,{className:"h-6 w-6 text-gray-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:"Cancelados"}),s.jsx("p",{className:"text-2xl font-bold",children:j.filter(O=>O.status==="cancelled").length})]})]})})]})}),s.jsx(vi,{open:c,onOpenChange:u,children:s.jsxs(ui,{className:"max-w-4xl",children:[s.jsxs(di,{children:[s.jsx(fi,{children:"Envíos en Tránsito"}),s.jsx(jo,{children:"Visualización de envíos actualmente en tránsito con detalles de ruta"})]}),s.jsx("div",{className:"py-4",children:j&&j.filter(O=>O.status==="in_transit").length>0?s.jsx("div",{className:"space-y-4",children:j.filter(O=>O.status==="in_transit").map(O=>s.jsxs(ot,{className:"overflow-hidden",children:[s.jsx(Ht,{className:"p-4 pb-2",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx(Qt,{className:"text-lg",children:O.trackingCode}),s.jsxs(fr,{children:[O.customerName," • ",O.product]})]}),s.jsx(BF,{status:O.status})]})}),s.jsxs(lt,{className:"p-4 pt-2",children:[s.jsxs("div",{className:"flex flex-wrap gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Origen"}),s.jsx("p",{className:"text-sm",children:O.origin})]}),s.jsx("div",{className:"flex-1 flex items-center justify-center px-4",children:s.jsx("div",{className:"h-0.5 w-full bg-gray-200 relative",children:s.jsx("div",{className:"absolute -top-2 left-1/2 -translate-x-1/2 h-4 w-4 rounded-full bg-blue-500",title:"En ruta"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Destino"}),s.jsx("p",{className:"text-sm",children:O.destination})]})]}),s.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-500",children:"Fecha de salida"}),s.jsx("p",{children:O.departureDate&&new Date(O.departureDate).toLocaleDateString()})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-500",children:"Entrega estimada"}),s.jsx("p",{children:O.estimatedDeliveryDate&&new Date(O.estimatedDeliveryDate).toLocaleDateString()})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-500",children:"Transportista"}),s.jsx("p",{children:O.carrier})]})]}),s.jsx("div",{className:"mt-4",children:s.jsx(Je,{size:"sm",variant:"outline",className:"w-full",onClick:()=>{l(O),u(!1)},children:"Ver detalles completos"})})]})]},O.id))}):s.jsx("div",{className:"text-center py-8 text-gray-500",children:"No hay envíos en tránsito actualmente"})}),s.jsx(am,{children:s.jsx(ome,{asChild:!0,children:s.jsx(Je,{variant:"outline",children:"Cerrar"})})})]})}),s.jsxs(Nm,{value:e,onValueChange:t,children:[s.jsxs(Rh,{className:"mb-4",children:[s.jsx(si,{value:"all",children:"Todos"}),s.jsx(si,{value:"pending",children:"Pendientes"}),s.jsx(si,{value:"in_transit",children:"En Tránsito"}),s.jsx(si,{value:"delayed",children:"Retrasados"}),s.jsx(si,{value:"delivered",children:"Entregados"}),s.jsx(si,{value:"cancelled",children:"Cancelados"})]}),s.jsx(ua,{value:e,className:"space-y-4",children:s.jsxs(ot,{children:[s.jsx(Ht,{children:s.jsxs(fr,{children:["Arrastra las tarjetas entre columnas para actualizar el estado - Mostrando ",P.length," envíos"]})}),s.jsx(lt,{children:P.length===0?s.jsx("div",{className:"text-center py-8 text-gray-500",children:"No hay envíos que coincidan con los filtros seleccionados"}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Bte,{children:[s.jsx(zte,{children:s.jsxs(f4,{children:[s.jsx(yu,{children:"Código"}),s.jsx(yu,{children:"Cliente"}),s.jsx(yu,{children:"Producto"}),s.jsx(yu,{children:"Cantidad"}),s.jsx(yu,{children:"Origen"}),s.jsx(yu,{children:"Destino"}),s.jsx(yu,{children:"Fecha Estimada"}),s.jsx(yu,{children:"Estado"}),s.jsx(yu,{className:"text-right",children:"Acciones"})]})}),s.jsx(Ute,{children:P.map(O=>s.jsxs(f4,{children:[s.jsx(xu,{className:"font-medium",children:O.trackingCode}),s.jsx(xu,{children:O.customerName}),s.jsx(xu,{children:O.product}),s.jsxs(xu,{children:[O.quantity," ",O.unit]}),s.jsx(xu,{children:O.origin}),s.jsx(xu,{children:O.destination}),s.jsx(xu,{children:O.estimatedDeliveryDate?s.jsx(cg,{date:new Date(O.estimatedDeliveryDate)}):"-"}),s.jsx(xu,{children:s.jsx(BF,{status:O.status})}),s.jsx(xu,{className:"text-right",children:s.jsx(Je,{variant:"outline",size:"sm",onClick:()=>A(O),children:"Ver detalles"})})]},O.id))})]})})})]})})]}),o&&s.jsx(pVe,{shipment:o,onClose:E,onRefresh:()=>w()})]})})}const NP=[{name:"Nextipac",code:"Nextipac, Jalisco",frequent:!0},{name:"Altamira",code:"Altamira, Tamaulipas",frequent:!0},{name:"Bodega Principal Dura",code:"CDMX",frequent:!0},{name:"Centro Distribución Norte",code:"Nuevo León",frequent:!0},{name:"Planta Química Dura",code:"Querétaro",frequent:!0},{name:"Centro Logístico Orsega",code:"Jalisco",frequent:!0},{name:"Terminal de Cargas Tampico",code:"Tamaulipas",frequent:!0},{name:"Centro Operativo Sur",code:"Puebla",frequent:!0},{name:"Ciudad de México",code:"CDMX"},{name:"Guadalajara",code:"Jalisco"},{name:"Monterrey",code:"Nuevo León"},{name:"Puebla",code:"Puebla"},{name:"Tijuana",code:"Baja California"},{name:"León",code:"Guanajuato"},{name:"Juárez",code:"Chihuahua"},{name:"Cancún",code:"Quintana Roo"},{name:"Mérida",code:"Yucatán"},{name:"Villahermosa",code:"Tabasco"}];function zF({placeholder:e,value:t,onChange:n,name:r,disabled:i=!1}){const[a,o]=N.useState(!1),[l,c]=N.useState(t||"");N.useEffect(()=>{c(t||"")},[t]);const u=y=>{const b=y.target.value;c(b),n(b)},f=y=>{const b=`${y.name}`;c(b),n(b),o(!1)},h=l.toLowerCase().trim(),p=h.length>0,m=p?NP.filter(y=>y.frequent&&(y.name.toLowerCase().includes(h)||y.code.toLowerCase().includes(h))):NP.filter(y=>y.frequent),x=p?NP.filter(y=>!y.frequent&&(y.name.toLowerCase().includes(h)||y.code.toLowerCase().includes(h))):[],v=m.length>0||x.length>0;return s.jsxs("div",{className:"relative w-full",children:[s.jsx(dr,{children:s.jsxs("div",{className:"relative",children:[s.jsx(Mt,{placeholder:e,value:l,onChange:u,onFocus:()=>o(!0),onBlur:()=>setTimeout(()=>o(!1),200),disabled:i,name:r,autoComplete:"off",className:"w-full pr-10"}),l&&s.jsx(Je,{type:"button",variant:"ghost",size:"sm",className:"absolute right-2 top-1/2 -translate-y-1/2 h-6 w-6 p-0 hover:bg-transparent",onClick:()=>{c(""),n("")},children:s.jsx(xh,{className:"h-4 w-4 text-muted-foreground hover:text-foreground"})})]})}),a&&v&&s.jsxs("div",{className:"absolute z-50 w-full mt-1 bg-white border rounded-md shadow-lg max-h-64 overflow-y-auto",children:[m.length>0&&s.jsxs("div",{className:"p-2",children:[s.jsx("div",{className:"text-xs font-medium text-muted-foreground mb-2",children:"Ubicaciones Frecuentes"}),m.map((y,b)=>s.jsxs("button",{type:"button",className:"w-full text-left px-3 py-2 text-sm hover:bg-gray-100 rounded-md flex items-center",onClick:()=>f(y),children:[s.jsx(yh,{className:"mr-2 h-4 w-4 text-primary"}),s.jsx("span",{className:"font-medium",children:y.name}),s.jsx("span",{className:"ml-auto text-xs text-muted-foreground",children:y.code})]},`frequent-${b}`))]}),x.length>0&&s.jsxs("div",{className:"p-2 border-t",children:[s.jsx("div",{className:"text-xs font-medium text-muted-foreground mb-2",children:"Otras Ubicaciones"}),x.map((y,b)=>s.jsxs("button",{type:"button",className:"w-full text-left px-3 py-2 text-sm hover:bg-gray-100 rounded-md flex items-center",onClick:()=>f(y),children:[s.jsx(yh,{className:"mr-2 h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"font-medium",children:y.name}),s.jsx("span",{className:"ml-auto text-xs text-muted-foreground",children:y.code})]},`other-${b}`))]}),s.jsx("div",{className:"p-2 border-t bg-gray-50 text-xs text-muted-foreground",children:"💡 Escribe libremente cualquier ubicación. Las sugerencias son opcionales."})]})]})}const et=Symbol.for("drizzle:entityKind");function oa(e,t){if(!e||typeof e!="object")return!1;if(e instanceof t)return!0;if(!Object.prototype.hasOwnProperty.call(t,et))throw new Error(`Class "${t.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let n=Object.getPrototypeOf(e).constructor;if(n)for(;n;){if(et in n&&n[et]===t[et])return!0;n=Object.getPrototypeOf(n)}return!1}var w7;w7=et;class uy{constructor(t,n){_e(this,"name");_e(this,"keyAsName");_e(this,"primary");_e(this,"notNull");_e(this,"default");_e(this,"defaultFn");_e(this,"onUpdateFn");_e(this,"hasDefault");_e(this,"isUnique");_e(this,"uniqueName");_e(this,"uniqueType");_e(this,"dataType");_e(this,"columnType");_e(this,"enumValues");_e(this,"generated");_e(this,"generatedIdentity");_e(this,"config");this.table=t,this.config=n,this.name=n.name,this.keyAsName=n.keyAsName,this.notNull=n.notNull,this.default=n.default,this.defaultFn=n.defaultFn,this.onUpdateFn=n.onUpdateFn,this.hasDefault=n.hasDefault,this.primary=n.primaryKey,this.isUnique=n.isUnique,this.uniqueName=n.uniqueName,this.uniqueType=n.uniqueType,this.dataType=n.dataType,this.columnType=n.columnType,this.generated=n.generated,this.generatedIdentity=n.generatedIdentity}mapFromDriverValue(t){return t}mapToDriverValue(t){return t}shouldDisableInsert(){return this.config.generated!==void 0&&this.config.generated.type!=="byDefault"}}_e(uy,w7,"Column");var _7;_7=et;class Yte{constructor(t,n,r){_e(this,"config");_e(this,"$default",this.$defaultFn);_e(this,"$onUpdate",this.$onUpdateFn);this.config={name:t,keyAsName:t==="",notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:n,columnType:r,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(t){return this.config.default=t,this.config.hasDefault=!0,this}$defaultFn(t){return this.config.defaultFn=t,this.config.hasDefault=!0,this}$onUpdateFn(t){return this.config.onUpdateFn=t,this.config.hasDefault=!0,this}primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(t){this.config.name===""&&(this.config.name=t)}}_e(Yte,_7,"ColumnBuilder");const tv=Symbol.for("drizzle:Name");var j7;j7=et;class Qte{constructor(t,n){_e(this,"reference");_e(this,"_onUpdate","no action");_e(this,"_onDelete","no action");this.reference=()=>{const{name:r,columns:i,foreignColumns:a}=t();return{name:r,columns:i,foreignTable:a[0].table,foreignColumns:a}},n&&(this._onUpdate=n.onUpdate,this._onDelete=n.onDelete)}onUpdate(t){return this._onUpdate=t===void 0?"no action":t,this}onDelete(t){return this._onDelete=t===void 0?"no action":t,this}build(t){return new Jte(t,this)}}_e(Qte,j7,"PgForeignKeyBuilder");var N7;N7=et;class Jte{constructor(t,n){_e(this,"reference");_e(this,"onUpdate");_e(this,"onDelete");this.table=t,this.reference=n.reference,this.onUpdate=n._onUpdate,this.onDelete=n._onDelete}getName(){const{name:t,columns:n,foreignColumns:r}=this.reference(),i=n.map(l=>l.name),a=r.map(l=>l.name),o=[this.table[tv],...i,r[0].table[tv],...a];return t??`${o.join("_")}_fk`}}_e(Jte,N7,"PgForeignKey");function gVe(e,...t){return e(...t)}function vVe(e,t){return`${e[tv]}_${t.join("_")}_unique`}function UF(e,t,n){for(let r=t;r<e.length;r++){const i=e[r];if(i==="\\"){r++;continue}if(i==='"')return[e.slice(t,r).replace(/\\/g,""),r+1];if(!n&&(i===","||i==="}"))return[e.slice(t,r).replace(/\\/g,""),r]}return[e.slice(t).replace(/\\/g,""),e.length]}function ene(e,t=0){const n=[];let r=t,i=!1;for(;r<e.length;){const a=e[r];if(a===","){(i||r===t)&&n.push(""),i=!0,r++;continue}if(i=!1,a==="\\"){r+=2;continue}if(a==='"'){const[c,u]=UF(e,r+1,!0);n.push(c),r=u;continue}if(a==="}")return[n,r+1];if(a==="{"){const[c,u]=ene(e,r+1);n.push(c),r=u;continue}const[o,l]=UF(e,r,!1);n.push(o),r=l}return[n,r]}function yVe(e){const[t]=ene(e,1);return t}function tne(e){return`{${e.map(t=>Array.isArray(t)?tne(t):typeof t=="string"?`"${t.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${t}`).join(",")}}`}var S7,A7;class tr extends(A7=Yte,S7=et,A7){constructor(){super(...arguments);_e(this,"foreignKeyConfigs",[])}array(n){return new rne(this.config.name,this,n)}references(n,r={}){return this.foreignKeyConfigs.push({ref:n,actions:r}),this}unique(n,r){return this.config.isUnique=!0,this.config.uniqueName=n,this.config.uniqueType=r==null?void 0:r.nulls,this}generatedAlwaysAs(n){return this.config.generated={as:n,type:"always",mode:"stored"},this}buildForeignKeys(n,r){return this.foreignKeyConfigs.map(({ref:i,actions:a})=>gVe((o,l)=>{const c=new Qte(()=>{const u=o();return{columns:[n],foreignColumns:[u]}});return l.onUpdate&&c.onUpdate(l.onUpdate),l.onDelete&&c.onDelete(l.onDelete),c.build(r)},i,a))}buildExtraConfigColumn(n){return new nne(n,this.config)}}_e(tr,S7,"PgColumnBuilder");var P7,C7;class kn extends(C7=uy,P7=et,C7){constructor(t,n){n.uniqueName||(n.uniqueName=vVe(t,[n.name])),super(t,n),this.table=t}}_e(kn,P7,"PgColumn");var E7,O7;class nne extends(O7=kn,E7=et,O7){constructor(){super(...arguments);_e(this,"indexConfig",{order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass});_e(this,"defaultConfig",{order:"asc",nulls:"last",opClass:void 0})}getSQLType(){return this.getSQLType()}asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(n){return this.indexConfig.opClass=n,this}}_e(nne,E7,"ExtraConfigColumn");var k7;k7=et;class q2{constructor(t,n,r,i){_e(this,"name");_e(this,"keyAsName");_e(this,"type");_e(this,"indexConfig");this.name=t,this.keyAsName=n,this.type=r,this.indexConfig=i}}_e(q2,k7,"IndexedColumn");var T7,I7;class rne extends(I7=tr,T7=et,I7){constructor(t,n,r){super(t,"array","PgArray"),this.config.baseBuilder=n,this.config.size=r}build(t){const n=this.config.baseBuilder.build(t);return new v4(t,this.config,n)}}_e(rne,T7,"PgArrayBuilder");var L7,M7;const pj=class pj extends(M7=kn,L7=et,M7){constructor(n,r,i,a){super(n,r);_e(this,"size");this.baseColumn=i,this.range=a,this.size=r.size}getSQLType(){return`${this.baseColumn.getSQLType()}[${typeof this.size=="number"?this.size:""}]`}mapFromDriverValue(n){return typeof n=="string"&&(n=yVe(n)),n.map(r=>this.baseColumn.mapFromDriverValue(r))}mapToDriverValue(n,r=!1){const i=n.map(a=>a===null?null:oa(this.baseColumn,pj)?this.baseColumn.mapToDriverValue(a,!0):this.baseColumn.mapToDriverValue(a));return r?i:tne(i)}};_e(pj,L7,"PgArray");let v4=pj;const y4=Symbol.for("drizzle:isPgEnum");function xVe(e){return!!e&&typeof e=="function"&&y4 in e&&e[y4]===!0}var D7,R7;class ine extends(R7=tr,D7=et,R7){constructor(t,n){super(t,"string","PgEnumColumn"),this.config.enum=n}build(t){return new ane(t,this.config)}}_e(ine,D7,"PgEnumColumnBuilder");var $7,F7;class ane extends(F7=kn,$7=et,F7){constructor(n,r){super(n,r);_e(this,"enum",this.config.enum);_e(this,"enumValues",this.config.enum.enumValues);this.enum=r.enum}getSQLType(){return this.enum.enumName}}_e(ane,$7,"PgEnumColumn");function sne(e,t){return bVe(e,t,void 0)}function bVe(e,t,n){const r=Object.assign(i=>new ine(i??"",r),{enumName:e,enumValues:t,schema:n,[y4]:!0});return r}var B7;B7=et;class nI{constructor(t,n,r,i=!1){this._={brand:"Subquery",sql:t,selectedFields:n,alias:r,isWith:i}}}_e(nI,B7,"Subquery");const wVe={startActiveSpan(e,t){return t()}},nv=Symbol.for("drizzle:ViewBaseConfig"),SP=Symbol.for("drizzle:Schema"),qF=Symbol.for("drizzle:Columns"),VF=Symbol.for("drizzle:ExtraConfigColumns"),AP=Symbol.for("drizzle:OriginalName"),PP=Symbol.for("drizzle:BaseName"),ij=Symbol.for("drizzle:IsAlias"),WF=Symbol.for("drizzle:ExtraConfigBuilder"),one=Symbol.for("drizzle:IsDrizzleTable");var z7,U7,q7,V7,W7,H7,K7,G7,Z7,X7;X7=et,Z7=tv,G7=AP,K7=SP,H7=qF,W7=VF,V7=PP,q7=ij,U7=one,z7=WF;class qs{constructor(t,n,r){_e(this,Z7);_e(this,G7);_e(this,K7);_e(this,H7);_e(this,W7);_e(this,V7);_e(this,q7,!1);_e(this,U7,!0);_e(this,z7);this[tv]=this[AP]=t,this[SP]=n,this[PP]=r}}_e(qs,X7,"Table"),_e(qs,"Symbol",{Name:tv,Schema:SP,OriginalName:AP,Columns:qF,ExtraConfigColumns:VF,BaseName:PP,IsAlias:ij,ExtraConfigBuilder:WF});function lne(e){return typeof e=="object"&&e!==null&&one in e}function _Ve(e){return e!=null&&typeof e.getSQL=="function"}function jVe(e){var n;const t={sql:"",params:[]};for(const r of e)t.sql+=r.sql,t.params.push(...r.params),(n=r.typings)!=null&&n.length&&(t.typings||(t.typings=[]),t.typings.push(...r.typings));return t}var Y7;Y7=et;class Tl{constructor(t){_e(this,"value");this.value=Array.isArray(t)?t:[t]}getSQL(){return new Fi([this])}}_e(Tl,Y7,"StringChunk");var Q7;Q7=et;const bp=class bp{constructor(t){_e(this,"decoder",cne);_e(this,"shouldInlineParams",!1);this.queryChunks=t}append(t){return this.queryChunks.push(...t.queryChunks),this}toQuery(t){return wVe.startActiveSpan("drizzle.buildSQL",n=>{const r=this.buildQueryFromSourceParams(this.queryChunks,t);return n==null||n.setAttributes({"drizzle.query.text":r.sql,"drizzle.query.params":JSON.stringify(r.params)}),r})}buildQueryFromSourceParams(t,n){const r=Object.assign({},n,{inlineParams:n.inlineParams||this.shouldInlineParams,paramStartIndex:n.paramStartIndex||{value:0}}),{casing:i,escapeName:a,escapeParam:o,prepareTyping:l,inlineParams:c,paramStartIndex:u}=r;return jVe(t.map(f=>{var h;if(oa(f,Tl))return{sql:f.value.join(""),params:[]};if(oa(f,aj))return{sql:a(f.value),params:[]};if(f===void 0)return{sql:"",params:[]};if(Array.isArray(f)){const p=[new Tl("(")];for(const[m,x]of f.entries())p.push(x),m<f.length-1&&p.push(new Tl(", "));return p.push(new Tl(")")),this.buildQueryFromSourceParams(p,r)}if(oa(f,bp))return this.buildQueryFromSourceParams(f.queryChunks,{...r,inlineParams:c||f.shouldInlineParams});if(oa(f,qs)){const p=f[qs.Symbol.Schema],m=f[qs.Symbol.Name];return{sql:p===void 0||f[ij]?a(m):a(p)+"."+a(m),params:[]}}if(oa(f,uy)){const p=i.getColumnCasing(f);if(n.invokeSource==="indexes")return{sql:a(p),params:[]};const m=f.table[qs.Symbol.Schema];return{sql:f.table[ij]||m===void 0?a(f.table[qs.Symbol.Name])+"."+a(p):a(m)+"."+a(f.table[qs.Symbol.Name])+"."+a(p),params:[]}}if(oa(f,fne)){const p=f[nv].schema,m=f[nv].name;return{sql:p===void 0||f[nv].isAlias?a(m):a(p)+"."+a(m),params:[]}}if(oa(f,rI)){if(oa(f.value,sj))return{sql:o(u.value++,f),params:[f],typings:["none"]};const p=f.value===null?null:f.encoder.mapToDriverValue(f.value);if(oa(p,bp))return this.buildQueryFromSourceParams([p],r);if(c)return{sql:this.mapInlineParam(p,r),params:[]};let m=["none"];return l&&(m=[l(f.encoder)]),{sql:o(u.value++,p),params:[p],typings:m}}return oa(f,sj)?{sql:o(u.value++,f),params:[f],typings:["none"]}:oa(f,bp.Aliased)&&f.fieldAlias!==void 0?{sql:a(f.fieldAlias),params:[]}:oa(f,nI)?f._.isWith?{sql:a(f._.alias),params:[]}:this.buildQueryFromSourceParams([new Tl("("),f._.sql,new Tl(") "),new aj(f._.alias)],r):xVe(f)?f.schema?{sql:a(f.schema)+"."+a(f.enumName),params:[]}:{sql:a(f.enumName),params:[]}:_Ve(f)?(h=f.shouldOmitSQLParens)!=null&&h.call(f)?this.buildQueryFromSourceParams([f.getSQL()],r):this.buildQueryFromSourceParams([new Tl("("),f.getSQL(),new Tl(")")],r):c?{sql:this.mapInlineParam(f,r),params:[]}:{sql:o(u.value++,f),params:[f],typings:["none"]}}))}mapInlineParam(t,{escapeString:n}){if(t===null)return"null";if(typeof t=="number"||typeof t=="boolean")return t.toString();if(typeof t=="string")return n(t);if(typeof t=="object"){const r=t.toString();return n(r==="[object Object]"?JSON.stringify(t):r)}throw new Error("Unexpected param value: "+t)}getSQL(){return this}as(t){return t===void 0?this:new bp.Aliased(this,t)}mapWith(t){return this.decoder=typeof t=="function"?{mapFromDriverValue:t}:t,this}inlineParams(){return this.shouldInlineParams=!0,this}if(t){return t?this:void 0}};_e(bp,Q7,"SQL");let Fi=bp;var J7;J7=et;class aj{constructor(t){_e(this,"brand");this.value=t}getSQL(){return new Fi([this])}}_e(aj,J7,"Name");const cne={mapFromDriverValue:e=>e},une={mapToDriverValue:e=>e};({...cne,...une});var eB;eB=et;class rI{constructor(t,n=une){_e(this,"brand");this.value=t,this.encoder=n}getSQL(){return new Fi([this])}}_e(rI,eB,"Param");function xm(e,...t){const n=[];(t.length>0||e.length>0&&e[0]!=="")&&n.push(new Tl(e[0]));for(const[r,i]of t.entries())n.push(i,new Tl(e[r+1]));return new Fi(n)}(e=>{function t(){return new Fi([])}e.empty=t;function n(c){return new Fi(c)}e.fromList=n;function r(c){return new Fi([new Tl(c)])}e.raw=r;function i(c,u){const f=[];for(const[h,p]of c.entries())h>0&&u!==void 0&&f.push(u),f.push(p);return new Fi(f)}e.join=i;function a(c){return new aj(c)}e.identifier=a;function o(c){return new sj(c)}e.placeholder=o;function l(c,u){return new rI(c,u)}e.param=l})(xm||(xm={}));(e=>{var n;n=et;const r=class r{constructor(a,o){_e(this,"isSelectionField",!1);this.sql=a,this.fieldAlias=o}getSQL(){return this.sql}clone(){return new r(this.sql,this.fieldAlias)}};_e(r,n,"SQL.Aliased");let t=r;e.Aliased=t})(Fi||(Fi={}));var tB;tB=et;class sj{constructor(t){this.name=t}getSQL(){return new Fi([this])}}_e(sj,tB,"Placeholder");const dne=Symbol.for("drizzle:IsDrizzleView");var nB,rB,iB;iB=et,rB=nv,nB=dne;class fne{constructor({name:t,schema:n,selectedFields:r,query:i}){_e(this,rB);_e(this,nB,!0);this[nv]={name:t,originalName:t,schema:n,selectedFields:r,query:i,isExisting:!i,isAlias:!1}}getSQL(){return new Fi([this])}}_e(fne,iB,"View");function NVe(e){return typeof e=="object"&&e!==null&&dne in e}uy.prototype.getSQL=function(){return new Fi([this])};qs.prototype.getSQL=function(){return new Fi([this])};nI.prototype.getSQL=function(){return new Fi([this])};function SVe(e){return e[qs.Symbol.Columns]}function AVe(e){return e[nv].selectedFields}function Ua(e,t){return{name:typeof e=="string"&&e.length>0?e:"",config:typeof e=="object"?e:t}}var aB,sB;class Fb extends(sB=tr,aB=et,sB){generatedAlwaysAsIdentity(t){if(t){const{name:n,...r}=t;this.config.generatedIdentity={type:"always",sequenceName:n,sequenceOptions:r}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(t){if(t){const{name:n,...r}=t;this.config.generatedIdentity={type:"byDefault",sequenceName:n,sequenceOptions:r}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}}_e(Fb,aB,"PgIntColumnBaseBuilder");var oB,lB;class hne extends(lB=Fb,oB=et,lB){constructor(t){super(t,"number","PgBigInt53")}build(t){return new pne(t,this.config)}}_e(hne,oB,"PgBigInt53Builder");var cB,uB;class pne extends(uB=kn,cB=et,uB){getSQLType(){return"bigint"}mapFromDriverValue(t){return typeof t=="number"?t:Number(t)}}_e(pne,cB,"PgBigInt53");var dB,fB;class mne extends(fB=Fb,dB=et,fB){constructor(t){super(t,"bigint","PgBigInt64")}build(t){return new gne(t,this.config)}}_e(mne,dB,"PgBigInt64Builder");var hB,pB;class gne extends(pB=kn,hB=et,pB){getSQLType(){return"bigint"}mapFromDriverValue(t){return BigInt(t)}}_e(gne,hB,"PgBigInt64");function PVe(e,t){const{name:n,config:r}=Ua(e,t);return r.mode==="number"?new hne(n):new mne(n)}var mB,gB;class vne extends(gB=tr,mB=et,gB){constructor(t){super(t,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new yne(t,this.config)}}_e(vne,mB,"PgBigSerial53Builder");var vB,yB;class yne extends(yB=kn,vB=et,yB){getSQLType(){return"bigserial"}mapFromDriverValue(t){return typeof t=="number"?t:Number(t)}}_e(yne,vB,"PgBigSerial53");var xB,bB;class xne extends(bB=tr,xB=et,bB){constructor(t){super(t,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(t){return new bne(t,this.config)}}_e(xne,xB,"PgBigSerial64Builder");var wB,_B;class bne extends(_B=kn,wB=et,_B){getSQLType(){return"bigserial"}mapFromDriverValue(t){return BigInt(t)}}_e(bne,wB,"PgBigSerial64");function CVe(e,t){const{name:n,config:r}=Ua(e,t);return r.mode==="number"?new vne(n):new xne(n)}var jB,NB;class wne extends(NB=tr,jB=et,NB){constructor(t){super(t,"boolean","PgBoolean")}build(t){return new _ne(t,this.config)}}_e(wne,jB,"PgBooleanBuilder");var SB,AB;class _ne extends(AB=kn,SB=et,AB){getSQLType(){return"boolean"}}_e(_ne,SB,"PgBoolean");function Lu(e){return new wne(e??"")}var PB,CB;class jne extends(CB=tr,PB=et,CB){constructor(t,n){super(t,"string","PgChar"),this.config.length=n.length,this.config.enumValues=n.enum}build(t){return new Nne(t,this.config)}}_e(jne,PB,"PgCharBuilder");var EB,OB;class Nne extends(OB=kn,EB=et,OB){constructor(){super(...arguments);_e(this,"length",this.config.length);_e(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"char":`char(${this.length})`}}_e(Nne,EB,"PgChar");function EVe(e,t={}){const{name:n,config:r}=Ua(e,t);return new jne(n,r)}var kB,TB;class Sne extends(TB=tr,kB=et,TB){constructor(t){super(t,"string","PgCidr")}build(t){return new Ane(t,this.config)}}_e(Sne,kB,"PgCidrBuilder");var IB,LB;class Ane extends(LB=kn,IB=et,LB){getSQLType(){return"cidr"}}_e(Ane,IB,"PgCidr");function OVe(e){return new Sne(e??"")}var MB,DB;class Pne extends(DB=tr,MB=et,DB){constructor(t,n,r){super(t,"custom","PgCustomColumn"),this.config.fieldConfig=n,this.config.customTypeParams=r}build(t){return new Cne(t,this.config)}}_e(Pne,MB,"PgCustomColumnBuilder");var RB,$B;class Cne extends($B=kn,RB=et,$B){constructor(n,r){super(n,r);_e(this,"sqlName");_e(this,"mapTo");_e(this,"mapFrom");this.sqlName=r.customTypeParams.dataType(r.fieldConfig),this.mapTo=r.customTypeParams.toDriver,this.mapFrom=r.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(n){return typeof this.mapFrom=="function"?this.mapFrom(n):n}mapToDriverValue(n){return typeof this.mapTo=="function"?this.mapTo(n):n}}_e(Cne,RB,"PgCustomColumn");function kVe(e){return(t,n)=>{const{name:r,config:i}=Ua(t,n);return new Pne(r,i,e)}}var FB,BB;class Uy extends(BB=tr,FB=et,BB){defaultNow(){return this.default(xm`now()`)}}_e(Uy,FB,"PgDateColumnBaseBuilder");var zB,UB;class Ene extends(UB=Uy,zB=et,UB){constructor(t){super(t,"date","PgDate")}build(t){return new One(t,this.config)}}_e(Ene,zB,"PgDateBuilder");var qB,VB;class One extends(VB=kn,qB=et,VB){getSQLType(){return"date"}mapFromDriverValue(t){return new Date(t)}mapToDriverValue(t){return t.toISOString()}}_e(One,qB,"PgDate");var WB,HB;class kne extends(HB=Uy,WB=et,HB){constructor(t){super(t,"string","PgDateString")}build(t){return new Tne(t,this.config)}}_e(kne,WB,"PgDateStringBuilder");var KB,GB;class Tne extends(GB=kn,KB=et,GB){getSQLType(){return"date"}}_e(Tne,KB,"PgDateString");function TVe(e,t){const{name:n,config:r}=Ua(e,t);return(r==null?void 0:r.mode)==="date"?new Ene(n):new kne(n)}var ZB,XB;class Ine extends(XB=tr,ZB=et,XB){constructor(t){super(t,"number","PgDoublePrecision")}build(t){return new Lne(t,this.config)}}_e(Ine,ZB,"PgDoublePrecisionBuilder");var YB,QB;class Lne extends(QB=kn,YB=et,QB){getSQLType(){return"double precision"}mapFromDriverValue(t){return typeof t=="string"?Number.parseFloat(t):t}}_e(Lne,YB,"PgDoublePrecision");function IVe(e){return new Ine(e??"")}var JB,e9;class Mne extends(e9=tr,JB=et,e9){constructor(t){super(t,"string","PgInet")}build(t){return new Dne(t,this.config)}}_e(Mne,JB,"PgInetBuilder");var t9,n9;class Dne extends(n9=kn,t9=et,n9){getSQLType(){return"inet"}}_e(Dne,t9,"PgInet");function LVe(e){return new Mne(e??"")}var r9,i9;class Rne extends(i9=Fb,r9=et,i9){constructor(t){super(t,"number","PgInteger")}build(t){return new $ne(t,this.config)}}_e(Rne,r9,"PgIntegerBuilder");var a9,s9;class $ne extends(s9=kn,a9=et,s9){getSQLType(){return"integer"}mapFromDriverValue(t){return typeof t=="string"?Number.parseInt(t):t}}_e($ne,a9,"PgInteger");function Ln(e){return new Rne(e??"")}var o9,l9;class Fne extends(l9=tr,o9=et,l9){constructor(t,n){super(t,"string","PgInterval"),this.config.intervalConfig=n}build(t){return new Bne(t,this.config)}}_e(Fne,o9,"PgIntervalBuilder");var c9,u9;class Bne extends(u9=kn,c9=et,u9){constructor(){super(...arguments);_e(this,"fields",this.config.intervalConfig.fields);_e(this,"precision",this.config.intervalConfig.precision)}getSQLType(){const n=this.fields?` ${this.fields}`:"",r=this.precision?`(${this.precision})`:"";return`interval${n}${r}`}}_e(Bne,c9,"PgInterval");function MVe(e,t={}){const{name:n,config:r}=Ua(e,t);return new Fne(n,r)}var d9,f9;class zne extends(f9=tr,d9=et,f9){constructor(t){super(t,"json","PgJson")}build(t){return new Une(t,this.config)}}_e(zne,d9,"PgJsonBuilder");var h9,p9;class Une extends(p9=kn,h9=et,p9){constructor(t,n){super(t,n)}getSQLType(){return"json"}mapToDriverValue(t){return JSON.stringify(t)}mapFromDriverValue(t){if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t}}_e(Une,h9,"PgJson");function kf(e){return new zne(e??"")}var m9,g9;class qne extends(g9=tr,m9=et,g9){constructor(t){super(t,"json","PgJsonb")}build(t){return new Vne(t,this.config)}}_e(qne,m9,"PgJsonbBuilder");var v9,y9;class Vne extends(y9=kn,v9=et,y9){constructor(t,n){super(t,n)}getSQLType(){return"jsonb"}mapToDriverValue(t){return JSON.stringify(t)}mapFromDriverValue(t){if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t}}_e(Vne,v9,"PgJsonb");function DVe(e){return new qne(e??"")}var x9,b9;class Wne extends(b9=tr,x9=et,b9){constructor(t){super(t,"array","PgLine")}build(t){return new Hne(t,this.config)}}_e(Wne,x9,"PgLineBuilder");var w9,_9;class Hne extends(_9=kn,w9=et,_9){getSQLType(){return"line"}mapFromDriverValue(t){const[n,r,i]=t.slice(1,-1).split(",");return[Number.parseFloat(n),Number.parseFloat(r),Number.parseFloat(i)]}mapToDriverValue(t){return`{${t[0]},${t[1]},${t[2]}}`}}_e(Hne,w9,"PgLine");var j9,N9;class Kne extends(N9=tr,j9=et,N9){constructor(t){super(t,"json","PgLineABC")}build(t){return new Gne(t,this.config)}}_e(Kne,j9,"PgLineABCBuilder");var S9,A9;class Gne extends(A9=kn,S9=et,A9){getSQLType(){return"line"}mapFromDriverValue(t){const[n,r,i]=t.slice(1,-1).split(",");return{a:Number.parseFloat(n),b:Number.parseFloat(r),c:Number.parseFloat(i)}}mapToDriverValue(t){return`{${t.a},${t.b},${t.c}}`}}_e(Gne,S9,"PgLineABC");function RVe(e,t){const{name:n,config:r}=Ua(e,t);return!(r!=null&&r.mode)||r.mode==="tuple"?new Wne(n):new Kne(n)}var P9,C9;class Zne extends(C9=tr,P9=et,C9){constructor(t){super(t,"string","PgMacaddr")}build(t){return new Xne(t,this.config)}}_e(Zne,P9,"PgMacaddrBuilder");var E9,O9;class Xne extends(O9=kn,E9=et,O9){getSQLType(){return"macaddr"}}_e(Xne,E9,"PgMacaddr");function $Ve(e){return new Zne(e??"")}var k9,T9;class Yne extends(T9=tr,k9=et,T9){constructor(t){super(t,"string","PgMacaddr8")}build(t){return new Qne(t,this.config)}}_e(Yne,k9,"PgMacaddr8Builder");var I9,L9;class Qne extends(L9=kn,I9=et,L9){getSQLType(){return"macaddr8"}}_e(Qne,I9,"PgMacaddr8");function FVe(e){return new Yne(e??"")}var M9,D9;class Jne extends(D9=tr,M9=et,D9){constructor(t,n,r){super(t,"string","PgNumeric"),this.config.precision=n,this.config.scale=r}build(t){return new ere(t,this.config)}}_e(Jne,M9,"PgNumericBuilder");var R9,$9;class ere extends($9=kn,R9=et,$9){constructor(n,r){super(n,r);_e(this,"precision");_e(this,"scale");this.precision=r.precision,this.scale=r.scale}getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}_e(ere,R9,"PgNumeric");function BVe(e,t){const{name:n,config:r}=Ua(e,t);return new Jne(n,r==null?void 0:r.precision,r==null?void 0:r.scale)}var F9,B9;class tre extends(B9=tr,F9=et,B9){constructor(t){super(t,"array","PgPointTuple")}build(t){return new nre(t,this.config)}}_e(tre,F9,"PgPointTupleBuilder");var z9,U9;class nre extends(U9=kn,z9=et,U9){getSQLType(){return"point"}mapFromDriverValue(t){if(typeof t=="string"){const[n,r]=t.slice(1,-1).split(",");return[Number.parseFloat(n),Number.parseFloat(r)]}return[t.x,t.y]}mapToDriverValue(t){return`(${t[0]},${t[1]})`}}_e(nre,z9,"PgPointTuple");var q9,V9;class rre extends(V9=tr,q9=et,V9){constructor(t){super(t,"json","PgPointObject")}build(t){return new ire(t,this.config)}}_e(rre,q9,"PgPointObjectBuilder");var W9,H9;class ire extends(H9=kn,W9=et,H9){getSQLType(){return"point"}mapFromDriverValue(t){if(typeof t=="string"){const[n,r]=t.slice(1,-1).split(",");return{x:Number.parseFloat(n),y:Number.parseFloat(r)}}return t}mapToDriverValue(t){return`(${t.x},${t.y})`}}_e(ire,W9,"PgPointObject");function zVe(e,t){const{name:n,config:r}=Ua(e,t);return!(r!=null&&r.mode)||r.mode==="tuple"?new tre(n):new rre(n)}function UVe(e){const t=[];for(let n=0;n<e.length;n+=2)t.push(Number.parseInt(e.slice(n,n+2),16));return new Uint8Array(t)}function HF(e,t){const n=new ArrayBuffer(8),r=new DataView(n);for(let i=0;i<8;i++)r.setUint8(i,e[t+i]);return r.getFloat64(0,!0)}function are(e){const t=UVe(e);let n=0;const r=t[n];n+=1;const i=new DataView(t.buffer),a=i.getUint32(n,r===1);if(n+=4,a&536870912&&(i.getUint32(n,r===1),n+=4),(a&65535)===1){const o=HF(t,n);n+=8;const l=HF(t,n);return n+=8,[o,l]}throw new Error("Unsupported geometry type")}var K9,G9;class sre extends(G9=tr,K9=et,G9){constructor(t){super(t,"array","PgGeometry")}build(t){return new ore(t,this.config)}}_e(sre,K9,"PgGeometryBuilder");var Z9,X9;class ore extends(X9=kn,Z9=et,X9){getSQLType(){return"geometry(point)"}mapFromDriverValue(t){return are(t)}mapToDriverValue(t){return`point(${t[0]} ${t[1]})`}}_e(ore,Z9,"PgGeometry");var Y9,Q9;class lre extends(Q9=tr,Y9=et,Q9){constructor(t){super(t,"json","PgGeometryObject")}build(t){return new cre(t,this.config)}}_e(lre,Y9,"PgGeometryObjectBuilder");var J9,ez;class cre extends(ez=kn,J9=et,ez){getSQLType(){return"geometry(point)"}mapFromDriverValue(t){const n=are(t);return{x:n[0],y:n[1]}}mapToDriverValue(t){return`point(${t.x} ${t.y})`}}_e(cre,J9,"PgGeometryObject");function qVe(e,t){const{name:n,config:r}=Ua(e,t);return!(r!=null&&r.mode)||r.mode==="tuple"?new sre(n):new lre(n)}var tz,nz;class ure extends(nz=tr,tz=et,nz){constructor(t,n){super(t,"number","PgReal"),this.config.length=n}build(t){return new dre(t,this.config)}}_e(ure,tz,"PgRealBuilder");var rz,iz;class dre extends(iz=kn,rz=et,iz){constructor(n,r){super(n,r);_e(this,"mapFromDriverValue",n=>typeof n=="string"?Number.parseFloat(n):n)}getSQLType(){return"real"}}_e(dre,rz,"PgReal");function zl(e){return new ure(e??"")}var az,sz;class fre extends(sz=tr,az=et,sz){constructor(t){super(t,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new hre(t,this.config)}}_e(fre,az,"PgSerialBuilder");var oz,lz;class hre extends(lz=kn,oz=et,lz){getSQLType(){return"serial"}}_e(hre,oz,"PgSerial");function Bi(e){return new fre(e??"")}var cz,uz;class pre extends(uz=Fb,cz=et,uz){constructor(t){super(t,"number","PgSmallInt")}build(t){return new mre(t,this.config)}}_e(pre,cz,"PgSmallIntBuilder");var dz,fz;class mre extends(fz=kn,dz=et,fz){constructor(){super(...arguments);_e(this,"mapFromDriverValue",n=>typeof n=="string"?Number(n):n)}getSQLType(){return"smallint"}}_e(mre,dz,"PgSmallInt");function VVe(e){return new pre(e??"")}var hz,pz;class gre extends(pz=tr,hz=et,pz){constructor(t){super(t,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new vre(t,this.config)}}_e(gre,hz,"PgSmallSerialBuilder");var mz,gz;class vre extends(gz=kn,mz=et,gz){getSQLType(){return"smallserial"}}_e(vre,mz,"PgSmallSerial");function WVe(e){return new gre(e??"")}var vz,yz;class yre extends(yz=tr,vz=et,yz){constructor(t,n){super(t,"string","PgText"),this.config.enumValues=n.enum}build(t){return new xre(t,this.config)}}_e(yre,vz,"PgTextBuilder");var xz,bz;class xre extends(bz=kn,xz=et,bz){constructor(){super(...arguments);_e(this,"enumValues",this.config.enumValues)}getSQLType(){return"text"}}_e(xre,xz,"PgText");function Ze(e,t={}){const{name:n,config:r}=Ua(e,t);return new yre(n,r)}var wz,_z;class bre extends(_z=Uy,wz=et,_z){constructor(t,n,r){super(t,"string","PgTime"),this.withTimezone=n,this.precision=r,this.config.withTimezone=n,this.config.precision=r}build(t){return new wre(t,this.config)}}_e(bre,wz,"PgTimeBuilder");var jz,Nz;class wre extends(Nz=kn,jz=et,Nz){constructor(n,r){super(n,r);_e(this,"withTimezone");_e(this,"precision");this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`time${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}_e(wre,jz,"PgTime");function HVe(e,t={}){const{name:n,config:r}=Ua(e,t);return new bre(n,r.withTimezone??!1,r.precision)}var Sz,Az;class _re extends(Az=Uy,Sz=et,Az){constructor(t,n,r){super(t,"date","PgTimestamp"),this.config.withTimezone=n,this.config.precision=r}build(t){return new jre(t,this.config)}}_e(_re,Sz,"PgTimestampBuilder");var Pz,Cz;class jre extends(Cz=kn,Pz=et,Cz){constructor(n,r){super(n,r);_e(this,"withTimezone");_e(this,"precision");_e(this,"mapFromDriverValue",n=>new Date(this.withTimezone?n:n+"+0000"));_e(this,"mapToDriverValue",n=>n.toISOString());this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`timestamp${this.precision===void 0?"":` (${this.precision})`}${this.withTimezone?" with time zone":""}`}}_e(jre,Pz,"PgTimestamp");var Ez,Oz;class Nre extends(Oz=Uy,Ez=et,Oz){constructor(t,n,r){super(t,"string","PgTimestampString"),this.config.withTimezone=n,this.config.precision=r}build(t){return new Sre(t,this.config)}}_e(Nre,Ez,"PgTimestampStringBuilder");var kz,Tz;class Sre extends(Tz=kn,kz=et,Tz){constructor(n,r){super(n,r);_e(this,"withTimezone");_e(this,"precision");this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`timestamp${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}_e(Sre,kz,"PgTimestampString");function bn(e,t={}){const{name:n,config:r}=Ua(e,t);return(r==null?void 0:r.mode)==="string"?new Nre(n,r.withTimezone??!1,r.precision):new _re(n,(r==null?void 0:r.withTimezone)??!1,r==null?void 0:r.precision)}var Iz,Lz;class Are extends(Lz=tr,Iz=et,Lz){constructor(t){super(t,"string","PgUUID")}defaultRandom(){return this.default(xm`gen_random_uuid()`)}build(t){return new Pre(t,this.config)}}_e(Are,Iz,"PgUUIDBuilder");var Mz,Dz;class Pre extends(Dz=kn,Mz=et,Dz){getSQLType(){return"uuid"}}_e(Pre,Mz,"PgUUID");function KVe(e){return new Are(e??"")}var Rz,$z;class Cre extends($z=tr,Rz=et,$z){constructor(t,n){super(t,"string","PgVarchar"),this.config.length=n.length,this.config.enumValues=n.enum}build(t){return new Ere(t,this.config)}}_e(Cre,Rz,"PgVarcharBuilder");var Fz,Bz;class Ere extends(Bz=kn,Fz=et,Bz){constructor(){super(...arguments);_e(this,"length",this.config.length);_e(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"varchar":`varchar(${this.length})`}}_e(Ere,Fz,"PgVarchar");function Ore(e,t={}){const{name:n,config:r}=Ua(e,t);return new Cre(n,r)}var zz,Uz;class kre extends(Uz=tr,zz=et,Uz){constructor(t,n){super(t,"string","PgBinaryVector"),this.config.dimensions=n.dimensions}build(t){return new Tre(t,this.config)}}_e(kre,zz,"PgBinaryVectorBuilder");var qz,Vz;class Tre extends(Vz=kn,qz=et,Vz){constructor(){super(...arguments);_e(this,"dimensions",this.config.dimensions)}getSQLType(){return`bit(${this.dimensions})`}}_e(Tre,qz,"PgBinaryVector");function GVe(e,t){const{name:n,config:r}=Ua(e,t);return new kre(n,r)}var Wz,Hz;class Ire extends(Hz=tr,Wz=et,Hz){constructor(t,n){super(t,"array","PgHalfVector"),this.config.dimensions=n.dimensions}build(t){return new Lre(t,this.config)}}_e(Ire,Wz,"PgHalfVectorBuilder");var Kz,Gz;class Lre extends(Gz=kn,Kz=et,Gz){constructor(){super(...arguments);_e(this,"dimensions",this.config.dimensions)}getSQLType(){return`halfvec(${this.dimensions})`}mapToDriverValue(n){return JSON.stringify(n)}mapFromDriverValue(n){return n.slice(1,-1).split(",").map(r=>Number.parseFloat(r))}}_e(Lre,Kz,"PgHalfVector");function ZVe(e,t){const{name:n,config:r}=Ua(e,t);return new Ire(n,r)}var Zz,Xz;class Mre extends(Xz=tr,Zz=et,Xz){constructor(t,n){super(t,"string","PgSparseVector"),this.config.dimensions=n.dimensions}build(t){return new Dre(t,this.config)}}_e(Mre,Zz,"PgSparseVectorBuilder");var Yz,Qz;class Dre extends(Qz=kn,Yz=et,Qz){constructor(){super(...arguments);_e(this,"dimensions",this.config.dimensions)}getSQLType(){return`sparsevec(${this.dimensions})`}}_e(Dre,Yz,"PgSparseVector");function XVe(e,t){const{name:n,config:r}=Ua(e,t);return new Mre(n,r)}var Jz,eU;class Rre extends(eU=tr,Jz=et,eU){constructor(t,n){super(t,"array","PgVector"),this.config.dimensions=n.dimensions}build(t){return new $re(t,this.config)}}_e(Rre,Jz,"PgVectorBuilder");var tU,nU;class $re extends(nU=kn,tU=et,nU){constructor(){super(...arguments);_e(this,"dimensions",this.config.dimensions)}getSQLType(){return`vector(${this.dimensions})`}mapToDriverValue(n){return JSON.stringify(n)}mapFromDriverValue(n){return n.slice(1,-1).split(",").map(r=>Number.parseFloat(r))}}_e($re,tU,"PgVector");function YVe(e,t){const{name:n,config:r}=Ua(e,t);return new Rre(n,r)}function QVe(){return{bigint:PVe,bigserial:CVe,boolean:Lu,char:EVe,cidr:OVe,customType:kVe,date:TVe,doublePrecision:IVe,inet:LVe,integer:Ln,interval:MVe,json:kf,jsonb:DVe,line:RVe,macaddr:$Ve,macaddr8:FVe,numeric:BVe,point:zVe,geometry:qVe,real:zl,serial:Bi,smallint:VVe,smallserial:WVe,text:Ze,time:HVe,timestamp:bn,uuid:KVe,varchar:Ore,bit:GVe,halfvec:ZVe,sparsevec:XVe,vector:YVe}}const x4=Symbol.for("drizzle:PgInlineForeignKeys"),KF=Symbol.for("drizzle:EnableRLS");var rU,iU,aU,sU,oU;class jx extends(oU=qs,sU=et,aU=x4,iU=KF,rU=qs.Symbol.ExtraConfigBuilder,oU){constructor(){super(...arguments);_e(this,aU,[]);_e(this,iU,!1);_e(this,rU)}}_e(jx,sU,"PgTable"),_e(jx,"Symbol",Object.assign({},qs.Symbol,{InlineForeignKeys:x4,EnableRLS:KF}));function JVe(e,t,n,r,i=e){const a=new jx(e,r,i),o=typeof t=="function"?t(QVe()):t,l=Object.fromEntries(Object.entries(o).map(([f,h])=>{const p=h;p.setName(f);const m=p.build(a);return a[x4].push(...p.buildForeignKeys(m,a)),[f,m]})),c=Object.fromEntries(Object.entries(o).map(([f,h])=>{const p=h;p.setName(f);const m=p.buildExtraConfigColumn(a);return[f,m]})),u=Object.assign(a,l);return u[qs.Symbol.Columns]=l,u[qs.Symbol.ExtraConfigColumns]=c,n&&(u[jx.Symbol.ExtraConfigBuilder]=n),Object.assign(u,{enableRLS:()=>(u[jx.Symbol.EnableRLS]=!0,u)})}const zi=(e,t,n)=>JVe(e,t,n,void 0);var lU;lU=et;class Fre{constructor(t,n){this.unique=t,this.name=n}on(...t){return new V2(t.map(n=>{if(oa(n,Fi))return n;n=n;const r=new q2(n.name,!!n.keyAsName,n.columnType,n.indexConfig);return n.indexConfig=JSON.parse(JSON.stringify(n.defaultConfig)),r}),this.unique,!1,this.name)}onOnly(...t){return new V2(t.map(n=>{if(oa(n,Fi))return n;n=n;const r=new q2(n.name,!!n.keyAsName,n.columnType,n.indexConfig);return n.indexConfig=n.defaultConfig,r}),this.unique,!0,this.name)}using(t,...n){return new V2(n.map(r=>{if(oa(r,Fi))return r;r=r;const i=new q2(r.name,!!r.keyAsName,r.columnType,r.indexConfig);return r.indexConfig=JSON.parse(JSON.stringify(r.defaultConfig)),i}),this.unique,!0,this.name,t)}}_e(Fre,lU,"PgIndexBuilderOn");var cU;cU=et;class V2{constructor(t,n,r,i,a="btree"){_e(this,"config");this.config={name:i,columns:t,unique:n,only:r,method:a}}concurrently(){return this.config.concurrently=!0,this}with(t){return this.config.with=t,this}where(t){return this.config.where=t,this}build(t){return new Bre(this.config,t)}}_e(V2,cU,"PgIndexBuilder");var uU;uU=et;class Bre{constructor(t,n){_e(this,"config");this.config={...t,table:n}}}_e(Bre,uU,"PgIndex");function GF(e){return new Fre(!0,e)}const wi={INT8_MIN:-128,INT8_MAX:127,INT8_UNSIGNED_MAX:255,INT16_MIN:-32768,INT16_MAX:32767,INT16_UNSIGNED_MAX:65535,INT24_MIN:-8388608,INT24_MAX:8388607,INT24_UNSIGNED_MAX:16777215,INT32_MIN:-2147483648,INT32_MAX:2147483647,INT32_UNSIGNED_MAX:4294967295,INT48_MIN:-0x800000000000,INT48_MAX:0x7fffffffffff,INT48_UNSIGNED_MAX:0xffffffffffff,INT64_MIN:-9223372036854775808n,INT64_MAX:9223372036854775807n,INT64_UNSIGNED_MAX:18446744073709551615n};function Zi(e,t){return t.includes(e.columnType)}function eWe(e){return"enumValues"in e&&Array.isArray(e.enumValues)&&e.enumValues.length>0}const tWe=YN([Wt(),la(),Ib(),VJ()]),nWe=YN([tWe,WJ(G5()),Cl(G5())]),rWe=M3(e=>e instanceof Buffer);function zre(e,t){const n=(t==null?void 0:t.zodInstance)??J$e,r=(t==null?void 0:t.coerce)??{};let i;return eWe(e)&&(i=e.enumValues.length?n.enum(e.enumValues):n.string()),i||(Zi(e,["PgGeometry","PgPointTuple"])?i=n.tuple([n.number(),n.number()]):Zi(e,["PgGeometryObject","PgPointObject"])?i=n.object({x:n.number(),y:n.number()}):Zi(e,["PgHalfVector","PgVector"])?(i=n.array(n.number()),i=e.dimensions?i.length(e.dimensions):i):Zi(e,["PgLine"])?i=n.tuple([n.number(),n.number(),n.number()]):Zi(e,["PgLineABC"])?i=n.object({a:n.number(),b:n.number(),c:n.number()}):Zi(e,["PgArray"])?(i=n.array(zre(e.baseColumn,n)),i=e.size?i.length(e.size):i):e.dataType==="array"?i=n.array(n.any()):e.dataType==="number"?i=iWe(e,n,r):e.dataType==="bigint"?i=aWe(e,n,r):e.dataType==="boolean"?i=r===!0||r.boolean?n.coerce.boolean():n.boolean():e.dataType==="date"?i=r===!0||r.date?n.coerce.date():n.date():e.dataType==="string"?i=sWe(e,n,r):e.dataType==="json"?i=nWe:e.dataType==="custom"?i=n.any():e.dataType==="buffer"&&(i=rWe)),i||(i=n.any()),i}function iWe(e,t,n){let r=e.getSQLType().includes("unsigned"),i,a,o=!1;Zi(e,["MySqlTinyInt","SingleStoreTinyInt"])?(i=r?0:wi.INT8_MIN,a=r?wi.INT8_UNSIGNED_MAX:wi.INT8_MAX,o=!0):Zi(e,["PgSmallInt","PgSmallSerial","MySqlSmallInt","SingleStoreSmallInt"])?(i=r?0:wi.INT16_MIN,a=r?wi.INT16_UNSIGNED_MAX:wi.INT16_MAX,o=!0):Zi(e,["PgReal","MySqlFloat","MySqlMediumInt","SingleStoreMediumInt","SingleStoreFloat"])?(i=r?0:wi.INT24_MIN,a=r?wi.INT24_UNSIGNED_MAX:wi.INT24_MAX,o=Zi(e,["MySqlMediumInt","SingleStoreMediumInt"])):Zi(e,["PgInteger","PgSerial","MySqlInt","SingleStoreInt"])?(i=r?0:wi.INT32_MIN,a=r?wi.INT32_UNSIGNED_MAX:wi.INT32_MAX,o=!0):Zi(e,["PgDoublePrecision","MySqlReal","MySqlDouble","SingleStoreReal","SingleStoreDouble","SQLiteReal"])?(i=r?0:wi.INT48_MIN,a=r?wi.INT48_UNSIGNED_MAX:wi.INT48_MAX):Zi(e,["PgBigInt53","PgBigSerial53","MySqlBigInt53","MySqlSerial","SingleStoreBigInt53","SingleStoreSerial","SQLiteInteger"])?(r=r||Zi(e,["MySqlSerial","SingleStoreSerial"]),i=r?0:Number.MIN_SAFE_INTEGER,a=Number.MAX_SAFE_INTEGER,o=!0):Zi(e,["MySqlYear","SingleStoreYear"])?(i=1901,a=2155,o=!0):(i=Number.MIN_SAFE_INTEGER,a=Number.MAX_SAFE_INTEGER);let l=n===!0||n!=null&&n.number?t.coerce.number():t.number();return l=l.min(i).max(a),o?l.int():l}function aWe(e,t,n){const r=e.getSQLType().includes("unsigned"),i=r?0n:wi.INT64_MIN,a=r?wi.INT64_UNSIGNED_MAX:wi.INT64_MAX;return(n===!0||n!=null&&n.bigint?t.coerce.bigint():t.bigint()).min(i).max(a)}function sWe(e,t,n){if(Zi(e,["PgUUID"]))return t.string().uuid();let r,i,a=!1;Zi(e,["PgVarchar","SQLiteText"])?r=e.length:Zi(e,["MySqlVarChar","SingleStoreVarChar"])?r=e.length??wi.INT16_UNSIGNED_MAX:Zi(e,["MySqlText","SingleStoreText"])&&(e.textType==="longtext"?r=wi.INT32_UNSIGNED_MAX:e.textType==="mediumtext"?r=wi.INT24_UNSIGNED_MAX:e.textType==="text"?r=wi.INT16_UNSIGNED_MAX:r=wi.INT8_UNSIGNED_MAX),Zi(e,["PgChar","MySqlChar","SingleStoreChar"])&&(r=e.length,a=!0),Zi(e,["PgBinaryVector"])&&(i=/^[01]+$/,r=e.dimensions);let o=n===!0||n!=null&&n.string?t.coerce.string():t.string();return o=i?o.regex(i):o,r&&a?o.length(r):r?o.max(r):o}function Ure(e){return lne(e)?SVe(e):AVe(e)}function qre(e,t,n,r){const i={};for(const[a,o]of Object.entries(e)){if(!oa(o,uy)&&!oa(o,Fi)&&!oa(o,Fi.Aliased)&&typeof o=="object"){const h=lne(o)||NVe(o)?Ure(o):o;i[a]=qre(h,t[a]??{},n,r);continue}const l=t[a];if(l!==void 0&&typeof l!="function"){i[a]=l;continue}const c=oa(o,uy)?o:void 0,u=c?zre(c,r):G5(),f=typeof l=="function"?l(u):u;n.never(c)||(i[a]=f,c&&(n.nullable(c)&&(i[a]=i[a].nullable()),n.optional(c)&&(i[a]=i[a].optional())))}return js(i)}const oWe={never:e=>{var t,n;return((t=e==null?void 0:e.generated)==null?void 0:t.type)==="always"||((n=e==null?void 0:e.generatedIdentity)==null?void 0:n.type)==="always"},optional:e=>!e.notNull||e.notNull&&e.hasDefault,nullable:e=>!e.notNull},Ui=(e,t)=>{const n=Ure(e);return qre(n,{},oWe)},iI=sne("shipment_status",["pending","in_transit","delayed","delivered","cancelled"]),lWe=zi("users",{id:Bi("id").primaryKey(),name:Ze("name").notNull(),email:Ze("email").notNull().unique(),password:Ze("password").notNull(),role:Ze("role").notNull().default("viewer"),companyId:Ln("company_id"),areaId:Ln("area_id"),lastLogin:bn("last_login")}),cWe=Ui(lWe).omit({id:!0,lastLogin:!0}),uWe=zi("user_activation_tokens",{id:Bi("id").primaryKey(),token:Ze("token").notNull().unique(),email:Ze("email").notNull(),expiresAt:bn("expires_at").notNull(),used:Lu("used").default(!1),createdAt:bn("created_at").defaultNow()});Ui(uWe).omit({id:!0,createdAt:!0});const dWe=zi("companies",{id:Bi("id").primaryKey(),name:Ze("name").notNull(),description:Ze("description"),sector:Ze("sector"),logo:Ze("logo"),createdAt:bn("created_at").defaultNow()});Ui(dWe).omit({id:!0,createdAt:!0});const fWe=zi("areas",{id:Bi("id").primaryKey(),name:Ze("name").notNull(),description:Ze("description"),companyId:Ln("company_id").notNull()});Ui(fWe).omit({id:!0});const hWe=zi("kpis",{id:Bi("id").primaryKey(),name:Ze("name").notNull(),description:Ze("description"),areaId:Ln("area_id").notNull(),companyId:Ln("company_id").notNull(),unit:Ze("unit").notNull(),target:Ze("target").notNull(),frequency:Ze("frequency").notNull(),calculationMethod:Ze("calculation_method"),responsible:Ze("responsible"),invertedMetric:Lu("inverted_metric").default(!1)});Ui(hWe).omit({id:!0});const pWe=zi("kpi_values",{id:Bi("id").primaryKey(),kpiId:Ln("kpi_id").notNull(),userId:Ln("user_id"),value:Ze("value").notNull(),date:bn("date").defaultNow(),period:Ze("period").notNull(),compliancePercentage:Ze("compliance_percentage"),status:Ze("status"),comments:Ze("comments"),updatedBy:Ln("updated_by")},e=>({userKpiUnique:GF("user_kpi_unique").on(e.kpiId,e.userId,e.period).where(xm`${e.userId} IS NOT NULL`),companyKpiUnique:GF("company_kpi_unique").on(e.kpiId,e.period).where(xm`${e.userId} IS NULL`)})),mWe=Ui(pWe).omit({id:!0,date:!0}),gWe=zi("action_plans",{id:Bi("id").primaryKey(),kpiId:Ln("kpi_id").notNull(),problemDescription:Ze("problem_description").notNull(),correctiveActions:Ze("corrective_actions").notNull(),responsible:Ze("responsible").notNull(),startDate:bn("start_date").notNull(),endDate:bn("end_date").notNull(),status:Ze("status").notNull(),results:Ze("results")});Ui(gWe).omit({id:!0});js({username:Wt().min(3,"El nombre de usuario debe tener al menos 3 caracteres"),password:Wt().min(6,"La contraseña debe tener al menos 6 caracteres")});mWe.extend({compliancePercentage:Wt().optional(),status:Wt().optional()});js({name:Wt().optional(),description:Wt().optional(),areaId:la().optional(),companyId:la().optional(),unit:Wt().optional(),target:YN([Wt(),la()]).transform(e=>typeof e=="number"?e.toString():e).optional(),frequency:Wt().optional(),calculationMethod:Wt().optional(),responsible:Wt().optional(),invertedMetric:Ib().optional()});cWe.extend({password:Wt().min(6,"La contraseña debe tener al menos 6 caracteres"),confirmPassword:Wt().min(6,"La contraseña debe tener al menos 6 caracteres")}).refine(e=>e.password===e.confirmPassword,{message:"Las contraseñas no coinciden",path:["confirmPassword"]});const vWe=zi("shipments",{id:Bi("id").primaryKey(),trackingCode:Ze("tracking_code").notNull().unique(),companyId:Ln("company_id").notNull(),customerId:Ln("customer_id"),customerName:Ze("customer_name").notNull(),purchaseOrder:Ze("purchase_order").notNull(),customerEmail:Ze("customer_email"),customerPhone:Ze("customer_phone"),invoiceNumber:Ze("invoice_number"),destination:Ze("destination").notNull(),origin:Ze("origin").notNull(),product:Ze("product").notNull(),quantity:Ze("quantity").notNull(),unit:Ze("unit").notNull(),departureDate:bn("departure_date"),estimatedDeliveryDate:bn("estimated_delivery_date"),actualDeliveryDate:bn("actual_delivery_date"),status:iI("status").notNull().default("pending"),carrier:Ze("carrier"),vehicleInfo:Ze("vehicle_info"),vehicleType:Ze("vehicle_type"),fuelType:Ze("fuel_type"),distance:Ze("distance"),carbonFootprint:Ze("carbon_footprint"),driverName:Ze("driver_name"),driverPhone:Ze("driver_phone"),comments:Ze("comments"),createdAt:bn("created_at").defaultNow(),updatedAt:bn("updated_at").defaultNow(),destinationLat:zl("destination_lat"),destinationLng:zl("destination_lng"),originLat:zl("origin_lat"),originLng:zl("origin_lng"),purchaseOrderNumber:Ze("purchase_order_number"),notificationEmails:kf("notification_emails")}),yWe=Ui(vWe).omit({id:!0,createdAt:!0,updatedAt:!0}),xWe=zi("shipment_items",{id:Bi("id").primaryKey(),shipmentId:Ln("shipment_id").notNull(),product:Ze("product").notNull(),quantity:Ze("quantity").notNull(),unit:Ze("unit").notNull(),description:Ze("description"),createdAt:bn("created_at").defaultNow()});Ui(xWe).omit({id:!0,createdAt:!0});const bWe=zi("shipment_updates",{id:Bi("id").primaryKey(),shipmentId:Ln("shipment_id").notNull(),status:iI("status").notNull(),location:Ze("location"),comments:Ze("comments"),updatedBy:Ln("updated_by"),timestamp:bn("timestamp").defaultNow()});Ui(bWe).omit({id:!0,timestamp:!0});const wWe=zi("notifications",{id:Bi("id").primaryKey(),title:Ze("title").notNull(),message:Ze("message").notNull(),type:Ze("type").notNull().default("info"),fromUserId:Ln("from_user_id").notNull(),toUserId:Ln("to_user_id"),companyId:Ln("company_id"),areaId:Ln("area_id"),priority:Ze("priority").notNull().default("normal"),read:Lu("read").default(!1),createdAt:bn("created_at").defaultNow(),readAt:bn("read_at")});Ui(wWe).omit({id:!0,createdAt:!0});const _We=zi("shipment_notifications",{id:Bi("id").primaryKey(),shipmentId:Ln("shipment_id").notNull(),emailTo:Ze("email_to").notNull(),subject:Ze("subject").notNull(),status:Ze("status").notNull(),sentAt:bn("sent_at").defaultNow(),sentBy:Ln("sent_by").notNull(),shipmentStatus:iI("shipment_status").notNull(),errorMessage:Ze("error_message")});Ui(_We).omit({id:!0,sentAt:!0});js({status:HJ(["pending","in_transit","delayed","delivered","cancelled"]),sendNotification:Ib().default(!0),comments:Wt().optional(),location:Wt().optional(),invoiceNumber:Wt().optional()});const jWe=zi("job_profiles",{id:Bi("id").primaryKey(),areaId:Ln("area_id").notNull(),companyId:Ln("company_id").notNull(),title:Ze("title").notNull(),description:Ze("description").notNull(),mainActivities:kf("main_activities").notNull(),responsibilities:kf("responsibilities").notNull(),kpiInstructions:kf("kpi_instructions").notNull(),tips:kf("tips").notNull(),processes:kf("processes").notNull(),updateFrequency:kf("update_frequency").notNull(),createdAt:bn("created_at").defaultNow(),updatedAt:bn("updated_at").defaultNow()});Ui(jWe).omit({id:!0,createdAt:!0,updatedAt:!0});js({id:la(),areaId:la(),companyId:la(),title:Wt(),description:Wt(),mainActivities:Cl(Wt()),responsibilities:Cl(Wt()),kpiInstructions:Cl(js({kpiName:Wt(),description:Wt(),updateFrequency:Wt(),instructions:Wt()})),tips:Cl(js({category:Wt(),tip:Wt()})),processes:Cl(js({name:Wt(),description:Wt(),steps:Cl(Wt())})),updateFrequency:js({daily:Cl(Wt()),weekly:Cl(Wt()),monthly:Cl(Wt())}),areaName:Wt(),companyName:Wt(),userKpis:Cl(js({id:la(),name:Wt(),target:Wt(),frequency:Wt()}))});const NWe=zi("shipment_cycle_times",{id:Bi("id").primaryKey(),shipmentId:Ln("shipment_id").notNull().unique(),companyId:Ln("company_id").notNull(),createdAt:bn("created_at").notNull(),pendingAt:bn("pending_at"),inTransitAt:bn("in_transit_at"),deliveredAt:bn("delivered_at"),closedAt:bn("closed_at"),hoursPendingToTransit:Ze("hours_pending_to_transit"),hoursTransitToDelivered:Ze("hours_transit_to_delivered"),hoursDeliveredToClosed:Ze("hours_delivered_to_closed"),hoursTotalCycle:Ze("hours_total_cycle"),hoursToDelivery:Ze("hours_to_delivery"),computedAt:bn("computed_at").defaultNow(),updatedAt:bn("updated_at").defaultNow()});Ui(NWe).omit({id:!0,computedAt:!0,updatedAt:!0});js({period:Wt(),startDate:Wt(),endDate:Wt(),companyId:la().optional(),avgPendingToTransit:la().nullable(),avgTransitToDelivered:la().nullable(),avgDeliveredToClosed:la().nullable(),avgTotalCycle:la().nullable(),avgToDelivery:la().nullable(),totalShipments:la(),completedShipments:la()});const SWe=zi("clients",{id:Bi("id").primaryKey(),name:Ze("name").notNull(),email:Ze("email").notNull(),phone:Ze("phone"),contactPerson:Ze("contact_person"),company:Ze("company"),address:Ze("address"),paymentTerms:Ln("payment_terms"),createdAt:bn("created_at").defaultNow(),updatedAt:bn("updated_at").defaultNow(),requiresReceipt:Lu("requires_receipt").default(!0),reminderFrequency:Ln("reminder_frequency"),isActive:Lu("is_active").default(!0),notes:Ze("notes"),companyId:Ln("company_id"),clientCode:Ze("client_code"),secondaryEmail:Ze("secondary_email"),city:Ze("city"),state:Ze("state"),postalCode:Ze("postal_code"),country:Ze("country").default("México"),emailNotifications:Lu("email_notifications").default(!0),customerType:Ze("customer_type"),requiresPaymentComplement:Lu("requires_payment_complement").default(!1)});Ui(SWe).omit({id:!0,createdAt:!0,updatedAt:!0});const AWe=zi("provider",{id:Ore("id").primaryKey().default(xm`gen_random_uuid()`),name:Ze("name").notNull(),email:Ze("email"),phone:Ze("phone"),contactName:Ze("contact_name"),notes:Ze("notes"),rating:zl("rating"),isActive:Lu("is_active").notNull().default(!0),createdAt:bn("created_at").notNull().defaultNow(),updatedAt:bn("updated_at").notNull().defaultNow()});Ui(AWe).omit({id:!0,createdAt:!0,updatedAt:!0});const PWe=zi("products",{id:Bi("id").primaryKey(),name:Ze("name").notNull(),companyId:Ln("company_id").notNull(),isActive:Lu("is_active").notNull().default(!0),createdAt:bn("created_at").notNull().defaultNow(),updatedAt:bn("updated_at").notNull().defaultNow()});Ui(PWe).omit({id:!0,createdAt:!0,updatedAt:!0});const CWe=sne("voucher_status",["factura_pagada","pendiente_complemento","complemento_recibido","cierre_contable"]),Vre=zi("scheduled_payments",{id:Bi("id").primaryKey(),companyId:Ln("company_id").notNull(),supplierName:Ze("supplier_name").notNull(),amount:zl("amount").notNull(),currency:Ze("currency").notNull().default("MXN"),dueDate:bn("due_date").notNull(),status:Ze("status").notNull().default("pending"),reference:Ze("reference"),notes:Ze("notes"),paidAt:bn("paid_at"),paidBy:Ln("paid_by"),createdBy:Ln("created_by").notNull(),createdAt:bn("created_at").notNull().defaultNow(),updatedAt:bn("updated_at").notNull().defaultNow()});Ui(Vre).omit({id:!0,createdAt:!0,updatedAt:!0});const EWe=zi("payment_receipts",{id:Bi("id").primaryKey(),paymentId:Ln("payment_id").references(()=>Vre.id,{onDelete:"cascade"}),fileName:Ze("file_name").notNull(),fileUrl:Ze("file_url").notNull(),fileType:Ze("file_type").notNull(),uploadedBy:Ln("uploaded_by").notNull(),uploadedAt:bn("uploaded_at").notNull().defaultNow(),sentTo:Ze("sent_to").array(),sentAt:bn("sent_at")});Ui(EWe).omit({id:!0,uploadedAt:!0});const OWe=zi("payment_complements",{id:Bi("id").primaryKey(),companyId:Ln("company_id").notNull(),clientName:Ze("client_name").notNull(),invoiceReference:Ze("invoice_reference").notNull(),amount:zl("amount").notNull(),currency:Ze("currency").notNull().default("MXN"),complementUrl:Ze("complement_url"),status:Ze("status").notNull().default("pending"),generatedAt:bn("generated_at"),sentAt:bn("sent_at"),createdBy:Ln("created_by").notNull(),createdAt:bn("created_at").notNull().defaultNow()});Ui(OWe).omit({id:!0,createdAt:!0});const kWe=zi("exchange_rates",{id:Bi("id").primaryKey(),date:bn("date").notNull().defaultNow(),buyRate:zl("buy_rate").notNull(),sellRate:zl("sell_rate").notNull(),source:Ze("source"),notes:Ze("notes"),createdBy:Ln("created_by").notNull(),createdAt:bn("created_at").notNull().defaultNow()});Ui(kWe).omit({id:!0,createdAt:!0});const TWe=zi("payment_vouchers",{id:Bi("id").primaryKey(),companyId:Ln("company_id").notNull(),clientId:Ln("client_id").notNull(),clientName:Ze("client_name").notNull(),scheduledPaymentId:Ln("scheduled_payment_id"),status:CWe("status").notNull().default("factura_pagada"),voucherFileUrl:Ze("voucher_file_url").notNull(),voucherFileName:Ze("voucher_file_name").notNull(),voucherFileType:Ze("voucher_file_type").notNull(),invoiceFileUrl:Ze("invoice_file_url"),invoiceFileName:Ze("invoice_file_name"),invoiceFileType:Ze("invoice_file_type"),complementFileUrl:Ze("complement_file_url"),complementFileName:Ze("complement_file_name"),complementFileType:Ze("complement_file_type"),extractedAmount:zl("extracted_amount"),extractedDate:bn("extracted_date"),extractedBank:Ze("extracted_bank"),extractedReference:Ze("extracted_reference"),extractedCurrency:Ze("extracted_currency"),ocrConfidence:zl("ocr_confidence"),notes:Ze("notes"),uploadedBy:Ln("uploaded_by").notNull(),createdAt:bn("created_at").notNull().defaultNow(),updatedAt:bn("updated_at").notNull().defaultNow(),lastReminderSent:bn("last_reminder_sent"),reminderCount:Ln("reminder_count").default(0)});Ui(TWe).omit({id:!0,createdAt:!0,updatedAt:!0});const IWe={Camión:{Diesel:.9,Gasolina:1.1,GNC:.7,Eléctrico:.1},"Camión refrigerado":{Diesel:1.2,Gasolina:1.4,GNC:1,Eléctrico:.4},Cisterna:{Diesel:1.1,Gasolina:1.3,GNC:.9,Eléctrico:.3},Trailer:{Diesel:1.1,Gasolina:1.3,GNC:.8,Eléctrico:.3},Tanque:{Diesel:1.1,Gasolina:1.3,GNC:.9,Eléctrico:.3}},LWe=yWe.omit({companyId:!0}).extend({companyId:Wt().min(1,{message:"La empresa es requerida"}),departureDate:Wt().min(1,{message:"La fecha de salida es requerida"}),estimatedDeliveryDate:Wt().min(1,{message:"La fecha estimada de entrega es requerida"}),vehicleType:Wt().min(1,{message:"El tipo de vehículo es requerido"}),fuelType:Wt().min(1,{message:"El tipo de combustible es requerido"}),distance:Wt().min(1,{message:"La distancia es requerida"})}).refine(e=>{const t=new Date(e.departureDate);return new Date(e.estimatedDeliveryDate)>=t},{message:"La fecha estimada de entrega debe ser posterior a la fecha de salida",path:["estimatedDeliveryDate"]});function MWe(){const[e,t]=Gc(),{toast:n}=ss(),[r,i]=N.useState(!1),[a,o]=N.useState(null),[l,c]=N.useState(1),[u,f]=N.useState([{product:"",quantity:"",unit:"KG",description:""}]),h=4,p=["Información Básica","Logística","Huella de Carbono","Información Adicional"],{data:m,isLoading:x}=Zt({queryKey:["/api/companies"]});Zt({queryKey:["/api/clients"]});const{data:v=[],isLoading:y}=Zt({queryKey:["/api/providers"]}),b=Ob({resolver:kb(LWe),defaultValues:{trackingCode:I(),companyId:"",customerName:"",customerEmail:"",destination:"",origin:"",product:"",quantity:"",unit:"KG",status:"pending",carrier:"",vehicleType:"",fuelType:"Diesel",distance:"",departureDate:Vs(new Date,"yyyy-MM-dd"),estimatedDeliveryDate:Vs(new Date(Date.now()+3*24*60*60*1e3),"yyyy-MM-dd")}}),w=b.watch("companyId"),{data:j=[],isLoading:P}=Zt({queryKey:["/api/products",w],enabled:!!w}),A=j;N.useEffect(()=>{const k=b.getValues("origin"),F=b.getValues("destination");if(k&&F&&l===3){const B=FF(k,F);if(B)b.setValue("distance",B.toString()),n({title:"Distancia calculada automáticamente",description:`Se ha calculado una distancia de ${B} km entre origen y destino.`});else{const H="350";b.setValue("distance",H),n({title:"Usando distancia predeterminada",description:`No fue posible calcular la distancia exacta. Se ha establecido un valor predeterminado de ${H} km que puedes editar manualmente.`})}}},[l,b,n]);const E=cr({mutationFn:async k=>{if(!k.companyId)throw new Error("Debe seleccionar una empresa");const F=u.filter(W=>W.product&&W.quantity);if(F.length===0)throw new Error("Debe agregar al menos un producto");const B=parseInt(k.companyId);if(isNaN(B))throw new Error("ID de empresa inválido");let H=a||0;console.log(`[Nuevo envío] Huella de carbono calculada: ${H} kg CO2e`),console.log(`[Nuevo envío] Productos: ${F.length}`);const X={...k,departureDate:new Date(k.departureDate).toISOString(),estimatedDeliveryDate:new Date(k.estimatedDeliveryDate).toISOString(),companyId:B,carbonFootprint:H,items:F};return(await Cr("POST","/api/shipments",X)).json()},onSuccess:()=>{n({title:"Envío creado",description:"El envío se ha creado correctamente"}),Ni.invalidateQueries({queryKey:["/api/shipments"]}),t("/shipments")},onError:k=>{console.error("Error al crear envío:",k),n({title:"Error",description:k.message||"No se pudo crear el envío. Verifica todos los campos.",variant:"destructive"})}}),O=()=>{var W;const k=b.getValues("vehicleType"),F=b.getValues("fuelType");let B=parseFloat(b.getValues("distance")||"0");if(!B&&B!==0&&(B=350,b.setValue("distance",B.toString()),n({title:"Distancia ajustada",description:"Se ha establecido una distancia predeterminada de 350 km para el cálculo."})),!k||!F){n({title:"Datos incompletos",description:"Por favor, selecciona un tipo de vehículo y combustible antes de calcular.",variant:"destructive"});return}let H=(W=IWe[k])==null?void 0:W[F];H||(H=.9,n({title:"Usando factor predeterminado",description:"Se ha usado un factor de emisión general para el cálculo.",variant:"default"}));const X=B*H,ae=X.toFixed(0);o(X),i(!0),n({title:"Cálculo realizado",description:`Huella de carbono estimada: ${ae} kg CO2e`})};function I(k){let F="DUR";k&&(k==="1"?F="DUR":k==="2"&&(F="ORS"));const B=new Date,H=B.getFullYear().toString().substr(2,2),X=(B.getMonth()+1).toString().padStart(2,"0"),ae=Math.floor(Math.random()*1e4).toString().padStart(4,"0");return`${F}-${H}${X}-${ae}`}const D=()=>{let k=!0;if(l===1){const F=b.getValues("companyId"),B=b.getValues("customerName"),H=b.getValues("product"),X=b.getValues("quantity");(!F||!B||!H||!X)&&(n({title:"Campos incompletos",description:"Por favor, completa todos los campos obligatorios antes de continuar",variant:"destructive"}),k=!1)}else if(l===2){const F=b.getValues("origin"),B=b.getValues("destination"),H=b.getValues("departureDate"),X=b.getValues("estimatedDeliveryDate");b.getValues("carrier");const ae=[];if((!F||F.trim().length<2)&&ae.push("Origen"),(!B||B.trim().length<2)&&ae.push("Destino"),H||ae.push("Fecha de salida"),X||ae.push("Fecha estimada de entrega"),ae.length>0&&(n({title:"Campos incompletos",description:`Completa: ${ae.join(", ")}`,variant:"destructive"}),k=!1),H&&X){const W=new Date(H);new Date(X)<=W&&(n({title:"Error en fechas",description:"La fecha de entrega debe ser posterior a la fecha de salida",variant:"destructive"}),k=!1)}}else l===3&&(a||(n({title:"Cálculo pendiente",description:"Por favor, calcula la huella de carbono antes de continuar",variant:"destructive"}),k=!1));k&&l<h&&c(l+1)},z=()=>{l>1&&c(l-1)},T=k=>{if(!a){n({title:"Huella de carbono",description:"Por favor, calcula la huella de carbono antes de crear el envío",variant:"default"});return}E.mutate(k)};return x?s.jsx(qc,{title:"Nuevo Envío",children:s.jsx("div",{className:"flex items-center justify-center min-h-[50vh]",children:s.jsx(go,{className:"h-8 w-8 animate-spin text-primary"})})}):s.jsx(qc,{title:"Nuevo Envío",children:s.jsxs("div",{className:"w-full max-w-4xl mx-auto px-4 sm:px-6",children:[s.jsx("div",{className:"flex items-center space-x-2 mb-4 sm:mb-6",children:s.jsxs(Je,{variant:"outline",size:"sm",onClick:()=>t("/shipments"),children:[s.jsx(b_,{className:"mr-1 sm:mr-2 h-4 w-4"}),s.jsx("span",{className:"text-xs sm:text-sm",children:"Volver a Envíos"})]})}),s.jsxs(ot,{className:"shadow-lg",children:[s.jsxs(Ht,{className:"py-4 sm:py-6",children:[s.jsx(Qt,{className:"text-lg sm:text-xl",children:"Nuevo Envío"}),s.jsxs(fr,{className:"text-xs sm:text-sm",children:["Completa el formulario para crear un nuevo envío.",s.jsx("span",{className:"block mt-1 text-primary font-medium",children:"Responsable de Logística: Thalia Rodriguez"})]})]}),s.jsxs(lt,{className:"px-3 sm:px-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("div",{className:"flex justify-between",children:p.map((k,F)=>s.jsxs("div",{className:`flex flex-col items-center text-center flex-1 ${F>0?"ml-4":""}`,children:[s.jsx("div",{className:`flex items-center justify-center w-8 h-8 rounded-full mb-2 ${l>F+1?"bg-green-100 text-green-600 border border-green-600":l===F+1?"bg-primary text-white":"bg-gray-100 text-gray-400 border border-gray-300"}`,children:l>F+1?s.jsx(Ek,{className:"h-5 w-5"}):s.jsx("span",{className:"text-sm font-semibold",children:F+1})}),s.jsx("span",{className:`text-xs sm:text-sm ${l===F+1?"font-semibold text-primary":"text-gray-500"}`,children:k})]},F))}),s.jsx("div",{className:"relative flex items-center mt-1",children:s.jsx("div",{className:"flex-grow border-t border-gray-300"})})]}),s.jsx(Lb,{...b,children:s.jsxs("form",{onSubmit:b.handleSubmit(T),className:"space-y-6",children:[l===1&&s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsx(Pr,{control:b.control,name:"trackingCode",render:({field:k})=>s.jsxs(br,{children:[s.jsx(wr,{children:"Código de seguimiento"}),s.jsx(dr,{children:s.jsx(Mt,{...k,readOnly:!0})}),s.jsx(sg,{children:"Código generado automáticamente"}),s.jsx(_r,{})]})}),s.jsx(Pr,{control:b.control,name:"companyId",render:({field:k})=>s.jsxs(br,{children:[s.jsx(wr,{children:"Empresa"}),s.jsxs(on,{onValueChange:F=>{k.onChange(F),b.setValue("product","");const B=I(F);b.setValue("trackingCode",B),n({title:"Código actualizado",description:`Se ha generado un nuevo código de seguimiento: ${B}`})},defaultValue:k.value,children:[s.jsx(dr,{children:s.jsx(an,{children:s.jsx(ln,{placeholder:"Selecciona una empresa"})})}),s.jsx(sn,{children:(m==null?void 0:m.map(F=>s.jsx(xe,{value:F.id.toString(),children:F.name},F.id)))||[]})]}),s.jsx(_r,{})]})}),s.jsx(Pr,{control:b.control,name:"customerName",render:({field:k})=>s.jsxs(br,{children:[s.jsx(wr,{children:"Nombre del Cliente"}),s.jsx(dr,{children:s.jsx(Mt,{...k,placeholder:"Nombre completo del cliente"})}),s.jsx(_r,{})]})}),s.jsx("div",{className:"col-span-2",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Productos"}),s.jsxs(Je,{type:"button",variant:"outline",size:"sm",onClick:()=>f([...u,{product:"",quantity:"",unit:"KG",description:""}]),"data-testid":"button-add-product",children:[s.jsx(ch,{className:"h-4 w-4 mr-2"}),"Agregar Producto"]})]}),u.map((k,F)=>s.jsxs("div",{className:"border rounded-lg p-4 space-y-4 relative","data-testid":`product-item-${F}`,children:[u.length>1&&s.jsx(Je,{type:"button",variant:"ghost",size:"sm",className:"absolute top-2 right-2",onClick:()=>{const B=u.filter((H,X)=>X!==F);f(B)},"data-testid":`button-remove-product-${F}`,children:s.jsx(xh,{className:"h-4 w-4"})}),s.jsxs("div",{className:"font-medium text-sm text-muted-foreground",children:["Producto ",F+1]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Nombre del Producto"}),w?P?s.jsx(Mt,{placeholder:"Cargando productos...",disabled:!0}):A.length>0?s.jsxs(on,{value:k.product,onValueChange:B=>{const H=[...u];H[F].product=B,f(H)},children:[s.jsx(an,{"data-testid":`select-product-${F}`,children:s.jsx(ln,{placeholder:"Seleccione un producto"})}),s.jsx(sn,{children:A.map(B=>s.jsx(xe,{value:B.name,children:B.name},B.id))})]}):s.jsx(Mt,{value:k.product,onChange:B=>{const H=[...u];H[F].product=B.target.value,f(H)},placeholder:"Escriba el nombre del producto","data-testid":`input-product-${F}`}):s.jsx(Mt,{placeholder:"Primero selecciona una empresa",disabled:!0})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Cantidad"}),s.jsx(Mt,{type:"text",value:k.quantity,onChange:B=>{const H=[...u];H[F].quantity=B.target.value,f(H)},placeholder:"Ej: 5000","data-testid":`input-quantity-${F}`})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Unidad"}),s.jsxs(on,{value:k.unit,onValueChange:B=>{const H=[...u];H[F].unit=B,f(H)},children:[s.jsx(an,{"data-testid":`select-unit-${F}`,children:s.jsx(ln,{})}),s.jsxs(sn,{children:[s.jsx(xe,{value:"KG",children:"Kilogramos"}),s.jsx(xe,{value:"L",children:"Litros"}),s.jsx(xe,{value:"TON",children:"Toneladas"}),s.jsx(xe,{value:"unidades",children:"Unidades"}),s.jsx(xe,{value:"cajas",children:"Cajas"}),s.jsx(xe,{value:"pallets",children:"Pallets"}),s.jsx(xe,{value:"Full",children:"Full"}),s.jsx(xe,{value:"Sencillo",children:"Sencillo"}),s.jsx(xe,{value:"Pipa",children:"Pipa"})]})]})]})]})]})]},F))]})}),s.jsx(Pr,{control:b.control,name:"origin",render:({field:k})=>s.jsxs(br,{children:[s.jsx(wr,{children:"Origen"}),s.jsx(zF,{placeholder:"Ej: Altamira, Nextipac, CDMX...",value:k.value,onChange:k.onChange,name:k.name,disabled:k.disabled}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Escribe cualquier ubicación. Las sugerencias son opcionales."}),s.jsx(_r,{})]})}),s.jsx(Pr,{control:b.control,name:"destination",render:({field:k})=>s.jsxs(br,{children:[s.jsx(wr,{children:"Destino"}),s.jsx(zF,{placeholder:"Ej: Altamira, Nextipac, CDMX...",value:k.value,onChange:k.onChange,name:k.name,disabled:k.disabled}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Escribe cualquier ubicación. Las sugerencias son opcionales."}),s.jsx(_r,{})]})})]})}),l===2&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs(Eh,{className:"mb-4 bg-blue-50 border-blue-200",children:[s.jsx(q1,{className:"text-primary font-medium",children:"Información de Logística"}),s.jsxs(Oh,{children:["La logística de este envío está gestionada por ",s.jsx("span",{className:"font-medium",children:"Thalia Rodriguez"}),". Por favor, complete los datos de forma precisa para facilitar el seguimiento."]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsx(Pr,{control:b.control,name:"departureDate",render:({field:k})=>s.jsxs(br,{children:[s.jsx(wr,{children:"Fecha de salida"}),s.jsx(dr,{children:s.jsx("div",{className:"flex",children:s.jsx(Mt,{type:"date",...k})})}),s.jsx(_r,{})]})}),s.jsx(Pr,{control:b.control,name:"estimatedDeliveryDate",render:({field:k})=>s.jsxs(br,{children:[s.jsx(wr,{children:"Fecha estimada de entrega"}),s.jsx(dr,{children:s.jsx("div",{className:"flex",children:s.jsx(Mt,{type:"date",...k})})}),s.jsx(_r,{})]})}),s.jsx(Pr,{control:b.control,name:"carrier",render:({field:k})=>s.jsxs(br,{children:[s.jsx(wr,{children:"Transportista"}),y?s.jsxs("div",{className:"space-y-2",children:[s.jsx(dr,{children:s.jsx(Mt,{placeholder:"Cargando proveedores...",disabled:!0})}),s.jsx(sg,{children:"Obteniendo proveedores de transporte..."})]}):(v||[]).length>0?s.jsxs("div",{className:"space-y-2",children:[s.jsxs(on,{onValueChange:k.onChange,value:k.value||"",children:[s.jsx(dr,{children:s.jsx(an,{children:s.jsx(ln,{placeholder:"Selecciona un proveedor de transporte"})})}),s.jsx(sn,{children:(v||[]).map(F=>s.jsx(xe,{value:F.name,children:s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:F.name}),F.email&&s.jsx("div",{className:"text-xs text-muted-foreground",children:F.email})]})},F.id))})]}),s.jsxs(sg,{children:[(v||[]).length," proveedor(es) de transporte disponible(s)"]})]}):s.jsxs("div",{className:"space-y-2",children:[s.jsx(dr,{children:s.jsx(Mt,{...k,placeholder:"Escriba el nombre del transportista (no hay proveedores registrados)"})}),s.jsx(sg,{children:"No hay proveedores registrados. Puede escribir el nombre manualmente."})]}),s.jsx(_r,{})]})}),s.jsx(Pr,{control:b.control,name:"vehicleInfo",render:({field:k})=>s.jsxs(br,{children:[s.jsx(wr,{children:"Información del vehículo"}),s.jsx(dr,{children:s.jsx(Mt,{...k,value:k.value||"",placeholder:"Ej: Cisterna C-3540"})}),s.jsx(_r,{})]})})]})]}),l===3&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsx(Pr,{control:b.control,name:"vehicleType",render:({field:k})=>s.jsxs(br,{children:[s.jsx(wr,{children:"Tipo de vehículo"}),s.jsxs(on,{onValueChange:k.onChange,defaultValue:k.value,children:[s.jsx(dr,{children:s.jsx(an,{children:s.jsx(ln,{placeholder:"Selecciona un tipo de vehículo"})})}),s.jsxs(sn,{children:[s.jsx(xe,{value:"Camión",children:"Camión"}),s.jsx(xe,{value:"Camión refrigerado",children:"Camión refrigerado"}),s.jsx(xe,{value:"Cisterna",children:"Cisterna"}),s.jsx(xe,{value:"Trailer",children:"Trailer"}),s.jsx(xe,{value:"Tanque",children:"Tanque"})]})]}),s.jsx(_r,{})]})}),s.jsx(Pr,{control:b.control,name:"fuelType",render:({field:k})=>s.jsxs(br,{children:[s.jsx(wr,{children:"Tipo de combustible"}),s.jsxs(on,{onValueChange:k.onChange,defaultValue:k.value,children:[s.jsx(dr,{children:s.jsx(an,{children:s.jsx(ln,{placeholder:"Selecciona un tipo de combustible"})})}),s.jsxs(sn,{children:[s.jsx(xe,{value:"Diesel",children:"Diesel"}),s.jsx(xe,{value:"Gasolina",children:"Gasolina"}),s.jsx(xe,{value:"GNC",children:"Gas Natural Comprimido"}),s.jsx(xe,{value:"Eléctrico",children:"Eléctrico"})]})]}),s.jsx(_r,{})]})}),s.jsx(Pr,{control:b.control,name:"distance",render:({field:k})=>s.jsxs(br,{children:[s.jsx(wr,{children:"Distancia (km)"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(dr,{className:"flex-1",children:s.jsx(Mt,{...k,type:"number",placeholder:"Calculado automáticamente desde origen y destino",min:"1"})}),s.jsx(Je,{type:"button",variant:"outline",size:"icon",onClick:()=>{const F=b.getValues("origin"),B=b.getValues("destination");if(F&&B){const H=FF(F,B);H?(b.setValue("distance",H.toString()),n({title:"Distancia recalculada",description:`Se ha calculado una distancia de ${H} km entre origen y destino.`})):n({title:"No se pudo calcular la distancia",description:"Asegúrate de que los campos de origen y destino contengan códigos postales válidos.",variant:"destructive"})}else n({title:"Datos incompletos",description:"Debes seleccionar un origen y un destino para calcular la distancia.",variant:"destructive"})},title:"Recalcular distancia",children:s.jsx(J0,{className:"h-4 w-4"})})]}),s.jsx(sg,{children:"Se calcula automáticamente a partir del origen y destino seleccionados"}),s.jsx(_r,{})]})})]}),s.jsx("div",{className:"flex justify-center mt-4",children:s.jsxs(Je,{type:"button",onClick:O,className:"bg-primary text-white flex items-center gap-2",children:[s.jsx(J0,{className:"h-4 w-4"}),"Calcular huella de carbono"]})}),r&&a&&s.jsxs(Eh,{className:"mt-4 bg-green-50 border-green-200",children:[s.jsx(J0,{className:"h-4 w-4 text-green-600"}),s.jsx(q1,{className:"text-green-700 text-sm",children:"Huella de carbono calculada"}),s.jsxs(Oh,{className:"text-green-700 text-xs sm:text-sm",children:["Se estima que este envío generará aproximadamente ",s.jsxs("span",{className:"font-bold",children:[a?a.toFixed(0):"0"," kg de CO2e"]}),"."]})]})]}),l===4&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsx(Pr,{control:b.control,name:"customerEmail",render:({field:k})=>s.jsxs(br,{children:[s.jsx(wr,{children:"Email del cliente"}),s.jsx(dr,{children:s.jsx(Mt,{type:"email",placeholder:"correo@ejemplo.com",className:"w-full",...k,value:k.value||""})}),s.jsx(_r,{})]})}),s.jsx(Pr,{control:b.control,name:"customerPhone",render:({field:k})=>s.jsxs(br,{children:[s.jsx(wr,{children:"Teléfono del cliente"}),s.jsx(dr,{children:s.jsx(Mt,{placeholder:"Número de teléfono",className:"w-full",...k,value:k.value||""})}),s.jsx(_r,{})]})})]}),s.jsx(Pr,{control:b.control,name:"comments",render:({field:k})=>s.jsxs(br,{children:[s.jsx(wr,{children:"Comentarios adicionales"}),s.jsx(dr,{children:s.jsx(Hu,{placeholder:"Ingrese cualquier información adicional relevante para este envío",className:"w-full min-h-[120px]",...k,value:k.value||""})}),s.jsx(_r,{})]})})]}),s.jsxs("div",{className:"flex justify-between pt-6",children:[s.jsx(Je,{type:"button",variant:"outline",onClick:()=>t("/shipments"),className:"text-xs sm:text-sm",children:"Cancelar"}),s.jsxs("div",{className:"flex space-x-2",children:[l>1&&s.jsxs(Je,{type:"button",variant:"secondary",onClick:z,className:"text-xs sm:text-sm flex items-center",children:[s.jsx(Tce,{className:"h-4 w-4 mr-1"}),"Anterior"]}),l<h?s.jsxs(Je,{type:"button",onClick:D,className:"text-xs sm:text-sm bg-primary text-white flex items-center",children:["Siguiente",s.jsx(w_,{className:"h-4 w-4 ml-1"})]}):s.jsx(Je,{type:"submit",className:"text-xs sm:text-sm bg-primary text-white",disabled:E.isPending,children:E.isPending?s.jsxs(s.Fragment,{children:[s.jsx(go,{className:"mr-2 h-4 w-4 animate-spin"}),"Guardando..."]}):"Crear Envío"})]})]})]})})]})]})]})})}var aI="Progress",sI=100,[DWe,pGe]=Ba(aI),[RWe,$We]=DWe(aI),Wre=N.forwardRef((e,t)=>{const{__scopeProgress:n,value:r=null,max:i,getValueLabel:a=FWe,...o}=e;(i||i===0)&&!ZF(i)&&console.error(BWe(`${i}`,"Progress"));const l=ZF(i)?i:sI;r!==null&&!XF(r,l)&&console.error(zWe(`${r}`,"Progress"));const c=XF(r,l)?r:null,u=oj(c)?a(c,l):void 0;return s.jsx(RWe,{scope:n,value:c,max:l,children:s.jsx(Rt.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":oj(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":Gre(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});Wre.displayName=aI;var Hre="ProgressIndicator",Kre=N.forwardRef((e,t)=>{const{__scopeProgress:n,...r}=e,i=$We(Hre,n);return s.jsx(Rt.div,{"data-state":Gre(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...r,ref:t})});Kre.displayName=Hre;function FWe(e,t){return`${Math.round(e/t*100)}%`}function Gre(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function oj(e){return typeof e=="number"}function ZF(e){return oj(e)&&!isNaN(e)&&e>0}function XF(e,t){return oj(e)&&!isNaN(e)&&e<=t&&e>=0}function BWe(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${sI}\`.`}function zWe(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${sI} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Zre=Wre,UWe=Kre;const W2=N.forwardRef(({className:e,value:t,...n},r)=>s.jsx(Zre,{ref:r,className:wt("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...n,children:s.jsx(UWe,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));W2.displayName=Zre.displayName;function qWe(){const[e,t]=N.useState("dashboard"),[n,r]=N.useState(""),[i,a]=N.useState("all"),[o,l]=N.useState("all"),[c,u]=N.useState(null),{data:f}=Zt({queryKey:["/api/companies"],refetchInterval:3e4}),{data:h}=Zt({queryKey:["/api/kpis"],refetchInterval:3e4}),{data:p}=Zt({queryKey:["/api/kpi-values"],refetchInterval:3e4}),{data:m}=Zt({queryKey:["/api/users"],refetchInterval:6e4}),v=!m||!Array.isArray(m)?[]:m.map(E=>{const O=h||[],I=(p==null?void 0:p.filter(ae=>O.some(W=>W.id===ae.kpiId)&&ae.updatedBy===E.id))||[],D=O.length,z=I.length,T=D>0?z/D*100:0,k=I.filter(ae=>ae.status==="compliant"||ae.status==="complies").length,F=z>0?k/z*100:0,B=I.length>0?Math.max(...I.map(ae=>new Date(ae.date).getTime())):E.lastLogin?new Date(E.lastLogin).getTime():0,H=B>0?Math.floor((Date.now()-B)/(1e3*60*60*24)):999;let X="needs_attention";return F>=85&&H<=7?X="excellent":F>=70&&H<=14&&(X="good"),{...E,totalKpis:D,completedKpis:z,completionRate:Math.round(T),performanceScore:Math.round(F),lastActivity:B>0?new Date(B):null,daysSinceActivity:H,status:X,company:f==null?void 0:f.find(ae=>ae.id===E.companyId)}}),y={totalUsers:v.length,activeUsers:v.filter(E=>E.daysSinceActivity<=7).length,excellentPerformers:v.filter(E=>E.status==="excellent").length,needsAttention:v.filter(E=>E.status==="needs_attention").length,avgPerformance:v.length>0?Math.round(v.reduce((E,O)=>E+O.performanceScore,0)/v.length):0,avgCompletion:v.length>0?Math.round(v.reduce((E,O)=>E+O.completionRate,0)/v.length):0},b=v.filter(E=>{var z;const O=E.name.toLowerCase().includes(n.toLowerCase())||E.email.toLowerCase().includes(n.toLowerCase()),I=i==="all"||((z=E.companyId)==null?void 0:z.toString())===i,D=o==="all"||E.status===o;return O&&I&&D}),w=E=>{switch(E){case"excellent":return"bg-emerald-50 text-emerald-700 border-emerald-200";case"good":return"bg-blue-50 text-blue-700 border-blue-200";case"needs_attention":return"bg-amber-50 text-amber-700 border-amber-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},j=E=>{switch(E){case"excellent":return s.jsx(qp,{className:"h-4 w-4"});case"good":return s.jsx(Ma,{className:"h-4 w-4"});case"needs_attention":return s.jsx(Lc,{className:"h-4 w-4"});default:return s.jsx(Lce,{className:"h-4 w-4"})}},P=E=>{switch(E){case"excellent":return"Excelente";case"good":return"Bueno";case"needs_attention":return"Necesita Atención";default:return"Sin Datos"}},A=({user:E,onClose:O})=>{var T;const I=E?(h==null?void 0:h.filter(k=>k.companyId===E.companyId))||[]:[],D=E?(p==null?void 0:p.filter(k=>I.some(F=>F.id===k.kpiId)&&k.updatedBy===E.id))||[]:[],z=I.map(k=>{const F=D.filter(B=>B.kpiId===k.id).sort((B,H)=>new Date(H.date).getTime()-new Date(B.date).getTime())[0];return{...k,value:(F==null?void 0:F.value)||"Sin datos",status:(F==null?void 0:F.status)||"pending",period:(F==null?void 0:F.period)||"Sin período",date:(F==null?void 0:F.date)||null}});return s.jsx(vi,{open:!!E,onOpenChange:O,children:s.jsxs(ui,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsx(di,{children:s.jsxs(fi,{className:"flex items-center gap-3",children:[s.jsx(Sg,{className:"h-12 w-12",children:s.jsx(Ag,{className:"bg-gradient-to-br from-blue-500 to-purple-600 text-white font-bold",children:E==null?void 0:E.name.split(" ").map(k=>k[0]).join("").toUpperCase()})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-xl font-semibold",children:E==null?void 0:E.name}),s.jsx("div",{className:"text-sm text-gray-500",children:E==null?void 0:E.email})]})]})}),E&&s.jsxs("div",{className:"space-y-6 mt-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[s.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[E.completionRate,"%"]}),s.jsx("div",{className:"text-sm text-blue-600",children:"Completitud KPIs"})]}),s.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[s.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[E.performanceScore,"%"]}),s.jsx("div",{className:"text-sm text-green-600",children:"Rendimiento"})]}),s.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-purple-600",children:E.completedKpis}),s.jsx("div",{className:"text-sm text-purple-600",children:"KPIs Completados"})]}),s.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-orange-600",children:E.daysSinceActivity}),s.jsx("div",{className:"text-sm text-orange-600",children:"Días desde actividad"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600",children:"Empresa:"}),s.jsx("span",{className:"font-medium",children:((T=E.company)==null?void 0:T.name)||"Sin asignar"})]}),s.jsxs("div",{className:"flex items-center justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600",children:"Rol:"}),s.jsx(Wn,{variant:"outline",children:E.role})]}),s.jsxs("div",{className:"flex items-center justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600",children:"Estado:"}),s.jsxs(Wn,{className:w(E.status),children:[j(E.status),s.jsx("span",{className:"ml-1",children:P(E.status)})]})]}),s.jsxs("div",{className:"flex items-center justify-between py-2 border-b",children:[s.jsx("span",{className:"text-gray-600",children:"Última actividad:"}),s.jsx("span",{className:"text-sm",children:E.lastActivity?Vs(E.lastActivity,"dd/MM/yyyy HH:mm",{locale:Md}):"Sin actividad"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Progreso de rendimiento"}),s.jsxs("span",{className:"font-medium",children:[E.performanceScore,"%"]})]}),s.jsx(W2,{value:E.performanceScore,className:"h-2"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[s.jsx(Us,{className:"h-5 w-5"}),"KPIs del Usuario"]}),z.length>0?s.jsx("div",{className:"space-y-3",children:z.map(k=>s.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-medium text-gray-900",children:k.name}),s.jsx("p",{className:"text-sm text-gray-500",children:k.description})]}),s.jsx(Wn,{className:k.status==="compliant"||k.status==="complies"?"bg-green-100 text-green-800":k.status==="alert"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800",children:k.status==="compliant"||k.status==="complies"?"Cumple":k.status==="alert"?"Alerta":"No cumple"})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Valor Actual:"}),s.jsx("p",{className:"font-medium",children:k.value})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Objetivo:"}),s.jsx("p",{className:"font-medium text-blue-600",children:k.target||"Sin objetivo"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Frecuencia:"}),s.jsx("p",{className:"font-medium",children:k.frequency||"Sin definir"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Período:"}),s.jsx("p",{className:"font-medium",children:k.period})]})]}),k.date&&s.jsxs("div",{className:"mt-2 pt-2 border-t text-xs text-gray-500",children:["Última actualización: ",Vs(new Date(k.date),"dd/MM/yyyy HH:mm",{locale:Md})]})]},k.id))}):s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(Us,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),s.jsx("p",{children:"No hay KPIs asignados para este usuario"})]})]})]})]})})};return s.jsx(qc,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"relative bg-gradient-to-r from-blue-600 to-purple-600 rounded-2xl p-6 text-white",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-white/20 rounded-xl backdrop-blur-sm",children:s.jsx(ql,{className:"h-8 w-8"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-blue-100 text-sm font-medium",children:"Panel de Control Ejecutivo"}),s.jsx("h1",{className:"text-2xl font-bold",children:"Administra usuarios, roles y permisos del sistema"})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(Je,{className:"bg-white/20 hover:bg-white/30 text-white border-white/30 backdrop-blur-sm",variant:"outline",children:[s.jsx(Jo,{className:"h-4 w-4 mr-2"}),"Nuevo Usuario"]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"font-semibold",children:"Mario Reynoso"}),s.jsx("div",{className:"text-sm text-blue-100",children:"Gerente General"})]}),s.jsx("div",{className:"p-2 bg-yellow-400/20 rounded-lg",children:s.jsx(Rce,{className:"h-6 w-6 text-yellow-300"})})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsxs(ot,{className:"relative overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-gradient-to-br from-blue-500/20 to-blue-600/20 rounded-bl-3xl"}),s.jsxs(lt,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:s.jsx(ql,{className:"h-5 w-5 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:y.totalUsers}),s.jsx("div",{className:"text-sm text-gray-600",children:"Total Colaboradores"})]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),s.jsx("span",{className:"text-gray-600",children:"Activos en plataforma"})]})]})]}),s.jsxs(ot,{className:"relative overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-gradient-to-br from-green-500/20 to-emerald-600/20 rounded-bl-3xl"}),s.jsxs(lt,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:s.jsx(Pk,{className:"h-5 w-5 text-green-600"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:y.activeUsers}),s.jsx("div",{className:"text-sm text-gray-600",children:"Usuarios Activos"})]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),s.jsx("span",{className:"text-gray-600",children:"Últimos 7 días"})]})]})]}),s.jsxs(ot,{className:"relative overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-gradient-to-br from-purple-500/20 to-purple-600/20 rounded-bl-3xl"}),s.jsxs(lt,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:s.jsx(qp,{className:"h-5 w-5 text-purple-600"})}),s.jsxs("div",{children:[s.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[y.avgPerformance,"%"]}),s.jsx("div",{className:"text-sm text-gray-600",children:"Rendimiento Promedio"})]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full"}),s.jsx("span",{className:"text-gray-600",children:"Basado en KPIs"})]})]})]}),s.jsxs(ot,{className:"relative overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-gradient-to-br from-amber-500/20 to-orange-600/20 rounded-bl-3xl"}),s.jsxs(lt,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"p-2 bg-amber-100 rounded-lg",children:s.jsx(Lc,{className:"h-5 w-5 text-amber-600"})}),s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-amber-600",children:y.needsAttention}),s.jsx("div",{className:"text-sm text-gray-600",children:"Requieren Atención"})]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx("div",{className:"w-2 h-2 bg-amber-500 rounded-full"}),s.jsx("span",{className:"text-gray-600",children:"Bajo rendimiento"})]})]})]})]}),s.jsxs(Nm,{value:e,onValueChange:t,children:[s.jsxs(Rh,{className:"grid w-full grid-cols-3 bg-gray-100 p-1 rounded-xl",children:[s.jsxs(si,{value:"dashboard",className:"data-[state=active]:bg-white data-[state=active]:shadow-sm rounded-lg",children:[s.jsx(Us,{className:"h-4 w-4 mr-2"}),"Dashboard"]}),s.jsxs(si,{value:"team",className:"data-[state=active]:bg-white data-[state=active]:shadow-sm rounded-lg",children:[s.jsx(ql,{className:"h-4 w-4 mr-2"}),"Equipo"]}),s.jsxs(si,{value:"performance",className:"data-[state=active]:bg-white data-[state=active]:shadow-sm rounded-lg",children:[s.jsx(Ud,{className:"h-4 w-4 mr-2"}),"Rendimiento"]})]}),s.jsx(ua,{value:"dashboard",className:"space-y-6",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(ot,{children:[s.jsx(Ht,{children:s.jsxs(Qt,{className:"flex items-center gap-2",children:[s.jsx(Jce,{className:"h-5 w-5 text-yellow-500"}),"Top Performers"]})}),s.jsx(lt,{children:s.jsx("div",{className:"space-y-3",children:v.filter(E=>E.status==="excellent").slice(0,5).map((E,O)=>{var I;return s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-green-50 rounded-lg",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-green-500 to-emerald-600 rounded-full flex items-center justify-center",children:s.jsxs("span",{className:"text-white font-bold text-sm",children:["#",O+1]})})}),s.jsx(Sg,{className:"h-10 w-10",children:s.jsx(Ag,{className:"bg-gradient-to-br from-blue-500 to-purple-600 text-white font-bold",children:E.name.split(" ").map(D=>D[0]).join("").toUpperCase()})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-medium",children:E.name}),s.jsx("div",{className:"text-sm text-gray-500",children:(I=E.company)==null?void 0:I.name})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"font-bold text-green-600",children:[E.performanceScore,"%"]}),s.jsx("div",{className:"text-xs text-gray-500",children:"rendimiento"})]})]},E.id)})})})]}),s.jsxs(ot,{children:[s.jsx(Ht,{children:s.jsxs(Qt,{className:"flex items-center gap-2",children:[s.jsx(Lc,{className:"h-5 w-5 text-amber-500"}),"Requieren Atención"]})}),s.jsx(lt,{children:s.jsx("div",{className:"space-y-3",children:v.filter(E=>E.status==="needs_attention").slice(0,5).map(E=>{var O;return s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-amber-50 rounded-lg",children:[s.jsx(Sg,{className:"h-10 w-10",children:s.jsx(Ag,{className:"bg-gradient-to-br from-amber-500 to-orange-600 text-white font-bold",children:E.name.split(" ").map(I=>I[0]).join("").toUpperCase()})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-medium",children:E.name}),s.jsx("div",{className:"text-sm text-gray-500",children:(O=E.company)==null?void 0:O.name})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"font-bold text-amber-600",children:[E.performanceScore,"%"]}),s.jsxs("div",{className:"text-xs text-gray-500",children:[E.daysSinceActivity," días"]})]})]},E.id)})})})]})]})}),s.jsxs(ua,{value:"team",className:"space-y-6",children:[s.jsxs(ot,{children:[s.jsx(Ht,{children:s.jsxs(Qt,{className:"flex items-center gap-2",children:[s.jsx(Fce,{className:"h-5 w-5"}),"Filtros del Equipo"]})}),s.jsx(lt,{children:s.jsxs("div",{className:"flex flex-wrap gap-4",children:[s.jsx("div",{className:"flex-1 min-w-[200px]",children:s.jsxs("div",{className:"relative",children:[s.jsx(HC,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),s.jsx(Mt,{placeholder:"Buscar colaborador...",value:n,onChange:E=>r(E.target.value),className:"pl-10"})]})}),s.jsxs(on,{value:i,onValueChange:a,children:[s.jsx(an,{className:"w-[180px]",children:s.jsx(ln,{placeholder:"Todas las empresas"})}),s.jsxs(sn,{children:[s.jsx(xe,{value:"all",children:"Todas las empresas"}),f==null?void 0:f.map(E=>s.jsx(xe,{value:E.id.toString(),children:E.name},E.id))]})]}),s.jsxs(on,{value:o,onValueChange:l,children:[s.jsx(an,{className:"w-[180px]",children:s.jsx(ln,{placeholder:"Todos los estados"})}),s.jsxs(sn,{children:[s.jsx(xe,{value:"all",children:"Todos"}),s.jsx(xe,{value:"excellent",children:"Excelente"}),s.jsx(xe,{value:"good",children:"Bueno"}),s.jsx(xe,{value:"needs_attention",children:"Necesita Atención"})]})]})]})})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:b.map(E=>{var O;return s.jsxs(ot,{className:"group hover:shadow-lg transition-all duration-300 cursor-pointer",onClick:()=>u(E),children:[s.jsx(Ht,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Sg,{className:"h-12 w-12",children:s.jsx(Ag,{className:"bg-gradient-to-br from-blue-500 to-purple-600 text-white font-bold",children:E.name.split(" ").map(I=>I[0]).join("").toUpperCase()})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-semibold group-hover:text-blue-600 transition-colors",children:E.name}),s.jsx("div",{className:"text-sm text-gray-500",children:(O=E.company)==null?void 0:O.name})]}),s.jsx(Wn,{className:w(E.status),children:j(E.status)})]})}),s.jsxs(lt,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Rendimiento"}),s.jsxs("span",{className:"font-semibold",children:[E.performanceScore,"%"]})]}),s.jsx(W2,{value:E.performanceScore,className:"h-2"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Completitud"}),s.jsxs("span",{className:"font-semibold",children:[E.completionRate,"%"]})]}),s.jsx(W2,{value:E.completionRate,className:"h-2"})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm pt-2 border-t",children:[s.jsxs("div",{className:"flex items-center gap-1 text-gray-500",children:[s.jsx(Dh,{className:"h-3 w-3"}),s.jsx("span",{children:"Última actividad"})]}),s.jsx("span",{className:"text-gray-700",children:E.daysSinceActivity===0?"Hoy":E.daysSinceActivity===1?"Ayer":`${E.daysSinceActivity} días`})]})]})]},E.id)})})]}),s.jsx(ua,{value:"performance",className:"space-y-6",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(ot,{children:[s.jsx(Ht,{children:s.jsx(Qt,{children:"Distribución de Rendimiento"})}),s.jsx(lt,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-4 h-4 bg-emerald-500 rounded-full"}),s.jsx("span",{children:"Excelente (85%+)"})]}),s.jsx("span",{className:"font-semibold",children:y.excellentPerformers})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-4 h-4 bg-blue-500 rounded-full"}),s.jsx("span",{children:"Bueno (70-84%)"})]}),s.jsx("span",{className:"font-semibold",children:v.filter(E=>E.status==="good").length})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-4 h-4 bg-amber-500 rounded-full"}),s.jsx("span",{children:"Necesita Atención (<70%)"})]}),s.jsx("span",{className:"font-semibold",children:y.needsAttention})]})]})})]}),s.jsxs(ot,{children:[s.jsx(Ht,{children:s.jsx(Qt,{children:"Rendimiento por Empresa"})}),s.jsx(lt,{children:s.jsx("div",{className:"space-y-4",children:f==null?void 0:f.map(E=>{const O=v.filter(D=>D.companyId===E.id),I=O.length>0?Math.round(O.reduce((D,z)=>D+z.performanceScore,0)/O.length):0;return s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:E.name}),s.jsxs("div",{className:"text-sm text-gray-500",children:[O.length," colaboradores"]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"font-bold text-lg",children:[I,"%"]}),s.jsx("div",{className:"text-sm text-gray-500",children:"promedio"})]})]},E.id)})})})]})]})})]}),c&&s.jsx(A,{user:c,onClose:()=>u(null)})]})})}var oI="Checkbox",[VWe,mGe]=Ba(oI),[WWe,HWe]=VWe(oI),Xre=N.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:i,defaultChecked:a,required:o,disabled:l,value:c="on",onCheckedChange:u,form:f,...h}=e,[p,m]=N.useState(null),x=Dn(t,P=>m(P)),v=N.useRef(!1),y=p?f||!!p.closest("form"):!0,[b=!1,w]=cl({prop:i,defaultProp:a,onChange:u}),j=N.useRef(b);return N.useEffect(()=>{const P=p==null?void 0:p.form;if(P){const A=()=>w(j.current);return P.addEventListener("reset",A),()=>P.removeEventListener("reset",A)}},[p,w]),s.jsxs(WWe,{scope:n,state:b,disabled:l,children:[s.jsx(Rt.button,{type:"button",role:"checkbox","aria-checked":mh(b)?"mixed":b,"aria-required":o,"data-state":Jre(b),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:x,onKeyDown:yt(e.onKeyDown,P=>{P.key==="Enter"&&P.preventDefault()}),onClick:yt(e.onClick,P=>{w(A=>mh(A)?!0:!A),y&&(v.current=P.isPropagationStopped(),v.current||P.stopPropagation())})}),y&&s.jsx(KWe,{control:p,bubbles:!v.current,name:r,value:c,checked:b,required:o,disabled:l,form:f,style:{transform:"translateX(-100%)"},defaultChecked:mh(a)?!1:a})]})});Xre.displayName=oI;var Yre="CheckboxIndicator",Qre=N.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...i}=e,a=HWe(Yre,n);return s.jsx(os,{present:r||mh(a.state)||a.state===!0,children:s.jsx(Rt.span,{"data-state":Jre(a.state),"data-disabled":a.disabled?"":void 0,...i,ref:t,style:{pointerEvents:"none",...e.style}})})});Qre.displayName=Yre;var KWe=e=>{const{control:t,checked:n,bubbles:r=!0,defaultChecked:i,...a}=e,o=N.useRef(null),l=C3(n),c=zk(t);N.useEffect(()=>{const f=o.current,h=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(h,"checked").set;if(l!==n&&m){const x=new Event("click",{bubbles:r});f.indeterminate=mh(n),m.call(f,mh(n)?!1:n),f.dispatchEvent(x)}},[l,n,r]);const u=N.useRef(mh(n)?!1:n);return s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:i??u.current,...a,tabIndex:-1,ref:o,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function mh(e){return e==="indeterminate"}function Jre(e){return mh(e)?"indeterminate":e?"checked":"unchecked"}var eie=Xre,GWe=Qre;const tie=N.forwardRef(({className:e,...t},n)=>s.jsx(eie,{ref:n,className:wt("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:s.jsx(GWe,{className:wt("flex items-center justify-center text-current"),children:s.jsx(pb,{className:"h-4 w-4"})})}));tie.displayName=eie.displayName;function ZWe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return N.useMemo(()=>r=>{t.forEach(i=>i(r))},t)}const lS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function qy(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function lI(e){return"nodeType"in e}function to(e){var t,n;return e?qy(e)?e:lI(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function cI(e){const{Document:t}=to(e);return e instanceof t}function Bb(e){return qy(e)?!1:e instanceof to(e).HTMLElement}function nie(e){return e instanceof to(e).SVGElement}function Vy(e){return e?qy(e)?e.document:lI(e)?cI(e)?e:Bb(e)||nie(e)?e.ownerDocument:document:document:document}const Hc=lS?N.useLayoutEffect:N.useEffect;function cS(e){const t=N.useRef(e);return Hc(()=>{t.current=e}),N.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current==null?void 0:t.current(...r)},[])}function XWe(){const e=N.useRef(null),t=N.useCallback((r,i)=>{e.current=setInterval(r,i)},[]),n=N.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function J1(e,t){t===void 0&&(t=[e]);const n=N.useRef(e);return Hc(()=>{n.current!==e&&(n.current=e)},t),n}function zb(e,t){const n=N.useRef();return N.useMemo(()=>{const r=e(n.current);return n.current=r,r},[...t])}function lj(e){const t=cS(e),n=N.useRef(null),r=N.useCallback(i=>{i!==n.current&&(t==null||t(i,n.current)),n.current=i},[]);return[n,r]}function cj(e){const t=N.useRef();return N.useEffect(()=>{t.current=e},[e]),t.current}let CP={};function Ub(e,t){return N.useMemo(()=>{if(t)return t;const n=CP[e]==null?0:CP[e]+1;return CP[e]=n,e+"-"+n},[e,t])}function rie(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.reduce((a,o)=>{const l=Object.entries(o);for(const[c,u]of l){const f=a[c];f!=null&&(a[c]=f+e*u)}return a},{...t})}}const rv=rie(1),eb=rie(-1);function YWe(e){return"clientX"in e&&"clientY"in e}function uS(e){if(!e)return!1;const{KeyboardEvent:t}=to(e.target);return t&&e instanceof t}function QWe(e){if(!e)return!1;const{TouchEvent:t}=to(e.target);return t&&e instanceof t}function uj(e){if(QWe(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return YWe(e)?{x:e.clientX,y:e.clientY}:null}const Th=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[Th.Translate.toString(e),Th.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),YF="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function JWe(e){return e.matches(YF)?e:e.querySelector(YF)}const eHe={display:"none"};function tHe(e){let{id:t,value:n}=e;return ie.createElement("div",{id:t,style:eHe},n)}function nHe(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;const i={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return ie.createElement("div",{id:t,style:i,role:"status","aria-live":r,"aria-atomic":!0},n)}function rHe(){const[e,t]=N.useState("");return{announce:N.useCallback(r=>{r!=null&&t(r)},[]),announcement:e}}const iie=N.createContext(null);function iHe(e){const t=N.useContext(iie);N.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function aHe(){const[e]=N.useState(()=>new Set),t=N.useCallback(r=>(e.add(r),()=>e.delete(r)),[e]);return[N.useCallback(r=>{let{type:i,event:a}=r;e.forEach(o=>{var l;return(l=o[i])==null?void 0:l.call(o,a)})},[e]),t]}const sHe={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},oHe={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function lHe(e){let{announcements:t=oHe,container:n,hiddenTextDescribedById:r,screenReaderInstructions:i=sHe}=e;const{announce:a,announcement:o}=rHe(),l=Ub("DndLiveRegion"),[c,u]=N.useState(!1);if(N.useEffect(()=>{u(!0)},[]),iHe(N.useMemo(()=>({onDragStart(h){let{active:p}=h;a(t.onDragStart({active:p}))},onDragMove(h){let{active:p,over:m}=h;t.onDragMove&&a(t.onDragMove({active:p,over:m}))},onDragOver(h){let{active:p,over:m}=h;a(t.onDragOver({active:p,over:m}))},onDragEnd(h){let{active:p,over:m}=h;a(t.onDragEnd({active:p,over:m}))},onDragCancel(h){let{active:p,over:m}=h;a(t.onDragCancel({active:p,over:m}))}}),[a,t])),!c)return null;const f=ie.createElement(ie.Fragment,null,ie.createElement(tHe,{id:r,value:i.draggable}),ie.createElement(nHe,{id:l,announcement:o}));return n?Qo.createPortal(f,n):f}var _a;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(_a||(_a={}));function dj(){}function QF(e,t){return N.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function cHe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return N.useMemo(()=>[...t].filter(r=>r!=null),[...t])}const Kc=Object.freeze({x:0,y:0});function uHe(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function dHe(e,t){const n=uj(e);if(!n)return"0 0";const r={x:(n.x-t.left)/t.width*100,y:(n.y-t.top)/t.height*100};return r.x+"% "+r.y+"%"}function fHe(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function hHe(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function JF(e){let{left:t,top:n,height:r,width:i}=e;return[{x:t,y:n},{x:t+i,y:n},{x:t,y:n+r},{x:t+i,y:n+r}]}function aie(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}const sie=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const i=JF(t),a=[];for(const o of r){const{id:l}=o,c=n.get(l);if(c){const u=JF(c),f=i.reduce((p,m,x)=>p+uHe(u[x],m),0),h=Number((f/4).toFixed(4));a.push({id:l,data:{droppableContainer:o,value:h}})}}return a.sort(fHe)};function pHe(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),i=Math.min(t.left+t.width,e.left+e.width),a=Math.min(t.top+t.height,e.top+e.height),o=i-r,l=a-n;if(r<i&&n<a){const c=t.width*t.height,u=e.width*e.height,f=o*l,h=f/(c+u-f);return Number(h.toFixed(4))}return 0}const mHe=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const i=[];for(const a of r){const{id:o}=a,l=n.get(o);if(l){const c=pHe(l,t);c>0&&i.push({id:o,data:{droppableContainer:a,value:c}})}}return i.sort(hHe)};function gHe(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function oie(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Kc}function vHe(e){return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return i.reduce((o,l)=>({...o,top:o.top+e*l.y,bottom:o.bottom+e*l.y,left:o.left+e*l.x,right:o.right+e*l.x}),{...n})}}const yHe=vHe(1);function lie(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function xHe(e,t,n){const r=lie(t);if(!r)return e;const{scaleX:i,scaleY:a,x:o,y:l}=r,c=e.left-o-(1-i)*parseFloat(n),u=e.top-l-(1-a)*parseFloat(n.slice(n.indexOf(" ")+1)),f=i?e.width/i:e.width,h=a?e.height/a:e.height;return{width:f,height:h,top:u,right:c+f,bottom:u+h,left:c}}const bHe={ignoreTransform:!1};function Wy(e,t){t===void 0&&(t=bHe);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:u,transformOrigin:f}=to(e).getComputedStyle(e);u&&(n=xHe(n,u,f))}const{top:r,left:i,width:a,height:o,bottom:l,right:c}=n;return{top:r,left:i,width:a,height:o,bottom:l,right:c}}function e7(e){return Wy(e,{ignoreTransform:!0})}function wHe(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function _He(e,t){return t===void 0&&(t=to(e).getComputedStyle(e)),t.position==="fixed"}function jHe(e,t){t===void 0&&(t=to(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const a=t[i];return typeof a=="string"?n.test(a):!1})}function dS(e,t){const n=[];function r(i){if(t!=null&&n.length>=t||!i)return n;if(cI(i)&&i.scrollingElement!=null&&!n.includes(i.scrollingElement))return n.push(i.scrollingElement),n;if(!Bb(i)||nie(i)||n.includes(i))return n;const a=to(e).getComputedStyle(i);return i!==e&&jHe(i,a)&&n.push(i),_He(i,a)?n:r(i.parentNode)}return e?r(e):n}function cie(e){const[t]=dS(e,1);return t??null}function EP(e){return!lS||!e?null:qy(e)?e:lI(e)?cI(e)||e===Vy(e).scrollingElement?window:Bb(e)?e:null:null}function uie(e){return qy(e)?e.scrollX:e.scrollLeft}function die(e){return qy(e)?e.scrollY:e.scrollTop}function b4(e){return{x:uie(e),y:die(e)}}var Ia;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(Ia||(Ia={}));function fie(e){return!lS||!e?!1:e===document.scrollingElement}function hie(e){const t={x:0,y:0},n=fie(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},i=e.scrollTop<=t.y,a=e.scrollLeft<=t.x,o=e.scrollTop>=r.y,l=e.scrollLeft>=r.x;return{isTop:i,isLeft:a,isBottom:o,isRight:l,maxScroll:r,minScroll:t}}const NHe={x:.2,y:.2};function SHe(e,t,n,r,i){let{top:a,left:o,right:l,bottom:c}=n;r===void 0&&(r=10),i===void 0&&(i=NHe);const{isTop:u,isBottom:f,isLeft:h,isRight:p}=hie(e),m={x:0,y:0},x={x:0,y:0},v={height:t.height*i.y,width:t.width*i.x};return!u&&a<=t.top+v.height?(m.y=Ia.Backward,x.y=r*Math.abs((t.top+v.height-a)/v.height)):!f&&c>=t.bottom-v.height&&(m.y=Ia.Forward,x.y=r*Math.abs((t.bottom-v.height-c)/v.height)),!p&&l>=t.right-v.width?(m.x=Ia.Forward,x.x=r*Math.abs((t.right-v.width-l)/v.width)):!h&&o<=t.left+v.width&&(m.x=Ia.Backward,x.x=r*Math.abs((t.left+v.width-o)/v.width)),{direction:m,speed:x}}function AHe(e){if(e===document.scrollingElement){const{innerWidth:a,innerHeight:o}=window;return{top:0,left:0,right:a,bottom:o,width:a,height:o}}const{top:t,left:n,right:r,bottom:i}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:i,width:e.clientWidth,height:e.clientHeight}}function pie(e){return e.reduce((t,n)=>rv(t,b4(n)),Kc)}function PHe(e){return e.reduce((t,n)=>t+uie(n),0)}function CHe(e){return e.reduce((t,n)=>t+die(n),0)}function mie(e,t){if(t===void 0&&(t=Wy),!e)return;const{top:n,left:r,bottom:i,right:a}=t(e);cie(e)&&(i<=0||a<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const EHe=[["x",["left","right"],PHe],["y",["top","bottom"],CHe]];class uI{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=dS(n),i=pie(r);this.rect={...t},this.width=t.width,this.height=t.height;for(const[a,o,l]of EHe)for(const c of o)Object.defineProperty(this,c,{get:()=>{const u=l(r),f=i[a]-u;return this.rect[c]+f},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Nx{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=t}add(t,n,r){var i;(i=this.target)==null||i.addEventListener(t,n,r),this.listeners.push([t,n,r])}}function OHe(e){const{EventTarget:t}=to(e);return e instanceof t?e:Vy(e)}function OP(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var Il;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(Il||(Il={}));function t7(e){e.preventDefault()}function kHe(e){e.stopPropagation()}var Jn;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(Jn||(Jn={}));const gie={start:[Jn.Space,Jn.Enter],cancel:[Jn.Esc],end:[Jn.Space,Jn.Enter,Jn.Tab]},THe=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case Jn.Right:return{...n,x:n.x+25};case Jn.Left:return{...n,x:n.x-25};case Jn.Down:return{...n,y:n.y+25};case Jn.Up:return{...n,y:n.y-25}}};class dI{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new Nx(Vy(n)),this.windowListeners=new Nx(to(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Il.Resize,this.handleCancel),this.windowListeners.add(Il.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Il.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,r=t.node.current;r&&mie(r),n(Kc)}handleKeyDown(t){if(uS(t)){const{active:n,context:r,options:i}=this.props,{keyboardCodes:a=gie,coordinateGetter:o=THe,scrollBehavior:l="smooth"}=i,{code:c}=t;if(a.end.includes(c)){this.handleEnd(t);return}if(a.cancel.includes(c)){this.handleCancel(t);return}const{collisionRect:u}=r.current,f=u?{x:u.left,y:u.top}:Kc;this.referenceCoordinates||(this.referenceCoordinates=f);const h=o(t,{active:n,context:r.current,currentCoordinates:f});if(h){const p=eb(h,f),m={x:0,y:0},{scrollableAncestors:x}=r.current;for(const v of x){const y=t.code,{isTop:b,isRight:w,isLeft:j,isBottom:P,maxScroll:A,minScroll:E}=hie(v),O=AHe(v),I={x:Math.min(y===Jn.Right?O.right-O.width/2:O.right,Math.max(y===Jn.Right?O.left:O.left+O.width/2,h.x)),y:Math.min(y===Jn.Down?O.bottom-O.height/2:O.bottom,Math.max(y===Jn.Down?O.top:O.top+O.height/2,h.y))},D=y===Jn.Right&&!w||y===Jn.Left&&!j,z=y===Jn.Down&&!P||y===Jn.Up&&!b;if(D&&I.x!==h.x){const T=v.scrollLeft+p.x,k=y===Jn.Right&&T<=A.x||y===Jn.Left&&T>=E.x;if(k&&!p.y){v.scrollTo({left:T,behavior:l});return}k?m.x=v.scrollLeft-T:m.x=y===Jn.Right?v.scrollLeft-A.x:v.scrollLeft-E.x,m.x&&v.scrollBy({left:-m.x,behavior:l});break}else if(z&&I.y!==h.y){const T=v.scrollTop+p.y,k=y===Jn.Down&&T<=A.y||y===Jn.Up&&T>=E.y;if(k&&!p.x){v.scrollTo({top:T,behavior:l});return}k?m.y=v.scrollTop-T:m.y=y===Jn.Down?v.scrollTop-A.y:v.scrollTop-E.y,m.y&&v.scrollBy({top:-m.y,behavior:l});break}}this.handleMove(t,rv(eb(h,this.referenceCoordinates),m))}}}handleMove(t,n){const{onMove:r}=this.props;t.preventDefault(),r(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}dI.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=gie,onActivation:i}=t,{active:a}=n;const{code:o}=e.nativeEvent;if(r.start.includes(o)){const l=a.activatorNode.current;return l&&e.target!==l?!1:(e.preventDefault(),i==null||i({event:e.nativeEvent}),!0)}return!1}}];function n7(e){return!!(e&&"distance"in e)}function r7(e){return!!(e&&"delay"in e)}class fI{constructor(t,n,r){var i;r===void 0&&(r=OHe(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:a}=t,{target:o}=a;this.props=t,this.events=n,this.document=Vy(o),this.documentListeners=new Nx(this.document),this.listeners=new Nx(r),this.windowListeners=new Nx(to(o)),this.initialCoordinates=(i=uj(a))!=null?i:Kc,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(Il.Resize,this.handleCancel),this.windowListeners.add(Il.DragStart,t7),this.windowListeners.add(Il.VisibilityChange,this.handleCancel),this.windowListeners.add(Il.ContextMenu,t7),this.documentListeners.add(Il.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(r7(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(n7(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:r,onPending:i}=this.props;i(r,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(Il.Click,kHe,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Il.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:r,initialCoordinates:i,props:a}=this,{onMove:o,options:{activationConstraint:l}}=a;if(!i)return;const c=(n=uj(t))!=null?n:Kc,u=eb(i,c);if(!r&&l){if(n7(l)){if(l.tolerance!=null&&OP(u,l.tolerance))return this.handleCancel();if(OP(u,l.distance))return this.handleStart()}if(r7(l)&&OP(u,l.tolerance))return this.handleCancel();this.handlePending(l,u);return}t.cancelable&&t.preventDefault(),o(c)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===Jn.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const IHe={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class hI extends fI{constructor(t){const{event:n}=t,r=Vy(n.target);super(t,IHe,r)}}hI.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const LHe={move:{name:"mousemove"},end:{name:"mouseup"}};var w4;(function(e){e[e.RightClick=2]="RightClick"})(w4||(w4={}));class MHe extends fI{constructor(t){super(t,LHe,Vy(t.event.target))}}MHe.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===w4.RightClick?!1:(r==null||r({event:n}),!0)}}];const kP={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class DHe extends fI{constructor(t){super(t,kP)}static setup(){return window.addEventListener(kP.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(kP.move.name,t)};function t(){}}}DHe.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:i}=n;return i.length>1?!1:(r==null||r({event:n}),!0)}}];var Sx;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(Sx||(Sx={}));var fj;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(fj||(fj={}));function RHe(e){let{acceleration:t,activator:n=Sx.Pointer,canScroll:r,draggingRect:i,enabled:a,interval:o=5,order:l=fj.TreeOrder,pointerCoordinates:c,scrollableAncestors:u,scrollableAncestorRects:f,delta:h,threshold:p}=e;const m=FHe({delta:h,disabled:!a}),[x,v]=XWe(),y=N.useRef({x:0,y:0}),b=N.useRef({x:0,y:0}),w=N.useMemo(()=>{switch(n){case Sx.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case Sx.DraggableRect:return i}},[n,i,c]),j=N.useRef(null),P=N.useCallback(()=>{const E=j.current;if(!E)return;const O=y.current.x*b.current.x,I=y.current.y*b.current.y;E.scrollBy(O,I)},[]),A=N.useMemo(()=>l===fj.TreeOrder?[...u].reverse():u,[l,u]);N.useEffect(()=>{if(!a||!u.length||!w){v();return}for(const E of A){if((r==null?void 0:r(E))===!1)continue;const O=u.indexOf(E),I=f[O];if(!I)continue;const{direction:D,speed:z}=SHe(E,I,w,t,p);for(const T of["x","y"])m[T][D[T]]||(z[T]=0,D[T]=0);if(z.x>0||z.y>0){v(),j.current=E,x(P,o),y.current=z,b.current=D;return}}y.current={x:0,y:0},b.current={x:0,y:0},v()},[t,P,r,v,a,o,JSON.stringify(w),JSON.stringify(m),x,u,A,f,JSON.stringify(p)])}const $He={x:{[Ia.Backward]:!1,[Ia.Forward]:!1},y:{[Ia.Backward]:!1,[Ia.Forward]:!1}};function FHe(e){let{delta:t,disabled:n}=e;const r=cj(t);return zb(i=>{if(n||!r||!i)return $He;const a={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[Ia.Backward]:i.x[Ia.Backward]||a.x===-1,[Ia.Forward]:i.x[Ia.Forward]||a.x===1},y:{[Ia.Backward]:i.y[Ia.Backward]||a.y===-1,[Ia.Forward]:i.y[Ia.Forward]||a.y===1}}},[n,t,r])}function BHe(e,t){const n=t!=null?e.get(t):void 0,r=n?n.node.current:null;return zb(i=>{var a;return t==null?null:(a=r??i)!=null?a:null},[r,t])}function zHe(e,t){return N.useMemo(()=>e.reduce((n,r)=>{const{sensor:i}=r,a=i.activators.map(o=>({eventName:o.eventName,handler:t(o.handler,r)}));return[...n,...a]},[]),[e,t])}var tb;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(tb||(tb={}));var _4;(function(e){e.Optimized="optimized"})(_4||(_4={}));const i7=new Map;function UHe(e,t){let{dragging:n,dependencies:r,config:i}=t;const[a,o]=N.useState(null),{frequency:l,measure:c,strategy:u}=i,f=N.useRef(e),h=y(),p=J1(h),m=N.useCallback(function(b){b===void 0&&(b=[]),!p.current&&o(w=>w===null?b:w.concat(b.filter(j=>!w.includes(j))))},[p]),x=N.useRef(null),v=zb(b=>{if(h&&!n)return i7;if(!b||b===i7||f.current!==e||a!=null){const w=new Map;for(let j of e){if(!j)continue;if(a&&a.length>0&&!a.includes(j.id)&&j.rect.current){w.set(j.id,j.rect.current);continue}const P=j.node.current,A=P?new uI(c(P),P):null;j.rect.current=A,A&&w.set(j.id,A)}return w}return b},[e,a,n,h,c]);return N.useEffect(()=>{f.current=e},[e]),N.useEffect(()=>{h||m()},[n,h]),N.useEffect(()=>{a&&a.length>0&&o(null)},[JSON.stringify(a)]),N.useEffect(()=>{h||typeof l!="number"||x.current!==null||(x.current=setTimeout(()=>{m(),x.current=null},l))},[l,h,m,...r]),{droppableRects:v,measureDroppableContainers:m,measuringScheduled:a!=null};function y(){switch(u){case tb.Always:return!1;case tb.BeforeDragging:return n;default:return!n}}}function pI(e,t){return zb(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function qHe(e,t){return pI(e,t)}function VHe(e){let{callback:t,disabled:n}=e;const r=cS(t),i=N.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:a}=window;return new a(r)},[r,n]);return N.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function fS(e){let{callback:t,disabled:n}=e;const r=cS(t),i=N.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:a}=window;return new a(r)},[n]);return N.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function WHe(e){return new uI(Wy(e),e)}function a7(e,t,n){t===void 0&&(t=WHe);const[r,i]=N.useState(null);function a(){i(c=>{if(!e)return null;if(e.isConnected===!1){var u;return(u=c??n)!=null?u:null}const f=t(e);return JSON.stringify(c)===JSON.stringify(f)?c:f})}const o=VHe({callback(c){if(e)for(const u of c){const{type:f,target:h}=u;if(f==="childList"&&h instanceof HTMLElement&&h.contains(e)){a();break}}}}),l=fS({callback:a});return Hc(()=>{a(),e?(l==null||l.observe(e),o==null||o.observe(document.body,{childList:!0,subtree:!0})):(l==null||l.disconnect(),o==null||o.disconnect())},[e]),r}function HHe(e){const t=pI(e);return oie(e,t)}const s7=[];function KHe(e){const t=N.useRef(e),n=zb(r=>e?r&&r!==s7&&e&&t.current&&e.parentNode===t.current.parentNode?r:dS(e):s7,[e]);return N.useEffect(()=>{t.current=e},[e]),n}function GHe(e){const[t,n]=N.useState(null),r=N.useRef(e),i=N.useCallback(a=>{const o=EP(a.target);o&&n(l=>l?(l.set(o,b4(o)),new Map(l)):null)},[]);return N.useEffect(()=>{const a=r.current;if(e!==a){o(a);const l=e.map(c=>{const u=EP(c);return u?(u.addEventListener("scroll",i,{passive:!0}),[u,b4(u)]):null}).filter(c=>c!=null);n(l.length?new Map(l):null),r.current=e}return()=>{o(e),o(a)};function o(l){l.forEach(c=>{const u=EP(c);u==null||u.removeEventListener("scroll",i)})}},[i,e]),N.useMemo(()=>e.length?t?Array.from(t.values()).reduce((a,o)=>rv(a,o),Kc):pie(e):Kc,[e,t])}function o7(e,t){t===void 0&&(t=[]);const n=N.useRef(null);return N.useEffect(()=>{n.current=null},t),N.useEffect(()=>{const r=e!==Kc;r&&!n.current&&(n.current=e),!r&&n.current&&(n.current=null)},[e]),n.current?eb(e,n.current):Kc}function ZHe(e){N.useEffect(()=>{if(!lS)return;const t=e.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function XHe(e,t){return N.useMemo(()=>e.reduce((n,r)=>{let{eventName:i,handler:a}=r;return n[i]=o=>{a(o,t)},n},{}),[e,t])}function vie(e){return N.useMemo(()=>e?wHe(e):null,[e])}const l7=[];function YHe(e,t){t===void 0&&(t=Wy);const[n]=e,r=vie(n?to(n):null),[i,a]=N.useState(l7);function o(){a(()=>e.length?e.map(c=>fie(c)?r:new uI(t(c),c)):l7)}const l=fS({callback:o});return Hc(()=>{l==null||l.disconnect(),o(),e.forEach(c=>l==null?void 0:l.observe(c))},[e]),i}function yie(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return Bb(t)?t:e}function QHe(e){let{measure:t}=e;const[n,r]=N.useState(null),i=N.useCallback(u=>{for(const{target:f}of u)if(Bb(f)){r(h=>{const p=t(f);return h?{...h,width:p.width,height:p.height}:p});break}},[t]),a=fS({callback:i}),o=N.useCallback(u=>{const f=yie(u);a==null||a.disconnect(),f&&(a==null||a.observe(f)),r(f?t(f):null)},[t,a]),[l,c]=lj(o);return N.useMemo(()=>({nodeRef:l,rect:n,setRef:c}),[n,l,c])}const JHe=[{sensor:hI,options:{}},{sensor:dI,options:{}}],eKe={current:{}},H2={draggable:{measure:e7},droppable:{measure:e7,strategy:tb.WhileDragging,frequency:_4.Optimized},dragOverlay:{measure:Wy}};class Ax extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}}const tKe={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Ax,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:dj},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:H2,measureDroppableContainers:dj,windowRect:null,measuringScheduled:!1},xie={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:dj,draggableNodes:new Map,over:null,measureDroppableContainers:dj},qb=N.createContext(xie),bie=N.createContext(tKe);function nKe(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Ax}}}function rKe(e,t){switch(t.type){case _a.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case _a.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case _a.DragEnd:case _a.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case _a.RegisterDroppable:{const{element:n}=t,{id:r}=n,i=new Ax(e.droppable.containers);return i.set(r,n),{...e,droppable:{...e.droppable,containers:i}}}case _a.SetDroppableDisabled:{const{id:n,key:r,disabled:i}=t,a=e.droppable.containers.get(n);if(!a||r!==a.key)return e;const o=new Ax(e.droppable.containers);return o.set(n,{...a,disabled:i}),{...e,droppable:{...e.droppable,containers:o}}}case _a.UnregisterDroppable:{const{id:n,key:r}=t,i=e.droppable.containers.get(n);if(!i||r!==i.key)return e;const a=new Ax(e.droppable.containers);return a.delete(n),{...e,droppable:{...e.droppable,containers:a}}}default:return e}}function iKe(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:i}=N.useContext(qb),a=cj(r),o=cj(n==null?void 0:n.id);return N.useEffect(()=>{if(!t&&!r&&a&&o!=null){if(!uS(a)||document.activeElement===a.target)return;const l=i.get(o);if(!l)return;const{activatorNode:c,node:u}=l;if(!c.current&&!u.current)return;requestAnimationFrame(()=>{for(const f of[c.current,u.current]){if(!f)continue;const h=JWe(f);if(h){h.focus();break}}})}},[r,t,i,o,a]),null}function wie(e,t){let{transform:n,...r}=t;return e!=null&&e.length?e.reduce((i,a)=>a({transform:i,...r}),n):n}function aKe(e){return N.useMemo(()=>({draggable:{...H2.draggable,...e==null?void 0:e.draggable},droppable:{...H2.droppable,...e==null?void 0:e.droppable},dragOverlay:{...H2.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function sKe(e){let{activeNode:t,measure:n,initialRect:r,config:i=!0}=e;const a=N.useRef(!1),{x:o,y:l}=typeof i=="boolean"?{x:i,y:i}:i;Hc(()=>{if(!o&&!l||!t){a.current=!1;return}if(a.current||!r)return;const u=t==null?void 0:t.node.current;if(!u||u.isConnected===!1)return;const f=n(u),h=oie(f,r);if(o||(h.x=0),l||(h.y=0),a.current=!0,Math.abs(h.x)>0||Math.abs(h.y)>0){const p=cie(u);p&&p.scrollBy({top:h.y,left:h.x})}},[t,o,l,r,n])}const hS=N.createContext({...Kc,scaleX:1,scaleY:1});var Tf;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(Tf||(Tf={}));const oKe=N.memo(function(t){var n,r,i,a;let{id:o,accessibility:l,autoScroll:c=!0,children:u,sensors:f=JHe,collisionDetection:h=mHe,measuring:p,modifiers:m,...x}=t;const v=N.useReducer(rKe,void 0,nKe),[y,b]=v,[w,j]=aHe(),[P,A]=N.useState(Tf.Uninitialized),E=P===Tf.Initialized,{draggable:{active:O,nodes:I,translate:D},droppable:{containers:z}}=y,T=O!=null?I.get(O):null,k=N.useRef({initial:null,translated:null}),F=N.useMemo(()=>{var Fe;return O!=null?{id:O,data:(Fe=T==null?void 0:T.data)!=null?Fe:eKe,rect:k}:null},[O,T]),B=N.useRef(null),[H,X]=N.useState(null),[ae,W]=N.useState(null),te=J1(x,Object.values(x)),ue=Ub("DndDescribedBy",o),ye=N.useMemo(()=>z.getEnabled(),[z]),V=aKe(p),{droppableRects:ee,measureDroppableContainers:Q,measuringScheduled:de}=UHe(ye,{dragging:E,dependencies:[D.x,D.y],config:V.droppable}),le=BHe(I,O),ve=N.useMemo(()=>ae?uj(ae):null,[ae]),Z=Ae(),ne=qHe(le,V.draggable.measure);sKe({activeNode:O!=null?I.get(O):null,config:Z.layoutShiftCompensation,initialRect:ne,measure:V.draggable.measure});const ge=a7(le,V.draggable.measure,ne),Ee=a7(le?le.parentElement:null),be=N.useRef({activatorEvent:null,active:null,activeNode:le,collisionRect:null,collisions:null,droppableRects:ee,draggableNodes:I,draggingNode:null,draggingNodeRect:null,droppableContainers:z,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Ue=z.getNodeFor((n=be.current.over)==null?void 0:n.id),Pe=QHe({measure:V.dragOverlay.measure}),ce=(r=Pe.nodeRef.current)!=null?r:le,it=E?(i=Pe.rect)!=null?i:ge:null,_t=!!(Pe.nodeRef.current&&Pe.rect),gt=HHe(_t?null:ge),Ye=vie(ce?to(ce):null),mt=KHe(E?Ue??le:null),ct=YHe(mt),fe=wie(m,{transform:{x:D.x-gt.x,y:D.y-gt.y,scaleX:1,scaleY:1},activatorEvent:ae,active:F,activeNodeRect:ge,containerNodeRect:Ee,draggingNodeRect:it,over:be.current.over,overlayNodeRect:Pe.rect,scrollableAncestors:mt,scrollableAncestorRects:ct,windowRect:Ye}),Ne=ve?rv(ve,D):null,Ie=GHe(mt),He=o7(Ie),Be=o7(Ie,[ge]),ze=rv(fe,He),Ge=it?yHe(it,fe):null,st=F&&Ge?h({active:F,collisionRect:Ge,droppableRects:ee,droppableContainers:ye,pointerCoordinates:Ne}):null,St=aie(st,"id"),[vt,Gn]=N.useState(null),Cn=_t?fe:rv(fe,Be),Ot=gHe(Cn,(a=vt==null?void 0:vt.rect)!=null?a:null,ge),en=N.useRef(null),Tn=N.useCallback((Fe,tt)=>{let{sensor:ut,options:Nn}=tt;if(B.current==null)return;const dn=I.get(B.current);if(!dn)return;const Rn=Fe.nativeEvent,Xn=new ut({active:B.current,activeNode:dn,event:Rn,options:Nn,context:be,onAbort(pr){if(!I.get(pr))return;const{onDragAbort:$r}=te.current,Vr={id:pr};$r==null||$r(Vr),w({type:"onDragAbort",event:Vr})},onPending(pr,xi,$r,Vr){if(!I.get(pr))return;const{onDragPending:bt}=te.current,ar={id:pr,constraint:xi,initialCoordinates:$r,offset:Vr};bt==null||bt(ar),w({type:"onDragPending",event:ar})},onStart(pr){const xi=B.current;if(xi==null)return;const $r=I.get(xi);if(!$r)return;const{onDragStart:Vr}=te.current,$n={activatorEvent:Rn,active:{id:xi,data:$r.data,rect:k}};Qo.unstable_batchedUpdates(()=>{Vr==null||Vr($n),A(Tf.Initializing),b({type:_a.DragStart,initialCoordinates:pr,active:xi}),w({type:"onDragStart",event:$n}),X(en.current),W(Rn)})},onMove(pr){b({type:_a.DragMove,coordinates:pr})},onEnd:Et(_a.DragEnd),onCancel:Et(_a.DragCancel)});en.current=Xn;function Et(pr){return async function(){const{active:$r,collisions:Vr,over:$n,scrollAdjustedTranslate:bt}=be.current;let ar=null;if($r&&bt){const{cancelDrop:ra}=te.current;ar={activatorEvent:Rn,active:$r,collisions:Vr,delta:bt,over:$n},pr===_a.DragEnd&&typeof ra=="function"&&await Promise.resolve(ra(ar))&&(pr=_a.DragCancel)}B.current=null,Qo.unstable_batchedUpdates(()=>{b({type:pr}),A(Tf.Uninitialized),Gn(null),X(null),W(null),en.current=null;const ra=pr===_a.DragEnd?"onDragEnd":"onDragCancel";if(ar){const Ci=te.current[ra];Ci==null||Ci(ar),w({type:ra,event:ar})}})}}},[I]),Ut=N.useCallback((Fe,tt)=>(ut,Nn)=>{const dn=ut.nativeEvent,Rn=I.get(Nn);if(B.current!==null||!Rn||dn.dndKit||dn.defaultPrevented)return;const Xn={active:Rn};Fe(ut,tt.options,Xn)===!0&&(dn.dndKit={capturedBy:tt.sensor},B.current=Nn,Tn(ut,tt))},[I,Tn]),$t=zHe(f,Ut);ZHe(f),Hc(()=>{ge&&P===Tf.Initializing&&A(Tf.Initialized)},[ge,P]),N.useEffect(()=>{const{onDragMove:Fe}=te.current,{active:tt,activatorEvent:ut,collisions:Nn,over:dn}=be.current;if(!tt||!ut)return;const Rn={active:tt,activatorEvent:ut,collisions:Nn,delta:{x:ze.x,y:ze.y},over:dn};Qo.unstable_batchedUpdates(()=>{Fe==null||Fe(Rn),w({type:"onDragMove",event:Rn})})},[ze.x,ze.y]),N.useEffect(()=>{const{active:Fe,activatorEvent:tt,collisions:ut,droppableContainers:Nn,scrollAdjustedTranslate:dn}=be.current;if(!Fe||B.current==null||!tt||!dn)return;const{onDragOver:Rn}=te.current,Xn=Nn.get(St),Et=Xn&&Xn.rect.current?{id:Xn.id,rect:Xn.rect.current,data:Xn.data,disabled:Xn.disabled}:null,pr={active:Fe,activatorEvent:tt,collisions:ut,delta:{x:dn.x,y:dn.y},over:Et};Qo.unstable_batchedUpdates(()=>{Gn(Et),Rn==null||Rn(pr),w({type:"onDragOver",event:pr})})},[St]),Hc(()=>{be.current={activatorEvent:ae,active:F,activeNode:le,collisionRect:Ge,collisions:st,droppableRects:ee,draggableNodes:I,draggingNode:ce,draggingNodeRect:it,droppableContainers:z,over:vt,scrollableAncestors:mt,scrollAdjustedTranslate:ze},k.current={initial:it,translated:Ge}},[F,le,st,Ge,I,ce,it,ee,z,vt,mt,ze]),RHe({...Z,delta:D,draggingRect:Ge,pointerCoordinates:Ne,scrollableAncestors:mt,scrollableAncestorRects:ct});const cn=N.useMemo(()=>({active:F,activeNode:le,activeNodeRect:ge,activatorEvent:ae,collisions:st,containerNodeRect:Ee,dragOverlay:Pe,draggableNodes:I,droppableContainers:z,droppableRects:ee,over:vt,measureDroppableContainers:Q,scrollableAncestors:mt,scrollableAncestorRects:ct,measuringConfiguration:V,measuringScheduled:de,windowRect:Ye}),[F,le,ge,ae,st,Ee,Pe,I,z,ee,vt,Q,mt,ct,V,de,Ye]),wn=N.useMemo(()=>({activatorEvent:ae,activators:$t,active:F,activeNodeRect:ge,ariaDescribedById:{draggable:ue},dispatch:b,draggableNodes:I,over:vt,measureDroppableContainers:Q}),[ae,$t,F,ge,b,ue,I,vt,Q]);return ie.createElement(iie.Provider,{value:j},ie.createElement(qb.Provider,{value:wn},ie.createElement(bie.Provider,{value:cn},ie.createElement(hS.Provider,{value:Ot},u)),ie.createElement(iKe,{disabled:(l==null?void 0:l.restoreFocus)===!1})),ie.createElement(lHe,{...l,hiddenTextDescribedById:ue}));function Ae(){const Fe=(H==null?void 0:H.autoScrollEnabled)===!1,tt=typeof c=="object"?c.enabled===!1:c===!1,ut=E&&!Fe&&!tt;return typeof c=="object"?{...c,enabled:ut}:{enabled:ut}}}),lKe=N.createContext(null),c7="button",cKe="Draggable";function uKe(e){let{id:t,data:n,disabled:r=!1,attributes:i}=e;const a=Ub(cKe),{activators:o,activatorEvent:l,active:c,activeNodeRect:u,ariaDescribedById:f,draggableNodes:h,over:p}=N.useContext(qb),{role:m=c7,roleDescription:x="draggable",tabIndex:v=0}=i??{},y=(c==null?void 0:c.id)===t,b=N.useContext(y?hS:lKe),[w,j]=lj(),[P,A]=lj(),E=XHe(o,t),O=J1(n);Hc(()=>(h.set(t,{id:t,key:a,node:w,activatorNode:P,data:O}),()=>{const D=h.get(t);D&&D.key===a&&h.delete(t)}),[h,t]);const I=N.useMemo(()=>({role:m,tabIndex:v,"aria-disabled":r,"aria-pressed":y&&m===c7?!0:void 0,"aria-roledescription":x,"aria-describedby":f.draggable}),[r,m,v,y,x,f.draggable]);return{active:c,activatorEvent:l,activeNodeRect:u,attributes:I,isDragging:y,listeners:r?void 0:E,node:w,over:p,setNodeRef:j,setActivatorNodeRef:A,transform:b}}function _ie(){return N.useContext(bie)}const dKe="Droppable",fKe={timeout:25};function hKe(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:i}=e;const a=Ub(dKe),{active:o,dispatch:l,over:c,measureDroppableContainers:u}=N.useContext(qb),f=N.useRef({disabled:n}),h=N.useRef(!1),p=N.useRef(null),m=N.useRef(null),{disabled:x,updateMeasurementsFor:v,timeout:y}={...fKe,...i},b=J1(v??r),w=N.useCallback(()=>{if(!h.current){h.current=!0;return}m.current!=null&&clearTimeout(m.current),m.current=setTimeout(()=>{u(Array.isArray(b.current)?b.current:[b.current]),m.current=null},y)},[y]),j=fS({callback:w,disabled:x||!o}),P=N.useCallback((I,D)=>{j&&(D&&(j.unobserve(D),h.current=!1),I&&j.observe(I))},[j]),[A,E]=lj(P),O=J1(t);return N.useEffect(()=>{!j||!A.current||(j.disconnect(),h.current=!1,j.observe(A.current))},[A,j]),N.useEffect(()=>(l({type:_a.RegisterDroppable,element:{id:r,key:a,disabled:n,node:A,rect:p,data:O}}),()=>l({type:_a.UnregisterDroppable,key:a,id:r})),[r]),N.useEffect(()=>{n!==f.current.disabled&&(l({type:_a.SetDroppableDisabled,id:r,key:a,disabled:n}),f.current.disabled=n)},[r,a,n,l]),{active:o,rect:p,isOver:(c==null?void 0:c.id)===r,node:A,over:c,setNodeRef:E}}function pKe(e){let{animation:t,children:n}=e;const[r,i]=N.useState(null),[a,o]=N.useState(null),l=cj(n);return!n&&!r&&l&&i(l),Hc(()=>{if(!a)return;const c=r==null?void 0:r.key,u=r==null?void 0:r.props.id;if(c==null||u==null){i(null);return}Promise.resolve(t(u,a)).then(()=>{i(null)})},[t,r,a]),ie.createElement(ie.Fragment,null,n,r?N.cloneElement(r,{ref:o}):null)}const mKe={x:0,y:0,scaleX:1,scaleY:1};function gKe(e){let{children:t}=e;return ie.createElement(qb.Provider,{value:xie},ie.createElement(hS.Provider,{value:mKe},t))}const vKe={position:"fixed",touchAction:"none"},yKe=e=>uS(e)?"transform 250ms ease":void 0,xKe=N.forwardRef((e,t)=>{let{as:n,activatorEvent:r,adjustScale:i,children:a,className:o,rect:l,style:c,transform:u,transition:f=yKe}=e;if(!l)return null;const h=i?u:{...u,scaleX:1,scaleY:1},p={...vKe,width:l.width,height:l.height,top:l.top,left:l.left,transform:Th.Transform.toString(h),transformOrigin:i&&r?dHe(r,l):void 0,transition:typeof f=="function"?f(r):f,...c};return ie.createElement(n,{className:o,style:p,ref:t},a)}),bKe=e=>t=>{let{active:n,dragOverlay:r}=t;const i={},{styles:a,className:o}=e;if(a!=null&&a.active)for(const[l,c]of Object.entries(a.active))c!==void 0&&(i[l]=n.node.style.getPropertyValue(l),n.node.style.setProperty(l,c));if(a!=null&&a.dragOverlay)for(const[l,c]of Object.entries(a.dragOverlay))c!==void 0&&r.node.style.setProperty(l,c);return o!=null&&o.active&&n.node.classList.add(o.active),o!=null&&o.dragOverlay&&r.node.classList.add(o.dragOverlay),function(){for(const[c,u]of Object.entries(i))n.node.style.setProperty(c,u);o!=null&&o.active&&n.node.classList.remove(o.active)}},wKe=e=>{let{transform:{initial:t,final:n}}=e;return[{transform:Th.Transform.toString(t)},{transform:Th.Transform.toString(n)}]},_Ke={duration:250,easing:"ease",keyframes:wKe,sideEffects:bKe({styles:{active:{opacity:"0"}}})};function jKe(e){let{config:t,draggableNodes:n,droppableContainers:r,measuringConfiguration:i}=e;return cS((a,o)=>{if(t===null)return;const l=n.get(a);if(!l)return;const c=l.node.current;if(!c)return;const u=yie(o);if(!u)return;const{transform:f}=to(o).getComputedStyle(o),h=lie(f);if(!h)return;const p=typeof t=="function"?t:NKe(t);return mie(c,i.draggable.measure),p({active:{id:a,data:l.data,node:c,rect:i.draggable.measure(c)},draggableNodes:n,dragOverlay:{node:o,rect:i.dragOverlay.measure(u)},droppableContainers:r,measuringConfiguration:i,transform:h})})}function NKe(e){const{duration:t,easing:n,sideEffects:r,keyframes:i}={..._Ke,...e};return a=>{let{active:o,dragOverlay:l,transform:c,...u}=a;if(!t)return;const f={x:l.rect.left-o.rect.left,y:l.rect.top-o.rect.top},h={scaleX:c.scaleX!==1?o.rect.width*c.scaleX/l.rect.width:1,scaleY:c.scaleY!==1?o.rect.height*c.scaleY/l.rect.height:1},p={x:c.x-f.x,y:c.y-f.y,...h},m=i({...u,active:o,dragOverlay:l,transform:{initial:c,final:p}}),[x]=m,v=m[m.length-1];if(JSON.stringify(x)===JSON.stringify(v))return;const y=r==null?void 0:r({active:o,dragOverlay:l,...u}),b=l.node.animate(m,{duration:t,easing:n,fill:"forwards"});return new Promise(w=>{b.onfinish=()=>{y==null||y(),w()}})}}let u7=0;function SKe(e){return N.useMemo(()=>{if(e!=null)return u7++,u7},[e])}const AKe=ie.memo(e=>{let{adjustScale:t=!1,children:n,dropAnimation:r,style:i,transition:a,modifiers:o,wrapperElement:l="div",className:c,zIndex:u=999}=e;const{activatorEvent:f,active:h,activeNodeRect:p,containerNodeRect:m,draggableNodes:x,droppableContainers:v,dragOverlay:y,over:b,measuringConfiguration:w,scrollableAncestors:j,scrollableAncestorRects:P,windowRect:A}=_ie(),E=N.useContext(hS),O=SKe(h==null?void 0:h.id),I=wie(o,{activatorEvent:f,active:h,activeNodeRect:p,containerNodeRect:m,draggingNodeRect:y.rect,over:b,overlayNodeRect:y.rect,scrollableAncestors:j,scrollableAncestorRects:P,transform:E,windowRect:A}),D=pI(p),z=jKe({config:r,draggableNodes:x,droppableContainers:v,measuringConfiguration:w}),T=D?y.setRef:void 0;return ie.createElement(gKe,null,ie.createElement(pKe,{animation:z},h&&O?ie.createElement(xKe,{key:O,id:h.id,ref:T,as:l,activatorEvent:f,adjustScale:t,className:c,transition:a,rect:D,style:{zIndex:u,...i},transform:I},n):null))});function jie(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function PKe(e,t){return e.reduce((n,r,i)=>{const a=t.get(r);return a&&(n[i]=a),n},Array(e.length))}function c2(e){return e!==null&&e>=0}function CKe(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function EKe(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const Nie=e=>{let{rects:t,activeIndex:n,overIndex:r,index:i}=e;const a=jie(t,r,n),o=t[i],l=a[i];return!l||!o?null:{x:l.left-o.left,y:l.top-o.top,scaleX:l.width/o.width,scaleY:l.height/o.height}},u2={scaleX:1,scaleY:1},OKe=e=>{var t;let{activeIndex:n,activeNodeRect:r,index:i,rects:a,overIndex:o}=e;const l=(t=a[n])!=null?t:r;if(!l)return null;if(i===n){const u=a[o];return u?{x:0,y:n<o?u.top+u.height-(l.top+l.height):u.top-l.top,...u2}:null}const c=kKe(a,i,n);return i>n&&i<=o?{x:0,y:-l.height-c,...u2}:i<n&&i>=o?{x:0,y:l.height+c,...u2}:{x:0,y:0,...u2}};function kKe(e,t,n){const r=e[t],i=e[t-1],a=e[t+1];return r?n<t?i?r.top-(i.top+i.height):a?a.top-(r.top+r.height):0:a?a.top-(r.top+r.height):i?r.top-(i.top+i.height):0:0}const Sie="Sortable",Aie=ie.createContext({activeIndex:-1,containerId:Sie,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Nie,disabled:{draggable:!1,droppable:!1}});function TKe(e){let{children:t,id:n,items:r,strategy:i=Nie,disabled:a=!1}=e;const{active:o,dragOverlay:l,droppableRects:c,over:u,measureDroppableContainers:f}=_ie(),h=Ub(Sie,n),p=l.rect!==null,m=N.useMemo(()=>r.map(E=>typeof E=="object"&&"id"in E?E.id:E),[r]),x=o!=null,v=o?m.indexOf(o.id):-1,y=u?m.indexOf(u.id):-1,b=N.useRef(m),w=!CKe(m,b.current),j=y!==-1&&v===-1||w,P=EKe(a);Hc(()=>{w&&x&&f(m)},[w,m,x,f]),N.useEffect(()=>{b.current=m},[m]);const A=N.useMemo(()=>({activeIndex:v,containerId:h,disabled:P,disableTransforms:j,items:m,overIndex:y,useDragOverlay:p,sortedRects:PKe(m,c),strategy:i}),[v,h,P.draggable,P.droppable,j,m,y,c,p,i]);return ie.createElement(Aie.Provider,{value:A},t)}const IKe=e=>{let{id:t,items:n,activeIndex:r,overIndex:i}=e;return jie(n,r,i).indexOf(t)},LKe=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:i,items:a,newIndex:o,previousItems:l,previousContainerId:c,transition:u}=e;return!u||!r||l!==a&&i===o?!1:n?!0:o!==i&&t===c},MKe={duration:200,easing:"ease"},Pie="transform",DKe=Th.Transition.toString({property:Pie,duration:0,easing:"linear"}),RKe={roleDescription:"sortable"};function $Ke(e){let{disabled:t,index:n,node:r,rect:i}=e;const[a,o]=N.useState(null),l=N.useRef(n);return Hc(()=>{if(!t&&n!==l.current&&r.current){const c=i.current;if(c){const u=Wy(r.current,{ignoreTransform:!0}),f={x:c.left-u.left,y:c.top-u.top,scaleX:c.width/u.width,scaleY:c.height/u.height};(f.x||f.y)&&o(f)}}n!==l.current&&(l.current=n)},[t,n,r,i]),N.useEffect(()=>{a&&o(null)},[a]),a}function FKe(e){let{animateLayoutChanges:t=LKe,attributes:n,disabled:r,data:i,getNewIndex:a=IKe,id:o,strategy:l,resizeObserverConfig:c,transition:u=MKe}=e;const{items:f,containerId:h,activeIndex:p,disabled:m,disableTransforms:x,sortedRects:v,overIndex:y,useDragOverlay:b,strategy:w}=N.useContext(Aie),j=BKe(r,m),P=f.indexOf(o),A=N.useMemo(()=>({sortable:{containerId:h,index:P,items:f},...i}),[h,i,P,f]),E=N.useMemo(()=>f.slice(f.indexOf(o)),[f,o]),{rect:O,node:I,isOver:D,setNodeRef:z}=hKe({id:o,data:A,disabled:j.droppable,resizeObserverConfig:{updateMeasurementsFor:E,...c}}),{active:T,activatorEvent:k,activeNodeRect:F,attributes:B,setNodeRef:H,listeners:X,isDragging:ae,over:W,setActivatorNodeRef:te,transform:ue}=uKe({id:o,data:A,attributes:{...RKe,...n},disabled:j.draggable}),ye=ZWe(z,H),V=!!T,ee=V&&!x&&c2(p)&&c2(y),Q=!b&&ae,de=Q&&ee?ue:null,ve=ee?de??(l??w)({rects:v,activeNodeRect:F,activeIndex:p,overIndex:y,index:P}):null,Z=c2(p)&&c2(y)?a({id:o,items:f,activeIndex:p,overIndex:y}):P,ne=T==null?void 0:T.id,ge=N.useRef({activeId:ne,items:f,newIndex:Z,containerId:h}),Ee=f!==ge.current.items,be=t({active:T,containerId:h,isDragging:ae,isSorting:V,id:o,index:P,items:f,newIndex:ge.current.newIndex,previousItems:ge.current.items,previousContainerId:ge.current.containerId,transition:u,wasDragging:ge.current.activeId!=null}),Ue=$Ke({disabled:!be,index:P,node:I,rect:O});return N.useEffect(()=>{V&&ge.current.newIndex!==Z&&(ge.current.newIndex=Z),h!==ge.current.containerId&&(ge.current.containerId=h),f!==ge.current.items&&(ge.current.items=f)},[V,Z,h,f]),N.useEffect(()=>{if(ne===ge.current.activeId)return;if(ne!=null&&ge.current.activeId==null){ge.current.activeId=ne;return}const ce=setTimeout(()=>{ge.current.activeId=ne},50);return()=>clearTimeout(ce)},[ne]),{active:T,activeIndex:p,attributes:B,data:A,rect:O,index:P,newIndex:Z,items:f,isOver:D,isSorting:V,isDragging:ae,listeners:X,node:I,overIndex:y,over:W,setNodeRef:ye,setActivatorNodeRef:te,setDroppableNodeRef:z,setDraggableNodeRef:H,transform:Ue??ve,transition:Pe()};function Pe(){if(Ue||Ee&&ge.current.newIndex===P)return DKe;if(!(Q&&!uS(k)||!u)&&(V||be))return Th.Transition.toString({...u,property:Pie})}}function BKe(e,t){var n,r;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e==null?void 0:e.draggable)!=null?n:t.draggable,droppable:(r=e==null?void 0:e.droppable)!=null?r:t.droppable}}function hj(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&typeof t.sortable=="object"&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const zKe=[Jn.Down,Jn.Right,Jn.Up,Jn.Left],UKe=(e,t)=>{let{context:{active:n,collisionRect:r,droppableRects:i,droppableContainers:a,over:o,scrollableAncestors:l}}=t;if(zKe.includes(e.code)){if(e.preventDefault(),!n||!r)return;const c=[];a.getEnabled().forEach(h=>{if(!h||h!=null&&h.disabled)return;const p=i.get(h.id);if(p)switch(e.code){case Jn.Down:r.top<p.top&&c.push(h);break;case Jn.Up:r.top>p.top&&c.push(h);break;case Jn.Left:r.left>p.left&&c.push(h);break;case Jn.Right:r.left<p.left&&c.push(h);break}});const u=sie({active:n,collisionRect:r,droppableRects:i,droppableContainers:c,pointerCoordinates:null});let f=aie(u,"id");if(f===(o==null?void 0:o.id)&&u.length>1&&(f=u[1].id),f!=null){const h=a.get(n.id),p=a.get(f),m=p?i.get(p.id):null,x=p==null?void 0:p.node.current;if(x&&m&&h&&p){const y=dS(x).some((E,O)=>l[O]!==E),b=Cie(h,p),w=qKe(h,p),j=y||!b?{x:0,y:0}:{x:w?r.width-m.width:0,y:w?r.height-m.height:0},P={x:m.left,y:m.top};return j.x&&j.y?P:eb(P,j)}}}};function Cie(e,t){return!hj(e)||!hj(t)?!1:e.data.current.sortable.containerId===t.data.current.sortable.containerId}function qKe(e,t){return!hj(e)||!hj(t)||!Cie(e,t)?!1:e.data.current.sortable.index<t.data.current.sortable.index}const K2={factura_pagada:{label:"Factura Pagada",icon:Zce,color:"bg-blue-100 dark:bg-blue-900/30 border-blue-300 dark:border-blue-700",badgeVariant:"default"},pendiente_complemento:{label:"Pendiente Complemento",icon:Dh,color:"bg-yellow-100 dark:bg-yellow-900/30 border-yellow-300 dark:border-yellow-700",badgeVariant:"secondary"},complemento_recibido:{label:"Complemento Recibido",icon:$ce,color:"bg-purple-100 dark:bg-purple-900/30 border-purple-300 dark:border-purple-700",badgeVariant:"outline"},cierre_contable:{label:"Cierre Contable",icon:Vu,color:"bg-green-100 dark:bg-green-900/30 border-green-300 dark:border-green-700",badgeVariant:"default"}};function VKe({voucher:e,onClick:t}){const{attributes:n,listeners:r,setNodeRef:i,transform:a,transition:o,isDragging:l}=FKe({id:e.id}),c={transform:Th.Transform.toString(a),transition:o,opacity:l?.5:1};return s.jsx("div",{ref:i,style:c,...n,...r,"data-testid":`voucher-card-${e.id}`,children:s.jsx(ot,{className:"cursor-grab active:cursor-grabbing hover:shadow-md transition-shadow",onClick:t,children:s.jsxs(lt,{className:"p-4 space-y-2",children:[s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-semibold text-slate-800 dark:text-slate-200",children:e.clientName}),s.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:e.voucherFileName})]}),e.extractedCurrency&&e.extractedAmount&&s.jsxs(Wn,{variant:"outline",className:"ml-2",children:[e.extractedCurrency," $",e.extractedAmount.toLocaleString()]})]}),e.extractedBank&&s.jsxs("div",{className:"flex items-center gap-1 text-xs text-slate-600 dark:text-slate-400",children:[s.jsx(SW,{className:"h-3 w-3"}),e.extractedBank]}),e.extractedReference&&s.jsxs("div",{className:"flex items-center gap-1 text-xs text-slate-600 dark:text-slate-400",children:[s.jsx(Ok,{className:"h-3 w-3"}),"Ref: ",e.extractedReference]}),s.jsxs("div",{className:"flex items-center gap-1 text-xs text-slate-500 dark:text-slate-400",children:[s.jsx(Ru,{className:"h-3 w-3"}),Vs(new Date(e.createdAt),"dd MMM yyyy",{locale:Md})]}),e.ocrConfidence!==null&&s.jsx("div",{className:"pt-2 border-t",children:s.jsxs("div",{className:"flex items-center justify-between text-xs",children:[s.jsx("span",{className:"text-slate-500",children:"Confianza OCR"}),s.jsxs(Wn,{variant:e.ocrConfidence>.7?"default":"secondary",className:"text-xs",children:[(e.ocrConfidence*100).toFixed(0),"%"]})]})})]})})})}function WKe({status:e,vouchers:t,onVoucherClick:n}){const r=K2[e],i=r.icon;return s.jsx("div",{className:"flex-1 min-w-[280px]",children:s.jsxs("div",{className:`rounded-lg border-2 ${r.color} p-4 h-full min-h-[500px] flex flex-col`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(i,{className:"h-5 w-5"}),s.jsx("h3",{className:"font-semibold",children:r.label})]}),s.jsx(Wn,{variant:r.badgeVariant,children:t.length})]}),s.jsx(TKe,{items:t.map(a=>a.id),strategy:OKe,children:s.jsx("div",{className:"space-y-3 flex-1 min-h-[400px]",children:t.length===0?s.jsx("p",{className:"text-sm text-slate-500 text-center py-8",children:"No hay comprobantes"}):t.map(a=>s.jsx(VKe,{voucher:a,onClick:()=>n(a)},a.id))})})]})})}function HKe({vouchers:e}){var v;const{toast:t}=ss(),[n,r]=N.useState(null),[i,a]=N.useState(null),o=cHe(QF(hI),QF(dI,{coordinateGetter:UKe})),l=cr({mutationFn:async({id:y,status:b})=>await Cr(`/api/payment-vouchers/${y}/status`,{method:"PUT",body:JSON.stringify({status:b})}),onSuccess:()=>{Ni.invalidateQueries({queryKey:["/api/payment-vouchers"]}),t({title:"Estado actualizado correctamente"})},onError:()=>{t({title:"Error al actualizar",description:"No se pudo cambiar el estado del comprobante",variant:"destructive"})}}),c=cr({mutationFn:async y=>await Cr("/api/treasury/resend-receipt",{method:"POST",body:JSON.stringify({voucherId:y.id,clientId:y.clientId,companyId:y.companyId})}),onSuccess:y=>{Ni.invalidateQueries({queryKey:["/api/payment-vouchers"]}),t({title:"✅ Comprobante reenviado",description:y.message||"El comprobante ha sido enviado nuevamente al proveedor"})},onError:y=>{t({title:"Error al reenviar",description:y.message||"No se pudo reenviar el comprobante",variant:"destructive"})}}),u=cr({mutationFn:async y=>await Cr("/api/treasury/send-reminder",{method:"POST",body:JSON.stringify({voucherId:y.id,clientId:y.clientId})}),onSuccess:y=>{Ni.invalidateQueries({queryKey:["/api/payment-vouchers"]}),t({title:"📧 Recordatorio enviado",description:y.message||"Se ha enviado un recordatorio al proveedor"})},onError:y=>{t({title:"Error al enviar recordatorio",description:y.message||"No se pudo enviar el recordatorio",variant:"destructive"})}}),f=y=>{c.mutate(y)},h=y=>{u.mutate(y)},p=y=>{const b=e.find(w=>w.id===y.active.id);r(b||null)},m=y=>{const{active:b,over:w}=y;if(r(null),!w)return;const j=e.find(A=>A.id===b.id);if(!j)return;const P=w.id;j.status!==P&&l.mutate({id:j.id,status:P})},x={factura_pagada:e.filter(y=>y.status==="factura_pagada"),pendiente_complemento:e.filter(y=>y.status==="pendiente_complemento"),complemento_recibido:e.filter(y=>y.status==="complemento_recibido"),cierre_contable:e.filter(y=>y.status==="cierre_contable")};return s.jsxs(s.Fragment,{children:[s.jsxs(oKe,{sensors:o,collisionDetection:sie,onDragStart:p,onDragEnd:m,children:[s.jsx("div",{className:"flex gap-4 overflow-x-auto pb-4 min-h-[600px]",children:Object.keys(K2).map(y=>s.jsx("div",{id:y,className:"flex-1 min-w-[280px]",children:s.jsx(WKe,{status:y,vouchers:x[y],onVoucherClick:a})},y))}),s.jsx(AKe,{children:n?s.jsx(ot,{className:"cursor-grabbing shadow-xl rotate-3",children:s.jsxs(lt,{className:"p-4",children:[s.jsx("p",{className:"font-semibold",children:n.clientName}),s.jsx("p",{className:"text-sm text-slate-500",children:n.voucherFileName})]})}):null})]}),s.jsx(vi,{open:!!i,onOpenChange:()=>a(null),children:s.jsxs(ui,{className:"max-w-2xl",children:[s.jsx(di,{children:s.jsx(fi,{children:"Detalles del Comprobante"})}),i&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Cliente"}),s.jsx("p",{className:"font-semibold",children:i.clientName})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Estado"}),s.jsx(Wn,{variant:K2[i.status].badgeVariant,children:K2[i.status].label})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Monto"}),s.jsxs("p",{className:"font-semibold",children:[i.extractedCurrency," $",((v=i.extractedAmount)==null?void 0:v.toLocaleString())||"N/A"]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Banco"}),s.jsx("p",{className:"font-semibold",children:i.extractedBank||"N/A"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Referencia"}),s.jsx("p",{className:"font-semibold",children:i.extractedReference||"N/A"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-slate-500",children:"Fecha"}),s.jsx("p",{className:"font-semibold",children:i.extractedDate?Vs(new Date(i.extractedDate),"dd/MM/yyyy",{locale:Md}):"N/A"})]})]}),i.notes&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-slate-500 mb-1",children:"Notas"}),s.jsx("p",{className:"text-sm bg-slate-50 dark:bg-slate-900 p-3 rounded",children:i.notes})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-slate-500 mb-1",children:"Archivo"}),s.jsx("p",{className:"text-sm",children:i.voucherFileName})]}),s.jsxs("div",{className:"pt-4 border-t",children:[s.jsx("h4",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 mb-3",children:"🤖 Acciones Automatizadas"}),s.jsxs("div",{className:"flex gap-2 flex-wrap",children:[s.jsxs(Je,{size:"sm",variant:"outline",onClick:()=>f(i),disabled:c.isPending,className:"text-blue-600 hover:text-blue-700",children:[s.jsx(CW,{className:"h-4 w-4 mr-1"}),c.isPending?"Enviando...":"Reenviar Comprobante"]}),i.status==="pendiente_complemento"&&s.jsxs(Je,{size:"sm",variant:"outline",onClick:()=>h(i),disabled:u.isPending,className:"text-orange-600 hover:text-orange-700",children:[s.jsx(Bc,{className:"h-4 w-4 mr-1"}),u.isPending?"Enviando...":"Recordatorio"]})]})]})]})]})})]})}function KKe(){var Va,Wa,qi,Pa,fl,As;Qu();const{toast:e}=ss(),[t,n]=N.useState("receipts"),[r,i]=N.useState(null),[a,o]=N.useState([]),[l,c]=N.useState(""),[u,f]=N.useState({companyId:"",supplierName:"",amount:"",currency:"MXN",dueDate:"",reference:"",notes:""}),[h,p]=N.useState({buyRate:"",sellRate:"",source:"",notes:""}),[m,x]=N.useState({companyId:"",clientName:"",invoiceReference:"",amount:"",currency:"MXN"}),[v,y]=N.useState(""),[b,w]=N.useState(""),[j,P]=N.useState("today"),[A,E]=N.useState(!1),O=new Date,[I,D]=N.useState((O.getMonth()+1).toString()),[z,T]=N.useState(O.getFullYear().toString()),[k,F]=N.useState(!1),[B,H]=N.useState(!1),[X,ae]=N.useState(null),[W,te]=N.useState(null),[ue,ye]=N.useState(null),[V,ee]=N.useState(""),[Q,de]=N.useState(null),[le,ve]=N.useState(null),[Z,ne]=N.useState(null),[ge,Ee]=N.useState(!0),[be,Ue]=N.useState(null),[Pe,ce]=N.useState(90),[it,_t]=N.useState(25e3),[gt,Ye]=N.useState("DOF"),[mt,ct]=N.useState(!0),[fe,Ne]=N.useState(!0),[Ie,He]=N.useState(!0),{data:Be=[],isLoading:ze}=Zt({queryKey:["/api/treasury/payments"],enabled:t==="payments"}),{data:Ge=[],isLoading:st}=Zt({queryKey:["/api/treasury/exchange-rates"],enabled:t==="exchange-rates"});Zt({queryKey:["/api/treasury/payments",r,"receipts"],enabled:!!r&&t==="receipts"});const{data:St=[],isLoading:vt}=Zt({queryKey:["/api/treasury/complements"],enabled:t==="complements"}),{data:Gn=[],isLoading:Cn}=Zt({queryKey:["/api/payment-vouchers"],enabled:t==="receipts"}),{data:Ot=[]}=Zt({queryKey:["/api/clients-db"],enabled:B&&!!X}),en=X?Ot.filter(Re=>Re.companyId===X):[],{data:Tn,isLoading:Ut}=Zt({queryKey:[`/api/fx/compare?days=${Pe}&usd_monthly=${it}`],enabled:t==="exchange-rates"}),{data:$t,isLoading:cn}=Zt({queryKey:[`/api/fx/source-series?source=MONEX&days=${Pe}`],enabled:t==="exchange-rates"}),{data:wn,isLoading:Ae}=Zt({queryKey:[`/api/fx/source-series?source=Santander&days=${Pe}`],enabled:t==="exchange-rates"}),{data:Fe,isLoading:tt}=Zt({queryKey:[`/api/fx/source-series?source=DOF&days=${Pe}`],enabled:t==="exchange-rates"});cr({mutationFn:async Re=>{const at=await fetch("/api/treasury/payments",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Re),credentials:"include"});if(!at.ok)throw new Error("Failed to create payment");return at.json()},onSuccess:()=>{Ni.invalidateQueries({queryKey:["/api/treasury/payments"]}),e({title:"Pago programado creado"}),f({companyId:"",supplierName:"",amount:"",currency:"MXN",dueDate:"",reference:"",notes:""})}}),cr({mutationFn:async Re=>{const at=await fetch(`/api/treasury/payments/${Re}/pay`,{method:"PUT",credentials:"include"});if(!at.ok)throw new Error("Failed to mark as paid");return at.json()},onSuccess:()=>{Ni.invalidateQueries({queryKey:["/api/treasury/payments"]}),e({title:"Pago marcado como pagado"})}});const ut=cr({mutationFn:async Re=>{const at=await fetch("/api/treasury/exchange-rates",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Re),credentials:"include"});if(!at.ok)throw new Error("Failed to create exchange rate");return at.json()},onSuccess:()=>{Ni.invalidateQueries({queryKey:["/api/treasury/exchange-rates"]}),e({title:"Tipo de cambio registrado"}),p({buyRate:"",sellRate:"",source:"",notes:""}),E(!1)}}),Nn=()=>{ut.mutate({buyRate:parseFloat(h.buyRate),sellRate:parseFloat(h.sellRate),source:h.source,notes:h.notes})};cr({mutationFn:async({paymentId:Re,file:at})=>{const qt=new FormData;qt.append("file",at);const mn=await fetch(`/api/treasury/payments/${Re}/receipts`,{method:"POST",body:qt,credentials:"include"});if(!mn.ok)throw new Error("Failed to upload receipt");return mn.json()},onSuccess:()=>{Ni.invalidateQueries({queryKey:["/api/treasury/payments"]}),e({title:"Comprobante subido exitosamente"})}}),cr({mutationFn:async({receiptIds:Re,emails:at})=>{const qt=await fetch("/api/treasury/receipts/send",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({receiptIds:Re,emails:at}),credentials:"include"});if(!qt.ok)throw new Error("Failed to send receipts");return qt.json()},onSuccess:()=>{e({title:"Comprobantes enviados por email"}),o([]),c("")}}),cr({mutationFn:async Re=>{const at=await fetch("/api/treasury/complements",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Re),credentials:"include"});if(!at.ok)throw new Error("Failed to create complement");return at.json()},onSuccess:()=>{Ni.invalidateQueries({queryKey:["/api/treasury/complements"]}),e({title:"Complemento creado"}),x({companyId:"",clientName:"",invoiceReference:"",amount:"",currency:"MXN"})}});const dn=cr({mutationFn:async({file:Re,companyId:at,createAsPending:qt})=>{const mn=new FormData;mn.append("excel",Re),mn.append("companyId",at.toString()),mn.append("createAsPending",qt.toString());const un=await fetch("/api/idrall/upload",{method:"POST",body:mn,credentials:"include"});if(!un.ok){const kt=await un.json();throw new Error(kt.error||"Failed to process Excel")}return un.json()},onSuccess:Re=>{Ue(Re),Ni.invalidateQueries({queryKey:["/api/treasury/payments"]}),e({title:"Excel procesado exitosamente",description:`${Re.summary.createdPayments} pagos creados`}),ne(null),ve(null)},onError:Re=>{e({title:"Error procesando Excel",description:Re.message,variant:"destructive"})}}),Rn=()=>{if(!Z||!le){e({title:"Error",description:"Selecciona empresa y archivo Excel",variant:"destructive"});return}dn.mutate({file:Z,companyId:le,createAsPending:ge})},Xn=cr({mutationFn:async({file:Re,clientId:at,companyId:qt,notes:mn})=>{const un=new FormData;un.append("voucher",Re),un.append("companyId",qt.toString()),un.append("clientId",at.toString()),mn&&un.append("notes",mn);const kt=await fetch("/api/payment-vouchers/upload",{method:"POST",body:un,credentials:"include"});if(!kt.ok){const Ao=await kt.json();throw new Error(Ao.error||"Failed to upload voucher")}return kt.json()},onSuccess:Re=>{Ni.invalidateQueries({queryKey:["/api/payment-vouchers"]}),de(Re),e({title:"Comprobante analizado",description:`Estado inicial: ${Re.autoStatus==="factura_pagada"?"Factura Pagada":"Pendiente Complemento"}`}),ae(null),te(null),ye(null),ee("")},onError:Re=>{e({title:"Error al subir comprobante",description:Re.message,variant:"destructive"})}}),Et=()=>{if(!ue||!W||!X){e({title:"Error",description:"Selecciona empresa, cliente y archivo",variant:"destructive"});return}Xn.mutate({file:ue,clientId:W,companyId:X,notes:V})},pr=Re=>{var qt;const at=(qt=Re.target.files)==null?void 0:qt[0];if(at){if(!["application/pdf","image/png","image/jpeg","image/jpg"].includes(at.type)){e({title:"Tipo de archivo no válido",description:"Solo se permiten archivos PDF, PNG, JPG, JPEG",variant:"destructive"});return}if(at.size>10*1024*1024){e({title:"Archivo muy grande",description:"El tamaño máximo es 10MB",variant:"destructive"});return}ye(at)}},xi=Be.filter(Re=>{var qt,mn,un;if(!v)return!0;const at=v.toLowerCase();return((qt=Re.supplier_name)==null?void 0:qt.toLowerCase().includes(at))||((mn=Re.reference)==null?void 0:mn.toLowerCase().includes(at))||((un=Re.amount)==null?void 0:un.toString().includes(at))}),$r=xi.filter(Re=>Re.status==="pending"),Vr=xi.filter(Re=>Re.status==="paid"),$n=St.filter(Re=>{var qt,mn;if(!b)return!0;const at=b.toLowerCase();return((qt=Re.client_name)==null?void 0:qt.toLowerCase().includes(at))||((mn=Re.invoice_reference)==null?void 0:mn.toLowerCase().includes(at))}),bt=Ge.filter(Re=>{const at=new Date(Re.date),qt=new Date;switch(j){case"today":return at.getDate()===qt.getDate()&&at.getMonth()===qt.getMonth()&&at.getFullYear()===qt.getFullYear();case"week":const mn=new Date(qt.getTime()-7*24*60*60*1e3);return at>=mn;case"month":return at.getMonth()===qt.getMonth()&&at.getFullYear()===qt.getFullYear();case"all":default:return!0}});$r.reduce((Re,at)=>Re+parseFloat(at.amount),0),Vr.filter(Re=>{const at=new Date(Re.paid_at||Re.created_at),qt=new Date;return at.getMonth()===qt.getMonth()&&at.getFullYear()===qt.getFullYear()}).reduce((Re,at)=>Re+parseFloat(at.amount),0),$n.filter(Re=>Re.status==="pending").length;const ar=Ge[0],ra=Ge[1],Ci=k?Gn:Gn.filter(Re=>{if(!Re.createdAt)return!1;const at=new Date(Re.createdAt);return at.getMonth()+1===parseInt(I)&&at.getFullYear()===parseInt(z)}),qa={total:Ci.length,facturaPagada:Ci.filter(Re=>Re.status==="factura_pagada").length,pendienteComplemento:Ci.filter(Re=>Re.status==="pendiente_complemento").length,complementoRecibido:Ci.filter(Re=>Re.status==="complemento_recibido").length,cierreContable:Ci.filter(Re=>Re.status==="cierre_contable").length};return bt.slice(0,20).reverse().map(Re=>({date:Vs(new Date(Re.date),"dd/MM HH:mm",{locale:Md}),compra:Re.buy_rate,venta:Re.sell_rate})),ar&&ra&&(ar.buy_rate>ra.buy_rate||ar.buy_rate<ra.buy_rate),s.jsx(qc,{title:"Tesorería",children:s.jsxs("div",{className:"p-6 max-w-7xl mx-auto space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-slate-200",children:"¡Hola Lolita! ¿Con que pagos te ayudamos hoy?"}),s.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-1"})]}),s.jsxs(Nm,{value:t,onValueChange:n,className:"w-full",children:[s.jsxs(Rh,{className:"grid w-full grid-cols-3",children:[s.jsxs(si,{value:"payments","data-testid":"tab-payments",children:[s.jsx(Ru,{className:"h-4 w-4 mr-2"}),"Pagos"]}),s.jsxs(si,{value:"receipts","data-testid":"tab-receipts",children:[s.jsx(sA,{className:"h-4 w-4 mr-2"}),"Comprobantes"]}),s.jsxs(si,{value:"exchange-rates","data-testid":"tab-exchange-rates",children:[s.jsx(Ma,{className:"h-4 w-4 mr-2"}),"Tipo de Cambio"]})]}),s.jsxs(ua,{value:"payments",className:"space-y-6",children:[s.jsxs("div",{className:"text-center space-y-2",children:[s.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200",children:"Integración con IDRALL"}),s.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Descarga y sube tu archivo Excel de IDRALL para crear pagos automáticamente"})]}),s.jsxs(ot,{className:"max-w-2xl mx-auto",children:[s.jsxs(Ht,{children:[s.jsxs(Qt,{className:"flex items-center gap-2",children:[s.jsx(u6,{className:"h-5 w-5"}),"Subir Excel de IDRALL"]}),s.jsx(fr,{children:'El sistema procesará automáticamente los pagos y los creará en estado "Pendiente"'})]}),s.jsxs(lt,{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(xt,{htmlFor:"idrall-company",children:"Empresa *"}),s.jsxs(on,{value:(le==null?void 0:le.toString())||"",onValueChange:Re=>ve(parseInt(Re)),children:[s.jsx(an,{id:"idrall-company",children:s.jsx(ln,{placeholder:"Selecciona la empresa"})}),s.jsxs(sn,{children:[s.jsx(xe,{value:"1",children:"Dura International"}),s.jsx(xe,{value:"2",children:"Grupo Orsega"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(xt,{htmlFor:"idrall-file",children:"Archivo Excel (.xlsx, .xls) *"}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Mt,{id:"idrall-file",type:"file",accept:".xlsx,.xls,.csv",onChange:Re=>{var qt;const at=(qt=Re.target.files)==null?void 0:qt[0];at&&ne(at)},className:"flex-1"}),Z&&s.jsxs(Wn,{variant:"outline",className:"flex items-center gap-1",children:[s.jsx(u6,{className:"h-3 w-3"}),Z.name]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(tie,{id:"create-as-pending",checked:ge,onCheckedChange:Re=>Ee(Re)}),s.jsx(xt,{htmlFor:"create-as-pending",className:"text-sm",children:'Crear pagos en estado "Pendiente" (recomendado)'})]}),s.jsx(Je,{onClick:Rn,disabled:!Z||!le||dn.isPending,className:"w-full",size:"lg",children:dn.isPending?s.jsxs(s.Fragment,{children:[s.jsx(P2,{className:"h-4 w-4 mr-2 animate-spin"}),"Procesando Excel..."]}):s.jsxs(s.Fragment,{children:[s.jsx(sA,{className:"h-4 w-4 mr-2"}),"Procesar Excel de IDRALL"]})}),be&&s.jsxs("div",{className:"mt-4 p-4 bg-slate-50 dark:bg-slate-800 rounded-lg",children:[s.jsx("h4",{className:"font-medium text-green-600 dark:text-green-400 mb-2",children:"✅ Procesamiento completado"}),s.jsxs("div",{className:"text-sm space-y-1",children:[s.jsxs("p",{children:["📊 Filas procesadas: ",be.summary.totalRows]}),s.jsxs("p",{children:["✅ Pagos válidos: ",be.summary.validPayments]}),s.jsxs("p",{children:["🎯 Pagos creados: ",be.summary.createdPayments]}),be.summary.errors>0&&s.jsxs("p",{className:"text-orange-600",children:["⚠️ Errores: ",be.summary.errors]})]})]})]})]}),s.jsxs(ot,{className:"max-w-2xl mx-auto",children:[s.jsx(Ht,{children:s.jsx(Qt,{className:"text-lg",children:"📋 Instrucciones"})}),s.jsxs(lt,{className:"space-y-3 text-sm",children:[s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"font-medium text-blue-600",children:"1."}),s.jsx("span",{children:"Descarga tu archivo Excel desde IDRALL con los pagos programados"})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"font-medium text-blue-600",children:"2."}),s.jsx("span",{children:"Selecciona la empresa correspondiente"})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"font-medium text-blue-600",children:"3."}),s.jsx("span",{children:"Sube el archivo Excel (.xlsx, .xls o .csv)"})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"font-medium text-blue-600",children:"4."}),s.jsx("span",{children:'El sistema creará automáticamente las tarjetas de pago en estado "Pendiente"'})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("span",{className:"font-medium text-blue-600",children:"5."}),s.jsx("span",{children:"Los pagos aparecerán en el tablero Kanban para seguimiento"})]})]})]})]}),s.jsxs(ua,{value:"exchange-rates",className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-slate-200",children:"¡Hola Emilio! Así amaneció el tipo de cambio hoy"}),s.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Análisis completo del mercado cambiario"})]}),s.jsxs(vi,{open:A,onOpenChange:E,children:[s.jsx(aE,{asChild:!0,children:s.jsxs(Je,{className:"bg-blue-600 hover:bg-blue-700 text-white","data-testid":"button-open-rate-modal",children:[s.jsx(AW,{className:"h-4 w-4 mr-2"}),"Registrar Tipo de Cambio"]})}),s.jsxs(ui,{className:"sm:max-w-md",children:[s.jsxs(di,{children:[s.jsx(fi,{children:"Registrar Tipo de Cambio"}),s.jsx(jo,{children:"Captura diaria USD/MXN desde diferentes fuentes"})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(xt,{children:"Compra"}),s.jsx(Mt,{type:"number",step:"0.0001",value:h.buyRate,onChange:Re=>p({...h,buyRate:Re.target.value}),placeholder:"17.2500","data-testid":"input-buy-rate"})]}),s.jsxs("div",{children:[s.jsx(xt,{children:"Venta"}),s.jsx(Mt,{type:"number",step:"0.0001",value:h.sellRate,onChange:Re=>p({...h,sellRate:Re.target.value}),placeholder:"17.4500","data-testid":"input-sell-rate"})]})]}),s.jsxs("div",{children:[s.jsx(xt,{children:"Fuente"}),s.jsxs(on,{value:h.source,onValueChange:Re=>p({...h,source:Re}),children:[s.jsx(an,{"data-testid":"select-source",children:s.jsx(ln,{placeholder:"Selecciona fuente"})}),s.jsxs(sn,{children:[s.jsx(xe,{value:"MONEX",children:"MONEX"}),s.jsx(xe,{value:"Santander",children:"Santander"}),s.jsx(xe,{value:"DOF",children:"DOF"}),s.jsx(xe,{value:"Otro",children:"Otro"})]})]})]}),s.jsxs("div",{children:[s.jsx(xt,{children:"Notas (opcional)"}),s.jsx(Mt,{value:h.notes,onChange:Re=>p({...h,notes:Re.target.value}),placeholder:"Notas adicionales","data-testid":"input-notes"})]}),s.jsx(Je,{onClick:Nn,disabled:ut.isPending,className:"w-full bg-blue-600 hover:bg-blue-700","data-testid":"button-create-rate",children:ut.isPending?"Guardando...":"Registrar"})]})]})]})]}),s.jsxs(ot,{children:[s.jsx(Ht,{children:s.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-3",children:[s.jsxs("div",{children:[s.jsx(Qt,{className:"text-lg",children:"Historial de Tipo de Cambio"}),s.jsx(fr,{children:Pe===90?"Últimos 3 meses":Pe===60?"Últimos 2 meses":Pe===30?"Último mes":"Última semana"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(on,{value:Pe.toString(),onValueChange:Re=>ce(parseInt(Re)),children:[s.jsx(an,{className:"w-[140px]","data-testid":"select-fx-period",children:s.jsx(ln,{})}),s.jsxs(sn,{children:[s.jsx(xe,{value:"7",children:"1 Semana"}),s.jsx(xe,{value:"30",children:"1 Mes"}),s.jsx(xe,{value:"60",children:"2 Meses"}),s.jsx(xe,{value:"90",children:"3 Meses"})]})]}),s.jsxs(on,{value:gt,onValueChange:Re=>Ye(Re),children:[s.jsx(an,{className:"w-[180px]","data-testid":"select-fx-source",children:s.jsx(ln,{})}),s.jsxs(sn,{children:[s.jsx(xe,{value:"MONEX",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"h-3 w-3 rounded-full bg-[#2563eb]"}),"MONEX"]})}),s.jsx(xe,{value:"Santander",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"h-3 w-3 rounded-full bg-[#16a34a]"}),"Santander"]})}),s.jsx(xe,{value:"DOF",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"h-3 w-3 rounded-full bg-[#ea580c]"}),"DOF"]})})]})]})]})]})}),s.jsxs(lt,{children:[gt==="MONEX"&&s.jsxs(s.Fragment,{children:[($t==null?void 0:$t.spreads_analysis)&&s.jsxs("div",{className:"mb-4 flex gap-4 text-sm text-slate-600 dark:text-slate-400",children:[s.jsxs("span",{children:["Tendencia 7d: ",s.jsx("strong",{children:$t.spreads_analysis.trend_7d||"N/A"})]}),s.jsxs("span",{children:["Volatilidad 5d: ",s.jsx("strong",{children:$t.spreads_analysis.volatility_5d||"N/A"})]})]}),cn?s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-slate-500",children:"Cargando datos de MONEX..."})}):$t!=null&&$t.series&&$t.series.length>0?(()=>{const Re=$t.series.filter(un=>new Date(un.date).getHours()===9),at=$t.series.filter(un=>{const kt=new Date(un.date).getHours();return kt===12||kt===17}),qt=Re.length>0?Re.reduce((un,kt)=>un+(kt.buy+kt.sell)/2,0)/Re.length:null,mn=at.length>0?at.reduce((un,kt)=>un+(kt.buy+kt.sell)/2,0)/at.length:null;return s.jsx(el,{width:"100%",height:350,children:s.jsxs(Qf,{data:$t.series,children:[s.jsx(tl,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),s.jsx(Ra,{dataKey:"date",fontSize:11,angle:-45,textAnchor:"end",height:60}),s.jsx($a,{fontSize:11,domain:["dataMin - 0.05","dataMax + 0.05"]}),s.jsx($i,{}),s.jsx(Da,{}),qt&&s.jsx(Dl,{y:qt,stroke:"#f59e0b",strokeDasharray:"5 5",strokeWidth:2,label:{value:`Apertura: $${qt.toFixed(4)}`,position:"left",fill:"#f59e0b",fontSize:11}}),mn&&s.jsx(Dl,{y:mn,stroke:"#8b5cf6",strokeDasharray:"5 5",strokeWidth:2,label:{value:`Cierre: $${mn.toFixed(4)}`,position:"right",fill:"#8b5cf6",fontSize:11}}),s.jsx(ii,{type:"monotone",dataKey:"buy",stroke:"#2563eb",strokeWidth:3,name:"Compra"}),s.jsx(ii,{type:"monotone",dataKey:"sell",stroke:"#60a5fa",strokeWidth:3,name:"Venta"})]})})})():s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-slate-500",children:"Sin datos disponibles para MONEX"})})]}),gt==="Santander"&&s.jsxs(s.Fragment,{children:[(wn==null?void 0:wn.spreads_analysis)&&s.jsxs("div",{className:"mb-4 flex gap-4 text-sm text-slate-600 dark:text-slate-400",children:[s.jsxs("span",{children:["Tendencia 7d: ",s.jsx("strong",{children:wn.spreads_analysis.trend_7d||"N/A"})]}),s.jsxs("span",{children:["Volatilidad 5d: ",s.jsx("strong",{children:wn.spreads_analysis.volatility_5d||"N/A"})]})]}),Ae?s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-slate-500",children:"Cargando datos de Santander..."})}):wn!=null&&wn.series&&wn.series.length>0?(()=>{const Re=wn.series.filter(un=>new Date(un.date).getHours()===9),at=wn.series.filter(un=>{const kt=new Date(un.date).getHours();return kt===12||kt===17}),qt=Re.length>0?Re.reduce((un,kt)=>un+(kt.buy+kt.sell)/2,0)/Re.length:null,mn=at.length>0?at.reduce((un,kt)=>un+(kt.buy+kt.sell)/2,0)/at.length:null;return s.jsx(el,{width:"100%",height:350,children:s.jsxs(Qf,{data:wn.series,children:[s.jsx(tl,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),s.jsx(Ra,{dataKey:"date",fontSize:11,angle:-45,textAnchor:"end",height:60}),s.jsx($a,{fontSize:11,domain:["dataMin - 0.05","dataMax + 0.05"]}),s.jsx($i,{}),s.jsx(Da,{}),qt&&s.jsx(Dl,{y:qt,stroke:"#f59e0b",strokeDasharray:"5 5",strokeWidth:2,label:{value:`Apertura: $${qt.toFixed(4)}`,position:"left",fill:"#f59e0b",fontSize:11}}),mn&&s.jsx(Dl,{y:mn,stroke:"#8b5cf6",strokeDasharray:"5 5",strokeWidth:2,label:{value:`Cierre: $${mn.toFixed(4)}`,position:"right",fill:"#8b5cf6",fontSize:11}}),s.jsx(ii,{type:"monotone",dataKey:"buy",stroke:"#16a34a",strokeWidth:3,name:"Compra"}),s.jsx(ii,{type:"monotone",dataKey:"sell",stroke:"#4ade80",strokeWidth:3,name:"Venta"})]})})})():s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-slate-500",children:"Sin datos disponibles para Santander"})})]}),gt==="DOF"&&s.jsxs(s.Fragment,{children:[(Fe==null?void 0:Fe.spreads_analysis)&&s.jsxs("div",{className:"mb-4 flex gap-4 text-sm text-slate-600 dark:text-slate-400",children:[s.jsxs("span",{children:["Tendencia 7d: ",s.jsx("strong",{children:Fe.spreads_analysis.trend_7d||"N/A"})]}),s.jsxs("span",{children:["Volatilidad 5d: ",s.jsx("strong",{children:Fe.spreads_analysis.volatility_5d||"N/A"})]})]}),tt?s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-slate-500",children:"Cargando datos de DOF..."})}):Fe!=null&&Fe.series&&Fe.series.length>0?(()=>{const Re=Fe.series.filter(un=>new Date(un.date).getHours()===9),at=Fe.series.filter(un=>{const kt=new Date(un.date).getHours();return kt===12||kt===17}),qt=Re.length>0?Re.reduce((un,kt)=>un+(kt.buy+kt.sell)/2,0)/Re.length:null,mn=at.length>0?at.reduce((un,kt)=>un+(kt.buy+kt.sell)/2,0)/at.length:null;return s.jsx(el,{width:"100%",height:350,children:s.jsxs(Qf,{data:Fe.series,children:[s.jsx(tl,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),s.jsx(Ra,{dataKey:"date",fontSize:11,angle:-45,textAnchor:"end",height:60}),s.jsx($a,{fontSize:11,domain:["dataMin - 0.05","dataMax + 0.05"]}),s.jsx($i,{}),s.jsx(Da,{}),qt&&s.jsx(Dl,{y:qt,stroke:"#f59e0b",strokeDasharray:"5 5",strokeWidth:2,label:{value:`Apertura: $${qt.toFixed(4)}`,position:"left",fill:"#f59e0b",fontSize:11}}),mn&&s.jsx(Dl,{y:mn,stroke:"#8b5cf6",strokeDasharray:"5 5",strokeWidth:2,label:{value:`Cierre: $${mn.toFixed(4)}`,position:"right",fill:"#8b5cf6",fontSize:11}}),s.jsx(ii,{type:"monotone",dataKey:"buy",stroke:"#ea580c",strokeWidth:3,name:"Compra"}),s.jsx(ii,{type:"monotone",dataKey:"sell",stroke:"#fb923c",strokeWidth:3,name:"Venta"})]})})})():s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-slate-500",children:"Sin datos disponibles para DOF"})})]})]})]}),(()=>{var un,kt,Ao,rd,Ha,eu,tc,no;const Re=gt==="MONEX"?$t:gt==="Santander"?wn:Fe,at=gt==="MONEX"?cn:gt==="Santander"?Ae:tt,qt=(un=Re==null?void 0:Re.series)==null?void 0:un[Re.series.length-1],mn=Re==null?void 0:Re.last_update;return at?s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-slate-500",children:"Cargando datos..."})}):qt?s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs(ot,{children:[s.jsx(Ht,{className:"pb-3",children:s.jsxs(Qt,{className:"text-base flex items-center gap-2",children:[s.jsx(Ma,{className:"h-4 w-4 text-green-600"}),"Última Actualización Compra"]})}),s.jsx(lt,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{children:s.jsxs("p",{className:"text-3xl font-bold text-green-600 dark:text-green-400",children:["$",((kt=qt.buy)==null?void 0:kt.toFixed(4))||"N/A"]})}),s.jsx("div",{children:s.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:mn?Vs(new Date(mn),"dd/MMM/yyyy HH:mm",{locale:Md}):"N/A"})})]})})]}),s.jsxs(ot,{children:[s.jsx(Ht,{className:"pb-3",children:s.jsxs(Qt,{className:"text-base flex items-center gap-2",children:[s.jsx(Ma,{className:"h-4 w-4 text-blue-600"}),"Última Actualización Venta"]})}),s.jsx(lt,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{children:s.jsxs("p",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:["$",((Ao=qt.sell)==null?void 0:Ao.toFixed(4))||"N/A"]})}),s.jsx("div",{children:s.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:mn?Vs(new Date(mn),"dd/MMM/yyyy HH:mm",{locale:Md}):"N/A"})})]})})]}),s.jsxs(ot,{children:[s.jsx(Ht,{className:"pb-3",children:s.jsxs(Qt,{className:"text-base flex items-center gap-2",children:[((rd=Re==null?void 0:Re.spreads_analysis)==null?void 0:rd.trend_7d)==="up"?s.jsx(Dj,{className:"h-4 w-4 text-green-600"}):((Ha=Re==null?void 0:Re.spreads_analysis)==null?void 0:Ha.trend_7d)==="down"?s.jsx(NW,{className:"h-4 w-4 text-red-600"}):s.jsx(Ma,{className:"h-4 w-4 text-slate-600"}),"Tendencia"]})}),s.jsx(lt,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{children:s.jsx("p",{className:"text-3xl font-bold text-purple-600 dark:text-purple-400",children:((eu=Re==null?void 0:Re.spreads_analysis)==null?void 0:eu.trend_7d)==="up"?"↑ Alza":((tc=Re==null?void 0:Re.spreads_analysis)==null?void 0:tc.trend_7d)==="down"?"↓ Baja":"→ Estable"})}),s.jsx("div",{children:s.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:["Volatilidad: ",((no=Re==null?void 0:Re.spreads_analysis)==null?void 0:no.volatility_5d)||"N/A"]})})]})})]})]}):null})(),s.jsxs(ot,{children:[s.jsx(Ht,{children:s.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-3",children:[s.jsxs("div",{children:[s.jsx(Qt,{className:"text-lg",children:"Comparativa de Fuentes"}),s.jsx(fr,{children:"Compara diferentes fuentes de tipo de cambio"})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs(Je,{variant:mt?"default":"outline",size:"sm",onClick:()=>ct(!mt),className:mt?"bg-[#2563eb] hover:bg-[#1d4ed8]":"","data-testid":"toggle-monex",children:[s.jsx("div",{className:"h-3 w-3 rounded-full bg-[#2563eb] mr-2"}),"MONEX"]}),s.jsxs(Je,{variant:fe?"default":"outline",size:"sm",onClick:()=>Ne(!fe),className:fe?"bg-[#16a34a] hover:bg-[#15803d]":"","data-testid":"toggle-santander",children:[s.jsx("div",{className:"h-3 w-3 rounded-full bg-[#16a34a] mr-2"}),"Santander"]}),s.jsxs(Je,{variant:Ie?"default":"outline",size:"sm",onClick:()=>He(!Ie),className:Ie?"bg-[#ea580c] hover:bg-[#c2410c]":"","data-testid":"toggle-dof",children:[s.jsx("div",{className:"h-3 w-3 rounded-full bg-[#ea580c] mr-2"}),"DOF"]})]})]})}),s.jsx(lt,{children:(()=>{const Re=new Set,at=new Map;mt&&($t!=null&&$t.series)&&$t.series.forEach(kt=>{Re.add(kt.date),at.has(kt.date)||at.set(kt.date,{date:kt.date}),at.get(kt.date).monexBuy=kt.buy,at.get(kt.date).monexSell=kt.sell}),fe&&(wn!=null&&wn.series)&&wn.series.forEach(kt=>{Re.add(kt.date),at.has(kt.date)||at.set(kt.date,{date:kt.date}),at.get(kt.date).santanderBuy=kt.buy,at.get(kt.date).santanderSell=kt.sell}),Ie&&(Fe!=null&&Fe.series)&&Fe.series.forEach(kt=>{Re.add(kt.date),at.has(kt.date)||at.set(kt.date,{date:kt.date}),at.get(kt.date).dofBuy=kt.buy,at.get(kt.date).dofSell=kt.sell});const qt=Array.from(at.values()).sort((kt,Ao)=>new Date(kt.date).getTime()-new Date(Ao.date).getTime()),mn=mt&&cn||fe&&Ae||Ie&&tt,un=qt.length>0;return mn?s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-slate-500",children:"Cargando datos..."})}):un?s.jsx(el,{width:"100%",height:350,children:s.jsxs(Qf,{data:qt,children:[s.jsx(tl,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),s.jsx(Ra,{dataKey:"date",fontSize:10,angle:-45,textAnchor:"end",height:60}),s.jsx($a,{fontSize:10,domain:["auto","auto"]}),s.jsx($i,{}),s.jsx(Da,{}),mt&&s.jsxs(s.Fragment,{children:[s.jsx(ii,{type:"monotone",dataKey:"monexBuy",stroke:"#60a5fa",strokeWidth:2,name:"MONEX Compra",dot:!1,strokeDasharray:"5 5"}),s.jsx(ii,{type:"monotone",dataKey:"monexSell",stroke:"#2563eb",strokeWidth:2,name:"MONEX Venta",dot:!1})]}),fe&&s.jsxs(s.Fragment,{children:[s.jsx(ii,{type:"monotone",dataKey:"santanderBuy",stroke:"#4ade80",strokeWidth:2,name:"Santander Compra",dot:!1,strokeDasharray:"5 5"}),s.jsx(ii,{type:"monotone",dataKey:"santanderSell",stroke:"#16a34a",strokeWidth:2,name:"Santander Venta",dot:!1})]}),Ie&&s.jsxs(s.Fragment,{children:[s.jsx(ii,{type:"monotone",dataKey:"dofBuy",stroke:"#fb923c",strokeWidth:2,name:"DOF Compra",dot:!1,strokeDasharray:"5 5"}),s.jsx(ii,{type:"monotone",dataKey:"dofSell",stroke:"#ea580c",strokeWidth:2,name:"DOF Venta",dot:!1})]})]})}):s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-slate-500",children:"Selecciona al menos una fuente para ver la comparativa"})})})()})]}),(Tn==null?void 0:Tn.spreads_analysis)&&s.jsxs(ot,{children:[s.jsxs(Ht,{children:[s.jsx(Qt,{className:"text-lg",children:"Análisis Comparativo de Spreads"}),s.jsx(fr,{children:"Comparación detallada entre fuentes de tipo de cambio"})]}),s.jsx(lt,{children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b",children:[s.jsx("th",{className:"text-left py-2 px-3 font-medium text-slate-700 dark:text-slate-300",children:"Fuente"}),s.jsx("th",{className:"text-right py-2 px-3 font-medium text-slate-700 dark:text-slate-300",children:"Compra"}),s.jsx("th",{className:"text-right py-2 px-3 font-medium text-slate-700 dark:text-slate-300",children:"Venta"}),s.jsx("th",{className:"text-right py-2 px-3 font-medium text-slate-700 dark:text-slate-300",children:"Spread"}),s.jsx("th",{className:"text-center py-2 px-3 font-medium text-slate-700 dark:text-slate-300",children:"Tendencia 7d"}),s.jsx("th",{className:"text-right py-2 px-3 font-medium text-slate-700 dark:text-slate-300",children:"Volatilidad 5d"}),s.jsx("th",{className:"text-center py-2 px-3 font-medium text-slate-700 dark:text-slate-300",children:"Estado"})]})}),s.jsx("tbody",{children:Object.entries(Tn.spreads_analysis).map(([Re,at])=>{var qt,mn,un;return s.jsxs("tr",{className:"border-b last:border-0 hover:bg-slate-50 dark:hover:bg-slate-800/50",children:[s.jsx("td",{className:"py-2 px-3 font-medium",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:`h-2 w-2 rounded-full ${Re==="MONEX"?"bg-[#2563eb]":Re==="Santander"?"bg-[#16a34a]":Re==="DOF"?"bg-[#ea580c]":"bg-slate-400"}`}),Re]})}),s.jsxs("td",{className:"text-right py-2 px-3",children:["$",((qt=at.avg_buy)==null?void 0:qt.toFixed(4))||"N/A"]}),s.jsxs("td",{className:"text-right py-2 px-3",children:["$",((mn=at.avg_sell)==null?void 0:mn.toFixed(4))||"N/A"]}),s.jsx("td",{className:"text-right py-2 px-3",children:((un=at.spread)==null?void 0:un.toFixed(4))||"N/A"}),s.jsx("td",{className:"text-center py-2 px-3",children:s.jsxs(Wn,{variant:"outline",className:at.trend_7d==="up"?"bg-green-50 text-green-700 dark:bg-green-950 dark:text-green-400":at.trend_7d==="down"?"bg-red-50 text-red-700 dark:bg-red-950 dark:text-red-400":"bg-slate-50 text-slate-700 dark:bg-slate-950 dark:text-slate-400",children:[at.trend_7d==="up"?"↑":at.trend_7d==="down"?"↓":"→"," ",at.trend_7d||"N/A"]})}),s.jsx("td",{className:"text-center py-2 px-3",children:at.volatility_5d||"N/A"}),s.jsx("td",{className:"text-center py-2 px-3",children:s.jsx(Wn,{variant:"outline",className:at.spread_status==="favorable"?"bg-green-50 text-green-700 dark:bg-green-950 dark:text-green-400":at.spread_status==="normal"?"bg-blue-50 text-blue-700 dark:bg-blue-950 dark:text-blue-400":"bg-yellow-50 text-yellow-700 dark:bg-yellow-950 dark:text-yellow-400",children:at.spread_status||"N/A"})})]},Re)})})]})})})]}),s.jsx(ot,{className:"bg-blue-50 dark:bg-blue-950/20 border-blue-200 dark:border-blue-800",children:s.jsx(lt,{className:"pt-6",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"h-8 w-8 rounded-full bg-blue-100 dark:bg-blue-900 flex items-center justify-center flex-shrink-0",children:s.jsx(Ok,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-blue-800 dark:text-blue-300 mb-1",children:"Nota sobre el análisis FX"}),s.jsx("p",{className:"text-xs text-blue-700 dark:text-blue-400 leading-relaxed",children:"Los datos presentados son exclusivamente informativos y reflejan las variaciones del mercado cambiario. Las tendencias, volatilidades y diferenciales mostrados están basados en datos históricos del periodo seleccionado. El análisis comparativo permite identificar patrones de comportamiento entre diferentes fuentes sin constituir recomendaciones de operación."})]})]})})})]}),s.jsxs(ua,{value:"receipts",className:"space-y-6",children:[s.jsx("div",{className:"flex justify-end mb-6",children:s.jsxs(vi,{open:B,onOpenChange:H,children:[s.jsx(aE,{asChild:!0,children:s.jsxs(Je,{"data-testid":"button-upload-voucher",children:[s.jsx(ch,{className:"h-4 w-4 mr-2"}),"Subir Comprobante"]})}),s.jsxs(ui,{className:"max-w-2xl",children:[s.jsxs(di,{children:[s.jsx(fi,{children:"Subir Comprobante Bancario"}),s.jsx(jo,{children:"El sistema analizará automáticamente el documento con IA para extraer datos clave"})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(xt,{htmlFor:"company-select",children:"Empresa *"}),s.jsxs(on,{value:(X==null?void 0:X.toString())||"",onValueChange:Re=>{ae(parseInt(Re)),te(null)},children:[s.jsx(an,{id:"company-select","data-testid":"select-company-voucher",children:s.jsx(ln,{placeholder:"Selecciona la empresa que está pagando"})}),s.jsxs(sn,{children:[s.jsx(xe,{value:"1",children:"Dura International"}),s.jsx(xe,{value:"2",children:"Grupo Orsega"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(xt,{htmlFor:"client-select",children:"Cliente/Proveedor *"}),s.jsxs(on,{value:(W==null?void 0:W.toString())||"",onValueChange:Re=>te(parseInt(Re)),disabled:!X,children:[s.jsx(an,{id:"client-select","data-testid":"select-client-voucher",children:s.jsx(ln,{placeholder:X?"Selecciona un cliente":"Primero selecciona la empresa"})}),s.jsx(sn,{children:en.map(Re=>s.jsxs(xe,{value:Re.id.toString(),children:[Re.name,Re.requires_payment_complement&&s.jsx(Wn,{variant:"outline",className:"ml-2 text-xs",children:"Requiere Complemento"})]},Re.id))})]}),X&&en.length===0&&s.jsx("p",{className:"text-sm text-slate-500",children:"No hay clientes registrados para esta empresa"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(xt,{htmlFor:"voucher-file",children:"Comprobante (PDF, PNG, JPG) *"}),s.jsx(Mt,{id:"voucher-file",type:"file",accept:".pdf,.png,.jpg,.jpeg",onChange:pr,"data-testid":"input-voucher-file"}),ue&&s.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:["Archivo: ",ue.name," (",(ue.size/1024).toFixed(2)," KB)"]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(xt,{htmlFor:"voucher-notes",children:"Notas (Opcional)"}),s.jsx(Mt,{id:"voucher-notes",value:V,onChange:Re=>ee(Re.target.value),placeholder:"Observaciones adicionales...","data-testid":"input-voucher-notes"})]}),Q&&s.jsx(ot,{className:"bg-green-50 dark:bg-green-950/20 border-green-200 dark:border-green-800",children:s.jsx(lt,{className:"pt-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("p",{className:"font-semibold text-green-800 dark:text-green-300 flex items-center gap-2",children:[s.jsx(pb,{className:"h-4 w-4"}),"Análisis Completado"]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Monto:"}),s.jsxs("span",{className:"ml-2 font-medium",children:[(Va=Q.analysis)==null?void 0:Va.extractedCurrency," $",(qi=(Wa=Q.analysis)==null?void 0:Wa.extractedAmount)==null?void 0:qi.toLocaleString()]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Banco:"}),s.jsx("span",{className:"ml-2 font-medium",children:((Pa=Q.analysis)==null?void 0:Pa.extractedBank)||"N/A"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Referencia:"}),s.jsx("span",{className:"ml-2 font-medium",children:((fl=Q.analysis)==null?void 0:fl.extractedReference)||"N/A"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Estado:"}),s.jsx(Wn,{variant:"outline",className:"ml-2",children:Q.autoStatus==="factura_pagada"?"Factura Pagada":"Pendiente Complemento"})]})]}),s.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-2",children:["Confianza del análisis: ",((((As=Q.analysis)==null?void 0:As.ocrConfidence)||0)*100).toFixed(0),"%"]})]})})})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(Je,{variant:"outline",onClick:()=>{H(!1),de(null)},"data-testid":"button-cancel-upload",children:Q?"Cerrar":"Cancelar"}),!Q&&s.jsx(Je,{onClick:Et,disabled:Xn.isPending,"data-testid":"button-confirm-upload",children:Xn.isPending?s.jsxs(s.Fragment,{children:[s.jsx(P2,{className:"h-4 w-4 mr-2 animate-spin"}),"Analizando..."]}):s.jsxs(s.Fragment,{children:[s.jsx(sA,{className:"h-4 w-4 mr-2"}),"Subir y Analizar"]})})]})]})]})}),s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("div",{className:"flex items-center gap-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(on,{value:I,onValueChange:D,disabled:k,children:[s.jsx(an,{className:"w-32","data-testid":"select-voucher-month",children:s.jsx(ln,{})}),s.jsxs(sn,{children:[s.jsx(xe,{value:"1",children:"Enero"}),s.jsx(xe,{value:"2",children:"Febrero"}),s.jsx(xe,{value:"3",children:"Marzo"}),s.jsx(xe,{value:"4",children:"Abril"}),s.jsx(xe,{value:"5",children:"Mayo"}),s.jsx(xe,{value:"6",children:"Junio"}),s.jsx(xe,{value:"7",children:"Julio"}),s.jsx(xe,{value:"8",children:"Agosto"}),s.jsx(xe,{value:"9",children:"Septiembre"}),s.jsx(xe,{value:"10",children:"Octubre"}),s.jsx(xe,{value:"11",children:"Noviembre"}),s.jsx(xe,{value:"12",children:"Diciembre"})]})]}),s.jsxs(on,{value:z,onValueChange:T,disabled:k,children:[s.jsx(an,{className:"w-20","data-testid":"select-voucher-year",children:s.jsx(ln,{})}),s.jsxs(sn,{children:[s.jsx(xe,{value:"2024",children:"2024"}),s.jsx(xe,{value:"2025",children:"2025"}),s.jsx(xe,{value:"2026",children:"2026"})]})]}),s.jsx(Je,{variant:k?"default":"outline",size:"sm",onClick:()=>F(!k),"data-testid":"button-toggle-all-vouchers",children:k?"Mes Actual":"Ver Todos"})]})}),s.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"h-2 w-2 rounded-full bg-slate-400"}),s.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:qa.total})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"h-2 w-2 rounded-full bg-yellow-400"}),s.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:qa.pendienteComplemento})]})]})]}),Cn?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx(P2,{className:"h-8 w-8 animate-spin mx-auto mb-2 text-slate-400"}),s.jsx("p",{className:"text-sm text-slate-500",children:"Cargando comprobantes..."})]})}):s.jsx(HKe,{vouchers:Ci})]})]})]})})}function GKe(){return s.jsxs(Joe,{children:[s.jsx(Ms,{path:"/login",component:rFe}),s.jsx(Ms,{path:"/register",component:aFe}),s.jsx(Ms,{path:"/activate/:token",component:Rqe}),s.jsx(Ms,{path:"/",children:s.jsx(xc,{children:s.jsx(P8e,{})})}),s.jsx(Ms,{path:"/logistics",children:s.jsx(xc,{logisticsOnly:!0,children:s.jsx(YUe,{})})}),s.jsx(Ms,{path:"/shipments",children:s.jsx(xc,{children:s.jsx(mVe,{})})}),s.jsx(Ms,{path:"/new-shipment",children:s.jsx(xc,{children:s.jsx(MWe,{})})}),s.jsx(Ms,{path:"/trends-analysis",children:s.jsx(xc,{executiveOnly:!0,children:s.jsx(eqe,{})})}),s.jsx(Ms,{path:"/sales-update",children:s.jsx(xc,{salesOnly:!0,children:s.jsx(aqe,{})})}),s.jsx(Ms,{path:"/kpi-control",children:s.jsx(xc,{children:s.jsx(Eqe,{})})}),s.jsx(Ms,{path:"/team-management",children:s.jsx(xc,{children:s.jsx(qWe,{})})}),s.jsx(Ms,{path:"/treasury",children:s.jsx(xc,{children:s.jsx(KKe,{})})}),s.jsx(Ms,{path:"/mi-perfil",children:s.jsx(xc,{children:s.jsx(Dqe,{})})}),s.jsx(Ms,{path:"/system-admin",children:s.jsx(xc,{adminOnly:!0,children:s.jsx(Tqe,{})})}),s.jsx(Ms,{component:ufe})]})}function ZKe(){return s.jsx(Uqe,{children:s.jsx(xle,{client:Ni,children:s.jsx(lfe,{children:s.jsx(hfe,{attribute:"class",defaultTheme:"light",children:s.jsx($qe,{children:s.jsxs(Bqe,{children:[s.jsx(Rue,{}),s.jsx(GKe,{})]})})})})})})}NV(document.getElementById("root")).render(s.jsx(ZKe,{}));export{Lr as _,T0 as c,jr as g};
