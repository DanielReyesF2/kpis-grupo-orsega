var i1e=Object.defineProperty;var a1e=(e,t,n)=>t in e?i1e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Pe=(e,t,n)=>a1e(e,typeof t!="symbol"?t+"":t,n);function s1e(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var ah=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ar(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Kee={exports:{}},_C={},Gee={exports:{}},fr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oj=Symbol.for("react.element"),o1e=Symbol.for("react.portal"),l1e=Symbol.for("react.fragment"),c1e=Symbol.for("react.strict_mode"),u1e=Symbol.for("react.profiler"),d1e=Symbol.for("react.provider"),f1e=Symbol.for("react.context"),h1e=Symbol.for("react.forward_ref"),m1e=Symbol.for("react.suspense"),p1e=Symbol.for("react.memo"),g1e=Symbol.for("react.lazy"),B7=Symbol.iterator;function v1e(e){return e===null||typeof e!="object"?null:(e=B7&&e[B7]||e["@@iterator"],typeof e=="function"?e:null)}var Yee={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Xee=Object.assign,Zee={};function C0(e,t,n){this.props=e,this.context=t,this.refs=Zee,this.updater=n||Yee}C0.prototype.isReactComponent={};C0.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};C0.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Qee(){}Qee.prototype=C0.prototype;function $D(e,t,n){this.props=e,this.context=t,this.refs=Zee,this.updater=n||Yee}var FD=$D.prototype=new Qee;FD.constructor=$D;Xee(FD,C0.prototype);FD.isPureReactComponent=!0;var z7=Array.isArray,Jee=Object.prototype.hasOwnProperty,BD={current:null},ete={key:!0,ref:!0,__self:!0,__source:!0};function tte(e,t,n){var r,i={},a=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)Jee.call(t,r)&&!ete.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:oj,type:e,key:a,ref:o,props:i,_owner:BD.current}}function x1e(e,t){return{$$typeof:oj,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function zD(e){return typeof e=="object"&&e!==null&&e.$$typeof===oj}function y1e(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var V7=/\/+/g;function DA(e,t){return typeof e=="object"&&e!==null&&e.key!=null?y1e(""+e.key):t.toString(36)}function q_(e,t,n,r,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case oj:case o1e:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+DA(o,0):r,z7(i)?(n="",e!=null&&(n=e.replace(V7,"$&/")+"/"),q_(i,t,n,"",function(u){return u})):i!=null&&(zD(i)&&(i=x1e(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(V7,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",z7(e))for(var l=0;l<e.length;l++){a=e[l];var c=r+DA(a,l);o+=q_(a,t,n,c,i)}else if(c=v1e(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=r+DA(a,l++),o+=q_(a,t,n,c,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function _N(e,t,n){if(e==null)return e;var r=[],i=0;return q_(e,r,"","",function(a){return t.call(n,a,i++)}),r}function b1e(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ko={current:null},U_={transition:null},w1e={ReactCurrentDispatcher:Ko,ReactCurrentBatchConfig:U_,ReactCurrentOwner:BD};function nte(){throw Error("act(...) is not supported in production builds of React.")}fr.Children={map:_N,forEach:function(e,t,n){_N(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return _N(e,function(){t++}),t},toArray:function(e){return _N(e,function(t){return t})||[]},only:function(e){if(!zD(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};fr.Component=C0;fr.Fragment=l1e;fr.Profiler=u1e;fr.PureComponent=$D;fr.StrictMode=c1e;fr.Suspense=m1e;fr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=w1e;fr.act=nte;fr.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Xee({},e.props),i=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=BD.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)Jee.call(t,c)&&!ete.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:oj,type:e.type,key:i,ref:a,props:r,_owner:o}};fr.createContext=function(e){return e={$$typeof:f1e,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:d1e,_context:e},e.Consumer=e};fr.createElement=tte;fr.createFactory=function(e){var t=tte.bind(null,e);return t.type=e,t};fr.createRef=function(){return{current:null}};fr.forwardRef=function(e){return{$$typeof:h1e,render:e}};fr.isValidElement=zD;fr.lazy=function(e){return{$$typeof:g1e,_payload:{_status:-1,_result:e},_init:b1e}};fr.memo=function(e,t){return{$$typeof:p1e,type:e,compare:t===void 0?null:t}};fr.startTransition=function(e){var t=U_.transition;U_.transition={};try{e()}finally{U_.transition=t}};fr.unstable_act=nte;fr.useCallback=function(e,t){return Ko.current.useCallback(e,t)};fr.useContext=function(e){return Ko.current.useContext(e)};fr.useDebugValue=function(){};fr.useDeferredValue=function(e){return Ko.current.useDeferredValue(e)};fr.useEffect=function(e,t){return Ko.current.useEffect(e,t)};fr.useId=function(){return Ko.current.useId()};fr.useImperativeHandle=function(e,t,n){return Ko.current.useImperativeHandle(e,t,n)};fr.useInsertionEffect=function(e,t){return Ko.current.useInsertionEffect(e,t)};fr.useLayoutEffect=function(e,t){return Ko.current.useLayoutEffect(e,t)};fr.useMemo=function(e,t){return Ko.current.useMemo(e,t)};fr.useReducer=function(e,t,n){return Ko.current.useReducer(e,t,n)};fr.useRef=function(e){return Ko.current.useRef(e)};fr.useState=function(e){return Ko.current.useState(e)};fr.useSyncExternalStore=function(e,t,n){return Ko.current.useSyncExternalStore(e,t,n)};fr.useTransition=function(){return Ko.current.useTransition()};fr.version="18.3.1";Gee.exports=fr;var b=Gee.exports;const E=Ar(b),wh=s1e({__proto__:null,default:E},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j1e=b,N1e=Symbol.for("react.element"),_1e=Symbol.for("react.fragment"),S1e=Object.prototype.hasOwnProperty,k1e=j1e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,C1e={key:!0,ref:!0,__self:!0,__source:!0};function rte(e,t,n){var r,i={},a=null,o=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)S1e.call(t,r)&&!C1e.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:N1e,type:e,key:a,ref:o,props:i,_owner:k1e.current}}_C.Fragment=_1e;_C.jsx=rte;_C.jsxs=rte;Kee.exports=_C;var s=Kee.exports,ite={exports:{}},yc={},ate={exports:{}},ste={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(H,G){var U=H.length;H.push(G);e:for(;0<U;){var ee=U-1>>>1,z=H[ee];if(0<i(z,G))H[ee]=G,H[U]=z,U=ee;else break e}}function n(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var G=H[0],U=H.pop();if(U!==G){H[0]=U;e:for(var ee=0,z=H.length,F=z>>>1;ee<F;){var ie=2*(ee+1)-1,ce=H[ie],te=ie+1,oe=H[te];if(0>i(ce,U))te<z&&0>i(oe,ce)?(H[ee]=oe,H[te]=U,ee=te):(H[ee]=ce,H[ie]=U,ee=ie);else if(te<z&&0>i(oe,U))H[ee]=oe,H[te]=U,ee=te;else break e}}return G}function i(H,G){var U=H.sortIndex-G.sortIndex;return U!==0?U:H.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,m=3,h=!1,g=!1,y=!1,v=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(H){for(var G=n(u);G!==null;){if(G.callback===null)r(u);else if(G.startTime<=H)r(u),G.sortIndex=G.expirationTime,t(c,G);else break;G=n(u)}}function _(H){if(y=!1,j(H),!g)if(n(c)!==null)g=!0,Y(S);else{var G=n(u);G!==null&&Q(_,G.startTime-H)}}function S(H,G){g=!1,y&&(y=!1,x(M),M=-1),h=!0;var U=m;try{for(j(G),f=n(c);f!==null&&(!(f.expirationTime>G)||H&&!D());){var ee=f.callback;if(typeof ee=="function"){f.callback=null,m=f.priorityLevel;var z=ee(f.expirationTime<=G);G=e.unstable_now(),typeof z=="function"?f.callback=z:f===n(c)&&r(c),j(G)}else r(c);f=n(c)}if(f!==null)var F=!0;else{var ie=n(u);ie!==null&&Q(_,ie.startTime-G),F=!1}return F}finally{f=null,m=U,h=!1}}var k=!1,P=null,M=-1,T=5,R=-1;function D(){return!(e.unstable_now()-R<T)}function I(){if(P!==null){var H=e.unstable_now();R=H;var G=!0;try{G=P(!0,H)}finally{G?B():(k=!1,P=null)}}else k=!1}var B;if(typeof w=="function")B=function(){w(I)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,K=$.port2;$.port1.onmessage=I,B=function(){K.postMessage(null)}}else B=function(){v(I,0)};function Y(H){P=H,k||(k=!0,B())}function Q(H,G){M=v(function(){H(e.unstable_now())},G)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(H){H.callback=null},e.unstable_continueExecution=function(){g||h||(g=!0,Y(S))},e.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<H?Math.floor(1e3/H):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(H){switch(m){case 1:case 2:case 3:var G=3;break;default:G=m}var U=m;m=G;try{return H()}finally{m=U}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(H,G){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var U=m;m=H;try{return G()}finally{m=U}},e.unstable_scheduleCallback=function(H,G,U){var ee=e.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?ee+U:ee):U=ee,H){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=U+z,H={id:d++,callback:G,priorityLevel:H,startTime:U,expirationTime:z,sortIndex:-1},U>ee?(H.sortIndex=U,t(u,H),n(c)===null&&H===n(u)&&(y?(x(M),M=-1):y=!0,Q(_,U-ee))):(H.sortIndex=z,t(c,H),g||h||(g=!0,Y(S))),H},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(H){var G=m;return function(){var U=m;m=G;try{return H.apply(this,arguments)}finally{m=U}}}})(ste);ate.exports=ste;var E1e=ate.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P1e=b,hc=E1e;function bt(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ote=new Set,xw={};function _v(e,t){Cy(e,t),Cy(e+"Capture",t)}function Cy(e,t){for(xw[e]=t,e=0;e<t.length;e++)ote.add(t[e])}var jh=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),QO=Object.prototype.hasOwnProperty,A1e=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,q7={},U7={};function T1e(e){return QO.call(U7,e)?!0:QO.call(q7,e)?!1:A1e.test(e)?U7[e]=!0:(q7[e]=!0,!1)}function O1e(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function L1e(e,t,n,r){if(t===null||typeof t>"u"||O1e(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Go(e,t,n,r,i,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var Bs={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Bs[e]=new Go(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Bs[t]=new Go(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Bs[e]=new Go(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Bs[e]=new Go(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Bs[e]=new Go(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Bs[e]=new Go(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Bs[e]=new Go(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Bs[e]=new Go(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Bs[e]=new Go(e,5,!1,e.toLowerCase(),null,!1,!1)});var VD=/[\-:]([a-z])/g;function qD(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(VD,qD);Bs[t]=new Go(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(VD,qD);Bs[t]=new Go(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(VD,qD);Bs[t]=new Go(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Bs[e]=new Go(e,1,!1,e.toLowerCase(),null,!1,!1)});Bs.xlinkHref=new Go("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Bs[e]=new Go(e,1,!1,e.toLowerCase(),null,!0,!0)});function UD(e,t,n,r){var i=Bs.hasOwnProperty(t)?Bs[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(L1e(t,n,i,r)&&(n=null),r||i===null?T1e(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Ih=P1e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,SN=Symbol.for("react.element"),Sx=Symbol.for("react.portal"),kx=Symbol.for("react.fragment"),WD=Symbol.for("react.strict_mode"),JO=Symbol.for("react.profiler"),lte=Symbol.for("react.provider"),cte=Symbol.for("react.context"),HD=Symbol.for("react.forward_ref"),e3=Symbol.for("react.suspense"),t3=Symbol.for("react.suspense_list"),KD=Symbol.for("react.memo"),_m=Symbol.for("react.lazy"),ute=Symbol.for("react.offscreen"),W7=Symbol.iterator;function Lb(e){return e===null||typeof e!="object"?null:(e=W7&&e[W7]||e["@@iterator"],typeof e=="function"?e:null)}var la=Object.assign,RA;function u1(e){if(RA===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);RA=t&&t[1]||""}return`
`+RA+e}var $A=!1;function FA(e,t){if(!e||$A)return"";$A=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=r.stack.split(`
`),o=i.length-1,l=a.length-1;1<=o&&0<=l&&i[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==a[l]){var c=`
`+i[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{$A=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?u1(e):""}function M1e(e){switch(e.tag){case 5:return u1(e.type);case 16:return u1("Lazy");case 13:return u1("Suspense");case 19:return u1("SuspenseList");case 0:case 2:case 15:return e=FA(e.type,!1),e;case 11:return e=FA(e.type.render,!1),e;case 1:return e=FA(e.type,!0),e;default:return""}}function n3(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case kx:return"Fragment";case Sx:return"Portal";case JO:return"Profiler";case WD:return"StrictMode";case e3:return"Suspense";case t3:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case cte:return(e.displayName||"Context")+".Consumer";case lte:return(e._context.displayName||"Context")+".Provider";case HD:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case KD:return t=e.displayName||null,t!==null?t:n3(e.type)||"Memo";case _m:t=e._payload,e=e._init;try{return n3(e(t))}catch{}}return null}function I1e(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return n3(t);case 8:return t===WD?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ip(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function dte(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function D1e(e){var t=dte(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function kN(e){e._valueTracker||(e._valueTracker=D1e(e))}function fte(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=dte(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function PS(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function r3(e,t){var n=t.checked;return la({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function H7(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=ip(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function hte(e,t){t=t.checked,t!=null&&UD(e,"checked",t,!1)}function i3(e,t){hte(e,t);var n=ip(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?a3(e,t.type,n):t.hasOwnProperty("defaultValue")&&a3(e,t.type,ip(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function K7(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function a3(e,t,n){(t!=="number"||PS(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var d1=Array.isArray;function Zx(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ip(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function s3(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(bt(91));return la({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function G7(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(bt(92));if(d1(n)){if(1<n.length)throw Error(bt(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ip(n)}}function mte(e,t){var n=ip(t.value),r=ip(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Y7(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function pte(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function o3(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?pte(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var CN,gte=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(CN=CN||document.createElement("div"),CN.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=CN.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function yw(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var j1={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},R1e=["Webkit","ms","Moz","O"];Object.keys(j1).forEach(function(e){R1e.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),j1[t]=j1[e]})});function vte(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||j1.hasOwnProperty(e)&&j1[e]?(""+t).trim():t+"px"}function xte(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=vte(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var $1e=la({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function l3(e,t){if(t){if($1e[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(bt(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(bt(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(bt(61))}if(t.style!=null&&typeof t.style!="object")throw Error(bt(62))}}function c3(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var u3=null;function GD(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var d3=null,Qx=null,Jx=null;function X7(e){if(e=uj(e)){if(typeof d3!="function")throw Error(bt(280));var t=e.stateNode;t&&(t=PC(t),d3(e.stateNode,e.type,t))}}function yte(e){Qx?Jx?Jx.push(e):Jx=[e]:Qx=e}function bte(){if(Qx){var e=Qx,t=Jx;if(Jx=Qx=null,X7(e),t)for(e=0;e<t.length;e++)X7(t[e])}}function wte(e,t){return e(t)}function jte(){}var BA=!1;function Nte(e,t,n){if(BA)return e(t,n);BA=!0;try{return wte(e,t,n)}finally{BA=!1,(Qx!==null||Jx!==null)&&(jte(),bte())}}function bw(e,t){var n=e.stateNode;if(n===null)return null;var r=PC(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(bt(231,t,typeof n));return n}var f3=!1;if(jh)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){f3=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{f3=!1}function F1e(e,t,n,r,i,a,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var N1=!1,AS=null,TS=!1,h3=null,B1e={onError:function(e){N1=!0,AS=e}};function z1e(e,t,n,r,i,a,o,l,c){N1=!1,AS=null,F1e.apply(B1e,arguments)}function V1e(e,t,n,r,i,a,o,l,c){if(z1e.apply(this,arguments),N1){if(N1){var u=AS;N1=!1,AS=null}else throw Error(bt(198));TS||(TS=!0,h3=u)}}function Sv(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function _te(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Z7(e){if(Sv(e)!==e)throw Error(bt(188))}function q1e(e){var t=e.alternate;if(!t){if(t=Sv(e),t===null)throw Error(bt(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Z7(i),e;if(a===r)return Z7(i),t;a=a.sibling}throw Error(bt(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=a;break}if(l===r){o=!0,r=i,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,r=i;break}if(l===r){o=!0,r=a,n=i;break}l=l.sibling}if(!o)throw Error(bt(189))}}if(n.alternate!==r)throw Error(bt(190))}if(n.tag!==3)throw Error(bt(188));return n.stateNode.current===n?e:t}function Ste(e){return e=q1e(e),e!==null?kte(e):null}function kte(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=kte(e);if(t!==null)return t;e=e.sibling}return null}var Cte=hc.unstable_scheduleCallback,Q7=hc.unstable_cancelCallback,U1e=hc.unstable_shouldYield,W1e=hc.unstable_requestPaint,Ta=hc.unstable_now,H1e=hc.unstable_getCurrentPriorityLevel,YD=hc.unstable_ImmediatePriority,Ete=hc.unstable_UserBlockingPriority,OS=hc.unstable_NormalPriority,K1e=hc.unstable_LowPriority,Pte=hc.unstable_IdlePriority,SC=null,Qd=null;function G1e(e){if(Qd&&typeof Qd.onCommitFiberRoot=="function")try{Qd.onCommitFiberRoot(SC,e,void 0,(e.current.flags&128)===128)}catch{}}var Gu=Math.clz32?Math.clz32:Z1e,Y1e=Math.log,X1e=Math.LN2;function Z1e(e){return e>>>=0,e===0?32:31-(Y1e(e)/X1e|0)|0}var EN=64,PN=4194304;function f1(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function LS(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=f1(l):(a&=o,a!==0&&(r=f1(a)))}else o=n&~i,o!==0?r=f1(o):a!==0&&(r=f1(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Gu(t),i=1<<n,r|=e[n],t&=~i;return r}function Q1e(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function J1e(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-Gu(a),l=1<<o,c=i[o];c===-1?(!(l&n)||l&r)&&(i[o]=Q1e(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function m3(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Ate(){var e=EN;return EN<<=1,!(EN&4194240)&&(EN=64),e}function zA(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function lj(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Gu(t),e[t]=n}function ewe(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Gu(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}function XD(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Gu(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var ti=0;function Tte(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Ote,ZD,Lte,Mte,Ite,p3=!1,AN=[],Wm=null,Hm=null,Km=null,ww=new Map,jw=new Map,Am=[],twe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function J7(e,t){switch(e){case"focusin":case"focusout":Wm=null;break;case"dragenter":case"dragleave":Hm=null;break;case"mouseover":case"mouseout":Km=null;break;case"pointerover":case"pointerout":ww.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":jw.delete(t.pointerId)}}function Ib(e,t,n,r,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},t!==null&&(t=uj(t),t!==null&&ZD(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function nwe(e,t,n,r,i){switch(t){case"focusin":return Wm=Ib(Wm,e,t,n,r,i),!0;case"dragenter":return Hm=Ib(Hm,e,t,n,r,i),!0;case"mouseover":return Km=Ib(Km,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return ww.set(a,Ib(ww.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,jw.set(a,Ib(jw.get(a)||null,e,t,n,r,i)),!0}return!1}function Dte(e){var t=Og(e.target);if(t!==null){var n=Sv(t);if(n!==null){if(t=n.tag,t===13){if(t=_te(n),t!==null){e.blockedOn=t,Ite(e.priority,function(){Lte(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function W_(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=g3(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);u3=r,n.target.dispatchEvent(r),u3=null}else return t=uj(n),t!==null&&ZD(t),e.blockedOn=n,!1;t.shift()}return!0}function eB(e,t,n){W_(e)&&n.delete(t)}function rwe(){p3=!1,Wm!==null&&W_(Wm)&&(Wm=null),Hm!==null&&W_(Hm)&&(Hm=null),Km!==null&&W_(Km)&&(Km=null),ww.forEach(eB),jw.forEach(eB)}function Db(e,t){e.blockedOn===t&&(e.blockedOn=null,p3||(p3=!0,hc.unstable_scheduleCallback(hc.unstable_NormalPriority,rwe)))}function Nw(e){function t(i){return Db(i,e)}if(0<AN.length){Db(AN[0],e);for(var n=1;n<AN.length;n++){var r=AN[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Wm!==null&&Db(Wm,e),Hm!==null&&Db(Hm,e),Km!==null&&Db(Km,e),ww.forEach(t),jw.forEach(t),n=0;n<Am.length;n++)r=Am[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Am.length&&(n=Am[0],n.blockedOn===null);)Dte(n),n.blockedOn===null&&Am.shift()}var ey=Ih.ReactCurrentBatchConfig,MS=!0;function iwe(e,t,n,r){var i=ti,a=ey.transition;ey.transition=null;try{ti=1,QD(e,t,n,r)}finally{ti=i,ey.transition=a}}function awe(e,t,n,r){var i=ti,a=ey.transition;ey.transition=null;try{ti=4,QD(e,t,n,r)}finally{ti=i,ey.transition=a}}function QD(e,t,n,r){if(MS){var i=g3(e,t,n,r);if(i===null)ZA(e,t,r,IS,n),J7(e,r);else if(nwe(i,e,t,n,r))r.stopPropagation();else if(J7(e,r),t&4&&-1<twe.indexOf(e)){for(;i!==null;){var a=uj(i);if(a!==null&&Ote(a),a=g3(e,t,n,r),a===null&&ZA(e,t,r,IS,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else ZA(e,t,r,null,n)}}var IS=null;function g3(e,t,n,r){if(IS=null,e=GD(r),e=Og(e),e!==null)if(t=Sv(e),t===null)e=null;else if(n=t.tag,n===13){if(e=_te(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return IS=e,null}function Rte(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(H1e()){case YD:return 1;case Ete:return 4;case OS:case K1e:return 16;case Pte:return 536870912;default:return 16}default:return 16}}var Dm=null,JD=null,H_=null;function $te(){if(H_)return H_;var e,t=JD,n=t.length,r,i="value"in Dm?Dm.value:Dm.textContent,a=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[a-r];r++);return H_=i.slice(e,1<r?1-r:void 0)}function K_(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function TN(){return!0}function tB(){return!1}function bc(e){function t(n,r,i,a,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?TN:tB,this.isPropagationStopped=tB,this}return la(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=TN)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=TN)},persist:function(){},isPersistent:TN}),t}var E0={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},e6=bc(E0),cj=la({},E0,{view:0,detail:0}),swe=bc(cj),VA,qA,Rb,kC=la({},cj,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:t6,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Rb&&(Rb&&e.type==="mousemove"?(VA=e.screenX-Rb.screenX,qA=e.screenY-Rb.screenY):qA=VA=0,Rb=e),VA)},movementY:function(e){return"movementY"in e?e.movementY:qA}}),nB=bc(kC),owe=la({},kC,{dataTransfer:0}),lwe=bc(owe),cwe=la({},cj,{relatedTarget:0}),UA=bc(cwe),uwe=la({},E0,{animationName:0,elapsedTime:0,pseudoElement:0}),dwe=bc(uwe),fwe=la({},E0,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),hwe=bc(fwe),mwe=la({},E0,{data:0}),rB=bc(mwe),pwe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gwe={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vwe={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xwe(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=vwe[e])?!!t[e]:!1}function t6(){return xwe}var ywe=la({},cj,{key:function(e){if(e.key){var t=pwe[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=K_(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?gwe[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:t6,charCode:function(e){return e.type==="keypress"?K_(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?K_(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),bwe=bc(ywe),wwe=la({},kC,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),iB=bc(wwe),jwe=la({},cj,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:t6}),Nwe=bc(jwe),_we=la({},E0,{propertyName:0,elapsedTime:0,pseudoElement:0}),Swe=bc(_we),kwe=la({},kC,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Cwe=bc(kwe),Ewe=[9,13,27,32],n6=jh&&"CompositionEvent"in window,_1=null;jh&&"documentMode"in document&&(_1=document.documentMode);var Pwe=jh&&"TextEvent"in window&&!_1,Fte=jh&&(!n6||_1&&8<_1&&11>=_1),aB=" ",sB=!1;function Bte(e,t){switch(e){case"keyup":return Ewe.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zte(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Cx=!1;function Awe(e,t){switch(e){case"compositionend":return zte(t);case"keypress":return t.which!==32?null:(sB=!0,aB);case"textInput":return e=t.data,e===aB&&sB?null:e;default:return null}}function Twe(e,t){if(Cx)return e==="compositionend"||!n6&&Bte(e,t)?(e=$te(),H_=JD=Dm=null,Cx=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fte&&t.locale!=="ko"?null:t.data;default:return null}}var Owe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function oB(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Owe[e.type]:t==="textarea"}function Vte(e,t,n,r){yte(r),t=DS(t,"onChange"),0<t.length&&(n=new e6("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var S1=null,_w=null;function Lwe(e){Jte(e,0)}function CC(e){var t=Ax(e);if(fte(t))return e}function Mwe(e,t){if(e==="change")return t}var qte=!1;if(jh){var WA;if(jh){var HA="oninput"in document;if(!HA){var lB=document.createElement("div");lB.setAttribute("oninput","return;"),HA=typeof lB.oninput=="function"}WA=HA}else WA=!1;qte=WA&&(!document.documentMode||9<document.documentMode)}function cB(){S1&&(S1.detachEvent("onpropertychange",Ute),_w=S1=null)}function Ute(e){if(e.propertyName==="value"&&CC(_w)){var t=[];Vte(t,_w,e,GD(e)),Nte(Lwe,t)}}function Iwe(e,t,n){e==="focusin"?(cB(),S1=t,_w=n,S1.attachEvent("onpropertychange",Ute)):e==="focusout"&&cB()}function Dwe(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return CC(_w)}function Rwe(e,t){if(e==="click")return CC(t)}function $we(e,t){if(e==="input"||e==="change")return CC(t)}function Fwe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var td=typeof Object.is=="function"?Object.is:Fwe;function Sw(e,t){if(td(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!QO.call(t,i)||!td(e[i],t[i]))return!1}return!0}function uB(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dB(e,t){var n=uB(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=uB(n)}}function Wte(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Wte(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Hte(){for(var e=window,t=PS();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=PS(e.document)}return t}function r6(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Bwe(e){var t=Hte(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Wte(n.ownerDocument.documentElement,n)){if(r!==null&&r6(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=dB(n,a);var o=dB(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var zwe=jh&&"documentMode"in document&&11>=document.documentMode,Ex=null,v3=null,k1=null,x3=!1;function fB(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;x3||Ex==null||Ex!==PS(r)||(r=Ex,"selectionStart"in r&&r6(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),k1&&Sw(k1,r)||(k1=r,r=DS(v3,"onSelect"),0<r.length&&(t=new e6("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Ex)))}function ON(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Px={animationend:ON("Animation","AnimationEnd"),animationiteration:ON("Animation","AnimationIteration"),animationstart:ON("Animation","AnimationStart"),transitionend:ON("Transition","TransitionEnd")},KA={},Kte={};jh&&(Kte=document.createElement("div").style,"AnimationEvent"in window||(delete Px.animationend.animation,delete Px.animationiteration.animation,delete Px.animationstart.animation),"TransitionEvent"in window||delete Px.transitionend.transition);function EC(e){if(KA[e])return KA[e];if(!Px[e])return e;var t=Px[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Kte)return KA[e]=t[n];return e}var Gte=EC("animationend"),Yte=EC("animationiteration"),Xte=EC("animationstart"),Zte=EC("transitionend"),Qte=new Map,hB="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Sp(e,t){Qte.set(e,t),_v(t,[e])}for(var GA=0;GA<hB.length;GA++){var YA=hB[GA],Vwe=YA.toLowerCase(),qwe=YA[0].toUpperCase()+YA.slice(1);Sp(Vwe,"on"+qwe)}Sp(Gte,"onAnimationEnd");Sp(Yte,"onAnimationIteration");Sp(Xte,"onAnimationStart");Sp("dblclick","onDoubleClick");Sp("focusin","onFocus");Sp("focusout","onBlur");Sp(Zte,"onTransitionEnd");Cy("onMouseEnter",["mouseout","mouseover"]);Cy("onMouseLeave",["mouseout","mouseover"]);Cy("onPointerEnter",["pointerout","pointerover"]);Cy("onPointerLeave",["pointerout","pointerover"]);_v("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));_v("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));_v("onBeforeInput",["compositionend","keypress","textInput","paste"]);_v("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));_v("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));_v("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var h1="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Uwe=new Set("cancel close invalid load scroll toggle".split(" ").concat(h1));function mB(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,V1e(r,t,void 0,e),e.currentTarget=null}function Jte(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&i.isPropagationStopped())break e;mB(i,l,u),a=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&i.isPropagationStopped())break e;mB(i,l,u),a=c}}}if(TS)throw e=h3,TS=!1,h3=null,e}function Oi(e,t){var n=t[N3];n===void 0&&(n=t[N3]=new Set);var r=e+"__bubble";n.has(r)||(ene(t,e,2,!1),n.add(r))}function XA(e,t,n){var r=0;t&&(r|=4),ene(n,e,r,t)}var LN="_reactListening"+Math.random().toString(36).slice(2);function kw(e){if(!e[LN]){e[LN]=!0,ote.forEach(function(n){n!=="selectionchange"&&(Uwe.has(n)||XA(n,!1,e),XA(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[LN]||(t[LN]=!0,XA("selectionchange",!1,t))}}function ene(e,t,n,r){switch(Rte(t)){case 1:var i=iwe;break;case 4:i=awe;break;default:i=QD}n=i.bind(null,t,n,e),i=void 0,!f3||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function ZA(e,t,n,r,i){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;l!==null;){if(o=Og(l),o===null)return;if(c=o.tag,c===5||c===6){r=a=o;continue e}l=l.parentNode}}r=r.return}Nte(function(){var u=a,d=GD(n),f=[];e:{var m=Qte.get(e);if(m!==void 0){var h=e6,g=e;switch(e){case"keypress":if(K_(n)===0)break e;case"keydown":case"keyup":h=bwe;break;case"focusin":g="focus",h=UA;break;case"focusout":g="blur",h=UA;break;case"beforeblur":case"afterblur":h=UA;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=nB;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=lwe;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=Nwe;break;case Gte:case Yte:case Xte:h=dwe;break;case Zte:h=Swe;break;case"scroll":h=swe;break;case"wheel":h=Cwe;break;case"copy":case"cut":case"paste":h=hwe;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=iB}var y=(t&4)!==0,v=!y&&e==="scroll",x=y?m!==null?m+"Capture":null:m;y=[];for(var w=u,j;w!==null;){j=w;var _=j.stateNode;if(j.tag===5&&_!==null&&(j=_,x!==null&&(_=bw(w,x),_!=null&&y.push(Cw(w,_,j)))),v)break;w=w.return}0<y.length&&(m=new h(m,g,null,n,d),f.push({event:m,listeners:y}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",m&&n!==u3&&(g=n.relatedTarget||n.fromElement)&&(Og(g)||g[Nh]))break e;if((h||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,h?(g=n.relatedTarget||n.toElement,h=u,g=g?Og(g):null,g!==null&&(v=Sv(g),g!==v||g.tag!==5&&g.tag!==6)&&(g=null)):(h=null,g=u),h!==g)){if(y=nB,_="onMouseLeave",x="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(y=iB,_="onPointerLeave",x="onPointerEnter",w="pointer"),v=h==null?m:Ax(h),j=g==null?m:Ax(g),m=new y(_,w+"leave",h,n,d),m.target=v,m.relatedTarget=j,_=null,Og(d)===u&&(y=new y(x,w+"enter",g,n,d),y.target=j,y.relatedTarget=v,_=y),v=_,h&&g)t:{for(y=h,x=g,w=0,j=y;j;j=tx(j))w++;for(j=0,_=x;_;_=tx(_))j++;for(;0<w-j;)y=tx(y),w--;for(;0<j-w;)x=tx(x),j--;for(;w--;){if(y===x||x!==null&&y===x.alternate)break t;y=tx(y),x=tx(x)}y=null}else y=null;h!==null&&pB(f,m,h,y,!1),g!==null&&v!==null&&pB(f,v,g,y,!0)}}e:{if(m=u?Ax(u):window,h=m.nodeName&&m.nodeName.toLowerCase(),h==="select"||h==="input"&&m.type==="file")var S=Mwe;else if(oB(m))if(qte)S=$we;else{S=Dwe;var k=Iwe}else(h=m.nodeName)&&h.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(S=Rwe);if(S&&(S=S(e,u))){Vte(f,S,n,d);break e}k&&k(e,m,u),e==="focusout"&&(k=m._wrapperState)&&k.controlled&&m.type==="number"&&a3(m,"number",m.value)}switch(k=u?Ax(u):window,e){case"focusin":(oB(k)||k.contentEditable==="true")&&(Ex=k,v3=u,k1=null);break;case"focusout":k1=v3=Ex=null;break;case"mousedown":x3=!0;break;case"contextmenu":case"mouseup":case"dragend":x3=!1,fB(f,n,d);break;case"selectionchange":if(zwe)break;case"keydown":case"keyup":fB(f,n,d)}var P;if(n6)e:{switch(e){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else Cx?Bte(e,n)&&(M="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(M="onCompositionStart");M&&(Fte&&n.locale!=="ko"&&(Cx||M!=="onCompositionStart"?M==="onCompositionEnd"&&Cx&&(P=$te()):(Dm=d,JD="value"in Dm?Dm.value:Dm.textContent,Cx=!0)),k=DS(u,M),0<k.length&&(M=new rB(M,e,null,n,d),f.push({event:M,listeners:k}),P?M.data=P:(P=zte(n),P!==null&&(M.data=P)))),(P=Pwe?Awe(e,n):Twe(e,n))&&(u=DS(u,"onBeforeInput"),0<u.length&&(d=new rB("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=P))}Jte(f,t)})}function Cw(e,t,n){return{instance:e,listener:t,currentTarget:n}}function DS(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=bw(e,n),a!=null&&r.unshift(Cw(e,a,i)),a=bw(e,t),a!=null&&r.push(Cw(e,a,i))),e=e.return}return r}function tx(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function pB(e,t,n,r,i){for(var a=t._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,i?(c=bw(n,a),c!=null&&o.unshift(Cw(n,c,l))):i||(c=bw(n,a),c!=null&&o.push(Cw(n,c,l)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var Wwe=/\r\n?/g,Hwe=/\u0000|\uFFFD/g;function gB(e){return(typeof e=="string"?e:""+e).replace(Wwe,`
`).replace(Hwe,"")}function MN(e,t,n){if(t=gB(t),gB(e)!==t&&n)throw Error(bt(425))}function RS(){}var y3=null,b3=null;function w3(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var j3=typeof setTimeout=="function"?setTimeout:void 0,Kwe=typeof clearTimeout=="function"?clearTimeout:void 0,vB=typeof Promise=="function"?Promise:void 0,Gwe=typeof queueMicrotask=="function"?queueMicrotask:typeof vB<"u"?function(e){return vB.resolve(null).then(e).catch(Ywe)}:j3;function Ywe(e){setTimeout(function(){throw e})}function QA(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Nw(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Nw(t)}function Gm(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function xB(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var P0=Math.random().toString(36).slice(2),Dd="__reactFiber$"+P0,Ew="__reactProps$"+P0,Nh="__reactContainer$"+P0,N3="__reactEvents$"+P0,Xwe="__reactListeners$"+P0,Zwe="__reactHandles$"+P0;function Og(e){var t=e[Dd];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Nh]||n[Dd]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=xB(e);e!==null;){if(n=e[Dd])return n;e=xB(e)}return t}e=n,n=e.parentNode}return null}function uj(e){return e=e[Dd]||e[Nh],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ax(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(bt(33))}function PC(e){return e[Ew]||null}var _3=[],Tx=-1;function kp(e){return{current:e}}function $i(e){0>Tx||(e.current=_3[Tx],_3[Tx]=null,Tx--)}function Ni(e,t){Tx++,_3[Tx]=e.current,e.current=t}var ap={},mo=kp(ap),bl=kp(!1),Jg=ap;function Ey(e,t){var n=e.type.contextTypes;if(!n)return ap;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function wl(e){return e=e.childContextTypes,e!=null}function $S(){$i(bl),$i(mo)}function yB(e,t,n){if(mo.current!==ap)throw Error(bt(168));Ni(mo,t),Ni(bl,n)}function tne(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(bt(108,I1e(e)||"Unknown",i));return la({},n,r)}function FS(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ap,Jg=mo.current,Ni(mo,e),Ni(bl,bl.current),!0}function bB(e,t,n){var r=e.stateNode;if(!r)throw Error(bt(169));n?(e=tne(e,t,Jg),r.__reactInternalMemoizedMergedChildContext=e,$i(bl),$i(mo),Ni(mo,e)):$i(bl),Ni(bl,n)}var th=null,AC=!1,JA=!1;function nne(e){th===null?th=[e]:th.push(e)}function Qwe(e){AC=!0,nne(e)}function Cp(){if(!JA&&th!==null){JA=!0;var e=0,t=ti;try{var n=th;for(ti=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}th=null,AC=!1}catch(i){throw th!==null&&(th=th.slice(e+1)),Cte(YD,Cp),i}finally{ti=t,JA=!1}}return null}var Ox=[],Lx=0,BS=null,zS=0,Wc=[],Hc=0,ev=null,sh=1,oh="";function pg(e,t){Ox[Lx++]=zS,Ox[Lx++]=BS,BS=e,zS=t}function rne(e,t,n){Wc[Hc++]=sh,Wc[Hc++]=oh,Wc[Hc++]=ev,ev=e;var r=sh;e=oh;var i=32-Gu(r)-1;r&=~(1<<i),n+=1;var a=32-Gu(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,sh=1<<32-Gu(t)+i|n<<i|r,oh=a+e}else sh=1<<a|n<<i|r,oh=e}function i6(e){e.return!==null&&(pg(e,1),rne(e,1,0))}function a6(e){for(;e===BS;)BS=Ox[--Lx],Ox[Lx]=null,zS=Ox[--Lx],Ox[Lx]=null;for(;e===ev;)ev=Wc[--Hc],Wc[Hc]=null,oh=Wc[--Hc],Wc[Hc]=null,sh=Wc[--Hc],Wc[Hc]=null}var ec=null,Xl=null,Hi=!1,qu=null;function ine(e,t){var n=Xc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function wB(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ec=e,Xl=Gm(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ec=e,Xl=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=ev!==null?{id:sh,overflow:oh}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Xc(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,ec=e,Xl=null,!0):!1;default:return!1}}function S3(e){return(e.mode&1)!==0&&(e.flags&128)===0}function k3(e){if(Hi){var t=Xl;if(t){var n=t;if(!wB(e,t)){if(S3(e))throw Error(bt(418));t=Gm(n.nextSibling);var r=ec;t&&wB(e,t)?ine(r,n):(e.flags=e.flags&-4097|2,Hi=!1,ec=e)}}else{if(S3(e))throw Error(bt(418));e.flags=e.flags&-4097|2,Hi=!1,ec=e}}}function jB(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ec=e}function IN(e){if(e!==ec)return!1;if(!Hi)return jB(e),Hi=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!w3(e.type,e.memoizedProps)),t&&(t=Xl)){if(S3(e))throw ane(),Error(bt(418));for(;t;)ine(e,t),t=Gm(t.nextSibling)}if(jB(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(bt(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Xl=Gm(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Xl=null}}else Xl=ec?Gm(e.stateNode.nextSibling):null;return!0}function ane(){for(var e=Xl;e;)e=Gm(e.nextSibling)}function Py(){Xl=ec=null,Hi=!1}function s6(e){qu===null?qu=[e]:qu.push(e)}var Jwe=Ih.ReactCurrentBatchConfig;function $b(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(bt(309));var r=n.stateNode}if(!r)throw Error(bt(147,e));var i=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var l=i.refs;o===null?delete l[a]:l[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(bt(284));if(!n._owner)throw Error(bt(290,e))}return e}function DN(e,t){throw e=Object.prototype.toString.call(t),Error(bt(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function NB(e){var t=e._init;return t(e._payload)}function sne(e){function t(x,w){if(e){var j=x.deletions;j===null?(x.deletions=[w],x.flags|=16):j.push(w)}}function n(x,w){if(!e)return null;for(;w!==null;)t(x,w),w=w.sibling;return null}function r(x,w){for(x=new Map;w!==null;)w.key!==null?x.set(w.key,w):x.set(w.index,w),w=w.sibling;return x}function i(x,w){return x=Qm(x,w),x.index=0,x.sibling=null,x}function a(x,w,j){return x.index=j,e?(j=x.alternate,j!==null?(j=j.index,j<w?(x.flags|=2,w):j):(x.flags|=2,w)):(x.flags|=1048576,w)}function o(x){return e&&x.alternate===null&&(x.flags|=2),x}function l(x,w,j,_){return w===null||w.tag!==6?(w=sT(j,x.mode,_),w.return=x,w):(w=i(w,j),w.return=x,w)}function c(x,w,j,_){var S=j.type;return S===kx?d(x,w,j.props.children,_,j.key):w!==null&&(w.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===_m&&NB(S)===w.type)?(_=i(w,j.props),_.ref=$b(x,w,j),_.return=x,_):(_=eS(j.type,j.key,j.props,null,x.mode,_),_.ref=$b(x,w,j),_.return=x,_)}function u(x,w,j,_){return w===null||w.tag!==4||w.stateNode.containerInfo!==j.containerInfo||w.stateNode.implementation!==j.implementation?(w=oT(j,x.mode,_),w.return=x,w):(w=i(w,j.children||[]),w.return=x,w)}function d(x,w,j,_,S){return w===null||w.tag!==7?(w=Hg(j,x.mode,_,S),w.return=x,w):(w=i(w,j),w.return=x,w)}function f(x,w,j){if(typeof w=="string"&&w!==""||typeof w=="number")return w=sT(""+w,x.mode,j),w.return=x,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case SN:return j=eS(w.type,w.key,w.props,null,x.mode,j),j.ref=$b(x,null,w),j.return=x,j;case Sx:return w=oT(w,x.mode,j),w.return=x,w;case _m:var _=w._init;return f(x,_(w._payload),j)}if(d1(w)||Lb(w))return w=Hg(w,x.mode,j,null),w.return=x,w;DN(x,w)}return null}function m(x,w,j,_){var S=w!==null?w.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return S!==null?null:l(x,w,""+j,_);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case SN:return j.key===S?c(x,w,j,_):null;case Sx:return j.key===S?u(x,w,j,_):null;case _m:return S=j._init,m(x,w,S(j._payload),_)}if(d1(j)||Lb(j))return S!==null?null:d(x,w,j,_,null);DN(x,j)}return null}function h(x,w,j,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return x=x.get(j)||null,l(w,x,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case SN:return x=x.get(_.key===null?j:_.key)||null,c(w,x,_,S);case Sx:return x=x.get(_.key===null?j:_.key)||null,u(w,x,_,S);case _m:var k=_._init;return h(x,w,j,k(_._payload),S)}if(d1(_)||Lb(_))return x=x.get(j)||null,d(w,x,_,S,null);DN(w,_)}return null}function g(x,w,j,_){for(var S=null,k=null,P=w,M=w=0,T=null;P!==null&&M<j.length;M++){P.index>M?(T=P,P=null):T=P.sibling;var R=m(x,P,j[M],_);if(R===null){P===null&&(P=T);break}e&&P&&R.alternate===null&&t(x,P),w=a(R,w,M),k===null?S=R:k.sibling=R,k=R,P=T}if(M===j.length)return n(x,P),Hi&&pg(x,M),S;if(P===null){for(;M<j.length;M++)P=f(x,j[M],_),P!==null&&(w=a(P,w,M),k===null?S=P:k.sibling=P,k=P);return Hi&&pg(x,M),S}for(P=r(x,P);M<j.length;M++)T=h(P,x,M,j[M],_),T!==null&&(e&&T.alternate!==null&&P.delete(T.key===null?M:T.key),w=a(T,w,M),k===null?S=T:k.sibling=T,k=T);return e&&P.forEach(function(D){return t(x,D)}),Hi&&pg(x,M),S}function y(x,w,j,_){var S=Lb(j);if(typeof S!="function")throw Error(bt(150));if(j=S.call(j),j==null)throw Error(bt(151));for(var k=S=null,P=w,M=w=0,T=null,R=j.next();P!==null&&!R.done;M++,R=j.next()){P.index>M?(T=P,P=null):T=P.sibling;var D=m(x,P,R.value,_);if(D===null){P===null&&(P=T);break}e&&P&&D.alternate===null&&t(x,P),w=a(D,w,M),k===null?S=D:k.sibling=D,k=D,P=T}if(R.done)return n(x,P),Hi&&pg(x,M),S;if(P===null){for(;!R.done;M++,R=j.next())R=f(x,R.value,_),R!==null&&(w=a(R,w,M),k===null?S=R:k.sibling=R,k=R);return Hi&&pg(x,M),S}for(P=r(x,P);!R.done;M++,R=j.next())R=h(P,x,M,R.value,_),R!==null&&(e&&R.alternate!==null&&P.delete(R.key===null?M:R.key),w=a(R,w,M),k===null?S=R:k.sibling=R,k=R);return e&&P.forEach(function(I){return t(x,I)}),Hi&&pg(x,M),S}function v(x,w,j,_){if(typeof j=="object"&&j!==null&&j.type===kx&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case SN:e:{for(var S=j.key,k=w;k!==null;){if(k.key===S){if(S=j.type,S===kx){if(k.tag===7){n(x,k.sibling),w=i(k,j.props.children),w.return=x,x=w;break e}}else if(k.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===_m&&NB(S)===k.type){n(x,k.sibling),w=i(k,j.props),w.ref=$b(x,k,j),w.return=x,x=w;break e}n(x,k);break}else t(x,k);k=k.sibling}j.type===kx?(w=Hg(j.props.children,x.mode,_,j.key),w.return=x,x=w):(_=eS(j.type,j.key,j.props,null,x.mode,_),_.ref=$b(x,w,j),_.return=x,x=_)}return o(x);case Sx:e:{for(k=j.key;w!==null;){if(w.key===k)if(w.tag===4&&w.stateNode.containerInfo===j.containerInfo&&w.stateNode.implementation===j.implementation){n(x,w.sibling),w=i(w,j.children||[]),w.return=x,x=w;break e}else{n(x,w);break}else t(x,w);w=w.sibling}w=oT(j,x.mode,_),w.return=x,x=w}return o(x);case _m:return k=j._init,v(x,w,k(j._payload),_)}if(d1(j))return g(x,w,j,_);if(Lb(j))return y(x,w,j,_);DN(x,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,w!==null&&w.tag===6?(n(x,w.sibling),w=i(w,j),w.return=x,x=w):(n(x,w),w=sT(j,x.mode,_),w.return=x,x=w),o(x)):n(x,w)}return v}var Ay=sne(!0),one=sne(!1),VS=kp(null),qS=null,Mx=null,o6=null;function l6(){o6=Mx=qS=null}function c6(e){var t=VS.current;$i(VS),e._currentValue=t}function C3(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ty(e,t){qS=e,o6=Mx=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(vl=!0),e.firstContext=null)}function eu(e){var t=e._currentValue;if(o6!==e)if(e={context:e,memoizedValue:t,next:null},Mx===null){if(qS===null)throw Error(bt(308));Mx=e,qS.dependencies={lanes:0,firstContext:e}}else Mx=Mx.next=e;return t}var Lg=null;function u6(e){Lg===null?Lg=[e]:Lg.push(e)}function lne(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,u6(t)):(n.next=i.next,i.next=n),t.interleaved=n,_h(e,r)}function _h(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Sm=!1;function d6(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function cne(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function dh(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ym(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Cr&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,_h(e,n)}return i=r.interleaved,i===null?(t.next=t,u6(r)):(t.next=i.next,i.next=t),r.interleaved=t,_h(e,n)}function G_(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,XD(e,n)}}function _B(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?i=a=t:a=a.next=t}else i=a=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function US(e,t,n,r){var i=e.updateQueue;Sm=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?a=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(a!==null){var f=i.baseState;o=0,d=u=c=null,l=a;do{var m=l.lane,h=l.eventTime;if((r&m)===m){d!==null&&(d=d.next={eventTime:h,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,y=l;switch(m=t,h=n,y.tag){case 1:if(g=y.payload,typeof g=="function"){f=g.call(h,f,m);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,m=typeof g=="function"?g.call(h,f,m):g,m==null)break e;f=la({},f,m);break e;case 2:Sm=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=i.effects,m===null?i.effects=[l]:m.push(l))}else h={eventTime:h,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=h,c=f):d=d.next=h,o|=m;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;m=l,l=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(d===null&&(c=f),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);nv|=o,e.lanes=o,e.memoizedState=f}}function SB(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(bt(191,i));i.call(r)}}}var dj={},Jd=kp(dj),Pw=kp(dj),Aw=kp(dj);function Mg(e){if(e===dj)throw Error(bt(174));return e}function f6(e,t){switch(Ni(Aw,t),Ni(Pw,e),Ni(Jd,dj),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:o3(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=o3(t,e)}$i(Jd),Ni(Jd,t)}function Ty(){$i(Jd),$i(Pw),$i(Aw)}function une(e){Mg(Aw.current);var t=Mg(Jd.current),n=o3(t,e.type);t!==n&&(Ni(Pw,e),Ni(Jd,n))}function h6(e){Pw.current===e&&($i(Jd),$i(Pw))}var na=kp(0);function WS(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var eT=[];function m6(){for(var e=0;e<eT.length;e++)eT[e]._workInProgressVersionPrimary=null;eT.length=0}var Y_=Ih.ReactCurrentDispatcher,tT=Ih.ReactCurrentBatchConfig,tv=0,aa=null,os=null,ys=null,HS=!1,C1=!1,Tw=0,e2e=0;function Zs(){throw Error(bt(321))}function p6(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!td(e[n],t[n]))return!1;return!0}function g6(e,t,n,r,i,a){if(tv=a,aa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Y_.current=e===null||e.memoizedState===null?i2e:a2e,e=n(r,i),C1){a=0;do{if(C1=!1,Tw=0,25<=a)throw Error(bt(301));a+=1,ys=os=null,t.updateQueue=null,Y_.current=s2e,e=n(r,i)}while(C1)}if(Y_.current=KS,t=os!==null&&os.next!==null,tv=0,ys=os=aa=null,HS=!1,t)throw Error(bt(300));return e}function v6(){var e=Tw!==0;return Tw=0,e}function Ld(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ys===null?aa.memoizedState=ys=e:ys=ys.next=e,ys}function tu(){if(os===null){var e=aa.alternate;e=e!==null?e.memoizedState:null}else e=os.next;var t=ys===null?aa.memoizedState:ys.next;if(t!==null)ys=t,os=e;else{if(e===null)throw Error(bt(310));os=e,e={memoizedState:os.memoizedState,baseState:os.baseState,baseQueue:os.baseQueue,queue:os.queue,next:null},ys===null?aa.memoizedState=ys=e:ys=ys.next=e}return ys}function Ow(e,t){return typeof t=="function"?t(e):t}function nT(e){var t=tu(),n=t.queue;if(n===null)throw Error(bt(311));n.lastRenderedReducer=e;var r=os,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var l=o=null,c=null,u=a;do{var d=u.lane;if((tv&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=r):c=c.next=f,aa.lanes|=d,nv|=d}u=u.next}while(u!==null&&u!==a);c===null?o=r:c.next=l,td(r,t.memoizedState)||(vl=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do a=i.lane,aa.lanes|=a,nv|=a,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function rT(e){var t=tu(),n=t.queue;if(n===null)throw Error(bt(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do a=e(a,o.action),o=o.next;while(o!==i);td(a,t.memoizedState)||(vl=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function dne(){}function fne(e,t){var n=aa,r=tu(),i=t(),a=!td(r.memoizedState,i);if(a&&(r.memoizedState=i,vl=!0),r=r.queue,x6(pne.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||ys!==null&&ys.memoizedState.tag&1){if(n.flags|=2048,Lw(9,mne.bind(null,n,r,i,t),void 0,null),Ns===null)throw Error(bt(349));tv&30||hne(n,t,i)}return i}function hne(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=aa.updateQueue,t===null?(t={lastEffect:null,stores:null},aa.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function mne(e,t,n,r){t.value=n,t.getSnapshot=r,gne(t)&&vne(e)}function pne(e,t,n){return n(function(){gne(t)&&vne(e)})}function gne(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!td(e,n)}catch{return!0}}function vne(e){var t=_h(e,1);t!==null&&Yu(t,e,1,-1)}function kB(e){var t=Ld();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ow,lastRenderedState:e},t.queue=e,e=e.dispatch=r2e.bind(null,aa,e),[t.memoizedState,e]}function Lw(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=aa.updateQueue,t===null?(t={lastEffect:null,stores:null},aa.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function xne(){return tu().memoizedState}function X_(e,t,n,r){var i=Ld();aa.flags|=e,i.memoizedState=Lw(1|t,n,void 0,r===void 0?null:r)}function TC(e,t,n,r){var i=tu();r=r===void 0?null:r;var a=void 0;if(os!==null){var o=os.memoizedState;if(a=o.destroy,r!==null&&p6(r,o.deps)){i.memoizedState=Lw(t,n,a,r);return}}aa.flags|=e,i.memoizedState=Lw(1|t,n,a,r)}function CB(e,t){return X_(8390656,8,e,t)}function x6(e,t){return TC(2048,8,e,t)}function yne(e,t){return TC(4,2,e,t)}function bne(e,t){return TC(4,4,e,t)}function wne(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function jne(e,t,n){return n=n!=null?n.concat([e]):null,TC(4,4,wne.bind(null,t,e),n)}function y6(){}function Nne(e,t){var n=tu();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&p6(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function _ne(e,t){var n=tu();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&p6(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Sne(e,t,n){return tv&21?(td(n,t)||(n=Ate(),aa.lanes|=n,nv|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,vl=!0),e.memoizedState=n)}function t2e(e,t){var n=ti;ti=n!==0&&4>n?n:4,e(!0);var r=tT.transition;tT.transition={};try{e(!1),t()}finally{ti=n,tT.transition=r}}function kne(){return tu().memoizedState}function n2e(e,t,n){var r=Zm(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Cne(e))Ene(t,n);else if(n=lne(e,t,n,r),n!==null){var i=Vo();Yu(n,e,r,i),Pne(n,t,r)}}function r2e(e,t,n){var r=Zm(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Cne(e))Ene(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,l=a(o,n);if(i.hasEagerState=!0,i.eagerState=l,td(l,o)){var c=t.interleaved;c===null?(i.next=i,u6(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}n=lne(e,t,i,r),n!==null&&(i=Vo(),Yu(n,e,r,i),Pne(n,t,r))}}function Cne(e){var t=e.alternate;return e===aa||t!==null&&t===aa}function Ene(e,t){C1=HS=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Pne(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,XD(e,n)}}var KS={readContext:eu,useCallback:Zs,useContext:Zs,useEffect:Zs,useImperativeHandle:Zs,useInsertionEffect:Zs,useLayoutEffect:Zs,useMemo:Zs,useReducer:Zs,useRef:Zs,useState:Zs,useDebugValue:Zs,useDeferredValue:Zs,useTransition:Zs,useMutableSource:Zs,useSyncExternalStore:Zs,useId:Zs,unstable_isNewReconciler:!1},i2e={readContext:eu,useCallback:function(e,t){return Ld().memoizedState=[e,t===void 0?null:t],e},useContext:eu,useEffect:CB,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,X_(4194308,4,wne.bind(null,t,e),n)},useLayoutEffect:function(e,t){return X_(4194308,4,e,t)},useInsertionEffect:function(e,t){return X_(4,2,e,t)},useMemo:function(e,t){var n=Ld();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ld();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=n2e.bind(null,aa,e),[r.memoizedState,e]},useRef:function(e){var t=Ld();return e={current:e},t.memoizedState=e},useState:kB,useDebugValue:y6,useDeferredValue:function(e){return Ld().memoizedState=e},useTransition:function(){var e=kB(!1),t=e[0];return e=t2e.bind(null,e[1]),Ld().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=aa,i=Ld();if(Hi){if(n===void 0)throw Error(bt(407));n=n()}else{if(n=t(),Ns===null)throw Error(bt(349));tv&30||hne(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,CB(pne.bind(null,r,a,e),[e]),r.flags|=2048,Lw(9,mne.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Ld(),t=Ns.identifierPrefix;if(Hi){var n=oh,r=sh;n=(r&~(1<<32-Gu(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Tw++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=e2e++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},a2e={readContext:eu,useCallback:Nne,useContext:eu,useEffect:x6,useImperativeHandle:jne,useInsertionEffect:yne,useLayoutEffect:bne,useMemo:_ne,useReducer:nT,useRef:xne,useState:function(){return nT(Ow)},useDebugValue:y6,useDeferredValue:function(e){var t=tu();return Sne(t,os.memoizedState,e)},useTransition:function(){var e=nT(Ow)[0],t=tu().memoizedState;return[e,t]},useMutableSource:dne,useSyncExternalStore:fne,useId:kne,unstable_isNewReconciler:!1},s2e={readContext:eu,useCallback:Nne,useContext:eu,useEffect:x6,useImperativeHandle:jne,useInsertionEffect:yne,useLayoutEffect:bne,useMemo:_ne,useReducer:rT,useRef:xne,useState:function(){return rT(Ow)},useDebugValue:y6,useDeferredValue:function(e){var t=tu();return os===null?t.memoizedState=e:Sne(t,os.memoizedState,e)},useTransition:function(){var e=rT(Ow)[0],t=tu().memoizedState;return[e,t]},useMutableSource:dne,useSyncExternalStore:fne,useId:kne,unstable_isNewReconciler:!1};function Fu(e,t){if(e&&e.defaultProps){t=la({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function E3(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:la({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var OC={isMounted:function(e){return(e=e._reactInternals)?Sv(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Vo(),i=Zm(e),a=dh(r,i);a.payload=t,n!=null&&(a.callback=n),t=Ym(e,a,i),t!==null&&(Yu(t,e,i,r),G_(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Vo(),i=Zm(e),a=dh(r,i);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=Ym(e,a,i),t!==null&&(Yu(t,e,i,r),G_(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Vo(),r=Zm(e),i=dh(n,r);i.tag=2,t!=null&&(i.callback=t),t=Ym(e,i,r),t!==null&&(Yu(t,e,r,n),G_(t,e,r))}};function EB(e,t,n,r,i,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,o):t.prototype&&t.prototype.isPureReactComponent?!Sw(n,r)||!Sw(i,a):!0}function Ane(e,t,n){var r=!1,i=ap,a=t.contextType;return typeof a=="object"&&a!==null?a=eu(a):(i=wl(t)?Jg:mo.current,r=t.contextTypes,a=(r=r!=null)?Ey(e,i):ap),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=OC,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function PB(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&OC.enqueueReplaceState(t,t.state,null)}function P3(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},d6(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=eu(a):(a=wl(t)?Jg:mo.current,i.context=Ey(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(E3(e,t,a,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&OC.enqueueReplaceState(i,i.state,null),US(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Oy(e,t){try{var n="",r=t;do n+=M1e(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function iT(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function A3(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var o2e=typeof WeakMap=="function"?WeakMap:Map;function Tne(e,t,n){n=dh(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){YS||(YS=!0,B3=r),A3(e,t)},n}function One(e,t,n){n=dh(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){A3(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){A3(e,t),typeof r!="function"&&(Xm===null?Xm=new Set([this]):Xm.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function AB(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new o2e;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=w2e.bind(null,e,t,n),t.then(e,e))}function TB(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function OB(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=dh(-1,1),t.tag=2,Ym(n,t,1))),n.lanes|=1),e)}var l2e=Ih.ReactCurrentOwner,vl=!1;function Ao(e,t,n,r){t.child=e===null?one(t,null,n,r):Ay(t,e.child,n,r)}function LB(e,t,n,r,i){n=n.render;var a=t.ref;return ty(t,i),r=g6(e,t,n,r,a,i),n=v6(),e!==null&&!vl?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Sh(e,t,i)):(Hi&&n&&i6(t),t.flags|=1,Ao(e,t,r,i),t.child)}function MB(e,t,n,r,i){if(e===null){var a=n.type;return typeof a=="function"&&!C6(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,Lne(e,t,a,r,i)):(e=eS(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:Sw,n(o,r)&&e.ref===t.ref)return Sh(e,t,i)}return t.flags|=1,e=Qm(a,r),e.ref=t.ref,e.return=t,t.child=e}function Lne(e,t,n,r,i){if(e!==null){var a=e.memoizedProps;if(Sw(a,r)&&e.ref===t.ref)if(vl=!1,t.pendingProps=r=a,(e.lanes&i)!==0)e.flags&131072&&(vl=!0);else return t.lanes=e.lanes,Sh(e,t,i)}return T3(e,t,n,r,i)}function Mne(e,t,n){var r=t.pendingProps,i=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ni(Dx,Ul),Ul|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ni(Dx,Ul),Ul|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,Ni(Dx,Ul),Ul|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ni(Dx,Ul),Ul|=r;return Ao(e,t,i,n),t.child}function Ine(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function T3(e,t,n,r,i){var a=wl(n)?Jg:mo.current;return a=Ey(t,a),ty(t,i),n=g6(e,t,n,r,a,i),r=v6(),e!==null&&!vl?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Sh(e,t,i)):(Hi&&r&&i6(t),t.flags|=1,Ao(e,t,n,i),t.child)}function IB(e,t,n,r,i){if(wl(n)){var a=!0;FS(t)}else a=!1;if(ty(t,i),t.stateNode===null)Z_(e,t),Ane(t,n,r),P3(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=eu(u):(u=wl(n)?Jg:mo.current,u=Ey(t,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==u)&&PB(t,o,r,u),Sm=!1;var m=t.memoizedState;o.state=m,US(t,r,o,i),c=t.memoizedState,l!==r||m!==c||bl.current||Sm?(typeof d=="function"&&(E3(t,n,d,r),c=t.memoizedState),(l=Sm||EB(t,n,l,r,m,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,cne(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Fu(t.type,l),o.props=u,f=t.pendingProps,m=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=eu(c):(c=wl(n)?Jg:mo.current,c=Ey(t,c));var h=n.getDerivedStateFromProps;(d=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||m!==c)&&PB(t,o,r,c),Sm=!1,m=t.memoizedState,o.state=m,US(t,r,o,i);var g=t.memoizedState;l!==f||m!==g||bl.current||Sm?(typeof h=="function"&&(E3(t,n,h,r),g=t.memoizedState),(u=Sm||EB(t,n,u,r,m,g,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),o.props=r,o.state=g,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return O3(e,t,n,r,a,i)}function O3(e,t,n,r,i,a){Ine(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&bB(t,n,!1),Sh(e,t,a);r=t.stateNode,l2e.current=t;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Ay(t,e.child,null,a),t.child=Ay(t,null,l,a)):Ao(e,t,l,a),t.memoizedState=r.state,i&&bB(t,n,!0),t.child}function Dne(e){var t=e.stateNode;t.pendingContext?yB(e,t.pendingContext,t.pendingContext!==t.context):t.context&&yB(e,t.context,!1),f6(e,t.containerInfo)}function DB(e,t,n,r,i){return Py(),s6(i),t.flags|=256,Ao(e,t,n,r),t.child}var L3={dehydrated:null,treeContext:null,retryLane:0};function M3(e){return{baseLanes:e,cachePool:null,transitions:null}}function Rne(e,t,n){var r=t.pendingProps,i=na.current,a=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Ni(na,i&1),e===null)return k3(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,a?(r=t.mode,a=t.child,o={mode:"hidden",children:o},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=IC(o,r,0,null),e=Hg(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=M3(n),t.memoizedState=L3,e):b6(t,o));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return c2e(e,t,o,r,l,i,n);if(a){a=r.fallback,o=t.mode,i=e.child,l=i.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Qm(i,c),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?a=Qm(l,a):(a=Hg(a,o,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,o=e.child.memoizedState,o=o===null?M3(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~n,t.memoizedState=L3,r}return a=e.child,e=a.sibling,r=Qm(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function b6(e,t){return t=IC({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function RN(e,t,n,r){return r!==null&&s6(r),Ay(t,e.child,null,n),e=b6(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function c2e(e,t,n,r,i,a,o){if(n)return t.flags&256?(t.flags&=-257,r=iT(Error(bt(422))),RN(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=IC({mode:"visible",children:r.children},i,0,null),a=Hg(a,i,o,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&Ay(t,e.child,null,o),t.child.memoizedState=M3(o),t.memoizedState=L3,a);if(!(t.mode&1))return RN(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,a=Error(bt(419)),r=iT(a,r,void 0),RN(e,t,o,r)}if(l=(o&e.childLanes)!==0,vl||l){if(r=Ns,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,_h(e,i),Yu(r,e,i,-1))}return k6(),r=iT(Error(bt(421))),RN(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=j2e.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,Xl=Gm(i.nextSibling),ec=t,Hi=!0,qu=null,e!==null&&(Wc[Hc++]=sh,Wc[Hc++]=oh,Wc[Hc++]=ev,sh=e.id,oh=e.overflow,ev=t),t=b6(t,r.children),t.flags|=4096,t)}function RB(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),C3(e.return,t,n)}function aT(e,t,n,r,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function $ne(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Ao(e,t,r.children,n),r=na.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&RB(e,n,t);else if(e.tag===19)RB(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ni(na,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&WS(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),aT(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&WS(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}aT(t,!0,n,null,a);break;case"together":aT(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Z_(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Sh(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),nv|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(bt(153));if(t.child!==null){for(e=t.child,n=Qm(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Qm(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function u2e(e,t,n){switch(t.tag){case 3:Dne(t),Py();break;case 5:une(t);break;case 1:wl(t.type)&&FS(t);break;case 4:f6(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ni(VS,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Ni(na,na.current&1),t.flags|=128,null):n&t.child.childLanes?Rne(e,t,n):(Ni(na,na.current&1),e=Sh(e,t,n),e!==null?e.sibling:null);Ni(na,na.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return $ne(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ni(na,na.current),r)break;return null;case 22:case 23:return t.lanes=0,Mne(e,t,n)}return Sh(e,t,n)}var Fne,I3,Bne,zne;Fne=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};I3=function(){};Bne=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Mg(Jd.current);var a=null;switch(n){case"input":i=r3(e,i),r=r3(e,r),a=[];break;case"select":i=la({},i,{value:void 0}),r=la({},r,{value:void 0}),a=[];break;case"textarea":i=s3(e,i),r=s3(e,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=RS)}l3(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(xw.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(xw.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Oi("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};zne=function(e,t,n,r){n!==r&&(t.flags|=4)};function Fb(e,t){if(!Hi)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Qs(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function d2e(e,t,n){var r=t.pendingProps;switch(a6(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qs(t),null;case 1:return wl(t.type)&&$S(),Qs(t),null;case 3:return r=t.stateNode,Ty(),$i(bl),$i(mo),m6(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(IN(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,qu!==null&&(q3(qu),qu=null))),I3(e,t),Qs(t),null;case 5:h6(t);var i=Mg(Aw.current);if(n=t.type,e!==null&&t.stateNode!=null)Bne(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(bt(166));return Qs(t),null}if(e=Mg(Jd.current),IN(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[Dd]=t,r[Ew]=a,e=(t.mode&1)!==0,n){case"dialog":Oi("cancel",r),Oi("close",r);break;case"iframe":case"object":case"embed":Oi("load",r);break;case"video":case"audio":for(i=0;i<h1.length;i++)Oi(h1[i],r);break;case"source":Oi("error",r);break;case"img":case"image":case"link":Oi("error",r),Oi("load",r);break;case"details":Oi("toggle",r);break;case"input":H7(r,a),Oi("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Oi("invalid",r);break;case"textarea":G7(r,a),Oi("invalid",r)}l3(n,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?r.textContent!==l&&(a.suppressHydrationWarning!==!0&&MN(r.textContent,l,e),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&MN(r.textContent,l,e),i=["children",""+l]):xw.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Oi("scroll",r)}switch(n){case"input":kN(r),K7(r,a,!0);break;case"textarea":kN(r),Y7(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=RS)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=pte(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Dd]=t,e[Ew]=r,Fne(e,t,!1,!1),t.stateNode=e;e:{switch(o=c3(n,r),n){case"dialog":Oi("cancel",e),Oi("close",e),i=r;break;case"iframe":case"object":case"embed":Oi("load",e),i=r;break;case"video":case"audio":for(i=0;i<h1.length;i++)Oi(h1[i],e);i=r;break;case"source":Oi("error",e),i=r;break;case"img":case"image":case"link":Oi("error",e),Oi("load",e),i=r;break;case"details":Oi("toggle",e),i=r;break;case"input":H7(e,r),i=r3(e,r),Oi("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=la({},r,{value:void 0}),Oi("invalid",e);break;case"textarea":G7(e,r),i=s3(e,r),Oi("invalid",e);break;default:i=r}l3(n,i),l=i;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?xte(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&gte(e,c)):a==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&yw(e,c):typeof c=="number"&&yw(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(xw.hasOwnProperty(a)?c!=null&&a==="onScroll"&&Oi("scroll",e):c!=null&&UD(e,a,c,o))}switch(n){case"input":kN(e),K7(e,r,!1);break;case"textarea":kN(e),Y7(e);break;case"option":r.value!=null&&e.setAttribute("value",""+ip(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?Zx(e,!!r.multiple,a,!1):r.defaultValue!=null&&Zx(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=RS)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Qs(t),null;case 6:if(e&&t.stateNode!=null)zne(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(bt(166));if(n=Mg(Aw.current),Mg(Jd.current),IN(t)){if(r=t.stateNode,n=t.memoizedProps,r[Dd]=t,(a=r.nodeValue!==n)&&(e=ec,e!==null))switch(e.tag){case 3:MN(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&MN(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Dd]=t,t.stateNode=r}return Qs(t),null;case 13:if($i(na),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Hi&&Xl!==null&&t.mode&1&&!(t.flags&128))ane(),Py(),t.flags|=98560,a=!1;else if(a=IN(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(bt(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(bt(317));a[Dd]=t}else Py(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Qs(t),a=!1}else qu!==null&&(q3(qu),qu=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||na.current&1?us===0&&(us=3):k6())),t.updateQueue!==null&&(t.flags|=4),Qs(t),null);case 4:return Ty(),I3(e,t),e===null&&kw(t.stateNode.containerInfo),Qs(t),null;case 10:return c6(t.type._context),Qs(t),null;case 17:return wl(t.type)&&$S(),Qs(t),null;case 19:if($i(na),a=t.memoizedState,a===null)return Qs(t),null;if(r=(t.flags&128)!==0,o=a.rendering,o===null)if(r)Fb(a,!1);else{if(us!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=WS(e),o!==null){for(t.flags|=128,Fb(a,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ni(na,na.current&1|2),t.child}e=e.sibling}a.tail!==null&&Ta()>Ly&&(t.flags|=128,r=!0,Fb(a,!1),t.lanes=4194304)}else{if(!r)if(e=WS(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Fb(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!Hi)return Qs(t),null}else 2*Ta()-a.renderingStartTime>Ly&&n!==1073741824&&(t.flags|=128,r=!0,Fb(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(n=a.last,n!==null?n.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Ta(),t.sibling=null,n=na.current,Ni(na,r?n&1|2:n&1),t):(Qs(t),null);case 22:case 23:return S6(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ul&1073741824&&(Qs(t),t.subtreeFlags&6&&(t.flags|=8192)):Qs(t),null;case 24:return null;case 25:return null}throw Error(bt(156,t.tag))}function f2e(e,t){switch(a6(t),t.tag){case 1:return wl(t.type)&&$S(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ty(),$i(bl),$i(mo),m6(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return h6(t),null;case 13:if($i(na),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(bt(340));Py()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return $i(na),null;case 4:return Ty(),null;case 10:return c6(t.type._context),null;case 22:case 23:return S6(),null;case 24:return null;default:return null}}var $N=!1,so=!1,h2e=typeof WeakSet=="function"?WeakSet:Set,zt=null;function Ix(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){va(e,t,r)}else n.current=null}function D3(e,t,n){try{n()}catch(r){va(e,t,r)}}var $B=!1;function m2e(e,t){if(y3=MS,e=Hte(),r6(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,m=null;t:for(;;){for(var h;f!==n||i!==0&&f.nodeType!==3||(l=o+i),f!==a||r!==0&&f.nodeType!==3||(c=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(h=f.firstChild)!==null;)m=f,f=h;for(;;){if(f===e)break t;if(m===n&&++u===i&&(l=o),m===a&&++d===r&&(c=o),(h=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=h}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(b3={focusedElem:e,selectionRange:n},MS=!1,zt=t;zt!==null;)if(t=zt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,zt=e;else for(;zt!==null;){t=zt;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,v=g.memoizedState,x=t.stateNode,w=x.getSnapshotBeforeUpdate(t.elementType===t.type?y:Fu(t.type,y),v);x.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var j=t.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(bt(163))}}catch(_){va(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,zt=e;break}zt=t.return}return g=$B,$B=!1,g}function E1(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&D3(t,n,a)}i=i.next}while(i!==r)}}function LC(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function R3(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Vne(e){var t=e.alternate;t!==null&&(e.alternate=null,Vne(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Dd],delete t[Ew],delete t[N3],delete t[Xwe],delete t[Zwe])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function qne(e){return e.tag===5||e.tag===3||e.tag===4}function FB(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||qne(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function $3(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=RS));else if(r!==4&&(e=e.child,e!==null))for($3(e,t,n),e=e.sibling;e!==null;)$3(e,t,n),e=e.sibling}function F3(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(F3(e,t,n),e=e.sibling;e!==null;)F3(e,t,n),e=e.sibling}var Ls=null,Bu=!1;function mm(e,t,n){for(n=n.child;n!==null;)Une(e,t,n),n=n.sibling}function Une(e,t,n){if(Qd&&typeof Qd.onCommitFiberUnmount=="function")try{Qd.onCommitFiberUnmount(SC,n)}catch{}switch(n.tag){case 5:so||Ix(n,t);case 6:var r=Ls,i=Bu;Ls=null,mm(e,t,n),Ls=r,Bu=i,Ls!==null&&(Bu?(e=Ls,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ls.removeChild(n.stateNode));break;case 18:Ls!==null&&(Bu?(e=Ls,n=n.stateNode,e.nodeType===8?QA(e.parentNode,n):e.nodeType===1&&QA(e,n),Nw(e)):QA(Ls,n.stateNode));break;case 4:r=Ls,i=Bu,Ls=n.stateNode.containerInfo,Bu=!0,mm(e,t,n),Ls=r,Bu=i;break;case 0:case 11:case 14:case 15:if(!so&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&D3(n,t,o),i=i.next}while(i!==r)}mm(e,t,n);break;case 1:if(!so&&(Ix(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){va(n,t,l)}mm(e,t,n);break;case 21:mm(e,t,n);break;case 22:n.mode&1?(so=(r=so)||n.memoizedState!==null,mm(e,t,n),so=r):mm(e,t,n);break;default:mm(e,t,n)}}function BB(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new h2e),t.forEach(function(r){var i=N2e.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Lu(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Ls=l.stateNode,Bu=!1;break e;case 3:Ls=l.stateNode.containerInfo,Bu=!0;break e;case 4:Ls=l.stateNode.containerInfo,Bu=!0;break e}l=l.return}if(Ls===null)throw Error(bt(160));Une(a,o,i),Ls=null,Bu=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){va(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Wne(t,e),t=t.sibling}function Wne(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Lu(t,e),Pd(e),r&4){try{E1(3,e,e.return),LC(3,e)}catch(y){va(e,e.return,y)}try{E1(5,e,e.return)}catch(y){va(e,e.return,y)}}break;case 1:Lu(t,e),Pd(e),r&512&&n!==null&&Ix(n,n.return);break;case 5:if(Lu(t,e),Pd(e),r&512&&n!==null&&Ix(n,n.return),e.flags&32){var i=e.stateNode;try{yw(i,"")}catch(y){va(e,e.return,y)}}if(r&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,o=n!==null?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&hte(i,a),c3(l,o);var u=c3(l,a);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?xte(i,f):d==="dangerouslySetInnerHTML"?gte(i,f):d==="children"?yw(i,f):UD(i,d,f,u)}switch(l){case"input":i3(i,a);break;case"textarea":mte(i,a);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var h=a.value;h!=null?Zx(i,!!a.multiple,h,!1):m!==!!a.multiple&&(a.defaultValue!=null?Zx(i,!!a.multiple,a.defaultValue,!0):Zx(i,!!a.multiple,a.multiple?[]:"",!1))}i[Ew]=a}catch(y){va(e,e.return,y)}}break;case 6:if(Lu(t,e),Pd(e),r&4){if(e.stateNode===null)throw Error(bt(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(y){va(e,e.return,y)}}break;case 3:if(Lu(t,e),Pd(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Nw(t.containerInfo)}catch(y){va(e,e.return,y)}break;case 4:Lu(t,e),Pd(e);break;case 13:Lu(t,e),Pd(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(N6=Ta())),r&4&&BB(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(so=(u=so)||d,Lu(t,e),so=u):Lu(t,e),Pd(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(zt=e,d=e.child;d!==null;){for(f=zt=d;zt!==null;){switch(m=zt,h=m.child,m.tag){case 0:case 11:case 14:case 15:E1(4,m,m.return);break;case 1:Ix(m,m.return);var g=m.stateNode;if(typeof g.componentWillUnmount=="function"){r=m,n=m.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(y){va(r,n,y)}}break;case 5:Ix(m,m.return);break;case 22:if(m.memoizedState!==null){VB(f);continue}}h!==null?(h.return=m,zt=h):VB(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=vte("display",o))}catch(y){va(e,e.return,y)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(y){va(e,e.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Lu(t,e),Pd(e),r&4&&BB(e);break;case 21:break;default:Lu(t,e),Pd(e)}}function Pd(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(qne(n)){var r=n;break e}n=n.return}throw Error(bt(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(yw(i,""),r.flags&=-33);var a=FB(e);F3(e,a,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=FB(e);$3(e,l,o);break;default:throw Error(bt(161))}}catch(c){va(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function p2e(e,t,n){zt=e,Hne(e)}function Hne(e,t,n){for(var r=(e.mode&1)!==0;zt!==null;){var i=zt,a=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||$N;if(!o){var l=i.alternate,c=l!==null&&l.memoizedState!==null||so;l=$N;var u=so;if($N=o,(so=c)&&!u)for(zt=i;zt!==null;)o=zt,c=o.child,o.tag===22&&o.memoizedState!==null?qB(i):c!==null?(c.return=o,zt=c):qB(i);for(;a!==null;)zt=a,Hne(a),a=a.sibling;zt=i,$N=l,so=u}zB(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,zt=a):zB(e)}}function zB(e){for(;zt!==null;){var t=zt;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:so||LC(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!so)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Fu(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&SB(t,a,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}SB(t,o,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Nw(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(bt(163))}so||t.flags&512&&R3(t)}catch(m){va(t,t.return,m)}}if(t===e){zt=null;break}if(n=t.sibling,n!==null){n.return=t.return,zt=n;break}zt=t.return}}function VB(e){for(;zt!==null;){var t=zt;if(t===e){zt=null;break}var n=t.sibling;if(n!==null){n.return=t.return,zt=n;break}zt=t.return}}function qB(e){for(;zt!==null;){var t=zt;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{LC(4,t)}catch(c){va(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(c){va(t,i,c)}}var a=t.return;try{R3(t)}catch(c){va(t,a,c)}break;case 5:var o=t.return;try{R3(t)}catch(c){va(t,o,c)}}}catch(c){va(t,t.return,c)}if(t===e){zt=null;break}var l=t.sibling;if(l!==null){l.return=t.return,zt=l;break}zt=t.return}}var g2e=Math.ceil,GS=Ih.ReactCurrentDispatcher,w6=Ih.ReactCurrentOwner,Qc=Ih.ReactCurrentBatchConfig,Cr=0,Ns=null,Ha=null,$s=0,Ul=0,Dx=kp(0),us=0,Mw=null,nv=0,MC=0,j6=0,P1=null,pl=null,N6=0,Ly=1/0,Jf=null,YS=!1,B3=null,Xm=null,FN=!1,Rm=null,XS=0,A1=0,z3=null,Q_=-1,J_=0;function Vo(){return Cr&6?Ta():Q_!==-1?Q_:Q_=Ta()}function Zm(e){return e.mode&1?Cr&2&&$s!==0?$s&-$s:Jwe.transition!==null?(J_===0&&(J_=Ate()),J_):(e=ti,e!==0||(e=window.event,e=e===void 0?16:Rte(e.type)),e):1}function Yu(e,t,n,r){if(50<A1)throw A1=0,z3=null,Error(bt(185));lj(e,n,r),(!(Cr&2)||e!==Ns)&&(e===Ns&&(!(Cr&2)&&(MC|=n),us===4&&Tm(e,$s)),jl(e,r),n===1&&Cr===0&&!(t.mode&1)&&(Ly=Ta()+500,AC&&Cp()))}function jl(e,t){var n=e.callbackNode;J1e(e,t);var r=LS(e,e===Ns?$s:0);if(r===0)n!==null&&Q7(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Q7(n),t===1)e.tag===0?Qwe(UB.bind(null,e)):nne(UB.bind(null,e)),Gwe(function(){!(Cr&6)&&Cp()}),n=null;else{switch(Tte(r)){case 1:n=YD;break;case 4:n=Ete;break;case 16:n=OS;break;case 536870912:n=Pte;break;default:n=OS}n=ere(n,Kne.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Kne(e,t){if(Q_=-1,J_=0,Cr&6)throw Error(bt(327));var n=e.callbackNode;if(ny()&&e.callbackNode!==n)return null;var r=LS(e,e===Ns?$s:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=ZS(e,r);else{t=r;var i=Cr;Cr|=2;var a=Yne();(Ns!==e||$s!==t)&&(Jf=null,Ly=Ta()+500,Wg(e,t));do try{y2e();break}catch(l){Gne(e,l)}while(!0);l6(),GS.current=a,Cr=i,Ha!==null?t=0:(Ns=null,$s=0,t=us)}if(t!==0){if(t===2&&(i=m3(e),i!==0&&(r=i,t=V3(e,i))),t===1)throw n=Mw,Wg(e,0),Tm(e,r),jl(e,Ta()),n;if(t===6)Tm(e,r);else{if(i=e.current.alternate,!(r&30)&&!v2e(i)&&(t=ZS(e,r),t===2&&(a=m3(e),a!==0&&(r=a,t=V3(e,a))),t===1))throw n=Mw,Wg(e,0),Tm(e,r),jl(e,Ta()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(bt(345));case 2:gg(e,pl,Jf);break;case 3:if(Tm(e,r),(r&130023424)===r&&(t=N6+500-Ta(),10<t)){if(LS(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Vo(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=j3(gg.bind(null,e,pl,Jf),t);break}gg(e,pl,Jf);break;case 4:if(Tm(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-Gu(r);a=1<<o,o=t[o],o>i&&(i=o),r&=~a}if(r=i,r=Ta()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*g2e(r/1960))-r,10<r){e.timeoutHandle=j3(gg.bind(null,e,pl,Jf),r);break}gg(e,pl,Jf);break;case 5:gg(e,pl,Jf);break;default:throw Error(bt(329))}}}return jl(e,Ta()),e.callbackNode===n?Kne.bind(null,e):null}function V3(e,t){var n=P1;return e.current.memoizedState.isDehydrated&&(Wg(e,t).flags|=256),e=ZS(e,t),e!==2&&(t=pl,pl=n,t!==null&&q3(t)),e}function q3(e){pl===null?pl=e:pl.push.apply(pl,e)}function v2e(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!td(a(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Tm(e,t){for(t&=~j6,t&=~MC,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Gu(t),r=1<<n;e[n]=-1,t&=~r}}function UB(e){if(Cr&6)throw Error(bt(327));ny();var t=LS(e,0);if(!(t&1))return jl(e,Ta()),null;var n=ZS(e,t);if(e.tag!==0&&n===2){var r=m3(e);r!==0&&(t=r,n=V3(e,r))}if(n===1)throw n=Mw,Wg(e,0),Tm(e,t),jl(e,Ta()),n;if(n===6)throw Error(bt(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,gg(e,pl,Jf),jl(e,Ta()),null}function _6(e,t){var n=Cr;Cr|=1;try{return e(t)}finally{Cr=n,Cr===0&&(Ly=Ta()+500,AC&&Cp())}}function rv(e){Rm!==null&&Rm.tag===0&&!(Cr&6)&&ny();var t=Cr;Cr|=1;var n=Qc.transition,r=ti;try{if(Qc.transition=null,ti=1,e)return e()}finally{ti=r,Qc.transition=n,Cr=t,!(Cr&6)&&Cp()}}function S6(){Ul=Dx.current,$i(Dx)}function Wg(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Kwe(n)),Ha!==null)for(n=Ha.return;n!==null;){var r=n;switch(a6(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&$S();break;case 3:Ty(),$i(bl),$i(mo),m6();break;case 5:h6(r);break;case 4:Ty();break;case 13:$i(na);break;case 19:$i(na);break;case 10:c6(r.type._context);break;case 22:case 23:S6()}n=n.return}if(Ns=e,Ha=e=Qm(e.current,null),$s=Ul=t,us=0,Mw=null,j6=MC=nv=0,pl=P1=null,Lg!==null){for(t=0;t<Lg.length;t++)if(n=Lg[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var o=a.next;a.next=i,r.next=o}n.pending=r}Lg=null}return e}function Gne(e,t){do{var n=Ha;try{if(l6(),Y_.current=KS,HS){for(var r=aa.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}HS=!1}if(tv=0,ys=os=aa=null,C1=!1,Tw=0,w6.current=null,n===null||n.return===null){us=1,Mw=t,Ha=null;break}e:{var a=e,o=n.return,l=n,c=t;if(t=$s,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var h=TB(o);if(h!==null){h.flags&=-257,OB(h,o,l,a,t),h.mode&1&&AB(a,u,t),t=h,c=u;var g=t.updateQueue;if(g===null){var y=new Set;y.add(c),t.updateQueue=y}else g.add(c);break e}else{if(!(t&1)){AB(a,u,t),k6();break e}c=Error(bt(426))}}else if(Hi&&l.mode&1){var v=TB(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),OB(v,o,l,a,t),s6(Oy(c,l));break e}}a=c=Oy(c,l),us!==4&&(us=2),P1===null?P1=[a]:P1.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var x=Tne(a,c,t);_B(a,x);break e;case 1:l=c;var w=a.type,j=a.stateNode;if(!(a.flags&128)&&(typeof w.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(Xm===null||!Xm.has(j)))){a.flags|=65536,t&=-t,a.lanes|=t;var _=One(a,l,t);_B(a,_);break e}}a=a.return}while(a!==null)}Zne(n)}catch(S){t=S,Ha===n&&n!==null&&(Ha=n=n.return);continue}break}while(!0)}function Yne(){var e=GS.current;return GS.current=KS,e===null?KS:e}function k6(){(us===0||us===3||us===2)&&(us=4),Ns===null||!(nv&268435455)&&!(MC&268435455)||Tm(Ns,$s)}function ZS(e,t){var n=Cr;Cr|=2;var r=Yne();(Ns!==e||$s!==t)&&(Jf=null,Wg(e,t));do try{x2e();break}catch(i){Gne(e,i)}while(!0);if(l6(),Cr=n,GS.current=r,Ha!==null)throw Error(bt(261));return Ns=null,$s=0,us}function x2e(){for(;Ha!==null;)Xne(Ha)}function y2e(){for(;Ha!==null&&!U1e();)Xne(Ha)}function Xne(e){var t=Jne(e.alternate,e,Ul);e.memoizedProps=e.pendingProps,t===null?Zne(e):Ha=t,w6.current=null}function Zne(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=f2e(n,t),n!==null){n.flags&=32767,Ha=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{us=6,Ha=null;return}}else if(n=d2e(n,t,Ul),n!==null){Ha=n;return}if(t=t.sibling,t!==null){Ha=t;return}Ha=t=e}while(t!==null);us===0&&(us=5)}function gg(e,t,n){var r=ti,i=Qc.transition;try{Qc.transition=null,ti=1,b2e(e,t,n,r)}finally{Qc.transition=i,ti=r}return null}function b2e(e,t,n,r){do ny();while(Rm!==null);if(Cr&6)throw Error(bt(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(bt(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(ewe(e,a),e===Ns&&(Ha=Ns=null,$s=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||FN||(FN=!0,ere(OS,function(){return ny(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=Qc.transition,Qc.transition=null;var o=ti;ti=1;var l=Cr;Cr|=4,w6.current=null,m2e(e,n),Wne(n,e),Bwe(b3),MS=!!y3,b3=y3=null,e.current=n,p2e(n),W1e(),Cr=l,ti=o,Qc.transition=a}else e.current=n;if(FN&&(FN=!1,Rm=e,XS=i),a=e.pendingLanes,a===0&&(Xm=null),G1e(n.stateNode),jl(e,Ta()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(YS)throw YS=!1,e=B3,B3=null,e;return XS&1&&e.tag!==0&&ny(),a=e.pendingLanes,a&1?e===z3?A1++:(A1=0,z3=e):A1=0,Cp(),null}function ny(){if(Rm!==null){var e=Tte(XS),t=Qc.transition,n=ti;try{if(Qc.transition=null,ti=16>e?16:e,Rm===null)var r=!1;else{if(e=Rm,Rm=null,XS=0,Cr&6)throw Error(bt(331));var i=Cr;for(Cr|=4,zt=e.current;zt!==null;){var a=zt,o=a.child;if(zt.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(zt=u;zt!==null;){var d=zt;switch(d.tag){case 0:case 11:case 15:E1(8,d,a)}var f=d.child;if(f!==null)f.return=d,zt=f;else for(;zt!==null;){d=zt;var m=d.sibling,h=d.return;if(Vne(d),d===u){zt=null;break}if(m!==null){m.return=h,zt=m;break}zt=h}}}var g=a.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var v=y.sibling;y.sibling=null,y=v}while(y!==null)}}zt=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,zt=o;else e:for(;zt!==null;){if(a=zt,a.flags&2048)switch(a.tag){case 0:case 11:case 15:E1(9,a,a.return)}var x=a.sibling;if(x!==null){x.return=a.return,zt=x;break e}zt=a.return}}var w=e.current;for(zt=w;zt!==null;){o=zt;var j=o.child;if(o.subtreeFlags&2064&&j!==null)j.return=o,zt=j;else e:for(o=w;zt!==null;){if(l=zt,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:LC(9,l)}}catch(S){va(l,l.return,S)}if(l===o){zt=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,zt=_;break e}zt=l.return}}if(Cr=i,Cp(),Qd&&typeof Qd.onPostCommitFiberRoot=="function")try{Qd.onPostCommitFiberRoot(SC,e)}catch{}r=!0}return r}finally{ti=n,Qc.transition=t}}return!1}function WB(e,t,n){t=Oy(n,t),t=Tne(e,t,1),e=Ym(e,t,1),t=Vo(),e!==null&&(lj(e,1,t),jl(e,t))}function va(e,t,n){if(e.tag===3)WB(e,e,n);else for(;t!==null;){if(t.tag===3){WB(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Xm===null||!Xm.has(r))){e=Oy(n,e),e=One(t,e,1),t=Ym(t,e,1),e=Vo(),t!==null&&(lj(t,1,e),jl(t,e));break}}t=t.return}}function w2e(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Vo(),e.pingedLanes|=e.suspendedLanes&n,Ns===e&&($s&n)===n&&(us===4||us===3&&($s&130023424)===$s&&500>Ta()-N6?Wg(e,0):j6|=n),jl(e,t)}function Qne(e,t){t===0&&(e.mode&1?(t=PN,PN<<=1,!(PN&130023424)&&(PN=4194304)):t=1);var n=Vo();e=_h(e,t),e!==null&&(lj(e,t,n),jl(e,n))}function j2e(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Qne(e,n)}function N2e(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(bt(314))}r!==null&&r.delete(t),Qne(e,n)}var Jne;Jne=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||bl.current)vl=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return vl=!1,u2e(e,t,n);vl=!!(e.flags&131072)}else vl=!1,Hi&&t.flags&1048576&&rne(t,zS,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Z_(e,t),e=t.pendingProps;var i=Ey(t,mo.current);ty(t,n),i=g6(null,t,r,e,i,n);var a=v6();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,wl(r)?(a=!0,FS(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,d6(t),i.updater=OC,t.stateNode=i,i._reactInternals=t,P3(t,r,e,n),t=O3(null,t,r,!0,a,n)):(t.tag=0,Hi&&a&&i6(t),Ao(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Z_(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=S2e(r),e=Fu(r,e),i){case 0:t=T3(null,t,r,e,n);break e;case 1:t=IB(null,t,r,e,n);break e;case 11:t=LB(null,t,r,e,n);break e;case 14:t=MB(null,t,r,Fu(r.type,e),n);break e}throw Error(bt(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Fu(r,i),T3(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Fu(r,i),IB(e,t,r,i,n);case 3:e:{if(Dne(t),e===null)throw Error(bt(387));r=t.pendingProps,a=t.memoizedState,i=a.element,cne(e,t),US(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=Oy(Error(bt(423)),t),t=DB(e,t,r,n,i);break e}else if(r!==i){i=Oy(Error(bt(424)),t),t=DB(e,t,r,n,i);break e}else for(Xl=Gm(t.stateNode.containerInfo.firstChild),ec=t,Hi=!0,qu=null,n=one(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Py(),r===i){t=Sh(e,t,n);break e}Ao(e,t,r,n)}t=t.child}return t;case 5:return une(t),e===null&&k3(t),r=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,o=i.children,w3(r,i)?o=null:a!==null&&w3(r,a)&&(t.flags|=32),Ine(e,t),Ao(e,t,o,n),t.child;case 6:return e===null&&k3(t),null;case 13:return Rne(e,t,n);case 4:return f6(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Ay(t,null,r,n):Ao(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Fu(r,i),LB(e,t,r,i,n);case 7:return Ao(e,t,t.pendingProps,n),t.child;case 8:return Ao(e,t,t.pendingProps.children,n),t.child;case 12:return Ao(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,Ni(VS,r._currentValue),r._currentValue=o,a!==null)if(td(a.value,o)){if(a.children===i.children&&!bl.current){t=Sh(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(a.tag===1){c=dh(-1,n&-n),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),C3(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(bt(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),C3(o,n,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}Ao(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,ty(t,n),i=eu(i),r=r(i),t.flags|=1,Ao(e,t,r,n),t.child;case 14:return r=t.type,i=Fu(r,t.pendingProps),i=Fu(r.type,i),MB(e,t,r,i,n);case 15:return Lne(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Fu(r,i),Z_(e,t),t.tag=1,wl(r)?(e=!0,FS(t)):e=!1,ty(t,n),Ane(t,r,i),P3(t,r,i,n),O3(null,t,r,!0,e,n);case 19:return $ne(e,t,n);case 22:return Mne(e,t,n)}throw Error(bt(156,t.tag))};function ere(e,t){return Cte(e,t)}function _2e(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xc(e,t,n,r){return new _2e(e,t,n,r)}function C6(e){return e=e.prototype,!(!e||!e.isReactComponent)}function S2e(e){if(typeof e=="function")return C6(e)?1:0;if(e!=null){if(e=e.$$typeof,e===HD)return 11;if(e===KD)return 14}return 2}function Qm(e,t){var n=e.alternate;return n===null?(n=Xc(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function eS(e,t,n,r,i,a){var o=2;if(r=e,typeof e=="function")C6(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case kx:return Hg(n.children,i,a,t);case WD:o=8,i|=8;break;case JO:return e=Xc(12,n,t,i|2),e.elementType=JO,e.lanes=a,e;case e3:return e=Xc(13,n,t,i),e.elementType=e3,e.lanes=a,e;case t3:return e=Xc(19,n,t,i),e.elementType=t3,e.lanes=a,e;case ute:return IC(n,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case lte:o=10;break e;case cte:o=9;break e;case HD:o=11;break e;case KD:o=14;break e;case _m:o=16,r=null;break e}throw Error(bt(130,e==null?e:typeof e,""))}return t=Xc(o,n,t,i),t.elementType=e,t.type=r,t.lanes=a,t}function Hg(e,t,n,r){return e=Xc(7,e,r,t),e.lanes=n,e}function IC(e,t,n,r){return e=Xc(22,e,r,t),e.elementType=ute,e.lanes=n,e.stateNode={isHidden:!1},e}function sT(e,t,n){return e=Xc(6,e,null,t),e.lanes=n,e}function oT(e,t,n){return t=Xc(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function k2e(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zA(0),this.expirationTimes=zA(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zA(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function E6(e,t,n,r,i,a,o,l,c){return e=new k2e(e,t,n,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Xc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},d6(a),e}function C2e(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Sx,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function tre(e){if(!e)return ap;e=e._reactInternals;e:{if(Sv(e)!==e||e.tag!==1)throw Error(bt(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(wl(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(bt(171))}if(e.tag===1){var n=e.type;if(wl(n))return tne(e,n,t)}return t}function nre(e,t,n,r,i,a,o,l,c){return e=E6(n,r,!0,e,i,a,o,l,c),e.context=tre(null),n=e.current,r=Vo(),i=Zm(n),a=dh(r,i),a.callback=t??null,Ym(n,a,i),e.current.lanes=i,lj(e,i,r),jl(e,r),e}function DC(e,t,n,r){var i=t.current,a=Vo(),o=Zm(i);return n=tre(n),t.context===null?t.context=n:t.pendingContext=n,t=dh(a,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Ym(i,t,o),e!==null&&(Yu(e,i,o,a),G_(e,i,o)),o}function QS(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function HB(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function P6(e,t){HB(e,t),(e=e.alternate)&&HB(e,t)}function E2e(){return null}var rre=typeof reportError=="function"?reportError:function(e){console.error(e)};function A6(e){this._internalRoot=e}RC.prototype.render=A6.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(bt(409));DC(e,t,null,null)};RC.prototype.unmount=A6.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;rv(function(){DC(null,e,null,null)}),t[Nh]=null}};function RC(e){this._internalRoot=e}RC.prototype.unstable_scheduleHydration=function(e){if(e){var t=Mte();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Am.length&&t!==0&&t<Am[n].priority;n++);Am.splice(n,0,e),n===0&&Dte(e)}};function T6(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function $C(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function KB(){}function P2e(e,t,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var u=QS(o);a.call(u)}}var o=nre(t,r,e,0,null,!1,!1,"",KB);return e._reactRootContainer=o,e[Nh]=o.current,kw(e.nodeType===8?e.parentNode:e),rv(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var u=QS(c);l.call(u)}}var c=E6(e,0,!1,null,null,!1,!1,"",KB);return e._reactRootContainer=c,e[Nh]=c.current,kw(e.nodeType===8?e.parentNode:e),rv(function(){DC(t,c,n,r)}),c}function FC(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var l=i;i=function(){var c=QS(o);l.call(c)}}DC(t,o,e,i)}else o=P2e(n,t,e,i,r);return QS(o)}Ote=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=f1(t.pendingLanes);n!==0&&(XD(t,n|1),jl(t,Ta()),!(Cr&6)&&(Ly=Ta()+500,Cp()))}break;case 13:rv(function(){var r=_h(e,1);if(r!==null){var i=Vo();Yu(r,e,1,i)}}),P6(e,1)}};ZD=function(e){if(e.tag===13){var t=_h(e,134217728);if(t!==null){var n=Vo();Yu(t,e,134217728,n)}P6(e,134217728)}};Lte=function(e){if(e.tag===13){var t=Zm(e),n=_h(e,t);if(n!==null){var r=Vo();Yu(n,e,t,r)}P6(e,t)}};Mte=function(){return ti};Ite=function(e,t){var n=ti;try{return ti=e,t()}finally{ti=n}};d3=function(e,t,n){switch(t){case"input":if(i3(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=PC(r);if(!i)throw Error(bt(90));fte(r),i3(r,i)}}}break;case"textarea":mte(e,n);break;case"select":t=n.value,t!=null&&Zx(e,!!n.multiple,t,!1)}};wte=_6;jte=rv;var A2e={usingClientEntryPoint:!1,Events:[uj,Ax,PC,yte,bte,_6]},Bb={findFiberByHostInstance:Og,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},T2e={bundleType:Bb.bundleType,version:Bb.version,rendererPackageName:Bb.rendererPackageName,rendererConfig:Bb.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ih.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ste(e),e===null?null:e.stateNode},findFiberByHostInstance:Bb.findFiberByHostInstance||E2e,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var BN=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!BN.isDisabled&&BN.supportsFiber)try{SC=BN.inject(T2e),Qd=BN}catch{}}yc.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=A2e;yc.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!T6(t))throw Error(bt(200));return C2e(e,t,null,n)};yc.createRoot=function(e,t){if(!T6(e))throw Error(bt(299));var n=!1,r="",i=rre;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=E6(e,1,!1,null,null,n,!1,r,i),e[Nh]=t.current,kw(e.nodeType===8?e.parentNode:e),new A6(t)};yc.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(bt(188)):(e=Object.keys(e).join(","),Error(bt(268,e)));return e=Ste(t),e=e===null?null:e.stateNode,e};yc.flushSync=function(e){return rv(e)};yc.hydrate=function(e,t,n){if(!$C(t))throw Error(bt(200));return FC(null,e,t,!0,n)};yc.hydrateRoot=function(e,t,n){if(!T6(e))throw Error(bt(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",o=rre;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=nre(t,null,e,1,n??null,i,!1,a,o),e[Nh]=t.current,kw(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new RC(t)};yc.render=function(e,t,n){if(!$C(t))throw Error(bt(200));return FC(null,e,t,!1,n)};yc.unmountComponentAtNode=function(e){if(!$C(e))throw Error(bt(40));return e._reactRootContainer?(rv(function(){FC(null,null,e,!1,function(){e._reactRootContainer=null,e[Nh]=null})}),!0):!1};yc.unstable_batchedUpdates=_6;yc.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!$C(n))throw Error(bt(200));if(e==null||e._reactInternals===void 0)throw Error(bt(38));return FC(e,t,n,!1,r)};yc.version="18.3.1-next-f1338f8080-20240426";function ire(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ire)}catch(e){console.error(e)}}ire(),ite.exports=yc;var Er=ite.exports;const O2e=Ar(Er);var are,GB=Er;are=GB.createRoot,GB.hydrateRoot;function L2e(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var n,r,i,a,o=[],l="",c=e.split("/");for(c[0]||c.shift();i=c.shift();)n=i[0],n==="*"?(o.push(n),l+=i[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=i.indexOf("?",1),a=i.indexOf(".",1),o.push(i.substring(1,~r?r:~a?a:i.length)),l+=~r&&!~a?"(?:/([^/]+?))?":"/([^/]+?)",~a&&(l+=(~r?"?":"")+"\\"+i.substring(a))):l+="/"+i;return{keys:o,pattern:new RegExp("^"+l+(t?"(?=$|/)":"/?$"),"i")}}var sre={exports:{}},ore={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var My=b;function M2e(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var I2e=typeof Object.is=="function"?Object.is:M2e,D2e=My.useState,R2e=My.useEffect,$2e=My.useLayoutEffect,F2e=My.useDebugValue;function B2e(e,t){var n=t(),r=D2e({inst:{value:n,getSnapshot:t}}),i=r[0].inst,a=r[1];return $2e(function(){i.value=n,i.getSnapshot=t,lT(i)&&a({inst:i})},[e,n,t]),R2e(function(){return lT(i)&&a({inst:i}),e(function(){lT(i)&&a({inst:i})})},[e]),F2e(n),n}function lT(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!I2e(e,n)}catch{return!0}}function z2e(e,t){return t()}var V2e=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?z2e:B2e;ore.useSyncExternalStore=My.useSyncExternalStore!==void 0?My.useSyncExternalStore:V2e;sre.exports=ore;var O6=sre.exports;const q2e=wh.useInsertionEffect,U2e=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",W2e=U2e?b.useLayoutEffect:b.useEffect,H2e=q2e||W2e,lre=e=>{const t=b.useRef([e,(...n)=>t[0](...n)]).current;return H2e(()=>{t[0]=e}),t[1]},K2e="popstate",L6="pushState",M6="replaceState",G2e="hashchange",YB=[K2e,L6,M6,G2e],Y2e=e=>{for(const t of YB)addEventListener(t,e);return()=>{for(const t of YB)removeEventListener(t,e)}},cre=(e,t)=>O6.useSyncExternalStore(Y2e,e,t),XB=()=>location.search,X2e=({ssrSearch:e}={})=>cre(XB,e!=null?()=>e:XB),ZB=()=>location.pathname,Z2e=({ssrPath:e}={})=>cre(ZB,e!=null?()=>e:ZB),Q2e=(e,{replace:t=!1,state:n=null}={})=>history[t?M6:L6](n,"",e),J2e=(e={})=>[Z2e(e),Q2e],QB=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[QB]>"u"){for(const e of[L6,M6]){const t=history[e];history[e]=function(){const n=t.apply(this,arguments),r=new Event(e);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,QB,{value:!0})}const eje=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",ure=(e="")=>e==="/"?"":e,tje=(e,t)=>e[0]==="~"?e.slice(1):ure(t)+e,nje=(e="",t)=>eje(JB(ure(e)),JB(t)),JB=e=>{try{return decodeURI(e)}catch{return e}},dre={hook:J2e,searchHook:X2e,parser:L2e,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:e=>e,aroundNav:(e,t,n)=>e(t,n)},fre=b.createContext(dre),fj=()=>b.useContext(fre),hre={},mre=b.createContext(hre),pre=()=>b.useContext(mre),BC=e=>{const[t,n]=e.hook(e);return[nje(e.base,t),lre((r,i)=>e.aroundNav(n,tje(r,e.base),i))]},Yo=()=>BC(fj()),gre=(e,t,n,r)=>{const{pattern:i,keys:a}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",r),o=i.exec(n)||[],[l,...c]=o;return l!==void 0?[!0,(()=>{const u=a!==!1?Object.fromEntries(a.map((f,m)=>[f,c[m]])):o.groups;let d={...c};return u&&Object.assign(d,u),d})(),...r?[l]:[]]:[!1,null]},rje=({children:e,...t})=>{var d,f,m;const n=fj(),r=t.hook?dre:n;let i=r;const[a,o=t.ssrSearch??""]=((d=t.ssrPath)==null?void 0:d.split("?"))??[];a&&(t.ssrSearch=o,t.ssrPath=a),t.hrefs=t.hrefs??((f=t.hook)==null?void 0:f.hrefs),t.searchHook=t.searchHook??((m=t.hook)==null?void 0:m.searchHook);let l=b.useRef({}),c=l.current,u=c;for(let h in r){const g=h==="base"?r[h]+(t[h]??""):t[h]??r[h];c===u&&g!==u[h]&&(l.current=u={...u}),u[h]=g,(g!==r[h]||g!==i[h])&&(i=u)}return b.createElement(fre.Provider,{value:i,children:e})},e9=({children:e,component:t},n)=>t?b.createElement(t,{params:n}):typeof e=="function"?e(n):e,ije=e=>{let t=b.useRef(hre);const n=t.current;return t.current=Object.keys(e).length!==Object.keys(n).length||Object.entries(e).some(([r,i])=>i!==n[r])?e:n},rs=({path:e,nest:t,match:n,...r})=>{const i=fj(),[a]=BC(i),[o,l,c]=n??gre(i.parser,e,a,t),u=ije({...pre(),...l});if(!o)return null;const d=c?b.createElement(rje,{base:c},e9(r,u)):e9(r,u);return b.createElement(mre.Provider,{value:u,children:d})},Rx=b.forwardRef((e,t)=>{const n=fj(),[r,i]=BC(n),{to:a="",href:o=a,onClick:l,asChild:c,children:u,className:d,replace:f,state:m,transition:h,...g}=e,y=lre(x=>{x.ctrlKey||x.metaKey||x.altKey||x.shiftKey||x.button!==0||(l==null||l(x),x.defaultPrevented||(x.preventDefault(),i(o,e)))}),v=n.hrefs(o[0]==="~"?o.slice(1):n.base+o,n);return c&&b.isValidElement(u)?b.cloneElement(u,{onClick:y,href:v}):b.createElement("a",{...g,onClick:y,href:v,className:d!=null&&d.call?d(r===o):d,children:u,ref:t})}),vre=e=>Array.isArray(e)?e.flatMap(t=>vre(t&&t.type===b.Fragment?t.props.children:t)):[e],aje=({children:e,location:t})=>{const n=fj(),[r]=BC(n);for(const i of vre(e)){let a=0;if(b.isValidElement(i)&&(a=gre(n.parser,i.props.path,t||r,i.props.nest))[0])return b.cloneElement(i,{match:a})}return null};class A0{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){const n={listener:t};return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}}const Iw=typeof window>"u"||"Deno"in window;function Vc(){}function sje(e,t){return typeof e=="function"?e(t):e}function U3(e){return typeof e=="number"&&e>=0&&e!==1/0}function xre(e,t){return Math.max(e+(t||0)-Date.now(),0)}function m1(e,t,n){return hj(e)?typeof t=="function"?{...n,queryKey:e,queryFn:t}:{...t,queryKey:e}:e}function oje(e,t,n){return hj(e)?{...t,mutationKey:e}:typeof e=="function"?{...t,mutationFn:e}:{...e}}function km(e,t,n){return hj(e)?[{...t,queryKey:e},n]:[e||{},t]}function t9(e,t){const{type:n="all",exact:r,fetchStatus:i,predicate:a,queryKey:o,stale:l}=e;if(hj(o)){if(r){if(t.queryHash!==I6(o,t.options))return!1}else if(!JS(t.queryKey,o))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||typeof i<"u"&&i!==t.state.fetchStatus||a&&!a(t))}function n9(e,t){const{exact:n,fetching:r,predicate:i,mutationKey:a}=e;if(hj(a)){if(!t.options.mutationKey)return!1;if(n){if(Ig(t.options.mutationKey)!==Ig(a))return!1}else if(!JS(t.options.mutationKey,a))return!1}return!(typeof r=="boolean"&&t.state.status==="loading"!==r||i&&!i(t))}function I6(e,t){return((t==null?void 0:t.queryKeyHashFn)||Ig)(e)}function Ig(e){return JSON.stringify(e,(t,n)=>W3(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function JS(e,t){return yre(e,t)}function yre(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!yre(e[n],t[n])):!1}function bre(e,t){if(e===t)return e;const n=r9(e)&&r9(t);if(n||W3(e)&&W3(t)){const r=n?e.length:Object.keys(e).length,i=n?t:Object.keys(t),a=i.length,o=n?[]:{};let l=0;for(let c=0;c<a;c++){const u=n?c:i[c];o[u]=bre(e[u],t[u]),o[u]===e[u]&&l++}return r===a&&l===r?e:o}return t}function e5(e,t){if(e&&!t||t&&!e)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function r9(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function W3(e){if(!i9(e))return!1;const t=e.constructor;if(typeof t>"u")return!0;const n=t.prototype;return!(!i9(n)||!n.hasOwnProperty("isPrototypeOf"))}function i9(e){return Object.prototype.toString.call(e)==="[object Object]"}function hj(e){return Array.isArray(e)}function wre(e){return new Promise(t=>{setTimeout(t,e)})}function a9(e){wre(0).then(e)}function lje(){if(typeof AbortController=="function")return new AbortController}function H3(e,t,n){return n.isDataEqual!=null&&n.isDataEqual(e,t)?e:typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?bre(e,t):t}class cje extends A0{constructor(){super(),this.setup=t=>{if(!Iw&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),window.addEventListener("focus",n,!1),()=>{window.removeEventListener("visibilitychange",n),window.removeEventListener("focus",n)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var t;(t=this.cleanup)==null||t.call(this),this.cleanup=void 0}}setEventListener(t){var n;this.setup=t,(n=this.cleanup)==null||n.call(this),this.cleanup=t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()})}setFocused(t){this.focused!==t&&(this.focused=t,this.onFocus())}onFocus(){this.listeners.forEach(({listener:t})=>{t()})}isFocused(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)}}const t5=new cje,s9=["online","offline"];class uje extends A0{constructor(){super(),this.setup=t=>{if(!Iw&&window.addEventListener){const n=()=>t();return s9.forEach(r=>{window.addEventListener(r,n,!1)}),()=>{s9.forEach(r=>{window.removeEventListener(r,n)})}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var t;(t=this.cleanup)==null||t.call(this),this.cleanup=void 0}}setEventListener(t){var n;this.setup=t,(n=this.cleanup)==null||n.call(this),this.cleanup=t(r=>{typeof r=="boolean"?this.setOnline(r):this.onOnline()})}setOnline(t){this.online!==t&&(this.online=t,this.onOnline())}onOnline(){this.listeners.forEach(({listener:t})=>{t()})}isOnline(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine}}const n5=new uje;function dje(e){return Math.min(1e3*2**e,3e4)}function zC(e){return(e??"online")==="online"?n5.isOnline():!0}class jre{constructor(t){this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}}function tS(e){return e instanceof jre}function Nre(e){let t=!1,n=0,r=!1,i,a,o;const l=new Promise((v,x)=>{a=v,o=x}),c=v=>{r||(h(new jre(v)),e.abort==null||e.abort())},u=()=>{t=!0},d=()=>{t=!1},f=()=>!t5.isFocused()||e.networkMode!=="always"&&!n5.isOnline(),m=v=>{r||(r=!0,e.onSuccess==null||e.onSuccess(v),i==null||i(),a(v))},h=v=>{r||(r=!0,e.onError==null||e.onError(v),i==null||i(),o(v))},g=()=>new Promise(v=>{i=x=>{const w=r||!f();return w&&v(x),w},e.onPause==null||e.onPause()}).then(()=>{i=void 0,r||e.onContinue==null||e.onContinue()}),y=()=>{if(r)return;let v;try{v=e.fn()}catch(x){v=Promise.reject(x)}Promise.resolve(v).then(m).catch(x=>{var w,j;if(r)return;const _=(w=e.retry)!=null?w:3,S=(j=e.retryDelay)!=null?j:dje,k=typeof S=="function"?S(n,x):S,P=_===!0||typeof _=="number"&&n<_||typeof _=="function"&&_(n,x);if(t||!P){h(x);return}n++,e.onFail==null||e.onFail(n,x),wre(k).then(()=>{if(f())return g()}).then(()=>{t?h(x):y()})})};return zC(e.networkMode)?y():g().then(y),{promise:l,cancel:c,continue:()=>(i==null?void 0:i())?l:Promise.resolve(),cancelRetry:u,continueRetry:d}}const D6=console;function fje(){let e=[],t=0,n=d=>{d()},r=d=>{d()};const i=d=>{let f;t++;try{f=d()}finally{t--,t||l()}return f},a=d=>{t?e.push(d):a9(()=>{n(d)})},o=d=>(...f)=>{a(()=>{d(...f)})},l=()=>{const d=e;e=[],d.length&&a9(()=>{r(()=>{d.forEach(f=>{n(f)})})})};return{batch:i,batchCalls:o,schedule:a,setNotifyFunction:d=>{n=d},setBatchNotifyFunction:d=>{r=d}}}const ba=fje();class _re{destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),U3(this.cacheTime)&&(this.gcTimeout=setTimeout(()=>{this.optionalRemove()},this.cacheTime))}updateCacheTime(t){this.cacheTime=Math.max(this.cacheTime||0,t??(Iw?1/0:5*60*1e3))}clearGcTimeout(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)}}class hje extends _re{constructor(t){super(),this.abortSignalConsumed=!1,this.defaultOptions=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.cache=t.cache,this.logger=t.logger||D6,this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.initialState=t.state||mje(this.options),this.state=this.initialState,this.scheduleGc()}get meta(){return this.options.meta}setOptions(t){this.options={...this.defaultOptions,...t},this.updateCacheTime(this.options.cacheTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.cache.remove(this)}setData(t,n){const r=H3(this.state.data,t,this.options);return this.dispatch({data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){this.dispatch({type:"setState",state:t,setStateOptions:n})}cancel(t){var n;const r=this.promise;return(n=this.retryer)==null||n.cancel(t),r?r.then(Vc).catch(Vc):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.initialState)}isActive(){return this.observers.some(t=>t.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(t=>t.getCurrentResult().isStale)}isStaleByTime(t=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!xre(this.state.dataUpdatedAt,t)}onFocus(){var t;const n=this.observers.find(r=>r.shouldFetchOnWindowFocus());n&&n.refetch({cancelRefetch:!1}),(t=this.retryer)==null||t.continue()}onOnline(){var t;const n=this.observers.find(r=>r.shouldFetchOnReconnect());n&&n.refetch({cancelRefetch:!1}),(t=this.retryer)==null||t.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(this.retryer&&(this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.scheduleGc()),this.cache.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.dispatch({type:"invalidate"})}fetch(t,n){var r,i;if(this.state.fetchStatus!=="idle"){if(this.state.dataUpdatedAt&&n!=null&&n.cancelRefetch)this.cancel({silent:!0});else if(this.promise){var a;return(a=this.retryer)==null||a.continueRetry(),this.promise}}if(t&&this.setOptions(t),!this.options.queryFn){const h=this.observers.find(g=>g.options.queryFn);h&&this.setOptions(h.options)}const o=lje(),l={queryKey:this.queryKey,pageParam:void 0,meta:this.meta},c=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>{if(o)return this.abortSignalConsumed=!0,o.signal}})};c(l);const u=()=>this.options.queryFn?(this.abortSignalConsumed=!1,this.options.queryFn(l)):Promise.reject("Missing queryFn for queryKey '"+this.options.queryHash+"'"),d={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:u};if(c(d),(r=this.options.behavior)==null||r.onFetch(d),this.revertState=this.state,this.state.fetchStatus==="idle"||this.state.fetchMeta!==((i=d.fetchOptions)==null?void 0:i.meta)){var f;this.dispatch({type:"fetch",meta:(f=d.fetchOptions)==null?void 0:f.meta})}const m=h=>{if(tS(h)&&h.silent||this.dispatch({type:"error",error:h}),!tS(h)){var g,y,v,x;(g=(y=this.cache.config).onError)==null||g.call(y,h,this),(v=(x=this.cache.config).onSettled)==null||v.call(x,this.state.data,h,this)}this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return this.retryer=Nre({fn:d.fetchFn,abort:o==null?void 0:o.abort.bind(o),onSuccess:h=>{var g,y,v,x;if(typeof h>"u"){m(new Error(this.queryHash+" data is undefined"));return}this.setData(h),(g=(y=this.cache.config).onSuccess)==null||g.call(y,h,this),(v=(x=this.cache.config).onSettled)==null||v.call(x,h,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:m,onFail:(h,g)=>{this.dispatch({type:"failed",failureCount:h,error:g})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:d.options.retry,retryDelay:d.options.retryDelay,networkMode:d.options.networkMode}),this.promise=this.retryer.promise,this.promise}dispatch(t){const n=r=>{var i,a;switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:(i=t.meta)!=null?i:null,fetchStatus:zC(this.options.networkMode)?"fetching":"paused",...!r.dataUpdatedAt&&{error:null,status:"loading"}};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:(a=t.dataUpdatedAt)!=null?a:Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const o=t.error;return tS(o)&&o.revert&&this.revertState?{...this.revertState,fetchStatus:"idle"}:{...r,error:o,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),ba.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate(t)}),this.cache.notify({query:this,type:"updated",action:t})})}}function mje(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=typeof t<"u",r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"loading",fetchStatus:"idle"}}class pje extends A0{constructor(t){super(),this.config=t||{},this.queries=[],this.queriesMap={}}build(t,n,r){var i;const a=n.queryKey,o=(i=n.queryHash)!=null?i:I6(a,n);let l=this.get(o);return l||(l=new hje({cache:this,logger:t.getLogger(),queryKey:a,queryHash:o,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(a)}),this.add(l)),l}add(t){this.queriesMap[t.queryHash]||(this.queriesMap[t.queryHash]=t,this.queries.push(t),this.notify({type:"added",query:t}))}remove(t){const n=this.queriesMap[t.queryHash];n&&(t.destroy(),this.queries=this.queries.filter(r=>r!==t),n===t&&delete this.queriesMap[t.queryHash],this.notify({type:"removed",query:t}))}clear(){ba.batch(()=>{this.queries.forEach(t=>{this.remove(t)})})}get(t){return this.queriesMap[t]}getAll(){return this.queries}find(t,n){const[r]=km(t,n);return typeof r.exact>"u"&&(r.exact=!0),this.queries.find(i=>t9(r,i))}findAll(t,n){const[r]=km(t,n);return Object.keys(r).length>0?this.queries.filter(i=>t9(r,i)):this.queries}notify(t){ba.batch(()=>{this.listeners.forEach(({listener:n})=>{n(t)})})}onFocus(){ba.batch(()=>{this.queries.forEach(t=>{t.onFocus()})})}onOnline(){ba.batch(()=>{this.queries.forEach(t=>{t.onOnline()})})}}class gje extends _re{constructor(t){super(),this.defaultOptions=t.defaultOptions,this.mutationId=t.mutationId,this.mutationCache=t.mutationCache,this.logger=t.logger||D6,this.observers=[],this.state=t.state||Sre(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options={...this.defaultOptions,...t},this.updateCacheTime(this.options.cacheTime)}get meta(){return this.options.meta}setState(t){this.dispatch({type:"setState",state:t})}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.mutationCache.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.observers=this.observers.filter(n=>n!==t),this.scheduleGc(),this.mutationCache.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.observers.length||(this.state.status==="loading"?this.scheduleGc():this.mutationCache.remove(this))}continue(){var t,n;return(t=(n=this.retryer)==null?void 0:n.continue())!=null?t:this.execute()}async execute(){const t=()=>{var P;return this.retryer=Nre({fn:()=>this.options.mutationFn?this.options.mutationFn(this.state.variables):Promise.reject("No mutationFn found"),onFail:(M,T)=>{this.dispatch({type:"failed",failureCount:M,error:T})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:(P=this.options.retry)!=null?P:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode}),this.retryer.promise},n=this.state.status==="loading";try{var r,i,a,o,l,c,u,d;if(!n){var f,m,h,g;this.dispatch({type:"loading",variables:this.options.variables}),await((f=(m=this.mutationCache.config).onMutate)==null?void 0:f.call(m,this.state.variables,this));const M=await((h=(g=this.options).onMutate)==null?void 0:h.call(g,this.state.variables));M!==this.state.context&&this.dispatch({type:"loading",context:M,variables:this.state.variables})}const P=await t();return await((r=(i=this.mutationCache.config).onSuccess)==null?void 0:r.call(i,P,this.state.variables,this.state.context,this)),await((a=(o=this.options).onSuccess)==null?void 0:a.call(o,P,this.state.variables,this.state.context)),await((l=(c=this.mutationCache.config).onSettled)==null?void 0:l.call(c,P,null,this.state.variables,this.state.context,this)),await((u=(d=this.options).onSettled)==null?void 0:u.call(d,P,null,this.state.variables,this.state.context)),this.dispatch({type:"success",data:P}),P}catch(P){try{var y,v,x,w,j,_,S,k;throw await((y=(v=this.mutationCache.config).onError)==null?void 0:y.call(v,P,this.state.variables,this.state.context,this)),await((x=(w=this.options).onError)==null?void 0:x.call(w,P,this.state.variables,this.state.context)),await((j=(_=this.mutationCache.config).onSettled)==null?void 0:j.call(_,void 0,P,this.state.variables,this.state.context,this)),await((S=(k=this.options).onSettled)==null?void 0:S.call(k,void 0,P,this.state.variables,this.state.context)),P}finally{this.dispatch({type:"error",error:P})}}}dispatch(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"loading":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!zC(this.options.networkMode),status:"loading",variables:t.variables};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"};case"setState":return{...r,...t.state}}};this.state=n(this.state),ba.batch(()=>{this.observers.forEach(r=>{r.onMutationUpdate(t)}),this.mutationCache.notify({mutation:this,type:"updated",action:t})})}}function Sre(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0}}class vje extends A0{constructor(t){super(),this.config=t||{},this.mutations=[],this.mutationId=0}build(t,n,r){const i=new gje({mutationCache:this,logger:t.getLogger(),mutationId:++this.mutationId,options:t.defaultMutationOptions(n),state:r,defaultOptions:n.mutationKey?t.getMutationDefaults(n.mutationKey):void 0});return this.add(i),i}add(t){this.mutations.push(t),this.notify({type:"added",mutation:t})}remove(t){this.mutations=this.mutations.filter(n=>n!==t),this.notify({type:"removed",mutation:t})}clear(){ba.batch(()=>{this.mutations.forEach(t=>{this.remove(t)})})}getAll(){return this.mutations}find(t){return typeof t.exact>"u"&&(t.exact=!0),this.mutations.find(n=>n9(t,n))}findAll(t){return this.mutations.filter(n=>n9(t,n))}notify(t){ba.batch(()=>{this.listeners.forEach(({listener:n})=>{n(t)})})}resumePausedMutations(){var t;return this.resuming=((t=this.resuming)!=null?t:Promise.resolve()).then(()=>{const n=this.mutations.filter(r=>r.state.isPaused);return ba.batch(()=>n.reduce((r,i)=>r.then(()=>i.continue().catch(Vc)),Promise.resolve()))}).then(()=>{this.resuming=void 0}),this.resuming}}function xje(){return{onFetch:e=>{e.fetchFn=()=>{var t,n,r,i,a,o;const l=(t=e.fetchOptions)==null||(n=t.meta)==null?void 0:n.refetchPage,c=(r=e.fetchOptions)==null||(i=r.meta)==null?void 0:i.fetchMore,u=c==null?void 0:c.pageParam,d=(c==null?void 0:c.direction)==="forward",f=(c==null?void 0:c.direction)==="backward",m=((a=e.state.data)==null?void 0:a.pages)||[],h=((o=e.state.data)==null?void 0:o.pageParams)||[];let g=h,y=!1;const v=k=>{Object.defineProperty(k,"signal",{enumerable:!0,get:()=>{var P;if((P=e.signal)!=null&&P.aborted)y=!0;else{var M;(M=e.signal)==null||M.addEventListener("abort",()=>{y=!0})}return e.signal}})},x=e.options.queryFn||(()=>Promise.reject("Missing queryFn for queryKey '"+e.options.queryHash+"'")),w=(k,P,M,T)=>(g=T?[P,...g]:[...g,P],T?[M,...k]:[...k,M]),j=(k,P,M,T)=>{if(y)return Promise.reject("Cancelled");if(typeof M>"u"&&!P&&k.length)return Promise.resolve(k);const R={queryKey:e.queryKey,pageParam:M,meta:e.options.meta};v(R);const D=x(R);return Promise.resolve(D).then(B=>w(k,M,B,T))};let _;if(!m.length)_=j([]);else if(d){const k=typeof u<"u",P=k?u:o9(e.options,m);_=j(m,k,P)}else if(f){const k=typeof u<"u",P=k?u:yje(e.options,m);_=j(m,k,P,!0)}else{g=[];const k=typeof e.options.getNextPageParam>"u";_=(l&&m[0]?l(m[0],0,m):!0)?j([],k,h[0]):Promise.resolve(w([],h[0],m[0]));for(let M=1;M<m.length;M++)_=_.then(T=>{if(l&&m[M]?l(m[M],M,m):!0){const D=k?h[M]:o9(e.options,T);return j(T,k,D)}return Promise.resolve(w(T,h[M],m[M]))})}return _.then(k=>({pages:k,pageParams:g}))}}}}function o9(e,t){return e.getNextPageParam==null?void 0:e.getNextPageParam(t[t.length-1],t)}function yje(e,t){return e.getPreviousPageParam==null?void 0:e.getPreviousPageParam(t[0],t)}class bje{constructor(t={}){this.queryCache=t.queryCache||new pje,this.mutationCache=t.mutationCache||new vje,this.logger=t.logger||D6,this.defaultOptions=t.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[],this.mountCount=0}mount(){this.mountCount++,this.mountCount===1&&(this.unsubscribeFocus=t5.subscribe(()=>{t5.isFocused()&&(this.resumePausedMutations(),this.queryCache.onFocus())}),this.unsubscribeOnline=n5.subscribe(()=>{n5.isOnline()&&(this.resumePausedMutations(),this.queryCache.onOnline())}))}unmount(){var t,n;this.mountCount--,this.mountCount===0&&((t=this.unsubscribeFocus)==null||t.call(this),this.unsubscribeFocus=void 0,(n=this.unsubscribeOnline)==null||n.call(this),this.unsubscribeOnline=void 0)}isFetching(t,n){const[r]=km(t,n);return r.fetchStatus="fetching",this.queryCache.findAll(r).length}isMutating(t){return this.mutationCache.findAll({...t,fetching:!0}).length}getQueryData(t,n){var r;return(r=this.queryCache.find(t,n))==null?void 0:r.state.data}ensureQueryData(t,n,r){const i=m1(t,n,r),a=this.getQueryData(i.queryKey);return a?Promise.resolve(a):this.fetchQuery(i)}getQueriesData(t){return this.getQueryCache().findAll(t).map(({queryKey:n,state:r})=>{const i=r.data;return[n,i]})}setQueryData(t,n,r){const i=this.queryCache.find(t),a=i==null?void 0:i.state.data,o=sje(n,a);if(typeof o>"u")return;const l=m1(t),c=this.defaultQueryOptions(l);return this.queryCache.build(this,c).setData(o,{...r,manual:!0})}setQueriesData(t,n,r){return ba.batch(()=>this.getQueryCache().findAll(t).map(({queryKey:i})=>[i,this.setQueryData(i,n,r)]))}getQueryState(t,n){var r;return(r=this.queryCache.find(t,n))==null?void 0:r.state}removeQueries(t,n){const[r]=km(t,n),i=this.queryCache;ba.batch(()=>{i.findAll(r).forEach(a=>{i.remove(a)})})}resetQueries(t,n,r){const[i,a]=km(t,n,r),o=this.queryCache,l={type:"active",...i};return ba.batch(()=>(o.findAll(i).forEach(c=>{c.reset()}),this.refetchQueries(l,a)))}cancelQueries(t,n,r){const[i,a={}]=km(t,n,r);typeof a.revert>"u"&&(a.revert=!0);const o=ba.batch(()=>this.queryCache.findAll(i).map(l=>l.cancel(a)));return Promise.all(o).then(Vc).catch(Vc)}invalidateQueries(t,n,r){const[i,a]=km(t,n,r);return ba.batch(()=>{var o,l;if(this.queryCache.findAll(i).forEach(u=>{u.invalidate()}),i.refetchType==="none")return Promise.resolve();const c={...i,type:(o=(l=i.refetchType)!=null?l:i.type)!=null?o:"active"};return this.refetchQueries(c,a)})}refetchQueries(t,n,r){const[i,a]=km(t,n,r),o=ba.batch(()=>this.queryCache.findAll(i).filter(c=>!c.isDisabled()).map(c=>{var u;return c.fetch(void 0,{...a,cancelRefetch:(u=a==null?void 0:a.cancelRefetch)!=null?u:!0,meta:{refetchPage:i.refetchPage}})}));let l=Promise.all(o).then(Vc);return a!=null&&a.throwOnError||(l=l.catch(Vc)),l}fetchQuery(t,n,r){const i=m1(t,n,r),a=this.defaultQueryOptions(i);typeof a.retry>"u"&&(a.retry=!1);const o=this.queryCache.build(this,a);return o.isStaleByTime(a.staleTime)?o.fetch(a):Promise.resolve(o.state.data)}prefetchQuery(t,n,r){return this.fetchQuery(t,n,r).then(Vc).catch(Vc)}fetchInfiniteQuery(t,n,r){const i=m1(t,n,r);return i.behavior=xje(),this.fetchQuery(i)}prefetchInfiniteQuery(t,n,r){return this.fetchInfiniteQuery(t,n,r).then(Vc).catch(Vc)}resumePausedMutations(){return this.mutationCache.resumePausedMutations()}getQueryCache(){return this.queryCache}getMutationCache(){return this.mutationCache}getLogger(){return this.logger}getDefaultOptions(){return this.defaultOptions}setDefaultOptions(t){this.defaultOptions=t}setQueryDefaults(t,n){const r=this.queryDefaults.find(i=>Ig(t)===Ig(i.queryKey));r?r.defaultOptions=n:this.queryDefaults.push({queryKey:t,defaultOptions:n})}getQueryDefaults(t){if(!t)return;const n=this.queryDefaults.find(r=>JS(t,r.queryKey));return n==null?void 0:n.defaultOptions}setMutationDefaults(t,n){const r=this.mutationDefaults.find(i=>Ig(t)===Ig(i.mutationKey));r?r.defaultOptions=n:this.mutationDefaults.push({mutationKey:t,defaultOptions:n})}getMutationDefaults(t){if(!t)return;const n=this.mutationDefaults.find(r=>JS(t,r.mutationKey));return n==null?void 0:n.defaultOptions}defaultQueryOptions(t){if(t!=null&&t._defaulted)return t;const n={...this.defaultOptions.queries,...this.getQueryDefaults(t==null?void 0:t.queryKey),...t,_defaulted:!0};return!n.queryHash&&n.queryKey&&(n.queryHash=I6(n.queryKey,n)),typeof n.refetchOnReconnect>"u"&&(n.refetchOnReconnect=n.networkMode!=="always"),typeof n.useErrorBoundary>"u"&&(n.useErrorBoundary=!!n.suspense),n}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...this.defaultOptions.mutations,...this.getMutationDefaults(t==null?void 0:t.mutationKey),...t,_defaulted:!0}}clear(){this.queryCache.clear(),this.mutationCache.clear()}}class wje extends A0{constructor(t,n){super(),this.client=t,this.options=n,this.trackedProps=new Set,this.selectError=null,this.bindMethods(),this.setOptions(n)}bindMethods(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.currentQuery.addObserver(this),l9(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return K3(this.currentQuery,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return K3(this.currentQuery,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.clearStaleTimeout(),this.clearRefetchInterval(),this.currentQuery.removeObserver(this)}setOptions(t,n){const r=this.options,i=this.currentQuery;if(this.options=this.client.defaultQueryOptions(t),e5(r,this.options)||this.client.getQueryCache().notify({type:"observerOptionsUpdated",query:this.currentQuery,observer:this}),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=r.queryKey),this.updateQuery();const a=this.hasListeners();a&&c9(this.currentQuery,i,this.options,r)&&this.executeFetch(),this.updateResult(n),a&&(this.currentQuery!==i||this.options.enabled!==r.enabled||this.options.staleTime!==r.staleTime)&&this.updateStaleTimeout();const o=this.computeRefetchInterval();a&&(this.currentQuery!==i||this.options.enabled!==r.enabled||o!==this.currentRefetchInterval)&&this.updateRefetchInterval(o)}getOptimisticResult(t){const n=this.client.getQueryCache().build(this.client,t),r=this.createResult(n,t);return Nje(this,r,t)&&(this.currentResult=r,this.currentResultOptions=this.options,this.currentResultState=this.currentQuery.state),r}getCurrentResult(){return this.currentResult}trackResult(t){const n={};return Object.keys(t).forEach(r=>{Object.defineProperty(n,r,{configurable:!1,enumerable:!0,get:()=>(this.trackedProps.add(r),t[r])})}),n}getCurrentQuery(){return this.currentQuery}remove(){this.client.getQueryCache().remove(this.currentQuery)}refetch({refetchPage:t,...n}={}){return this.fetch({...n,meta:{refetchPage:t}})}fetchOptimistic(t){const n=this.client.defaultQueryOptions(t),r=this.client.getQueryCache().build(this.client,n);return r.isFetchingOptimistic=!0,r.fetch().then(()=>this.createResult(r,n))}fetch(t){var n;return this.executeFetch({...t,cancelRefetch:(n=t.cancelRefetch)!=null?n:!0}).then(()=>(this.updateResult(),this.currentResult))}executeFetch(t){this.updateQuery();let n=this.currentQuery.fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(Vc)),n}updateStaleTimeout(){if(this.clearStaleTimeout(),Iw||this.currentResult.isStale||!U3(this.options.staleTime))return;const n=xre(this.currentResult.dataUpdatedAt,this.options.staleTime)+1;this.staleTimeoutId=setTimeout(()=>{this.currentResult.isStale||this.updateResult()},n)}computeRefetchInterval(){var t;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(t=this.options.refetchInterval)!=null?t:!1}updateRefetchInterval(t){this.clearRefetchInterval(),this.currentRefetchInterval=t,!(Iw||this.options.enabled===!1||!U3(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(()=>{(this.options.refetchIntervalInBackground||t5.isFocused())&&this.executeFetch()},this.currentRefetchInterval))}updateTimers(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())}clearStaleTimeout(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)}clearRefetchInterval(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)}createResult(t,n){const r=this.currentQuery,i=this.options,a=this.currentResult,o=this.currentResultState,l=this.currentResultOptions,c=t!==r,u=c?t.state:this.currentQueryInitialState,d=c?this.currentResult:this.previousQueryResult,{state:f}=t;let{dataUpdatedAt:m,error:h,errorUpdatedAt:g,fetchStatus:y,status:v}=f,x=!1,w=!1,j;if(n._optimisticResults){const M=this.hasListeners(),T=!M&&l9(t,n),R=M&&c9(t,r,n,i);(T||R)&&(y=zC(t.options.networkMode)?"fetching":"paused",m||(v="loading")),n._optimisticResults==="isRestoring"&&(y="idle")}if(n.keepPreviousData&&!f.dataUpdatedAt&&d!=null&&d.isSuccess&&v!=="error")j=d.data,m=d.dataUpdatedAt,v=d.status,x=!0;else if(n.select&&typeof f.data<"u")if(a&&f.data===(o==null?void 0:o.data)&&n.select===this.selectFn)j=this.selectResult;else try{this.selectFn=n.select,j=n.select(f.data),j=H3(a==null?void 0:a.data,j,n),this.selectResult=j,this.selectError=null}catch(M){this.selectError=M}else j=f.data;if(typeof n.placeholderData<"u"&&typeof j>"u"&&v==="loading"){let M;if(a!=null&&a.isPlaceholderData&&n.placeholderData===(l==null?void 0:l.placeholderData))M=a.data;else if(M=typeof n.placeholderData=="function"?n.placeholderData():n.placeholderData,n.select&&typeof M<"u")try{M=n.select(M),this.selectError=null}catch(T){this.selectError=T}typeof M<"u"&&(v="success",j=H3(a==null?void 0:a.data,M,n),w=!0)}this.selectError&&(h=this.selectError,j=this.selectResult,g=Date.now(),v="error");const _=y==="fetching",S=v==="loading",k=v==="error";return{status:v,fetchStatus:y,isLoading:S,isSuccess:v==="success",isError:k,isInitialLoading:S&&_,data:j,dataUpdatedAt:m,error:h,errorUpdatedAt:g,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:_,isRefetching:_&&!S,isLoadingError:k&&f.dataUpdatedAt===0,isPaused:y==="paused",isPlaceholderData:w,isPreviousData:x,isRefetchError:k&&f.dataUpdatedAt!==0,isStale:R6(t,n),refetch:this.refetch,remove:this.remove}}updateResult(t){const n=this.currentResult,r=this.createResult(this.currentQuery,this.options);if(this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,e5(r,n))return;this.currentResult=r;const i={cache:!0},a=()=>{if(!n)return!0;const{notifyOnChangeProps:o}=this.options,l=typeof o=="function"?o():o;if(l==="all"||!l&&!this.trackedProps.size)return!0;const c=new Set(l??this.trackedProps);return this.options.useErrorBoundary&&c.add("error"),Object.keys(this.currentResult).some(u=>{const d=u;return this.currentResult[d]!==n[d]&&c.has(d)})};(t==null?void 0:t.listeners)!==!1&&a()&&(i.listeners=!0),this.notify({...i,...t})}updateQuery(){const t=this.client.getQueryCache().build(this.client,this.options);if(t===this.currentQuery)return;const n=this.currentQuery;this.currentQuery=t,this.currentQueryInitialState=t.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))}onQueryUpdate(t){const n={};t.type==="success"?n.onSuccess=!t.manual:t.type==="error"&&!tS(t.error)&&(n.onError=!0),this.updateResult(n),this.hasListeners()&&this.updateTimers()}notify(t){ba.batch(()=>{if(t.onSuccess){var n,r,i,a;(n=(r=this.options).onSuccess)==null||n.call(r,this.currentResult.data),(i=(a=this.options).onSettled)==null||i.call(a,this.currentResult.data,null)}else if(t.onError){var o,l,c,u;(o=(l=this.options).onError)==null||o.call(l,this.currentResult.error),(c=(u=this.options).onSettled)==null||c.call(u,void 0,this.currentResult.error)}t.listeners&&this.listeners.forEach(({listener:d})=>{d(this.currentResult)}),t.cache&&this.client.getQueryCache().notify({query:this.currentQuery,type:"observerResultsUpdated"})})}}function jje(e,t){return t.enabled!==!1&&!e.state.dataUpdatedAt&&!(e.state.status==="error"&&t.retryOnMount===!1)}function l9(e,t){return jje(e,t)||e.state.dataUpdatedAt>0&&K3(e,t,t.refetchOnMount)}function K3(e,t,n){if(t.enabled!==!1){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&R6(e,t)}return!1}function c9(e,t,n,r){return n.enabled!==!1&&(e!==t||r.enabled===!1)&&(!n.suspense||e.state.status!=="error")&&R6(e,n)}function R6(e,t){return e.isStaleByTime(t.staleTime)}function Nje(e,t,n){return n.keepPreviousData?!1:n.placeholderData!==void 0?t.isPlaceholderData:!e5(e.getCurrentResult(),t)}let _je=class extends A0{constructor(t,n){super(),this.client=t,this.setOptions(n),this.bindMethods(),this.updateResult()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){var n;const r=this.options;this.options=this.client.defaultMutationOptions(t),e5(r,this.options)||this.client.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.currentMutation,observer:this}),(n=this.currentMutation)==null||n.setOptions(this.options)}onUnsubscribe(){if(!this.hasListeners()){var t;(t=this.currentMutation)==null||t.removeObserver(this)}}onMutationUpdate(t){this.updateResult();const n={listeners:!0};t.type==="success"?n.onSuccess=!0:t.type==="error"&&(n.onError=!0),this.notify(n)}getCurrentResult(){return this.currentResult}reset(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})}mutate(t,n){return this.mutateOptions=n,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,{...this.options,variables:typeof t<"u"?t:this.options.variables}),this.currentMutation.addObserver(this),this.currentMutation.execute()}updateResult(){const t=this.currentMutation?this.currentMutation.state:Sre(),n=t.status==="loading",r={...t,isLoading:n,isPending:n,isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset};this.currentResult=r}notify(t){ba.batch(()=>{if(this.mutateOptions&&this.hasListeners()){if(t.onSuccess){var n,r,i,a;(n=(r=this.mutateOptions).onSuccess)==null||n.call(r,this.currentResult.data,this.currentResult.variables,this.currentResult.context),(i=(a=this.mutateOptions).onSettled)==null||i.call(a,this.currentResult.data,null,this.currentResult.variables,this.currentResult.context)}else if(t.onError){var o,l,c,u;(o=(l=this.mutateOptions).onError)==null||o.call(l,this.currentResult.error,this.currentResult.variables,this.currentResult.context),(c=(u=this.mutateOptions).onSettled)==null||c.call(u,void 0,this.currentResult.error,this.currentResult.variables,this.currentResult.context)}}t.listeners&&this.listeners.forEach(({listener:d})=>{d(this.currentResult)})})}};const kre=O6.useSyncExternalStore,u9=b.createContext(void 0),Cre=b.createContext(!1);function Ere(e,t){return e||(t&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=u9),window.ReactQueryClientContext):u9)}const Vs=({context:e}={})=>{const t=b.useContext(Ere(e,b.useContext(Cre)));if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Sje=({client:e,children:t,context:n,contextSharing:r=!1})=>{b.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]);const i=Ere(n,r);return b.createElement(Cre.Provider,{value:!n&&r},b.createElement(i.Provider,{value:e},t))},Pre=b.createContext(!1),kje=()=>b.useContext(Pre);Pre.Provider;function Cje(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}const Eje=b.createContext(Cje()),Pje=()=>b.useContext(Eje);function Are(e,t){return typeof e=="function"?e(...t):!!e}const Aje=(e,t)=>{(e.suspense||e.useErrorBoundary)&&(t.isReset()||(e.retryOnMount=!1))},Tje=e=>{b.useEffect(()=>{e.clearReset()},[e])},Oje=({result:e,errorResetBoundary:t,useErrorBoundary:n,query:r})=>e.isError&&!t.isReset()&&!e.isFetching&&Are(n,[e.error,r]),Lje=e=>{e.suspense&&(typeof e.staleTime!="number"&&(e.staleTime=1e3),typeof e.cacheTime=="number"&&(e.cacheTime=Math.max(e.cacheTime,1e3)))},Mje=(e,t)=>e.isLoading&&e.isFetching&&!t,Ije=(e,t,n)=>(e==null?void 0:e.suspense)&&Mje(t,n),Dje=(e,t,n)=>t.fetchOptimistic(e).then(({data:r})=>{e.onSuccess==null||e.onSuccess(r),e.onSettled==null||e.onSettled(r,null)}).catch(r=>{n.clearReset(),e.onError==null||e.onError(r),e.onSettled==null||e.onSettled(void 0,r)});function Rje(e,t){const n=Vs({context:e.context}),r=kje(),i=Pje(),a=n.defaultQueryOptions(e);a._optimisticResults=r?"isRestoring":"optimistic",a.onError&&(a.onError=ba.batchCalls(a.onError)),a.onSuccess&&(a.onSuccess=ba.batchCalls(a.onSuccess)),a.onSettled&&(a.onSettled=ba.batchCalls(a.onSettled)),Lje(a),Aje(a,i),Tje(i);const[o]=b.useState(()=>new t(n,a)),l=o.getOptimisticResult(a);if(kre(b.useCallback(c=>{const u=r?()=>{}:o.subscribe(ba.batchCalls(c));return o.updateResult(),u},[o,r]),()=>o.getCurrentResult(),()=>o.getCurrentResult()),b.useEffect(()=>{o.setOptions(a,{listeners:!1})},[a,o]),Ije(a,l,r))throw Dje(a,o,i);if(Oje({result:l,errorResetBoundary:i,useErrorBoundary:a.useErrorBoundary,query:o.getCurrentQuery()}))throw l.error;return a.notifyOnChangeProps?l:o.trackResult(l)}function At(e,t,n){const r=m1(e,t,n);return Rje(r,wje)}function Wn(e,t,n){const r=oje(e,t),i=Vs({context:r.context}),[a]=b.useState(()=>new _je(i,r));b.useEffect(()=>{a.setOptions(r)},[a,r]);const o=kre(b.useCallback(c=>a.subscribe(ba.batchCalls(c)),[a]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),l=b.useCallback((c,u)=>{a.mutate(c,u).catch($je)},[a]);if(o.error&&Are(a.options.useErrorBoundary,[o.error]))throw o.error;return{...o,mutate:l,mutateAsync:o.mutate}}function $je(){}function fh(){try{return localStorage.getItem("authToken")}catch(e){return console.warn("[Auth] Error accediendo localStorage para leer token:",e),null}}function Fje(e){try{localStorage.setItem("authToken",e)}catch(t){throw console.error("[Auth] Error guardando token en localStorage:",t),new Error("No se pudo guardar el token de autenticacin")}}function $x(){try{localStorage.removeItem("authToken")}catch(e){console.warn("[Auth] Error eliminando token de localStorage:",e)}}async function Bje(e){if(!e.ok){if(e.status===401&&(console.log("[API] Error 401 detectado, limpiando token..."),$x(),typeof window<"u"&&!window.location.pathname.includes("/login")&&(console.log("[API] Guardando ruta actual para despus del login"),sessionStorage.setItem("redirectAfterLogin",window.location.pathname))),e.status===429){let n="Demasiadas solicitudes. Por favor, intenta de nuevo en 15 minutos.";try{const r=e.headers.get("content-type");if(r&&r.includes("application/json"))n=(await e.json()).message||n;else{const i=await e.text();i&&(n=i)}}catch(r){console.warn("[API] No se pudo parsear el mensaje de error 429:",r)}throw new Error(`429: ${n}`)}const t=await e.text()||e.statusText;throw new Error(`${e.status}: ${t}`)}}async function Dt(e,t,n){const r=n?{"Content-Type":"application/json"}:{},i=fh();i&&(r.Authorization=`Bearer ${i}`);const a=t.startsWith("http")?t:`${window.location.origin}${t}`;console.log(` [apiRequest] ${e} ${a}`);const o=await fetch(a,{method:e,headers:r,body:n?JSON.stringify(n):void 0,credentials:"include"});return await Bje(o),o}const Tre=({on401:e})=>async({queryKey:t})=>{let n="";try{const r=t[0],i=t[1]||{};let a;if(r.includes("?")){if(a=r.startsWith("/")?r:`/${r}`,Object.keys(i).length>0){const u=new URL(a,window.location.origin);Object.entries(i).forEach(([d,f])=>{f!=null&&(Array.isArray(f)?f.forEach(m=>{u.searchParams.append(d,String(m))}):u.searchParams.append(d,String(f)))}),a=u.pathname+u.search}}else{const u=new URL(r.startsWith("/")?r:`/${r}`,window.location.origin);Object.entries(i).forEach(([d,f])=>{f!=null&&(Array.isArray(f)?f.forEach(m=>{u.searchParams.append(d,String(m))}):u.searchParams.append(d,String(f)))}),a=u.pathname+u.search}n=a,console.log(` [QueryClient] Requesting: ${n}`);const o=await Dt("GET",n);e==="returnNull"&&o.status;const l=o.headers.get("content-type");if(!l||!l.includes("application/json")){const u=await o.text();throw console.error(` [QueryClient] Non-JSON response for ${n}:`,u.substring(0,200)),new Error(`Expected JSON but received ${l}`)}const c=await o.json();return console.log(` [QueryClient] Respuesta recibida para ${n}:`,c),console.log(" [QueryClient] Tipo de dato:",Array.isArray(c)?"Array":typeof c,"Longitud:",Array.isArray(c)?c.length:"N/A"),c}catch(r){throw console.error(` [QueryClient] Error en ${n||"unknown URL"}:`,r),r instanceof Error&&r.message.includes("401"),r}};async function Om(e,t){return await(await Dt(t.method,e,t.body)).json()}const ii=new bje({defaultOptions:{queries:{queryFn:Tre({on401:"throw"}),refetchOnWindowFocus:!0,staleTime:5*60*1e3,retry:(e,t)=>t instanceof Error&&t.message.includes("401")?!1:e<1,retryDelay:1e3,cacheTime:30*60*1e3},mutations:{retry:1,retryDelay:1e3,onSuccess:()=>{console.log("[QueryClient] Mutacin exitosa, invalidando queries"),ii.invalidateQueries({queryKey:["/api/kpi-values"]}),ii.invalidateQueries({queryKey:["/api/kpis"]})}}}}),zje=Object.freeze(Object.defineProperty({__proto__:null,apiRequest:Dt,apiRequestLegacy:Om,getAuthToken:fh,getQueryFn:Tre,queryClient:ii,removeAuthToken:$x,setAuthToken:Fje},Symbol.toStringTag,{value:"Module"})),Vje=1,qje=1e6;let cT=0;function Uje(){return cT=(cT+1)%Number.MAX_SAFE_INTEGER,cT.toString()}const uT=new Map,d9=e=>{if(uT.has(e))return;const t=setTimeout(()=>{uT.delete(e),T1({type:"REMOVE_TOAST",toastId:e})},qje);uT.set(e,t)},Wje=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,Vje)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?d9(n):e.toasts.forEach(r=>{d9(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},nS=[];let rS={toasts:[]};function T1(e){rS=Wje(rS,e),nS.forEach(t=>{t(rS)})}function gl({...e}){const t=Uje(),n=i=>T1({type:"UPDATE_TOAST",toast:{...i,id:t}}),r=()=>T1({type:"DISMISS_TOAST",toastId:t});return T1({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:i=>{i||r()}}}),{id:t,dismiss:r,update:n}}function zi(){const[e,t]=b.useState(rS);return b.useEffect(()=>(nS.push(t),()=>{const n=nS.indexOf(t);n>-1&&nS.splice(n,1)}),[e]),{...e,toast:gl,dismiss:n=>T1({type:"DISMISS_TOAST",toastId:n})}}function _t(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function f9(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function yf(...e){return t=>{let n=!1;const r=e.map(i=>{const a=f9(i,t);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let i=0;i<r.length;i++){const a=r[i];typeof a=="function"?a():f9(e[i],null)}}}}function Fn(...e){return b.useCallback(yf(...e),e)}function Hje(e,t){const n=b.createContext(t),r=a=>{const{children:o,...l}=a,c=b.useMemo(()=>l,Object.values(l));return s.jsx(n.Provider,{value:c,children:o})};r.displayName=e+"Provider";function i(a){const o=b.useContext(n);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[r,i]}function Xo(e,t=[]){let n=[];function r(a,o){const l=b.createContext(o),c=n.length;n=[...n,o];const u=f=>{var x;const{scope:m,children:h,...g}=f,y=((x=m==null?void 0:m[e])==null?void 0:x[c])||l,v=b.useMemo(()=>g,Object.values(g));return s.jsx(y.Provider,{value:v,children:h})};u.displayName=a+"Provider";function d(f,m){var y;const h=((y=m==null?void 0:m[e])==null?void 0:y[c])||l,g=b.useContext(h);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[u,d]}const i=()=>{const a=n.map(o=>b.createContext(o));return function(l){const c=(l==null?void 0:l[e])||a;return b.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return i.scopeName=e,[r,Kje(i,...t)]}function Kje(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=r.reduce((l,{useScope:c,scopeName:u})=>{const f=c(a)[`__scope${u}`];return{...l,...f}},{});return b.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function h9(e){const t=Gje(e),n=b.forwardRef((r,i)=>{const{children:a,...o}=r,l=b.Children.toArray(a),c=l.find(Xje);if(c){const u=c.props.children,d=l.map(f=>f===c?b.Children.count(u)>1?b.Children.only(null):b.isValidElement(u)?u.props.children:null:f);return s.jsx(t,{...o,ref:i,children:b.isValidElement(u)?b.cloneElement(u,void 0,d):null})}return s.jsx(t,{...o,ref:i,children:a})});return n.displayName=`${e}.Slot`,n}function Gje(e){const t=b.forwardRef((n,r)=>{const{children:i,...a}=n;if(b.isValidElement(i)){const o=Qje(i),l=Zje(a,i.props);return i.type!==b.Fragment&&(l.ref=r?yf(r,o):o),b.cloneElement(i,l)}return b.Children.count(i)>1?b.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Yje=Symbol("radix.slottable");function Xje(e){return b.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Yje}function Zje(e,t){const n={...t};for(const r in t){const i=e[r],a=t[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...e,...n}}function Qje(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function VC(e){const t=e+"CollectionProvider",[n,r]=Xo(t),[i,a]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=y=>{const{scope:v,children:x}=y,w=E.useRef(null),j=E.useRef(new Map).current;return s.jsx(i,{scope:v,itemMap:j,collectionRef:w,children:x})};o.displayName=t;const l=e+"CollectionSlot",c=h9(l),u=E.forwardRef((y,v)=>{const{scope:x,children:w}=y,j=a(l,x),_=Fn(v,j.collectionRef);return s.jsx(c,{ref:_,children:w})});u.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",m=h9(d),h=E.forwardRef((y,v)=>{const{scope:x,children:w,...j}=y,_=E.useRef(null),S=Fn(v,_),k=a(d,x);return E.useEffect(()=>(k.itemMap.set(_,{ref:_,...j}),()=>void k.itemMap.delete(_))),s.jsx(m,{[f]:"",ref:S,children:w})});h.displayName=d;function g(y){const v=a(e+"CollectionConsumer",y);return E.useCallback(()=>{const w=v.collectionRef.current;if(!w)return[];const j=Array.from(w.querySelectorAll(`[${f}]`));return Array.from(v.itemMap.values()).sort((k,P)=>j.indexOf(k.ref.current)-j.indexOf(P.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:o,Slot:u,ItemSlot:h},g,r]}function Jje(e){const t=eNe(e),n=b.forwardRef((r,i)=>{const{children:a,...o}=r,l=b.Children.toArray(a),c=l.find(nNe);if(c){const u=c.props.children,d=l.map(f=>f===c?b.Children.count(u)>1?b.Children.only(null):b.isValidElement(u)?u.props.children:null:f);return s.jsx(t,{...o,ref:i,children:b.isValidElement(u)?b.cloneElement(u,void 0,d):null})}return s.jsx(t,{...o,ref:i,children:a})});return n.displayName=`${e}.Slot`,n}function eNe(e){const t=b.forwardRef((n,r)=>{const{children:i,...a}=n;if(b.isValidElement(i)){const o=iNe(i),l=rNe(a,i.props);return i.type!==b.Fragment&&(l.ref=r?yf(r,o):o),b.cloneElement(i,l)}return b.Children.count(i)>1?b.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var tNe=Symbol("radix.slottable");function nNe(e){return b.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===tNe}function rNe(e,t){const n={...t};for(const r in t){const i=e[r],a=t[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...e,...n}}function iNe(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var aNe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],sn=aNe.reduce((e,t)=>{const n=Jje(`Primitive.${t}`),r=b.forwardRef((i,a)=>{const{asChild:o,...l}=i,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:a})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function $6(e,t){e&&Er.flushSync(()=>e.dispatchEvent(t))}function wa(e){const t=b.useRef(e);return b.useEffect(()=>{t.current=e}),b.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function sNe(e,t=globalThis==null?void 0:globalThis.document){const n=wa(e);b.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var oNe="DismissableLayer",G3="dismissableLayer.update",lNe="dismissableLayer.pointerDownOutside",cNe="dismissableLayer.focusOutside",m9,Ore=b.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),kv=b.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:o,onDismiss:l,...c}=e,u=b.useContext(Ore),[d,f]=b.useState(null),m=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,h]=b.useState({}),g=Fn(t,P=>f(P)),y=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=y.indexOf(v),w=d?y.indexOf(d):-1,j=u.layersWithOutsidePointerEventsDisabled.size>0,_=w>=x,S=dNe(P=>{const M=P.target,T=[...u.branches].some(R=>R.contains(M));!_||T||(i==null||i(P),o==null||o(P),P.defaultPrevented||l==null||l())},m),k=fNe(P=>{const M=P.target;[...u.branches].some(R=>R.contains(M))||(a==null||a(P),o==null||o(P),P.defaultPrevented||l==null||l())},m);return sNe(P=>{w===u.layers.size-1&&(r==null||r(P),!P.defaultPrevented&&l&&(P.preventDefault(),l()))},m),b.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(m9=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),p9(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=m9)}},[d,m,n,u]),b.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),p9())},[d,u]),b.useEffect(()=>{const P=()=>h({});return document.addEventListener(G3,P),()=>document.removeEventListener(G3,P)},[]),s.jsx(sn.div,{...c,ref:g,style:{pointerEvents:j?_?"auto":"none":void 0,...e.style},onFocusCapture:_t(e.onFocusCapture,k.onFocusCapture),onBlurCapture:_t(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:_t(e.onPointerDownCapture,S.onPointerDownCapture)})});kv.displayName=oNe;var uNe="DismissableLayerBranch",Lre=b.forwardRef((e,t)=>{const n=b.useContext(Ore),r=b.useRef(null),i=Fn(t,r);return b.useEffect(()=>{const a=r.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),s.jsx(sn.div,{...e,ref:i})});Lre.displayName=uNe;function dNe(e,t=globalThis==null?void 0:globalThis.document){const n=wa(e),r=b.useRef(!1),i=b.useRef(()=>{});return b.useEffect(()=>{const a=l=>{if(l.target&&!r.current){let c=function(){Mre(lNe,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=c,t.addEventListener("click",i.current,{once:!0})):c()}else t.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",a),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function fNe(e,t=globalThis==null?void 0:globalThis.document){const n=wa(e),r=b.useRef(!1);return b.useEffect(()=>{const i=a=>{a.target&&!r.current&&Mre(cNe,n,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function p9(){const e=new CustomEvent(G3);document.dispatchEvent(e)}function Mre(e,t,n,{discrete:r}){const i=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?$6(i,a):i.dispatchEvent(a)}var hNe=kv,mNe=Lre,ja=globalThis!=null&&globalThis.document?b.useLayoutEffect:()=>{},pNe="Portal",T0=b.forwardRef((e,t)=>{var l;const{container:n,...r}=e,[i,a]=b.useState(!1);ja(()=>a(!0),[]);const o=n||i&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?O2e.createPortal(s.jsx(sn.div,{...r,ref:t}),o):null});T0.displayName=pNe;function gNe(e,t){return b.useReducer((n,r)=>t[n][r]??n,e)}var _s=e=>{const{present:t,children:n}=e,r=vNe(t),i=typeof n=="function"?n({present:r.isPresent}):b.Children.only(n),a=Fn(r.ref,xNe(i));return typeof n=="function"||r.isPresent?b.cloneElement(i,{ref:a}):null};_s.displayName="Presence";function vNe(e){const[t,n]=b.useState(),r=b.useRef(null),i=b.useRef(e),a=b.useRef("none"),o=e?"mounted":"unmounted",[l,c]=gNe(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return b.useEffect(()=>{const u=zN(r.current);a.current=l==="mounted"?u:"none"},[l]),ja(()=>{const u=r.current,d=i.current;if(d!==e){const m=a.current,h=zN(u);e?c("MOUNT"):h==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&m!==h?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,c]),ja(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=h=>{const y=zN(r.current).includes(CSS.escape(h.animationName));if(h.target===t&&y&&(c("ANIMATION_END"),!i.current)){const v=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=v)})}},m=h=>{h.target===t&&(a.current=zN(r.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:b.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function zN(e){return(e==null?void 0:e.animationName)||"none"}function xNe(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var yNe=wh[" useInsertionEffect ".trim().toString()]||ja;function nd({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[i,a,o]=bNe({defaultProp:t,onChange:n}),l=e!==void 0,c=l?e:i;{const d=b.useRef(e!==void 0);b.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,r])}const u=b.useCallback(d=>{var f;if(l){const m=wNe(d)?d(e):d;m!==e&&((f=o.current)==null||f.call(o,m))}else a(d)},[l,e,a,o]);return[c,u]}function bNe({defaultProp:e,onChange:t}){const[n,r]=b.useState(e),i=b.useRef(n),a=b.useRef(t);return yNe(()=>{a.current=t},[t]),b.useEffect(()=>{var o;i.current!==n&&((o=a.current)==null||o.call(a,n),i.current=n)},[n,i]),[n,r,a]}function wNe(e){return typeof e=="function"}var Ire=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),jNe="VisuallyHidden",qC=b.forwardRef((e,t)=>s.jsx(sn.span,{...e,ref:t,style:{...Ire,...e.style}}));qC.displayName=jNe;var NNe=qC,F6="ToastProvider",[B6,_Ne,SNe]=VC("Toast"),[Dre]=Xo("Toast",[SNe]),[kNe,UC]=Dre(F6),Rre=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:a=50,children:o}=e,[l,c]=b.useState(null),[u,d]=b.useState(0),f=b.useRef(!1),m=b.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${F6}\`. Expected non-empty \`string\`.`),s.jsx(B6.Provider,{scope:t,children:s.jsx(kNe,{scope:t,label:n,duration:r,swipeDirection:i,swipeThreshold:a,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:b.useCallback(()=>d(h=>h+1),[]),onToastRemove:b.useCallback(()=>d(h=>h-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:m,children:o})})};Rre.displayName=F6;var $re="ToastViewport",CNe=["F8"],Y3="toast.viewportPause",X3="toast.viewportResume",Fre=b.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=CNe,label:i="Notifications ({hotkey})",...a}=e,o=UC($re,n),l=_Ne(n),c=b.useRef(null),u=b.useRef(null),d=b.useRef(null),f=b.useRef(null),m=Fn(t,f,o.onViewportChange),h=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=o.toastCount>0;b.useEffect(()=>{const v=x=>{var j;r.length!==0&&r.every(_=>x[_]||x.code===_)&&((j=f.current)==null||j.focus())};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[r]),b.useEffect(()=>{const v=c.current,x=f.current;if(g&&v&&x){const w=()=>{if(!o.isClosePausedRef.current){const k=new CustomEvent(Y3);x.dispatchEvent(k),o.isClosePausedRef.current=!0}},j=()=>{if(o.isClosePausedRef.current){const k=new CustomEvent(X3);x.dispatchEvent(k),o.isClosePausedRef.current=!1}},_=k=>{!v.contains(k.relatedTarget)&&j()},S=()=>{v.contains(document.activeElement)||j()};return v.addEventListener("focusin",w),v.addEventListener("focusout",_),v.addEventListener("pointermove",w),v.addEventListener("pointerleave",S),window.addEventListener("blur",w),window.addEventListener("focus",j),()=>{v.removeEventListener("focusin",w),v.removeEventListener("focusout",_),v.removeEventListener("pointermove",w),v.removeEventListener("pointerleave",S),window.removeEventListener("blur",w),window.removeEventListener("focus",j)}}},[g,o.isClosePausedRef]);const y=b.useCallback(({tabbingDirection:v})=>{const w=l().map(j=>{const _=j.ref.current,S=[_,...BNe(_)];return v==="forwards"?S:S.reverse()});return(v==="forwards"?w.reverse():w).flat()},[l]);return b.useEffect(()=>{const v=f.current;if(v){const x=w=>{var S,k,P;const j=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!j){const M=document.activeElement,T=w.shiftKey;if(w.target===v&&T){(S=u.current)==null||S.focus();return}const I=y({tabbingDirection:T?"backwards":"forwards"}),B=I.findIndex($=>$===M);dT(I.slice(B+1))?w.preventDefault():T?(k=u.current)==null||k.focus():(P=d.current)==null||P.focus()}};return v.addEventListener("keydown",x),()=>v.removeEventListener("keydown",x)}},[l,y]),s.jsxs(mNe,{ref:c,role:"region","aria-label":i.replace("{hotkey}",h),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&s.jsx(Z3,{ref:u,onFocusFromOutsideViewport:()=>{const v=y({tabbingDirection:"forwards"});dT(v)}}),s.jsx(B6.Slot,{scope:n,children:s.jsx(sn.ol,{tabIndex:-1,...a,ref:m})}),g&&s.jsx(Z3,{ref:d,onFocusFromOutsideViewport:()=>{const v=y({tabbingDirection:"backwards"});dT(v)}})]})});Fre.displayName=$re;var Bre="ToastFocusProxy",Z3=b.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=e,a=UC(Bre,n);return s.jsx(qC,{tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=a.viewport)!=null&&u.contains(l))&&r()}})});Z3.displayName=Bre;var mj="Toast",ENe="toast.swipeStart",PNe="toast.swipeMove",ANe="toast.swipeCancel",TNe="toast.swipeEnd",zre=b.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:a,...o}=e,[l,c]=nd({prop:r,defaultProp:i??!0,onChange:a,caller:mj});return s.jsx(_s,{present:n||l,children:s.jsx(MNe,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:wa(e.onPause),onResume:wa(e.onResume),onSwipeStart:_t(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:_t(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:_t(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:_t(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});zre.displayName=mj;var[ONe,LNe]=Dre(mj,{onClose(){}}),MNe=b.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:a,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:m,onSwipeEnd:h,...g}=e,y=UC(mj,n),[v,x]=b.useState(null),w=Fn(t,$=>x($)),j=b.useRef(null),_=b.useRef(null),S=i||y.duration,k=b.useRef(0),P=b.useRef(S),M=b.useRef(0),{onToastAdd:T,onToastRemove:R}=y,D=wa(()=>{var K;(v==null?void 0:v.contains(document.activeElement))&&((K=y.viewport)==null||K.focus()),o()}),I=b.useCallback($=>{!$||$===1/0||(window.clearTimeout(M.current),k.current=new Date().getTime(),M.current=window.setTimeout(D,$))},[D]);b.useEffect(()=>{const $=y.viewport;if($){const K=()=>{I(P.current),u==null||u()},Y=()=>{const Q=new Date().getTime()-k.current;P.current=P.current-Q,window.clearTimeout(M.current),c==null||c()};return $.addEventListener(Y3,Y),$.addEventListener(X3,K),()=>{$.removeEventListener(Y3,Y),$.removeEventListener(X3,K)}}},[y.viewport,S,c,u,I]),b.useEffect(()=>{a&&!y.isClosePausedRef.current&&I(S)},[a,S,y.isClosePausedRef,I]),b.useEffect(()=>(T(),()=>R()),[T,R]);const B=b.useMemo(()=>v?Gre(v):null,[v]);return y.viewport?s.jsxs(s.Fragment,{children:[B&&s.jsx(INe,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite",children:B}),s.jsx(ONe,{scope:n,onClose:D,children:Er.createPortal(s.jsx(B6.ItemSlot,{scope:n,children:s.jsx(hNe,{asChild:!0,onEscapeKeyDown:_t(l,()=>{y.isFocusedToastEscapeKeyDownRef.current||D(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:s.jsx(sn.li,{tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":y.swipeDirection,...g,ref:w,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:_t(e.onKeyDown,$=>{$.key==="Escape"&&(l==null||l($.nativeEvent),$.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,D()))}),onPointerDown:_t(e.onPointerDown,$=>{$.button===0&&(j.current={x:$.clientX,y:$.clientY})}),onPointerMove:_t(e.onPointerMove,$=>{if(!j.current)return;const K=$.clientX-j.current.x,Y=$.clientY-j.current.y,Q=!!_.current,H=["left","right"].includes(y.swipeDirection),G=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,U=H?G(0,K):0,ee=H?0:G(0,Y),z=$.pointerType==="touch"?10:2,F={x:U,y:ee},ie={originalEvent:$,delta:F};Q?(_.current=F,VN(PNe,f,ie,{discrete:!1})):g9(F,y.swipeDirection,z)?(_.current=F,VN(ENe,d,ie,{discrete:!1}),$.target.setPointerCapture($.pointerId)):(Math.abs(K)>z||Math.abs(Y)>z)&&(j.current=null)}),onPointerUp:_t(e.onPointerUp,$=>{const K=_.current,Y=$.target;if(Y.hasPointerCapture($.pointerId)&&Y.releasePointerCapture($.pointerId),_.current=null,j.current=null,K){const Q=$.currentTarget,H={originalEvent:$,delta:K};g9(K,y.swipeDirection,y.swipeThreshold)?VN(TNe,h,H,{discrete:!0}):VN(ANe,m,H,{discrete:!0}),Q.addEventListener("click",G=>G.preventDefault(),{once:!0})}})})})}),y.viewport)})]}):null}),INe=e=>{const{__scopeToast:t,children:n,...r}=e,i=UC(mj,t),[a,o]=b.useState(!1),[l,c]=b.useState(!1);return $Ne(()=>o(!0)),b.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:s.jsx(T0,{asChild:!0,children:s.jsx(qC,{...r,children:a&&s.jsxs(s.Fragment,{children:[i.label," ",n]})})})},DNe="ToastTitle",Vre=b.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return s.jsx(sn.div,{...r,ref:t})});Vre.displayName=DNe;var RNe="ToastDescription",qre=b.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return s.jsx(sn.div,{...r,ref:t})});qre.displayName=RNe;var Ure="ToastAction",Wre=b.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?s.jsx(Kre,{altText:n,asChild:!0,children:s.jsx(z6,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${Ure}\`. Expected non-empty \`string\`.`),null)});Wre.displayName=Ure;var Hre="ToastClose",z6=b.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,i=LNe(Hre,n);return s.jsx(Kre,{asChild:!0,children:s.jsx(sn.button,{type:"button",...r,ref:t,onClick:_t(e.onClick,i.onClose)})})});z6.displayName=Hre;var Kre=b.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...i}=e;return s.jsx(sn.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:t})});function Gre(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),FNe(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",a=r.dataset.radixToastAnnounceExclude==="";if(!i)if(a){const o=r.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...Gre(r))}}),t}function VN(e,t,n,{discrete:r}){const i=n.originalEvent.currentTarget,a=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?$6(i,a):i.dispatchEvent(a)}var g9=(e,t,n=0)=>{const r=Math.abs(e.x),i=Math.abs(e.y),a=r>i;return t==="left"||t==="right"?a&&r>n:!a&&i>n};function $Ne(e=()=>{}){const t=wa(e);ja(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function FNe(e){return e.nodeType===e.ELEMENT_NODE}function BNe(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function dT(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var zNe=Rre,Yre=Fre,Xre=zre,Zre=Vre,Qre=qre,Jre=Wre,eie=z6;function tie(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=tie(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function In(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=tie(e))&&(r&&(r+=" "),r+=t);return r}const v9=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,x9=In,pj=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return x9(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:a}=t,o=Object.keys(i).map(u=>{const d=n==null?void 0:n[u],f=a==null?void 0:a[u];if(d===null)return null;const m=v9(d)||v9(f);return i[u][m]}),l=n&&Object.entries(n).reduce((u,d)=>{let[f,m]=d;return m===void 0||(u[f]=m),u},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:f,className:m,...h}=d;return Object.entries(h).every(g=>{let[y,v]=g;return Array.isArray(v)?v.includes({...a,...l}[y]):{...a,...l}[y]===v})?[...u,f,m]:u},[]);return x9(e,o,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VNe=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),nie=(...e)=>e.filter((t,n,r)=>!!t&&r.indexOf(t)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var qNe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UNe=b.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:o,...l},c)=>b.createElement("svg",{ref:c,...qNe,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:nie("lucide",i),...l},[...o.map(([u,d])=>b.createElement(u,d)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ft=(e,t)=>{const n=b.forwardRef(({className:r,...i},a)=>b.createElement(UNe,{ref:a,iconNode:t,className:nie(`lucide-${VNe(e)}`,r),...i}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hh=ft("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y9=ft("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WNe=ft("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zd=ft("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HNe=ft("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q3=ft("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b9=ft("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rie=ft("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ry=ft("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w9=ft("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iS=ft("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KNe=ft("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sp=ft("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dw=ft("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fT=ft("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xa=ft("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ua=ft("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rw=ft("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iv=ft("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iie=ft("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iy=ft("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WC=ft("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nl=ft("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tc=ft("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lf=ft("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gj=ft("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GNe=ft("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YNe=ft("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XNe=ft("ClipboardCopy",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2",key:"4jdomd"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v4",key:"3hqy98"}],["path",{d:"M21 14H11",key:"1bme5i"}],["path",{d:"m15 10-4 4 4 4",key:"5dvupr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wo=ft("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aie=ft("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hT=ft("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kh=ft("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nc=ft("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sie=ft("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J3=ft("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eL=ft("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dy=ft("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oie=ft("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O1=ft("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ds=ft("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZNe=ft("FileUp",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QNe=ft("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JNe=ft("Fuel",[["line",{x1:"3",x2:"15",y1:"22",y2:"22",key:"xegly4"}],["line",{x1:"4",x2:"14",y1:"9",y2:"9",key:"xcnuvu"}],["path",{d:"M14 22V4a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v18",key:"16j0yd"}],["path",{d:"M14 13h2a2 2 0 0 1 2 2v2a2 2 0 0 0 2 2a2 2 0 0 0 2-2V9.83a2 2 0 0 0-.59-1.42L18 5",key:"7cu91f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e_e=ft("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V6=ft("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lie=ft("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Id=ft("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t_e=ft("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n_e=ft("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j9=ft("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sr=ft("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q6=ft("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cie=ft("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const op=ft("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lp=ft("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r_e=ft("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i_e=ft("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a_e=ft("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uie=ft("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _l=ft("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s_e=ft("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o_e=ft("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l_e=ft("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mT=ft("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rc=ft("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U6=ft("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HC=ft("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const die=ft("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fie=ft("RotateCw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c_e=ft("Ruler",[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KC=ft("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GC=ft("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hie=ft("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r5=ft("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N9=ft("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _9=ft("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i5=ft("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cf=ft("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u_e=ft("SquareCheckBig",[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a5=ft("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d_e=ft("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iy=ft("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f_e=ft("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ic=ft("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mh=ft("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zs=ft("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pr=ft("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oa=ft("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pT=ft("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qo=ft("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kl=ft("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mie=ft("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YC=ft("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jm=ft("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fi=ft("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h_e=ft("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ra=ft("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pie=ft("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m_e=ft("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p_e=ft("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),W6="-",g_e=e=>{const t=x_e(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:o=>{const l=o.split(W6);return l[0]===""&&l.length!==1&&l.shift(),gie(l,t)||v_e(o)},getConflictingClassGroupIds:(o,l)=>{const c=n[o]||[];return l&&r[o]?[...c,...r[o]]:c}}},gie=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),i=r?gie(e.slice(1),r):void 0;if(i)return i;if(t.validators.length===0)return;const a=e.join(W6);return(o=t.validators.find(({validator:l})=>l(a)))==null?void 0:o.classGroupId},S9=/^\[(.+)\]$/,v_e=e=>{if(S9.test(e)){const t=S9.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},x_e=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return b_e(Object.entries(e.classGroups),n).forEach(([a,o])=>{tL(o,r,a,t)}),r},tL=(e,t,n,r)=>{e.forEach(i=>{if(typeof i=="string"){const a=i===""?t:k9(t,i);a.classGroupId=n;return}if(typeof i=="function"){if(y_e(i)){tL(i(r),t,n,r);return}t.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([a,o])=>{tL(o,k9(t,a),n,r)})})},k9=(e,t)=>{let n=e;return t.split(W6).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},y_e=e=>e.isThemeGetter,b_e=(e,t)=>t?e.map(([n,r])=>{const i=r.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([o,l])=>[t+o,l])):a);return[n,i]}):e,w_e=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const i=(a,o)=>{n.set(a,o),t++,t>e&&(t=0,r=n,n=new Map)};return{get(a){let o=n.get(a);if(o!==void 0)return o;if((o=r.get(a))!==void 0)return i(a,o),o},set(a,o){n.has(a)?n.set(a,o):i(a,o)}}},vie="!",j_e=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,i=t[0],a=t.length,o=l=>{const c=[];let u=0,d=0,f;for(let v=0;v<l.length;v++){let x=l[v];if(u===0){if(x===i&&(r||l.slice(v,v+a)===t)){c.push(l.slice(d,v)),d=v+a;continue}if(x==="/"){f=v;continue}}x==="["?u++:x==="]"&&u--}const m=c.length===0?l:l.substring(d),h=m.startsWith(vie),g=h?m.substring(1):m,y=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:h,baseClassName:g,maybePostfixModifierPosition:y}};return n?l=>n({className:l,parseClassName:o}):o},N_e=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},__e=e=>({cache:w_e(e.cacheSize),parseClassName:j_e(e),...g_e(e)}),S_e=/\s+/,k_e=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=t,a=[],o=e.trim().split(S_e);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:h}=n(u);let g=!!h,y=r(g?m.substring(0,h):m);if(!y){if(!g){l=u+(l.length>0?" "+l:l);continue}if(y=r(m),!y){l=u+(l.length>0?" "+l:l);continue}g=!1}const v=N_e(d).join(":"),x=f?v+vie:v,w=x+y;if(a.includes(w))continue;a.push(w);const j=i(y,g);for(let _=0;_<j.length;++_){const S=j[_];a.push(x+S)}l=u+(l.length>0?" "+l:l)}return l};function C_e(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=xie(t))&&(r&&(r+=" "),r+=n);return r}const xie=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=xie(e[r]))&&(n&&(n+=" "),n+=t);return n};function nL(e,...t){let n,r,i,a=o;function o(c){const u=t.reduce((d,f)=>f(d),e());return n=__e(u),r=n.cache.get,i=n.cache.set,a=l,l(c)}function l(c){const u=r(c);if(u)return u;const d=k_e(c,n);return i(c,d),d}return function(){return a(C_e.apply(null,arguments))}}const Ti=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},yie=/^\[(?:([a-z-]+):)?(.+)\]$/i,E_e=/^\d+\/\d+$/,P_e=new Set(["px","full","screen"]),A_e=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,T_e=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,O_e=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,L_e=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,M_e=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,zf=e=>ay(e)||P_e.has(e)||E_e.test(e),pm=e=>O0(e,"length",V_e),ay=e=>!!e&&!Number.isNaN(Number(e)),gT=e=>O0(e,"number",ay),zb=e=>!!e&&Number.isInteger(Number(e)),I_e=e=>e.endsWith("%")&&ay(e.slice(0,-1)),Qn=e=>yie.test(e),gm=e=>A_e.test(e),D_e=new Set(["length","size","percentage"]),R_e=e=>O0(e,D_e,bie),$_e=e=>O0(e,"position",bie),F_e=new Set(["image","url"]),B_e=e=>O0(e,F_e,U_e),z_e=e=>O0(e,"",q_e),Vb=()=>!0,O0=(e,t,n)=>{const r=yie.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},V_e=e=>T_e.test(e)&&!O_e.test(e),bie=()=>!1,q_e=e=>L_e.test(e),U_e=e=>M_e.test(e),rL=()=>{const e=Ti("colors"),t=Ti("spacing"),n=Ti("blur"),r=Ti("brightness"),i=Ti("borderColor"),a=Ti("borderRadius"),o=Ti("borderSpacing"),l=Ti("borderWidth"),c=Ti("contrast"),u=Ti("grayscale"),d=Ti("hueRotate"),f=Ti("invert"),m=Ti("gap"),h=Ti("gradientColorStops"),g=Ti("gradientColorStopPositions"),y=Ti("inset"),v=Ti("margin"),x=Ti("opacity"),w=Ti("padding"),j=Ti("saturate"),_=Ti("scale"),S=Ti("sepia"),k=Ti("skew"),P=Ti("space"),M=Ti("translate"),T=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto",Qn,t],I=()=>[Qn,t],B=()=>["",zf,pm],$=()=>["auto",ay,Qn],K=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Y=()=>["solid","dashed","dotted","double","none"],Q=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],H=()=>["start","end","center","between","around","evenly","stretch"],G=()=>["","0",Qn],U=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ee=()=>[ay,Qn];return{cacheSize:500,separator:":",theme:{colors:[Vb],spacing:[zf,pm],blur:["none","",gm,Qn],brightness:ee(),borderColor:[e],borderRadius:["none","","full",gm,Qn],borderSpacing:I(),borderWidth:B(),contrast:ee(),grayscale:G(),hueRotate:ee(),invert:G(),gap:I(),gradientColorStops:[e],gradientColorStopPositions:[I_e,pm],inset:D(),margin:D(),opacity:ee(),padding:I(),saturate:ee(),scale:ee(),sepia:G(),skew:ee(),space:I(),translate:I()},classGroups:{aspect:[{aspect:["auto","square","video",Qn]}],container:["container"],columns:[{columns:[gm]}],"break-after":[{"break-after":U()}],"break-before":[{"break-before":U()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...K(),Qn]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",zb,Qn]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Qn]}],grow:[{grow:G()}],shrink:[{shrink:G()}],order:[{order:["first","last","none",zb,Qn]}],"grid-cols":[{"grid-cols":[Vb]}],"col-start-end":[{col:["auto",{span:["full",zb,Qn]},Qn]}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":[Vb]}],"row-start-end":[{row:["auto",{span:[zb,Qn]},Qn]}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Qn]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Qn]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...H()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...H(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...H(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[P]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[P]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Qn,t]}],"min-w":[{"min-w":[Qn,t,"min","max","fit"]}],"max-w":[{"max-w":[Qn,t,"none","full","min","max","fit","prose",{screen:[gm]},gm]}],h:[{h:[Qn,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Qn,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Qn,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Qn,t,"auto","min","max","fit"]}],"font-size":[{text:["base",gm,pm]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",gT]}],"font-family":[{font:[Vb]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Qn]}],"line-clamp":[{"line-clamp":["none",ay,gT]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",zf,Qn]}],"list-image":[{"list-image":["none",Qn]}],"list-style-type":[{list:["none","disc","decimal",Qn]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Y(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",zf,pm]}],"underline-offset":[{"underline-offset":["auto",zf,Qn]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Qn]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Qn]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...K(),$_e]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",R_e]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},B_e]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...Y(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:Y()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...Y()]}],"outline-offset":[{"outline-offset":[zf,Qn]}],"outline-w":[{outline:[zf,pm]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:B()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[zf,pm]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",gm,z_e]}],"shadow-color":[{shadow:[Vb]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...Q(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Q()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",gm,Qn]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[j]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[j]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Qn]}],duration:[{duration:ee()}],ease:[{ease:["linear","in","out","in-out",Qn]}],delay:[{delay:ee()}],animate:[{animate:["none","spin","ping","pulse","bounce",Qn]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[zb,Qn]}],"translate-x":[{"translate-x":[M]}],"translate-y":[{"translate-y":[M]}],"skew-x":[{"skew-x":[k]}],"skew-y":[{"skew-y":[k]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Qn]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Qn]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Qn]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[zf,pm,gT]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},W_e=(e,{cacheSize:t,prefix:n,separator:r,experimentalParseClassName:i,extend:a={},override:o={}})=>{p1(e,"cacheSize",t),p1(e,"prefix",n),p1(e,"separator",r),p1(e,"experimentalParseClassName",i);for(const l in o)H_e(e[l],o[l]);for(const l in a)K_e(e[l],a[l]);return e},p1=(e,t,n)=>{n!==void 0&&(e[t]=n)},H_e=(e,t)=>{if(t)for(const n in t)p1(e,n,t[n])},K_e=(e,t)=>{if(t)for(const n in t){const r=t[n];r!==void 0&&(e[n]=(e[n]||[]).concat(r))}},G_e=(e,...t)=>typeof e=="function"?nL(rL,e,...t):nL(()=>W_e(rL(),e),...t),Y_e=nL(rL);function Fe(...e){return Y_e(In(e))}const X_e=zNe,wie=b.forwardRef(({className:e,...t},n)=>s.jsx(Yre,{ref:n,className:Fe("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));wie.displayName=Yre.displayName;const Z_e=pj("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),jie=b.forwardRef(({className:e,variant:t,...n},r)=>s.jsx(Xre,{ref:r,className:Fe(Z_e({variant:t}),e),...n}));jie.displayName=Xre.displayName;const Q_e=b.forwardRef(({className:e,...t},n)=>s.jsx(Jre,{ref:n,className:Fe("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));Q_e.displayName=Jre.displayName;const Nie=b.forwardRef(({className:e,...t},n)=>s.jsx(eie,{ref:n,className:Fe("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:s.jsx(Ra,{className:"h-4 w-4"})}));Nie.displayName=eie.displayName;const _ie=b.forwardRef(({className:e,...t},n)=>s.jsx(Zre,{ref:n,className:Fe("text-sm font-semibold",e),...t}));_ie.displayName=Zre.displayName;const Sie=b.forwardRef(({className:e,...t},n)=>s.jsx(Qre,{ref:n,className:Fe("text-sm opacity-90",e),...t}));Sie.displayName=Qre.displayName;function J_e(){const{toasts:e}=zi();return s.jsxs(X_e,{children:[e.map(function({id:t,title:n,description:r,action:i,...a}){return s.jsxs(jie,{...a,children:[s.jsxs("div",{className:"grid gap-1",children:[n&&s.jsx(_ie,{children:n}),r&&s.jsx(Sie,{children:r})]}),i,s.jsx(Nie,{})]},t)}),s.jsx(wie,{})]})}const Ue=b.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:Fe("rounded-lg border border-border bg-card text-card-foreground transition-modern","[box-shadow:0_1px_4px_rgba(0,0,0,0.3)]",e),...t}));Ue.displayName="Card";const Vt=b.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:Fe("flex flex-col space-y-1.5 p-6",e),...t}));Vt.displayName="CardHeader";const an=b.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:Fe("text-2xl font-semibold leading-none tracking-tight",e),...t}));an.displayName="CardTitle";const fi=b.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:Fe("text-sm text-muted-foreground",e),...t}));fi.displayName="CardDescription";const We=b.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:Fe("p-6 pt-0",e),...t}));We.displayName="CardContent";const kie=b.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:Fe("flex items-center p-6 pt-0",e),...t}));kie.displayName="CardFooter";function eSe(){return s.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:s.jsx(Ue,{className:"w-full max-w-md mx-4",children:s.jsxs(We,{className:"pt-6",children:[s.jsxs("div",{className:"flex mb-4 gap-2",children:[s.jsx(Nl,{className:"h-8 w-8 text-red-500"}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),s.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}var tSe=(e,t,n,r,i,a,o,l)=>{let c=document.documentElement,u=["light","dark"];function d(h){(Array.isArray(e)?e:[e]).forEach(g=>{let y=g==="class",v=y&&a?i.map(x=>a[x]||x):i;y?(c.classList.remove(...v),c.classList.add(a&&a[h]?a[h]:h)):c.setAttribute(g,h)}),f(h)}function f(h){l&&u.includes(h)&&(c.style.colorScheme=h)}function m(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(r)d(r);else try{let h=localStorage.getItem(t)||n,g=o&&h==="system"?m():h;d(g)}catch{}},C9=["light","dark"],Cie="(prefers-color-scheme: dark)",nSe=typeof window>"u",Eie=b.createContext(void 0),rSe=e=>b.useContext(Eie)?b.createElement(b.Fragment,null,e.children):b.createElement(aSe,{...e}),iSe=["light","dark"],aSe=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:n=!0,enableColorScheme:r=!0,storageKey:i="theme",themes:a=iSe,defaultTheme:o=n?"system":"light",attribute:l="data-theme",value:c,children:u,nonce:d,scriptProps:f})=>{let[m,h]=b.useState(()=>oSe(i,o)),[g,y]=b.useState(()=>m==="system"?vT():m),v=c?Object.values(c):a,x=b.useCallback(S=>{let k=S;if(!k)return;S==="system"&&n&&(k=vT());let P=c?c[k]:k,M=t?lSe(d):null,T=document.documentElement,R=D=>{D==="class"?(T.classList.remove(...v),P&&T.classList.add(P)):D.startsWith("data-")&&(P?T.setAttribute(D,P):T.removeAttribute(D))};if(Array.isArray(l)?l.forEach(R):R(l),r){let D=C9.includes(o)?o:null,I=C9.includes(k)?k:D;T.style.colorScheme=I}M==null||M()},[d]),w=b.useCallback(S=>{let k=typeof S=="function"?S(m):S;h(k);try{localStorage.setItem(i,k)}catch{}},[m]),j=b.useCallback(S=>{let k=vT(S);y(k),m==="system"&&n&&!e&&x("system")},[m,e]);b.useEffect(()=>{let S=window.matchMedia(Cie);return S.addListener(j),j(S),()=>S.removeListener(j)},[j]),b.useEffect(()=>{let S=k=>{k.key===i&&(k.newValue?h(k.newValue):w(o))};return window.addEventListener("storage",S),()=>window.removeEventListener("storage",S)},[w]),b.useEffect(()=>{x(e??m)},[e,m]);let _=b.useMemo(()=>({theme:m,setTheme:w,forcedTheme:e,resolvedTheme:m==="system"?g:m,themes:n?[...a,"system"]:a,systemTheme:n?g:void 0}),[m,w,e,g,n,a]);return b.createElement(Eie.Provider,{value:_},b.createElement(sSe,{forcedTheme:e,storageKey:i,attribute:l,enableSystem:n,enableColorScheme:r,defaultTheme:o,value:c,themes:a,nonce:d,scriptProps:f}),u)},sSe=b.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:i,defaultTheme:a,value:o,themes:l,nonce:c,scriptProps:u})=>{let d=JSON.stringify([n,t,a,e,l,o,r,i]).slice(1,-1);return b.createElement("script",{...u,suppressHydrationWarning:!0,nonce:typeof window>"u"?c:"",dangerouslySetInnerHTML:{__html:`(${tSe.toString()})(${d})`}})}),oSe=(e,t)=>{if(nSe)return;let n;try{n=localStorage.getItem(e)||void 0}catch{}return n||t},lSe=e=>{let t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(t),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(t)},1)}},vT=e=>(e||(e=window.matchMedia(Cie)),e.matches?"dark":"light");const cSe="modulepreload",uSe=function(e){return"/"+e},E9={},L1=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(c=>{if(c=uSe(c),c in E9)return;E9[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":cSe,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((m,h)=>{f.addEventListener("load",m),f.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return i.then(o=>{for(const l of o||[])l.status==="rejected"&&a(l.reason);return t().catch(a)})},Pie=b.createContext(null);function dSe({children:e}){const[t,n]=b.useState(null),[r,i]=b.useState(!0),[a,o]=b.useState(!1),{toast:l}=zi(),c=async()=>{try{const y=fh();if(!y){n(null);return}i(!0);const v=await fetch("/api/user",{headers:{Authorization:`Bearer ${y}`}});if(v.ok){const x=await v.json();n(x)}else $x(),n(null),ii.invalidateQueries()}catch{n(null)}finally{i(!1)}};b.useEffect(()=>{(async()=>{try{const v=fh();if(!v){n(null),i(!1);return}const x=await fetch("/api/user",{headers:{Authorization:`Bearer ${v}`}});if(x.ok){const w=await x.json();n(w)}else $x(),n(null)}catch{$x(),n(null)}finally{i(!1),o(!0)}})()},[]);const u=async(y,v)=>{try{i(!0);const{apiRequest:x,setAuthToken:w}=await L1(async()=>{const{apiRequest:P,setAuthToken:M}=await Promise.resolve().then(()=>zje);return{apiRequest:P,setAuthToken:M}},void 0),j=await x("POST","/api/login",{username:y,password:v});if(!j.ok){const P=await j.json();throw new Error(P.message||"Error al iniciar sesin")}const _=await j.json(),S=_.token||_.jwt||_.accessToken;if(!S)throw new Error("No se recibi token del servidor");w(S);const k=fh();if(!k||k!==S)throw console.error("[Auth] Error: Token no se guard correctamente"),new Error("Error al guardar el token de autenticacin");n(_.user),await new Promise(P=>setTimeout(P,200)),ii.invalidateQueries(),l({title:"Bienvenido!",description:`Sesin iniciada como ${_.user.name}`})}catch(x){if(console.error("[Auth] Error login:",x),x.message&&x.message.includes("429")){const w=x.message.replace("429: ","");l({title:"Demasiados intentos de login",description:w||"Has excedido el lmite de intentos de login. Por favor, espera 15 minutos antes de intentar nuevamente.",variant:"destructive"})}else l({title:"Error al iniciar sesin",description:x.message||"Credenciales incorrectas",variant:"destructive"});throw x}finally{i(!1)}},d=async()=>{try{i(!0),$x(),n(null),ii.clear(),l({title:"Sesin cerrada",description:"Has cerrado sesin correctamente"})}catch(y){console.error("[Auth] Error logout:",y),l({title:"Error al cerrar sesin",description:"Ha ocurrido un error al cerrar la sesin",variant:"destructive"})}finally{i(!1)}},f=(t==null?void 0:t.role)==="admin",m=(t==null?void 0:t.role)==="admin"||(t==null?void 0:t.role)==="manager";return s.jsx(Pie.Provider,{value:{user:t,isLoading:r,authReady:a,isAdmin:f,isMarioOrAdmin:m,hasLogisticsAccess:!0,hasSalesAccess:!0,login:u,logout:d,refreshUser:c},children:e})}function ud(){const e=b.useContext(Pie);if(!e)throw new Error("useAuth debe ser usado dentro de un AuthProvider");return e}function fSe({children:e}){const[t,n]=b.useState(!1);return b.useEffect(()=>{const r=setTimeout(()=>{n(!0)},10);return()=>clearTimeout(r)},[]),t?s.jsx(dSe,{children:e}):s.jsx("div",{className:"flex justify-center items-center min-h-screen bg-secondary-100",children:s.jsxs("div",{className:"flex flex-col items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 border-4 border-primary-600 border-t-transparent rounded-full animate-spin"}),s.jsx("p",{className:"text-primary-600 text-sm",children:"Inicializando sistema de autenticacin..."})]})})}const hSe=b.createContext(null);function mSe({children:e}){const[t,n]=b.useState(()=>{const r=localStorage.getItem("selectedCompanyId");return r?Number(r):1});return b.useEffect(()=>{localStorage.setItem("selectedCompanyId",t.toString())},[t]),s.jsx(hSe.Provider,{value:{selectedCompany:t,setSelectedCompany:n},children:e})}const pSe=e=>{e!=="/login"&&sessionStorage.setItem("redirectAfterLogin",e)},Eo=({children:e,adminOnly:t=!1,executiveOnly:n=!1,logisticsOnly:r=!1,salesOnly:i=!1})=>{const{user:a,isLoading:o,authReady:l,isAdmin:c,isMarioOrAdmin:u,hasLogisticsAccess:d,hasSalesAccess:f,refreshUser:m}=ud(),[h,g]=Yo();b.useEffect(()=>{if(!l)return;const v=fh();if(l&&!v&&!a){pSe(h),g("/login");return}if(l&&v&&!a&&!o){m();return}l&&a&&(c||(t||n&&!u||r&&!d||i&&!f)&&g("/"))},[a,o,l,c,u,t,n,g,h,m,d,f,r,i]);const y=fh();return!l||o||y&&!a?s.jsx("div",{className:"flex justify-center items-center h-screen bg-gray-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx(sr,{className:"h-12 w-12 animate-spin text-primary-600 mx-auto mb-4"}),s.jsx("p",{className:"text-primary-600 text-lg font-medium",children:"Validando acceso..."}),s.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"Por favor espera un momento"})]})}):!a||!c&&(t||n&&!u||r&&!d||i&&!f)?s.jsx("div",{className:"flex justify-center items-center h-screen bg-gray-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx(sr,{className:"h-12 w-12 animate-spin text-primary-600 mx-auto mb-4"}),s.jsx("p",{className:"text-primary-600 text-lg font-medium",children:"Verificando permisos..."})]})}):s.jsx(s.Fragment,{children:e})};var gSe=Symbol.for("react.lazy"),s5=wh[" use ".trim().toString()];function vSe(e){return typeof e=="object"&&e!==null&&"then"in e}function Aie(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===gSe&&"_payload"in e&&vSe(e._payload)}function XC(e){const t=xSe(e),n=b.forwardRef((r,i)=>{let{children:a,...o}=r;Aie(a)&&typeof s5=="function"&&(a=s5(a._payload));const l=b.Children.toArray(a),c=l.find(bSe);if(c){const u=c.props.children,d=l.map(f=>f===c?b.Children.count(u)>1?b.Children.only(null):b.isValidElement(u)?u.props.children:null:f);return s.jsx(t,{...o,ref:i,children:b.isValidElement(u)?b.cloneElement(u,void 0,d):null})}return s.jsx(t,{...o,ref:i,children:a})});return n.displayName=`${e}.Slot`,n}var H6=XC("Slot");function xSe(e){const t=b.forwardRef((n,r)=>{let{children:i,...a}=n;if(Aie(i)&&typeof s5=="function"&&(i=s5(i._payload)),b.isValidElement(i)){const o=jSe(i),l=wSe(a,i.props);return i.type!==b.Fragment&&(l.ref=r?yf(r,o):o),b.cloneElement(i,l)}return b.Children.count(i)>1?b.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var ySe=Symbol("radix.slottable");function bSe(e){return b.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===ySe}function wSe(e,t){const n={...t};for(const r in t){const i=e[r],a=t[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...e,...n}}function jSe(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}const $w=pj("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 [box-shadow:0_1px_4px_rgba(0,0,0,0.3)] hover:[box-shadow:0_2px_6px_rgba(79,70,229,0.3)]",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent/10 hover:border-accent",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent/10 hover:text-accent",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Oe=b.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...i},a)=>{const o=r?H6:"button";return s.jsx(o,{className:Fe($w({variant:t,size:n,className:e})),ref:a,...i})});Oe.displayName="Button";class NSe extends b.Component{constructor(t){super(t),this.handleReload=()=>{window.location.reload()},this.handleReset=()=>{this.setState({hasError:!1,error:void 0})},this.state={hasError:!1}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,n){console.error("[ErrorBoundary] Error capturado:",t,n)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4",children:s.jsx("div",{className:"max-w-md w-full text-center",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8",children:[s.jsx(Nl,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Algo sali mal"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Ha ocurrido un error inesperado. Puedes intentar recargar la pgina o volver al inicio."}),!1,s.jsxs("div",{className:"space-y-3",children:[s.jsxs(Oe,{onClick:this.handleReload,className:"w-full","data-testid":"button-reload",children:[s.jsx(HC,{className:"h-4 w-4 mr-2"}),"Recargar pgina"]}),s.jsx(Oe,{variant:"outline",onClick:this.handleReset,className:"w-full","data-testid":"button-retry",children:"Intentar de nuevo"}),s.jsx(Oe,{variant:"ghost",onClick:()=>window.location.href="/",className:"w-full","data-testid":"button-home",children:"Ir al inicio"})]})]})})}):this.props.children}}const K6=b.createContext({});function G6(e){const t=b.useRef(null);return t.current===null&&(t.current=e()),t.current}const ZC=b.createContext(null),Y6=b.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class _Se extends b.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function SSe({children:e,isPresent:t}){const n=b.useId(),r=b.useRef(null),i=b.useRef({width:0,height:0,top:0,left:0}),{nonce:a}=b.useContext(Y6);return b.useInsertionEffect(()=>{const{width:o,height:l,top:c,left:u}=i.current;if(t||!r.current||!o||!l)return;r.current.dataset.motionPopId=n;const d=document.createElement("style");return a&&(d.nonce=a),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${l}px !important;
            top: ${c}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[t]),s.jsx(_Se,{isPresent:t,childRef:r,sizeRef:i,children:b.cloneElement(e,{ref:r})})}const kSe=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:a,mode:o})=>{const l=G6(CSe),c=b.useId(),u=b.useCallback(f=>{l.set(f,!0);for(const m of l.values())if(!m)return;r&&r()},[l,r]),d=b.useMemo(()=>({id:c,initial:t,isPresent:n,custom:i,onExitComplete:u,register:f=>(l.set(f,!1),()=>l.delete(f))}),a?[Math.random(),u]:[n,u]);return b.useMemo(()=>{l.forEach((f,m)=>l.set(m,!1))},[n]),b.useEffect(()=>{!n&&!l.size&&r&&r()},[n]),o==="popLayout"&&(e=s.jsx(SSe,{isPresent:n,children:e})),s.jsx(ZC.Provider,{value:d,children:e})};function CSe(){return new Map}function Tie(e=!0){const t=b.useContext(ZC);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=t,a=b.useId();b.useEffect(()=>{e&&i(a)},[e]);const o=b.useCallback(()=>e&&r&&r(a),[a,r,e]);return!n&&r?[!1,o]:[!0]}const qN=e=>e.key||"";function P9(e){const t=[];return b.Children.forEach(e,n=>{b.isValidElement(n)&&t.push(n)}),t}const X6=typeof window<"u",Oie=X6?b.useLayoutEffect:b.useEffect,iL=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:a="sync",propagate:o=!1})=>{const[l,c]=Tie(o),u=b.useMemo(()=>P9(e),[e]),d=o&&!l?[]:u.map(qN),f=b.useRef(!0),m=b.useRef(u),h=G6(()=>new Map),[g,y]=b.useState(u),[v,x]=b.useState(u);Oie(()=>{f.current=!1,m.current=u;for(let _=0;_<v.length;_++){const S=qN(v[_]);d.includes(S)?h.delete(S):h.get(S)!==!0&&h.set(S,!1)}},[v,d.length,d.join("-")]);const w=[];if(u!==g){let _=[...u];for(let S=0;S<v.length;S++){const k=v[S],P=qN(k);d.includes(P)||(_.splice(S,0,k),w.push(k))}a==="wait"&&w.length&&(_=w),x(P9(_)),y(u);return}const{forceRender:j}=b.useContext(K6);return s.jsx(s.Fragment,{children:v.map(_=>{const S=qN(_),k=o&&!l?!1:u===v||d.includes(S),P=()=>{if(h.has(S))h.set(S,!0);else return;let M=!0;h.forEach(T=>{T||(M=!1)}),M&&(j==null||j(),x(m.current),o&&(c==null||c()),r&&r())};return s.jsx(kSe,{isPresent:k,initial:!f.current||n?void 0:!1,custom:k?void 0:t,presenceAffectsLayout:i,mode:a,onExitComplete:k?void 0:P,children:_},S)})})},ac=e=>e;let Lie=ac;function Z6(e){let t;return()=>(t===void 0&&(t=e()),t)}const Ry=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},ph=e=>e*1e3,gh=e=>e/1e3,ESe={useManualTiming:!1};function PSe(e){let t=new Set,n=new Set,r=!1,i=!1;const a=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(u){a.has(u)&&(c.schedule(u),e()),u(o)}const c={schedule:(u,d=!1,f=!1)=>{const h=f&&r?t:n;return d&&a.add(u),h.has(u)||h.add(u),u},cancel:u=>{n.delete(u),a.delete(u)},process:u=>{if(o=u,r){i=!0;return}r=!0,[t,n]=[n,t],t.forEach(l),t.clear(),r=!1,i&&(i=!1,c.process(u))}};return c}const UN=["read","resolveKeyframes","update","preRender","render","postRender"],ASe=40;function Mie(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,o=UN.reduce((x,w)=>(x[w]=PSe(a),x),{}),{read:l,resolveKeyframes:c,update:u,preRender:d,render:f,postRender:m}=o,h=()=>{const x=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(x-i.timestamp,ASe),1),i.timestamp=x,i.isProcessing=!0,l.process(i),c.process(i),u.process(i),d.process(i),f.process(i),m.process(i),i.isProcessing=!1,n&&t&&(r=!1,e(h))},g=()=>{n=!0,r=!0,i.isProcessing||e(h)};return{schedule:UN.reduce((x,w)=>{const j=o[w];return x[w]=(_,S=!1,k=!1)=>(n||g(),j.schedule(_,S,k)),x},{}),cancel:x=>{for(let w=0;w<UN.length;w++)o[UN[w]].cancel(x)},state:i,steps:o}}const{schedule:Bi,cancel:cp,state:Is,steps:xT}=Mie(typeof requestAnimationFrame<"u"?requestAnimationFrame:ac,!0),Iie=b.createContext({strict:!1}),A9={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},$y={};for(const e in A9)$y[e]={isEnabled:t=>A9[e].some(n=>!!t[n])};function TSe(e){for(const t in e)$y[t]={...$y[t],...e[t]}}const OSe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function o5(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||OSe.has(e)}let Die=e=>!o5(e);function LSe(e){e&&(Die=t=>t.startsWith("on")?!o5(t):e(t))}try{LSe(require("@emotion/is-prop-valid").default)}catch{}function MSe(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(Die(i)||n===!0&&o5(i)||!t&&!o5(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}function ISe(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...r)=>e(...r);return new Proxy(n,{get:(r,i)=>i==="create"?e:(t.has(i)||t.set(i,e(i)),t.get(i))})}const QC=b.createContext({});function Fw(e){return typeof e=="string"||Array.isArray(e)}function JC(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const Q6=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],J6=["initial",...Q6];function eE(e){return JC(e.animate)||J6.some(t=>Fw(e[t]))}function Rie(e){return!!(eE(e)||e.variants)}function DSe(e,t){if(eE(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Fw(n)?n:void 0,animate:Fw(r)?r:void 0}}return e.inherit!==!1?t:{}}function RSe(e){const{initial:t,animate:n}=DSe(e,b.useContext(QC));return b.useMemo(()=>({initial:t,animate:n}),[T9(t),T9(n)])}function T9(e){return Array.isArray(e)?e.join(" "):e}const $Se=Symbol.for("motionComponentSymbol");function Fx(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function FSe(e,t,n){return b.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Fx(n)&&(n.current=r))},[t])}const eR=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),BSe="framerAppearId",$ie="data-"+eR(BSe),{schedule:tR}=Mie(queueMicrotask,!1),Fie=b.createContext({});function zSe(e,t,n,r,i){var a,o;const{visualElement:l}=b.useContext(QC),c=b.useContext(Iie),u=b.useContext(ZC),d=b.useContext(Y6).reducedMotion,f=b.useRef(null);r=r||c.renderer,!f.current&&r&&(f.current=r(e,{visualState:t,parent:l,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:d}));const m=f.current,h=b.useContext(Fie);m&&!m.projection&&i&&(m.type==="html"||m.type==="svg")&&VSe(f.current,n,i,h);const g=b.useRef(!1);b.useInsertionEffect(()=>{m&&g.current&&m.update(n,u)});const y=n[$ie],v=b.useRef(!!y&&!(!((a=window.MotionHandoffIsComplete)===null||a===void 0)&&a.call(window,y))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,y)));return Oie(()=>{m&&(g.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),tR.render(m.render),v.current&&m.animationState&&m.animationState.animateChanges())}),b.useEffect(()=>{m&&(!v.current&&m.animationState&&m.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{var x;(x=window.MotionHandoffMarkAsComplete)===null||x===void 0||x.call(window,y)}),v.current=!1))}),m}function VSe(e,t,n,r){const{layoutId:i,layout:a,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:u}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:Bie(e.parent)),e.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!o||l&&Fx(l),visualElement:e,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,layoutScroll:c,layoutRoot:u})}function Bie(e){if(e)return e.options.allowProjection!==!1?e.projection:Bie(e.parent)}function qSe({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:i}){var a,o;e&&TSe(e);function l(u,d){let f;const m={...b.useContext(Y6),...u,layoutId:USe(u)},{isStatic:h}=m,g=RSe(u),y=r(u,h);if(!h&&X6){WSe();const v=HSe(m);f=v.MeasureLayout,g.visualElement=zSe(i,y,m,t,v.ProjectionNode)}return s.jsxs(QC.Provider,{value:g,children:[f&&g.visualElement?s.jsx(f,{visualElement:g.visualElement,...m}):null,n(i,u,FSe(y,g.visualElement,d),y,h,g.visualElement)]})}l.displayName=`motion.${typeof i=="string"?i:`create(${(o=(a=i.displayName)!==null&&a!==void 0?a:i.name)!==null&&o!==void 0?o:""})`}`;const c=b.forwardRef(l);return c[$Se]=i,c}function USe({layoutId:e}){const t=b.useContext(K6).id;return t&&e!==void 0?t+"-"+e:e}function WSe(e,t){b.useContext(Iie).strict}function HSe(e){const{drag:t,layout:n}=$y;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const KSe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function nR(e){return typeof e!="string"||e.includes("-")?!1:!!(KSe.indexOf(e)>-1||/[A-Z]/u.test(e))}function O9(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function rR(e,t,n,r){if(typeof t=="function"){const[i,a]=O9(r);t=t(n!==void 0?n:e.custom,i,a)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,a]=O9(r);t=t(n!==void 0?n:e.custom,i,a)}return t}const aL=e=>Array.isArray(e),GSe=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),YSe=e=>aL(e)?e[e.length-1]||0:e,uo=e=>!!(e&&e.getVelocity);function aS(e){const t=uo(e)?e.get():e;return GSe(t)?t.toValue():t}function XSe({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:n},r,i,a){const o={latestValues:ZSe(r,i,a,e),renderState:t()};return n&&(o.onMount=l=>n({props:r,current:l,...o}),o.onUpdate=l=>n(l)),o}const zie=e=>(t,n)=>{const r=b.useContext(QC),i=b.useContext(ZC),a=()=>XSe(e,t,r,i);return n?a():G6(a)};function ZSe(e,t,n,r){const i={},a=r(e,{});for(const m in a)i[m]=aS(a[m]);let{initial:o,animate:l}=e;const c=eE(e),u=Rie(e);t&&u&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const f=d?l:o;if(f&&typeof f!="boolean"&&!JC(f)){const m=Array.isArray(f)?f:[f];for(let h=0;h<m.length;h++){const g=rR(e,m[h]);if(g){const{transitionEnd:y,transition:v,...x}=g;for(const w in x){let j=x[w];if(Array.isArray(j)){const _=d?j.length-1:0;j=j[_]}j!==null&&(i[w]=j)}for(const w in y)i[w]=y[w]}}}return i}const L0=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Cv=new Set(L0),Vie=e=>t=>typeof t=="string"&&t.startsWith(e),qie=Vie("--"),QSe=Vie("var(--"),iR=e=>QSe(e)?JSe.test(e.split("/*")[0].trim()):!1,JSe=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Uie=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Ch=(e,t,n)=>n>t?t:n<e?e:n,M0={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Bw={...M0,transform:e=>Ch(0,1,e)},WN={...M0,default:1},vj=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),wm=vj("deg"),ef=vj("%"),vn=vj("px"),e5e=vj("vh"),t5e=vj("vw"),L9={...ef,parse:e=>ef.parse(e)/100,transform:e=>ef.transform(e*100)},n5e={borderWidth:vn,borderTopWidth:vn,borderRightWidth:vn,borderBottomWidth:vn,borderLeftWidth:vn,borderRadius:vn,radius:vn,borderTopLeftRadius:vn,borderTopRightRadius:vn,borderBottomRightRadius:vn,borderBottomLeftRadius:vn,width:vn,maxWidth:vn,height:vn,maxHeight:vn,top:vn,right:vn,bottom:vn,left:vn,padding:vn,paddingTop:vn,paddingRight:vn,paddingBottom:vn,paddingLeft:vn,margin:vn,marginTop:vn,marginRight:vn,marginBottom:vn,marginLeft:vn,backgroundPositionX:vn,backgroundPositionY:vn},r5e={rotate:wm,rotateX:wm,rotateY:wm,rotateZ:wm,scale:WN,scaleX:WN,scaleY:WN,scaleZ:WN,skew:wm,skewX:wm,skewY:wm,distance:vn,translateX:vn,translateY:vn,translateZ:vn,x:vn,y:vn,z:vn,perspective:vn,transformPerspective:vn,opacity:Bw,originX:L9,originY:L9,originZ:vn},M9={...M0,transform:Math.round},aR={...n5e,...r5e,zIndex:M9,size:vn,fillOpacity:Bw,strokeOpacity:Bw,numOctaves:M9},i5e={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},a5e=L0.length;function s5e(e,t,n){let r="",i=!0;for(let a=0;a<a5e;a++){const o=L0[a],l=e[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||n){const u=Uie(l,aR[o]);if(!c){i=!1;const d=i5e[o]||o;r+=`${d}(${u}) `}n&&(t[o]=u)}}return r=r.trim(),n?r=n(t,i?"":r):i&&(r="none"),r}function sR(e,t,n){const{style:r,vars:i,transformOrigin:a}=e;let o=!1,l=!1;for(const c in t){const u=t[c];if(Cv.has(c)){o=!0;continue}else if(qie(c)){i[c]=u;continue}else{const d=Uie(u,aR[c]);c.startsWith("origin")?(l=!0,a[c]=d):r[c]=d}}if(t.transform||(o||n?r.transform=s5e(t,e.transform,n):r.transform&&(r.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:d=0}=a;r.transformOrigin=`${c} ${u} ${d}`}}const o5e={offset:"stroke-dashoffset",array:"stroke-dasharray"},l5e={offset:"strokeDashoffset",array:"strokeDasharray"};function c5e(e,t,n=1,r=0,i=!0){e.pathLength=1;const a=i?o5e:l5e;e[a.offset]=vn.transform(-r);const o=vn.transform(t),l=vn.transform(n);e[a.array]=`${o} ${l}`}function I9(e,t,n){return typeof e=="string"?e:vn.transform(t+n*e)}function u5e(e,t,n){const r=I9(t,e.x,e.width),i=I9(n,e.y,e.height);return`${r} ${i}`}function oR(e,{attrX:t,attrY:n,attrScale:r,originX:i,originY:a,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...u},d,f){if(sR(e,u,f),d){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:m,style:h,dimensions:g}=e;m.transform&&(g&&(h.transform=m.transform),delete m.transform),g&&(i!==void 0||a!==void 0||h.transform)&&(h.transformOrigin=u5e(g,i!==void 0?i:.5,a!==void 0?a:.5)),t!==void 0&&(m.x=t),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),o!==void 0&&c5e(m,o,l,c,!1)}const lR=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),Wie=()=>({...lR(),attrs:{}}),cR=e=>typeof e=="string"&&e.toLowerCase()==="svg";function Hie(e,{style:t,vars:n},r,i){Object.assign(e.style,t,i&&i.getProjectionStyles(r));for(const a in n)e.style.setProperty(a,n[a])}const Kie=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Gie(e,t,n,r){Hie(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(Kie.has(i)?i:eR(i),t.attrs[i])}const l5={};function d5e(e){Object.assign(l5,e)}function Yie(e,{layout:t,layoutId:n}){return Cv.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!l5[e]||e==="opacity")}function uR(e,t,n){var r;const{style:i}=e,a={};for(const o in i)(uo(i[o])||t.style&&uo(t.style[o])||Yie(o,e)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(a[o]=i[o]);return a}function Xie(e,t,n){const r=uR(e,t,n);for(const i in e)if(uo(e[i])||uo(t[i])){const a=L0.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[a]=e[i]}return r}function f5e(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}const D9=["x","y","width","height","cx","cy","r"],h5e={useVisualState:zie({scrapeMotionValuesFromProps:Xie,createRenderState:Wie,onUpdate:({props:e,prevProps:t,current:n,renderState:r,latestValues:i})=>{if(!n)return;let a=!!e.drag;if(!a){for(const l in i)if(Cv.has(l)){a=!0;break}}if(!a)return;let o=!t;if(t)for(let l=0;l<D9.length;l++){const c=D9[l];e[c]!==t[c]&&(o=!0)}o&&Bi.read(()=>{f5e(n,r),Bi.render(()=>{oR(r,i,cR(n.tagName),e.transformTemplate),Gie(n,r)})})}})},m5e={useVisualState:zie({scrapeMotionValuesFromProps:uR,createRenderState:lR})};function Zie(e,t,n){for(const r in t)!uo(t[r])&&!Yie(r,n)&&(e[r]=t[r])}function p5e({transformTemplate:e},t){return b.useMemo(()=>{const n=lR();return sR(n,t,e),Object.assign({},n.vars,n.style)},[t])}function g5e(e,t){const n=e.style||{},r={};return Zie(r,n,e),Object.assign(r,p5e(e,t)),r}function v5e(e,t){const n={},r=g5e(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}function x5e(e,t,n,r){const i=b.useMemo(()=>{const a=Wie();return oR(a,t,cR(r),e.transformTemplate),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};Zie(a,e.style,e),i.style={...a,...i.style}}return i}function y5e(e=!1){return(n,r,i,{latestValues:a},o)=>{const c=(nR(n)?x5e:v5e)(r,a,o,n),u=MSe(r,typeof n=="string",e),d=n!==b.Fragment?{...u,...c,ref:i}:{},{children:f}=r,m=b.useMemo(()=>uo(f)?f.get():f,[f]);return b.createElement(n,{...d,children:m})}}function b5e(e,t){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...nR(r)?h5e:m5e,preloadedFeatures:e,useRender:y5e(i),createVisualElement:t,Component:r};return qSe(o)}}function Qie(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function tE(e,t,n){const r=e.getProps();return rR(r,t,n!==void 0?n:r.custom,e)}const w5e=Z6(()=>window.ScrollTimeline!==void 0);class j5e{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,n){for(let r=0;r<this.animations.length;r++)this.animations[r][t]=n}attachTimeline(t,n){const r=this.animations.map(i=>{if(w5e()&&i.attachTimeline)return i.attachTimeline(t);if(typeof n=="function")return n(i)});return()=>{r.forEach((i,a)=>{i&&i(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class N5e extends j5e{then(t,n){return Promise.all(this.animations).then(t).catch(n)}}function dR(e,t){return e?e[t]||e.default||e:void 0}const sL=2e4;function Jie(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<sL;)t+=n,r=e.next(t);return t>=sL?1/0:t}function fR(e){return typeof e=="function"}function R9(e,t){e.timeline=t,e.onfinish=null}const hR=e=>Array.isArray(e)&&typeof e[0]=="number",_5e={linearEasing:void 0};function S5e(e,t){const n=Z6(e);return()=>{var r;return(r=_5e[t])!==null&&r!==void 0?r:n()}}const c5=S5e(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),eae=(e,t,n=10)=>{let r="";const i=Math.max(Math.round(t/n),2);for(let a=0;a<i;a++)r+=e(Ry(0,i-1,a))+", ";return`linear(${r.substring(0,r.length-2)})`};function tae(e){return!!(typeof e=="function"&&c5()||!e||typeof e=="string"&&(e in oL||c5())||hR(e)||Array.isArray(e)&&e.every(tae))}const g1=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,oL={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:g1([0,.65,.55,1]),circOut:g1([.55,0,1,.45]),backIn:g1([.31,.01,.66,-.59]),backOut:g1([.33,1.53,.69,.99])};function nae(e,t){if(e)return typeof e=="function"&&c5()?eae(e,t):hR(e)?g1(e):Array.isArray(e)?e.map(n=>nae(n,t)||oL.easeOut):oL[e]}const Du={x:!1,y:!1};function rae(){return Du.x||Du.y}function k5e(e,t,n){var r;if(e instanceof Element)return[e];if(typeof e=="string"){let i=document;const a=(r=void 0)!==null&&r!==void 0?r:i.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}function iae(e,t){const n=k5e(e),r=new AbortController,i={passive:!0,...t,signal:r.signal};return[n,i,()=>r.abort()]}function $9(e){return t=>{t.pointerType==="touch"||rae()||e(t)}}function C5e(e,t,n={}){const[r,i,a]=iae(e,n),o=$9(l=>{const{target:c}=l,u=t(l);if(typeof u!="function"||!c)return;const d=$9(f=>{u(f),c.removeEventListener("pointerleave",d)});c.addEventListener("pointerleave",d,i)});return r.forEach(l=>{l.addEventListener("pointerenter",o,i)}),a}const aae=(e,t)=>t?e===t?!0:aae(e,t.parentElement):!1,mR=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,E5e=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function P5e(e){return E5e.has(e.tagName)||e.tabIndex!==-1}const v1=new WeakSet;function F9(e){return t=>{t.key==="Enter"&&e(t)}}function yT(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const A5e=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=F9(()=>{if(v1.has(n))return;yT(n,"down");const i=F9(()=>{yT(n,"up")}),a=()=>yT(n,"cancel");n.addEventListener("keyup",i,t),n.addEventListener("blur",a,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function B9(e){return mR(e)&&!rae()}function T5e(e,t,n={}){const[r,i,a]=iae(e,n),o=l=>{const c=l.currentTarget;if(!B9(l)||v1.has(c))return;v1.add(c);const u=t(l),d=(h,g)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",m),!(!B9(h)||!v1.has(c))&&(v1.delete(c),typeof u=="function"&&u(h,{success:g}))},f=h=>{d(h,n.useGlobalTarget||aae(c,h.target))},m=h=>{d(h,!1)};window.addEventListener("pointerup",f,i),window.addEventListener("pointercancel",m,i)};return r.forEach(l=>{!P5e(l)&&l.getAttribute("tabindex")===null&&(l.tabIndex=0),(n.useGlobalTarget?window:l).addEventListener("pointerdown",o,i),l.addEventListener("focus",u=>A5e(u,i),i)}),a}function O5e(e){return e==="x"||e==="y"?Du[e]?null:(Du[e]=!0,()=>{Du[e]=!1}):Du.x||Du.y?null:(Du.x=Du.y=!0,()=>{Du.x=Du.y=!1})}const sae=new Set(["width","height","top","left","right","bottom",...L0]);let sS;function L5e(){sS=void 0}const tf={now:()=>(sS===void 0&&tf.set(Is.isProcessing||ESe.useManualTiming?Is.timestamp:performance.now()),sS),set:e=>{sS=e,queueMicrotask(L5e)}};function pR(e,t){e.indexOf(t)===-1&&e.push(t)}function gR(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class vR{constructor(){this.subscriptions=[]}add(t){return pR(this.subscriptions,t),()=>gR(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let a=0;a<i;a++){const o=this.subscriptions[a];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function oae(e,t){return t?e*(1e3/t):0}const z9=30,M5e=e=>!isNaN(parseFloat(e));class I5e{constructor(t,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const a=tf.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=tf.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=M5e(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new vR);const r=this.events[t].add(n);return t==="change"?()=>{r(),Bi.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=tf.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>z9)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,z9);return oae(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function zw(e,t){return new I5e(e,t)}function D5e(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,zw(n))}function R5e(e,t){const n=tE(e,t);let{transitionEnd:r={},transition:i={},...a}=n||{};a={...a,...r};for(const o in a){const l=YSe(a[o]);D5e(e,o,l)}}function $5e(e){return!!(uo(e)&&e.add)}function lL(e,t){const n=e.getValue("willChange");if($5e(n))return n.add(t)}function lae(e){return e.props[$ie]}const cae=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,F5e=1e-7,B5e=12;function z5e(e,t,n,r,i){let a,o,l=0;do o=t+(n-t)/2,a=cae(o,r,i)-e,a>0?n=o:t=o;while(Math.abs(a)>F5e&&++l<B5e);return o}function xj(e,t,n,r){if(e===t&&n===r)return ac;const i=a=>z5e(a,0,1,e,n);return a=>a===0||a===1?a:cae(i(a),t,r)}const uae=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,dae=e=>t=>1-e(1-t),fae=xj(.33,1.53,.69,.99),xR=dae(fae),hae=uae(xR),mae=e=>(e*=2)<1?.5*xR(e):.5*(2-Math.pow(2,-10*(e-1))),yR=e=>1-Math.sin(Math.acos(e)),pae=dae(yR),gae=uae(yR),vae=e=>/^0[^.\s]+$/u.test(e);function V5e(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||vae(e):!0}const M1=e=>Math.round(e*1e5)/1e5,bR=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function q5e(e){return e==null}const U5e=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,wR=(e,t)=>n=>!!(typeof n=="string"&&U5e.test(n)&&n.startsWith(e)||t&&!q5e(n)&&Object.prototype.hasOwnProperty.call(n,t)),xae=(e,t,n)=>r=>{if(typeof r!="string")return r;const[i,a,o,l]=r.match(bR);return{[e]:parseFloat(i),[t]:parseFloat(a),[n]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},W5e=e=>Ch(0,255,e),bT={...M0,transform:e=>Math.round(W5e(e))},Dg={test:wR("rgb","red"),parse:xae("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+bT.transform(e)+", "+bT.transform(t)+", "+bT.transform(n)+", "+M1(Bw.transform(r))+")"};function H5e(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const cL={test:wR("#"),parse:H5e,transform:Dg.transform},Bx={test:wR("hsl","hue"),parse:xae("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+ef.transform(M1(t))+", "+ef.transform(M1(n))+", "+M1(Bw.transform(r))+")"},ro={test:e=>Dg.test(e)||cL.test(e)||Bx.test(e),parse:e=>Dg.test(e)?Dg.parse(e):Bx.test(e)?Bx.parse(e):cL.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Dg.transform(e):Bx.transform(e)},K5e=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function G5e(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(bR))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(K5e))===null||n===void 0?void 0:n.length)||0)>0}const yae="number",bae="color",Y5e="var",X5e="var(",V9="${}",Z5e=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Vw(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},i=[];let a=0;const l=t.replace(Z5e,c=>(ro.test(c)?(r.color.push(a),i.push(bae),n.push(ro.parse(c))):c.startsWith(X5e)?(r.var.push(a),i.push(Y5e),n.push(c)):(r.number.push(a),i.push(yae),n.push(parseFloat(c))),++a,V9)).split(V9);return{values:n,split:l,indexes:r,types:i}}function wae(e){return Vw(e).values}function jae(e){const{split:t,types:n}=Vw(e),r=t.length;return i=>{let a="";for(let o=0;o<r;o++)if(a+=t[o],i[o]!==void 0){const l=n[o];l===yae?a+=M1(i[o]):l===bae?a+=ro.transform(i[o]):a+=i[o]}return a}}const Q5e=e=>typeof e=="number"?0:e;function J5e(e){const t=wae(e);return jae(e)(t.map(Q5e))}const up={test:G5e,parse:wae,createTransformer:jae,getAnimatableNone:J5e},eke=new Set(["brightness","contrast","saturate","opacity"]);function tke(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(bR)||[];if(!r)return e;const i=n.replace(r,"");let a=eke.has(t)?1:0;return r!==n&&(a*=100),t+"("+a+i+")"}const nke=/\b([a-z-]*)\(.*?\)/gu,uL={...up,getAnimatableNone:e=>{const t=e.match(nke);return t?t.map(tke).join(" "):e}},rke={...aR,color:ro,backgroundColor:ro,outlineColor:ro,fill:ro,stroke:ro,borderColor:ro,borderTopColor:ro,borderRightColor:ro,borderBottomColor:ro,borderLeftColor:ro,filter:uL,WebkitFilter:uL},jR=e=>rke[e];function Nae(e,t){let n=jR(e);return n!==uL&&(n=up),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const ike=new Set(["auto","none","0"]);function ake(e,t,n){let r=0,i;for(;r<e.length&&!i;){const a=e[r];typeof a=="string"&&!ike.has(a)&&Vw(a).values.length&&(i=e[r]),r++}if(i&&n)for(const a of t)e[a]=Nae(n,i)}const q9=e=>e===M0||e===vn,U9=(e,t)=>parseFloat(e.split(", ")[t]),W9=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return U9(i[1],t);{const a=r.match(/^matrix\((.+)\)$/u);return a?U9(a[1],e):0}},ske=new Set(["x","y","z"]),oke=L0.filter(e=>!ske.has(e));function lke(e){const t=[];return oke.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const Fy={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:W9(4,13),y:W9(5,14)};Fy.translateX=Fy.x;Fy.translateY=Fy.y;const Kg=new Set;let dL=!1,fL=!1;function _ae(){if(fL){const e=Array.from(Kg).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const i=lke(r);i.length&&(n.set(r,i),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([a,o])=>{var l;(l=r.getValue(a))===null||l===void 0||l.set(o)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}fL=!1,dL=!1,Kg.forEach(e=>e.complete()),Kg.clear()}function Sae(){Kg.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(fL=!0)})}function cke(){Sae(),_ae()}class NR{constructor(t,n,r,i,a,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=i,this.element=a,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Kg.add(this),dL||(dL=!0,Bi.read(Sae),Bi.resolveKeyframes(_ae))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:i}=this;for(let a=0;a<t.length;a++)if(t[a]===null)if(a===0){const o=i==null?void 0:i.get(),l=t[t.length-1];if(o!==void 0)t[0]=o;else if(r&&n){const c=r.readValue(n,l);c!=null&&(t[0]=c)}t[0]===void 0&&(t[0]=l),i&&o===void 0&&i.set(t[0])}else t[a]=t[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Kg.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Kg.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const kae=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),uke=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function dke(e){const t=uke.exec(e);if(!t)return[,];const[,n,r,i]=t;return[`--${n??r}`,i]}function Cae(e,t,n=1){const[r,i]=dke(e);if(!r)return;const a=window.getComputedStyle(t).getPropertyValue(r);if(a){const o=a.trim();return kae(o)?parseFloat(o):o}return iR(i)?Cae(i,t,n+1):i}const Eae=e=>t=>t.test(e),fke={test:e=>e==="auto",parse:e=>e},Pae=[M0,vn,ef,wm,t5e,e5e,fke],H9=e=>Pae.find(Eae(e));class Aae extends NR{constructor(t,n,r,i,a){super(t,n,r,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let u=t[c];if(typeof u=="string"&&(u=u.trim(),iR(u))){const d=Cae(u,n.current);d!==void 0&&(t[c]=d),c===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!sae.has(r)||t.length!==2)return;const[i,a]=t,o=H9(i),l=H9(a);if(o!==l)if(q9(o)&&q9(l))for(let c=0;c<t.length;c++){const u=t[c];typeof u=="string"&&(t[c]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let i=0;i<t.length;i++)V5e(t[i])&&r.push(i);r.length&&ake(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Fy[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&t.getValue(r,i).jump(i,!1)}measureEndState(){var t;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const a=n.getValue(r);a&&a.jump(this.measuredOrigin,!1);const o=i.length-1,l=i[o];i[o]=Fy[r](n.measureViewportBox(),window.getComputedStyle(n.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([c,u])=>{n.getValue(c).set(u)}),this.resolveNoneKeyframes()}}const K9=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(up.test(e)||e==="0")&&!e.startsWith("url("));function hke(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function mke(e,t,n,r){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const a=e[e.length-1],o=K9(i,t),l=K9(a,t);return!o||!l?!1:hke(e)||(n==="spring"||fR(n))&&r}const pke=e=>e!==null;function nE(e,{repeat:t,repeatType:n="loop"},r){const i=e.filter(pke),a=t&&n!=="loop"&&t%2===1?0:i.length-1;return!a||r===void 0?i[a]:r}const gke=40;class Tae{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:o="loop",...l}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=tf.now(),this.options={autoplay:t,delay:n,type:r,repeat:i,repeatDelay:a,repeatType:o,...l},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>gke?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&cke(),this._resolved}onKeyframesResolved(t,n){this.resolvedAt=tf.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:a,delay:o,onComplete:l,onUpdate:c,isGenerator:u}=this.options;if(!u&&!mke(t,r,i,a))if(o)this.options.duration=0;else{c&&c(nE(t,this.options,n)),l&&l(),this.resolveFinishedPromise();return}const d=this.initPlayback(t,n);d!==!1&&(this._resolved={keyframes:t,finalKeyframe:n,...d},this.onPostResolved())}onPostResolved(){}then(t,n){return this.currentFinishedPromise.then(t,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const ia=(e,t,n)=>e+(t-e)*n;function wT(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function vke({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,a=0,o=0;if(!t)i=a=o=n;else{const l=n<.5?n*(1+t):n+t-n*t,c=2*n-l;i=wT(c,l,e+1/3),a=wT(c,l,e),o=wT(c,l,e-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:r}}function u5(e,t){return n=>n>0?t:e}const jT=(e,t,n)=>{const r=e*e,i=n*(t*t-r)+r;return i<0?0:Math.sqrt(i)},xke=[cL,Dg,Bx],yke=e=>xke.find(t=>t.test(e));function G9(e){const t=yke(e);if(!t)return!1;let n=t.parse(e);return t===Bx&&(n=vke(n)),n}const Y9=(e,t)=>{const n=G9(e),r=G9(t);if(!n||!r)return u5(e,t);const i={...n};return a=>(i.red=jT(n.red,r.red,a),i.green=jT(n.green,r.green,a),i.blue=jT(n.blue,r.blue,a),i.alpha=ia(n.alpha,r.alpha,a),Dg.transform(i))},bke=(e,t)=>n=>t(e(n)),yj=(...e)=>e.reduce(bke),hL=new Set(["none","hidden"]);function wke(e,t){return hL.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function jke(e,t){return n=>ia(e,t,n)}function _R(e){return typeof e=="number"?jke:typeof e=="string"?iR(e)?u5:ro.test(e)?Y9:Ske:Array.isArray(e)?Oae:typeof e=="object"?ro.test(e)?Y9:Nke:u5}function Oae(e,t){const n=[...e],r=n.length,i=e.map((a,o)=>_R(a)(a,t[o]));return a=>{for(let o=0;o<r;o++)n[o]=i[o](a);return n}}function Nke(e,t){const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=_R(e[i])(e[i],t[i]));return i=>{for(const a in r)n[a]=r[a](i);return n}}function _ke(e,t){var n;const r=[],i={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const o=t.types[a],l=e.indexes[o][i[o]],c=(n=e.values[l])!==null&&n!==void 0?n:0;r[a]=c,i[o]++}return r}const Ske=(e,t)=>{const n=up.createTransformer(t),r=Vw(e),i=Vw(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?hL.has(e)&&!i.values.length||hL.has(t)&&!r.values.length?wke(e,t):yj(Oae(_ke(r,i),i.values),n):u5(e,t)};function Lae(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?ia(e,t,n):_R(e)(e,t)}const kke=5;function Mae(e,t,n){const r=Math.max(t-kke,0);return oae(n-e(r),t-r)}const ga={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},NT=.001;function Cke({duration:e=ga.duration,bounce:t=ga.bounce,velocity:n=ga.velocity,mass:r=ga.mass}){let i,a,o=1-t;o=Ch(ga.minDamping,ga.maxDamping,o),e=Ch(ga.minDuration,ga.maxDuration,gh(e)),o<1?(i=u=>{const d=u*o,f=d*e,m=d-n,h=mL(u,o),g=Math.exp(-f);return NT-m/h*g},a=u=>{const f=u*o*e,m=f*n+n,h=Math.pow(o,2)*Math.pow(u,2)*e,g=Math.exp(-f),y=mL(Math.pow(u,2),o);return(-i(u)+NT>0?-1:1)*((m-h)*g)/y}):(i=u=>{const d=Math.exp(-u*e),f=(u-n)*e+1;return-NT+d*f},a=u=>{const d=Math.exp(-u*e),f=(n-u)*(e*e);return d*f});const l=5/e,c=Pke(i,a,l);if(e=ph(e),isNaN(c))return{stiffness:ga.stiffness,damping:ga.damping,duration:e};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:e}}}const Eke=12;function Pke(e,t,n){let r=n;for(let i=1;i<Eke;i++)r=r-e(r)/t(r);return r}function mL(e,t){return e*Math.sqrt(1-t*t)}const Ake=["duration","bounce"],Tke=["stiffness","damping","mass"];function X9(e,t){return t.some(n=>e[n]!==void 0)}function Oke(e){let t={velocity:ga.velocity,stiffness:ga.stiffness,damping:ga.damping,mass:ga.mass,isResolvedFromDuration:!1,...e};if(!X9(e,Tke)&&X9(e,Ake))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,a=2*Ch(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:ga.mass,stiffness:i,damping:a}}else{const n=Cke(e);t={...t,...n,mass:ga.mass},t.isResolvedFromDuration=!0}return t}function Iae(e=ga.visualDuration,t=ga.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:i}=n;const a=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],l={done:!1,value:a},{stiffness:c,damping:u,mass:d,duration:f,velocity:m,isResolvedFromDuration:h}=Oke({...n,velocity:-gh(n.velocity||0)}),g=m||0,y=u/(2*Math.sqrt(c*d)),v=o-a,x=gh(Math.sqrt(c/d)),w=Math.abs(v)<5;r||(r=w?ga.restSpeed.granular:ga.restSpeed.default),i||(i=w?ga.restDelta.granular:ga.restDelta.default);let j;if(y<1){const S=mL(x,y);j=k=>{const P=Math.exp(-y*x*k);return o-P*((g+y*x*v)/S*Math.sin(S*k)+v*Math.cos(S*k))}}else if(y===1)j=S=>o-Math.exp(-x*S)*(v+(g+x*v)*S);else{const S=x*Math.sqrt(y*y-1);j=k=>{const P=Math.exp(-y*x*k),M=Math.min(S*k,300);return o-P*((g+y*x*v)*Math.sinh(M)+S*v*Math.cosh(M))/S}}const _={calculatedDuration:h&&f||null,next:S=>{const k=j(S);if(h)l.done=S>=f;else{let P=0;y<1&&(P=S===0?ph(g):Mae(j,S,k));const M=Math.abs(P)<=r,T=Math.abs(o-k)<=i;l.done=M&&T}return l.value=l.done?o:k,l},toString:()=>{const S=Math.min(Jie(_),sL),k=eae(P=>_.next(S*P).value,S,30);return S+"ms "+k}};return _}function Z9({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:d}){const f=e[0],m={done:!1,value:f},h=M=>l!==void 0&&M<l||c!==void 0&&M>c,g=M=>l===void 0?c:c===void 0||Math.abs(l-M)<Math.abs(c-M)?l:c;let y=n*t;const v=f+y,x=o===void 0?v:o(v);x!==v&&(y=x-f);const w=M=>-y*Math.exp(-M/r),j=M=>x+w(M),_=M=>{const T=w(M),R=j(M);m.done=Math.abs(T)<=u,m.value=m.done?x:R};let S,k;const P=M=>{h(m.value)&&(S=M,k=Iae({keyframes:[m.value,g(m.value)],velocity:Mae(j,M,m.value),damping:i,stiffness:a,restDelta:u,restSpeed:d}))};return P(0),{calculatedDuration:null,next:M=>{let T=!1;return!k&&S===void 0&&(T=!0,_(M),P(M)),S!==void 0&&M>=S?k.next(M-S):(!T&&_(M),m)}}}const Lke=xj(.42,0,1,1),Mke=xj(0,0,.58,1),Dae=xj(.42,0,.58,1),Ike=e=>Array.isArray(e)&&typeof e[0]!="number",Dke={linear:ac,easeIn:Lke,easeInOut:Dae,easeOut:Mke,circIn:yR,circInOut:gae,circOut:pae,backIn:xR,backInOut:hae,backOut:fae,anticipate:mae},Q9=e=>{if(hR(e)){Lie(e.length===4);const[t,n,r,i]=e;return xj(t,n,r,i)}else if(typeof e=="string")return Dke[e];return e};function Rke(e,t,n){const r=[],i=n||Lae,a=e.length-1;for(let o=0;o<a;o++){let l=i(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||ac:t;l=yj(c,l)}r.push(l)}return r}function $ke(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const a=e.length;if(Lie(a===t.length),a===1)return()=>t[0];if(a===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=Rke(t,r,i),c=l.length,u=d=>{if(o&&d<e[0])return t[0];let f=0;if(c>1)for(;f<e.length-2&&!(d<e[f+1]);f++);const m=Ry(e[f],e[f+1],d);return l[f](m)};return n?d=>u(Ch(e[0],e[a-1],d)):u}function Fke(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=Ry(0,t,r);e.push(ia(n,1,i))}}function Bke(e){const t=[0];return Fke(t,e.length-1),t}function zke(e,t){return e.map(n=>n*t)}function Vke(e,t){return e.map(()=>t||Dae).splice(0,e.length-1)}function d5({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=Ike(r)?r.map(Q9):Q9(r),a={done:!1,value:t[0]},o=zke(n&&n.length===t.length?n:Bke(t),e),l=$ke(o,t,{ease:Array.isArray(i)?i:Vke(t,i)});return{calculatedDuration:e,next:c=>(a.value=l(c),a.done=c>=e,a)}}const qke=e=>{const t=({timestamp:n})=>e(n);return{start:()=>Bi.update(t,!0),stop:()=>cp(t),now:()=>Is.isProcessing?Is.timestamp:tf.now()}},Uke={decay:Z9,inertia:Z9,tween:d5,keyframes:d5,spring:Iae},Wke=e=>e/100;class SR extends Tae{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:n,motionValue:r,element:i,keyframes:a}=this.options,o=(i==null?void 0:i.KeyframeResolver)||NR,l=(c,u)=>this.onKeyframesResolved(c,u);this.resolver=new o(a,l,n,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:a,velocity:o=0}=this.options,l=fR(n)?n:Uke[n]||d5;let c,u;l!==d5&&typeof t[0]!="number"&&(c=yj(Wke,Lae(t[0],t[1])),t=[0,100]);const d=l({...this.options,keyframes:t});a==="mirror"&&(u=l({...this.options,keyframes:[...t].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=Jie(d));const{calculatedDuration:f}=d,m=f+i,h=m*(r+1)-i;return{generator:d,mirroredGenerator:u,mapPercentToKeyframes:c,calculatedDuration:f,resolvedDuration:m,totalDuration:h}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,n=!1){const{resolved:r}=this;if(!r){const{keyframes:M}=this.options;return{done:!0,value:M[M.length-1]}}const{finalKeyframe:i,generator:a,mirroredGenerator:o,mapPercentToKeyframes:l,keyframes:c,calculatedDuration:u,totalDuration:d,resolvedDuration:f}=r;if(this.startTime===null)return a.next(0);const{delay:m,repeat:h,repeatType:g,repeatDelay:y,onUpdate:v}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-d/this.speed,this.startTime)),n?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const x=this.currentTime-m*(this.speed>=0?1:-1),w=this.speed>=0?x<0:x>d;this.currentTime=Math.max(x,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let j=this.currentTime,_=a;if(h){const M=Math.min(this.currentTime,d)/f;let T=Math.floor(M),R=M%1;!R&&M>=1&&(R=1),R===1&&T--,T=Math.min(T,h+1),!!(T%2)&&(g==="reverse"?(R=1-R,y&&(R-=y/f)):g==="mirror"&&(_=o)),j=Ch(0,1,R)*f}const S=w?{done:!1,value:c[0]}:_.next(j);l&&(S.value=l(S.value));let{done:k}=S;!w&&u!==null&&(k=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const P=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&k);return P&&i!==void 0&&(S.value=nE(c,this.options,i)),v&&v(S.value),P&&this.finish(),S}get duration(){const{resolved:t}=this;return t?gh(t.calculatedDuration):0}get time(){return gh(this.currentTime)}set time(t){t=ph(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=gh(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=qke,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const Hke=new Set(["opacity","clipPath","filter","transform"]);function Kke(e,t,n,{delay:r=0,duration:i=300,repeat:a=0,repeatType:o="loop",ease:l="easeInOut",times:c}={}){const u={[t]:n};c&&(u.offset=c);const d=nae(l,i);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:r,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"})}const Gke=Z6(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),f5=10,Yke=2e4;function Xke(e){return fR(e.type)||e.type==="spring"||!tae(e.ease)}function Zke(e,t){const n=new SR({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:e[0]};const i=[];let a=0;for(;!r.done&&a<Yke;)r=n.sample(a),i.push(r.value),a+=f5;return{times:void 0,keyframes:i,duration:a-f5,ease:"linear"}}const Rae={anticipate:mae,backInOut:hae,circInOut:gae};function Qke(e){return e in Rae}class J9 extends Tae{constructor(t){super(t);const{name:n,motionValue:r,element:i,keyframes:a}=this.options;this.resolver=new Aae(a,(o,l)=>this.onKeyframesResolved(o,l),n,r,i),this.resolver.scheduleResolve()}initPlayback(t,n){let{duration:r=300,times:i,ease:a,type:o,motionValue:l,name:c,startTime:u}=this.options;if(!l.owner||!l.owner.current)return!1;if(typeof a=="string"&&c5()&&Qke(a)&&(a=Rae[a]),Xke(this.options)){const{onComplete:f,onUpdate:m,motionValue:h,element:g,...y}=this.options,v=Zke(t,y);t=v.keyframes,t.length===1&&(t[1]=t[0]),r=v.duration,i=v.times,a=v.ease,o="keyframes"}const d=Kke(l.owner.current,c,t,{...this.options,duration:r,times:i,ease:a});return d.startTime=u??this.calcStartTime(),this.pendingTimeline?(R9(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:f}=this.options;l.set(nE(t,this.options,n)),f&&f(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:r,times:i,type:o,ease:a,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:n}=t;return gh(n)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:n}=t;return gh(n.currentTime||0)}set time(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=ph(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:n}=t;return n.playbackRate}set speed(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:n}=t;return n.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:n}=t;return n.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:n}=this;if(!n)return ac;const{animation:r}=n;R9(r,t)}return ac}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:n,keyframes:r,duration:i,type:a,ease:o,times:l}=t;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:d,onComplete:f,element:m,...h}=this.options,g=new SR({...h,keyframes:r,duration:i,type:a,ease:o,times:l,isGenerator:!0}),y=ph(this.time);u.setWithVelocity(g.sample(y-f5).value,g.sample(y).value,f5)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:n,name:r,repeatDelay:i,repeatType:a,damping:o,type:l}=t;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=n.owner.getProps();return Gke()&&r&&Hke.has(r)&&!c&&!u&&!i&&a!=="mirror"&&o!==0&&l!=="inertia"}}const Jke={type:"spring",stiffness:500,damping:25,restSpeed:10},eCe=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),tCe={type:"keyframes",duration:.8},nCe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},rCe=(e,{keyframes:t})=>t.length>2?tCe:Cv.has(e)?e.startsWith("scale")?eCe(t[1]):Jke:nCe;function iCe({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:o,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const kR=(e,t,n,r={},i,a)=>o=>{const l=dR(r,e)||{},c=l.delay||r.delay||0;let{elapsed:u=0}=r;u=u-ph(c);let d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-u,onUpdate:m=>{t.set(m),l.onUpdate&&l.onUpdate(m)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:a?void 0:i};iCe(l)||(d={...d,...rCe(e,d)}),d.duration&&(d.duration=ph(d.duration)),d.repeatDelay&&(d.repeatDelay=ph(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(f=!0)),f&&!a&&t.get()!==void 0){const m=nE(d.keyframes,l);if(m!==void 0)return Bi.update(()=>{d.onUpdate(m),d.onComplete()}),new N5e([])}return!a&&J9.supports(d)?new J9(d):new SR(d)};function aCe({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function $ae(e,t,{delay:n=0,transitionOverride:r,type:i}={}){var a;let{transition:o=e.getDefaultTransition(),transitionEnd:l,...c}=t;r&&(o=r);const u=[],d=i&&e.animationState&&e.animationState.getState()[i];for(const f in c){const m=e.getValue(f,(a=e.latestValues[f])!==null&&a!==void 0?a:null),h=c[f];if(h===void 0||d&&aCe(d,f))continue;const g={delay:n,...dR(o||{},f)};let y=!1;if(window.MotionHandoffAnimation){const x=lae(e);if(x){const w=window.MotionHandoffAnimation(x,f,Bi);w!==null&&(g.startTime=w,y=!0)}}lL(e,f),m.start(kR(f,m,h,e.shouldReduceMotion&&sae.has(f)?{type:!1}:g,e,y));const v=m.animation;v&&u.push(v)}return l&&Promise.all(u).then(()=>{Bi.update(()=>{l&&R5e(e,l)})}),u}function pL(e,t,n={}){var r;const i=tE(e,t,n.type==="exit"?(r=e.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(a=n.transitionOverride);const o=i?()=>Promise.all($ae(e,i,n)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:f,staggerDirection:m}=a;return sCe(e,t,d+u,f,m,n)}:()=>Promise.resolve(),{when:c}=a;if(c){const[u,d]=c==="beforeChildren"?[o,l]:[l,o];return u().then(()=>d())}else return Promise.all([o(),l(n.delay)])}function sCe(e,t,n=0,r=0,i=1,a){const o=[],l=(e.variantChildren.size-1)*r,c=i===1?(u=0)=>u*r:(u=0)=>l-u*r;return Array.from(e.variantChildren).sort(oCe).forEach((u,d)=>{u.notify("AnimationStart",t),o.push(pL(u,t,{...a,delay:n+c(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(o)}function oCe(e,t){return e.sortNodePosition(t)}function lCe(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(a=>pL(e,a,n));r=Promise.all(i)}else if(typeof t=="string")r=pL(e,t,n);else{const i=typeof t=="function"?tE(e,t,n.custom):t;r=Promise.all($ae(e,i,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}const cCe=J6.length;function Fae(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?Fae(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<cCe;n++){const r=J6[n],i=e.props[r];(Fw(i)||i===!1)&&(t[r]=i)}return t}const uCe=[...Q6].reverse(),dCe=Q6.length;function fCe(e){return t=>Promise.all(t.map(({animation:n,options:r})=>lCe(e,n,r)))}function hCe(e){let t=fCe(e),n=ez(),r=!0;const i=c=>(u,d)=>{var f;const m=tE(e,d,c==="exit"?(f=e.presenceContext)===null||f===void 0?void 0:f.custom:void 0);if(m){const{transition:h,transitionEnd:g,...y}=m;u={...u,...y,...g}}return u};function a(c){t=c(e)}function o(c){const{props:u}=e,d=Fae(e.parent)||{},f=[],m=new Set;let h={},g=1/0;for(let v=0;v<dCe;v++){const x=uCe[v],w=n[x],j=u[x]!==void 0?u[x]:d[x],_=Fw(j),S=x===c?w.isActive:null;S===!1&&(g=v);let k=j===d[x]&&j!==u[x]&&_;if(k&&r&&e.manuallyAnimateOnMount&&(k=!1),w.protectedKeys={...h},!w.isActive&&S===null||!j&&!w.prevProp||JC(j)||typeof j=="boolean")continue;const P=mCe(w.prevProp,j);let M=P||x===c&&w.isActive&&!k&&_||v>g&&_,T=!1;const R=Array.isArray(j)?j:[j];let D=R.reduce(i(x),{});S===!1&&(D={});const{prevResolvedValues:I={}}=w,B={...I,...D},$=Q=>{M=!0,m.has(Q)&&(T=!0,m.delete(Q)),w.needsAnimating[Q]=!0;const H=e.getValue(Q);H&&(H.liveStyle=!1)};for(const Q in B){const H=D[Q],G=I[Q];if(h.hasOwnProperty(Q))continue;let U=!1;aL(H)&&aL(G)?U=!Qie(H,G):U=H!==G,U?H!=null?$(Q):m.add(Q):H!==void 0&&m.has(Q)?$(Q):w.protectedKeys[Q]=!0}w.prevProp=j,w.prevResolvedValues=D,w.isActive&&(h={...h,...D}),r&&e.blockInitialAnimation&&(M=!1),M&&(!(k&&P)||T)&&f.push(...R.map(Q=>({animation:Q,options:{type:x}})))}if(m.size){const v={};m.forEach(x=>{const w=e.getBaseTarget(x),j=e.getValue(x);j&&(j.liveStyle=!0),v[x]=w??null}),f.push({animation:v})}let y=!!f.length;return r&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(y=!1),r=!1,y?t(f):Promise.resolve()}function l(c,u){var d;if(n[c].isActive===u)return Promise.resolve();(d=e.variantChildren)===null||d===void 0||d.forEach(m=>{var h;return(h=m.animationState)===null||h===void 0?void 0:h.setActive(c,u)}),n[c].isActive=u;const f=o(c);for(const m in n)n[m].protectedKeys={};return f}return{animateChanges:o,setActive:l,setAnimateFunction:a,getState:()=>n,reset:()=>{n=ez(),r=!0}}}function mCe(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Qie(t,e):!1}function lg(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function ez(){return{animate:lg(!0),whileInView:lg(),whileHover:lg(),whileTap:lg(),whileDrag:lg(),whileFocus:lg(),exit:lg()}}class Ep{constructor(t){this.isMounted=!1,this.node=t}update(){}}class pCe extends Ep{constructor(t){super(t),t.animationState||(t.animationState=hCe(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();JC(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let gCe=0;class vCe extends Ep{constructor(){super(...arguments),this.id=gCe++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const i=this.node.animationState.setActive("exit",!t);n&&!t&&i.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const xCe={animation:{Feature:pCe},exit:{Feature:vCe}};function qw(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function bj(e){return{point:{x:e.pageX,y:e.pageY}}}const yCe=e=>t=>mR(t)&&e(t,bj(t));function I1(e,t,n,r){return qw(e,t,yCe(n),r)}const tz=(e,t)=>Math.abs(e-t);function bCe(e,t){const n=tz(e.x,t.x),r=tz(e.y,t.y);return Math.sqrt(n**2+r**2)}class Bae{constructor(t,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=ST(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,h=bCe(f.offset,{x:0,y:0})>=3;if(!m&&!h)return;const{point:g}=f,{timestamp:y}=Is;this.history.push({...g,timestamp:y});const{onStart:v,onMove:x}=this.handlers;m||(v&&v(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,f)},this.handlePointerMove=(f,m)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=_T(m,this.transformPagePoint),Bi.update(this.updatePoint,!0)},this.handlePointerUp=(f,m)=>{this.end();const{onEnd:h,onSessionEnd:g,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=ST(f.type==="pointercancel"?this.lastMoveEventInfo:_T(m,this.transformPagePoint),this.history);this.startEvent&&h&&h(f,v),g&&g(f,v)},!mR(t))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=bj(t),l=_T(o,this.transformPagePoint),{point:c}=l,{timestamp:u}=Is;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=n;d&&d(t,ST(l,this.history)),this.removeListeners=yj(I1(this.contextWindow,"pointermove",this.handlePointerMove),I1(this.contextWindow,"pointerup",this.handlePointerUp),I1(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),cp(this.updatePoint)}}function _T(e,t){return t?{point:t(e.point)}:e}function nz(e,t){return{x:e.x-t.x,y:e.y-t.y}}function ST({point:e},t){return{point:e,delta:nz(e,zae(t)),offset:nz(e,wCe(t)),velocity:jCe(t,.1)}}function wCe(e){return e[0]}function zae(e){return e[e.length-1]}function jCe(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=zae(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>ph(t)));)n--;if(!r)return{x:0,y:0};const a=gh(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const o={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const Vae=1e-4,NCe=1-Vae,_Ce=1+Vae,qae=.01,SCe=0-qae,kCe=0+qae;function mc(e){return e.max-e.min}function CCe(e,t,n){return Math.abs(e-t)<=n}function rz(e,t,n,r=.5){e.origin=r,e.originPoint=ia(t.min,t.max,e.origin),e.scale=mc(n)/mc(t),e.translate=ia(n.min,n.max,e.origin)-e.originPoint,(e.scale>=NCe&&e.scale<=_Ce||isNaN(e.scale))&&(e.scale=1),(e.translate>=SCe&&e.translate<=kCe||isNaN(e.translate))&&(e.translate=0)}function D1(e,t,n,r){rz(e.x,t.x,n.x,r?r.originX:void 0),rz(e.y,t.y,n.y,r?r.originY:void 0)}function iz(e,t,n){e.min=n.min+t.min,e.max=e.min+mc(t)}function ECe(e,t,n){iz(e.x,t.x,n.x),iz(e.y,t.y,n.y)}function az(e,t,n){e.min=t.min-n.min,e.max=e.min+mc(t)}function R1(e,t,n){az(e.x,t.x,n.x),az(e.y,t.y,n.y)}function PCe(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?ia(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?ia(n,e,r.max):Math.min(e,n)),e}function sz(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function ACe(e,{top:t,left:n,bottom:r,right:i}){return{x:sz(e.x,n,i),y:sz(e.y,t,r)}}function oz(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function TCe(e,t){return{x:oz(e.x,t.x),y:oz(e.y,t.y)}}function OCe(e,t){let n=.5;const r=mc(e),i=mc(t);return i>r?n=Ry(t.min,t.max-r,e.min):r>i&&(n=Ry(e.min,e.max-i,t.min)),Ch(0,1,n)}function LCe(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const gL=.35;function MCe(e=gL){return e===!1?e=0:e===!0&&(e=gL),{x:lz(e,"left","right"),y:lz(e,"top","bottom")}}function lz(e,t,n){return{min:cz(e,t),max:cz(e,n)}}function cz(e,t){return typeof e=="number"?e:e[t]||0}const uz=()=>({translate:0,scale:1,origin:0,originPoint:0}),zx=()=>({x:uz(),y:uz()}),dz=()=>({min:0,max:0}),Ea=()=>({x:dz(),y:dz()});function Fc(e){return[e("x"),e("y")]}function Uae({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function ICe({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function DCe(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function kT(e){return e===void 0||e===1}function vL({scale:e,scaleX:t,scaleY:n}){return!kT(e)||!kT(t)||!kT(n)}function vg(e){return vL(e)||Wae(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function Wae(e){return fz(e.x)||fz(e.y)}function fz(e){return e&&e!=="0%"}function h5(e,t,n){const r=e-n,i=t*r;return n+i}function hz(e,t,n,r,i){return i!==void 0&&(e=h5(e,i,r)),h5(e,n,r)+t}function xL(e,t=0,n=1,r,i){e.min=hz(e.min,t,n,r,i),e.max=hz(e.max,t,n,r,i)}function Hae(e,{x:t,y:n}){xL(e.x,t.translate,t.scale,t.originPoint),xL(e.y,n.translate,n.scale,n.originPoint)}const mz=.999999999999,pz=1.0000000000001;function RCe(e,t,n,r=!1){const i=n.length;if(!i)return;t.x=t.y=1;let a,o;for(let l=0;l<i;l++){a=n[l],o=a.projectionDelta;const{visualElement:c}=a.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&qx(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,Hae(e,o)),r&&vg(a.latestValues)&&qx(e,a.latestValues))}t.x<pz&&t.x>mz&&(t.x=1),t.y<pz&&t.y>mz&&(t.y=1)}function Vx(e,t){e.min=e.min+t,e.max=e.max+t}function gz(e,t,n,r,i=.5){const a=ia(e.min,e.max,i);xL(e,t,n,a,r)}function qx(e,t){gz(e.x,t.x,t.scaleX,t.scale,t.originX),gz(e.y,t.y,t.scaleY,t.scale,t.originY)}function Kae(e,t){return Uae(DCe(e.getBoundingClientRect(),t))}function $Ce(e,t,n){const r=Kae(e,n),{scroll:i}=t;return i&&(Vx(r.x,i.offset.x),Vx(r.y,i.offset.y)),r}const Gae=({current:e})=>e?e.ownerDocument.defaultView:null,FCe=new WeakMap;class BCe{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ea(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(bj(d).point)},a=(d,f)=>{const{drag:m,dragPropagation:h,onDragStart:g}=this.getProps();if(m&&!h&&(this.openDragLock&&this.openDragLock(),this.openDragLock=O5e(m),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Fc(v=>{let x=this.getAxisMotionValue(v).get()||0;if(ef.test(x)){const{projection:w}=this.visualElement;if(w&&w.layout){const j=w.layout.layoutBox[v];j&&(x=mc(j)*(parseFloat(x)/100))}}this.originPoint[v]=x}),g&&Bi.postRender(()=>g(d,f)),lL(this.visualElement,"transform");const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},o=(d,f)=>{const{dragPropagation:m,dragDirectionLock:h,onDirectionLock:g,onDrag:y}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:v}=f;if(h&&this.currentDirection===null){this.currentDirection=zCe(v),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",f.point,v),this.updateAxis("y",f.point,v),this.visualElement.render(),y&&y(d,f)},l=(d,f)=>this.stop(d,f),c=()=>Fc(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new Bae(t,{onSessionStart:i,onStart:a,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:Gae(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:a}=this.getProps();a&&Bi.postRender(()=>a(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!HN(t,i,this.currentDirection))return;const a=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=PCe(o,this.constraints[t],this.elastic[t])),a.set(o)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,a=this.constraints;n&&Fx(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=ACe(i.layoutBox,n):this.constraints=!1,this.elastic=MCe(r),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Fc(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=LCe(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Fx(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=$Ce(r,i.root,this.visualElement.getTransformPagePoint());let o=TCe(i.layout.layoutBox,a);if(n){const l=n(ICe(o));this.hasMutatedConstraints=!!l,l&&(o=Uae(l))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=Fc(d=>{if(!HN(d,n,this.currentDirection))return;let f=c&&c[d]||{};o&&(f={min:0,max:0});const m=i?200:1e6,h=i?40:1e7,g={type:"inertia",velocity:r?t[d]:0,bounceStiffness:m,bounceDamping:h,timeConstant:750,restDelta:1,restSpeed:10,...a,...f};return this.startAxisValueAnimation(d,g)});return Promise.all(u).then(l)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return lL(this.visualElement,t),r.start(kR(t,r,0,n,this.visualElement,!1))}stopAnimation(){Fc(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Fc(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Fc(n=>{const{drag:r}=this.getProps();if(!HN(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:l}=i.layout.layoutBox[n];a.set(t[n]-ia(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Fx(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Fc(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();i[o]=OCe({min:c,max:c},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Fc(o=>{if(!HN(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];l.set(ia(c,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;FCe.set(this.visualElement,this);const t=this.visualElement.current,n=I1(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();Fx(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Bi.read(r);const o=qw(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Fc(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=c[d].translate,f.set(f.get()+c[d].translate))}),this.visualElement.render())});return()=>{o(),n(),a(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:o=gL,dragMomentum:l=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:a,dragElastic:o,dragMomentum:l}}}function HN(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function zCe(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class VCe extends Ep{constructor(t){super(t),this.removeGroupControls=ac,this.removeListeners=ac,this.controls=new BCe(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ac}unmount(){this.removeGroupControls(),this.removeListeners()}}const vz=e=>(t,n)=>{e&&Bi.postRender(()=>e(t,n))};class qCe extends Ep{constructor(){super(...arguments),this.removePointerDownListener=ac}onPointerDown(t){this.session=new Bae(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Gae(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:vz(t),onStart:vz(n),onMove:r,onEnd:(a,o)=>{delete this.session,i&&Bi.postRender(()=>i(a,o))}}}mount(){this.removePointerDownListener=I1(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const oS={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function xz(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const qb={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(vn.test(e))e=parseFloat(e);else return e;const n=xz(e,t.target.x),r=xz(e,t.target.y);return`${n}% ${r}%`}},UCe={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=up.parse(e);if(i.length>5)return r;const a=up.createTransformer(e),o=typeof i[0]!="number"?1:0,l=n.x.scale*t.x,c=n.y.scale*t.y;i[0+o]/=l,i[1+o]/=c;const u=ia(l,c,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),a(i)}};class WCe extends b.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:a}=t;d5e(HCe),a&&(n.group&&n.group.add(a),r&&r.register&&i&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),oS.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:a}=this.props,o=r.projection;return o&&(o.isPresent=a,i||t.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?o.promote():o.relegate()||Bi.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),tR.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Yae(e){const[t,n]=Tie(),r=b.useContext(K6);return s.jsx(WCe,{...e,layoutGroup:r,switchLayoutGroup:b.useContext(Fie),isPresent:t,safeToRemove:n})}const HCe={borderRadius:{...qb,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:qb,borderTopRightRadius:qb,borderBottomLeftRadius:qb,borderBottomRightRadius:qb,boxShadow:UCe};function KCe(e,t,n){const r=uo(e)?e:zw(e);return r.start(kR("",r,t,n)),r.animation}function GCe(e){return e instanceof SVGElement&&e.tagName!=="svg"}const YCe=(e,t)=>e.depth-t.depth;class XCe{constructor(){this.children=[],this.isDirty=!1}add(t){pR(this.children,t),this.isDirty=!0}remove(t){gR(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(YCe),this.isDirty=!1,this.children.forEach(t)}}function ZCe(e,t){const n=tf.now(),r=({timestamp:i})=>{const a=i-n;a>=t&&(cp(r),e(a-t))};return Bi.read(r,!0),()=>cp(r)}const Xae=["TopLeft","TopRight","BottomLeft","BottomRight"],QCe=Xae.length,yz=e=>typeof e=="string"?parseFloat(e):e,bz=e=>typeof e=="number"||vn.test(e);function JCe(e,t,n,r,i,a){i?(e.opacity=ia(0,n.opacity!==void 0?n.opacity:1,eEe(r)),e.opacityExit=ia(t.opacity!==void 0?t.opacity:1,0,tEe(r))):a&&(e.opacity=ia(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<QCe;o++){const l=`border${Xae[o]}Radius`;let c=wz(t,l),u=wz(n,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||bz(c)===bz(u)?(e[l]=Math.max(ia(yz(c),yz(u),r),0),(ef.test(u)||ef.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||n.rotate)&&(e.rotate=ia(t.rotate||0,n.rotate||0,r))}function wz(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const eEe=Zae(0,.5,pae),tEe=Zae(.5,.95,ac);function Zae(e,t,n){return r=>r<e?0:r>t?1:n(Ry(e,t,r))}function jz(e,t){e.min=t.min,e.max=t.max}function Ic(e,t){jz(e.x,t.x),jz(e.y,t.y)}function Nz(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function _z(e,t,n,r,i){return e-=t,e=h5(e,1/n,r),i!==void 0&&(e=h5(e,1/i,r)),e}function nEe(e,t=0,n=1,r=.5,i,a=e,o=e){if(ef.test(t)&&(t=parseFloat(t),t=ia(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=ia(a.min,a.max,r);e===a&&(l-=t),e.min=_z(e.min,t,n,l,i),e.max=_z(e.max,t,n,l,i)}function Sz(e,t,[n,r,i],a,o){nEe(e,t[n],t[r],t[i],t.scale,a,o)}const rEe=["x","scaleX","originX"],iEe=["y","scaleY","originY"];function kz(e,t,n,r){Sz(e.x,t,rEe,n?n.x:void 0,r?r.x:void 0),Sz(e.y,t,iEe,n?n.y:void 0,r?r.y:void 0)}function Cz(e){return e.translate===0&&e.scale===1}function Qae(e){return Cz(e.x)&&Cz(e.y)}function Ez(e,t){return e.min===t.min&&e.max===t.max}function aEe(e,t){return Ez(e.x,t.x)&&Ez(e.y,t.y)}function Pz(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function Jae(e,t){return Pz(e.x,t.x)&&Pz(e.y,t.y)}function Az(e){return mc(e.x)/mc(e.y)}function Tz(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class sEe{constructor(){this.members=[]}add(t){pR(this.members,t),t.scheduleRender()}remove(t){if(gR(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function oEe(e,t,n){let r="";const i=e.x.translate/t.x,a=e.y.translate/t.y,o=(n==null?void 0:n.z)||0;if((i||a||o)&&(r=`translate3d(${i}px, ${a}px, ${o}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:u,rotate:d,rotateX:f,rotateY:m,skewX:h,skewY:g}=n;u&&(r=`perspective(${u}px) ${r}`),d&&(r+=`rotate(${d}deg) `),f&&(r+=`rotateX(${f}deg) `),m&&(r+=`rotateY(${m}deg) `),h&&(r+=`skewX(${h}deg) `),g&&(r+=`skewY(${g}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(r+=`scale(${l}, ${c})`),r||"none"}const xg={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},x1=typeof window<"u"&&window.MotionDebug!==void 0,CT=["","X","Y","Z"],lEe={visibility:"hidden"},Oz=1e3;let cEe=0;function ET(e,t,n,r){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function ese(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=lae(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:a}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Bi,!(i||a))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&ese(r)}function tse({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},l=t==null?void 0:t()){this.id=cEe++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,x1&&(xg.totalNodes=xg.resolvedTargetDeltas=xg.recalculatedProjection=0),this.nodes.forEach(fEe),this.nodes.forEach(vEe),this.nodes.forEach(xEe),this.nodes.forEach(hEe),x1&&window.MotionDebug.record(xg)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new XCe)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new vR),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=GCe(o),this.instance=o;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||c)&&(this.isLayoutDirty=!0),e){let f;const m=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=ZCe(m,250),oS.hasAnimatedSinceResize&&(oS.hasAnimatedSinceResize=!1,this.nodes.forEach(Mz))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:m,hasRelativeTargetChanged:h,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||d.getDefaultTransition()||NEe,{onLayoutAnimationStart:v,onLayoutAnimationComplete:x}=d.getProps(),w=!this.targetLayout||!Jae(this.targetLayout,g)||h,j=!m&&h;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||j||m&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,j);const _={...dR(y,"layout"),onPlay:v,onComplete:x};(d.shouldReduceMotion||this.options.layoutRoot)&&(_.delay=0,_.type=!1),this.startAnimation(_)}else m||Mz(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,cp(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(yEe),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&ese(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Lz);return}this.isUpdating||this.nodes.forEach(pEe),this.isUpdating=!1,this.nodes.forEach(gEe),this.nodes.forEach(uEe),this.nodes.forEach(dEe),this.clearAllSnapshots();const l=tf.now();Is.delta=Ch(0,1e3/60,l-Is.timestamp),Is.timestamp=l,Is.isProcessing=!0,xT.update.process(Is),xT.preRender.process(Is),xT.render.process(Is),Is.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,tR.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(mEe),this.sharedNodes.forEach(bEe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Bi.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Bi.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ea(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!Qae(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&(l||vg(this.latestValues)||d)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),_Ee(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:l}=this.options;if(!l)return Ea();const c=l.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(SEe))){const{scroll:d}=this.root;d&&(Vx(c.x,d.offset.x),Vx(c.y,d.offset.y))}return c}removeElementScroll(o){var l;const c=Ea();if(Ic(c,o),!((l=this.scroll)===null||l===void 0)&&l.wasRoot)return c;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:f,options:m}=d;d!==this.root&&f&&m.layoutScroll&&(f.wasRoot&&Ic(c,o),Vx(c.x,f.offset.x),Vx(c.y,f.offset.y))}return c}applyTransform(o,l=!1){const c=Ea();Ic(c,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&qx(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),vg(d.latestValues)&&qx(c,d.latestValues)}return vg(this.latestValues)&&qx(c,this.latestValues),c}removeTransform(o){const l=Ea();Ic(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!vg(u.latestValues))continue;vL(u.latestValues)&&u.updateSnapshot();const d=Ea(),f=u.measurePageBox();Ic(d,f),kz(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return vg(this.latestValues)&&kz(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Is.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:m}=this.options;if(!(!this.layout||!(f||m))){if(this.resolvedRelativeTargetAt=Is.timestamp,!this.targetDelta&&!this.relativeTarget){const h=this.getClosestProjectingParent();h&&h.layout&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ea(),this.relativeTargetOrigin=Ea(),R1(this.relativeTargetOrigin,this.layout.layoutBox,h.layout.layoutBox),Ic(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Ea(),this.targetWithTransforms=Ea()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),ECe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ic(this.target,this.layout.layoutBox),Hae(this.target,this.targetDelta)):Ic(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const h=this.getClosestProjectingParent();h&&!!h.resumingFrom==!!this.resumingFrom&&!h.options.layoutScroll&&h.target&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ea(),this.relativeTargetOrigin=Ea(),R1(this.relativeTargetOrigin,this.target,h.target),Ic(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}x1&&xg.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||vL(this.parent.latestValues)||Wae(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Is.timestamp&&(u=!1),u)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;Ic(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,h=this.treeScale.y;RCe(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=Ea());const{target:g}=l;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Nz(this.prevProjectionDelta.x,this.projectionDelta.x),Nz(this.prevProjectionDelta.y,this.projectionDelta.y)),D1(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==h||!Tz(this.projectionDelta.x,this.prevProjectionDelta.x)||!Tz(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g)),x1&&xg.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)===null||l===void 0||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=zx(),this.projectionDelta=zx(),this.projectionDeltaWithTransform=zx()}setAnimationOrigin(o,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},f=zx();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const m=Ea(),h=c?c.source:void 0,g=this.layout?this.layout.source:void 0,y=h!==g,v=this.getStack(),x=!v||v.members.length<=1,w=!!(y&&!x&&this.options.crossfade===!0&&!this.path.some(jEe));this.animationProgress=0;let j;this.mixTargetDelta=_=>{const S=_/1e3;Iz(f.x,o.x,S),Iz(f.y,o.y,S),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(R1(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),wEe(this.relativeTarget,this.relativeTargetOrigin,m,S),j&&aEe(this.relativeTarget,j)&&(this.isProjectionDirty=!1),j||(j=Ea()),Ic(j,this.relativeTarget)),y&&(this.animationValues=d,JCe(d,u,this.latestValues,S,w,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(cp(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Bi.update(()=>{oS.hasAnimatedSinceResize=!0,this.currentAnimation=KCe(0,Oz,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Oz),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=o;if(!(!l||!c||!u)){if(this!==o&&this.layout&&u&&nse(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||Ea();const f=mc(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+f;const m=mc(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+m}Ic(l,c),qx(l,d),D1(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new sEe),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&ET("z",o,u,this.animationValues);for(let d=0;d<CT.length;d++)ET(`rotate${CT[d]}`,o,u,this.animationValues),ET(`skew${CT[d]}`,o,u,this.animationValues);o.render();for(const d in u)o.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);o.scheduleRender()}getProjectionStyles(o){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return lEe;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=aS(o==null?void 0:o.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const y={};return this.options.layoutId&&(y.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,y.pointerEvents=aS(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!vg(this.latestValues)&&(y.transform=d?d({},""):"none",this.hasProjected=!1),y}const m=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=oEe(this.projectionDeltaWithTransform,this.treeScale,m),d&&(u.transform=d(m,u.transform));const{x:h,y:g}=this.projectionDelta;u.transformOrigin=`${h.origin*100}% ${g.origin*100}% 0`,f.animationValues?u.opacity=f===this?(c=(l=m.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:u.opacity=f===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const y in l5){if(m[y]===void 0)continue;const{correct:v,applyTo:x}=l5[y],w=u.transform==="none"?m[y]:v(m[y],f);if(x){const j=x.length;for(let _=0;_<j;_++)u[x[_]]=w}else u[y]=w}return this.options.layoutId&&(u.pointerEvents=f===this?aS(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(Lz),this.root.sharedNodes.clear()}}}function uEe(e){e.updateLayout()}function dEe(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=e.layout,{animationType:a}=e.options,o=n.source!==e.layout.source;a==="size"?Fc(f=>{const m=o?n.measuredBox[f]:n.layoutBox[f],h=mc(m);m.min=r[f].min,m.max=m.min+h}):nse(a,n.layoutBox,r)&&Fc(f=>{const m=o?n.measuredBox[f]:n.layoutBox[f],h=mc(r[f]);m.max=m.min+h,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+h)});const l=zx();D1(l,r,n.layoutBox);const c=zx();o?D1(c,e.applyTransform(i,!0),n.measuredBox):D1(c,r,n.layoutBox);const u=!Qae(l);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:m,layout:h}=f;if(m&&h){const g=Ea();R1(g,n.layoutBox,m.layoutBox);const y=Ea();R1(y,r,h.layoutBox),Jae(g,y)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=y,e.relativeTargetOrigin=g,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function fEe(e){x1&&xg.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function hEe(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function mEe(e){e.clearSnapshot()}function Lz(e){e.clearMeasurements()}function pEe(e){e.isLayoutDirty=!1}function gEe(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Mz(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function vEe(e){e.resolveTargetDelta()}function xEe(e){e.calcProjection()}function yEe(e){e.resetSkewAndRotation()}function bEe(e){e.removeLeadSnapshot()}function Iz(e,t,n){e.translate=ia(t.translate,0,n),e.scale=ia(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Dz(e,t,n,r){e.min=ia(t.min,n.min,r),e.max=ia(t.max,n.max,r)}function wEe(e,t,n,r){Dz(e.x,t.x,n.x,r),Dz(e.y,t.y,n.y,r)}function jEe(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const NEe={duration:.45,ease:[.4,0,.1,1]},Rz=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),$z=Rz("applewebkit/")&&!Rz("chrome/")?Math.round:ac;function Fz(e){e.min=$z(e.min),e.max=$z(e.max)}function _Ee(e){Fz(e.x),Fz(e.y)}function nse(e,t,n){return e==="position"||e==="preserve-aspect"&&!CCe(Az(t),Az(n),.2)}function SEe(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const kEe=tse({attachResizeListener:(e,t)=>qw(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),PT={current:void 0},rse=tse({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!PT.current){const e=new kEe({});e.mount(window),e.setOptions({layoutScroll:!0}),PT.current=e}return PT.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),CEe={pan:{Feature:qCe},drag:{Feature:VCe,ProjectionNode:rse,MeasureLayout:Yae}};function Bz(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,a=r[i];a&&Bi.postRender(()=>a(t,bj(t)))}class EEe extends Ep{mount(){const{current:t}=this.node;t&&(this.unmount=C5e(t,n=>(Bz(this.node,n,"Start"),r=>Bz(this.node,r,"End"))))}unmount(){}}class PEe extends Ep{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=yj(qw(this.node.current,"focus",()=>this.onFocus()),qw(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function zz(e,t,n){const{props:r}=e;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),a=r[i];a&&Bi.postRender(()=>a(t,bj(t)))}class AEe extends Ep{mount(){const{current:t}=this.node;t&&(this.unmount=T5e(t,n=>(zz(this.node,n,"Start"),(r,{success:i})=>zz(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const yL=new WeakMap,AT=new WeakMap,TEe=e=>{const t=yL.get(e.target);t&&t(e)},OEe=e=>{e.forEach(TEe)};function LEe({root:e,...t}){const n=e||document;AT.has(n)||AT.set(n,{});const r=AT.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(OEe,{root:e,...t})),r[i]}function MEe(e,t,n){const r=LEe(t);return yL.set(e,n),r.observe(e),()=>{yL.delete(e),r.unobserve(e)}}const IEe={some:0,all:1};class DEe extends Ep{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:a}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:IEe[i]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,a&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),m=u?d:f;m&&m(c)};return MEe(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(REe(t,n))&&this.startObserver()}unmount(){}}function REe({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const $Ee={inView:{Feature:DEe},tap:{Feature:AEe},focus:{Feature:PEe},hover:{Feature:EEe}},FEe={layout:{ProjectionNode:rse,MeasureLayout:Yae}},bL={current:null},ise={current:!1};function BEe(){if(ise.current=!0,!!X6)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>bL.current=e.matches;e.addListener(t),t()}else bL.current=!1}const zEe=[...Pae,ro,up],VEe=e=>zEe.find(Eae(e)),Vz=new WeakMap;function qEe(e,t,n){for(const r in t){const i=t[r],a=n[r];if(uo(i))e.addValue(r,i);else if(uo(a))e.addValue(r,zw(i,{owner:e}));else if(a!==i)if(e.hasValue(r)){const o=e.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=e.getStaticValue(r);e.addValue(r,zw(o!==void 0?o:i,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const qz=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class UEe{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:a,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=NR,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=tf.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,Bi.render(this.render,!1,!0))};const{latestValues:c,renderState:u,onUpdate:d}=o;this.onUpdate=d,this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=l,this.blockInitialAnimation=!!a,this.isControllingVariants=eE(n),this.isVariantNode=Rie(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:f,...m}=this.scrapeMotionValuesFromProps(n,{},this);for(const h in m){const g=m[h];c[h]!==void 0&&uo(g)&&g.set(c[h],!1)}}mount(t){this.current=t,Vz.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),ise.current||BEe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:bL.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Vz.delete(this.current),this.projection&&this.projection.unmount(),cp(this.notifyUpdate),cp(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=Cv.has(t),i=n.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&Bi.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{i(),a(),o&&o(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in $y){const n=$y[t];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[t]&&i&&r(this.props)&&(this.features[t]=new i(this)),this.features[t]){const a=this.features[t];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ea()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<qz.length;r++){const i=qz[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,o=t[a];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=qEe(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=zw(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){var r;let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(kae(i)||vae(i))?i=parseFloat(i):!VEe(i)&&up.test(n)&&(i=Nae(t,n)),this.setBaseTarget(t,uo(i)?i.get():i)),uo(i)?i.get():i}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const o=rR(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(i=o[t])}if(r&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!uo(a)?a:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new vR),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class ase extends UEe{constructor(){super(...arguments),this.KeyframeResolver=Aae}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;uo(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function WEe(e){return window.getComputedStyle(e)}class HEe extends ase{constructor(){super(...arguments),this.type="html",this.renderInstance=Hie}readValueFromInstance(t,n){if(Cv.has(n)){const r=jR(n);return r&&r.default||0}else{const r=WEe(t),i=(qie(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return Kae(t,n)}build(t,n,r){sR(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return uR(t,n,r)}}class KEe extends ase{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ea}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Cv.has(n)){const r=jR(n);return r&&r.default||0}return n=Kie.has(n)?n:eR(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return Xie(t,n,r)}build(t,n,r){oR(t,n,this.isSVGTag,r.transformTemplate)}renderInstance(t,n,r,i){Gie(t,n,r,i)}mount(t){this.isSVGTag=cR(t.tagName),super.mount(t)}}const GEe=(e,t)=>nR(e)?new KEe(t):new HEe(t,{allowProjection:e!==b.Fragment}),YEe=b5e({...xCe,...$Ee,...CEe,...FEe},GEe),bs=ISe(YEe);function XEe(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const ZEe=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,QEe=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,JEe={};function Uz(e,t){return(JEe.jsx?QEe:ZEe).test(e)}const ePe=/[ \t\n\f\r]/g;function tPe(e){return typeof e=="object"?e.type==="text"?Wz(e.value):!1:Wz(e)}function Wz(e){return e.replace(ePe,"")===""}let wj=class{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}};wj.prototype.normal={};wj.prototype.property={};wj.prototype.space=void 0;function sse(e,t){const n={},r={};for(const i of e)Object.assign(n,i.property),Object.assign(r,i.normal);return new wj(n,r,t)}function wL(e){return e.toLowerCase()}class kl{constructor(t,n){this.attribute=n,this.property=t}}kl.prototype.attribute="";kl.prototype.booleanish=!1;kl.prototype.boolean=!1;kl.prototype.commaOrSpaceSeparated=!1;kl.prototype.commaSeparated=!1;kl.prototype.defined=!1;kl.prototype.mustUseProperty=!1;kl.prototype.number=!1;kl.prototype.overloadedBoolean=!1;kl.prototype.property="";kl.prototype.spaceSeparated=!1;kl.prototype.space=void 0;let nPe=0;const Jn=Ev(),Va=Ev(),jL=Ev(),jt=Ev(),yi=Ev(),sy=Ev(),zl=Ev();function Ev(){return 2**++nPe}const NL=Object.freeze(Object.defineProperty({__proto__:null,boolean:Jn,booleanish:Va,commaOrSpaceSeparated:zl,commaSeparated:sy,number:jt,overloadedBoolean:jL,spaceSeparated:yi},Symbol.toStringTag,{value:"Module"})),TT=Object.keys(NL);class CR extends kl{constructor(t,n,r,i){let a=-1;if(super(t,n),Hz(this,"space",i),typeof r=="number")for(;++a<TT.length;){const o=TT[a];Hz(this,TT[a],(r&NL[o])===NL[o])}}}CR.prototype.defined=!0;function Hz(e,t,n){n&&(e[t]=n)}function I0(e){const t={},n={};for(const[r,i]of Object.entries(e.properties)){const a=new CR(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(a.mustUseProperty=!0),t[r]=a,n[wL(r)]=r,n[wL(a.attribute)]=r}return new wj(t,n,e.space)}const ose=I0({properties:{ariaActiveDescendant:null,ariaAtomic:Va,ariaAutoComplete:null,ariaBusy:Va,ariaChecked:Va,ariaColCount:jt,ariaColIndex:jt,ariaColSpan:jt,ariaControls:yi,ariaCurrent:null,ariaDescribedBy:yi,ariaDetails:null,ariaDisabled:Va,ariaDropEffect:yi,ariaErrorMessage:null,ariaExpanded:Va,ariaFlowTo:yi,ariaGrabbed:Va,ariaHasPopup:null,ariaHidden:Va,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:yi,ariaLevel:jt,ariaLive:null,ariaModal:Va,ariaMultiLine:Va,ariaMultiSelectable:Va,ariaOrientation:null,ariaOwns:yi,ariaPlaceholder:null,ariaPosInSet:jt,ariaPressed:Va,ariaReadOnly:Va,ariaRelevant:null,ariaRequired:Va,ariaRoleDescription:yi,ariaRowCount:jt,ariaRowIndex:jt,ariaRowSpan:jt,ariaSelected:Va,ariaSetSize:jt,ariaSort:null,ariaValueMax:jt,ariaValueMin:jt,ariaValueNow:jt,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function lse(e,t){return t in e?e[t]:t}function cse(e,t){return lse(e,t.toLowerCase())}const rPe=I0({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:sy,acceptCharset:yi,accessKey:yi,action:null,allow:null,allowFullScreen:Jn,allowPaymentRequest:Jn,allowUserMedia:Jn,alt:null,as:null,async:Jn,autoCapitalize:null,autoComplete:yi,autoFocus:Jn,autoPlay:Jn,blocking:yi,capture:null,charSet:null,checked:Jn,cite:null,className:yi,cols:jt,colSpan:null,content:null,contentEditable:Va,controls:Jn,controlsList:yi,coords:jt|sy,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Jn,defer:Jn,dir:null,dirName:null,disabled:Jn,download:jL,draggable:Va,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Jn,formTarget:null,headers:yi,height:jt,hidden:jL,high:jt,href:null,hrefLang:null,htmlFor:yi,httpEquiv:yi,id:null,imageSizes:null,imageSrcSet:null,inert:Jn,inputMode:null,integrity:null,is:null,isMap:Jn,itemId:null,itemProp:yi,itemRef:yi,itemScope:Jn,itemType:yi,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Jn,low:jt,manifest:null,max:null,maxLength:jt,media:null,method:null,min:null,minLength:jt,multiple:Jn,muted:Jn,name:null,nonce:null,noModule:Jn,noValidate:Jn,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Jn,optimum:jt,pattern:null,ping:yi,placeholder:null,playsInline:Jn,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Jn,referrerPolicy:null,rel:yi,required:Jn,reversed:Jn,rows:jt,rowSpan:jt,sandbox:yi,scope:null,scoped:Jn,seamless:Jn,selected:Jn,shadowRootClonable:Jn,shadowRootDelegatesFocus:Jn,shadowRootMode:null,shape:null,size:jt,sizes:null,slot:null,span:jt,spellCheck:Va,src:null,srcDoc:null,srcLang:null,srcSet:null,start:jt,step:null,style:null,tabIndex:jt,target:null,title:null,translate:null,type:null,typeMustMatch:Jn,useMap:null,value:Va,width:jt,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:yi,axis:null,background:null,bgColor:null,border:jt,borderColor:null,bottomMargin:jt,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Jn,declare:Jn,event:null,face:null,frame:null,frameBorder:null,hSpace:jt,leftMargin:jt,link:null,longDesc:null,lowSrc:null,marginHeight:jt,marginWidth:jt,noResize:Jn,noHref:Jn,noShade:Jn,noWrap:Jn,object:null,profile:null,prompt:null,rev:null,rightMargin:jt,rules:null,scheme:null,scrolling:Va,standby:null,summary:null,text:null,topMargin:jt,valueType:null,version:null,vAlign:null,vLink:null,vSpace:jt,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Jn,disableRemotePlayback:Jn,prefix:null,property:null,results:jt,security:null,unselectable:null},space:"html",transform:cse}),iPe=I0({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:zl,accentHeight:jt,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:jt,amplitude:jt,arabicForm:null,ascent:jt,attributeName:null,attributeType:null,azimuth:jt,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:jt,by:null,calcMode:null,capHeight:jt,className:yi,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:jt,diffuseConstant:jt,direction:null,display:null,dur:null,divisor:jt,dominantBaseline:null,download:Jn,dx:null,dy:null,edgeMode:null,editable:null,elevation:jt,enableBackground:null,end:null,event:null,exponent:jt,externalResourcesRequired:null,fill:null,fillOpacity:jt,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:sy,g2:sy,glyphName:sy,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:jt,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:jt,horizOriginX:jt,horizOriginY:jt,id:null,ideographic:jt,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:jt,k:jt,k1:jt,k2:jt,k3:jt,k4:jt,kernelMatrix:zl,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:jt,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:jt,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:jt,overlineThickness:jt,paintOrder:null,panose1:null,path:null,pathLength:jt,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:yi,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:jt,pointsAtY:jt,pointsAtZ:jt,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:zl,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:zl,rev:zl,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:zl,requiredFeatures:zl,requiredFonts:zl,requiredFormats:zl,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:jt,specularExponent:jt,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:jt,strikethroughThickness:jt,string:null,stroke:null,strokeDashArray:zl,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:jt,strokeOpacity:jt,strokeWidth:null,style:null,surfaceScale:jt,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:zl,tabIndex:jt,tableValues:null,target:null,targetX:jt,targetY:jt,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:zl,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:jt,underlineThickness:jt,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:jt,values:null,vAlphabetic:jt,vMathematical:jt,vectorEffect:null,vHanging:jt,vIdeographic:jt,version:null,vertAdvY:jt,vertOriginX:jt,vertOriginY:jt,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:jt,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:lse}),use=I0({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),dse=I0({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:cse}),fse=I0({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),aPe={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},sPe=/[A-Z]/g,Kz=/-[a-z]/g,oPe=/^data[-\w.:]+$/i;function lPe(e,t){const n=wL(t);let r=t,i=kl;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&oPe.test(t)){if(t.charAt(4)==="-"){const a=t.slice(5).replace(Kz,uPe);r="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=t.slice(4);if(!Kz.test(a)){let o=a.replace(sPe,cPe);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}i=CR}return new i(r,t)}function cPe(e){return"-"+e.toLowerCase()}function uPe(e){return e.charAt(1).toUpperCase()}const dPe=sse([ose,rPe,use,dse,fse],"html"),ER=sse([ose,iPe,use,dse,fse],"svg");function fPe(e){return e.join(" ").trim()}var PR={},Gz=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,hPe=/\n/g,mPe=/^\s*/,pPe=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,gPe=/^:\s*/,vPe=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,xPe=/^[;\s]*/,yPe=/^\s+|\s+$/g,bPe=`
`,Yz="/",Xz="*",kg="",wPe="comment",jPe="declaration";function NPe(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function i(g){var y=g.match(hPe);y&&(n+=y.length);var v=g.lastIndexOf(bPe);r=~v?g.length-v:r+g.length}function a(){var g={line:n,column:r};return function(y){return y.position=new o(g),u(),y}}function o(g){this.start=g,this.end={line:n,column:r},this.source=t.source}o.prototype.content=e;function l(g){var y=new Error(t.source+":"+n+":"+r+": "+g);if(y.reason=g,y.filename=t.source,y.line=n,y.column=r,y.source=e,!t.silent)throw y}function c(g){var y=g.exec(e);if(y){var v=y[0];return i(v),e=e.slice(v.length),y}}function u(){c(mPe)}function d(g){var y;for(g=g||[];y=f();)y!==!1&&g.push(y);return g}function f(){var g=a();if(!(Yz!=e.charAt(0)||Xz!=e.charAt(1))){for(var y=2;kg!=e.charAt(y)&&(Xz!=e.charAt(y)||Yz!=e.charAt(y+1));)++y;if(y+=2,kg===e.charAt(y-1))return l("End of comment missing");var v=e.slice(2,y-2);return r+=2,i(v),e=e.slice(y),r+=2,g({type:wPe,comment:v})}}function m(){var g=a(),y=c(pPe);if(y){if(f(),!c(gPe))return l("property missing ':'");var v=c(vPe),x=g({type:jPe,property:Zz(y[0].replace(Gz,kg)),value:v?Zz(v[0].replace(Gz,kg)):kg});return c(xPe),x}}function h(){var g=[];d(g);for(var y;y=m();)y!==!1&&(g.push(y),d(g));return g}return u(),h()}function Zz(e){return e?e.replace(yPe,kg):kg}var _Pe=NPe,SPe=ah&&ah.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(PR,"__esModule",{value:!0});PR.default=CPe;const kPe=SPe(_Pe);function CPe(e,t){let n=null;if(!e||typeof e!="string")return n;const r=(0,kPe.default)(e),i=typeof t=="function";return r.forEach(a=>{if(a.type!=="declaration")return;const{property:o,value:l}=a;i?t(o,l,a):l&&(n=n||{},n[o]=l)}),n}var rE={};Object.defineProperty(rE,"__esModule",{value:!0});rE.camelCase=void 0;var EPe=/^--[a-zA-Z0-9_-]+$/,PPe=/-([a-z])/g,APe=/^[^-]+$/,TPe=/^-(webkit|moz|ms|o|khtml)-/,OPe=/^-(ms)-/,LPe=function(e){return!e||APe.test(e)||EPe.test(e)},MPe=function(e,t){return t.toUpperCase()},Qz=function(e,t){return"".concat(t,"-")},IPe=function(e,t){return t===void 0&&(t={}),LPe(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(OPe,Qz):e=e.replace(TPe,Qz),e.replace(PPe,MPe))};rE.camelCase=IPe;var DPe=ah&&ah.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},RPe=DPe(PR),$Pe=rE;function _L(e,t){var n={};return!e||typeof e!="string"||(0,RPe.default)(e,function(r,i){r&&i&&(n[(0,$Pe.camelCase)(r,t)]=i)}),n}_L.default=_L;var FPe=_L;const BPe=Ar(FPe),hse=mse("end"),AR=mse("start");function mse(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function zPe(e){const t=AR(e),n=hse(e);if(t&&n)return{start:t,end:n}}function $1(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?Jz(e.position):"start"in e||"end"in e?Jz(e):"line"in e||"column"in e?SL(e):""}function SL(e){return eV(e&&e.line)+":"+eV(e&&e.column)}function Jz(e){return SL(e&&e.start)+"-"+SL(e&&e.end)}function eV(e){return e&&typeof e=="number"?e:1}class vo extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",a={},o=!1;if(n&&("line"in n&&"column"in n?a={place:n}:"start"in n&&"end"in n?a={place:n}:"type"in n?a={ancestors:[n],place:n.position}:a={...n}),typeof t=="string"?i=t:!a.cause&&t&&(o=!0,i=t.message,a.cause=t),!a.ruleId&&!a.source&&typeof r=="string"){const c=r.indexOf(":");c===-1?a.ruleId=r:(a.source=r.slice(0,c),a.ruleId=r.slice(c+1))}if(!a.place&&a.ancestors&&a.ancestors){const c=a.ancestors[a.ancestors.length-1];c&&(a.place=c.position)}const l=a.place&&"start"in a.place?a.place.start:a.place;this.ancestors=a.ancestors||void 0,this.cause=a.cause||void 0,this.column=l?l.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=l?l.line:void 0,this.name=$1(a.place)||"1:1",this.place=a.place||void 0,this.reason=this.message,this.ruleId=a.ruleId||void 0,this.source=a.source||void 0,this.stack=o&&a.cause&&typeof a.cause.stack=="string"?a.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}vo.prototype.file="";vo.prototype.name="";vo.prototype.reason="";vo.prototype.message="";vo.prototype.stack="";vo.prototype.column=void 0;vo.prototype.line=void 0;vo.prototype.ancestors=void 0;vo.prototype.cause=void 0;vo.prototype.fatal=void 0;vo.prototype.place=void 0;vo.prototype.ruleId=void 0;vo.prototype.source=void 0;const TR={}.hasOwnProperty,VPe=new Map,qPe=/[A-Z]/g,UPe=new Set(["table","tbody","thead","tfoot","tr"]),WPe=new Set(["td","th"]),pse="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function HPe(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=eAe(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=JPe(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?ER:dPe,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},a=gse(i,e,void 0);return a&&typeof a!="string"?a:i.create(e,i.Fragment,{children:a||void 0},void 0)}function gse(e,t,n){if(t.type==="element")return KPe(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return GPe(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return XPe(e,t,n);if(t.type==="mdxjsEsm")return YPe(e,t);if(t.type==="root")return ZPe(e,t,n);if(t.type==="text")return QPe(e,t)}function KPe(e,t,n){const r=e.schema;let i=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=ER,e.schema=i),e.ancestors.push(t);const a=xse(e,t.tagName,!1),o=tAe(e,t);let l=LR(e,t);return UPe.has(t.tagName)&&(l=l.filter(function(c){return typeof c=="string"?!tPe(c):!0})),vse(e,o,a,t),OR(o,l),e.ancestors.pop(),e.schema=r,e.create(t,a,o,n)}function GPe(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}Uw(e,t.position)}function YPe(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Uw(e,t.position)}function XPe(e,t,n){const r=e.schema;let i=r;t.name==="svg"&&r.space==="html"&&(i=ER,e.schema=i),e.ancestors.push(t);const a=t.name===null?e.Fragment:xse(e,t.name,!0),o=nAe(e,t),l=LR(e,t);return vse(e,o,a,t),OR(o,l),e.ancestors.pop(),e.schema=r,e.create(t,a,o,n)}function ZPe(e,t,n){const r={};return OR(r,LR(e,t)),e.create(t,e.Fragment,r,n)}function QPe(e,t){return t.value}function vse(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function OR(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function JPe(e,t,n){return r;function r(i,a,o,l){const u=Array.isArray(o.children)?n:t;return l?u(a,o,l):u(a,o)}}function eAe(e,t){return n;function n(r,i,a,o){const l=Array.isArray(a.children),c=AR(r);return t(i,a,o,l,{columnNumber:c?c.column-1:void 0,fileName:e,lineNumber:c?c.line:void 0},void 0)}}function tAe(e,t){const n={};let r,i;for(i in t.properties)if(i!=="children"&&TR.call(t.properties,i)){const a=rAe(e,i,t.properties[i]);if(a){const[o,l]=a;e.tableCellAlignToStyle&&o==="align"&&typeof l=="string"&&WPe.has(t.tagName)?r=l:n[o]=l}}if(r){const a=n.style||(n.style={});a[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function nAe(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const a=r.data.estree.body[0];a.type;const o=a.expression;o.type;const l=o.properties[0];l.type,Object.assign(n,e.evaluater.evaluateExpression(l.argument))}else Uw(e,t.position);else{const i=r.name;let a;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const l=r.value.data.estree.body[0];l.type,a=e.evaluater.evaluateExpression(l.expression)}else Uw(e,t.position);else a=r.value===null?!0:r.value;n[i]=a}return n}function LR(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:VPe;for(;++r<t.children.length;){const a=t.children[r];let o;if(e.passKeys){const c=a.type==="element"?a.tagName:a.type==="mdxJsxFlowElement"||a.type==="mdxJsxTextElement"?a.name:void 0;if(c){const u=i.get(c)||0;o=c+"-"+u,i.set(c,u+1)}}const l=gse(e,a,o);l!==void 0&&n.push(l)}return n}function rAe(e,t,n){const r=lPe(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?XEe(n):fPe(n)),r.property==="style"){let i=typeof n=="object"?n:iAe(e,String(n));return e.stylePropertyNameCase==="css"&&(i=aAe(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&r.space?aPe[r.property]||r.property:r.attribute,n]}}function iAe(e,t){try{return BPe(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,i=new vo("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=pse+"#cannot-parse-style-attribute",i}}function xse(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let a=-1,o;for(;++a<i.length;){const l=Uz(i[a])?{type:"Identifier",name:i[a]}:{type:"Literal",value:i[a]};o=o?{type:"MemberExpression",object:o,property:l,computed:!!(a&&l.type==="Literal"),optional:!1}:l}r=o}else r=Uz(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const i=r.value;return TR.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(r);Uw(e)}function Uw(e,t){const n=new vo("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=pse+"#cannot-handle-mdx-estrees-without-createevaluater",n}function aAe(e){const t={};let n;for(n in e)TR.call(e,n)&&(t[sAe(n)]=e[n]);return t}function sAe(e){let t=e.replace(qPe,oAe);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function oAe(e){return"-"+e.toLowerCase()}const OT={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},lAe={};function MR(e,t){const n=lAe,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return yse(e,r,i)}function yse(e,t,n){if(cAe(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return tV(e.children,t,n)}return Array.isArray(e)?tV(e,t,n):""}function tV(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=yse(e[i],t,n);return r.join("")}function cAe(e){return!!(e&&typeof e=="object")}const nV=document.createElement("i");function IR(e){const t="&"+e+";";nV.innerHTML=t;const n=nV.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function sc(e,t,n,r){const i=e.length;let a=0,o;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(t,n),e.splice(...o);else for(n&&e.splice(t,n);a<r.length;)o=r.slice(a,a+1e4),o.unshift(t,0),e.splice(...o),a+=1e4,t+=1e4}function Kc(e,t){return e.length>0?(sc(e,e.length,0,t),e):t}const rV={}.hasOwnProperty;function bse(e){const t={};let n=-1;for(;++n<e.length;)uAe(t,e[n]);return t}function uAe(e,t){let n;for(n in t){const i=(rV.call(e,n)?e[n]:void 0)||(e[n]={}),a=t[n];let o;if(a)for(o in a){rV.call(i,o)||(i[o]=[]);const l=a[o];dAe(i[o],Array.isArray(l)?l:l?[l]:[])}}}function dAe(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);sc(e,0,0,r)}function wse(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Xu(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Lo=Pp(/[A-Za-z]/),fo=Pp(/[\dA-Za-z]/),fAe=Pp(/[#-'*+\--9=?A-Z^-~]/);function m5(e){return e!==null&&(e<32||e===127)}const kL=Pp(/\d/),hAe=Pp(/[\dA-Fa-f]/),mAe=Pp(/[!-/:-@[-`{-~]/);function dn(e){return e!==null&&e<-2}function mi(e){return e!==null&&(e<0||e===32)}function ur(e){return e===-2||e===-1||e===32}const iE=Pp(new RegExp("\\p{P}|\\p{S}","u")),av=Pp(/\s/);function Pp(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function D0(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const a=e.charCodeAt(n);let o="";if(a===37&&fo(e.charCodeAt(n+1))&&fo(e.charCodeAt(n+2)))i=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(o=String.fromCharCode(a));else if(a>55295&&a<57344){const l=e.charCodeAt(n+1);a<56320&&l>56319&&l<57344?(o=String.fromCharCode(a,l),i=1):o=""}else o=String.fromCharCode(a);o&&(t.push(e.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function _r(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let a=0;return o;function o(c){return ur(c)?(e.enter(n),l(c)):t(c)}function l(c){return ur(c)&&a++<i?(e.consume(c),l):(e.exit(n),t(c))}}const pAe={tokenize:gAe};function gAe(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(l){if(l===null){e.consume(l);return}return e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),_r(e,t,"linePrefix")}function i(l){return e.enter("paragraph"),a(l)}function a(l){const c=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=c),n=c,o(l)}function o(l){if(l===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(l);return}return dn(l)?(e.consume(l),e.exit("chunkText"),a):(e.consume(l),o)}}const vAe={tokenize:xAe},iV={tokenize:yAe};function xAe(e){const t=this,n=[];let r=0,i,a,o;return l;function l(j){if(r<n.length){const _=n[r];return t.containerState=_[1],e.attempt(_[0].continuation,c,u)(j)}return u(j)}function c(j){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&w();const _=t.events.length;let S=_,k;for(;S--;)if(t.events[S][0]==="exit"&&t.events[S][1].type==="chunkFlow"){k=t.events[S][1].end;break}x(r);let P=_;for(;P<t.events.length;)t.events[P][1].end={...k},P++;return sc(t.events,S+1,0,t.events.slice(_)),t.events.length=P,u(j)}return l(j)}function u(j){if(r===n.length){if(!i)return m(j);if(i.currentConstruct&&i.currentConstruct.concrete)return g(j);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(iV,d,f)(j)}function d(j){return i&&w(),x(r),m(j)}function f(j){return t.parser.lazy[t.now().line]=r!==n.length,o=t.now().offset,g(j)}function m(j){return t.containerState={},e.attempt(iV,h,g)(j)}function h(j){return r++,n.push([t.currentConstruct,t.containerState]),m(j)}function g(j){if(j===null){i&&w(),x(0),e.consume(j);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:a}),y(j)}function y(j){if(j===null){v(e.exit("chunkFlow"),!0),x(0),e.consume(j);return}return dn(j)?(e.consume(j),v(e.exit("chunkFlow")),r=0,t.interrupt=void 0,l):(e.consume(j),y)}function v(j,_){const S=t.sliceStream(j);if(_&&S.push(null),j.previous=a,a&&(a.next=j),a=j,i.defineSkip(j.start),i.write(S),t.parser.lazy[j.start.line]){let k=i.events.length;for(;k--;)if(i.events[k][1].start.offset<o&&(!i.events[k][1].end||i.events[k][1].end.offset>o))return;const P=t.events.length;let M=P,T,R;for(;M--;)if(t.events[M][0]==="exit"&&t.events[M][1].type==="chunkFlow"){if(T){R=t.events[M][1].end;break}T=!0}for(x(r),k=P;k<t.events.length;)t.events[k][1].end={...R},k++;sc(t.events,M+1,0,t.events.slice(P)),t.events.length=k}}function x(j){let _=n.length;for(;_-- >j;){const S=n[_];t.containerState=S[1],S[0].exit.call(t,e)}n.length=j}function w(){i.write([null]),a=void 0,i=void 0,t.containerState._closeFlow=void 0}}function yAe(e,t,n){return _r(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function By(e){if(e===null||mi(e)||av(e))return 1;if(iE(e))return 2}function aE(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const a=e[i].resolveAll;a&&!r.includes(a)&&(t=a(t,n),r.push(a))}return t}const CL={name:"attention",resolveAll:bAe,tokenize:wAe};function bAe(e,t){let n=-1,r,i,a,o,l,c,u,d;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;c=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const f={...e[r][1].end},m={...e[n][1].start};aV(f,-c),aV(m,c),o={type:c>1?"strongSequence":"emphasisSequence",start:f,end:{...e[r][1].end}},l={type:c>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:m},a={type:c>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},i={type:c>1?"strong":"emphasis",start:{...o.start},end:{...l.end}},e[r][1].end={...o.start},e[n][1].start={...l.end},u=[],e[r][1].end.offset-e[r][1].start.offset&&(u=Kc(u,[["enter",e[r][1],t],["exit",e[r][1],t]])),u=Kc(u,[["enter",i,t],["enter",o,t],["exit",o,t],["enter",a,t]]),u=Kc(u,aE(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),u=Kc(u,[["exit",a,t],["enter",l,t],["exit",l,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(d=2,u=Kc(u,[["enter",e[n][1],t],["exit",e[n][1],t]])):d=0,sc(e,r-1,n-r+3,u),n=r+u.length-d-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function wAe(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=By(r);let a;return o;function o(c){return a=c,e.enter("attentionSequence"),l(c)}function l(c){if(c===a)return e.consume(c),l;const u=e.exit("attentionSequence"),d=By(c),f=!d||d===2&&i||n.includes(c),m=!i||i===2&&d||n.includes(r);return u._open=!!(a===42?f:f&&(i||!m)),u._close=!!(a===42?m:m&&(d||!f)),t(c)}}function aV(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const jAe={name:"autolink",tokenize:NAe};function NAe(e,t,n){let r=0;return i;function i(h){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),a}function a(h){return Lo(h)?(e.consume(h),o):h===64?n(h):u(h)}function o(h){return h===43||h===45||h===46||fo(h)?(r=1,l(h)):u(h)}function l(h){return h===58?(e.consume(h),r=0,c):(h===43||h===45||h===46||fo(h))&&r++<32?(e.consume(h),l):(r=0,u(h))}function c(h){return h===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.exit("autolink"),t):h===null||h===32||h===60||m5(h)?n(h):(e.consume(h),c)}function u(h){return h===64?(e.consume(h),d):fAe(h)?(e.consume(h),u):n(h)}function d(h){return fo(h)?f(h):n(h)}function f(h){return h===46?(e.consume(h),r=0,d):h===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.exit("autolink"),t):m(h)}function m(h){if((h===45||fo(h))&&r++<63){const g=h===45?m:f;return e.consume(h),g}return n(h)}}const jj={partial:!0,tokenize:_Ae};function _Ae(e,t,n){return r;function r(a){return ur(a)?_r(e,i,"linePrefix")(a):i(a)}function i(a){return a===null||dn(a)?t(a):n(a)}}const jse={continuation:{tokenize:kAe},exit:CAe,name:"blockQuote",tokenize:SAe};function SAe(e,t,n){const r=this;return i;function i(o){if(o===62){const l=r.containerState;return l.open||(e.enter("blockQuote",{_container:!0}),l.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(o),e.exit("blockQuoteMarker"),a}return n(o)}function a(o){return ur(o)?(e.enter("blockQuotePrefixWhitespace"),e.consume(o),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(o))}}function kAe(e,t,n){const r=this;return i;function i(o){return ur(o)?_r(e,a,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):a(o)}function a(o){return e.attempt(jse,t,n)(o)}}function CAe(e){e.exit("blockQuote")}const Nse={name:"characterEscape",tokenize:EAe};function EAe(e,t,n){return r;function r(a){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(a),e.exit("escapeMarker"),i}function i(a){return mAe(a)?(e.enter("characterEscapeValue"),e.consume(a),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(a)}}const _se={name:"characterReference",tokenize:PAe};function PAe(e,t,n){const r=this;let i=0,a,o;return l;function l(f){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),c}function c(f){return f===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(f),e.exit("characterReferenceMarkerNumeric"),u):(e.enter("characterReferenceValue"),a=31,o=fo,d(f))}function u(f){return f===88||f===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(f),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),a=6,o=hAe,d):(e.enter("characterReferenceValue"),a=7,o=kL,d(f))}function d(f){if(f===59&&i){const m=e.exit("characterReferenceValue");return o===fo&&!IR(r.sliceSerialize(m))?n(f):(e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return o(f)&&i++<a?(e.consume(f),d):n(f)}}const sV={partial:!0,tokenize:TAe},oV={concrete:!0,name:"codeFenced",tokenize:AAe};function AAe(e,t,n){const r=this,i={partial:!0,tokenize:S};let a=0,o=0,l;return c;function c(k){return u(k)}function u(k){const P=r.events[r.events.length-1];return a=P&&P[1].type==="linePrefix"?P[2].sliceSerialize(P[1],!0).length:0,l=k,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),d(k)}function d(k){return k===l?(o++,e.consume(k),d):o<3?n(k):(e.exit("codeFencedFenceSequence"),ur(k)?_r(e,f,"whitespace")(k):f(k))}function f(k){return k===null||dn(k)?(e.exit("codeFencedFence"),r.interrupt?t(k):e.check(sV,y,_)(k)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),m(k))}function m(k){return k===null||dn(k)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),f(k)):ur(k)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),_r(e,h,"whitespace")(k)):k===96&&k===l?n(k):(e.consume(k),m)}function h(k){return k===null||dn(k)?f(k):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),g(k))}function g(k){return k===null||dn(k)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),f(k)):k===96&&k===l?n(k):(e.consume(k),g)}function y(k){return e.attempt(i,_,v)(k)}function v(k){return e.enter("lineEnding"),e.consume(k),e.exit("lineEnding"),x}function x(k){return a>0&&ur(k)?_r(e,w,"linePrefix",a+1)(k):w(k)}function w(k){return k===null||dn(k)?e.check(sV,y,_)(k):(e.enter("codeFlowValue"),j(k))}function j(k){return k===null||dn(k)?(e.exit("codeFlowValue"),w(k)):(e.consume(k),j)}function _(k){return e.exit("codeFenced"),t(k)}function S(k,P,M){let T=0;return R;function R(K){return k.enter("lineEnding"),k.consume(K),k.exit("lineEnding"),D}function D(K){return k.enter("codeFencedFence"),ur(K)?_r(k,I,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(K):I(K)}function I(K){return K===l?(k.enter("codeFencedFenceSequence"),B(K)):M(K)}function B(K){return K===l?(T++,k.consume(K),B):T>=o?(k.exit("codeFencedFenceSequence"),ur(K)?_r(k,$,"whitespace")(K):$(K)):M(K)}function $(K){return K===null||dn(K)?(k.exit("codeFencedFence"),P(K)):M(K)}}}function TAe(e,t,n){const r=this;return i;function i(o){return o===null?n(o):(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),a)}function a(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}const LT={name:"codeIndented",tokenize:LAe},OAe={partial:!0,tokenize:MAe};function LAe(e,t,n){const r=this;return i;function i(u){return e.enter("codeIndented"),_r(e,a,"linePrefix",5)(u)}function a(u){const d=r.events[r.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?o(u):n(u)}function o(u){return u===null?c(u):dn(u)?e.attempt(OAe,o,c)(u):(e.enter("codeFlowValue"),l(u))}function l(u){return u===null||dn(u)?(e.exit("codeFlowValue"),o(u)):(e.consume(u),l)}function c(u){return e.exit("codeIndented"),t(u)}}function MAe(e,t,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):dn(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i):_r(e,a,"linePrefix",5)(o)}function a(o){const l=r.events[r.events.length-1];return l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?t(o):dn(o)?i(o):n(o)}}const IAe={name:"codeText",previous:RAe,resolve:DAe,tokenize:$Ae};function DAe(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function RAe(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function $Ae(e,t,n){let r=0,i,a;return o;function o(f){return e.enter("codeText"),e.enter("codeTextSequence"),l(f)}function l(f){return f===96?(e.consume(f),r++,l):(e.exit("codeTextSequence"),c(f))}function c(f){return f===null?n(f):f===32?(e.enter("space"),e.consume(f),e.exit("space"),c):f===96?(a=e.enter("codeTextSequence"),i=0,d(f)):dn(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),c):(e.enter("codeTextData"),u(f))}function u(f){return f===null||f===32||f===96||dn(f)?(e.exit("codeTextData"),c(f)):(e.consume(f),u)}function d(f){return f===96?(e.consume(f),i++,d):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(f)):(a.type="codeTextData",u(f))}}class FAe{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const a=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&Ub(this.left,r),a.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Ub(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Ub(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);Ub(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Ub(this.left,n.reverse())}}}function Ub(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function Sse(e){const t={};let n=-1,r,i,a,o,l,c,u;const d=new FAe(e);for(;++n<d.length;){for(;n in t;)n=t[n];if(r=d.get(n),n&&r[1].type==="chunkFlow"&&d.get(n-1)[1].type==="listItemPrefix"&&(c=r[1]._tokenizer.events,a=0,a<c.length&&c[a][1].type==="lineEndingBlank"&&(a+=2),a<c.length&&c[a][1].type==="content"))for(;++a<c.length&&c[a][1].type!=="content";)c[a][1].type==="chunkText"&&(c[a][1]._isInFirstContentOfListItem=!0,a++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,BAe(d,n)),n=t[n],u=!0);else if(r[1]._container){for(a=n,i=void 0;a--;)if(o=d.get(a),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(i&&(d.get(i)[1].type="lineEndingBlank"),o[1].type="lineEnding",i=a);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;i&&(r[1].end={...d.get(i)[1].start},l=d.slice(i,n),l.unshift(r),d.splice(i,n-i+1,l))}}return sc(e,0,Number.POSITIVE_INFINITY,d.slice(0)),!u}function BAe(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const a=[];let o=n._tokenizer;o||(o=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const l=o.events,c=[],u={};let d,f,m=-1,h=n,g=0,y=0;const v=[y];for(;h;){for(;e.get(++i)[1]!==h;);a.push(i),h._tokenizer||(d=r.sliceStream(h),h.next||d.push(null),f&&o.defineSkip(h.start),h._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(d),h._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),f=h,h=h.next}for(h=n;++m<l.length;)l[m][0]==="exit"&&l[m-1][0]==="enter"&&l[m][1].type===l[m-1][1].type&&l[m][1].start.line!==l[m][1].end.line&&(y=m+1,v.push(y),h._tokenizer=void 0,h.previous=void 0,h=h.next);for(o.events=[],h?(h._tokenizer=void 0,h.previous=void 0):v.pop(),m=v.length;m--;){const x=l.slice(v[m],v[m+1]),w=a.pop();c.push([w,w+x.length-1]),e.splice(w,2,x)}for(c.reverse(),m=-1;++m<c.length;)u[g+c[m][0]]=g+c[m][1],g+=c[m][1]-c[m][0]-1;return u}const zAe={resolve:qAe,tokenize:UAe},VAe={partial:!0,tokenize:WAe};function qAe(e){return Sse(e),e}function UAe(e,t){let n;return r;function r(l){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(l)}function i(l){return l===null?a(l):dn(l)?e.check(VAe,o,a)(l):(e.consume(l),i)}function a(l){return e.exit("chunkContent"),e.exit("content"),t(l)}function o(l){return e.consume(l),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function WAe(e,t,n){const r=this;return i;function i(o){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),_r(e,a,"linePrefix")}function a(o){if(o===null||dn(o))return n(o);const l=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?t(o):e.interrupt(r.parser.constructs.flow,n,t)(o)}}function kse(e,t,n,r,i,a,o,l,c){const u=c||Number.POSITIVE_INFINITY;let d=0;return f;function f(x){return x===60?(e.enter(r),e.enter(i),e.enter(a),e.consume(x),e.exit(a),m):x===null||x===32||x===41||m5(x)?n(x):(e.enter(r),e.enter(o),e.enter(l),e.enter("chunkString",{contentType:"string"}),y(x))}function m(x){return x===62?(e.enter(a),e.consume(x),e.exit(a),e.exit(i),e.exit(r),t):(e.enter(l),e.enter("chunkString",{contentType:"string"}),h(x))}function h(x){return x===62?(e.exit("chunkString"),e.exit(l),m(x)):x===null||x===60||dn(x)?n(x):(e.consume(x),x===92?g:h)}function g(x){return x===60||x===62||x===92?(e.consume(x),h):h(x)}function y(x){return!d&&(x===null||x===41||mi(x))?(e.exit("chunkString"),e.exit(l),e.exit(o),e.exit(r),t(x)):d<u&&x===40?(e.consume(x),d++,y):x===41?(e.consume(x),d--,y):x===null||x===32||x===40||m5(x)?n(x):(e.consume(x),x===92?v:y)}function v(x){return x===40||x===41||x===92?(e.consume(x),y):y(x)}}function Cse(e,t,n,r,i,a){const o=this;let l=0,c;return u;function u(h){return e.enter(r),e.enter(i),e.consume(h),e.exit(i),e.enter(a),d}function d(h){return l>999||h===null||h===91||h===93&&!c||h===94&&!l&&"_hiddenFootnoteSupport"in o.parser.constructs?n(h):h===93?(e.exit(a),e.enter(i),e.consume(h),e.exit(i),e.exit(r),t):dn(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),d):(e.enter("chunkString",{contentType:"string"}),f(h))}function f(h){return h===null||h===91||h===93||dn(h)||l++>999?(e.exit("chunkString"),d(h)):(e.consume(h),c||(c=!ur(h)),h===92?m:f)}function m(h){return h===91||h===92||h===93?(e.consume(h),l++,f):f(h)}}function Ese(e,t,n,r,i,a){let o;return l;function l(m){return m===34||m===39||m===40?(e.enter(r),e.enter(i),e.consume(m),e.exit(i),o=m===40?41:m,c):n(m)}function c(m){return m===o?(e.enter(i),e.consume(m),e.exit(i),e.exit(r),t):(e.enter(a),u(m))}function u(m){return m===o?(e.exit(a),c(o)):m===null?n(m):dn(m)?(e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),_r(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),d(m))}function d(m){return m===o||m===null||dn(m)?(e.exit("chunkString"),u(m)):(e.consume(m),m===92?f:d)}function f(m){return m===o||m===92?(e.consume(m),d):d(m)}}function F1(e,t){let n;return r;function r(i){return dn(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):ur(i)?_r(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const HAe={name:"definition",tokenize:GAe},KAe={partial:!0,tokenize:YAe};function GAe(e,t,n){const r=this;let i;return a;function a(h){return e.enter("definition"),o(h)}function o(h){return Cse.call(r,e,l,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(h)}function l(h){return i=Xu(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),h===58?(e.enter("definitionMarker"),e.consume(h),e.exit("definitionMarker"),c):n(h)}function c(h){return mi(h)?F1(e,u)(h):u(h)}function u(h){return kse(e,d,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(h)}function d(h){return e.attempt(KAe,f,f)(h)}function f(h){return ur(h)?_r(e,m,"whitespace")(h):m(h)}function m(h){return h===null||dn(h)?(e.exit("definition"),r.parser.defined.push(i),t(h)):n(h)}}function YAe(e,t,n){return r;function r(l){return mi(l)?F1(e,i)(l):n(l)}function i(l){return Ese(e,a,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(l)}function a(l){return ur(l)?_r(e,o,"whitespace")(l):o(l)}function o(l){return l===null||dn(l)?t(l):n(l)}}const XAe={name:"hardBreakEscape",tokenize:ZAe};function ZAe(e,t,n){return r;function r(a){return e.enter("hardBreakEscape"),e.consume(a),i}function i(a){return dn(a)?(e.exit("hardBreakEscape"),t(a)):n(a)}}const QAe={name:"headingAtx",resolve:JAe,tokenize:eTe};function JAe(e,t){let n=e.length-2,r=3,i,a;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},a={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},sc(e,r,n-r+1,[["enter",i,t],["enter",a,t],["exit",a,t],["exit",i,t]])),e}function eTe(e,t,n){let r=0;return i;function i(d){return e.enter("atxHeading"),a(d)}function a(d){return e.enter("atxHeadingSequence"),o(d)}function o(d){return d===35&&r++<6?(e.consume(d),o):d===null||mi(d)?(e.exit("atxHeadingSequence"),l(d)):n(d)}function l(d){return d===35?(e.enter("atxHeadingSequence"),c(d)):d===null||dn(d)?(e.exit("atxHeading"),t(d)):ur(d)?_r(e,l,"whitespace")(d):(e.enter("atxHeadingText"),u(d))}function c(d){return d===35?(e.consume(d),c):(e.exit("atxHeadingSequence"),l(d))}function u(d){return d===null||d===35||mi(d)?(e.exit("atxHeadingText"),l(d)):(e.consume(d),u)}}const tTe=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],lV=["pre","script","style","textarea"],nTe={concrete:!0,name:"htmlFlow",resolveTo:aTe,tokenize:sTe},rTe={partial:!0,tokenize:lTe},iTe={partial:!0,tokenize:oTe};function aTe(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function sTe(e,t,n){const r=this;let i,a,o,l,c;return u;function u(F){return d(F)}function d(F){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(F),f}function f(F){return F===33?(e.consume(F),m):F===47?(e.consume(F),a=!0,y):F===63?(e.consume(F),i=3,r.interrupt?t:U):Lo(F)?(e.consume(F),o=String.fromCharCode(F),v):n(F)}function m(F){return F===45?(e.consume(F),i=2,h):F===91?(e.consume(F),i=5,l=0,g):Lo(F)?(e.consume(F),i=4,r.interrupt?t:U):n(F)}function h(F){return F===45?(e.consume(F),r.interrupt?t:U):n(F)}function g(F){const ie="CDATA[";return F===ie.charCodeAt(l++)?(e.consume(F),l===ie.length?r.interrupt?t:I:g):n(F)}function y(F){return Lo(F)?(e.consume(F),o=String.fromCharCode(F),v):n(F)}function v(F){if(F===null||F===47||F===62||mi(F)){const ie=F===47,ce=o.toLowerCase();return!ie&&!a&&lV.includes(ce)?(i=1,r.interrupt?t(F):I(F)):tTe.includes(o.toLowerCase())?(i=6,ie?(e.consume(F),x):r.interrupt?t(F):I(F)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(F):a?w(F):j(F))}return F===45||fo(F)?(e.consume(F),o+=String.fromCharCode(F),v):n(F)}function x(F){return F===62?(e.consume(F),r.interrupt?t:I):n(F)}function w(F){return ur(F)?(e.consume(F),w):R(F)}function j(F){return F===47?(e.consume(F),R):F===58||F===95||Lo(F)?(e.consume(F),_):ur(F)?(e.consume(F),j):R(F)}function _(F){return F===45||F===46||F===58||F===95||fo(F)?(e.consume(F),_):S(F)}function S(F){return F===61?(e.consume(F),k):ur(F)?(e.consume(F),S):j(F)}function k(F){return F===null||F===60||F===61||F===62||F===96?n(F):F===34||F===39?(e.consume(F),c=F,P):ur(F)?(e.consume(F),k):M(F)}function P(F){return F===c?(e.consume(F),c=null,T):F===null||dn(F)?n(F):(e.consume(F),P)}function M(F){return F===null||F===34||F===39||F===47||F===60||F===61||F===62||F===96||mi(F)?S(F):(e.consume(F),M)}function T(F){return F===47||F===62||ur(F)?j(F):n(F)}function R(F){return F===62?(e.consume(F),D):n(F)}function D(F){return F===null||dn(F)?I(F):ur(F)?(e.consume(F),D):n(F)}function I(F){return F===45&&i===2?(e.consume(F),Y):F===60&&i===1?(e.consume(F),Q):F===62&&i===4?(e.consume(F),ee):F===63&&i===3?(e.consume(F),U):F===93&&i===5?(e.consume(F),G):dn(F)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(rTe,z,B)(F)):F===null||dn(F)?(e.exit("htmlFlowData"),B(F)):(e.consume(F),I)}function B(F){return e.check(iTe,$,z)(F)}function $(F){return e.enter("lineEnding"),e.consume(F),e.exit("lineEnding"),K}function K(F){return F===null||dn(F)?B(F):(e.enter("htmlFlowData"),I(F))}function Y(F){return F===45?(e.consume(F),U):I(F)}function Q(F){return F===47?(e.consume(F),o="",H):I(F)}function H(F){if(F===62){const ie=o.toLowerCase();return lV.includes(ie)?(e.consume(F),ee):I(F)}return Lo(F)&&o.length<8?(e.consume(F),o+=String.fromCharCode(F),H):I(F)}function G(F){return F===93?(e.consume(F),U):I(F)}function U(F){return F===62?(e.consume(F),ee):F===45&&i===2?(e.consume(F),U):I(F)}function ee(F){return F===null||dn(F)?(e.exit("htmlFlowData"),z(F)):(e.consume(F),ee)}function z(F){return e.exit("htmlFlow"),t(F)}}function oTe(e,t,n){const r=this;return i;function i(o){return dn(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),a):n(o)}function a(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}function lTe(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(jj,t,n)}}const cTe={name:"htmlText",tokenize:uTe};function uTe(e,t,n){const r=this;let i,a,o;return l;function l(U){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(U),c}function c(U){return U===33?(e.consume(U),u):U===47?(e.consume(U),S):U===63?(e.consume(U),j):Lo(U)?(e.consume(U),M):n(U)}function u(U){return U===45?(e.consume(U),d):U===91?(e.consume(U),a=0,g):Lo(U)?(e.consume(U),w):n(U)}function d(U){return U===45?(e.consume(U),h):n(U)}function f(U){return U===null?n(U):U===45?(e.consume(U),m):dn(U)?(o=f,Q(U)):(e.consume(U),f)}function m(U){return U===45?(e.consume(U),h):f(U)}function h(U){return U===62?Y(U):U===45?m(U):f(U)}function g(U){const ee="CDATA[";return U===ee.charCodeAt(a++)?(e.consume(U),a===ee.length?y:g):n(U)}function y(U){return U===null?n(U):U===93?(e.consume(U),v):dn(U)?(o=y,Q(U)):(e.consume(U),y)}function v(U){return U===93?(e.consume(U),x):y(U)}function x(U){return U===62?Y(U):U===93?(e.consume(U),x):y(U)}function w(U){return U===null||U===62?Y(U):dn(U)?(o=w,Q(U)):(e.consume(U),w)}function j(U){return U===null?n(U):U===63?(e.consume(U),_):dn(U)?(o=j,Q(U)):(e.consume(U),j)}function _(U){return U===62?Y(U):j(U)}function S(U){return Lo(U)?(e.consume(U),k):n(U)}function k(U){return U===45||fo(U)?(e.consume(U),k):P(U)}function P(U){return dn(U)?(o=P,Q(U)):ur(U)?(e.consume(U),P):Y(U)}function M(U){return U===45||fo(U)?(e.consume(U),M):U===47||U===62||mi(U)?T(U):n(U)}function T(U){return U===47?(e.consume(U),Y):U===58||U===95||Lo(U)?(e.consume(U),R):dn(U)?(o=T,Q(U)):ur(U)?(e.consume(U),T):Y(U)}function R(U){return U===45||U===46||U===58||U===95||fo(U)?(e.consume(U),R):D(U)}function D(U){return U===61?(e.consume(U),I):dn(U)?(o=D,Q(U)):ur(U)?(e.consume(U),D):T(U)}function I(U){return U===null||U===60||U===61||U===62||U===96?n(U):U===34||U===39?(e.consume(U),i=U,B):dn(U)?(o=I,Q(U)):ur(U)?(e.consume(U),I):(e.consume(U),$)}function B(U){return U===i?(e.consume(U),i=void 0,K):U===null?n(U):dn(U)?(o=B,Q(U)):(e.consume(U),B)}function $(U){return U===null||U===34||U===39||U===60||U===61||U===96?n(U):U===47||U===62||mi(U)?T(U):(e.consume(U),$)}function K(U){return U===47||U===62||mi(U)?T(U):n(U)}function Y(U){return U===62?(e.consume(U),e.exit("htmlTextData"),e.exit("htmlText"),t):n(U)}function Q(U){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(U),e.exit("lineEnding"),H}function H(U){return ur(U)?_r(e,G,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(U):G(U)}function G(U){return e.enter("htmlTextData"),o(U)}}const DR={name:"labelEnd",resolveAll:mTe,resolveTo:pTe,tokenize:gTe},dTe={tokenize:vTe},fTe={tokenize:xTe},hTe={tokenize:yTe};function mTe(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",t+=i}}return e.length!==n.length&&sc(e,0,e.length,n),e}function pTe(e,t){let n=e.length,r=0,i,a,o,l;for(;n--;)if(i=e[n][1],a){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(a=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const c={type:e[a][1].type==="labelLink"?"link":"image",start:{...e[a][1].start},end:{...e[e.length-1][1].end}},u={type:"label",start:{...e[a][1].start},end:{...e[o][1].end}},d={type:"labelText",start:{...e[a+r+2][1].end},end:{...e[o-2][1].start}};return l=[["enter",c,t],["enter",u,t]],l=Kc(l,e.slice(a+1,a+r+3)),l=Kc(l,[["enter",d,t]]),l=Kc(l,aE(t.parser.constructs.insideSpan.null,e.slice(a+r+4,o-3),t)),l=Kc(l,[["exit",d,t],e[o-2],e[o-1],["exit",u,t]]),l=Kc(l,e.slice(o+1)),l=Kc(l,[["exit",c,t]]),sc(e,a,e.length,l),e}function gTe(e,t,n){const r=this;let i=r.events.length,a,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){a=r.events[i][1];break}return l;function l(m){return a?a._inactive?f(m):(o=r.parser.defined.includes(Xu(r.sliceSerialize({start:a.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(m),e.exit("labelMarker"),e.exit("labelEnd"),c):n(m)}function c(m){return m===40?e.attempt(dTe,d,o?d:f)(m):m===91?e.attempt(fTe,d,o?u:f)(m):o?d(m):f(m)}function u(m){return e.attempt(hTe,d,f)(m)}function d(m){return t(m)}function f(m){return a._balanced=!0,n(m)}}function vTe(e,t,n){return r;function r(f){return e.enter("resource"),e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),i}function i(f){return mi(f)?F1(e,a)(f):a(f)}function a(f){return f===41?d(f):kse(e,o,l,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function o(f){return mi(f)?F1(e,c)(f):d(f)}function l(f){return n(f)}function c(f){return f===34||f===39||f===40?Ese(e,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):d(f)}function u(f){return mi(f)?F1(e,d)(f):d(f)}function d(f){return f===41?(e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),e.exit("resource"),t):n(f)}}function xTe(e,t,n){const r=this;return i;function i(l){return Cse.call(r,e,a,o,"reference","referenceMarker","referenceString")(l)}function a(l){return r.parser.defined.includes(Xu(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(l):n(l)}function o(l){return n(l)}}function yTe(e,t,n){return r;function r(a){return e.enter("reference"),e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),i}function i(a){return a===93?(e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),e.exit("reference"),t):n(a)}}const bTe={name:"labelStartImage",resolveAll:DR.resolveAll,tokenize:wTe};function wTe(e,t,n){const r=this;return i;function i(l){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(l),e.exit("labelImageMarker"),a}function a(l){return l===91?(e.enter("labelMarker"),e.consume(l),e.exit("labelMarker"),e.exit("labelImage"),o):n(l)}function o(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(l):t(l)}}const jTe={name:"labelStartLink",resolveAll:DR.resolveAll,tokenize:NTe};function NTe(e,t,n){const r=this;return i;function i(o){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelLink"),a}function a(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const MT={name:"lineEnding",tokenize:_Te};function _Te(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),_r(e,t,"linePrefix")}}const lS={name:"thematicBreak",tokenize:STe};function STe(e,t,n){let r=0,i;return a;function a(u){return e.enter("thematicBreak"),o(u)}function o(u){return i=u,l(u)}function l(u){return u===i?(e.enter("thematicBreakSequence"),c(u)):r>=3&&(u===null||dn(u))?(e.exit("thematicBreak"),t(u)):n(u)}function c(u){return u===i?(e.consume(u),r++,c):(e.exit("thematicBreakSequence"),ur(u)?_r(e,l,"whitespace")(u):l(u))}}const hl={continuation:{tokenize:PTe},exit:TTe,name:"list",tokenize:ETe},kTe={partial:!0,tokenize:OTe},CTe={partial:!0,tokenize:ATe};function ETe(e,t,n){const r=this,i=r.events[r.events.length-1];let a=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return l;function l(h){const g=r.containerState.type||(h===42||h===43||h===45?"listUnordered":"listOrdered");if(g==="listUnordered"?!r.containerState.marker||h===r.containerState.marker:kL(h)){if(r.containerState.type||(r.containerState.type=g,e.enter(g,{_container:!0})),g==="listUnordered")return e.enter("listItemPrefix"),h===42||h===45?e.check(lS,n,u)(h):u(h);if(!r.interrupt||h===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),c(h)}return n(h)}function c(h){return kL(h)&&++o<10?(e.consume(h),c):(!r.interrupt||o<2)&&(r.containerState.marker?h===r.containerState.marker:h===41||h===46)?(e.exit("listItemValue"),u(h)):n(h)}function u(h){return e.enter("listItemMarker"),e.consume(h),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||h,e.check(jj,r.interrupt?n:d,e.attempt(kTe,m,f))}function d(h){return r.containerState.initialBlankLine=!0,a++,m(h)}function f(h){return ur(h)?(e.enter("listItemPrefixWhitespace"),e.consume(h),e.exit("listItemPrefixWhitespace"),m):n(h)}function m(h){return r.containerState.size=a+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(h)}}function PTe(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(jj,i,a);function i(l){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,_r(e,t,"listItemIndent",r.containerState.size+1)(l)}function a(l){return r.containerState.furtherBlankLines||!ur(l)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(l)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(CTe,t,o)(l))}function o(l){return r.containerState._closeFlow=!0,r.interrupt=void 0,_r(e,e.attempt(hl,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l)}}function ATe(e,t,n){const r=this;return _r(e,i,"listItemIndent",r.containerState.size+1);function i(a){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?t(a):n(a)}}function TTe(e){e.exit(this.containerState.type)}function OTe(e,t,n){const r=this;return _r(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(a){const o=r.events[r.events.length-1];return!ur(a)&&o&&o[1].type==="listItemPrefixWhitespace"?t(a):n(a)}}const cV={name:"setextUnderline",resolveTo:LTe,tokenize:MTe};function LTe(e,t){let n=e.length,r,i,a;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!a&&e[n][1].type==="definition"&&(a=n);const o={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",a?(e.splice(i,0,["enter",o,t]),e.splice(a+1,0,["exit",e[r][1],t]),e[r][1].end={...e[a][1].end}):e[r][1]=o,e.push(["exit",o,t]),e}function MTe(e,t,n){const r=this;let i;return a;function a(u){let d=r.events.length,f;for(;d--;)if(r.events[d][1].type!=="lineEnding"&&r.events[d][1].type!=="linePrefix"&&r.events[d][1].type!=="content"){f=r.events[d][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||f)?(e.enter("setextHeadingLine"),i=u,o(u)):n(u)}function o(u){return e.enter("setextHeadingLineSequence"),l(u)}function l(u){return u===i?(e.consume(u),l):(e.exit("setextHeadingLineSequence"),ur(u)?_r(e,c,"lineSuffix")(u):c(u))}function c(u){return u===null||dn(u)?(e.exit("setextHeadingLine"),t(u)):n(u)}}const ITe={tokenize:DTe};function DTe(e){const t=this,n=e.attempt(jj,r,e.attempt(this.parser.constructs.flowInitial,i,_r(e,e.attempt(this.parser.constructs.flow,i,e.attempt(zAe,i)),"linePrefix")));return n;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEndingBlank"),e.consume(a),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const RTe={resolveAll:Ase()},$Te=Pse("string"),FTe=Pse("text");function Pse(e){return{resolveAll:Ase(e==="text"?BTe:void 0),tokenize:t};function t(n){const r=this,i=this.parser.constructs[e],a=n.attempt(i,o,l);return o;function o(d){return u(d)?a(d):l(d)}function l(d){if(d===null){n.consume(d);return}return n.enter("data"),n.consume(d),c}function c(d){return u(d)?(n.exit("data"),a(d)):(n.consume(d),c)}function u(d){if(d===null)return!0;const f=i[d];let m=-1;if(f)for(;++m<f.length;){const h=f[m];if(!h.previous||h.previous.call(r,r.previous))return!0}return!1}}}function Ase(e){return t;function t(n,r){let i=-1,a;for(;++i<=n.length;)a===void 0?n[i]&&n[i][1].type==="data"&&(a=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==a+2&&(n[a][1].end=n[i-1][1].end,n.splice(a+2,i-a-2),i=a+2),a=void 0);return e?e(n,r):n}}function BTe(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let a=i.length,o=-1,l=0,c;for(;a--;){const u=i[a];if(typeof u=="string"){for(o=u.length;u.charCodeAt(o-1)===32;)l++,o--;if(o)break;o=-1}else if(u===-2)c=!0,l++;else if(u!==-1){a++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(l=0),l){const u={type:n===e.length||c||l<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:a?o:r.start._bufferIndex+o,_index:r.start._index+a,line:r.end.line,column:r.end.column-l,offset:r.end.offset-l},end:{...r.end}};r.end={...u.start},r.start.offset===r.end.offset?Object.assign(r,u):(e.splice(n,0,["enter",u,t],["exit",u,t]),n+=2)}n++}return e}const zTe={42:hl,43:hl,45:hl,48:hl,49:hl,50:hl,51:hl,52:hl,53:hl,54:hl,55:hl,56:hl,57:hl,62:jse},VTe={91:HAe},qTe={[-2]:LT,[-1]:LT,32:LT},UTe={35:QAe,42:lS,45:[cV,lS],60:nTe,61:cV,95:lS,96:oV,126:oV},WTe={38:_se,92:Nse},HTe={[-5]:MT,[-4]:MT,[-3]:MT,33:bTe,38:_se,42:CL,60:[jAe,cTe],91:jTe,92:[XAe,Nse],93:DR,95:CL,96:IAe},KTe={null:[CL,RTe]},GTe={null:[42,95]},YTe={null:[]},XTe=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:GTe,contentInitial:VTe,disable:YTe,document:zTe,flow:UTe,flowInitial:qTe,insideSpan:KTe,string:WTe,text:HTe},Symbol.toStringTag,{value:"Module"}));function ZTe(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},a=[];let o=[],l=[];const c={attempt:P(S),check:P(k),consume:w,enter:j,exit:_,interrupt:P(k,{interrupt:!0})},u={code:null,containerState:{},defineSkip:y,events:[],now:g,parser:e,previous:null,sliceSerialize:m,sliceStream:h,write:f};let d=t.tokenize.call(u,c);return t.resolveAll&&a.push(t),u;function f(D){return o=Kc(o,D),v(),o[o.length-1]!==null?[]:(M(t,0),u.events=aE(a,u.events,u),u.events)}function m(D,I){return JTe(h(D),I)}function h(D){return QTe(o,D)}function g(){const{_bufferIndex:D,_index:I,line:B,column:$,offset:K}=r;return{_bufferIndex:D,_index:I,line:B,column:$,offset:K}}function y(D){i[D.line]=D.column,R()}function v(){let D;for(;r._index<o.length;){const I=o[r._index];if(typeof I=="string")for(D=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===D&&r._bufferIndex<I.length;)x(I.charCodeAt(r._bufferIndex));else x(I)}}function x(D){d=d(D)}function w(D){dn(D)?(r.line++,r.column=1,r.offset+=D===-3?2:1,R()):D!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=D}function j(D,I){const B=I||{};return B.type=D,B.start=g(),u.events.push(["enter",B,u]),l.push(B),B}function _(D){const I=l.pop();return I.end=g(),u.events.push(["exit",I,u]),I}function S(D,I){M(D,I.from)}function k(D,I){I.restore()}function P(D,I){return B;function B($,K,Y){let Q,H,G,U;return Array.isArray($)?z($):"tokenize"in $?z([$]):ee($);function ee(te){return oe;function oe(ve){const ne=ve!==null&&te[ve],xe=ve!==null&&te.null,ue=[...Array.isArray(ne)?ne:ne?[ne]:[],...Array.isArray(xe)?xe:xe?[xe]:[]];return z(ue)(ve)}}function z(te){return Q=te,H=0,te.length===0?Y:F(te[H])}function F(te){return oe;function oe(ve){return U=T(),G=te,te.partial||(u.currentConstruct=te),te.name&&u.parser.constructs.disable.null.includes(te.name)?ce():te.tokenize.call(I?Object.assign(Object.create(u),I):u,c,ie,ce)(ve)}}function ie(te){return D(G,U),K}function ce(te){return U.restore(),++H<Q.length?F(Q[H]):Y}}}function M(D,I){D.resolveAll&&!a.includes(D)&&a.push(D),D.resolve&&sc(u.events,I,u.events.length-I,D.resolve(u.events.slice(I),u)),D.resolveTo&&(u.events=D.resolveTo(u.events,u))}function T(){const D=g(),I=u.previous,B=u.currentConstruct,$=u.events.length,K=Array.from(l);return{from:$,restore:Y};function Y(){r=D,u.previous=I,u.currentConstruct=B,u.events.length=$,l=K,R()}}function R(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function QTe(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,a=t.end._bufferIndex;let o;if(n===i)o=[e[n].slice(r,a)];else{if(o=e.slice(n,i),r>-1){const l=o[0];typeof l=="string"?o[0]=l.slice(r):o.shift()}a>0&&o.push(e[i].slice(0,a))}return o}function JTe(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const a=e[n];let o;if(typeof a=="string")o=a;else switch(a){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=t?" ":"	";break}case-1:{if(!t&&i)continue;o=" ";break}default:o=String.fromCharCode(a)}i=a===-2,r.push(o)}return r.join("")}function e4e(e){const r={constructs:bse([XTe,...(e||{}).extensions||[]]),content:i(pAe),defined:[],document:i(vAe),flow:i(ITe),lazy:{},string:i($Te),text:i(FTe)};return r;function i(a){return o;function o(l){return ZTe(r,a,l)}}}function t4e(e){for(;!Sse(e););return e}const uV=/[\0\t\n\r]/g;function n4e(){let e=1,t="",n=!0,r;return i;function i(a,o,l){const c=[];let u,d,f,m,h;for(a=t+(typeof a=="string"?a.toString():new TextDecoder(o||void 0).decode(a)),f=0,t="",n&&(a.charCodeAt(0)===65279&&f++,n=void 0);f<a.length;){if(uV.lastIndex=f,u=uV.exec(a),m=u&&u.index!==void 0?u.index:a.length,h=a.charCodeAt(m),!u){t=a.slice(f);break}if(h===10&&f===m&&r)c.push(-3),r=void 0;else switch(r&&(c.push(-5),r=void 0),f<m&&(c.push(a.slice(f,m)),e+=m-f),h){case 0:{c.push(65533),e++;break}case 9:{for(d=Math.ceil(e/4)*4,c.push(-2);e++<d;)c.push(-1);break}case 10:{c.push(-4),e=1;break}default:r=!0,e=1}f=m+1}return l&&(r&&c.push(-5),t&&c.push(t),c.push(null)),c}}const r4e=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function i4e(e){return e.replace(r4e,a4e)}function a4e(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),a=i===120||i===88;return wse(n.slice(a?2:1),a?16:10)}return IR(n)||e}const Tse={}.hasOwnProperty;function s4e(e,t,n){return typeof t!="string"&&(n=t,t=void 0),o4e(n)(t4e(e4e(n).document().write(n4e()(e,t,!0))))}function o4e(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(ze),autolinkProtocol:T,autolinkEmail:T,atxHeading:a(X),blockQuote:a(xe),characterEscape:T,characterReference:T,codeFenced:a(ue),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:a(ue,o),codeText:a(re,o),codeTextData:T,data:T,codeFlowValue:T,definition:a(Se),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:a(ae),hardBreakEscape:a(Ae),hardBreakTrailing:a(Ae),htmlFlow:a(qe,o),htmlFlowData:T,htmlText:a(qe,o),htmlTextData:T,image:a(tt),label:o,link:a(ze),listItem:a(me),listItemValue:m,listOrdered:a(lt,f),listUnordered:a(lt),paragraph:a(_e),reference:F,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:a(X),strong:a(Ce),thematicBreak:a(He)},exit:{atxHeading:c(),atxHeadingSequence:S,autolink:c(),autolinkEmail:ne,autolinkProtocol:ve,blockQuote:c(),characterEscapeValue:R,characterReferenceMarkerHexadecimal:ce,characterReferenceMarkerNumeric:ce,characterReferenceValue:te,characterReference:oe,codeFenced:c(v),codeFencedFence:y,codeFencedFenceInfo:h,codeFencedFenceMeta:g,codeFlowValue:R,codeIndented:c(x),codeText:c(K),codeTextData:R,data:R,definition:c(),definitionDestinationString:_,definitionLabelString:w,definitionTitleString:j,emphasis:c(),hardBreakEscape:c(I),hardBreakTrailing:c(I),htmlFlow:c(B),htmlFlowData:R,htmlText:c($),htmlTextData:R,image:c(Q),label:G,labelText:H,lineEnding:D,link:c(Y),listItem:c(),listOrdered:c(),listUnordered:c(),paragraph:c(),referenceString:ie,resourceDestinationString:U,resourceTitleString:ee,resource:z,setextHeading:c(M),setextHeadingLineSequence:P,setextHeadingText:k,strong:c(),thematicBreak:c()}};Ose(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(we){let Me={type:"root",children:[]};const et={stack:[Me],tokenStack:[],config:t,enter:l,exit:u,buffer:o,resume:d,data:n},Ge=[];let wt=-1;for(;++wt<we.length;)if(we[wt][1].type==="listOrdered"||we[wt][1].type==="listUnordered")if(we[wt][0]==="enter")Ge.push(wt);else{const kt=Ge.pop();wt=i(we,kt,wt)}for(wt=-1;++wt<we.length;){const kt=t[we[wt][0]];Tse.call(kt,we[wt][1].type)&&kt[we[wt][1].type].call(Object.assign({sliceSerialize:we[wt][2].sliceSerialize},et),we[wt][1])}if(et.tokenStack.length>0){const kt=et.tokenStack[et.tokenStack.length-1];(kt[1]||dV).call(et,void 0,kt[0])}for(Me.position={start:vm(we.length>0?we[0][1].start:{line:1,column:1,offset:0}),end:vm(we.length>0?we[we.length-2][1].end:{line:1,column:1,offset:0})},wt=-1;++wt<t.transforms.length;)Me=t.transforms[wt](Me)||Me;return Me}function i(we,Me,et){let Ge=Me-1,wt=-1,kt=!1,Bn,pn,cn,on;for(;++Ge<=et;){const Dn=we[Ge];switch(Dn[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Dn[0]==="enter"?wt++:wt--,on=void 0;break}case"lineEndingBlank":{Dn[0]==="enter"&&(Bn&&!on&&!wt&&!cn&&(cn=Ge),on=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:on=void 0}if(!wt&&Dn[0]==="enter"&&Dn[1].type==="listItemPrefix"||wt===-1&&Dn[0]==="exit"&&(Dn[1].type==="listUnordered"||Dn[1].type==="listOrdered")){if(Bn){let Rt=Ge;for(pn=void 0;Rt--;){const zn=we[Rt];if(zn[1].type==="lineEnding"||zn[1].type==="lineEndingBlank"){if(zn[0]==="exit")continue;pn&&(we[pn][1].type="lineEndingBlank",kt=!0),zn[1].type="lineEnding",pn=Rt}else if(!(zn[1].type==="linePrefix"||zn[1].type==="blockQuotePrefix"||zn[1].type==="blockQuotePrefixWhitespace"||zn[1].type==="blockQuoteMarker"||zn[1].type==="listItemIndent"))break}cn&&(!pn||cn<pn)&&(Bn._spread=!0),Bn.end=Object.assign({},pn?we[pn][1].start:Dn[1].end),we.splice(pn||Ge,0,["exit",Bn,Dn[2]]),Ge++,et++}if(Dn[1].type==="listItemPrefix"){const Rt={type:"listItem",_spread:!1,start:Object.assign({},Dn[1].start),end:void 0};Bn=Rt,we.splice(Ge,0,["enter",Rt,Dn[2]]),Ge++,et++,cn=void 0,on=!0}}}return we[Me][1]._spread=kt,et}function a(we,Me){return et;function et(Ge){l.call(this,we(Ge),Ge),Me&&Me.call(this,Ge)}}function o(){this.stack.push({type:"fragment",children:[]})}function l(we,Me,et){this.stack[this.stack.length-1].children.push(we),this.stack.push(we),this.tokenStack.push([Me,et||void 0]),we.position={start:vm(Me.start),end:void 0}}function c(we){return Me;function Me(et){we&&we.call(this,et),u.call(this,et)}}function u(we,Me){const et=this.stack.pop(),Ge=this.tokenStack.pop();if(Ge)Ge[0].type!==we.type&&(Me?Me.call(this,we,Ge[0]):(Ge[1]||dV).call(this,we,Ge[0]));else throw new Error("Cannot close `"+we.type+"` ("+$1({start:we.start,end:we.end})+"): its not open");et.position.end=vm(we.end)}function d(){return MR(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function m(we){if(this.data.expectingFirstListItemValue){const Me=this.stack[this.stack.length-2];Me.start=Number.parseInt(this.sliceSerialize(we),10),this.data.expectingFirstListItemValue=void 0}}function h(){const we=this.resume(),Me=this.stack[this.stack.length-1];Me.lang=we}function g(){const we=this.resume(),Me=this.stack[this.stack.length-1];Me.meta=we}function y(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function v(){const we=this.resume(),Me=this.stack[this.stack.length-1];Me.value=we.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function x(){const we=this.resume(),Me=this.stack[this.stack.length-1];Me.value=we.replace(/(\r?\n|\r)$/g,"")}function w(we){const Me=this.resume(),et=this.stack[this.stack.length-1];et.label=Me,et.identifier=Xu(this.sliceSerialize(we)).toLowerCase()}function j(){const we=this.resume(),Me=this.stack[this.stack.length-1];Me.title=we}function _(){const we=this.resume(),Me=this.stack[this.stack.length-1];Me.url=we}function S(we){const Me=this.stack[this.stack.length-1];if(!Me.depth){const et=this.sliceSerialize(we).length;Me.depth=et}}function k(){this.data.setextHeadingSlurpLineEnding=!0}function P(we){const Me=this.stack[this.stack.length-1];Me.depth=this.sliceSerialize(we).codePointAt(0)===61?1:2}function M(){this.data.setextHeadingSlurpLineEnding=void 0}function T(we){const et=this.stack[this.stack.length-1].children;let Ge=et[et.length-1];(!Ge||Ge.type!=="text")&&(Ge=Xe(),Ge.position={start:vm(we.start),end:void 0},et.push(Ge)),this.stack.push(Ge)}function R(we){const Me=this.stack.pop();Me.value+=this.sliceSerialize(we),Me.position.end=vm(we.end)}function D(we){const Me=this.stack[this.stack.length-1];if(this.data.atHardBreak){const et=Me.children[Me.children.length-1];et.position.end=vm(we.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(Me.type)&&(T.call(this,we),R.call(this,we))}function I(){this.data.atHardBreak=!0}function B(){const we=this.resume(),Me=this.stack[this.stack.length-1];Me.value=we}function $(){const we=this.resume(),Me=this.stack[this.stack.length-1];Me.value=we}function K(){const we=this.resume(),Me=this.stack[this.stack.length-1];Me.value=we}function Y(){const we=this.stack[this.stack.length-1];if(this.data.inReference){const Me=this.data.referenceType||"shortcut";we.type+="Reference",we.referenceType=Me,delete we.url,delete we.title}else delete we.identifier,delete we.label;this.data.referenceType=void 0}function Q(){const we=this.stack[this.stack.length-1];if(this.data.inReference){const Me=this.data.referenceType||"shortcut";we.type+="Reference",we.referenceType=Me,delete we.url,delete we.title}else delete we.identifier,delete we.label;this.data.referenceType=void 0}function H(we){const Me=this.sliceSerialize(we),et=this.stack[this.stack.length-2];et.label=i4e(Me),et.identifier=Xu(Me).toLowerCase()}function G(){const we=this.stack[this.stack.length-1],Me=this.resume(),et=this.stack[this.stack.length-1];if(this.data.inReference=!0,et.type==="link"){const Ge=we.children;et.children=Ge}else et.alt=Me}function U(){const we=this.resume(),Me=this.stack[this.stack.length-1];Me.url=we}function ee(){const we=this.resume(),Me=this.stack[this.stack.length-1];Me.title=we}function z(){this.data.inReference=void 0}function F(){this.data.referenceType="collapsed"}function ie(we){const Me=this.resume(),et=this.stack[this.stack.length-1];et.label=Me,et.identifier=Xu(this.sliceSerialize(we)).toLowerCase(),this.data.referenceType="full"}function ce(we){this.data.characterReferenceType=we.type}function te(we){const Me=this.sliceSerialize(we),et=this.data.characterReferenceType;let Ge;et?(Ge=wse(Me,et==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Ge=IR(Me);const wt=this.stack[this.stack.length-1];wt.value+=Ge}function oe(we){const Me=this.stack.pop();Me.position.end=vm(we.end)}function ve(we){R.call(this,we);const Me=this.stack[this.stack.length-1];Me.url=this.sliceSerialize(we)}function ne(we){R.call(this,we);const Me=this.stack[this.stack.length-1];Me.url="mailto:"+this.sliceSerialize(we)}function xe(){return{type:"blockquote",children:[]}}function ue(){return{type:"code",lang:null,meta:null,value:""}}function re(){return{type:"inlineCode",value:""}}function Se(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function ae(){return{type:"emphasis",children:[]}}function X(){return{type:"heading",depth:0,children:[]}}function Ae(){return{type:"break"}}function qe(){return{type:"html",value:""}}function tt(){return{type:"image",title:null,url:"",alt:null}}function ze(){return{type:"link",title:null,url:"",children:[]}}function lt(we){return{type:"list",ordered:we.type==="listOrdered",start:null,spread:we._spread,children:[]}}function me(we){return{type:"listItem",spread:we._spread,checked:null,children:[]}}function _e(){return{type:"paragraph",children:[]}}function Ce(){return{type:"strong",children:[]}}function Xe(){return{type:"text",value:""}}function He(){return{type:"thematicBreak"}}}function vm(e){return{line:e.line,column:e.column,offset:e.offset}}function Ose(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?Ose(e,r):l4e(e,r)}}function l4e(e,t){let n;for(n in t)if(Tse.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function dV(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+$1({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+$1({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+$1({start:t.start,end:t.end})+") is still open")}function c4e(e){const t=this;t.parser=n;function n(r){return s4e(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function u4e(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function d4e(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function f4e(e,t){const n=t.value?t.value+`
`:"",r={},i=t.lang?t.lang.split(/\s+/):[];i.length>0&&(r.className=["language-"+i[0]]);let a={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(a.data={meta:t.meta}),e.patch(t,a),a=e.applyData(t,a),a={type:"element",tagName:"pre",properties:{},children:[a]},e.patch(t,a),a}function h4e(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function m4e(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function p4e(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=D0(r.toLowerCase()),a=e.footnoteOrder.indexOf(r);let o,l=e.footnoteCounts.get(r);l===void 0?(l=0,e.footnoteOrder.push(r),o=e.footnoteOrder.length):o=a+1,l+=1,e.footnoteCounts.set(r,l);const c={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(l>1?"-"+l:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};e.patch(t,c);const u={type:"element",tagName:"sup",properties:{},children:[c]};return e.patch(t,u),e.applyData(t,u)}function g4e(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function v4e(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function Lse(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),a=i[0];a&&a.type==="text"?a.value="["+a.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=r:i.push({type:"text",value:r}),i}function x4e(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return Lse(e,t);const i={src:D0(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,a),e.applyData(t,a)}function y4e(e,t){const n={src:D0(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function b4e(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function w4e(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return Lse(e,t);const i={href:D0(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,a),e.applyData(t,a)}function j4e(e,t){const n={href:D0(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function N4e(e,t,n){const r=e.all(t),i=n?_4e(n):Mse(t),a={},o=[];if(typeof t.checked=="boolean"){const d=r[0];let f;d&&d.type==="element"&&d.tagName==="p"?f=d:(f={type:"element",tagName:"p",properties:{},children:[]},r.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let l=-1;for(;++l<r.length;){const d=r[l];(i||l!==0||d.type!=="element"||d.tagName!=="p")&&o.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!i?o.push(...d.children):o.push(d)}const c=r[r.length-1];c&&(i||c.type!=="element"||c.tagName!=="p")&&o.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:a,children:o};return e.patch(t,u),e.applyData(t,u)}function _4e(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=Mse(n[r])}return t}function Mse(e){const t=e.spread;return t??e.children.length>1}function S4e(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const o=r[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const a={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,a),e.applyData(t,a)}function k4e(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function C4e(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function E4e(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function P4e(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],o),i.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},l=AR(t.children[1]),c=hse(t.children[t.children.length-1]);l&&c&&(o.position={start:l,end:c}),i.push(o)}const a={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,a),e.applyData(t,a)}function A4e(e,t,n){const r=n?n.children:void 0,a=(r?r.indexOf(t):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,l=o?o.length:t.children.length;let c=-1;const u=[];for(;++c<l;){const f=t.children[c],m={},h=o?o[c]:void 0;h&&(m.align=h);let g={type:"element",tagName:a,properties:m,children:[]};f&&(g.children=e.all(f),e.patch(f,g),g=e.applyData(f,g)),u.push(g)}const d={type:"element",tagName:"tr",properties:{},children:e.wrap(u,!0)};return e.patch(t,d),e.applyData(t,d)}function T4e(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const fV=9,hV=32;function O4e(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const a=[];for(;r;)a.push(mV(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return a.push(mV(t.slice(i),i>0,!1)),a.join("")}function mV(e,t,n){let r=0,i=e.length;if(t){let a=e.codePointAt(r);for(;a===fV||a===hV;)r++,a=e.codePointAt(r)}if(n){let a=e.codePointAt(i-1);for(;a===fV||a===hV;)i--,a=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function L4e(e,t){const n={type:"text",value:O4e(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function M4e(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const I4e={blockquote:u4e,break:d4e,code:f4e,delete:h4e,emphasis:m4e,footnoteReference:p4e,heading:g4e,html:v4e,imageReference:x4e,image:y4e,inlineCode:b4e,linkReference:w4e,link:j4e,listItem:N4e,list:S4e,paragraph:k4e,root:C4e,strong:E4e,table:P4e,tableCell:T4e,tableRow:A4e,text:L4e,thematicBreak:M4e,toml:KN,yaml:KN,definition:KN,footnoteDefinition:KN};function KN(){}const Ise=-1,sE=0,B1=1,p5=2,RR=3,$R=4,FR=5,BR=6,Dse=7,Rse=8,pV=typeof self=="object"?self:globalThis,D4e=(e,t)=>{const n=(i,a)=>(e.set(a,i),i),r=i=>{if(e.has(i))return e.get(i);const[a,o]=t[i];switch(a){case sE:case Ise:return n(o,i);case B1:{const l=n([],i);for(const c of o)l.push(r(c));return l}case p5:{const l=n({},i);for(const[c,u]of o)l[r(c)]=r(u);return l}case RR:return n(new Date(o),i);case $R:{const{source:l,flags:c}=o;return n(new RegExp(l,c),i)}case FR:{const l=n(new Map,i);for(const[c,u]of o)l.set(r(c),r(u));return l}case BR:{const l=n(new Set,i);for(const c of o)l.add(r(c));return l}case Dse:{const{name:l,message:c}=o;return n(new pV[l](c),i)}case Rse:return n(BigInt(o),i);case"BigInt":return n(Object(BigInt(o)),i);case"ArrayBuffer":return n(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:l}=new Uint8Array(o);return n(new DataView(l),o)}}return n(new pV[a](o),i)};return r},gV=e=>D4e(new Map,e)(0),nx="",{toString:R4e}={},{keys:$4e}=Object,Wb=e=>{const t=typeof e;if(t!=="object"||!e)return[sE,t];const n=R4e.call(e).slice(8,-1);switch(n){case"Array":return[B1,nx];case"Object":return[p5,nx];case"Date":return[RR,nx];case"RegExp":return[$R,nx];case"Map":return[FR,nx];case"Set":return[BR,nx];case"DataView":return[B1,n]}return n.includes("Array")?[B1,n]:n.includes("Error")?[Dse,n]:[p5,n]},GN=([e,t])=>e===sE&&(t==="function"||t==="symbol"),F4e=(e,t,n,r)=>{const i=(o,l)=>{const c=r.push(o)-1;return n.set(l,c),c},a=o=>{if(n.has(o))return n.get(o);let[l,c]=Wb(o);switch(l){case sE:{let d=o;switch(c){case"bigint":l=Rse,d=o.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+c);d=null;break;case"undefined":return i([Ise],o)}return i([l,d],o)}case B1:{if(c){let m=o;return c==="DataView"?m=new Uint8Array(o.buffer):c==="ArrayBuffer"&&(m=new Uint8Array(o)),i([c,[...m]],o)}const d=[],f=i([l,d],o);for(const m of o)d.push(a(m));return f}case p5:{if(c)switch(c){case"BigInt":return i([c,o.toString()],o);case"Boolean":case"Number":case"String":return i([c,o.valueOf()],o)}if(t&&"toJSON"in o)return a(o.toJSON());const d=[],f=i([l,d],o);for(const m of $4e(o))(e||!GN(Wb(o[m])))&&d.push([a(m),a(o[m])]);return f}case RR:return i([l,o.toISOString()],o);case $R:{const{source:d,flags:f}=o;return i([l,{source:d,flags:f}],o)}case FR:{const d=[],f=i([l,d],o);for(const[m,h]of o)(e||!(GN(Wb(m))||GN(Wb(h))))&&d.push([a(m),a(h)]);return f}case BR:{const d=[],f=i([l,d],o);for(const m of o)(e||!GN(Wb(m)))&&d.push(a(m));return f}}const{message:u}=o;return i([l,{name:c,message:u}],o)};return a},vV=(e,{json:t,lossy:n}={})=>{const r=[];return F4e(!(t||n),!!t,new Map,r)(e),r},g5=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?gV(vV(e,t)):structuredClone(e):(e,t)=>gV(vV(e,t));function B4e(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function z4e(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function V4e(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||B4e,r=e.options.footnoteBackLabel||z4e,i=e.options.footnoteLabel||"Footnotes",a=e.options.footnoteLabelTagName||"h2",o=e.options.footnoteLabelProperties||{className:["sr-only"]},l=[];let c=-1;for(;++c<e.footnoteOrder.length;){const u=e.footnoteById.get(e.footnoteOrder[c]);if(!u)continue;const d=e.all(u),f=String(u.identifier).toUpperCase(),m=D0(f.toLowerCase());let h=0;const g=[],y=e.footnoteCounts.get(f);for(;y!==void 0&&++h<=y;){g.length>0&&g.push({type:"text",value:" "});let w=typeof n=="string"?n:n(c,h);typeof w=="string"&&(w={type:"text",value:w}),g.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+m+(h>1?"-"+h:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(c,h),className:["data-footnote-backref"]},children:Array.isArray(w)?w:[w]})}const v=d[d.length-1];if(v&&v.type==="element"&&v.tagName==="p"){const w=v.children[v.children.length-1];w&&w.type==="text"?w.value+=" ":v.children.push({type:"text",value:" "}),v.children.push(...g)}else d.push(...g);const x={type:"element",tagName:"li",properties:{id:t+"fn-"+m},children:e.wrap(d,!0)};e.patch(u,x),l.push(x)}if(l.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:a,properties:{...g5(o),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(l,!0)},{type:"text",value:`
`}]}}const oE=function(e){if(e==null)return H4e;if(typeof e=="function")return lE(e);if(typeof e=="object")return Array.isArray(e)?q4e(e):U4e(e);if(typeof e=="string")return W4e(e);throw new Error("Expected function, string, or object as test")};function q4e(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=oE(e[n]);return lE(r);function r(...i){let a=-1;for(;++a<t.length;)if(t[a].apply(this,i))return!0;return!1}}function U4e(e){const t=e;return lE(n);function n(r){const i=r;let a;for(a in e)if(i[a]!==t[a])return!1;return!0}}function W4e(e){return lE(t);function t(n){return n&&n.type===e}}function lE(e){return t;function t(n,r,i){return!!(K4e(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function H4e(){return!0}function K4e(e){return e!==null&&typeof e=="object"&&"type"in e}const $se=[],G4e=!0,EL=!1,Y4e="skip";function Fse(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const a=oE(i),o=r?-1:1;l(e,void 0,[])();function l(c,u,d){const f=c&&typeof c=="object"?c:{};if(typeof f.type=="string"){const h=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(m,"name",{value:"node ("+(c.type+(h?"<"+h+">":""))+")"})}return m;function m(){let h=$se,g,y,v;if((!t||a(c,u,d[d.length-1]||void 0))&&(h=X4e(n(c,d)),h[0]===EL))return h;if("children"in c&&c.children){const x=c;if(x.children&&h[0]!==Y4e)for(y=(r?x.children.length:-1)+o,v=d.concat(x);y>-1&&y<x.children.length;){const w=x.children[y];if(g=l(w,y,v)(),g[0]===EL)return g;y=typeof g[1]=="number"?g[1]:y+o}}return h}}}function X4e(e){return Array.isArray(e)?e:typeof e=="number"?[G4e,e]:e==null?$se:[e]}function zR(e,t,n,r){let i,a,o;typeof t=="function"&&typeof n!="function"?(a=void 0,o=t,i=n):(a=t,o=n,i=r),Fse(e,a,l,i);function l(c,u){const d=u[u.length-1],f=d?d.children.indexOf(c):void 0;return o(c,f,d)}}const PL={}.hasOwnProperty,Z4e={};function Q4e(e,t){const n=t||Z4e,r=new Map,i=new Map,a=new Map,o={...I4e,...n.handlers},l={all:u,applyData:eOe,definitionById:r,footnoteById:i,footnoteCounts:a,footnoteOrder:[],handlers:o,one:c,options:n,patch:J4e,wrap:nOe};return zR(e,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const f=d.type==="definition"?r:i,m=String(d.identifier).toUpperCase();f.has(m)||f.set(m,d)}}),l;function c(d,f){const m=d.type,h=l.handlers[m];if(PL.call(l.handlers,m)&&h)return h(l,d,f);if(l.options.passThrough&&l.options.passThrough.includes(m)){if("children"in d){const{children:y,...v}=d,x=g5(v);return x.children=l.all(d),x}return g5(d)}return(l.options.unknownHandler||tOe)(l,d,f)}function u(d){const f=[];if("children"in d){const m=d.children;let h=-1;for(;++h<m.length;){const g=l.one(m[h],d);if(g){if(h&&m[h-1].type==="break"&&(!Array.isArray(g)&&g.type==="text"&&(g.value=xV(g.value)),!Array.isArray(g)&&g.type==="element")){const y=g.children[0];y&&y.type==="text"&&(y.value=xV(y.value))}Array.isArray(g)?f.push(...g):f.push(g)}}}return f}}function J4e(e,t){e.position&&(t.position=zPe(e))}function eOe(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,a=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&a&&Object.assign(n.properties,g5(a)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function tOe(e,t){const n=t.data||{},r="value"in t&&!(PL.call(n,"hProperties")||PL.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function nOe(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function xV(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function yV(e,t){const n=Q4e(e,t),r=n.one(e,void 0),i=V4e(n),a=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&a.children.push({type:"text",value:`
`},i),a}function rOe(e,t){return e&&"run"in e?async function(n,r){const i=yV(n,{file:r,...t});await e.run(i,r)}:function(n,r){return yV(n,{file:r,...e||t})}}function bV(e){if(e)throw e}var cS=Object.prototype.hasOwnProperty,Bse=Object.prototype.toString,wV=Object.defineProperty,jV=Object.getOwnPropertyDescriptor,NV=function(t){return typeof Array.isArray=="function"?Array.isArray(t):Bse.call(t)==="[object Array]"},_V=function(t){if(!t||Bse.call(t)!=="[object Object]")return!1;var n=cS.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&cS.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var i;for(i in t);return typeof i>"u"||cS.call(t,i)},SV=function(t,n){wV&&n.name==="__proto__"?wV(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},kV=function(t,n){if(n==="__proto__")if(cS.call(t,n)){if(jV)return jV(t,n).value}else return;return t[n]},iOe=function e(){var t,n,r,i,a,o,l=arguments[0],c=1,u=arguments.length,d=!1;for(typeof l=="boolean"&&(d=l,l=arguments[1]||{},c=2),(l==null||typeof l!="object"&&typeof l!="function")&&(l={});c<u;++c)if(t=arguments[c],t!=null)for(n in t)r=kV(l,n),i=kV(t,n),l!==i&&(d&&i&&(_V(i)||(a=NV(i)))?(a?(a=!1,o=r&&NV(r)?r:[]):o=r&&_V(r)?r:{},SV(l,{name:n,newValue:e(d,o,i)})):typeof i<"u"&&SV(l,{name:n,newValue:i}));return l};const IT=Ar(iOe);function AL(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function aOe(){const e=[],t={run:n,use:r};return t;function n(...i){let a=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);l(null,...i);function l(c,...u){const d=e[++a];let f=-1;if(c){o(c);return}for(;++f<i.length;)(u[f]===null||u[f]===void 0)&&(u[f]=i[f]);i=u,d?sOe(d,l)(...u):o(null,...u)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function sOe(e,t){let n;return r;function r(...o){const l=e.length>o.length;let c;l&&o.push(i);try{c=e.apply(this,o)}catch(u){const d=u;if(l&&n)throw d;return i(d)}l||(c&&c.then&&typeof c.then=="function"?c.then(a,i):c instanceof Error?i(c):a(c))}function i(o,...l){n||(n=!0,t(o,...l))}function a(o){i(null,o)}}const Md={basename:oOe,dirname:lOe,extname:cOe,join:uOe,sep:"/"};function oOe(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Nj(e);let n=0,r=-1,i=e.length,a;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(a){n=i+1;break}}else r<0&&(a=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let o=-1,l=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(a){n=i+1;break}}else o<0&&(a=!0,o=i+1),l>-1&&(e.codePointAt(i)===t.codePointAt(l--)?l<0&&(r=i):(l=-1,r=o));return n===r?r=o:r<0&&(r=e.length),e.slice(n,r)}function lOe(e){if(Nj(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function cOe(e){Nj(e);let t=e.length,n=-1,r=0,i=-1,a=0,o;for(;t--;){const l=e.codePointAt(t);if(l===47){if(o){r=t+1;break}continue}n<0&&(o=!0,n=t+1),l===46?i<0?i=t:a!==1&&(a=1):i>-1&&(a=-1)}return i<0||n<0||a===0||a===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function uOe(...e){let t=-1,n;for(;++t<e.length;)Nj(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":dOe(n)}function dOe(e){Nj(e);const t=e.codePointAt(0)===47;let n=fOe(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function fOe(e,t){let n="",r=0,i=-1,a=0,o=-1,l,c;for(;++o<=e.length;){if(o<e.length)l=e.codePointAt(o);else{if(l===47)break;l=47}if(l===47){if(!(i===o-1||a===1))if(i!==o-1&&a===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(c=n.lastIndexOf("/"),c!==n.length-1){c<0?(n="",r=0):(n=n.slice(0,c),r=n.length-1-n.lastIndexOf("/")),i=o,a=0;continue}}else if(n.length>0){n="",r=0,i=o,a=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,o):n=e.slice(i+1,o),r=o-i-1;i=o,a=0}else l===46&&a>-1?a++:a=-1}return n}function Nj(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const hOe={cwd:mOe};function mOe(){return"/"}function TL(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function pOe(e){if(typeof e=="string")e=new URL(e);else if(!TL(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return gOe(e)}function gOe(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const DT=["history","path","basename","stem","extname","dirname"];class zse{constructor(t){let n;t?TL(t)?n={path:t}:typeof t=="string"||vOe(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":hOe.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<DT.length;){const a=DT[r];a in n&&n[a]!==void 0&&n[a]!==null&&(this[a]=a==="history"?[...n[a]]:n[a])}let i;for(i in n)DT.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?Md.basename(this.path):void 0}set basename(t){$T(t,"basename"),RT(t,"basename"),this.path=Md.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Md.dirname(this.path):void 0}set dirname(t){CV(this.basename,"dirname"),this.path=Md.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Md.extname(this.path):void 0}set extname(t){if(RT(t,"extname"),CV(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Md.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){TL(t)&&(t=pOe(t)),$T(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Md.basename(this.path,this.extname):void 0}set stem(t){$T(t,"stem"),RT(t,"stem"),this.path=Md.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new vo(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function RT(e,t){if(e&&e.includes(Md.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Md.sep+"`")}function $T(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function CV(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function vOe(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const xOe=function(e){const r=this.constructor.prototype,i=r[e],a=function(){return i.apply(a,arguments)};return Object.setPrototypeOf(a,r),a},yOe={}.hasOwnProperty;class VR extends xOe{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=aOe()}copy(){const t=new VR;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(IT(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(zT("data",this.frozen),this.namespace[t]=n,this):yOe.call(this.namespace,t)&&this.namespace[t]||void 0:t?(zT("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=YN(t),r=this.parser||this.Parser;return FT("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),FT("process",this.parser||this.Parser),BT("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(a,o){const l=YN(t),c=r.parse(l);r.run(c,l,function(d,f,m){if(d||!f||!m)return u(d);const h=f,g=r.stringify(h,m);jOe(g)?m.value=g:m.result=g,u(d,m)});function u(d,f){d||!f?o(d):a?a(f):n(void 0,f)}}}processSync(t){let n=!1,r;return this.freeze(),FT("processSync",this.parser||this.Parser),BT("processSync",this.compiler||this.Compiler),this.process(t,i),PV("processSync","process",n),r;function i(a,o){n=!0,bV(a),r=o}}run(t,n,r){EV(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?a(void 0,r):new Promise(a);function a(o,l){const c=YN(n);i.run(t,c,u);function u(d,f,m){const h=f||t;d?l(d):o?o(h):r(void 0,h,m)}}}runSync(t,n){let r=!1,i;return this.run(t,n,a),PV("runSync","run",r),i;function a(o,l){bV(o),i=l,r=!0}}stringify(t,n){this.freeze();const r=YN(n),i=this.compiler||this.Compiler;return BT("stringify",i),EV(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(zT("use",this.frozen),t!=null)if(typeof t=="function")c(t,n);else if(typeof t=="object")Array.isArray(t)?l(t):o(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function a(u){if(typeof u=="function")c(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[d,...f]=u;c(d,f)}else o(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function o(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");l(u.plugins),u.settings&&(i.settings=IT(!0,i.settings,u.settings))}function l(u){let d=-1;if(u!=null)if(Array.isArray(u))for(;++d<u.length;){const f=u[d];a(f)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function c(u,d){let f=-1,m=-1;for(;++f<r.length;)if(r[f][0]===u){m=f;break}if(m===-1)r.push([u,...d]);else if(d.length>0){let[h,...g]=d;const y=r[m][1];AL(y)&&AL(h)&&(h=IT(!0,y,h)),r[m]=[u,h,...g]}}}}const bOe=new VR().freeze();function FT(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function BT(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function zT(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function EV(e){if(!AL(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function PV(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function YN(e){return wOe(e)?e:new zse(e)}function wOe(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function jOe(e){return typeof e=="string"||NOe(e)}function NOe(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const _Oe="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",AV=[],TV={allowDangerousHtml:!0},SOe=/^(https?|ircs?|mailto|xmpp)$/i,kOe=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function COe(e){const t=EOe(e),n=POe(e);return AOe(t.runSync(t.parse(n),n),e)}function EOe(e){const t=e.rehypePlugins||AV,n=e.remarkPlugins||AV,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...TV}:TV;return bOe().use(c4e).use(n).use(rOe,r).use(t)}function POe(e){const t=e.children||"",n=new zse;return typeof t=="string"&&(n.value=t),n}function AOe(e,t){const n=t.allowedElements,r=t.allowElement,i=t.components,a=t.disallowedElements,o=t.skipHtml,l=t.unwrapDisallowed,c=t.urlTransform||TOe;for(const d of kOe)Object.hasOwn(t,d.from)&&(""+d.from+(d.to?"use `"+d.to+"` instead":"remove it")+_Oe+d.id,void 0);return zR(e,u),HPe(e,{Fragment:s.Fragment,components:i,ignoreInvalidStyle:!0,jsx:s.jsx,jsxs:s.jsxs,passKeys:!0,passNode:!0});function u(d,f,m){if(d.type==="raw"&&m&&typeof f=="number")return o?m.children.splice(f,1):m.children[f]={type:"text",value:d.value},f;if(d.type==="element"){let h;for(h in OT)if(Object.hasOwn(OT,h)&&Object.hasOwn(d.properties,h)){const g=d.properties[h],y=OT[h];(y===null||y.includes(d.tagName))&&(d.properties[h]=c(String(g||""),h,d))}}if(d.type==="element"){let h=n?!n.includes(d.tagName):a?a.includes(d.tagName):!1;if(!h&&r&&typeof f=="number"&&(h=!r(d,f,m)),h&&m&&typeof f=="number")return l&&d.children?m.children.splice(f,1,...d.children):m.children.splice(f,1),f}}}function TOe(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||n!==-1&&t>n||r!==-1&&t>r||SOe.test(e.slice(0,t))?e:""}function OV(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(t);for(;i!==-1;)r++,i=n.indexOf(t,i+t.length);return r}function OOe(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function LOe(e,t,n){const i=oE((n||{}).ignore||[]),a=MOe(t);let o=-1;for(;++o<a.length;)Fse(e,"text",l);function l(u,d){let f=-1,m;for(;++f<d.length;){const h=d[f],g=m?m.children:void 0;if(i(h,g?g.indexOf(h):void 0,m))return;m=h}if(m)return c(u,d)}function c(u,d){const f=d[d.length-1],m=a[o][0],h=a[o][1];let g=0;const v=f.children.indexOf(u);let x=!1,w=[];m.lastIndex=0;let j=m.exec(u.value);for(;j;){const _=j.index,S={index:j.index,input:j.input,stack:[...d,u]};let k=h(...j,S);if(typeof k=="string"&&(k=k.length>0?{type:"text",value:k}:void 0),k===!1?m.lastIndex=_+1:(g!==_&&w.push({type:"text",value:u.value.slice(g,_)}),Array.isArray(k)?w.push(...k):k&&w.push(k),g=_+j[0].length,x=!0),!m.global)break;j=m.exec(u.value)}return x?(g<u.value.length&&w.push({type:"text",value:u.value.slice(g)}),f.children.splice(v,1,...w)):w=[u],v+w.length}}function MOe(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const i=n[r];t.push([IOe(i[0]),DOe(i[1])])}return t}function IOe(e){return typeof e=="string"?new RegExp(OOe(e),"g"):e}function DOe(e){return typeof e=="function"?e:function(){return e}}const VT="phrasing",qT=["autolink","link","image","label"];function ROe(){return{transforms:[UOe],enter:{literalAutolink:FOe,literalAutolinkEmail:UT,literalAutolinkHttp:UT,literalAutolinkWww:UT},exit:{literalAutolink:qOe,literalAutolinkEmail:VOe,literalAutolinkHttp:BOe,literalAutolinkWww:zOe}}}function $Oe(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:VT,notInConstruct:qT},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:VT,notInConstruct:qT},{character:":",before:"[ps]",after:"\\/",inConstruct:VT,notInConstruct:qT}]}}function FOe(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function UT(e){this.config.enter.autolinkProtocol.call(this,e)}function BOe(e){this.config.exit.autolinkProtocol.call(this,e)}function zOe(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function VOe(e){this.config.exit.autolinkEmail.call(this,e)}function qOe(e){this.exit(e)}function UOe(e){LOe(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,WOe],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),HOe]],{ignore:["link","linkReference"]})}function WOe(e,t,n,r,i){let a="";if(!Vse(i)||(/^w/i.test(t)&&(n=t+n,t="",a="http://"),!KOe(n)))return!1;const o=GOe(n+r);if(!o[0])return!1;const l={type:"link",title:null,url:a+t+o[0],children:[{type:"text",value:t+o[0]}]};return o[1]?[l,{type:"text",value:o[1]}]:l}function HOe(e,t,n,r){return!Vse(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function KOe(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function GOe(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const i=OV(e,"(");let a=OV(e,")");for(;r!==-1&&i>a;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),a++;return[e,n]}function Vse(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||av(n)||iE(n))&&(!t||n!==47)}qse.peek=r3e;function YOe(){this.buffer()}function XOe(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function ZOe(){this.buffer()}function QOe(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function JOe(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Xu(this.sliceSerialize(e)).toLowerCase(),n.label=t}function e3e(e){this.exit(e)}function t3e(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Xu(this.sliceSerialize(e)).toLowerCase(),n.label=t}function n3e(e){this.exit(e)}function r3e(){return"["}function qse(e,t,n,r){const i=n.createTracker(r);let a=i.move("[^");const o=n.enter("footnoteReference"),l=n.enter("reference");return a+=i.move(n.safe(n.associationId(e),{after:"]",before:a})),l(),o(),a+=i.move("]"),a}function i3e(){return{enter:{gfmFootnoteCallString:YOe,gfmFootnoteCall:XOe,gfmFootnoteDefinitionLabelString:ZOe,gfmFootnoteDefinition:QOe},exit:{gfmFootnoteCallString:JOe,gfmFootnoteCall:e3e,gfmFootnoteDefinitionLabelString:t3e,gfmFootnoteDefinition:n3e}}}function a3e(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:qse},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,i,a,o){const l=a.createTracker(o);let c=l.move("[^");const u=a.enter("footnoteDefinition"),d=a.enter("label");return c+=l.move(a.safe(a.associationId(r),{before:c,after:"]"})),d(),c+=l.move("]:"),r.children&&r.children.length>0&&(l.shift(4),c+=l.move((t?`
`:" ")+a.indentLines(a.containerFlow(r,l.current()),t?Use:s3e))),u(),c}}function s3e(e,t,n){return t===0?e:Use(e,t,n)}function Use(e,t,n){return(n?"":"    ")+e}const o3e=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];Wse.peek=f3e;function l3e(){return{canContainEols:["delete"],enter:{strikethrough:u3e},exit:{strikethrough:d3e}}}function c3e(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:o3e}],handlers:{delete:Wse}}}function u3e(e){this.enter({type:"delete",children:[]},e)}function d3e(e){this.exit(e)}function Wse(e,t,n,r){const i=n.createTracker(r),a=n.enter("strikethrough");let o=i.move("~~");return o+=n.containerPhrasing(e,{...i.current(),before:o,after:"~"}),o+=i.move("~~"),a(),o}function f3e(){return"~"}function h3e(e){return e.length}function m3e(e,t){const n=t||{},r=(n.align||[]).concat(),i=n.stringLength||h3e,a=[],o=[],l=[],c=[];let u=0,d=-1;for(;++d<e.length;){const y=[],v=[];let x=-1;for(e[d].length>u&&(u=e[d].length);++x<e[d].length;){const w=p3e(e[d][x]);if(n.alignDelimiters!==!1){const j=i(w);v[x]=j,(c[x]===void 0||j>c[x])&&(c[x]=j)}y.push(w)}o[d]=y,l[d]=v}let f=-1;if(typeof r=="object"&&"length"in r)for(;++f<u;)a[f]=LV(r[f]);else{const y=LV(r);for(;++f<u;)a[f]=y}f=-1;const m=[],h=[];for(;++f<u;){const y=a[f];let v="",x="";y===99?(v=":",x=":"):y===108?v=":":y===114&&(x=":");let w=n.alignDelimiters===!1?1:Math.max(1,c[f]-v.length-x.length);const j=v+"-".repeat(w)+x;n.alignDelimiters!==!1&&(w=v.length+w+x.length,w>c[f]&&(c[f]=w),h[f]=w),m[f]=j}o.splice(1,0,m),l.splice(1,0,h),d=-1;const g=[];for(;++d<o.length;){const y=o[d],v=l[d];f=-1;const x=[];for(;++f<u;){const w=y[f]||"";let j="",_="";if(n.alignDelimiters!==!1){const S=c[f]-(v[f]||0),k=a[f];k===114?j=" ".repeat(S):k===99?S%2?(j=" ".repeat(S/2+.5),_=" ".repeat(S/2-.5)):(j=" ".repeat(S/2),_=j):_=" ".repeat(S)}n.delimiterStart!==!1&&!f&&x.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&w==="")&&(n.delimiterStart!==!1||f)&&x.push(" "),n.alignDelimiters!==!1&&x.push(j),x.push(w),n.alignDelimiters!==!1&&x.push(_),n.padding!==!1&&x.push(" "),(n.delimiterEnd!==!1||f!==u-1)&&x.push("|")}g.push(n.delimiterEnd===!1?x.join("").replace(/ +$/,""):x.join(""))}return g.join(`
`)}function p3e(e){return e==null?"":String(e)}function LV(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function g3e(e,t,n,r){const i=n.enter("blockquote"),a=n.createTracker(r);a.move("> "),a.shift(2);const o=n.indentLines(n.containerFlow(e,a.current()),v3e);return i(),o}function v3e(e,t,n){return">"+(n?"":" ")+e}function x3e(e,t){return MV(e,t.inConstruct,!0)&&!MV(e,t.notInConstruct,!1)}function MV(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function IV(e,t,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&x3e(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function y3e(e,t){const n=String(e);let r=n.indexOf(t),i=r,a=0,o=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++a>o&&(o=a):a=1,i=r+t.length,r=n.indexOf(t,i);return o}function b3e(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function w3e(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function j3e(e,t,n,r){const i=w3e(n),a=e.value||"",o=i==="`"?"GraveAccent":"Tilde";if(b3e(e,n)){const f=n.enter("codeIndented"),m=n.indentLines(a,N3e);return f(),m}const l=n.createTracker(r),c=i.repeat(Math.max(y3e(a,i)+1,3)),u=n.enter("codeFenced");let d=l.move(c);if(e.lang){const f=n.enter(`codeFencedLang${o}`);d+=l.move(n.safe(e.lang,{before:d,after:" ",encode:["`"],...l.current()})),f()}if(e.lang&&e.meta){const f=n.enter(`codeFencedMeta${o}`);d+=l.move(" "),d+=l.move(n.safe(e.meta,{before:d,after:`
`,encode:["`"],...l.current()})),f()}return d+=l.move(`
`),a&&(d+=l.move(a+`
`)),d+=l.move(c),u(),d}function N3e(e,t,n){return(n?"":"    ")+e}function qR(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function _3e(e,t,n,r){const i=qR(n),a=i==='"'?"Quote":"Apostrophe",o=n.enter("definition");let l=n.enter("label");const c=n.createTracker(r);let u=c.move("[");return u+=c.move(n.safe(n.associationId(e),{before:u,after:"]",...c.current()})),u+=c.move("]: "),l(),!e.url||/[\0- \u007F]/.test(e.url)?(l=n.enter("destinationLiteral"),u+=c.move("<"),u+=c.move(n.safe(e.url,{before:u,after:">",...c.current()})),u+=c.move(">")):(l=n.enter("destinationRaw"),u+=c.move(n.safe(e.url,{before:u,after:e.title?" ":`
`,...c.current()}))),l(),e.title&&(l=n.enter(`title${a}`),u+=c.move(" "+i),u+=c.move(n.safe(e.title,{before:u,after:i,...c.current()})),u+=c.move(i),l()),o(),u}function S3e(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function Ww(e){return"&#x"+e.toString(16).toUpperCase()+";"}function v5(e,t,n){const r=By(e),i=By(t);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}Hse.peek=k3e;function Hse(e,t,n,r){const i=S3e(n),a=n.enter("emphasis"),o=n.createTracker(r),l=o.move(i);let c=o.move(n.containerPhrasing(e,{after:i,before:l,...o.current()}));const u=c.charCodeAt(0),d=v5(r.before.charCodeAt(r.before.length-1),u,i);d.inside&&(c=Ww(u)+c.slice(1));const f=c.charCodeAt(c.length-1),m=v5(r.after.charCodeAt(0),f,i);m.inside&&(c=c.slice(0,-1)+Ww(f));const h=o.move(i);return a(),n.attentionEncodeSurroundingInfo={after:m.outside,before:d.outside},l+c+h}function k3e(e,t,n){return n.options.emphasis||"*"}function C3e(e,t){let n=!1;return zR(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,EL}),!!((!e.depth||e.depth<3)&&MR(e)&&(t.options.setext||n))}function E3e(e,t,n,r){const i=Math.max(Math.min(6,e.depth||1),1),a=n.createTracker(r);if(C3e(e,n)){const d=n.enter("headingSetext"),f=n.enter("phrasing"),m=n.containerPhrasing(e,{...a.current(),before:`
`,after:`
`});return f(),d(),m+`
`+(i===1?"=":"-").repeat(m.length-(Math.max(m.lastIndexOf("\r"),m.lastIndexOf(`
`))+1))}const o="#".repeat(i),l=n.enter("headingAtx"),c=n.enter("phrasing");a.move(o+" ");let u=n.containerPhrasing(e,{before:"# ",after:`
`,...a.current()});return/^[\t ]/.test(u)&&(u=Ww(u.charCodeAt(0))+u.slice(1)),u=u?o+" "+u:o,n.options.closeAtx&&(u+=" "+o),c(),l(),u}Kse.peek=P3e;function Kse(e){return e.value||""}function P3e(){return"<"}Gse.peek=A3e;function Gse(e,t,n,r){const i=qR(n),a=i==='"'?"Quote":"Apostrophe",o=n.enter("image");let l=n.enter("label");const c=n.createTracker(r);let u=c.move("![");return u+=c.move(n.safe(e.alt,{before:u,after:"]",...c.current()})),u+=c.move("]("),l(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(l=n.enter("destinationLiteral"),u+=c.move("<"),u+=c.move(n.safe(e.url,{before:u,after:">",...c.current()})),u+=c.move(">")):(l=n.enter("destinationRaw"),u+=c.move(n.safe(e.url,{before:u,after:e.title?" ":")",...c.current()}))),l(),e.title&&(l=n.enter(`title${a}`),u+=c.move(" "+i),u+=c.move(n.safe(e.title,{before:u,after:i,...c.current()})),u+=c.move(i),l()),u+=c.move(")"),o(),u}function A3e(){return"!"}Yse.peek=T3e;function Yse(e,t,n,r){const i=e.referenceType,a=n.enter("imageReference");let o=n.enter("label");const l=n.createTracker(r);let c=l.move("![");const u=n.safe(e.alt,{before:c,after:"]",...l.current()});c+=l.move(u+"]["),o();const d=n.stack;n.stack=[],o=n.enter("reference");const f=n.safe(n.associationId(e),{before:c,after:"]",...l.current()});return o(),n.stack=d,a(),i==="full"||!u||u!==f?c+=l.move(f+"]"):i==="shortcut"?c=c.slice(0,-1):c+=l.move("]"),c}function T3e(){return"!"}Xse.peek=O3e;function Xse(e,t,n){let r=e.value||"",i="`",a=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++a<n.unsafe.length;){const o=n.unsafe[a],l=n.compilePattern(o);let c;if(o.atBreak)for(;c=l.exec(r);){let u=c.index;r.charCodeAt(u)===10&&r.charCodeAt(u-1)===13&&u--,r=r.slice(0,u)+" "+r.slice(c.index+1)}}return i+r+i}function O3e(){return"`"}function Zse(e,t){const n=MR(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}Qse.peek=L3e;function Qse(e,t,n,r){const i=qR(n),a=i==='"'?"Quote":"Apostrophe",o=n.createTracker(r);let l,c;if(Zse(e,n)){const d=n.stack;n.stack=[],l=n.enter("autolink");let f=o.move("<");return f+=o.move(n.containerPhrasing(e,{before:f,after:">",...o.current()})),f+=o.move(">"),l(),n.stack=d,f}l=n.enter("link"),c=n.enter("label");let u=o.move("[");return u+=o.move(n.containerPhrasing(e,{before:u,after:"](",...o.current()})),u+=o.move("]("),c(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(c=n.enter("destinationLiteral"),u+=o.move("<"),u+=o.move(n.safe(e.url,{before:u,after:">",...o.current()})),u+=o.move(">")):(c=n.enter("destinationRaw"),u+=o.move(n.safe(e.url,{before:u,after:e.title?" ":")",...o.current()}))),c(),e.title&&(c=n.enter(`title${a}`),u+=o.move(" "+i),u+=o.move(n.safe(e.title,{before:u,after:i,...o.current()})),u+=o.move(i),c()),u+=o.move(")"),l(),u}function L3e(e,t,n){return Zse(e,n)?"<":"["}Jse.peek=M3e;function Jse(e,t,n,r){const i=e.referenceType,a=n.enter("linkReference");let o=n.enter("label");const l=n.createTracker(r);let c=l.move("[");const u=n.containerPhrasing(e,{before:c,after:"]",...l.current()});c+=l.move(u+"]["),o();const d=n.stack;n.stack=[],o=n.enter("reference");const f=n.safe(n.associationId(e),{before:c,after:"]",...l.current()});return o(),n.stack=d,a(),i==="full"||!u||u!==f?c+=l.move(f+"]"):i==="shortcut"?c=c.slice(0,-1):c+=l.move("]"),c}function M3e(){return"["}function UR(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function I3e(e){const t=UR(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function D3e(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function eoe(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function R3e(e,t,n,r){const i=n.enter("list"),a=n.bulletCurrent;let o=e.ordered?D3e(n):UR(n);const l=e.ordered?o==="."?")":".":I3e(n);let c=t&&n.bulletLastUsed?o===n.bulletLastUsed:!1;if(!e.ordered){const d=e.children?e.children[0]:void 0;if((o==="*"||o==="-")&&d&&(!d.children||!d.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(c=!0),eoe(n)===o&&d){let f=-1;for(;++f<e.children.length;){const m=e.children[f];if(m&&m.type==="listItem"&&m.children&&m.children[0]&&m.children[0].type==="thematicBreak"){c=!0;break}}}}c&&(o=l),n.bulletCurrent=o;const u=n.containerFlow(e,r);return n.bulletLastUsed=o,n.bulletCurrent=a,i(),u}function $3e(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function F3e(e,t,n,r){const i=$3e(n);let a=n.bulletCurrent||UR(n);t&&t.type==="list"&&t.ordered&&(a=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+a);let o=a.length+1;(i==="tab"||i==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(o=Math.ceil(o/4)*4);const l=n.createTracker(r);l.move(a+" ".repeat(o-a.length)),l.shift(o);const c=n.enter("listItem"),u=n.indentLines(n.containerFlow(e,l.current()),d);return c(),u;function d(f,m,h){return m?(h?"":" ".repeat(o))+f:(h?a:a+" ".repeat(o-a.length))+f}}function B3e(e,t,n,r){const i=n.enter("paragraph"),a=n.enter("phrasing"),o=n.containerPhrasing(e,r);return a(),i(),o}const z3e=oE(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function V3e(e,t,n,r){return(e.children.some(function(o){return z3e(o)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function q3e(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}toe.peek=U3e;function toe(e,t,n,r){const i=q3e(n),a=n.enter("strong"),o=n.createTracker(r),l=o.move(i+i);let c=o.move(n.containerPhrasing(e,{after:i,before:l,...o.current()}));const u=c.charCodeAt(0),d=v5(r.before.charCodeAt(r.before.length-1),u,i);d.inside&&(c=Ww(u)+c.slice(1));const f=c.charCodeAt(c.length-1),m=v5(r.after.charCodeAt(0),f,i);m.inside&&(c=c.slice(0,-1)+Ww(f));const h=o.move(i+i);return a(),n.attentionEncodeSurroundingInfo={after:m.outside,before:d.outside},l+c+h}function U3e(e,t,n){return n.options.strong||"*"}function W3e(e,t,n,r){return n.safe(e.value,r)}function H3e(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function K3e(e,t,n){const r=(eoe(n)+(n.options.ruleSpaces?" ":"")).repeat(H3e(n));return n.options.ruleSpaces?r.slice(0,-1):r}const noe={blockquote:g3e,break:IV,code:j3e,definition:_3e,emphasis:Hse,hardBreak:IV,heading:E3e,html:Kse,image:Gse,imageReference:Yse,inlineCode:Xse,link:Qse,linkReference:Jse,list:R3e,listItem:F3e,paragraph:B3e,root:V3e,strong:toe,text:W3e,thematicBreak:K3e};function G3e(){return{enter:{table:Y3e,tableData:DV,tableHeader:DV,tableRow:Z3e},exit:{codeText:Q3e,table:X3e,tableData:WT,tableHeader:WT,tableRow:WT}}}function Y3e(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function X3e(e){this.exit(e),this.data.inTable=void 0}function Z3e(e){this.enter({type:"tableRow",children:[]},e)}function WT(e){this.exit(e)}function DV(e){this.enter({type:"tableCell",children:[]},e)}function Q3e(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,J3e));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function J3e(e,t){return t==="|"?t:e}function eLe(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,i=t.stringLength,a=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:m,table:o,tableCell:c,tableRow:l}};function o(h,g,y,v){return u(d(h,y,v),h.align)}function l(h,g,y,v){const x=f(h,y,v),w=u([x]);return w.slice(0,w.indexOf(`
`))}function c(h,g,y,v){const x=y.enter("tableCell"),w=y.enter("phrasing"),j=y.containerPhrasing(h,{...v,before:a,after:a});return w(),x(),j}function u(h,g){return m3e(h,{align:g,alignDelimiters:r,padding:n,stringLength:i})}function d(h,g,y){const v=h.children;let x=-1;const w=[],j=g.enter("table");for(;++x<v.length;)w[x]=f(v[x],g,y);return j(),w}function f(h,g,y){const v=h.children;let x=-1;const w=[],j=g.enter("tableRow");for(;++x<v.length;)w[x]=c(v[x],h,g,y);return j(),w}function m(h,g,y){let v=noe.inlineCode(h,g,y);return y.stack.includes("tableCell")&&(v=v.replace(/\|/g,"\\$&")),v}}function tLe(){return{exit:{taskListCheckValueChecked:RV,taskListCheckValueUnchecked:RV,paragraph:rLe}}}function nLe(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:iLe}}}function RV(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function rLe(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=t.children;let a=-1,o;for(;++a<i.length;){const l=i[a];if(l.type==="paragraph"){o=l;break}}o===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function iLe(e,t,n,r){const i=e.children[0],a=typeof e.checked=="boolean"&&i&&i.type==="paragraph",o="["+(e.checked?"x":" ")+"] ",l=n.createTracker(r);a&&l.move(o);let c=noe.listItem(e,t,n,{...r,...l.current()});return a&&(c=c.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,u)),c;function u(d){return d+o}}function aLe(){return[ROe(),i3e(),l3e(),G3e(),tLe()]}function sLe(e){return{extensions:[$Oe(),a3e(e),c3e(),eLe(e),nLe()]}}const oLe={tokenize:hLe,partial:!0},roe={tokenize:mLe,partial:!0},ioe={tokenize:pLe,partial:!0},aoe={tokenize:gLe,partial:!0},lLe={tokenize:vLe,partial:!0},soe={name:"wwwAutolink",tokenize:dLe,previous:loe},ooe={name:"protocolAutolink",tokenize:fLe,previous:coe},Dh={name:"emailAutolink",tokenize:uLe,previous:uoe},bf={};function cLe(){return{text:bf}}let cg=48;for(;cg<123;)bf[cg]=Dh,cg++,cg===58?cg=65:cg===91&&(cg=97);bf[43]=Dh;bf[45]=Dh;bf[46]=Dh;bf[95]=Dh;bf[72]=[Dh,ooe];bf[104]=[Dh,ooe];bf[87]=[Dh,soe];bf[119]=[Dh,soe];function uLe(e,t,n){const r=this;let i,a;return o;function o(f){return!OL(f)||!uoe.call(r,r.previous)||WR(r.events)?n(f):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),l(f))}function l(f){return OL(f)?(e.consume(f),l):f===64?(e.consume(f),c):n(f)}function c(f){return f===46?e.check(lLe,d,u)(f):f===45||f===95||fo(f)?(a=!0,e.consume(f),c):d(f)}function u(f){return e.consume(f),i=!0,c}function d(f){return a&&i&&Lo(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(f)):n(f)}}function dLe(e,t,n){const r=this;return i;function i(o){return o!==87&&o!==119||!loe.call(r,r.previous)||WR(r.events)?n(o):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(oLe,e.attempt(roe,e.attempt(ioe,a),n),n)(o))}function a(o){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(o)}}function fLe(e,t,n){const r=this;let i="",a=!1;return o;function o(f){return(f===72||f===104)&&coe.call(r,r.previous)&&!WR(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(f),e.consume(f),l):n(f)}function l(f){if(Lo(f)&&i.length<5)return i+=String.fromCodePoint(f),e.consume(f),l;if(f===58){const m=i.toLowerCase();if(m==="http"||m==="https")return e.consume(f),c}return n(f)}function c(f){return f===47?(e.consume(f),a?u:(a=!0,c)):n(f)}function u(f){return f===null||m5(f)||mi(f)||av(f)||iE(f)?n(f):e.attempt(roe,e.attempt(ioe,d),n)(f)}function d(f){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(f)}}function hLe(e,t,n){let r=0;return i;function i(o){return(o===87||o===119)&&r<3?(r++,e.consume(o),i):o===46&&r===3?(e.consume(o),a):n(o)}function a(o){return o===null?n(o):t(o)}}function mLe(e,t,n){let r,i,a;return o;function o(u){return u===46||u===95?e.check(aoe,c,l)(u):u===null||mi(u)||av(u)||u!==45&&iE(u)?c(u):(a=!0,e.consume(u),o)}function l(u){return u===95?r=!0:(i=r,r=void 0),e.consume(u),o}function c(u){return i||r||!a?n(u):t(u)}}function pLe(e,t){let n=0,r=0;return i;function i(o){return o===40?(n++,e.consume(o),i):o===41&&r<n?a(o):o===33||o===34||o===38||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===60||o===63||o===93||o===95||o===126?e.check(aoe,t,a)(o):o===null||mi(o)||av(o)?t(o):(e.consume(o),i)}function a(o){return o===41&&r++,e.consume(o),i}}function gLe(e,t,n){return r;function r(l){return l===33||l===34||l===39||l===41||l===42||l===44||l===46||l===58||l===59||l===63||l===95||l===126?(e.consume(l),r):l===38?(e.consume(l),a):l===93?(e.consume(l),i):l===60||l===null||mi(l)||av(l)?t(l):n(l)}function i(l){return l===null||l===40||l===91||mi(l)||av(l)?t(l):r(l)}function a(l){return Lo(l)?o(l):n(l)}function o(l){return l===59?(e.consume(l),r):Lo(l)?(e.consume(l),o):n(l)}}function vLe(e,t,n){return r;function r(a){return e.consume(a),i}function i(a){return fo(a)?n(a):t(a)}}function loe(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||mi(e)}function coe(e){return!Lo(e)}function uoe(e){return!(e===47||OL(e))}function OL(e){return e===43||e===45||e===46||e===95||fo(e)}function WR(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const xLe={tokenize:kLe,partial:!0};function yLe(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:NLe,continuation:{tokenize:_Le},exit:SLe}},text:{91:{name:"gfmFootnoteCall",tokenize:jLe},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:bLe,resolveTo:wLe}}}}function bLe(e,t,n){const r=this;let i=r.events.length;const a=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o;for(;i--;){const c=r.events[i][1];if(c.type==="labelImage"){o=c;break}if(c.type==="gfmFootnoteCall"||c.type==="labelLink"||c.type==="label"||c.type==="image"||c.type==="link")break}return l;function l(c){if(!o||!o._balanced)return n(c);const u=Xu(r.sliceSerialize({start:o.end,end:r.now()}));return u.codePointAt(0)!==94||!a.includes(u.slice(1))?n(c):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(c),e.exit("gfmFootnoteCallLabelMarker"),t(c))}}function wLe(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const a={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},o={type:"chunkString",contentType:"string",start:Object.assign({},a.start),end:Object.assign({},a.end)},l=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",i,t],["exit",i,t],["enter",a,t],["enter",o,t],["exit",o,t],["exit",a,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...l),e}function jLe(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a=0,o;return l;function l(f){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),c}function c(f){return f!==94?n(f):(e.enter("gfmFootnoteCallMarker"),e.consume(f),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",u)}function u(f){if(a>999||f===93&&!o||f===null||f===91||mi(f))return n(f);if(f===93){e.exit("chunkString");const m=e.exit("gfmFootnoteCallString");return i.includes(Xu(r.sliceSerialize(m)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(f)}return mi(f)||(o=!0),a++,e.consume(f),f===92?d:u}function d(f){return f===91||f===92||f===93?(e.consume(f),a++,u):u(f)}}function NLe(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a,o=0,l;return c;function c(g){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(g),e.exit("gfmFootnoteDefinitionLabelMarker"),u}function u(g){return g===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(g),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",d):n(g)}function d(g){if(o>999||g===93&&!l||g===null||g===91||mi(g))return n(g);if(g===93){e.exit("chunkString");const y=e.exit("gfmFootnoteDefinitionLabelString");return a=Xu(r.sliceSerialize(y)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(g),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),m}return mi(g)||(l=!0),o++,e.consume(g),g===92?f:d}function f(g){return g===91||g===92||g===93?(e.consume(g),o++,d):d(g)}function m(g){return g===58?(e.enter("definitionMarker"),e.consume(g),e.exit("definitionMarker"),i.includes(a)||i.push(a),_r(e,h,"gfmFootnoteDefinitionWhitespace")):n(g)}function h(g){return t(g)}}function _Le(e,t,n){return e.check(jj,t,e.attempt(xLe,t,n))}function SLe(e){e.exit("gfmFootnoteDefinition")}function kLe(e,t,n){const r=this;return _r(e,i,"gfmFootnoteDefinitionIndent",5);function i(a){const o=r.events[r.events.length-1];return o&&o[1].type==="gfmFootnoteDefinitionIndent"&&o[2].sliceSerialize(o[1],!0).length===4?t(a):n(a)}}function CLe(e){let n=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:a,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(o,l){let c=-1;for(;++c<o.length;)if(o[c][0]==="enter"&&o[c][1].type==="strikethroughSequenceTemporary"&&o[c][1]._close){let u=c;for(;u--;)if(o[u][0]==="exit"&&o[u][1].type==="strikethroughSequenceTemporary"&&o[u][1]._open&&o[c][1].end.offset-o[c][1].start.offset===o[u][1].end.offset-o[u][1].start.offset){o[c][1].type="strikethroughSequence",o[u][1].type="strikethroughSequence";const d={type:"strikethrough",start:Object.assign({},o[u][1].start),end:Object.assign({},o[c][1].end)},f={type:"strikethroughText",start:Object.assign({},o[u][1].end),end:Object.assign({},o[c][1].start)},m=[["enter",d,l],["enter",o[u][1],l],["exit",o[u][1],l],["enter",f,l]],h=l.parser.constructs.insideSpan.null;h&&sc(m,m.length,0,aE(h,o.slice(u+1,c),l)),sc(m,m.length,0,[["exit",f,l],["enter",o[c][1],l],["exit",o[c][1],l],["exit",d,l]]),sc(o,u-1,c-u+3,m),c=u+m.length-2;break}}for(c=-1;++c<o.length;)o[c][1].type==="strikethroughSequenceTemporary"&&(o[c][1].type="data");return o}function a(o,l,c){const u=this.previous,d=this.events;let f=0;return m;function m(g){return u===126&&d[d.length-1][1].type!=="characterEscape"?c(g):(o.enter("strikethroughSequenceTemporary"),h(g))}function h(g){const y=By(u);if(g===126)return f>1?c(g):(o.consume(g),f++,h);if(f<2&&!n)return c(g);const v=o.exit("strikethroughSequenceTemporary"),x=By(g);return v._open=!x||x===2&&!!y,v._close=!y||y===2&&!!x,l(g)}}}class ELe{constructor(){this.map=[]}add(t,n,r){PLe(this,t,n,r)}consume(t){if(this.map.sort(function(a,o){return a[0]-o[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let i=r.pop();for(;i;){for(const a of i)t.push(a);i=r.pop()}this.map.length=0}}function PLe(e,t,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<e.map.length;){if(e.map[i][0]===t){e.map[i][1]+=n,e.map[i][2].push(...r);return}i+=1}e.map.push([t,n,r])}}function ALe(e,t){let n=!1;const r=[];for(;t<e.length;){const i=e[t];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const a=r.length-1;r[a]=r[a]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function TLe(){return{flow:{null:{name:"table",tokenize:OLe,resolveAll:LLe}}}}function OLe(e,t,n){const r=this;let i=0,a=0,o;return l;function l(R){let D=r.events.length-1;for(;D>-1;){const $=r.events[D][1].type;if($==="lineEnding"||$==="linePrefix")D--;else break}const I=D>-1?r.events[D][1].type:null,B=I==="tableHead"||I==="tableRow"?k:c;return B===k&&r.parser.lazy[r.now().line]?n(R):B(R)}function c(R){return e.enter("tableHead"),e.enter("tableRow"),u(R)}function u(R){return R===124||(o=!0,a+=1),d(R)}function d(R){return R===null?n(R):dn(R)?a>1?(a=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(R),e.exit("lineEnding"),h):n(R):ur(R)?_r(e,d,"whitespace")(R):(a+=1,o&&(o=!1,i+=1),R===124?(e.enter("tableCellDivider"),e.consume(R),e.exit("tableCellDivider"),o=!0,d):(e.enter("data"),f(R)))}function f(R){return R===null||R===124||mi(R)?(e.exit("data"),d(R)):(e.consume(R),R===92?m:f)}function m(R){return R===92||R===124?(e.consume(R),f):f(R)}function h(R){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(R):(e.enter("tableDelimiterRow"),o=!1,ur(R)?_r(e,g,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(R):g(R))}function g(R){return R===45||R===58?v(R):R===124?(o=!0,e.enter("tableCellDivider"),e.consume(R),e.exit("tableCellDivider"),y):S(R)}function y(R){return ur(R)?_r(e,v,"whitespace")(R):v(R)}function v(R){return R===58?(a+=1,o=!0,e.enter("tableDelimiterMarker"),e.consume(R),e.exit("tableDelimiterMarker"),x):R===45?(a+=1,x(R)):R===null||dn(R)?_(R):S(R)}function x(R){return R===45?(e.enter("tableDelimiterFiller"),w(R)):S(R)}function w(R){return R===45?(e.consume(R),w):R===58?(o=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(R),e.exit("tableDelimiterMarker"),j):(e.exit("tableDelimiterFiller"),j(R))}function j(R){return ur(R)?_r(e,_,"whitespace")(R):_(R)}function _(R){return R===124?g(R):R===null||dn(R)?!o||i!==a?S(R):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(R)):S(R)}function S(R){return n(R)}function k(R){return e.enter("tableRow"),P(R)}function P(R){return R===124?(e.enter("tableCellDivider"),e.consume(R),e.exit("tableCellDivider"),P):R===null||dn(R)?(e.exit("tableRow"),t(R)):ur(R)?_r(e,P,"whitespace")(R):(e.enter("data"),M(R))}function M(R){return R===null||R===124||mi(R)?(e.exit("data"),P(R)):(e.consume(R),R===92?T:M)}function T(R){return R===92||R===124?(e.consume(R),M):M(R)}}function LLe(e,t){let n=-1,r=!0,i=0,a=[0,0,0,0],o=[0,0,0,0],l=!1,c=0,u,d,f;const m=new ELe;for(;++n<e.length;){const h=e[n],g=h[1];h[0]==="enter"?g.type==="tableHead"?(l=!1,c!==0&&($V(m,t,c,u,d),d=void 0,c=0),u={type:"table",start:Object.assign({},g.start),end:Object.assign({},g.end)},m.add(n,0,[["enter",u,t]])):g.type==="tableRow"||g.type==="tableDelimiterRow"?(r=!0,f=void 0,a=[0,0,0,0],o=[0,n+1,0,0],l&&(l=!1,d={type:"tableBody",start:Object.assign({},g.start),end:Object.assign({},g.end)},m.add(n,0,[["enter",d,t]])),i=g.type==="tableDelimiterRow"?2:d?3:1):i&&(g.type==="data"||g.type==="tableDelimiterMarker"||g.type==="tableDelimiterFiller")?(r=!1,o[2]===0&&(a[1]!==0&&(o[0]=o[1],f=XN(m,t,a,i,void 0,f),a=[0,0,0,0]),o[2]=n)):g.type==="tableCellDivider"&&(r?r=!1:(a[1]!==0&&(o[0]=o[1],f=XN(m,t,a,i,void 0,f)),a=o,o=[a[1],n,0,0])):g.type==="tableHead"?(l=!0,c=n):g.type==="tableRow"||g.type==="tableDelimiterRow"?(c=n,a[1]!==0?(o[0]=o[1],f=XN(m,t,a,i,n,f)):o[1]!==0&&(f=XN(m,t,o,i,n,f)),i=0):i&&(g.type==="data"||g.type==="tableDelimiterMarker"||g.type==="tableDelimiterFiller")&&(o[3]=n)}for(c!==0&&$V(m,t,c,u,d),m.consume(t.events),n=-1;++n<t.events.length;){const h=t.events[n];h[0]==="enter"&&h[1].type==="table"&&(h[1]._align=ALe(t.events,n))}return e}function XN(e,t,n,r,i,a){const o=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",l="tableContent";n[0]!==0&&(a.end=Object.assign({},xx(t.events,n[0])),e.add(n[0],0,[["exit",a,t]]));const c=xx(t.events,n[1]);if(a={type:o,start:Object.assign({},c),end:Object.assign({},c)},e.add(n[1],0,[["enter",a,t]]),n[2]!==0){const u=xx(t.events,n[2]),d=xx(t.events,n[3]),f={type:l,start:Object.assign({},u),end:Object.assign({},d)};if(e.add(n[2],0,[["enter",f,t]]),r!==2){const m=t.events[n[2]],h=t.events[n[3]];if(m[1].end=Object.assign({},h[1].end),m[1].type="chunkText",m[1].contentType="text",n[3]>n[2]+1){const g=n[2]+1,y=n[3]-n[2]-1;e.add(g,y,[])}}e.add(n[3]+1,0,[["exit",f,t]])}return i!==void 0&&(a.end=Object.assign({},xx(t.events,i)),e.add(i,0,[["exit",a,t]]),a=void 0),a}function $V(e,t,n,r,i){const a=[],o=xx(t.events,n);i&&(i.end=Object.assign({},o),a.push(["exit",i,t])),r.end=Object.assign({},o),a.push(["exit",r,t]),e.add(n+1,0,a)}function xx(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const MLe={name:"tasklistCheck",tokenize:DLe};function ILe(){return{text:{91:MLe}}}function DLe(e,t,n){const r=this;return i;function i(c){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(c):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(c),e.exit("taskListCheckMarker"),a)}function a(c){return mi(c)?(e.enter("taskListCheckValueUnchecked"),e.consume(c),e.exit("taskListCheckValueUnchecked"),o):c===88||c===120?(e.enter("taskListCheckValueChecked"),e.consume(c),e.exit("taskListCheckValueChecked"),o):n(c)}function o(c){return c===93?(e.enter("taskListCheckMarker"),e.consume(c),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),l):n(c)}function l(c){return dn(c)?t(c):ur(c)?e.check({tokenize:RLe},t,n)(c):n(c)}}function RLe(e,t,n){return _r(e,r,"whitespace");function r(i){return i===null?n(i):t(i)}}function $Le(e){return bse([cLe(),yLe(),CLe(e),TLe(),ILe()])}const FLe={};function BLe(e){const t=this,n=e||FLe,r=t.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),a=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),o=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push($Le(n)),a.push(aLe()),o.push(sLe(n))}var zLe=class{constructor(e){Pe(this,"apiKey");Pe(this,"baseUrl");Pe(this,"endpoint");Pe(this,"headers");Pe(this,"questionField");Pe(this,"answerField");this.apiKey=e.apiKey,this.baseUrl=e.baseUrl!==void 0?e.baseUrl:"",this.endpoint=e.endpoint||"/chat",this.headers=e.headers||{},this.questionField=e.questionField||"message",this.answerField=e.answerField||"response"}async sendMessage(e,t=[]){const n={"Content-Type":"application/json",...this.headers};this.apiKey&&(n.Authorization=`Bearer ${this.apiKey}`);const r={[this.questionField]:e,conversationHistory:t.map(o=>({role:o.role,content:o.content}))},i=await fetch(`${this.baseUrl}${this.endpoint}`,{method:"POST",headers:n,credentials:"include",body:JSON.stringify(r)});if(!i.ok){const o=await i.text();throw new Error(`API error: ${i.status} - ${o}`)}const a=await i.json();return{response:a[this.answerField]||a.answer||a.response||a.message||"",data:a.data,source:a.source}}};function VLe(e){const[t,n]=b.useState([]),[r,i]=b.useState(!1),[a,o]=b.useState(null),l=b.useMemo(()=>new zLe(e),[e.apiKey,e.baseUrl,e.endpoint,e.questionField,e.answerField]),c=b.useCallback(async d=>{const f={id:crypto.randomUUID(),role:"user",content:d,createdAt:new Date};let m=[];n(h=>(m=h,[...h,f])),i(!0),o(null);try{const h=[...m,f],g=await l.sendMessage(d,h),y={id:crypto.randomUUID(),role:"assistant",content:g.response,createdAt:new Date};n(v=>[...v,y])}catch(h){const g=h instanceof Error?h:new Error("Unknown error");o(g);const y={id:crypto.randomUUID(),role:"assistant",content:`Lo siento, ocurri un error: ${g.message}`,createdAt:new Date};n(v=>[...v,y])}finally{i(!1)}},[l]),u=b.useCallback(()=>{n([]),o(null)},[]);return{messages:t,sendMessage:c,isLoading:r,error:a,clearMessages:u}}const Un={dark:"#273949",lime:"#b5e951",limeDark:"#9ed43e",darkLight:"#344a5c",darkLighter:"#3d566a"},qLe={table:({children:e})=>s.jsx("div",{className:"my-3 overflow-x-auto rounded-lg",style:{border:`1px solid ${Un.darkLighter}`},children:s.jsx("table",{className:"w-full text-sm",style:{borderCollapse:"collapse"},children:e})}),thead:({children:e})=>s.jsx("thead",{style:{backgroundColor:Un.darkLight},children:e}),th:({children:e})=>s.jsx("th",{className:"px-3 py-2 text-left font-semibold text-xs uppercase tracking-wide",style:{color:Un.lime,borderBottom:`1px solid ${Un.darkLighter}`},children:e}),td:({children:e})=>s.jsx("td",{className:"px-3 py-2",style:{borderBottom:`1px solid ${Un.darkLighter}`,color:"rgba(255,255,255,0.85)"},children:e}),tr:({children:e})=>s.jsx("tr",{className:"transition-colors",style:{backgroundColor:"transparent"},onMouseEnter:t=>t.currentTarget.style.backgroundColor=Un.darkLight+"40",onMouseLeave:t=>t.currentTarget.style.backgroundColor="transparent",children:e}),h1:({children:e})=>s.jsx("h1",{className:"text-lg font-bold mt-4 mb-2",style:{color:Un.lime},children:e}),h2:({children:e})=>s.jsx("h2",{className:"text-base font-bold mt-3 mb-2",style:{color:Un.lime},children:e}),h3:({children:e})=>s.jsx("h3",{className:"text-sm font-semibold mt-3 mb-1",style:{color:Un.lime},children:e}),ul:({children:e})=>s.jsx("ul",{className:"my-2 ml-4 space-y-1",style:{listStyleType:"none"},children:e}),ol:({children:e})=>s.jsx("ol",{className:"my-2 ml-4 space-y-1 list-decimal list-inside",children:e}),li:({children:e})=>s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx("span",{style:{color:Un.lime},children:""}),s.jsx("span",{children:e})]}),code:({inline:e,children:t})=>e?s.jsx("code",{className:"px-1.5 py-0.5 rounded text-xs font-mono",style:{backgroundColor:Un.darkLight,color:Un.lime},children:t}):s.jsx("pre",{className:"my-2 p-3 rounded-lg overflow-x-auto text-xs font-mono",style:{backgroundColor:Un.darkLight},children:s.jsx("code",{style:{color:"rgba(255,255,255,0.9)"},children:t})}),strong:({children:e})=>s.jsx("strong",{className:"font-semibold",style:{color:Un.lime},children:e}),em:({children:e})=>s.jsx("em",{style:{color:"rgba(255,255,255,0.95)"},children:e}),p:({children:e})=>s.jsx("p",{className:"my-1.5 leading-relaxed",children:e}),hr:()=>s.jsx("hr",{className:"my-3",style:{borderColor:Un.darkLighter}}),blockquote:({children:e})=>s.jsx("blockquote",{className:"my-2 pl-3 italic",style:{borderLeft:`3px solid ${Un.lime}`,color:"rgba(255,255,255,0.8)"},children:e})};function ULe(){var j;const e=fh(),{user:t}=ud(),[n,r]=b.useState(!1),[i,a]=b.useState(""),o=b.useRef(null),l=b.useRef(null),c=b.useRef(null),u=b.useRef(0),d=b.useMemo(()=>({baseUrl:"",endpoint:"/api/ask",questionField:"question",answerField:"answer",headers:e?{Authorization:`Bearer ${e}`}:void 0}),[e]),{messages:f,sendMessage:m,isLoading:h,clearMessages:g}=VLe(d),y=((j=t==null?void 0:t.name)==null?void 0:j.split(" ")[0])||"Usuario";b.useEffect(()=>{const _=k=>{(k.metaKey||k.ctrlKey)&&k.key==="k"&&(k.preventDefault(),r(P=>!P)),k.key==="Escape"&&n&&r(!1)},S=()=>r(!0);return document.addEventListener("keydown",_),window.addEventListener("open-econova",S),()=>{document.removeEventListener("keydown",_),window.removeEventListener("open-econova",S)}},[n]),b.useEffect(()=>{const _=f.length,S=u.current;if(_>S&&_>0){const k=f[_-1];k.role==="assistant"&&c.current?c.current.scrollIntoView({behavior:"smooth",block:"start"}):k.role==="user"&&o.current&&(o.current.scrollTop=o.current.scrollHeight)}u.current=_},[f]),b.useEffect(()=>{n&&l.current&&setTimeout(()=>{var _;return(_=l.current)==null?void 0:_.focus()},100)},[n]);const v=_=>{a(_.target.value),_.target.style.height="auto",_.target.style.height=Math.min(_.target.scrollHeight,150)+"px"},x=b.useCallback(async _=>{if(_==null||_.preventDefault(),!i.trim()||h)return;const S=i.trim();a(""),l.current&&(l.current.style.height="auto"),await m(S)},[i,h,m]),w=_=>{_.key==="Enter"&&!_.shiftKey&&(_.preventDefault(),x())};return s.jsxs(s.Fragment,{children:[s.jsx(iL,{children:!n&&s.jsxs(bs.button,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>r(!0),className:"fixed bottom-5 right-5 z-50 flex items-center gap-2.5 px-5 py-3 rounded-full text-sm font-medium transition-all",style:{backgroundColor:Un.dark,color:"#ffffff",boxShadow:`0 4px 20px ${Un.dark}50`},children:[s.jsx("div",{className:"w-5 h-5 rounded-full flex items-center justify-center text-[10px] font-bold",style:{backgroundColor:Un.lime,color:Un.dark},children:"N"}),s.jsx("span",{children:"NovaAI"}),s.jsx("kbd",{className:"ml-1 px-1.5 py-0.5 text-[10px] font-mono rounded",style:{backgroundColor:Un.darkLight,color:"rgba(255,255,255,0.7)"},children:"K"})]})}),s.jsx(iL,{children:n&&s.jsx(bs.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>r(!1),className:"fixed inset-0 z-50 flex items-start justify-center pt-[8vh] px-4",style:{backgroundColor:"rgba(0, 0, 0, 0.5)",backdropFilter:"blur(8px)"},children:s.jsxs(bs.div,{initial:{opacity:0,y:-20,scale:.98},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-20,scale:.98},transition:{type:"spring",damping:30,stiffness:400},onClick:_=>_.stopPropagation(),className:"w-full max-w-[580px] flex flex-col overflow-hidden",style:{backgroundColor:Un.dark,borderRadius:"20px",boxShadow:"0 25px 60px -12px rgba(0, 0, 0, 0.5)",maxHeight:"75vh"},children:[s.jsxs("div",{className:"flex items-center justify-between px-5 py-4",style:{borderBottom:`1px solid ${Un.darkLight}`},children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-xl flex items-center justify-center text-sm font-bold",style:{backgroundColor:Un.lime,color:Un.dark},children:"N"}),s.jsxs("div",{children:[s.jsx("span",{className:"font-semibold text-white text-sm",children:"NovaAI"}),s.jsxs("div",{className:"flex items-center gap-1.5 mt-0.5",children:[s.jsx("div",{className:"w-1.5 h-1.5 rounded-full animate-pulse",style:{backgroundColor:Un.lime}}),s.jsx("span",{className:"text-[11px]",style:{color:"rgba(255,255,255,0.5)"},children:"Online"})]})]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[f.length>0&&s.jsx("button",{onClick:g,className:"p-2 rounded-lg transition-colors",style:{color:"rgba(255,255,255,0.5)"},onMouseEnter:_=>{_.currentTarget.style.backgroundColor=Un.darkLight,_.currentTarget.style.color="rgba(255,255,255,0.8)"},onMouseLeave:_=>{_.currentTarget.style.backgroundColor="transparent",_.currentTarget.style.color="rgba(255,255,255,0.5)"},title:"Nueva conversacin",children:s.jsx(die,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>r(!1),className:"p-2 rounded-lg transition-colors",style:{color:"rgba(255,255,255,0.5)"},onMouseEnter:_=>{_.currentTarget.style.backgroundColor=Un.darkLight,_.currentTarget.style.color="rgba(255,255,255,0.8)"},onMouseLeave:_=>{_.currentTarget.style.backgroundColor="transparent",_.currentTarget.style.color="rgba(255,255,255,0.5)"},children:s.jsx(Ra,{className:"h-4 w-4"})})]})]}),s.jsx("div",{ref:o,className:"flex-1 overflow-y-auto",style:{minHeight:"250px",maxHeight:"calc(75vh - 160px)"},children:f.length===0?s.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center px-8 py-16",children:[s.jsxs("h2",{className:"text-2xl font-bold text-white mb-3",children:["Hola, ",y,"! "]}),s.jsxs("p",{className:"text-sm leading-relaxed max-w-xs",style:{color:"rgba(255,255,255,0.6)"},children:["Soy ",s.jsx("span",{className:"font-semibold",style:{color:Un.lime},children:"NovaAI"}),", tu asistente inteligente. Pregntame lo que necesites."]})]}):s.jsxs("div",{className:"p-5 space-y-5",children:[f.map((_,S)=>{const k=_.role==="assistant"&&S===f.length-1,P=_.role==="user";return s.jsx(bs.div,{ref:k?c:void 0,initial:{opacity:0,y:8},animate:{opacity:1,y:0},className:P?"flex justify-end":"",children:P?s.jsx("div",{className:"max-w-[85%] px-4 py-3 rounded-2xl rounded-br-md text-sm",style:{backgroundColor:Un.lime,color:Un.dark},children:_.content}):s.jsx("div",{className:"text-sm leading-relaxed nova-markdown",style:{color:"rgba(255,255,255,0.9)"},children:s.jsx(COe,{remarkPlugins:[BLe],components:qLe,children:_.content})})},_.id)}),h&&s.jsxs(bs.div,{initial:{opacity:0},animate:{opacity:1},className:"flex items-center gap-2",style:{color:"rgba(255,255,255,0.5)"},children:[s.jsx(sr,{className:"h-4 w-4 animate-spin",style:{color:Un.lime}}),s.jsx("span",{className:"text-sm",children:"Pensando..."})]})]})}),s.jsxs("div",{className:"p-4",style:{borderTop:`1px solid ${Un.darkLight}`},children:[s.jsxs("form",{onSubmit:x,className:"relative",children:[s.jsx("textarea",{ref:l,value:i,onChange:v,onKeyDown:w,placeholder:"Escribe tu pregunta...",rows:1,disabled:h,className:"w-full resize-none rounded-xl px-4 py-3 pr-14 text-sm focus:outline-none transition-all",style:{backgroundColor:Un.darkLight,border:`1px solid ${Un.darkLighter}`,color:"#ffffff"},onFocus:_=>_.currentTarget.style.borderColor=Un.lime,onBlur:_=>_.currentTarget.style.borderColor=Un.darkLighter}),s.jsx("button",{type:"submit",disabled:!i.trim()||h,className:"absolute right-2 bottom-2 p-2.5 rounded-lg transition-all disabled:opacity-30 disabled:cursor-not-allowed",style:{backgroundColor:Un.lime,color:Un.dark},onMouseEnter:_=>{_.currentTarget.disabled||(_.currentTarget.style.backgroundColor=Un.limeDark)},onMouseLeave:_=>{_.currentTarget.style.backgroundColor=Un.lime},children:s.jsx(rie,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"flex items-center justify-center gap-4 mt-3 text-[11px]",style:{color:"rgba(255,255,255,0.4)"},children:[s.jsxs("span",{className:"flex items-center gap-1.5",children:[s.jsx("kbd",{className:"px-1.5 py-0.5 rounded text-[10px] font-mono",style:{backgroundColor:Un.darkLight},children:""}),"enviar"]}),s.jsx("span",{style:{color:"rgba(255,255,255,0.2)"},children:""}),s.jsxs("span",{className:"flex items-center gap-1.5",children:[s.jsx("kbd",{className:"px-1.5 py-0.5 rounded text-[10px] font-mono",style:{backgroundColor:Un.darkLight},children:"esc"}),"cerrar"]})]})]})]})})})]})}var WLe=wh[" useId ".trim().toString()]||(()=>{}),HLe=0;function oc(e){const[t,n]=b.useState(WLe());return ja(()=>{n(r=>r??String(HLe++))},[e]),t?`radix-${t}`:""}var cE="Collapsible",[KLe]=Xo(cE),[GLe,HR]=KLe(cE),doe=b.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:r,defaultOpen:i,disabled:a,onOpenChange:o,...l}=e,[c,u]=nd({prop:r,defaultProp:i??!1,onChange:o,caller:cE});return s.jsx(GLe,{scope:n,disabled:a,contentId:oc(),open:c,onOpenToggle:b.useCallback(()=>u(d=>!d),[u]),children:s.jsx(sn.div,{"data-state":GR(c),"data-disabled":a?"":void 0,...l,ref:t})})});doe.displayName=cE;var foe="CollapsibleTrigger",hoe=b.forwardRef((e,t)=>{const{__scopeCollapsible:n,...r}=e,i=HR(foe,n);return s.jsx(sn.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":GR(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...r,ref:t,onClick:_t(e.onClick,i.onOpenToggle)})});hoe.displayName=foe;var KR="CollapsibleContent",moe=b.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=HR(KR,e.__scopeCollapsible);return s.jsx(_s,{present:n||i.open,children:({present:a})=>s.jsx(YLe,{...r,ref:t,present:a})})});moe.displayName=KR;var YLe=b.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:r,children:i,...a}=e,o=HR(KR,n),[l,c]=b.useState(r),u=b.useRef(null),d=Fn(t,u),f=b.useRef(0),m=f.current,h=b.useRef(0),g=h.current,y=o.open||l,v=b.useRef(y),x=b.useRef(void 0);return b.useEffect(()=>{const w=requestAnimationFrame(()=>v.current=!1);return()=>cancelAnimationFrame(w)},[]),ja(()=>{const w=u.current;if(w){x.current=x.current||{transitionDuration:w.style.transitionDuration,animationName:w.style.animationName},w.style.transitionDuration="0s",w.style.animationName="none";const j=w.getBoundingClientRect();f.current=j.height,h.current=j.width,v.current||(w.style.transitionDuration=x.current.transitionDuration,w.style.animationName=x.current.animationName),c(r)}},[o.open,r]),s.jsx(sn.div,{"data-state":GR(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!y,...a,ref:d,style:{"--radix-collapsible-content-height":m?`${m}px`:void 0,"--radix-collapsible-content-width":g?`${g}px`:void 0,...e.style},children:y&&i})});function GR(e){return e?"open":"closed"}var XLe=doe;const LL=XLe,ML=hoe,IL=moe,Ad=({href:e,icon:t,children:n,className:r,active:i,onClick:a,indent:o=!1})=>{const[,l]=Yo(),c=()=>{l(e),a&&a()};return s.jsxs("div",{onClick:c,className:Fe("flex items-center gap-2 px-3 py-2 text-sm rounded-md cursor-pointer transition-all duration-150",o&&"ml-4",i?"bg-primary/10 text-primary font-medium":"text-muted-foreground hover:bg-muted hover:text-foreground",r),children:[t,s.jsx("span",{children:n})]})};function FV(){const[e]=Yo(),{user:t,isAdmin:n,hasLogisticsAccess:r,logout:i}=ud(),[a,o]=b.useState(!1),[l,c]=b.useState(()=>{const v=localStorage.getItem("selectedCompanyId");return v?Number(v):1}),[u,d]=b.useState(e==="/treasury"||e.startsWith("/treasury/")),[f,m]=b.useState(e==="/sales"||e.startsWith("/sales/"));b.useEffect(()=>{(e==="/treasury"||e.startsWith("/treasury/"))&&d(!0),(e==="/sales"||e.startsWith("/sales/"))&&m(!0)},[e]);const h=()=>{o(!a)},g=()=>{i()},y=()=>{a&&o(!1)};return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"lg:hidden fixed top-3 left-3 z-[1000]",children:s.jsx(Oe,{variant:"ghost",size:"icon",className:"h-9 w-9 bg-background border shadow-sm",onClick:h,children:s.jsx(i_e,{className:"h-5 w-5"})})}),s.jsxs("aside",{className:Fe("flex flex-col w-60 bg-background border-r border-border z-[1001] h-screen transition-transform duration-200",a?"fixed inset-y-0 left-0 translate-x-0":"fixed inset-y-0 left-0 -translate-x-full lg:translate-x-0"),children:[a&&s.jsx(Oe,{variant:"ghost",size:"icon",className:"absolute top-3 right-3 h-8 w-8 lg:hidden",onClick:y,children:s.jsx(Ra,{className:"h-4 w-4"})}),s.jsxs("div",{className:"p-3 border-b border-border",children:[s.jsxs("button",{onClick:()=>window.dispatchEvent(new CustomEvent("open-econova")),className:"w-full flex items-center gap-3 px-3 py-2.5 text-sm text-muted-foreground rounded-md border border-border/50 bg-muted/30 hover:bg-muted hover:text-foreground transition-all",children:[s.jsx(GC,{className:"h-4 w-4"}),s.jsx("span",{className:"flex-1 text-left",children:"Buscar..."}),s.jsxs("kbd",{className:"hidden sm:inline-flex h-5 items-center gap-1 rounded border bg-background px-1.5 font-mono text-[10px] font-medium text-muted-foreground",children:[s.jsx("span",{className:"text-xs",children:""}),"K"]})]}),s.jsxs("p",{className:"text-[11px] text-muted-foreground/70 mt-2 px-1 flex items-center gap-1",children:[s.jsx(cf,{className:"h-3 w-3"}),"Pregunta lo que quieras sobre tus datos"]})]}),s.jsx("div",{className:"px-3 py-3 border-b border-border",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-[11px] uppercase tracking-wider text-muted-foreground/70 font-semibold px-1",children:"Empresa"}),s.jsxs("div",{className:"flex gap-1.5 p-1 rounded-lg bg-muted/30 border border-border/60",children:[s.jsx("button",{onClick:()=>{localStorage.setItem("selectedCompanyId",String(1)),c(1),window.dispatchEvent(new CustomEvent("companyChanged",{detail:{companyId:1}}))},className:Fe("flex-1 px-3 py-2 rounded-md text-xs font-semibold transition-all",l===1?"bg-emerald-500 text-white shadow-sm":"text-muted-foreground hover:text-foreground hover:bg-muted/50"),children:"DURA"}),s.jsx("button",{onClick:()=>{localStorage.setItem("selectedCompanyId",String(2)),c(2),window.dispatchEvent(new CustomEvent("companyChanged",{detail:{companyId:2}}))},className:Fe("flex-1 px-3 py-2 rounded-md text-xs font-semibold transition-all",l===2?"bg-purple-500 text-white shadow-sm":"text-muted-foreground hover:text-foreground hover:bg-muted/50"),children:"ORSEGA"})]})]})}),s.jsxs("nav",{className:"flex-1 px-2 py-3 space-y-1 overflow-y-auto",children:[s.jsx("p",{className:"px-3 py-2 text-[11px] uppercase tracking-wider text-muted-foreground/70 font-semibold",children:"Principal"}),s.jsx(Ad,{href:"/",icon:s.jsx(t_e,{className:"h-4 w-4"}),active:e==="/",onClick:y,children:"Dashboard"}),s.jsxs(LL,{open:f,onOpenChange:m,children:[s.jsx(ML,{asChild:!0,children:s.jsxs("div",{className:Fe("flex items-center justify-between px-3 py-2 text-sm rounded-md cursor-pointer transition-all duration-150",e.startsWith("/sales")?"bg-primary/10 text-primary font-medium":"text-muted-foreground hover:bg-muted hover:text-foreground"),children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(i5,{className:"h-4 w-4"}),s.jsx("span",{children:"Ventas"})]}),f?s.jsx(iv,{className:"h-4 w-4"}):s.jsx(Iy,{className:"h-4 w-4"})]})}),s.jsxs(IL,{className:"space-y-1 mt-1",children:[s.jsx(Ad,{href:"/sales/dura",icon:s.jsx(Dw,{className:Fe("h-4 w-4",e==="/sales/dura"&&"text-green-500")}),active:e==="/sales/dura",onClick:y,indent:!0,className:e==="/sales/dura"?"!bg-green-500/10 !text-green-600":"",children:"DURA International"}),s.jsx(Ad,{href:"/sales/orsega",icon:s.jsx(Dw,{className:Fe("h-4 w-4",e==="/sales/orsega"&&"text-purple-500")}),active:e==="/sales/orsega",onClick:y,indent:!0,className:e==="/sales/orsega"?"!bg-purple-500/10 !text-purple-600":"",children:"Grupo ORSEGA"})]})]}),s.jsxs(LL,{open:u,onOpenChange:d,children:[s.jsx(ML,{asChild:!0,children:s.jsxs("div",{className:Fe("flex items-center justify-between px-3 py-2 text-sm rounded-md cursor-pointer transition-all duration-150",e.startsWith("/treasury")?"bg-primary/10 text-primary font-medium":"text-muted-foreground hover:bg-muted hover:text-foreground"),children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(h_e,{className:"h-4 w-4"}),s.jsx("span",{children:"Tesorera"})]}),u?s.jsx(iv,{className:"h-4 w-4"}):s.jsx(Iy,{className:"h-4 w-4"})]})}),s.jsxs(IL,{className:"space-y-1 mt-1",children:[s.jsx(Ad,{href:"/treasury/vouchers",icon:s.jsx(U6,{className:"h-4 w-4"}),active:e==="/treasury/vouchers"||e==="/treasury",onClick:y,indent:!0,children:"Comprobantes"}),s.jsx(Ad,{href:"/treasury/exchange-rates",icon:s.jsx(kh,{className:"h-4 w-4"}),active:e==="/treasury/exchange-rates",onClick:y,indent:!0,children:"Tipos de Cambio"})]})]}),r&&s.jsx(Ad,{href:"/logistics",icon:s.jsx(qo,{className:"h-4 w-4"}),active:e==="/logistics"||e.includes("/logistics/"),onClick:y,children:"Logstica"}),s.jsx(Ad,{href:"/kpi-control",icon:s.jsx(Pr,{className:"h-4 w-4"}),active:e==="/kpi-control",onClick:y,children:"Centro de Control"}),n&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"my-3 border-t border-border"}),s.jsx("p",{className:"px-3 py-2 text-[11px] uppercase tracking-wider text-muted-foreground/70 font-semibold",children:"Ejecutivo"}),s.jsx(Ad,{href:"/trends-analysis",icon:s.jsx(Ua,{className:"h-4 w-4"}),active:e==="/trends-analysis",onClick:y,children:"Anlisis de Tendencias"}),s.jsx(Ad,{href:"/team-management",icon:s.jsx(Fi,{className:"h-4 w-4"}),active:e==="/team-management",onClick:y,children:"Gestin del Equipo"}),s.jsx("div",{className:"my-3 border-t border-border"}),s.jsx("p",{className:"px-3 py-2 text-[11px] uppercase tracking-wider text-muted-foreground/70 font-semibold",children:"Sistema"}),s.jsx(Ad,{href:"/system-admin",icon:s.jsx(r5,{className:"h-4 w-4"}),active:e==="/system-admin",onClick:y,children:"Administracin"})]})]}),s.jsx("div",{className:"p-3 border-t border-border",children:s.jsxs("button",{onClick:g,className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-muted-foreground rounded-md hover:bg-red-500/10 hover:text-red-600 transition-all",children:[s.jsx(cie,{className:"h-4 w-4"}),s.jsx("span",{children:"Cerrar sesin"})]})})]}),a&&s.jsx("div",{className:"fixed inset-0 bg-black/50 z-[1000] lg:hidden",onClick:h})]})}var ZLe=b.createContext(void 0);function _j(e){const t=b.useContext(ZLe);return e||t||"ltr"}var HT=0;function uE(){b.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??BV()),document.body.insertAdjacentElement("beforeend",e[1]??BV()),HT++,()=>{HT===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),HT--}},[])}function BV(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var KT="focusScope.autoFocusOnMount",GT="focusScope.autoFocusOnUnmount",zV={bubbles:!1,cancelable:!0},QLe="FocusScope",Sj=b.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...o}=e,[l,c]=b.useState(null),u=wa(i),d=wa(a),f=b.useRef(null),m=Fn(t,y=>c(y)),h=b.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;b.useEffect(()=>{if(r){let y=function(j){if(h.paused||!l)return;const _=j.target;l.contains(_)?f.current=_:jm(f.current,{select:!0})},v=function(j){if(h.paused||!l)return;const _=j.relatedTarget;_!==null&&(l.contains(_)||jm(f.current,{select:!0}))},x=function(j){if(document.activeElement===document.body)for(const S of j)S.removedNodes.length>0&&jm(l)};document.addEventListener("focusin",y),document.addEventListener("focusout",v);const w=new MutationObserver(x);return l&&w.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",v),w.disconnect()}}},[r,l,h.paused]),b.useEffect(()=>{if(l){qV.add(h);const y=document.activeElement;if(!l.contains(y)){const x=new CustomEvent(KT,zV);l.addEventListener(KT,u),l.dispatchEvent(x),x.defaultPrevented||(JLe(iMe(poe(l)),{select:!0}),document.activeElement===y&&jm(l))}return()=>{l.removeEventListener(KT,u),setTimeout(()=>{const x=new CustomEvent(GT,zV);l.addEventListener(GT,d),l.dispatchEvent(x),x.defaultPrevented||jm(y??document.body,{select:!0}),l.removeEventListener(GT,d),qV.remove(h)},0)}}},[l,u,d,h]);const g=b.useCallback(y=>{if(!n&&!r||h.paused)return;const v=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,x=document.activeElement;if(v&&x){const w=y.currentTarget,[j,_]=eMe(w);j&&_?!y.shiftKey&&x===_?(y.preventDefault(),n&&jm(j,{select:!0})):y.shiftKey&&x===j&&(y.preventDefault(),n&&jm(_,{select:!0})):x===w&&y.preventDefault()}},[n,r,h.paused]);return s.jsx(sn.div,{tabIndex:-1,...o,ref:m,onKeyDown:g})});Sj.displayName=QLe;function JLe(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(jm(r,{select:t}),document.activeElement!==n)return}function eMe(e){const t=poe(e),n=VV(t,e),r=VV(t.reverse(),e);return[n,r]}function poe(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function VV(e,t){for(const n of e)if(!tMe(n,{upTo:t}))return n}function tMe(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function nMe(e){return e instanceof HTMLInputElement&&"select"in e}function jm(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&nMe(e)&&t&&e.select()}}var qV=rMe();function rMe(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=UV(e,t),e.unshift(t)},remove(t){var n;e=UV(e,t),(n=e[0])==null||n.resume()}}}function UV(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function iMe(e){return e.filter(t=>t.tagName!=="A")}const aMe=["top","right","bottom","left"],Eh=Math.min,oo=Math.max,Hw=Math.round,ZN=Math.floor,nf=e=>({x:e,y:e}),sMe={left:"right",right:"left",bottom:"top",top:"bottom"},oMe={start:"end",end:"start"};function DL(e,t,n){return oo(e,Eh(t,n))}function uf(e,t){return typeof e=="function"?e(t):e}function Ph(e){return e.split("-")[0]}function R0(e){return e.split("-")[1]}function YR(e){return e==="x"?"y":"x"}function XR(e){return e==="y"?"height":"width"}const lMe=new Set(["top","bottom"]);function Vd(e){return lMe.has(Ph(e))?"y":"x"}function ZR(e){return YR(Vd(e))}function cMe(e,t,n){n===void 0&&(n=!1);const r=R0(e),i=ZR(e),a=XR(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(o=x5(o)),[o,x5(o)]}function uMe(e){const t=x5(e);return[RL(e),t,RL(t)]}function RL(e){return e.replace(/start|end/g,t=>oMe[t])}const WV=["left","right"],HV=["right","left"],dMe=["top","bottom"],fMe=["bottom","top"];function hMe(e,t,n){switch(e){case"top":case"bottom":return n?t?HV:WV:t?WV:HV;case"left":case"right":return t?dMe:fMe;default:return[]}}function mMe(e,t,n,r){const i=R0(e);let a=hMe(Ph(e),n==="start",r);return i&&(a=a.map(o=>o+"-"+i),t&&(a=a.concat(a.map(RL)))),a}function x5(e){return e.replace(/left|right|bottom|top/g,t=>sMe[t])}function pMe(e){return{top:0,right:0,bottom:0,left:0,...e}}function goe(e){return typeof e!="number"?pMe(e):{top:e,right:e,bottom:e,left:e}}function y5(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function KV(e,t,n){let{reference:r,floating:i}=e;const a=Vd(t),o=ZR(t),l=XR(o),c=Ph(t),u=a==="y",d=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,m=r[l]/2-i[l]/2;let h;switch(c){case"top":h={x:d,y:r.y-i.height};break;case"bottom":h={x:d,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:f};break;case"left":h={x:r.x-i.width,y:f};break;default:h={x:r.x,y:r.y}}switch(R0(t)){case"start":h[o]-=m*(n&&u?-1:1);break;case"end":h[o]+=m*(n&&u?-1:1);break}return h}const gMe=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:o}=n,l=a.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:d,y:f}=KV(u,r,c),m=r,h={},g=0;for(let y=0;y<l.length;y++){const{name:v,fn:x}=l[y],{x:w,y:j,data:_,reset:S}=await x({x:d,y:f,initialPlacement:r,placement:m,strategy:i,middlewareData:h,rects:u,platform:o,elements:{reference:e,floating:t}});d=w??d,f=j??f,h={...h,[v]:{...h[v],..._}},S&&g<=50&&(g++,typeof S=="object"&&(S.placement&&(m=S.placement),S.rects&&(u=S.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:i}):S.rects),{x:d,y:f}=KV(u,m,c)),y=-1)}return{x:d,y:f,placement:m,strategy:i,middlewareData:h}};async function zy(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:a,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:m=!1,padding:h=0}=uf(t,e),g=goe(h),v=l[m?f==="floating"?"reference":"floating":f],x=y5(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(v)))==null||n?v:v.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),w=f==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,j=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),_=await(a.isElement==null?void 0:a.isElement(j))?await(a.getScale==null?void 0:a.getScale(j))||{x:1,y:1}:{x:1,y:1},S=y5(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:w,offsetParent:j,strategy:c}):w);return{top:(x.top-S.top+g.top)/_.y,bottom:(S.bottom-x.bottom+g.bottom)/_.y,left:(x.left-S.left+g.left)/_.x,right:(S.right-x.right+g.right)/_.x}}const vMe=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:a,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=uf(e,t)||{};if(u==null)return{};const f=goe(d),m={x:n,y:r},h=ZR(i),g=XR(h),y=await o.getDimensions(u),v=h==="y",x=v?"top":"left",w=v?"bottom":"right",j=v?"clientHeight":"clientWidth",_=a.reference[g]+a.reference[h]-m[h]-a.floating[g],S=m[h]-a.reference[h],k=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let P=k?k[j]:0;(!P||!await(o.isElement==null?void 0:o.isElement(k)))&&(P=l.floating[j]||a.floating[g]);const M=_/2-S/2,T=P/2-y[g]/2-1,R=Eh(f[x],T),D=Eh(f[w],T),I=R,B=P-y[g]-D,$=P/2-y[g]/2+M,K=DL(I,$,B),Y=!c.arrow&&R0(i)!=null&&$!==K&&a.reference[g]/2-($<I?R:D)-y[g]/2<0,Q=Y?$<I?$-I:$-B:0;return{[h]:m[h]+Q,data:{[h]:K,centerOffset:$-K-Q,...Y&&{alignmentOffset:Q}},reset:Y}}}),xMe=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:a,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:y=!0,...v}=uf(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const x=Ph(i),w=Vd(l),j=Ph(l)===l,_=await(c.isRTL==null?void 0:c.isRTL(u.floating)),S=m||(j||!y?[x5(l)]:uMe(l)),k=g!=="none";!m&&k&&S.push(...mMe(l,y,g,_));const P=[l,...S],M=await zy(t,v),T=[];let R=((r=a.flip)==null?void 0:r.overflows)||[];if(d&&T.push(M[x]),f){const $=cMe(i,o,_);T.push(M[$[0]],M[$[1]])}if(R=[...R,{placement:i,overflows:T}],!T.every($=>$<=0)){var D,I;const $=(((D=a.flip)==null?void 0:D.index)||0)+1,K=P[$];if(K&&(!(f==="alignment"?w!==Vd(K):!1)||R.every(H=>Vd(H.placement)===w?H.overflows[0]>0:!0)))return{data:{index:$,overflows:R},reset:{placement:K}};let Y=(I=R.filter(Q=>Q.overflows[0]<=0).sort((Q,H)=>Q.overflows[1]-H.overflows[1])[0])==null?void 0:I.placement;if(!Y)switch(h){case"bestFit":{var B;const Q=(B=R.filter(H=>{if(k){const G=Vd(H.placement);return G===w||G==="y"}return!0}).map(H=>[H.placement,H.overflows.filter(G=>G>0).reduce((G,U)=>G+U,0)]).sort((H,G)=>H[1]-G[1])[0])==null?void 0:B[0];Q&&(Y=Q);break}case"initialPlacement":Y=l;break}if(i!==Y)return{reset:{placement:Y}}}return{}}}};function GV(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function YV(e){return aMe.some(t=>e[t]>=0)}const yMe=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...i}=uf(e,t);switch(r){case"referenceHidden":{const a=await zy(t,{...i,elementContext:"reference"}),o=GV(a,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:YV(o)}}}case"escaped":{const a=await zy(t,{...i,altBoundary:!0}),o=GV(a,n.floating);return{data:{escapedOffsets:o,escaped:YV(o)}}}default:return{}}}}},voe=new Set(["left","top"]);async function bMe(e,t){const{placement:n,platform:r,elements:i}=e,a=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Ph(n),l=R0(n),c=Vd(n)==="y",u=voe.has(o)?-1:1,d=a&&c?-1:1,f=uf(t,e);let{mainAxis:m,crossAxis:h,alignmentAxis:g}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof g=="number"&&(h=l==="end"?g*-1:g),c?{x:h*d,y:m*u}:{x:m*u,y:h*d}}const wMe=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:a,placement:o,middlewareData:l}=t,c=await bMe(t,e);return o===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:i+c.x,y:a+c.y,data:{...c,placement:o}}}}},jMe=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:a=!0,crossAxis:o=!1,limiter:l={fn:v=>{let{x,y:w}=v;return{x,y:w}}},...c}=uf(e,t),u={x:n,y:r},d=await zy(t,c),f=Vd(Ph(i)),m=YR(f);let h=u[m],g=u[f];if(a){const v=m==="y"?"top":"left",x=m==="y"?"bottom":"right",w=h+d[v],j=h-d[x];h=DL(w,h,j)}if(o){const v=f==="y"?"top":"left",x=f==="y"?"bottom":"right",w=g+d[v],j=g-d[x];g=DL(w,g,j)}const y=l.fn({...t,[m]:h,[f]:g});return{...y,data:{x:y.x-n,y:y.y-r,enabled:{[m]:a,[f]:o}}}}}},NMe=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:a,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=uf(e,t),d={x:n,y:r},f=Vd(i),m=YR(f);let h=d[m],g=d[f];const y=uf(l,t),v=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(c){const j=m==="y"?"height":"width",_=a.reference[m]-a.floating[j]+v.mainAxis,S=a.reference[m]+a.reference[j]-v.mainAxis;h<_?h=_:h>S&&(h=S)}if(u){var x,w;const j=m==="y"?"width":"height",_=voe.has(Ph(i)),S=a.reference[f]-a.floating[j]+(_&&((x=o.offset)==null?void 0:x[f])||0)+(_?0:v.crossAxis),k=a.reference[f]+a.reference[j]+(_?0:((w=o.offset)==null?void 0:w[f])||0)-(_?v.crossAxis:0);g<S?g=S:g>k&&(g=k)}return{[m]:h,[f]:g}}}},_Me=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:a,platform:o,elements:l}=t,{apply:c=()=>{},...u}=uf(e,t),d=await zy(t,u),f=Ph(i),m=R0(i),h=Vd(i)==="y",{width:g,height:y}=a.floating;let v,x;f==="top"||f==="bottom"?(v=f,x=m===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(x=f,v=m==="end"?"top":"bottom");const w=y-d.top-d.bottom,j=g-d.left-d.right,_=Eh(y-d[v],w),S=Eh(g-d[x],j),k=!t.middlewareData.shift;let P=_,M=S;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(M=j),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(P=w),k&&!m){const R=oo(d.left,0),D=oo(d.right,0),I=oo(d.top,0),B=oo(d.bottom,0);h?M=g-2*(R!==0||D!==0?R+D:oo(d.left,d.right)):P=y-2*(I!==0||B!==0?I+B:oo(d.top,d.bottom))}await c({...t,availableWidth:M,availableHeight:P});const T=await o.getDimensions(l.floating);return g!==T.width||y!==T.height?{reset:{rects:!0}}:{}}}};function dE(){return typeof window<"u"}function $0(e){return xoe(e)?(e.nodeName||"").toLowerCase():"#document"}function lc(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function wf(e){var t;return(t=(xoe(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function xoe(e){return dE()?e instanceof Node||e instanceof lc(e).Node:!1}function Do(e){return dE()?e instanceof Element||e instanceof lc(e).Element:!1}function df(e){return dE()?e instanceof HTMLElement||e instanceof lc(e).HTMLElement:!1}function XV(e){return!dE()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof lc(e).ShadowRoot}const SMe=new Set(["inline","contents"]);function kj(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=rd(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!SMe.has(i)}const kMe=new Set(["table","td","th"]);function CMe(e){return kMe.has($0(e))}const EMe=[":popover-open",":modal"];function fE(e){return EMe.some(t=>{try{return e.matches(t)}catch{return!1}})}const PMe=["transform","translate","scale","rotate","perspective"],AMe=["transform","translate","scale","rotate","perspective","filter"],TMe=["paint","layout","strict","content"];function QR(e){const t=JR(),n=Do(e)?rd(e):e;return PMe.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||AMe.some(r=>(n.willChange||"").includes(r))||TMe.some(r=>(n.contain||"").includes(r))}function OMe(e){let t=dp(e);for(;df(t)&&!Vy(t);){if(QR(t))return t;if(fE(t))return null;t=dp(t)}return null}function JR(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const LMe=new Set(["html","body","#document"]);function Vy(e){return LMe.has($0(e))}function rd(e){return lc(e).getComputedStyle(e)}function hE(e){return Do(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function dp(e){if($0(e)==="html")return e;const t=e.assignedSlot||e.parentNode||XV(e)&&e.host||wf(e);return XV(t)?t.host:t}function yoe(e){const t=dp(e);return Vy(t)?e.ownerDocument?e.ownerDocument.body:e.body:df(t)&&kj(t)?t:yoe(t)}function ep(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=yoe(e),a=i===((r=e.ownerDocument)==null?void 0:r.body),o=lc(i);if(a){const l=$L(o);return t.concat(o,o.visualViewport||[],kj(i)?i:[],l&&n?ep(l):[])}return t.concat(i,ep(i,[],n))}function $L(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function boe(e){const t=rd(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=df(e),a=i?e.offsetWidth:n,o=i?e.offsetHeight:r,l=Hw(n)!==a||Hw(r)!==o;return l&&(n=a,r=o),{width:n,height:r,$:l}}function e$(e){return Do(e)?e:e.contextElement}function oy(e){const t=e$(e);if(!df(t))return nf(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:a}=boe(t);let o=(a?Hw(n.width):n.width)/r,l=(a?Hw(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const MMe=nf(0);function woe(e){const t=lc(e);return!JR()||!t.visualViewport?MMe:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function IMe(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==lc(e)?!1:t}function sv(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),a=e$(e);let o=nf(1);t&&(r?Do(r)&&(o=oy(r)):o=oy(e));const l=IMe(a,n,r)?woe(a):nf(0);let c=(i.left+l.x)/o.x,u=(i.top+l.y)/o.y,d=i.width/o.x,f=i.height/o.y;if(a){const m=lc(a),h=r&&Do(r)?lc(r):r;let g=m,y=$L(g);for(;y&&r&&h!==g;){const v=oy(y),x=y.getBoundingClientRect(),w=rd(y),j=x.left+(y.clientLeft+parseFloat(w.paddingLeft))*v.x,_=x.top+(y.clientTop+parseFloat(w.paddingTop))*v.y;c*=v.x,u*=v.y,d*=v.x,f*=v.y,c+=j,u+=_,g=lc(y),y=$L(g)}}return y5({width:d,height:f,x:c,y:u})}function mE(e,t){const n=hE(e).scrollLeft;return t?t.left+n:sv(wf(e)).left+n}function joe(e,t){const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-mE(e,n),i=n.top+t.scrollTop;return{x:r,y:i}}function DMe(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const a=i==="fixed",o=wf(r),l=t?fE(t.floating):!1;if(r===o||l&&a)return n;let c={scrollLeft:0,scrollTop:0},u=nf(1);const d=nf(0),f=df(r);if((f||!f&&!a)&&(($0(r)!=="body"||kj(o))&&(c=hE(r)),df(r))){const h=sv(r);u=oy(r),d.x=h.x+r.clientLeft,d.y=h.y+r.clientTop}const m=o&&!f&&!a?joe(o,c):nf(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+m.x,y:n.y*u.y-c.scrollTop*u.y+d.y+m.y}}function RMe(e){return Array.from(e.getClientRects())}function $Me(e){const t=wf(e),n=hE(e),r=e.ownerDocument.body,i=oo(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),a=oo(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+mE(e);const l=-n.scrollTop;return rd(r).direction==="rtl"&&(o+=oo(t.clientWidth,r.clientWidth)-i),{width:i,height:a,x:o,y:l}}const ZV=25;function FMe(e,t){const n=lc(e),r=wf(e),i=n.visualViewport;let a=r.clientWidth,o=r.clientHeight,l=0,c=0;if(i){a=i.width,o=i.height;const d=JR();(!d||d&&t==="fixed")&&(l=i.offsetLeft,c=i.offsetTop)}const u=mE(r);if(u<=0){const d=r.ownerDocument,f=d.body,m=getComputedStyle(f),h=d.compatMode==="CSS1Compat"&&parseFloat(m.marginLeft)+parseFloat(m.marginRight)||0,g=Math.abs(r.clientWidth-f.clientWidth-h);g<=ZV&&(a-=g)}else u<=ZV&&(a+=u);return{width:a,height:o,x:l,y:c}}const BMe=new Set(["absolute","fixed"]);function zMe(e,t){const n=sv(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,a=df(e)?oy(e):nf(1),o=e.clientWidth*a.x,l=e.clientHeight*a.y,c=i*a.x,u=r*a.y;return{width:o,height:l,x:c,y:u}}function QV(e,t,n){let r;if(t==="viewport")r=FMe(e,n);else if(t==="document")r=$Me(wf(e));else if(Do(t))r=zMe(t,n);else{const i=woe(e);r={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return y5(r)}function Noe(e,t){const n=dp(e);return n===t||!Do(n)||Vy(n)?!1:rd(n).position==="fixed"||Noe(n,t)}function VMe(e,t){const n=t.get(e);if(n)return n;let r=ep(e,[],!1).filter(l=>Do(l)&&$0(l)!=="body"),i=null;const a=rd(e).position==="fixed";let o=a?dp(e):e;for(;Do(o)&&!Vy(o);){const l=rd(o),c=QR(o);!c&&l.position==="fixed"&&(i=null),(a?!c&&!i:!c&&l.position==="static"&&!!i&&BMe.has(i.position)||kj(o)&&!c&&Noe(e,o))?r=r.filter(d=>d!==o):i=l,o=dp(o)}return t.set(e,r),r}function qMe(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const o=[...n==="clippingAncestors"?fE(t)?[]:VMe(t,this._c):[].concat(n),r],l=o[0],c=o.reduce((u,d)=>{const f=QV(t,d,i);return u.top=oo(f.top,u.top),u.right=Eh(f.right,u.right),u.bottom=Eh(f.bottom,u.bottom),u.left=oo(f.left,u.left),u},QV(t,l,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function UMe(e){const{width:t,height:n}=boe(e);return{width:t,height:n}}function WMe(e,t,n){const r=df(t),i=wf(t),a=n==="fixed",o=sv(e,!0,a,t);let l={scrollLeft:0,scrollTop:0};const c=nf(0);function u(){c.x=mE(i)}if(r||!r&&!a)if(($0(t)!=="body"||kj(i))&&(l=hE(t)),r){const h=sv(t,!0,a,t);c.x=h.x+t.clientLeft,c.y=h.y+t.clientTop}else i&&u();a&&!r&&i&&u();const d=i&&!r&&!a?joe(i,l):nf(0),f=o.left+l.scrollLeft-c.x-d.x,m=o.top+l.scrollTop-c.y-d.y;return{x:f,y:m,width:o.width,height:o.height}}function YT(e){return rd(e).position==="static"}function JV(e,t){if(!df(e)||rd(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return wf(e)===n&&(n=n.ownerDocument.body),n}function _oe(e,t){const n=lc(e);if(fE(e))return n;if(!df(e)){let i=dp(e);for(;i&&!Vy(i);){if(Do(i)&&!YT(i))return i;i=dp(i)}return n}let r=JV(e,t);for(;r&&CMe(r)&&YT(r);)r=JV(r,t);return r&&Vy(r)&&YT(r)&&!QR(r)?n:r||OMe(e)||n}const HMe=async function(e){const t=this.getOffsetParent||_oe,n=this.getDimensions,r=await n(e.floating);return{reference:WMe(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function KMe(e){return rd(e).direction==="rtl"}const GMe={convertOffsetParentRelativeRectToViewportRelativeRect:DMe,getDocumentElement:wf,getClippingRect:qMe,getOffsetParent:_oe,getElementRects:HMe,getClientRects:RMe,getDimensions:UMe,getScale:oy,isElement:Do,isRTL:KMe};function Soe(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function YMe(e,t){let n=null,r;const i=wf(e);function a(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const u=e.getBoundingClientRect(),{left:d,top:f,width:m,height:h}=u;if(l||t(),!m||!h)return;const g=ZN(f),y=ZN(i.clientWidth-(d+m)),v=ZN(i.clientHeight-(f+h)),x=ZN(d),j={rootMargin:-g+"px "+-y+"px "+-v+"px "+-x+"px",threshold:oo(0,Eh(1,c))||1};let _=!0;function S(k){const P=k[0].intersectionRatio;if(P!==c){if(!_)return o();P?o(!1,P):r=setTimeout(()=>{o(!1,1e-7)},1e3)}P===1&&!Soe(u,e.getBoundingClientRect())&&o(),_=!1}try{n=new IntersectionObserver(S,{...j,root:i.ownerDocument})}catch{n=new IntersectionObserver(S,j)}n.observe(e)}return o(!0),a}function t$(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=e$(e),d=i||a?[...u?ep(u):[],...ep(t)]:[];d.forEach(x=>{i&&x.addEventListener("scroll",n,{passive:!0}),a&&x.addEventListener("resize",n)});const f=u&&l?YMe(u,n):null;let m=-1,h=null;o&&(h=new ResizeObserver(x=>{let[w]=x;w&&w.target===u&&h&&(h.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var j;(j=h)==null||j.observe(t)})),n()}),u&&!c&&h.observe(u),h.observe(t));let g,y=c?sv(e):null;c&&v();function v(){const x=sv(e);y&&!Soe(y,x)&&n(),y=x,g=requestAnimationFrame(v)}return n(),()=>{var x;d.forEach(w=>{i&&w.removeEventListener("scroll",n),a&&w.removeEventListener("resize",n)}),f==null||f(),(x=h)==null||x.disconnect(),h=null,c&&cancelAnimationFrame(g)}}const XT=zy,koe=wMe,Coe=jMe,Eoe=xMe,XMe=_Me,ZMe=yMe,eq=vMe,QMe=NMe,Poe=(e,t,n)=>{const r=new Map,i={platform:GMe,...n},a={...i.platform,_c:r};return gMe(e,t,{...i,platform:a})};var JMe=typeof document<"u",eIe=function(){},uS=JMe?b.useLayoutEffect:eIe;function b5(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!b5(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const a=i[r];if(!(a==="_owner"&&e.$$typeof)&&!b5(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function Aoe(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function tq(e,t){const n=Aoe(e);return Math.round(t*n)/n}function ZT(e){const t=b.useRef(e);return uS(()=>{t.current=e}),t}function Toe(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:a,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=b.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[m,h]=b.useState(r);b5(m,r)||h(r);const[g,y]=b.useState(null),[v,x]=b.useState(null),w=b.useCallback(H=>{H!==k.current&&(k.current=H,y(H))},[]),j=b.useCallback(H=>{H!==P.current&&(P.current=H,x(H))},[]),_=a||g,S=o||v,k=b.useRef(null),P=b.useRef(null),M=b.useRef(d),T=c!=null,R=ZT(c),D=ZT(i),I=ZT(u),B=b.useCallback(()=>{if(!k.current||!P.current)return;const H={placement:t,strategy:n,middleware:m};D.current&&(H.platform=D.current),Poe(k.current,P.current,H).then(G=>{const U={...G,isPositioned:I.current!==!1};$.current&&!b5(M.current,U)&&(M.current=U,Er.flushSync(()=>{f(U)}))})},[m,t,n,D,I]);uS(()=>{u===!1&&M.current.isPositioned&&(M.current.isPositioned=!1,f(H=>({...H,isPositioned:!1})))},[u]);const $=b.useRef(!1);uS(()=>($.current=!0,()=>{$.current=!1}),[]),uS(()=>{if(_&&(k.current=_),S&&(P.current=S),_&&S){if(R.current)return R.current(_,S,B);B()}},[_,S,B,R,T]);const K=b.useMemo(()=>({reference:k,floating:P,setReference:w,setFloating:j}),[w,j]),Y=b.useMemo(()=>({reference:_,floating:S}),[_,S]),Q=b.useMemo(()=>{const H={position:n,left:0,top:0};if(!Y.floating)return H;const G=tq(Y.floating,d.x),U=tq(Y.floating,d.y);return l?{...H,transform:"translate("+G+"px, "+U+"px)",...Aoe(Y.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:G,top:U}},[n,l,Y.floating,d.x,d.y]);return b.useMemo(()=>({...d,update:B,refs:K,elements:Y,floatingStyles:Q}),[d,B,K,Y,Q])}const tIe=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:i}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?eq({element:r.current,padding:i}).fn(n):{}:r?eq({element:r,padding:i}).fn(n):{}}}},n$=(e,t)=>({...koe(e),options:[e,t]}),Ooe=(e,t)=>({...Coe(e),options:[e,t]}),nIe=(e,t)=>({...QMe(e),options:[e,t]}),Loe=(e,t)=>({...Eoe(e),options:[e,t]}),Moe=(e,t)=>({...XMe(e),options:[e,t]}),rIe=(e,t)=>({...ZMe(e),options:[e,t]}),iIe=(e,t)=>({...tIe(e),options:[e,t]});var aIe="Arrow",Ioe=b.forwardRef((e,t)=>{const{children:n,width:r=10,height:i=5,...a}=e;return s.jsx(sn.svg,{...a,ref:t,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});Ioe.displayName=aIe;var sIe=Ioe;function Doe(e){const[t,n]=b.useState(void 0);return ja(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let o,l;if("borderBoxSize"in a){const c=a.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;n({width:o,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var r$="Popper",[Roe,Ap]=Xo(r$),[oIe,$oe]=Roe(r$),Foe=e=>{const{__scopePopper:t,children:n}=e,[r,i]=b.useState(null);return s.jsx(oIe,{scope:t,anchor:r,onAnchorChange:i,children:n})};Foe.displayName=r$;var Boe="PopperAnchor",zoe=b.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...i}=e,a=$oe(Boe,n),o=b.useRef(null),l=Fn(t,o),c=b.useRef(null);return b.useEffect(()=>{const u=c.current;c.current=(r==null?void 0:r.current)||o.current,u!==c.current&&a.onAnchorChange(c.current)}),r?null:s.jsx(sn.div,{...i,ref:l})});zoe.displayName=Boe;var i$="PopperContent",[lIe,cIe]=Roe(i$),Voe=b.forwardRef((e,t)=>{var oe,ve,ne,xe,ue,re;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:a="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:h="optimized",onPlaced:g,...y}=e,v=$oe(i$,n),[x,w]=b.useState(null),j=Fn(t,Se=>w(Se)),[_,S]=b.useState(null),k=Doe(_),P=(k==null?void 0:k.width)??0,M=(k==null?void 0:k.height)??0,T=r+(a!=="center"?"-"+a:""),R=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},D=Array.isArray(u)?u:[u],I=D.length>0,B={padding:R,boundary:D.filter(dIe),altBoundary:I},{refs:$,floatingStyles:K,placement:Y,isPositioned:Q,middlewareData:H}=Toe({strategy:"fixed",placement:T,whileElementsMounted:(...Se)=>t$(...Se,{animationFrame:h==="always"}),elements:{reference:v.anchor},middleware:[n$({mainAxis:i+M,alignmentAxis:o}),c&&Ooe({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?nIe():void 0,...B}),c&&Loe({...B}),Moe({...B,apply:({elements:Se,rects:ae,availableWidth:X,availableHeight:Ae})=>{const{width:qe,height:tt}=ae.reference,ze=Se.floating.style;ze.setProperty("--radix-popper-available-width",`${X}px`),ze.setProperty("--radix-popper-available-height",`${Ae}px`),ze.setProperty("--radix-popper-anchor-width",`${qe}px`),ze.setProperty("--radix-popper-anchor-height",`${tt}px`)}}),_&&iIe({element:_,padding:l}),fIe({arrowWidth:P,arrowHeight:M}),m&&rIe({strategy:"referenceHidden",...B})]}),[G,U]=Woe(Y),ee=wa(g);ja(()=>{Q&&(ee==null||ee())},[Q,ee]);const z=(oe=H.arrow)==null?void 0:oe.x,F=(ve=H.arrow)==null?void 0:ve.y,ie=((ne=H.arrow)==null?void 0:ne.centerOffset)!==0,[ce,te]=b.useState();return ja(()=>{x&&te(window.getComputedStyle(x).zIndex)},[x]),s.jsx("div",{ref:$.setFloating,"data-radix-popper-content-wrapper":"",style:{...K,transform:Q?K.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ce,"--radix-popper-transform-origin":[(xe=H.transformOrigin)==null?void 0:xe.x,(ue=H.transformOrigin)==null?void 0:ue.y].join(" "),...((re=H.hide)==null?void 0:re.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(lIe,{scope:n,placedSide:G,onArrowChange:S,arrowX:z,arrowY:F,shouldHideArrow:ie,children:s.jsx(sn.div,{"data-side":G,"data-align":U,...y,ref:j,style:{...y.style,animation:Q?void 0:"none"}})})})});Voe.displayName=i$;var qoe="PopperArrow",uIe={top:"bottom",right:"left",bottom:"top",left:"right"},Uoe=b.forwardRef(function(t,n){const{__scopePopper:r,...i}=t,a=cIe(qoe,r),o=uIe[a.placedSide];return s.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:s.jsx(sIe,{...i,ref:n,style:{...i.style,display:"block"}})})});Uoe.displayName=qoe;function dIe(e){return e!==null}var fIe=e=>({name:"transformOrigin",options:e,fn(t){var v,x,w;const{placement:n,rects:r,middlewareData:i}=t,o=((v=i.arrow)==null?void 0:v.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=Woe(n),f={start:"0%",center:"50%",end:"100%"}[d],m=(((x=i.arrow)==null?void 0:x.x)??0)+l/2,h=(((w=i.arrow)==null?void 0:w.y)??0)+c/2;let g="",y="";return u==="bottom"?(g=o?f:`${m}px`,y=`${-c}px`):u==="top"?(g=o?f:`${m}px`,y=`${r.floating.height+c}px`):u==="right"?(g=`${-c}px`,y=o?f:`${h}px`):u==="left"&&(g=`${r.floating.width+c}px`,y=o?f:`${h}px`),{data:{x:g,y}}}});function Woe(e){const[t,n="center"]=e.split("-");return[t,n]}var pE=Foe,Cj=zoe,gE=Voe,vE=Uoe,QT="rovingFocusGroup.onEntryFocus",hIe={bubbles:!1,cancelable:!0},Ej="RovingFocusGroup",[FL,Hoe,mIe]=VC(Ej),[pIe,xE]=Xo(Ej,[mIe]),[gIe,vIe]=pIe(Ej),Koe=b.forwardRef((e,t)=>s.jsx(FL.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(FL.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(xIe,{...e,ref:t})})}));Koe.displayName=Ej;var xIe=b.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,m=b.useRef(null),h=Fn(t,m),g=_j(a),[y,v]=nd({prop:o,defaultProp:l??null,onChange:c,caller:Ej}),[x,w]=b.useState(!1),j=wa(u),_=Hoe(n),S=b.useRef(!1),[k,P]=b.useState(0);return b.useEffect(()=>{const M=m.current;if(M)return M.addEventListener(QT,j),()=>M.removeEventListener(QT,j)},[j]),s.jsx(gIe,{scope:n,orientation:r,dir:g,loop:i,currentTabStopId:y,onItemFocus:b.useCallback(M=>v(M),[v]),onItemShiftTab:b.useCallback(()=>w(!0),[]),onFocusableItemAdd:b.useCallback(()=>P(M=>M+1),[]),onFocusableItemRemove:b.useCallback(()=>P(M=>M-1),[]),children:s.jsx(sn.div,{tabIndex:x||k===0?-1:0,"data-orientation":r,...f,ref:h,style:{outline:"none",...e.style},onMouseDown:_t(e.onMouseDown,()=>{S.current=!0}),onFocus:_t(e.onFocus,M=>{const T=!S.current;if(M.target===M.currentTarget&&T&&!x){const R=new CustomEvent(QT,hIe);if(M.currentTarget.dispatchEvent(R),!R.defaultPrevented){const D=_().filter(Y=>Y.focusable),I=D.find(Y=>Y.active),B=D.find(Y=>Y.id===y),K=[I,B,...D].filter(Boolean).map(Y=>Y.ref.current);Xoe(K,d)}}S.current=!1}),onBlur:_t(e.onBlur,()=>w(!1))})})}),Goe="RovingFocusGroupItem",Yoe=b.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:a,children:o,...l}=e,c=oc(),u=a||c,d=vIe(Goe,n),f=d.currentTabStopId===u,m=Hoe(n),{onFocusableItemAdd:h,onFocusableItemRemove:g,currentTabStopId:y}=d;return b.useEffect(()=>{if(r)return h(),()=>g()},[r,h,g]),s.jsx(FL.ItemSlot,{scope:n,id:u,focusable:r,active:i,children:s.jsx(sn.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:_t(e.onMouseDown,v=>{r?d.onItemFocus(u):v.preventDefault()}),onFocus:_t(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:_t(e.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){d.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const x=wIe(v,d.orientation,d.dir);if(x!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let j=m().filter(_=>_.focusable).map(_=>_.ref.current);if(x==="last")j.reverse();else if(x==="prev"||x==="next"){x==="prev"&&j.reverse();const _=j.indexOf(v.currentTarget);j=d.loop?jIe(j,_+1):j.slice(_+1)}setTimeout(()=>Xoe(j))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:y!=null}):o})})});Yoe.displayName=Goe;var yIe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function bIe(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function wIe(e,t,n){const r=bIe(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return yIe[r]}function Xoe(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function jIe(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var Zoe=Koe,Qoe=Yoe;function NIe(e){const t=_Ie(e),n=b.forwardRef((r,i)=>{const{children:a,...o}=r,l=b.Children.toArray(a),c=l.find(kIe);if(c){const u=c.props.children,d=l.map(f=>f===c?b.Children.count(u)>1?b.Children.only(null):b.isValidElement(u)?u.props.children:null:f);return s.jsx(t,{...o,ref:i,children:b.isValidElement(u)?b.cloneElement(u,void 0,d):null})}return s.jsx(t,{...o,ref:i,children:a})});return n.displayName=`${e}.Slot`,n}function _Ie(e){const t=b.forwardRef((n,r)=>{const{children:i,...a}=n;if(b.isValidElement(i)){const o=EIe(i),l=CIe(a,i.props);return i.type!==b.Fragment&&(l.ref=r?yf(r,o):o),b.cloneElement(i,l)}return b.Children.count(i)>1?b.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var SIe=Symbol("radix.slottable");function kIe(e){return b.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===SIe}function CIe(e,t){const n={...t};for(const r in t){const i=e[r],a=t[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...e,...n}}function EIe(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var PIe=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},rx=new WeakMap,QN=new WeakMap,JN={},JT=0,Joe=function(e){return e&&(e.host||Joe(e.parentNode))},AIe=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=Joe(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},TIe=function(e,t,n,r){var i=AIe(t,Array.isArray(e)?e:[e]);JN[n]||(JN[n]=new WeakMap);var a=JN[n],o=[],l=new Set,c=new Set(i),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};i.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(m){if(l.has(m))d(m);else try{var h=m.getAttribute(r),g=h!==null&&h!=="false",y=(rx.get(m)||0)+1,v=(a.get(m)||0)+1;rx.set(m,y),a.set(m,v),o.push(m),y===1&&g&&QN.set(m,!0),v===1&&m.setAttribute(n,"true"),g||m.setAttribute(r,"true")}catch(x){console.error("aria-hidden: cannot operate on ",m,x)}})};return d(t),l.clear(),JT++,function(){o.forEach(function(f){var m=rx.get(f)-1,h=a.get(f)-1;rx.set(f,m),a.set(f,h),m||(QN.has(f)||f.removeAttribute(r),QN.delete(f)),h||f.removeAttribute(n)}),JT--,JT||(rx=new WeakMap,rx=new WeakMap,QN=new WeakMap,JN={})}},yE=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=PIe(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),TIe(r,i,n,"aria-hidden")):function(){return null}},Rd=function(){return Rd=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Rd.apply(this,arguments)};function ht(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function OIe(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}var dS="right-scroll-bar-position",fS="width-before-scroll-bar",LIe="with-scroll-bars-hidden",MIe="--removed-body-scroll-bar-size";function e4(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function IIe(e,t){var n=b.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=t,n.facade}var DIe=typeof window<"u"?b.useLayoutEffect:b.useEffect,nq=new WeakMap;function RIe(e,t){var n=IIe(null,function(r){return e.forEach(function(i){return e4(i,r)})});return DIe(function(){var r=nq.get(n);if(r){var i=new Set(r),a=new Set(e),o=n.current;i.forEach(function(l){a.has(l)||e4(l,null)}),a.forEach(function(l){i.has(l)||e4(l,o)})}nq.set(n,e)},[e]),n}function $Ie(e){return e}function FIe(e,t){t===void 0&&(t=$Ie);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(a){var o=t(a,r);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(a){for(r=!0;n.length;){var o=n;n=[],o.forEach(a)}n={push:function(l){return a(l)},filter:function(){return n}}},assignMedium:function(a){r=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(a),o=n}var c=function(){var d=o;o=[],d.forEach(a)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),n}}}};return i}function BIe(e){e===void 0&&(e={});var t=FIe(null);return t.options=Rd({async:!0,ssr:!1},e),t}var ele=function(e){var t=e.sideCar,n=ht(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return b.createElement(r,Rd({},n))};ele.isSideCarExport=!0;function zIe(e,t){return e.useMedium(t),ele}var tle=BIe(),t4=function(){},bE=b.forwardRef(function(e,t){var n=b.useRef(null),r=b.useState({onScrollCapture:t4,onWheelCapture:t4,onTouchMoveCapture:t4}),i=r[0],a=r[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,m=e.sideCar,h=e.noRelative,g=e.noIsolation,y=e.inert,v=e.allowPinchZoom,x=e.as,w=x===void 0?"div":x,j=e.gapMode,_=ht(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=m,k=RIe([n,t]),P=Rd(Rd({},_),i);return b.createElement(b.Fragment,null,d&&b.createElement(S,{sideCar:tle,removeScrollBar:u,shards:f,noRelative:h,noIsolation:g,inert:y,setCallbacks:a,allowPinchZoom:!!v,lockRef:n,gapMode:j}),o?b.cloneElement(b.Children.only(l),Rd(Rd({},P),{ref:k})):b.createElement(w,Rd({},P,{className:c,ref:k}),l))});bE.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};bE.classNames={fullWidth:fS,zeroRight:dS};var VIe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function qIe(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=VIe();return t&&e.setAttribute("nonce",t),e}function UIe(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function WIe(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var HIe=function(){var e=0,t=null;return{add:function(n){e==0&&(t=qIe())&&(UIe(t,n),WIe(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},KIe=function(){var e=HIe();return function(t,n){b.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},nle=function(){var e=KIe(),t=function(n){var r=n.styles,i=n.dynamic;return e(r,i),null};return t},GIe={left:0,top:0,right:0,gap:0},n4=function(e){return parseInt(e||"",10)||0},YIe=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[n4(n),n4(r),n4(i)]},XIe=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return GIe;var t=YIe(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},ZIe=nle(),ly="data-scroll-locked",QIe=function(e,t,n,r){var i=e.left,a=e.top,o=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(LIe,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(ly,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(dS,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(fS,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(dS," .").concat(dS,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(fS," .").concat(fS,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(ly,`] {
    `).concat(MIe,": ").concat(l,`px;
  }
`)},rq=function(){var e=parseInt(document.body.getAttribute(ly)||"0",10);return isFinite(e)?e:0},JIe=function(){b.useEffect(function(){return document.body.setAttribute(ly,(rq()+1).toString()),function(){var e=rq()-1;e<=0?document.body.removeAttribute(ly):document.body.setAttribute(ly,e.toString())}},[])},eDe=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=r===void 0?"margin":r;JIe();var a=b.useMemo(function(){return XIe(i)},[i]);return b.createElement(ZIe,{styles:QIe(a,!t,i,n?"":"!important")})},BL=!1;if(typeof window<"u")try{var e_=Object.defineProperty({},"passive",{get:function(){return BL=!0,!0}});window.addEventListener("test",e_,e_),window.removeEventListener("test",e_,e_)}catch{BL=!1}var ix=BL?{passive:!1}:!1,tDe=function(e){return e.tagName==="TEXTAREA"},rle=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!tDe(e)&&n[t]==="visible")},nDe=function(e){return rle(e,"overflowY")},rDe=function(e){return rle(e,"overflowX")},iq=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=ile(e,r);if(i){var a=ale(e,r),o=a[1],l=a[2];if(o>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},iDe=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},aDe=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},ile=function(e,t){return e==="v"?nDe(t):rDe(t)},ale=function(e,t){return e==="v"?iDe(t):aDe(t)},sDe=function(e,t){return e==="h"&&t==="rtl"?-1:1},oDe=function(e,t,n,r,i){var a=sDe(e,window.getComputedStyle(t).direction),o=a*r,l=n.target,c=t.contains(l),u=!1,d=o>0,f=0,m=0;do{if(!l)break;var h=ale(e,l),g=h[0],y=h[1],v=h[2],x=y-v-a*g;(g||x)&&ile(e,l)&&(f+=x,m+=g);var w=l.parentNode;l=w&&w.nodeType===Node.DOCUMENT_FRAGMENT_NODE?w.host:w}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&Math.abs(f)<1||!d&&Math.abs(m)<1)&&(u=!0),u},t_=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},aq=function(e){return[e.deltaX,e.deltaY]},sq=function(e){return e&&"current"in e?e.current:e},lDe=function(e,t){return e[0]===t[0]&&e[1]===t[1]},cDe=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},uDe=0,ax=[];function dDe(e){var t=b.useRef([]),n=b.useRef([0,0]),r=b.useRef(),i=b.useState(uDe++)[0],a=b.useState(nle)[0],o=b.useRef(e);b.useEffect(function(){o.current=e},[e]),b.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var y=OIe([e.lockRef.current],(e.shards||[]).map(sq),!0).filter(Boolean);return y.forEach(function(v){return v.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),y.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var l=b.useCallback(function(y,v){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!o.current.allowPinchZoom;var x=t_(y),w=n.current,j="deltaX"in y?y.deltaX:w[0]-x[0],_="deltaY"in y?y.deltaY:w[1]-x[1],S,k=y.target,P=Math.abs(j)>Math.abs(_)?"h":"v";if("touches"in y&&P==="h"&&k.type==="range")return!1;var M=window.getSelection(),T=M&&M.anchorNode,R=T?T===k||T.contains(k):!1;if(R)return!1;var D=iq(P,k);if(!D)return!0;if(D?S=P:(S=P==="v"?"h":"v",D=iq(P,k)),!D)return!1;if(!r.current&&"changedTouches"in y&&(j||_)&&(r.current=S),!S)return!0;var I=r.current||S;return oDe(I,v,y,I==="h"?j:_)},[]),c=b.useCallback(function(y){var v=y;if(!(!ax.length||ax[ax.length-1]!==a)){var x="deltaY"in v?aq(v):t_(v),w=t.current.filter(function(S){return S.name===v.type&&(S.target===v.target||v.target===S.shadowParent)&&lDe(S.delta,x)})[0];if(w&&w.should){v.cancelable&&v.preventDefault();return}if(!w){var j=(o.current.shards||[]).map(sq).filter(Boolean).filter(function(S){return S.contains(v.target)}),_=j.length>0?l(v,j[0]):!o.current.noIsolation;_&&v.cancelable&&v.preventDefault()}}},[]),u=b.useCallback(function(y,v,x,w){var j={name:y,delta:v,target:x,should:w,shadowParent:fDe(x)};t.current.push(j),setTimeout(function(){t.current=t.current.filter(function(_){return _!==j})},1)},[]),d=b.useCallback(function(y){n.current=t_(y),r.current=void 0},[]),f=b.useCallback(function(y){u(y.type,aq(y),y.target,l(y,e.lockRef.current))},[]),m=b.useCallback(function(y){u(y.type,t_(y),y.target,l(y,e.lockRef.current))},[]);b.useEffect(function(){return ax.push(a),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",c,ix),document.addEventListener("touchmove",c,ix),document.addEventListener("touchstart",d,ix),function(){ax=ax.filter(function(y){return y!==a}),document.removeEventListener("wheel",c,ix),document.removeEventListener("touchmove",c,ix),document.removeEventListener("touchstart",d,ix)}},[]);var h=e.removeScrollBar,g=e.inert;return b.createElement(b.Fragment,null,g?b.createElement(a,{styles:cDe(i)}):null,h?b.createElement(eDe,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function fDe(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const hDe=zIe(tle,dDe);var Pj=b.forwardRef(function(e,t){return b.createElement(bE,Rd({},e,{ref:t,sideCar:hDe}))});Pj.classNames=bE.classNames;var zL=["Enter"," "],mDe=["ArrowDown","PageUp","Home"],sle=["ArrowUp","PageDown","End"],pDe=[...mDe,...sle],gDe={ltr:[...zL,"ArrowRight"],rtl:[...zL,"ArrowLeft"]},vDe={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Aj="Menu",[Kw,xDe,yDe]=VC(Aj),[Pv,ole]=Xo(Aj,[yDe,Ap,xE]),wE=Ap(),lle=xE(),[bDe,Av]=Pv(Aj),[wDe,Tj]=Pv(Aj),cle=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:i,onOpenChange:a,modal:o=!0}=e,l=wE(t),[c,u]=b.useState(null),d=b.useRef(!1),f=wa(a),m=_j(i);return b.useEffect(()=>{const h=()=>{d.current=!0,document.addEventListener("pointerdown",g,{capture:!0,once:!0}),document.addEventListener("pointermove",g,{capture:!0,once:!0})},g=()=>d.current=!1;return document.addEventListener("keydown",h,{capture:!0}),()=>{document.removeEventListener("keydown",h,{capture:!0}),document.removeEventListener("pointerdown",g,{capture:!0}),document.removeEventListener("pointermove",g,{capture:!0})}},[]),s.jsx(pE,{...l,children:s.jsx(bDe,{scope:t,open:n,onOpenChange:f,content:c,onContentChange:u,children:s.jsx(wDe,{scope:t,onClose:b.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:m,modal:o,children:r})})})};cle.displayName=Aj;var jDe="MenuAnchor",a$=b.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,i=wE(n);return s.jsx(Cj,{...i,...r,ref:t})});a$.displayName=jDe;var s$="MenuPortal",[NDe,ule]=Pv(s$,{forceMount:void 0}),dle=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:i}=e,a=Av(s$,t);return s.jsx(NDe,{scope:t,forceMount:n,children:s.jsx(_s,{present:n||a.open,children:s.jsx(T0,{asChild:!0,container:i,children:r})})})};dle.displayName=s$;var Jc="MenuContent",[_De,o$]=Pv(Jc),fle=b.forwardRef((e,t)=>{const n=ule(Jc,e.__scopeMenu),{forceMount:r=n.forceMount,...i}=e,a=Av(Jc,e.__scopeMenu),o=Tj(Jc,e.__scopeMenu);return s.jsx(Kw.Provider,{scope:e.__scopeMenu,children:s.jsx(_s,{present:r||a.open,children:s.jsx(Kw.Slot,{scope:e.__scopeMenu,children:o.modal?s.jsx(SDe,{...i,ref:t}):s.jsx(kDe,{...i,ref:t})})})})}),SDe=b.forwardRef((e,t)=>{const n=Av(Jc,e.__scopeMenu),r=b.useRef(null),i=Fn(t,r);return b.useEffect(()=>{const a=r.current;if(a)return yE(a)},[]),s.jsx(l$,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:_t(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),kDe=b.forwardRef((e,t)=>{const n=Av(Jc,e.__scopeMenu);return s.jsx(l$,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),CDe=NIe("MenuContent.ScrollLock"),l$=b.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:a,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:m,onDismiss:h,disableOutsideScroll:g,...y}=e,v=Av(Jc,n),x=Tj(Jc,n),w=wE(n),j=lle(n),_=xDe(n),[S,k]=b.useState(null),P=b.useRef(null),M=Fn(t,P,v.onContentChange),T=b.useRef(0),R=b.useRef(""),D=b.useRef(0),I=b.useRef(null),B=b.useRef("right"),$=b.useRef(0),K=g?Pj:b.Fragment,Y=g?{as:CDe,allowPinchZoom:!0}:void 0,Q=G=>{var oe,ve;const U=R.current+G,ee=_().filter(ne=>!ne.disabled),z=document.activeElement,F=(oe=ee.find(ne=>ne.ref.current===z))==null?void 0:oe.textValue,ie=ee.map(ne=>ne.textValue),ce=FDe(ie,U,F),te=(ve=ee.find(ne=>ne.textValue===ce))==null?void 0:ve.ref.current;(function ne(xe){R.current=xe,window.clearTimeout(T.current),xe!==""&&(T.current=window.setTimeout(()=>ne(""),1e3))})(U),te&&setTimeout(()=>te.focus())};b.useEffect(()=>()=>window.clearTimeout(T.current),[]),uE();const H=b.useCallback(G=>{var ee,z;return B.current===((ee=I.current)==null?void 0:ee.side)&&zDe(G,(z=I.current)==null?void 0:z.area)},[]);return s.jsx(_De,{scope:n,searchRef:R,onItemEnter:b.useCallback(G=>{H(G)&&G.preventDefault()},[H]),onItemLeave:b.useCallback(G=>{var U;H(G)||((U=P.current)==null||U.focus(),k(null))},[H]),onTriggerLeave:b.useCallback(G=>{H(G)&&G.preventDefault()},[H]),pointerGraceTimerRef:D,onPointerGraceIntentChange:b.useCallback(G=>{I.current=G},[]),children:s.jsx(K,{...Y,children:s.jsx(Sj,{asChild:!0,trapped:i,onMountAutoFocus:_t(a,G=>{var U;G.preventDefault(),(U=P.current)==null||U.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:s.jsx(kv,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:m,onDismiss:h,children:s.jsx(Zoe,{asChild:!0,...j,dir:x.dir,orientation:"vertical",loop:r,currentTabStopId:S,onCurrentTabStopIdChange:k,onEntryFocus:_t(c,G=>{x.isUsingKeyboardRef.current||G.preventDefault()}),preventScrollOnEntryFocus:!0,children:s.jsx(gE,{role:"menu","aria-orientation":"vertical","data-state":Ele(v.open),"data-radix-menu-content":"",dir:x.dir,...w,...y,ref:M,style:{outline:"none",...y.style},onKeyDown:_t(y.onKeyDown,G=>{const ee=G.target.closest("[data-radix-menu-content]")===G.currentTarget,z=G.ctrlKey||G.altKey||G.metaKey,F=G.key.length===1;ee&&(G.key==="Tab"&&G.preventDefault(),!z&&F&&Q(G.key));const ie=P.current;if(G.target!==ie||!pDe.includes(G.key))return;G.preventDefault();const te=_().filter(oe=>!oe.disabled).map(oe=>oe.ref.current);sle.includes(G.key)&&te.reverse(),RDe(te)}),onBlur:_t(e.onBlur,G=>{G.currentTarget.contains(G.target)||(window.clearTimeout(T.current),R.current="")}),onPointerMove:_t(e.onPointerMove,Gw(G=>{const U=G.target,ee=$.current!==G.clientX;if(G.currentTarget.contains(U)&&ee){const z=G.clientX>$.current?"right":"left";B.current=z,$.current=G.clientX}}))})})})})})})});fle.displayName=Jc;var EDe="MenuGroup",c$=b.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return s.jsx(sn.div,{role:"group",...r,ref:t})});c$.displayName=EDe;var PDe="MenuLabel",hle=b.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return s.jsx(sn.div,{...r,ref:t})});hle.displayName=PDe;var w5="MenuItem",oq="menu.itemSelect",jE=b.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...i}=e,a=b.useRef(null),o=Tj(w5,e.__scopeMenu),l=o$(w5,e.__scopeMenu),c=Fn(t,a),u=b.useRef(!1),d=()=>{const f=a.current;if(!n&&f){const m=new CustomEvent(oq,{bubbles:!0,cancelable:!0});f.addEventListener(oq,h=>r==null?void 0:r(h),{once:!0}),$6(f,m),m.defaultPrevented?u.current=!1:o.onClose()}};return s.jsx(mle,{...i,ref:c,disabled:n,onClick:_t(e.onClick,d),onPointerDown:f=>{var m;(m=e.onPointerDown)==null||m.call(e,f),u.current=!0},onPointerUp:_t(e.onPointerUp,f=>{var m;u.current||(m=f.currentTarget)==null||m.click()}),onKeyDown:_t(e.onKeyDown,f=>{const m=l.searchRef.current!=="";n||m&&f.key===" "||zL.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});jE.displayName=w5;var mle=b.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...a}=e,o=o$(w5,n),l=lle(n),c=b.useRef(null),u=Fn(t,c),[d,f]=b.useState(!1),[m,h]=b.useState("");return b.useEffect(()=>{const g=c.current;g&&h((g.textContent??"").trim())},[a.children]),s.jsx(Kw.ItemSlot,{scope:n,disabled:r,textValue:i??m,children:s.jsx(Qoe,{asChild:!0,...l,focusable:!r,children:s.jsx(sn.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...a,ref:u,onPointerMove:_t(e.onPointerMove,Gw(g=>{r?o.onItemLeave(g):(o.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:_t(e.onPointerLeave,Gw(g=>o.onItemLeave(g))),onFocus:_t(e.onFocus,()=>f(!0)),onBlur:_t(e.onBlur,()=>f(!1))})})})}),ADe="MenuCheckboxItem",ple=b.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...i}=e;return s.jsx(ble,{scope:e.__scopeMenu,checked:n,children:s.jsx(jE,{role:"menuitemcheckbox","aria-checked":j5(n)?"mixed":n,...i,ref:t,"data-state":d$(n),onSelect:_t(i.onSelect,()=>r==null?void 0:r(j5(n)?!0:!n),{checkForDefaultPrevented:!1})})})});ple.displayName=ADe;var gle="MenuRadioGroup",[TDe,ODe]=Pv(gle,{value:void 0,onValueChange:()=>{}}),vle=b.forwardRef((e,t)=>{const{value:n,onValueChange:r,...i}=e,a=wa(r);return s.jsx(TDe,{scope:e.__scopeMenu,value:n,onValueChange:a,children:s.jsx(c$,{...i,ref:t})})});vle.displayName=gle;var xle="MenuRadioItem",yle=b.forwardRef((e,t)=>{const{value:n,...r}=e,i=ODe(xle,e.__scopeMenu),a=n===i.value;return s.jsx(ble,{scope:e.__scopeMenu,checked:a,children:s.jsx(jE,{role:"menuitemradio","aria-checked":a,...r,ref:t,"data-state":d$(a),onSelect:_t(r.onSelect,()=>{var o;return(o=i.onValueChange)==null?void 0:o.call(i,n)},{checkForDefaultPrevented:!1})})})});yle.displayName=xle;var u$="MenuItemIndicator",[ble,LDe]=Pv(u$,{checked:!1}),wle=b.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...i}=e,a=LDe(u$,n);return s.jsx(_s,{present:r||j5(a.checked)||a.checked===!0,children:s.jsx(sn.span,{...i,ref:t,"data-state":d$(a.checked)})})});wle.displayName=u$;var MDe="MenuSeparator",jle=b.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return s.jsx(sn.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});jle.displayName=MDe;var IDe="MenuArrow",Nle=b.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,i=wE(n);return s.jsx(vE,{...i,...r,ref:t})});Nle.displayName=IDe;var DDe="MenuSub",[jPt,_le]=Pv(DDe),y1="MenuSubTrigger",Sle=b.forwardRef((e,t)=>{const n=Av(y1,e.__scopeMenu),r=Tj(y1,e.__scopeMenu),i=_le(y1,e.__scopeMenu),a=o$(y1,e.__scopeMenu),o=b.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=a,u={__scopeMenu:e.__scopeMenu},d=b.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return b.useEffect(()=>d,[d]),b.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),s.jsx(a$,{asChild:!0,...u,children:s.jsx(mle,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":Ele(n.open),...e,ref:yf(t,i.onTriggerChange),onClick:f=>{var m;(m=e.onClick)==null||m.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:_t(e.onPointerMove,Gw(f=>{a.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!n.open&&!o.current&&(a.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:_t(e.onPointerLeave,Gw(f=>{var h,g;d();const m=(h=n.content)==null?void 0:h.getBoundingClientRect();if(m){const y=(g=n.content)==null?void 0:g.dataset.side,v=y==="right",x=v?-5:5,w=m[v?"left":"right"],j=m[v?"right":"left"];a.onPointerGraceIntentChange({area:[{x:f.clientX+x,y:f.clientY},{x:w,y:m.top},{x:j,y:m.top},{x:j,y:m.bottom},{x:w,y:m.bottom}],side:y}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(f),f.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:_t(e.onKeyDown,f=>{var h;const m=a.searchRef.current!=="";e.disabled||m&&f.key===" "||gDe[r.dir].includes(f.key)&&(n.onOpenChange(!0),(h=n.content)==null||h.focus(),f.preventDefault())})})})});Sle.displayName=y1;var kle="MenuSubContent",Cle=b.forwardRef((e,t)=>{const n=ule(Jc,e.__scopeMenu),{forceMount:r=n.forceMount,...i}=e,a=Av(Jc,e.__scopeMenu),o=Tj(Jc,e.__scopeMenu),l=_le(kle,e.__scopeMenu),c=b.useRef(null),u=Fn(t,c);return s.jsx(Kw.Provider,{scope:e.__scopeMenu,children:s.jsx(_s,{present:r||a.open,children:s.jsx(Kw.Slot,{scope:e.__scopeMenu,children:s.jsx(l$,{id:l.contentId,"aria-labelledby":l.triggerId,...i,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;o.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:_t(e.onFocusOutside,d=>{d.target!==l.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:_t(e.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:_t(e.onKeyDown,d=>{var h;const f=d.currentTarget.contains(d.target),m=vDe[o.dir].includes(d.key);f&&m&&(a.onOpenChange(!1),(h=l.trigger)==null||h.focus(),d.preventDefault())})})})})})});Cle.displayName=kle;function Ele(e){return e?"open":"closed"}function j5(e){return e==="indeterminate"}function d$(e){return j5(e)?"indeterminate":e?"checked":"unchecked"}function RDe(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function $De(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function FDe(e,t,n){const i=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let o=$De(e,Math.max(a,0));i.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function BDe(e,t){const{x:n,y:r}=e;let i=!1;for(let a=0,o=t.length-1;a<t.length;o=a++){const l=t[a],c=t[o],u=l.x,d=l.y,f=c.x,m=c.y;d>r!=m>r&&n<(f-u)*(r-d)/(m-d)+u&&(i=!i)}return i}function zDe(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return BDe(n,t)}function Gw(e){return t=>t.pointerType==="mouse"?e(t):void 0}var VDe=cle,qDe=a$,UDe=dle,WDe=fle,HDe=c$,KDe=hle,GDe=jE,YDe=ple,XDe=vle,ZDe=yle,QDe=wle,JDe=jle,e6e=Nle,t6e=Sle,n6e=Cle,NE="DropdownMenu",[r6e]=Xo(NE,[ole]),Zo=ole(),[i6e,Ple]=r6e(NE),Ale=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:i,defaultOpen:a,onOpenChange:o,modal:l=!0}=e,c=Zo(t),u=b.useRef(null),[d,f]=nd({prop:i,defaultProp:a??!1,onChange:o,caller:NE});return s.jsx(i6e,{scope:t,triggerId:oc(),triggerRef:u,contentId:oc(),open:d,onOpenChange:f,onOpenToggle:b.useCallback(()=>f(m=>!m),[f]),modal:l,children:s.jsx(VDe,{...c,open:d,onOpenChange:f,dir:r,modal:l,children:n})})};Ale.displayName=NE;var Tle="DropdownMenuTrigger",Ole=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=e,a=Ple(Tle,n),o=Zo(n);return s.jsx(qDe,{asChild:!0,...o,children:s.jsx(sn.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:yf(t,a.triggerRef),onPointerDown:_t(e.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(a.onOpenToggle(),a.open||l.preventDefault())}),onKeyDown:_t(e.onKeyDown,l=>{r||(["Enter"," "].includes(l.key)&&a.onOpenToggle(),l.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});Ole.displayName=Tle;var a6e="DropdownMenuPortal",Lle=e=>{const{__scopeDropdownMenu:t,...n}=e,r=Zo(t);return s.jsx(UDe,{...r,...n})};Lle.displayName=a6e;var Mle="DropdownMenuContent",Ile=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Ple(Mle,n),a=Zo(n),o=b.useRef(!1);return s.jsx(WDe,{id:i.contentId,"aria-labelledby":i.triggerId,...a,...r,ref:t,onCloseAutoFocus:_t(e.onCloseAutoFocus,l=>{var c;o.current||(c=i.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:_t(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!i.modal||d)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Ile.displayName=Mle;var s6e="DropdownMenuGroup",o6e=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Zo(n);return s.jsx(HDe,{...i,...r,ref:t})});o6e.displayName=s6e;var l6e="DropdownMenuLabel",Dle=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Zo(n);return s.jsx(KDe,{...i,...r,ref:t})});Dle.displayName=l6e;var c6e="DropdownMenuItem",Rle=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Zo(n);return s.jsx(GDe,{...i,...r,ref:t})});Rle.displayName=c6e;var u6e="DropdownMenuCheckboxItem",$le=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Zo(n);return s.jsx(YDe,{...i,...r,ref:t})});$le.displayName=u6e;var d6e="DropdownMenuRadioGroup",f6e=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Zo(n);return s.jsx(XDe,{...i,...r,ref:t})});f6e.displayName=d6e;var h6e="DropdownMenuRadioItem",Fle=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Zo(n);return s.jsx(ZDe,{...i,...r,ref:t})});Fle.displayName=h6e;var m6e="DropdownMenuItemIndicator",Ble=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Zo(n);return s.jsx(QDe,{...i,...r,ref:t})});Ble.displayName=m6e;var p6e="DropdownMenuSeparator",zle=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Zo(n);return s.jsx(JDe,{...i,...r,ref:t})});zle.displayName=p6e;var g6e="DropdownMenuArrow",v6e=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Zo(n);return s.jsx(e6e,{...i,...r,ref:t})});v6e.displayName=g6e;var x6e="DropdownMenuSubTrigger",Vle=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Zo(n);return s.jsx(t6e,{...i,...r,ref:t})});Vle.displayName=x6e;var y6e="DropdownMenuSubContent",qle=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Zo(n);return s.jsx(n6e,{...i,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});qle.displayName=y6e;var b6e=Ale,w6e=Ole,j6e=Lle,Ule=Ile,Wle=Dle,Hle=Rle,Kle=$le,Gle=Fle,Yle=Ble,Xle=zle,Zle=Vle,Qle=qle;const f$=b6e,h$=w6e,N6e=b.forwardRef(({className:e,inset:t,children:n,...r},i)=>s.jsxs(Zle,{ref:i,className:Fe("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...r,children:[n,s.jsx(Iy,{className:"ml-auto"})]}));N6e.displayName=Zle.displayName;const _6e=b.forwardRef(({className:e,...t},n)=>s.jsx(Qle,{ref:n,className:Fe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...t}));_6e.displayName=Qle.displayName;const _E=b.forwardRef(({className:e,sideOffset:t=4,...n},r)=>s.jsx(j6e,{children:s.jsx(Ule,{ref:r,sideOffset:t,className:Fe("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...n})}));_E.displayName=Ule.displayName;const qd=b.forwardRef(({className:e,inset:t,...n},r)=>s.jsx(Hle,{ref:r,className:Fe("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...n}));qd.displayName=Hle.displayName;const S6e=b.forwardRef(({className:e,children:t,checked:n,...r},i)=>s.jsxs(Kle,{ref:i,className:Fe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(Yle,{children:s.jsx(Rw,{className:"h-4 w-4"})})}),t]}));S6e.displayName=Kle.displayName;const k6e=b.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(Gle,{ref:r,className:Fe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(Yle,{children:s.jsx(GNe,{className:"h-2 w-2 fill-current"})})}),t]}));k6e.displayName=Gle.displayName;const C6e=b.forwardRef(({className:e,inset:t,...n},r)=>s.jsx(Wle,{ref:r,className:Fe("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));C6e.displayName=Wle.displayName;const Jle=b.forwardRef(({className:e,...t},n)=>s.jsx(Xle,{ref:n,className:Fe("-mx-1 my-1 h-px bg-muted",e),...t}));Jle.displayName=Xle.displayName;function E6e(e,t=[]){let n=[];function r(a,o){const l=b.createContext(o);l.displayName=a+"Context";const c=n.length;n=[...n,o];const u=f=>{var x;const{scope:m,children:h,...g}=f,y=((x=m==null?void 0:m[e])==null?void 0:x[c])||l,v=b.useMemo(()=>g,Object.values(g));return s.jsx(y.Provider,{value:v,children:h})};u.displayName=a+"Provider";function d(f,m){var y;const h=((y=m==null?void 0:m[e])==null?void 0:y[c])||l,g=b.useContext(h);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[u,d]}const i=()=>{const a=n.map(o=>b.createContext(o));return function(l){const c=(l==null?void 0:l[e])||a;return b.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return i.scopeName=e,[r,P6e(i,...t)]}function P6e(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=r.reduce((l,{useScope:c,scopeName:u})=>{const f=c(a)[`__scope${u}`];return{...l,...f}},{});return b.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}var A6e=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],m$=A6e.reduce((e,t)=>{const n=XC(`Primitive.${t}`),r=b.forwardRef((i,a)=>{const{asChild:o,...l}=i,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:a})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function T6e(){return O6.useSyncExternalStore(O6e,()=>!0,()=>!1)}function O6e(){return()=>{}}var p$="Avatar",[L6e]=E6e(p$),[M6e,ece]=L6e(p$),tce=b.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[i,a]=b.useState("idle");return s.jsx(M6e,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:a,children:s.jsx(m$.span,{...r,ref:t})})});tce.displayName=p$;var nce="AvatarImage",rce=b.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:i=()=>{},...a}=e,o=ece(nce,n),l=I6e(r,a),c=wa(u=>{i(u),o.onImageLoadingStatusChange(u)});return ja(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?s.jsx(m$.img,{...a,ref:t,src:r}):null});rce.displayName=nce;var ice="AvatarFallback",ace=b.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...i}=e,a=ece(ice,n),[o,l]=b.useState(r===void 0);return b.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>l(!0),r);return()=>window.clearTimeout(c)}},[r]),o&&a.imageLoadingStatus!=="loaded"?s.jsx(m$.span,{...i,ref:t}):null});ace.displayName=ice;function lq(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function I6e(e,{referrerPolicy:t,crossOrigin:n}){const r=T6e(),i=b.useRef(null),a=r?(i.current||(i.current=new window.Image),i.current):null,[o,l]=b.useState(()=>lq(a,e));return ja(()=>{l(lq(a,e))},[a,e]),ja(()=>{const c=f=>()=>{l(f)};if(!a)return;const u=c("loaded"),d=c("error");return a.addEventListener("load",u),a.addEventListener("error",d),t&&(a.referrerPolicy=t),typeof n=="string"&&(a.crossOrigin=n),()=>{a.removeEventListener("load",u),a.removeEventListener("error",d)}},[a,n,t]),o}var sce=tce,oce=rce,lce=ace;const cce=b.forwardRef(({className:e,...t},n)=>s.jsx(sce,{ref:n,className:Fe("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));cce.displayName=sce.displayName;const D6e=b.forwardRef(({className:e,...t},n)=>s.jsx(oce,{ref:n,className:Fe("aspect-square h-full w-full",e),...t}));D6e.displayName=oce.displayName;const uce=b.forwardRef(({className:e,...t},n)=>s.jsx(lce,{ref:n,className:Fe("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));uce.displayName=lce.displayName;function R6e({title:e}){const{user:t,logout:n}=ud(),[,r]=Yo(),i=()=>{r("/mi-perfil")},a=()=>{n(),r("/login")},o=l=>l.split(" ").map(c=>c.charAt(0)).join("").toUpperCase().slice(0,2);return s.jsx("header",{className:"border-b border-border navbar-blur sticky top-0 z-50",children:s.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[s.jsx("div",{className:"flex items-center space-x-4"}),s.jsx("div",{className:"flex items-center space-x-3",children:t&&s.jsxs(f$,{children:[s.jsx(h$,{asChild:!0,children:s.jsxs(Oe,{variant:"ghost",size:"sm",className:"flex items-center space-x-2",children:[s.jsx(cce,{className:"h-7 w-7",children:s.jsx(uce,{className:"text-xs bg-primary text-white",children:o(t.name)})}),s.jsx("span",{className:"hidden sm:inline text-sm font-medium",children:t.name.split(" ")[0]})]})}),s.jsxs(_E,{align:"end",className:"w-48",children:[s.jsxs(qd,{onClick:i,className:"cursor-pointer",children:[s.jsx(Jm,{className:"mr-2 h-4 w-4"}),"Mi Perfil"]}),s.jsx(Jle,{}),s.jsxs(qd,{onClick:a,className:"cursor-pointer text-red-600",children:[s.jsx(cie,{className:"mr-2 h-4 w-4"}),"Cerrar Sesin"]})]})]})})]})})}function dce({className:e="",height:t=100}){return s.jsx("img",{src:"/Logo-ECONOVA-OF_Blanco.png",alt:"Econova Logo",className:e,style:{height:`${t}px`,display:"block",objectFit:"contain",maxWidth:"100%",width:"auto"},onError:n=>{console.error("Error loading logo:",n);const r=n.target;r.style.display="none";const i=r.parentElement;i&&(i.innerHTML='<div class="text-white text-2xl font-bold">ECONOVA</div>')}})}function $6e({className:e=""}){return s.jsxs("div",{className:`flex items-center justify-center space-x-2 text-xs text-gray-400 py-2 ${e}`,children:[s.jsx("span",{children:"Powered by"}),s.jsx(dce,{height:16})]})}function Ro({children:e,title:t}){return s.jsxs("div",{className:"flex min-h-screen bg-background",children:[s.jsx("div",{className:"hidden lg:block lg:w-64 flex-shrink-0",children:s.jsx(FV,{})}),s.jsx("div",{className:"lg:hidden",children:s.jsx(FV,{})}),s.jsxs("main",{className:"flex-1 overflow-auto w-full flex flex-col bg-background",children:[s.jsx(R6e,{title:t}),s.jsx("div",{className:"flex-1 px-3 sm:px-4 md:px-8 pb-6",children:s.jsx("div",{className:"mx-auto w-full",style:{maxWidth:"1440px"},children:s.jsx("div",{className:"space-y-3 sm:space-y-4",children:e})})}),s.jsx($6e,{})]})]})}const fce=b.forwardRef(({...e},t)=>s.jsx("nav",{ref:t,"aria-label":"breadcrumb",...e}));fce.displayName="Breadcrumb";const hce=b.forwardRef(({className:e,...t},n)=>s.jsx("ol",{ref:n,className:Fe("flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5",e),...t}));hce.displayName="BreadcrumbList";const mce=b.forwardRef(({className:e,...t},n)=>s.jsx("li",{ref:n,className:Fe("inline-flex items-center gap-1.5",e),...t}));mce.displayName="BreadcrumbItem";const pce=b.forwardRef(({asChild:e,className:t,...n},r)=>{const i=e?H6:"a";return s.jsx(i,{ref:r,className:Fe("transition-colors hover:text-foreground",t),...n})});pce.displayName="BreadcrumbLink";const gce=b.forwardRef(({className:e,...t},n)=>s.jsx("span",{ref:n,role:"link","aria-disabled":"true","aria-current":"page",className:Fe("font-normal text-foreground",e),...t}));gce.displayName="BreadcrumbPage";const vce=({children:e,className:t,...n})=>s.jsx("li",{role:"presentation","aria-hidden":"true",className:Fe("[&>svg]:w-3.5 [&>svg]:h-3.5",t),...n,children:e??s.jsx(Iy,{})});vce.displayName="BreadcrumbSeparator";function xce({objectIcon:e,breadcrumbs:t,title:n,subtitle:r,actions:i=[],compactDetails:a,className:o}){const l=i.find(f=>f.primary)||i[0],c=i.filter(f=>!f.primary&&f!==l),u=()=>{if(!e)return null;try{if(b.isValidElement(e))return e;if(typeof e=="function"||typeof e=="object"&&e!==null&&"$$typeof"in e){const f=e;return s.jsx(f,{className:"h-6 w-6 text-primary"})}return null}catch(f){return console.error("Error rendering icon:",f),null}},d=()=>{if(!l)return null;const f=l.icon;return s.jsxs(Oe,{variant:l.variant||"default",size:"sm",onClick:l.onClick,children:[f&&s.jsx(f,{className:"h-4 w-4 mr-2"}),l.label]})};return s.jsxs("div",{className:Fe("space-y-4 pb-4 border-b",o),children:[t&&t.length>0&&s.jsx(fce,{children:s.jsx(hce,{children:t.map((f,m)=>s.jsxs("div",{className:"flex items-center",children:[m>0&&s.jsx(vce,{}),s.jsx(mce,{children:m===t.length-1?s.jsx(gce,{children:f.label}):s.jsx(pce,{href:f.href||"#",children:f.label})})]},m))})}),s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex items-start gap-4 flex-1 min-w-0",children:[e&&s.jsx("div",{className:"flex-shrink-0 p-2 bg-primary/10 rounded-lg",children:u()}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h1",{className:"text-2xl font-semibold text-foreground mb-1",id:"page-title",children:n}),r&&s.jsx("p",{className:"text-sm text-muted-foreground",children:r}),a&&a.length>0&&s.jsx("div",{className:"flex flex-wrap gap-4 mt-3",children:a.map((f,m)=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-xs text-muted-foreground",children:[f.label,":"]}),s.jsx("span",{className:"text-sm font-medium text-foreground",children:f.value})]},m))})]})]}),i.length>0&&s.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[c.map((f,m)=>{const h=f.icon;return s.jsxs(Oe,{variant:f.variant||"outline",size:"sm",onClick:f.onClick,children:[h&&s.jsx(h,{className:"h-4 w-4 mr-2"}),f.label]},m)}),d()]})]})]})}function F6e(e){const t=B6e(e),n=b.forwardRef((r,i)=>{const{children:a,...o}=r,l=b.Children.toArray(a),c=l.find(V6e);if(c){const u=c.props.children,d=l.map(f=>f===c?b.Children.count(u)>1?b.Children.only(null):b.isValidElement(u)?u.props.children:null:f);return s.jsx(t,{...o,ref:i,children:b.isValidElement(u)?b.cloneElement(u,void 0,d):null})}return s.jsx(t,{...o,ref:i,children:a})});return n.displayName=`${e}.Slot`,n}function B6e(e){const t=b.forwardRef((n,r)=>{const{children:i,...a}=n;if(b.isValidElement(i)){const o=U6e(i),l=q6e(a,i.props);return i.type!==b.Fragment&&(l.ref=r?yf(r,o):o),b.cloneElement(i,l)}return b.Children.count(i)>1?b.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var z6e=Symbol("radix.slottable");function V6e(e){return b.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===z6e}function q6e(e,t){const n={...t};for(const r in t){const i=e[r],a=t[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...e,...n}}function U6e(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var SE="Dialog",[yce,bce]=Xo(SE),[W6e,dd]=yce(SE),wce=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:i,onOpenChange:a,modal:o=!0}=e,l=b.useRef(null),c=b.useRef(null),[u,d]=nd({prop:r,defaultProp:i??!1,onChange:a,caller:SE});return s.jsx(W6e,{scope:t,triggerRef:l,contentRef:c,contentId:oc(),titleId:oc(),descriptionId:oc(),open:u,onOpenChange:d,onOpenToggle:b.useCallback(()=>d(f=>!f),[d]),modal:o,children:n})};wce.displayName=SE;var jce="DialogTrigger",Nce=b.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=dd(jce,n),a=Fn(t,i.triggerRef);return s.jsx(sn.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":x$(i.open),...r,ref:a,onClick:_t(e.onClick,i.onOpenToggle)})});Nce.displayName=jce;var g$="DialogPortal",[H6e,_ce]=yce(g$,{forceMount:void 0}),Sce=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:i}=e,a=dd(g$,t);return s.jsx(H6e,{scope:t,forceMount:n,children:b.Children.map(r,o=>s.jsx(_s,{present:n||a.open,children:s.jsx(T0,{asChild:!0,container:i,children:o})}))})};Sce.displayName=g$;var N5="DialogOverlay",kce=b.forwardRef((e,t)=>{const n=_ce(N5,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,a=dd(N5,e.__scopeDialog);return a.modal?s.jsx(_s,{present:r||a.open,children:s.jsx(G6e,{...i,ref:t})}):null});kce.displayName=N5;var K6e=F6e("DialogOverlay.RemoveScroll"),G6e=b.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=dd(N5,n);return s.jsx(Pj,{as:K6e,allowPinchZoom:!0,shards:[i.contentRef],children:s.jsx(sn.div,{"data-state":x$(i.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),ov="DialogContent",Cce=b.forwardRef((e,t)=>{const n=_ce(ov,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,a=dd(ov,e.__scopeDialog);return s.jsx(_s,{present:r||a.open,children:a.modal?s.jsx(Y6e,{...i,ref:t}):s.jsx(X6e,{...i,ref:t})})});Cce.displayName=ov;var Y6e=b.forwardRef((e,t)=>{const n=dd(ov,e.__scopeDialog),r=b.useRef(null),i=Fn(t,n.contentRef,r);return b.useEffect(()=>{const a=r.current;if(a)return yE(a)},[]),s.jsx(Ece,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:_t(e.onCloseAutoFocus,a=>{var o;a.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:_t(e.onPointerDownOutside,a=>{const o=a.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&a.preventDefault()}),onFocusOutside:_t(e.onFocusOutside,a=>a.preventDefault())})}),X6e=b.forwardRef((e,t)=>{const n=dd(ov,e.__scopeDialog),r=b.useRef(!1),i=b.useRef(!1);return s.jsx(Ece,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,a),a.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),a.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:a=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),Ece=b.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:a,...o}=e,l=dd(ov,n),c=b.useRef(null),u=Fn(t,c);return uE(),s.jsxs(s.Fragment,{children:[s.jsx(Sj,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:a,children:s.jsx(kv,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":x$(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(Q6e,{titleId:l.titleId}),s.jsx(eRe,{contentRef:c,descriptionId:l.descriptionId})]})]})}),v$="DialogTitle",Pce=b.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=dd(v$,n);return s.jsx(sn.h2,{id:i.titleId,...r,ref:t})});Pce.displayName=v$;var Ace="DialogDescription",Tce=b.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=dd(Ace,n);return s.jsx(sn.p,{id:i.descriptionId,...r,ref:t})});Tce.displayName=Ace;var Oce="DialogClose",Lce=b.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=dd(Oce,n);return s.jsx(sn.button,{type:"button",...r,ref:t,onClick:_t(e.onClick,()=>i.onOpenChange(!1))})});Lce.displayName=Oce;function x$(e){return e?"open":"closed"}var Mce="DialogTitleWarning",[Z6e,Ice]=Hje(Mce,{contentName:ov,titleName:v$,docsSlug:"dialog"}),Q6e=({titleId:e})=>{const t=Ice(Mce),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return b.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},J6e="DialogDescriptionWarning",eRe=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Ice(J6e).contentName}}.`;return b.useEffect(()=>{var a;const i=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},Dce=wce,Rce=Nce,$ce=Sce,y$=kce,b$=Cce,w$=Pce,j$=Tce,kE=Lce;const zr=Dce,Fce=Rce,tRe=$ce,nRe=kE,Bce=b.forwardRef(({className:e,...t},n)=>s.jsx(y$,{ref:n,className:Fe("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));Bce.displayName=y$.displayName;const Ir=b.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(tRe,{children:[s.jsx(Bce,{}),s.jsxs(b$,{ref:r,className:Fe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,s.jsxs(kE,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(Ra,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ir.displayName=b$.displayName;const Vr=({className:e,...t})=>s.jsx("div",{className:Fe("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Vr.displayName="DialogHeader";const pc=({className:e,...t})=>s.jsx("div",{className:Fe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});pc.displayName="DialogFooter";const qr=b.forwardRef(({className:e,...t},n)=>s.jsx(w$,{ref:n,className:Fe("text-lg font-semibold leading-none tracking-tight",e),...t}));qr.displayName=w$.displayName;const Rs=b.forwardRef(({className:e,...t},n)=>s.jsx(j$,{ref:n,className:Fe("text-sm text-muted-foreground",e),...t}));Rs.displayName=j$.displayName;var CE="Tabs",[rRe]=Xo(CE,[xE]),zce=xE(),[iRe,N$]=rRe(CE),Vce=b.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:a,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=_j(l),[f,m]=nd({prop:r,onChange:i,defaultProp:a??"",caller:CE});return s.jsx(iRe,{scope:n,baseId:oc(),value:f,onValueChange:m,orientation:o,dir:d,activationMode:c,children:s.jsx(sn.div,{dir:d,"data-orientation":o,...u,ref:t})})});Vce.displayName=CE;var qce="TabsList",Uce=b.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...i}=e,a=N$(qce,n),o=zce(n);return s.jsx(Zoe,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:r,children:s.jsx(sn.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:t})})});Uce.displayName=qce;var Wce="TabsTrigger",Hce=b.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...a}=e,o=N$(Wce,n),l=zce(n),c=Yce(o.baseId,r),u=Xce(o.baseId,r),d=r===o.value;return s.jsx(Qoe,{asChild:!0,...l,focusable:!i,active:d,children:s.jsx(sn.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...a,ref:t,onMouseDown:_t(e.onMouseDown,f=>{!i&&f.button===0&&f.ctrlKey===!1?o.onValueChange(r):f.preventDefault()}),onKeyDown:_t(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(r)}),onFocus:_t(e.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!i&&f&&o.onValueChange(r)})})})});Hce.displayName=Wce;var Kce="TabsContent",Gce=b.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:i,children:a,...o}=e,l=N$(Kce,n),c=Yce(l.baseId,r),u=Xce(l.baseId,r),d=r===l.value,f=b.useRef(d);return b.useEffect(()=>{const m=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(m)},[]),s.jsx(_s,{present:i||d,children:({present:m})=>s.jsx(sn.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:m&&a})})});Gce.displayName=Kce;function Yce(e,t){return`${e}-trigger-${t}`}function Xce(e,t){return`${e}-content-${t}`}var aRe=Vce,Zce=Uce,Qce=Hce,Jce=Gce;const Tp=aRe,Rh=b.forwardRef(({className:e,...t},n)=>s.jsx(Zce,{ref:n,className:Fe("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Rh.displayName=Zce.displayName;const Ki=b.forwardRef(({className:e,...t},n)=>s.jsx(Qce,{ref:n,className:Fe("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Ki.displayName=Qce.displayName;const ds=b.forwardRef(({className:e,...t},n)=>s.jsx(Jce,{ref:n,className:Fe("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));ds.displayName=Jce.displayName;const gt=b.forwardRef(({className:e,type:t,...n},r)=>s.jsx("input",{type:t,className:Fe("flex h-10 w-full rounded-md border border-input bg-card text-foreground px-3 py-2 text-base transition-all file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring/20 focus-visible:border-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));gt.displayName="Input";var sRe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],oRe=sRe.reduce((e,t)=>{const n=XC(`Primitive.${t}`),r=b.forwardRef((i,a)=>{const{asChild:o,...l}=i,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:a})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),lRe="Label",eue=b.forwardRef((e,t)=>s.jsx(oRe.label,{...e,ref:t,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=e.onMouseDown)==null||i.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));eue.displayName=lRe;var tue=eue;const cRe=pj("text-sm font-medium leading-none text-foreground peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),dt=b.forwardRef(({className:e,...t},n)=>s.jsx(tue,{ref:n,className:Fe(cRe(),e),...t}));dt.displayName=tue.displayName;const nu=b.forwardRef(({className:e,...t},n)=>s.jsx("textarea",{className:Fe("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...t}));nu.displayName="Textarea";const uRe=pj("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",success:"border-transparent bg-emerald-600/80 text-white hover:bg-emerald-600",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ct({className:e,variant:t,...n}){return s.jsx("div",{className:Fe(uRe({variant:t}),e),...n})}var dRe=Array.isArray,Cl=dRe,fRe=typeof ah=="object"&&ah&&ah.Object===Object&&ah,nue=fRe,hRe=nue,mRe=typeof self=="object"&&self&&self.Object===Object&&self,pRe=hRe||mRe||Function("return this")(),jf=pRe,gRe=jf,vRe=gRe.Symbol,Oj=vRe,cq=Oj,rue=Object.prototype,xRe=rue.hasOwnProperty,yRe=rue.toString,Hb=cq?cq.toStringTag:void 0;function bRe(e){var t=xRe.call(e,Hb),n=e[Hb];try{e[Hb]=void 0;var r=!0}catch{}var i=yRe.call(e);return r&&(t?e[Hb]=n:delete e[Hb]),i}var wRe=bRe,jRe=Object.prototype,NRe=jRe.toString;function _Re(e){return NRe.call(e)}var SRe=_Re,uq=Oj,kRe=wRe,CRe=SRe,ERe="[object Null]",PRe="[object Undefined]",dq=uq?uq.toStringTag:void 0;function ARe(e){return e==null?e===void 0?PRe:ERe:dq&&dq in Object(e)?kRe(e):CRe(e)}var $h=ARe;function TRe(e){return e!=null&&typeof e=="object"}var Fh=TRe,ORe=$h,LRe=Fh,MRe="[object Symbol]";function IRe(e){return typeof e=="symbol"||LRe(e)&&ORe(e)==MRe}var F0=IRe,DRe=Cl,RRe=F0,$Re=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,FRe=/^\w*$/;function BRe(e,t){if(DRe(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||RRe(e)?!0:FRe.test(e)||!$Re.test(e)||t!=null&&e in Object(t)}var _$=BRe;function zRe(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Op=zRe;const B0=Ar(Op);var VRe=$h,qRe=Op,URe="[object AsyncFunction]",WRe="[object Function]",HRe="[object GeneratorFunction]",KRe="[object Proxy]";function GRe(e){if(!qRe(e))return!1;var t=VRe(e);return t==WRe||t==HRe||t==URe||t==KRe}var S$=GRe;const mn=Ar(S$);var YRe=jf,XRe=YRe["__core-js_shared__"],ZRe=XRe,r4=ZRe,fq=function(){var e=/[^.]+$/.exec(r4&&r4.keys&&r4.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function QRe(e){return!!fq&&fq in e}var JRe=QRe,e$e=Function.prototype,t$e=e$e.toString;function n$e(e){if(e!=null){try{return t$e.call(e)}catch{}try{return e+""}catch{}}return""}var iue=n$e,r$e=S$,i$e=JRe,a$e=Op,s$e=iue,o$e=/[\\^$.*+?()[\]{}|]/g,l$e=/^\[object .+?Constructor\]$/,c$e=Function.prototype,u$e=Object.prototype,d$e=c$e.toString,f$e=u$e.hasOwnProperty,h$e=RegExp("^"+d$e.call(f$e).replace(o$e,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function m$e(e){if(!a$e(e)||i$e(e))return!1;var t=r$e(e)?h$e:l$e;return t.test(s$e(e))}var p$e=m$e;function g$e(e,t){return e==null?void 0:e[t]}var v$e=g$e,x$e=p$e,y$e=v$e;function b$e(e,t){var n=y$e(e,t);return x$e(n)?n:void 0}var Tv=b$e,w$e=Tv,j$e=w$e(Object,"create"),EE=j$e,hq=EE;function N$e(){this.__data__=hq?hq(null):{},this.size=0}var _$e=N$e;function S$e(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var k$e=S$e,C$e=EE,E$e="__lodash_hash_undefined__",P$e=Object.prototype,A$e=P$e.hasOwnProperty;function T$e(e){var t=this.__data__;if(C$e){var n=t[e];return n===E$e?void 0:n}return A$e.call(t,e)?t[e]:void 0}var O$e=T$e,L$e=EE,M$e=Object.prototype,I$e=M$e.hasOwnProperty;function D$e(e){var t=this.__data__;return L$e?t[e]!==void 0:I$e.call(t,e)}var R$e=D$e,$$e=EE,F$e="__lodash_hash_undefined__";function B$e(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=$$e&&t===void 0?F$e:t,this}var z$e=B$e,V$e=_$e,q$e=k$e,U$e=O$e,W$e=R$e,H$e=z$e;function z0(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}z0.prototype.clear=V$e;z0.prototype.delete=q$e;z0.prototype.get=U$e;z0.prototype.has=W$e;z0.prototype.set=H$e;var K$e=z0;function G$e(){this.__data__=[],this.size=0}var Y$e=G$e;function X$e(e,t){return e===t||e!==e&&t!==t}var k$=X$e,Z$e=k$;function Q$e(e,t){for(var n=e.length;n--;)if(Z$e(e[n][0],t))return n;return-1}var PE=Q$e,J$e=PE,eFe=Array.prototype,tFe=eFe.splice;function nFe(e){var t=this.__data__,n=J$e(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():tFe.call(t,n,1),--this.size,!0}var rFe=nFe,iFe=PE;function aFe(e){var t=this.__data__,n=iFe(t,e);return n<0?void 0:t[n][1]}var sFe=aFe,oFe=PE;function lFe(e){return oFe(this.__data__,e)>-1}var cFe=lFe,uFe=PE;function dFe(e,t){var n=this.__data__,r=uFe(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var fFe=dFe,hFe=Y$e,mFe=rFe,pFe=sFe,gFe=cFe,vFe=fFe;function V0(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}V0.prototype.clear=hFe;V0.prototype.delete=mFe;V0.prototype.get=pFe;V0.prototype.has=gFe;V0.prototype.set=vFe;var AE=V0,xFe=Tv,yFe=jf,bFe=xFe(yFe,"Map"),C$=bFe,mq=K$e,wFe=AE,jFe=C$;function NFe(){this.size=0,this.__data__={hash:new mq,map:new(jFe||wFe),string:new mq}}var _Fe=NFe;function SFe(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var kFe=SFe,CFe=kFe;function EFe(e,t){var n=e.__data__;return CFe(t)?n[typeof t=="string"?"string":"hash"]:n.map}var TE=EFe,PFe=TE;function AFe(e){var t=PFe(this,e).delete(e);return this.size-=t?1:0,t}var TFe=AFe,OFe=TE;function LFe(e){return OFe(this,e).get(e)}var MFe=LFe,IFe=TE;function DFe(e){return IFe(this,e).has(e)}var RFe=DFe,$Fe=TE;function FFe(e,t){var n=$Fe(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var BFe=FFe,zFe=_Fe,VFe=TFe,qFe=MFe,UFe=RFe,WFe=BFe;function q0(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}q0.prototype.clear=zFe;q0.prototype.delete=VFe;q0.prototype.get=qFe;q0.prototype.has=UFe;q0.prototype.set=WFe;var E$=q0,aue=E$,HFe="Expected a function";function P$(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(HFe);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(P$.Cache||aue),n}P$.Cache=aue;var sue=P$;const KFe=Ar(sue);var GFe=sue,YFe=500;function XFe(e){var t=GFe(e,function(r){return n.size===YFe&&n.clear(),r}),n=t.cache;return t}var ZFe=XFe,QFe=ZFe,JFe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,e8e=/\\(\\)?/g,t8e=QFe(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(JFe,function(n,r,i,a){t.push(i?a.replace(e8e,"$1"):r||n)}),t}),n8e=t8e;function r8e(e,t){for(var n=-1,r=e==null?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}var A$=r8e,pq=Oj,i8e=A$,a8e=Cl,s8e=F0,gq=pq?pq.prototype:void 0,vq=gq?gq.toString:void 0;function oue(e){if(typeof e=="string")return e;if(a8e(e))return i8e(e,oue)+"";if(s8e(e))return vq?vq.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var o8e=oue,l8e=o8e;function c8e(e){return e==null?"":l8e(e)}var lue=c8e,u8e=Cl,d8e=_$,f8e=n8e,h8e=lue;function m8e(e,t){return u8e(e)?e:d8e(e,t)?[e]:f8e(h8e(e))}var cue=m8e,p8e=F0;function g8e(e){if(typeof e=="string"||p8e(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var OE=g8e,v8e=cue,x8e=OE;function y8e(e,t){t=v8e(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[x8e(t[n++])];return n&&n==r?e:void 0}var T$=y8e,b8e=T$;function w8e(e,t,n){var r=e==null?void 0:b8e(e,t);return r===void 0?n:r}var uue=w8e;const cc=Ar(uue);function j8e(e){return e==null}var N8e=j8e;const fn=Ar(N8e);var _8e=$h,S8e=Cl,k8e=Fh,C8e="[object String]";function E8e(e){return typeof e=="string"||!S8e(e)&&k8e(e)&&_8e(e)==C8e}var P8e=E8e;const lv=Ar(P8e);var due={exports:{}},ni={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O$=Symbol.for("react.element"),L$=Symbol.for("react.portal"),LE=Symbol.for("react.fragment"),ME=Symbol.for("react.strict_mode"),IE=Symbol.for("react.profiler"),DE=Symbol.for("react.provider"),RE=Symbol.for("react.context"),A8e=Symbol.for("react.server_context"),$E=Symbol.for("react.forward_ref"),FE=Symbol.for("react.suspense"),BE=Symbol.for("react.suspense_list"),zE=Symbol.for("react.memo"),VE=Symbol.for("react.lazy"),T8e=Symbol.for("react.offscreen"),fue;fue=Symbol.for("react.module.reference");function cu(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case O$:switch(e=e.type,e){case LE:case IE:case ME:case FE:case BE:return e;default:switch(e=e&&e.$$typeof,e){case A8e:case RE:case $E:case VE:case zE:case DE:return e;default:return t}}case L$:return t}}}ni.ContextConsumer=RE;ni.ContextProvider=DE;ni.Element=O$;ni.ForwardRef=$E;ni.Fragment=LE;ni.Lazy=VE;ni.Memo=zE;ni.Portal=L$;ni.Profiler=IE;ni.StrictMode=ME;ni.Suspense=FE;ni.SuspenseList=BE;ni.isAsyncMode=function(){return!1};ni.isConcurrentMode=function(){return!1};ni.isContextConsumer=function(e){return cu(e)===RE};ni.isContextProvider=function(e){return cu(e)===DE};ni.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===O$};ni.isForwardRef=function(e){return cu(e)===$E};ni.isFragment=function(e){return cu(e)===LE};ni.isLazy=function(e){return cu(e)===VE};ni.isMemo=function(e){return cu(e)===zE};ni.isPortal=function(e){return cu(e)===L$};ni.isProfiler=function(e){return cu(e)===IE};ni.isStrictMode=function(e){return cu(e)===ME};ni.isSuspense=function(e){return cu(e)===FE};ni.isSuspenseList=function(e){return cu(e)===BE};ni.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===LE||e===IE||e===ME||e===FE||e===BE||e===T8e||typeof e=="object"&&e!==null&&(e.$$typeof===VE||e.$$typeof===zE||e.$$typeof===DE||e.$$typeof===RE||e.$$typeof===$E||e.$$typeof===fue||e.getModuleId!==void 0)};ni.typeOf=cu;due.exports=ni;var O8e=due.exports,L8e=$h,M8e=Fh,I8e="[object Number]";function D8e(e){return typeof e=="number"||M8e(e)&&L8e(e)==I8e}var hue=D8e;const R8e=Ar(hue);var $8e=hue;function F8e(e){return $8e(e)&&e!=+e}var B8e=F8e;const U0=Ar(B8e);var $o=function(t){return t===0?0:t>0?1:-1},Rg=function(t){return lv(t)&&t.indexOf("%")===t.length-1},yt=function(t){return R8e(t)&&!U0(t)},z8e=function(t){return fn(t)},fs=function(t){return yt(t)||lv(t)},V8e=0,Lp=function(t){var n=++V8e;return"".concat(t||"").concat(n)},Fo=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!yt(t)&&!lv(t))return r;var a;if(Rg(t)){var o=t.indexOf("%");a=n*parseFloat(t.slice(0,o))/100}else a=+t;return U0(a)&&(a=r),i&&a>n&&(a=n),a},Lm=function(t){if(!t)return null;var n=Object.keys(t);return n&&n.length?t[n[0]]:null},q8e=function(t){if(!Array.isArray(t))return!1;for(var n=t.length,r={},i=0;i<n;i++)if(!r[t[i]])r[t[i]]=!0;else return!0;return!1},ra=function(t,n){return yt(t)&&yt(n)?function(r){return t+r*(n-t)}:function(){return n}};function _5(e,t,n){return!e||!e.length?null:e.find(function(r){return r&&(typeof t=="function"?t(r):cc(r,t))===n})}var U8e=function(t){if(!t||!t.length)return null;for(var n=t.length,r=0,i=0,a=0,o=0,l=1/0,c=-1/0,u=0,d=0,f=0;f<n;f++)u=t[f].cx||0,d=t[f].cy||0,r+=u,i+=d,a+=u*d,o+=u*u,l=Math.min(l,u),c=Math.max(c,u);var m=n*o!==r*r?(n*a-r*i)/(n*o-r*r):0;return{xmin:l,xmax:c,a:m,b:(i-m*r)/n}},W8e=function(t,n){return yt(t)&&yt(n)?t-n:lv(t)&&lv(n)?t.localeCompare(n):t instanceof Date&&n instanceof Date?t.getTime()-n.getTime():String(t).localeCompare(String(n))};function cy(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function VL(e){"@babel/helpers - typeof";return VL=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},VL(e)}var H8e=["viewBox","children"],K8e=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],xq=["points","pathLength"],i4={svg:H8e,polygon:xq,polyline:xq},M$=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],S5=function(t,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(b.isValidElement(t)&&(r=t.props),!B0(r))return null;var i={};return Object.keys(r).forEach(function(a){M$.includes(a)&&(i[a]=n||function(o){return r[a](r,o)})}),i},G8e=function(t,n,r){return function(i){return t(n,r,i),null}},fp=function(t,n,r){if(!B0(t)||VL(t)!=="object")return null;var i=null;return Object.keys(t).forEach(function(a){var o=t[a];M$.includes(a)&&typeof o=="function"&&(i||(i={}),i[a]=G8e(o,n,r))}),i},Y8e=["children"],X8e=["children"];function yq(e,t){if(e==null)return{};var n=Z8e(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Z8e(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function qL(e){"@babel/helpers - typeof";return qL=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qL(e)}var bq={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},vh=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},wq=null,a4=null,I$=function e(t){if(t===wq&&Array.isArray(a4))return a4;var n=[];return b.Children.forEach(t,function(r){fn(r)||(O8e.isFragment(r)?n=n.concat(e(r.props.children)):n.push(r))}),a4=n,wq=t,n};function Uo(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(function(i){return vh(i)}):r=[vh(t)],I$(e).forEach(function(i){var a=cc(i,"type.displayName")||cc(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}function Wl(e,t){var n=Uo(e,t);return n&&n[0]}var jq=function(t){if(!t||!t.props)return!1;var n=t.props,r=n.width,i=n.height;return!(!yt(r)||r<=0||!yt(i)||i<=0)},Q8e=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],J8e=function(t){return t&&t.type&&lv(t.type)&&Q8e.indexOf(t.type)>=0},mue=function(t){return t&&qL(t)==="object"&&"clipDot"in t},e7e=function(t,n,r,i){var a,o=(a=i4==null?void 0:i4[i])!==null&&a!==void 0?a:[];return n.startsWith("data-")||!mn(t)&&(i&&o.includes(n)||K8e.includes(n))||r&&M$.includes(n)},Zt=function(t,n,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var i=t;if(b.isValidElement(t)&&(i=t.props),!B0(i))return null;var a={};return Object.keys(i).forEach(function(o){var l;e7e((l=i)===null||l===void 0?void 0:l[o],o,n,r)&&(a[o]=i[o])}),a},UL=function e(t,n){if(t===n)return!0;var r=b.Children.count(t);if(r!==b.Children.count(n))return!1;if(r===0)return!0;if(r===1)return Nq(Array.isArray(t)?t[0]:t,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var a=t[i],o=n[i];if(Array.isArray(a)||Array.isArray(o)){if(!e(a,o))return!1}else if(!Nq(a,o))return!1}return!0},Nq=function(t,n){if(fn(t)&&fn(n))return!0;if(!fn(t)&&!fn(n)){var r=t.props||{},i=r.children,a=yq(r,Y8e),o=n.props||{},l=o.children,c=yq(o,X8e);return i&&l?cy(a,c)&&UL(i,l):!i&&!l?cy(a,c):!1}return!1},_q=function(t,n){var r=[],i={};return I$(t).forEach(function(a,o){if(J8e(a))r.push(a);else if(a){var l=vh(a.type),c=n[l]||{},u=c.handler,d=c.once;if(u&&(!d||!i[l])){var f=u(a,l,o);r.push(f),i[l]=!0}}}),r},t7e=function(t){var n=t&&t.type;return n&&bq[n]?bq[n]:null},n7e=function(t,n){return I$(n).indexOf(t)},r7e=["children","width","height","viewBox","className","style","title","desc"];function WL(){return WL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},WL.apply(this,arguments)}function i7e(e,t){if(e==null)return{};var n=a7e(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function a7e(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function HL(e){var t=e.children,n=e.width,r=e.height,i=e.viewBox,a=e.className,o=e.style,l=e.title,c=e.desc,u=i7e(e,r7e),d=i||{width:n,height:r,x:0,y:0},f=In("recharts-surface",a);return E.createElement("svg",WL({},Zt(u,!0,"svg"),{className:f,width:n,height:r,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),E.createElement("title",null,l),E.createElement("desc",null,c),t)}var s7e=["children","className"];function KL(){return KL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},KL.apply(this,arguments)}function o7e(e,t){if(e==null)return{};var n=l7e(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function l7e(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var Kn=E.forwardRef(function(e,t){var n=e.children,r=e.className,i=o7e(e,s7e),a=In("recharts-layer",r);return E.createElement("g",KL({className:a},Zt(i,!0),{ref:t}),n)}),Zu=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]};function c7e(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),n=n>i?i:n,n<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var a=Array(i);++r<i;)a[r]=e[r+t];return a}var u7e=c7e,d7e=u7e;function f7e(e,t,n){var r=e.length;return n=n===void 0?r:n,!t&&n>=r?e:d7e(e,t,n)}var h7e=f7e,m7e="\\ud800-\\udfff",p7e="\\u0300-\\u036f",g7e="\\ufe20-\\ufe2f",v7e="\\u20d0-\\u20ff",x7e=p7e+g7e+v7e,y7e="\\ufe0e\\ufe0f",b7e="\\u200d",w7e=RegExp("["+b7e+m7e+x7e+y7e+"]");function j7e(e){return w7e.test(e)}var pue=j7e;function N7e(e){return e.split("")}var _7e=N7e,gue="\\ud800-\\udfff",S7e="\\u0300-\\u036f",k7e="\\ufe20-\\ufe2f",C7e="\\u20d0-\\u20ff",E7e=S7e+k7e+C7e,P7e="\\ufe0e\\ufe0f",A7e="["+gue+"]",GL="["+E7e+"]",YL="\\ud83c[\\udffb-\\udfff]",T7e="(?:"+GL+"|"+YL+")",vue="[^"+gue+"]",xue="(?:\\ud83c[\\udde6-\\uddff]){2}",yue="[\\ud800-\\udbff][\\udc00-\\udfff]",O7e="\\u200d",bue=T7e+"?",wue="["+P7e+"]?",L7e="(?:"+O7e+"(?:"+[vue,xue,yue].join("|")+")"+wue+bue+")*",M7e=wue+bue+L7e,I7e="(?:"+[vue+GL+"?",GL,xue,yue,A7e].join("|")+")",D7e=RegExp(YL+"(?="+YL+")|"+I7e+M7e,"g");function R7e(e){return e.match(D7e)||[]}var $7e=R7e,F7e=_7e,B7e=pue,z7e=$7e;function V7e(e){return B7e(e)?z7e(e):F7e(e)}var q7e=V7e,U7e=h7e,W7e=pue,H7e=q7e,K7e=lue;function G7e(e){return function(t){t=K7e(t);var n=W7e(t)?H7e(t):void 0,r=n?n[0]:t.charAt(0),i=n?U7e(n,1).join(""):t.slice(1);return r[e]()+i}}var Y7e=G7e,X7e=Y7e,Z7e=X7e("toUpperCase"),Q7e=Z7e;const qE=Ar(Q7e);function wi(e){return function(){return e}}const jue=Math.cos,k5=Math.sin,fd=Math.sqrt,C5=Math.PI,UE=2*C5,XL=Math.PI,ZL=2*XL,yg=1e-6,J7e=ZL-yg;function Nue(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function eBe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Nue;const n=10**t;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class tBe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Nue:eBe(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,a,o){this._append`C${+t},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(t,n,r,i,a){if(t=+t,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,l=this._y1,c=r-t,u=i-n,d=o-t,f=l-n,m=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(m>yg)if(!(Math.abs(f*c-u*d)>yg)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let h=r-o,g=i-l,y=c*c+u*u,v=h*h+g*g,x=Math.sqrt(y),w=Math.sqrt(m),j=a*Math.tan((XL-Math.acos((y+m-v)/(2*x*w)))/2),_=j/w,S=j/x;Math.abs(_-1)>yg&&this._append`L${t+_*d},${n+_*f}`,this._append`A${a},${a},0,0,${+(f*h>d*g)},${this._x1=t+S*c},${this._y1=n+S*u}`}}arc(t,n,r,i,a,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(i),c=r*Math.sin(i),u=t+l,d=n+c,f=1^o,m=o?i-a:a-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>yg||Math.abs(this._y1-d)>yg)&&this._append`L${u},${d}`,r&&(m<0&&(m=m%ZL+ZL),m>J7e?this._append`A${r},${r},0,1,${f},${t-l},${n-c}A${r},${r},0,1,${f},${this._x1=u},${this._y1=d}`:m>yg&&this._append`A${r},${r},0,${+(m>=XL)},${f},${this._x1=t+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function D$(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new tBe(t)}function R$(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function _ue(e){this._context=e}_ue.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function WE(e){return new _ue(e)}function Sue(e){return e[0]}function kue(e){return e[1]}function Cue(e,t){var n=wi(!0),r=null,i=WE,a=null,o=D$(l);e=typeof e=="function"?e:e===void 0?Sue:wi(e),t=typeof t=="function"?t:t===void 0?kue:wi(t);function l(c){var u,d=(c=R$(c)).length,f,m=!1,h;for(r==null&&(a=i(h=o())),u=0;u<=d;++u)!(u<d&&n(f=c[u],u,c))===m&&((m=!m)?a.lineStart():a.lineEnd()),m&&a.point(+e(f,u,c),+t(f,u,c));if(h)return a=null,h+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:wi(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:wi(+c),l):t},l.defined=function(c){return arguments.length?(n=typeof c=="function"?c:wi(!!c),l):n},l.curve=function(c){return arguments.length?(i=c,r!=null&&(a=i(r)),l):i},l.context=function(c){return arguments.length?(c==null?r=a=null:a=i(r=c),l):r},l}function n_(e,t,n){var r=null,i=wi(!0),a=null,o=WE,l=null,c=D$(u);e=typeof e=="function"?e:e===void 0?Sue:wi(+e),t=typeof t=="function"?t:wi(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?kue:wi(+n);function u(f){var m,h,g,y=(f=R$(f)).length,v,x=!1,w,j=new Array(y),_=new Array(y);for(a==null&&(l=o(w=c())),m=0;m<=y;++m){if(!(m<y&&i(v=f[m],m,f))===x)if(x=!x)h=m,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),g=m-1;g>=h;--g)l.point(j[g],_[g]);l.lineEnd(),l.areaEnd()}x&&(j[m]=+e(v,m,f),_[m]=+t(v,m,f),l.point(r?+r(v,m,f):j[m],n?+n(v,m,f):_[m]))}if(w)return l=null,w+""||null}function d(){return Cue().defined(i).curve(o).context(a)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:wi(+f),r=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:wi(+f),u):e},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:wi(+f),u):r},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:wi(+f),n=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:wi(+f),u):t},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:wi(+f),u):n},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(n)},u.lineX1=function(){return d().x(r).y(t)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:wi(!!f),u):i},u.curve=function(f){return arguments.length?(o=f,a!=null&&(l=o(a)),u):o},u.context=function(f){return arguments.length?(f==null?a=l=null:l=o(a=f),u):a},u}class Eue{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function nBe(e){return new Eue(e,!0)}function rBe(e){return new Eue(e,!1)}const $$={draw(e,t){const n=fd(t/C5);e.moveTo(n,0),e.arc(0,0,n,0,UE)}},iBe={draw(e,t){const n=fd(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},Pue=fd(1/3),aBe=Pue*2,sBe={draw(e,t){const n=fd(t/aBe),r=n*Pue;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},oBe={draw(e,t){const n=fd(t),r=-n/2;e.rect(r,r,n,n)}},lBe=.8908130915292852,Aue=k5(C5/10)/k5(7*C5/10),cBe=k5(UE/10)*Aue,uBe=-jue(UE/10)*Aue,dBe={draw(e,t){const n=fd(t*lBe),r=cBe*n,i=uBe*n;e.moveTo(0,-n),e.lineTo(r,i);for(let a=1;a<5;++a){const o=UE*a/5,l=jue(o),c=k5(o);e.lineTo(c*n,-l*n),e.lineTo(l*r-c*i,c*r+l*i)}e.closePath()}},s4=fd(3),fBe={draw(e,t){const n=-fd(t/(s4*3));e.moveTo(0,n*2),e.lineTo(-s4*n,-n),e.lineTo(s4*n,-n),e.closePath()}},Dc=-.5,Rc=fd(3)/2,QL=1/fd(12),hBe=(QL/2+1)*3,mBe={draw(e,t){const n=fd(t/hBe),r=n/2,i=n*QL,a=r,o=n*QL+n,l=-a,c=o;e.moveTo(r,i),e.lineTo(a,o),e.lineTo(l,c),e.lineTo(Dc*r-Rc*i,Rc*r+Dc*i),e.lineTo(Dc*a-Rc*o,Rc*a+Dc*o),e.lineTo(Dc*l-Rc*c,Rc*l+Dc*c),e.lineTo(Dc*r+Rc*i,Dc*i-Rc*r),e.lineTo(Dc*a+Rc*o,Dc*o-Rc*a),e.lineTo(Dc*l+Rc*c,Dc*c-Rc*l),e.closePath()}};function pBe(e,t){let n=null,r=D$(i);e=typeof e=="function"?e:wi(e||$$),t=typeof t=="function"?t:wi(t===void 0?64:+t);function i(){let a;if(n||(n=a=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:wi(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:wi(+a),i):t},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function E5(){}function P5(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function Tue(e){this._context=e}Tue.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:P5(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:P5(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function gBe(e){return new Tue(e)}function Oue(e){this._context=e}Oue.prototype={areaStart:E5,areaEnd:E5,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:P5(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function vBe(e){return new Oue(e)}function Lue(e){this._context=e}Lue.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:P5(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function xBe(e){return new Lue(e)}function Mue(e){this._context=e}Mue.prototype={areaStart:E5,areaEnd:E5,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function yBe(e){return new Mue(e)}function Sq(e){return e<0?-1:1}function kq(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),o=(n-e._y1)/(i||r<0&&-0),l=(a*i+o*r)/(r+i);return(Sq(a)+Sq(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(l))||0}function Cq(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function o4(e,t,n){var r=e._x0,i=e._y0,a=e._x1,o=e._y1,l=(a-r)/3;e._context.bezierCurveTo(r+l,i+l*t,a-l,o-l*n,a,o)}function A5(e){this._context=e}A5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:o4(this,this._t0,Cq(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,o4(this,Cq(this,n=kq(this,e,t)),n);break;default:o4(this,this._t0,n=kq(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function Iue(e){this._context=new Due(e)}(Iue.prototype=Object.create(A5.prototype)).point=function(e,t){A5.prototype.point.call(this,t,e)};function Due(e){this._context=e}Due.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}};function bBe(e){return new A5(e)}function wBe(e){return new Iue(e)}function Rue(e){this._context=e}Rue.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=Eq(e),i=Eq(t),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Eq(e){var t,n=e.length-1,r,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/a[t-1],a[t]-=r,o[t]-=r*o[t-1];for(i[n-1]=o[n-1]/a[n-1],t=n-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(a[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function jBe(e){return new Rue(e)}function HE(e,t){this._context=e,this._t=t}HE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function NBe(e){return new HE(e,.5)}function _Be(e){return new HE(e,0)}function SBe(e){return new HE(e,1)}function qy(e,t){if((o=e.length)>1)for(var n=1,r,i,a=e[t[0]],o,l=a.length;n<o;++n)for(i=a,a=e[t[n]],r=0;r<l;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function JL(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function kBe(e,t){return e[t]}function CBe(e){const t=[];return t.key=e,t}function EBe(){var e=wi([]),t=JL,n=qy,r=kBe;function i(a){var o=Array.from(e.apply(this,arguments),CBe),l,c=o.length,u=-1,d;for(const f of a)for(l=0,++u;l<c;++l)(o[l][u]=[0,+r(f,o[l].key,u,a)]).data=f;for(l=0,d=R$(t(o));l<c;++l)o[d[l]].index=l;return n(o,d),o}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:wi(Array.from(a)),i):e},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:wi(+a),i):r},i.order=function(a){return arguments.length?(t=a==null?JL:typeof a=="function"?a:wi(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(n=a??qy,i):n},i}function PBe(e,t){if((r=e.length)>0){for(var n,r,i=0,a=e[0].length,o;i<a;++i){for(o=n=0;n<r;++n)o+=e[n][i][1]||0;if(o)for(n=0;n<r;++n)e[n][i][1]/=o}qy(e,t)}}function ABe(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,a=r.length;n<a;++n){for(var o=0,l=0;o<i;++o)l+=e[o][n][1]||0;r[n][1]+=r[n][0]=-l/2}qy(e,t)}}function TBe(e,t){if(!(!((o=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,a,o;r<a;++r){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],f=d[r][1]||0,m=d[r-1][1]||0,h=(f-m)/2,g=0;g<l;++g){var y=e[t[g]],v=y[r][1]||0,x=y[r-1][1]||0;h+=v-x}c+=f,u+=h*f}i[r-1][1]+=i[r-1][0]=n,c&&(n-=u/c)}i[r-1][1]+=i[r-1][0]=n,qy(e,t)}}function Yw(e){"@babel/helpers - typeof";return Yw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yw(e)}var OBe=["type","size","sizeType"];function eM(){return eM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},eM.apply(this,arguments)}function Pq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Aq(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Pq(Object(n),!0).forEach(function(r){LBe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pq(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function LBe(e,t,n){return t=MBe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MBe(e){var t=IBe(e,"string");return Yw(t)=="symbol"?t:t+""}function IBe(e,t){if(Yw(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Yw(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function DBe(e,t){if(e==null)return{};var n=RBe(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function RBe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var $ue={symbolCircle:$$,symbolCross:iBe,symbolDiamond:sBe,symbolSquare:oBe,symbolStar:dBe,symbolTriangle:fBe,symbolWye:mBe},$Be=Math.PI/180,FBe=function(t){var n="symbol".concat(qE(t));return $ue[n]||$$},BBe=function(t,n,r){if(n==="area")return t;switch(r){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var i=18*$Be;return 1.25*t*t*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},zBe=function(t,n){$ue["symbol".concat(qE(t))]=n},KE=function(t){var n=t.type,r=n===void 0?"circle":n,i=t.size,a=i===void 0?64:i,o=t.sizeType,l=o===void 0?"area":o,c=DBe(t,OBe),u=Aq(Aq({},c),{},{type:r,size:a,sizeType:l}),d=function(){var v=FBe(r),x=pBe().type(v).size(BBe(a,l,r));return x()},f=u.className,m=u.cx,h=u.cy,g=Zt(u,!0);return m===+m&&h===+h&&a===+a?E.createElement("path",eM({},g,{className:In("recharts-symbols",f),transform:"translate(".concat(m,", ").concat(h,")"),d:d()})):null};KE.registerSymbol=zBe;function Uy(e){"@babel/helpers - typeof";return Uy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uy(e)}function tM(){return tM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tM.apply(this,arguments)}function Tq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function VBe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Tq(Object(n),!0).forEach(function(r){Xw(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tq(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qBe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function UBe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Bue(r.key),r)}}function WBe(e,t,n){return t&&UBe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function HBe(e,t,n){return t=T5(t),KBe(e,Fue()?Reflect.construct(t,n||[],T5(e).constructor):t.apply(e,n))}function KBe(e,t){if(t&&(Uy(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GBe(e)}function GBe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Fue(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Fue=function(){return!!e})()}function T5(e){return T5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},T5(e)}function YBe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nM(e,t)}function nM(e,t){return nM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},nM(e,t)}function Xw(e,t,n){return t=Bue(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bue(e){var t=XBe(e,"string");return Uy(t)=="symbol"?t:t+""}function XBe(e,t){if(Uy(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Uy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var $c=32,F$=function(e){function t(){return qBe(this,t),HBe(this,t,arguments)}return YBe(t,e),WBe(t,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,a=$c/2,o=$c/6,l=$c/3,c=r.inactive?i:r.color;if(r.type==="plainline")return E.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:a,x2:$c,y2:a,className:"recharts-legend-icon"});if(r.type==="line")return E.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(a,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(a,`
            H`).concat($c,"M").concat(2*l,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(a),className:"recharts-legend-icon"});if(r.type==="rect")return E.createElement("path",{stroke:"none",fill:c,d:"M0,".concat($c/8,"h").concat($c,"v").concat($c*3/4,"h").concat(-$c,"z"),className:"recharts-legend-icon"});if(E.isValidElement(r.legendIcon)){var u=VBe({},r);return delete u.legendIcon,E.cloneElement(r.legendIcon,u)}return E.createElement(KE,{fill:c,cx:a,cy:a,size:$c,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,a=i.payload,o=i.iconSize,l=i.layout,c=i.formatter,u=i.inactiveColor,d={x:0,y:0,width:$c,height:$c},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},m={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(h,g){var y=h.formatter||c,v=In(Xw(Xw({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",h.inactive));if(h.type==="none")return null;var x=mn(h.value)?null:h.value;Zu(!mn(h.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var w=h.inactive?u:h.color;return E.createElement("li",tM({className:v,style:f,key:"legend-item-".concat(g)},fp(r.props,h,g)),E.createElement(HL,{width:o,height:o,viewBox:d,style:m},r.renderIcon(h)),E.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},y?y(x,h,g):x))})}},{key:"render",value:function(){var r=this.props,i=r.payload,a=r.layout,o=r.align;if(!i||!i.length)return null;var l={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return E.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(b.PureComponent);Xw(F$,"displayName","Legend");Xw(F$,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var ZBe=AE;function QBe(){this.__data__=new ZBe,this.size=0}var JBe=QBe;function e9e(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var t9e=e9e;function n9e(e){return this.__data__.get(e)}var r9e=n9e;function i9e(e){return this.__data__.has(e)}var a9e=i9e,s9e=AE,o9e=C$,l9e=E$,c9e=200;function u9e(e,t){var n=this.__data__;if(n instanceof s9e){var r=n.__data__;if(!o9e||r.length<c9e-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new l9e(r)}return n.set(e,t),this.size=n.size,this}var d9e=u9e,f9e=AE,h9e=JBe,m9e=t9e,p9e=r9e,g9e=a9e,v9e=d9e;function W0(e){var t=this.__data__=new f9e(e);this.size=t.size}W0.prototype.clear=h9e;W0.prototype.delete=m9e;W0.prototype.get=p9e;W0.prototype.has=g9e;W0.prototype.set=v9e;var zue=W0,x9e="__lodash_hash_undefined__";function y9e(e){return this.__data__.set(e,x9e),this}var b9e=y9e;function w9e(e){return this.__data__.has(e)}var j9e=w9e,N9e=E$,_9e=b9e,S9e=j9e;function O5(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new N9e;++t<n;)this.add(e[t])}O5.prototype.add=O5.prototype.push=_9e;O5.prototype.has=S9e;var Vue=O5;function k9e(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var que=k9e;function C9e(e,t){return e.has(t)}var Uue=C9e,E9e=Vue,P9e=que,A9e=Uue,T9e=1,O9e=2;function L9e(e,t,n,r,i,a){var o=n&T9e,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var u=a.get(e),d=a.get(t);if(u&&d)return u==t&&d==e;var f=-1,m=!0,h=n&O9e?new E9e:void 0;for(a.set(e,t),a.set(t,e);++f<l;){var g=e[f],y=t[f];if(r)var v=o?r(y,g,f,t,e,a):r(g,y,f,e,t,a);if(v!==void 0){if(v)continue;m=!1;break}if(h){if(!P9e(t,function(x,w){if(!A9e(h,w)&&(g===x||i(g,x,n,r,a)))return h.push(w)})){m=!1;break}}else if(!(g===y||i(g,y,n,r,a))){m=!1;break}}return a.delete(e),a.delete(t),m}var Wue=L9e,M9e=jf,I9e=M9e.Uint8Array,D9e=I9e;function R9e(e){var t=-1,n=Array(e.size);return e.forEach(function(r,i){n[++t]=[i,r]}),n}var $9e=R9e;function F9e(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var B$=F9e,Oq=Oj,Lq=D9e,B9e=k$,z9e=Wue,V9e=$9e,q9e=B$,U9e=1,W9e=2,H9e="[object Boolean]",K9e="[object Date]",G9e="[object Error]",Y9e="[object Map]",X9e="[object Number]",Z9e="[object RegExp]",Q9e="[object Set]",J9e="[object String]",eze="[object Symbol]",tze="[object ArrayBuffer]",nze="[object DataView]",Mq=Oq?Oq.prototype:void 0,l4=Mq?Mq.valueOf:void 0;function rze(e,t,n,r,i,a,o){switch(n){case nze:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case tze:return!(e.byteLength!=t.byteLength||!a(new Lq(e),new Lq(t)));case H9e:case K9e:case X9e:return B9e(+e,+t);case G9e:return e.name==t.name&&e.message==t.message;case Z9e:case J9e:return e==t+"";case Y9e:var l=V9e;case Q9e:var c=r&U9e;if(l||(l=q9e),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;r|=W9e,o.set(e,t);var d=z9e(l(e),l(t),r,i,a,o);return o.delete(e),d;case eze:if(l4)return l4.call(e)==l4.call(t)}return!1}var ize=rze;function aze(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var Hue=aze,sze=Hue,oze=Cl;function lze(e,t,n){var r=t(e);return oze(e)?r:sze(r,n(e))}var cze=lze;function uze(e,t){for(var n=-1,r=e==null?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a}var dze=uze;function fze(){return[]}var hze=fze,mze=dze,pze=hze,gze=Object.prototype,vze=gze.propertyIsEnumerable,Iq=Object.getOwnPropertySymbols,xze=Iq?function(e){return e==null?[]:(e=Object(e),mze(Iq(e),function(t){return vze.call(e,t)}))}:pze,yze=xze;function bze(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var wze=bze,jze=$h,Nze=Fh,_ze="[object Arguments]";function Sze(e){return Nze(e)&&jze(e)==_ze}var kze=Sze,Dq=kze,Cze=Fh,Kue=Object.prototype,Eze=Kue.hasOwnProperty,Pze=Kue.propertyIsEnumerable,Aze=Dq(function(){return arguments}())?Dq:function(e){return Cze(e)&&Eze.call(e,"callee")&&!Pze.call(e,"callee")},z$=Aze,L5={exports:{}};function Tze(){return!1}var Oze=Tze;L5.exports;(function(e,t){var n=jf,r=Oze,i=t&&!t.nodeType&&t,a=i&&!0&&e&&!e.nodeType&&e,o=a&&a.exports===i,l=o?n.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||r;e.exports=u})(L5,L5.exports);var Gue=L5.exports,Lze=9007199254740991,Mze=/^(?:0|[1-9]\d*)$/;function Ize(e,t){var n=typeof e;return t=t??Lze,!!t&&(n=="number"||n!="symbol"&&Mze.test(e))&&e>-1&&e%1==0&&e<t}var V$=Ize,Dze=9007199254740991;function Rze(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Dze}var q$=Rze,$ze=$h,Fze=q$,Bze=Fh,zze="[object Arguments]",Vze="[object Array]",qze="[object Boolean]",Uze="[object Date]",Wze="[object Error]",Hze="[object Function]",Kze="[object Map]",Gze="[object Number]",Yze="[object Object]",Xze="[object RegExp]",Zze="[object Set]",Qze="[object String]",Jze="[object WeakMap]",eVe="[object ArrayBuffer]",tVe="[object DataView]",nVe="[object Float32Array]",rVe="[object Float64Array]",iVe="[object Int8Array]",aVe="[object Int16Array]",sVe="[object Int32Array]",oVe="[object Uint8Array]",lVe="[object Uint8ClampedArray]",cVe="[object Uint16Array]",uVe="[object Uint32Array]",Li={};Li[nVe]=Li[rVe]=Li[iVe]=Li[aVe]=Li[sVe]=Li[oVe]=Li[lVe]=Li[cVe]=Li[uVe]=!0;Li[zze]=Li[Vze]=Li[eVe]=Li[qze]=Li[tVe]=Li[Uze]=Li[Wze]=Li[Hze]=Li[Kze]=Li[Gze]=Li[Yze]=Li[Xze]=Li[Zze]=Li[Qze]=Li[Jze]=!1;function dVe(e){return Bze(e)&&Fze(e.length)&&!!Li[$ze(e)]}var fVe=dVe;function hVe(e){return function(t){return e(t)}}var Yue=hVe,M5={exports:{}};M5.exports;(function(e,t){var n=nue,r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,a=i&&i.exports===r,o=a&&n.process,l=function(){try{var c=i&&i.require&&i.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(M5,M5.exports);var mVe=M5.exports,pVe=fVe,gVe=Yue,Rq=mVe,$q=Rq&&Rq.isTypedArray,vVe=$q?gVe($q):pVe,Xue=vVe,xVe=wze,yVe=z$,bVe=Cl,wVe=Gue,jVe=V$,NVe=Xue,_Ve=Object.prototype,SVe=_Ve.hasOwnProperty;function kVe(e,t){var n=bVe(e),r=!n&&yVe(e),i=!n&&!r&&wVe(e),a=!n&&!r&&!i&&NVe(e),o=n||r||i||a,l=o?xVe(e.length,String):[],c=l.length;for(var u in e)(t||SVe.call(e,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||jVe(u,c)))&&l.push(u);return l}var CVe=kVe,EVe=Object.prototype;function PVe(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||EVe;return e===n}var AVe=PVe;function TVe(e,t){return function(n){return e(t(n))}}var Zue=TVe,OVe=Zue,LVe=OVe(Object.keys,Object),MVe=LVe,IVe=AVe,DVe=MVe,RVe=Object.prototype,$Ve=RVe.hasOwnProperty;function FVe(e){if(!IVe(e))return DVe(e);var t=[];for(var n in Object(e))$Ve.call(e,n)&&n!="constructor"&&t.push(n);return t}var BVe=FVe,zVe=S$,VVe=q$;function qVe(e){return e!=null&&VVe(e.length)&&!zVe(e)}var Lj=qVe,UVe=CVe,WVe=BVe,HVe=Lj;function KVe(e){return HVe(e)?UVe(e):WVe(e)}var GE=KVe,GVe=cze,YVe=yze,XVe=GE;function ZVe(e){return GVe(e,XVe,YVe)}var QVe=ZVe,Fq=QVe,JVe=1,eqe=Object.prototype,tqe=eqe.hasOwnProperty;function nqe(e,t,n,r,i,a){var o=n&JVe,l=Fq(e),c=l.length,u=Fq(t),d=u.length;if(c!=d&&!o)return!1;for(var f=c;f--;){var m=l[f];if(!(o?m in t:tqe.call(t,m)))return!1}var h=a.get(e),g=a.get(t);if(h&&g)return h==t&&g==e;var y=!0;a.set(e,t),a.set(t,e);for(var v=o;++f<c;){m=l[f];var x=e[m],w=t[m];if(r)var j=o?r(w,x,m,t,e,a):r(x,w,m,e,t,a);if(!(j===void 0?x===w||i(x,w,n,r,a):j)){y=!1;break}v||(v=m=="constructor")}if(y&&!v){var _=e.constructor,S=t.constructor;_!=S&&"constructor"in e&&"constructor"in t&&!(typeof _=="function"&&_ instanceof _&&typeof S=="function"&&S instanceof S)&&(y=!1)}return a.delete(e),a.delete(t),y}var rqe=nqe,iqe=Tv,aqe=jf,sqe=iqe(aqe,"DataView"),oqe=sqe,lqe=Tv,cqe=jf,uqe=lqe(cqe,"Promise"),dqe=uqe,fqe=Tv,hqe=jf,mqe=fqe(hqe,"Set"),Que=mqe,pqe=Tv,gqe=jf,vqe=pqe(gqe,"WeakMap"),xqe=vqe,rM=oqe,iM=C$,aM=dqe,sM=Que,oM=xqe,Jue=$h,H0=iue,Bq="[object Map]",yqe="[object Object]",zq="[object Promise]",Vq="[object Set]",qq="[object WeakMap]",Uq="[object DataView]",bqe=H0(rM),wqe=H0(iM),jqe=H0(aM),Nqe=H0(sM),_qe=H0(oM),bg=Jue;(rM&&bg(new rM(new ArrayBuffer(1)))!=Uq||iM&&bg(new iM)!=Bq||aM&&bg(aM.resolve())!=zq||sM&&bg(new sM)!=Vq||oM&&bg(new oM)!=qq)&&(bg=function(e){var t=Jue(e),n=t==yqe?e.constructor:void 0,r=n?H0(n):"";if(r)switch(r){case bqe:return Uq;case wqe:return Bq;case jqe:return zq;case Nqe:return Vq;case _qe:return qq}return t});var Sqe=bg,c4=zue,kqe=Wue,Cqe=ize,Eqe=rqe,Wq=Sqe,Hq=Cl,Kq=Gue,Pqe=Xue,Aqe=1,Gq="[object Arguments]",Yq="[object Array]",r_="[object Object]",Tqe=Object.prototype,Xq=Tqe.hasOwnProperty;function Oqe(e,t,n,r,i,a){var o=Hq(e),l=Hq(t),c=o?Yq:Wq(e),u=l?Yq:Wq(t);c=c==Gq?r_:c,u=u==Gq?r_:u;var d=c==r_,f=u==r_,m=c==u;if(m&&Kq(e)){if(!Kq(t))return!1;o=!0,d=!1}if(m&&!d)return a||(a=new c4),o||Pqe(e)?kqe(e,t,n,r,i,a):Cqe(e,t,c,n,r,i,a);if(!(n&Aqe)){var h=d&&Xq.call(e,"__wrapped__"),g=f&&Xq.call(t,"__wrapped__");if(h||g){var y=h?e.value():e,v=g?t.value():t;return a||(a=new c4),i(y,v,n,r,a)}}return m?(a||(a=new c4),Eqe(e,t,n,r,i,a)):!1}var Lqe=Oqe,Mqe=Lqe,Zq=Fh;function ede(e,t,n,r,i){return e===t?!0:e==null||t==null||!Zq(e)&&!Zq(t)?e!==e&&t!==t:Mqe(e,t,n,r,ede,i)}var U$=ede,Iqe=zue,Dqe=U$,Rqe=1,$qe=2;function Fqe(e,t,n,r){var i=n.length,a=i,o=!r;if(e==null)return!a;for(e=Object(e);i--;){var l=n[i];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++i<a;){l=n[i];var c=l[0],u=e[c],d=l[1];if(o&&l[2]){if(u===void 0&&!(c in e))return!1}else{var f=new Iqe;if(r)var m=r(u,d,c,e,t,f);if(!(m===void 0?Dqe(d,u,Rqe|$qe,r,f):m))return!1}}return!0}var Bqe=Fqe,zqe=Op;function Vqe(e){return e===e&&!zqe(e)}var tde=Vqe,qqe=tde,Uqe=GE;function Wqe(e){for(var t=Uqe(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,qqe(i)]}return t}var Hqe=Wqe;function Kqe(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var nde=Kqe,Gqe=Bqe,Yqe=Hqe,Xqe=nde;function Zqe(e){var t=Yqe(e);return t.length==1&&t[0][2]?Xqe(t[0][0],t[0][1]):function(n){return n===e||Gqe(n,e,t)}}var Qqe=Zqe;function Jqe(e,t){return e!=null&&t in Object(e)}var eUe=Jqe,tUe=cue,nUe=z$,rUe=Cl,iUe=V$,aUe=q$,sUe=OE;function oUe(e,t,n){t=tUe(t,e);for(var r=-1,i=t.length,a=!1;++r<i;){var o=sUe(t[r]);if(!(a=e!=null&&n(e,o)))break;e=e[o]}return a||++r!=i?a:(i=e==null?0:e.length,!!i&&aUe(i)&&iUe(o,i)&&(rUe(e)||nUe(e)))}var lUe=oUe,cUe=eUe,uUe=lUe;function dUe(e,t){return e!=null&&uUe(e,t,cUe)}var fUe=dUe,hUe=U$,mUe=uue,pUe=fUe,gUe=_$,vUe=tde,xUe=nde,yUe=OE,bUe=1,wUe=2;function jUe(e,t){return gUe(e)&&vUe(t)?xUe(yUe(e),t):function(n){var r=mUe(n,e);return r===void 0&&r===t?pUe(n,e):hUe(t,r,bUe|wUe)}}var NUe=jUe;function _Ue(e){return e}var K0=_Ue;function SUe(e){return function(t){return t==null?void 0:t[e]}}var kUe=SUe,CUe=T$;function EUe(e){return function(t){return CUe(t,e)}}var PUe=EUe,AUe=kUe,TUe=PUe,OUe=_$,LUe=OE;function MUe(e){return OUe(e)?AUe(LUe(e)):TUe(e)}var IUe=MUe,DUe=Qqe,RUe=NUe,$Ue=K0,FUe=Cl,BUe=IUe;function zUe(e){return typeof e=="function"?e:e==null?$Ue:typeof e=="object"?FUe(e)?RUe(e[0],e[1]):DUe(e):BUe(e)}var Nf=zUe;function VUe(e,t,n,r){for(var i=e.length,a=n+(r?1:-1);r?a--:++a<i;)if(t(e[a],a,e))return a;return-1}var rde=VUe;function qUe(e){return e!==e}var UUe=qUe;function WUe(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}var HUe=WUe,KUe=rde,GUe=UUe,YUe=HUe;function XUe(e,t,n){return t===t?YUe(e,t,n):KUe(e,GUe,n)}var ZUe=XUe,QUe=ZUe;function JUe(e,t){var n=e==null?0:e.length;return!!n&&QUe(e,t,0)>-1}var eWe=JUe;function tWe(e,t,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}var nWe=tWe;function rWe(){}var iWe=rWe,u4=Que,aWe=iWe,sWe=B$,oWe=1/0,lWe=u4&&1/sWe(new u4([,-0]))[1]==oWe?function(e){return new u4(e)}:aWe,cWe=lWe,uWe=Vue,dWe=eWe,fWe=nWe,hWe=Uue,mWe=cWe,pWe=B$,gWe=200;function vWe(e,t,n){var r=-1,i=dWe,a=e.length,o=!0,l=[],c=l;if(n)o=!1,i=fWe;else if(a>=gWe){var u=t?null:mWe(e);if(u)return pWe(u);o=!1,i=hWe,c=new uWe}else c=t?[]:l;e:for(;++r<a;){var d=e[r],f=t?t(d):d;if(d=n||d!==0?d:0,o&&f===f){for(var m=c.length;m--;)if(c[m]===f)continue e;t&&c.push(f),l.push(d)}else i(c,f,n)||(c!==l&&c.push(f),l.push(d))}return l}var xWe=vWe,yWe=Nf,bWe=xWe;function wWe(e,t){return e&&e.length?bWe(e,yWe(t)):[]}var jWe=wWe;const Qq=Ar(jWe);function ide(e,t,n){return t===!0?Qq(e,n):mn(t)?Qq(e,t):e}function Wy(e){"@babel/helpers - typeof";return Wy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wy(e)}var NWe=["ref"];function Jq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Vf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Jq(Object(n),!0).forEach(function(r){YE(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jq(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _We(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eU(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,sde(r.key),r)}}function SWe(e,t,n){return t&&eU(e.prototype,t),n&&eU(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function kWe(e,t,n){return t=I5(t),CWe(e,ade()?Reflect.construct(t,n||[],I5(e).constructor):t.apply(e,n))}function CWe(e,t){if(t&&(Wy(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return EWe(e)}function EWe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ade(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ade=function(){return!!e})()}function I5(e){return I5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},I5(e)}function PWe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lM(e,t)}function lM(e,t){return lM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},lM(e,t)}function YE(e,t,n){return t=sde(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sde(e){var t=AWe(e,"string");return Wy(t)=="symbol"?t:t+""}function AWe(e,t){if(Wy(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Wy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function TWe(e,t){if(e==null)return{};var n=OWe(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function OWe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function LWe(e){return e.value}function MWe(e,t){if(E.isValidElement(e))return E.cloneElement(e,t);if(typeof e=="function")return E.createElement(e,t);t.ref;var n=TWe(t,NWe);return E.createElement(F$,n)}var tU=1,Ka=function(e){function t(){var n;_We(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=kWe(this,t,[].concat(i)),YE(n,"lastBoundingBox",{width:-1,height:-1}),n}return PWe(t,e),SWe(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>tU||Math.abs(i.height-this.lastBoundingBox.height)>tU)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Vf({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,a=i.layout,o=i.align,l=i.verticalAlign,c=i.margin,u=i.chartWidth,d=i.chartHeight,f,m;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(o==="center"&&a==="vertical"){var h=this.getBBoxSnapshot();f={left:((u||0)-h.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(l==="middle"){var g=this.getBBoxSnapshot();m={top:((d||0)-g.height)/2}}else m=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Vf(Vf({},f),m)}},{key:"render",value:function(){var r=this,i=this.props,a=i.content,o=i.width,l=i.height,c=i.wrapperStyle,u=i.payloadUniqBy,d=i.payload,f=Vf(Vf({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return E.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(h){r.wrapperNode=h}},MWe(a,Vf(Vf({},this.props),{},{payload:ide(d,u,LWe)})))}}],[{key:"getWithHeight",value:function(r,i){var a=Vf(Vf({},this.defaultProps),r.props),o=a.layout;return o==="vertical"&&yt(r.props.height)?{height:r.props.height}:o==="horizontal"?{width:r.props.width||i}:null}}])}(b.PureComponent);YE(Ka,"displayName","Legend");YE(Ka,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var nU=Oj,IWe=z$,DWe=Cl,rU=nU?nU.isConcatSpreadable:void 0;function RWe(e){return DWe(e)||IWe(e)||!!(rU&&e&&e[rU])}var $We=RWe,FWe=Hue,BWe=$We;function ode(e,t,n,r,i){var a=-1,o=e.length;for(n||(n=BWe),i||(i=[]);++a<o;){var l=e[a];t>0&&n(l)?t>1?ode(l,t-1,n,r,i):FWe(i,l):r||(i[i.length]=l)}return i}var lde=ode;function zWe(e){return function(t,n,r){for(var i=-1,a=Object(t),o=r(t),l=o.length;l--;){var c=o[e?l:++i];if(n(a[c],c,a)===!1)break}return t}}var VWe=zWe,qWe=VWe,UWe=qWe(),WWe=UWe,HWe=WWe,KWe=GE;function GWe(e,t){return e&&HWe(e,t,KWe)}var cde=GWe,YWe=Lj;function XWe(e,t){return function(n,r){if(n==null)return n;if(!YWe(n))return e(n,r);for(var i=n.length,a=t?i:-1,o=Object(n);(t?a--:++a<i)&&r(o[a],a,o)!==!1;);return n}}var ZWe=XWe,QWe=cde,JWe=ZWe,eHe=JWe(QWe),W$=eHe,tHe=W$,nHe=Lj;function rHe(e,t){var n=-1,r=nHe(e)?Array(e.length):[];return tHe(e,function(i,a,o){r[++n]=t(i,a,o)}),r}var ude=rHe;function iHe(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}var aHe=iHe,iU=F0;function sHe(e,t){if(e!==t){var n=e!==void 0,r=e===null,i=e===e,a=iU(e),o=t!==void 0,l=t===null,c=t===t,u=iU(t);if(!l&&!u&&!a&&e>t||a&&o&&c&&!l&&!u||r&&o&&c||!n&&c||!i)return 1;if(!r&&!a&&!u&&e<t||u&&n&&i&&!r&&!a||l&&n&&i||!o&&i||!c)return-1}return 0}var oHe=sHe,lHe=oHe;function cHe(e,t,n){for(var r=-1,i=e.criteria,a=t.criteria,o=i.length,l=n.length;++r<o;){var c=lHe(i[r],a[r]);if(c){if(r>=l)return c;var u=n[r];return c*(u=="desc"?-1:1)}}return e.index-t.index}var uHe=cHe,d4=A$,dHe=T$,fHe=Nf,hHe=ude,mHe=aHe,pHe=Yue,gHe=uHe,vHe=K0,xHe=Cl;function yHe(e,t,n){t.length?t=d4(t,function(a){return xHe(a)?function(o){return dHe(o,a.length===1?a[0]:a)}:a}):t=[vHe];var r=-1;t=d4(t,pHe(fHe));var i=hHe(e,function(a,o,l){var c=d4(t,function(u){return u(a)});return{criteria:c,index:++r,value:a}});return mHe(i,function(a,o){return gHe(a,o,n)})}var bHe=yHe;function wHe(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var jHe=wHe,NHe=jHe,aU=Math.max;function _He(e,t,n){return t=aU(t===void 0?e.length-1:t,0),function(){for(var r=arguments,i=-1,a=aU(r.length-t,0),o=Array(a);++i<a;)o[i]=r[t+i];i=-1;for(var l=Array(t+1);++i<t;)l[i]=r[i];return l[t]=n(o),NHe(e,this,l)}}var SHe=_He;function kHe(e){return function(){return e}}var CHe=kHe,EHe=Tv,PHe=function(){try{var e=EHe(Object,"defineProperty");return e({},"",{}),e}catch{}}(),dde=PHe,AHe=CHe,sU=dde,THe=K0,OHe=sU?function(e,t){return sU(e,"toString",{configurable:!0,enumerable:!1,value:AHe(t),writable:!0})}:THe,LHe=OHe,MHe=800,IHe=16,DHe=Date.now;function RHe(e){var t=0,n=0;return function(){var r=DHe(),i=IHe-(r-n);if(n=r,i>0){if(++t>=MHe)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var $He=RHe,FHe=LHe,BHe=$He,zHe=BHe(FHe),VHe=zHe,qHe=K0,UHe=SHe,WHe=VHe;function HHe(e,t){return WHe(UHe(e,t,qHe),e+"")}var KHe=HHe,GHe=k$,YHe=Lj,XHe=V$,ZHe=Op;function QHe(e,t,n){if(!ZHe(n))return!1;var r=typeof t;return(r=="number"?YHe(n)&&XHe(t,n.length):r=="string"&&t in n)?GHe(n[t],e):!1}var XE=QHe,JHe=lde,eKe=bHe,tKe=KHe,oU=XE,nKe=tKe(function(e,t){if(e==null)return[];var n=t.length;return n>1&&oU(e,t[0],t[1])?t=[]:n>2&&oU(t[0],t[1],t[2])&&(t=[t[0]]),eKe(e,JHe(t,1),[])}),rKe=nKe;const H$=Ar(rKe);function Zw(e){"@babel/helpers - typeof";return Zw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zw(e)}function cM(){return cM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cM.apply(this,arguments)}function iKe(e,t){return lKe(e)||oKe(e,t)||sKe(e,t)||aKe()}function aKe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sKe(e,t){if(e){if(typeof e=="string")return lU(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lU(e,t)}}function lU(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function oKe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function lKe(e){if(Array.isArray(e))return e}function cU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function f4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cU(Object(n),!0).forEach(function(r){cKe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cU(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cKe(e,t,n){return t=uKe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uKe(e){var t=dKe(e,"string");return Zw(t)=="symbol"?t:t+""}function dKe(e,t){if(Zw(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Zw(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fKe(e){return Array.isArray(e)&&fs(e[0])&&fs(e[1])?e.join(" ~ "):e}var hKe=function(t){var n=t.separator,r=n===void 0?" : ":n,i=t.contentStyle,a=i===void 0?{}:i,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,f=t.formatter,m=t.itemSorter,h=t.wrapperClassName,g=t.labelClassName,y=t.label,v=t.labelFormatter,x=t.accessibilityLayer,w=x===void 0?!1:x,j=function(){if(d&&d.length){var I={padding:0,margin:0},B=(m?H$(d,m):d).map(function($,K){if($.type==="none")return null;var Y=f4({display:"block",paddingTop:4,paddingBottom:4,color:$.color||"#000"},l),Q=$.formatter||f||fKe,H=$.value,G=$.name,U=H,ee=G;if(Q&&U!=null&&ee!=null){var z=Q(H,G,$,K,d);if(Array.isArray(z)){var F=iKe(z,2);U=F[0],ee=F[1]}else U=z}return E.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(K),style:Y},fs(ee)?E.createElement("span",{className:"recharts-tooltip-item-name"},ee):null,fs(ee)?E.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,E.createElement("span",{className:"recharts-tooltip-item-value"},U),E.createElement("span",{className:"recharts-tooltip-item-unit"},$.unit||""))});return E.createElement("ul",{className:"recharts-tooltip-item-list",style:I},B)}return null},_=f4({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),S=f4({margin:0},u),k=!fn(y),P=k?y:"",M=In("recharts-default-tooltip",h),T=In("recharts-tooltip-label",g);k&&v&&d!==void 0&&d!==null&&(P=v(y,d));var R=w?{role:"status","aria-live":"assertive"}:{};return E.createElement("div",cM({className:M,style:_},R),E.createElement("p",{className:T,style:S},E.isValidElement(P)?P:"".concat(P)),j())};function Qw(e){"@babel/helpers - typeof";return Qw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qw(e)}function i_(e,t,n){return t=mKe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mKe(e){var t=pKe(e,"string");return Qw(t)=="symbol"?t:t+""}function pKe(e,t){if(Qw(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Qw(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Kb="recharts-tooltip-wrapper",gKe={visibility:"hidden"};function vKe(e){var t=e.coordinate,n=e.translateX,r=e.translateY;return In(Kb,i_(i_(i_(i_({},"".concat(Kb,"-right"),yt(n)&&t&&yt(t.x)&&n>=t.x),"".concat(Kb,"-left"),yt(n)&&t&&yt(t.x)&&n<t.x),"".concat(Kb,"-bottom"),yt(r)&&t&&yt(t.y)&&r>=t.y),"".concat(Kb,"-top"),yt(r)&&t&&yt(t.y)&&r<t.y))}function uU(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.key,i=e.offsetTopLeft,a=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(a&&yt(a[r]))return a[r];var d=n[r]-l-i,f=n[r]+i;if(t[r])return o[r]?d:f;if(o[r]){var m=d,h=c[r];return m<h?Math.max(f,c[r]):Math.max(d,c[r])}var g=f+l,y=c[r]+u;return g>y?Math.max(d,c[r]):Math.max(f,c[r])}function xKe(e){var t=e.translateX,n=e.translateY,r=e.useTranslate3d;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function yKe(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.offsetTopLeft,i=e.position,a=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,f;return o.height>0&&o.width>0&&n?(d=uU({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=uU({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=xKe({translateX:d,translateY:f,useTranslate3d:l})):u=gKe,{cssProperties:u,cssClasses:vKe({translateX:d,translateY:f,coordinate:n})}}function Hy(e){"@babel/helpers - typeof";return Hy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hy(e)}function dU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function fU(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dU(Object(n),!0).forEach(function(r){dM(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dU(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bKe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wKe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,hde(r.key),r)}}function jKe(e,t,n){return t&&wKe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function NKe(e,t,n){return t=D5(t),_Ke(e,fde()?Reflect.construct(t,n||[],D5(e).constructor):t.apply(e,n))}function _Ke(e,t){if(t&&(Hy(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return SKe(e)}function SKe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fde(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fde=function(){return!!e})()}function D5(e){return D5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},D5(e)}function kKe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&uM(e,t)}function uM(e,t){return uM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},uM(e,t)}function dM(e,t,n){return t=hde(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hde(e){var t=CKe(e,"string");return Hy(t)=="symbol"?t:t+""}function CKe(e,t){if(Hy(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Hy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var hU=1,EKe=function(e){function t(){var n;bKe(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=NKe(this,t,[].concat(i)),dM(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),dM(n,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=n.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=n.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),n}return kKe(t,e),jKe(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>hU||Math.abs(r.height-this.state.lastBoundingBox.height)>hU)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,u=i.children,d=i.coordinate,f=i.hasPayload,m=i.isAnimationActive,h=i.offset,g=i.position,y=i.reverseDirection,v=i.useTranslate3d,x=i.viewBox,w=i.wrapperStyle,j=yKe({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:h,position:g,reverseDirection:y,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:x}),_=j.cssClasses,S=j.cssProperties,k=fU(fU({transition:m&&a?"transform ".concat(l,"ms ").concat(c):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&f?"visible":"hidden",position:"absolute",top:0,left:0},w);return E.createElement("div",{tabIndex:-1,className:_,style:k,ref:function(M){r.wrapperNode=M}},u)}}])}(b.PureComponent),PKe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Bh={isSsr:PKe()};function Ky(e){"@babel/helpers - typeof";return Ky=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ky(e)}function mU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function pU(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mU(Object(n),!0).forEach(function(r){K$(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mU(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function AKe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function TKe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,pde(r.key),r)}}function OKe(e,t,n){return t&&TKe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function LKe(e,t,n){return t=R5(t),MKe(e,mde()?Reflect.construct(t,n||[],R5(e).constructor):t.apply(e,n))}function MKe(e,t){if(t&&(Ky(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return IKe(e)}function IKe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mde(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mde=function(){return!!e})()}function R5(e){return R5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},R5(e)}function DKe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fM(e,t)}function fM(e,t){return fM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},fM(e,t)}function K$(e,t,n){return t=pde(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pde(e){var t=RKe(e,"string");return Ky(t)=="symbol"?t:t+""}function RKe(e,t){if(Ky(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ky(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function $Ke(e){return e.dataKey}function FKe(e,t){return E.isValidElement(e)?E.cloneElement(e,t):typeof e=="function"?E.createElement(e,t):E.createElement(hKe,t)}var mr=function(e){function t(){return AKe(this,t),LKe(this,t,arguments)}return DKe(t,e),OKe(t,[{key:"render",value:function(){var r=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,u=i.content,d=i.coordinate,f=i.filterNull,m=i.isAnimationActive,h=i.offset,g=i.payload,y=i.payloadUniqBy,v=i.position,x=i.reverseDirection,w=i.useTranslate3d,j=i.viewBox,_=i.wrapperStyle,S=g??[];f&&S.length&&(S=ide(g.filter(function(P){return P.value!=null&&(P.hide!==!0||r.props.includeHidden)}),y,$Ke));var k=S.length>0;return E.createElement(EKe,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:m,active:a,coordinate:d,hasPayload:k,offset:h,position:v,reverseDirection:x,useTranslate3d:w,viewBox:j,wrapperStyle:_},FKe(u,pU(pU({},this.props),{},{payload:S})))}}])}(b.PureComponent);K$(mr,"displayName","Tooltip");K$(mr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Bh.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var BKe=jf,zKe=function(){return BKe.Date.now()},VKe=zKe,qKe=/\s/;function UKe(e){for(var t=e.length;t--&&qKe.test(e.charAt(t)););return t}var WKe=UKe,HKe=WKe,KKe=/^\s+/;function GKe(e){return e&&e.slice(0,HKe(e)+1).replace(KKe,"")}var YKe=GKe,XKe=YKe,gU=Op,ZKe=F0,vU=NaN,QKe=/^[-+]0x[0-9a-f]+$/i,JKe=/^0b[01]+$/i,eGe=/^0o[0-7]+$/i,tGe=parseInt;function nGe(e){if(typeof e=="number")return e;if(ZKe(e))return vU;if(gU(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=gU(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=XKe(e);var n=JKe.test(e);return n||eGe.test(e)?tGe(e.slice(2),n?2:8):QKe.test(e)?vU:+e}var gde=nGe,rGe=Op,h4=VKe,xU=gde,iGe="Expected a function",aGe=Math.max,sGe=Math.min;function oGe(e,t,n){var r,i,a,o,l,c,u=0,d=!1,f=!1,m=!0;if(typeof e!="function")throw new TypeError(iGe);t=xU(t)||0,rGe(n)&&(d=!!n.leading,f="maxWait"in n,a=f?aGe(xU(n.maxWait)||0,t):a,m="trailing"in n?!!n.trailing:m);function h(k){var P=r,M=i;return r=i=void 0,u=k,o=e.apply(M,P),o}function g(k){return u=k,l=setTimeout(x,t),d?h(k):o}function y(k){var P=k-c,M=k-u,T=t-P;return f?sGe(T,a-M):T}function v(k){var P=k-c,M=k-u;return c===void 0||P>=t||P<0||f&&M>=a}function x(){var k=h4();if(v(k))return w(k);l=setTimeout(x,y(k))}function w(k){return l=void 0,m&&r?h(k):(r=i=void 0,o)}function j(){l!==void 0&&clearTimeout(l),u=0,r=c=i=l=void 0}function _(){return l===void 0?o:w(h4())}function S(){var k=h4(),P=v(k);if(r=arguments,i=this,c=k,P){if(l===void 0)return g(c);if(f)return clearTimeout(l),l=setTimeout(x,t),h(c)}return l===void 0&&(l=setTimeout(x,t)),o}return S.cancel=j,S.flush=_,S}var lGe=oGe,cGe=lGe,uGe=Op,dGe="Expected a function";function fGe(e,t,n){var r=!0,i=!0;if(typeof e!="function")throw new TypeError(dGe);return uGe(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),cGe(e,t,{leading:r,maxWait:t,trailing:i})}var hGe=fGe;const vde=Ar(hGe);function Jw(e){"@babel/helpers - typeof";return Jw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jw(e)}function yU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function a_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yU(Object(n),!0).forEach(function(r){mGe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yU(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mGe(e,t,n){return t=pGe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pGe(e){var t=gGe(e,"string");return Jw(t)=="symbol"?t:t+""}function gGe(e,t){if(Jw(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Jw(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vGe(e,t){return wGe(e)||bGe(e,t)||yGe(e,t)||xGe()}function xGe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yGe(e,t){if(e){if(typeof e=="string")return bU(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bU(e,t)}}function bU(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function bGe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function wGe(e){if(Array.isArray(e))return e}var kr=b.forwardRef(function(e,t){var n=e.aspect,r=e.initialDimension,i=r===void 0?{width:-1,height:-1}:r,a=e.width,o=a===void 0?"100%":a,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,m=e.maxHeight,h=e.children,g=e.debounce,y=g===void 0?0:g,v=e.id,x=e.className,w=e.onResize,j=e.style,_=j===void 0?{}:j,S=b.useRef(null),k=b.useRef();k.current=w,b.useImperativeHandle(t,function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})});var P=b.useState({containerWidth:i.width,containerHeight:i.height}),M=vGe(P,2),T=M[0],R=M[1],D=b.useCallback(function(B,$){R(function(K){var Y=Math.round(B),Q=Math.round($);return K.containerWidth===Y&&K.containerHeight===Q?K:{containerWidth:Y,containerHeight:Q}})},[]);b.useEffect(function(){var B=function(G){var U,ee=G[0].contentRect,z=ee.width,F=ee.height;D(z,F),(U=k.current)===null||U===void 0||U.call(k,z,F)};y>0&&(B=vde(B,y,{trailing:!0,leading:!1}));var $=new ResizeObserver(B),K=S.current.getBoundingClientRect(),Y=K.width,Q=K.height;return D(Y,Q),$.observe(S.current),function(){$.disconnect()}},[D,y]);var I=b.useMemo(function(){var B=T.containerWidth,$=T.containerHeight;if(B<0||$<0)return null;Zu(Rg(o)||Rg(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),Zu(!n||n>0,"The aspect(%s) must be greater than zero.",n);var K=Rg(o)?B:o,Y=Rg(c)?$:c;n&&n>0&&(K?Y=K/n:Y&&(K=Y*n),m&&Y>m&&(Y=m)),Zu(K>0||Y>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,K,Y,o,c,d,f,n);var Q=!Array.isArray(h)&&vh(h.type).endsWith("Chart");return E.Children.map(h,function(H){return E.isValidElement(H)?b.cloneElement(H,a_({width:K,height:Y},Q?{style:a_({height:"100%",width:"100%",maxHeight:Y,maxWidth:K},H.props.style)}:{})):H})},[n,h,c,m,f,d,T,o]);return E.createElement("div",{id:v?"".concat(v):void 0,className:In("recharts-responsive-container",x),style:a_(a_({},_),{},{width:o,height:c,minWidth:d,minHeight:f,maxHeight:m}),ref:S},I)}),gc=function(t){return null};gc.displayName="Cell";function e2(e){"@babel/helpers - typeof";return e2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e2(e)}function wU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function hM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wU(Object(n),!0).forEach(function(r){jGe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wU(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jGe(e,t,n){return t=NGe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function NGe(e){var t=_Ge(e,"string");return e2(t)=="symbol"?t:t+""}function _Ge(e,t){if(e2(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(e2(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sx={widthCache:{},cacheCount:0},SGe=2e3,kGe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},jU="recharts_measurement_span";function CGe(e){var t=hM({},e);return Object.keys(t).forEach(function(n){t[n]||delete t[n]}),t}var z1=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Bh.isSsr)return{width:0,height:0};var r=CGe(n),i=JSON.stringify({text:t,copyStyle:r});if(sx.widthCache[i])return sx.widthCache[i];try{var a=document.getElementById(jU);a||(a=document.createElement("span"),a.setAttribute("id",jU),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=hM(hM({},kGe),r);Object.assign(a.style,o),a.textContent="".concat(t);var l=a.getBoundingClientRect(),c={width:l.width,height:l.height};return sx.widthCache[i]=c,++sx.cacheCount>SGe&&(sx.cacheCount=0,sx.widthCache={}),c}catch{return{width:0,height:0}}},EGe=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function t2(e){"@babel/helpers - typeof";return t2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t2(e)}function $5(e,t){return OGe(e)||TGe(e,t)||AGe(e,t)||PGe()}function PGe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AGe(e,t){if(e){if(typeof e=="string")return NU(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return NU(e,t)}}function NU(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function TGe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function OGe(e){if(Array.isArray(e))return e}function LGe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _U(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,IGe(r.key),r)}}function MGe(e,t,n){return t&&_U(e.prototype,t),n&&_U(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function IGe(e){var t=DGe(e,"string");return t2(t)=="symbol"?t:t+""}function DGe(e,t){if(t2(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(t2(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var SU=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,kU=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,RGe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,$Ge=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,xde={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},FGe=Object.keys(xde),Ux="NaN";function BGe(e,t){return e*xde[t]}var s_=function(){function e(t,n){LGe(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),n!==""&&!RGe.test(n)&&(this.num=NaN,this.unit=""),FGe.includes(n)&&(this.num=BGe(t,n),this.unit="px")}return MGe(e,[{key:"add",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=$Ge.exec(n))!==null&&r!==void 0?r:[],a=$5(i,3),o=a[1],l=a[2];return new e(parseFloat(o),l??"")}}])}();function yde(e){if(e.includes(Ux))return Ux;for(var t=e;t.includes("*")||t.includes("/");){var n,r=(n=SU.exec(t))!==null&&n!==void 0?n:[],i=$5(r,4),a=i[1],o=i[2],l=i[3],c=s_.parse(a??""),u=s_.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return Ux;t=t.replace(SU,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,m=(f=kU.exec(t))!==null&&f!==void 0?f:[],h=$5(m,4),g=h[1],y=h[2],v=h[3],x=s_.parse(g??""),w=s_.parse(v??""),j=y==="+"?x.add(w):x.subtract(w);if(j.isNaN())return Ux;t=t.replace(kU,j.toString())}return t}var CU=/\(([^()]*)\)/;function zGe(e){for(var t=e;t.includes("(");){var n=CU.exec(t),r=$5(n,2),i=r[1];t=t.replace(CU,yde(i))}return t}function VGe(e){var t=e.replace(/\s+/g,"");return t=zGe(t),t=yde(t),t}function qGe(e){try{return VGe(e)}catch{return Ux}}function m4(e){var t=qGe(e.slice(5,-1));return t===Ux?"":t}var UGe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],WGe=["dx","dy","angle","className","breakAll"];function mM(){return mM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mM.apply(this,arguments)}function EU(e,t){if(e==null)return{};var n=HGe(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function HGe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function PU(e,t){return XGe(e)||YGe(e,t)||GGe(e,t)||KGe()}function KGe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GGe(e,t){if(e){if(typeof e=="string")return AU(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return AU(e,t)}}function AU(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function YGe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function XGe(e){if(Array.isArray(e))return e}var bde=/[ \f\n\r\t\v\u2028\u2029]+/,wde=function(t){var n=t.children,r=t.breakAll,i=t.style;try{var a=[];fn(n)||(r?a=n.toString().split(""):a=n.toString().split(bde));var o=a.map(function(c){return{word:c,width:z1(c,i).width}}),l=r?0:z1("",i).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},ZGe=function(t,n,r,i,a){var o=t.maxLines,l=t.children,c=t.style,u=t.breakAll,d=yt(o),f=l,m=function(){var K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return K.reduce(function(Y,Q){var H=Q.word,G=Q.width,U=Y[Y.length-1];if(U&&(i==null||a||U.width+G+r<Number(i)))U.words.push(H),U.width+=G+r;else{var ee={words:[H],width:G};Y.push(ee)}return Y},[])},h=m(n),g=function(K){return K.reduce(function(Y,Q){return Y.width>Q.width?Y:Q})};if(!d)return h;for(var y="",v=function(K){var Y=f.slice(0,K),Q=wde({breakAll:u,style:c,children:Y+y}).wordsWithComputedWidth,H=m(Q),G=H.length>o||g(H).width>Number(i);return[G,H]},x=0,w=f.length-1,j=0,_;x<=w&&j<=f.length-1;){var S=Math.floor((x+w)/2),k=S-1,P=v(k),M=PU(P,2),T=M[0],R=M[1],D=v(S),I=PU(D,1),B=I[0];if(!T&&!B&&(x=S+1),T&&B&&(w=S-1),!T&&B){_=R;break}j++}return _||h},TU=function(t){var n=fn(t)?[]:t.toString().split(bde);return[{words:n}]},QGe=function(t){var n=t.width,r=t.scaleToFit,i=t.children,a=t.style,o=t.breakAll,l=t.maxLines;if((n||r)&&!Bh.isSsr){var c,u,d=wde({breakAll:o,children:i,style:a});if(d){var f=d.wordsWithComputedWidth,m=d.spaceWidth;c=f,u=m}else return TU(i);return ZGe({breakAll:o,children:i,maxLines:l,style:a},c,u,n,r)}return TU(i)},OU="#808080",cv=function(t){var n=t.x,r=n===void 0?0:n,i=t.y,a=i===void 0?0:i,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,f=d===void 0?!1:d,m=t.textAnchor,h=m===void 0?"start":m,g=t.verticalAnchor,y=g===void 0?"end":g,v=t.fill,x=v===void 0?OU:v,w=EU(t,UGe),j=b.useMemo(function(){return QGe({breakAll:w.breakAll,children:w.children,maxLines:w.maxLines,scaleToFit:f,style:w.style,width:w.width})},[w.breakAll,w.children,w.maxLines,f,w.style,w.width]),_=w.dx,S=w.dy,k=w.angle,P=w.className,M=w.breakAll,T=EU(w,WGe);if(!fs(r)||!fs(a))return null;var R=r+(yt(_)?_:0),D=a+(yt(S)?S:0),I;switch(y){case"start":I=m4("calc(".concat(u,")"));break;case"middle":I=m4("calc(".concat((j.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:I=m4("calc(".concat(j.length-1," * -").concat(l,")"));break}var B=[];if(f){var $=j[0].width,K=w.width;B.push("scale(".concat((yt(K)?K/$:1)/$,")"))}return k&&B.push("rotate(".concat(k,", ").concat(R,", ").concat(D,")")),B.length&&(T.transform=B.join(" ")),E.createElement("text",mM({},Zt(T,!0),{x:R,y:D,className:In("recharts-text",P),textAnchor:h,fill:x.includes("url")?OU:x}),j.map(function(Y,Q){var H=Y.words.join(M?"":" ");return E.createElement("tspan",{x:R,dy:Q===0?I:l,key:"".concat(H,"-").concat(Q)},H)}))};function tp(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function JGe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function G$(e){let t,n,r;e.length!==2?(t=tp,n=(l,c)=>tp(e(l),c),r=(l,c)=>e(l)-c):(t=e===tp||e===JGe?e:eYe,n=e,r=e);function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;n(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;n(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(l,c,u=0,d=l.length){const f=i(l,c,u,d-1);return f>u&&r(l[f-1],c)>-r(l[f],c)?f-1:f}return{left:i,center:o,right:a}}function eYe(){return 0}function jde(e){return e===null?NaN:+e}function*tYe(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const nYe=G$(tp),Mj=nYe.right;G$(jde).center;class LU extends Map{constructor(t,n=aYe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(MU(this,t))}has(t){return super.has(MU(this,t))}set(t,n){return super.set(rYe(this,t),n)}delete(t){return super.delete(iYe(this,t))}}function MU({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function rYe({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function iYe({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function aYe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function sYe(e=tp){if(e===tp)return Nde;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function Nde(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const oYe=Math.sqrt(50),lYe=Math.sqrt(10),cYe=Math.sqrt(2);function F5(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=oYe?10:a>=lYe?5:a>=cYe?2:1;let l,c,u;return i<0?(u=Math.pow(10,-i)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,i)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=n&&n<2?F5(e,t,n*2):[l,c,u]}function pM(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,a,o]=r?F5(t,e,n):F5(e,t,n);if(!(a>=i))return[];const l=a-i+1,c=new Array(l);if(r)if(o<0)for(let u=0;u<l;++u)c[u]=(a-u)/-o;else for(let u=0;u<l;++u)c[u]=(a-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(i+u)/-o;else for(let u=0;u<l;++u)c[u]=(i+u)*o;return c}function gM(e,t,n){return t=+t,e=+e,n=+n,F5(e,t,n)[2]}function vM(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?gM(t,e,n):gM(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function IU(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function DU(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function _de(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?Nde:sYe(i);r>n;){if(r-n>600){const c=r-n+1,u=t-n+1,d=Math.log(c),f=.5*Math.exp(2*d/3),m=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),h=Math.max(n,Math.floor(t-u*f/c+m)),g=Math.min(r,Math.floor(t+(c-u)*f/c+m));_de(e,t,h,g,i)}const a=e[t];let o=n,l=r;for(Gb(e,n,t),i(e[r],a)>0&&Gb(e,n,r);o<l;){for(Gb(e,o,l),++o,--l;i(e[o],a)<0;)++o;for(;i(e[l],a)>0;)--l}i(e[n],a)===0?Gb(e,n,l):(++l,Gb(e,l,r)),l<=t&&(n=l+1),t<=l&&(r=l-1)}return e}function Gb(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function uYe(e,t,n){if(e=Float64Array.from(tYe(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return DU(e);if(t>=1)return IU(e);var r,i=(r-1)*t,a=Math.floor(i),o=IU(_de(e,a).subarray(0,a+1)),l=DU(e.subarray(a+1));return o+(l-o)*(i-a)}}function dYe(e,t,n=jde){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),o=+n(e[a],a,e),l=+n(e[a+1],a+1,e);return o+(l-o)*(i-a)}}function fYe(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(i);++r<i;)a[r]=e+r*n;return a}function uu(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function zh(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const xM=Symbol("implicit");function Y$(){var e=new LU,t=[],n=[],r=xM;function i(a){let o=e.get(a);if(o===void 0){if(r!==xM)return r;e.set(a,o=t.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new LU;for(const o of a)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return Y$(t,n).unknown(r)},uu.apply(i,arguments),i}function n2(){var e=Y$().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,a,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var m=t().length,h=i<r,g=h?i:r,y=h?r:i;a=(y-g)/Math.max(1,m-c+u*2),l&&(a=Math.floor(a)),g+=(y-g-a*(m-c))*d,o=a*(1-c),l&&(g=Math.round(g),o=Math.round(o));var v=fYe(m).map(function(x){return g+a*x});return n(h?v.reverse():v)}return e.domain=function(m){return arguments.length?(t(m),f()):t()},e.range=function(m){return arguments.length?([r,i]=m,r=+r,i=+i,f()):[r,i]},e.rangeRound=function(m){return[r,i]=m,r=+r,i=+i,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return a},e.round=function(m){return arguments.length?(l=!!m,f()):l},e.padding=function(m){return arguments.length?(c=Math.min(1,u=+m),f()):c},e.paddingInner=function(m){return arguments.length?(c=Math.min(1,m),f()):c},e.paddingOuter=function(m){return arguments.length?(u=+m,f()):u},e.align=function(m){return arguments.length?(d=Math.max(0,Math.min(1,m)),f()):d},e.copy=function(){return n2(t(),[r,i]).round(l).paddingInner(c).paddingOuter(u).align(d)},uu.apply(f(),arguments)}function Sde(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Sde(t())},e}function V1(){return Sde(n2.apply(null,arguments).paddingInner(1))}function X$(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function kde(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Ij(){}var r2=.7,B5=1/r2,uy="\\s*([+-]?\\d+)\\s*",i2="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",rf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",hYe=/^#([0-9a-f]{3,8})$/,mYe=new RegExp(`^rgb\\(${uy},${uy},${uy}\\)$`),pYe=new RegExp(`^rgb\\(${rf},${rf},${rf}\\)$`),gYe=new RegExp(`^rgba\\(${uy},${uy},${uy},${i2}\\)$`),vYe=new RegExp(`^rgba\\(${rf},${rf},${rf},${i2}\\)$`),xYe=new RegExp(`^hsl\\(${i2},${rf},${rf}\\)$`),yYe=new RegExp(`^hsla\\(${i2},${rf},${rf},${i2}\\)$`),RU={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};X$(Ij,a2,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:$U,formatHex:$U,formatHex8:bYe,formatHsl:wYe,formatRgb:FU,toString:FU});function $U(){return this.rgb().formatHex()}function bYe(){return this.rgb().formatHex8()}function wYe(){return Cde(this).formatHsl()}function FU(){return this.rgb().formatRgb()}function a2(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=hYe.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?BU(t):n===3?new xl(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?o_(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?o_(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=mYe.exec(e))?new xl(t[1],t[2],t[3],1):(t=pYe.exec(e))?new xl(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=gYe.exec(e))?o_(t[1],t[2],t[3],t[4]):(t=vYe.exec(e))?o_(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=xYe.exec(e))?qU(t[1],t[2]/100,t[3]/100,1):(t=yYe.exec(e))?qU(t[1],t[2]/100,t[3]/100,t[4]):RU.hasOwnProperty(e)?BU(RU[e]):e==="transparent"?new xl(NaN,NaN,NaN,0):null}function BU(e){return new xl(e>>16&255,e>>8&255,e&255,1)}function o_(e,t,n,r){return r<=0&&(e=t=n=NaN),new xl(e,t,n,r)}function jYe(e){return e instanceof Ij||(e=a2(e)),e?(e=e.rgb(),new xl(e.r,e.g,e.b,e.opacity)):new xl}function yM(e,t,n,r){return arguments.length===1?jYe(e):new xl(e,t,n,r??1)}function xl(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}X$(xl,yM,kde(Ij,{brighter(e){return e=e==null?B5:Math.pow(B5,e),new xl(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?r2:Math.pow(r2,e),new xl(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new xl(Gg(this.r),Gg(this.g),Gg(this.b),z5(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:zU,formatHex:zU,formatHex8:NYe,formatRgb:VU,toString:VU}));function zU(){return`#${$g(this.r)}${$g(this.g)}${$g(this.b)}`}function NYe(){return`#${$g(this.r)}${$g(this.g)}${$g(this.b)}${$g((isNaN(this.opacity)?1:this.opacity)*255)}`}function VU(){const e=z5(this.opacity);return`${e===1?"rgb(":"rgba("}${Gg(this.r)}, ${Gg(this.g)}, ${Gg(this.b)}${e===1?")":`, ${e})`}`}function z5(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Gg(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function $g(e){return e=Gg(e),(e<16?"0":"")+e.toString(16)}function qU(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Uu(e,t,n,r)}function Cde(e){if(e instanceof Uu)return new Uu(e.h,e.s,e.l,e.opacity);if(e instanceof Ij||(e=a2(e)),!e)return new Uu;if(e instanceof Uu)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),o=NaN,l=a-i,c=(a+i)/2;return l?(t===a?o=(n-r)/l+(n<r)*6:n===a?o=(r-t)/l+2:o=(t-n)/l+4,l/=c<.5?a+i:2-a-i,o*=60):l=c>0&&c<1?0:o,new Uu(o,l,c,e.opacity)}function _Ye(e,t,n,r){return arguments.length===1?Cde(e):new Uu(e,t,n,r??1)}function Uu(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}X$(Uu,_Ye,kde(Ij,{brighter(e){return e=e==null?B5:Math.pow(B5,e),new Uu(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?r2:Math.pow(r2,e),new Uu(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new xl(p4(e>=240?e-240:e+120,i,r),p4(e,i,r),p4(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Uu(UU(this.h),l_(this.s),l_(this.l),z5(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=z5(this.opacity);return`${e===1?"hsl(":"hsla("}${UU(this.h)}, ${l_(this.s)*100}%, ${l_(this.l)*100}%${e===1?")":`, ${e})`}`}}));function UU(e){return e=(e||0)%360,e<0?e+360:e}function l_(e){return Math.max(0,Math.min(1,e||0))}function p4(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Z$=e=>()=>e;function SYe(e,t){return function(n){return e+n*t}}function kYe(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function CYe(e){return(e=+e)==1?Ede:function(t,n){return n-t?kYe(t,n,e):Z$(isNaN(t)?n:t)}}function Ede(e,t){var n=t-e;return n?SYe(e,n):Z$(isNaN(e)?t:e)}const WU=function e(t){var n=CYe(t);function r(i,a){var o=n((i=yM(i)).r,(a=yM(a)).r),l=n(i.g,a.g),c=n(i.b,a.b),u=Ede(i.opacity,a.opacity);return function(d){return i.r=o(d),i.g=l(d),i.b=c(d),i.opacity=u(d),i+""}}return r.gamma=e,r}(1);function EYe(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function PYe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function AYe(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=G0(e[o],t[o]);for(;o<n;++o)a[o]=t[o];return function(l){for(o=0;o<r;++o)a[o]=i[o](l);return a}}function TYe(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function V5(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function OYe(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=G0(e[i],t[i]):r[i]=t[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var bM=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,g4=new RegExp(bM.source,"g");function LYe(e){return function(){return e}}function MYe(e){return function(t){return e(t)+""}}function IYe(e,t){var n=bM.lastIndex=g4.lastIndex=0,r,i,a,o=-1,l=[],c=[];for(e=e+"",t=t+"";(r=bM.exec(e))&&(i=g4.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),l[o]?l[o]+=a:l[++o]=a),(r=r[0])===(i=i[0])?l[o]?l[o]+=i:l[++o]=i:(l[++o]=null,c.push({i:o,x:V5(r,i)})),n=g4.lastIndex;return n<t.length&&(a=t.slice(n),l[o]?l[o]+=a:l[++o]=a),l.length<2?c[0]?MYe(c[0].x):LYe(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function G0(e,t){var n=typeof t,r;return t==null||n==="boolean"?Z$(t):(n==="number"?V5:n==="string"?(r=a2(t))?(t=r,WU):IYe:t instanceof a2?WU:t instanceof Date?TYe:PYe(t)?EYe:Array.isArray(t)?AYe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?OYe:V5)(e,t)}function Q$(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function DYe(e,t){t===void 0&&(t=e,e=G0);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(o){var l=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[l](o-l)}}function RYe(e){return function(){return e}}function q5(e){return+e}var HU=[0,1];function Bo(e){return e}function wM(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:RYe(isNaN(t)?NaN:.5)}function $Ye(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function FYe(e,t,n){var r=e[0],i=e[1],a=t[0],o=t[1];return i<r?(r=wM(i,r),a=n(o,a)):(r=wM(r,i),a=n(a,o)),function(l){return a(r(l))}}function BYe(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=wM(e[o],e[o+1]),a[o]=n(t[o],t[o+1]);return function(l){var c=Mj(e,l,1,r)-1;return a[c](i[c](l))}}function Dj(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function ZE(){var e=HU,t=HU,n=G0,r,i,a,o=Bo,l,c,u;function d(){var m=Math.min(e.length,t.length);return o!==Bo&&(o=$Ye(e[0],e[m-1])),l=m>2?BYe:FYe,c=u=null,f}function f(m){return m==null||isNaN(m=+m)?a:(c||(c=l(e.map(r),t,n)))(r(o(m)))}return f.invert=function(m){return o(i((u||(u=l(t,e.map(r),V5)))(m)))},f.domain=function(m){return arguments.length?(e=Array.from(m,q5),d()):e.slice()},f.range=function(m){return arguments.length?(t=Array.from(m),d()):t.slice()},f.rangeRound=function(m){return t=Array.from(m),n=Q$,d()},f.clamp=function(m){return arguments.length?(o=m?!0:Bo,d()):o!==Bo},f.interpolate=function(m){return arguments.length?(n=m,d()):n},f.unknown=function(m){return arguments.length?(a=m,f):a},function(m,h){return r=m,i=h,d()}}function J$(){return ZE()(Bo,Bo)}function zYe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function U5(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Gy(e){return e=U5(Math.abs(e)),e?e[1]:NaN}function VYe(e,t){return function(n,r){for(var i=n.length,a=[],o=0,l=e[0],c=0;i>0&&l>0&&(c+l+1>r&&(l=Math.max(1,r-c)),a.push(n.substring(i-=l,i+l)),!((c+=l+1)>r));)l=e[o=(o+1)%e.length];return a.reverse().join(t)}}function qYe(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var UYe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function s2(e){if(!(t=UYe.exec(e)))throw new Error("invalid format: "+e);var t;return new eF({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}s2.prototype=eF.prototype;function eF(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}eF.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function WYe(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var Pde;function HYe(e,t){var n=U5(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(Pde=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+U5(e,Math.max(0,t+a-1))[0]}function KU(e,t){var n=U5(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const GU={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:zYe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>KU(e*100,t),r:KU,s:HYe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function YU(e){return e}var XU=Array.prototype.map,ZU=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function KYe(e){var t=e.grouping===void 0||e.thousands===void 0?YU:VYe(XU.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?YU:qYe(XU.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=s2(f);var m=f.fill,h=f.align,g=f.sign,y=f.symbol,v=f.zero,x=f.width,w=f.comma,j=f.precision,_=f.trim,S=f.type;S==="n"?(w=!0,S="g"):GU[S]||(j===void 0&&(j=12),_=!0,S="g"),(v||m==="0"&&h==="=")&&(v=!0,m="0",h="=");var k=y==="$"?n:y==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",P=y==="$"?r:/[%p]/.test(S)?o:"",M=GU[S],T=/[defgprs%]/.test(S);j=j===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,j)):Math.max(0,Math.min(20,j));function R(D){var I=k,B=P,$,K,Y;if(S==="c")B=M(D)+B,D="";else{D=+D;var Q=D<0||1/D<0;if(D=isNaN(D)?c:M(Math.abs(D),j),_&&(D=WYe(D)),Q&&+D==0&&g!=="+"&&(Q=!1),I=(Q?g==="("?g:l:g==="-"||g==="("?"":g)+I,B=(S==="s"?ZU[8+Pde/3]:"")+B+(Q&&g==="("?")":""),T){for($=-1,K=D.length;++$<K;)if(Y=D.charCodeAt($),48>Y||Y>57){B=(Y===46?i+D.slice($+1):D.slice($))+B,D=D.slice(0,$);break}}}w&&!v&&(D=t(D,1/0));var H=I.length+D.length+B.length,G=H<x?new Array(x-H+1).join(m):"";switch(w&&v&&(D=t(G+D,G.length?x-B.length:1/0),G=""),h){case"<":D=I+D+B+G;break;case"=":D=I+G+D+B;break;case"^":D=G.slice(0,H=G.length>>1)+I+D+B+G.slice(H);break;default:D=G+I+D+B;break}return a(D)}return R.toString=function(){return f+""},R}function d(f,m){var h=u((f=s2(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor(Gy(m)/3)))*3,y=Math.pow(10,-g),v=ZU[8+g/3];return function(x){return h(y*x)+v}}return{format:u,formatPrefix:d}}var c_,tF,Ade;GYe({thousands:",",grouping:[3],currency:["$",""]});function GYe(e){return c_=KYe(e),tF=c_.format,Ade=c_.formatPrefix,c_}function YYe(e){return Math.max(0,-Gy(Math.abs(e)))}function XYe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Gy(t)/3)))*3-Gy(Math.abs(e)))}function ZYe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Gy(t)-Gy(e))+1}function Tde(e,t,n,r){var i=vM(e,t,n),a;switch(r=s2(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=XYe(i,o))&&(r.precision=a),Ade(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=ZYe(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=YYe(i))&&(r.precision=a-(r.type==="%")*2);break}}return tF(r)}function Mp(e){var t=e.domain;return e.ticks=function(n){var r=t();return pM(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return Tde(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,a=r.length-1,o=r[i],l=r[a],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=i,i=a,a=u);d-- >0;){if(u=gM(o,l,n),u===c)return r[i]=o,r[a]=l,t(r);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function W5(){var e=J$();return e.copy=function(){return Dj(e,W5())},uu.apply(e,arguments),Mp(e)}function Ode(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,q5),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return Ode(e).unknown(t)},e=arguments.length?Array.from(e,q5):[0,1],Mp(n)}function Lde(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],a=e[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),e[n]=t.floor(i),e[r]=t.ceil(a),e}function QU(e){return Math.log(e)}function JU(e){return Math.exp(e)}function QYe(e){return-Math.log(-e)}function JYe(e){return-Math.exp(-e)}function eXe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function tXe(e){return e===10?eXe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function nXe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function eW(e){return(t,n)=>-e(-t,n)}function nF(e){const t=e(QU,JU),n=t.domain;let r=10,i,a;function o(){return i=nXe(r),a=tXe(r),n()[0]<0?(i=eW(i),a=eW(a),e(QYe,JYe)):e(QU,JU),t}return t.base=function(l){return arguments.length?(r=+l,o()):r},t.domain=function(l){return arguments.length?(n(l),o()):n()},t.ticks=l=>{const c=n();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let m=i(u),h=i(d),g,y;const v=l==null?10:+l;let x=[];if(!(r%1)&&h-m<v){if(m=Math.floor(m),h=Math.ceil(h),u>0){for(;m<=h;++m)for(g=1;g<r;++g)if(y=m<0?g/a(-m):g*a(m),!(y<u)){if(y>d)break;x.push(y)}}else for(;m<=h;++m)for(g=r-1;g>=1;--g)if(y=m>0?g/a(-m):g*a(m),!(y<u)){if(y>d)break;x.push(y)}x.length*2<v&&(x=pM(u,d,v))}else x=pM(m,h,Math.min(h-m,v)).map(a);return f?x.reverse():x},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=s2(c)).precision==null&&(c.trim=!0),c=tF(c)),l===1/0)return c;const u=Math.max(1,r*l/t.ticks().length);return d=>{let f=d/a(Math.round(i(d)));return f*r<r-.5&&(f*=r),f<=u?c(d):""}},t.nice=()=>n(Lde(n(),{floor:l=>a(Math.floor(i(l))),ceil:l=>a(Math.ceil(i(l)))})),t}function Mde(){const e=nF(ZE()).domain([1,10]);return e.copy=()=>Dj(e,Mde()).base(e.base()),uu.apply(e,arguments),e}function tW(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function nW(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function rF(e){var t=1,n=e(tW(t),nW(t));return n.constant=function(r){return arguments.length?e(tW(t=+r),nW(t)):t},Mp(n)}function Ide(){var e=rF(ZE());return e.copy=function(){return Dj(e,Ide()).constant(e.constant())},uu.apply(e,arguments)}function rW(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function rXe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function iXe(e){return e<0?-e*e:e*e}function iF(e){var t=e(Bo,Bo),n=1;function r(){return n===1?e(Bo,Bo):n===.5?e(rXe,iXe):e(rW(n),rW(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},Mp(t)}function aF(){var e=iF(ZE());return e.copy=function(){return Dj(e,aF()).exponent(e.exponent())},uu.apply(e,arguments),e}function aXe(){return aF.apply(null,arguments).exponent(.5)}function iW(e){return Math.sign(e)*e*e}function sXe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function Dde(){var e=J$(),t=[0,1],n=!1,r;function i(a){var o=sXe(e(a));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(a){return e.invert(iW(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,q5)).map(iW)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return Dde(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},uu.apply(i,arguments),Mp(i)}function Rde(){var e=[],t=[],n=[],r;function i(){var o=0,l=Math.max(1,t.length);for(n=new Array(l-1);++o<l;)n[o-1]=dYe(e,o/l);return a}function a(o){return o==null||isNaN(o=+o)?r:t[Mj(n,o)]}return a.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?n[l-1]:e[0],l<n.length?n[l]:e[e.length-1]]},a.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(tp),i()},a.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return Rde().domain(e).range(t).unknown(r)},uu.apply(a,arguments)}function $de(){var e=0,t=1,n=1,r=[.5],i=[0,1],a;function o(c){return c!=null&&c<=c?i[Mj(r,c,0,n)]:a}function l(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*t-(c-n)*e)/(n+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(n=(i=Array.from(c)).length-1,l()):i.slice()},o.invertExtent=function(c){var u=i.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,r[0]]:u>=n?[r[n-1],t]:[r[u-1],r[u]]},o.unknown=function(c){return arguments.length&&(a=c),o},o.thresholds=function(){return r.slice()},o.copy=function(){return $de().domain([e,t]).range(i).unknown(a)},uu.apply(Mp(o),arguments)}function Fde(){var e=[.5],t=[0,1],n,r=1;function i(a){return a!=null&&a<=a?t[Mj(e,a,0,r)]:n}return i.domain=function(a){return arguments.length?(e=Array.from(a),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var o=t.indexOf(a);return[e[o-1],e[o]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return Fde().domain(e).range(t).unknown(n)},uu.apply(i,arguments)}const v4=new Date,x4=new Date;function ms(e,t,n,r){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const o=i(a),l=i.ceil(a);return a-o<l-a?o:l},i.offset=(a,o)=>(t(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,l)=>{const c=[];if(a=i.ceil(a),l=l==null?1:Math.floor(l),!(a<o)||!(l>0))return c;let u;do c.push(u=new Date(+a)),t(a,l),e(a);while(u<a&&a<o);return c},i.filter=a=>ms(o=>{if(o>=o)for(;e(o),!a(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!a(o););else for(;--l>=0;)for(;t(o,1),!a(o););}),n&&(i.count=(a,o)=>(v4.setTime(+a),x4.setTime(+o),e(v4),e(x4),Math.floor(n(v4,x4))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const H5=ms(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);H5.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ms(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):H5);H5.range;const lh=1e3,Zc=lh*60,ch=Zc*60,Ah=ch*24,sF=Ah*7,aW=Ah*30,y4=Ah*365,Fg=ms(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*lh)},(e,t)=>(t-e)/lh,e=>e.getUTCSeconds());Fg.range;const oF=ms(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*lh)},(e,t)=>{e.setTime(+e+t*Zc)},(e,t)=>(t-e)/Zc,e=>e.getMinutes());oF.range;const lF=ms(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Zc)},(e,t)=>(t-e)/Zc,e=>e.getUTCMinutes());lF.range;const cF=ms(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*lh-e.getMinutes()*Zc)},(e,t)=>{e.setTime(+e+t*ch)},(e,t)=>(t-e)/ch,e=>e.getHours());cF.range;const uF=ms(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*ch)},(e,t)=>(t-e)/ch,e=>e.getUTCHours());uF.range;const Rj=ms(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Zc)/Ah,e=>e.getDate()-1);Rj.range;const QE=ms(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ah,e=>e.getUTCDate()-1);QE.range;const Bde=ms(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ah,e=>Math.floor(e/Ah));Bde.range;function Ov(e){return ms(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Zc)/sF)}const JE=Ov(0),K5=Ov(1),oXe=Ov(2),lXe=Ov(3),Yy=Ov(4),cXe=Ov(5),uXe=Ov(6);JE.range;K5.range;oXe.range;lXe.range;Yy.range;cXe.range;uXe.range;function Lv(e){return ms(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/sF)}const eP=Lv(0),G5=Lv(1),dXe=Lv(2),fXe=Lv(3),Xy=Lv(4),hXe=Lv(5),mXe=Lv(6);eP.range;G5.range;dXe.range;fXe.range;Xy.range;hXe.range;mXe.range;const dF=ms(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());dF.range;const fF=ms(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());fF.range;const Th=ms(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Th.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ms(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Th.range;const Oh=ms(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Oh.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ms(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Oh.range;function zde(e,t,n,r,i,a){const o=[[Fg,1,lh],[Fg,5,5*lh],[Fg,15,15*lh],[Fg,30,30*lh],[a,1,Zc],[a,5,5*Zc],[a,15,15*Zc],[a,30,30*Zc],[i,1,ch],[i,3,3*ch],[i,6,6*ch],[i,12,12*ch],[r,1,Ah],[r,2,2*Ah],[n,1,sF],[t,1,aW],[t,3,3*aW],[e,1,y4]];function l(u,d,f){const m=d<u;m&&([u,d]=[d,u]);const h=f&&typeof f.range=="function"?f:c(u,d,f),g=h?h.range(u,+d+1):[];return m?g.reverse():g}function c(u,d,f){const m=Math.abs(d-u)/f,h=G$(([,,v])=>v).right(o,m);if(h===o.length)return e.every(vM(u/y4,d/y4,f));if(h===0)return H5.every(Math.max(vM(u,d,f),1));const[g,y]=o[m/o[h-1][2]<o[h][2]/m?h-1:h];return g.every(y)}return[l,c]}const[pXe,gXe]=zde(Oh,fF,eP,Bde,uF,lF),[vXe,xXe]=zde(Th,dF,JE,Rj,cF,oF);function b4(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function w4(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Yb(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function yXe(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=Xb(i),d=Zb(i),f=Xb(a),m=Zb(a),h=Xb(o),g=Zb(o),y=Xb(l),v=Zb(l),x=Xb(c),w=Zb(c),j={a:Q,A:H,b:G,B:U,c:null,d:dW,e:dW,f:VXe,g:QXe,G:eZe,H:FXe,I:BXe,j:zXe,L:Vde,m:qXe,M:UXe,p:ee,q:z,Q:mW,s:pW,S:WXe,u:HXe,U:KXe,V:GXe,w:YXe,W:XXe,x:null,X:null,y:ZXe,Y:JXe,Z:tZe,"%":hW},_={a:F,A:ie,b:ce,B:te,c:null,d:fW,e:fW,f:aZe,g:pZe,G:vZe,H:nZe,I:rZe,j:iZe,L:Ude,m:sZe,M:oZe,p:oe,q:ve,Q:mW,s:pW,S:lZe,u:cZe,U:uZe,V:dZe,w:fZe,W:hZe,x:null,X:null,y:mZe,Y:gZe,Z:xZe,"%":hW},S={a:R,A:D,b:I,B,c:$,d:cW,e:cW,f:IXe,g:lW,G:oW,H:uW,I:uW,j:TXe,L:MXe,m:AXe,M:OXe,p:T,q:PXe,Q:RXe,s:$Xe,S:LXe,u:_Xe,U:SXe,V:kXe,w:NXe,W:CXe,x:K,X:Y,y:lW,Y:oW,Z:EXe,"%":DXe};j.x=k(n,j),j.X=k(r,j),j.c=k(t,j),_.x=k(n,_),_.X=k(r,_),_.c=k(t,_);function k(ne,xe){return function(ue){var re=[],Se=-1,ae=0,X=ne.length,Ae,qe,tt;for(ue instanceof Date||(ue=new Date(+ue));++Se<X;)ne.charCodeAt(Se)===37&&(re.push(ne.slice(ae,Se)),(qe=sW[Ae=ne.charAt(++Se)])!=null?Ae=ne.charAt(++Se):qe=Ae==="e"?" ":"0",(tt=xe[Ae])&&(Ae=tt(ue,qe)),re.push(Ae),ae=Se+1);return re.push(ne.slice(ae,Se)),re.join("")}}function P(ne,xe){return function(ue){var re=Yb(1900,void 0,1),Se=M(re,ne,ue+="",0),ae,X;if(Se!=ue.length)return null;if("Q"in re)return new Date(re.Q);if("s"in re)return new Date(re.s*1e3+("L"in re?re.L:0));if(xe&&!("Z"in re)&&(re.Z=0),"p"in re&&(re.H=re.H%12+re.p*12),re.m===void 0&&(re.m="q"in re?re.q:0),"V"in re){if(re.V<1||re.V>53)return null;"w"in re||(re.w=1),"Z"in re?(ae=w4(Yb(re.y,0,1)),X=ae.getUTCDay(),ae=X>4||X===0?G5.ceil(ae):G5(ae),ae=QE.offset(ae,(re.V-1)*7),re.y=ae.getUTCFullYear(),re.m=ae.getUTCMonth(),re.d=ae.getUTCDate()+(re.w+6)%7):(ae=b4(Yb(re.y,0,1)),X=ae.getDay(),ae=X>4||X===0?K5.ceil(ae):K5(ae),ae=Rj.offset(ae,(re.V-1)*7),re.y=ae.getFullYear(),re.m=ae.getMonth(),re.d=ae.getDate()+(re.w+6)%7)}else("W"in re||"U"in re)&&("w"in re||(re.w="u"in re?re.u%7:"W"in re?1:0),X="Z"in re?w4(Yb(re.y,0,1)).getUTCDay():b4(Yb(re.y,0,1)).getDay(),re.m=0,re.d="W"in re?(re.w+6)%7+re.W*7-(X+5)%7:re.w+re.U*7-(X+6)%7);return"Z"in re?(re.H+=re.Z/100|0,re.M+=re.Z%100,w4(re)):b4(re)}}function M(ne,xe,ue,re){for(var Se=0,ae=xe.length,X=ue.length,Ae,qe;Se<ae;){if(re>=X)return-1;if(Ae=xe.charCodeAt(Se++),Ae===37){if(Ae=xe.charAt(Se++),qe=S[Ae in sW?xe.charAt(Se++):Ae],!qe||(re=qe(ne,ue,re))<0)return-1}else if(Ae!=ue.charCodeAt(re++))return-1}return re}function T(ne,xe,ue){var re=u.exec(xe.slice(ue));return re?(ne.p=d.get(re[0].toLowerCase()),ue+re[0].length):-1}function R(ne,xe,ue){var re=h.exec(xe.slice(ue));return re?(ne.w=g.get(re[0].toLowerCase()),ue+re[0].length):-1}function D(ne,xe,ue){var re=f.exec(xe.slice(ue));return re?(ne.w=m.get(re[0].toLowerCase()),ue+re[0].length):-1}function I(ne,xe,ue){var re=x.exec(xe.slice(ue));return re?(ne.m=w.get(re[0].toLowerCase()),ue+re[0].length):-1}function B(ne,xe,ue){var re=y.exec(xe.slice(ue));return re?(ne.m=v.get(re[0].toLowerCase()),ue+re[0].length):-1}function $(ne,xe,ue){return M(ne,t,xe,ue)}function K(ne,xe,ue){return M(ne,n,xe,ue)}function Y(ne,xe,ue){return M(ne,r,xe,ue)}function Q(ne){return o[ne.getDay()]}function H(ne){return a[ne.getDay()]}function G(ne){return c[ne.getMonth()]}function U(ne){return l[ne.getMonth()]}function ee(ne){return i[+(ne.getHours()>=12)]}function z(ne){return 1+~~(ne.getMonth()/3)}function F(ne){return o[ne.getUTCDay()]}function ie(ne){return a[ne.getUTCDay()]}function ce(ne){return c[ne.getUTCMonth()]}function te(ne){return l[ne.getUTCMonth()]}function oe(ne){return i[+(ne.getUTCHours()>=12)]}function ve(ne){return 1+~~(ne.getUTCMonth()/3)}return{format:function(ne){var xe=k(ne+="",j);return xe.toString=function(){return ne},xe},parse:function(ne){var xe=P(ne+="",!1);return xe.toString=function(){return ne},xe},utcFormat:function(ne){var xe=k(ne+="",_);return xe.toString=function(){return ne},xe},utcParse:function(ne){var xe=P(ne+="",!0);return xe.toString=function(){return ne},xe}}}var sW={"-":"",_:" ",0:"0"},Ss=/^\s*\d+/,bXe=/^%/,wXe=/[\\^$*+?|[\]().{}]/g;function Or(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function jXe(e){return e.replace(wXe,"\\$&")}function Xb(e){return new RegExp("^(?:"+e.map(jXe).join("|")+")","i")}function Zb(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function NXe(e,t,n){var r=Ss.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function _Xe(e,t,n){var r=Ss.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function SXe(e,t,n){var r=Ss.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function kXe(e,t,n){var r=Ss.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function CXe(e,t,n){var r=Ss.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function oW(e,t,n){var r=Ss.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function lW(e,t,n){var r=Ss.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function EXe(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function PXe(e,t,n){var r=Ss.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function AXe(e,t,n){var r=Ss.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function cW(e,t,n){var r=Ss.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function TXe(e,t,n){var r=Ss.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function uW(e,t,n){var r=Ss.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function OXe(e,t,n){var r=Ss.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function LXe(e,t,n){var r=Ss.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function MXe(e,t,n){var r=Ss.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function IXe(e,t,n){var r=Ss.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function DXe(e,t,n){var r=bXe.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function RXe(e,t,n){var r=Ss.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function $Xe(e,t,n){var r=Ss.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function dW(e,t){return Or(e.getDate(),t,2)}function FXe(e,t){return Or(e.getHours(),t,2)}function BXe(e,t){return Or(e.getHours()%12||12,t,2)}function zXe(e,t){return Or(1+Rj.count(Th(e),e),t,3)}function Vde(e,t){return Or(e.getMilliseconds(),t,3)}function VXe(e,t){return Vde(e,t)+"000"}function qXe(e,t){return Or(e.getMonth()+1,t,2)}function UXe(e,t){return Or(e.getMinutes(),t,2)}function WXe(e,t){return Or(e.getSeconds(),t,2)}function HXe(e){var t=e.getDay();return t===0?7:t}function KXe(e,t){return Or(JE.count(Th(e)-1,e),t,2)}function qde(e){var t=e.getDay();return t>=4||t===0?Yy(e):Yy.ceil(e)}function GXe(e,t){return e=qde(e),Or(Yy.count(Th(e),e)+(Th(e).getDay()===4),t,2)}function YXe(e){return e.getDay()}function XXe(e,t){return Or(K5.count(Th(e)-1,e),t,2)}function ZXe(e,t){return Or(e.getFullYear()%100,t,2)}function QXe(e,t){return e=qde(e),Or(e.getFullYear()%100,t,2)}function JXe(e,t){return Or(e.getFullYear()%1e4,t,4)}function eZe(e,t){var n=e.getDay();return e=n>=4||n===0?Yy(e):Yy.ceil(e),Or(e.getFullYear()%1e4,t,4)}function tZe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Or(t/60|0,"0",2)+Or(t%60,"0",2)}function fW(e,t){return Or(e.getUTCDate(),t,2)}function nZe(e,t){return Or(e.getUTCHours(),t,2)}function rZe(e,t){return Or(e.getUTCHours()%12||12,t,2)}function iZe(e,t){return Or(1+QE.count(Oh(e),e),t,3)}function Ude(e,t){return Or(e.getUTCMilliseconds(),t,3)}function aZe(e,t){return Ude(e,t)+"000"}function sZe(e,t){return Or(e.getUTCMonth()+1,t,2)}function oZe(e,t){return Or(e.getUTCMinutes(),t,2)}function lZe(e,t){return Or(e.getUTCSeconds(),t,2)}function cZe(e){var t=e.getUTCDay();return t===0?7:t}function uZe(e,t){return Or(eP.count(Oh(e)-1,e),t,2)}function Wde(e){var t=e.getUTCDay();return t>=4||t===0?Xy(e):Xy.ceil(e)}function dZe(e,t){return e=Wde(e),Or(Xy.count(Oh(e),e)+(Oh(e).getUTCDay()===4),t,2)}function fZe(e){return e.getUTCDay()}function hZe(e,t){return Or(G5.count(Oh(e)-1,e),t,2)}function mZe(e,t){return Or(e.getUTCFullYear()%100,t,2)}function pZe(e,t){return e=Wde(e),Or(e.getUTCFullYear()%100,t,2)}function gZe(e,t){return Or(e.getUTCFullYear()%1e4,t,4)}function vZe(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Xy(e):Xy.ceil(e),Or(e.getUTCFullYear()%1e4,t,4)}function xZe(){return"+0000"}function hW(){return"%"}function mW(e){return+e}function pW(e){return Math.floor(+e/1e3)}var ox,Hde,Kde;yZe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function yZe(e){return ox=yXe(e),Hde=ox.format,ox.parse,Kde=ox.utcFormat,ox.utcParse,ox}function bZe(e){return new Date(e)}function wZe(e){return e instanceof Date?+e:+new Date(+e)}function hF(e,t,n,r,i,a,o,l,c,u){var d=J$(),f=d.invert,m=d.domain,h=u(".%L"),g=u(":%S"),y=u("%I:%M"),v=u("%I %p"),x=u("%a %d"),w=u("%b %d"),j=u("%B"),_=u("%Y");function S(k){return(c(k)<k?h:l(k)<k?g:o(k)<k?y:a(k)<k?v:r(k)<k?i(k)<k?x:w:n(k)<k?j:_)(k)}return d.invert=function(k){return new Date(f(k))},d.domain=function(k){return arguments.length?m(Array.from(k,wZe)):m().map(bZe)},d.ticks=function(k){var P=m();return e(P[0],P[P.length-1],k??10)},d.tickFormat=function(k,P){return P==null?S:u(P)},d.nice=function(k){var P=m();return(!k||typeof k.range!="function")&&(k=t(P[0],P[P.length-1],k??10)),k?m(Lde(P,k)):d},d.copy=function(){return Dj(d,hF(e,t,n,r,i,a,o,l,c,u))},d}function jZe(){return uu.apply(hF(vXe,xXe,Th,dF,JE,Rj,cF,oF,Fg,Hde).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function NZe(){return uu.apply(hF(pXe,gXe,Oh,fF,eP,QE,uF,lF,Fg,Kde).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function tP(){var e=0,t=1,n,r,i,a,o=Bo,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(i===0?.5:(f=(a(f)-n)*i,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,n=a(e=+e),r=a(t=+t),i=n===r?0:1/(r-n),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(m){var h,g;return arguments.length?([h,g]=m,o=f(h,g),u):[o(0),o(1)]}}return u.range=d(G0),u.rangeRound=d(Q$),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return a=f,n=f(e),r=f(t),i=n===r?0:1/(r-n),u}}function Ip(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Gde(){var e=Mp(tP()(Bo));return e.copy=function(){return Ip(e,Gde())},zh.apply(e,arguments)}function Yde(){var e=nF(tP()).domain([1,10]);return e.copy=function(){return Ip(e,Yde()).base(e.base())},zh.apply(e,arguments)}function Xde(){var e=rF(tP());return e.copy=function(){return Ip(e,Xde()).constant(e.constant())},zh.apply(e,arguments)}function mF(){var e=iF(tP());return e.copy=function(){return Ip(e,mF()).exponent(e.exponent())},zh.apply(e,arguments)}function _Ze(){return mF.apply(null,arguments).exponent(.5)}function Zde(){var e=[],t=Bo;function n(r){if(r!=null&&!isNaN(r=+r))return t((Mj(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(tp),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>uYe(e,a/r))},n.copy=function(){return Zde(t).domain(e)},zh.apply(n,arguments)}function nP(){var e=0,t=.5,n=1,r=1,i,a,o,l,c,u=Bo,d,f=!1,m;function h(y){return isNaN(y=+y)?m:(y=.5+((y=+d(y))-a)*(r*y<r*a?l:c),u(f?Math.max(0,Math.min(1,y)):y))}h.domain=function(y){return arguments.length?([e,t,n]=y,i=d(e=+e),a=d(t=+t),o=d(n=+n),l=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),r=a<i?-1:1,h):[e,t,n]},h.clamp=function(y){return arguments.length?(f=!!y,h):f},h.interpolator=function(y){return arguments.length?(u=y,h):u};function g(y){return function(v){var x,w,j;return arguments.length?([x,w,j]=v,u=DYe(y,[x,w,j]),h):[u(0),u(.5),u(1)]}}return h.range=g(G0),h.rangeRound=g(Q$),h.unknown=function(y){return arguments.length?(m=y,h):m},function(y){return d=y,i=y(e),a=y(t),o=y(n),l=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),r=a<i?-1:1,h}}function Qde(){var e=Mp(nP()(Bo));return e.copy=function(){return Ip(e,Qde())},zh.apply(e,arguments)}function Jde(){var e=nF(nP()).domain([.1,1,10]);return e.copy=function(){return Ip(e,Jde()).base(e.base())},zh.apply(e,arguments)}function efe(){var e=rF(nP());return e.copy=function(){return Ip(e,efe()).constant(e.constant())},zh.apply(e,arguments)}function pF(){var e=iF(nP());return e.copy=function(){return Ip(e,pF()).exponent(e.exponent())},zh.apply(e,arguments)}function SZe(){return pF.apply(null,arguments).exponent(.5)}const gW=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:n2,scaleDiverging:Qde,scaleDivergingLog:Jde,scaleDivergingPow:pF,scaleDivergingSqrt:SZe,scaleDivergingSymlog:efe,scaleIdentity:Ode,scaleImplicit:xM,scaleLinear:W5,scaleLog:Mde,scaleOrdinal:Y$,scalePoint:V1,scalePow:aF,scaleQuantile:Rde,scaleQuantize:$de,scaleRadial:Dde,scaleSequential:Gde,scaleSequentialLog:Yde,scaleSequentialPow:mF,scaleSequentialQuantile:Zde,scaleSequentialSqrt:_Ze,scaleSequentialSymlog:Xde,scaleSqrt:aXe,scaleSymlog:Ide,scaleThreshold:Fde,scaleTime:jZe,scaleUtc:NZe,tickFormat:Tde},Symbol.toStringTag,{value:"Module"}));var kZe=F0;function CZe(e,t,n){for(var r=-1,i=e.length;++r<i;){var a=e[r],o=t(a);if(o!=null&&(l===void 0?o===o&&!kZe(o):n(o,l)))var l=o,c=a}return c}var rP=CZe;function EZe(e,t){return e>t}var tfe=EZe,PZe=rP,AZe=tfe,TZe=K0;function OZe(e){return e&&e.length?PZe(e,TZe,AZe):void 0}var LZe=OZe;const $m=Ar(LZe);function MZe(e,t){return e<t}var nfe=MZe,IZe=rP,DZe=nfe,RZe=K0;function $Ze(e){return e&&e.length?IZe(e,RZe,DZe):void 0}var FZe=$Ze;const iP=Ar(FZe);var BZe=A$,zZe=Nf,VZe=ude,qZe=Cl;function UZe(e,t){var n=qZe(e)?BZe:VZe;return n(e,zZe(t))}var WZe=UZe,HZe=lde,KZe=WZe;function GZe(e,t){return HZe(KZe(e,t),1)}var YZe=GZe;const XZe=Ar(YZe);var ZZe=U$;function QZe(e,t){return ZZe(e,t)}var JZe=QZe;const hp=Ar(JZe);var Y0=1e9,eQe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},vF,Gi=!0,ru="[DecimalError] ",Yg=ru+"Invalid argument: ",gF=ru+"Exponent out of range: ",X0=Math.floor,wg=Math.pow,tQe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Gl,vs=1e7,Mi=7,rfe=9007199254740991,Y5=X0(rfe/Mi),qt={};qt.absoluteValue=qt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};qt.comparedTo=qt.cmp=function(e){var t,n,r,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(r=a.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};qt.decimalPlaces=qt.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*Mi;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};qt.dividedBy=qt.div=function(e){return xh(this,new this.constructor(e))};qt.dividedToIntegerBy=qt.idiv=function(e){var t=this,n=t.constructor;return hi(xh(t,new n(e),0,1),n.precision)};qt.equals=qt.eq=function(e){return!this.cmp(e)};qt.exponent=function(){return Ga(this)};qt.greaterThan=qt.gt=function(e){return this.cmp(e)>0};qt.greaterThanOrEqualTo=qt.gte=function(e){return this.cmp(e)>=0};qt.isInteger=qt.isint=function(){return this.e>this.d.length-2};qt.isNegative=qt.isneg=function(){return this.s<0};qt.isPositive=qt.ispos=function(){return this.s>0};qt.isZero=function(){return this.s===0};qt.lessThan=qt.lt=function(e){return this.cmp(e)<0};qt.lessThanOrEqualTo=qt.lte=function(e){return this.cmp(e)<1};qt.logarithm=qt.log=function(e){var t,n=this,r=n.constructor,i=r.precision,a=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(Gl))throw Error(ru+"NaN");if(n.s<1)throw Error(ru+(n.s?"NaN":"-Infinity"));return n.eq(Gl)?new r(0):(Gi=!1,t=xh(o2(n,a),o2(e,a),a),Gi=!0,hi(t,i))};qt.minus=qt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?sfe(t,e):ife(t,(e.s=-e.s,e))};qt.modulo=qt.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(ru+"NaN");return n.s?(Gi=!1,t=xh(n,e,0,1).times(e),Gi=!0,n.minus(t)):hi(new r(n),i)};qt.naturalExponential=qt.exp=function(){return afe(this)};qt.naturalLogarithm=qt.ln=function(){return o2(this)};qt.negated=qt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};qt.plus=qt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?ife(t,e):sfe(t,(e.s=-e.s,e))};qt.precision=qt.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Yg+e);if(t=Ga(i)+1,r=i.d.length-1,n=r*Mi+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};qt.squareRoot=qt.sqrt=function(){var e,t,n,r,i,a,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(ru+"NaN")}for(e=Ga(l),Gi=!1,i=Math.sqrt(+l),i==0||i==1/0?(t=Ud(l.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=X0((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new c(t)):r=new c(i.toString()),n=c.precision,i=o=n+3;;)if(a=r,r=a.plus(xh(l,a,o+2)).times(.5),Ud(a.d).slice(0,o)===(t=Ud(r.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&t=="4999"){if(hi(a,n+1,0),a.times(a).eq(l)){r=a;break}}else if(t!="9999")break;o+=4}return Gi=!0,hi(r,n)};qt.times=qt.mul=function(e){var t,n,r,i,a,o,l,c,u,d=this,f=d.constructor,m=d.d,h=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,n=d.e+e.e,c=m.length,u=h.length,c<u&&(a=m,m=h,h=a,o=c,c=u,u=o),a=[],o=c+u,r=o;r--;)a.push(0);for(r=u;--r>=0;){for(t=0,i=c+r;i>r;)l=a[i]+h[r]*m[i-r-1]+t,a[i--]=l%vs|0,t=l/vs|0;a[i]=(a[i]+t)%vs|0}for(;!a[--o];)a.pop();return t?++n:a.shift(),e.d=a,e.e=n,Gi?hi(e,f.precision):e};qt.toDecimalPlaces=qt.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(ff(e,0,Y0),t===void 0?t=r.rounding:ff(t,0,8),hi(n,e+Ga(n)+1,t))};qt.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=uv(r,!0):(ff(e,0,Y0),t===void 0?t=i.rounding:ff(t,0,8),r=hi(new i(r),e+1,t),n=uv(r,!0,e+1)),n};qt.toFixed=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?uv(i):(ff(e,0,Y0),t===void 0?t=a.rounding:ff(t,0,8),r=hi(new a(i),e+Ga(i)+1,t),n=uv(r.abs(),!1,e+Ga(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};qt.toInteger=qt.toint=function(){var e=this,t=e.constructor;return hi(new t(e),Ga(e)+1,t.rounding)};qt.toNumber=function(){return+this};qt.toPower=qt.pow=function(e){var t,n,r,i,a,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(Gl);if(l=new c(l),!l.s){if(e.s<1)throw Error(ru+"Infinity");return l}if(l.eq(Gl))return l;if(r=c.precision,e.eq(Gl))return hi(l,r);if(t=e.e,n=e.d.length-1,o=t>=n,a=l.s,o){if((n=d<0?-d:d)<=rfe){for(i=new c(Gl),t=Math.ceil(r/Mi+4),Gi=!1;n%2&&(i=i.times(l),xW(i.d,t)),n=X0(n/2),n!==0;)l=l.times(l),xW(l.d,t);return Gi=!0,e.s<0?new c(Gl).div(i):hi(i,r)}}else if(a<0)throw Error(ru+"NaN");return a=a<0&&e.d[Math.max(t,n)]&1?-1:1,l.s=1,Gi=!1,i=e.times(o2(l,r+u)),Gi=!0,i=afe(i),i.s=a,i};qt.toPrecision=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?(n=Ga(i),r=uv(i,n<=a.toExpNeg||n>=a.toExpPos)):(ff(e,1,Y0),t===void 0?t=a.rounding:ff(t,0,8),i=hi(new a(i),e,t),n=Ga(i),r=uv(i,e<=n||n<=a.toExpNeg,e)),r};qt.toSignificantDigits=qt.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(ff(e,1,Y0),t===void 0?t=r.rounding:ff(t,0,8)),hi(new r(n),e,t)};qt.toString=qt.valueOf=qt.val=qt.toJSON=qt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Ga(e),n=e.constructor;return uv(e,t<=n.toExpNeg||t>=n.toExpPos)};function ife(e,t){var n,r,i,a,o,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),Gi?hi(t,f):t;if(c=e.d,u=t.d,o=e.e,i=t.e,c=c.slice(),a=o-i,a){for(a<0?(r=c,a=-a,l=u.length):(r=u,i=o,l=c.length),o=Math.ceil(f/Mi),l=o>l?o+1:l+1,a>l&&(a=l,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(l=c.length,a=u.length,l-a<0&&(a=l,r=u,u=c,c=r),n=0;a;)n=(c[--a]=c[a]+u[a]+n)/vs|0,c[a]%=vs;for(n&&(c.unshift(n),++i),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=i,Gi?hi(t,f):t}function ff(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Yg+e)}function Ud(e){var t,n,r,i=e.length-1,a="",o=e[0];if(i>0){for(a+=o,t=1;t<i;t++)r=e[t]+"",n=Mi-r.length,n&&(a+=Cm(n)),a+=r;o=e[t],r=o+"",n=Mi-r.length,n&&(a+=Cm(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var xh=function(){function e(r,i){var a,o=0,l=r.length;for(r=r.slice();l--;)a=r[l]*i+o,r[l]=a%vs|0,o=a/vs|0;return o&&r.unshift(o),r}function t(r,i,a,o){var l,c;if(a!=o)c=a>o?1:-1;else for(l=c=0;l<a;l++)if(r[l]!=i[l]){c=r[l]>i[l]?1:-1;break}return c}function n(r,i,a){for(var o=0;a--;)r[a]-=o,o=r[a]<i[a]?1:0,r[a]=o*vs+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,o){var l,c,u,d,f,m,h,g,y,v,x,w,j,_,S,k,P,M,T=r.constructor,R=r.s==i.s?1:-1,D=r.d,I=i.d;if(!r.s)return new T(r);if(!i.s)throw Error(ru+"Division by zero");for(c=r.e-i.e,P=I.length,S=D.length,h=new T(R),g=h.d=[],u=0;I[u]==(D[u]||0);)++u;if(I[u]>(D[u]||0)&&--c,a==null?w=a=T.precision:o?w=a+(Ga(r)-Ga(i))+1:w=a,w<0)return new T(0);if(w=w/Mi+2|0,u=0,P==1)for(d=0,I=I[0],w++;(u<S||d)&&w--;u++)j=d*vs+(D[u]||0),g[u]=j/I|0,d=j%I|0;else{for(d=vs/(I[0]+1)|0,d>1&&(I=e(I,d),D=e(D,d),P=I.length,S=D.length),_=P,y=D.slice(0,P),v=y.length;v<P;)y[v++]=0;M=I.slice(),M.unshift(0),k=I[0],I[1]>=vs/2&&++k;do d=0,l=t(I,y,P,v),l<0?(x=y[0],P!=v&&(x=x*vs+(y[1]||0)),d=x/k|0,d>1?(d>=vs&&(d=vs-1),f=e(I,d),m=f.length,v=y.length,l=t(f,y,m,v),l==1&&(d--,n(f,P<m?M:I,m))):(d==0&&(l=d=1),f=I.slice()),m=f.length,m<v&&f.unshift(0),n(y,f,v),l==-1&&(v=y.length,l=t(I,y,P,v),l<1&&(d++,n(y,P<v?M:I,v))),v=y.length):l===0&&(d++,y=[0]),g[u++]=d,l&&y[0]?y[v++]=D[_]||0:(y=[D[_]],v=1);while((_++<S||y[0]!==void 0)&&w--)}return g[0]||g.shift(),h.e=c,hi(h,o?a+Ga(h)+1:a)}}();function afe(e,t){var n,r,i,a,o,l,c=0,u=0,d=e.constructor,f=d.precision;if(Ga(e)>16)throw Error(gF+Ga(e));if(!e.s)return new d(Gl);for(Gi=!1,l=f,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(r=Math.log(wg(2,u))/Math.LN10*2+5|0,l+=r,n=i=a=new d(Gl),d.precision=l;;){if(i=hi(i.times(e),l),n=n.times(++c),o=a.plus(xh(i,n,l)),Ud(o.d).slice(0,l)===Ud(a.d).slice(0,l)){for(;u--;)a=hi(a.times(a),l);return d.precision=f,t==null?(Gi=!0,hi(a,f)):a}a=o}}function Ga(e){for(var t=e.e*Mi,n=e.d[0];n>=10;n/=10)t++;return t}function j4(e,t,n){if(t>e.LN10.sd())throw Gi=!0,n&&(e.precision=n),Error(ru+"LN10 precision limit exceeded");return hi(new e(e.LN10),t)}function Cm(e){for(var t="";e--;)t+="0";return t}function o2(e,t){var n,r,i,a,o,l,c,u,d,f=1,m=10,h=e,g=h.d,y=h.constructor,v=y.precision;if(h.s<1)throw Error(ru+(h.s?"NaN":"-Infinity"));if(h.eq(Gl))return new y(0);if(t==null?(Gi=!1,u=v):u=t,h.eq(10))return t==null&&(Gi=!0),j4(y,u);if(u+=m,y.precision=u,n=Ud(g),r=n.charAt(0),a=Ga(h),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)h=h.times(e),n=Ud(h.d),r=n.charAt(0),f++;a=Ga(h),r>1?(h=new y("0."+n),a++):h=new y(r+"."+n.slice(1))}else return c=j4(y,u+2,v).times(a+""),h=o2(new y(r+"."+n.slice(1)),u-m).plus(c),y.precision=v,t==null?(Gi=!0,hi(h,v)):h;for(l=o=h=xh(h.minus(Gl),h.plus(Gl),u),d=hi(h.times(h),u),i=3;;){if(o=hi(o.times(d),u),c=l.plus(xh(o,new y(i),u)),Ud(c.d).slice(0,u)===Ud(l.d).slice(0,u))return l=l.times(2),a!==0&&(l=l.plus(j4(y,u+2,v).times(a+""))),l=xh(l,new y(f),u),y.precision=v,t==null?(Gi=!0,hi(l,v)):l;l=c,i+=2}}function vW(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=X0(n/Mi),e.d=[],r=(n+1)%Mi,n<0&&(r+=Mi),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=Mi;r<i;)e.d.push(+t.slice(r,r+=Mi));t=t.slice(r),r=Mi-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),Gi&&(e.e>Y5||e.e<-Y5))throw Error(gF+n)}else e.s=0,e.e=0,e.d=[0];return e}function hi(e,t,n){var r,i,a,o,l,c,u,d,f=e.d;for(o=1,a=f[0];a>=10;a/=10)o++;if(r=t-o,r<0)r+=Mi,i=t,u=f[d=0];else{if(d=Math.ceil((r+1)/Mi),a=f.length,d>=a)return e;for(u=a=f[d],o=1;a>=10;a/=10)o++;r%=Mi,i=r-Mi+o}if(n!==void 0&&(a=wg(10,o-i-1),l=u/a%10|0,c=t<0||f[d+1]!==void 0||u%a,c=n<4?(l||c)&&(n==0||n==(e.s<0?3:2)):l>5||l==5&&(n==4||c||n==6&&(r>0?i>0?u/wg(10,o-i):0:f[d-1])%10&1||n==(e.s<0?8:7))),t<1||!f[0])return c?(a=Ga(e),f.length=1,t=t-a-1,f[0]=wg(10,(Mi-t%Mi)%Mi),e.e=X0(-t/Mi)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(r==0?(f.length=d,a=1,d--):(f.length=d+1,a=wg(10,Mi-r),f[d]=i>0?(u/wg(10,o-i)%wg(10,i)|0)*a:0),c)for(;;)if(d==0){(f[0]+=a)==vs&&(f[0]=1,++e.e);break}else{if(f[d]+=a,f[d]!=vs)break;f[d--]=0,a=1}for(r=f.length;f[--r]===0;)f.pop();if(Gi&&(e.e>Y5||e.e<-Y5))throw Error(gF+Ga(e));return e}function sfe(e,t){var n,r,i,a,o,l,c,u,d,f,m=e.constructor,h=m.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new m(e),Gi?hi(t,h):t;if(c=e.d,f=t.d,r=t.e,u=e.e,c=c.slice(),o=u-r,o){for(d=o<0,d?(n=c,o=-o,l=f.length):(n=f,r=u,l=c.length),i=Math.max(Math.ceil(h/Mi),l)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=c.length,l=f.length,d=i<l,d&&(l=i),i=0;i<l;i++)if(c[i]!=f[i]){d=c[i]<f[i];break}o=0}for(d&&(n=c,c=f,f=n,t.s=-t.s),l=c.length,i=f.length-l;i>0;--i)c[l++]=0;for(i=f.length;i>o;){if(c[--i]<f[i]){for(a=i;a&&c[--a]===0;)c[a]=vs-1;--c[a],c[i]+=vs}c[i]-=f[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(t.d=c,t.e=r,Gi?hi(t,h):t):new m(0)}function uv(e,t,n){var r,i=Ga(e),a=Ud(e.d),o=a.length;return t?(n&&(r=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+Cm(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Cm(-i-1)+a,n&&(r=n-o)>0&&(a+=Cm(r))):i>=o?(a+=Cm(i+1-o),n&&(r=n-i-1)>0&&(a=a+"."+Cm(r))):((r=i+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(a+="."),a+=Cm(r))),e.s<0?"-"+a:a}function xW(e,t){if(e.length>t)return e.length=t,!0}function ofe(e){var t,n,r;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Yg+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return vW(o,a.toString())}else if(typeof a!="string")throw Error(Yg+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,tQe.test(a))vW(o,a);else throw Error(Yg+a)}if(i.prototype=qt,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=ofe,i.config=i.set=nQe,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function nQe(e){if(!e||typeof e!="object")throw Error(ru+"Object expected");var t,n,r,i=["precision",1,Y0,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(X0(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(Yg+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Yg+n+": "+r);return this}var vF=ofe(eQe);Gl=new vF(1);const ri=vF;function rQe(e){return oQe(e)||sQe(e)||aQe(e)||iQe()}function iQe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aQe(e,t){if(e){if(typeof e=="string")return jM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jM(e,t)}}function sQe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function oQe(e){if(Array.isArray(e))return jM(e)}function jM(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var lQe=function(t){return t},lfe={},cfe=function(t){return t===lfe},yW=function(t){return function n(){return arguments.length===0||arguments.length===1&&cfe(arguments.length<=0?void 0:arguments[0])?n:t.apply(void 0,arguments)}},cQe=function e(t,n){return t===1?n:yW(function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var o=i.filter(function(l){return l!==lfe}).length;return o>=t?n.apply(void 0,i):e(t-o,yW(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=i.map(function(f){return cfe(f)?c.shift():f});return n.apply(void 0,rQe(d).concat(c))}))})},aP=function(t){return cQe(t.length,t)},NM=function(t,n){for(var r=[],i=t;i<n;++i)r[i-t]=i;return r},uQe=aP(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(n){return t[n]}).map(e)}),dQe=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return lQe;var i=n.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce(function(l,c){return c(l)},a.apply(void 0,arguments))}},_M=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},ufe=function(t){var n=null,r=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n&&a.every(function(l,c){return l===n[c]})||(n=a,r=t.apply(void 0,a)),r}};function fQe(e){var t;return e===0?t=1:t=Math.floor(new ri(e).abs().log(10).toNumber())+1,t}function hQe(e,t,n){for(var r=new ri(e),i=0,a=[];r.lt(t)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var mQe=aP(function(e,t,n){var r=+e,i=+t;return r+n*(i-r)}),pQe=aP(function(e,t,n){var r=t-+e;return r=r||1/0,(n-e)/r}),gQe=aP(function(e,t,n){var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});const sP={rangeStep:hQe,getDigitCount:fQe,interpolateNumber:mQe,uninterpolateNumber:pQe,uninterpolateTruncation:gQe};function SM(e){return yQe(e)||xQe(e)||dfe(e)||vQe()}function vQe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xQe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function yQe(e){if(Array.isArray(e))return kM(e)}function l2(e,t){return jQe(e)||wQe(e,t)||dfe(e,t)||bQe()}function bQe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dfe(e,t){if(e){if(typeof e=="string")return kM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kM(e,t)}}function kM(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function wQe(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],r=!0,i=!1,a=void 0;try{for(var o=e[Symbol.iterator](),l;!(r=(l=o.next()).done)&&(n.push(l.value),!(t&&n.length===t));r=!0);}catch(c){i=!0,a=c}finally{try{!r&&o.return!=null&&o.return()}finally{if(i)throw a}}return n}}function jQe(e){if(Array.isArray(e))return e}function ffe(e){var t=l2(e,2),n=t[0],r=t[1],i=n,a=r;return n>r&&(i=r,a=n),[i,a]}function hfe(e,t,n){if(e.lte(0))return new ri(0);var r=sP.getDigitCount(e.toNumber()),i=new ri(10).pow(r),a=e.div(i),o=r!==1?.05:.1,l=new ri(Math.ceil(a.div(o).toNumber())).add(n).mul(o),c=l.mul(i);return t?c:new ri(Math.ceil(c))}function NQe(e,t,n){var r=1,i=new ri(e);if(!i.isint()&&n){var a=Math.abs(e);a<1?(r=new ri(10).pow(sP.getDigitCount(e)-1),i=new ri(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new ri(Math.floor(e)))}else e===0?i=new ri(Math.floor((t-1)/2)):n||(i=new ri(Math.floor(e)));var o=Math.floor((t-1)/2),l=dQe(uQe(function(c){return i.add(new ri(c-o).mul(r)).toNumber()}),NM);return l(0,t)}function mfe(e,t,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new ri(0),tickMin:new ri(0),tickMax:new ri(0)};var a=hfe(new ri(t).sub(e).div(n-1),r,i),o;e<=0&&t>=0?o=new ri(0):(o=new ri(e).add(t).div(2),o=o.sub(new ri(o).mod(a)));var l=Math.ceil(o.sub(e).div(a).toNumber()),c=Math.ceil(new ri(t).sub(o).div(a).toNumber()),u=l+c+1;return u>n?mfe(e,t,n,r,i+1):(u<n&&(c=t>0?c+(n-u):c,l=t>0?l:l+(n-u)),{step:a,tickMin:o.sub(new ri(l).mul(a)),tickMax:o.add(new ri(c).mul(a))})}function _Qe(e){var t=l2(e,2),n=t[0],r=t[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),l=ffe([n,r]),c=l2(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(SM(NM(0,i-1).map(function(){return 1/0}))):[].concat(SM(NM(0,i-1).map(function(){return-1/0})),[d]);return n>r?_M(f):f}if(u===d)return NQe(u,i,a);var m=mfe(u,d,o,a),h=m.step,g=m.tickMin,y=m.tickMax,v=sP.rangeStep(g,y.add(new ri(.1).mul(h)),h);return n>r?_M(v):v}function SQe(e,t){var n=l2(e,2),r=n[0],i=n[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=ffe([r,i]),l=l2(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[r,i];if(c===u)return[c];var d=Math.max(t,2),f=hfe(new ri(u).sub(c).div(d-1),a,0),m=[].concat(SM(sP.rangeStep(new ri(c),new ri(u).sub(new ri(.99).mul(f)),f)),[u]);return r>i?_M(m):m}var kQe=ufe(_Qe),CQe=ufe(SQe),EQe="Invariant failed";function dv(e,t){throw new Error(EQe)}var PQe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Zy(e){"@babel/helpers - typeof";return Zy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zy(e)}function X5(){return X5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},X5.apply(this,arguments)}function AQe(e,t){return MQe(e)||LQe(e,t)||OQe(e,t)||TQe()}function TQe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OQe(e,t){if(e){if(typeof e=="string")return bW(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bW(e,t)}}function bW(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function LQe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function MQe(e){if(Array.isArray(e))return e}function IQe(e,t){if(e==null)return{};var n=DQe(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function DQe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function RQe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $Qe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,vfe(r.key),r)}}function FQe(e,t,n){return t&&$Qe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function BQe(e,t,n){return t=Z5(t),zQe(e,pfe()?Reflect.construct(t,n||[],Z5(e).constructor):t.apply(e,n))}function zQe(e,t){if(t&&(Zy(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VQe(e)}function VQe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pfe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pfe=function(){return!!e})()}function Z5(e){return Z5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Z5(e)}function qQe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&CM(e,t)}function CM(e,t){return CM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},CM(e,t)}function gfe(e,t,n){return t=vfe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vfe(e){var t=UQe(e,"string");return Zy(t)=="symbol"?t:t+""}function UQe(e,t){if(Zy(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Zy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Z0=function(e){function t(){return RQe(this,t),BQe(this,t,arguments)}return qQe(t,e),FQe(t,[{key:"render",value:function(){var r=this.props,i=r.offset,a=r.layout,o=r.width,l=r.dataKey,c=r.data,u=r.dataPointFormatter,d=r.xAxis,f=r.yAxis,m=IQe(r,PQe),h=Zt(m,!1);this.props.direction==="x"&&d.type!=="number"&&dv();var g=c.map(function(y){var v=u(y,l),x=v.x,w=v.y,j=v.value,_=v.errorVal;if(!_)return null;var S=[],k,P;if(Array.isArray(_)){var M=AQe(_,2);k=M[0],P=M[1]}else k=P=_;if(a==="vertical"){var T=d.scale,R=w+i,D=R+o,I=R-o,B=T(j-k),$=T(j+P);S.push({x1:$,y1:D,x2:$,y2:I}),S.push({x1:B,y1:R,x2:$,y2:R}),S.push({x1:B,y1:D,x2:B,y2:I})}else if(a==="horizontal"){var K=f.scale,Y=x+i,Q=Y-o,H=Y+o,G=K(j-k),U=K(j+P);S.push({x1:Q,y1:U,x2:H,y2:U}),S.push({x1:Y,y1:G,x2:Y,y2:U}),S.push({x1:Q,y1:G,x2:H,y2:G})}return E.createElement(Kn,X5({className:"recharts-errorBar",key:"bar-".concat(S.map(function(ee){return"".concat(ee.x1,"-").concat(ee.x2,"-").concat(ee.y1,"-").concat(ee.y2)}))},h),S.map(function(ee){return E.createElement("line",X5({},ee,{key:"line-".concat(ee.x1,"-").concat(ee.x2,"-").concat(ee.y1,"-").concat(ee.y2)}))}))});return E.createElement(Kn,{className:"recharts-errorBars"},g)}}])}(E.Component);gfe(Z0,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});gfe(Z0,"displayName","ErrorBar");function c2(e){"@babel/helpers - typeof";return c2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c2(e)}function wW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ug(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wW(Object(n),!0).forEach(function(r){WQe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wW(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function WQe(e,t,n){return t=HQe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HQe(e){var t=KQe(e,"string");return c2(t)=="symbol"?t:t+""}function KQe(e,t){if(c2(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(c2(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xfe=function(t){var n=t.children,r=t.formattedGraphicalItems,i=t.legendWidth,a=t.legendContent,o=Wl(n,Ka);if(!o)return null;var l=Ka.defaultProps,c=l!==void 0?ug(ug({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:a==="children"?u=(r||[]).reduce(function(d,f){var m=f.item,h=f.props,g=h.sectors||h.data||[];return d.concat(g.map(function(y){return{type:o.props.iconType||m.props.legendType,value:y.name,color:y.fill,payload:y}}))},[]):u=(r||[]).map(function(d){var f=d.item,m=f.type.defaultProps,h=m!==void 0?ug(ug({},m),f.props):{},g=h.dataKey,y=h.name,v=h.legendType,x=h.hide;return{inactive:x,dataKey:g,type:c.iconType||v||"square",color:xF(f),value:y||g,payload:h}}),ug(ug(ug({},c),Ka.getWithHeight(o,i)),{},{payload:u,item:o})};function u2(e){"@babel/helpers - typeof";return u2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u2(e)}function jW(e){return ZQe(e)||XQe(e)||YQe(e)||GQe()}function GQe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YQe(e,t){if(e){if(typeof e=="string")return EM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return EM(e,t)}}function XQe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ZQe(e){if(Array.isArray(e))return EM(e)}function EM(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function NW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function xa(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?NW(Object(n),!0).forEach(function(r){dy(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NW(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function dy(e,t,n){return t=QQe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function QQe(e){var t=JQe(e,"string");return u2(t)=="symbol"?t:t+""}function JQe(e,t){if(u2(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(u2(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Di(e,t,n){return fn(e)||fn(t)?n:fs(t)?cc(e,t,n):mn(t)?t(e):n}function q1(e,t,n,r){var i=XZe(e,function(l){return Di(l,t)});if(n==="number"){var a=i.filter(function(l){return yt(l)||parseFloat(l)});return a.length?[iP(a),$m(a)]:[1/0,-1/0]}var o=r?i.filter(function(l){return!fn(l)}):i;return o.map(function(l){return fs(l)||l instanceof Date?l:""})}var eJe=function(t){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,l=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(l<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var c=a.range,u=0;u<l;u++){var d=u>0?i[u-1].coordinate:i[l-1].coordinate,f=i[u].coordinate,m=u>=l-1?i[0].coordinate:i[u+1].coordinate,h=void 0;if($o(f-d)!==$o(m-f)){var g=[];if($o(m-f)===$o(c[1]-c[0])){h=m;var y=f+c[1]-c[0];g[0]=Math.min(y,(y+d)/2),g[1]=Math.max(y,(y+d)/2)}else{h=d;var v=m+c[1]-c[0];g[0]=Math.min(f,(v+f)/2),g[1]=Math.max(f,(v+f)/2)}var x=[Math.min(f,(h+f)/2),Math.max(f,(h+f)/2)];if(t>x[0]&&t<=x[1]||t>=g[0]&&t<=g[1]){o=i[u].index;break}}else{var w=Math.min(d,m),j=Math.max(d,m);if(t>(w+f)/2&&t<=(j+f)/2){o=i[u].index;break}}}else for(var _=0;_<l;_++)if(_===0&&t<=(r[_].coordinate+r[_+1].coordinate)/2||_>0&&_<l-1&&t>(r[_].coordinate+r[_-1].coordinate)/2&&t<=(r[_].coordinate+r[_+1].coordinate)/2||_===l-1&&t>(r[_].coordinate+r[_-1].coordinate)/2){o=r[_].index;break}return o},xF=function(t){var n,r=t,i=r.type.displayName,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?xa(xa({},t.type.defaultProps),t.props):t.props,o=a.stroke,l=a.fill,c;switch(i){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},tJe=function(t){var n=t.barSize,r=t.totalSize,i=t.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var o={},l=Object.keys(a),c=0,u=l.length;c<u;c++)for(var d=a[l[c]].stackGroups,f=Object.keys(d),m=0,h=f.length;m<h;m++){var g=d[f[m]],y=g.items,v=g.cateAxisId,x=y.filter(function(P){return vh(P.type).indexOf("Bar")>=0});if(x&&x.length){var w=x[0].type.defaultProps,j=w!==void 0?xa(xa({},w),x[0].props):x[0].props,_=j.barSize,S=j[v];o[S]||(o[S]=[]);var k=fn(_)?n:_;o[S].push({item:x[0],stackList:x.slice(1),barSize:fn(k)?void 0:Fo(k,r,0)})}}return o},nJe=function(t){var n=t.barGap,r=t.barCategoryGap,i=t.bandSize,a=t.sizeList,o=a===void 0?[]:a,l=t.maxBarSize,c=o.length;if(c<1)return null;var u=Fo(n,i,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var m=!1,h=i/c,g=o.reduce(function(_,S){return _+S.barSize||0},0);g+=(c-1)*u,g>=i&&(g-=(c-1)*u,u=0),g>=i&&h>0&&(m=!0,h*=.9,g=c*h);var y=(i-g)/2>>0,v={offset:y-u,size:0};d=o.reduce(function(_,S){var k={item:S.item,position:{offset:v.offset+v.size+u,size:m?h:S.barSize}},P=[].concat(jW(_),[k]);return v=P[P.length-1].position,S.stackList&&S.stackList.length&&S.stackList.forEach(function(M){P.push({item:M,position:v})}),P},f)}else{var x=Fo(r,i,0,!0);i-2*x-(c-1)*u<=0&&(u=0);var w=(i-2*x-(c-1)*u)/c;w>1&&(w>>=0);var j=l===+l?Math.min(w,l):w;d=o.reduce(function(_,S,k){var P=[].concat(jW(_),[{item:S.item,position:{offset:x+(w+u)*k+(w-j)/2,size:j}}]);return S.stackList&&S.stackList.length&&S.stackList.forEach(function(M){P.push({item:M,position:P[P.length-1].position})}),P},f)}return d},rJe=function(t,n,r,i){var a=r.children,o=r.width,l=r.margin,c=o-(l.left||0)-(l.right||0),u=xfe({children:a,legendWidth:c});if(u){var d=i||{},f=d.width,m=d.height,h=u.align,g=u.verticalAlign,y=u.layout;if((y==="vertical"||y==="horizontal"&&g==="middle")&&h!=="center"&&yt(t[h]))return xa(xa({},t),{},dy({},h,t[h]+(f||0)));if((y==="horizontal"||y==="vertical"&&h==="center")&&g!=="middle"&&yt(t[g]))return xa(xa({},t),{},dy({},g,t[g]+(m||0)))}return t},iJe=function(t,n,r){return fn(n)?!0:t==="horizontal"?n==="yAxis":t==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},yfe=function(t,n,r,i,a){var o=n.props.children,l=Uo(o,Z0).filter(function(u){return iJe(i,a,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=Di(d,r);if(fn(f))return u;var m=Array.isArray(f)?[iP(f),$m(f)]:[f,f],h=c.reduce(function(g,y){var v=Di(d,y,0),x=m[0]-Math.abs(Array.isArray(v)?v[0]:v),w=m[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(x,g[0]),Math.max(w,g[1])]},[1/0,-1/0]);return[Math.min(h[0],u[0]),Math.max(h[1],u[1])]},[1/0,-1/0])}return null},aJe=function(t,n,r,i,a){var o=n.map(function(l){return yfe(t,l,r,a,i)}).filter(function(l){return!fn(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},bfe=function(t,n,r,i,a){var o=n.map(function(c){var u=c.props.dataKey;return r==="number"&&u&&yfe(t,c,u,i)||q1(t,u,r,a)});if(r==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},wfe=function(t,n){return t==="horizontal"&&n==="xAxis"||t==="vertical"&&n==="yAxis"||t==="centric"&&n==="angleAxis"||t==="radial"&&n==="radiusAxis"},jfe=function(t,n,r,i){if(i)return t.map(function(c){return c.coordinate});var a,o,l=t.map(function(c){return c.coordinate===n&&(a=!0),c.coordinate===r&&(o=!0),c.coordinate});return a||l.push(n),o||l.push(r),l},uh=function(t,n,r){if(!t)return null;var i=t.scale,a=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&o==="category"&&i.bandwidth?i.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?$o(l[0]-l[1])*2*u:u,n&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var m=a?a.indexOf(f):f;return{coordinate:i(m)+u,value:f,offset:u}});return d.filter(function(f){return!U0(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,m){return{coordinate:i(f)+u,value:f,index:m,offset:u}}):i.ticks&&!r?i.ticks(t.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,m){return{coordinate:i(f)+u,value:a?a[f]:f,index:m,offset:u}})},N4=new WeakMap,u_=function(t,n){if(typeof n!="function")return t;N4.has(t)||N4.set(t,new WeakMap);var r=N4.get(t);if(r.has(n))return r.get(n);var i=function(){t.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},Nfe=function(t,n,r){var i=t.scale,a=t.type,o=t.layout,l=t.axisType;if(i==="auto")return o==="radial"&&l==="radiusAxis"?{scale:n2(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:W5(),realScaleType:"linear"}:a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:V1(),realScaleType:"point"}:a==="category"?{scale:n2(),realScaleType:"band"}:{scale:W5(),realScaleType:"linear"};if(lv(i)){var c="scale".concat(qE(i));return{scale:(gW[c]||V1)(),realScaleType:gW[c]?c:"point"}}return mn(i)?{scale:i}:{scale:V1(),realScaleType:"point"}},_W=1e-4,_fe=function(t){var n=t.domain();if(!(!n||n.length<=2)){var r=n.length,i=t.range(),a=Math.min(i[0],i[1])-_W,o=Math.max(i[0],i[1])+_W,l=t(n[0]),c=t(n[r-1]);(l<a||l>o||c<a||c>o)&&t.domain([n[0],n[r-1]])}},sJe=function(t,n){if(!t)return null;for(var r=0,i=t.length;r<i;r++)if(t[r].item===n)return t[r].position;return null},oJe=function(t,n){if(!n||n.length!==2||!yt(n[0])||!yt(n[1]))return t;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),a=[t[0],t[1]];return(!yt(t[0])||t[0]<r)&&(a[0]=r),(!yt(t[1])||t[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<r&&(a[1]=r),a},lJe=function(t){var n=t.length;if(!(n<=0))for(var r=0,i=t[0].length;r<i;++r)for(var a=0,o=0,l=0;l<n;++l){var c=U0(t[l][r][1])?t[l][r][0]:t[l][r][1];c>=0?(t[l][r][0]=a,t[l][r][1]=a+c,a=t[l][r][1]):(t[l][r][0]=o,t[l][r][1]=o+c,o=t[l][r][1])}},cJe=function(t){var n=t.length;if(!(n<=0))for(var r=0,i=t[0].length;r<i;++r)for(var a=0,o=0;o<n;++o){var l=U0(t[o][r][1])?t[o][r][0]:t[o][r][1];l>=0?(t[o][r][0]=a,t[o][r][1]=a+l,a=t[o][r][1]):(t[o][r][0]=0,t[o][r][1]=0)}},uJe={sign:lJe,expand:PBe,none:qy,silhouette:ABe,wiggle:TBe,positive:cJe},dJe=function(t,n,r){var i=n.map(function(l){return l.props.dataKey}),a=uJe[r],o=EBe().keys(i).value(function(l,c){return+Di(l,c,0)}).order(JL).offset(a);return o(t)},fJe=function(t,n,r,i,a,o){if(!t)return null;var l=o?n.reverse():n,c={},u=l.reduce(function(f,m){var h,g=(h=m.type)!==null&&h!==void 0&&h.defaultProps?xa(xa({},m.type.defaultProps),m.props):m.props,y=g.stackId,v=g.hide;if(v)return f;var x=g[r],w=f[x]||{hasStack:!1,stackGroups:{}};if(fs(y)){var j=w.stackGroups[y]||{numericAxisId:r,cateAxisId:i,items:[]};j.items.push(m),w.hasStack=!0,w.stackGroups[y]=j}else w.stackGroups[Lp("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[m]};return xa(xa({},f),{},dy({},x,w))},c),d={};return Object.keys(u).reduce(function(f,m){var h=u[m];if(h.hasStack){var g={};h.stackGroups=Object.keys(h.stackGroups).reduce(function(y,v){var x=h.stackGroups[v];return xa(xa({},y),{},dy({},v,{numericAxisId:r,cateAxisId:i,items:x.items,stackedData:dJe(t,x.items,a)}))},g)}return xa(xa({},f),{},dy({},m,h))},d)},Sfe=function(t,n){var r=n.realScaleType,i=n.type,a=n.tickCount,o=n.originalDomain,l=n.allowDecimals,c=r||n.scale;if(c!=="auto"&&c!=="linear")return null;if(a&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=kQe(u,a,l);return t.domain([iP(d),$m(d)]),{niceTicks:d}}if(a&&i==="number"){var f=t.domain(),m=CQe(f,a,l);return{niceTicks:m}}return null};function Qy(e){var t=e.axis,n=e.ticks,r=e.bandSize,i=e.entry,a=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!fn(i[t.dataKey])){var l=_5(n,"value",i[t.dataKey]);if(l)return l.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var c=Di(i,fn(o)?t.dataKey:o);return fn(c)?null:t.scale(c)}var SW=function(t){var n=t.axis,r=t.ticks,i=t.offset,a=t.bandSize,o=t.entry,l=t.index;if(n.type==="category")return r[l]?r[l].coordinate+i:null;var c=Di(o,n.dataKey,n.domain[l]);return fn(c)?null:n.scale(c)-a/2+i},hJe=function(t){var n=t.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return i<=0&&a>=0?0:a<0?a:i}return r[0]},mJe=function(t,n){var r,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?xa(xa({},t.type.defaultProps),t.props):t.props,a=i.stackId;if(fs(a)){var o=n[a];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},pJe=function(t){return t.reduce(function(n,r){return[iP(r.concat([n[0]]).filter(yt)),$m(r.concat([n[1]]).filter(yt))]},[1/0,-1/0])},kfe=function(t,n,r){return Object.keys(t).reduce(function(i,a){var o=t[a],l=o.stackedData,c=l.reduce(function(u,d){var f=pJe(d.slice(n,r+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},kW=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,CW=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,PM=function(t,n,r){if(mn(t))return t(n,r);if(!Array.isArray(t))return n;var i=[];if(yt(t[0]))i[0]=r?t[0]:Math.min(t[0],n[0]);else if(kW.test(t[0])){var a=+kW.exec(t[0])[1];i[0]=n[0]-a}else mn(t[0])?i[0]=t[0](n[0]):i[0]=n[0];if(yt(t[1]))i[1]=r?t[1]:Math.max(t[1],n[1]);else if(CW.test(t[1])){var o=+CW.exec(t[1])[1];i[1]=n[1]+o}else mn(t[1])?i[1]=t[1](n[1]):i[1]=n[1];return i},Q5=function(t,n,r){if(t&&t.scale&&t.scale.bandwidth){var i=t.scale.bandwidth();if(!r||i>0)return i}if(t&&n&&n.length>=2){for(var a=H$(n,function(f){return f.coordinate}),o=1/0,l=1,c=a.length;l<c;l++){var u=a[l],d=a[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0},EW=function(t,n,r){return!t||!t.length||hp(t,cc(r,"type.defaultProps.domain"))?n:t},Cfe=function(t,n){var r=t.type.defaultProps?xa(xa({},t.type.defaultProps),t.props):t.props,i=r.dataKey,a=r.name,o=r.unit,l=r.formatter,c=r.tooltipType,u=r.chartType,d=r.hide;return xa(xa({},Zt(t,!1)),{},{dataKey:i,unit:o,formatter:l,name:a||i,color:xF(t),value:Di(n,i),type:c,payload:n,chartType:u,hide:d})};function d2(e){"@babel/helpers - typeof";return d2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d2(e)}function PW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function eh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?PW(Object(n),!0).forEach(function(r){Efe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PW(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Efe(e,t,n){return t=gJe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gJe(e){var t=vJe(e,"string");return d2(t)=="symbol"?t:t+""}function vJe(e,t){if(d2(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(d2(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xJe(e,t){return jJe(e)||wJe(e,t)||bJe(e,t)||yJe()}function yJe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bJe(e,t){if(e){if(typeof e=="string")return AW(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return AW(e,t)}}function AW(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function wJe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function jJe(e){if(Array.isArray(e))return e}var J5=Math.PI/180,NJe=function(t){return t*180/Math.PI},_i=function(t,n,r,i){return{x:t+Math.cos(-J5*i)*r,y:n+Math.sin(-J5*i)*r}},Pfe=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},_Je=function(t,n,r,i,a){var o=t.width,l=t.height,c=t.startAngle,u=t.endAngle,d=Fo(t.cx,o,o/2),f=Fo(t.cy,l,l/2),m=Pfe(o,l,r),h=Fo(t.innerRadius,m,0),g=Fo(t.outerRadius,m,m*.8),y=Object.keys(n);return y.reduce(function(v,x){var w=n[x],j=w.domain,_=w.reversed,S;if(fn(w.range))i==="angleAxis"?S=[c,u]:i==="radiusAxis"&&(S=[h,g]),_&&(S=[S[1],S[0]]);else{S=w.range;var k=S,P=xJe(k,2);c=P[0],u=P[1]}var M=Nfe(w,a),T=M.realScaleType,R=M.scale;R.domain(j).range(S),_fe(R);var D=Sfe(R,eh(eh({},w),{},{realScaleType:T})),I=eh(eh(eh({},w),D),{},{range:S,radius:g,realScaleType:T,scale:R,cx:d,cy:f,innerRadius:h,outerRadius:g,startAngle:c,endAngle:u});return eh(eh({},v),{},Efe({},x,I))},{})},SJe=function(t,n){var r=t.x,i=t.y,a=n.x,o=n.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(i-o,2))},kJe=function(t,n){var r=t.x,i=t.y,a=n.cx,o=n.cy,l=SJe({x:r,y:i},{x:a,y:o});if(l<=0)return{radius:l};var c=(r-a)/l,u=Math.acos(c);return i>o&&(u=2*Math.PI-u),{radius:l,angle:NJe(u),angleInRadian:u}},CJe=function(t){var n=t.startAngle,r=t.endAngle,i=Math.floor(n/360),a=Math.floor(r/360),o=Math.min(i,a);return{startAngle:n-o*360,endAngle:r-o*360}},EJe=function(t,n){var r=n.startAngle,i=n.endAngle,a=Math.floor(r/360),o=Math.floor(i/360),l=Math.min(a,o);return t+l*360},TW=function(t,n){var r=t.x,i=t.y,a=kJe({x:r,y:i},n),o=a.radius,l=a.angle,c=n.innerRadius,u=n.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=CJe(n),f=d.startAngle,m=d.endAngle,h=l,g;if(f<=m){for(;h>m;)h-=360;for(;h<f;)h+=360;g=h>=f&&h<=m}else{for(;h>f;)h-=360;for(;h<m;)h+=360;g=h>=m&&h<=f}return g?eh(eh({},n),{},{radius:o,angle:EJe(h,n)}):null},Afe=function(t){return!b.isValidElement(t)&&!mn(t)&&typeof t!="boolean"?t.className:""};function f2(e){"@babel/helpers - typeof";return f2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f2(e)}var PJe=["offset"];function AJe(e){return MJe(e)||LJe(e)||OJe(e)||TJe()}function TJe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OJe(e,t){if(e){if(typeof e=="string")return AM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return AM(e,t)}}function LJe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function MJe(e){if(Array.isArray(e))return AM(e)}function AM(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function IJe(e,t){if(e==null)return{};var n=DJe(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function DJe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function OW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function as(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?OW(Object(n),!0).forEach(function(r){RJe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OW(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function RJe(e,t,n){return t=$Je(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $Je(e){var t=FJe(e,"string");return f2(t)=="symbol"?t:t+""}function FJe(e,t){if(f2(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(f2(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function h2(){return h2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h2.apply(this,arguments)}var BJe=function(t){var n=t.value,r=t.formatter,i=fn(t.children)?n:t.children;return mn(r)?r(i):i},zJe=function(t,n){var r=$o(n-t),i=Math.min(Math.abs(n-t),360);return r*i},VJe=function(t,n,r){var i=t.position,a=t.viewBox,o=t.offset,l=t.className,c=a,u=c.cx,d=c.cy,f=c.innerRadius,m=c.outerRadius,h=c.startAngle,g=c.endAngle,y=c.clockWise,v=(f+m)/2,x=zJe(h,g),w=x>=0?1:-1,j,_;i==="insideStart"?(j=h+w*o,_=y):i==="insideEnd"?(j=g-w*o,_=!y):i==="end"&&(j=g+w*o,_=y),_=x<=0?_:!_;var S=_i(u,d,v,j),k=_i(u,d,v,j+(_?1:-1)*359),P="M".concat(S.x,",").concat(S.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(_?0:1,`,
    `).concat(k.x,",").concat(k.y),M=fn(t.id)?Lp("recharts-radial-line-"):t.id;return E.createElement("text",h2({},r,{dominantBaseline:"central",className:In("recharts-radial-bar-label",l)}),E.createElement("defs",null,E.createElement("path",{id:M,d:P})),E.createElement("textPath",{xlinkHref:"#".concat(M)},n))},qJe=function(t){var n=t.viewBox,r=t.offset,i=t.position,a=n,o=a.cx,l=a.cy,c=a.innerRadius,u=a.outerRadius,d=a.startAngle,f=a.endAngle,m=(d+f)/2;if(i==="outside"){var h=_i(o,l,u+r,m),g=h.x,y=h.y;return{x:g,y,textAnchor:g>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var v=(c+u)/2,x=_i(o,l,v,m),w=x.x,j=x.y;return{x:w,y:j,textAnchor:"middle",verticalAnchor:"middle"}},UJe=function(t){var n=t.viewBox,r=t.parentViewBox,i=t.offset,a=t.position,o=n,l=o.x,c=o.y,u=o.width,d=o.height,f=d>=0?1:-1,m=f*i,h=f>0?"end":"start",g=f>0?"start":"end",y=u>=0?1:-1,v=y*i,x=y>0?"end":"start",w=y>0?"start":"end";if(a==="top"){var j={x:l+u/2,y:c-f*i,textAnchor:"middle",verticalAnchor:h};return as(as({},j),r?{height:Math.max(c-r.y,0),width:u}:{})}if(a==="bottom"){var _={x:l+u/2,y:c+d+m,textAnchor:"middle",verticalAnchor:g};return as(as({},_),r?{height:Math.max(r.y+r.height-(c+d),0),width:u}:{})}if(a==="left"){var S={x:l-v,y:c+d/2,textAnchor:x,verticalAnchor:"middle"};return as(as({},S),r?{width:Math.max(S.x-r.x,0),height:d}:{})}if(a==="right"){var k={x:l+u+v,y:c+d/2,textAnchor:w,verticalAnchor:"middle"};return as(as({},k),r?{width:Math.max(r.x+r.width-k.x,0),height:d}:{})}var P=r?{width:u,height:d}:{};return a==="insideLeft"?as({x:l+v,y:c+d/2,textAnchor:w,verticalAnchor:"middle"},P):a==="insideRight"?as({x:l+u-v,y:c+d/2,textAnchor:x,verticalAnchor:"middle"},P):a==="insideTop"?as({x:l+u/2,y:c+m,textAnchor:"middle",verticalAnchor:g},P):a==="insideBottom"?as({x:l+u/2,y:c+d-m,textAnchor:"middle",verticalAnchor:h},P):a==="insideTopLeft"?as({x:l+v,y:c+m,textAnchor:w,verticalAnchor:g},P):a==="insideTopRight"?as({x:l+u-v,y:c+m,textAnchor:x,verticalAnchor:g},P):a==="insideBottomLeft"?as({x:l+v,y:c+d-m,textAnchor:w,verticalAnchor:h},P):a==="insideBottomRight"?as({x:l+u-v,y:c+d-m,textAnchor:x,verticalAnchor:h},P):B0(a)&&(yt(a.x)||Rg(a.x))&&(yt(a.y)||Rg(a.y))?as({x:l+Fo(a.x,u),y:c+Fo(a.y,d),textAnchor:"end",verticalAnchor:"end"},P):as({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},P)},WJe=function(t){return"cx"in t&&yt(t.cx)};function ai(e){var t=e.offset,n=t===void 0?5:t,r=IJe(e,PJe),i=as({offset:n},r),a=i.viewBox,o=i.position,l=i.value,c=i.children,u=i.content,d=i.className,f=d===void 0?"":d,m=i.textBreakAll;if(!a||fn(l)&&fn(c)&&!b.isValidElement(u)&&!mn(u))return null;if(b.isValidElement(u))return b.cloneElement(u,i);var h;if(mn(u)){if(h=b.createElement(u,i),b.isValidElement(h))return h}else h=BJe(i);var g=WJe(a),y=Zt(i,!0);if(g&&(o==="insideStart"||o==="insideEnd"||o==="end"))return VJe(i,h,y);var v=g?qJe(i):UJe(i);return E.createElement(cv,h2({className:In("recharts-label",f)},y,v,{breakAll:m}),h)}ai.displayName="Label";var Tfe=function(t){var n=t.cx,r=t.cy,i=t.angle,a=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,m=t.y,h=t.top,g=t.left,y=t.width,v=t.height,x=t.clockWise,w=t.labelViewBox;if(w)return w;if(yt(y)&&yt(v)){if(yt(f)&&yt(m))return{x:f,y:m,width:y,height:v};if(yt(h)&&yt(g))return{x:h,y:g,width:y,height:v}}return yt(f)&&yt(m)?{x:f,y:m,width:0,height:0}:yt(n)&&yt(r)?{cx:n,cy:r,startAngle:a||i||0,endAngle:o||i||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:x}:t.viewBox?t.viewBox:{}},HJe=function(t,n){return t?t===!0?E.createElement(ai,{key:"label-implicit",viewBox:n}):fs(t)?E.createElement(ai,{key:"label-implicit",viewBox:n,value:t}):b.isValidElement(t)?t.type===ai?b.cloneElement(t,{key:"label-implicit",viewBox:n}):E.createElement(ai,{key:"label-implicit",content:t,viewBox:n}):mn(t)?E.createElement(ai,{key:"label-implicit",content:t,viewBox:n}):B0(t)?E.createElement(ai,h2({viewBox:n},t,{key:"label-implicit"})):null:null},KJe=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var i=t.children,a=Tfe(t),o=Uo(i,ai).map(function(c,u){return b.cloneElement(c,{viewBox:n||a,key:"label-".concat(u)})});if(!r)return o;var l=HJe(t.label,n||a);return[l].concat(AJe(o))};ai.parseViewBox=Tfe;ai.renderCallByParent=KJe;function GJe(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var YJe=GJe;const XJe=Ar(YJe);function m2(e){"@babel/helpers - typeof";return m2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m2(e)}var ZJe=["valueAccessor"],QJe=["data","dataKey","clockWise","id","textBreakAll"];function JJe(e){return ret(e)||net(e)||tet(e)||eet()}function eet(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tet(e,t){if(e){if(typeof e=="string")return TM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return TM(e,t)}}function net(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ret(e){if(Array.isArray(e))return TM(e)}function TM(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ek(){return ek=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ek.apply(this,arguments)}function LW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function MW(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?LW(Object(n),!0).forEach(function(r){iet(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LW(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function iet(e,t,n){return t=aet(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aet(e){var t=set(e,"string");return m2(t)=="symbol"?t:t+""}function set(e,t){if(m2(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(m2(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function IW(e,t){if(e==null)return{};var n=oet(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function oet(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var cet=function(t){return Array.isArray(t.value)?XJe(t.value):t.value};function uc(e){var t=e.valueAccessor,n=t===void 0?cet:t,r=IW(e,ZJe),i=r.data,a=r.dataKey,o=r.clockWise,l=r.id,c=r.textBreakAll,u=IW(r,QJe);return!i||!i.length?null:E.createElement(Kn,{className:"recharts-label-list"},i.map(function(d,f){var m=fn(a)?n(d,f):Di(d&&d.payload,a),h=fn(l)?{}:{id:"".concat(l,"-").concat(f)};return E.createElement(ai,ek({},Zt(d,!0),u,h,{parentViewBox:d.parentViewBox,value:m,textBreakAll:c,viewBox:ai.parseViewBox(fn(o)?d:MW(MW({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}uc.displayName="LabelList";function uet(e,t){return e?e===!0?E.createElement(uc,{key:"labelList-implicit",data:t}):E.isValidElement(e)||mn(e)?E.createElement(uc,{key:"labelList-implicit",data:t,content:e}):B0(e)?E.createElement(uc,ek({data:t},e,{key:"labelList-implicit"})):null:null}function det(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var r=e.children,i=Uo(r,uc).map(function(o,l){return b.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!n)return i;var a=uet(e.label,t);return[a].concat(JJe(i))}uc.renderCallByParent=det;function p2(e){"@babel/helpers - typeof";return p2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p2(e)}function OM(){return OM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},OM.apply(this,arguments)}function DW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function RW(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?DW(Object(n),!0).forEach(function(r){fet(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DW(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fet(e,t,n){return t=het(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function het(e){var t=met(e,"string");return p2(t)=="symbol"?t:t+""}function met(e,t){if(p2(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(p2(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pet=function(t,n){var r=$o(n-t),i=Math.min(Math.abs(n-t),359.999);return r*i},d_=function(t){var n=t.cx,r=t.cy,i=t.radius,a=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(l?1:-1)+i,f=Math.asin(c/d)/J5,m=u?a:a+o*f,h=_i(n,r,d,m),g=_i(n,r,i,m),y=u?a-o*f:a,v=_i(n,r,d*Math.cos(f*J5),y);return{center:h,circleTangency:g,lineTangency:v,theta:f}},Ofe=function(t){var n=t.cx,r=t.cy,i=t.innerRadius,a=t.outerRadius,o=t.startAngle,l=t.endAngle,c=pet(o,l),u=o+c,d=_i(n,r,a,o),f=_i(n,r,a,u),m="M ".concat(d.x,",").concat(d.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var h=_i(n,r,i,o),g=_i(n,r,i,u);m+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(h.x,",").concat(h.y," Z")}else m+="L ".concat(n,",").concat(r," Z");return m},get=function(t){var n=t.cx,r=t.cy,i=t.innerRadius,a=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=$o(d-u),m=d_({cx:n,cy:r,radius:a,angle:u,sign:f,cornerRadius:o,cornerIsExternal:c}),h=m.circleTangency,g=m.lineTangency,y=m.theta,v=d_({cx:n,cy:r,radius:a,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:c}),x=v.circleTangency,w=v.lineTangency,j=v.theta,_=c?Math.abs(u-d):Math.abs(u-d)-y-j;if(_<0)return l?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):Ofe({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:u,endAngle:d});var S="M ".concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(h.x,",").concat(h.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(_>180),",").concat(+(f<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(w.x,",").concat(w.y,`
  `);if(i>0){var k=d_({cx:n,cy:r,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),P=k.circleTangency,M=k.lineTangency,T=k.theta,R=d_({cx:n,cy:r,radius:i,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),D=R.circleTangency,I=R.lineTangency,B=R.theta,$=c?Math.abs(u-d):Math.abs(u-d)-T-B;if($<0&&o===0)return"".concat(S,"L").concat(n,",").concat(r,"Z");S+="L".concat(I.x,",").concat(I.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(D.x,",").concat(D.y,`
      A`).concat(i,",").concat(i,",0,").concat(+($>180),",").concat(+(f>0),",").concat(P.x,",").concat(P.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(M.x,",").concat(M.y,"Z")}else S+="L".concat(n,",").concat(r,"Z");return S},vet={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},yF=function(t){var n=RW(RW({},vet),t),r=n.cx,i=n.cy,a=n.innerRadius,o=n.outerRadius,l=n.cornerRadius,c=n.forceCornerRadius,u=n.cornerIsExternal,d=n.startAngle,f=n.endAngle,m=n.className;if(o<a||d===f)return null;var h=In("recharts-sector",m),g=o-a,y=Fo(l,g,0,!0),v;return y>0&&Math.abs(d-f)<360?v=get({cx:r,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(y,g/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):v=Ofe({cx:r,cy:i,innerRadius:a,outerRadius:o,startAngle:d,endAngle:f}),E.createElement("path",OM({},Zt(n,!0),{className:h,d:v,role:"img"}))};function g2(e){"@babel/helpers - typeof";return g2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},g2(e)}function LM(){return LM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},LM.apply(this,arguments)}function $W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function FW(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$W(Object(n),!0).forEach(function(r){xet(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$W(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xet(e,t,n){return t=yet(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yet(e){var t=bet(e,"string");return g2(t)=="symbol"?t:t+""}function bet(e,t){if(g2(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(g2(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var BW={curveBasisClosed:vBe,curveBasisOpen:xBe,curveBasis:gBe,curveBumpX:nBe,curveBumpY:rBe,curveLinearClosed:yBe,curveLinear:WE,curveMonotoneX:bBe,curveMonotoneY:wBe,curveNatural:jBe,curveStep:NBe,curveStepAfter:SBe,curveStepBefore:_Be},f_=function(t){return t.x===+t.x&&t.y===+t.y},Qb=function(t){return t.x},Jb=function(t){return t.y},wet=function(t,n){if(mn(t))return t;var r="curve".concat(qE(t));return(r==="curveMonotone"||r==="curveBump")&&n?BW["".concat(r).concat(n==="vertical"?"Y":"X")]:BW[r]||WE},jet=function(t){var n=t.type,r=n===void 0?"linear":n,i=t.points,a=i===void 0?[]:i,o=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=wet(r,l),f=u?a.filter(function(y){return f_(y)}):a,m;if(Array.isArray(o)){var h=u?o.filter(function(y){return f_(y)}):o,g=f.map(function(y,v){return FW(FW({},y),{},{base:h[v]})});return l==="vertical"?m=n_().y(Jb).x1(Qb).x0(function(y){return y.base.x}):m=n_().x(Qb).y1(Jb).y0(function(y){return y.base.y}),m.defined(f_).curve(d),m(g)}return l==="vertical"&&yt(o)?m=n_().y(Jb).x1(Qb).x0(o):yt(o)?m=n_().x(Qb).y1(Jb).y0(o):m=Cue().x(Qb).y(Jb),m.defined(f_).curve(d),m(f)},np=function(t){var n=t.className,r=t.points,i=t.path,a=t.pathRef;if((!r||!r.length)&&!i)return null;var o=r&&r.length?jet(t):i;return b.createElement("path",LM({},Zt(t,!1),S5(t),{className:In("recharts-curve",n),d:o,ref:a}))},Lfe={exports:{}},Net="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",_et=Net,ket=_et;function Mfe(){}function Ife(){}Ife.resetWarningCache=Mfe;var Cet=function(){function e(r,i,a,o,l,c){if(c!==ket){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Ife,resetWarningCache:Mfe};return n.PropTypes=n,n};Lfe.exports=Cet();var Eet=Lfe.exports;const Br=Ar(Eet),{getOwnPropertyNames:Pet,getOwnPropertySymbols:Aet}=Object,{hasOwnProperty:Tet}=Object.prototype;function _4(e,t){return function(r,i,a){return e(r,i,a)&&t(r,i,a)}}function h_(e){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return e(n,r,i);const{cache:a}=i,o=a.get(n),l=a.get(r);if(o&&l)return o===r&&l===n;a.set(n,r),a.set(r,n);const c=e(n,r,i);return a.delete(n),a.delete(r),c}}function Oet(e){return e!=null?e[Symbol.toStringTag]:void 0}function zW(e){return Pet(e).concat(Aet(e))}const Let=Object.hasOwn||((e,t)=>Tet.call(e,t));function Mv(e,t){return e===t||!e&&!t&&e!==e&&t!==t}const Met="__v",Iet="__o",Det="_owner",{getOwnPropertyDescriptor:VW,keys:qW}=Object;function Ret(e,t){return e.byteLength===t.byteLength&&tk(new Uint8Array(e),new Uint8Array(t))}function $et(e,t,n){let r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(!n.equals(e[r],t[r],r,r,e,t,n))return!1;return!0}function Fet(e,t){return e.byteLength===t.byteLength&&tk(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}function Bet(e,t){return Mv(e.getTime(),t.getTime())}function zet(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function Vet(e,t){return e===t}function UW(e,t,n){const r=e.size;if(r!==t.size)return!1;if(!r)return!0;const i=new Array(r),a=e.entries();let o,l,c=0;for(;(o=a.next())&&!o.done;){const u=t.entries();let d=!1,f=0;for(;(l=u.next())&&!l.done;){if(i[f]){f++;continue}const m=o.value,h=l.value;if(n.equals(m[0],h[0],c,f,e,t,n)&&n.equals(m[1],h[1],m[0],h[0],e,t,n)){d=i[f]=!0;break}f++}if(!d)return!1;c++}return!0}const qet=Mv;function Uet(e,t,n){const r=qW(e);let i=r.length;if(qW(t).length!==i)return!1;for(;i-- >0;)if(!Dfe(e,t,n,r[i]))return!1;return!0}function e1(e,t,n){const r=zW(e);let i=r.length;if(zW(t).length!==i)return!1;let a,o,l;for(;i-- >0;)if(a=r[i],!Dfe(e,t,n,a)||(o=VW(e,a),l=VW(t,a),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function Wet(e,t){return Mv(e.valueOf(),t.valueOf())}function Het(e,t){return e.source===t.source&&e.flags===t.flags}function WW(e,t,n){const r=e.size;if(r!==t.size)return!1;if(!r)return!0;const i=new Array(r),a=e.values();let o,l;for(;(o=a.next())&&!o.done;){const c=t.values();let u=!1,d=0;for(;(l=c.next())&&!l.done;){if(!i[d]&&n.equals(o.value,l.value,o.value,l.value,e,t,n)){u=i[d]=!0;break}d++}if(!u)return!1}return!0}function tk(e,t){let n=e.byteLength;if(t.byteLength!==n||e.byteOffset!==t.byteOffset)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}function Ket(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function Dfe(e,t,n,r){return(r===Det||r===Iet||r===Met)&&(e.$$typeof||t.$$typeof)?!0:Let(t,r)&&n.equals(e[r],t[r],r,r,e,t,n)}const Get="[object ArrayBuffer]",Yet="[object Arguments]",Xet="[object Boolean]",Zet="[object DataView]",Qet="[object Date]",Jet="[object Error]",ett="[object Map]",ttt="[object Number]",ntt="[object Object]",rtt="[object RegExp]",itt="[object Set]",att="[object String]",stt={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},ott="[object URL]",ltt=Object.prototype.toString;function ctt({areArrayBuffersEqual:e,areArraysEqual:t,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:i,areFunctionsEqual:a,areMapsEqual:o,areNumbersEqual:l,areObjectsEqual:c,arePrimitiveWrappersEqual:u,areRegExpsEqual:d,areSetsEqual:f,areTypedArraysEqual:m,areUrlsEqual:h,unknownTagComparators:g}){return function(v,x,w){if(v===x)return!0;if(v==null||x==null)return!1;const j=typeof v;if(j!==typeof x)return!1;if(j!=="object")return j==="number"?l(v,x,w):j==="function"?a(v,x,w):!1;const _=v.constructor;if(_!==x.constructor)return!1;if(_===Object)return c(v,x,w);if(Array.isArray(v))return t(v,x,w);if(_===Date)return r(v,x,w);if(_===RegExp)return d(v,x,w);if(_===Map)return o(v,x,w);if(_===Set)return f(v,x,w);const S=ltt.call(v);if(S===Qet)return r(v,x,w);if(S===rtt)return d(v,x,w);if(S===ett)return o(v,x,w);if(S===itt)return f(v,x,w);if(S===ntt)return typeof v.then!="function"&&typeof x.then!="function"&&c(v,x,w);if(S===ott)return h(v,x,w);if(S===Jet)return i(v,x,w);if(S===Yet)return c(v,x,w);if(stt[S])return m(v,x,w);if(S===Get)return e(v,x,w);if(S===Zet)return n(v,x,w);if(S===Xet||S===ttt||S===att)return u(v,x,w);if(g){let k=g[S];if(!k){const P=Oet(v);P&&(k=g[P])}if(k)return k(v,x,w)}return!1}}function utt({circular:e,createCustomConfig:t,strict:n}){let r={areArrayBuffersEqual:Ret,areArraysEqual:n?e1:$et,areDataViewsEqual:Fet,areDatesEqual:Bet,areErrorsEqual:zet,areFunctionsEqual:Vet,areMapsEqual:n?_4(UW,e1):UW,areNumbersEqual:qet,areObjectsEqual:n?e1:Uet,arePrimitiveWrappersEqual:Wet,areRegExpsEqual:Het,areSetsEqual:n?_4(WW,e1):WW,areTypedArraysEqual:n?_4(tk,e1):tk,areUrlsEqual:Ket,unknownTagComparators:void 0};if(t&&(r=Object.assign({},r,t(r))),e){const i=h_(r.areArraysEqual),a=h_(r.areMapsEqual),o=h_(r.areObjectsEqual),l=h_(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:i,areMapsEqual:a,areObjectsEqual:o,areSetsEqual:l})}return r}function dtt(e){return function(t,n,r,i,a,o,l){return e(t,n,l)}}function ftt({circular:e,comparator:t,createState:n,equals:r,strict:i}){if(n)return function(l,c){const{cache:u=e?new WeakMap:void 0,meta:d}=n();return t(l,c,{cache:u,equals:r,meta:d,strict:i})};if(e)return function(l,c){return t(l,c,{cache:new WeakMap,equals:r,meta:void 0,strict:i})};const a={cache:void 0,equals:r,meta:void 0,strict:i};return function(l,c){return t(l,c,a)}}const htt=Dp();Dp({strict:!0});Dp({circular:!0});Dp({circular:!0,strict:!0});Dp({createInternalComparator:()=>Mv});Dp({strict:!0,createInternalComparator:()=>Mv});Dp({circular:!0,createInternalComparator:()=>Mv});Dp({circular:!0,createInternalComparator:()=>Mv,strict:!0});function Dp(e={}){const{circular:t=!1,createInternalComparator:n,createState:r,strict:i=!1}=e,a=utt(e),o=ctt(a),l=n?n(o):dtt(o);return ftt({circular:t,comparator:o,createState:r,equals:l,strict:i})}function mtt(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function HW(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(a){n<0&&(n=a),a-n>t?(e(a),n=-1):mtt(i)};requestAnimationFrame(r)}function MM(e){"@babel/helpers - typeof";return MM=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},MM(e)}function ptt(e){return ytt(e)||xtt(e)||vtt(e)||gtt()}function gtt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vtt(e,t){if(e){if(typeof e=="string")return KW(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return KW(e,t)}}function KW(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xtt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ytt(e){if(Array.isArray(e))return e}function btt(){var e={},t=function(){return null},n=!1,r=function i(a){if(!n){if(Array.isArray(a)){if(!a.length)return;var o=a,l=ptt(o),c=l[0],u=l.slice(1);if(typeof c=="number"){HW(i.bind(null,u),c);return}i(c),HW(i.bind(null,u));return}MM(a)==="object"&&(e=a,t(e)),typeof a=="function"&&a()}};return{stop:function(){n=!0},start:function(a){n=!1,r(a)},subscribe:function(a){return t=a,function(){t=function(){return null}}}}}function v2(e){"@babel/helpers - typeof";return v2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v2(e)}function GW(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function YW(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GW(Object(n),!0).forEach(function(r){Rfe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GW(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Rfe(e,t,n){return t=wtt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wtt(e){var t=jtt(e,"string");return v2(t)==="symbol"?t:String(t)}function jtt(e,t){if(v2(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(v2(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ntt=function(t,n){return[Object.keys(t),Object.keys(n)].reduce(function(r,i){return r.filter(function(a){return i.includes(a)})})},_tt=function(t){return t},Stt=function(t){return t.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},U1=function(t,n){return Object.keys(n).reduce(function(r,i){return YW(YW({},r),{},Rfe({},i,t(i,n[i])))},{})},XW=function(t,n,r){return t.map(function(i){return"".concat(Stt(i)," ").concat(n,"ms ").concat(r)}).join(",")};function ktt(e,t){return Ptt(e)||Ett(e,t)||$fe(e,t)||Ctt()}function Ctt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ett(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function Ptt(e){if(Array.isArray(e))return e}function Att(e){return Ltt(e)||Ott(e)||$fe(e)||Ttt()}function Ttt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $fe(e,t){if(e){if(typeof e=="string")return IM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return IM(e,t)}}function Ott(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Ltt(e){if(Array.isArray(e))return IM(e)}function IM(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var nk=1e-4,Ffe=function(t,n){return[0,3*t,3*n-6*t,3*t-3*n+1]},Bfe=function(t,n){return t.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},ZW=function(t,n){return function(r){var i=Ffe(t,n);return Bfe(i,r)}},Mtt=function(t,n){return function(r){var i=Ffe(t,n),a=[].concat(Att(i.map(function(o,l){return o*l}).slice(1)),[0]);return Bfe(a,r)}},QW=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n[0],a=n[1],o=n[2],l=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,a=0,o=1,l=1;break;case"ease":i=.25,a=.1,o=.25,l=1;break;case"ease-in":i=.42,a=0,o=1,l=1;break;case"ease-out":i=.42,a=0,o=.58,l=1;break;case"ease-in-out":i=0,a=0,o=.58,l=1;break;default:{var c=n[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),d=ktt(u,4);i=d[0],a=d[1],o=d[2],l=d[3]}}}var f=ZW(i,o),m=ZW(a,l),h=Mtt(i,o),g=function(x){return x>1?1:x<0?0:x},y=function(x){for(var w=x>1?1:x,j=w,_=0;_<8;++_){var S=f(j)-w,k=h(j);if(Math.abs(S-w)<nk||k<nk)return m(j);j=g(j-S/k)}return m(j)};return y.isStepper=!1,y},Itt=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.stiff,r=n===void 0?100:n,i=t.damping,a=i===void 0?8:i,o=t.dt,l=o===void 0?17:o,c=function(d,f,m){var h=-(d-f)*r,g=m*a,y=m+(h-g)*l/1e3,v=m*l/1e3+d;return Math.abs(v-f)<nk&&Math.abs(y)<nk?[f,0]:[v,y]};return c.isStepper=!0,c.dt=l,c},Dtt=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return QW(i);case"spring":return Itt();default:if(i.split("(")[0]==="cubic-bezier")return QW(i)}return typeof i=="function"?i:null};function x2(e){"@babel/helpers - typeof";return x2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},x2(e)}function JW(e){return Ftt(e)||$tt(e)||zfe(e)||Rtt()}function Rtt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $tt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Ftt(e){if(Array.isArray(e))return RM(e)}function eH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Os(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eH(Object(n),!0).forEach(function(r){DM(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eH(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function DM(e,t,n){return t=Btt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Btt(e){var t=ztt(e,"string");return x2(t)==="symbol"?t:String(t)}function ztt(e,t){if(x2(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(x2(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vtt(e,t){return Wtt(e)||Utt(e,t)||zfe(e,t)||qtt()}function qtt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zfe(e,t){if(e){if(typeof e=="string")return RM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return RM(e,t)}}function RM(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Utt(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function Wtt(e){if(Array.isArray(e))return e}var rk=function(t,n,r){return t+(n-t)*r},$M=function(t){var n=t.from,r=t.to;return n!==r},Htt=function e(t,n,r){var i=U1(function(a,o){if($M(o)){var l=t(o.from,o.to,o.velocity),c=Vtt(l,2),u=c[0],d=c[1];return Os(Os({},o),{},{from:u,velocity:d})}return o},n);return r<1?U1(function(a,o){return $M(o)?Os(Os({},o),{},{velocity:rk(o.velocity,i[a].velocity,r),from:rk(o.from,i[a].from,r)}):o},n):e(t,i,r-1)};const Ktt=function(e,t,n,r,i){var a=Ntt(e,t),o=a.reduce(function(v,x){return Os(Os({},v),{},DM({},x,[e[x],t[x]]))},{}),l=a.reduce(function(v,x){return Os(Os({},v),{},DM({},x,{from:e[x],velocity:0,to:t[x]}))},{}),c=-1,u,d,f=function(){return null},m=function(){return U1(function(x,w){return w.from},l)},h=function(){return!Object.values(l).filter($M).length},g=function(x){u||(u=x);var w=x-u,j=w/n.dt;l=Htt(n,l,j),i(Os(Os(Os({},e),t),m())),u=x,h()||(c=requestAnimationFrame(f))},y=function(x){d||(d=x);var w=(x-d)/r,j=U1(function(S,k){return rk.apply(void 0,JW(k).concat([n(w)]))},o);if(i(Os(Os(Os({},e),t),j)),w<1)c=requestAnimationFrame(f);else{var _=U1(function(S,k){return rk.apply(void 0,JW(k).concat([n(1)]))},o);i(Os(Os(Os({},e),t),_))}};return f=n.isStepper?g:y,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function Jy(e){"@babel/helpers - typeof";return Jy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jy(e)}var Gtt=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Ytt(e,t){if(e==null)return{};var n=Xtt(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Xtt(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function S4(e){return ent(e)||Jtt(e)||Qtt(e)||Ztt()}function Ztt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qtt(e,t){if(e){if(typeof e=="string")return FM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return FM(e,t)}}function Jtt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ent(e){if(Array.isArray(e))return FM(e)}function FM(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function tH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Mu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tH(Object(n),!0).forEach(function(r){b1(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tH(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function b1(e,t,n){return t=Vfe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tnt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nnt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Vfe(r.key),r)}}function rnt(e,t,n){return t&&nnt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Vfe(e){var t=int(e,"string");return Jy(t)==="symbol"?t:String(t)}function int(e,t){if(Jy(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Jy(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ant(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&BM(e,t)}function BM(e,t){return BM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},BM(e,t)}function snt(e){var t=ont();return function(){var r=ik(e),i;if(t){var a=ik(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return zM(this,i)}}function zM(e,t){if(t&&(Jy(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VM(e)}function VM(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ont(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ik(e){return ik=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ik(e)}var iu=function(e){ant(n,e);var t=snt(n);function n(r,i){var a;tnt(this,n),a=t.call(this,r,i);var o=a.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,f=o.steps,m=o.children,h=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(VM(a)),a.changeStyle=a.changeStyle.bind(VM(a)),!l||h<=0)return a.state={style:{}},typeof m=="function"&&(a.state={style:d}),zM(a);if(f&&f.length)a.state={style:f[0].style};else if(u){if(typeof m=="function")return a.state={style:u},zM(a);a.state={style:c?b1({},c,u):u}}else a.state={style:{}};return a}return rnt(n,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,o=i.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isActive,l=a.canBegin,c=a.attributeName,u=a.shouldReAnimate,d=a.to,f=a.from,m=this.state.style;if(l){if(!o){var h={style:c?b1({},c,d):d};this.state&&m&&(c&&m[c]!==d||!c&&m!==d)&&this.setState(h);return}if(!(htt(i.to,d)&&i.canBegin&&i.isActive)){var g=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var y=g||u?f:i.to;if(this.state&&m){var v={style:c?b1({},c,y):y};(c&&m[c]!==y||!c&&m!==y)&&this.setState(v)}this.runAnimation(Mu(Mu({},this.props),{},{from:y,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,o=i.from,l=i.to,c=i.duration,u=i.easing,d=i.begin,f=i.onAnimationEnd,m=i.onAnimationStart,h=Ktt(o,l,Dtt(u),c,this.changeStyle),g=function(){a.stopJSAnimation=h()};this.manager.start([m,d,g,c,f])}},{key:"runStepAnimation",value:function(i){var a=this,o=i.steps,l=i.begin,c=i.onAnimationStart,u=o[0],d=u.style,f=u.duration,m=f===void 0?0:f,h=function(y,v,x){if(x===0)return y;var w=v.duration,j=v.easing,_=j===void 0?"ease":j,S=v.style,k=v.properties,P=v.onAnimationEnd,M=x>0?o[x-1]:v,T=k||Object.keys(S);if(typeof _=="function"||_==="spring")return[].concat(S4(y),[a.runJSAnimation.bind(a,{from:M.style,to:S,duration:w,easing:_}),w]);var R=XW(T,w,_),D=Mu(Mu(Mu({},M.style),S),{},{transition:R});return[].concat(S4(y),[D,w,P]).filter(_tt)};return this.manager.start([c].concat(S4(o.reduce(h,[d,Math.max(m,l)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=btt());var a=i.begin,o=i.duration,l=i.attributeName,c=i.to,u=i.easing,d=i.onAnimationStart,f=i.onAnimationEnd,m=i.steps,h=i.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof u=="function"||typeof h=="function"||u==="spring"){this.runJSAnimation(i);return}if(m.length>1){this.runStepAnimation(i);return}var y=l?b1({},l,c):c,v=XW(Object.keys(y),o,u);g.start([d,a,Mu(Mu({},y),{},{transition:v}),o,f])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var l=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=Ytt(i,Gtt),u=b.Children.count(a),d=this.state.style;if(typeof a=="function")return a(d);if(!l||u===0||o<=0)return a;var f=function(h){var g=h.props,y=g.style,v=y===void 0?{}:y,x=g.className,w=b.cloneElement(h,Mu(Mu({},c),{},{style:Mu(Mu({},v),d),className:x}));return w};return u===1?f(b.Children.only(a)):E.createElement("div",null,b.Children.map(a,function(m){return f(m)}))}}]),n}(b.PureComponent);iu.displayName="Animate";iu.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};iu.propTypes={from:Br.oneOfType([Br.object,Br.string]),to:Br.oneOfType([Br.object,Br.string]),attributeName:Br.string,duration:Br.number,begin:Br.number,easing:Br.oneOfType([Br.string,Br.func]),steps:Br.arrayOf(Br.shape({duration:Br.number.isRequired,style:Br.object.isRequired,easing:Br.oneOfType([Br.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Br.func]),properties:Br.arrayOf("string"),onAnimationEnd:Br.func})),children:Br.oneOfType([Br.node,Br.func]),isActive:Br.bool,canBegin:Br.bool,onAnimationEnd:Br.func,shouldReAnimate:Br.bool,onAnimationStart:Br.func,onAnimationReStart:Br.func};function y2(e){"@babel/helpers - typeof";return y2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},y2(e)}function ak(){return ak=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ak.apply(this,arguments)}function lnt(e,t){return fnt(e)||dnt(e,t)||unt(e,t)||cnt()}function cnt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function unt(e,t){if(e){if(typeof e=="string")return nH(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nH(e,t)}}function nH(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function dnt(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function fnt(e){if(Array.isArray(e))return e}function rH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function iH(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rH(Object(n),!0).forEach(function(r){hnt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rH(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hnt(e,t,n){return t=mnt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mnt(e){var t=pnt(e,"string");return y2(t)=="symbol"?t:t+""}function pnt(e,t){if(y2(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(y2(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var aH=function(t,n,r,i,a){var o=Math.min(Math.abs(r)/2,Math.abs(i)/2),l=i>=0?1:-1,c=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,d;if(o>0&&a instanceof Array){for(var f=[0,0,0,0],m=0,h=4;m<h;m++)f[m]=a[m]>o?o:a[m];d="M".concat(t,",").concat(n+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+c*f[0],",").concat(n)),d+="L ".concat(t+r-c*f[1],",").concat(n),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+r,",").concat(n+l*f[1])),d+="L ".concat(t+r,",").concat(n+i-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+r-c*f[2],",").concat(n+i)),d+="L ".concat(t+c*f[3],",").concat(n+i),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(n+i-l*f[3])),d+="Z"}else if(o>0&&a===+a&&a>0){var g=Math.min(o,a);d="M ".concat(t,",").concat(n+l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+c*g,",").concat(n,`
            L `).concat(t+r-c*g,",").concat(n,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+r,",").concat(n+l*g,`
            L `).concat(t+r,",").concat(n+i-l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+r-c*g,",").concat(n+i,`
            L `).concat(t+c*g,",").concat(n+i,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t,",").concat(n+i-l*g," Z")}else d="M ".concat(t,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return d},gnt=function(t,n){if(!t||!n)return!1;var r=t.x,i=t.y,a=n.x,o=n.y,l=n.width,c=n.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(a,a+l),d=Math.max(a,a+l),f=Math.min(o,o+c),m=Math.max(o,o+c);return r>=u&&r<=d&&i>=f&&i<=m}return!1},vnt={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},bF=function(t){var n=iH(iH({},vnt),t),r=b.useRef(),i=b.useState(-1),a=lnt(i,2),o=a[0],l=a[1];b.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var _=r.current.getTotalLength();_&&l(_)}catch{}},[]);var c=n.x,u=n.y,d=n.width,f=n.height,m=n.radius,h=n.className,g=n.animationEasing,y=n.animationDuration,v=n.animationBegin,x=n.isAnimationActive,w=n.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var j=In("recharts-rectangle",h);return w?E.createElement(iu,{canBegin:o>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:y,animationEasing:g,isActive:w},function(_){var S=_.width,k=_.height,P=_.x,M=_.y;return E.createElement(iu,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:y,isActive:x,easing:g},E.createElement("path",ak({},Zt(n,!0),{className:j,d:aH(P,M,S,k,m),ref:r})))}):E.createElement("path",ak({},Zt(n,!0),{className:j,d:aH(c,u,d,f,m)}))},xnt=["points","className","baseLinePoints","connectNulls"];function Wx(){return Wx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wx.apply(this,arguments)}function ynt(e,t){if(e==null)return{};var n=bnt(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function bnt(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function sH(e){return _nt(e)||Nnt(e)||jnt(e)||wnt()}function wnt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jnt(e,t){if(e){if(typeof e=="string")return qM(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qM(e,t)}}function Nnt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _nt(e){if(Array.isArray(e))return qM(e)}function qM(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var oH=function(t){return t&&t.x===+t.x&&t.y===+t.y},Snt=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return t.forEach(function(r){oH(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),oH(t[0])&&n[n.length-1].push(t[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},W1=function(t,n){var r=Snt(t);n&&(r=[r.reduce(function(a,o){return[].concat(sH(a),sH(o))},[])]);var i=r.map(function(a){return a.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},knt=function(t,n,r){var i=W1(t,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(W1(n.reverse(),r).slice(1))},Cnt=function(t){var n=t.points,r=t.className,i=t.baseLinePoints,a=t.connectNulls,o=ynt(t,xnt);if(!n||!n.length)return null;var l=In("recharts-polygon",r);if(i&&i.length){var c=o.stroke&&o.stroke!=="none",u=knt(n,i,a);return E.createElement("g",{className:l},E.createElement("path",Wx({},Zt(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),c?E.createElement("path",Wx({},Zt(o,!0),{fill:"none",d:W1(n,a)})):null,c?E.createElement("path",Wx({},Zt(o,!0),{fill:"none",d:W1(i,a)})):null)}var d=W1(n,a);return E.createElement("path",Wx({},Zt(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",className:l,d}))};function UM(){return UM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},UM.apply(this,arguments)}var hf=function(t){var n=t.cx,r=t.cy,i=t.r,a=t.className,o=In("recharts-dot",a);return n===+n&&r===+r&&i===+i?b.createElement("circle",UM({},Zt(t,!1),S5(t),{className:o,cx:n,cy:r,r:i})):null};function b2(e){"@babel/helpers - typeof";return b2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},b2(e)}var Ent=["x","y","top","left","width","height","className"];function WM(){return WM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},WM.apply(this,arguments)}function lH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Pnt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lH(Object(n),!0).forEach(function(r){Ant(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lH(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ant(e,t,n){return t=Tnt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tnt(e){var t=Ont(e,"string");return b2(t)=="symbol"?t:t+""}function Ont(e,t){if(b2(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(b2(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Lnt(e,t){if(e==null)return{};var n=Mnt(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Mnt(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var Int=function(t,n,r,i,a,o){return"M".concat(t,",").concat(a,"v").concat(i,"M").concat(o,",").concat(n,"h").concat(r)},Dnt=function(t){var n=t.x,r=n===void 0?0:n,i=t.y,a=i===void 0?0:i,o=t.top,l=o===void 0?0:o,c=t.left,u=c===void 0?0:c,d=t.width,f=d===void 0?0:d,m=t.height,h=m===void 0?0:m,g=t.className,y=Lnt(t,Ent),v=Pnt({x:r,y:a,top:l,left:u,width:f,height:h},y);return!yt(r)||!yt(a)||!yt(f)||!yt(h)||!yt(l)||!yt(u)?null:E.createElement("path",WM({},Zt(v,!0),{className:In("recharts-cross",g),d:Int(r,a,f,h,l,u)}))},Rnt=rP,$nt=tfe,Fnt=Nf;function Bnt(e,t){return e&&e.length?Rnt(e,Fnt(t),$nt):void 0}var znt=Bnt;const Vnt=Ar(znt);var qnt=rP,Unt=Nf,Wnt=nfe;function Hnt(e,t){return e&&e.length?qnt(e,Unt(t),Wnt):void 0}var Knt=Hnt;const Gnt=Ar(Knt);var Ynt=["cx","cy","angle","ticks","axisLine"],Xnt=["ticks","tick","angle","tickFormatter","stroke"];function e0(e){"@babel/helpers - typeof";return e0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e0(e)}function H1(){return H1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},H1.apply(this,arguments)}function cH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function dg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cH(Object(n),!0).forEach(function(r){oP(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cH(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uH(e,t){if(e==null)return{};var n=Znt(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Znt(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Qnt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dH(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ufe(r.key),r)}}function Jnt(e,t,n){return t&&dH(e.prototype,t),n&&dH(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ert(e,t,n){return t=sk(t),trt(e,qfe()?Reflect.construct(t,n||[],sk(e).constructor):t.apply(e,n))}function trt(e,t){if(t&&(e0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nrt(e)}function nrt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qfe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qfe=function(){return!!e})()}function sk(e){return sk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},sk(e)}function rrt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&HM(e,t)}function HM(e,t){return HM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},HM(e,t)}function oP(e,t,n){return t=Ufe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ufe(e){var t=irt(e,"string");return e0(t)=="symbol"?t:t+""}function irt(e,t){if(e0(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(e0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var lP=function(e){function t(){return Qnt(this,t),ert(this,t,arguments)}return rrt(t,e),Jnt(t,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,a=this.props,o=a.angle,l=a.cx,c=a.cy;return _i(l,c,i,o)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,a=r.cy,o=r.angle,l=r.ticks,c=Vnt(l,function(d){return d.coordinate||0}),u=Gnt(l,function(d){return d.coordinate||0});return{cx:i,cy:a,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,a=r.cy,o=r.angle,l=r.ticks,c=r.axisLine,u=uH(r,Ynt),d=l.reduce(function(g,y){return[Math.min(g[0],y.coordinate),Math.max(g[1],y.coordinate)]},[1/0,-1/0]),f=_i(i,a,d[0],o),m=_i(i,a,d[1],o),h=dg(dg(dg({},Zt(u,!1)),{},{fill:"none"},Zt(c,!1)),{},{x1:f.x,y1:f.y,x2:m.x,y2:m.y});return E.createElement("line",H1({className:"recharts-polar-radius-axis-line"},h))}},{key:"renderTicks",value:function(){var r=this,i=this.props,a=i.ticks,o=i.tick,l=i.angle,c=i.tickFormatter,u=i.stroke,d=uH(i,Xnt),f=this.getTickTextAnchor(),m=Zt(d,!1),h=Zt(o,!1),g=a.map(function(y,v){var x=r.getTickValueCoord(y),w=dg(dg(dg(dg({textAnchor:f,transform:"rotate(".concat(90-l,", ").concat(x.x,", ").concat(x.y,")")},m),{},{stroke:"none",fill:u},h),{},{index:v},x),{},{payload:y});return E.createElement(Kn,H1({className:In("recharts-polar-radius-axis-tick",Afe(o)),key:"tick-".concat(y.coordinate)},fp(r.props,y,v)),t.renderTickItem(o,w,c?c(y.value,v):y.value))});return E.createElement(Kn,{className:"recharts-polar-radius-axis-ticks"},g)}},{key:"render",value:function(){var r=this.props,i=r.ticks,a=r.axisLine,o=r.tick;return!i||!i.length?null:E.createElement(Kn,{className:In("recharts-polar-radius-axis",this.props.className)},a&&this.renderAxisLine(),o&&this.renderTicks(),ai.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,a){var o;return E.isValidElement(r)?o=E.cloneElement(r,i):mn(r)?o=r(i):o=E.createElement(cv,H1({},i,{className:"recharts-polar-radius-axis-tick-value"}),a),o}}])}(b.PureComponent);oP(lP,"displayName","PolarRadiusAxis");oP(lP,"axisType","radiusAxis");oP(lP,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function t0(e){"@babel/helpers - typeof";return t0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t0(e)}function Cg(){return Cg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Cg.apply(this,arguments)}function fH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function fg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fH(Object(n),!0).forEach(function(r){cP(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fH(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function art(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hH(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Hfe(r.key),r)}}function srt(e,t,n){return t&&hH(e.prototype,t),n&&hH(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ort(e,t,n){return t=ok(t),lrt(e,Wfe()?Reflect.construct(t,n||[],ok(e).constructor):t.apply(e,n))}function lrt(e,t){if(t&&(t0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return crt(e)}function crt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Wfe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Wfe=function(){return!!e})()}function ok(e){return ok=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ok(e)}function urt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&KM(e,t)}function KM(e,t){return KM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},KM(e,t)}function cP(e,t,n){return t=Hfe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hfe(e){var t=drt(e,"string");return t0(t)=="symbol"?t:t+""}function drt(e,t){if(t0(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(t0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var frt=Math.PI/180,mH=1e-5,uP=function(e){function t(){return art(this,t),ort(this,t,arguments)}return urt(t,e),srt(t,[{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.cx,o=i.cy,l=i.radius,c=i.orientation,u=i.tickSize,d=u||8,f=_i(a,o,l,r.coordinate),m=_i(a,o,l+(c==="inner"?-1:1)*d,r.coordinate);return{x1:f.x,y1:f.y,x2:m.x,y2:m.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,a=Math.cos(-r.coordinate*frt),o;return a>mH?o=i==="outer"?"start":"end":a<-mH?o=i==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,a=r.cy,o=r.radius,l=r.axisLine,c=r.axisLineType,u=fg(fg({},Zt(this.props,!1)),{},{fill:"none"},Zt(l,!1));if(c==="circle")return E.createElement(hf,Cg({className:"recharts-polar-angle-axis-line"},u,{cx:i,cy:a,r:o}));var d=this.props.ticks,f=d.map(function(m){return _i(i,a,o,m.coordinate)});return E.createElement(Cnt,Cg({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,a=i.ticks,o=i.tick,l=i.tickLine,c=i.tickFormatter,u=i.stroke,d=Zt(this.props,!1),f=Zt(o,!1),m=fg(fg({},d),{},{fill:"none"},Zt(l,!1)),h=a.map(function(g,y){var v=r.getTickLineCoord(g),x=r.getTickTextAnchor(g),w=fg(fg(fg({textAnchor:x},d),{},{stroke:"none",fill:u},f),{},{index:y,payload:g,x:v.x2,y:v.y2});return E.createElement(Kn,Cg({className:In("recharts-polar-angle-axis-tick",Afe(o)),key:"tick-".concat(g.coordinate)},fp(r.props,g,y)),l&&E.createElement("line",Cg({className:"recharts-polar-angle-axis-tick-line"},m,v)),o&&t.renderTickItem(o,w,c?c(g.value,y):g.value))});return E.createElement(Kn,{className:"recharts-polar-angle-axis-ticks"},h)}},{key:"render",value:function(){var r=this.props,i=r.ticks,a=r.radius,o=r.axisLine;return a<=0||!i||!i.length?null:E.createElement(Kn,{className:In("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,a){var o;return E.isValidElement(r)?o=E.cloneElement(r,i):mn(r)?o=r(i):o=E.createElement(cv,Cg({},i,{className:"recharts-polar-angle-axis-tick-value"}),a),o}}])}(b.PureComponent);cP(uP,"displayName","PolarAngleAxis");cP(uP,"axisType","angleAxis");cP(uP,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var hrt=Zue,mrt=hrt(Object.getPrototypeOf,Object),prt=mrt,grt=$h,vrt=prt,xrt=Fh,yrt="[object Object]",brt=Function.prototype,wrt=Object.prototype,Kfe=brt.toString,jrt=wrt.hasOwnProperty,Nrt=Kfe.call(Object);function _rt(e){if(!xrt(e)||grt(e)!=yrt)return!1;var t=vrt(e);if(t===null)return!0;var n=jrt.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&Kfe.call(n)==Nrt}var Srt=_rt;const krt=Ar(Srt);var Crt=$h,Ert=Fh,Prt="[object Boolean]";function Art(e){return e===!0||e===!1||Ert(e)&&Crt(e)==Prt}var Trt=Art;const Ort=Ar(Trt);function w2(e){"@babel/helpers - typeof";return w2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},w2(e)}function lk(){return lk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lk.apply(this,arguments)}function Lrt(e,t){return Rrt(e)||Drt(e,t)||Irt(e,t)||Mrt()}function Mrt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Irt(e,t){if(e){if(typeof e=="string")return pH(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pH(e,t)}}function pH(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Drt(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function Rrt(e){if(Array.isArray(e))return e}function gH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function vH(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gH(Object(n),!0).forEach(function(r){$rt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gH(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $rt(e,t,n){return t=Frt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Frt(e){var t=Brt(e,"string");return w2(t)=="symbol"?t:t+""}function Brt(e,t){if(w2(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(w2(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xH=function(t,n,r,i,a){var o=r-i,l;return l="M ".concat(t,",").concat(n),l+="L ".concat(t+r,",").concat(n),l+="L ".concat(t+r-o/2,",").concat(n+a),l+="L ".concat(t+r-o/2-i,",").concat(n+a),l+="L ".concat(t,",").concat(n," Z"),l},zrt={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Vrt=function(t){var n=vH(vH({},zrt),t),r=b.useRef(),i=b.useState(-1),a=Lrt(i,2),o=a[0],l=a[1];b.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var j=r.current.getTotalLength();j&&l(j)}catch{}},[]);var c=n.x,u=n.y,d=n.upperWidth,f=n.lowerWidth,m=n.height,h=n.className,g=n.animationEasing,y=n.animationDuration,v=n.animationBegin,x=n.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||m!==+m||d===0&&f===0||m===0)return null;var w=In("recharts-trapezoid",h);return x?E.createElement(iu,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:m,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:m,x:c,y:u},duration:y,animationEasing:g,isActive:x},function(j){var _=j.upperWidth,S=j.lowerWidth,k=j.height,P=j.x,M=j.y;return E.createElement(iu,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:y,easing:g},E.createElement("path",lk({},Zt(n,!0),{className:w,d:xH(P,M,_,S,k),ref:r})))}):E.createElement("g",null,E.createElement("path",lk({},Zt(n,!0),{className:w,d:xH(c,u,d,f,m)})))},qrt=["option","shapeType","propTransformer","activeClassName","isActive"];function j2(e){"@babel/helpers - typeof";return j2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},j2(e)}function Urt(e,t){if(e==null)return{};var n=Wrt(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Wrt(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function yH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ck(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yH(Object(n),!0).forEach(function(r){Hrt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yH(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Hrt(e,t,n){return t=Krt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Krt(e){var t=Grt(e,"string");return j2(t)=="symbol"?t:t+""}function Grt(e,t){if(j2(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(j2(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yrt(e,t){return ck(ck({},t),e)}function Xrt(e,t){return e==="symbols"}function bH(e){var t=e.shapeType,n=e.elementProps;switch(t){case"rectangle":return E.createElement(bF,n);case"trapezoid":return E.createElement(Vrt,n);case"sector":return E.createElement(yF,n);case"symbols":if(Xrt(t))return E.createElement(KE,n);break;default:return null}}function Zrt(e){return b.isValidElement(e)?e.props:e}function uk(e){var t=e.option,n=e.shapeType,r=e.propTransformer,i=r===void 0?Yrt:r,a=e.activeClassName,o=a===void 0?"recharts-active-shape":a,l=e.isActive,c=Urt(e,qrt),u;if(b.isValidElement(t))u=b.cloneElement(t,ck(ck({},c),Zrt(t)));else if(mn(t))u=t(c);else if(krt(t)&&!Ort(t)){var d=i(t,c);u=E.createElement(bH,{shapeType:n,elementProps:d})}else{var f=c;u=E.createElement(bH,{shapeType:n,elementProps:f})}return l?E.createElement(Kn,{className:o},u):u}function dP(e,t){return t!=null&&"trapezoids"in e.props}function fP(e,t){return t!=null&&"sectors"in e.props}function N2(e,t){return t!=null&&"points"in e.props}function Qrt(e,t){var n,r,i=e.x===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.x)||e.x===t.x,a=e.y===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.y)||e.y===t.y;return i&&a}function Jrt(e,t){var n=e.endAngle===t.endAngle,r=e.startAngle===t.startAngle;return n&&r}function eit(e,t){var n=e.x===t.x,r=e.y===t.y,i=e.z===t.z;return n&&r&&i}function tit(e,t){var n;return dP(e,t)?n=Qrt:fP(e,t)?n=Jrt:N2(e,t)&&(n=eit),n}function nit(e,t){var n;return dP(e,t)?n="trapezoids":fP(e,t)?n="sectors":N2(e,t)&&(n="points"),n}function rit(e,t){if(dP(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(fP(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return N2(e,t)?t.payload:{}}function iit(e){var t=e.activeTooltipItem,n=e.graphicalItem,r=e.itemData,i=nit(n,t),a=rit(n,t),o=r.filter(function(c,u){var d=hp(a,c),f=n.props[i].filter(function(g){var y=tit(n,t);return y(g,t)}),m=n.props[i].indexOf(f[f.length-1]),h=u===m;return d&&h}),l=r.indexOf(o[o.length-1]);return l}var hS;function n0(e){"@babel/helpers - typeof";return n0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n0(e)}function Hx(){return Hx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hx.apply(this,arguments)}function wH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function bi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wH(Object(n),!0).forEach(function(r){Yc(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wH(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ait(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jH(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Yfe(r.key),r)}}function sit(e,t,n){return t&&jH(e.prototype,t),n&&jH(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function oit(e,t,n){return t=dk(t),lit(e,Gfe()?Reflect.construct(t,n||[],dk(e).constructor):t.apply(e,n))}function lit(e,t){if(t&&(n0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cit(e)}function cit(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Gfe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Gfe=function(){return!!e})()}function dk(e){return dk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},dk(e)}function uit(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&GM(e,t)}function GM(e,t){return GM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},GM(e,t)}function Yc(e,t,n){return t=Yfe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yfe(e){var t=dit(e,"string");return n0(t)=="symbol"?t:t+""}function dit(e,t){if(n0(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(n0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var hd=function(e){function t(n){var r;return ait(this,t),r=oit(this,t,[n]),Yc(r,"pieRef",null),Yc(r,"sectorRefs",[]),Yc(r,"id",Lp("recharts-pie-")),Yc(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),mn(i)&&i()}),Yc(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),mn(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return uit(t,e),sit(t,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.label,l=a.labelLine,c=a.dataKey,u=a.valueKey,d=Zt(this.props,!1),f=Zt(o,!1),m=Zt(l,!1),h=o&&o.offsetRadius||20,g=r.map(function(y,v){var x=(y.startAngle+y.endAngle)/2,w=_i(y.cx,y.cy,y.outerRadius+h,x),j=bi(bi(bi(bi({},d),y),{},{stroke:"none"},f),{},{index:v,textAnchor:t.getTextAnchor(w.x,y.cx)},w),_=bi(bi(bi(bi({},d),y),{},{fill:"none",stroke:y.fill},m),{},{index:v,points:[_i(y.cx,y.cy,y.outerRadius,x),w]}),S=c;return fn(c)&&fn(u)?S="value":fn(c)&&(S=u),E.createElement(Kn,{key:"label-".concat(y.startAngle,"-").concat(y.endAngle,"-").concat(y.midAngle,"-").concat(v)},l&&t.renderLabelLineItem(l,_,"line"),t.renderLabelItem(o,j,Di(y,S)))});return E.createElement(Kn,{className:"recharts-pie-labels"},g)}},{key:"renderSectorsStatically",value:function(r){var i=this,a=this.props,o=a.activeShape,l=a.blendStroke,c=a.inactiveShape;return r.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&r.length!==1)return null;var f=i.isActiveIndex(d),m=c&&i.hasActiveIndex()?c:null,h=f?o:m,g=bi(bi({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return E.createElement(Kn,Hx({ref:function(v){v&&!i.sectorRefs.includes(v)&&i.sectorRefs.push(v)},tabIndex:-1,className:"recharts-pie-sector"},fp(i.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),E.createElement(uk,Hx({option:h,isActive:f,shapeType:"sector"},g)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,a=i.sectors,o=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,u=i.animationEasing,d=i.animationId,f=this.state,m=f.prevSectors,h=f.prevIsAnimationActive;return E.createElement(iu,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(h),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(g){var y=g.t,v=[],x=a&&a[0],w=x.startAngle;return a.forEach(function(j,_){var S=m&&m[_],k=_>0?cc(j,"paddingAngle",0):0;if(S){var P=ra(S.endAngle-S.startAngle,j.endAngle-j.startAngle),M=bi(bi({},j),{},{startAngle:w+k,endAngle:w+P(y)+k});v.push(M),w=M.endAngle}else{var T=j.endAngle,R=j.startAngle,D=ra(0,T-R),I=D(y),B=bi(bi({},j),{},{startAngle:w+k,endAngle:w+I+k});v.push(B),w=B.endAngle}}),E.createElement(Kn,null,r.renderSectorsStatically(v))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var o=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[l].focus(),i.setState({sectorToFocus:l});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,a=r.isAnimationActive,o=this.state.prevSectors;return a&&i&&i.length&&(!o||!hp(o,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,a=i.hide,o=i.sectors,l=i.className,c=i.label,u=i.cx,d=i.cy,f=i.innerRadius,m=i.outerRadius,h=i.isAnimationActive,g=this.state.isAnimationFinished;if(a||!o||!o.length||!yt(u)||!yt(d)||!yt(f)||!yt(m))return null;var y=In("recharts-pie",l);return E.createElement(Kn,{tabIndex:this.props.rootTabIndex,className:y,ref:function(x){r.pieRef=x}},this.renderSectors(),c&&this.renderLabels(o),ai.renderCallByParent(this.props,null,!1),(!h||g)&&uc.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,a){if(E.isValidElement(r))return E.cloneElement(r,i);if(mn(r))return r(i);var o=In("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return E.createElement(np,Hx({},i,{key:a,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(r,i,a){if(E.isValidElement(r))return E.cloneElement(r,i);var o=a;if(mn(r)&&(o=r(i),E.isValidElement(o)))return o;var l=In("recharts-pie-label-text",typeof r!="boolean"&&!mn(r)?r.className:"");return E.createElement(cv,Hx({},i,{alignmentBaseline:"middle",className:l}),o)}}])}(b.PureComponent);hS=hd;Yc(hd,"displayName","Pie");Yc(hd,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Bh.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Yc(hd,"parseDeltaAngle",function(e,t){var n=$o(t-e),r=Math.min(Math.abs(t-e),360);return n*r});Yc(hd,"getRealPieData",function(e){var t=e.data,n=e.children,r=Zt(e,!1),i=Uo(n,gc);return t&&t.length?t.map(function(a,o){return bi(bi(bi({payload:a},r),a),i&&i[o]&&i[o].props)}):i&&i.length?i.map(function(a){return bi(bi({},r),a.props)}):[]});Yc(hd,"parseCoordinateOfPie",function(e,t){var n=t.top,r=t.left,i=t.width,a=t.height,o=Pfe(i,a),l=r+Fo(e.cx,i,i/2),c=n+Fo(e.cy,a,a/2),u=Fo(e.innerRadius,o,0),d=Fo(e.outerRadius,o,o*.8),f=e.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});Yc(hd,"getComposedData",function(e){var t=e.item,n=e.offset,r=t.type.defaultProps!==void 0?bi(bi({},t.type.defaultProps),t.props):t.props,i=hS.getRealPieData(r);if(!i||!i.length)return null;var a=r.cornerRadius,o=r.startAngle,l=r.endAngle,c=r.paddingAngle,u=r.dataKey,d=r.nameKey,f=r.valueKey,m=r.tooltipType,h=Math.abs(r.minAngle),g=hS.parseCoordinateOfPie(r,n),y=hS.parseDeltaAngle(o,l),v=Math.abs(y),x=u;fn(u)&&fn(f)?(Zu(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),x="value"):fn(u)&&(Zu(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),x=f);var w=i.filter(function(M){return Di(M,x,0)!==0}).length,j=(v>=360?w:w-1)*c,_=v-w*h-j,S=i.reduce(function(M,T){var R=Di(T,x,0);return M+(yt(R)?R:0)},0),k;if(S>0){var P;k=i.map(function(M,T){var R=Di(M,x,0),D=Di(M,d,T),I=(yt(R)?R:0)/S,B;T?B=P.endAngle+$o(y)*c*(R!==0?1:0):B=o;var $=B+$o(y)*((R!==0?h:0)+I*_),K=(B+$)/2,Y=(g.innerRadius+g.outerRadius)/2,Q=[{name:D,value:R,payload:M,dataKey:x,type:m}],H=_i(g.cx,g.cy,Y,K);return P=bi(bi(bi({percent:I,cornerRadius:a,name:D,tooltipPayload:Q,midAngle:K,middleRadius:Y,tooltipPosition:H},M),g),{},{value:Di(M,x),startAngle:B,endAngle:$,payload:M,paddingAngle:$o(y)*c}),P})}return bi(bi({},g),{},{sectors:k,data:i})});var fit=Math.ceil,hit=Math.max;function mit(e,t,n,r){for(var i=-1,a=hit(fit((t-e)/(n||1)),0),o=Array(a);a--;)o[r?a:++i]=e,e+=n;return o}var pit=mit,git=gde,NH=1/0,vit=17976931348623157e292;function xit(e){if(!e)return e===0?e:0;if(e=git(e),e===NH||e===-NH){var t=e<0?-1:1;return t*vit}return e===e?e:0}var Xfe=xit,yit=pit,bit=XE,k4=Xfe;function wit(e){return function(t,n,r){return r&&typeof r!="number"&&bit(t,n,r)&&(n=r=void 0),t=k4(t),n===void 0?(n=t,t=0):n=k4(n),r=r===void 0?t<n?1:-1:k4(r),yit(t,n,r,e)}}var jit=wit,Nit=jit,_it=Nit(),Sit=_it;const fk=Ar(Sit);function _2(e){"@babel/helpers - typeof";return _2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_2(e)}function _H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function SH(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_H(Object(n),!0).forEach(function(r){Zfe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_H(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Zfe(e,t,n){return t=kit(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kit(e){var t=Cit(e,"string");return _2(t)=="symbol"?t:t+""}function Cit(e,t){if(_2(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(_2(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Eit=["Webkit","Moz","O","ms"],Pit=function(t,n){var r=t.replace(/(\w)/,function(a){return a.toUpperCase()}),i=Eit.reduce(function(a,o){return SH(SH({},a),{},Zfe({},o+r,n))},{});return i[t]=n,i};function r0(e){"@babel/helpers - typeof";return r0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r0(e)}function hk(){return hk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hk.apply(this,arguments)}function kH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function C4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kH(Object(n),!0).forEach(function(r){ql(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kH(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ait(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function CH(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Jfe(r.key),r)}}function Tit(e,t,n){return t&&CH(e.prototype,t),n&&CH(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Oit(e,t,n){return t=mk(t),Lit(e,Qfe()?Reflect.construct(t,n||[],mk(e).constructor):t.apply(e,n))}function Lit(e,t){if(t&&(r0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mit(e)}function Mit(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qfe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Qfe=function(){return!!e})()}function mk(e){return mk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},mk(e)}function Iit(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&YM(e,t)}function YM(e,t){return YM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},YM(e,t)}function ql(e,t,n){return t=Jfe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jfe(e){var t=Dit(e,"string");return r0(t)=="symbol"?t:t+""}function Dit(e,t){if(r0(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(r0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Rit=function(t){var n=t.data,r=t.startIndex,i=t.endIndex,a=t.x,o=t.width,l=t.travellerWidth;if(!n||!n.length)return{};var c=n.length,u=V1().domain(fk(0,c)).range([a,a+o-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:d}},EH=function(t){return t.changedTouches&&!!t.changedTouches.length},i0=function(e){function t(n){var r;return Ait(this,t),r=Oit(this,t,[n]),ql(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),ql(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),ql(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,a=i.endIndex,o=i.onDragEnd,l=i.startIndex;o==null||o({endIndex:a,startIndex:l})}),r.detachDragEndListener()}),ql(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),ql(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),ql(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),ql(r,"handleSlideDragStart",function(i){var a=EH(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return Iit(t,e),Tit(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,a=r.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(i,a),m=Math.max(i,a),h=t.getIndexInRange(o,f),g=t.getIndexInRange(o,m);return{startIndex:h-h%c,endIndex:g===d?d:g-g%c}}},{key:"getTextOfTick",value:function(r){var i=this.props,a=i.data,o=i.tickFormatter,l=i.dataKey,c=Di(a[r],l,r);return mn(o)?o(c,r):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,a=i.slideMoveStartX,o=i.startX,l=i.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,m=c.startIndex,h=c.endIndex,g=c.onChange,y=r.pageX-a;y>0?y=Math.min(y,u+d-f-l,u+d-f-o):y<0&&(y=Math.max(y,u-o,u-l));var v=this.getIndex({startX:o+y,endX:l+y});(v.startIndex!==m||v.endIndex!==h)&&g&&g(v),this.setState({startX:o+y,endX:l+y,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var a=EH(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,a=i.brushMoveStartX,o=i.movingTravellerId,l=i.endX,c=i.startX,u=this.state[o],d=this.props,f=d.x,m=d.width,h=d.travellerWidth,g=d.onChange,y=d.gap,v=d.data,x={startX:this.state.startX,endX:this.state.endX},w=r.pageX-a;w>0?w=Math.min(w,f+m-h-u):w<0&&(w=Math.max(w,f-u)),x[o]=u+w;var j=this.getIndex(x),_=j.startIndex,S=j.endIndex,k=function(){var M=v.length-1;return o==="startX"&&(l>c?_%y===0:S%y===0)||l<c&&S===M||o==="endX"&&(l>c?S%y===0:_%y===0)||l>c&&S===M};this.setState(ql(ql({},o,u+w),"brushMoveStartX",r.pageX),function(){g&&k()&&g(j)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var a=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[i],f=l.indexOf(d);if(f!==-1){var m=f+r;if(!(m===-1||m>=l.length)){var h=l[m];i==="startX"&&h>=u||i==="endX"&&h<=c||this.setState(ql({},i,h),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,l=r.height,c=r.fill,u=r.stroke;return E.createElement("rect",{stroke:u,fill:c,x:i,y:a,width:o,height:l})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,l=r.height,c=r.data,u=r.children,d=r.padding,f=b.Children.only(u);return f?E.cloneElement(f,{x:i,y:a,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(r,i){var a,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,m=c.traveller,h=c.ariaLabel,g=c.data,y=c.startIndex,v=c.endIndex,x=Math.max(r,this.props.x),w=C4(C4({},Zt(this.props,!1)),{},{x,y:u,width:d,height:f}),j=h||"Min value: ".concat((a=g[y])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=g[v])===null||o===void 0?void 0:o.name);return E.createElement(Kn,{tabIndex:0,role:"slider","aria-label":j,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(S){["ArrowLeft","ArrowRight"].includes(S.key)&&(S.preventDefault(),S.stopPropagation(),l.handleTravellerMoveKeyboard(S.key==="ArrowRight"?1:-1,i))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(m,w))}},{key:"renderSlide",value:function(r,i){var a=this.props,o=a.y,l=a.height,c=a.stroke,u=a.travellerWidth,d=Math.min(r,i)+u,f=Math.max(Math.abs(i-r)-u,0);return E.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:f,height:l})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,a=r.endIndex,o=r.y,l=r.height,c=r.travellerWidth,u=r.stroke,d=this.state,f=d.startX,m=d.endX,h=5,g={pointerEvents:"none",fill:u};return E.createElement(Kn,{className:"recharts-brush-texts"},E.createElement(cv,hk({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,m)-h,y:o+l/2},g),this.getTextOfTick(i)),E.createElement(cv,hk({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,m)+c+h,y:o+l/2},g),this.getTextOfTick(a)))}},{key:"render",value:function(){var r=this.props,i=r.data,a=r.className,o=r.children,l=r.x,c=r.y,u=r.width,d=r.height,f=r.alwaysShowText,m=this.state,h=m.startX,g=m.endX,y=m.isTextActive,v=m.isSlideMoving,x=m.isTravellerMoving,w=m.isTravellerFocused;if(!i||!i.length||!yt(l)||!yt(c)||!yt(u)||!yt(d)||u<=0||d<=0)return null;var j=In("recharts-brush",a),_=E.Children.count(o)===1,S=Pit("userSelect","none");return E.createElement(Kn,{className:j,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:S},this.renderBackground(),_&&this.renderPanorama(),this.renderSlide(h,g),this.renderTravellerLayer(h,"startX"),this.renderTravellerLayer(g,"endX"),(y||v||x||w||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,a=r.y,o=r.width,l=r.height,c=r.stroke,u=Math.floor(a+l/2)-1;return E.createElement(E.Fragment,null,E.createElement("rect",{x:i,y:a,width:o,height:l,fill:c,stroke:"none"}),E.createElement("line",{x1:i+1,y1:u,x2:i+o-1,y2:u,fill:"none",stroke:"#fff"}),E.createElement("line",{x1:i+1,y1:u+2,x2:i+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var a;return E.isValidElement(r)?a=E.cloneElement(r,i):mn(r)?a=r(i):a=t.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(r,i){var a=r.data,o=r.width,l=r.x,c=r.travellerWidth,u=r.updateId,d=r.startIndex,f=r.endIndex;if(a!==i.prevData||u!==i.prevUpdateId)return C4({prevData:a,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},a&&a.length?Rit({data:a,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||l!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([l,l+o-c]);var m=i.scale.domain().map(function(h){return i.scale(h)});return{prevData:a,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:m}}return null}},{key:"getIndexInRange",value:function(r,i){for(var a=r.length,o=0,l=a-1;l-o>1;){var c=Math.floor((o+l)/2);r[c]>i?l=c:o=c}return i>=r[l]?l:o}}])}(b.PureComponent);ql(i0,"displayName","Brush");ql(i0,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var $it=W$;function Fit(e,t){var n;return $it(e,function(r,i,a){return n=t(r,i,a),!n}),!!n}var Bit=Fit,zit=que,Vit=Nf,qit=Bit,Uit=Cl,Wit=XE;function Hit(e,t,n){var r=Uit(e)?zit:qit;return n&&Wit(e,t,n)&&(t=void 0),r(e,Vit(t))}var Kit=Hit;const Git=Ar(Kit);var af=function(t,n){var r=t.alwaysShow,i=t.ifOverflow;return r&&(i="extendDomain"),i===n},PH=dde;function Yit(e,t,n){t=="__proto__"&&PH?PH(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var Xit=Yit,Zit=Xit,Qit=cde,Jit=Nf;function eat(e,t){var n={};return t=Jit(t),Qit(e,function(r,i,a){Zit(n,i,t(r,i,a))}),n}var tat=eat;const nat=Ar(tat);function rat(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}var iat=rat,aat=W$;function sat(e,t){var n=!0;return aat(e,function(r,i,a){return n=!!t(r,i,a),n}),n}var oat=sat,lat=iat,cat=oat,uat=Nf,dat=Cl,fat=XE;function hat(e,t,n){var r=dat(e)?lat:cat;return n&&fat(e,t,n)&&(t=void 0),r(e,uat(t))}var mat=hat;const ehe=Ar(mat);var pat=["x","y"];function S2(e){"@babel/helpers - typeof";return S2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},S2(e)}function XM(){return XM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},XM.apply(this,arguments)}function AH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function t1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AH(Object(n),!0).forEach(function(r){gat(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AH(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gat(e,t,n){return t=vat(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vat(e){var t=xat(e,"string");return S2(t)=="symbol"?t:t+""}function xat(e,t){if(S2(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(S2(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yat(e,t){if(e==null)return{};var n=bat(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function bat(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function wat(e,t){var n=e.x,r=e.y,i=yat(e,pat),a="".concat(n),o=parseInt(a,10),l="".concat(r),c=parseInt(l,10),u="".concat(t.height||i.height),d=parseInt(u,10),f="".concat(t.width||i.width),m=parseInt(f,10);return t1(t1(t1(t1(t1({},t),i),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:m,name:t.name,radius:t.radius})}function TH(e){return E.createElement(uk,XM({shapeType:"rectangle",propTransformer:wat,activeClassName:"recharts-active-bar"},e))}var jat=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof t=="number")return t;var a=yt(r)||z8e(r);return a?t(r,i):(a||dv(),n)}},Nat=["value","background"],the;function a0(e){"@babel/helpers - typeof";return a0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a0(e)}function _at(e,t){if(e==null)return{};var n=Sat(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Sat(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function pk(){return pk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pk.apply(this,arguments)}function OH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function qa(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?OH(Object(n),!0).forEach(function(r){Fm(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OH(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kat(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LH(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,rhe(r.key),r)}}function Cat(e,t,n){return t&&LH(e.prototype,t),n&&LH(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Eat(e,t,n){return t=gk(t),Pat(e,nhe()?Reflect.construct(t,n||[],gk(e).constructor):t.apply(e,n))}function Pat(e,t){if(t&&(a0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Aat(e)}function Aat(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nhe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nhe=function(){return!!e})()}function gk(e){return gk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},gk(e)}function Tat(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ZM(e,t)}function ZM(e,t){return ZM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ZM(e,t)}function Fm(e,t,n){return t=rhe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rhe(e){var t=Oat(e,"string");return a0(t)=="symbol"?t:t+""}function Oat(e,t){if(a0(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(a0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Yi=function(e){function t(){var n;kat(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Eat(this,t,[].concat(i)),Fm(n,"state",{isAnimationFinished:!1}),Fm(n,"id",Lp("recharts-bar-")),Fm(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),Fm(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return Tat(t,e),Cat(t,[{key:"renderRectanglesStatically",value:function(r){var i=this,a=this.props,o=a.shape,l=a.dataKey,c=a.activeIndex,u=a.activeBar,d=Zt(this.props,!1);return r&&r.map(function(f,m){var h=m===c,g=h?u:o,y=qa(qa(qa({},d),f),{},{isActive:h,option:g,index:m,dataKey:l,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return E.createElement(Kn,pk({className:"recharts-bar-rectangle"},fp(i.props,f,m),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(m)}),E.createElement(TH,y))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,a=i.data,o=i.layout,l=i.isAnimationActive,c=i.animationBegin,u=i.animationDuration,d=i.animationEasing,f=i.animationId,m=this.state.prevData;return E.createElement(iu,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(h){var g=h.t,y=a.map(function(v,x){var w=m&&m[x];if(w){var j=ra(w.x,v.x),_=ra(w.y,v.y),S=ra(w.width,v.width),k=ra(w.height,v.height);return qa(qa({},v),{},{x:j(g),y:_(g),width:S(g),height:k(g)})}if(o==="horizontal"){var P=ra(0,v.height),M=P(g);return qa(qa({},v),{},{y:v.y+v.height-M,height:M})}var T=ra(0,v.width),R=T(g);return qa(qa({},v),{},{width:R})});return E.createElement(Kn,null,r.renderRectanglesStatically(y))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,a=r.isAnimationActive,o=this.state.prevData;return a&&i&&i.length&&(!o||!hp(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,a=i.data,o=i.dataKey,l=i.activeIndex,c=Zt(this.props.background,!1);return a.map(function(u,d){u.value;var f=u.background,m=_at(u,Nat);if(!f)return null;var h=qa(qa(qa(qa(qa({},m),{},{fill:"#eee"},f),c),fp(r.props,u,d)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return E.createElement(TH,pk({key:"background-bar-".concat(d),option:r.props.background,isActive:d===l},h))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,l=a.xAxis,c=a.yAxis,u=a.layout,d=a.children,f=Uo(d,Z0);if(!f)return null;var m=u==="vertical"?o[0].height/2:o[0].width/2,h=function(v,x){var w=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:w,errorVal:Di(v,x)}},g={clipPath:r?"url(#clipPath-".concat(i,")"):null};return E.createElement(Kn,g,f.map(function(y){return E.cloneElement(y,{key:"error-bar-".concat(i,"-").concat(y.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:m,dataPointFormatter:h})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,a=r.data,o=r.className,l=r.xAxis,c=r.yAxis,u=r.left,d=r.top,f=r.width,m=r.height,h=r.isAnimationActive,g=r.background,y=r.id;if(i||!a||!a.length)return null;var v=this.state.isAnimationFinished,x=In("recharts-bar",o),w=l&&l.allowDataOverflow,j=c&&c.allowDataOverflow,_=w||j,S=fn(y)?this.id:y;return E.createElement(Kn,{className:x},w||j?E.createElement("defs",null,E.createElement("clipPath",{id:"clipPath-".concat(S)},E.createElement("rect",{x:w?u:u-f/2,y:j?d:d-m/2,width:w?f:f*2,height:j?m:m*2}))):null,E.createElement(Kn,{className:"recharts-bar-rectangles",clipPath:_?"url(#clipPath-".concat(S,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(_,S),(!h||v)&&uc.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(b.PureComponent);the=Yi;Fm(Yi,"displayName","Bar");Fm(Yi,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Bh.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Fm(Yi,"getComposedData",function(e){var t=e.props,n=e.item,r=e.barPosition,i=e.bandSize,a=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,m=e.offset,h=sJe(r,n);if(!h)return null;var g=t.layout,y=n.type.defaultProps,v=y!==void 0?qa(qa({},y),n.props):n.props,x=v.dataKey,w=v.children,j=v.minPointSize,_=g==="horizontal"?o:a,S=u?_.scale.domain():null,k=hJe({numericAxis:_}),P=Uo(w,gc),M=f.map(function(T,R){var D,I,B,$,K,Y;u?D=oJe(u[d+R],S):(D=Di(T,x),Array.isArray(D)||(D=[k,D]));var Q=jat(j,the.defaultProps.minPointSize)(D[1],R);if(g==="horizontal"){var H,G=[o.scale(D[0]),o.scale(D[1])],U=G[0],ee=G[1];I=SW({axis:a,ticks:l,bandSize:i,offset:h.offset,entry:T,index:R}),B=(H=ee??U)!==null&&H!==void 0?H:void 0,$=h.size;var z=U-ee;if(K=Number.isNaN(z)?0:z,Y={x:I,y:o.y,width:$,height:o.height},Math.abs(Q)>0&&Math.abs(K)<Math.abs(Q)){var F=$o(K||Q)*(Math.abs(Q)-Math.abs(K));B-=F,K+=F}}else{var ie=[a.scale(D[0]),a.scale(D[1])],ce=ie[0],te=ie[1];if(I=ce,B=SW({axis:o,ticks:c,bandSize:i,offset:h.offset,entry:T,index:R}),$=te-ce,K=h.size,Y={x:a.x,y:B,width:a.width,height:K},Math.abs(Q)>0&&Math.abs($)<Math.abs(Q)){var oe=$o($||Q)*(Math.abs(Q)-Math.abs($));$+=oe}}return qa(qa(qa({},T),{},{x:I,y:B,width:$,height:K,value:u?D:D[1],payload:T,background:Y},P&&P[R]&&P[R].props),{},{tooltipPayload:[Cfe(n,T)],tooltipPosition:{x:I+$/2,y:B+K/2}})});return qa({data:M,layout:g},m)});function k2(e){"@babel/helpers - typeof";return k2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},k2(e)}function Lat(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function MH(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ihe(r.key),r)}}function Mat(e,t,n){return t&&MH(e.prototype,t),n&&MH(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function IH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function zu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?IH(Object(n),!0).forEach(function(r){hP(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IH(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hP(e,t,n){return t=ihe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ihe(e){var t=Iat(e,"string");return k2(t)=="symbol"?t:t+""}function Iat(e,t){if(k2(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(k2(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $j=function(t,n,r,i,a){var o=t.width,l=t.height,c=t.layout,u=t.children,d=Object.keys(n),f={left:r.left,leftMirror:r.left,right:o-r.right,rightMirror:o-r.right,top:r.top,topMirror:r.top,bottom:l-r.bottom,bottomMirror:l-r.bottom},m=!!Wl(u,Yi);return d.reduce(function(h,g){var y=n[g],v=y.orientation,x=y.domain,w=y.padding,j=w===void 0?{}:w,_=y.mirror,S=y.reversed,k="".concat(v).concat(_?"Mirror":""),P,M,T,R,D;if(y.type==="number"&&(y.padding==="gap"||y.padding==="no-gap")){var I=x[1]-x[0],B=1/0,$=y.categoricalDomain.sort(W8e);if($.forEach(function(ie,ce){ce>0&&(B=Math.min((ie||0)-($[ce-1]||0),B))}),Number.isFinite(B)){var K=B/I,Y=y.layout==="vertical"?r.height:r.width;if(y.padding==="gap"&&(P=K*Y/2),y.padding==="no-gap"){var Q=Fo(t.barCategoryGap,K*Y),H=K*Y/2;P=H-Q-(H-Q)/Y*Q}}}i==="xAxis"?M=[r.left+(j.left||0)+(P||0),r.left+r.width-(j.right||0)-(P||0)]:i==="yAxis"?M=c==="horizontal"?[r.top+r.height-(j.bottom||0),r.top+(j.top||0)]:[r.top+(j.top||0)+(P||0),r.top+r.height-(j.bottom||0)-(P||0)]:M=y.range,S&&(M=[M[1],M[0]]);var G=Nfe(y,a,m),U=G.scale,ee=G.realScaleType;U.domain(x).range(M),_fe(U);var z=Sfe(U,zu(zu({},y),{},{realScaleType:ee}));i==="xAxis"?(D=v==="top"&&!_||v==="bottom"&&_,T=r.left,R=f[k]-D*y.height):i==="yAxis"&&(D=v==="left"&&!_||v==="right"&&_,T=f[k]-D*y.width,R=r.top);var F=zu(zu(zu({},y),z),{},{realScaleType:ee,x:T,y:R,scale:U,width:i==="xAxis"?r.width:y.width,height:i==="yAxis"?r.height:y.height});return F.bandSize=Q5(F,z),!y.hide&&i==="xAxis"?f[k]+=(D?-1:1)*F.height:y.hide||(f[k]+=(D?-1:1)*F.width),zu(zu({},h),{},hP({},g,F))},{})},ahe=function(t,n){var r=t.x,i=t.y,a=n.x,o=n.y;return{x:Math.min(r,a),y:Math.min(i,o),width:Math.abs(a-r),height:Math.abs(o-i)}},Dat=function(t){var n=t.x1,r=t.y1,i=t.x2,a=t.y2;return ahe({x:n,y:r},{x:i,y:a})},she=function(){function e(t){Lat(this,e),this.scale=t}return Mat(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,a=r.position;if(n!==void 0){if(a)switch(a){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(n)+l}default:return this.scale(n)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+c}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],a=r[r.length-1];return i<=a?n>=i&&n<=a:n>=a&&n<=i}}],[{key:"create",value:function(n){return new e(n)}}])}();hP(she,"EPS",1e-4);var wF=function(t){var n=Object.keys(t).reduce(function(r,i){return zu(zu({},r),{},hP({},i,she.create(t[i])))},{});return zu(zu({},n),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,l=a.position;return nat(i,function(c,u){return n[u].apply(c,{bandAware:o,position:l})})},isInRange:function(i){return ehe(i,function(a,o){return n[o].isInRange(a)})}})};function Rat(e){return(e%180+180)%180}var $at=function(t){var n=t.width,r=t.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Rat(i),o=a*Math.PI/180,l=Math.atan(r/n),c=o>l&&o<Math.PI-l?r/Math.sin(o):n/Math.cos(o);return Math.abs(c)},Fat=Nf,Bat=Lj,zat=GE;function Vat(e){return function(t,n,r){var i=Object(t);if(!Bat(t)){var a=Fat(n);t=zat(t),n=function(l){return a(i[l],l,i)}}var o=e(t,n,r);return o>-1?i[a?t[o]:o]:void 0}}var qat=Vat,Uat=Xfe;function Wat(e){var t=Uat(e),n=t%1;return t===t?n?t-n:t:0}var Hat=Wat,Kat=rde,Gat=Nf,Yat=Hat,Xat=Math.max;function Zat(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var i=n==null?0:Yat(n);return i<0&&(i=Xat(r+i,0)),Kat(e,Gat(t),i)}var Qat=Zat,Jat=qat,est=Qat,tst=Jat(est),nst=tst;const rst=Ar(nst);var ist=KFe(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),jF=b.createContext(void 0),NF=b.createContext(void 0),ohe=b.createContext(void 0),lhe=b.createContext({}),che=b.createContext(void 0),uhe=b.createContext(0),dhe=b.createContext(0),DH=function(t){var n=t.state,r=n.xAxisMap,i=n.yAxisMap,a=n.offset,o=t.clipPathId,l=t.children,c=t.width,u=t.height,d=ist(a);return E.createElement(jF.Provider,{value:r},E.createElement(NF.Provider,{value:i},E.createElement(lhe.Provider,{value:a},E.createElement(ohe.Provider,{value:d},E.createElement(che.Provider,{value:o},E.createElement(uhe.Provider,{value:u},E.createElement(dhe.Provider,{value:c},l)))))))},ast=function(){return b.useContext(che)},fhe=function(t){var n=b.useContext(jF);n==null&&dv();var r=n[t];return r==null&&dv(),r},sst=function(){var t=b.useContext(jF);return Lm(t)},ost=function(){var t=b.useContext(NF),n=rst(t,function(r){return ehe(r.domain,Number.isFinite)});return n||Lm(t)},hhe=function(t){var n=b.useContext(NF);n==null&&dv();var r=n[t];return r==null&&dv(),r},lst=function(){var t=b.useContext(ohe);return t},cst=function(){return b.useContext(lhe)},_F=function(){return b.useContext(dhe)},SF=function(){return b.useContext(uhe)};function s0(e){"@babel/helpers - typeof";return s0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s0(e)}function ust(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dst(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,phe(r.key),r)}}function fst(e,t,n){return t&&dst(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function hst(e,t,n){return t=vk(t),mst(e,mhe()?Reflect.construct(t,n||[],vk(e).constructor):t.apply(e,n))}function mst(e,t){if(t&&(s0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pst(e)}function pst(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mhe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mhe=function(){return!!e})()}function vk(e){return vk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},vk(e)}function gst(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&QM(e,t)}function QM(e,t){return QM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},QM(e,t)}function RH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function $H(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RH(Object(n),!0).forEach(function(r){kF(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RH(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kF(e,t,n){return t=phe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function phe(e){var t=vst(e,"string");return s0(t)=="symbol"?t:t+""}function vst(e,t){if(s0(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(s0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function xst(e,t){return jst(e)||wst(e,t)||bst(e,t)||yst()}function yst(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bst(e,t){if(e){if(typeof e=="string")return FH(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return FH(e,t)}}function FH(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function wst(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function jst(e){if(Array.isArray(e))return e}function JM(){return JM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},JM.apply(this,arguments)}var Nst=function(t,n){var r;return E.isValidElement(t)?r=E.cloneElement(t,n):mn(t)?r=t(n):r=E.createElement("line",JM({},n,{className:"recharts-reference-line-line"})),r},_st=function(t,n,r,i,a,o,l,c,u){var d=a.x,f=a.y,m=a.width,h=a.height;if(r){var g=u.y,y=t.y.apply(g,{position:o});if(af(u,"discard")&&!t.y.isInRange(y))return null;var v=[{x:d+m,y},{x:d,y}];return c==="left"?v.reverse():v}if(n){var x=u.x,w=t.x.apply(x,{position:o});if(af(u,"discard")&&!t.x.isInRange(w))return null;var j=[{x:w,y:f+h},{x:w,y:f}];return l==="top"?j.reverse():j}if(i){var _=u.segment,S=_.map(function(k){return t.apply(k,{position:o})});return af(u,"discard")&&Git(S,function(k){return!t.isInRange(k)})?null:S}return null};function Sst(e){var t=e.x,n=e.y,r=e.segment,i=e.xAxisId,a=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=ast(),d=fhe(i),f=hhe(a),m=lst();if(!u||!m)return null;Zu(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=wF({x:d.scale,y:f.scale}),g=fs(t),y=fs(n),v=r&&r.length===2,x=_st(h,g,y,v,m,e.position,d.orientation,f.orientation,e);if(!x)return null;var w=xst(x,2),j=w[0],_=j.x,S=j.y,k=w[1],P=k.x,M=k.y,T=af(e,"hidden")?"url(#".concat(u,")"):void 0,R=$H($H({clipPath:T},Zt(e,!0)),{},{x1:_,y1:S,x2:P,y2:M});return E.createElement(Kn,{className:In("recharts-reference-line",l)},Nst(o,R),ai.renderCallByParent(e,Dat({x1:_,y1:S,x2:P,y2:M})))}var fv=function(e){function t(){return ust(this,t),hst(this,t,arguments)}return gst(t,e),fst(t,[{key:"render",value:function(){return E.createElement(Sst,this.props)}}])}(E.Component);kF(fv,"displayName","ReferenceLine");kF(fv,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function eI(){return eI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},eI.apply(this,arguments)}function o0(e){"@babel/helpers - typeof";return o0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o0(e)}function BH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function zH(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?BH(Object(n),!0).forEach(function(r){mP(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BH(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kst(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Cst(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,vhe(r.key),r)}}function Est(e,t,n){return t&&Cst(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Pst(e,t,n){return t=xk(t),Ast(e,ghe()?Reflect.construct(t,n||[],xk(e).constructor):t.apply(e,n))}function Ast(e,t){if(t&&(o0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Tst(e)}function Tst(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ghe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ghe=function(){return!!e})()}function xk(e){return xk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},xk(e)}function Ost(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tI(e,t)}function tI(e,t){return tI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},tI(e,t)}function mP(e,t,n){return t=vhe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vhe(e){var t=Lst(e,"string");return o0(t)=="symbol"?t:t+""}function Lst(e,t){if(o0(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(o0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Mst=function(t){var n=t.x,r=t.y,i=t.xAxis,a=t.yAxis,o=wF({x:i.scale,y:a.scale}),l=o.apply({x:n,y:r},{bandAware:!0});return af(t,"discard")&&!o.isInRange(l)?null:l},pP=function(e){function t(){return kst(this,t),Pst(this,t,arguments)}return Ost(t,e),Est(t,[{key:"render",value:function(){var r=this.props,i=r.x,a=r.y,o=r.r,l=r.alwaysShow,c=r.clipPathId,u=fs(i),d=fs(a);if(Zu(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=Mst(this.props);if(!f)return null;var m=f.x,h=f.y,g=this.props,y=g.shape,v=g.className,x=af(this.props,"hidden")?"url(#".concat(c,")"):void 0,w=zH(zH({clipPath:x},Zt(this.props,!0)),{},{cx:m,cy:h});return E.createElement(Kn,{className:In("recharts-reference-dot",v)},t.renderDot(y,w),ai.renderCallByParent(this.props,{x:m-o,y:h-o,width:2*o,height:2*o}))}}])}(E.Component);mP(pP,"displayName","ReferenceDot");mP(pP,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});mP(pP,"renderDot",function(e,t){var n;return E.isValidElement(e)?n=E.cloneElement(e,t):mn(e)?n=e(t):n=E.createElement(hf,eI({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),n});function nI(){return nI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nI.apply(this,arguments)}function l0(e){"@babel/helpers - typeof";return l0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l0(e)}function VH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function qH(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VH(Object(n),!0).forEach(function(r){gP(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VH(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ist(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Dst(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,yhe(r.key),r)}}function Rst(e,t,n){return t&&Dst(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function $st(e,t,n){return t=yk(t),Fst(e,xhe()?Reflect.construct(t,n||[],yk(e).constructor):t.apply(e,n))}function Fst(e,t){if(t&&(l0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bst(e)}function Bst(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xhe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xhe=function(){return!!e})()}function yk(e){return yk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},yk(e)}function zst(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rI(e,t)}function rI(e,t){return rI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},rI(e,t)}function gP(e,t,n){return t=yhe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yhe(e){var t=Vst(e,"string");return l0(t)=="symbol"?t:t+""}function Vst(e,t){if(l0(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(l0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var qst=function(t,n,r,i,a){var o=a.x1,l=a.x2,c=a.y1,u=a.y2,d=a.xAxis,f=a.yAxis;if(!d||!f)return null;var m=wF({x:d.scale,y:f.scale}),h={x:t?m.x.apply(o,{position:"start"}):m.x.rangeMin,y:r?m.y.apply(c,{position:"start"}):m.y.rangeMin},g={x:n?m.x.apply(l,{position:"end"}):m.x.rangeMax,y:i?m.y.apply(u,{position:"end"}):m.y.rangeMax};return af(a,"discard")&&(!m.isInRange(h)||!m.isInRange(g))?null:ahe(h,g)},vP=function(e){function t(){return Ist(this,t),$st(this,t,arguments)}return zst(t,e),Rst(t,[{key:"render",value:function(){var r=this.props,i=r.x1,a=r.x2,o=r.y1,l=r.y2,c=r.className,u=r.alwaysShow,d=r.clipPathId;Zu(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=fs(i),m=fs(a),h=fs(o),g=fs(l),y=this.props.shape;if(!f&&!m&&!h&&!g&&!y)return null;var v=qst(f,m,h,g,this.props);if(!v&&!y)return null;var x=af(this.props,"hidden")?"url(#".concat(d,")"):void 0;return E.createElement(Kn,{className:In("recharts-reference-area",c)},t.renderRect(y,qH(qH({clipPath:x},Zt(this.props,!0)),v)),ai.renderCallByParent(this.props,v))}}])}(E.Component);gP(vP,"displayName","ReferenceArea");gP(vP,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});gP(vP,"renderRect",function(e,t){var n;return E.isValidElement(e)?n=E.cloneElement(e,t):mn(e)?n=e(t):n=E.createElement(bF,nI({},t,{className:"recharts-reference-area-rect"})),n});function bhe(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var r=[],i=0;i<e.length;i+=t)r.push(e[i]);return r}function Ust(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return $at(r,n)}function Wst(e,t,n){var r=n==="width",i=e.x,a=e.y,o=e.width,l=e.height;return t===1?{start:r?i:a,end:r?i+o:a+l}:{start:r?i+o:a+l,end:r?i:a}}function bk(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var a=n();return e*(t-e*a/2-r)>=0&&e*(t+e*a/2-i)<=0}function Hst(e,t){return bhe(e,t+1)}function Kst(e,t,n,r,i){for(var a=(r||[]).slice(),o=t.start,l=t.end,c=0,u=1,d=o,f=function(){var g=r==null?void 0:r[c];if(g===void 0)return{v:bhe(r,u)};var y=c,v,x=function(){return v===void 0&&(v=n(g,y)),v},w=g.coordinate,j=c===0||bk(e,w,x,d,l);j||(c=0,d=o,u+=1),j&&(d=w+e*(x()/2+i),c+=u)},m;u<=a.length;)if(m=f(),m)return m.v;return[]}function C2(e){"@babel/helpers - typeof";return C2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},C2(e)}function UH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function io(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?UH(Object(n),!0).forEach(function(r){Gst(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UH(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Gst(e,t,n){return t=Yst(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yst(e){var t=Xst(e,"string");return C2(t)=="symbol"?t:t+""}function Xst(e,t){if(C2(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(C2(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zst(e,t,n,r,i){for(var a=(r||[]).slice(),o=a.length,l=t.start,c=t.end,u=function(m){var h=a[m],g,y=function(){return g===void 0&&(g=n(h,m)),g};if(m===o-1){var v=e*(h.coordinate+e*y()/2-c);a[m]=h=io(io({},h),{},{tickCoord:v>0?h.coordinate-v*e:h.coordinate})}else a[m]=h=io(io({},h),{},{tickCoord:h.coordinate});var x=bk(e,h.tickCoord,y,l,c);x&&(c=h.tickCoord-e*(y()/2+i),a[m]=io(io({},h),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return a}function Qst(e,t,n,r,i,a){var o=(r||[]).slice(),l=o.length,c=t.start,u=t.end;if(a){var d=r[l-1],f=n(d,l-1),m=e*(d.coordinate+e*f/2-u);o[l-1]=d=io(io({},d),{},{tickCoord:m>0?d.coordinate-m*e:d.coordinate});var h=bk(e,d.tickCoord,function(){return f},c,u);h&&(u=d.tickCoord-e*(f/2+i),o[l-1]=io(io({},d),{},{isShow:!0}))}for(var g=a?l-1:l,y=function(w){var j=o[w],_,S=function(){return _===void 0&&(_=n(j,w)),_};if(w===0){var k=e*(j.coordinate-e*S()/2-c);o[w]=j=io(io({},j),{},{tickCoord:k<0?j.coordinate-k*e:j.coordinate})}else o[w]=j=io(io({},j),{},{tickCoord:j.coordinate});var P=bk(e,j.tickCoord,S,c,u);P&&(c=j.tickCoord+e*(S()/2+i),o[w]=io(io({},j),{},{isShow:!0}))},v=0;v<g;v++)y(v);return o}function CF(e,t,n){var r=e.tick,i=e.ticks,a=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!i||!i.length||!r)return[];if(yt(c)||Bh.isSsr)return Hst(i,typeof c=="number"&&yt(c)?c:0);var m=[],h=l==="top"||l==="bottom"?"width":"height",g=d&&h==="width"?z1(d,{fontSize:t,letterSpacing:n}):{width:0,height:0},y=function(j,_){var S=mn(u)?u(j.value,_):j.value;return h==="width"?Ust(z1(S,{fontSize:t,letterSpacing:n}),g,f):z1(S,{fontSize:t,letterSpacing:n})[h]},v=i.length>=2?$o(i[1].coordinate-i[0].coordinate):1,x=Wst(a,v,h);return c==="equidistantPreserveStart"?Kst(v,x,y,i,o):(c==="preserveStart"||c==="preserveStartEnd"?m=Qst(v,x,y,i,o,c==="preserveStartEnd"):m=Zst(v,x,y,i,o),m.filter(function(w){return w.isShow}))}var Jst=["viewBox"],eot=["viewBox"],tot=["ticks"];function c0(e){"@babel/helpers - typeof";return c0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c0(e)}function Kx(){return Kx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kx.apply(this,arguments)}function WH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function is(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?WH(Object(n),!0).forEach(function(r){EF(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WH(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function E4(e,t){if(e==null)return{};var n=not(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function not(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function rot(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function HH(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,jhe(r.key),r)}}function iot(e,t,n){return t&&HH(e.prototype,t),n&&HH(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function aot(e,t,n){return t=wk(t),sot(e,whe()?Reflect.construct(t,n||[],wk(e).constructor):t.apply(e,n))}function sot(e,t){if(t&&(c0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oot(e)}function oot(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function whe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(whe=function(){return!!e})()}function wk(e){return wk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},wk(e)}function lot(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&iI(e,t)}function iI(e,t){return iI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},iI(e,t)}function EF(e,t,n){return t=jhe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jhe(e){var t=cot(e,"string");return c0(t)=="symbol"?t:t+""}function cot(e,t){if(c0(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(c0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Q0=function(e){function t(n){var r;return rot(this,t),r=aot(this,t,[n]),r.state={fontSize:"",letterSpacing:""},r}return lot(t,e),iot(t,[{key:"shouldComponentUpdate",value:function(r,i){var a=r.viewBox,o=E4(r,Jst),l=this.props,c=l.viewBox,u=E4(l,eot);return!cy(a,c)||!cy(o,u)||!cy(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.x,o=i.y,l=i.width,c=i.height,u=i.orientation,d=i.tickSize,f=i.mirror,m=i.tickMargin,h,g,y,v,x,w,j=f?-1:1,_=r.tickSize||d,S=yt(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":h=g=r.coordinate,v=o+ +!f*c,y=v-j*_,w=y-j*m,x=S;break;case"left":y=v=r.coordinate,g=a+ +!f*l,h=g-j*_,x=h-j*m,w=S;break;case"right":y=v=r.coordinate,g=a+ +f*l,h=g+j*_,x=h+j*m,w=S;break;default:h=g=r.coordinate,v=o+ +f*c,y=v+j*_,w=y+j*m,x=S;break}return{line:{x1:h,y1:y,x2:g,y2:v},tick:{x,y:w}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,o;switch(i){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,l=r.height,c=r.orientation,u=r.mirror,d=r.axisLine,f=is(is(is({},Zt(this.props,!1)),Zt(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var m=+(c==="top"&&!u||c==="bottom"&&u);f=is(is({},f),{},{x1:i,y1:a+m*l,x2:i+o,y2:a+m*l})}else{var h=+(c==="left"&&!u||c==="right"&&u);f=is(is({},f),{},{x1:i+h*o,y1:a,x2:i+h*o,y2:a+l})}return E.createElement("line",Kx({},f,{className:In("recharts-cartesian-axis-line",cc(d,"className"))}))}},{key:"renderTicks",value:function(r,i,a){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,m=l.unit,h=CF(is(is({},this.props),{},{ticks:r}),i,a),g=this.getTickTextAnchor(),y=this.getTickVerticalAnchor(),v=Zt(this.props,!1),x=Zt(d,!1),w=is(is({},v),{},{fill:"none"},Zt(c,!1)),j=h.map(function(_,S){var k=o.getTickLineCoord(_),P=k.line,M=k.tick,T=is(is(is(is({textAnchor:g,verticalAnchor:y},v),{},{stroke:"none",fill:u},x),M),{},{index:S,payload:_,visibleTicksCount:h.length,tickFormatter:f});return E.createElement(Kn,Kx({className:"recharts-cartesian-axis-tick",key:"tick-".concat(_.value,"-").concat(_.coordinate,"-").concat(_.tickCoord)},fp(o.props,_,S)),c&&E.createElement("line",Kx({},w,P,{className:In("recharts-cartesian-axis-tick-line",cc(c,"className"))})),d&&t.renderTickItem(d,T,"".concat(mn(f)?f(_.value,S):_.value).concat(m||"")))});return E.createElement("g",{className:"recharts-cartesian-axis-ticks"},j)}},{key:"render",value:function(){var r=this,i=this.props,a=i.axisLine,o=i.width,l=i.height,c=i.ticksGenerator,u=i.className,d=i.hide;if(d)return null;var f=this.props,m=f.ticks,h=E4(f,tot),g=m;return mn(c)&&(g=m&&m.length>0?c(this.props):c(h)),o<=0||l<=0||!g||!g.length?null:E.createElement(Kn,{className:In("recharts-cartesian-axis",u),ref:function(v){r.layerReference=v}},a&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),ai.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,a){var o,l=In(i.className,"recharts-cartesian-axis-tick-value");return E.isValidElement(r)?o=E.cloneElement(r,is(is({},i),{},{className:l})):mn(r)?o=r(is(is({},i),{},{className:l})):o=E.createElement(cv,Kx({},i,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])}(b.Component);EF(Q0,"displayName","CartesianAxis");EF(Q0,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var uot=["x1","y1","x2","y2","key"],dot=["offset"];function hv(e){"@babel/helpers - typeof";return hv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hv(e)}function KH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function lo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KH(Object(n),!0).forEach(function(r){fot(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KH(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fot(e,t,n){return t=hot(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hot(e){var t=mot(e,"string");return hv(t)=="symbol"?t:t+""}function mot(e,t){if(hv(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(hv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bg(){return Bg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bg.apply(this,arguments)}function GH(e,t){if(e==null)return{};var n=pot(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function pot(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var got=function(t){var n=t.fill;if(!n||n==="none")return null;var r=t.fillOpacity,i=t.x,a=t.y,o=t.width,l=t.height,c=t.ry;return E.createElement("rect",{x:i,y:a,ry:c,width:o,height:l,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function Nhe(e,t){var n;if(E.isValidElement(e))n=E.cloneElement(e,t);else if(mn(e))n=e(t);else{var r=t.x1,i=t.y1,a=t.x2,o=t.y2,l=t.key,c=GH(t,uot),u=Zt(c,!1);u.offset;var d=GH(u,dot);n=E.createElement("line",Bg({},d,{x1:r,y1:i,x2:a,y2:o,fill:"none",key:l}))}return n}function vot(e){var t=e.x,n=e.width,r=e.horizontal,i=r===void 0?!0:r,a=e.horizontalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(l,c){var u=lo(lo({},e),{},{x1:t,y1:l,x2:t+n,y2:l,key:"line-".concat(c),index:c});return Nhe(i,u)});return E.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function xot(e){var t=e.y,n=e.height,r=e.vertical,i=r===void 0?!0:r,a=e.verticalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(l,c){var u=lo(lo({},e),{},{x1:l,y1:t,x2:l,y2:t+n,key:"line-".concat(c),index:c});return Nhe(i,u)});return E.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function yot(e){var t=e.horizontalFill,n=e.fillOpacity,r=e.x,i=e.y,a=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=l.map(function(m){return Math.round(m+i-i)}).sort(function(m,h){return m-h});i!==d[0]&&d.unshift(0);var f=d.map(function(m,h){var g=!d[h+1],y=g?i+o-m:d[h+1]-m;if(y<=0)return null;var v=h%t.length;return E.createElement("rect",{key:"react-".concat(h),y:m,x:r,height:y,width:a,stroke:"none",fill:t[v],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return E.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function bot(e){var t=e.vertical,n=t===void 0?!0:t,r=e.verticalFill,i=e.fillOpacity,a=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!n||!r||!r.length)return null;var d=u.map(function(m){return Math.round(m+a-a)}).sort(function(m,h){return m-h});a!==d[0]&&d.unshift(0);var f=d.map(function(m,h){var g=!d[h+1],y=g?a+l-m:d[h+1]-m;if(y<=0)return null;var v=h%r.length;return E.createElement("rect",{key:"react-".concat(h),x:m,y:o,width:y,height:c,stroke:"none",fill:r[v],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return E.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var wot=function(t,n){var r=t.xAxis,i=t.width,a=t.height,o=t.offset;return jfe(CF(lo(lo(lo({},Q0.defaultProps),r),{},{ticks:uh(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.left,o.left+o.width,n)},jot=function(t,n){var r=t.yAxis,i=t.width,a=t.height,o=t.offset;return jfe(CF(lo(lo(lo({},Q0.defaultProps),r),{},{ticks:uh(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.top,o.top+o.height,n)},lx={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function sa(e){var t,n,r,i,a,o,l=_F(),c=SF(),u=cst(),d=lo(lo({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:lx.stroke,fill:(n=e.fill)!==null&&n!==void 0?n:lx.fill,horizontal:(r=e.horizontal)!==null&&r!==void 0?r:lx.horizontal,horizontalFill:(i=e.horizontalFill)!==null&&i!==void 0?i:lx.horizontalFill,vertical:(a=e.vertical)!==null&&a!==void 0?a:lx.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:lx.verticalFill,x:yt(e.x)?e.x:u.left,y:yt(e.y)?e.y:u.top,width:yt(e.width)?e.width:u.width,height:yt(e.height)?e.height:u.height}),f=d.x,m=d.y,h=d.width,g=d.height,y=d.syncWithTicks,v=d.horizontalValues,x=d.verticalValues,w=sst(),j=ost();if(!yt(h)||h<=0||!yt(g)||g<=0||!yt(f)||f!==+f||!yt(m)||m!==+m)return null;var _=d.verticalCoordinatesGenerator||wot,S=d.horizontalCoordinatesGenerator||jot,k=d.horizontalPoints,P=d.verticalPoints;if((!k||!k.length)&&mn(S)){var M=v&&v.length,T=S({yAxis:j?lo(lo({},j),{},{ticks:M?v:j.ticks}):void 0,width:l,height:c,offset:u},M?!0:y);Zu(Array.isArray(T),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(hv(T),"]")),Array.isArray(T)&&(k=T)}if((!P||!P.length)&&mn(_)){var R=x&&x.length,D=_({xAxis:w?lo(lo({},w),{},{ticks:R?x:w.ticks}):void 0,width:l,height:c,offset:u},R?!0:y);Zu(Array.isArray(D),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(hv(D),"]")),Array.isArray(D)&&(P=D)}return E.createElement("g",{className:"recharts-cartesian-grid"},E.createElement(got,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),E.createElement(vot,Bg({},d,{offset:u,horizontalPoints:k,xAxis:w,yAxis:j})),E.createElement(xot,Bg({},d,{offset:u,verticalPoints:P,xAxis:w,yAxis:j})),E.createElement(yot,Bg({},d,{horizontalPoints:k})),E.createElement(bot,Bg({},d,{verticalPoints:P})))}sa.displayName="CartesianGrid";var Not=["type","layout","connectNulls","ref"],_ot=["key"];function u0(e){"@babel/helpers - typeof";return u0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u0(e)}function YH(e,t){if(e==null)return{};var n=Sot(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Sot(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function K1(){return K1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},K1.apply(this,arguments)}function XH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Vl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?XH(Object(n),!0).forEach(function(r){Vu(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XH(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cx(e){return Pot(e)||Eot(e)||Cot(e)||kot()}function kot(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cot(e,t){if(e){if(typeof e=="string")return aI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return aI(e,t)}}function Eot(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Pot(e){if(Array.isArray(e))return aI(e)}function aI(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Aot(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ZH(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,She(r.key),r)}}function Tot(e,t,n){return t&&ZH(e.prototype,t),n&&ZH(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Oot(e,t,n){return t=jk(t),Lot(e,_he()?Reflect.construct(t,n||[],jk(e).constructor):t.apply(e,n))}function Lot(e,t){if(t&&(u0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mot(e)}function Mot(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _he(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_he=function(){return!!e})()}function jk(e){return jk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},jk(e)}function Iot(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sI(e,t)}function sI(e,t){return sI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},sI(e,t)}function Vu(e,t,n){return t=She(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function She(e){var t=Dot(e,"string");return u0(t)=="symbol"?t:t+""}function Dot(e,t){if(u0(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(u0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var oa=function(e){function t(){var n;Aot(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Oot(this,t,[].concat(i)),Vu(n,"state",{isAnimationFinished:!0,totalLength:0}),Vu(n,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),Vu(n,"getStrokeDasharray",function(o,l,c){var u=c.reduce(function(x,w){return x+w});if(!u)return n.generateSimpleStrokeDasharray(l,o);for(var d=Math.floor(o/u),f=o%u,m=l-o,h=[],g=0,y=0;g<c.length;y+=c[g],++g)if(y+c[g]>f){h=[].concat(cx(c.slice(0,g)),[f-y]);break}var v=h.length%2===0?[0,m]:[m];return[].concat(cx(t.repeat(c,d)),cx(h),v).map(function(x){return"".concat(x,"px")}).join(", ")}),Vu(n,"id",Lp("recharts-line-")),Vu(n,"pathRef",function(o){n.mainCurve=o}),Vu(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),Vu(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return Iot(t,e),Tot(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.points,l=a.xAxis,c=a.yAxis,u=a.layout,d=a.children,f=Uo(d,Z0);if(!f)return null;var m=function(y,v){return{x:y.x,y:y.y,value:y.value,errorVal:Di(y.payload,v)}},h={clipPath:r?"url(#clipPath-".concat(i,")"):null};return E.createElement(Kn,h,f.map(function(g){return E.cloneElement(g,{key:"bar-".concat(g.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,dataPointFormatter:m})}))}},{key:"renderDots",value:function(r,i,a){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,f=Zt(this.props,!1),m=Zt(c,!0),h=u.map(function(y,v){var x=Vl(Vl(Vl({key:"dot-".concat(v),r:3},f),m),{},{index:v,cx:y.x,cy:y.y,value:y.value,dataKey:d,payload:y.payload,points:u});return t.renderDotItem(c,x)}),g={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return E.createElement(Kn,K1({className:"recharts-line-dots",key:"dots"},g),h)}},{key:"renderCurveStatically",value:function(r,i,a,o){var l=this.props,c=l.type,u=l.layout,d=l.connectNulls;l.ref;var f=YH(l,Not),m=Vl(Vl(Vl({},Zt(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:r},o),{},{type:c,layout:u,connectNulls:d});return E.createElement(np,K1({},m,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var a=this,o=this.props,l=o.points,c=o.strokeDasharray,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,m=o.animationEasing,h=o.animationId,g=o.animateNewValues,y=o.width,v=o.height,x=this.state,w=x.prevPoints,j=x.totalLength;return E.createElement(iu,{begin:d,duration:f,isActive:u,easing:m,from:{t:0},to:{t:1},key:"line-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(_){var S=_.t;if(w){var k=w.length/l.length,P=l.map(function(I,B){var $=Math.floor(B*k);if(w[$]){var K=w[$],Y=ra(K.x,I.x),Q=ra(K.y,I.y);return Vl(Vl({},I),{},{x:Y(S),y:Q(S)})}if(g){var H=ra(y*2,I.x),G=ra(v/2,I.y);return Vl(Vl({},I),{},{x:H(S),y:G(S)})}return Vl(Vl({},I),{},{x:I.x,y:I.y})});return a.renderCurveStatically(P,r,i)}var M=ra(0,j),T=M(S),R;if(c){var D="".concat(c).split(/[,\s]+/gim).map(function(I){return parseFloat(I)});R=a.getStrokeDasharray(T,j,D)}else R=a.generateSimpleStrokeDasharray(j,T);return a.renderCurveStatically(l,r,i,{strokeDasharray:R})})}},{key:"renderCurve",value:function(r,i){var a=this.props,o=a.points,l=a.isAnimationActive,c=this.state,u=c.prevPoints,d=c.totalLength;return l&&o&&o.length&&(!u&&d>0||!hp(u,o))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(o,r,i)}},{key:"render",value:function(){var r,i=this.props,a=i.hide,o=i.dot,l=i.points,c=i.className,u=i.xAxis,d=i.yAxis,f=i.top,m=i.left,h=i.width,g=i.height,y=i.isAnimationActive,v=i.id;if(a||!l||!l.length)return null;var x=this.state.isAnimationFinished,w=l.length===1,j=In("recharts-line",c),_=u&&u.allowDataOverflow,S=d&&d.allowDataOverflow,k=_||S,P=fn(v)?this.id:v,M=(r=Zt(o,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},T=M.r,R=T===void 0?3:T,D=M.strokeWidth,I=D===void 0?2:D,B=mue(o)?o:{},$=B.clipDot,K=$===void 0?!0:$,Y=R*2+I;return E.createElement(Kn,{className:j},_||S?E.createElement("defs",null,E.createElement("clipPath",{id:"clipPath-".concat(P)},E.createElement("rect",{x:_?m:m-h/2,y:S?f:f-g/2,width:_?h:h*2,height:S?g:g*2})),!K&&E.createElement("clipPath",{id:"clipPath-dots-".concat(P)},E.createElement("rect",{x:m-Y/2,y:f-Y/2,width:h+Y,height:g+Y}))):null,!w&&this.renderCurve(k,P),this.renderErrorBar(k,P),(w||o)&&this.renderDots(k,K,P),(!y||x)&&uc.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var a=r.length%2!==0?[].concat(cx(r),[0]):r,o=[],l=0;l<i;++l)o=[].concat(cx(o),cx(a));return o}},{key:"renderDotItem",value:function(r,i){var a;if(E.isValidElement(r))a=E.cloneElement(r,i);else if(mn(r))a=r(i);else{var o=i.key,l=YH(i,_ot),c=In("recharts-line-dot",typeof r!="boolean"?r.className:"");a=E.createElement(hf,K1({key:o},l,{className:c}))}return a}}])}(b.PureComponent);Vu(oa,"displayName","Line");Vu(oa,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Bh.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Vu(oa,"getComposedData",function(e){var t=e.props,n=e.xAxis,r=e.yAxis,i=e.xAxisTicks,a=e.yAxisTicks,o=e.dataKey,l=e.bandSize,c=e.displayedData,u=e.offset,d=t.layout,f=c.map(function(m,h){var g=Di(m,o);return d==="horizontal"?{x:Qy({axis:n,ticks:i,bandSize:l,entry:m,index:h}),y:fn(g)?null:r.scale(g),value:g,payload:m}:{x:fn(g)?null:n.scale(g),y:Qy({axis:r,ticks:a,bandSize:l,entry:m,index:h}),value:g,payload:m}});return Vl({points:f,layout:d},u)});var Rot=["layout","type","stroke","connectNulls","isRange","ref"],$ot=["key"],khe;function d0(e){"@babel/helpers - typeof";return d0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d0(e)}function Che(e,t){if(e==null)return{};var n=Fot(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Fot(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function zg(){return zg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zg.apply(this,arguments)}function QH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Nm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QH(Object(n),!0).forEach(function(r){Wd(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QH(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Bot(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function JH(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Phe(r.key),r)}}function zot(e,t,n){return t&&JH(e.prototype,t),n&&JH(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Vot(e,t,n){return t=Nk(t),qot(e,Ehe()?Reflect.construct(t,n||[],Nk(e).constructor):t.apply(e,n))}function qot(e,t){if(t&&(d0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Uot(e)}function Uot(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ehe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ehe=function(){return!!e})()}function Nk(e){return Nk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Nk(e)}function Wot(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&oI(e,t)}function oI(e,t){return oI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},oI(e,t)}function Wd(e,t,n){return t=Phe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Phe(e){var t=Hot(e,"string");return d0(t)=="symbol"?t:t+""}function Hot(e,t){if(d0(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(d0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var md=function(e){function t(){var n;Bot(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Vot(this,t,[].concat(i)),Wd(n,"state",{isAnimationFinished:!0}),Wd(n,"id",Lp("recharts-area-")),Wd(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),mn(o)&&o()}),Wd(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),mn(o)&&o()}),n}return Wot(t,e),zot(t,[{key:"renderDots",value:function(r,i,a){var o=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(o&&!l)return null;var c=this.props,u=c.dot,d=c.points,f=c.dataKey,m=Zt(this.props,!1),h=Zt(u,!0),g=d.map(function(v,x){var w=Nm(Nm(Nm({key:"dot-".concat(x),r:3},m),h),{},{index:x,cx:v.x,cy:v.y,dataKey:f,value:v.value,payload:v.payload,points:d});return t.renderDotItem(u,w)}),y={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return E.createElement(Kn,zg({className:"recharts-area-dots"},y),g)}},{key:"renderHorizontalRect",value:function(r){var i=this.props,a=i.baseLine,o=i.points,l=i.strokeWidth,c=o[0].x,u=o[o.length-1].x,d=r*Math.abs(c-u),f=$m(o.map(function(m){return m.y||0}));return yt(a)&&typeof a=="number"?f=Math.max(a,f):a&&Array.isArray(a)&&a.length&&(f=Math.max($m(a.map(function(m){return m.y||0})),f)),yt(f)?E.createElement("rect",{x:c<u?c:c-d,y:0,width:d,height:Math.floor(f+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var i=this.props,a=i.baseLine,o=i.points,l=i.strokeWidth,c=o[0].y,u=o[o.length-1].y,d=r*Math.abs(c-u),f=$m(o.map(function(m){return m.x||0}));return yt(a)&&typeof a=="number"?f=Math.max(a,f):a&&Array.isArray(a)&&a.length&&(f=Math.max($m(a.map(function(m){return m.x||0})),f)),yt(f)?E.createElement("rect",{x:0,y:c<u?c:c-d,width:f+(l?parseInt("".concat(l),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(r){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,i,a,o){var l=this.props,c=l.layout,u=l.type,d=l.stroke,f=l.connectNulls,m=l.isRange;l.ref;var h=Che(l,Rot);return E.createElement(Kn,{clipPath:a?"url(#clipPath-".concat(o,")"):null},E.createElement(np,zg({},Zt(h,!0),{points:r,connectNulls:f,type:u,baseLine:i,layout:c,stroke:"none",className:"recharts-area-area"})),d!=="none"&&E.createElement(np,zg({},Zt(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:r})),d!=="none"&&m&&E.createElement(np,zg({},Zt(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(r,i){var a=this,o=this.props,l=o.points,c=o.baseLine,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,m=o.animationEasing,h=o.animationId,g=this.state,y=g.prevPoints,v=g.prevBaseLine;return E.createElement(iu,{begin:d,duration:f,isActive:u,easing:m,from:{t:0},to:{t:1},key:"area-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(x){var w=x.t;if(y){var j=y.length/l.length,_=l.map(function(M,T){var R=Math.floor(T*j);if(y[R]){var D=y[R],I=ra(D.x,M.x),B=ra(D.y,M.y);return Nm(Nm({},M),{},{x:I(w),y:B(w)})}return M}),S;if(yt(c)&&typeof c=="number"){var k=ra(v,c);S=k(w)}else if(fn(c)||U0(c)){var P=ra(v,0);S=P(w)}else S=c.map(function(M,T){var R=Math.floor(T*j);if(v[R]){var D=v[R],I=ra(D.x,M.x),B=ra(D.y,M.y);return Nm(Nm({},M),{},{x:I(w),y:B(w)})}return M});return a.renderAreaStatically(_,S,r,i)}return E.createElement(Kn,null,E.createElement("defs",null,E.createElement("clipPath",{id:"animationClipPath-".concat(i)},a.renderClipRect(w))),E.createElement(Kn,{clipPath:"url(#animationClipPath-".concat(i,")")},a.renderAreaStatically(l,c,r,i)))})}},{key:"renderArea",value:function(r,i){var a=this.props,o=a.points,l=a.baseLine,c=a.isAnimationActive,u=this.state,d=u.prevPoints,f=u.prevBaseLine,m=u.totalLength;return c&&o&&o.length&&(!d&&m>0||!hp(d,o)||!hp(f,l))?this.renderAreaWithAnimation(r,i):this.renderAreaStatically(o,l,r,i)}},{key:"render",value:function(){var r,i=this.props,a=i.hide,o=i.dot,l=i.points,c=i.className,u=i.top,d=i.left,f=i.xAxis,m=i.yAxis,h=i.width,g=i.height,y=i.isAnimationActive,v=i.id;if(a||!l||!l.length)return null;var x=this.state.isAnimationFinished,w=l.length===1,j=In("recharts-area",c),_=f&&f.allowDataOverflow,S=m&&m.allowDataOverflow,k=_||S,P=fn(v)?this.id:v,M=(r=Zt(o,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},T=M.r,R=T===void 0?3:T,D=M.strokeWidth,I=D===void 0?2:D,B=mue(o)?o:{},$=B.clipDot,K=$===void 0?!0:$,Y=R*2+I;return E.createElement(Kn,{className:j},_||S?E.createElement("defs",null,E.createElement("clipPath",{id:"clipPath-".concat(P)},E.createElement("rect",{x:_?d:d-h/2,y:S?u:u-g/2,width:_?h:h*2,height:S?g:g*2})),!K&&E.createElement("clipPath",{id:"clipPath-dots-".concat(P)},E.createElement("rect",{x:d-Y/2,y:u-Y/2,width:h+Y,height:g+Y}))):null,w?null:this.renderArea(k,P),(o||w)&&this.renderDots(k,K,P),(!y||x)&&uc.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:r.points!==i.curPoints||r.baseLine!==i.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])}(b.PureComponent);khe=md;Wd(md,"displayName","Area");Wd(md,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Bh.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Wd(md,"getBaseValue",function(e,t,n,r){var i=e.layout,a=e.baseValue,o=t.props.baseValue,l=o??a;if(yt(l)&&typeof l=="number")return l;var c=i==="horizontal"?r:n,u=c.scale.domain();if(c.type==="number"){var d=Math.max(u[0],u[1]),f=Math.min(u[0],u[1]);return l==="dataMin"?f:l==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return l==="dataMin"?u[0]:l==="dataMax"?u[1]:u[0]});Wd(md,"getComposedData",function(e){var t=e.props,n=e.item,r=e.xAxis,i=e.yAxis,a=e.xAxisTicks,o=e.yAxisTicks,l=e.bandSize,c=e.dataKey,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,m=e.offset,h=t.layout,g=u&&u.length,y=khe.getBaseValue(t,n,r,i),v=h==="horizontal",x=!1,w=f.map(function(_,S){var k;g?k=u[d+S]:(k=Di(_,c),Array.isArray(k)?x=!0:k=[y,k]);var P=k[1]==null||g&&Di(_,c)==null;return v?{x:Qy({axis:r,ticks:a,bandSize:l,entry:_,index:S}),y:P?null:i.scale(k[1]),value:k,payload:_}:{x:P?null:r.scale(k[1]),y:Qy({axis:i,ticks:o,bandSize:l,entry:_,index:S}),value:k,payload:_}}),j;return g||x?j=w.map(function(_){var S=Array.isArray(_.value)?_.value[0]:null;return v?{x:_.x,y:S!=null&&_.y!=null?i.scale(S):null}:{x:S!=null?r.scale(S):null,y:_.y}}):j=v?i.scale(y):r.scale(y),Nm({points:w,baseLine:j,layout:h,isRange:x},m)});Wd(md,"renderDotItem",function(e,t){var n;if(E.isValidElement(e))n=E.cloneElement(e,t);else if(mn(e))n=e(t);else{var r=In("recharts-area-dot",typeof e!="boolean"?e.className:""),i=t.key,a=Che(t,$ot);n=E.createElement(hf,zg({},a,{key:i,className:r}))}return n});function f0(e){"@babel/helpers - typeof";return f0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f0(e)}function Kot(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Got(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ohe(r.key),r)}}function Yot(e,t,n){return t&&Got(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Xot(e,t,n){return t=_k(t),Zot(e,Ahe()?Reflect.construct(t,n||[],_k(e).constructor):t.apply(e,n))}function Zot(e,t){if(t&&(f0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qot(e)}function Qot(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ahe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ahe=function(){return!!e})()}function _k(e){return _k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_k(e)}function Jot(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lI(e,t)}function lI(e,t){return lI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},lI(e,t)}function The(e,t,n){return t=Ohe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ohe(e){var t=elt(e,"string");return f0(t)=="symbol"?t:t+""}function elt(e,t){if(f0(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(f0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var J0=function(e){function t(){return Kot(this,t),Xot(this,t,arguments)}return Jot(t,e),Yot(t,[{key:"render",value:function(){return null}}])}(b.Component);The(J0,"displayName","ZAxis");The(J0,"defaultProps",{zAxisId:0,range:[64,64],scale:"auto",type:"number"});var tlt=["option","isActive"];function G1(){return G1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},G1.apply(this,arguments)}function nlt(e,t){if(e==null)return{};var n=rlt(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function rlt(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function ilt(e){var t=e.option,n=e.isActive,r=nlt(e,tlt);return typeof t=="string"?b.createElement(uk,G1({option:b.createElement(KE,G1({type:t},r)),isActive:n,shapeType:"symbols"},r)):b.createElement(uk,G1({option:t,isActive:n,shapeType:"symbols"},r))}function h0(e){"@babel/helpers - typeof";return h0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h0(e)}function Y1(){return Y1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Y1.apply(this,arguments)}function eK(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function zc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eK(Object(n),!0).forEach(function(r){Bm(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eK(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function alt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tK(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Mhe(r.key),r)}}function slt(e,t,n){return t&&tK(e.prototype,t),n&&tK(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function olt(e,t,n){return t=Sk(t),llt(e,Lhe()?Reflect.construct(t,n||[],Sk(e).constructor):t.apply(e,n))}function llt(e,t){if(t&&(h0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return clt(e)}function clt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Lhe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Lhe=function(){return!!e})()}function Sk(e){return Sk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Sk(e)}function ult(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cI(e,t)}function cI(e,t){return cI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},cI(e,t)}function Bm(e,t,n){return t=Mhe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mhe(e){var t=dlt(e,"string");return h0(t)=="symbol"?t:t+""}function dlt(e,t){if(h0(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(h0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var eb=function(e){function t(){var n;alt(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=olt(this,t,[].concat(i)),Bm(n,"state",{isAnimationFinished:!1}),Bm(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0})}),Bm(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1})}),Bm(n,"id",Lp("recharts-scatter-")),n}return ult(t,e),slt(t,[{key:"renderSymbolsStatically",value:function(r){var i=this,a=this.props,o=a.shape,l=a.activeShape,c=a.activeIndex,u=Zt(this.props,!1);return r.map(function(d,f){var m=c===f,h=m?l:o,g=zc(zc({},u),d);return E.createElement(Kn,Y1({className:"recharts-scatter-symbol",key:"symbol-".concat(d==null?void 0:d.cx,"-").concat(d==null?void 0:d.cy,"-").concat(d==null?void 0:d.size,"-").concat(f)},fp(i.props,d,f),{role:"img"}),E.createElement(ilt,Y1({option:h,isActive:m,key:"symbol-".concat(f)},g)))})}},{key:"renderSymbolsWithAnimation",value:function(){var r=this,i=this.props,a=i.points,o=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,u=i.animationEasing,d=i.animationId,f=this.state.prevPoints;return E.createElement(iu,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var h=m.t,g=a.map(function(y,v){var x=f&&f[v];if(x){var w=ra(x.cx,y.cx),j=ra(x.cy,y.cy),_=ra(x.size,y.size);return zc(zc({},y),{},{cx:w(h),cy:j(h),size:_(h)})}var S=ra(0,y.size);return zc(zc({},y),{},{size:S(h)})});return E.createElement(Kn,null,r.renderSymbolsStatically(g))})}},{key:"renderSymbols",value:function(){var r=this.props,i=r.points,a=r.isAnimationActive,o=this.state.prevPoints;return a&&i&&i.length&&(!o||!hp(o,i))?this.renderSymbolsWithAnimation():this.renderSymbolsStatically(i)}},{key:"renderErrorBar",value:function(){var r=this.props.isAnimationActive;if(r&&!this.state.isAnimationFinished)return null;var i=this.props,a=i.points,o=i.xAxis,l=i.yAxis,c=i.children,u=Uo(c,Z0);return u?u.map(function(d,f){var m=d.props,h=m.direction,g=m.dataKey;return E.cloneElement(d,{key:"".concat(h,"-").concat(g,"-").concat(a[f]),data:a,xAxis:o,yAxis:l,layout:h==="x"?"vertical":"horizontal",dataPointFormatter:function(v,x){return{x:v.cx,y:v.cy,value:h==="x"?+v.node.x:+v.node.y,errorVal:Di(v,x)}}})}):null}},{key:"renderLine",value:function(){var r=this.props,i=r.points,a=r.line,o=r.lineType,l=r.lineJointType,c=Zt(this.props,!1),u=Zt(a,!1),d,f;if(o==="joint")d=i.map(function(j){return{x:j.cx,y:j.cy}});else if(o==="fitting"){var m=U8e(i),h=m.xmin,g=m.xmax,y=m.a,v=m.b,x=function(_){return y*_+v};d=[{x:h,y:x(h)},{x:g,y:x(g)}]}var w=zc(zc(zc({},c),{},{fill:"none",stroke:c&&c.fill},u),{},{points:d});return E.isValidElement(a)?f=E.cloneElement(a,w):mn(a)?f=a(w):f=E.createElement(np,Y1({},w,{type:l})),E.createElement(Kn,{className:"recharts-scatter-line",key:"recharts-scatter-line"},f)}},{key:"render",value:function(){var r=this.props,i=r.hide,a=r.points,o=r.line,l=r.className,c=r.xAxis,u=r.yAxis,d=r.left,f=r.top,m=r.width,h=r.height,g=r.id,y=r.isAnimationActive;if(i||!a||!a.length)return null;var v=this.state.isAnimationFinished,x=In("recharts-scatter",l),w=c&&c.allowDataOverflow,j=u&&u.allowDataOverflow,_=w||j,S=fn(g)?this.id:g;return E.createElement(Kn,{className:x,clipPath:_?"url(#clipPath-".concat(S,")"):null},w||j?E.createElement("defs",null,E.createElement("clipPath",{id:"clipPath-".concat(S)},E.createElement("rect",{x:w?d:d-m/2,y:j?f:f-h/2,width:w?m:m*2,height:j?h:h*2}))):null,o&&this.renderLine(),this.renderErrorBar(),E.createElement(Kn,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!y||v)&&uc.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}}])}(b.PureComponent);Bm(eb,"displayName","Scatter");Bm(eb,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!Bh.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"});Bm(eb,"getComposedData",function(e){var t=e.xAxis,n=e.yAxis,r=e.zAxis,i=e.item,a=e.displayedData,o=e.xAxisTicks,l=e.yAxisTicks,c=e.offset,u=i.props.tooltipType,d=Uo(i.props.children,gc),f=fn(t.dataKey)?i.props.dataKey:t.dataKey,m=fn(n.dataKey)?i.props.dataKey:n.dataKey,h=r&&r.dataKey,g=r?r.range:J0.defaultProps.range,y=g&&g[0],v=t.scale.bandwidth?t.scale.bandwidth():0,x=n.scale.bandwidth?n.scale.bandwidth():0,w=a.map(function(j,_){var S=Di(j,f),k=Di(j,m),P=!fn(h)&&Di(j,h)||"-",M=[{name:fn(t.dataKey)?i.props.name:t.name||t.dataKey,unit:t.unit||"",value:S,payload:j,dataKey:f,type:u},{name:fn(n.dataKey)?i.props.name:n.name||n.dataKey,unit:n.unit||"",value:k,payload:j,dataKey:m,type:u}];P!=="-"&&M.push({name:r.name||r.dataKey,unit:r.unit||"",value:P,payload:j,dataKey:h,type:u});var T=Qy({axis:t,ticks:o,bandSize:v,entry:j,index:_,dataKey:f}),R=Qy({axis:n,ticks:l,bandSize:x,entry:j,index:_,dataKey:m}),D=P!=="-"?r.scale(P):y,I=Math.sqrt(Math.max(D,0)/Math.PI);return zc(zc({},j),{},{cx:T,cy:R,x:T-I,y:R-I,xAxis:t,yAxis:n,zAxis:r,width:2*I,height:2*I,size:D,node:{x:S,y:k,z:P},tooltipPayload:M,tooltipPosition:{x:T,y:R},payload:j},d&&d[_]&&d[_].props)});return zc({points:w},c)});function m0(e){"@babel/helpers - typeof";return m0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m0(e)}function flt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hlt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Rhe(r.key),r)}}function mlt(e,t,n){return t&&hlt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function plt(e,t,n){return t=kk(t),glt(e,Ihe()?Reflect.construct(t,n||[],kk(e).constructor):t.apply(e,n))}function glt(e,t){if(t&&(m0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vlt(e)}function vlt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ihe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ihe=function(){return!!e})()}function kk(e){return kk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},kk(e)}function xlt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&uI(e,t)}function uI(e,t){return uI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},uI(e,t)}function Dhe(e,t,n){return t=Rhe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rhe(e){var t=ylt(e,"string");return m0(t)=="symbol"?t:t+""}function ylt(e,t){if(m0(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(m0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function dI(){return dI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dI.apply(this,arguments)}function blt(e){var t=e.xAxisId,n=_F(),r=SF(),i=fhe(t);return i==null?null:b.createElement(Q0,dI({},i,{className:In("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(o){return uh(o,!0)}}))}var vr=function(e){function t(){return flt(this,t),plt(this,t,arguments)}return xlt(t,e),mlt(t,[{key:"render",value:function(){return b.createElement(blt,this.props)}}])}(b.Component);Dhe(vr,"displayName","XAxis");Dhe(vr,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function p0(e){"@babel/helpers - typeof";return p0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p0(e)}function wlt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jlt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Bhe(r.key),r)}}function Nlt(e,t,n){return t&&jlt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _lt(e,t,n){return t=Ck(t),Slt(e,$he()?Reflect.construct(t,n||[],Ck(e).constructor):t.apply(e,n))}function Slt(e,t){if(t&&(p0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return klt(e)}function klt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $he(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($he=function(){return!!e})()}function Ck(e){return Ck=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ck(e)}function Clt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fI(e,t)}function fI(e,t){return fI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},fI(e,t)}function Fhe(e,t,n){return t=Bhe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bhe(e){var t=Elt(e,"string");return p0(t)=="symbol"?t:t+""}function Elt(e,t){if(p0(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(p0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function hI(){return hI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hI.apply(this,arguments)}var Plt=function(t){var n=t.yAxisId,r=_F(),i=SF(),a=hhe(n);return a==null?null:b.createElement(Q0,hI({},a,{className:In("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(l){return uh(l,!0)}}))},dr=function(e){function t(){return wlt(this,t),_lt(this,t,arguments)}return Clt(t,e),Nlt(t,[{key:"render",value:function(){return b.createElement(Plt,this.props)}}])}(b.Component);Fhe(dr,"displayName","YAxis");Fhe(dr,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function nK(e){return Llt(e)||Olt(e)||Tlt(e)||Alt()}function Alt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tlt(e,t){if(e){if(typeof e=="string")return mI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mI(e,t)}}function Olt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Llt(e){if(Array.isArray(e))return mI(e)}function mI(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var pI=function(t,n,r,i,a){var o=Uo(t,fv),l=Uo(t,pP),c=[].concat(nK(o),nK(l)),u=Uo(t,vP),d="".concat(i,"Id"),f=i[0],m=n;if(c.length&&(m=c.reduce(function(y,v){if(v.props[d]===r&&af(v.props,"extendDomain")&&yt(v.props[f])){var x=v.props[f];return[Math.min(y[0],x),Math.max(y[1],x)]}return y},m)),u.length){var h="".concat(f,"1"),g="".concat(f,"2");m=u.reduce(function(y,v){if(v.props[d]===r&&af(v.props,"extendDomain")&&yt(v.props[h])&&yt(v.props[g])){var x=v.props[h],w=v.props[g];return[Math.min(y[0],x,w),Math.max(y[1],x,w)]}return y},m)}return a&&a.length&&(m=a.reduce(function(y,v){return yt(v)?[Math.min(y[0],v),Math.max(y[1],v)]:y},m)),m},zhe={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function a(c,u,d,f,m){if(typeof d!="function")throw new TypeError("The listener must be a function");var h=new i(d,f||c,m),g=n?n+u:u;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],h]:c._events[g].push(h):(c._events[g]=h,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new r:delete c._events[u]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=n?n+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var m=0,h=f.length,g=new Array(h);m<h;m++)g[m]=f[m].fn;return g},l.prototype.listenerCount=function(u){var d=n?n+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,m,h,g){var y=n?n+u:u;if(!this._events[y])return!1;var v=this._events[y],x=arguments.length,w,j;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),x){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,f),!0;case 4:return v.fn.call(v.context,d,f,m),!0;case 5:return v.fn.call(v.context,d,f,m,h),!0;case 6:return v.fn.call(v.context,d,f,m,h,g),!0}for(j=1,w=new Array(x-1);j<x;j++)w[j-1]=arguments[j];v.fn.apply(v.context,w)}else{var _=v.length,S;for(j=0;j<_;j++)switch(v[j].once&&this.removeListener(u,v[j].fn,void 0,!0),x){case 1:v[j].fn.call(v[j].context);break;case 2:v[j].fn.call(v[j].context,d);break;case 3:v[j].fn.call(v[j].context,d,f);break;case 4:v[j].fn.call(v[j].context,d,f,m);break;default:if(!w)for(S=1,w=new Array(x-1);S<x;S++)w[S-1]=arguments[S];v[j].fn.apply(v[j].context,w)}}return!0},l.prototype.on=function(u,d,f){return a(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return a(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,m){var h=n?n+u:u;if(!this._events[h])return this;if(!d)return o(this,h),this;var g=this._events[h];if(g.fn)g.fn===d&&(!m||g.once)&&(!f||g.context===f)&&o(this,h);else{for(var y=0,v=[],x=g.length;y<x;y++)(g[y].fn!==d||m&&!g[y].once||f&&g[y].context!==f)&&v.push(g[y]);v.length?this._events[h]=v.length===1?v[0]:v:o(this,h)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=n?n+u:u,this._events[d]&&o(this,d)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,e.exports=l})(zhe);var Mlt=zhe.exports;const Ilt=Ar(Mlt);var P4=new Ilt,A4="recharts.syncMouseEvents";function E2(e){"@babel/helpers - typeof";return E2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},E2(e)}function Dlt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rlt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Vhe(r.key),r)}}function $lt(e,t,n){return t&&Rlt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function T4(e,t,n){return t=Vhe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vhe(e){var t=Flt(e,"string");return E2(t)=="symbol"?t:t+""}function Flt(e,t){if(E2(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(E2(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Blt=function(){function e(){Dlt(this,e),T4(this,"activeIndex",0),T4(this,"coordinateList",[]),T4(this,"layout","horizontal")}return $lt(e,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,a=i===void 0?null:i,o=n.container,l=o===void 0?null:o,c=n.layout,u=c===void 0?null:c,d=n.offset,f=d===void 0?null:d,m=n.mouseHandlerCallback,h=m===void 0?null:m;this.coordinateList=(r=a??this.coordinateList)!==null&&r!==void 0?r:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=h??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,o=i.y,l=i.height,c=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,d=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=a+c+u,m=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:m})}}}])}();function zlt(e,t,n){if(n==="number"&&t===!0&&Array.isArray(e)){var r=e==null?void 0:e[0],i=e==null?void 0:e[1];if(r&&i&&yt(r)&&yt(i))return!0}return!1}function Vlt(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function qhe(e){var t=e.cx,n=e.cy,r=e.radius,i=e.startAngle,a=e.endAngle,o=_i(t,n,r,i),l=_i(t,n,r,a);return{points:[o,l],cx:t,cy:n,radius:r,startAngle:i,endAngle:a}}function qlt(e,t,n){var r,i,a,o;if(e==="horizontal")r=t.x,a=r,i=n.top,o=n.top+n.height;else if(e==="vertical")i=t.y,o=i,r=n.left,a=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,m=_i(l,c,u,f),h=_i(l,c,d,f);r=m.x,i=m.y,a=h.x,o=h.y}else return qhe(t);return[{x:r,y:i},{x:a,y:o}]}function P2(e){"@babel/helpers - typeof";return P2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},P2(e)}function rK(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function m_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rK(Object(n),!0).forEach(function(r){Ult(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rK(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ult(e,t,n){return t=Wlt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wlt(e){var t=Hlt(e,"string");return P2(t)=="symbol"?t:t+""}function Hlt(e,t){if(P2(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(P2(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Klt(e){var t,n,r=e.element,i=e.tooltipEventType,a=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,m=e.chartName,h=(t=r.props.cursor)!==null&&t!==void 0?t:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!h||!a||!o||m!=="ScatterChart"&&i!=="axis")return null;var g,y=np;if(m==="ScatterChart")g=o,y=Dnt;else if(m==="BarChart")g=Vlt(f,o,c,d),y=bF;else if(f==="radial"){var v=qhe(o),x=v.cx,w=v.cy,j=v.radius,_=v.startAngle,S=v.endAngle;g={cx:x,cy:w,startAngle:_,endAngle:S,innerRadius:j,outerRadius:j},y=yF}else g={points:qlt(f,o,c)},y=np;var k=m_(m_(m_(m_({stroke:"#ccc",pointerEvents:"none"},c),g),Zt(h,!1)),{},{payload:l,payloadIndex:u,className:In("recharts-tooltip-cursor",h.className)});return b.isValidElement(h)?b.cloneElement(h,k):b.createElement(y,k)}var Glt=["item"],Ylt=["children","className","width","height","style","compact","title","desc"];function g0(e){"@babel/helpers - typeof";return g0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},g0(e)}function Gx(){return Gx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gx.apply(this,arguments)}function iK(e,t){return Qlt(e)||Zlt(e,t)||Whe(e,t)||Xlt()}function Xlt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zlt(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function Qlt(e){if(Array.isArray(e))return e}function aK(e,t){if(e==null)return{};var n=Jlt(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Jlt(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function ect(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tct(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Hhe(r.key),r)}}function nct(e,t,n){return t&&tct(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function rct(e,t,n){return t=Ek(t),ict(e,Uhe()?Reflect.construct(t,n||[],Ek(e).constructor):t.apply(e,n))}function ict(e,t){if(t&&(g0(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return act(e)}function act(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Uhe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Uhe=function(){return!!e})()}function Ek(e){return Ek=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ek(e)}function sct(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gI(e,t)}function gI(e,t){return gI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},gI(e,t)}function v0(e){return cct(e)||lct(e)||Whe(e)||oct()}function oct(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Whe(e,t){if(e){if(typeof e=="string")return vI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vI(e,t)}}function lct(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function cct(e){if(Array.isArray(e))return vI(e)}function vI(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function sK(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Qe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sK(Object(n),!0).forEach(function(r){gn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sK(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gn(e,t,n){return t=Hhe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hhe(e){var t=uct(e,"string");return g0(t)=="symbol"?t:t+""}function uct(e,t){if(g0(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(g0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dct={xAxis:["bottom","top"],yAxis:["left","right"]},fct={width:"100%",height:"100%"},Khe={x:0,y:0};function p_(e){return e}var hct=function(t,n){return n==="horizontal"?t.x:n==="vertical"?t.y:n==="centric"?t.angle:t.radius},mct=function(t,n,r,i){var a=n.find(function(d){return d&&d.index===r});if(a){if(t==="horizontal")return{x:a.coordinate,y:i.y};if(t==="vertical")return{x:i.x,y:a.coordinate};if(t==="centric"){var o=a.coordinate,l=i.radius;return Qe(Qe(Qe({},i),_i(i.cx,i.cy,l,o)),{},{angle:o,radius:l})}var c=a.coordinate,u=i.angle;return Qe(Qe(Qe({},i),_i(i.cx,i.cy,c,u)),{},{angle:u,radius:c})}return Khe},xP=function(t,n){var r=n.graphicalItems,i=n.dataStartIndex,a=n.dataEndIndex,o=(r??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(v0(l),v0(u)):l},[]);return o.length>0?o:t&&t.length&&yt(i)&&yt(a)?t.slice(i,a+1):[]};function Ghe(e){return e==="number"?[0,"auto"]:void 0}var xI=function(t,n,r,i){var a=t.graphicalItems,o=t.tooltipAxis,l=xP(n,t);return r<0||!a||!a.length||r>=l.length?null:a.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:n;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=r&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var m;if(o.dataKey&&!o.allowDuplicatedCategory){var h=f===void 0?l:f;m=_5(h,o.dataKey,i)}else m=f&&f[r]||l[r];return m?[].concat(v0(c),[Cfe(u,m)]):c},[])},oK=function(t,n,r,i){var a=i||{x:t.chartX,y:t.chartY},o=hct(a,r),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=eJe(o,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,m=xI(t,n,d,f),h=mct(r,l,d,a);return{activeTooltipIndex:d,activeLabel:f,activePayload:m,activeCoordinate:h}}return null},pct=function(t,n){var r=n.axes,i=n.graphicalItems,a=n.axisType,o=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=t.layout,f=t.children,m=t.stackOffset,h=wfe(d,a);return r.reduce(function(g,y){var v,x=y.type.defaultProps!==void 0?Qe(Qe({},y.type.defaultProps),y.props):y.props,w=x.type,j=x.dataKey,_=x.allowDataOverflow,S=x.allowDuplicatedCategory,k=x.scale,P=x.ticks,M=x.includeHidden,T=x[o];if(g[T])return g;var R=xP(t.data,{graphicalItems:i.filter(function(z){var F,ie=o in z.props?z.props[o]:(F=z.type.defaultProps)===null||F===void 0?void 0:F[o];return ie===T}),dataStartIndex:c,dataEndIndex:u}),D=R.length,I,B,$;zlt(x.domain,_,w)&&(I=PM(x.domain,null,_),h&&(w==="number"||k!=="auto")&&($=q1(R,j,"category")));var K=Ghe(w);if(!I||I.length===0){var Y,Q=(Y=x.domain)!==null&&Y!==void 0?Y:K;if(j){if(I=q1(R,j,w),w==="category"&&h){var H=q8e(I);S&&H?(B=I,I=fk(0,D)):S||(I=EW(Q,I,y).reduce(function(z,F){return z.indexOf(F)>=0?z:[].concat(v0(z),[F])},[]))}else if(w==="category")S?I=I.filter(function(z){return z!==""&&!fn(z)}):I=EW(Q,I,y).reduce(function(z,F){return z.indexOf(F)>=0||F===""||fn(F)?z:[].concat(v0(z),[F])},[]);else if(w==="number"){var G=aJe(R,i.filter(function(z){var F,ie,ce=o in z.props?z.props[o]:(F=z.type.defaultProps)===null||F===void 0?void 0:F[o],te="hide"in z.props?z.props.hide:(ie=z.type.defaultProps)===null||ie===void 0?void 0:ie.hide;return ce===T&&(M||!te)}),j,a,d);G&&(I=G)}h&&(w==="number"||k!=="auto")&&($=q1(R,j,"category"))}else h?I=fk(0,D):l&&l[T]&&l[T].hasStack&&w==="number"?I=m==="expand"?[0,1]:kfe(l[T].stackGroups,c,u):I=bfe(R,i.filter(function(z){var F=o in z.props?z.props[o]:z.type.defaultProps[o],ie="hide"in z.props?z.props.hide:z.type.defaultProps.hide;return F===T&&(M||!ie)}),w,d,!0);if(w==="number")I=pI(f,I,T,a,P),Q&&(I=PM(Q,I,_));else if(w==="category"&&Q){var U=Q,ee=I.every(function(z){return U.indexOf(z)>=0});ee&&(I=U)}}return Qe(Qe({},g),{},gn({},T,Qe(Qe({},x),{},{axisType:a,domain:I,categoricalDomain:$,duplicateDomain:B,originalDomain:(v=x.domain)!==null&&v!==void 0?v:K,isCategorical:h,layout:d})))},{})},gct=function(t,n){var r=n.graphicalItems,i=n.Axis,a=n.axisType,o=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=t.layout,f=t.children,m=xP(t.data,{graphicalItems:r,dataStartIndex:c,dataEndIndex:u}),h=m.length,g=wfe(d,a),y=-1;return r.reduce(function(v,x){var w=x.type.defaultProps!==void 0?Qe(Qe({},x.type.defaultProps),x.props):x.props,j=w[o],_=Ghe("number");if(!v[j]){y++;var S;return g?S=fk(0,h):l&&l[j]&&l[j].hasStack?(S=kfe(l[j].stackGroups,c,u),S=pI(f,S,j,a)):(S=PM(_,bfe(m,r.filter(function(k){var P,M,T=o in k.props?k.props[o]:(P=k.type.defaultProps)===null||P===void 0?void 0:P[o],R="hide"in k.props?k.props.hide:(M=k.type.defaultProps)===null||M===void 0?void 0:M.hide;return T===j&&!R}),"number",d),i.defaultProps.allowDataOverflow),S=pI(f,S,j,a)),Qe(Qe({},v),{},gn({},j,Qe(Qe({axisType:a},i.defaultProps),{},{hide:!0,orientation:cc(dct,"".concat(a,".").concat(y%2),null),domain:S,originalDomain:_,isCategorical:g,layout:d})))}return v},{})},vct=function(t,n){var r=n.axisType,i=r===void 0?"xAxis":r,a=n.AxisComp,o=n.graphicalItems,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,d=t.children,f="".concat(i,"Id"),m=Uo(d,a),h={};return m&&m.length?h=pct(t,{axes:m,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(h=gct(t,{Axis:a,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),h},xct=function(t){var n=Lm(t),r=uh(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:H$(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Q5(n,r)}},lK=function(t){var n=t.children,r=t.defaultShowTooltip,i=Wl(n,i0),a=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!r}},yct=function(t){return!t||!t.length?!1:t.some(function(n){var r=vh(n&&n.type);return r&&r.indexOf("Bar")>=0})},cK=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},bct=function(t,n){var r=t.props,i=t.graphicalItems,a=t.xAxisMap,o=a===void 0?{}:a,l=t.yAxisMap,c=l===void 0?{}:l,u=r.width,d=r.height,f=r.children,m=r.margin||{},h=Wl(f,i0),g=Wl(f,Ka),y=Object.keys(c).reduce(function(S,k){var P=c[k],M=P.orientation;return!P.mirror&&!P.hide?Qe(Qe({},S),{},gn({},M,S[M]+P.width)):S},{left:m.left||0,right:m.right||0}),v=Object.keys(o).reduce(function(S,k){var P=o[k],M=P.orientation;return!P.mirror&&!P.hide?Qe(Qe({},S),{},gn({},M,cc(S,"".concat(M))+P.height)):S},{top:m.top||0,bottom:m.bottom||0}),x=Qe(Qe({},v),y),w=x.bottom;h&&(x.bottom+=h.props.height||i0.defaultProps.height),g&&n&&(x=rJe(x,i,r,n));var j=u-x.left-x.right,_=d-x.top-x.bottom;return Qe(Qe({brushBottom:w},x),{},{width:Math.max(j,0),height:Math.max(_,0)})},wct=function(t,n){if(n==="xAxis")return t[n].width;if(n==="yAxis")return t[n].height},tb=function(t){var n=t.chartName,r=t.GraphicalChild,i=t.defaultTooltipEventType,a=i===void 0?"axis":i,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,m=function(x,w){var j=w.graphicalItems,_=w.stackGroups,S=w.offset,k=w.updateId,P=w.dataStartIndex,M=w.dataEndIndex,T=x.barSize,R=x.layout,D=x.barGap,I=x.barCategoryGap,B=x.maxBarSize,$=cK(R),K=$.numericAxisName,Y=$.cateAxisName,Q=yct(j),H=[];return j.forEach(function(G,U){var ee=xP(x.data,{graphicalItems:[G],dataStartIndex:P,dataEndIndex:M}),z=G.type.defaultProps!==void 0?Qe(Qe({},G.type.defaultProps),G.props):G.props,F=z.dataKey,ie=z.maxBarSize,ce=z["".concat(K,"Id")],te=z["".concat(Y,"Id")],oe={},ve=c.reduce(function(me,_e){var Ce=w["".concat(_e.axisType,"Map")],Xe=z["".concat(_e.axisType,"Id")];Ce&&Ce[Xe]||_e.axisType==="zAxis"||dv();var He=Ce[Xe];return Qe(Qe({},me),{},gn(gn({},_e.axisType,He),"".concat(_e.axisType,"Ticks"),uh(He)))},oe),ne=ve[Y],xe=ve["".concat(Y,"Ticks")],ue=_&&_[ce]&&_[ce].hasStack&&mJe(G,_[ce].stackGroups),re=vh(G.type).indexOf("Bar")>=0,Se=Q5(ne,xe),ae=[],X=Q&&tJe({barSize:T,stackGroups:_,totalSize:wct(ve,Y)});if(re){var Ae,qe,tt=fn(ie)?B:ie,ze=(Ae=(qe=Q5(ne,xe,!0))!==null&&qe!==void 0?qe:tt)!==null&&Ae!==void 0?Ae:0;ae=nJe({barGap:D,barCategoryGap:I,bandSize:ze!==Se?ze:Se,sizeList:X[te],maxBarSize:tt}),ze!==Se&&(ae=ae.map(function(me){return Qe(Qe({},me),{},{position:Qe(Qe({},me.position),{},{offset:me.position.offset-ze/2})})}))}var lt=G&&G.type&&G.type.getComposedData;lt&&H.push({props:Qe(Qe({},lt(Qe(Qe({},ve),{},{displayedData:ee,props:x,dataKey:F,item:G,bandSize:Se,barPosition:ae,offset:S,stackedData:ue,layout:R,dataStartIndex:P,dataEndIndex:M}))),{},gn(gn(gn({key:G.key||"item-".concat(U)},K,ve[K]),Y,ve[Y]),"animationId",k)),childIndex:n7e(G,x.children),item:G})}),H},h=function(x,w){var j=x.props,_=x.dataStartIndex,S=x.dataEndIndex,k=x.updateId;if(!jq({props:j}))return null;var P=j.children,M=j.layout,T=j.stackOffset,R=j.data,D=j.reverseStackOrder,I=cK(M),B=I.numericAxisName,$=I.cateAxisName,K=Uo(P,r),Y=fJe(R,K,"".concat(B,"Id"),"".concat($,"Id"),T,D),Q=c.reduce(function(z,F){var ie="".concat(F.axisType,"Map");return Qe(Qe({},z),{},gn({},ie,vct(j,Qe(Qe({},F),{},{graphicalItems:K,stackGroups:F.axisType===B&&Y,dataStartIndex:_,dataEndIndex:S}))))},{}),H=bct(Qe(Qe({},Q),{},{props:j,graphicalItems:K}),w==null?void 0:w.legendBBox);Object.keys(Q).forEach(function(z){Q[z]=d(j,Q[z],H,z.replace("Map",""),n)});var G=Q["".concat($,"Map")],U=xct(G),ee=m(j,Qe(Qe({},Q),{},{dataStartIndex:_,dataEndIndex:S,updateId:k,graphicalItems:K,stackGroups:Y,offset:H}));return Qe(Qe({formattedGraphicalItems:ee,graphicalItems:K,offset:H,stackGroups:Y},U),Q)},g=function(v){function x(w){var j,_,S;return ect(this,x),S=rct(this,x,[w]),gn(S,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),gn(S,"accessibilityManager",new Blt),gn(S,"handleLegendBBoxUpdate",function(k){if(k){var P=S.state,M=P.dataStartIndex,T=P.dataEndIndex,R=P.updateId;S.setState(Qe({legendBBox:k},h({props:S.props,dataStartIndex:M,dataEndIndex:T,updateId:R},Qe(Qe({},S.state),{},{legendBBox:k}))))}}),gn(S,"handleReceiveSyncEvent",function(k,P,M){if(S.props.syncId===k){if(M===S.eventEmitterSymbol&&typeof S.props.syncMethod!="function")return;S.applySyncEvent(P)}}),gn(S,"handleBrushChange",function(k){var P=k.startIndex,M=k.endIndex;if(P!==S.state.dataStartIndex||M!==S.state.dataEndIndex){var T=S.state.updateId;S.setState(function(){return Qe({dataStartIndex:P,dataEndIndex:M},h({props:S.props,dataStartIndex:P,dataEndIndex:M,updateId:T},S.state))}),S.triggerSyncEvent({dataStartIndex:P,dataEndIndex:M})}}),gn(S,"handleMouseEnter",function(k){var P=S.getMouseInfo(k);if(P){var M=Qe(Qe({},P),{},{isTooltipActive:!0});S.setState(M),S.triggerSyncEvent(M);var T=S.props.onMouseEnter;mn(T)&&T(M,k)}}),gn(S,"triggeredAfterMouseMove",function(k){var P=S.getMouseInfo(k),M=P?Qe(Qe({},P),{},{isTooltipActive:!0}):{isTooltipActive:!1};S.setState(M),S.triggerSyncEvent(M);var T=S.props.onMouseMove;mn(T)&&T(M,k)}),gn(S,"handleItemMouseEnter",function(k){S.setState(function(){return{isTooltipActive:!0,activeItem:k,activePayload:k.tooltipPayload,activeCoordinate:k.tooltipPosition||{x:k.cx,y:k.cy}}})}),gn(S,"handleItemMouseLeave",function(){S.setState(function(){return{isTooltipActive:!1}})}),gn(S,"handleMouseMove",function(k){k.persist(),S.throttleTriggeredAfterMouseMove(k)}),gn(S,"handleMouseLeave",function(k){S.throttleTriggeredAfterMouseMove.cancel();var P={isTooltipActive:!1};S.setState(P),S.triggerSyncEvent(P);var M=S.props.onMouseLeave;mn(M)&&M(P,k)}),gn(S,"handleOuterEvent",function(k){var P=t7e(k),M=cc(S.props,"".concat(P));if(P&&mn(M)){var T,R;/.*touch.*/i.test(P)?R=S.getMouseInfo(k.changedTouches[0]):R=S.getMouseInfo(k),M((T=R)!==null&&T!==void 0?T:{},k)}}),gn(S,"handleClick",function(k){var P=S.getMouseInfo(k);if(P){var M=Qe(Qe({},P),{},{isTooltipActive:!0});S.setState(M),S.triggerSyncEvent(M);var T=S.props.onClick;mn(T)&&T(M,k)}}),gn(S,"handleMouseDown",function(k){var P=S.props.onMouseDown;if(mn(P)){var M=S.getMouseInfo(k);P(M,k)}}),gn(S,"handleMouseUp",function(k){var P=S.props.onMouseUp;if(mn(P)){var M=S.getMouseInfo(k);P(M,k)}}),gn(S,"handleTouchMove",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&S.throttleTriggeredAfterMouseMove(k.changedTouches[0])}),gn(S,"handleTouchStart",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&S.handleMouseDown(k.changedTouches[0])}),gn(S,"handleTouchEnd",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&S.handleMouseUp(k.changedTouches[0])}),gn(S,"handleDoubleClick",function(k){var P=S.props.onDoubleClick;if(mn(P)){var M=S.getMouseInfo(k);P(M,k)}}),gn(S,"handleContextMenu",function(k){var P=S.props.onContextMenu;if(mn(P)){var M=S.getMouseInfo(k);P(M,k)}}),gn(S,"triggerSyncEvent",function(k){S.props.syncId!==void 0&&P4.emit(A4,S.props.syncId,k,S.eventEmitterSymbol)}),gn(S,"applySyncEvent",function(k){var P=S.props,M=P.layout,T=P.syncMethod,R=S.state.updateId,D=k.dataStartIndex,I=k.dataEndIndex;if(k.dataStartIndex!==void 0||k.dataEndIndex!==void 0)S.setState(Qe({dataStartIndex:D,dataEndIndex:I},h({props:S.props,dataStartIndex:D,dataEndIndex:I,updateId:R},S.state)));else if(k.activeTooltipIndex!==void 0){var B=k.chartX,$=k.chartY,K=k.activeTooltipIndex,Y=S.state,Q=Y.offset,H=Y.tooltipTicks;if(!Q)return;if(typeof T=="function")K=T(H,k);else if(T==="value"){K=-1;for(var G=0;G<H.length;G++)if(H[G].value===k.activeLabel){K=G;break}}var U=Qe(Qe({},Q),{},{x:Q.left,y:Q.top}),ee=Math.min(B,U.x+U.width),z=Math.min($,U.y+U.height),F=H[K]&&H[K].value,ie=xI(S.state,S.props.data,K),ce=H[K]?{x:M==="horizontal"?H[K].coordinate:ee,y:M==="horizontal"?z:H[K].coordinate}:Khe;S.setState(Qe(Qe({},k),{},{activeLabel:F,activeCoordinate:ce,activePayload:ie,activeTooltipIndex:K}))}else S.setState(k)}),gn(S,"renderCursor",function(k){var P,M=S.state,T=M.isTooltipActive,R=M.activeCoordinate,D=M.activePayload,I=M.offset,B=M.activeTooltipIndex,$=M.tooltipAxisBandSize,K=S.getTooltipEventType(),Y=(P=k.props.active)!==null&&P!==void 0?P:T,Q=S.props.layout,H=k.key||"_recharts-cursor";return E.createElement(Klt,{key:H,activeCoordinate:R,activePayload:D,activeTooltipIndex:B,chartName:n,element:k,isActive:Y,layout:Q,offset:I,tooltipAxisBandSize:$,tooltipEventType:K})}),gn(S,"renderPolarAxis",function(k,P,M){var T=cc(k,"type.axisType"),R=cc(S.state,"".concat(T,"Map")),D=k.type.defaultProps,I=D!==void 0?Qe(Qe({},D),k.props):k.props,B=R&&R[I["".concat(T,"Id")]];return b.cloneElement(k,Qe(Qe({},B),{},{className:In(T,B.className),key:k.key||"".concat(P,"-").concat(M),ticks:uh(B,!0)}))}),gn(S,"renderPolarGrid",function(k){var P=k.props,M=P.radialLines,T=P.polarAngles,R=P.polarRadius,D=S.state,I=D.radiusAxisMap,B=D.angleAxisMap,$=Lm(I),K=Lm(B),Y=K.cx,Q=K.cy,H=K.innerRadius,G=K.outerRadius;return b.cloneElement(k,{polarAngles:Array.isArray(T)?T:uh(K,!0).map(function(U){return U.coordinate}),polarRadius:Array.isArray(R)?R:uh($,!0).map(function(U){return U.coordinate}),cx:Y,cy:Q,innerRadius:H,outerRadius:G,key:k.key||"polar-grid",radialLines:M})}),gn(S,"renderLegend",function(){var k=S.state.formattedGraphicalItems,P=S.props,M=P.children,T=P.width,R=P.height,D=S.props.margin||{},I=T-(D.left||0)-(D.right||0),B=xfe({children:M,formattedGraphicalItems:k,legendWidth:I,legendContent:u});if(!B)return null;var $=B.item,K=aK(B,Glt);return b.cloneElement($,Qe(Qe({},K),{},{chartWidth:T,chartHeight:R,margin:D,onBBoxUpdate:S.handleLegendBBoxUpdate}))}),gn(S,"renderTooltip",function(){var k,P=S.props,M=P.children,T=P.accessibilityLayer,R=Wl(M,mr);if(!R)return null;var D=S.state,I=D.isTooltipActive,B=D.activeCoordinate,$=D.activePayload,K=D.activeLabel,Y=D.offset,Q=(k=R.props.active)!==null&&k!==void 0?k:I;return b.cloneElement(R,{viewBox:Qe(Qe({},Y),{},{x:Y.left,y:Y.top}),active:Q,label:K,payload:Q?$:[],coordinate:B,accessibilityLayer:T})}),gn(S,"renderBrush",function(k){var P=S.props,M=P.margin,T=P.data,R=S.state,D=R.offset,I=R.dataStartIndex,B=R.dataEndIndex,$=R.updateId;return b.cloneElement(k,{key:k.key||"_recharts-brush",onChange:u_(S.handleBrushChange,k.props.onChange),data:T,x:yt(k.props.x)?k.props.x:D.left,y:yt(k.props.y)?k.props.y:D.top+D.height+D.brushBottom-(M.bottom||0),width:yt(k.props.width)?k.props.width:D.width,startIndex:I,endIndex:B,updateId:"brush-".concat($)})}),gn(S,"renderReferenceElement",function(k,P,M){if(!k)return null;var T=S,R=T.clipPathId,D=S.state,I=D.xAxisMap,B=D.yAxisMap,$=D.offset,K=k.type.defaultProps||{},Y=k.props,Q=Y.xAxisId,H=Q===void 0?K.xAxisId:Q,G=Y.yAxisId,U=G===void 0?K.yAxisId:G;return b.cloneElement(k,{key:k.key||"".concat(P,"-").concat(M),xAxis:I[H],yAxis:B[U],viewBox:{x:$.left,y:$.top,width:$.width,height:$.height},clipPathId:R})}),gn(S,"renderActivePoints",function(k){var P=k.item,M=k.activePoint,T=k.basePoint,R=k.childIndex,D=k.isRange,I=[],B=P.props.key,$=P.item.type.defaultProps!==void 0?Qe(Qe({},P.item.type.defaultProps),P.item.props):P.item.props,K=$.activeDot,Y=$.dataKey,Q=Qe(Qe({index:R,dataKey:Y,cx:M.x,cy:M.y,r:4,fill:xF(P.item),strokeWidth:2,stroke:"#fff",payload:M.payload,value:M.value},Zt(K,!1)),S5(K));return I.push(x.renderActiveDot(K,Q,"".concat(B,"-activePoint-").concat(R))),T?I.push(x.renderActiveDot(K,Qe(Qe({},Q),{},{cx:T.x,cy:T.y}),"".concat(B,"-basePoint-").concat(R))):D&&I.push(null),I}),gn(S,"renderGraphicChild",function(k,P,M){var T=S.filterFormatItem(k,P,M);if(!T)return null;var R=S.getTooltipEventType(),D=S.state,I=D.isTooltipActive,B=D.tooltipAxis,$=D.activeTooltipIndex,K=D.activeLabel,Y=S.props.children,Q=Wl(Y,mr),H=T.props,G=H.points,U=H.isRange,ee=H.baseLine,z=T.item.type.defaultProps!==void 0?Qe(Qe({},T.item.type.defaultProps),T.item.props):T.item.props,F=z.activeDot,ie=z.hide,ce=z.activeBar,te=z.activeShape,oe=!!(!ie&&I&&Q&&(F||ce||te)),ve={};R!=="axis"&&Q&&Q.props.trigger==="click"?ve={onClick:u_(S.handleItemMouseEnter,k.props.onClick)}:R!=="axis"&&(ve={onMouseLeave:u_(S.handleItemMouseLeave,k.props.onMouseLeave),onMouseEnter:u_(S.handleItemMouseEnter,k.props.onMouseEnter)});var ne=b.cloneElement(k,Qe(Qe({},T.props),ve));function xe(_e){return typeof B.dataKey=="function"?B.dataKey(_e.payload):null}if(oe)if($>=0){var ue,re;if(B.dataKey&&!B.allowDuplicatedCategory){var Se=typeof B.dataKey=="function"?xe:"payload.".concat(B.dataKey.toString());ue=_5(G,Se,K),re=U&&ee&&_5(ee,Se,K)}else ue=G==null?void 0:G[$],re=U&&ee&&ee[$];if(te||ce){var ae=k.props.activeIndex!==void 0?k.props.activeIndex:$;return[b.cloneElement(k,Qe(Qe(Qe({},T.props),ve),{},{activeIndex:ae})),null,null]}if(!fn(ue))return[ne].concat(v0(S.renderActivePoints({item:T,activePoint:ue,basePoint:re,childIndex:$,isRange:U})))}else{var X,Ae=(X=S.getItemByXY(S.state.activeCoordinate))!==null&&X!==void 0?X:{graphicalItem:ne},qe=Ae.graphicalItem,tt=qe.item,ze=tt===void 0?k:tt,lt=qe.childIndex,me=Qe(Qe(Qe({},T.props),ve),{},{activeIndex:lt});return[b.cloneElement(ze,me),null,null]}return U?[ne,null,null]:[ne,null]}),gn(S,"renderCustomized",function(k,P,M){return b.cloneElement(k,Qe(Qe({key:"recharts-customized-".concat(M)},S.props),S.state))}),gn(S,"renderMap",{CartesianGrid:{handler:p_,once:!0},ReferenceArea:{handler:S.renderReferenceElement},ReferenceLine:{handler:p_},ReferenceDot:{handler:S.renderReferenceElement},XAxis:{handler:p_},YAxis:{handler:p_},Brush:{handler:S.renderBrush,once:!0},Bar:{handler:S.renderGraphicChild},Line:{handler:S.renderGraphicChild},Area:{handler:S.renderGraphicChild},Radar:{handler:S.renderGraphicChild},RadialBar:{handler:S.renderGraphicChild},Scatter:{handler:S.renderGraphicChild},Pie:{handler:S.renderGraphicChild},Funnel:{handler:S.renderGraphicChild},Tooltip:{handler:S.renderCursor,once:!0},PolarGrid:{handler:S.renderPolarGrid,once:!0},PolarAngleAxis:{handler:S.renderPolarAxis},PolarRadiusAxis:{handler:S.renderPolarAxis},Customized:{handler:S.renderCustomized}}),S.clipPathId="".concat((j=w.id)!==null&&j!==void 0?j:Lp("recharts"),"-clip"),S.throttleTriggeredAfterMouseMove=vde(S.triggeredAfterMouseMove,(_=w.throttleDelay)!==null&&_!==void 0?_:1e3/60),S.state={},S}return sct(x,v),nct(x,[{key:"componentDidMount",value:function(){var j,_;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(j=this.props.margin.left)!==null&&j!==void 0?j:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var j=this.props,_=j.children,S=j.data,k=j.height,P=j.layout,M=Wl(_,mr);if(M){var T=M.props.defaultIndex;if(!(typeof T!="number"||T<0||T>this.state.tooltipTicks.length-1)){var R=this.state.tooltipTicks[T]&&this.state.tooltipTicks[T].value,D=xI(this.state,S,T,R),I=this.state.tooltipTicks[T].coordinate,B=(this.state.offset.top+k)/2,$=P==="horizontal",K=$?{x:I,y:B}:{y:I,x:B},Y=this.state.formattedGraphicalItems.find(function(H){var G=H.item;return G.type.name==="Scatter"});Y&&(K=Qe(Qe({},K),Y.props.points[T].tooltipPosition),D=Y.props.points[T].tooltipPayload);var Q={activeTooltipIndex:T,isTooltipActive:!0,activeLabel:R,activePayload:D,activeCoordinate:K};this.setState(Q),this.renderCursor(M),this.accessibilityManager.setIndex(T)}}}},{key:"getSnapshotBeforeUpdate",value:function(j,_){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==_.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==j.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==j.margin){var S,k;this.accessibilityManager.setDetails({offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(k=this.props.margin.top)!==null&&k!==void 0?k:0}})}return null}},{key:"componentDidUpdate",value:function(j){UL([Wl(j.children,mr)],[Wl(this.props.children,mr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var j=Wl(this.props.children,mr);if(j&&typeof j.props.shared=="boolean"){var _=j.props.shared?"axis":"item";return l.indexOf(_)>=0?_:a}return a}},{key:"getMouseInfo",value:function(j){if(!this.container)return null;var _=this.container,S=_.getBoundingClientRect(),k=EGe(S),P={chartX:Math.round(j.pageX-k.left),chartY:Math.round(j.pageY-k.top)},M=S.width/_.offsetWidth||1,T=this.inRange(P.chartX,P.chartY,M);if(!T)return null;var R=this.state,D=R.xAxisMap,I=R.yAxisMap,B=this.getTooltipEventType(),$=oK(this.state,this.props.data,this.props.layout,T);if(B!=="axis"&&D&&I){var K=Lm(D).scale,Y=Lm(I).scale,Q=K&&K.invert?K.invert(P.chartX):null,H=Y&&Y.invert?Y.invert(P.chartY):null;return Qe(Qe({},P),{},{xValue:Q,yValue:H},$)}return $?Qe(Qe({},P),$):null}},{key:"inRange",value:function(j,_){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,k=this.props.layout,P=j/S,M=_/S;if(k==="horizontal"||k==="vertical"){var T=this.state.offset,R=P>=T.left&&P<=T.left+T.width&&M>=T.top&&M<=T.top+T.height;return R?{x:P,y:M}:null}var D=this.state,I=D.angleAxisMap,B=D.radiusAxisMap;if(I&&B){var $=Lm(I);return TW({x:P,y:M},$)}return null}},{key:"parseEventsOfWrapper",value:function(){var j=this.props.children,_=this.getTooltipEventType(),S=Wl(j,mr),k={};S&&_==="axis"&&(S.props.trigger==="click"?k={onClick:this.handleClick}:k={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var P=S5(this.props,this.handleOuterEvent);return Qe(Qe({},P),k)}},{key:"addListener",value:function(){P4.on(A4,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){P4.removeListener(A4,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(j,_,S){for(var k=this.state.formattedGraphicalItems,P=0,M=k.length;P<M;P++){var T=k[P];if(T.item===j||T.props.key===j.key||_===vh(T.item.type)&&S===T.childIndex)return T}return null}},{key:"renderClipPath",value:function(){var j=this.clipPathId,_=this.state.offset,S=_.left,k=_.top,P=_.height,M=_.width;return E.createElement("defs",null,E.createElement("clipPath",{id:j},E.createElement("rect",{x:S,y:k,height:P,width:M})))}},{key:"getXScales",value:function(){var j=this.state.xAxisMap;return j?Object.entries(j).reduce(function(_,S){var k=iK(S,2),P=k[0],M=k[1];return Qe(Qe({},_),{},gn({},P,M.scale))},{}):null}},{key:"getYScales",value:function(){var j=this.state.yAxisMap;return j?Object.entries(j).reduce(function(_,S){var k=iK(S,2),P=k[0],M=k[1];return Qe(Qe({},_),{},gn({},P,M.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(j){var _;return(_=this.state.xAxisMap)===null||_===void 0||(_=_[j])===null||_===void 0?void 0:_.scale}},{key:"getYScaleByAxisId",value:function(j){var _;return(_=this.state.yAxisMap)===null||_===void 0||(_=_[j])===null||_===void 0?void 0:_.scale}},{key:"getItemByXY",value:function(j){var _=this.state,S=_.formattedGraphicalItems,k=_.activeItem;if(S&&S.length)for(var P=0,M=S.length;P<M;P++){var T=S[P],R=T.props,D=T.item,I=D.type.defaultProps!==void 0?Qe(Qe({},D.type.defaultProps),D.props):D.props,B=vh(D.type);if(B==="Bar"){var $=(R.data||[]).find(function(H){return gnt(j,H)});if($)return{graphicalItem:T,payload:$}}else if(B==="RadialBar"){var K=(R.data||[]).find(function(H){return TW(j,H)});if(K)return{graphicalItem:T,payload:K}}else if(dP(T,k)||fP(T,k)||N2(T,k)){var Y=iit({graphicalItem:T,activeTooltipItem:k,itemData:I.data}),Q=I.activeIndex===void 0?Y:I.activeIndex;return{graphicalItem:Qe(Qe({},T),{},{childIndex:Q}),payload:N2(T,k)?I.data[Y]:T.props.data[Y]}}}return null}},{key:"render",value:function(){var j=this;if(!jq(this))return null;var _=this.props,S=_.children,k=_.className,P=_.width,M=_.height,T=_.style,R=_.compact,D=_.title,I=_.desc,B=aK(_,Ylt),$=Zt(B,!1);if(R)return E.createElement(DH,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},E.createElement(HL,Gx({},$,{width:P,height:M,title:D,desc:I}),this.renderClipPath(),_q(S,this.renderMap)));if(this.props.accessibilityLayer){var K,Y;$.tabIndex=(K=this.props.tabIndex)!==null&&K!==void 0?K:0,$.role=(Y=this.props.role)!==null&&Y!==void 0?Y:"application",$.onKeyDown=function(H){j.accessibilityManager.keyboardEvent(H)},$.onFocus=function(){j.accessibilityManager.focus()}}var Q=this.parseEventsOfWrapper();return E.createElement(DH,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},E.createElement("div",Gx({className:In("recharts-wrapper",k),style:Qe({position:"relative",cursor:"default",width:P,height:M},T)},Q,{ref:function(G){j.container=G}}),E.createElement(HL,Gx({},$,{width:P,height:M,title:D,desc:I,style:fct}),this.renderClipPath(),_q(S,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(b.Component);gn(g,"displayName",n),gn(g,"defaultProps",Qe({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),gn(g,"getDerivedStateFromProps",function(v,x){var w=v.dataKey,j=v.data,_=v.children,S=v.width,k=v.height,P=v.layout,M=v.stackOffset,T=v.margin,R=x.dataStartIndex,D=x.dataEndIndex;if(x.updateId===void 0){var I=lK(v);return Qe(Qe(Qe({},I),{},{updateId:0},h(Qe(Qe({props:v},I),{},{updateId:0}),x)),{},{prevDataKey:w,prevData:j,prevWidth:S,prevHeight:k,prevLayout:P,prevStackOffset:M,prevMargin:T,prevChildren:_})}if(w!==x.prevDataKey||j!==x.prevData||S!==x.prevWidth||k!==x.prevHeight||P!==x.prevLayout||M!==x.prevStackOffset||!cy(T,x.prevMargin)){var B=lK(v),$={chartX:x.chartX,chartY:x.chartY,isTooltipActive:x.isTooltipActive},K=Qe(Qe({},oK(x,j,P)),{},{updateId:x.updateId+1}),Y=Qe(Qe(Qe({},B),$),K);return Qe(Qe(Qe({},Y),h(Qe({props:v},Y),x)),{},{prevDataKey:w,prevData:j,prevWidth:S,prevHeight:k,prevLayout:P,prevStackOffset:M,prevMargin:T,prevChildren:_})}if(!UL(_,x.prevChildren)){var Q,H,G,U,ee=Wl(_,i0),z=ee&&(Q=(H=ee.props)===null||H===void 0?void 0:H.startIndex)!==null&&Q!==void 0?Q:R,F=ee&&(G=(U=ee.props)===null||U===void 0?void 0:U.endIndex)!==null&&G!==void 0?G:D,ie=z!==R||F!==D,ce=!fn(j),te=ce&&!ie?x.updateId:x.updateId+1;return Qe(Qe({updateId:te},h(Qe(Qe({props:v},x),{},{updateId:te,dataStartIndex:z,dataEndIndex:F}),x)),{},{prevChildren:_,dataStartIndex:z,dataEndIndex:F})}return null}),gn(g,"renderActiveDot",function(v,x,w){var j;return b.isValidElement(v)?j=b.cloneElement(v,x):mn(v)?j=v(x):j=E.createElement(hf,x),E.createElement(Kn,{className:"recharts-active-dot",key:w},j)});var y=b.forwardRef(function(x,w){return E.createElement(g,Gx({},x,{ref:w}))});return y.displayName=g.displayName,y},id=tb({chartName:"LineChart",GraphicalChild:oa,axisComponents:[{axisType:"xAxis",AxisComp:vr},{axisType:"yAxis",AxisComp:dr}],formatAxisMap:$j}),dc=tb({chartName:"BarChart",GraphicalChild:Yi,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:vr},{axisType:"yAxis",AxisComp:dr}],formatAxisMap:$j}),PF=tb({chartName:"PieChart",GraphicalChild:hd,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:uP},{axisType:"radiusAxis",AxisComp:lP}],formatAxisMap:_Je,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),jct=tb({chartName:"ScatterChart",GraphicalChild:eb,defaultTooltipEventType:"item",validateTooltipEventTypes:["item"],axisComponents:[{axisType:"xAxis",AxisComp:vr},{axisType:"yAxis",AxisComp:dr},{axisType:"zAxis",AxisComp:J0}],formatAxisMap:$j}),AF=tb({chartName:"AreaChart",GraphicalChild:md,axisComponents:[{axisType:"xAxis",AxisComp:vr},{axisType:"yAxis",AxisComp:dr}],formatAxisMap:$j}),Yhe=tb({chartName:"ComposedChart",GraphicalChild:[oa,md,Yi,eb],axisComponents:[{axisType:"xAxis",AxisComp:vr},{axisType:"yAxis",AxisComp:dr},{axisType:"zAxis",AxisComp:J0}],formatAxisMap:$j});function uK(e){return new Intl.DateTimeFormat("es-ES",{year:"numeric",month:"long",day:"numeric"}).format(e)}function Pk(e){if(e==null)return NaN;if(typeof e=="number")return e;const t=e.replace(/[^\d.-]/g,"");return parseFloat(t)}const Nct=["das de cobro","das de pago","tiempo de entrega","tiempo promedio","tiempo de respuesta","tiempo de ciclo","das de inventario","rotacin de inventario","defectos","errores","quejas","devoluciones","huella de carbono","costos","gastos"];function Xhe(e){const t=e.toLowerCase();return Nct.some(n=>t.includes(n))}function _ct(e,t,n){const r=Pk(e),i=Pk(t);if(isNaN(r)||isNaN(i))return e!=null&&e!==""?"alert":"not_compliant";if(i===0)return r===0?"complies":"alert";const a=Xhe(n),o=.9;return a?r<=i?"complies":r<=i*(1+(1-o))?"alert":"not_compliant":r>=i?"complies":r>=i*o?"alert":"not_compliant"}function Sct(e,t,n){const r=Pk(e),i=Pk(t);if(isNaN(r)||isNaN(i))return"0.0%";const a=Xhe(n);let o;return a?r===0?o=i>0?200:0:o=i/r*100:i===0?o=r>0?100:0:o=r/i*100,`${o.toFixed(1)}%`}function kct(e,t,n){return _ct(e,t,n)}function Cct(e,t,n){return Sct(e,t,n)}function Ect(e){const t=typeof e=="string"?new Date(e):e,n=String(t.getDate()).padStart(2,"0"),r=String(t.getMonth()+1).padStart(2,"0"),i=t.getFullYear(),a=String(t.getHours()).padStart(2,"0"),o=String(t.getMinutes()).padStart(2,"0");return`${n}/${r}/${i} ${a}:${o}`}const Pct=({kpiValues:e,title:t,isInverted:n=!1,unit:r="",target:i="0"})=>{const a=b.useMemo(()=>[...e].sort((c,u)=>{const d=c.date?new Date(c.date).getTime():0,f=u.date?new Date(u.date).getTime():0;return d-f}).map(c=>{let u=parseFloat(c.value.replace(/[^\d.-]/g,""));return{fecha:c.date?Ect(c.date):"Fecha no disponible",valor:u,period:c.period,original:c.value}}),[e]),o=parseFloat(i.replace(/[^\d.-]/g,""));return s.jsxs(Ue,{className:"w-full h-full shadow-md",children:[s.jsxs(Vt,{children:[s.jsx("h3",{className:"text-lg font-bold",children:t}),s.jsx("p",{className:"text-sm text-gray-500",children:"Tendencia histrica"})]}),s.jsx(We,{children:a.length>1?s.jsx(kr,{width:"100%",height:300,children:s.jsxs(id,{data:a,margin:{top:20,right:20,left:20,bottom:60},children:[s.jsx("defs",{children:s.jsxs("linearGradient",{id:"kpiValueGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[s.jsx("stop",{offset:"5%",stopColor:"hsl(var(--chart-1))",stopOpacity:.3}),s.jsx("stop",{offset:"95%",stopColor:"hsl(var(--chart-1))",stopOpacity:0})]})}),s.jsx(sa,{strokeDasharray:"3 3",stroke:"hsl(var(--chart-grid))",opacity:.3}),s.jsx(vr,{dataKey:"fecha",tick:{fontSize:11,fill:"hsl(var(--muted-foreground))"},axisLine:{stroke:"hsl(var(--chart-axis))",opacity:.5},tickLine:!1,angle:-45,textAnchor:"end",height:70}),s.jsx(dr,{tick:{fontSize:11,fill:"hsl(var(--muted-foreground))"},axisLine:{stroke:"hsl(var(--chart-axis))",opacity:.5},tickLine:!1}),s.jsx(mr,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px",fontSize:"12px",padding:"8px 12px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.3)",color:"hsl(var(--foreground))"},formatter:(l,c)=>{const u=a.find(d=>d.valor===l);return[(u==null?void 0:u.original)||l,"Valor"]}}),s.jsx(Ka,{wrapperStyle:{paddingTop:"20px"},iconType:"line"}),s.jsx(oa,{type:"monotone",dataKey:"valor",name:"Valor",stroke:"hsl(var(--chart-1))",activeDot:{r:6,fill:"hsl(var(--chart-1))",stroke:"hsl(var(--card))",strokeWidth:2},strokeWidth:3,dot:!1}),s.jsx(oa,{type:"monotone",dataKey:()=>o,name:"Objetivo",stroke:"#10b981",strokeDasharray:"5 5",strokeWidth:2,strokeOpacity:.6,dot:!1})]})}):s.jsx("div",{className:"flex items-center justify-center h-[300px] text-gray-500",children:a.length===0?"No hay datos histricos disponibles":"Se necesitan al menos dos puntos para mostrar la tendencia"})})]})};var Fj=e=>e.type==="checkbox",Vg=e=>e instanceof Date,ml=e=>e==null;const Zhe=e=>typeof e=="object";var Ya=e=>!ml(e)&&!Array.isArray(e)&&Zhe(e)&&!Vg(e),Qhe=e=>Ya(e)&&e.target?Fj(e.target)?e.target.checked:e.target.value:e,Act=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,Jhe=(e,t)=>e.has(Act(t)),Tct=e=>{const t=e.constructor&&e.constructor.prototype;return Ya(t)&&t.hasOwnProperty("isPrototypeOf")},TF=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function ss(e){if(e instanceof Date)return new Date(e);const t=typeof FileList<"u"&&e instanceof FileList;if(TF&&(e instanceof Blob||t))return e;const n=Array.isArray(e);if(!n&&!(Ya(e)&&Tct(e)))return e;const r=n?[]:Object.create(Object.getPrototypeOf(e));for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=ss(e[i]));return r}var yP=e=>/^\w*$/.test(e),ya=e=>e===void 0,OF=e=>Array.isArray(e)?e.filter(Boolean):[],LF=e=>OF(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Ot=(e,t,n)=>{if(!t||!Ya(e))return n;const r=(yP(t)?[t]:LF(t)).reduce((i,a)=>ml(i)?i:i[a],e);return ya(r)||r===e?ya(e[t])?n:e[t]:r},Hl=e=>typeof e=="boolean",Mo=e=>typeof e=="function",Xr=(e,t,n)=>{let r=-1;const i=yP(t)?[t]:LF(t),a=i.length,o=a-1;for(;++r<a;){const l=i[r];let c=n;if(r!==o){const u=e[l];c=Ya(u)||Array.isArray(u)?u:isNaN(+i[r+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const Ak={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Wu={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},qf={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},MF=E.createContext(null);MF.displayName="HookFormContext";const bP=()=>E.useContext(MF),Oct=e=>{const{children:t,...n}=e;return E.createElement(MF.Provider,{value:n},t)};var eme=(e,t,n,r=!0)=>{const i={defaultValues:t._defaultValues};for(const a in e)Object.defineProperty(i,a,{get:()=>{const o=a;return t._proxyFormState[o]!==Wu.all&&(t._proxyFormState[o]=!r||Wu.all),n&&(n[o]=!0),e[o]}});return i};const IF=typeof window<"u"?E.useLayoutEffect:E.useEffect;function Lct(e){const t=bP(),{control:n=t.control,disabled:r,name:i,exact:a}=e||{},[o,l]=E.useState(n._formState),c=E.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return IF(()=>n._subscribe({name:i,formState:c.current,exact:a,callback:u=>{!r&&l({...n._formState,...u})}}),[i,r,a]),E.useEffect(()=>{c.current.isValid&&n._setValid(!0)},[n]),E.useMemo(()=>eme(o,n,c.current,!1),[o,n])}var Yl=e=>typeof e=="string",yI=(e,t,n,r,i)=>Yl(e)?(r&&t.watch.add(e),Ot(n,e,i)):Array.isArray(e)?e.map(a=>(r&&t.watch.add(a),Ot(n,a))):(r&&(t.watchAll=!0),n),bI=e=>ml(e)||!Zhe(e);function Hu(e,t,n=new WeakSet){if(bI(e)||bI(t))return Object.is(e,t);if(Vg(e)&&Vg(t))return e.getTime()===t.getTime();const r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;if(n.has(e)||n.has(t))return!0;n.add(e),n.add(t);for(const a of r){const o=e[a];if(!i.includes(a))return!1;if(a!=="ref"){const l=t[a];if(Vg(o)&&Vg(l)||Ya(o)&&Ya(l)||Array.isArray(o)&&Array.isArray(l)?!Hu(o,l,n):!Object.is(o,l))return!1}}return!0}function Mct(e){const t=bP(),{control:n=t.control,name:r,defaultValue:i,disabled:a,exact:o,compute:l}=e||{},c=E.useRef(i),u=E.useRef(l),d=E.useRef(void 0),f=E.useRef(n),m=E.useRef(r);u.current=l;const[h,g]=E.useState(()=>{const _=n._getWatch(r,c.current);return u.current?u.current(_):_}),y=E.useCallback(_=>{const S=yI(r,n._names,_||n._formValues,!1,c.current);return u.current?u.current(S):S},[n._formValues,n._names,r]),v=E.useCallback(_=>{if(!a){const S=yI(r,n._names,_||n._formValues,!1,c.current);if(u.current){const k=u.current(S);Hu(k,d.current)||(g(k),d.current=k)}else g(S)}},[n._formValues,n._names,a,r]);IF(()=>((f.current!==n||!Hu(m.current,r))&&(f.current=n,m.current=r,v()),n._subscribe({name:r,formState:{values:!0},exact:o,callback:_=>{v(_.values)}})),[n,o,r,v]),E.useEffect(()=>n._removeUnmounted());const x=f.current!==n,w=m.current,j=E.useMemo(()=>{if(a)return null;const _=!x&&!Hu(w,r);return x||_?y():null},[a,x,r,w,y]);return j!==null?j:h}function Ict(e){const t=bP(),{name:n,disabled:r,control:i=t.control,shouldUnregister:a,defaultValue:o,exact:l=!0}=e,c=Jhe(i._names.array,n),u=E.useMemo(()=>Ot(i._formValues,n,Ot(i._defaultValues,n,o)),[i,n,o]),d=Mct({control:i,name:n,defaultValue:u,exact:l}),f=Lct({control:i,name:n,exact:l}),m=E.useRef(e),h=E.useRef(void 0),g=E.useRef(i.register(n,{...e.rules,value:d,...Hl(e.disabled)?{disabled:e.disabled}:{}}));m.current=e;const y=E.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Ot(f.errors,n)},isDirty:{enumerable:!0,get:()=>!!Ot(f.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!Ot(f.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!Ot(f.validatingFields,n)},error:{enumerable:!0,get:()=>Ot(f.errors,n)}}),[f,n]),v=E.useCallback(_=>g.current.onChange({target:{value:Qhe(_),name:n},type:Ak.CHANGE}),[n]),x=E.useCallback(()=>g.current.onBlur({target:{value:Ot(i._formValues,n),name:n},type:Ak.BLUR}),[n,i._formValues]),w=E.useCallback(_=>{const S=Ot(i._fields,n);S&&S._f&&_&&(S._f.ref={focus:()=>Mo(_.focus)&&_.focus(),select:()=>Mo(_.select)&&_.select(),setCustomValidity:k=>Mo(_.setCustomValidity)&&_.setCustomValidity(k),reportValidity:()=>Mo(_.reportValidity)&&_.reportValidity()})},[i._fields,n]),j=E.useMemo(()=>({name:n,value:d,...Hl(r)||f.disabled?{disabled:f.disabled||r}:{},onChange:v,onBlur:x,ref:w}),[n,r,f.disabled,v,x,w,d]);return E.useEffect(()=>{const _=i._options.shouldUnregister||a,S=h.current;S&&S!==n&&!c&&i.unregister(S),i.register(n,{...m.current.rules,...Hl(m.current.disabled)?{disabled:m.current.disabled}:{}});const k=(P,M)=>{const T=Ot(i._fields,P);T&&T._f&&(T._f.mount=M)};if(k(n,!0),_){const P=ss(Ot(i._options.defaultValues,n,m.current.defaultValue));Xr(i._defaultValues,n,P),ya(Ot(i._formValues,n))&&Xr(i._formValues,n,P)}return!c&&i.register(n),h.current=n,()=>{(c?_&&!i._state.action:_)?i.unregister(n):k(n,!1)}},[n,i,c,a]),E.useEffect(()=>{i._setDisabledField({disabled:r,name:n})},[r,n,i]),E.useMemo(()=>({field:j,formState:f,fieldState:y}),[j,f,y])}const Dct=e=>e.render(Ict(e));var tme=(e,t,n,r,i)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:i||!0}}:{},X1=e=>Array.isArray(e)?e:[e],dK=()=>{let e=[];return{get observers(){return e},next:i=>{for(const a of e)a.next&&a.next(i)},subscribe:i=>(e.push(i),{unsubscribe:()=>{e=e.filter(a=>a!==i)}}),unsubscribe:()=>{e=[]}}};function nme(e,t){const n={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r],a=t[r];if(i&&Ya(i)&&a){const o=nme(i,a);Ya(o)&&(n[r]=o)}else e[r]&&(n[r]=a)}return n}var Po=e=>Ya(e)&&!Object.keys(e).length,DF=e=>e.type==="file",Tk=e=>{if(!TF)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},rme=e=>e.type==="select-multiple",RF=e=>e.type==="radio",Rct=e=>RF(e)||Fj(e),O4=e=>Tk(e)&&e.isConnected;function $ct(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=ya(e)?r++:e[t[r++]];return e}function Fct(e){for(const t in e)if(e.hasOwnProperty(t)&&!ya(e[t]))return!1;return!0}function za(e,t){const n=Array.isArray(t)?t:yP(t)?[t]:LF(t),r=n.length===1?e:$ct(e,n),i=n.length-1,a=n[i];return r&&delete r[a],i!==0&&(Ya(r)&&Po(r)||Array.isArray(r)&&Fct(r))&&za(e,n.slice(0,-1)),e}var Bct=e=>{for(const t in e)if(Mo(e[t]))return!0;return!1};function ime(e){return Array.isArray(e)||Ya(e)&&!Bct(e)}function wI(e,t={}){for(const n in e){const r=e[n];ime(r)?(t[n]=Array.isArray(r)?[]:{},wI(r,t[n])):ya(r)||(t[n]=!0)}return t}function yx(e,t,n){n||(n=wI(t));for(const r in e){const i=e[r];if(ime(i))ya(t)||bI(n[r])?n[r]=wI(i,Array.isArray(i)?[]:{}):yx(i,ml(t)?{}:t[r],n[r]);else{const a=t[r];n[r]=!Hu(i,a)}}return n}const fK={value:!1,isValid:!1},hK={value:!0,isValid:!0};var ame=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!ya(e[0].attributes.value)?ya(e[0].value)||e[0].value===""?hK:{value:e[0].value,isValid:!0}:hK:fK}return fK},sme=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:r})=>ya(e)?e:t?e===""?NaN:e&&+e:n&&Yl(e)?new Date(e):r?r(e):e;const mK={isValid:!1,value:null};var ome=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,mK):mK;function pK(e){const t=e.ref;return DF(t)?t.files:RF(t)?ome(e.refs).value:rme(t)?[...t.selectedOptions].map(({value:n})=>n):Fj(t)?ame(e.refs).value:sme(ya(t.value)?e.ref.value:t.value,e)}var zct=(e,t,n,r)=>{const i={};for(const a of e){const o=Ot(t,a);o&&Xr(i,a,o._f)}return{criteriaMode:n,names:[...e],fields:i,shouldUseNativeValidation:r}},Ok=e=>e instanceof RegExp,n1=e=>ya(e)?e:Ok(e)?e.source:Ya(e)?Ok(e.value)?e.value.source:e.value:e,gK=e=>({isOnSubmit:!e||e===Wu.onSubmit,isOnBlur:e===Wu.onBlur,isOnChange:e===Wu.onChange,isOnAll:e===Wu.all,isOnTouch:e===Wu.onTouched});const vK="AsyncFunction";var Vct=e=>!!e&&!!e.validate&&!!(Mo(e.validate)&&e.validate.constructor.name===vK||Ya(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===vK)),qct=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),xK=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length))));const Z1=(e,t,n,r)=>{for(const i of n||Object.keys(e)){const a=Ot(e,i);if(a){const{_f:o,...l}=a;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],i)&&!r)return!0;if(o.ref&&t(o.ref,o.name)&&!r)return!0;if(Z1(l,t))break}else if(Ya(l)&&Z1(l,t))break}}};function yK(e,t,n){const r=Ot(e,n);if(r||yP(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const a=i.join("."),o=Ot(t,a),l=Ot(e,a);if(o&&!Array.isArray(o)&&n!==a)return{name:n};if(l&&l.type)return{name:a,error:l};if(l&&l.root&&l.root.type)return{name:`${a}.root`,error:l.root};i.pop()}return{name:n}}var Uct=(e,t,n,r)=>{n(e);const{name:i,...a}=e;return Po(a)||Object.keys(a).length>=Object.keys(t).length||Object.keys(a).find(o=>t[o]===(!r||Wu.all))},Wct=(e,t,n)=>!e||!t||e===t||X1(e).some(r=>r&&(n?r===t:r.startsWith(t)||t.startsWith(r))),Hct=(e,t,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(t||e):(n?r.isOnBlur:i.isOnBlur)?!e:(n?r.isOnChange:i.isOnChange)?e:!0,Kct=(e,t)=>!OF(Ot(e,t)).length&&za(e,t),Gct=(e,t,n)=>{const r=X1(Ot(e,n));return Xr(r,"root",t[n]),Xr(e,n,r),e};function bK(e,t,n="validate"){if(Yl(e)||Array.isArray(e)&&e.every(Yl)||Hl(e)&&!e)return{type:n,message:Yl(e)?e:"",ref:t}}var ux=e=>Ya(e)&&!Ok(e)?e:{value:e,message:""},wK=async(e,t,n,r,i,a)=>{const{ref:o,refs:l,required:c,maxLength:u,minLength:d,min:f,max:m,pattern:h,validate:g,name:y,valueAsNumber:v,mount:x}=e._f,w=Ot(n,y);if(!x||t.has(y))return{};const j=l?l[0]:o,_=I=>{i&&j.reportValidity&&(j.setCustomValidity(Hl(I)?"":I||""),j.reportValidity())},S={},k=RF(o),P=Fj(o),M=k||P,T=(v||DF(o))&&ya(o.value)&&ya(w)||Tk(o)&&o.value===""||w===""||Array.isArray(w)&&!w.length,R=tme.bind(null,y,r,S),D=(I,B,$,K=qf.maxLength,Y=qf.minLength)=>{const Q=I?B:$;S[y]={type:I?K:Y,message:Q,ref:o,...R(I?K:Y,Q)}};if(a?!Array.isArray(w)||!w.length:c&&(!M&&(T||ml(w))||Hl(w)&&!w||P&&!ame(l).isValid||k&&!ome(l).isValid)){const{value:I,message:B}=Yl(c)?{value:!!c,message:c}:ux(c);if(I&&(S[y]={type:qf.required,message:B,ref:j,...R(qf.required,B)},!r))return _(B),S}if(!T&&(!ml(f)||!ml(m))){let I,B;const $=ux(m),K=ux(f);if(!ml(w)&&!isNaN(w)){const Y=o.valueAsNumber||w&&+w;ml($.value)||(I=Y>$.value),ml(K.value)||(B=Y<K.value)}else{const Y=o.valueAsDate||new Date(w),Q=U=>new Date(new Date().toDateString()+" "+U),H=o.type=="time",G=o.type=="week";Yl($.value)&&w&&(I=H?Q(w)>Q($.value):G?w>$.value:Y>new Date($.value)),Yl(K.value)&&w&&(B=H?Q(w)<Q(K.value):G?w<K.value:Y<new Date(K.value))}if((I||B)&&(D(!!I,$.message,K.message,qf.max,qf.min),!r))return _(S[y].message),S}if((u||d)&&!T&&(Yl(w)||a&&Array.isArray(w))){const I=ux(u),B=ux(d),$=!ml(I.value)&&w.length>+I.value,K=!ml(B.value)&&w.length<+B.value;if(($||K)&&(D($,I.message,B.message),!r))return _(S[y].message),S}if(h&&!T&&Yl(w)){const{value:I,message:B}=ux(h);if(Ok(I)&&!w.match(I)&&(S[y]={type:qf.pattern,message:B,ref:o,...R(qf.pattern,B)},!r))return _(B),S}if(g){if(Mo(g)){const I=await g(w,n),B=bK(I,j);if(B&&(S[y]={...B,...R(qf.validate,B.message)},!r))return _(B.message),S}else if(Ya(g)){let I={};for(const B in g){if(!Po(I)&&!r)break;const $=bK(await g[B](w,n),j,B);$&&(I={...$,...R(B,$.message)},_($.message),r&&(S[y]=I))}if(!Po(I)&&(S[y]={ref:j,...I},!r))return S}}return _(!0),S};const Yct={mode:Wu.onSubmit,reValidateMode:Wu.onChange,shouldFocusError:!0};function Xct(e={}){let t={...Yct,...e},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:Mo(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},r={},i=Ya(t.defaultValues)||Ya(t.values)?ss(t.defaultValues||t.values)||{}:{},a=t.shouldUnregister?{}:ss(i),o={action:!1,mount:!1,watch:!1,keepIsValid:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},f={...d};let m={...f};const h={array:dK(),state:dK()},g=t.criteriaMode===Wu.all,y=me=>_e=>{clearTimeout(u),u=setTimeout(me,_e)},v=async me=>{if(!o.keepIsValid&&!t.disabled&&(f.isValid||m.isValid||me)){let _e;t.resolver?(_e=Po((await M()).errors),x()):_e=await R(r,!0),_e!==n.isValid&&h.state.next({isValid:_e})}},x=(me,_e)=>{!t.disabled&&(f.isValidating||f.validatingFields||m.isValidating||m.validatingFields)&&((me||Array.from(l.mount)).forEach(Ce=>{Ce&&(_e?Xr(n.validatingFields,Ce,_e):za(n.validatingFields,Ce))}),h.state.next({validatingFields:n.validatingFields,isValidating:!Po(n.validatingFields)}))},w=(me,_e=[],Ce,Xe,He=!0,we=!0)=>{if(Xe&&Ce&&!t.disabled){if(o.action=!0,we&&Array.isArray(Ot(r,me))){const Me=Ce(Ot(r,me),Xe.argA,Xe.argB);He&&Xr(r,me,Me)}if(we&&Array.isArray(Ot(n.errors,me))){const Me=Ce(Ot(n.errors,me),Xe.argA,Xe.argB);He&&Xr(n.errors,me,Me),Kct(n.errors,me)}if((f.touchedFields||m.touchedFields)&&we&&Array.isArray(Ot(n.touchedFields,me))){const Me=Ce(Ot(n.touchedFields,me),Xe.argA,Xe.argB);He&&Xr(n.touchedFields,me,Me)}(f.dirtyFields||m.dirtyFields)&&(n.dirtyFields=yx(i,a)),h.state.next({name:me,isDirty:I(me,_e),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Xr(a,me,_e)},j=(me,_e)=>{Xr(n.errors,me,_e),h.state.next({errors:n.errors})},_=me=>{n.errors=me,h.state.next({errors:n.errors,isValid:!1})},S=(me,_e,Ce,Xe)=>{const He=Ot(r,me);if(He){const we=Ot(a,me,ya(Ce)?Ot(i,me):Ce);ya(we)||Xe&&Xe.defaultChecked||_e?Xr(a,me,_e?we:pK(He._f)):K(me,we),o.mount&&!o.action&&v()}},k=(me,_e,Ce,Xe,He)=>{let we=!1,Me=!1;const et={name:me};if(!t.disabled){if(!Ce||Xe){(f.isDirty||m.isDirty)&&(Me=n.isDirty,n.isDirty=et.isDirty=I(),we=Me!==et.isDirty);const Ge=Hu(Ot(i,me),_e);Me=!!Ot(n.dirtyFields,me),Ge?za(n.dirtyFields,me):Xr(n.dirtyFields,me,!0),et.dirtyFields=n.dirtyFields,we=we||(f.dirtyFields||m.dirtyFields)&&Me!==!Ge}if(Ce){const Ge=Ot(n.touchedFields,me);Ge||(Xr(n.touchedFields,me,Ce),et.touchedFields=n.touchedFields,we=we||(f.touchedFields||m.touchedFields)&&Ge!==Ce)}we&&He&&h.state.next(et)}return we?et:{}},P=(me,_e,Ce,Xe)=>{const He=Ot(n.errors,me),we=(f.isValid||m.isValid)&&Hl(_e)&&n.isValid!==_e;if(t.delayError&&Ce?(c=y(()=>j(me,Ce)),c(t.delayError)):(clearTimeout(u),c=null,Ce?Xr(n.errors,me,Ce):za(n.errors,me)),(Ce?!Hu(He,Ce):He)||!Po(Xe)||we){const Me={...Xe,...we&&Hl(_e)?{isValid:_e}:{},errors:n.errors,name:me};n={...n,...Me},h.state.next(Me)}},M=async me=>(x(me,!0),await t.resolver(a,t.context,zct(me||l.mount,r,t.criteriaMode,t.shouldUseNativeValidation))),T=async me=>{const{errors:_e}=await M(me);if(x(me),me)for(const Ce of me){const Xe=Ot(_e,Ce);Xe?Xr(n.errors,Ce,Xe):za(n.errors,Ce)}else n.errors=_e;return _e},R=async(me,_e,Ce={valid:!0})=>{for(const Xe in me){const He=me[Xe];if(He){const{_f:we,...Me}=He;if(we){const et=l.array.has(we.name),Ge=He._f&&Vct(He._f);Ge&&f.validatingFields&&x([we.name],!0);const wt=await wK(He,l.disabled,a,g,t.shouldUseNativeValidation&&!_e,et);if(Ge&&f.validatingFields&&x([we.name]),wt[we.name]&&(Ce.valid=!1,_e))break;!_e&&(Ot(wt,we.name)?et?Gct(n.errors,wt,we.name):Xr(n.errors,we.name,wt[we.name]):za(n.errors,we.name))}!Po(Me)&&await R(Me,_e,Ce)}}return Ce.valid},D=()=>{for(const me of l.unMount){const _e=Ot(r,me);_e&&(_e._f.refs?_e._f.refs.every(Ce=>!O4(Ce)):!O4(_e._f.ref))&&ve(me)}l.unMount=new Set},I=(me,_e)=>!t.disabled&&(me&&_e&&Xr(a,me,_e),!Hu(ee(),i)),B=(me,_e,Ce)=>yI(me,l,{...o.mount?a:ya(_e)?i:Yl(me)?{[me]:_e}:_e},Ce,_e),$=me=>OF(Ot(o.mount?a:i,me,t.shouldUnregister?Ot(i,me,[]):[])),K=(me,_e,Ce={})=>{const Xe=Ot(r,me);let He=_e;if(Xe){const we=Xe._f;we&&(!we.disabled&&Xr(a,me,sme(_e,we)),He=Tk(we.ref)&&ml(_e)?"":_e,rme(we.ref)?[...we.ref.options].forEach(Me=>Me.selected=He.includes(Me.value)):we.refs?Fj(we.ref)?we.refs.forEach(Me=>{(!Me.defaultChecked||!Me.disabled)&&(Array.isArray(He)?Me.checked=!!He.find(et=>et===Me.value):Me.checked=He===Me.value||!!He)}):we.refs.forEach(Me=>Me.checked=Me.value===He):DF(we.ref)?we.ref.value="":(we.ref.value=He,we.ref.type||h.state.next({name:me,values:ss(a)})))}(Ce.shouldDirty||Ce.shouldTouch)&&k(me,He,Ce.shouldTouch,Ce.shouldDirty,!0),Ce.shouldValidate&&U(me)},Y=(me,_e,Ce)=>{for(const Xe in _e){if(!_e.hasOwnProperty(Xe))return;const He=_e[Xe],we=me+"."+Xe,Me=Ot(r,we);(l.array.has(me)||Ya(He)||Me&&!Me._f)&&!Vg(He)?Y(we,He,Ce):K(we,He,Ce)}},Q=(me,_e,Ce={})=>{const Xe=Ot(r,me),He=l.array.has(me),we=ss(_e);Xr(a,me,we),He?(h.array.next({name:me,values:ss(a)}),(f.isDirty||f.dirtyFields||m.isDirty||m.dirtyFields)&&Ce.shouldDirty&&h.state.next({name:me,dirtyFields:yx(i,a),isDirty:I(me,we)})):Xe&&!Xe._f&&!ml(we)?Y(me,we,Ce):K(me,we,Ce),xK(me,l)&&h.state.next({...n,name:me}),h.state.next({name:o.mount?me:void 0,values:ss(a)})},H=async me=>{o.mount=!0;const _e=me.target;let Ce=_e.name,Xe=!0;const He=Ot(r,Ce),we=Ge=>{Xe=Number.isNaN(Ge)||Vg(Ge)&&isNaN(Ge.getTime())||Hu(Ge,Ot(a,Ce,Ge))},Me=gK(t.mode),et=gK(t.reValidateMode);if(He){let Ge,wt;const kt=_e.type?pK(He._f):Qhe(me),Bn=me.type===Ak.BLUR||me.type===Ak.FOCUS_OUT,pn=!qct(He._f)&&!t.resolver&&!Ot(n.errors,Ce)&&!He._f.deps||Hct(Bn,Ot(n.touchedFields,Ce),n.isSubmitted,et,Me),cn=xK(Ce,l,Bn);Xr(a,Ce,kt),Bn?(!_e||!_e.readOnly)&&(He._f.onBlur&&He._f.onBlur(me),c&&c(0)):He._f.onChange&&He._f.onChange(me);const on=k(Ce,kt,Bn),Dn=!Po(on)||cn;if(!Bn&&h.state.next({name:Ce,type:me.type,values:ss(a)}),pn)return(f.isValid||m.isValid)&&(t.mode==="onBlur"?Bn&&v():Bn||v()),Dn&&h.state.next({name:Ce,...cn?{}:on});if(!Bn&&cn&&h.state.next({...n}),t.resolver){const{errors:Rt}=await M([Ce]);if(x([Ce]),we(kt),Xe){const zn=yK(n.errors,r,Ce),ln=yK(Rt,r,zn.name||Ce);Ge=ln.error,Ce=ln.name,wt=Po(Rt)}}else x([Ce],!0),Ge=(await wK(He,l.disabled,a,g,t.shouldUseNativeValidation))[Ce],x([Ce]),we(kt),Xe&&(Ge?wt=!1:(f.isValid||m.isValid)&&(wt=await R(r,!0)));Xe&&(He._f.deps&&(!Array.isArray(He._f.deps)||He._f.deps.length>0)&&U(He._f.deps),P(Ce,wt,Ge,on))}},G=(me,_e)=>{if(Ot(n.errors,_e)&&me.focus)return me.focus(),1},U=async(me,_e={})=>{let Ce,Xe;const He=X1(me);if(t.resolver){const we=await T(ya(me)?me:He);Ce=Po(we),Xe=me?!He.some(Me=>Ot(we,Me)):Ce}else me?(Xe=(await Promise.all(He.map(async we=>{const Me=Ot(r,we);return await R(Me&&Me._f?{[we]:Me}:Me)}))).every(Boolean),!(!Xe&&!n.isValid)&&v()):Xe=Ce=await R(r);return h.state.next({...!Yl(me)||(f.isValid||m.isValid)&&Ce!==n.isValid?{}:{name:me},...t.resolver||!me?{isValid:Ce}:{},errors:n.errors}),_e.shouldFocus&&!Xe&&Z1(r,G,me?He:l.mount),Xe},ee=(me,_e)=>{let Ce={...o.mount?a:i};return _e&&(Ce=nme(_e.dirtyFields?n.dirtyFields:n.touchedFields,Ce)),ya(me)?Ce:Yl(me)?Ot(Ce,me):me.map(Xe=>Ot(Ce,Xe))},z=(me,_e)=>({invalid:!!Ot((_e||n).errors,me),isDirty:!!Ot((_e||n).dirtyFields,me),error:Ot((_e||n).errors,me),isValidating:!!Ot(n.validatingFields,me),isTouched:!!Ot((_e||n).touchedFields,me)}),F=me=>{me&&X1(me).forEach(_e=>za(n.errors,_e)),h.state.next({errors:me?n.errors:{}})},ie=(me,_e,Ce)=>{const Xe=(Ot(r,me,{_f:{}})._f||{}).ref,He=Ot(n.errors,me)||{},{ref:we,message:Me,type:et,...Ge}=He;Xr(n.errors,me,{...Ge,..._e,ref:Xe}),h.state.next({name:me,errors:n.errors,isValid:!1}),Ce&&Ce.shouldFocus&&Xe&&Xe.focus&&Xe.focus()},ce=(me,_e)=>Mo(me)?h.state.subscribe({next:Ce=>"values"in Ce&&me(B(void 0,_e),Ce)}):B(me,_e,!0),te=me=>h.state.subscribe({next:_e=>{Wct(me.name,_e.name,me.exact)&&Uct(_e,me.formState||f,tt,me.reRenderRoot)&&me.callback({values:{...a},...n,..._e,defaultValues:i})}}).unsubscribe,oe=me=>(o.mount=!0,m={...m,...me.formState},te({...me,formState:{...d,...me.formState}})),ve=(me,_e={})=>{for(const Ce of me?X1(me):l.mount)l.mount.delete(Ce),l.array.delete(Ce),_e.keepValue||(za(r,Ce),za(a,Ce)),!_e.keepError&&za(n.errors,Ce),!_e.keepDirty&&za(n.dirtyFields,Ce),!_e.keepTouched&&za(n.touchedFields,Ce),!_e.keepIsValidating&&za(n.validatingFields,Ce),!t.shouldUnregister&&!_e.keepDefaultValue&&za(i,Ce);h.state.next({values:ss(a)}),h.state.next({...n,..._e.keepDirty?{isDirty:I()}:{}}),!_e.keepIsValid&&v()},ne=({disabled:me,name:_e})=>{(Hl(me)&&o.mount||me||l.disabled.has(_e))&&(me?l.disabled.add(_e):l.disabled.delete(_e))},xe=(me,_e={})=>{let Ce=Ot(r,me);const Xe=Hl(_e.disabled)||Hl(t.disabled);return Xr(r,me,{...Ce||{},_f:{...Ce&&Ce._f?Ce._f:{ref:{name:me}},name:me,mount:!0,..._e}}),l.mount.add(me),Ce?ne({disabled:Hl(_e.disabled)?_e.disabled:t.disabled,name:me}):S(me,!0,_e.value),{...Xe?{disabled:_e.disabled||t.disabled}:{},...t.progressive?{required:!!_e.required,min:n1(_e.min),max:n1(_e.max),minLength:n1(_e.minLength),maxLength:n1(_e.maxLength),pattern:n1(_e.pattern)}:{},name:me,onChange:H,onBlur:H,ref:He=>{if(He){xe(me,_e),Ce=Ot(r,me);const we=ya(He.value)&&He.querySelectorAll&&He.querySelectorAll("input,select,textarea")[0]||He,Me=Rct(we),et=Ce._f.refs||[];if(Me?et.find(Ge=>Ge===we):we===Ce._f.ref)return;Xr(r,me,{_f:{...Ce._f,...Me?{refs:[...et.filter(O4),we,...Array.isArray(Ot(i,me))?[{}]:[]],ref:{type:we.type,name:me}}:{ref:we}}}),S(me,!1,void 0,we)}else Ce=Ot(r,me,{}),Ce._f&&(Ce._f.mount=!1),(t.shouldUnregister||_e.shouldUnregister)&&!(Jhe(l.array,me)&&o.action)&&l.unMount.add(me)}}},ue=()=>t.shouldFocusError&&Z1(r,G,l.mount),re=me=>{Hl(me)&&(h.state.next({disabled:me}),Z1(r,(_e,Ce)=>{const Xe=Ot(r,Ce);Xe&&(_e.disabled=Xe._f.disabled||me,Array.isArray(Xe._f.refs)&&Xe._f.refs.forEach(He=>{He.disabled=Xe._f.disabled||me}))},0,!1))},Se=(me,_e)=>async Ce=>{let Xe;Ce&&(Ce.preventDefault&&Ce.preventDefault(),Ce.persist&&Ce.persist());let He=ss(a);if(h.state.next({isSubmitting:!0}),t.resolver){const{errors:we,values:Me}=await M();x(),n.errors=we,He=ss(Me)}else await R(r);if(l.disabled.size)for(const we of l.disabled)za(He,we);if(za(n.errors,"root"),Po(n.errors)){h.state.next({errors:{}});try{await me(He,Ce)}catch(we){Xe=we}}else _e&&await _e({...n.errors},Ce),ue(),setTimeout(ue);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Po(n.errors)&&!Xe,submitCount:n.submitCount+1,errors:n.errors}),Xe)throw Xe},ae=(me,_e={})=>{Ot(r,me)&&(ya(_e.defaultValue)?Q(me,ss(Ot(i,me))):(Q(me,_e.defaultValue),Xr(i,me,ss(_e.defaultValue))),_e.keepTouched||za(n.touchedFields,me),_e.keepDirty||(za(n.dirtyFields,me),n.isDirty=_e.defaultValue?I(me,ss(Ot(i,me))):I()),_e.keepError||(za(n.errors,me),f.isValid&&v()),h.state.next({...n}))},X=(me,_e={})=>{const Ce=me?ss(me):i,Xe=ss(Ce),He=Po(me),we=He?i:Xe;if(_e.keepDefaultValues||(i=Ce),!_e.keepValues){if(_e.keepDirtyValues){const Me=new Set([...l.mount,...Object.keys(yx(i,a))]);for(const et of Array.from(Me))Ot(n.dirtyFields,et)?Xr(we,et,Ot(a,et)):Q(et,Ot(we,et))}else{if(TF&&ya(me))for(const Me of l.mount){const et=Ot(r,Me);if(et&&et._f){const Ge=Array.isArray(et._f.refs)?et._f.refs[0]:et._f.ref;if(Tk(Ge)){const wt=Ge.closest("form");if(wt){wt.reset();break}}}}if(_e.keepFieldsRef)for(const Me of l.mount)Q(Me,Ot(we,Me));else r={}}a=t.shouldUnregister?_e.keepDefaultValues?ss(i):{}:ss(we),h.array.next({values:{...we}}),h.state.next({values:{...we}})}l={mount:_e.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!f.isValid||!!_e.keepIsValid||!!_e.keepDirtyValues||!t.shouldUnregister&&!Po(we),o.watch=!!t.shouldUnregister,o.keepIsValid=!!_e.keepIsValid,o.action=!1,_e.keepErrors||(n.errors={}),h.state.next({submitCount:_e.keepSubmitCount?n.submitCount:0,isDirty:He?!1:_e.keepDirty?n.isDirty:!!(_e.keepDefaultValues&&!Hu(me,i)),isSubmitted:_e.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:He?{}:_e.keepDirtyValues?_e.keepDefaultValues&&a?yx(i,a):n.dirtyFields:_e.keepDefaultValues&&me?yx(i,me):_e.keepDirty?n.dirtyFields:{},touchedFields:_e.keepTouched?n.touchedFields:{},errors:_e.keepErrors?n.errors:{},isSubmitSuccessful:_e.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:i})},Ae=(me,_e)=>X(Mo(me)?me(a):me,{...t.resetOptions,..._e}),qe=(me,_e={})=>{const Ce=Ot(r,me),Xe=Ce&&Ce._f;if(Xe){const He=Xe.refs?Xe.refs[0]:Xe.ref;He.focus&&setTimeout(()=>{He.focus(),_e.shouldSelect&&Mo(He.select)&&He.select()})}},tt=me=>{n={...n,...me}},lt={control:{register:xe,unregister:ve,getFieldState:z,handleSubmit:Se,setError:ie,_subscribe:te,_runSchema:M,_updateIsValidating:x,_focusError:ue,_getWatch:B,_getDirty:I,_setValid:v,_setFieldArray:w,_setDisabledField:ne,_setErrors:_,_getFieldArray:$,_reset:X,_resetDefaultValues:()=>Mo(t.defaultValues)&&t.defaultValues().then(me=>{Ae(me,t.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:D,_disableForm:re,_subjects:h,_proxyFormState:f,get _fields(){return r},get _formValues(){return a},get _state(){return o},set _state(me){o=me},get _defaultValues(){return i},get _names(){return l},set _names(me){l=me},get _formState(){return n},get _options(){return t},set _options(me){t={...t,...me}}},subscribe:oe,trigger:U,register:xe,handleSubmit:Se,watch:ce,setValue:Q,getValues:ee,reset:Ae,resetField:ae,clearErrors:F,unregister:ve,setError:ie,setFocus:qe,getFieldState:z};return{...lt,formControl:lt}}function Rp(e={}){const t=E.useRef(void 0),n=E.useRef(void 0),[r,i]=E.useState({isDirty:!1,isValidating:!1,isLoading:Mo(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Mo(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:r},e.defaultValues&&!Mo(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:o,...l}=Xct(e);t.current={...l,formState:r}}const a=t.current.control;return a._options=e,IF(()=>{const o=a._subscribe({formState:a._proxyFormState,callback:()=>i({...a._formState}),reRenderRoot:!0});return i(l=>({...l,isReady:!0})),a._formState.isReady=!0,o},[a]),E.useEffect(()=>a._disableForm(e.disabled),[a,e.disabled]),E.useEffect(()=>{e.mode&&(a._options.mode=e.mode),e.reValidateMode&&(a._options.reValidateMode=e.reValidateMode)},[a,e.mode,e.reValidateMode]),E.useEffect(()=>{e.errors&&(a._setErrors(e.errors),a._focusError())},[a,e.errors]),E.useEffect(()=>{e.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[a,e.shouldUnregister]),E.useEffect(()=>{if(a._proxyFormState.isDirty){const o=a._getDirty();o!==r.isDirty&&a._subjects.state.next({isDirty:o})}},[a,r.isDirty]),E.useEffect(()=>{var o;e.values&&!Hu(e.values,n.current)?(a._reset(e.values,{keepFieldsRef:!0,...a._options.resetOptions}),!((o=a._options.resetOptions)===null||o===void 0)&&o.keepIsValid||a._setValid(),n.current=e.values,i(l=>({...l}))):a._resetDefaultValues()},[a,e.values]),E.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),t.current.formState=eme(r,a),t.current}var Nr;(function(e){e.assertEqual=i=>{};function t(i){}e.assertIs=t;function n(i){throw new Error}e.assertNever=n,e.arrayToEnum=i=>{const a={};for(const o of i)a[o]=o;return a},e.getValidEnumValues=i=>{const a=e.objectKeys(i).filter(l=>typeof i[i[l]]!="number"),o={};for(const l of a)o[l]=i[l];return e.objectValues(o)},e.objectValues=i=>e.objectKeys(i).map(function(a){return i[a]}),e.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const a=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&a.push(o);return a},e.find=(i,a)=>{for(const o of i)if(a(o))return o},e.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function r(i,a=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(a)}e.joinValues=r,e.jsonStringifyReplacer=(i,a)=>typeof a=="bigint"?a.toString():a})(Nr||(Nr={}));var jI;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(jI||(jI={}));const $t=Nr.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),nh=e=>{switch(typeof e){case"undefined":return $t.undefined;case"string":return $t.string;case"number":return Number.isNaN(e)?$t.nan:$t.number;case"boolean":return $t.boolean;case"function":return $t.function;case"bigint":return $t.bigint;case"symbol":return $t.symbol;case"object":return Array.isArray(e)?$t.array:e===null?$t.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?$t.promise:typeof Map<"u"&&e instanceof Map?$t.map:typeof Set<"u"&&e instanceof Set?$t.set:typeof Date<"u"&&e instanceof Date?$t.date:$t.object;default:return $t.unknown}},pt=Nr.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Zct=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class fc extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}format(t){const n=t||function(a){return a.message},r={_errors:[]},i=a=>{for(const o of a.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let l=r,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(n(o))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return i(this),r}static assert(t){if(!(t instanceof fc))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Nr.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n={},r=[];for(const i of this.issues)if(i.path.length>0){const a=i.path[0];n[a]=n[a]||[],n[a].push(t(i))}else r.push(t(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}fc.create=e=>new fc(e);const x0=(e,t)=>{let n;switch(e.code){case pt.invalid_type:e.received===$t.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case pt.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,Nr.jsonStringifyReplacer)}`;break;case pt.unrecognized_keys:n=`Unrecognized key(s) in object: ${Nr.joinValues(e.keys,", ")}`;break;case pt.invalid_union:n="Invalid input";break;case pt.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Nr.joinValues(e.options)}`;break;case pt.invalid_enum_value:n=`Invalid enum value. Expected ${Nr.joinValues(e.options)}, received '${e.received}'`;break;case pt.invalid_arguments:n="Invalid function arguments";break;case pt.invalid_return_type:n="Invalid function return type";break;case pt.invalid_date:n="Invalid date";break;case pt.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:Nr.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case pt.too_small:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:n="Invalid input";break;case pt.too_big:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?n=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:n="Invalid input";break;case pt.custom:n="Invalid input";break;case pt.invalid_intersection_types:n="Intersection results could not be merged";break;case pt.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case pt.not_finite:n="Number must be finite";break;default:n=t.defaultError,Nr.assertNever(e)}return{message:n}};let lme=x0;function Qct(e){lme=e}function Lk(){return lme}const Mk=e=>{const{data:t,path:n,errorMaps:r,issueData:i}=e,a=[...n,...i.path||[]],o={...i,path:a};if(i.message!==void 0)return{...i,path:a,message:i.message};let l="";const c=r.filter(u=>!!u).slice().reverse();for(const u of c)l=u(o,{data:t,defaultError:l}).message;return{...i,path:a,message:l}},Jct=[];function Mt(e,t){const n=Lk(),r=Mk({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===x0?void 0:x0].filter(i=>!!i)});e.common.issues.push(r)}class po{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const r=[];for(const i of n){if(i.status==="aborted")return yn;i.status==="dirty"&&t.dirty(),r.push(i.value)}return{status:t.value,value:r}}static async mergeObjectAsync(t,n){const r=[];for(const i of n){const a=await i.key,o=await i.value;r.push({key:a,value:o})}return po.mergeObjectSync(t,r)}static mergeObjectSync(t,n){const r={};for(const i of n){const{key:a,value:o}=i;if(a.status==="aborted"||o.status==="aborted")return yn;a.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),a.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(r[a.value]=o.value)}return{status:t.value,value:r}}}const yn=Object.freeze({status:"aborted"}),Yx=e=>({status:"dirty",value:e}),Ho=e=>({status:"valid",value:e}),NI=e=>e.status==="aborted",_I=e=>e.status==="dirty",mv=e=>e.status==="valid",A2=e=>typeof Promise<"u"&&e instanceof Promise;var Qt;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(Qt||(Qt={}));class mf{constructor(t,n,r,i){this._cachedPath=[],this.parent=t,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const jK=(e,t)=>{if(mv(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new fc(e.common.issues);return this._error=n,this._error}}};function Gn(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:i}=e;if(t&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:i}:{errorMap:(o,l)=>{const{message:c}=e;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??r??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??n??l.defaultError}},description:i}}class rr{get description(){return this._def.description}_getType(t){return nh(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:nh(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new po,ctx:{common:t.parent.common,data:t.data,parsedType:nh(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const n=this._parse(t);if(A2(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){const n=this._parse(t);return Promise.resolve(n)}parse(t,n){const r=this.safeParse(t,n);if(r.success)return r.data;throw r.error}safeParse(t,n){const r={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:nh(t)},i=this._parseSync({data:t,path:r.path,parent:r});return jK(r,i)}"~validate"(t){var r,i;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:nh(t)};if(!this["~standard"].async)try{const a=this._parseSync({data:t,path:[],parent:n});return mv(a)?{value:a.value}:{issues:n.common.issues}}catch(a){(i=(r=a==null?void 0:a.message)==null?void 0:r.toLowerCase())!=null&&i.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:n}).then(a=>mv(a)?{value:a.value}:{issues:n.common.issues})}async parseAsync(t,n){const r=await this.safeParseAsync(t,n);if(r.success)return r.data;throw r.error}async safeParseAsync(t,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:nh(t)},i=this._parse({data:t,path:r.path,parent:r}),a=await(A2(i)?i:Promise.resolve(i));return jK(r,a)}refine(t,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,a)=>{const o=t(i),l=()=>a.addIssue({code:pt.custom,...r(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,n){return this._refinement((r,i)=>t(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(t){return new ad({schema:this,typeName:Sn.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return sf.create(this,this._def)}nullable(){return vp.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Qu.create(this)}promise(){return b0.create(this,this._def)}or(t){return M2.create([this,t],this._def)}and(t){return I2.create(this,t,this._def)}transform(t){return new ad({...Gn(this._def),schema:this,typeName:Sn.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const n=typeof t=="function"?t:()=>t;return new B2({...Gn(this._def),innerType:this,defaultValue:n,typeName:Sn.ZodDefault})}brand(){return new $F({typeName:Sn.ZodBranded,type:this,...Gn(this._def)})}catch(t){const n=typeof t=="function"?t:()=>t;return new z2({...Gn(this._def),innerType:this,catchValue:n,typeName:Sn.ZodCatch})}describe(t){const n=this.constructor;return new n({...this._def,description:t})}pipe(t){return Bj.create(this,t)}readonly(){return V2.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const eut=/^c[^\s-]{8,}$/i,tut=/^[0-9a-z]+$/,nut=/^[0-9A-HJKMNP-TV-Z]{26}$/i,rut=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,iut=/^[a-z0-9_-]{21}$/i,aut=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,sut=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,out=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,lut="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let L4;const cut=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,uut=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,dut=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,fut=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,hut=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,mut=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,cme="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",put=new RegExp(`^${cme}$`);function ume(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const n=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${n}`}function gut(e){return new RegExp(`^${ume(e)}$`)}function dme(e){let t=`${cme}T${ume(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function vut(e,t){return!!((t==="v4"||!t)&&cut.test(e)||(t==="v6"||!t)&&dut.test(e))}function xut(e,t){if(!aut.test(e))return!1;try{const[n]=e.split(".");if(!n)return!1;const r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(r));return!(typeof i!="object"||i===null||"typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||t&&i.alg!==t)}catch{return!1}}function yut(e,t){return!!((t==="v4"||!t)&&uut.test(e)||(t==="v6"||!t)&&fut.test(e))}class Ku extends rr{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==$t.string){const a=this._getOrReturnCtx(t);return Mt(a,{code:pt.invalid_type,expected:$t.string,received:a.parsedType}),yn}const r=new po;let i;for(const a of this._def.checks)if(a.kind==="min")t.data.length<a.value&&(i=this._getOrReturnCtx(t,i),Mt(i,{code:pt.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="max")t.data.length>a.value&&(i=this._getOrReturnCtx(t,i),Mt(i,{code:pt.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="length"){const o=t.data.length>a.value,l=t.data.length<a.value;(o||l)&&(i=this._getOrReturnCtx(t,i),o?Mt(i,{code:pt.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):l&&Mt(i,{code:pt.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),r.dirty())}else if(a.kind==="email")out.test(t.data)||(i=this._getOrReturnCtx(t,i),Mt(i,{validation:"email",code:pt.invalid_string,message:a.message}),r.dirty());else if(a.kind==="emoji")L4||(L4=new RegExp(lut,"u")),L4.test(t.data)||(i=this._getOrReturnCtx(t,i),Mt(i,{validation:"emoji",code:pt.invalid_string,message:a.message}),r.dirty());else if(a.kind==="uuid")rut.test(t.data)||(i=this._getOrReturnCtx(t,i),Mt(i,{validation:"uuid",code:pt.invalid_string,message:a.message}),r.dirty());else if(a.kind==="nanoid")iut.test(t.data)||(i=this._getOrReturnCtx(t,i),Mt(i,{validation:"nanoid",code:pt.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid")eut.test(t.data)||(i=this._getOrReturnCtx(t,i),Mt(i,{validation:"cuid",code:pt.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid2")tut.test(t.data)||(i=this._getOrReturnCtx(t,i),Mt(i,{validation:"cuid2",code:pt.invalid_string,message:a.message}),r.dirty());else if(a.kind==="ulid")nut.test(t.data)||(i=this._getOrReturnCtx(t,i),Mt(i,{validation:"ulid",code:pt.invalid_string,message:a.message}),r.dirty());else if(a.kind==="url")try{new URL(t.data)}catch{i=this._getOrReturnCtx(t,i),Mt(i,{validation:"url",code:pt.invalid_string,message:a.message}),r.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(t.data)||(i=this._getOrReturnCtx(t,i),Mt(i,{validation:"regex",code:pt.invalid_string,message:a.message}),r.dirty())):a.kind==="trim"?t.data=t.data.trim():a.kind==="includes"?t.data.includes(a.value,a.position)||(i=this._getOrReturnCtx(t,i),Mt(i,{code:pt.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),r.dirty()):a.kind==="toLowerCase"?t.data=t.data.toLowerCase():a.kind==="toUpperCase"?t.data=t.data.toUpperCase():a.kind==="startsWith"?t.data.startsWith(a.value)||(i=this._getOrReturnCtx(t,i),Mt(i,{code:pt.invalid_string,validation:{startsWith:a.value},message:a.message}),r.dirty()):a.kind==="endsWith"?t.data.endsWith(a.value)||(i=this._getOrReturnCtx(t,i),Mt(i,{code:pt.invalid_string,validation:{endsWith:a.value},message:a.message}),r.dirty()):a.kind==="datetime"?dme(a).test(t.data)||(i=this._getOrReturnCtx(t,i),Mt(i,{code:pt.invalid_string,validation:"datetime",message:a.message}),r.dirty()):a.kind==="date"?put.test(t.data)||(i=this._getOrReturnCtx(t,i),Mt(i,{code:pt.invalid_string,validation:"date",message:a.message}),r.dirty()):a.kind==="time"?gut(a).test(t.data)||(i=this._getOrReturnCtx(t,i),Mt(i,{code:pt.invalid_string,validation:"time",message:a.message}),r.dirty()):a.kind==="duration"?sut.test(t.data)||(i=this._getOrReturnCtx(t,i),Mt(i,{validation:"duration",code:pt.invalid_string,message:a.message}),r.dirty()):a.kind==="ip"?vut(t.data,a.version)||(i=this._getOrReturnCtx(t,i),Mt(i,{validation:"ip",code:pt.invalid_string,message:a.message}),r.dirty()):a.kind==="jwt"?xut(t.data,a.alg)||(i=this._getOrReturnCtx(t,i),Mt(i,{validation:"jwt",code:pt.invalid_string,message:a.message}),r.dirty()):a.kind==="cidr"?yut(t.data,a.version)||(i=this._getOrReturnCtx(t,i),Mt(i,{validation:"cidr",code:pt.invalid_string,message:a.message}),r.dirty()):a.kind==="base64"?hut.test(t.data)||(i=this._getOrReturnCtx(t,i),Mt(i,{validation:"base64",code:pt.invalid_string,message:a.message}),r.dirty()):a.kind==="base64url"?mut.test(t.data)||(i=this._getOrReturnCtx(t,i),Mt(i,{validation:"base64url",code:pt.invalid_string,message:a.message}),r.dirty()):Nr.assertNever(a);return{status:r.value,value:t.data}}_regex(t,n,r){return this.refinement(i=>t.test(i),{validation:n,code:pt.invalid_string,...Qt.errToObj(r)})}_addCheck(t){return new Ku({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Qt.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Qt.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Qt.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Qt.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Qt.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Qt.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Qt.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Qt.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Qt.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Qt.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Qt.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Qt.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Qt.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...Qt.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...Qt.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...Qt.errToObj(t)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...Qt.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n==null?void 0:n.position,...Qt.errToObj(n==null?void 0:n.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...Qt.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...Qt.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...Qt.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...Qt.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...Qt.errToObj(n)})}nonempty(t){return this.min(1,Qt.errToObj(t))}trim(){return new Ku({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ku({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ku({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}Ku.create=e=>new Ku({checks:[],typeName:Sn.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...Gn(e)});function but(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,i=n>r?n:r,a=Number.parseInt(e.toFixed(i).replace(".","")),o=Number.parseInt(t.toFixed(i).replace(".",""));return a%o/10**i}class mp extends rr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==$t.number){const a=this._getOrReturnCtx(t);return Mt(a,{code:pt.invalid_type,expected:$t.number,received:a.parsedType}),yn}let r;const i=new po;for(const a of this._def.checks)a.kind==="int"?Nr.isInteger(t.data)||(r=this._getOrReturnCtx(t,r),Mt(r,{code:pt.invalid_type,expected:"integer",received:"float",message:a.message}),i.dirty()):a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(r=this._getOrReturnCtx(t,r),Mt(r,{code:pt.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(r=this._getOrReturnCtx(t,r),Mt(r,{code:pt.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="multipleOf"?but(t.data,a.value)!==0&&(r=this._getOrReturnCtx(t,r),Mt(r,{code:pt.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):a.kind==="finite"?Number.isFinite(t.data)||(r=this._getOrReturnCtx(t,r),Mt(r,{code:pt.not_finite,message:a.message}),i.dirty()):Nr.assertNever(a);return{status:i.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,Qt.toString(n))}gt(t,n){return this.setLimit("min",t,!1,Qt.toString(n))}lte(t,n){return this.setLimit("max",t,!0,Qt.toString(n))}lt(t,n){return this.setLimit("max",t,!1,Qt.toString(n))}setLimit(t,n,r,i){return new mp({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:Qt.toString(i)}]})}_addCheck(t){return new mp({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Qt.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Qt.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Qt.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Qt.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Qt.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:Qt.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:Qt.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Qt.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Qt.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Nr.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(t===null||r.value<t)&&(t=r.value)}return Number.isFinite(n)&&Number.isFinite(t)}}mp.create=e=>new mp({checks:[],typeName:Sn.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...Gn(e)});class pp extends rr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==$t.bigint)return this._getInvalidInput(t);let r;const i=new po;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(r=this._getOrReturnCtx(t,r),Mt(r,{code:pt.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(r=this._getOrReturnCtx(t,r),Mt(r,{code:pt.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="multipleOf"?t.data%a.value!==BigInt(0)&&(r=this._getOrReturnCtx(t,r),Mt(r,{code:pt.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):Nr.assertNever(a);return{status:i.value,value:t.data}}_getInvalidInput(t){const n=this._getOrReturnCtx(t);return Mt(n,{code:pt.invalid_type,expected:$t.bigint,received:n.parsedType}),yn}gte(t,n){return this.setLimit("min",t,!0,Qt.toString(n))}gt(t,n){return this.setLimit("min",t,!1,Qt.toString(n))}lte(t,n){return this.setLimit("max",t,!0,Qt.toString(n))}lt(t,n){return this.setLimit("max",t,!1,Qt.toString(n))}setLimit(t,n,r,i){return new pp({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:Qt.toString(i)}]})}_addCheck(t){return new pp({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Qt.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Qt.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Qt.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Qt.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:Qt.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}pp.create=e=>new pp({checks:[],typeName:Sn.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...Gn(e)});class T2 extends rr{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==$t.boolean){const r=this._getOrReturnCtx(t);return Mt(r,{code:pt.invalid_type,expected:$t.boolean,received:r.parsedType}),yn}return Ho(t.data)}}T2.create=e=>new T2({typeName:Sn.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...Gn(e)});class pv extends rr{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==$t.date){const a=this._getOrReturnCtx(t);return Mt(a,{code:pt.invalid_type,expected:$t.date,received:a.parsedType}),yn}if(Number.isNaN(t.data.getTime())){const a=this._getOrReturnCtx(t);return Mt(a,{code:pt.invalid_date}),yn}const r=new po;let i;for(const a of this._def.checks)a.kind==="min"?t.data.getTime()<a.value&&(i=this._getOrReturnCtx(t,i),Mt(i,{code:pt.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),r.dirty()):a.kind==="max"?t.data.getTime()>a.value&&(i=this._getOrReturnCtx(t,i),Mt(i,{code:pt.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),r.dirty()):Nr.assertNever(a);return{status:r.value,value:new Date(t.data.getTime())}}_addCheck(t){return new pv({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:Qt.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:Qt.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}}pv.create=e=>new pv({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:Sn.ZodDate,...Gn(e)});class Ik extends rr{_parse(t){if(this._getType(t)!==$t.symbol){const r=this._getOrReturnCtx(t);return Mt(r,{code:pt.invalid_type,expected:$t.symbol,received:r.parsedType}),yn}return Ho(t.data)}}Ik.create=e=>new Ik({typeName:Sn.ZodSymbol,...Gn(e)});class O2 extends rr{_parse(t){if(this._getType(t)!==$t.undefined){const r=this._getOrReturnCtx(t);return Mt(r,{code:pt.invalid_type,expected:$t.undefined,received:r.parsedType}),yn}return Ho(t.data)}}O2.create=e=>new O2({typeName:Sn.ZodUndefined,...Gn(e)});class L2 extends rr{_parse(t){if(this._getType(t)!==$t.null){const r=this._getOrReturnCtx(t);return Mt(r,{code:pt.invalid_type,expected:$t.null,received:r.parsedType}),yn}return Ho(t.data)}}L2.create=e=>new L2({typeName:Sn.ZodNull,...Gn(e)});class y0 extends rr{constructor(){super(...arguments),this._any=!0}_parse(t){return Ho(t.data)}}y0.create=e=>new y0({typeName:Sn.ZodAny,...Gn(e)});class Xg extends rr{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Ho(t.data)}}Xg.create=e=>new Xg({typeName:Sn.ZodUnknown,...Gn(e)});class Lh extends rr{_parse(t){const n=this._getOrReturnCtx(t);return Mt(n,{code:pt.invalid_type,expected:$t.never,received:n.parsedType}),yn}}Lh.create=e=>new Lh({typeName:Sn.ZodNever,...Gn(e)});class Dk extends rr{_parse(t){if(this._getType(t)!==$t.undefined){const r=this._getOrReturnCtx(t);return Mt(r,{code:pt.invalid_type,expected:$t.void,received:r.parsedType}),yn}return Ho(t.data)}}Dk.create=e=>new Dk({typeName:Sn.ZodVoid,...Gn(e)});class Qu extends rr{_parse(t){const{ctx:n,status:r}=this._processInputParams(t),i=this._def;if(n.parsedType!==$t.array)return Mt(n,{code:pt.invalid_type,expected:$t.array,received:n.parsedType}),yn;if(i.exactLength!==null){const o=n.data.length>i.exactLength.value,l=n.data.length<i.exactLength.value;(o||l)&&(Mt(n,{code:o?pt.too_big:pt.too_small,minimum:l?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(Mt(n,{code:pt.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(Mt(n,{code:pt.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,l)=>i.type._parseAsync(new mf(n,o,n.path,l)))).then(o=>po.mergeArray(r,o));const a=[...n.data].map((o,l)=>i.type._parseSync(new mf(n,o,n.path,l)));return po.mergeArray(r,a)}get element(){return this._def.type}min(t,n){return new Qu({...this._def,minLength:{value:t,message:Qt.toString(n)}})}max(t,n){return new Qu({...this._def,maxLength:{value:t,message:Qt.toString(n)}})}length(t,n){return new Qu({...this._def,exactLength:{value:t,message:Qt.toString(n)}})}nonempty(t){return this.min(1,t)}}Qu.create=(e,t)=>new Qu({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Sn.ZodArray,...Gn(t)});function bx(e){if(e instanceof ta){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=sf.create(bx(r))}return new ta({...e._def,shape:()=>t})}else return e instanceof Qu?new Qu({...e._def,type:bx(e.element)}):e instanceof sf?sf.create(bx(e.unwrap())):e instanceof vp?vp.create(bx(e.unwrap())):e instanceof pf?pf.create(e.items.map(t=>bx(t))):e}class ta extends rr{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=Nr.objectKeys(t);return this._cached={shape:t,keys:n},this._cached}_parse(t){if(this._getType(t)!==$t.object){const u=this._getOrReturnCtx(t);return Mt(u,{code:pt.invalid_type,expected:$t.object,received:u.parsedType}),yn}const{status:r,ctx:i}=this._processInputParams(t),{shape:a,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof Lh&&this._def.unknownKeys==="strip"))for(const u in i.data)o.includes(u)||l.push(u);const c=[];for(const u of o){const d=a[u],f=i.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new mf(i,f,i.path,u)),alwaysSet:u in i.data})}if(this._def.catchall instanceof Lh){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of l)c.push({key:{status:"valid",value:d},value:{status:"valid",value:i.data[d]}});else if(u==="strict")l.length>0&&(Mt(i,{code:pt.unrecognized_keys,keys:l}),r.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of l){const f=i.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new mf(i,f,i.path,d)),alwaysSet:d in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const f=await d.key,m=await d.value;u.push({key:f,value:m,alwaysSet:d.alwaysSet})}return u}).then(u=>po.mergeObjectSync(r,u)):po.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(t){return Qt.errToObj,new ta({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,r)=>{var a,o;const i=((o=(a=this._def).errorMap)==null?void 0:o.call(a,n,r).message)??r.defaultError;return n.code==="unrecognized_keys"?{message:Qt.errToObj(t).message??i}:{message:i}}}:{}})}strip(){return new ta({...this._def,unknownKeys:"strip"})}passthrough(){return new ta({...this._def,unknownKeys:"passthrough"})}extend(t){return new ta({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new ta({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Sn.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new ta({...this._def,catchall:t})}pick(t){const n={};for(const r of Nr.objectKeys(t))t[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new ta({...this._def,shape:()=>n})}omit(t){const n={};for(const r of Nr.objectKeys(this.shape))t[r]||(n[r]=this.shape[r]);return new ta({...this._def,shape:()=>n})}deepPartial(){return bx(this)}partial(t){const n={};for(const r of Nr.objectKeys(this.shape)){const i=this.shape[r];t&&!t[r]?n[r]=i:n[r]=i.optional()}return new ta({...this._def,shape:()=>n})}required(t){const n={};for(const r of Nr.objectKeys(this.shape))if(t&&!t[r])n[r]=this.shape[r];else{let a=this.shape[r];for(;a instanceof sf;)a=a._def.innerType;n[r]=a}return new ta({...this._def,shape:()=>n})}keyof(){return fme(Nr.objectKeys(this.shape))}}ta.create=(e,t)=>new ta({shape:()=>e,unknownKeys:"strip",catchall:Lh.create(),typeName:Sn.ZodObject,...Gn(t)});ta.strictCreate=(e,t)=>new ta({shape:()=>e,unknownKeys:"strict",catchall:Lh.create(),typeName:Sn.ZodObject,...Gn(t)});ta.lazycreate=(e,t)=>new ta({shape:e,unknownKeys:"strip",catchall:Lh.create(),typeName:Sn.ZodObject,...Gn(t)});class M2 extends rr{_parse(t){const{ctx:n}=this._processInputParams(t),r=this._def.options;function i(a){for(const l of a)if(l.result.status==="valid")return l.result;for(const l of a)if(l.result.status==="dirty")return n.common.issues.push(...l.ctx.common.issues),l.result;const o=a.map(l=>new fc(l.ctx.common.issues));return Mt(n,{code:pt.invalid_union,unionErrors:o}),yn}if(n.common.async)return Promise.all(r.map(async a=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await a._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(i);{let a;const o=[];for(const c of r){const u={...n,common:{...n.common,issues:[]},parent:null},d=c._parseSync({data:n.data,path:n.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!a&&(a={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(a)return n.common.issues.push(...a.ctx.common.issues),a.result;const l=o.map(c=>new fc(c));return Mt(n,{code:pt.invalid_union,unionErrors:l}),yn}}get options(){return this._def.options}}M2.create=(e,t)=>new M2({options:e,typeName:Sn.ZodUnion,...Gn(t)});const Gf=e=>e instanceof R2?Gf(e.schema):e instanceof ad?Gf(e.innerType()):e instanceof $2?[e.value]:e instanceof gp?e.options:e instanceof F2?Nr.objectValues(e.enum):e instanceof B2?Gf(e._def.innerType):e instanceof O2?[void 0]:e instanceof L2?[null]:e instanceof sf?[void 0,...Gf(e.unwrap())]:e instanceof vp?[null,...Gf(e.unwrap())]:e instanceof $F||e instanceof V2?Gf(e.unwrap()):e instanceof z2?Gf(e._def.innerType):[];class wP extends rr{_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==$t.object)return Mt(n,{code:pt.invalid_type,expected:$t.object,received:n.parsedType}),yn;const r=this.discriminator,i=n.data[r],a=this.optionsMap.get(i);return a?n.common.async?a._parseAsync({data:n.data,path:n.path,parent:n}):a._parseSync({data:n.data,path:n.path,parent:n}):(Mt(n,{code:pt.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),yn)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,n,r){const i=new Map;for(const a of n){const o=Gf(a.shape[t]);if(!o.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const l of o){if(i.has(l))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(l)}`);i.set(l,a)}}return new wP({typeName:Sn.ZodDiscriminatedUnion,discriminator:t,options:n,optionsMap:i,...Gn(r)})}}function SI(e,t){const n=nh(e),r=nh(t);if(e===t)return{valid:!0,data:e};if(n===$t.object&&r===$t.object){const i=Nr.objectKeys(t),a=Nr.objectKeys(e).filter(l=>i.indexOf(l)!==-1),o={...e,...t};for(const l of a){const c=SI(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(n===$t.array&&r===$t.array){if(e.length!==t.length)return{valid:!1};const i=[];for(let a=0;a<e.length;a++){const o=e[a],l=t[a],c=SI(o,l);if(!c.valid)return{valid:!1};i.push(c.data)}return{valid:!0,data:i}}else return n===$t.date&&r===$t.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class I2 extends rr{_parse(t){const{status:n,ctx:r}=this._processInputParams(t),i=(a,o)=>{if(NI(a)||NI(o))return yn;const l=SI(a.value,o.value);return l.valid?((_I(a)||_I(o))&&n.dirty(),{status:n.value,value:l.data}):(Mt(r,{code:pt.invalid_intersection_types}),yn)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([a,o])=>i(a,o)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}I2.create=(e,t,n)=>new I2({left:e,right:t,typeName:Sn.ZodIntersection,...Gn(n)});class pf extends rr{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==$t.array)return Mt(r,{code:pt.invalid_type,expected:$t.array,received:r.parsedType}),yn;if(r.data.length<this._def.items.length)return Mt(r,{code:pt.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),yn;!this._def.rest&&r.data.length>this._def.items.length&&(Mt(r,{code:pt.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const a=[...r.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new mf(r,o,r.path,l)):null}).filter(o=>!!o);return r.common.async?Promise.all(a).then(o=>po.mergeArray(n,o)):po.mergeArray(n,a)}get items(){return this._def.items}rest(t){return new pf({...this._def,rest:t})}}pf.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new pf({items:e,typeName:Sn.ZodTuple,rest:null,...Gn(t)})};class D2 extends rr{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==$t.object)return Mt(r,{code:pt.invalid_type,expected:$t.object,received:r.parsedType}),yn;const i=[],a=this._def.keyType,o=this._def.valueType;for(const l in r.data)i.push({key:a._parse(new mf(r,l,r.path,l)),value:o._parse(new mf(r,r.data[l],r.path,l)),alwaysSet:l in r.data});return r.common.async?po.mergeObjectAsync(n,i):po.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(t,n,r){return n instanceof rr?new D2({keyType:t,valueType:n,typeName:Sn.ZodRecord,...Gn(r)}):new D2({keyType:Ku.create(),valueType:t,typeName:Sn.ZodRecord,...Gn(n)})}}class Rk extends rr{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==$t.map)return Mt(r,{code:pt.invalid_type,expected:$t.map,received:r.parsedType}),yn;const i=this._def.keyType,a=this._def.valueType,o=[...r.data.entries()].map(([l,c],u)=>({key:i._parse(new mf(r,l,r.path,[u,"key"])),value:a._parse(new mf(r,c,r.path,[u,"value"]))}));if(r.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return yn;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),l.set(u.value,d.value)}return{status:n.value,value:l}})}else{const l=new Map;for(const c of o){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return yn;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),l.set(u.value,d.value)}return{status:n.value,value:l}}}}Rk.create=(e,t,n)=>new Rk({valueType:t,keyType:e,typeName:Sn.ZodMap,...Gn(n)});class gv extends rr{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==$t.set)return Mt(r,{code:pt.invalid_type,expected:$t.set,received:r.parsedType}),yn;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(Mt(r,{code:pt.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(Mt(r,{code:pt.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const a=this._def.valueType;function o(c){const u=new Set;for(const d of c){if(d.status==="aborted")return yn;d.status==="dirty"&&n.dirty(),u.add(d.value)}return{status:n.value,value:u}}const l=[...r.data.values()].map((c,u)=>a._parse(new mf(r,c,r.path,u)));return r.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,n){return new gv({...this._def,minSize:{value:t,message:Qt.toString(n)}})}max(t,n){return new gv({...this._def,maxSize:{value:t,message:Qt.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}gv.create=(e,t)=>new gv({valueType:e,minSize:null,maxSize:null,typeName:Sn.ZodSet,...Gn(t)});class fy extends rr{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==$t.function)return Mt(n,{code:pt.invalid_type,expected:$t.function,received:n.parsedType}),yn;function r(l,c){return Mk({data:l,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Lk(),x0].filter(u=>!!u),issueData:{code:pt.invalid_arguments,argumentsError:c}})}function i(l,c){return Mk({data:l,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Lk(),x0].filter(u=>!!u),issueData:{code:pt.invalid_return_type,returnTypeError:c}})}const a={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof b0){const l=this;return Ho(async function(...c){const u=new fc([]),d=await l._def.args.parseAsync(c,a).catch(h=>{throw u.addIssue(r(c,h)),u}),f=await Reflect.apply(o,this,d);return await l._def.returns._def.type.parseAsync(f,a).catch(h=>{throw u.addIssue(i(f,h)),u})})}else{const l=this;return Ho(function(...c){const u=l._def.args.safeParse(c,a);if(!u.success)throw new fc([r(c,u.error)]);const d=Reflect.apply(o,this,u.data),f=l._def.returns.safeParse(d,a);if(!f.success)throw new fc([i(d,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new fy({...this._def,args:pf.create(t).rest(Xg.create())})}returns(t){return new fy({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,n,r){return new fy({args:t||pf.create([]).rest(Xg.create()),returns:n||Xg.create(),typeName:Sn.ZodFunction,...Gn(r)})}}class R2 extends rr{get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}R2.create=(e,t)=>new R2({getter:e,typeName:Sn.ZodLazy,...Gn(t)});class $2 extends rr{_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return Mt(n,{received:n.data,code:pt.invalid_literal,expected:this._def.value}),yn}return{status:"valid",value:t.data}}get value(){return this._def.value}}$2.create=(e,t)=>new $2({value:e,typeName:Sn.ZodLiteral,...Gn(t)});function fme(e,t){return new gp({values:e,typeName:Sn.ZodEnum,...Gn(t)})}class gp extends rr{_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),r=this._def.values;return Mt(n,{expected:Nr.joinValues(r),received:n.parsedType,code:pt.invalid_type}),yn}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const n=this._getOrReturnCtx(t),r=this._def.values;return Mt(n,{received:n.data,code:pt.invalid_enum_value,options:r}),yn}return Ho(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}extract(t,n=this._def){return gp.create(t,{...this._def,...n})}exclude(t,n=this._def){return gp.create(this.options.filter(r=>!t.includes(r)),{...this._def,...n})}}gp.create=fme;class F2 extends rr{_parse(t){const n=Nr.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(t);if(r.parsedType!==$t.string&&r.parsedType!==$t.number){const i=Nr.objectValues(n);return Mt(r,{expected:Nr.joinValues(i),received:r.parsedType,code:pt.invalid_type}),yn}if(this._cache||(this._cache=new Set(Nr.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const i=Nr.objectValues(n);return Mt(r,{received:r.data,code:pt.invalid_enum_value,options:i}),yn}return Ho(t.data)}get enum(){return this._def.values}}F2.create=(e,t)=>new F2({values:e,typeName:Sn.ZodNativeEnum,...Gn(t)});class b0 extends rr{unwrap(){return this._def.type}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==$t.promise&&n.common.async===!1)return Mt(n,{code:pt.invalid_type,expected:$t.promise,received:n.parsedType}),yn;const r=n.parsedType===$t.promise?n.data:Promise.resolve(n.data);return Ho(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}b0.create=(e,t)=>new b0({type:e,typeName:Sn.ZodPromise,...Gn(t)});class ad extends rr{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Sn.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:n,ctx:r}=this._processInputParams(t),i=this._def.effect||null,a={addIssue:o=>{Mt(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(a.addIssue=a.addIssue.bind(a),i.type==="preprocess"){const o=i.transform(r.data,a);if(r.common.async)return Promise.resolve(o).then(async l=>{if(n.value==="aborted")return yn;const c=await this._def.schema._parseAsync({data:l,path:r.path,parent:r});return c.status==="aborted"?yn:c.status==="dirty"||n.value==="dirty"?Yx(c.value):c});{if(n.value==="aborted")return yn;const l=this._def.schema._parseSync({data:o,path:r.path,parent:r});return l.status==="aborted"?yn:l.status==="dirty"||n.value==="dirty"?Yx(l.value):l}}if(i.type==="refinement"){const o=l=>{const c=i.refinement(l,a);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return l.status==="aborted"?yn:(l.status==="dirty"&&n.dirty(),o(l.value),{status:n.value,value:l.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>l.status==="aborted"?yn:(l.status==="dirty"&&n.dirty(),o(l.value).then(()=>({status:n.value,value:l.value}))))}if(i.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!mv(o))return yn;const l=i.transform(o.value,a);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:l}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>mv(o)?Promise.resolve(i.transform(o.value,a)).then(l=>({status:n.value,value:l})):yn);Nr.assertNever(i)}}ad.create=(e,t,n)=>new ad({schema:e,typeName:Sn.ZodEffects,effect:t,...Gn(n)});ad.createWithPreprocess=(e,t,n)=>new ad({schema:t,effect:{type:"preprocess",transform:e},typeName:Sn.ZodEffects,...Gn(n)});class sf extends rr{_parse(t){return this._getType(t)===$t.undefined?Ho(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}sf.create=(e,t)=>new sf({innerType:e,typeName:Sn.ZodOptional,...Gn(t)});class vp extends rr{_parse(t){return this._getType(t)===$t.null?Ho(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}vp.create=(e,t)=>new vp({innerType:e,typeName:Sn.ZodNullable,...Gn(t)});class B2 extends rr{_parse(t){const{ctx:n}=this._processInputParams(t);let r=n.data;return n.parsedType===$t.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}B2.create=(e,t)=>new B2({innerType:e,typeName:Sn.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Gn(t)});class z2 extends rr{_parse(t){const{ctx:n}=this._processInputParams(t),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return A2(i)?i.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new fc(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new fc(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}z2.create=(e,t)=>new z2({innerType:e,typeName:Sn.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Gn(t)});class $k extends rr{_parse(t){if(this._getType(t)!==$t.nan){const r=this._getOrReturnCtx(t);return Mt(r,{code:pt.invalid_type,expected:$t.nan,received:r.parsedType}),yn}return{status:"valid",value:t.data}}}$k.create=e=>new $k({typeName:Sn.ZodNaN,...Gn(e)});const wut=Symbol("zod_brand");class $F extends rr{_parse(t){const{ctx:n}=this._processInputParams(t),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Bj extends rr{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?yn:a.status==="dirty"?(n.dirty(),Yx(a.value)):this._def.out._parseAsync({data:a.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?yn:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(t,n){return new Bj({in:t,out:n,typeName:Sn.ZodPipeline})}}class V2 extends rr{_parse(t){const n=this._def.innerType._parse(t),r=i=>(mv(i)&&(i.value=Object.freeze(i.value)),i);return A2(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}V2.create=(e,t)=>new V2({innerType:e,typeName:Sn.ZodReadonly,...Gn(t)});function NK(e,t){const n=typeof e=="function"?e(t):typeof e=="string"?{message:e}:e;return typeof n=="string"?{message:n}:n}function FF(e,t={},n){return e?y0.create().superRefine((r,i)=>{const a=e(r);if(a instanceof Promise)return a.then(o=>{if(!o){const l=NK(t,r),c=l.fatal??n??!0;i.addIssue({code:"custom",...l,fatal:c})}});if(!a){const o=NK(t,r),l=o.fatal??n??!0;i.addIssue({code:"custom",...o,fatal:l})}}):y0.create()}const jut={object:ta.lazycreate};var Sn;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Sn||(Sn={}));const Nut=(e,t={message:`Input not instance of ${e.name}`})=>FF(n=>n instanceof e,t),xt=Ku.create,Ii=mp.create,_ut=$k.create,Sut=pp.create,Iv=T2.create,kut=pv.create,Cut=Ik.create,Eut=O2.create,BF=L2.create,Fk=y0.create,Put=Xg.create,Aut=Lh.create,Tut=Dk.create,Bc=Qu.create,Wa=ta.create,Out=ta.strictCreate,nb=M2.create,Lut=wP.create,Mut=I2.create,Iut=pf.create,hme=D2.create,Dut=Rk.create,Rut=gv.create,$ut=fy.create,Fut=R2.create,q2=$2.create,mme=gp.create,But=F2.create,zut=b0.create,_K=ad.create,Vut=sf.create,qut=vp.create,Uut=ad.createWithPreprocess,Wut=Bj.create,Hut=()=>xt().optional(),Kut=()=>Ii().optional(),Gut=()=>Iv().optional(),Yut={string:e=>Ku.create({...e,coerce:!0}),number:e=>mp.create({...e,coerce:!0}),boolean:e=>T2.create({...e,coerce:!0}),bigint:e=>pp.create({...e,coerce:!0}),date:e=>pv.create({...e,coerce:!0})},Xut=yn,Zut=Object.freeze(Object.defineProperty({__proto__:null,BRAND:wut,DIRTY:Yx,EMPTY_PATH:Jct,INVALID:yn,NEVER:Xut,OK:Ho,ParseStatus:po,Schema:rr,ZodAny:y0,ZodArray:Qu,ZodBigInt:pp,ZodBoolean:T2,ZodBranded:$F,ZodCatch:z2,ZodDate:pv,ZodDefault:B2,ZodDiscriminatedUnion:wP,ZodEffects:ad,ZodEnum:gp,ZodError:fc,get ZodFirstPartyTypeKind(){return Sn},ZodFunction:fy,ZodIntersection:I2,ZodIssueCode:pt,ZodLazy:R2,ZodLiteral:$2,ZodMap:Rk,ZodNaN:$k,ZodNativeEnum:F2,ZodNever:Lh,ZodNull:L2,ZodNullable:vp,ZodNumber:mp,ZodObject:ta,ZodOptional:sf,ZodParsedType:$t,ZodPipeline:Bj,ZodPromise:b0,ZodReadonly:V2,ZodRecord:D2,ZodSchema:rr,ZodSet:gv,ZodString:Ku,ZodSymbol:Ik,ZodTransformer:ad,ZodTuple:pf,ZodType:rr,ZodUndefined:O2,ZodUnion:M2,ZodUnknown:Xg,ZodVoid:Dk,addIssueToContext:Mt,any:Fk,array:Bc,bigint:Sut,boolean:Iv,coerce:Yut,custom:FF,date:kut,datetimeRegex:dme,defaultErrorMap:x0,discriminatedUnion:Lut,effect:_K,enum:mme,function:$ut,getErrorMap:Lk,getParsedType:nh,instanceof:Nut,intersection:Mut,isAborted:NI,isAsync:A2,isDirty:_I,isValid:mv,late:jut,lazy:Fut,literal:q2,makeIssue:Mk,map:Dut,nan:_ut,nativeEnum:But,never:Aut,null:BF,nullable:qut,number:Ii,object:Wa,get objectUtil(){return jI},oboolean:Gut,onumber:Kut,optional:Vut,ostring:Hut,pipeline:Wut,preprocess:Uut,promise:zut,quotelessJson:Zct,record:hme,set:Rut,setErrorMap:Qct,strictObject:Out,string:xt,symbol:Cut,transformer:_K,tuple:Iut,undefined:Eut,union:nb,unknown:Put,get util(){return Nr},void:Tut},Symbol.toStringTag,{value:"Module"})),SK=(e,t,n)=>{if(e&&"reportValidity"in e){const r=Ot(n,t);e.setCustomValidity(r&&r.message||""),e.reportValidity()}},pme=(e,t)=>{for(const n in t.fields){const r=t.fields[n];r&&r.ref&&"reportValidity"in r.ref?SK(r.ref,n,e):r.refs&&r.refs.forEach(i=>SK(i,n,e))}},Qut=(e,t)=>{t.shouldUseNativeValidation&&pme(e,t);const n={};for(const r in e){const i=Ot(t.fields,r),a=Object.assign(e[r]||{},{ref:i&&i.ref});if(Jut(t.names||Object.keys(e),r)){const o=Object.assign({},Ot(n,r));Xr(o,"root",a),Xr(n,r,o)}else Xr(n,r,a)}return n},Jut=(e,t)=>e.some(n=>n.startsWith(t+"."));var edt=function(e,t){for(var n={};e.length;){var r=e[0],i=r.code,a=r.message,o=r.path.join(".");if(!n[o])if("unionErrors"in r){var l=r.unionErrors[0].errors[0];n[o]={message:l.message,type:l.code}}else n[o]={message:a,type:i};if("unionErrors"in r&&r.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return e.push(f)})}),t){var c=n[o].types,u=c&&c[r.code];n[o]=tme(o,t,n,i,u?[].concat(u,r.message):r.message)}e.shift()}return n},$p=function(e,t,n){return n===void 0&&(n={}),function(r,i,a){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(e[n.mode==="sync"?"parse":"parseAsync"](r,t)).then(function(u){return a.shouldUseNativeValidation&&pme({},a),{errors:{},values:n.raw?r:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:Qut(edt(o.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw o}))}catch(o){return Promise.reject(o)}}};const xp=Oct,gme=b.createContext({}),En=({...e})=>s.jsx(gme.Provider,{value:{name:e.name},children:s.jsx(Dct,{...e})}),jP=()=>{const e=b.useContext(gme),t=b.useContext(vme),{getFieldState:n,formState:r}=bP(),i=n(e.name,r);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:a}=t;return{id:a,name:e.name,formItemId:`${a}-form-item`,formDescriptionId:`${a}-form-item-description`,formMessageId:`${a}-form-item-message`,...i}},vme=b.createContext({}),bn=b.forwardRef(({className:e,...t},n)=>{const r=b.useId();return s.jsx(vme.Provider,{value:{id:r},children:s.jsx("div",{ref:n,className:Fe("space-y-2",e),...t})})});bn.displayName="FormItem";const wn=b.forwardRef(({className:e,...t},n)=>{const{error:r,formItemId:i}=jP();return s.jsx(dt,{ref:n,className:Fe(r&&"text-destructive",e),htmlFor:i,...t})});wn.displayName="FormLabel";const xn=b.forwardRef(({...e},t)=>{const{error:n,formItemId:r,formDescriptionId:i,formMessageId:a}=jP();return s.jsx(H6,{ref:t,id:r,"aria-describedby":n?`${i} ${a}`:`${i}`,"aria-invalid":!!n,...e})});xn.displayName="FormControl";const jg=b.forwardRef(({className:e,...t},n)=>{const{formDescriptionId:r}=jP();return s.jsx("p",{ref:n,id:r,className:Fe("text-sm text-muted-foreground",e),...t})});jg.displayName="FormDescription";const jn=b.forwardRef(({className:e,children:t,...n},r)=>{const{error:i,formMessageId:a}=jP(),o=i?String((i==null?void 0:i.message)??""):t;return o?s.jsx("p",{ref:r,id:a,className:Fe("text-sm font-medium text-destructive",e),...n,children:o}):null});jn.displayName="FormMessage";function kI(e,[t,n]){return Math.min(n,Math.max(t,e))}function tdt(e){const t=ndt(e),n=b.forwardRef((r,i)=>{const{children:a,...o}=r,l=b.Children.toArray(a),c=l.find(idt);if(c){const u=c.props.children,d=l.map(f=>f===c?b.Children.count(u)>1?b.Children.only(null):b.isValidElement(u)?u.props.children:null:f);return s.jsx(t,{...o,ref:i,children:b.isValidElement(u)?b.cloneElement(u,void 0,d):null})}return s.jsx(t,{...o,ref:i,children:a})});return n.displayName=`${e}.Slot`,n}function ndt(e){const t=b.forwardRef((n,r)=>{const{children:i,...a}=n;if(b.isValidElement(i)){const o=sdt(i),l=adt(a,i.props);return i.type!==b.Fragment&&(l.ref=r?yf(r,o):o),b.cloneElement(i,l)}return b.Children.count(i)>1?b.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var rdt=Symbol("radix.slottable");function idt(e){return b.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===rdt}function adt(e,t){const n={...t};for(const r in t){const i=e[r],a=t[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...e,...n}}function sdt(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function xme(e){const t=b.useRef({value:e,previous:e});return b.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var odt=[" ","Enter","ArrowUp","ArrowDown"],ldt=[" ","Enter"],vv="Select",[NP,_P,cdt]=VC(vv),[rb]=Xo(vv,[cdt,Ap]),SP=Ap(),[udt,Fp]=rb(vv),[ddt,fdt]=rb(vv),yme=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:i,onOpenChange:a,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:m,required:h,form:g}=e,y=SP(t),[v,x]=b.useState(null),[w,j]=b.useState(null),[_,S]=b.useState(!1),k=_j(u),[P,M]=nd({prop:r,defaultProp:i??!1,onChange:a,caller:vv}),[T,R]=nd({prop:o,defaultProp:l,onChange:c,caller:vv}),D=b.useRef(null),I=v?g||!!v.closest("form"):!0,[B,$]=b.useState(new Set),K=Array.from(B).map(Y=>Y.props.value).join(";");return s.jsx(pE,{...y,children:s.jsxs(udt,{required:h,scope:t,trigger:v,onTriggerChange:x,valueNode:w,onValueNodeChange:j,valueNodeHasChildren:_,onValueNodeHasChildrenChange:S,contentId:oc(),value:T,onValueChange:R,open:P,onOpenChange:M,dir:k,triggerPointerDownPosRef:D,disabled:m,children:[s.jsx(NP.Provider,{scope:t,children:s.jsx(ddt,{scope:e.__scopeSelect,onNativeOptionAdd:b.useCallback(Y=>{$(Q=>new Set(Q).add(Y))},[]),onNativeOptionRemove:b.useCallback(Y=>{$(Q=>{const H=new Set(Q);return H.delete(Y),H})},[]),children:n})}),I?s.jsxs(qme,{"aria-hidden":!0,required:h,tabIndex:-1,name:d,autoComplete:f,value:T,onChange:Y=>R(Y.target.value),disabled:m,form:g,children:[T===void 0?s.jsx("option",{value:""}):null,Array.from(B)]},K):null]})})};yme.displayName=vv;var bme="SelectTrigger",wme=b.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...i}=e,a=SP(n),o=Fp(bme,n),l=o.disabled||r,c=Fn(t,o.onTriggerChange),u=_P(n),d=b.useRef("touch"),[f,m,h]=Wme(y=>{const v=u().filter(j=>!j.disabled),x=v.find(j=>j.value===o.value),w=Hme(v,y,x);w!==void 0&&o.onValueChange(w.value)}),g=y=>{l||(o.onOpenChange(!0),h()),y&&(o.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return s.jsx(Cj,{asChild:!0,...a,children:s.jsx(sn.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":Ume(o.value)?"":void 0,...i,ref:c,onClick:_t(i.onClick,y=>{y.currentTarget.focus(),d.current!=="mouse"&&g(y)}),onPointerDown:_t(i.onPointerDown,y=>{d.current=y.pointerType;const v=y.target;v.hasPointerCapture(y.pointerId)&&v.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(g(y),y.preventDefault())}),onKeyDown:_t(i.onKeyDown,y=>{const v=f.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&m(y.key),!(v&&y.key===" ")&&odt.includes(y.key)&&(g(),y.preventDefault())})})})});wme.displayName=bme;var jme="SelectValue",Nme=b.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,children:a,placeholder:o="",...l}=e,c=Fp(jme,n),{onValueNodeHasChildrenChange:u}=c,d=a!==void 0,f=Fn(t,c.onValueNodeChange);return ja(()=>{u(d)},[u,d]),s.jsx(sn.span,{...l,ref:f,style:{pointerEvents:"none"},children:Ume(c.value)?s.jsx(s.Fragment,{children:o}):a})});Nme.displayName=jme;var hdt="SelectIcon",_me=b.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...i}=e;return s.jsx(sn.span,{"aria-hidden":!0,...i,ref:t,children:r||""})});_me.displayName=hdt;var mdt="SelectPortal",Sme=e=>s.jsx(T0,{asChild:!0,...e});Sme.displayName=mdt;var xv="SelectContent",kme=b.forwardRef((e,t)=>{const n=Fp(xv,e.__scopeSelect),[r,i]=b.useState();if(ja(()=>{i(new DocumentFragment)},[]),!n.open){const a=r;return a?Er.createPortal(s.jsx(Cme,{scope:e.__scopeSelect,children:s.jsx(NP.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),a):null}return s.jsx(Eme,{...e,ref:t})});kme.displayName=xv;var Ru=10,[Cme,Bp]=rb(xv),pdt="SelectContentImpl",gdt=tdt("SelectContent.RemoveScroll"),Eme=b.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:m,collisionPadding:h,sticky:g,hideWhenDetached:y,avoidCollisions:v,...x}=e,w=Fp(xv,n),[j,_]=b.useState(null),[S,k]=b.useState(null),P=Fn(t,oe=>_(oe)),[M,T]=b.useState(null),[R,D]=b.useState(null),I=_P(n),[B,$]=b.useState(!1),K=b.useRef(!1);b.useEffect(()=>{if(j)return yE(j)},[j]),uE();const Y=b.useCallback(oe=>{const[ve,...ne]=I().map(re=>re.ref.current),[xe]=ne.slice(-1),ue=document.activeElement;for(const re of oe)if(re===ue||(re==null||re.scrollIntoView({block:"nearest"}),re===ve&&S&&(S.scrollTop=0),re===xe&&S&&(S.scrollTop=S.scrollHeight),re==null||re.focus(),document.activeElement!==ue))return},[I,S]),Q=b.useCallback(()=>Y([M,j]),[Y,M,j]);b.useEffect(()=>{B&&Q()},[B,Q]);const{onOpenChange:H,triggerPointerDownPosRef:G}=w;b.useEffect(()=>{if(j){let oe={x:0,y:0};const ve=xe=>{var ue,re;oe={x:Math.abs(Math.round(xe.pageX)-(((ue=G.current)==null?void 0:ue.x)??0)),y:Math.abs(Math.round(xe.pageY)-(((re=G.current)==null?void 0:re.y)??0))}},ne=xe=>{oe.x<=10&&oe.y<=10?xe.preventDefault():j.contains(xe.target)||H(!1),document.removeEventListener("pointermove",ve),G.current=null};return G.current!==null&&(document.addEventListener("pointermove",ve),document.addEventListener("pointerup",ne,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ve),document.removeEventListener("pointerup",ne,{capture:!0})}}},[j,H,G]),b.useEffect(()=>{const oe=()=>H(!1);return window.addEventListener("blur",oe),window.addEventListener("resize",oe),()=>{window.removeEventListener("blur",oe),window.removeEventListener("resize",oe)}},[H]);const[U,ee]=Wme(oe=>{const ve=I().filter(ue=>!ue.disabled),ne=ve.find(ue=>ue.ref.current===document.activeElement),xe=Hme(ve,oe,ne);xe&&setTimeout(()=>xe.ref.current.focus())}),z=b.useCallback((oe,ve,ne)=>{const xe=!K.current&&!ne;(w.value!==void 0&&w.value===ve||xe)&&(T(oe),xe&&(K.current=!0))},[w.value]),F=b.useCallback(()=>j==null?void 0:j.focus(),[j]),ie=b.useCallback((oe,ve,ne)=>{const xe=!K.current&&!ne;(w.value!==void 0&&w.value===ve||xe)&&D(oe)},[w.value]),ce=r==="popper"?CI:Pme,te=ce===CI?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:m,collisionPadding:h,sticky:g,hideWhenDetached:y,avoidCollisions:v}:{};return s.jsx(Cme,{scope:n,content:j,viewport:S,onViewportChange:k,itemRefCallback:z,selectedItem:M,onItemLeave:F,itemTextRefCallback:ie,focusSelectedItem:Q,selectedItemText:R,position:r,isPositioned:B,searchRef:U,children:s.jsx(Pj,{as:gdt,allowPinchZoom:!0,children:s.jsx(Sj,{asChild:!0,trapped:w.open,onMountAutoFocus:oe=>{oe.preventDefault()},onUnmountAutoFocus:_t(i,oe=>{var ve;(ve=w.trigger)==null||ve.focus({preventScroll:!0}),oe.preventDefault()}),children:s.jsx(kv,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:oe=>oe.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:s.jsx(ce,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:oe=>oe.preventDefault(),...x,...te,onPlaced:()=>$(!0),ref:P,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:_t(x.onKeyDown,oe=>{const ve=oe.ctrlKey||oe.altKey||oe.metaKey;if(oe.key==="Tab"&&oe.preventDefault(),!ve&&oe.key.length===1&&ee(oe.key),["ArrowUp","ArrowDown","Home","End"].includes(oe.key)){let xe=I().filter(ue=>!ue.disabled).map(ue=>ue.ref.current);if(["ArrowUp","End"].includes(oe.key)&&(xe=xe.slice().reverse()),["ArrowUp","ArrowDown"].includes(oe.key)){const ue=oe.target,re=xe.indexOf(ue);xe=xe.slice(re+1)}setTimeout(()=>Y(xe)),oe.preventDefault()}})})})})})})});Eme.displayName=pdt;var vdt="SelectItemAlignedPosition",Pme=b.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...i}=e,a=Fp(xv,n),o=Bp(xv,n),[l,c]=b.useState(null),[u,d]=b.useState(null),f=Fn(t,P=>d(P)),m=_P(n),h=b.useRef(!1),g=b.useRef(!0),{viewport:y,selectedItem:v,selectedItemText:x,focusSelectedItem:w}=o,j=b.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&u&&y&&v&&x){const P=a.trigger.getBoundingClientRect(),M=u.getBoundingClientRect(),T=a.valueNode.getBoundingClientRect(),R=x.getBoundingClientRect();if(a.dir!=="rtl"){const ue=R.left-M.left,re=T.left-ue,Se=P.left-re,ae=P.width+Se,X=Math.max(ae,M.width),Ae=window.innerWidth-Ru,qe=kI(re,[Ru,Math.max(Ru,Ae-X)]);l.style.minWidth=ae+"px",l.style.left=qe+"px"}else{const ue=M.right-R.right,re=window.innerWidth-T.right-ue,Se=window.innerWidth-P.right-re,ae=P.width+Se,X=Math.max(ae,M.width),Ae=window.innerWidth-Ru,qe=kI(re,[Ru,Math.max(Ru,Ae-X)]);l.style.minWidth=ae+"px",l.style.right=qe+"px"}const D=m(),I=window.innerHeight-Ru*2,B=y.scrollHeight,$=window.getComputedStyle(u),K=parseInt($.borderTopWidth,10),Y=parseInt($.paddingTop,10),Q=parseInt($.borderBottomWidth,10),H=parseInt($.paddingBottom,10),G=K+Y+B+H+Q,U=Math.min(v.offsetHeight*5,G),ee=window.getComputedStyle(y),z=parseInt(ee.paddingTop,10),F=parseInt(ee.paddingBottom,10),ie=P.top+P.height/2-Ru,ce=I-ie,te=v.offsetHeight/2,oe=v.offsetTop+te,ve=K+Y+oe,ne=G-ve;if(ve<=ie){const ue=D.length>0&&v===D[D.length-1].ref.current;l.style.bottom="0px";const re=u.clientHeight-y.offsetTop-y.offsetHeight,Se=Math.max(ce,te+(ue?F:0)+re+Q),ae=ve+Se;l.style.height=ae+"px"}else{const ue=D.length>0&&v===D[0].ref.current;l.style.top="0px";const Se=Math.max(ie,K+y.offsetTop+(ue?z:0)+te)+ne;l.style.height=Se+"px",y.scrollTop=ve-ie+y.offsetTop}l.style.margin=`${Ru}px 0`,l.style.minHeight=U+"px",l.style.maxHeight=I+"px",r==null||r(),requestAnimationFrame(()=>h.current=!0)}},[m,a.trigger,a.valueNode,l,u,y,v,x,a.dir,r]);ja(()=>j(),[j]);const[_,S]=b.useState();ja(()=>{u&&S(window.getComputedStyle(u).zIndex)},[u]);const k=b.useCallback(P=>{P&&g.current===!0&&(j(),w==null||w(),g.current=!1)},[j,w]);return s.jsx(ydt,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:h,onScrollButtonChange:k,children:s.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:s.jsx(sn.div,{...i,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});Pme.displayName=vdt;var xdt="SelectPopperPosition",CI=b.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=Ru,...a}=e,o=SP(n);return s.jsx(gE,{...o,...a,ref:t,align:r,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});CI.displayName=xdt;var[ydt,zF]=rb(xv,{}),EI="SelectViewport",Ame=b.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...i}=e,a=Bp(EI,n),o=zF(EI,n),l=Fn(t,a.onViewportChange),c=b.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),s.jsx(NP.Slot,{scope:n,children:s.jsx(sn.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:_t(i.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:m}=o;if(m!=null&&m.current&&f){const h=Math.abs(c.current-d.scrollTop);if(h>0){const g=window.innerHeight-Ru*2,y=parseFloat(f.style.minHeight),v=parseFloat(f.style.height),x=Math.max(y,v);if(x<g){const w=x+h,j=Math.min(g,w),_=w-j;f.style.height=j+"px",f.style.bottom==="0px"&&(d.scrollTop=_>0?_:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});Ame.displayName=EI;var Tme="SelectGroup",[bdt,wdt]=rb(Tme),jdt=b.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=oc();return s.jsx(bdt,{scope:n,id:i,children:s.jsx(sn.div,{role:"group","aria-labelledby":i,...r,ref:t})})});jdt.displayName=Tme;var Ome="SelectLabel",Lme=b.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=wdt(Ome,n);return s.jsx(sn.div,{id:i.id,...r,ref:t})});Lme.displayName=Ome;var Bk="SelectItem",[Ndt,Mme]=rb(Bk),Ime=b.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:a,...o}=e,l=Fp(Bk,n),c=Bp(Bk,n),u=l.value===r,[d,f]=b.useState(a??""),[m,h]=b.useState(!1),g=Fn(t,w=>{var j;return(j=c.itemRefCallback)==null?void 0:j.call(c,w,r,i)}),y=oc(),v=b.useRef("touch"),x=()=>{i||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(Ndt,{scope:n,value:r,disabled:i,textId:y,isSelected:u,onItemTextChange:b.useCallback(w=>{f(j=>j||((w==null?void 0:w.textContent)??"").trim())},[]),children:s.jsx(NP.ItemSlot,{scope:n,value:r,disabled:i,textValue:d,children:s.jsx(sn.div,{role:"option","aria-labelledby":y,"data-highlighted":m?"":void 0,"aria-selected":u&&m,"data-state":u?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:g,onFocus:_t(o.onFocus,()=>h(!0)),onBlur:_t(o.onBlur,()=>h(!1)),onClick:_t(o.onClick,()=>{v.current!=="mouse"&&x()}),onPointerUp:_t(o.onPointerUp,()=>{v.current==="mouse"&&x()}),onPointerDown:_t(o.onPointerDown,w=>{v.current=w.pointerType}),onPointerMove:_t(o.onPointerMove,w=>{var j;v.current=w.pointerType,i?(j=c.onItemLeave)==null||j.call(c):v.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:_t(o.onPointerLeave,w=>{var j;w.currentTarget===document.activeElement&&((j=c.onItemLeave)==null||j.call(c))}),onKeyDown:_t(o.onKeyDown,w=>{var _;((_=c.searchRef)==null?void 0:_.current)!==""&&w.key===" "||(ldt.includes(w.key)&&x(),w.key===" "&&w.preventDefault())})})})})});Ime.displayName=Bk;var w1="SelectItemText",Dme=b.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,...a}=e,o=Fp(w1,n),l=Bp(w1,n),c=Mme(w1,n),u=fdt(w1,n),[d,f]=b.useState(null),m=Fn(t,x=>f(x),c.onItemTextChange,x=>{var w;return(w=l.itemTextRefCallback)==null?void 0:w.call(l,x,c.value,c.disabled)}),h=d==null?void 0:d.textContent,g=b.useMemo(()=>s.jsx("option",{value:c.value,disabled:c.disabled,children:h},c.value),[c.disabled,c.value,h]),{onNativeOptionAdd:y,onNativeOptionRemove:v}=u;return ja(()=>(y(g),()=>v(g)),[y,v,g]),s.jsxs(s.Fragment,{children:[s.jsx(sn.span,{id:c.textId,...a,ref:m}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Er.createPortal(a.children,o.valueNode):null]})});Dme.displayName=w1;var Rme="SelectItemIndicator",$me=b.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return Mme(Rme,n).isSelected?s.jsx(sn.span,{"aria-hidden":!0,...r,ref:t}):null});$me.displayName=Rme;var PI="SelectScrollUpButton",Fme=b.forwardRef((e,t)=>{const n=Bp(PI,e.__scopeSelect),r=zF(PI,e.__scopeSelect),[i,a]=b.useState(!1),o=Fn(t,r.onScrollButtonChange);return ja(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;a(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),i?s.jsx(zme,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});Fme.displayName=PI;var AI="SelectScrollDownButton",Bme=b.forwardRef((e,t)=>{const n=Bp(AI,e.__scopeSelect),r=zF(AI,e.__scopeSelect),[i,a]=b.useState(!1),o=Fn(t,r.onScrollButtonChange);return ja(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;a(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),i?s.jsx(zme,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});Bme.displayName=AI;var zme=b.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=e,a=Bp("SelectScrollButton",n),o=b.useRef(null),l=_P(n),c=b.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return b.useEffect(()=>()=>c(),[c]),ja(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),s.jsx(sn.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:_t(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:_t(i.onPointerMove,()=>{var u;(u=a.onItemLeave)==null||u.call(a),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:_t(i.onPointerLeave,()=>{c()})})}),_dt="SelectSeparator",Vme=b.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return s.jsx(sn.div,{"aria-hidden":!0,...r,ref:t})});Vme.displayName=_dt;var TI="SelectArrow",Sdt=b.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=SP(n),a=Fp(TI,n),o=Bp(TI,n);return a.open&&o.position==="popper"?s.jsx(vE,{...i,...r,ref:t}):null});Sdt.displayName=TI;var kdt="SelectBubbleInput",qme=b.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const i=b.useRef(null),a=Fn(r,i),o=xme(t);return b.useEffect(()=>{const l=i.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&d){const f=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(f)}},[o,t]),s.jsx(sn.select,{...n,style:{...Ire,...n.style},ref:a,defaultValue:t})});qme.displayName=kdt;function Ume(e){return e===""||e===void 0}function Wme(e){const t=wa(e),n=b.useRef(""),r=b.useRef(0),i=b.useCallback(o=>{const l=n.current+o;t(l),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),a=b.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return b.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,a]}function Hme(e,t,n){const i=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let o=Cdt(e,Math.max(a,0));i.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function Cdt(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var Edt=yme,Kme=wme,Pdt=Nme,Adt=_me,Tdt=Sme,Gme=kme,Odt=Ame,Yme=Lme,Xme=Ime,Ldt=Dme,Mdt=$me,Zme=Fme,Qme=Bme,Jme=Vme;const An=Edt,Tn=Pdt,Nn=b.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(Kme,{ref:r,className:Fe("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,s.jsx(Adt,{asChild:!0,children:s.jsx(iv,{className:"h-4 w-4 opacity-50"})})]}));Nn.displayName=Kme.displayName;const epe=b.forwardRef(({className:e,...t},n)=>s.jsx(Zme,{ref:n,className:Fe("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(WC,{className:"h-4 w-4"})}));epe.displayName=Zme.displayName;const tpe=b.forwardRef(({className:e,...t},n)=>s.jsx(Qme,{ref:n,className:Fe("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(iv,{className:"h-4 w-4"})}));tpe.displayName=Qme.displayName;const _n=b.forwardRef(({className:e,children:t,position:n="popper",...r},i)=>s.jsx(Tdt,{children:s.jsxs(Gme,{ref:i,className:Fe("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[s.jsx(epe,{}),s.jsx(Odt,{className:Fe("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(tpe,{})]})}));_n.displayName=Gme.displayName;const Idt=b.forwardRef(({className:e,...t},n)=>s.jsx(Yme,{ref:n,className:Fe("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));Idt.displayName=Yme.displayName;const at=b.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(Xme,{ref:r,className:Fe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(Mdt,{children:s.jsx(Rw,{className:"h-4 w-4"})})}),s.jsx(Ldt,{children:t})]}));at.displayName=Xme.displayName;const Ddt=b.forwardRef(({className:e,...t},n)=>s.jsx(Jme,{ref:n,className:Fe("-mx-1 my-1 h-px bg-muted",e),...t}));Ddt.displayName=Jme.displayName;const Rdt=pj("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Hd=b.forwardRef(({className:e,variant:t,...n},r)=>s.jsx("div",{ref:r,role:"alert",className:Fe(Rdt({variant:t}),e),...n}));Hd.displayName="Alert";const U2=b.forwardRef(({className:e,...t},n)=>s.jsx("h5",{ref:n,className:Fe("mb-1 font-medium leading-none tracking-tight",e),...t}));U2.displayName="AlertTitle";const Kd=b.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:Fe("text-sm [&_p]:leading-relaxed",e),...t}));Kd.displayName="AlertDescription";const $dt=Wa({value:xt().min(1,"El valor es requerido"),companyId:Ii().min(1,"La empresa es requerida"),month:xt().min(1,"El mes es requerido"),year:Ii().min(2020,"El ao es requerido")});function Fdt({showHeader:e=!0,defaultCompanyId:t,compact:n=!1}={}){const[r,i]=b.useState("idle"),[a,o]=b.useState(""),[l,c]=b.useState(1),{toast:u}=zi(),d=new Date,f=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],m=f[d.getMonth()],h=d.getFullYear(),g=Rp({resolver:$p($dt),defaultValues:{value:"",companyId:t||1,month:m,year:h}});b.useEffect(()=>{t&&t!==g.getValues("companyId")&&(g.setValue("companyId",t),c(t))},[t,g]);const{data:y=[]}=At({queryKey:["/api/companies"],enabled:!0}),v=g.watch("companyId");b.useEffect(()=>{c(v)},[v]);const x=()=>l===1?"Valor en KG":"Valor en unidades",w=()=>l===1?"Ej: 55000":"Ej: 850000",j=f,_=[h-1,h,h+1],S=Wn({mutationFn:async P=>{console.log("[SalesUpdate] Enviando actualizacin:",P);const M=String(P.value||""),T=parseFloat(M.replace(/[^0-9.]/g,"")),R=`${P.month} ${P.year}`,D={value:T,companyId:P.companyId,period:R,month:P.month,year:P.year};return console.log("[SalesUpdate] Enviando:",D),await(await Dt("POST","/api/sales/update-month",D)).json()},onSuccess:async(P,M)=>{var D;i("success"),o(P.message||"Ventas actualizadas correctamente"),u({title:" Actualizacin exitosa",description:P.message||"Las ventas han sido registradas correctamente."});const T=M.companyId,R=(D=P.data)==null?void 0:D.kpiId;console.log("[SalesUpdate] Invalidando queries para companyId:",T,"kpiId:",R),ii.invalidateQueries({predicate:I=>{const B=I.queryKey[0];return typeof B=="string"&&(B.includes("/api/kpi")||B.includes("/api/kpis")||B.includes("/api/collaborators-performance"))}}),ii.invalidateQueries({queryKey:["/api/collaborators-performance"]}),ii.invalidateQueries({queryKey:["/api/kpi-history"],exact:!1}),R&&ii.invalidateQueries({queryKey:[`/api/kpi-history/${R}`],exact:!1}),ii.invalidateQueries({queryKey:["/api/kpis"],exact:!1,predicate:I=>{if(Array.isArray(I.queryKey)&&I.queryKey.length>1){const B=I.queryKey[1];if(B&&typeof B=="object"&&"companyId"in B)return B.companyId===T}return!1}}),setTimeout(async()=>{await ii.refetchQueries({predicate:I=>{const B=I.queryKey[0];return typeof B=="string"&&(B.includes("/api/kpi-history")||B.includes("/api/kpis"))}}),R&&await ii.refetchQueries({queryKey:[`/api/kpi-history/${R}`],exact:!1}),console.log("[SalesUpdate]  Queries refetched despus de actualizacin")},500),g.setValue("value","")},onError:P=>{i("error"),o((P==null?void 0:P.message)||"Error al actualizar los datos de ventas"),u({title:" Error en la actualizacin",description:(P==null?void 0:P.message)||"Error al actualizar los datos de ventas",variant:"destructive"})}}),k=P=>{i("idle"),S.mutate(P)};return n?s.jsx("div",{className:"w-full",children:s.jsx(xp,{...g,children:s.jsxs("form",{onSubmit:g.handleSubmit(k),children:[s.jsxs("div",{className:"flex items-end gap-3 flex-wrap",children:[s.jsx(En,{control:g.control,name:"companyId",render:({field:P})=>s.jsxs(bn,{className:"flex-1 min-w-[140px]",children:[s.jsx(wn,{className:"text-xs text-muted-foreground mb-1.5",children:"Empresa"}),s.jsxs(An,{onValueChange:M=>{P.onChange(parseInt(M)),c(parseInt(M))},defaultValue:P.value.toString(),children:[s.jsx(xn,{children:s.jsx(Nn,{className:"h-9 text-sm",children:s.jsx(Tn,{})})}),s.jsx(_n,{children:y.map(M=>s.jsx(at,{value:M.id.toString(),children:M.name},M.id))})]}),s.jsx(jn,{className:"text-xs"})]})}),s.jsx(En,{control:g.control,name:"month",render:({field:P})=>s.jsxs(bn,{className:"min-w-[120px]",children:[s.jsx(wn,{className:"text-xs text-muted-foreground mb-1.5",children:"Mes"}),s.jsxs(An,{onValueChange:P.onChange,value:P.value,children:[s.jsx(xn,{children:s.jsx(Nn,{className:"h-9 text-sm",children:s.jsx(Tn,{})})}),s.jsx(_n,{children:j.map(M=>s.jsx(at,{value:M,children:M},M))})]}),s.jsx(jn,{className:"text-xs"})]})}),s.jsx(En,{control:g.control,name:"year",render:({field:P})=>{var M;return s.jsxs(bn,{className:"min-w-[100px]",children:[s.jsx(wn,{className:"text-xs text-muted-foreground mb-1.5",children:"Ao"}),s.jsxs(An,{onValueChange:T=>P.onChange(parseInt(T)),value:(M=P.value)==null?void 0:M.toString(),children:[s.jsx(xn,{children:s.jsx(Nn,{className:"h-9 text-sm",children:s.jsx(Tn,{})})}),s.jsx(_n,{children:_.map(T=>s.jsx(at,{value:T.toString(),children:T},T))})]}),s.jsx(jn,{className:"text-xs"})]})}}),s.jsx(En,{control:g.control,name:"value",render:({field:P})=>s.jsxs(bn,{className:"flex-1 min-w-[180px]",children:[s.jsx(wn,{className:"text-xs text-muted-foreground mb-1.5",children:x()}),s.jsx(xn,{children:s.jsx(gt,{...P,placeholder:w(),type:"text",className:"h-9 text-sm",onChange:M=>{const T=M.target.value.replace(/[^0-9]/g,""),R=T?parseInt(T).toLocaleString("es-MX"):"";P.onChange(R)}})}),s.jsx(jn,{className:"text-xs"})]})}),s.jsx(Oe,{type:"submit",className:"h-9 px-6 text-sm font-medium",disabled:S.isPending,children:S.isPending?s.jsxs(s.Fragment,{children:[s.jsx(sr,{className:"h-4 w-4 mr-2 animate-spin"}),"Actualizando..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Pr,{className:"h-4 w-4 mr-2"}),"Actualizar"]})})]}),(r==="success"||r==="error")&&s.jsxs("div",{className:"mt-3",children:[r==="success"&&s.jsxs(Hd,{variant:"default",className:"py-2",children:[s.jsx(lf,{className:"h-4 w-4 text-green-600"}),s.jsx(Kd,{className:"text-xs text-green-700 dark:text-green-400",children:a})]}),r==="error"&&s.jsxs(Hd,{variant:"destructive",className:"py-2",children:[s.jsx(Nl,{className:"h-4 w-4"}),s.jsx(Kd,{className:"text-xs",children:a})]})]})]})})}):s.jsx("div",{className:e?"max-w-lg mx-auto":"w-full",children:s.jsx(xp,{...g,children:s.jsxs("form",{onSubmit:g.handleSubmit(k),className:"space-y-6",children:[s.jsx(En,{control:g.control,name:"companyId",render:({field:P})=>s.jsxs(bn,{children:[s.jsxs(wn,{className:"flex items-center gap-2 font-semibold text-gray-700 dark:text-gray-200 text-sm mb-2",children:[s.jsx(sp,{className:"h-4 w-4 text-blue-600"}),"Compaa"]}),s.jsxs(An,{onValueChange:M=>{P.onChange(parseInt(M)),c(parseInt(M))},defaultValue:P.value.toString(),children:[s.jsx(xn,{children:s.jsx(Nn,{className:"h-12 text-base border-2 hover:border-blue-400 transition-colors bg-white dark:bg-slate-800",children:s.jsx(Tn,{placeholder:"Selecciona una compaa"})})}),s.jsx(_n,{children:y.map(M=>s.jsx(at,{value:M.id.toString(),children:M.name},M.id))})]}),s.jsx(jn,{})]})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(En,{control:g.control,name:"month",render:({field:P})=>s.jsxs(bn,{children:[s.jsxs(wn,{className:"flex items-center gap-2 font-semibold text-gray-700 dark:text-gray-200 text-sm mb-2",children:[s.jsx(Xa,{className:"h-4 w-4 text-blue-600"}),"Mes"]}),s.jsxs(An,{onValueChange:P.onChange,value:P.value,children:[s.jsx(xn,{children:s.jsx(Nn,{className:"h-12 text-base border-2 hover:border-blue-400 transition-colors bg-white dark:bg-slate-800",children:s.jsx(Tn,{placeholder:"Mes"})})}),s.jsx(_n,{children:j.map(M=>s.jsx(at,{value:M,children:M},M))})]}),s.jsx(jn,{})]})}),s.jsx(En,{control:g.control,name:"year",render:({field:P})=>{var M;return s.jsxs(bn,{children:[s.jsxs(wn,{className:"flex items-center gap-2 font-semibold text-gray-700 dark:text-gray-200 text-sm mb-2",children:[s.jsx(Xa,{className:"h-4 w-4 text-blue-600"}),"Ao"]}),s.jsxs(An,{onValueChange:T=>P.onChange(parseInt(T)),value:(M=P.value)==null?void 0:M.toString(),children:[s.jsx(xn,{children:s.jsx(Nn,{className:"h-12 text-base border-2 hover:border-blue-400 transition-colors bg-white dark:bg-slate-800",children:s.jsx(Tn,{placeholder:"Ao"})})}),s.jsx(_n,{children:_.map(T=>s.jsx(at,{value:T.toString(),children:T},T))})]}),s.jsx(jn,{})]})}})]}),s.jsx("div",{className:"relative",children:s.jsx(En,{control:g.control,name:"value",render:({field:P})=>s.jsxs(bn,{children:[s.jsxs(wn,{className:"flex items-center justify-center gap-2 font-semibold text-gray-700 dark:text-gray-200 mb-3",children:[s.jsx("div",{className:"p-1.5 rounded-lg bg-gradient-to-br from-blue-500 to-indigo-600",children:s.jsx(kh,{className:"h-5 w-5 text-white"})}),s.jsx("span",{className:"text-lg",children:x()})]}),s.jsx(xn,{children:s.jsxs("div",{className:"relative",children:[s.jsx(gt,{...P,placeholder:w(),type:"text",className:"h-16 text-2xl text-center font-bold border-3 border-blue-300 focus:border-blue-500 focus:ring-4 focus:ring-blue-200 dark:focus:ring-blue-900/30 rounded-xl bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-blue-950/20 dark:to-indigo-950/20 transition-all duration-200",onChange:M=>{const T=M.target.value.replace(/[^0-9]/g,""),R=T?parseInt(T).toLocaleString("es-MX"):"";P.onChange(R)}}),s.jsx("div",{className:"absolute -top-2 -right-2",children:s.jsx(cf,{className:"h-5 w-5 text-blue-400 animate-pulse"})})]})}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 text-center mt-2",children:"Ingresa el valor total del mes seleccionado"}),s.jsx(jn,{})]})})}),r==="success"&&s.jsxs(Hd,{variant:"default",className:"bg-gradient-to-r from-green-50 to-emerald-50 border-2 border-green-300 dark:bg-green-900/30 dark:border-green-700 animate-in slide-in-from-top-2",children:[s.jsx(lf,{className:"h-5 w-5 text-green-600 dark:text-green-400"}),s.jsx(U2,{className:"text-green-800 dark:text-green-300 text-base font-semibold",children:"Actualizacin completada!"}),s.jsx(Kd,{className:"text-green-700 dark:text-green-400",children:a})]}),r==="error"&&s.jsxs(Hd,{variant:"destructive",className:"animate-in slide-in-from-top-2",children:[s.jsx(Nl,{className:"h-5 w-5"}),s.jsx(U2,{className:"text-base font-semibold",children:"Error"}),s.jsx(Kd,{children:a})]}),s.jsxs(Oe,{type:"submit",className:"w-full h-16 text-lg font-bold bg-gradient-to-r from-blue-600 via-blue-700 to-indigo-600 hover:from-blue-700 hover:via-blue-800 hover:to-indigo-700 text-white shadow-lg hover:shadow-xl transition-all duration-200 rounded-xl group relative overflow-hidden",disabled:S.isPending,children:[s.jsx("span",{className:"relative z-10 flex items-center justify-center gap-2",children:S.isPending?s.jsxs(s.Fragment,{children:[s.jsx(sr,{className:"h-6 w-6 animate-spin"}),s.jsx("span",{children:"Actualizando..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(cf,{className:"h-5 w-5 group-hover:animate-pulse"}),s.jsxs("span",{children:["Actualizar ",g.watch("month")," ",g.watch("year")]})]})}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000"})]})]})})})}function Bdt({kpiId:e,isOpen:t,onClose:n}){var K,Y,Q,H,G,U;const[r,i]=b.useState("overview"),a=()=>{const ee=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],z=new Date;return`${ee[z.getMonth()]} ${z.getFullYear()}`},[o,l]=b.useState({value:"",period:a(),comments:""}),{toast:c}=zi(),u=Vs(),{user:d,isAdmin:f}=ud(),[m,h]=b.useState(!1),[g,y]=b.useState(""),{data:v,isLoading:x}=At({queryKey:["/api/kpis",e],queryFn:async()=>e?await(await Dt("GET",`/api/kpis/${e}`)).json():null,enabled:!!e&&t}),{data:w,isLoading:j}=At({queryKey:["/api/kpi-values",e],queryFn:async()=>e?await(await Dt("GET",`/api/kpi-values?kpiId=${e}`)).json():[],enabled:!!e&&t}),{data:_}=At({queryKey:["/api/areas",v==null?void 0:v.areaId],queryFn:async()=>v!=null&&v.areaId?await(await Dt("GET",`/api/areas/${v.areaId}`)).json():null,enabled:!!(v!=null&&v.areaId)&&t}),{data:S}=At({queryKey:["/api/companies",v==null?void 0:v.companyId],queryFn:async()=>v!=null&&v.companyId?await(await Dt("GET",`/api/companies/${v.companyId}`)).json():null,enabled:!!(v!=null&&v.companyId)&&t});b.useEffect(()=>{v&&y(v.goal||v.target||"")},[v]);const k=Wn({mutationFn:async ee=>Dt("PUT",`/api/kpis/${e}`,{goal:ee,target:ee}),onSuccess:()=>{u.invalidateQueries({queryKey:["/api/kpis",e]}),u.invalidateQueries({queryKey:["/api/kpis"]}),h(!1),c({title:"Meta actualizada",description:"La meta del KPI se ha actualizado correctamente."})},onError:ee=>{c({title:"Error al actualizar meta",description:ee.message||"No se pudo actualizar la meta.",variant:"destructive"})}}),P=()=>{if(!g||g.trim()===""){c({title:"Error",description:"La meta no puede estar vaca.",variant:"destructive"});return}k.mutate(g)},M=()=>{y((v==null?void 0:v.goal)||(v==null?void 0:v.target)||""),h(!1)},T=Wn({mutationFn:async ee=>await(await Dt("POST","/api/kpi-values",ee)).json(),onSuccess:()=>{c({title:"Actualizacin registrada",description:"La actualizacin del KPI ha sido registrada exitosamente."}),l({value:"",period:a(),comments:""}),u.invalidateQueries({queryKey:["/api/kpi-values"]}),u.invalidateQueries({queryKey:["/api/kpi-values",e]})},onError:ee=>{c({title:"Error",description:ee.message||"No se pudo registrar la actualizacin. Intente nuevamente.",variant:"destructive"})}}),R=ee=>{const{name:z,value:F}=ee.target;l(ie=>({...ie,[z]:F}))},D=(ee,z)=>{const F=(v==null?void 0:v.name)||"";console.log(`KPI ${F} - Valor actual: ${ee}, Objetivo: ${z}`);const ie=Cct(ee,z,F),ce=kct(ee,z,F);return console.log(`Porcentaje calculado: ${ie}, Estado: ${ce}`),{compliancePercentage:ie,status:ce}},I=ee=>{ee.preventDefault();const z=(v==null?void 0:v.goal)??(v==null?void 0:v.target)??null;if(!e||!z)return;const{compliancePercentage:F,status:ie}=D(o.value,z);console.log(`Enviando actualizacin de KPI ${e}: valor=${o.value}, porcentaje=${F}, estado=${ie}`),T.mutate({...o,compliancePercentage:F,status:ie,kpiId:e},{onSuccess:()=>{console.log("Actualizando todas las consultas de KPIs para refrescar datos en tiempo real"),u.invalidateQueries({queryKey:["/api/kpi-values"]}),u.invalidateQueries({queryKey:["/api/kpis"]}),u.invalidateQueries({queryKey:["/api/collaborators-performance"]}),u.invalidateQueries()}})},B=w&&Array.isArray(w)?w.filter(ee=>ee.kpiId===e).sort((ee,z)=>{const F=te=>{const oe={Enero:1,Febrero:2,Marzo:3,Abril:4,Mayo:5,Junio:6,Julio:7,Agosto:8,Septiembre:9,Octubre:10,Noviembre:11,Diciembre:12},ve=te.split(" ");if(ve.length>=2){const ne=ve[0],xe=parseInt(ve[1],10);if(oe[ne]&&!isNaN(xe))return xe*100+oe[ne]}return new Date(te).getTime()},ie=F(ee.period),ce=F(z.period);return ie&&ce?ie-ce:new Date(ee.date).getTime()-new Date(z.date).getTime()}).map(ee=>{let z=ee.value;return typeof ee.value=="string"&&ee.value.includes("KG")&&(z=parseInt(ee.value.replace(/[^0-9,.]/g,"").replace(",",""),10)),{date:ee.period,originalDate:uK(new Date(ee.date)),value:ee.value,numericValue:z,status:ee.status,compliancePercentage:ee.compliancePercentage?parseFloat(ee.compliancePercentage.replace("%","")):0}}):[];B.reduce((ee,z)=>{const F=ee.findIndex(ie=>ie.name===z.status);return F>=0?ee[F].value+=1:ee.push({name:z.status,value:1}),ee},[]);const $=v&&(v.id===39||v.id===1||v.name&&v.name.toLowerCase().includes("volumen")&&v.name.toLowerCase().includes("ventas")&&!v.name.toLowerCase().includes("clientes")&&!v.name.toLowerCase().includes("retention")&&!v.name.toLowerCase().includes("retencin"));return t?s.jsx(zr,{open:t,onOpenChange:ee=>!ee&&n(),children:s.jsx(Ir,{className:"max-w-4xl max-h-[95vh] overflow-y-auto p-3 sm:p-6",children:x?s.jsx("div",{className:"flex justify-center items-center h-40",children:s.jsx(sr,{className:"h-8 w-8 animate-spin text-primary"})}):v?s.jsxs(s.Fragment,{children:[s.jsxs(Vr,{children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2",children:[s.jsx(qr,{className:"text-lg sm:text-xl font-bold",children:v.name}),s.jsx(Ct,{className:`text-xs whitespace-nowrap ${v.status==="complies"?"bg-green-100 text-green-800 hover:bg-green-200 dark:bg-green-900/40 dark:text-green-400":v.status==="alert"?"bg-yellow-100 text-yellow-800 hover:bg-yellow-200 dark:bg-yellow-900/40 dark:text-yellow-400":"bg-red-100 text-red-800 hover:bg-red-200 dark:bg-red-900/40 dark:text-red-400"}`,children:v.status==="complies"?"Cumple":v.status==="alert"?"Alerta":"No cumple"})]}),s.jsx(Rs,{children:s.jsxs("div",{className:"mt-1 sm:mt-2 space-y-0.5 sm:space-y-1 text-xs sm:text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Objetivo:"})," ",m?s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsx(gt,{type:"number",step:"0.01",value:g,onChange:ee=>y(ee.target.value),className:"w-32 h-7 text-xs",placeholder:"Meta"}),s.jsx(Oe,{size:"sm",variant:"ghost",className:"h-7 w-7 p-0",onClick:P,disabled:k.isPending,children:s.jsx(KC,{className:"h-3 w-3 text-green-600"})}),s.jsx(Oe,{size:"sm",variant:"ghost",className:"h-7 w-7 p-0",onClick:M,disabled:k.isPending,children:s.jsx(Ra,{className:"h-3 w-3 text-red-600"})})]}):s.jsx("span",{children:v.goal??v.target??"Sin meta definida"})]}),f&&!m&&s.jsx(Oe,{size:"sm",variant:"ghost",className:"h-6 w-6 p-0",onClick:()=>h(!0),children:s.jsx(s_e,{className:"h-3 w-3"})})]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"rea:"})," ",(_==null?void 0:_.name)||"Cargando..."]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Responsable:"})," ",v.responsible||"No asignado"]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Frecuencia:"})," ",v.frequency==="weekly"?"Semanal":v.frequency==="monthly"?"Mensual":v.frequency==="quarterly"?"Trimestral":v.frequency==="yearly"?"Anual":v.frequency]})]})})]}),s.jsxs(Tp,{value:r,onValueChange:i,className:"w-full mt-3 sm:mt-6",children:[s.jsxs(Rh,{className:"grid w-full grid-cols-3",children:[s.jsx(Ki,{className:"text-xs sm:text-sm py-1.5",value:"overview",children:"Visin General"}),s.jsx(Ki,{className:"text-xs sm:text-sm py-1.5",value:"history",children:"Historial"}),s.jsx(Ki,{className:"text-xs sm:text-sm py-1.5",value:"update",children:"Actualizar"})]}),s.jsxs(ds,{value:"overview",className:"space-y-3 sm:space-y-4 pt-2 sm:pt-4",children:[s.jsxs(Ue,{className:"shadow-sm",children:[s.jsxs(Vt,{className:"pb-2 sm:pb-4",children:[s.jsxs(an,{className:"text-sm sm:text-base",children:["Tendencia de ",(v==null?void 0:v.name)||"KPI"]}),s.jsx(fi,{className:"text-xs sm:text-sm",children:"Evolucin del KPI en el tiempo"})]}),s.jsx(We,{children:B.length>0?s.jsx(kr,{width:"100%",height:250,children:s.jsxs(id,{data:B,margin:{top:5,right:10,left:0,bottom:5},children:[s.jsx(sa,{strokeDasharray:"3 3",stroke:"hsl(var(--chart-grid))",opacity:.3}),s.jsx(vr,{dataKey:"date",tick:{fontSize:10,fill:"hsl(var(--muted-foreground))"},axisLine:{stroke:"hsl(var(--chart-axis))",opacity:.5},tickLine:!1}),s.jsx(dr,{label:{value:(v==null?void 0:v.unit)||"Valor",angle:-90,position:"insideLeft",style:{fontSize:"10px",fill:"hsl(var(--muted-foreground))"}},tick:{fontSize:10,fill:"hsl(var(--muted-foreground))"},axisLine:{stroke:"hsl(var(--chart-axis))",opacity:.5},tickLine:!1}),s.jsx(mr,{formatter:(ee,z)=>typeof ee=="string"&&ee.includes("KG")?[`${ee.replace(/[^0-9,.]/g,"").replace(",","")} KG`,"Volumen"]:[ee,z],contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px",fontSize:"12px",padding:"8px 12px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.3)",color:"hsl(var(--foreground))"}}),s.jsx(Ka,{wrapperStyle:{fontSize:"10px"}}),s.jsx(oa,{type:"monotone",dataKey:"numericValue",name:"Volumen (KG)",stroke:"hsl(var(--chart-1))",activeDot:{r:6,fill:"hsl(var(--chart-1))",stroke:"hsl(var(--card))",strokeWidth:2},strokeWidth:2})]})}):s.jsx("div",{className:"flex justify-center items-center h-32 text-secondary-500 text-xs sm:text-sm",children:"No hay datos suficientes para mostrar la tendencia"})})]}),s.jsxs(Ue,{className:"shadow-sm",children:[s.jsxs(Vt,{className:"pb-2 sm:pb-4",children:[s.jsx(an,{className:"text-sm sm:text-base",children:"ltimo Reporte"}),s.jsx(fi,{className:"text-xs sm:text-sm",children:"Detalles del ltimo reporte registrado"})]}),s.jsx(We,{children:B.length>0?s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-2 sm:gap-4",children:[s.jsxs("div",{className:"space-y-0.5 sm:space-y-1",children:[s.jsx("p",{className:"text-xs sm:text-sm font-medium text-secondary-500",children:"Fecha"}),s.jsx("p",{className:"text-xs sm:text-sm",children:B[B.length-1].date})]}),s.jsxs("div",{className:"space-y-0.5 sm:space-y-1",children:[s.jsx("p",{className:"text-xs sm:text-sm font-medium text-secondary-500",children:"Valor"}),s.jsx("p",{className:"text-xs sm:text-sm",children:B[B.length-1].value})]}),s.jsxs("div",{className:"space-y-0.5 sm:space-y-1",children:[s.jsx("p",{className:"text-xs sm:text-sm font-medium text-secondary-500",children:"Estado"}),s.jsx(Ct,{className:`text-xs ${B[B.length-1].status==="complies"?"bg-green-100 text-green-800 dark:bg-green-900/40 dark:text-green-400":B[B.length-1].status==="alert"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/40 dark:text-yellow-400":"bg-red-100 text-red-800 dark:bg-red-900/40 dark:text-red-400"}`,children:B[B.length-1].status==="complies"?"Cumple":B[B.length-1].status==="alert"?"Alerta":"No cumple"})]}),s.jsxs("div",{className:"space-y-0.5 sm:space-y-1",children:[s.jsx("p",{className:"text-xs sm:text-sm font-medium text-secondary-500",children:"% Cumplimiento"}),s.jsxs("p",{className:"text-xs sm:text-sm",children:[B[B.length-1].compliancePercentage,"%"]})]})]}),w&&w.length>0&&w[w.length-1].comments&&s.jsxs("div",{className:"mt-3 sm:mt-4",children:[s.jsx("p",{className:"text-xs sm:text-sm font-medium text-secondary-500",children:"Comentarios"}),s.jsx("p",{className:"text-xs sm:text-sm mt-1",children:w[w.length-1].comments})]})]}):s.jsx("div",{className:"text-center text-secondary-500 text-xs sm:text-sm py-4",children:"No hay reportes registrados an"})})]})]}),s.jsxs(ds,{value:"history",className:"pt-2 sm:pt-4",children:[s.jsx("div",{className:"mb-4",children:j?s.jsx("div",{className:"flex justify-center items-center h-32",children:s.jsx(sr,{className:"h-6 w-6 sm:h-8 sm:w-8 animate-spin text-primary"})}):w&&Array.isArray(w)&&w.length>1?s.jsx(Pct,{kpiValues:w,title:`Tendencia histrica de ${(v==null?void 0:v.name)||"KPI"}`,isInverted:((K=v==null?void 0:v.name)==null?void 0:K.includes("Rotacin de cuentas por cobrar"))||((Y=v==null?void 0:v.name)==null?void 0:Y.includes("Velocidad de rotacin"))||((Q=v==null?void 0:v.name)==null?void 0:Q.includes("Tiempo"))&&!((H=v==null?void 0:v.name)!=null&&H.includes("entrega")),unit:v==null?void 0:v.unit,target:v==null?void 0:v.target}):s.jsx(Ue,{className:"shadow-sm",children:s.jsx(We,{className:"p-6",children:s.jsx("div",{className:"flex justify-center items-center h-32 text-secondary-500 text-sm",children:w&&Array.isArray(w)&&w.length===1?"Se necesitan al menos dos puntos de datos para mostrar la tendencia histrica":"No hay datos histricos disponibles para este KPI"})})})}),s.jsxs(Ue,{className:"shadow-sm",children:[s.jsxs(Vt,{className:"pb-2 sm:pb-4",children:[s.jsx(an,{className:"text-sm sm:text-base",children:"Historial de Actualizaciones"}),s.jsx(fi,{className:"text-xs sm:text-sm",children:"Registro cronolgico de las actualizaciones del KPI"})]}),s.jsx(We,{children:j?s.jsx("div",{className:"flex justify-center items-center h-32",children:s.jsx(sr,{className:"h-6 w-6 sm:h-8 sm:w-8 animate-spin text-primary"})}):w&&w.length>0?s.jsx("div",{className:"space-y-3 sm:space-y-4",children:w.sort((ee,z)=>new Date(z.date).getTime()-new Date(ee.date).getTime()).map((ee,z)=>s.jsxs("div",{className:"border rounded-lg p-2 sm:p-4 space-y-2 sm:space-y-3",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-2 sm:gap-4",children:[s.jsxs("div",{className:"space-y-0.5 sm:space-y-1",children:[s.jsx("p",{className:"text-xs sm:text-sm font-medium text-secondary-500",children:"Fecha"}),s.jsx("p",{className:"text-xs sm:text-sm",children:ee.period||uK(new Date(ee.date))})]}),s.jsxs("div",{className:"space-y-0.5 sm:space-y-1",children:[s.jsx("p",{className:"text-xs sm:text-sm font-medium text-secondary-500",children:"Valor"}),s.jsx("p",{className:"text-xs sm:text-sm",children:ee.value})]}),s.jsxs("div",{className:"space-y-0.5 sm:space-y-1",children:[s.jsx("p",{className:"text-xs sm:text-sm font-medium text-secondary-500",children:"Estado"}),s.jsx(Ct,{className:`text-xs ${ee.status==="complies"?"bg-green-100 text-green-800 dark:bg-green-900/40 dark:text-green-400":ee.status==="alert"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/40 dark:text-yellow-400":"bg-red-100 text-red-800 dark:bg-red-900/40 dark:text-red-400"}`,children:ee.status==="complies"?"Cumple":ee.status==="alert"?"Alerta":"No cumple"})]}),s.jsxs("div",{className:"space-y-0.5 sm:space-y-1",children:[s.jsx("p",{className:"text-xs sm:text-sm font-medium text-secondary-500",children:"% Cumplimiento"}),s.jsx("p",{className:"text-xs sm:text-sm",children:ee.compliancePercentage||"-"})]})]}),ee.comments&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs sm:text-sm font-medium text-secondary-500",children:"Comentarios"}),s.jsx("p",{className:"text-xs sm:text-sm mt-0.5 sm:mt-1",children:ee.comments})]})]},z))}):s.jsx("div",{className:"text-center text-secondary-500 text-xs sm:text-sm py-6 sm:py-10",children:"No hay actualizaciones registradas para este KPI"})})]})]}),s.jsx(ds,{value:"update",className:"pt-2 sm:pt-4",children:$?s.jsxs(Ue,{className:"shadow-sm border-0 bg-gradient-to-br from-blue-50 via-white to-indigo-50 dark:from-blue-950/30 dark:via-slate-900 dark:to-indigo-950/30",children:[s.jsxs(Vt,{className:"pb-2 sm:pb-4 bg-gradient-to-r from-blue-600 to-indigo-600 text-white border-0 rounded-t-lg",children:[s.jsx(an,{className:"text-sm sm:text-base text-white flex items-center gap-2",children:s.jsx("span",{children:" Actualizar Ventas Mensuales"})}),s.jsx(fi,{className:"text-xs sm:text-sm text-blue-100",children:"Selecciona el perodo y registra las ventas. Los datos se actualizarn automticamente en el dashboard."})]}),s.jsx(We,{className:"pt-4 sm:pt-6",children:s.jsx(Fdt,{showHeader:!1})})]}):s.jsxs(Ue,{className:"shadow-sm",children:[s.jsxs(Vt,{className:"pb-2 sm:pb-4",children:[s.jsx(an,{className:"text-sm sm:text-base",children:"Registrar Nueva Actualizacin"}),s.jsx(fi,{className:"text-xs sm:text-sm",children:"Complete el formulario para registrar una nueva actualizacin del KPI"})]}),s.jsx(We,{children:s.jsxs("form",{onSubmit:I,className:"space-y-3 sm:space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 gap-3 sm:gap-4 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-1 sm:space-y-2",children:[s.jsx(dt,{htmlFor:"value",className:"text-xs sm:text-sm",children:"Valor Actual"}),s.jsx(gt,{id:"value",name:"value",className:"text-xs sm:text-sm h-8 sm:h-10",placeholder:(G=v==null?void 0:v.name)!=null&&G.includes("Volumen de ventas")&&(S==null?void 0:S.name)==="Dura International"?"Ej: 52,450 KG":(U=v==null?void 0:v.name)!=null&&U.includes("Volumen de ventas")&&(S==null?void 0:S.name)==="Grupo Orsega"?"Ej: 760,000 unidades":"Ej: 98.5%",value:o.value,onChange:R,required:!0})]}),s.jsxs("div",{className:"space-y-1 sm:space-y-2",children:[s.jsx(dt,{htmlFor:"period",className:"text-xs sm:text-sm",children:"Perodo"}),s.jsx("div",{className:"flex items-center border rounded-md h-8 sm:h-10 px-3 bg-secondary-50 dark:bg-secondary-900/20",children:s.jsxs("div",{className:"text-xs sm:text-sm text-secondary-700 dark:text-secondary-300 flex-1",children:[o.period," ",s.jsx("span",{className:"text-xs text-secondary-500",children:"(perodo actual)"})]})}),s.jsx("p",{className:"text-xs text-secondary-500 mt-1",children:"El perodo se establece automticamente al mes actual."})]}),s.jsxs("div",{className:"space-y-1 sm:space-y-2 md:col-span-2",children:[s.jsx(dt,{className:"text-xs sm:text-sm",children:"Estado y Cumplimiento"}),s.jsxs("div",{className:"px-3 sm:px-4 py-2 sm:py-3 rounded-md bg-secondary/10 text-xs sm:text-sm",children:["El estado y porcentaje de cumplimiento se calcularn automticamente al enviar el formulario, basndose en el valor ingresado y la meta establecida.",v!=null&&v.name.includes("Velocidad de rotacin")||v!=null&&v.name.includes("Tiempo")&&!(v!=null&&v.name.includes("entrega"))?s.jsx("p",{className:"mt-1 font-medium text-primary-700 dark:text-primary-500",children:"Nota: Para este KPI, valores menores al objetivo representan un mejor desempeo."}):null]})]})]}),s.jsxs("div",{className:"space-y-1 sm:space-y-2",children:[s.jsx(dt,{htmlFor:"comments",className:"text-xs sm:text-sm",children:"Comentarios"}),s.jsx(nu,{id:"comments",name:"comments",className:"text-xs sm:text-sm min-h-[80px] sm:min-h-[100px]",placeholder:"Ingrese detalles, causas, acciones tomadas, etc.",value:o.comments,onChange:R,rows:3})]}),s.jsxs(pc,{className:"mt-4 sm:mt-6 flex flex-col-reverse sm:flex-row gap-2 sm:gap-0",children:[s.jsx(Oe,{type:"button",variant:"outline",onClick:n,disabled:T.isPending,className:"w-full sm:w-auto text-xs sm:text-sm py-1.5 sm:py-2 h-8 sm:h-10",children:"Cancelar"}),s.jsx(Oe,{type:"submit",disabled:T.isPending,className:"w-full sm:w-auto text-xs sm:text-sm py-1.5 sm:py-2 h-8 sm:h-10",children:T.isPending?s.jsxs(s.Fragment,{children:[s.jsx(sr,{className:"mr-2 h-3 w-3 sm:h-4 sm:w-4 animate-spin"}),"Guardando..."]}):"Guardar Actualizacin"})]})]})})]})})]})]}):s.jsxs(Vr,{children:[s.jsx(qr,{children:"KPI no encontrado"}),s.jsx(Rs,{children:"No se pudo cargar la informacin del KPI."})]})})}):null}function nr({className:e,...t}){return s.jsx("div",{className:Fe("animate-pulse rounded-md bg-muted",e),...t})}function g_(e,t){const n=t===1?"USD":"MXN";return new Intl.NumberFormat("es-MX",{style:"currency",currency:n,minimumFractionDigits:0,maximumFractionDigits:0}).format(e)}function zdt({companyId:e}){const[t,n]=b.useState("year"),{data:r,isLoading:i}=At({queryKey:["/api/sales-stats",e],queryFn:async()=>await(await Dt("GET",`/api/sales-stats?companyId=${e}`)).json(),staleTime:3e4,refetchInterval:6e4}),{data:a}=At({queryKey:["/api/sales-monthly-trends",e,t],queryFn:async()=>await(await Dt("GET",`/api/sales-monthly-trends?companyId=${e}`)).json(),staleTime:6e4}),{data:o}=At({queryKey:["/api/profitability-metrics",e],queryFn:async()=>await(await Dt("GET",`/api/profitability-metrics?companyId=${e}`)).json(),staleTime:6e4});if(i)return s.jsxs(Ue,{children:[s.jsx(Vt,{children:s.jsx(nr,{className:"h-6 w-48"})}),s.jsx(We,{children:s.jsx(nr,{className:"h-64 w-full"})})]});const c=(()=>{if(!a||a.length===0)return[];const j=new Date;switch(j.getFullYear(),j.getMonth()+1,t){case"semester":return a.slice(-6);case"quarter":return a.slice(-3);case"year":default:return a}})(),u=c.reduce((j,_)=>j+(_.amount||0),0),d=(o==null?void 0:o.overallProfitability)||(r==null?void 0:r.profitability)||18,f=u*(d/100),m=u,g=(()=>{if(c.length===0)return`Ao ${new Date().getFullYear()}`;const j=c[0],_=c[c.length-1];return t==="quarter"?`ltimo trimestre: ${j.monthFull} - ${_.monthFull}`:t==="semester"?`ltimo semestre: ${j.monthFull} - ${_.monthFull}`:`Desde ${j.monthFull} hasta ${_.monthFull}`})(),y=u*.84,v=y>0?(u-y)/y*100:0,x=c.map(j=>({month:j.month,revenue:j.amount||0,volume:j.volume||0})),w=x.slice(-6).map(j=>({value:j.revenue}));return s.jsxs(Ue,{className:"h-full",children:[s.jsx(Vt,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(an,{className:"text-lg font-semibold",children:"Resumen de Ventas"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:g})]}),s.jsxs(An,{value:t,onValueChange:j=>n(j),children:[s.jsx(Nn,{className:"w-[140px]",children:s.jsx(Tn,{placeholder:"Periodo"})}),s.jsxs(_n,{children:[s.jsx(at,{value:"year",children:"Anual"}),s.jsx(at,{value:"semester",children:"Semestral"}),s.jsx(at,{value:"quarter",children:"Trimestral"})]})]})]})}),s.jsxs(We,{className:"space-y-4",children:[s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{children:[s.jsx("p",{className:"text-3xl font-bold",children:g_(u,e)}),s.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[s.jsx("div",{className:"h-12 w-24",children:s.jsx(kr,{width:"100%",height:"100%",children:s.jsx(id,{data:w,children:s.jsx(oa,{type:"monotone",dataKey:"value",stroke:"hsl(var(--chart-1))",strokeWidth:2,dot:!1})})})}),s.jsxs(Ct,{variant:v>=0?"default":"destructive",className:Fe("text-xs font-semibold",v>=0?"bg-emerald-500":"bg-red-500"),children:[v>=0?"+":"",v.toFixed(1),"%"]})]})]})}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{className:"p-3 rounded-lg bg-emerald-50 dark:bg-emerald-950/20 border border-emerald-200 dark:border-emerald-800",children:[s.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Utilidad Neta"}),s.jsx("p",{className:"text-lg font-bold text-emerald-700 dark:text-emerald-400",children:g_(f,e)})]}),s.jsxs("div",{className:"p-3 rounded-lg bg-purple-50 dark:bg-purple-950/20 border border-purple-200 dark:border-purple-800",children:[s.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Ingresos Netos"}),s.jsx("p",{className:"text-lg font-bold text-purple-700 dark:text-purple-400",children:g_(m,e)})]})]}),s.jsx("div",{className:"h-48",children:s.jsx(kr,{width:"100%",height:"100%",children:s.jsxs(Yhe,{data:x,children:[s.jsx(sa,{strokeDasharray:"3 3",stroke:"hsl(var(--border))",opacity:.3}),s.jsx(vr,{dataKey:"month",tick:{fontSize:11,fill:"hsl(var(--muted-foreground))"},axisLine:!1,tickLine:!1}),s.jsx(dr,{tick:{fontSize:11,fill:"hsl(var(--muted-foreground))"},axisLine:!1,tickLine:!1,tickFormatter:j=>j>=1e6?`${(j/1e6).toFixed(1)}M`:j>=1e3?`${(j/1e3).toFixed(0)}K`:j.toString()}),s.jsx(mr,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px"},formatter:j=>g_(j,e)}),s.jsx(Yi,{dataKey:"revenue",fill:"hsl(var(--chart-1))",radius:[4,4,0,0],opacity:.8})]})})})]})]})}function kK(e){return new Intl.NumberFormat("es-MX").format(e)}function Vdt({companyId:e}){const{data:t,isLoading:n}=At({queryKey:["/api/sales-top-products",e,"year"],queryFn:async()=>await(await Dt("GET",`/api/sales-top-products?companyId=${e}&period=year&limit=10`)).json(),staleTime:6e4});if(n)return s.jsxs(Ue,{children:[s.jsx(Vt,{children:s.jsx(nr,{className:"h-6 w-32"})}),s.jsx(We,{children:s.jsx(nr,{className:"h-64 w-full"})})]});const r=(t||[]).slice(0,3),a=(t||[]).slice(3).reduce((c,u)=>c+(u.volume||0),0),o=[...r.map((c,u)=>({name:c.name,value:c.volume||0,color:["hsl(var(--chart-1))","hsl(var(--chart-2))","hsl(var(--chart-3))"][u]||"hsl(var(--chart-1))"})),...a>0?[{name:"Otros",value:a,color:"hsl(var(--chart-4))"}]:[]],l=o.reduce((c,u)=>c+u.value,0);return s.jsxs(Ue,{className:"h-full",children:[s.jsx(Vt,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(an,{className:"text-lg font-semibold",children:"Productos Vendidos"}),s.jsx(Ct,{variant:"outline",className:"text-xs",children:"Anual"})]})}),s.jsxs(We,{className:"space-y-4",children:[s.jsx("div",{className:"h-48 flex items-center justify-center",children:s.jsx(kr,{width:"100%",height:"100%",children:s.jsxs(PF,{children:[s.jsx(hd,{data:o,cx:"50%",cy:"50%",innerRadius:60,outerRadius:90,paddingAngle:2,dataKey:"value",children:o.map((c,u)=>s.jsx(gc,{fill:c.color},`cell-${u}`))}),s.jsx(mr,{formatter:c=>kK(c)})]})})}),s.jsx("div",{className:"space-y-2",children:o.map((c,u)=>{const d=l>0?c.value/l*100:0;return s.jsxs(bs.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:u*.1},className:"flex items-center justify-between p-2 rounded-lg hover:bg-muted/50 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:c.color}}),s.jsx(_l,{className:"w-4 h-4 text-muted-foreground"}),s.jsx("span",{className:"text-sm font-medium truncate flex-1",children:c.name})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"text-sm font-semibold",children:kK(c.value)}),s.jsxs(Ct,{variant:"outline",className:"text-xs",children:[d.toFixed(1),"%"]})]})]},c.name)})})]})]})}function M4(e){return new Intl.NumberFormat("es-MX",{style:"currency",currency:"MXN",minimumFractionDigits:0,maximumFractionDigits:0}).format(e)}function CK(e){return new Intl.NumberFormat("es-MX").format(e)}function qdt({companyId:e}){const{data:t,isLoading:n}=At({queryKey:["/api/annual-summary/years",e],queryFn:async()=>await(await Dt("GET",`/api/annual-summary/years?companyId=${e}`)).json(),staleTime:3e5}),[r,i]=b.useState(()=>new Date().getFullYear());b.useEffect(()=>{t&&t.length>0&&(t.includes(r)||i(t[0]))},[t,r]);const{data:a,isLoading:o}=At({queryKey:["/api/annual-summary",e,r],queryFn:async()=>await(await Dt("GET",`/api/annual-summary?companyId=${e}&year=${r}`)).json(),enabled:!!r,staleTime:5*60*1e3});if(n)return s.jsx(Ue,{children:s.jsxs(We,{className:"p-6",children:[s.jsx(nr,{className:"h-8 w-64 mb-4"}),s.jsx(nr,{className:"h-64 w-full"})]})});if(!t||t.length===0)return s.jsx(Ue,{children:s.jsx(We,{className:"p-6",children:s.jsx("p",{className:"text-muted-foreground",children:"No hay datos disponibles"})})});const l=[...t||[]].sort((c,u)=>c-u);return s.jsx("div",{className:"space-y-6",children:s.jsxs(Ue,{children:[s.jsx(Vt,{children:s.jsxs(an,{className:"flex items-center gap-2",children:[s.jsx(Xa,{className:"w-5 h-5"}),"Resumen Ejecutivo Anual"]})}),s.jsx(We,{children:s.jsxs(Tp,{value:r.toString(),onValueChange:c=>i(parseInt(c)),children:[s.jsx(Rh,{className:"inline-flex h-10 items-center justify-start rounded-lg bg-muted/50 p-1.5 gap-1.5 w-full overflow-x-auto",children:l.map(c=>s.jsx(Ki,{value:c.toString(),className:Fe("inline-flex items-center justify-center whitespace-nowrap rounded-md px-4 py-2 text-sm font-semibold ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 min-w-[80px]","data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-md data-[state=active]:border data-[state=active]:border-primary/20","data-[state=inactive]:bg-muted/80 data-[state=inactive]:text-foreground/80 data-[state=inactive]:border data-[state=inactive]:border-border/60 hover:bg-muted hover:text-foreground hover:border-border"),children:c},c))}),l.map(c=>s.jsx(ds,{value:c.toString(),className:"mt-6",children:o?s.jsxs("div",{className:"space-y-4",children:[s.jsx(nr,{className:"h-32 w-full"}),s.jsx(nr,{className:"h-64 w-full"})]}):a?s.jsx(Udt,{summary:a}):null},c))]})})]})})}function Udt({summary:e}){return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsx(v_,{title:"Ventas Totales",value:CK(e.totalSales),unit:e.unit,icon:Ua,trend:e.growthVsPreviousYear,trendLabel:"vs ao anterior"}),s.jsx(v_,{title:"Ingresos Totales",value:M4(e.totalRevenue),icon:kh,trend:e.growthVsPreviousYear,trendLabel:"vs ao anterior"}),s.jsx(v_,{title:"Rentabilidad",value:`${e.profitability.toFixed(1)}%`,subtitle:`Utilidad: ${M4(e.totalProfit)}`,icon:l_e}),s.jsx(v_,{title:"Transacciones",value:CK(e.totalTransactions),subtitle:`Ticket promedio: ${M4(e.avgTicket)}`,icon:i5})]}),s.jsxs(Ue,{children:[s.jsx(Vt,{children:s.jsx(an,{children:"Tendencias Mensuales"})}),s.jsx(We,{children:s.jsx("div",{className:"h-80",children:s.jsx(kr,{width:"100%",height:"100%",children:s.jsxs(id,{data:e.monthlySales,children:[s.jsx(sa,{strokeDasharray:"3 3",stroke:"hsl(var(--border))",opacity:.3}),s.jsx(vr,{dataKey:"monthName",tick:{fontSize:12,fill:"hsl(var(--muted-foreground))"}}),s.jsx(dr,{yAxisId:"left",tick:{fontSize:12,fill:"hsl(var(--muted-foreground))"}}),s.jsx(dr,{yAxisId:"right",orientation:"right",tick:{fontSize:12,fill:"hsl(var(--muted-foreground))"}}),s.jsx(mr,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px"}}),s.jsx(Ka,{}),s.jsx(oa,{yAxisId:"left",type:"monotone",dataKey:"volume",stroke:"hsl(var(--primary))",strokeWidth:2,name:`Volumen (${e.unit})`}),s.jsx(oa,{yAxisId:"right",type:"monotone",dataKey:"revenue",stroke:"hsl(var(--chart-2))",strokeWidth:2,name:"Ingresos"})]})})})})]})]})}function v_({title:e,value:t,unit:n,subtitle:r,icon:i,trend:a,trendLabel:o,variant:l="default"}){const c={default:"bg-blue-500/20 text-blue-600",success:"bg-emerald-500/20 text-emerald-600",danger:"bg-red-500/20 text-red-600"};return s.jsx(Ue,{children:s.jsx(We,{className:"p-6",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:e}),s.jsxs("div",{className:"flex items-baseline gap-2",children:[s.jsx("p",{className:"text-2xl font-bold",children:t}),n&&s.jsx("span",{className:"text-sm text-muted-foreground",children:n})]}),r&&s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:r}),a!==void 0&&o&&s.jsxs("div",{className:Fe("flex items-center gap-1 mt-2 text-sm font-medium",a>=0?"text-emerald-600":"text-red-600"),children:[a>=0?s.jsx(Pr,{className:"w-4 h-4"}):s.jsx(zs,{className:"w-4 h-4"}),s.jsxs("span",{children:[a>=0?"+":"",a.toFixed(1),"% ",o]})]})]}),s.jsx("div",{className:Fe("w-12 h-12 rounded-lg flex items-center justify-center",c[l]),children:s.jsx(i,{className:"w-6 h-6"})})]})})})}function Wdt(){const{user:e}=ud(),t=E.useRef(null),[n,r]=b.useState(()=>{const c=localStorage.getItem("selectedCompanyId");return c?Number(c):1});E.useEffect(()=>{const c=u=>{const{companyId:d}=u.detail;r(d),localStorage.setItem("selectedCompanyId",String(d))};return window.addEventListener("companyChanged",c),()=>{window.removeEventListener("companyChanged",c)}},[]);const[i,a]=b.useState(null),[o,l]=b.useState(!1);return s.jsx(Ro,{title:"Dashboard Ejecutivo",children:s.jsxs("div",{id:"dashboard-container",ref:t,className:"min-h-screen space-y-6",children:[s.jsx(xce,{objectIcon:Ua,title:"Dashboard Ejecutivo",subtitle:`Vista general de KPIs y mtricas de ventas${e?` - ${e.name}`:""}`,breadcrumbs:[{label:"Inicio",href:"/"},{label:"Dashboard"}]}),s.jsxs("div",{className:"grid grid-cols-12 gap-4",children:[s.jsx("div",{className:"col-span-12 lg:col-span-7",children:s.jsx(zdt,{companyId:n})}),s.jsx("div",{className:"col-span-12 lg:col-span-5",children:s.jsx(Vdt,{companyId:n})}),s.jsx("div",{className:"col-span-12",children:s.jsx(qdt,{companyId:n})})]}),s.jsx(Bdt,{kpiId:i,isOpen:o,onClose:()=>l(!1)})]})})}const Hdt=()=>{const[e]=Yo();b.useEffect(()=>{["/logistics","/kpi-control","/"].includes(e)&&(console.log(`[NavigationCleanup] Limpiando cache para ruta: ${e}`),ii.removeQueries({predicate:n=>{var i;const r=((i=n.queryKey[0])==null?void 0:i.toString())||"";return!r.includes("/api/user")&&!r.includes("/api/login")&&!r.includes("auth")}}))},[e])},Kdt=Wa({username:xt().min(3,"El nombre de usuario debe tener al menos 3 caracteres"),password:xt().min(6,"La contrasea debe tener al menos 6 caracteres")});function Gdt(){const{login:e,user:t}=ud(),[n,r]=b.useState(null),[i,a]=b.useState(!1),[,o]=Yo();b.useEffect(()=>{if(t){const u=sessionStorage.getItem("redirectAfterLogin");u?(console.log(`[LoginForm] Redireccionando a ruta guardada: ${u}`),sessionStorage.removeItem("redirectAfterLogin"),o(u)):(console.log("[LoginForm] No hay ruta guardada, redireccionando a Dashboard"),o("/"))}},[t,o]);const l=Rp({resolver:$p(Kdt),defaultValues:{username:"",password:""}}),c=async u=>{a(!0),r(null);try{console.log(`[LoginForm] Intentando iniciar sesin con usuario: ${u.username}`),await e(u.username,u.password)}catch(d){if(console.error("[LoginForm] Error en inicio de sesin:",d),d instanceof Error&&d.message.includes("429")){const f=d.message.replace("429: ","");r(f||"Has excedido el lmite de intentos de login. Por favor, espera 15 minutos antes de intentar nuevamente.")}else r(d instanceof Error?d.message:"Error al iniciar sesin")}finally{a(!1)}};return s.jsxs("div",{className:"p-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"Iniciar Sesin"}),s.jsx("p",{className:"text-gray-500 text-sm",children:"Acceso al sistema de gestin de indicadores"})]}),n&&s.jsxs(Hd,{variant:"destructive",className:"mb-6 bg-red-50 border-red-200 text-red-800",children:[s.jsx(Nl,{className:"h-4 w-4"}),s.jsx(Kd,{children:n})]}),s.jsx(xp,{...l,children:s.jsxs("form",{onSubmit:l.handleSubmit(c),className:"space-y-6",children:[s.jsx(En,{control:l.control,name:"username",render:({field:u})=>s.jsxs(bn,{children:[s.jsx(wn,{className:"text-gray-700 font-medium text-sm",children:"Usuario"}),s.jsx(xn,{children:s.jsx(gt,{placeholder:"daniel@econova.com.mx",className:"bg-white border-gray-300 text-gray-900 placeholder:text-gray-400 focus:border-[#00a8a8] focus:ring-[#00a8a8]/20 h-12 rounded-md",...u})}),s.jsx(jn,{className:"text-red-500 text-xs"})]})}),s.jsx(En,{control:l.control,name:"password",render:({field:u})=>s.jsxs(bn,{children:[s.jsx(wn,{className:"text-gray-700 font-medium text-sm",children:"Contrasea"}),s.jsx(xn,{children:s.jsx(gt,{type:"password",placeholder:"",className:"bg-white border-gray-300 text-gray-900 placeholder:text-gray-400 focus:border-[#00a8a8] focus:ring-[#00a8a8]/20 h-12 rounded-md",...u})}),s.jsx(jn,{className:"text-red-500 text-xs"})]})}),s.jsx(Oe,{type:"submit",className:"w-full bg-[#00a8a8] hover:bg-[#008080] text-white font-semibold py-3 rounded-md transition-all duration-200 h-12",disabled:i,children:i?s.jsxs(s.Fragment,{children:[s.jsx(sr,{className:"mr-2 h-4 w-4 animate-spin"}),"Accediendo..."]}):"Acceder al Sistema"})]})})]})}function Ydt(){const{user:e,isLoading:t}=ud(),[n,r]=Yo();return Hdt(),b.useEffect(()=>{if(!t&&e){const i=sessionStorage.getItem("redirectAfterLogin");i&&i!=="/login"?(sessionStorage.removeItem("redirectAfterLogin"),r(i)):r("/")}},[e,t,r]),t?s.jsx("div",{className:"flex justify-center items-center min-h-screen bg-secondary-100",children:s.jsx("div",{className:"w-8 h-8 border-4 border-primary-600 border-t-transparent rounded-full animate-spin"})}):s.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center p-4",children:s.jsxs("div",{className:"w-full max-w-md",children:[s.jsx("div",{className:"text-center mb-12",children:s.jsxs("div",{className:"flex justify-center items-center space-x-16",children:[s.jsx("div",{className:"relative",children:s.jsx("img",{src:"/logo orsega.jpg",alt:"Grupo Orsega Logo",className:"w-40 h-40 object-contain",onError:i=>{const a=i.target;a.style.display="none";const o=a.parentElement;o&&(o.innerHTML=`
                      <div class="w-40 h-40 bg-gray-200 rounded-full flex items-center justify-center text-gray-500 text-xl font-medium">
                        ORSEGA
                      </div>
                    `)}})}),s.jsx("div",{className:"relative",children:s.jsx("img",{src:"/logodura.jpg",alt:"Dura International Logo",className:"w-40 h-40 object-contain",onError:i=>{const a=i.target;a.style.display="none";const o=a.parentElement;o&&(o.innerHTML=`
                      <div class="w-40 h-40 bg-gray-200 rounded-lg flex items-center justify-center text-gray-500 text-xl font-medium">
                        DURA
                      </div>
                    `)}})})]})}),s.jsx("div",{className:"bg-white border border-gray-200 rounded-lg shadow-lg overflow-hidden",children:s.jsx(Gdt,{})})]})})}const Xdt=Wa({name:xt().min(2,"El nombre debe tener al menos 2 caracteres"),email:xt().email("Email invlido"),password:xt().min(8,"La contrasea debe tener al menos 8 caracteres"),confirmPassword:xt(),companyId:xt().min(1,"Selecciona una empresa"),area:xt().min(1,"Selecciona un rea")}).refine(e=>e.password===e.confirmPassword,{message:"Las contraseas no coinciden",path:["confirmPassword"]});function Zdt(){const[e,t]=Yo(),[n,r]=b.useState(!1),[i,a]=b.useState(!1),[o,l]=b.useState(!1),{toast:c}=zi(),u=Rp({resolver:$p(Xdt),defaultValues:{name:"",email:"",password:"",confirmPassword:"",companyId:"",area:""}}),d=async f=>{try{l(!0);const m=await Dt("POST","/api/register",{name:f.name,email:f.email,password:f.password,companyId:parseInt(f.companyId),area:f.area});if(m.ok)c({title:"Registro exitoso!",description:"Tu cuenta ha sido creada. Ahora puedes iniciar sesin."}),t("/login");else{const h=await m.json();c({title:"Error en el registro",description:h.message||"No se pudo crear la cuenta",variant:"destructive"})}}catch{c({title:"Error",description:"No se pudo conectar con el servidor",variant:"destructive"})}finally{l(!1)}};return s.jsx("div",{className:"min-h-screen flex flex-col justify-center items-center bg-[#273949] p-4",children:s.jsxs("div",{className:"w-full max-w-lg",children:[s.jsxs("div",{className:"text-center mb-8 flex flex-col items-center",children:[s.jsx(dce,{height:120,className:"mb-4"}),s.jsx("h1",{className:"text-3xl font-bold text-[#b5e951]",children:"DIGO KPIs"}),s.jsx("p",{className:"text-white mt-2",children:"Crear nueva cuenta"})]}),s.jsxs(Ue,{className:"bg-white shadow-xl",children:[s.jsxs(Vt,{className:"text-center",children:[s.jsxs(an,{className:"flex items-center justify-center gap-2",children:[s.jsx(YC,{className:"h-5 w-5 text-[#273949]"}),"Registro"]}),s.jsx(fi,{children:"Completa tus datos para crear tu cuenta"})]}),s.jsxs(We,{children:[s.jsx(xp,{...u,children:s.jsxs("form",{onSubmit:u.handleSubmit(d),className:"space-y-4",children:[s.jsx(En,{control:u.control,name:"name",render:({field:f})=>s.jsxs(bn,{children:[s.jsx(wn,{children:"Nombre completo"}),s.jsx(xn,{children:s.jsx(gt,{placeholder:"Tu nombre completo",...f,"data-testid":"input-name"})}),s.jsx(jn,{})]})}),s.jsx(En,{control:u.control,name:"email",render:({field:f})=>s.jsxs(bn,{children:[s.jsx(wn,{children:"Email"}),s.jsx(xn,{children:s.jsx(gt,{type:"email",placeholder:"tu@email.com",...f,"data-testid":"input-email"})}),s.jsx(jn,{})]})}),s.jsx(En,{control:u.control,name:"companyId",render:({field:f})=>s.jsxs(bn,{children:[s.jsx(wn,{children:"Empresa"}),s.jsxs(An,{onValueChange:f.onChange,defaultValue:f.value,children:[s.jsx(xn,{children:s.jsx(Nn,{"data-testid":"select-company",children:s.jsx(Tn,{placeholder:"Selecciona tu empresa"})})}),s.jsxs(_n,{children:[s.jsx(at,{value:"1",children:"Dura International"}),s.jsx(at,{value:"2",children:"Grupo Orsega"})]})]}),s.jsx(jn,{})]})}),s.jsx(En,{control:u.control,name:"area",render:({field:f})=>s.jsxs(bn,{children:[s.jsx(wn,{children:"rea"}),s.jsxs(An,{onValueChange:f.onChange,defaultValue:f.value,children:[s.jsx(xn,{children:s.jsx(Nn,{"data-testid":"select-area",children:s.jsx(Tn,{placeholder:"Selecciona tu rea"})})}),s.jsxs(_n,{children:[s.jsx(at,{value:"Sales",children:"Ventas"}),s.jsx(at,{value:"Logistics",children:"Logstica"}),s.jsx(at,{value:"Purchasing",children:"Compras"}),s.jsx(at,{value:"Accounting",children:"Contabilidad y Finanzas"})]})]}),s.jsx(jn,{})]})}),s.jsx(En,{control:u.control,name:"password",render:({field:f})=>s.jsxs(bn,{children:[s.jsx(wn,{children:"Contrasea"}),s.jsx(xn,{children:s.jsxs("div",{className:"relative",children:[s.jsx(gt,{type:n?"text":"password",placeholder:"Mnimo 8 caracteres",...f,"data-testid":"input-password"}),s.jsx(Oe,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>r(!n),"data-testid":"button-toggle-password",children:n?s.jsx(eL,{className:"h-4 w-4 text-gray-500"}):s.jsx(Dy,{className:"h-4 w-4 text-gray-500"})})]})}),s.jsx(jn,{})]})}),s.jsx(En,{control:u.control,name:"confirmPassword",render:({field:f})=>s.jsxs(bn,{children:[s.jsx(wn,{children:"Confirmar contrasea"}),s.jsx(xn,{children:s.jsxs("div",{className:"relative",children:[s.jsx(gt,{type:i?"text":"password",placeholder:"Confirma tu contrasea",...f,"data-testid":"input-confirm-password"}),s.jsx(Oe,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>a(!i),"data-testid":"button-toggle-confirm-password",children:i?s.jsx(eL,{className:"h-4 w-4 text-gray-500"}):s.jsx(Dy,{className:"h-4 w-4 text-gray-500"})})]})}),s.jsx(jn,{})]})}),s.jsx(Oe,{type:"submit",className:"w-full bg-[#273949] hover:bg-[#1e2a36]",disabled:o,"data-testid":"button-register",children:o?"Creando cuenta...":"Crear cuenta"})]})}),s.jsx("div",{className:"mt-6 text-center",children:s.jsxs("p",{className:"text-sm text-gray-600",children:["Ya tienes cuenta?"," ",s.jsx(Rx,{href:"/login",className:"text-[#273949] hover:text-[#1e2a36] font-medium","data-testid":"link-login",children:"Inicia sesin aqu"})]})})]})]})]})})}var kP="Switch",[Qdt]=Xo(kP),[Jdt,eft]=Qdt(kP),npe=b.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:a,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[m,h]=b.useState(null),g=Fn(t,j=>h(j)),y=b.useRef(!1),v=m?d||!!m.closest("form"):!0,[x,w]=nd({prop:i,defaultProp:a??!1,onChange:u,caller:kP});return s.jsxs(Jdt,{scope:n,checked:x,disabled:l,children:[s.jsx(sn.button,{type:"button",role:"switch","aria-checked":x,"aria-required":o,"data-state":spe(x),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:g,onClick:_t(e.onClick,j=>{w(_=>!_),v&&(y.current=j.isPropagationStopped(),y.current||j.stopPropagation())})}),v&&s.jsx(ape,{control:m,bubbles:!y.current,name:r,value:c,checked:x,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});npe.displayName=kP;var rpe="SwitchThumb",ipe=b.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,i=eft(rpe,n);return s.jsx(sn.span,{"data-state":spe(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:t})});ipe.displayName=rpe;var tft="SwitchBubbleInput",ape=b.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:r=!0,...i},a)=>{const o=b.useRef(null),l=Fn(o,a),c=xme(n),u=Doe(t);return b.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==n&&h){const g=new Event("click",{bubbles:r});h.call(d,n),d.dispatchEvent(g)}},[c,n,r]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:l,style:{...i.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});ape.displayName=tft;function spe(e){return e?"checked":"unchecked"}var ope=npe,nft=ipe;const W2=b.forwardRef(({className:e,...t},n)=>s.jsx(ope,{className:Fe("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:s.jsx(nft,{className:Fe("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));W2.displayName=ope.displayName;function rft({shipment:e,providers:t,isOpen:n,onClose:r,onSubmit:i}){const{toast:a}=zi(),[o,l]=b.useState({providerId:"",pickupDate:e.estimatedDeliveryDate?new Date(e.estimatedDeliveryDate).toISOString().split("T")[0]:new Date().toISOString().split("T")[0],appointmentRequired:!1,appointmentNotes:"",ccEmails:[],additionalNotes:""}),[c,u]=b.useState(!1),d=t.find(v=>v.id===o.providerId),f=()=>{const v=`Solicitud de recoleccin  ${e.customerName}  ${new Date(o.pickupDate).toLocaleDateString("es-MX")}`,x=o.appointmentRequired?`Este servicio LLEVA cita${o.appointmentNotes?` - ${o.appointmentNotes}`:""}`:"Este servicio NO lleva cita",w=`
Estimado equipo de ${(d==null?void 0:d.name)||"[Proveedor]"},

Esperamos se encuentren bien. Les solicitamos cotizacin para el siguiente servicio de recoleccin:

${x}

DETALLES DEL ENVO:

 Cliente/Proyecto: ${e.customerName}
 Cdigo: ${e.trackingCode}
 Origen: ${e.origin}
 Destino: ${e.destination}
 Fecha de recoleccin: ${new Date(o.pickupDate).toLocaleDateString("es-MX")}
 Carga: ${e.product}
 Cantidad: ${e.quantity} ${e.unit}
 Observaciones: ${e.comments||"Sin observaciones especiales"}
${e.customerPhone?` Contacto: ${e.customerPhone}`:""}


${o.additionalNotes?`Notas adicionales: ${o.additionalNotes}`:""}

Por favor confirmen disponibilidad y cotizacin.

Saludos cordiales,
Thala Rodrguez
Dura International
thaliarodriguez@duraintal.com
    `.trim();return{subject:v,body:w}},m=()=>{if(!o.providerId){a({title:"Error",description:"Por favor selecciona un proveedor",variant:"destructive"});return}i(o)},h=()=>{const{subject:v,body:x}=f(),w=`mailto:${d==null?void 0:d.email}?subject=${encodeURIComponent(v)}&body=${encodeURIComponent(x)}`;window.open(w),a({title:"Correo copiado",description:"Se abri tu cliente de correo con el mensaje preparado"})},{subject:g,body:y}=f();return s.jsx(zr,{open:n,onOpenChange:r,children:s.jsxs(Ir,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(Vr,{children:[s.jsxs(qr,{className:"flex items-center gap-2",children:[s.jsx(qo,{className:"h-5 w-5 text-blue-600"}),"Solicitar Transporte"]}),s.jsx(Rs,{children:"Enviar solicitud de recoleccin al proveedor seleccionado"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h3",{className:"font-semibold text-lg flex items-center gap-2",children:[s.jsx(_l,{className:"h-4 w-4"}),"Informacin del Envo"]}),s.jsxs("div",{className:"space-y-3 p-4 bg-gray-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx(dt,{className:"text-xs text-gray-600",children:"Cliente/Proyecto"}),s.jsx("p",{className:"font-medium",children:e.customerName})]}),s.jsxs("div",{children:[s.jsx(dt,{className:"text-xs text-gray-600",children:"Cdigo"}),s.jsx("p",{className:"font-mono text-sm",children:e.trackingCode})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx(dt,{className:"text-xs text-gray-600",children:"Origen"}),s.jsx("p",{className:"text-sm",children:e.origin})]}),s.jsxs("div",{children:[s.jsx(dt,{className:"text-xs text-gray-600",children:"Destino"}),s.jsx("p",{className:"text-sm",children:e.destination})]})]}),s.jsxs("div",{children:[s.jsx(dt,{className:"text-xs text-gray-600",children:"Carga"}),s.jsxs("p",{className:"text-sm",children:[e.product," - ",e.quantity," ",e.unit]})]}),e.comments&&s.jsxs("div",{children:[s.jsx(dt,{className:"text-xs text-gray-600",children:"Observaciones"}),s.jsx("p",{className:"text-sm",children:e.comments})]}),e.customerPhone&&s.jsxs("div",{children:[s.jsx(dt,{className:"text-xs text-gray-600",children:"Contacto"}),s.jsx("p",{className:"text-sm",children:e.customerPhone})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h3",{className:"font-semibold text-lg flex items-center gap-2",children:[s.jsx(op,{className:"h-4 w-4"}),"Detalles de la Solicitud"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(dt,{htmlFor:"provider",children:"Proveedor *"}),s.jsxs(An,{value:o.providerId,onValueChange:v=>l(x=>({...x,providerId:v})),children:[s.jsx(Nn,{children:s.jsx(Tn,{placeholder:"Selecciona un proveedor"})}),s.jsx(_n,{children:t.map(v=>s.jsx(at,{value:v.id,children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"font-medium",children:v.name}),v.email&&s.jsx("span",{className:"text-xs text-gray-500",children:v.email})]})},v.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(dt,{htmlFor:"pickupDate",children:"Fecha de recoleccin"}),s.jsx(gt,{id:"pickupDate",type:"date",value:o.pickupDate,onChange:v=>l(x=>({...x,pickupDate:v.target.value}))})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(W2,{id:"appointment",checked:o.appointmentRequired,onCheckedChange:v=>l(x=>({...x,appointmentRequired:v}))}),s.jsx(dt,{htmlFor:"appointment",children:"Lleva cita?"})]}),o.appointmentRequired&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(dt,{htmlFor:"appointmentNotes",children:"Notas de la cita"}),s.jsx(nu,{id:"appointmentNotes",value:o.appointmentNotes,onChange:v=>l(x=>({...x,appointmentNotes:v.target.value})),placeholder:"Horario preferido, instrucciones especiales...",rows:2})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(dt,{htmlFor:"additionalNotes",children:"Notas adicionales (opcional)"}),s.jsx(nu,{id:"additionalNotes",value:o.additionalNotes,onChange:v=>l(x=>({...x,additionalNotes:v.target.value})),placeholder:"Informacin adicional para el proveedor...",rows:3})]})]})]})]}),d&&s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"font-semibold text-lg",children:"Vista Previa del Correo"}),s.jsxs(Oe,{variant:"outline",size:"sm",onClick:()=>u(!c),children:[c?"Ocultar":"Mostrar"," Vista Previa"]})]}),c&&s.jsxs("div",{className:"space-y-3 p-4 bg-gray-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx(dt,{className:"text-xs text-gray-600",children:"Para:"}),s.jsx("p",{className:"text-sm",children:d.email})]}),s.jsxs("div",{children:[s.jsx(dt,{className:"text-xs text-gray-600",children:"Asunto:"}),s.jsx("p",{className:"text-sm font-medium",children:g})]}),s.jsxs("div",{children:[s.jsx(dt,{className:"text-xs text-gray-600",children:"Mensaje:"}),s.jsx("pre",{className:"text-xs whitespace-pre-wrap bg-white p-3 rounded border font-mono max-h-32 overflow-y-auto",children:y})]})]})]}),s.jsxs(pc,{className:"gap-2",children:[s.jsx(Oe,{variant:"outline",onClick:r,children:"Cancelar"}),s.jsxs(Oe,{variant:"outline",onClick:h,disabled:!d,className:"flex items-center gap-2",children:[s.jsx(XNe,{className:"h-4 w-4"}),"Copiar Correo"]}),s.jsxs(Oe,{onClick:m,disabled:!d,className:"flex items-center gap-2",children:[s.jsx(hie,{className:"h-4 w-4"}),"Enviar Solicitud"]})]})]})})}function Jr(e){"@babel/helpers - typeof";return Jr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jr(e)}var sd=Uint8Array,Zl=Uint16Array,VF=Int32Array,qF=new sd([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),UF=new sd([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),EK=new sd([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),lpe=function(e,t){for(var n=new Zl(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];for(var i=new VF(n[30]),r=1;r<30;++r)for(var a=n[r];a<n[r+1];++a)i[a]=a-n[r]<<5|r;return{b:n,r:i}},cpe=lpe(qF,2),ift=cpe.b,OI=cpe.r;ift[28]=258,OI[258]=28;var aft=lpe(UF,0),PK=aft.r,LI=new Zl(32768);for(var Ri=0;Ri<32768;++Ri){var xm=(Ri&43690)>>1|(Ri&21845)<<1;xm=(xm&52428)>>2|(xm&13107)<<2,xm=(xm&61680)>>4|(xm&3855)<<4,LI[Ri]=((xm&65280)>>8|(xm&255)<<8)>>1}var Q1=function(e,t,n){for(var r=e.length,i=0,a=new Zl(t);i<r;++i)e[i]&&++a[e[i]-1];var o=new Zl(t);for(i=1;i<t;++i)o[i]=o[i-1]+a[i-1]<<1;var l;if(n){l=new Zl(1<<t);var c=15-t;for(i=0;i<r;++i)if(e[i])for(var u=i<<4|e[i],d=t-e[i],f=o[e[i]-1]++<<d,m=f|(1<<d)-1;f<=m;++f)l[LI[f]>>c]=u}else for(l=new Zl(r),i=0;i<r;++i)e[i]&&(l[i]=LI[o[e[i]-1]++]>>15-e[i]);return l},yv=new sd(288);for(var Ri=0;Ri<144;++Ri)yv[Ri]=8;for(var Ri=144;Ri<256;++Ri)yv[Ri]=9;for(var Ri=256;Ri<280;++Ri)yv[Ri]=7;for(var Ri=280;Ri<288;++Ri)yv[Ri]=8;var zk=new sd(32);for(var Ri=0;Ri<32;++Ri)zk[Ri]=5;var sft=Q1(yv,9,0),oft=Q1(zk,5,0),upe=function(e){return(e+7)/8|0},lft=function(e,t,n){return(n==null||n>e.length)&&(n=e.length),new sd(e.subarray(t,n))},Uf=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8},r1=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8,e[r+2]|=n>>16},I4=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var i=n.length,a=n.slice();if(!i)return{t:fpe,l:0};if(i==1){var o=new sd(n[0].s+1);return o[n[0].s]=1,{t:o,l:1}}n.sort(function(S,k){return S.f-k.f}),n.push({s:-1,f:25001});var l=n[0],c=n[1],u=0,d=1,f=2;for(n[0]={s:-1,f:l.f+c.f,l,r:c};d!=i-1;)l=n[n[u].f<n[f].f?u++:f++],c=n[u!=d&&n[u].f<n[f].f?u++:f++],n[d++]={s:-1,f:l.f+c.f,l,r:c};for(var m=a[0].s,r=1;r<i;++r)a[r].s>m&&(m=a[r].s);var h=new Zl(m+1),g=MI(n[d-1],h,0);if(g>t){var r=0,y=0,v=g-t,x=1<<v;for(a.sort(function(k,P){return h[P.s]-h[k.s]||k.f-P.f});r<i;++r){var w=a[r].s;if(h[w]>t)y+=x-(1<<g-h[w]),h[w]=t;else break}for(y>>=v;y>0;){var j=a[r].s;h[j]<t?y-=1<<t-h[j]++-1:++r}for(;r>=0&&y;--r){var _=a[r].s;h[_]==t&&(--h[_],++y)}g=t}return{t:new sd(h),l:g}},MI=function(e,t,n){return e.s==-1?Math.max(MI(e.l,t,n+1),MI(e.r,t,n+1)):t[e.s]=n},AK=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new Zl(++t),r=0,i=e[0],a=1,o=function(c){n[r++]=c},l=1;l<=t;++l)if(e[l]==i&&l!=t)++a;else{if(!i&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(i),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(i);a=1,i=e[l]}return{c:n.subarray(0,r),n:t}},i1=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},dpe=function(e,t,n){var r=n.length,i=upe(t+2);e[i]=r&255,e[i+1]=r>>8,e[i+2]=e[i]^255,e[i+3]=e[i+1]^255;for(var a=0;a<r;++a)e[i+a+4]=n[a];return(i+4+r)*8},TK=function(e,t,n,r,i,a,o,l,c,u,d){Uf(t,d++,n),++i[256];for(var f=I4(i,15),m=f.t,h=f.l,g=I4(a,15),y=g.t,v=g.l,x=AK(m),w=x.c,j=x.n,_=AK(y),S=_.c,k=_.n,P=new Zl(19),M=0;M<w.length;++M)++P[w[M]&31];for(var M=0;M<S.length;++M)++P[S[M]&31];for(var T=I4(P,7),R=T.t,D=T.l,I=19;I>4&&!R[EK[I-1]];--I);var B=u+5<<3,$=i1(i,yv)+i1(a,zk)+o,K=i1(i,m)+i1(a,y)+o+14+3*I+i1(P,R)+2*P[16]+3*P[17]+7*P[18];if(c>=0&&B<=$&&B<=K)return dpe(t,d,e.subarray(c,c+u));var Y,Q,H,G;if(Uf(t,d,1+(K<$)),d+=2,K<$){Y=Q1(m,h,0),Q=m,H=Q1(y,v,0),G=y;var U=Q1(R,D,0);Uf(t,d,j-257),Uf(t,d+5,k-1),Uf(t,d+10,I-4),d+=14;for(var M=0;M<I;++M)Uf(t,d+3*M,R[EK[M]]);d+=3*I;for(var ee=[w,S],z=0;z<2;++z)for(var F=ee[z],M=0;M<F.length;++M){var ie=F[M]&31;Uf(t,d,U[ie]),d+=R[ie],ie>15&&(Uf(t,d,F[M]>>5&127),d+=F[M]>>12)}}else Y=sft,Q=yv,H=oft,G=zk;for(var M=0;M<l;++M){var ce=r[M];if(ce>255){var ie=ce>>18&31;r1(t,d,Y[ie+257]),d+=Q[ie+257],ie>7&&(Uf(t,d,ce>>23&31),d+=qF[ie]);var te=ce&31;r1(t,d,H[te]),d+=G[te],te>3&&(r1(t,d,ce>>5&8191),d+=UF[te])}else r1(t,d,Y[ce]),d+=Q[ce]}return r1(t,d,Y[256]),d+Q[256]},cft=new VF([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),fpe=new sd(0),uft=function(e,t,n,r,i,a){var o=a.z||e.length,l=new sd(r+o+5*(1+Math.ceil(o/7e3))+i),c=l.subarray(r,l.length-i),u=a.l,d=(a.r||0)&7;if(t){d&&(c[0]=a.r>>3);for(var f=cft[t-1],m=f>>13,h=f&8191,g=(1<<n)-1,y=a.p||new Zl(32768),v=a.h||new Zl(g+1),x=Math.ceil(n/3),w=2*x,j=function(ae){return(e[ae]^e[ae+1]<<x^e[ae+2]<<w)&g},_=new VF(25e3),S=new Zl(288),k=new Zl(32),P=0,M=0,T=a.i||0,R=0,D=a.w||0,I=0;T+2<o;++T){var B=j(T),$=T&32767,K=v[B];if(y[$]=K,v[B]=$,D<=T){var Y=o-T;if((P>7e3||R>24576)&&(Y>423||!u)){d=TK(e,c,0,_,S,k,M,R,I,T-I,d),R=P=M=0,I=T;for(var Q=0;Q<286;++Q)S[Q]=0;for(var Q=0;Q<30;++Q)k[Q]=0}var H=2,G=0,U=h,ee=$-K&32767;if(Y>2&&B==j(T-ee))for(var z=Math.min(m,Y)-1,F=Math.min(32767,T),ie=Math.min(258,Y);ee<=F&&--U&&$!=K;){if(e[T+H]==e[T+H-ee]){for(var ce=0;ce<ie&&e[T+ce]==e[T+ce-ee];++ce);if(ce>H){if(H=ce,G=ee,ce>z)break;for(var te=Math.min(ee,ce-2),oe=0,Q=0;Q<te;++Q){var ve=T-ee+Q&32767,ne=y[ve],xe=ve-ne&32767;xe>oe&&(oe=xe,K=ve)}}}$=K,K=y[$],ee+=$-K&32767}if(G){_[R++]=268435456|OI[H]<<18|PK[G];var ue=OI[H]&31,re=PK[G]&31;M+=qF[ue]+UF[re],++S[257+ue],++k[re],D=T+H,++P}else _[R++]=e[T],++S[e[T]]}}for(T=Math.max(T,D);T<o;++T)_[R++]=e[T],++S[e[T]];d=TK(e,c,u,_,S,k,M,R,I,T-I,d),u||(a.r=d&7|c[d/8|0]<<3,d-=7,a.h=v,a.p=y,a.i=T,a.w=D)}else{for(var T=a.w||0;T<o+u;T+=65535){var Se=T+65535;Se>=o&&(c[d/8|0]=u,Se=o),d=dpe(c,d+1,e.subarray(T,Se))}a.i=o}return lft(l,0,r+upe(d)+i)},hpe=function(){var e=1,t=0;return{p:function(n){for(var r=e,i=t,a=n.length|0,o=0;o!=a;){for(var l=Math.min(o+2655,a);o<l;++o)i+=r+=n[o];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}e=r,t=i},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},dft=function(e,t,n,r,i){if(!i&&(i={l:1},t.dictionary)){var a=t.dictionary.subarray(-32768),o=new sd(a.length+e.length);o.set(a),o.set(e,a.length),e=o,i.w=a.length}return uft(e,t.level==null?6:t.level,t.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,n,r,i)},mpe=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},fft=function(e,t){var n=t.level,r=n==0?0:n<6?1:n==9?3:2;if(e[0]=120,e[1]=r<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var i=hpe();i.p(t.dictionary),mpe(e,2,i.d())}};function II(e,t){t||(t={});var n=hpe();n.p(e);var r=dft(e,t,t.dictionary?6:2,4);return fft(r,t),mpe(r,r.length-4,n.d()),r}var hft=typeof TextDecoder<"u"&&new TextDecoder,mft=0;try{hft.decode(fpe,{stream:!0}),mft=1}catch{}function pft(e){if(Array.isArray(e))return e}function gft(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,a,o,l=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,t!==0)for(;!(c=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function OK(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function vft(e,t){if(e){if(typeof e=="string")return OK(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?OK(e,t):void 0}}function xft(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LK(e,t){return pft(e)||gft(e,t)||vft(e,t)||xft()}function MK(e,t="utf8"){return new TextDecoder(t).decode(e)}const yft=new TextEncoder;function bft(e){return yft.encode(e)}const wft=1024*8,jft=(()=>{const e=new Uint8Array(4),t=new Uint32Array(e.buffer);return!((t[0]=1)&e[0])})(),D4={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class WF{constructor(t=wft,n={}){Pe(this,"buffer");Pe(this,"byteLength");Pe(this,"byteOffset");Pe(this,"length");Pe(this,"offset");Pe(this,"lastWrittenByte");Pe(this,"littleEndian");Pe(this,"_data");Pe(this,"_mark");Pe(this,"_marks");let r=!1;typeof t=="number"?t=new ArrayBuffer(t):(r=!0,this.lastWrittenByte=t.byteLength);const i=n.offset?n.offset>>>0:0,a=t.byteLength-i;let o=i;(ArrayBuffer.isView(t)||t instanceof WF)&&(t.byteLength!==t.buffer.byteLength&&(o=t.byteOffset+i),t=t.buffer),r?this.lastWrittenByte=a:this.lastWrittenByte=0,this.buffer=t,this.length=a,this.byteLength=a,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,a),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const r=(this.offset+t)*2,i=new Uint8Array(r);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,n){const r=D4[n].BYTES_PER_ELEMENT*t,i=this.byteOffset+this.offset,a=this.buffer.slice(i,i+r);if(this.littleEndian===jft&&n!=="uint8"&&n!=="int8"){const l=new Uint8Array(this.buffer.slice(i,i+r));l.reverse();const c=new D4[n](l.buffer);return this.offset+=r,c.reverse(),c}const o=new D4[n](a);return this.offset+=r,o}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let n="";for(let r=0;r<t;r++)n+=this.readChar();return n}readUtf8(t=1){return MK(this.readBytes(t))}decodeText(t=1,n="utf8"){return MK(this.readBytes(t),n)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let n=0;n<t.length;n++)this._data.setUint8(this.offset++,t[n]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let n=0;n<t.length;n++)this.writeUint8(t.charCodeAt(n));return this}writeUtf8(t){return this.writeBytes(bft(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function ib(e){let t=e.length;for(;--t>=0;)e[t]=0}const Nft=3,_ft=258,ppe=29,Sft=256,kft=Sft+1+ppe,gpe=30,Cft=512,Eft=new Array((kft+2)*2);ib(Eft);const Pft=new Array(gpe*2);ib(Pft);const Aft=new Array(Cft);ib(Aft);const Tft=new Array(_ft-Nft+1);ib(Tft);const Oft=new Array(ppe);ib(Oft);const Lft=new Array(gpe);ib(Lft);const Mft=(e,t,n,r)=>{let i=e&65535|0,a=e>>>16&65535|0,o=0;for(;n!==0;){o=n>2e3?2e3:n,n-=o;do i=i+t[r++]|0,a=a+i|0;while(--o);i%=65521,a%=65521}return i|a<<16|0};var DI=Mft;const Ift=()=>{let e,t=[];for(var n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=e&1?3988292384^e>>>1:e>>>1;t[n]=e}return t},Dft=new Uint32Array(Ift()),Rft=(e,t,n,r)=>{const i=Dft,a=r+n;e^=-1;for(let o=r;o<a;o++)e=e>>>8^i[(e^t[o])&255];return e^-1};var Td=Rft,RI={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},vpe={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const $ft=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var Fft=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const n=t.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const r in n)$ft(n,r)&&(e[r]=n[r])}}return e},Bft=e=>{let t=0;for(let r=0,i=e.length;r<i;r++)t+=e[r].length;const n=new Uint8Array(t);for(let r=0,i=0,a=e.length;r<a;r++){let o=e[r];n.set(o,i),i+=o.length}return n},xpe={assign:Fft,flattenChunks:Bft};let ype=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{ype=!1}const H2=new Uint8Array(256);for(let e=0;e<256;e++)H2[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;H2[254]=H2[254]=1;var zft=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,n,r,i,a,o=e.length,l=0;for(i=0;i<o;i++)n=e.charCodeAt(i),(n&64512)===55296&&i+1<o&&(r=e.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),l+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(l),a=0,i=0;a<l;i++)n=e.charCodeAt(i),(n&64512)===55296&&i+1<o&&(r=e.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?t[a++]=n:n<2048?(t[a++]=192|n>>>6,t[a++]=128|n&63):n<65536?(t[a++]=224|n>>>12,t[a++]=128|n>>>6&63,t[a++]=128|n&63):(t[a++]=240|n>>>18,t[a++]=128|n>>>12&63,t[a++]=128|n>>>6&63,t[a++]=128|n&63);return t};const Vft=(e,t)=>{if(t<65534&&e.subarray&&ype)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let n="";for(let r=0;r<t;r++)n+=String.fromCharCode(e[r]);return n};var qft=(e,t)=>{const n=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let r,i;const a=new Array(n*2);for(i=0,r=0;r<n;){let o=e[r++];if(o<128){a[i++]=o;continue}let l=H2[o];if(l>4){a[i++]=65533,r+=l-1;continue}for(o&=l===2?31:l===3?15:7;l>1&&r<n;)o=o<<6|e[r++]&63,l--;if(l>1){a[i++]=65533;continue}o<65536?a[i++]=o:(o-=65536,a[i++]=55296|o>>10&1023,a[i++]=56320|o&1023)}return Vft(a,i)},Uft=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let n=t-1;for(;n>=0&&(e[n]&192)===128;)n--;return n<0||n===0?t:n+H2[e[n]]>t?n:t},$I={string2buf:zft,buf2string:qft,utf8border:Uft};function Wft(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var Hft=Wft;const x_=16209,Kft=16191;var Gft=function(t,n){let r,i,a,o,l,c,u,d,f,m,h,g,y,v,x,w,j,_,S,k,P,M,T,R;const D=t.state;r=t.next_in,T=t.input,i=r+(t.avail_in-5),a=t.next_out,R=t.output,o=a-(n-t.avail_out),l=a+(t.avail_out-257),c=D.dmax,u=D.wsize,d=D.whave,f=D.wnext,m=D.window,h=D.hold,g=D.bits,y=D.lencode,v=D.distcode,x=(1<<D.lenbits)-1,w=(1<<D.distbits)-1;e:do{g<15&&(h+=T[r++]<<g,g+=8,h+=T[r++]<<g,g+=8),j=y[h&x];t:for(;;){if(_=j>>>24,h>>>=_,g-=_,_=j>>>16&255,_===0)R[a++]=j&65535;else if(_&16){S=j&65535,_&=15,_&&(g<_&&(h+=T[r++]<<g,g+=8),S+=h&(1<<_)-1,h>>>=_,g-=_),g<15&&(h+=T[r++]<<g,g+=8,h+=T[r++]<<g,g+=8),j=v[h&w];n:for(;;){if(_=j>>>24,h>>>=_,g-=_,_=j>>>16&255,_&16){if(k=j&65535,_&=15,g<_&&(h+=T[r++]<<g,g+=8,g<_&&(h+=T[r++]<<g,g+=8)),k+=h&(1<<_)-1,k>c){t.msg="invalid distance too far back",D.mode=x_;break e}if(h>>>=_,g-=_,_=a-o,k>_){if(_=k-_,_>d&&D.sane){t.msg="invalid distance too far back",D.mode=x_;break e}if(P=0,M=m,f===0){if(P+=u-_,_<S){S-=_;do R[a++]=m[P++];while(--_);P=a-k,M=R}}else if(f<_){if(P+=u+f-_,_-=f,_<S){S-=_;do R[a++]=m[P++];while(--_);if(P=0,f<S){_=f,S-=_;do R[a++]=m[P++];while(--_);P=a-k,M=R}}}else if(P+=f-_,_<S){S-=_;do R[a++]=m[P++];while(--_);P=a-k,M=R}for(;S>2;)R[a++]=M[P++],R[a++]=M[P++],R[a++]=M[P++],S-=3;S&&(R[a++]=M[P++],S>1&&(R[a++]=M[P++]))}else{P=a-k;do R[a++]=R[P++],R[a++]=R[P++],R[a++]=R[P++],S-=3;while(S>2);S&&(R[a++]=R[P++],S>1&&(R[a++]=R[P++]))}}else if(_&64){t.msg="invalid distance code",D.mode=x_;break e}else{j=v[(j&65535)+(h&(1<<_)-1)];continue n}break}}else if(_&64)if(_&32){D.mode=Kft;break e}else{t.msg="invalid literal/length code",D.mode=x_;break e}else{j=y[(j&65535)+(h&(1<<_)-1)];continue t}break}}while(r<i&&a<l);S=g>>3,r-=S,g-=S<<3,h&=(1<<g)-1,t.next_in=r,t.next_out=a,t.avail_in=r<i?5+(i-r):5-(r-i),t.avail_out=a<l?257+(l-a):257-(a-l),D.hold=h,D.bits=g};const dx=15,IK=852,DK=592,RK=0,R4=1,$K=2,Yft=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Xft=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Zft=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Qft=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),Jft=(e,t,n,r,i,a,o,l)=>{const c=l.bits;let u=0,d=0,f=0,m=0,h=0,g=0,y=0,v=0,x=0,w=0,j,_,S,k,P,M=null,T;const R=new Uint16Array(dx+1),D=new Uint16Array(dx+1);let I=null,B,$,K;for(u=0;u<=dx;u++)R[u]=0;for(d=0;d<r;d++)R[t[n+d]]++;for(h=c,m=dx;m>=1&&R[m]===0;m--);if(h>m&&(h=m),m===0)return i[a++]=1<<24|64<<16|0,i[a++]=1<<24|64<<16|0,l.bits=1,0;for(f=1;f<m&&R[f]===0;f++);for(h<f&&(h=f),v=1,u=1;u<=dx;u++)if(v<<=1,v-=R[u],v<0)return-1;if(v>0&&(e===RK||m!==1))return-1;for(D[1]=0,u=1;u<dx;u++)D[u+1]=D[u]+R[u];for(d=0;d<r;d++)t[n+d]!==0&&(o[D[t[n+d]]++]=d);if(e===RK?(M=I=o,T=20):e===R4?(M=Yft,I=Xft,T=257):(M=Zft,I=Qft,T=0),w=0,d=0,u=f,P=a,g=h,y=0,S=-1,x=1<<h,k=x-1,e===R4&&x>IK||e===$K&&x>DK)return 1;for(;;){B=u-y,o[d]+1<T?($=0,K=o[d]):o[d]>=T?($=I[o[d]-T],K=M[o[d]-T]):($=96,K=0),j=1<<u-y,_=1<<g,f=_;do _-=j,i[P+(w>>y)+_]=B<<24|$<<16|K|0;while(_!==0);for(j=1<<u-1;w&j;)j>>=1;if(j!==0?(w&=j-1,w+=j):w=0,d++,--R[u]===0){if(u===m)break;u=t[n+o[d]]}if(u>h&&(w&k)!==S){for(y===0&&(y=h),P+=f,g=u-y,v=1<<g;g+y<m&&(v-=R[g+y],!(v<=0));)g++,v<<=1;if(x+=1<<g,e===R4&&x>IK||e===$K&&x>DK)return 1;S=w&k,i[S]=h<<24|g<<16|P-a|0}}return w!==0&&(i[P+w]=u-y<<24|64<<16|0),l.bits=h,0};var J1=Jft;const eht=0,bpe=1,wpe=2,{Z_FINISH:FK,Z_BLOCK:tht,Z_TREES:y_,Z_OK:bv,Z_STREAM_END:nht,Z_NEED_DICT:rht,Z_STREAM_ERROR:au,Z_DATA_ERROR:jpe,Z_MEM_ERROR:Npe,Z_BUF_ERROR:iht,Z_DEFLATED:BK}=vpe,CP=16180,zK=16181,VK=16182,qK=16183,UK=16184,WK=16185,HK=16186,KK=16187,GK=16188,YK=16189,Vk=16190,Wf=16191,$4=16192,XK=16193,F4=16194,ZK=16195,QK=16196,JK=16197,eG=16198,b_=16199,w_=16200,tG=16201,nG=16202,rG=16203,iG=16204,aG=16205,B4=16206,sG=16207,oG=16208,Wi=16209,_pe=16210,Spe=16211,aht=852,sht=592,oht=15,lht=oht,lG=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function cht(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Dv=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<CP||t.mode>Spe?1:0},kpe=e=>{if(Dv(e))return au;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=CP,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(aht),t.distcode=t.distdyn=new Int32Array(sht),t.sane=1,t.back=-1,bv},Cpe=e=>{if(Dv(e))return au;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,kpe(e)},Epe=(e,t)=>{let n;if(Dv(e))return au;const r=e.state;return t<0?(n=0,t=-t):(n=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?au:(r.window!==null&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,Cpe(e))},Ppe=(e,t)=>{if(!e)return au;const n=new cht;e.state=n,n.strm=e,n.window=null,n.mode=CP;const r=Epe(e,t);return r!==bv&&(e.state=null),r},uht=e=>Ppe(e,lht);let cG=!0,z4,V4;const dht=e=>{if(cG){z4=new Int32Array(512),V4=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(J1(bpe,e.lens,0,288,z4,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;J1(wpe,e.lens,0,32,V4,0,e.work,{bits:5}),cG=!1}e.lencode=z4,e.lenbits=9,e.distcode=V4,e.distbits=5},Ape=(e,t,n,r)=>{let i;const a=e.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),r>=a.wsize?(a.window.set(t.subarray(n-a.wsize,n),0),a.wnext=0,a.whave=a.wsize):(i=a.wsize-a.wnext,i>r&&(i=r),a.window.set(t.subarray(n-r,n-r+i),a.wnext),r-=i,r?(a.window.set(t.subarray(n-r,n),0),a.wnext=r,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0},fht=(e,t)=>{let n,r,i,a,o,l,c,u,d,f,m,h,g,y,v=0,x,w,j,_,S,k,P,M;const T=new Uint8Array(4);let R,D;const I=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Dv(e)||!e.output||!e.input&&e.avail_in!==0)return au;n=e.state,n.mode===Wf&&(n.mode=$4),o=e.next_out,i=e.output,c=e.avail_out,a=e.next_in,r=e.input,l=e.avail_in,u=n.hold,d=n.bits,f=l,m=c,M=bv;e:for(;;)switch(n.mode){case CP:if(n.wrap===0){n.mode=$4;break}for(;d<16;){if(l===0)break e;l--,u+=r[a++]<<d,d+=8}if(n.wrap&2&&u===35615){n.wbits===0&&(n.wbits=15),n.check=0,T[0]=u&255,T[1]=u>>>8&255,n.check=Td(n.check,T,2,0),u=0,d=0,n.mode=zK;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((u&255)<<8)+(u>>8))%31){e.msg="incorrect header check",n.mode=Wi;break}if((u&15)!==BK){e.msg="unknown compression method",n.mode=Wi;break}if(u>>>=4,d-=4,P=(u&15)+8,n.wbits===0&&(n.wbits=P),P>15||P>n.wbits){e.msg="invalid window size",n.mode=Wi;break}n.dmax=1<<n.wbits,n.flags=0,e.adler=n.check=1,n.mode=u&512?YK:Wf,u=0,d=0;break;case zK:for(;d<16;){if(l===0)break e;l--,u+=r[a++]<<d,d+=8}if(n.flags=u,(n.flags&255)!==BK){e.msg="unknown compression method",n.mode=Wi;break}if(n.flags&57344){e.msg="unknown header flags set",n.mode=Wi;break}n.head&&(n.head.text=u>>8&1),n.flags&512&&n.wrap&4&&(T[0]=u&255,T[1]=u>>>8&255,n.check=Td(n.check,T,2,0)),u=0,d=0,n.mode=VK;case VK:for(;d<32;){if(l===0)break e;l--,u+=r[a++]<<d,d+=8}n.head&&(n.head.time=u),n.flags&512&&n.wrap&4&&(T[0]=u&255,T[1]=u>>>8&255,T[2]=u>>>16&255,T[3]=u>>>24&255,n.check=Td(n.check,T,4,0)),u=0,d=0,n.mode=qK;case qK:for(;d<16;){if(l===0)break e;l--,u+=r[a++]<<d,d+=8}n.head&&(n.head.xflags=u&255,n.head.os=u>>8),n.flags&512&&n.wrap&4&&(T[0]=u&255,T[1]=u>>>8&255,n.check=Td(n.check,T,2,0)),u=0,d=0,n.mode=UK;case UK:if(n.flags&1024){for(;d<16;){if(l===0)break e;l--,u+=r[a++]<<d,d+=8}n.length=u,n.head&&(n.head.extra_len=u),n.flags&512&&n.wrap&4&&(T[0]=u&255,T[1]=u>>>8&255,n.check=Td(n.check,T,2,0)),u=0,d=0}else n.head&&(n.head.extra=null);n.mode=WK;case WK:if(n.flags&1024&&(h=n.length,h>l&&(h=l),h&&(n.head&&(P=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(a,a+h),P)),n.flags&512&&n.wrap&4&&(n.check=Td(n.check,r,h,a)),l-=h,a+=h,n.length-=h),n.length))break e;n.length=0,n.mode=HK;case HK:if(n.flags&2048){if(l===0)break e;h=0;do P=r[a+h++],n.head&&P&&n.length<65536&&(n.head.name+=String.fromCharCode(P));while(P&&h<l);if(n.flags&512&&n.wrap&4&&(n.check=Td(n.check,r,h,a)),l-=h,a+=h,P)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=KK;case KK:if(n.flags&4096){if(l===0)break e;h=0;do P=r[a+h++],n.head&&P&&n.length<65536&&(n.head.comment+=String.fromCharCode(P));while(P&&h<l);if(n.flags&512&&n.wrap&4&&(n.check=Td(n.check,r,h,a)),l-=h,a+=h,P)break e}else n.head&&(n.head.comment=null);n.mode=GK;case GK:if(n.flags&512){for(;d<16;){if(l===0)break e;l--,u+=r[a++]<<d,d+=8}if(n.wrap&4&&u!==(n.check&65535)){e.msg="header crc mismatch",n.mode=Wi;break}u=0,d=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=Wf;break;case YK:for(;d<32;){if(l===0)break e;l--,u+=r[a++]<<d,d+=8}e.adler=n.check=lG(u),u=0,d=0,n.mode=Vk;case Vk:if(n.havedict===0)return e.next_out=o,e.avail_out=c,e.next_in=a,e.avail_in=l,n.hold=u,n.bits=d,rht;e.adler=n.check=1,n.mode=Wf;case Wf:if(t===tht||t===y_)break e;case $4:if(n.last){u>>>=d&7,d-=d&7,n.mode=B4;break}for(;d<3;){if(l===0)break e;l--,u+=r[a++]<<d,d+=8}switch(n.last=u&1,u>>>=1,d-=1,u&3){case 0:n.mode=XK;break;case 1:if(dht(n),n.mode=b_,t===y_){u>>>=2,d-=2;break e}break;case 2:n.mode=QK;break;case 3:e.msg="invalid block type",n.mode=Wi}u>>>=2,d-=2;break;case XK:for(u>>>=d&7,d-=d&7;d<32;){if(l===0)break e;l--,u+=r[a++]<<d,d+=8}if((u&65535)!==(u>>>16^65535)){e.msg="invalid stored block lengths",n.mode=Wi;break}if(n.length=u&65535,u=0,d=0,n.mode=F4,t===y_)break e;case F4:n.mode=ZK;case ZK:if(h=n.length,h){if(h>l&&(h=l),h>c&&(h=c),h===0)break e;i.set(r.subarray(a,a+h),o),l-=h,a+=h,c-=h,o+=h,n.length-=h;break}n.mode=Wf;break;case QK:for(;d<14;){if(l===0)break e;l--,u+=r[a++]<<d,d+=8}if(n.nlen=(u&31)+257,u>>>=5,d-=5,n.ndist=(u&31)+1,u>>>=5,d-=5,n.ncode=(u&15)+4,u>>>=4,d-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=Wi;break}n.have=0,n.mode=JK;case JK:for(;n.have<n.ncode;){for(;d<3;){if(l===0)break e;l--,u+=r[a++]<<d,d+=8}n.lens[I[n.have++]]=u&7,u>>>=3,d-=3}for(;n.have<19;)n.lens[I[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,R={bits:n.lenbits},M=J1(eht,n.lens,0,19,n.lencode,0,n.work,R),n.lenbits=R.bits,M){e.msg="invalid code lengths set",n.mode=Wi;break}n.have=0,n.mode=eG;case eG:for(;n.have<n.nlen+n.ndist;){for(;v=n.lencode[u&(1<<n.lenbits)-1],x=v>>>24,w=v>>>16&255,j=v&65535,!(x<=d);){if(l===0)break e;l--,u+=r[a++]<<d,d+=8}if(j<16)u>>>=x,d-=x,n.lens[n.have++]=j;else{if(j===16){for(D=x+2;d<D;){if(l===0)break e;l--,u+=r[a++]<<d,d+=8}if(u>>>=x,d-=x,n.have===0){e.msg="invalid bit length repeat",n.mode=Wi;break}P=n.lens[n.have-1],h=3+(u&3),u>>>=2,d-=2}else if(j===17){for(D=x+3;d<D;){if(l===0)break e;l--,u+=r[a++]<<d,d+=8}u>>>=x,d-=x,P=0,h=3+(u&7),u>>>=3,d-=3}else{for(D=x+7;d<D;){if(l===0)break e;l--,u+=r[a++]<<d,d+=8}u>>>=x,d-=x,P=0,h=11+(u&127),u>>>=7,d-=7}if(n.have+h>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=Wi;break}for(;h--;)n.lens[n.have++]=P}}if(n.mode===Wi)break;if(n.lens[256]===0){e.msg="invalid code -- missing end-of-block",n.mode=Wi;break}if(n.lenbits=9,R={bits:n.lenbits},M=J1(bpe,n.lens,0,n.nlen,n.lencode,0,n.work,R),n.lenbits=R.bits,M){e.msg="invalid literal/lengths set",n.mode=Wi;break}if(n.distbits=6,n.distcode=n.distdyn,R={bits:n.distbits},M=J1(wpe,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,R),n.distbits=R.bits,M){e.msg="invalid distances set",n.mode=Wi;break}if(n.mode=b_,t===y_)break e;case b_:n.mode=w_;case w_:if(l>=6&&c>=258){e.next_out=o,e.avail_out=c,e.next_in=a,e.avail_in=l,n.hold=u,n.bits=d,Gft(e,m),o=e.next_out,i=e.output,c=e.avail_out,a=e.next_in,r=e.input,l=e.avail_in,u=n.hold,d=n.bits,n.mode===Wf&&(n.back=-1);break}for(n.back=0;v=n.lencode[u&(1<<n.lenbits)-1],x=v>>>24,w=v>>>16&255,j=v&65535,!(x<=d);){if(l===0)break e;l--,u+=r[a++]<<d,d+=8}if(w&&!(w&240)){for(_=x,S=w,k=j;v=n.lencode[k+((u&(1<<_+S)-1)>>_)],x=v>>>24,w=v>>>16&255,j=v&65535,!(_+x<=d);){if(l===0)break e;l--,u+=r[a++]<<d,d+=8}u>>>=_,d-=_,n.back+=_}if(u>>>=x,d-=x,n.back+=x,n.length=j,w===0){n.mode=aG;break}if(w&32){n.back=-1,n.mode=Wf;break}if(w&64){e.msg="invalid literal/length code",n.mode=Wi;break}n.extra=w&15,n.mode=tG;case tG:if(n.extra){for(D=n.extra;d<D;){if(l===0)break e;l--,u+=r[a++]<<d,d+=8}n.length+=u&(1<<n.extra)-1,u>>>=n.extra,d-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=nG;case nG:for(;v=n.distcode[u&(1<<n.distbits)-1],x=v>>>24,w=v>>>16&255,j=v&65535,!(x<=d);){if(l===0)break e;l--,u+=r[a++]<<d,d+=8}if(!(w&240)){for(_=x,S=w,k=j;v=n.distcode[k+((u&(1<<_+S)-1)>>_)],x=v>>>24,w=v>>>16&255,j=v&65535,!(_+x<=d);){if(l===0)break e;l--,u+=r[a++]<<d,d+=8}u>>>=_,d-=_,n.back+=_}if(u>>>=x,d-=x,n.back+=x,w&64){e.msg="invalid distance code",n.mode=Wi;break}n.offset=j,n.extra=w&15,n.mode=rG;case rG:if(n.extra){for(D=n.extra;d<D;){if(l===0)break e;l--,u+=r[a++]<<d,d+=8}n.offset+=u&(1<<n.extra)-1,u>>>=n.extra,d-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=Wi;break}n.mode=iG;case iG:if(c===0)break e;if(h=m-c,n.offset>h){if(h=n.offset-h,h>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=Wi;break}h>n.wnext?(h-=n.wnext,g=n.wsize-h):g=n.wnext-h,h>n.length&&(h=n.length),y=n.window}else y=i,g=o-n.offset,h=n.length;h>c&&(h=c),c-=h,n.length-=h;do i[o++]=y[g++];while(--h);n.length===0&&(n.mode=w_);break;case aG:if(c===0)break e;i[o++]=n.length,c--,n.mode=w_;break;case B4:if(n.wrap){for(;d<32;){if(l===0)break e;l--,u|=r[a++]<<d,d+=8}if(m-=c,e.total_out+=m,n.total+=m,n.wrap&4&&m&&(e.adler=n.check=n.flags?Td(n.check,i,m,o-m):DI(n.check,i,m,o-m)),m=c,n.wrap&4&&(n.flags?u:lG(u))!==n.check){e.msg="incorrect data check",n.mode=Wi;break}u=0,d=0}n.mode=sG;case sG:if(n.wrap&&n.flags){for(;d<32;){if(l===0)break e;l--,u+=r[a++]<<d,d+=8}if(n.wrap&4&&u!==(n.total&4294967295)){e.msg="incorrect length check",n.mode=Wi;break}u=0,d=0}n.mode=oG;case oG:M=nht;break e;case Wi:M=jpe;break e;case _pe:return Npe;case Spe:default:return au}return e.next_out=o,e.avail_out=c,e.next_in=a,e.avail_in=l,n.hold=u,n.bits=d,(n.wsize||m!==e.avail_out&&n.mode<Wi&&(n.mode<B4||t!==FK))&&Ape(e,e.output,e.next_out,m-e.avail_out),f-=e.avail_in,m-=e.avail_out,e.total_in+=f,e.total_out+=m,n.total+=m,n.wrap&4&&m&&(e.adler=n.check=n.flags?Td(n.check,i,m,e.next_out-m):DI(n.check,i,m,e.next_out-m)),e.data_type=n.bits+(n.last?64:0)+(n.mode===Wf?128:0)+(n.mode===b_||n.mode===F4?256:0),(f===0&&m===0||t===FK)&&M===bv&&(M=iht),M},hht=e=>{if(Dv(e))return au;let t=e.state;return t.window&&(t.window=null),e.state=null,bv},mht=(e,t)=>{if(Dv(e))return au;const n=e.state;return n.wrap&2?(n.head=t,t.done=!1,bv):au},pht=(e,t)=>{const n=t.length;let r,i,a;return Dv(e)||(r=e.state,r.wrap!==0&&r.mode!==Vk)?au:r.mode===Vk&&(i=1,i=DI(i,t,n,0),i!==r.check)?jpe:(a=Ape(e,t,n,n),a?(r.mode=_pe,Npe):(r.havedict=1,bv))};var ght=Cpe,vht=Epe,xht=kpe,yht=uht,bht=Ppe,wht=fht,jht=hht,Nht=mht,_ht=pht,Sht="pako inflate (from Nodeca project)",rh={inflateReset:ght,inflateReset2:vht,inflateResetKeep:xht,inflateInit:yht,inflateInit2:bht,inflate:wht,inflateEnd:jht,inflateGetHeader:Nht,inflateSetDictionary:_ht,inflateInfo:Sht};function kht(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var Cht=kht;const Tpe=Object.prototype.toString,{Z_NO_FLUSH:Eht,Z_FINISH:Pht,Z_OK:K2,Z_STREAM_END:q4,Z_NEED_DICT:U4,Z_STREAM_ERROR:Aht,Z_DATA_ERROR:uG,Z_MEM_ERROR:Tht}=vpe;function zj(e){this.options=xpe.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Hft,this.strm.avail_out=0;let n=rh.inflateInit2(this.strm,t.windowBits);if(n!==K2)throw new Error(RI[n]);if(this.header=new Cht,rh.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=$I.string2buf(t.dictionary):Tpe.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=rh.inflateSetDictionary(this.strm,t.dictionary),n!==K2)))throw new Error(RI[n])}zj.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let a,o,l;if(this.ended)return!1;for(t===~~t?o=t:o=t===!0?Pht:Eht,Tpe.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),a=rh.inflate(n,o),a===U4&&i&&(a=rh.inflateSetDictionary(n,i),a===K2?a=rh.inflate(n,o):a===uG&&(a=U4));n.avail_in>0&&a===q4&&n.state.wrap>0&&e[n.next_in]!==0;)rh.inflateReset(n),a=rh.inflate(n,o);switch(a){case Aht:case uG:case U4:case Tht:return this.onEnd(a),this.ended=!0,!1}if(l=n.avail_out,n.next_out&&(n.avail_out===0||a===q4))if(this.options.to==="string"){let c=$I.utf8border(n.output,n.next_out),u=n.next_out-c,d=$I.buf2string(n.output,c);n.next_out=u,n.avail_out=r-u,u&&n.output.set(n.output.subarray(c,c+u),0),this.onData(d)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(a===K2&&l===0)){if(a===q4)return a=rh.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};zj.prototype.onData=function(e){this.chunks.push(e)};zj.prototype.onEnd=function(e){e===K2&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=xpe.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function Oht(e,t){const n=new zj(t);if(n.push(e),n.err)throw n.msg||RI[n.err];return n.result}var Lht=zj,Mht=Oht,Iht={Inflate:Lht,inflate:Mht};const{Inflate:Dht,inflate:Rht}=Iht;var dG=Dht,$ht=Rht;const Ope=[];for(let e=0;e<256;e++){let t=e;for(let n=0;n<8;n++)t&1?t=3988292384^t>>>1:t=t>>>1;Ope[e]=t}const fG=4294967295;function Fht(e,t,n){let r=e;for(let i=0;i<n;i++)r=Ope[(r^t[i])&255]^r>>>8;return r}function Bht(e,t){return(Fht(fG,e,t)^fG)>>>0}function hG(e,t,n){const r=e.readUint32(),i=Bht(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(i!==r)throw new Error(`CRC mismatch for chunk ${n}. Expected ${r}, found ${i}`)}function Lpe(e,t,n){for(let r=0;r<n;r++)t[r]=e[r]}function Mpe(e,t,n,r){let i=0;for(;i<r;i++)t[i]=e[i];for(;i<n;i++)t[i]=e[i]+t[i-r]&255}function Ipe(e,t,n,r){let i=0;if(n.length===0)for(;i<r;i++)t[i]=e[i];else for(;i<r;i++)t[i]=e[i]+n[i]&255}function Dpe(e,t,n,r,i){let a=0;if(n.length===0){for(;a<i;a++)t[a]=e[a];for(;a<r;a++)t[a]=e[a]+(t[a-i]>>1)&255}else{for(;a<i;a++)t[a]=e[a]+(n[a]>>1)&255;for(;a<r;a++)t[a]=e[a]+(t[a-i]+n[a]>>1)&255}}function Rpe(e,t,n,r,i){let a=0;if(n.length===0){for(;a<i;a++)t[a]=e[a];for(;a<r;a++)t[a]=e[a]+t[a-i]&255}else{for(;a<i;a++)t[a]=e[a]+n[a]&255;for(;a<r;a++)t[a]=e[a]+zht(t[a-i],n[a],n[a-i])&255}}function zht(e,t,n){const r=e+t-n,i=Math.abs(r-e),a=Math.abs(r-t),o=Math.abs(r-n);return i<=a&&i<=o?e:a<=o?t:n}function Vht(e,t,n,r,i,a){switch(e){case 0:Lpe(t,n,i);break;case 1:Mpe(t,n,i,a);break;case 2:Ipe(t,n,r,i);break;case 3:Dpe(t,n,r,i,a);break;case 4:Rpe(t,n,r,i,a);break;default:throw new Error(`Unsupported filter: ${e}`)}}const qht=new Uint16Array([255]),Uht=new Uint8Array(qht.buffer),Wht=Uht[0]===255;function Hht(e){const{data:t,width:n,height:r,channels:i,depth:a}=e,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],l=Math.ceil(a/8)*i,c=new Uint8Array(r*n*l);let u=0;for(let d=0;d<7;d++){const f=o[d],m=Math.ceil((n-f.x)/f.xStep),h=Math.ceil((r-f.y)/f.yStep);if(m<=0||h<=0)continue;const g=m*l,y=new Uint8Array(g);for(let v=0;v<h;v++){const x=t[u++],w=t.subarray(u,u+g);u+=g;const j=new Uint8Array(g);Vht(x,w,j,y,g,l),y.set(j);for(let _=0;_<m;_++){const S=f.x+_*f.xStep,k=f.y+v*f.yStep;if(!(S>=n||k>=r))for(let P=0;P<l;P++)c[(k*n+S)*l+P]=j[_*l+P]}}}if(a===16){const d=new Uint16Array(c.buffer);if(Wht)for(let f=0;f<d.length;f++)d[f]=Kht(d[f]);return d}else return c}function Kht(e){return(e&255)<<8|e>>8&255}const Ght=new Uint16Array([255]),Yht=new Uint8Array(Ght.buffer),Xht=Yht[0]===255,Zht=new Uint8Array(0);function mG(e){const{data:t,width:n,height:r,channels:i,depth:a}=e,o=Math.ceil(a/8)*i,l=Math.ceil(a/8*i*n),c=new Uint8Array(r*l);let u=Zht,d=0,f,m;for(let h=0;h<r;h++){switch(f=t.subarray(d+1,d+1+l),m=c.subarray(h*l,(h+1)*l),t[d]){case 0:Lpe(f,m,l);break;case 1:Mpe(f,m,l,o);break;case 2:Ipe(f,m,u,l);break;case 3:Dpe(f,m,u,l,o);break;case 4:Rpe(f,m,u,l,o);break;default:throw new Error(`Unsupported filter: ${t[d]}`)}u=m,d+=l+1}if(a===16){const h=new Uint16Array(c.buffer);if(Xht)for(let g=0;g<h.length;g++)h[g]=Qht(h[g]);return h}else return c}function Qht(e){return(e&255)<<8|e>>8&255}const mS=Uint8Array.of(137,80,78,71,13,10,26,10);function pG(e){if(!Jht(e.readBytes(mS.length)))throw new Error("wrong PNG signature")}function Jht(e){if(e.length<mS.length)return!1;for(let t=0;t<mS.length;t++)if(e[t]!==mS[t])return!1;return!0}const emt="tEXt",tmt=0,$pe=new TextDecoder("latin1");function nmt(e){if(imt(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}const rmt=/^[\u0000-\u00FF]*$/;function imt(e){if(!rmt.test(e))throw new Error("invalid latin1 text")}function amt(e,t,n){const r=Fpe(t);e[r]=smt(t,n-r.length-1)}function Fpe(e){for(e.mark();e.readByte()!==tmt;);const t=e.offset;e.reset();const n=$pe.decode(e.readBytes(t-e.offset-1));return e.skip(1),nmt(n),n}function smt(e,t){return $pe.decode(e.readBytes(t))}const Bl={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},W4={UNKNOWN:-1,DEFLATE:0},gG={UNKNOWN:-1,ADAPTIVE:0},H4={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},j_={NONE:0,BACKGROUND:1,PREVIOUS:2},K4={SOURCE:0,OVER:1};class omt extends WF{constructor(n,r={}){super(n);Pe(this,"_checkCrc");Pe(this,"_inflator");Pe(this,"_png");Pe(this,"_apng");Pe(this,"_end");Pe(this,"_hasPalette");Pe(this,"_palette");Pe(this,"_hasTransparency");Pe(this,"_transparency");Pe(this,"_compressionMethod");Pe(this,"_filterMethod");Pe(this,"_interlaceMethod");Pe(this,"_colorType");Pe(this,"_isAnimated");Pe(this,"_numberOfFrames");Pe(this,"_numberOfPlays");Pe(this,"_frames");Pe(this,"_writingDataChunks");const{checkCrc:i=!1}=r;this._checkCrc=i,this._inflator=new dG,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=W4.UNKNOWN,this._filterMethod=gG.UNKNOWN,this._interlaceMethod=H4.UNKNOWN,this._colorType=Bl.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(pG(this);!this._end;){const n=this.readUint32(),r=this.readChars(4);this.decodeChunk(n,r)}return this.decodeImage(),this._png}decodeApng(){for(pG(this);!this._end;){const n=this.readUint32(),r=this.readChars(4);this.decodeApngChunk(n,r)}return this.decodeApngImage(),this._apng}decodeChunk(n,r){const i=this.offset;switch(r){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(n);break;case"IDAT":this.decodeIDAT(n);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(n);break;case"iCCP":this.decodeiCCP(n);break;case emt:amt(this._png.text,this,n);break;case"pHYs":this.decodepHYs();break;default:this.skip(n);break}if(this.offset-i!==n)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?hG(this,n+4,r):this.skip(4)}decodeApngChunk(n,r){const i=this.offset;switch(r!=="fdAT"&&r!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),r){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(n);break;default:this.decodeChunk(n,r),this.offset=i+n;break}if(this.offset-i!==n)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?hG(this,n+4,r):this.skip(4)}decodeIHDR(){const n=this._png;n.width=this.readUint32(),n.height=this.readUint32(),n.depth=lmt(this.readUint8());const r=this.readUint8();this._colorType=r;let i;switch(r){case Bl.GREYSCALE:i=1;break;case Bl.TRUECOLOUR:i=3;break;case Bl.INDEXED_COLOUR:i=1;break;case Bl.GREYSCALE_ALPHA:i=2;break;case Bl.TRUECOLOUR_ALPHA:i=4;break;case Bl.UNKNOWN:default:throw new Error(`Unknown color type: ${r}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==W4.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const n={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(n)}decodePLTE(n){if(n%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${n}`);const r=n/3;this._hasPalette=!0;const i=[];this._palette=i;for(let a=0;a<r;a++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(n){this._writingDataChunks=!0;const r=n,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodeFDAT(n){this._writingDataChunks=!0;let r=n,i=this.offset+this.byteOffset;if(i+=4,r-=4,this._inflator.push(new Uint8Array(this.buffer,i,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodetRNS(n){switch(this._colorType){case Bl.GREYSCALE:case Bl.TRUECOLOUR:{if(n%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${n}`);if(n/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${n/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(n/2);for(let r=0;r<n/2;r++)this._transparency[r]=this.readUint16();break}case Bl.INDEXED_COLOUR:{if(n>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${n} vs ${this._palette.length})`);let r=0;for(;r<n;r++){const i=this.readByte();this._palette[r].push(i)}for(;r<this._palette.length;r++)this._palette[r].push(255);break}case Bl.UNKNOWN:case Bl.GREYSCALE_ALPHA:case Bl.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(n){const r=Fpe(this),i=this.readUint8();if(i!==W4.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const a=this.readBytes(n-r.length-2);this._png.iccEmbeddedProfile={name:r,profile:$ht(a)}}decodepHYs(){const n=this.readUint32(),r=this.readUint32(),i=this.readByte();this._png.resolution={x:n,y:r,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let n=0;n<this._numberOfFrames;n++){const r={sequenceNumber:this._frames[n].sequenceNumber,delayNumber:this._frames[n].delayNumber,delayDenominator:this._frames[n].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(n);if(i){if(i.data=mG({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),n===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)r.data=i.data;else{const a=this._apng.frames.at(n-1);this.disposeFrame(i,a,r),this.addFrameDataToCanvas(r,i)}this._apng.frames.push(r)}}return this._apng}disposeFrame(n,r,i){switch(n.disposeOp){case j_.NONE:break;case j_.BACKGROUND:for(let a=0;a<this._png.height;a++)for(let o=0;o<this._png.width;o++){const l=(a*n.width+o)*this._png.channels;for(let c=0;c<this._png.channels;c++)i.data[l+c]=0}break;case j_.PREVIOUS:i.data.set(r.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(n,r){const i=1<<this._png.depth,a=(o,l)=>{const c=((o+r.yOffset)*this._png.width+r.xOffset+l)*this._png.channels,u=(o*r.width+l)*this._png.channels;return{index:c,frameIndex:u}};switch(r.blendOp){case K4.SOURCE:for(let o=0;o<r.height;o++)for(let l=0;l<r.width;l++){const{index:c,frameIndex:u}=a(o,l);for(let d=0;d<this._png.channels;d++)n.data[c+d]=r.data[u+d]}break;case K4.OVER:for(let o=0;o<r.height;o++)for(let l=0;l<r.width;l++){const{index:c,frameIndex:u}=a(o,l);for(let d=0;d<this._png.channels;d++){const f=r.data[u+this._png.channels-1]/i,m=d%(this._png.channels-1)===0?1:r.data[u+d],h=Math.floor(f*m+(1-f)*n.data[c+d]);n.data[c+d]+=h}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var r;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const n=this._isAnimated?((r=this._frames)==null?void 0:r.at(0)).data:this._inflator.result;if(this._filterMethod!==gG.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===H4.NO_INTERLACE)this._png.data=mG({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===H4.ADAM7)this._png.data=Hht({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const n=this._inflator.result,r=this._frames.at(-1);r?r.data=n:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:j_.NONE,blendOp:K4.SOURCE,data:n}),this._inflator=new dG,this._writingDataChunks=!1}}function lmt(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}var vG;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"})(vG||(vG={}));function cmt(e,t){return new omt(e,t).decode()}var Ln=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function G4(){Ln.console&&typeof Ln.console.log=="function"&&Ln.console.log.apply(Ln.console,arguments)}var ui={log:G4,warn:function(e){Ln.console&&(typeof Ln.console.warn=="function"?Ln.console.warn.apply(Ln.console,arguments):G4.call(null,arguments))},error:function(e){Ln.console&&(typeof Ln.console.error=="function"?Ln.console.error.apply(Ln.console,arguments):G4(e))}};function Y4(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){Ng(r.response,t,n)},r.onerror=function(){ui.error("could not download file")},r.send()}function xG(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function N_(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var Ng=Ln.saveAs||((typeof window>"u"?"undefined":Jr(window))!=="object"||window!==Ln?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,n){var r=Ln.URL||Ln.webkitURL,i=document.createElement("a");t=t||e.name||"download",i.download=t,i.rel="noopener",typeof e=="string"?(i.href=e,i.origin!==location.origin?xG(i.href)?Y4(e,t,n):N_(i,i.target="_blank"):N_(i)):(i.href=r.createObjectURL(e),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){N_(i)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,n){if(t=t||e.name||"download",typeof e=="string")if(xG(e))Y4(e,t,n);else{var r=document.createElement("a");r.href=e,r.target="_blank",setTimeout(function(){N_(r)})}else navigator.msSaveOrOpenBlob(function(i,a){return a===void 0?a={autoBom:!1}:Jr(a)!=="object"&&(ui.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(e,n),t)}:function(e,t,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof e=="string")return Y4(e,t,n);var i=e.type==="application/octet-stream",a=/constructor/i.test(Ln.HTMLElement)||Ln.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&a)&&(typeof FileReader>"u"?"undefined":Jr(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var d=l.result;d=o?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=d:location=d,r=null},l.readAsDataURL(e)}else{var c=Ln.URL||Ln.webkitURL,u=c.createObjectURL(e);r?r.location=u:location.href=u,r=null,setTimeout(function(){c.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function Bpe(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,a=n[r].process,o=i.exec(e);o&&(t=a(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),u=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),u.length==1&&(u="0"+u),"#"+l+c+u}}var pS=Ln.atob.bind(Ln),yG=Ln.btoa.bind(Ln);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function X4(e,t){var n=e[0],r=e[1],i=e[2],a=e[3];n=Js(n,r,i,a,t[0],7,-680876936),a=Js(a,n,r,i,t[1],12,-389564586),i=Js(i,a,n,r,t[2],17,606105819),r=Js(r,i,a,n,t[3],22,-1044525330),n=Js(n,r,i,a,t[4],7,-176418897),a=Js(a,n,r,i,t[5],12,1200080426),i=Js(i,a,n,r,t[6],17,-1473231341),r=Js(r,i,a,n,t[7],22,-45705983),n=Js(n,r,i,a,t[8],7,1770035416),a=Js(a,n,r,i,t[9],12,-1958414417),i=Js(i,a,n,r,t[10],17,-42063),r=Js(r,i,a,n,t[11],22,-1990404162),n=Js(n,r,i,a,t[12],7,1804603682),a=Js(a,n,r,i,t[13],12,-40341101),i=Js(i,a,n,r,t[14],17,-1502002290),n=eo(n,r=Js(r,i,a,n,t[15],22,1236535329),i,a,t[1],5,-165796510),a=eo(a,n,r,i,t[6],9,-1069501632),i=eo(i,a,n,r,t[11],14,643717713),r=eo(r,i,a,n,t[0],20,-373897302),n=eo(n,r,i,a,t[5],5,-701558691),a=eo(a,n,r,i,t[10],9,38016083),i=eo(i,a,n,r,t[15],14,-660478335),r=eo(r,i,a,n,t[4],20,-405537848),n=eo(n,r,i,a,t[9],5,568446438),a=eo(a,n,r,i,t[14],9,-1019803690),i=eo(i,a,n,r,t[3],14,-187363961),r=eo(r,i,a,n,t[8],20,1163531501),n=eo(n,r,i,a,t[13],5,-1444681467),a=eo(a,n,r,i,t[2],9,-51403784),i=eo(i,a,n,r,t[7],14,1735328473),n=to(n,r=eo(r,i,a,n,t[12],20,-1926607734),i,a,t[5],4,-378558),a=to(a,n,r,i,t[8],11,-2022574463),i=to(i,a,n,r,t[11],16,1839030562),r=to(r,i,a,n,t[14],23,-35309556),n=to(n,r,i,a,t[1],4,-1530992060),a=to(a,n,r,i,t[4],11,1272893353),i=to(i,a,n,r,t[7],16,-155497632),r=to(r,i,a,n,t[10],23,-1094730640),n=to(n,r,i,a,t[13],4,681279174),a=to(a,n,r,i,t[0],11,-358537222),i=to(i,a,n,r,t[3],16,-722521979),r=to(r,i,a,n,t[6],23,76029189),n=to(n,r,i,a,t[9],4,-640364487),a=to(a,n,r,i,t[12],11,-421815835),i=to(i,a,n,r,t[15],16,530742520),n=no(n,r=to(r,i,a,n,t[2],23,-995338651),i,a,t[0],6,-198630844),a=no(a,n,r,i,t[7],10,1126891415),i=no(i,a,n,r,t[14],15,-1416354905),r=no(r,i,a,n,t[5],21,-57434055),n=no(n,r,i,a,t[12],6,1700485571),a=no(a,n,r,i,t[3],10,-1894986606),i=no(i,a,n,r,t[10],15,-1051523),r=no(r,i,a,n,t[1],21,-2054922799),n=no(n,r,i,a,t[8],6,1873313359),a=no(a,n,r,i,t[15],10,-30611744),i=no(i,a,n,r,t[6],15,-1560198380),r=no(r,i,a,n,t[13],21,1309151649),n=no(n,r,i,a,t[4],6,-145523070),a=no(a,n,r,i,t[11],10,-1120210379),i=no(i,a,n,r,t[2],15,718787259),r=no(r,i,a,n,t[9],21,-343485551),e[0]=zm(n,e[0]),e[1]=zm(r,e[1]),e[2]=zm(i,e[2]),e[3]=zm(a,e[3])}function EP(e,t,n,r,i,a){return t=zm(zm(t,e),zm(r,a)),zm(t<<i|t>>>32-i,n)}function Js(e,t,n,r,i,a,o){return EP(t&n|~t&r,e,t,i,a,o)}function eo(e,t,n,r,i,a,o){return EP(t&r|n&~r,e,t,i,a,o)}function to(e,t,n,r,i,a,o){return EP(t^n^r,e,t,i,a,o)}function no(e,t,n,r,i,a,o){return EP(n^(t|~r),e,t,i,a,o)}function zpe(e){var t,n=e.length,r=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)X4(r,umt(e.substring(t-64,t)));e=e.substring(t-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(X4(r,i),t=0;t<16;t++)i[t]=0;return i[14]=8*n,X4(r,i),r}function umt(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}var bG="0123456789abcdef".split("");function dmt(e){for(var t="",n=0;n<4;n++)t+=bG[e>>8*n+4&15]+bG[e>>8*n&15];return t}function fmt(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function FI(e){return zpe(e).map(fmt).join("")}var hmt=function(e){for(var t=0;t<e.length;t++)e[t]=dmt(e[t]);return e.join("")}(zpe("hello"))!="5d41402abc4b2a76b9719d911017c592";function zm(e,t){if(hmt){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function BI(e,t){var n,r,i,a;if(e!==n){for(var o=(i=e,a=1+(256/e.length|0),new Array(a+1).join(i)),l=[],c=0;c<256;c++)l[c]=c;var u=0;for(c=0;c<256;c++){var d=l[c];u=(u+d+o.charCodeAt(c))%256,l[c]=l[u],l[u]=d}n=e,r=l}else l=r;var f=t.length,m=0,h=0,g="";for(c=0;c<f;c++)h=(h+(d=l[m=(m+1)%256]))%256,l[m]=l[h],l[h]=d,o=l[(l[m]+l[h])%256],g+=String.fromCharCode(t.charCodeAt(c)^o);return g}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var wG={print:4,modify:8,copy:16,"annot-forms":32};function wx(e,t,n,r){this.v=1,this.r=2;var i=192;e.forEach(function(l){if(wG.perm!==void 0)throw new Error("Invalid permission: "+l);i+=wG[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var a=(t+this.padding).substr(0,32),o=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,o),this.P=-(1+(255^i)),this.encryptionKey=FI(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=BI(this.encryptionKey,this.padding)}function jx(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",n=e.length,r=0;r<n;r++){var i=e.charCodeAt(r);t+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):e[r]}return t}function jG(e){if(Jr(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(n)||(t[n]={});var a=Math.random().toString(35);return t[n][a]=[r,!!i],a},this.unsubscribe=function(n){for(var r in t)if(t[r][n])return delete t[r][n],Object.keys(t[r]).length===0&&delete t[r],!0;return!1},this.publish=function(n){if(t.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var a in t[n]){var o=t[n][a];try{o[0].apply(e,r)}catch(l){Ln.console&&ui.error("jsPDF PubSub Error",l.message,l)}o[1]&&i.push(a)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function qk(e){if(!(this instanceof qk))return new qk(e);var t="opacity,stroke-opacity".split(",");for(var n in e)e.hasOwnProperty(n)&&t.indexOf(n)>=0&&(this[n]=e[n]);this.id="",this.objectNumber=-1}function Vpe(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function Eg(e,t,n,r,i){if(!(this instanceof Eg))return new Eg(e,t,n,r,i);this.type=e==="axial"?2:3,this.coords=t,this.colors=n,Vpe.call(this,r,i)}function Xx(e,t,n,r,i){if(!(this instanceof Xx))return new Xx(e,t,n,r,i);this.boundingBox=e,this.xStep=t,this.yStep=n,this.stream="",this.cloneIndex=0,Vpe.call(this,r,i)}function tn(e){var t,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],a=arguments[3],o=[],l=1,c=16,u="S",d=null;Jr(e=e||{})==="object"&&(n=e.orientation,r=e.unit||r,i=e.format||i,a=e.compress||e.compressPdf||a,(d=e.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),l=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(c=e.floatPrecision),u=e.defaultPathOperation||"S"),o=e.filters||(a===!0?["FlateEncode"]:o),r=r||"mm",n=(""+(n||"P")).toLowerCase();var f=e.putOnlyUsedFonts||!1,m={},h={internal:{},__private__:{}};h.__private__.PubSub=jG;var g="1.3",y=h.__private__.getPdfVersion=function(){return g};h.__private__.setPdfVersion=function(V){g=V};var v={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};h.__private__.getPageFormats=function(){return v};var x=h.__private__.getPageFormat=function(V){return v[V]};i=i||"a4";var w="compat",j="advanced",_=w;function S(){this.saveGraphicsState(),X(new Gt(wt,0,0,-wt,0,Mf()*wt).toString()+" cm"),this.setFontSize(this.getFontSize()/wt),u="n",_=j}function k(){this.restoreGraphicsState(),u="S",_=w}var P=h.__private__.combineFontStyleAndFontWeight=function(V,se){if(V=="bold"&&se=="normal"||V=="bold"&&se==400||V=="normal"&&se=="italic"||V=="bold"&&se=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return se&&(V=se==400||se==="normal"?V==="italic"?"italic":"normal":se!=700&&se!=="bold"||V!=="normal"?(se==700?"bold":se)+""+V:"bold"),V};h.advancedAPI=function(V){var se=_===w;return se&&S.call(this),typeof V!="function"||(V(this),se&&k.call(this)),this},h.compatAPI=function(V){var se=_===j;return se&&k.call(this),typeof V!="function"||(V(this),se&&S.call(this)),this},h.isAdvancedAPI=function(){return _===j};var M,T=function(V){if(_!==j)throw new Error(V+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},R=h.roundToPrecision=h.__private__.roundToPrecision=function(V,se){var be=t||se;if(isNaN(V)||isNaN(be))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return V.toFixed(be).replace(/0+$/,"")};M=h.hpf=h.__private__.hpf=typeof c=="number"?function(V){if(isNaN(V))throw new Error("Invalid argument passed to jsPDF.hpf");return R(V,c)}:c==="smart"?function(V){if(isNaN(V))throw new Error("Invalid argument passed to jsPDF.hpf");return R(V,V>-1&&V<1?16:5)}:function(V){if(isNaN(V))throw new Error("Invalid argument passed to jsPDF.hpf");return R(V,16)};var D=h.f2=h.__private__.f2=function(V){if(isNaN(V))throw new Error("Invalid argument passed to jsPDF.f2");return R(V,2)},I=h.__private__.f3=function(V){if(isNaN(V))throw new Error("Invalid argument passed to jsPDF.f3");return R(V,3)},B=h.scale=h.__private__.scale=function(V){if(isNaN(V))throw new Error("Invalid argument passed to jsPDF.scale");return _===w?V*wt:_===j?V:void 0},$=function(V){return B(function(se){return _===w?Mf()-se:_===j?se:void 0}(V))};h.__private__.setPrecision=h.setPrecision=function(V){typeof parseInt(V,10)=="number"&&(t=parseInt(V,10))};var K,Y="00000000000000000000000000000000",Q=h.__private__.getFileId=function(){return Y},H=h.__private__.setFileId=function(V){return Y=V!==void 0&&/^[a-fA-F0-9]{32}$/.test(V)?V.toUpperCase():Y.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(Ui=new wx(d.userPermissions,d.userPassword,d.ownerPassword,Y)),Y};h.setFileId=function(V){return H(V),this},h.getFileId=function(){return Q()};var G=h.__private__.convertDateToPDFDate=function(V){var se=V.getTimezoneOffset(),be=se<0?"+":"-",Ee=Math.floor(Math.abs(se/60)),Ie=Math.abs(se%60),Ye=[be,ie(Ee),"'",ie(Ie),"'"].join("");return["D:",V.getFullYear(),ie(V.getMonth()+1),ie(V.getDate()),ie(V.getHours()),ie(V.getMinutes()),ie(V.getSeconds()),Ye].join("")},U=h.__private__.convertPDFDateToDate=function(V){var se=parseInt(V.substr(2,4),10),be=parseInt(V.substr(6,2),10)-1,Ee=parseInt(V.substr(8,2),10),Ie=parseInt(V.substr(10,2),10),Ye=parseInt(V.substr(12,2),10),st=parseInt(V.substr(14,2),10);return new Date(se,be,Ee,Ie,Ye,st,0)},ee=h.__private__.setCreationDate=function(V){var se;if(V===void 0&&(V=new Date),V instanceof Date)se=G(V);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(V))throw new Error("Invalid argument passed to jsPDF.setCreationDate");se=V}return K=se},z=h.__private__.getCreationDate=function(V){var se=K;return V==="jsDate"&&(se=U(K)),se};h.setCreationDate=function(V){return ee(V),this},h.getCreationDate=function(V){return z(V)};var F,ie=h.__private__.padd2=function(V){return("0"+parseInt(V)).slice(-2)},ce=h.__private__.padd2Hex=function(V){return("00"+(V=V.toString())).substr(V.length)},te=0,oe=[],ve=[],ne=0,xe=[],ue=[],re=!1,Se=ve;h.__private__.setCustomOutputDestination=function(V){re=!0,Se=V};var ae=function(V){re||(Se=V)};h.__private__.resetCustomOutputDestination=function(){re=!1,Se=ve};var X=h.__private__.out=function(V){return V=V.toString(),ne+=V.length+1,Se.push(V),Se},Ae=h.__private__.write=function(V){return X(arguments.length===1?V.toString():Array.prototype.join.call(arguments," "))},qe=h.__private__.getArrayBuffer=function(V){for(var se=V.length,be=new ArrayBuffer(se),Ee=new Uint8Array(be);se--;)Ee[se]=V.charCodeAt(se);return be},tt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];h.__private__.getStandardFonts=function(){return tt};var ze=e.fontSize||16;h.__private__.setFontSize=h.setFontSize=function(V){return ze=_===j?V/wt:V,this};var lt,me=h.__private__.getFontSize=h.getFontSize=function(){return _===w?ze:ze*wt},_e=e.R2L||!1;h.__private__.setR2L=h.setR2L=function(V){return _e=V,this},h.__private__.getR2L=h.getR2L=function(){return _e};var Ce,Xe=h.__private__.setZoomMode=function(V){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(V))lt=V;else if(isNaN(V)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(V)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+V+'" is not recognized.');lt=V}else lt=parseInt(V,10)};h.__private__.getZoomMode=function(){return lt};var He,we=h.__private__.setPageMode=function(V){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(V)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+V+'" is not recognized.');Ce=V};h.__private__.getPageMode=function(){return Ce};var Me=h.__private__.setLayoutMode=function(V){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(V)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+V+'" is not recognized.');He=V};h.__private__.getLayoutMode=function(){return He},h.__private__.setDisplayMode=h.setDisplayMode=function(V,se,be){return Xe(V),Me(se),we(be),this};var et={title:"",subject:"",author:"",keywords:"",creator:""};h.__private__.getDocumentProperty=function(V){if(Object.keys(et).indexOf(V)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return et[V]},h.__private__.getDocumentProperties=function(){return et},h.__private__.setDocumentProperties=h.setProperties=h.setDocumentProperties=function(V){for(var se in et)et.hasOwnProperty(se)&&V[se]&&(et[se]=V[se]);return this},h.__private__.setDocumentProperty=function(V,se){if(Object.keys(et).indexOf(V)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return et[V]=se};var Ge,wt,kt,Bn,pn,cn={},on={},Dn=[],Rt={},zn={},ln={},kn={},Ur=null,Jt=0,Ft=[],Mn=new jG(h),ps=e.hotfixes||[],Lr={},ki={},Xi=[],Gt=function V(se,be,Ee,Ie,Ye,st){if(!(this instanceof V))return new V(se,be,Ee,Ie,Ye,st);isNaN(se)&&(se=1),isNaN(be)&&(be=0),isNaN(Ee)&&(Ee=0),isNaN(Ie)&&(Ie=1),isNaN(Ye)&&(Ye=0),isNaN(st)&&(st=0),this._matrix=[se,be,Ee,Ie,Ye,st]};Object.defineProperty(Gt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(V){this._matrix[0]=V}}),Object.defineProperty(Gt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(V){this._matrix[1]=V}}),Object.defineProperty(Gt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(V){this._matrix[2]=V}}),Object.defineProperty(Gt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(V){this._matrix[3]=V}}),Object.defineProperty(Gt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(V){this._matrix[4]=V}}),Object.defineProperty(Gt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(V){this._matrix[5]=V}}),Object.defineProperty(Gt.prototype,"a",{get:function(){return this._matrix[0]},set:function(V){this._matrix[0]=V}}),Object.defineProperty(Gt.prototype,"b",{get:function(){return this._matrix[1]},set:function(V){this._matrix[1]=V}}),Object.defineProperty(Gt.prototype,"c",{get:function(){return this._matrix[2]},set:function(V){this._matrix[2]=V}}),Object.defineProperty(Gt.prototype,"d",{get:function(){return this._matrix[3]},set:function(V){this._matrix[3]=V}}),Object.defineProperty(Gt.prototype,"e",{get:function(){return this._matrix[4]},set:function(V){this._matrix[4]=V}}),Object.defineProperty(Gt.prototype,"f",{get:function(){return this._matrix[5]},set:function(V){this._matrix[5]=V}}),Object.defineProperty(Gt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Gt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Gt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Gt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Gt.prototype.join=function(V){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(M).join(V)},Gt.prototype.multiply=function(V){var se=V.sx*this.sx+V.shy*this.shx,be=V.sx*this.shy+V.shy*this.sy,Ee=V.shx*this.sx+V.sy*this.shx,Ie=V.shx*this.shy+V.sy*this.sy,Ye=V.tx*this.sx+V.ty*this.shx+this.tx,st=V.tx*this.shy+V.ty*this.sy+this.ty;return new Gt(se,be,Ee,Ie,Ye,st)},Gt.prototype.decompose=function(){var V=this.sx,se=this.shy,be=this.shx,Ee=this.sy,Ie=this.tx,Ye=this.ty,st=Math.sqrt(V*V+se*se),Bt=(V/=st)*be+(se/=st)*Ee;be-=V*Bt,Ee-=se*Bt;var Ht=Math.sqrt(be*be+Ee*Ee);return Bt/=Ht,V*(Ee/=Ht)<se*(be/=Ht)&&(V=-V,se=-se,Bt=-Bt,st=-st),{scale:new Gt(st,0,0,Ht,0,0),translate:new Gt(1,0,0,1,Ie,Ye),rotate:new Gt(V,se,-se,V,0,0),skew:new Gt(1,0,Bt,1,0,0)}},Gt.prototype.toString=function(V){return this.join(" ")},Gt.prototype.inversed=function(){var V=this.sx,se=this.shy,be=this.shx,Ee=this.sy,Ie=this.tx,Ye=this.ty,st=1/(V*Ee-se*be),Bt=Ee*st,Ht=-se*st,Cn=-be*st,Rn=V*st;return new Gt(Bt,Ht,Cn,Rn,-Bt*Ie-Cn*Ye,-Ht*Ie-Rn*Ye)},Gt.prototype.applyToPoint=function(V){var se=V.x*this.sx+V.y*this.shx+this.tx,be=V.x*this.shy+V.y*this.sy+this.ty;return new yu(se,be)},Gt.prototype.applyToRectangle=function(V){var se=this.applyToPoint(V),be=this.applyToPoint(new yu(V.x+V.w,V.y+V.h));return new nm(se.x,se.y,be.x-se.x,be.y-se.y)},Gt.prototype.clone=function(){var V=this.sx,se=this.shy,be=this.shx,Ee=this.sy,Ie=this.tx,Ye=this.ty;return new Gt(V,se,be,Ee,Ie,Ye)},h.Matrix=Gt;var Wr=h.matrixMult=function(V,se){return se.multiply(V)},$a=new Gt(1,0,0,1,0,0);h.unitMatrix=h.identityMatrix=$a;var Ci=function(V,se){if(!zn[V]){var be=(se instanceof Eg?"Sh":"P")+(Object.keys(Rt).length+1).toString(10);se.id=be,zn[V]=be,Rt[be]=se,Mn.publish("addPattern",se)}};h.ShadingPattern=Eg,h.TilingPattern=Xx,h.addShadingPattern=function(V,se){return T("addShadingPattern()"),Ci(V,se),this},h.beginTilingPattern=function(V){T("beginTilingPattern()"),Zp(V.boundingBox[0],V.boundingBox[1],V.boundingBox[2]-V.boundingBox[0],V.boundingBox[3]-V.boundingBox[1],V.matrix)},h.endTilingPattern=function(V,se){T("endTilingPattern()"),se.stream=ue[F].join(`
`),Ci(V,se),Mn.publish("endTilingPattern",se),Xi.pop().restore()};var qi,ar=h.__private__.newObject=function(){var V=Et();return Hr(V,!0),V},Et=h.__private__.newObjectDeferred=function(){return te++,oe[te]=function(){return ne},te},Hr=function(V,se){return se=typeof se=="boolean"&&se,oe[V]=ne,se&&X(V+" 0 obj"),V},qs=h.__private__.newAdditionalObject=function(){var V={objId:Et(),content:""};return xe.push(V),V},xo=Et(),Jo=Et(),el=h.__private__.decodeColorString=function(V){var se=V.split(" ");if(se.length!==2||se[1]!=="g"&&se[1]!=="G")se.length!==5||se[4]!=="k"&&se[4]!=="K"||(se=[(1-se[0])*(1-se[3]),(1-se[1])*(1-se[3]),(1-se[2])*(1-se[3]),"r"]);else{var be=parseFloat(se[0]);se=[be,be,be,"r"]}for(var Ee="#",Ie=0;Ie<3;Ie++)Ee+=("0"+Math.floor(255*parseFloat(se[Ie])).toString(16)).slice(-2);return Ee},tl=h.__private__.encodeColorString=function(V){var se;typeof V=="string"&&(V={ch1:V});var be=V.ch1,Ee=V.ch2,Ie=V.ch3,Ye=V.ch4,st=V.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof be=="string"&&be.charAt(0)!=="#"){var Bt=new Bpe(be);if(Bt.ok)be=Bt.toHex();else if(!/^\d*\.?\d*$/.test(be))throw new Error('Invalid color "'+be+'" passed to jsPDF.encodeColorString.')}if(typeof be=="string"&&/^#[0-9A-Fa-f]{3}$/.test(be)&&(be="#"+be[1]+be[1]+be[2]+be[2]+be[3]+be[3]),typeof be=="string"&&/^#[0-9A-Fa-f]{6}$/.test(be)){var Ht=parseInt(be.substr(1),16);be=Ht>>16&255,Ee=Ht>>8&255,Ie=255&Ht}if(Ee===void 0||Ye===void 0&&be===Ee&&Ee===Ie)se=typeof be=="string"?be+" "+st[0]:V.precision===2?D(be/255)+" "+st[0]:I(be/255)+" "+st[0];else if(Ye===void 0||Jr(Ye)==="object"){if(Ye&&!isNaN(Ye.a)&&Ye.a===0)return["1.","1.","1.",st[1]].join(" ");se=typeof be=="string"?[be,Ee,Ie,st[1]].join(" "):V.precision===2?[D(be/255),D(Ee/255),D(Ie/255),st[1]].join(" "):[I(be/255),I(Ee/255),I(Ie/255),st[1]].join(" ")}else se=typeof be=="string"?[be,Ee,Ie,Ye,st[2]].join(" "):V.precision===2?[D(be),D(Ee),D(Ie),D(Ye),st[2]].join(" "):[I(be),I(Ee),I(Ie),I(Ye),st[2]].join(" ");return se},gs=h.__private__.getFilters=function(){return o},yo=h.__private__.putStream=function(V){var se=(V=V||{}).data||"",be=V.filters||gs(),Ee=V.alreadyAppliedFilters||[],Ie=V.addLength1||!1,Ye=se.length,st=V.objectId,Bt=function(Na){return Na};if(d!==null&&st===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(Bt=Ui.encryptor(st,0));var Ht={};be===!0&&(be=["FlateEncode"]);var Cn=V.additionalKeyValues||[],Rn=(Ht=tn.API.processDataByFilters!==void 0?tn.API.processDataByFilters(se,be):{data:se,reverseChain:[]}).reverseChain+(Array.isArray(Ee)?Ee.join(" "):Ee.toString());if(Ht.data.length!==0&&(Cn.push({key:"Length",value:Ht.data.length}),Ie===!0&&Cn.push({key:"Length1",value:Ye})),Rn.length!=0)if(Rn.split("/").length-1==1)Cn.push({key:"Filter",value:Rn});else{Cn.push({key:"Filter",value:"["+Rn+"]"});for(var hr=0;hr<Cn.length;hr+=1)if(Cn[hr].key==="DecodeParms"){for(var Pi=[],ua=0;ua<Ht.reverseChain.split("/").length-1;ua+=1)Pi.push("null");Pi.push(Cn[hr].value),Cn[hr].value="["+Pi.join(" ")+"]"}}X("<<");for(var $r=0;$r<Cn.length;$r++)X("/"+Cn[$r].key+" "+Cn[$r].value);X(">>"),Ht.data.length!==0&&(X("stream"),X(Bt(Ht.data)),X("endstream"))},Pf=h.__private__.putPage=function(V){var se=V.number,be=V.data,Ee=V.objId,Ie=V.contentsObjId;Hr(Ee,!0),X("<</Type /Page"),X("/Parent "+V.rootDictionaryObjId+" 0 R"),X("/Resources "+V.resourceDictionaryObjId+" 0 R"),X("/MediaBox ["+parseFloat(M(V.mediaBox.bottomLeftX))+" "+parseFloat(M(V.mediaBox.bottomLeftY))+" "+M(V.mediaBox.topRightX)+" "+M(V.mediaBox.topRightY)+"]"),V.cropBox!==null&&X("/CropBox ["+M(V.cropBox.bottomLeftX)+" "+M(V.cropBox.bottomLeftY)+" "+M(V.cropBox.topRightX)+" "+M(V.cropBox.topRightY)+"]"),V.bleedBox!==null&&X("/BleedBox ["+M(V.bleedBox.bottomLeftX)+" "+M(V.bleedBox.bottomLeftY)+" "+M(V.bleedBox.topRightX)+" "+M(V.bleedBox.topRightY)+"]"),V.trimBox!==null&&X("/TrimBox ["+M(V.trimBox.bottomLeftX)+" "+M(V.trimBox.bottomLeftY)+" "+M(V.trimBox.topRightX)+" "+M(V.trimBox.topRightY)+"]"),V.artBox!==null&&X("/ArtBox ["+M(V.artBox.bottomLeftX)+" "+M(V.artBox.bottomLeftY)+" "+M(V.artBox.topRightX)+" "+M(V.artBox.topRightY)+"]"),typeof V.userUnit=="number"&&V.userUnit!==1&&X("/UserUnit "+V.userUnit),Mn.publish("putPage",{objId:Ee,pageContext:Ft[se],pageNumber:se,page:be}),X("/Contents "+Ie+" 0 R"),X(">>"),X("endobj");var Ye=be.join(`
`);return _===j&&(Ye+=`
Q`),Hr(Ie,!0),yo({data:Ye,filters:gs(),objectId:Ie}),X("endobj"),Ee},wc=h.__private__.putPages=function(){var V,se,be=[];for(V=1;V<=Jt;V++)Ft[V].objId=Et(),Ft[V].contentsObjId=Et();for(V=1;V<=Jt;V++)be.push(Pf({number:V,data:ue[V],objId:Ft[V].objId,contentsObjId:Ft[V].contentsObjId,mediaBox:Ft[V].mediaBox,cropBox:Ft[V].cropBox,bleedBox:Ft[V].bleedBox,trimBox:Ft[V].trimBox,artBox:Ft[V].artBox,userUnit:Ft[V].userUnit,rootDictionaryObjId:xo,resourceDictionaryObjId:Jo}));Hr(xo,!0),X("<</Type /Pages");var Ee="/Kids [";for(se=0;se<Jt;se++)Ee+=be[se]+" 0 R ";X(Ee+"]"),X("/Count "+Jt),X(">>"),X("endobj"),Mn.publish("postPutPages")},Af=function(V){Mn.publish("putFont",{font:V,out:X,newObject:ar,putStream:yo}),V.isAlreadyPutted!==!0&&(V.objectNumber=ar(),X("<<"),X("/Type /Font"),X("/BaseFont /"+jx(V.postScriptName)),X("/Subtype /Type1"),typeof V.encoding=="string"&&X("/Encoding /"+V.encoding),X("/FirstChar 32"),X("/LastChar 255"),X(">>"),X("endobj"))},Hh=function(V){V.objectNumber=ar();var se=[];se.push({key:"Type",value:"/XObject"}),se.push({key:"Subtype",value:"/Form"}),se.push({key:"BBox",value:"["+[M(V.x),M(V.y),M(V.x+V.width),M(V.y+V.height)].join(" ")+"]"}),se.push({key:"Matrix",value:"["+V.matrix.toString()+"]"});var be=V.pages[1].join(`
`);yo({data:be,additionalKeyValues:se,objectId:V.objectNumber}),X("endobj")},Tf=function(V,se){se||(se=21);var be=ar(),Ee=function(st,Bt){var Ht,Cn=[],Rn=1/(Bt-1);for(Ht=0;Ht<1;Ht+=Rn)Cn.push(Ht);if(Cn.push(1),st[0].offset!=0){var hr={offset:0,color:st[0].color};st.unshift(hr)}if(st[st.length-1].offset!=1){var Pi={offset:1,color:st[st.length-1].color};st.push(Pi)}for(var ua="",$r=0,Na=0;Na<Cn.length;Na++){for(Ht=Cn[Na];Ht>st[$r+1].offset;)$r++;var Zi=st[$r].offset,Fa=(Ht-Zi)/(st[$r+1].offset-Zi),al=st[$r].color,Qa=st[$r+1].color;ua+=ce(Math.round((1-Fa)*al[0]+Fa*Qa[0]).toString(16))+ce(Math.round((1-Fa)*al[1]+Fa*Qa[1]).toString(16))+ce(Math.round((1-Fa)*al[2]+Fa*Qa[2]).toString(16))}return ua.trim()}(V.colors,se),Ie=[];Ie.push({key:"FunctionType",value:"0"}),Ie.push({key:"Domain",value:"[0.0 1.0]"}),Ie.push({key:"Size",value:"["+se+"]"}),Ie.push({key:"BitsPerSample",value:"8"}),Ie.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ie.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),yo({data:Ee,additionalKeyValues:Ie,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:be}),X("endobj"),V.objectNumber=ar(),X("<< /ShadingType "+V.type),X("/ColorSpace /DeviceRGB");var Ye="/Coords ["+M(parseFloat(V.coords[0]))+" "+M(parseFloat(V.coords[1]))+" ";V.type===2?Ye+=M(parseFloat(V.coords[2]))+" "+M(parseFloat(V.coords[3])):Ye+=M(parseFloat(V.coords[2]))+" "+M(parseFloat(V.coords[3]))+" "+M(parseFloat(V.coords[4]))+" "+M(parseFloat(V.coords[5])),X(Ye+="]"),V.matrix&&X("/Matrix ["+V.matrix.toString()+"]"),X("/Function "+be+" 0 R"),X("/Extend [true true]"),X(">>"),X("endobj")},Kh=function(V,se){var be=Et(),Ee=ar();se.push({resourcesOid:be,objectOid:Ee}),V.objectNumber=Ee;var Ie=[];Ie.push({key:"Type",value:"/Pattern"}),Ie.push({key:"PatternType",value:"1"}),Ie.push({key:"PaintType",value:"1"}),Ie.push({key:"TilingType",value:"1"}),Ie.push({key:"BBox",value:"["+V.boundingBox.map(M).join(" ")+"]"}),Ie.push({key:"XStep",value:M(V.xStep)}),Ie.push({key:"YStep",value:M(V.yStep)}),Ie.push({key:"Resources",value:be+" 0 R"}),V.matrix&&Ie.push({key:"Matrix",value:"["+V.matrix.toString()+"]"}),yo({data:V.stream,additionalKeyValues:Ie,objectId:V.objectNumber}),X("endobj")},Gh=function(V){for(var se in V.objectNumber=ar(),X("<<"),V)switch(se){case"opacity":X("/ca "+D(V[se]));break;case"stroke-opacity":X("/CA "+D(V[se]))}X(">>"),X("endobj")},qp=function(V){Hr(V.resourcesOid,!0),X("<<"),X("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var se in X("/Font <<"),cn)cn.hasOwnProperty(se)&&(f===!1||f===!0&&m.hasOwnProperty(se))&&X("/"+se+" "+cn[se].objectNumber+" 0 R");X(">>")}(),function(){if(Object.keys(Rt).length>0){for(var se in X("/Shading <<"),Rt)Rt.hasOwnProperty(se)&&Rt[se]instanceof Eg&&Rt[se].objectNumber>=0&&X("/"+se+" "+Rt[se].objectNumber+" 0 R");Mn.publish("putShadingPatternDict"),X(">>")}}(),function(se){if(Object.keys(Rt).length>0){for(var be in X("/Pattern <<"),Rt)Rt.hasOwnProperty(be)&&Rt[be]instanceof h.TilingPattern&&Rt[be].objectNumber>=0&&Rt[be].objectNumber<se&&X("/"+be+" "+Rt[be].objectNumber+" 0 R");Mn.publish("putTilingPatternDict"),X(">>")}}(V.objectOid),function(){if(Object.keys(ln).length>0){var se;for(se in X("/ExtGState <<"),ln)ln.hasOwnProperty(se)&&ln[se].objectNumber>=0&&X("/"+se+" "+ln[se].objectNumber+" 0 R");Mn.publish("putGStateDict"),X(">>")}}(),function(){for(var se in X("/XObject <<"),Lr)Lr.hasOwnProperty(se)&&Lr[se].objectNumber>=0&&X("/"+se+" "+Lr[se].objectNumber+" 0 R");Mn.publish("putXobjectDict"),X(">>")}(),X(">>"),X("endobj")},Bv=function(V){on[V.fontName]=on[V.fontName]||{},on[V.fontName][V.fontStyle]=V.id},zv=function(V,se,be,Ee,Ie){var Ye={id:"F"+(Object.keys(cn).length+1).toString(10),postScriptName:V,fontName:se,fontStyle:be,encoding:Ee,isStandardFont:Ie||!1,metadata:{}};return Mn.publish("addFont",{font:Ye,instance:this}),cn[Ye.id]=Ye,Bv(Ye),Ye.id},nl=h.__private__.pdfEscape=h.pdfEscape=function(V,se){return function(be,Ee){var Ie,Ye,st,Bt,Ht,Cn,Rn,hr,Pi;if(st=(Ee=Ee||{}).sourceEncoding||"Unicode",Ht=Ee.outputEncoding,(Ee.autoencode||Ht)&&cn[Ge].metadata&&cn[Ge].metadata[st]&&cn[Ge].metadata[st].encoding&&(Bt=cn[Ge].metadata[st].encoding,!Ht&&cn[Ge].encoding&&(Ht=cn[Ge].encoding),!Ht&&Bt.codePages&&(Ht=Bt.codePages[0]),typeof Ht=="string"&&(Ht=Bt[Ht]),Ht)){for(Rn=!1,Cn=[],Ie=0,Ye=be.length;Ie<Ye;Ie++)(hr=Ht[be.charCodeAt(Ie)])?Cn.push(String.fromCharCode(hr)):Cn.push(be[Ie]),Cn[Ie].charCodeAt(0)>>8&&(Rn=!0);be=Cn.join("")}for(Ie=be.length;Rn===void 0&&Ie!==0;)be.charCodeAt(Ie-1)>>8&&(Rn=!0),Ie--;if(!Rn)return be;for(Cn=Ee.noBOM?[]:[254,255],Ie=0,Ye=be.length;Ie<Ye;Ie++){if((Pi=(hr=be.charCodeAt(Ie))>>8)>>8)throw new Error("Character at position "+Ie+" of string '"+be+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Cn.push(Pi),Cn.push(hr-(Pi<<8))}return String.fromCharCode.apply(void 0,Cn)}(V,se).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Up=h.__private__.beginPage=function(V){ue[++Jt]=[],Ft[Jt]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(V[0]),topRightY:Number(V[1])}},Wp(Jt),ae(ue[F])},Yh=function(V,se){var be,Ee,Ie;switch(n=se||n,typeof V=="string"&&(be=x(V.toLowerCase()),Array.isArray(be)&&(Ee=be[0],Ie=be[1])),Array.isArray(V)&&(Ee=V[0]*wt,Ie=V[1]*wt),isNaN(Ee)&&(Ee=i[0],Ie=i[1]),(Ee>14400||Ie>14400)&&(ui.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Ee=Math.min(14400,Ee),Ie=Math.min(14400,Ie)),i=[Ee,Ie],n.substr(0,1)){case"l":Ie>Ee&&(i=[Ie,Ee]);break;case"p":Ee>Ie&&(i=[Ie,Ee])}Up(i),St(Lf),X(jd),Xp!==0&&X(Xp+" J"),em!==0&&X(em+" j"),Mn.publish("addPage",{pageNumber:Jt})},fu=function(V){V>0&&V<=Jt&&(ue.splice(V,1),Ft.splice(V,1),Jt--,F>Jt&&(F=Jt),this.setPage(F))},Wp=function(V){V>0&&V<=Jt&&(F=V)},Hp=h.__private__.getNumberOfPages=h.getNumberOfPages=function(){return ue.length-1},xd=function(V,se,be){var Ee,Ie=void 0;return be=be||{},V=V!==void 0?V:cn[Ge].fontName,se=se!==void 0?se:cn[Ge].fontStyle,Ee=V.toLowerCase(),on[Ee]!==void 0&&on[Ee][se]!==void 0?Ie=on[Ee][se]:on[V]!==void 0&&on[V][se]!==void 0?Ie=on[V][se]:be.disableWarning===!1&&ui.warn("Unable to look up font label for font '"+V+"', '"+se+"'. Refer to getFontList() for available fonts."),Ie||be.noFallback||(Ie=on.times[se])==null&&(Ie=on.times.normal),Ie},Vn=h.__private__.putInfo=function(){var V=ar(),se=function(Ee){return Ee};for(var be in d!==null&&(se=Ui.encryptor(V,0)),X("<<"),X("/Producer ("+nl(se("jsPDF "+tn.version))+")"),et)et.hasOwnProperty(be)&&et[be]&&X("/"+be.substr(0,1).toUpperCase()+be.substr(1)+" ("+nl(se(et[be]))+")");X("/CreationDate ("+nl(se(K))+")"),X(">>"),X("endobj")},Dr=h.__private__.putCatalog=function(V){var se=(V=V||{}).rootDictionaryObjId||xo;switch(ar(),X("<<"),X("/Type /Catalog"),X("/Pages "+se+" 0 R"),lt||(lt="fullwidth"),lt){case"fullwidth":X("/OpenAction [3 0 R /FitH null]");break;case"fullheight":X("/OpenAction [3 0 R /FitV null]");break;case"fullpage":X("/OpenAction [3 0 R /Fit]");break;case"original":X("/OpenAction [3 0 R /XYZ null null 1]");break;default:var be=""+lt;be.substr(be.length-1)==="%"&&(lt=parseInt(lt)/100),typeof lt=="number"&&X("/OpenAction [3 0 R /XYZ null null "+D(lt)+"]")}switch(He||(He="continuous"),He){case"continuous":X("/PageLayout /OneColumn");break;case"single":X("/PageLayout /SinglePage");break;case"two":case"twoleft":X("/PageLayout /TwoColumnLeft");break;case"tworight":X("/PageLayout /TwoColumnRight")}Ce&&X("/PageMode /"+Ce),Mn.publish("putCatalog"),X(">>"),X("endobj")},Xh=h.__private__.putTrailer=function(){X("trailer"),X("<<"),X("/Size "+(te+1)),X("/Root "+te+" 0 R"),X("/Info "+(te-1)+" 0 R"),d!==null&&X("/Encrypt "+Ui.oid+" 0 R"),X("/ID [ <"+Y+"> <"+Y+"> ]"),X(">>")},oi=h.__private__.putHeader=function(){X("%PDF-"+g),X("%")},hu=h.__private__.putXRef=function(){var V="0000000000";X("xref"),X("0 "+(te+1)),X("0000000000 65535 f ");for(var se=1;se<=te;se++)typeof oe[se]=="function"?X((V+oe[se]()).slice(-10)+" 00000 n "):oe[se]!==void 0?X((V+oe[se]).slice(-10)+" 00000 n "):X("0000000000 00000 n ")},rl=h.__private__.buildDocument=function(){var V;te=0,ne=0,ve=[],oe=[],xe=[],xo=Et(),Jo=Et(),ae(ve),Mn.publish("buildDocument"),oi(),wc(),function(){Mn.publish("putAdditionalObjects");for(var be=0;be<xe.length;be++){var Ee=xe[be];Hr(Ee.objId,!0),X(Ee.content),X("endobj")}Mn.publish("postPutAdditionalObjects")}(),V=[],function(){for(var be in cn)cn.hasOwnProperty(be)&&(f===!1||f===!0&&m.hasOwnProperty(be))&&Af(cn[be])}(),function(){var be;for(be in ln)ln.hasOwnProperty(be)&&Gh(ln[be])}(),function(){for(var be in Lr)Lr.hasOwnProperty(be)&&Hh(Lr[be])}(),function(be){var Ee;for(Ee in Rt)Rt.hasOwnProperty(Ee)&&(Rt[Ee]instanceof Eg?Tf(Rt[Ee]):Rt[Ee]instanceof Xx&&Kh(Rt[Ee],be))}(V),Mn.publish("putResources"),V.forEach(qp),qp({resourcesOid:Jo,objectOid:Number.MAX_SAFE_INTEGER}),Mn.publish("postPutResources"),d!==null&&(Ui.oid=ar(),X("<<"),X("/Filter /Standard"),X("/V "+Ui.v),X("/R "+Ui.r),X("/U <"+Ui.toHexString(Ui.U)+">"),X("/O <"+Ui.toHexString(Ui.O)+">"),X("/P "+Ui.P),X(">>"),X("endobj")),Vn(),Dr();var se=ne;return hu(),Xh(),X("startxref"),X(""+se),X("%%EOF"),ae(ue[F]),ve.join(`
`)},On=h.__private__.getBlob=function(V){return new Blob([qe(V)],{type:"application/pdf"})},vi=h.output=h.__private__.output=(qi=function(V,se){switch(typeof(se=se||{})=="string"?se={filename:se}:se.filename=se.filename||"generated.pdf",V){case void 0:return rl();case"save":h.save(se.filename);break;case"arraybuffer":return qe(rl());case"blob":return On(rl());case"bloburi":case"bloburl":if(Ln.URL!==void 0&&typeof Ln.URL.createObjectURL=="function")return Ln.URL&&Ln.URL.createObjectURL(On(rl()))||void 0;ui.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var be="",Ee=rl();try{be=yG(Ee)}catch{be=yG(unescape(encodeURIComponent(Ee)))}return"data:application/pdf;filename="+se.filename+";base64,"+be;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Ln)==="[object Window]"){var Ie="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ye=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';se.pdfObjectUrl&&(Ie=se.pdfObjectUrl,Ye="");var st='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ie+'"'+Ye+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(se)+");<\/script></body></html>",Bt=Ln.open();return Bt!==null&&Bt.document.write(st),Bt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Ln)==="[object Window]"){var Ht='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(se.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+se.filename+'" width="500px" height="400px" /></body></html>',Cn=Ln.open();if(Cn!==null){Cn.document.write(Ht);var Rn=this;Cn.document.documentElement.querySelector("#pdfViewer").onload=function(){Cn.document.title=se.filename,Cn.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Rn.output("bloburl"))}}return Cn}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Ln)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var hr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",se)+'"></iframe></body></html>',Pi=Ln.open();if(Pi!==null&&(Pi.document.write(hr),Pi.document.title=se.filename),Pi||typeof safari>"u")return Pi;break;case"datauri":case"dataurl":return Ln.document.location.href=this.output("datauristring",se);default:return null}},qi.foo=function(){try{return qi.apply(this,arguments)}catch(be){var V=be.stack||"";~V.indexOf(" at ")&&(V=V.split(" at ")[1]);var se="Error in function "+V.split(`
`)[0].split("<")[0]+": "+be.message;if(!Ln.console)throw new Error(se);Ln.console.error(se,be),Ln.alert&&alert(se)}},qi.foo.bar=qi,qi.foo),Us=function(V){return Array.isArray(ps)===!0&&ps.indexOf(V)>-1};switch(r){case"pt":wt=1;break;case"mm":wt=72/25.4;break;case"cm":wt=72/2.54;break;case"in":wt=72;break;case"px":wt=Us("px_scaling")==1?.75:96/72;break;case"pc":case"em":wt=12;break;case"ex":wt=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);wt=r}var Ui=null;ee(),H();var ca=h.__private__.getPageInfo=h.getPageInfo=function(V){if(isNaN(V)||V%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Ft[V].objId,pageNumber:V,pageContext:Ft[V]}},Vv=h.__private__.getPageInfoByObjId=function(V){if(isNaN(V)||V%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var se in Ft)if(Ft[se].objId===V)break;return ca(se)},Zh=h.__private__.getCurrentPageInfo=h.getCurrentPageInfo=function(){return{objId:Ft[F].objId,pageNumber:F,pageContext:Ft[F]}};h.addPage=function(){return Yh.apply(this,arguments),this},h.setPage=function(){return Wp.apply(this,arguments),ae.call(this,ue[F]),this},h.insertPage=function(V){return this.addPage(),this.movePage(F,V),this},h.movePage=function(V,se){var be,Ee;if(V>se){be=ue[V],Ee=Ft[V];for(var Ie=V;Ie>se;Ie--)ue[Ie]=ue[Ie-1],Ft[Ie]=Ft[Ie-1];ue[se]=be,Ft[se]=Ee,this.setPage(se)}else if(V<se){be=ue[V],Ee=Ft[V];for(var Ye=V;Ye<se;Ye++)ue[Ye]=ue[Ye+1],Ft[Ye]=Ft[Ye+1];ue[se]=be,Ft[se]=Ee,this.setPage(se)}return this},h.deletePage=function(){return fu.apply(this,arguments),this},h.__private__.text=h.text=function(V,se,be,Ee,Ie){var Ye,st,Bt,Ht,Cn,Rn,hr,Pi,ua,$r=(Ee=Ee||{}).scope||this;if(typeof V=="number"&&typeof se=="number"&&(typeof be=="string"||Array.isArray(be))){var Na=be;be=se,se=V,V=Na}if(arguments[3]instanceof Gt==0?(Bt=arguments[4],Ht=arguments[5],Jr(hr=arguments[3])==="object"&&hr!==null||(typeof Bt=="string"&&(Ht=Bt,Bt=null),typeof hr=="string"&&(Ht=hr,hr=null),typeof hr=="number"&&(Bt=hr,hr=null),Ee={flags:hr,angle:Bt,align:Ht})):(T("The transform parameter of text() with a Matrix value"),ua=Ie),isNaN(se)||isNaN(be)||V==null)throw new Error("Invalid arguments passed to jsPDF.text");if(V.length===0)return $r;var Zi,Fa="",al=typeof Ee.lineHeightFactor=="number"?Ee.lineHeightFactor:wd,Qa=$r.internal.scaleFactor;function ju(Tr){return Tr=Tr.split("	").join(Array(Ee.TabLen||9).join(" ")),nl(Tr,hr)}function Nu(Tr){for(var Fr,Ji=Tr.concat(),fa=[],Pu=Ji.length;Pu--;)typeof(Fr=Ji.shift())=="string"?fa.push(Fr):Array.isArray(Tr)&&(Fr.length===1||Fr[1]===void 0&&Fr[2]===void 0)?fa.push(Fr[0]):fa.push([Fr[0],Fr[1],Fr[2]]);return fa}function Ja(Tr,Fr){var Ji;if(typeof Tr=="string")Ji=Fr(Tr)[0];else if(Array.isArray(Tr)){for(var fa,Pu,Ks=Tr.concat(),Au=[],Kv=Ks.length;Kv--;)typeof(fa=Ks.shift())=="string"?Au.push(Fr(fa)[0]):Array.isArray(fa)&&typeof fa[0]=="string"&&(Pu=Fr(fa[0],fa[1],fa[2]),Au.push([Pu[0],Pu[1],Pu[2]]));Ji=Au}return Ji}var _u=!1,Nd=!0;if(typeof V=="string")_u=!0;else if(Array.isArray(V)){var If=V.concat();st=[];for(var Sc,_a=If.length;_a--;)(typeof(Sc=If.shift())!="string"||Array.isArray(Sc)&&typeof Sc[0]!="string")&&(Nd=!1);_u=Nd}if(_u===!1)throw new Error('Type of text must be string or Array. "'+V+'" is not recognized.');typeof V=="string"&&(V=V.match(/[\r?\n]/)?V.split(/\r\n|\r|\n/g):[V]);var Df=ze/$r.internal.scaleFactor,Rf=Df*(al-1);switch(Ee.baseline){case"bottom":be-=Rf;break;case"top":be+=Df-Rf;break;case"hanging":be+=Df-2*Rf;break;case"middle":be+=Df/2-Rf}if((Rn=Ee.maxWidth||0)>0&&(typeof V=="string"?V=$r.splitTextToSize(V,Rn):Object.prototype.toString.call(V)==="[object Array]"&&(V=V.reduce(function(Tr,Fr){return Tr.concat($r.splitTextToSize(Fr,Rn))},[]))),Ye={text:V,x:se,y:be,options:Ee,mutex:{pdfEscape:nl,activeFontKey:Ge,fonts:cn,activeFontSize:ze}},Mn.publish("preProcessText",Ye),V=Ye.text,Bt=(Ee=Ye.options).angle,ua instanceof Gt==0&&Bt&&typeof Bt=="number"){Bt*=Math.PI/180,Ee.rotationDirection===0&&(Bt=-Bt),_===j&&(Bt=-Bt);var rm=Math.cos(Bt),eg=Math.sin(Bt);ua=new Gt(rm,eg,-eg,rm,0,0)}else Bt&&Bt instanceof Gt&&(ua=Bt);_!==j||ua||(ua=$a),(Cn=Ee.charSpace||_c)!==void 0&&(Fa+=M(B(Cn))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Pi=Ee.horizontalScale)!==void 0&&(Fa+=M(100*Pi)+` Tz
`),Ee.lang;var li=-1,Ws=Ee.renderingMode!==void 0?Ee.renderingMode:Ee.stroke,im=$r.internal.getCurrentPageInfo().pageContext;switch(Ws){case 0:case!1:case"fill":li=0;break;case 1:case!0:case"stroke":li=1;break;case 2:case"fillThenStroke":li=2;break;case 3:case"invisible":li=3;break;case 4:case"fillAndAddForClipping":li=4;break;case 5:case"strokeAndAddPathForClipping":li=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":li=6;break;case 7:case"addToPathForClipping":li=7}var sl=im.usedRenderingMode!==void 0?im.usedRenderingMode:-1;li!==-1?Fa+=li+` Tr
`:sl!==-1&&(Fa+=`0 Tr
`),li!==-1&&(im.usedRenderingMode=li),Ht=Ee.align||"left";var ol,ll=ze*al,tg=$r.internal.pageSize.getWidth(),Su=cn[Ge];Cn=Ee.charSpace||_c,Rn=Ee.maxWidth||0,hr=Object.assign({autoencode:!0,noBOM:!0},Ee.flags);var ku=[],kc=function(Tr){return $r.getStringUnitWidth(Tr,{font:Su,charSpace:Cn,fontSize:ze,doKerning:!1})*ze/Qa};if(Object.prototype.toString.call(V)==="[object Array]"){var wo;st=Nu(V),Ht!=="left"&&(ol=st.map(kc));var da,Ol=0;if(Ht==="right"){se-=ol[0],V=[],_a=st.length;for(var Cu=0;Cu<_a;Cu++)Cu===0?(da=Pl(se),wo=Al(be)):(da=B(Ol-ol[Cu]),wo=-ll),V.push([st[Cu],da,wo]),Ol=ol[Cu]}else if(Ht==="center"){se-=ol[0]/2,V=[],_a=st.length;for(var Cc=0;Cc<_a;Cc++)Cc===0?(da=Pl(se),wo=Al(be)):(da=B((Ol-ol[Cc])/2),wo=-ll),V.push([st[Cc],da,wo]),Ol=ol[Cc]}else if(Ht==="left"){V=[],_a=st.length;for(var ng=0;ng<_a;ng++)V.push(st[ng])}else if(Ht==="justify"&&Su.encoding==="Identity-H"){V=[],_a=st.length,Rn=Rn!==0?Rn:tg;for(var Hs=0,Qi=0;Qi<_a;Qi++)if(wo=Qi===0?Al(be):-ll,da=Qi===0?Pl(se):Hs,Qi<_a-1){var Eu=B((Rn-ol[Qi])/(st[Qi].split(" ").length-1)),Ec=st[Qi].split(" ");V.push([Ec[0]+" ",da,wo]),Hs=0;for(var Ba=1;Ba<Ec.length;Ba++){var _d=(kc(Ec[Ba-1]+" "+Ec[Ba])-kc(Ec[Ba]))*Qa+Eu;Ba==Ec.length-1?V.push([Ec[Ba],_d,0]):V.push([Ec[Ba]+" ",_d,0]),Hs-=_d}}else V.push([st[Qi],da,wo]);V.push(["",Hs,0])}else{if(Ht!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(V=[],_a=st.length,Rn=Rn!==0?Rn:tg,Qi=0;Qi<_a;Qi++){wo=Qi===0?Al(be):-ll,da=Qi===0?Pl(se):0;var am=st[Qi].split(" ").length-1,$f=am>0?(Rn-ol[Qi])/am:0;Qi<_a-1?ku.push(M(B($f))):ku.push(0),V.push([st[Qi],da,wo])}}}(typeof Ee.R2L=="boolean"?Ee.R2L:_e)===!0&&(V=Ja(V,function(Tr,Fr,Ji){return[Tr.split("").reverse().join(""),Fr,Ji]})),Ye={text:V,x:se,y:be,options:Ee,mutex:{pdfEscape:nl,activeFontKey:Ge,fonts:cn,activeFontSize:ze}},Mn.publish("postProcessText",Ye),V=Ye.text,Zi=Ye.mutex.isHex||!1;var Sd=cn[Ge].encoding;Sd!=="WinAnsiEncoding"&&Sd!=="StandardEncoding"||(V=Ja(V,function(Tr,Fr,Ji){return[ju(Tr),Fr,Ji]})),st=Nu(V),V=[];for(var Pc,Ll,jo,Ac=Array.isArray(st[0])?1:0,Tc="",kd=function(Tr,Fr,Ji){var fa="";return Ji instanceof Gt?(Ji=typeof Ee.angle=="number"?Wr(Ji,new Gt(1,0,0,1,Tr,Fr)):Wr(new Gt(1,0,0,1,Tr,Fr),Ji),_===j&&(Ji=Wr(new Gt(1,0,0,-1,0,0),Ji)),fa=Ji.join(" ")+` Tm
`):fa=M(Tr)+" "+M(Fr)+` Td
`,fa},cl=0;cl<st.length;cl++){switch(Tc="",Ac){case 1:jo=(Zi?"<":"(")+st[cl][0]+(Zi?">":")"),Pc=parseFloat(st[cl][1]),Ll=parseFloat(st[cl][2]);break;case 0:jo=(Zi?"<":"(")+st[cl]+(Zi?">":")"),Pc=Pl(se),Ll=Al(be)}ku!==void 0&&ku[cl]!==void 0&&(Tc=ku[cl]+` Tw
`),cl===0?V.push(Tc+kd(Pc,Ll,ua)+jo):Ac===0?V.push(Tc+jo):Ac===1&&V.push(Tc+kd(Pc,Ll,ua)+jo)}V=Ac===0?V.join(` Tj
T* `):V.join(` Tj
`),V+=` Tj
`;var No=`BT
/`;return No+=Ge+" "+ze+` Tf
`,No+=M(ze*al)+` TL
`,No+=Ei+`
`,No+=Fa,No+=V,X(No+="ET"),m[Ge]=!0,$r};var mu=h.__private__.clip=h.clip=function(V){return X(V==="evenodd"?"W*":"W"),this};h.clipEvenOdd=function(){return mu("evenodd")},h.__private__.discardPath=h.discardPath=function(){return X("n"),this};var Mr=h.__private__.isValidStyle=function(V){var se=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(V)!==-1&&(se=!0),se};h.__private__.setDefaultPathOperation=h.setDefaultPathOperation=function(V){return Mr(V)&&(u=V),this};var jc=h.__private__.getStyle=h.getStyle=function(V){var se=u;switch(V){case"D":case"S":se="S";break;case"F":se="f";break;case"FD":case"DF":se="B";break;case"f":case"f*":case"B":case"B*":se=V}return se},yd=h.close=function(){return X("h"),this};h.stroke=function(){return X("S"),this},h.fill=function(V){return Nc("f",V),this},h.fillEvenOdd=function(V){return Nc("f*",V),this},h.fillStroke=function(V){return Nc("B",V),this},h.fillStrokeEvenOdd=function(V){return Nc("B*",V),this};var Nc=function(V,se){Jr(se)==="object"?Kp(se,V):X(V)},pu=function(V){V===null||_===j&&V===void 0||(V=jc(V),X(V))};function Of(V,se,be,Ee,Ie){var Ye=new Xx(se||this.boundingBox,be||this.xStep,Ee||this.yStep,this.gState,Ie||this.matrix);Ye.stream=this.stream;var st=V+"$$"+this.cloneIndex+++"$$";return Ci(st,Ye),Ye}var Kp=function(V,se){var be=zn[V.key],Ee=Rt[be];if(Ee instanceof Eg)X("q"),X(Gp(se)),Ee.gState&&h.setGState(Ee.gState),X(V.matrix.toString()+" cm"),X("/"+be+" sh"),X("Q");else if(Ee instanceof Xx){var Ie=new Gt(1,0,0,-1,0,Mf());V.matrix&&(Ie=Ie.multiply(V.matrix||$a),be=Of.call(Ee,V.key,V.boundingBox,V.xStep,V.yStep,Ie).id),X("q"),X("/Pattern cs"),X("/"+be+" scn"),Ee.gState&&h.setGState(Ee.gState),X(se),X("Q")}},Gp=function(V){switch(V){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},bd=h.moveTo=function(V,se){return X(M(B(V))+" "+M($(se))+" m"),this},Qh=h.lineTo=function(V,se){return X(M(B(V))+" "+M($(se))+" l"),this},bo=h.curveTo=function(V,se,be,Ee,Ie,Ye){return X([M(B(V)),M($(se)),M(B(be)),M($(Ee)),M(B(Ie)),M($(Ye)),"c"].join(" ")),this};h.__private__.line=h.line=function(V,se,be,Ee,Ie){if(isNaN(V)||isNaN(se)||isNaN(be)||isNaN(Ee)||!Mr(Ie))throw new Error("Invalid arguments passed to jsPDF.line");return _===w?this.lines([[be-V,Ee-se]],V,se,[1,1],Ie||"S"):this.lines([[be-V,Ee-se]],V,se,[1,1]).stroke()},h.__private__.lines=h.lines=function(V,se,be,Ee,Ie,Ye){var st,Bt,Ht,Cn,Rn,hr,Pi,ua,$r,Na,Zi,Fa;if(typeof V=="number"&&(Fa=be,be=se,se=V,V=Fa),Ee=Ee||[1,1],Ye=Ye||!1,isNaN(se)||isNaN(be)||!Array.isArray(V)||!Array.isArray(Ee)||!Mr(Ie)||typeof Ye!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(bd(se,be),st=Ee[0],Bt=Ee[1],Cn=V.length,Na=se,Zi=be,Ht=0;Ht<Cn;Ht++)(Rn=V[Ht]).length===2?(Na=Rn[0]*st+Na,Zi=Rn[1]*Bt+Zi,Qh(Na,Zi)):(hr=Rn[0]*st+Na,Pi=Rn[1]*Bt+Zi,ua=Rn[2]*st+Na,$r=Rn[3]*Bt+Zi,Na=Rn[4]*st+Na,Zi=Rn[5]*Bt+Zi,bo(hr,Pi,ua,$r,Na,Zi));return Ye&&yd(),pu(Ie),this},h.path=function(V){for(var se=0;se<V.length;se++){var be=V[se],Ee=be.c;switch(be.op){case"m":bd(Ee[0],Ee[1]);break;case"l":Qh(Ee[0],Ee[1]);break;case"c":bo.apply(this,Ee);break;case"h":yd()}}return this},h.__private__.rect=h.rect=function(V,se,be,Ee,Ie){if(isNaN(V)||isNaN(se)||isNaN(be)||isNaN(Ee)||!Mr(Ie))throw new Error("Invalid arguments passed to jsPDF.rect");return _===w&&(Ee=-Ee),X([M(B(V)),M($(se)),M(B(be)),M(B(Ee)),"re"].join(" ")),pu(Ie),this},h.__private__.triangle=h.triangle=function(V,se,be,Ee,Ie,Ye,st){if(isNaN(V)||isNaN(se)||isNaN(be)||isNaN(Ee)||isNaN(Ie)||isNaN(Ye)||!Mr(st))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[be-V,Ee-se],[Ie-be,Ye-Ee],[V-Ie,se-Ye]],V,se,[1,1],st,!0),this},h.__private__.roundedRect=h.roundedRect=function(V,se,be,Ee,Ie,Ye,st){if(isNaN(V)||isNaN(se)||isNaN(be)||isNaN(Ee)||isNaN(Ie)||isNaN(Ye)||!Mr(st))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Bt=4/3*(Math.SQRT2-1);return Ie=Math.min(Ie,.5*be),Ye=Math.min(Ye,.5*Ee),this.lines([[be-2*Ie,0],[Ie*Bt,0,Ie,Ye-Ye*Bt,Ie,Ye],[0,Ee-2*Ye],[0,Ye*Bt,-Ie*Bt,Ye,-Ie,Ye],[2*Ie-be,0],[-Ie*Bt,0,-Ie,-Ye*Bt,-Ie,-Ye],[0,2*Ye-Ee],[0,-Ye*Bt,Ie*Bt,-Ye,Ie,-Ye]],V+Ie,se,[1,1],st,!0),this},h.__private__.ellipse=h.ellipse=function(V,se,be,Ee,Ie){if(isNaN(V)||isNaN(se)||isNaN(be)||isNaN(Ee)||!Mr(Ie))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ye=4/3*(Math.SQRT2-1)*be,st=4/3*(Math.SQRT2-1)*Ee;return bd(V+be,se),bo(V+be,se-st,V+Ye,se-Ee,V,se-Ee),bo(V-Ye,se-Ee,V-be,se-st,V-be,se),bo(V-be,se+st,V-Ye,se+Ee,V,se+Ee),bo(V+Ye,se+Ee,V+be,se+st,V+be,se),pu(Ie),this},h.__private__.circle=h.circle=function(V,se,be,Ee){if(isNaN(V)||isNaN(se)||isNaN(be)||!Mr(Ee))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(V,se,be,be,Ee)},h.setFont=function(V,se,be){return be&&(se=P(se,be)),Ge=xd(V,se,{disableWarning:!1}),this};var Jh=h.__private__.getFont=h.getFont=function(){return cn[xd.apply(h,arguments)]};h.__private__.getFontList=h.getFontList=function(){var V,se,be={};for(V in on)if(on.hasOwnProperty(V))for(se in be[V]=[],on[V])on[V].hasOwnProperty(se)&&be[V].push(se);return be},h.addFont=function(V,se,be,Ee,Ie){var Ye=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ye.indexOf(arguments[3])!==-1?Ie=arguments[3]:arguments[3]&&Ye.indexOf(arguments[3])==-1&&(be=P(be,Ee)),zv.call(this,V,se,be,Ie=Ie||"Identity-H")};var wd,Lf=e.lineWidth||.200025,bb=h.__private__.getLineWidth=h.getLineWidth=function(){return Lf},St=h.__private__.setLineWidth=h.setLineWidth=function(V){return Lf=V,X(M(B(V))+" w"),this};h.__private__.setLineDash=tn.API.setLineDash=tn.API.setLineDashPattern=function(V,se){if(V=V||[],se=se||0,isNaN(se)||!Array.isArray(V))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return V=V.map(function(be){return M(B(be))}).join(" "),se=M(B(se)),X("["+V+"] "+se+" d"),this};var il=h.__private__.getLineHeight=h.getLineHeight=function(){return ze*wd};h.__private__.getLineHeight=h.getLineHeight=function(){return ze*wd};var Rr=h.__private__.setLineHeightFactor=h.setLineHeightFactor=function(V){return typeof(V=V||1.15)=="number"&&(wd=V),this},qv=h.__private__.getLineHeightFactor=h.getLineHeightFactor=function(){return wd};Rr(e.lineHeight);var Pl=h.__private__.getHorizontalCoordinate=function(V){return B(V)},Al=h.__private__.getVerticalCoordinate=function(V){return _===j?V:Ft[F].mediaBox.topRightY-Ft[F].mediaBox.bottomLeftY-B(V)},Yp=h.__private__.getHorizontalCoordinateString=h.getHorizontalCoordinateString=function(V){return M(Pl(V))},gu=h.__private__.getVerticalCoordinateString=h.getVerticalCoordinateString=function(V){return M(Al(V))},jd=e.strokeColor||"0 G";h.__private__.getStrokeColor=h.getDrawColor=function(){return el(jd)},h.__private__.setStrokeColor=h.setDrawColor=function(V,se,be,Ee){return jd=tl({ch1:V,ch2:se,ch3:be,ch4:Ee,pdfColorType:"draw",precision:2}),X(jd),this};var vu=e.fillColor||"0 g";h.__private__.getFillColor=h.getFillColor=function(){return el(vu)},h.__private__.setFillColor=h.setFillColor=function(V,se,be,Ee){return vu=tl({ch1:V,ch2:se,ch3:be,ch4:Ee,pdfColorType:"fill",precision:2}),X(vu),this};var Ei=e.textColor||"0 g",xu=h.__private__.getTextColor=h.getTextColor=function(){return el(Ei)};h.__private__.setTextColor=h.setTextColor=function(V,se,be,Ee){return Ei=tl({ch1:V,ch2:se,ch3:be,ch4:Ee,pdfColorType:"text",precision:3}),this};var _c=e.charSpace,Uv=h.__private__.getCharSpace=h.getCharSpace=function(){return parseFloat(_c||0)};h.__private__.setCharSpace=h.setCharSpace=function(V){if(isNaN(V))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return _c=V,this};var Xp=0;h.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},h.__private__.setLineCap=h.setLineCap=function(V){var se=h.CapJoinStyles[V];if(se===void 0)throw new Error("Line cap style of '"+V+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Xp=se,X(se+" J"),this};var em=0;h.__private__.setLineJoin=h.setLineJoin=function(V){var se=h.CapJoinStyles[V];if(se===void 0)throw new Error("Line join style of '"+V+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return em=se,X(se+" j"),this},h.__private__.setLineMiterLimit=h.__private__.setMiterLimit=h.setLineMiterLimit=h.setMiterLimit=function(V){if(V=V||0,isNaN(V))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return X(M(B(V))+" M"),this},h.GState=qk,h.setGState=function(V){(V=typeof V=="string"?ln[kn[V]]:tm(null,V)).equals(Ur)||(X("/"+V.id+" gs"),Ur=V)};var tm=function(V,se){if(!V||!kn[V]){var be=!1;for(var Ee in ln)if(ln.hasOwnProperty(Ee)&&ln[Ee].equals(se)){be=!0;break}if(be)se=ln[Ee];else{var Ie="GS"+(Object.keys(ln).length+1).toString(10);ln[Ie]=se,se.id=Ie}return V&&(kn[V]=se.id),Mn.publish("addGState",se),se}};h.addGState=function(V,se){return tm(V,se),this},h.saveGraphicsState=function(){return X("q"),Dn.push({key:Ge,size:ze,color:Ei}),this},h.restoreGraphicsState=function(){X("Q");var V=Dn.pop();return Ge=V.key,ze=V.size,Ei=V.color,Ur=null,this},h.setCurrentTransformationMatrix=function(V){return X(V.toString()+" cm"),this},h.comment=function(V){return X("#"+V),this};var yu=function(V,se){var be=V||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return be},set:function(Ye){isNaN(Ye)||(be=parseFloat(Ye))}});var Ee=se||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Ee},set:function(Ye){isNaN(Ye)||(Ee=parseFloat(Ye))}});var Ie="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ie},set:function(Ye){Ie=Ye.toString()}}),this},nm=function(V,se,be,Ee){yu.call(this,V,se),this.type="rect";var Ie=be||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ie},set:function(st){isNaN(st)||(Ie=parseFloat(st))}});var Ye=Ee||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ye},set:function(st){isNaN(st)||(Ye=parseFloat(st))}}),this},Yn=function(){this.page=Jt,this.currentPage=F,this.pages=ue.slice(0),this.pagesContext=Ft.slice(0),this.x=kt,this.y=Bn,this.matrix=pn,this.width=bu(F),this.height=Wv(F),this.outputDestination=Se,this.id="",this.objectNumber=-1};Yn.prototype.restore=function(){Jt=this.page,F=this.currentPage,Ft=this.pagesContext,ue=this.pages,kt=this.x,Bn=this.y,pn=this.matrix,Qp(F,this.width),Tl(F,this.height),Se=this.outputDestination};var Zp=function(V,se,be,Ee,Ie){Xi.push(new Yn),Jt=F=0,ue=[],kt=V,Bn=se,pn=Ie,Up([be,Ee])};for(var Za in h.beginFormObject=function(V,se,be,Ee,Ie){return Zp(V,se,be,Ee,Ie),this},h.endFormObject=function(V){return function(se){if(ki[se])Xi.pop().restore();else{var be=new Yn,Ee="Xo"+(Object.keys(Lr).length+1).toString(10);be.id=Ee,ki[se]=Ee,Lr[Ee]=be,Mn.publish("addFormObject",be),Xi.pop().restore()}}(V),this},h.doFormObject=function(V,se){var be=Lr[ki[V]];return X("q"),X(se.toString()+" cm"),X("/"+be.id+" Do"),X("Q"),this},h.getFormObject=function(V){var se=Lr[ki[V]];return{x:se.x,y:se.y,width:se.width,height:se.height,matrix:se.matrix}},h.save=function(V,se){return V=V||"generated.pdf",(se=se||{}).returnPromise=se.returnPromise||!1,se.returnPromise===!1?(Ng(On(rl()),V),typeof Ng.unload=="function"&&Ln.setTimeout&&setTimeout(Ng.unload,911),this):new Promise(function(be,Ee){try{var Ie=Ng(On(rl()),V);typeof Ng.unload=="function"&&Ln.setTimeout&&setTimeout(Ng.unload,911),be(Ie)}catch(Ye){Ee(Ye.message)}})},tn.API)tn.API.hasOwnProperty(Za)&&(Za==="events"&&tn.API.events.length?function(V,se){var be,Ee,Ie;for(Ie=se.length-1;Ie!==-1;Ie--)be=se[Ie][0],Ee=se[Ie][1],V.subscribe.apply(V,[be].concat(typeof Ee=="function"?[Ee]:Ee))}(Mn,tn.API.events):h[Za]=tn.API[Za]);function bu(V){return Ft[V].mediaBox.topRightX-Ft[V].mediaBox.bottomLeftX}function Qp(V,se){Ft[V].mediaBox.topRightX=se+Ft[V].mediaBox.bottomLeftX}function Wv(V){return Ft[V].mediaBox.topRightY-Ft[V].mediaBox.bottomLeftY}function Tl(V,se){Ft[V].mediaBox.topRightY=se+Ft[V].mediaBox.bottomLeftY}var wu=h.getPageWidth=function(V){return bu(V=V||F)/wt},Jp=h.setPageWidth=function(V,se){Qp(V,se*wt)},Mf=h.getPageHeight=function(V){return Wv(V=V||F)/wt},Hv=h.setPageHeight=function(V,se){Tl(V,se*wt)};return h.internal={pdfEscape:nl,getStyle:jc,getFont:Jh,getFontSize:me,getCharSpace:Uv,getTextColor:xu,getLineHeight:il,getLineHeightFactor:qv,getLineWidth:bb,write:Ae,getHorizontalCoordinate:Pl,getVerticalCoordinate:Al,getCoordinateString:Yp,getVerticalCoordinateString:gu,collections:{},newObject:ar,newAdditionalObject:qs,newObjectDeferred:Et,newObjectDeferredBegin:Hr,getFilters:gs,putStream:yo,events:Mn,scaleFactor:wt,pageSize:{getWidth:function(){return wu(F)},setWidth:function(V){Jp(F,V)},getHeight:function(){return Mf(F)},setHeight:function(V){Hv(F,V)}},encryptionOptions:d,encryption:Ui,getEncryptor:function(V){return d!==null?Ui.encryptor(V,0):function(se){return se}},output:vi,getNumberOfPages:Hp,get pages(){return ue},out:X,f2:D,f3:I,getPageInfo:ca,getPageInfoByObjId:Vv,getCurrentPageInfo:Zh,getPDFVersion:y,Point:yu,Rectangle:nm,Matrix:Gt,hasHotfix:Us},Object.defineProperty(h.internal.pageSize,"width",{get:function(){return wu(F)},set:function(V){Jp(F,V)},enumerable:!0,configurable:!0}),Object.defineProperty(h.internal.pageSize,"height",{get:function(){return Mf(F)},set:function(V){Hv(F,V)},enumerable:!0,configurable:!0}),(function(V){for(var se=0,be=tt.length;se<be;se++){var Ee=zv.call(this,V[se][0],V[se][1],V[se][2],tt[se][3],!0);f===!1&&(m[Ee]=!0);var Ie=V[se][0].split("-");Bv({id:Ee,fontName:Ie[0],fontStyle:Ie[1]||""})}Mn.publish("addFonts",{fonts:cn,dictionary:on})}).call(h,tt),Ge="F1",Yh(i,n),Mn.publish("initialized"),h}wx.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},wx.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},wx.prototype.hexToBytes=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(String.fromCharCode(parseInt(e.substr(n,2),16)));return t.join("")},wx.prototype.processOwnerPassword=function(e,t){return BI(FI(t).substr(0,5),e)},wx.prototype.encryptor=function(e,t){var n=FI(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(r){return BI(n,r)}},qk.prototype.equals=function(e){var t,n="id,objectNumber,equals";if(!e||Jr(e)!==Jr(this))return!1;var r=0;for(t in this)if(!(n.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;r++}for(t in e)e.hasOwnProperty(t)&&n.indexOf(t)<0&&r--;return r===0},tn.API={events:[]},tn.version="3.0.4";var pa=tn.API,HF=1,Rv=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},fx=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},$n=function(e){return e.toFixed(2)},ym=function(e){return e.toFixed(5)};pa.__acroform__={};var El=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},NG=function(e){return e*HF},Od=function(e){var t=new Upe,n=Wt.internal.getHeight(e)||0,r=Wt.internal.getWidth(e)||0;return t.BBox=[0,0,Number($n(r)),Number($n(n))],t},mmt=pa.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},pmt=pa.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},gmt=pa.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},La=pa.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return gmt(e,t-1)},Ma=pa.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return mmt(e,t-1)},Ia=pa.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return pmt(e,t-1)},vmt=pa.__acroform__.calculateCoordinates=function(e,t){var n=t.internal.getHorizontalCoordinate,r=t.internal.getVerticalCoordinate,i=e[0],a=e[1],o=e[2],l=e[3],c={};return c.lowerLeft_X=n(i)||0,c.lowerLeft_Y=r(a+l)||0,c.upperRight_X=n(i+o)||0,c.upperRight_Y=r(a)||0,[Number($n(c.lowerLeft_X)),Number($n(c.lowerLeft_Y)),Number($n(c.upperRight_X)),Number($n(c.upperRight_Y))]},xmt=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],n=e._V||e.DV,r=zI(e,n),i=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+i+" "+$n(r.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(r.text),t.push("ET"),t.push("Q"),t.push("EMC");var a=Od(e);return a.scope=e.scope,a.stream=t.join(`
`),a}},zI=function(e,t){var n=e.fontSize===0?e.maxFontSize:e.fontSize,r={text:"",fontSize:""},i=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");i=e.multiline?i.map(function(D){return D.split(`
`)}):i.map(function(D){return[D]});var a=n,o=Wt.internal.getHeight(e)||0;o=o<0?-o:o;var l=Wt.internal.getWidth(e)||0;l=l<0?-l:l;var c=function(D,I,B){if(D+1<i.length){var $=I+" "+i[D+1][0];return __($,e,B).width<=l-4}return!1};a++;e:for(;a>0;){t="",a--;var u,d,f=__("3",e,a).height,m=e.multiline?o-a:(o-f)/2,h=m+=2,g=0,y=0,v=0;if(a<=0){t=`(...) Tj
`,t+="% Width of Text: "+__(t,e,a=12).width+", FieldWidth:"+l+`
`;break}for(var x="",w=0,j=0;j<i.length;j++)if(i.hasOwnProperty(j)){var _=!1;if(i[j].length!==1&&v!==i[j].length-1){if((f+2)*(w+2)+2>o)continue e;x+=i[j][v],_=!0,y=j,j--}else{x=(x+=i[j][v]+" ").substr(x.length-1)==" "?x.substr(0,x.length-1):x;var S=parseInt(j),k=c(S,x,a),P=j>=i.length-1;if(k&&!P){x+=" ",v=0;continue}if(k||P){if(P)y=S;else if(e.multiline&&(f+2)*(w+2)+2>o)continue e}else{if(!e.multiline||(f+2)*(w+2)+2>o)continue e;y=S}}for(var M="",T=g;T<=y;T++){var R=i[T];if(e.multiline){if(T===y){M+=R[v]+" ",v=(v+1)%R.length;continue}if(T===g){M+=R[R.length-1]+" ";continue}}M+=R[0]+" "}switch(M=M.substr(M.length-1)==" "?M.substr(0,M.length-1):M,d=__(M,e,a).width,e.textAlign){case"right":u=l-d-2;break;case"center":u=(l-d)/2;break;default:u=2}t+=$n(u)+" "+$n(h)+` Td
`,t+="("+Rv(M)+`) Tj
`,t+=-$n(u)+` 0 Td
`,h=-(a+2),d=0,g=_?y:y+1,w++,x=""}break}return r.text=t,r.fontSize=a,r},__=function(e,t,n){var r=t.scope.internal.getFont(t.fontName,t.fontStyle),i=t.scope.getStringUnitWidth(e,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:t.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},ymt={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},bmt=function(e,t){var n={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(n)},wmt=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(pd.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(ymt)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");HF=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new Wpe,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var a=r[i];a.objId=void 0,a.hasAnnotation&&bmt(a,n)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(n){(function(r,i){var a=!r;for(var o in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(o)){var l=r[o],c=[],u=l.Rect;if(l.Rect&&(l.Rect=vmt(l.Rect,i)),i.internal.newObjectDeferredBegin(l.objId,!0),l.DA=Wt.createDefaultAppearanceStream(l),Jr(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=u,l.hasAppearanceStream&&!l.appearanceStreamContent){var d=xmt(l);c.push({key:"AP",value:"<</N "+d+">>"}),i.internal.acroformPlugin.xForms.push(d)}if(l.appearanceStreamContent){var f="";for(var m in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(m)){var h=l.appearanceStreamContent[m];if(f+="/"+m+" ",f+="<<",Object.keys(h).length>=1||Array.isArray(h)){for(var o in h)if(h.hasOwnProperty(o)){var g=h[o];typeof g=="function"&&(g=g.call(i,l)),f+="/"+o+" "+g+" ",i.internal.acroformPlugin.xForms.indexOf(g)>=0||i.internal.acroformPlugin.xForms.push(g)}}else typeof(g=h)=="function"&&(g=g.call(i,l)),f+="/"+o+" "+g,i.internal.acroformPlugin.xForms.indexOf(g)>=0||i.internal.acroformPlugin.xForms.push(g);f+=">>"}c.push({key:"AP",value:`<<
`+f+">>"})}i.internal.putStream({additionalKeyValues:c,objectId:l.objId}),i.internal.out("endobj")}a&&function(y,v){for(var x in y)if(y.hasOwnProperty(x)){var w=x,j=y[x];v.internal.newObjectDeferredBegin(j.objId,!0),Jr(j)==="object"&&typeof j.putStream=="function"&&j.putStream(),delete y[w]}}(i.internal.acroformPlugin.xForms,i)})(n,e)}),e.internal.acroformPlugin.isInitialized=!0}},qpe=pa.__acroform__.arrayToPdfArray=function(e,t,n){var r=function(o){return o};if(Array.isArray(e)){for(var i="[",a=0;a<e.length;a++)switch(a!==0&&(i+=" "),Jr(e[a])){case"boolean":case"number":case"object":i+=e[a].toString();break;case"string":e[a].substr(0,1)!=="/"?(t!==void 0&&n&&(r=n.internal.getEncryptor(t)),i+="("+Rv(r(e[a].toString()))+")"):i+=e[a].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Z4=function(e,t,n){var r=function(i){return i};return t!==void 0&&n&&(r=n.internal.getEncryptor(t)),(e=e||"").toString(),"("+Rv(r(e))+")"},Gd=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Gd.prototype.toString=function(){return this.objId+" 0 R"},Gd.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Gd.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var n in t)if(Object.getOwnPropertyDescriptor(this,t[n]).configurable===!1){var r=t[n],i=this[r];i&&(Array.isArray(i)?e.push({key:r,value:qpe(i,this.objId,this.scope)}):i instanceof Gd?(i.scope=this.scope,e.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&e.push({key:r,value:i}))}return e};var Upe=function(){Gd.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){e=n.trim()},get:function(){return e||null}})};El(Upe,Gd);var Wpe=function(){Gd.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+Rv(n(e))+")"}},set:function(n){e=n}})};El(Wpe,Gd);var pd=function e(){Gd.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute F supplied.');t=x}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!La(t,3)},set:function(x){x?this.F=Ma(t,3):this.F=Ia(t,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute Ff supplied.');n=x}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(x){r=x!==void 0?x:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(x){r[0]=x}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(x){r[1]=x}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(x){r[2]=x}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(x){r[3]=x}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(x){switch(x){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=x;break;default:throw new Error('Invalid value "'+x+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof Uk)return;a="FieldObject"+e.FieldNum++}var x=function(w){return w};return this.scope&&(x=this.scope.internal.getEncryptor(this.objId)),"("+Rv(x(a))+")"},set:function(x){a=x.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(x){a=x}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(x){o=x}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(x){l=x}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(x){c=x}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/HF:u},set:function(x){u=x}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(x){d=x}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof Uk||this instanceof Zg))return Z4(f,this.objId,this.scope)},set:function(x){x=x.toString(),f=x}});var m=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof ws==0?Z4(m,this.objId,this.scope):m},set:function(x){x=x.toString(),m=this instanceof ws==0?x.substr(0,1)==="("?fx(x.substr(1,x.length-2)):fx(x):x}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof ws==1?fx(m.substr(1,m.length-1)):m},set:function(x){x=x.toString(),m=this instanceof ws==1?"/"+x:x}});var h=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(h)return h},set:function(x){this.V=x}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof ws==0?Z4(h,this.objId,this.scope):h},set:function(x){x=x.toString(),h=this instanceof ws==0?x.substr(0,1)==="("?fx(x.substr(1,x.length-2)):fx(x):x}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof ws==1?fx(h.substr(1,h.length-1)):h},set:function(x){x=x.toString(),h=this instanceof ws==1?"/"+x:x}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var g,y=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return y},set:function(x){x=!!x,y=x}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(g)return g},set:function(x){g=x}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!La(this.Ff,1)},set:function(x){x?this.Ff=Ma(this.Ff,1):this.Ff=Ia(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!La(this.Ff,2)},set:function(x){x?this.Ff=Ma(this.Ff,2):this.Ff=Ia(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!La(this.Ff,3)},set:function(x){x?this.Ff=Ma(this.Ff,3):this.Ff=Ia(this.Ff,3)}});var v=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(v!==null)return v},set:function(x){if([0,1,2].indexOf(x)===-1)throw new Error('Invalid value "'+x+'" for attribute Q supplied.');v=x}}),Object.defineProperty(this,"textAlign",{get:function(){var x;switch(v){case 0:default:x="left";break;case 1:x="center";break;case 2:x="right"}return x},configurable:!0,enumerable:!0,set:function(x){switch(x){case"right":case 2:v=2;break;case"center":case 1:v=1;break;default:v=0}}})};El(pd,Gd);var hy=function(){pd.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(n){e=n}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return qpe(t,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=function(a,o,l){l||(l=1);for(var c,u=[];c=o.exec(a);)u.push(c[l]);return u}(r,/\((.*?)\)/g)),t=i}}),this.getOptions=function(){return t},this.setOptions=function(n){t=n,this.sort&&t.sort()},this.addOption=function(n){n=(n=n||"").toString(),t.push(n),this.sort&&t.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();t.indexOf(n)!==-1&&(t.splice(t.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!La(this.Ff,18)},set:function(n){n?this.Ff=Ma(this.Ff,18):this.Ff=Ia(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!La(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=Ma(this.Ff,19):this.Ff=Ia(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!La(this.Ff,20)},set:function(n){n?(this.Ff=Ma(this.Ff,20),t.sort()):this.Ff=Ia(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!La(this.Ff,22)},set:function(n){n?this.Ff=Ma(this.Ff,22):this.Ff=Ia(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!La(this.Ff,23)},set:function(n){n?this.Ff=Ma(this.Ff,23):this.Ff=Ia(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!La(this.Ff,27)},set:function(n){n?this.Ff=Ma(this.Ff,27):this.Ff=Ia(this.Ff,27)}}),this.hasAppearanceStream=!1};El(hy,pd);var my=function(){hy.call(this),this.fontName="helvetica",this.combo=!1};El(my,hy);var py=function(){my.call(this),this.combo=!0};El(py,my);var gS=function(){py.call(this),this.edit=!0};El(gS,py);var ws=function(){pd.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!La(this.Ff,15)},set:function(n){n?this.Ff=Ma(this.Ff,15):this.Ff=Ia(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!La(this.Ff,16)},set:function(n){n?this.Ff=Ma(this.Ff,16):this.Ff=Ia(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!La(this.Ff,17)},set:function(n){n?this.Ff=Ma(this.Ff,17):this.Ff=Ia(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!La(this.Ff,26)},set:function(n){n?this.Ff=Ma(this.Ff,26):this.Ff=Ia(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(a){return a};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var r,i=[];for(r in i.push("<<"),t)i.push("/"+r+" ("+Rv(n(t[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){Jr(n)==="object"&&(t=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(n){typeof n=="string"&&(t.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(n){e="/"+n}})};El(ws,pd);var vS=function(){ws.call(this),this.pushButton=!0};El(vS,ws);var gy=function(){ws.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};El(gy,ws);var Uk=function(){var e,t;pd.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(i){e=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(i){t=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(l){return l};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var a,o=[];for(a in o.push("<<"),r)o.push("/"+a+" ("+Rv(i(r[a]))+")");return o.push(">>"),o.join(`
`)},set:function(i){Jr(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Wt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};El(Uk,pd),gy.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var n=this.Kids[t];n.appearanceStreamContent=e.createAppearanceStream(n.optionName),n.caption=e.getCA()}},gy.prototype.createOption=function(e){var t=new Uk;return t.Parent=this,t.optionName=e,this.Kids.push(t),jmt.call(this.scope,t),t};var xS=function(){ws.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Wt.CheckBox.createAppearanceStream()};El(xS,ws);var Zg=function(){pd.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!La(this.Ff,13)},set:function(t){t?this.Ff=Ma(this.Ff,13):this.Ff=Ia(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!La(this.Ff,21)},set:function(t){t?this.Ff=Ma(this.Ff,21):this.Ff=Ia(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!La(this.Ff,23)},set:function(t){t?this.Ff=Ma(this.Ff,23):this.Ff=Ia(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!La(this.Ff,24)},set:function(t){t?this.Ff=Ma(this.Ff,24):this.Ff=Ia(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!La(this.Ff,25)},set:function(t){t?this.Ff=Ma(this.Ff,25):this.Ff=Ia(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!La(this.Ff,26)},set:function(t){t?this.Ff=Ma(this.Ff,26):this.Ff=Ia(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};El(Zg,pd);var yS=function(){Zg.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!La(this.Ff,14)},set:function(e){e?this.Ff=Ma(this.Ff,14):this.Ff=Ia(this.Ff,14)}}),this.password=!0};El(yS,Zg);var Wt={CheckBox:{createAppearanceStream:function(){return{N:{On:Wt.CheckBox.YesNormal},D:{On:Wt.CheckBox.YesPushDown,Off:Wt.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Od(e);t.scope=e.scope;var n=[],r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),a=zI(e,e.caption);return n.push("0.749023 g"),n.push("0 0 "+$n(Wt.internal.getWidth(e))+" "+$n(Wt.internal.getHeight(e))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+$n(a.fontSize)+" Tf "+i),n.push("BT"),n.push(a.text),n.push("ET"),n.push("Q"),n.push("EMC"),t.stream=n.join(`
`),t},YesNormal:function(e){var t=Od(e);t.scope=e.scope;var n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color),i=[],a=Wt.internal.getHeight(e),o=Wt.internal.getWidth(e),l=zI(e,e.caption);return i.push("1 g"),i.push("0 0 "+$n(o)+" "+$n(a)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+$n(o-1)+" "+$n(a-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+$n(l.fontSize)+" Tf "+r),i.push(l.text),i.push("ET"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(e){var t=Od(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+$n(Wt.internal.getWidth(e))+" "+$n(Wt.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Wt.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Wt.RadioButton.Circle.YesNormal,t.D[e]=Wt.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Od(e);t.scope=e.scope;var n=[],r=Wt.internal.getWidth(e)<=Wt.internal.getHeight(e)?Wt.internal.getWidth(e)/4:Wt.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Wt.internal.Bezier_C,a=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+ym(Wt.internal.getWidth(e)/2)+" "+ym(Wt.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),n.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),n.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),n.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=Od(e);t.scope=e.scope;var n=[],r=Wt.internal.getWidth(e)<=Wt.internal.getHeight(e)?Wt.internal.getWidth(e)/4:Wt.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),a=Number((i*Wt.internal.Bezier_C).toFixed(5)),o=Number((r*Wt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+ym(Wt.internal.getWidth(e)/2)+" "+ym(Wt.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),n.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),n.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),n.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+ym(Wt.internal.getWidth(e)/2)+" "+ym(Wt.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=Od(e);t.scope=e.scope;var n=[],r=Wt.internal.getWidth(e)<=Wt.internal.getHeight(e)?Wt.internal.getWidth(e)/4:Wt.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),a=Number((i*Wt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+ym(Wt.internal.getWidth(e)/2)+" "+ym(Wt.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),n.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),n.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),n.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Wt.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Wt.RadioButton.Cross.YesNormal,t.D[e]=Wt.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Od(e);t.scope=e.scope;var n=[],r=Wt.internal.calculateCross(e);return n.push("q"),n.push("1 1 "+$n(Wt.internal.getWidth(e)-2)+" "+$n(Wt.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push($n(r.x1.x)+" "+$n(r.x1.y)+" m"),n.push($n(r.x2.x)+" "+$n(r.x2.y)+" l"),n.push($n(r.x4.x)+" "+$n(r.x4.y)+" m"),n.push($n(r.x3.x)+" "+$n(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=Od(e);t.scope=e.scope;var n=Wt.internal.calculateCross(e),r=[];return r.push("0.749023 g"),r.push("0 0 "+$n(Wt.internal.getWidth(e))+" "+$n(Wt.internal.getHeight(e))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+$n(Wt.internal.getWidth(e)-2)+" "+$n(Wt.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push($n(n.x1.x)+" "+$n(n.x1.y)+" m"),r.push($n(n.x2.x)+" "+$n(n.x2.y)+" l"),r.push($n(n.x4.x)+" "+$n(n.x4.y)+" m"),r.push($n(n.x3.x)+" "+$n(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=Od(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+$n(Wt.internal.getWidth(e))+" "+$n(Wt.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+n}};Wt.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Wt.internal.getWidth(e),n=Wt.internal.getHeight(e),r=Math.min(t,n);return{x1:{x:(t-r)/2,y:(n-r)/2+r},x2:{x:(t-r)/2+r,y:(n-r)/2},x3:{x:(t-r)/2,y:(n-r)/2},x4:{x:(t-r)/2+r,y:(n-r)/2+r}}}},Wt.internal.getWidth=function(e){var t=0;return Jr(e)==="object"&&(t=NG(e.Rect[2])),t},Wt.internal.getHeight=function(e){var t=0;return Jr(e)==="object"&&(t=NG(e.Rect[3])),t};var jmt=pa.addField=function(e){if(wmt(this,e),!(e instanceof pd))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};pa.AcroFormChoiceField=hy,pa.AcroFormListBox=my,pa.AcroFormComboBox=py,pa.AcroFormEditBox=gS,pa.AcroFormButton=ws,pa.AcroFormPushButton=vS,pa.AcroFormRadioButton=gy,pa.AcroFormCheckBox=xS,pa.AcroFormTextField=Zg,pa.AcroFormPasswordField=yS,pa.AcroFormAppearance=Wt,pa.AcroForm={ChoiceField:hy,ListBox:my,ComboBox:py,EditBox:gS,Button:ws,PushButton:vS,RadioButton:gy,CheckBox:xS,TextField:Zg,PasswordField:yS,Appearance:Wt},tn.AcroForm={ChoiceField:hy,ListBox:my,ComboBox:py,EditBox:gS,Button:ws,PushButton:vS,RadioButton:gy,CheckBox:xS,TextField:Zg,PasswordField:yS,Appearance:Wt};tn.AcroForm;function Hpe(e){return e.reduce(function(t,n,r){return t[n]=r,t},{})}(function(e){var t="addImage_";e.__addimage__={};var n="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=e.__addimage__.getImageFileTypeByImageData=function(D,I){var B,$,K,Y,Q,H=n;if((I=I||n)==="RGBA"||D.data!==void 0&&D.data instanceof Uint8ClampedArray&&"height"in D&&"width"in D)return"RGBA";if(k(D))for(Q in r)for(K=r[Q],B=0;B<K.length;B+=1){for(Y=!0,$=0;$<K[B].length;$+=1)if(K[B][$]!==void 0&&K[B][$]!==D[$]){Y=!1;break}if(Y===!0){H=Q;break}}else for(Q in r)for(K=r[Q],B=0;B<K.length;B+=1){for(Y=!0,$=0;$<K[B].length;$+=1)if(K[B][$]!==void 0&&K[B][$]!==D.charCodeAt($)){Y=!1;break}if(Y===!0){H=Q;break}}return H===n&&I!==n&&(H=I),H},a=function D(I){for(var B=this.internal.write,$=this.internal.putStream,K=(0,this.internal.getFilters)();K.indexOf("FlateEncode")!==-1;)K.splice(K.indexOf("FlateEncode"),1);I.objectId=this.internal.newObject();var Y=[];if(Y.push({key:"Type",value:"/XObject"}),Y.push({key:"Subtype",value:"/Image"}),Y.push({key:"Width",value:I.width}),Y.push({key:"Height",value:I.height}),I.colorSpace===x.INDEXED?Y.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(I.palette.length/3-1)+" "+("sMask"in I&&I.sMask!==void 0?I.objectId+2:I.objectId+1)+" 0 R]"}):(Y.push({key:"ColorSpace",value:"/"+I.colorSpace}),I.colorSpace===x.DEVICE_CMYK&&Y.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Y.push({key:"BitsPerComponent",value:I.bitsPerComponent}),"decodeParameters"in I&&I.decodeParameters!==void 0&&Y.push({key:"DecodeParms",value:"<<"+I.decodeParameters+">>"}),"transparency"in I&&Array.isArray(I.transparency)&&I.transparency.length>0){for(var Q="",H=0,G=I.transparency.length;H<G;H++)Q+=I.transparency[H]+" "+I.transparency[H]+" ";Y.push({key:"Mask",value:"["+Q+"]"})}I.sMask!==void 0&&Y.push({key:"SMask",value:I.objectId+1+" 0 R"});var U=I.filter!==void 0?["/"+I.filter]:void 0;if($({data:I.data,additionalKeyValues:Y,alreadyAppliedFilters:U,objectId:I.objectId}),B("endobj"),"sMask"in I&&I.sMask!==void 0){var ee,z=(ee=I.sMaskBitsPerComponent)!==null&&ee!==void 0?ee:I.bitsPerComponent,F={width:I.width,height:I.height,colorSpace:"DeviceGray",bitsPerComponent:z,data:I.sMask};"filter"in I&&(F.decodeParameters="/Predictor ".concat(I.predictor," /Colors 1 /BitsPerComponent ").concat(z," /Columns ").concat(I.width),F.filter=I.filter),D.call(this,F)}if(I.colorSpace===x.INDEXED){var ie=this.internal.newObject();$({data:M(new Uint8Array(I.palette)),objectId:ie}),B("endobj")}},o=function(){var D=this.internal.collections[t+"images"];for(var I in D)a.call(this,D[I])},l=function(){var D,I=this.internal.collections[t+"images"],B=this.internal.write;for(var $ in I)B("/I"+(D=I[$]).index,D.objectId,"0","R")},c=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",l))},u=function(){var D=this.internal.collections[t+"images"];return c.call(this),D},d=function(){return Object.keys(this.internal.collections[t+"images"]).length},f=function(D){return typeof e["process"+D.toUpperCase()]=="function"},m=function(D){return Jr(D)==="object"&&D.nodeType===1},h=function(D,I){if(D.nodeName==="IMG"&&D.hasAttribute("src")){var B=""+D.getAttribute("src");if(B.indexOf("data:image/")===0)return pS(unescape(B).split("base64,").pop());var $=e.loadFile(B,!0);if($!==void 0)return $}if(D.nodeName==="CANVAS"){if(D.width===0||D.height===0)throw new Error("Given canvas must have data. Canvas width: "+D.width+", height: "+D.height);var K;switch(I){case"PNG":K="image/png";break;case"WEBP":K="image/webp";break;default:K="image/jpeg"}return pS(D.toDataURL(K,1).split("base64,").pop())}},g=function(D){var I=this.internal.collections[t+"images"];if(I){for(var B in I)if(D===I[B].alias)return I[B]}},y=function(D,I,B){return D||I||(D=-96,I=-96),D<0&&(D=-1*B.width*72/D/this.internal.scaleFactor),I<0&&(I=-1*B.height*72/I/this.internal.scaleFactor),D===0&&(D=I*B.width/B.height),I===0&&(I=D*B.height/B.width),[D,I]},v=function(D,I,B,$,K,Y){var Q=y.call(this,B,$,K),H=this.internal.getCoordinateString,G=this.internal.getVerticalCoordinateString,U=u.call(this);if(B=Q[0],$=Q[1],U[K.index]=K,Y){Y*=Math.PI/180;var ee=Math.cos(Y),z=Math.sin(Y),F=function(ce){return ce.toFixed(4)},ie=[F(ee),F(z),F(-1*z),F(ee),0,0,"cm"]}this.internal.write("q"),Y?(this.internal.write([1,"0","0",1,H(D),G(I+$),"cm"].join(" ")),this.internal.write(ie.join(" ")),this.internal.write([H(B),"0","0",H($),"0","0","cm"].join(" "))):this.internal.write([H(B),"0","0",H($),H(D),G(I+$),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+K.index+" Do"),this.internal.write("Q")},x=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var w=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},j=e.__addimage__.sHashCode=function(D){var I,B,$=0;if(typeof D=="string")for(B=D.length,I=0;I<B;I++)$=($<<5)-$+D.charCodeAt(I),$|=0;else if(k(D))for(B=D.byteLength/2,I=0;I<B;I++)$=($<<5)-$+D[I],$|=0;return $},_=e.__addimage__.validateStringAsBase64=function(D){(D=D||"").toString().trim();var I=!0;return D.length===0&&(I=!1),D.length%4!=0&&(I=!1),/^[A-Za-z0-9+/]+$/.test(D.substr(0,D.length-2))===!1&&(I=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(D.substr(-2))===!1&&(I=!1),I},S=e.__addimage__.extractImageFromDataUrl=function(D){if(D==null||!(D=D.trim()).startsWith("data:"))return null;var I=D.indexOf(",");return I<0?null:D.substring(0,I).trim().endsWith("base64")?D.substring(I+1):null};e.__addimage__.isArrayBuffer=function(D){return D instanceof ArrayBuffer};var k=e.__addimage__.isArrayBufferView=function(D){return D instanceof Int8Array||D instanceof Uint8Array||D instanceof Uint8ClampedArray||D instanceof Int16Array||D instanceof Uint16Array||D instanceof Int32Array||D instanceof Uint32Array||D instanceof Float32Array||D instanceof Float64Array},P=e.__addimage__.binaryStringToUint8Array=function(D){for(var I=D.length,B=new Uint8Array(I),$=0;$<I;$++)B[$]=D.charCodeAt($);return B},M=e.__addimage__.arrayBufferToBinaryString=function(D){for(var I="",B=k(D)?D:new Uint8Array(D),$=0;$<B.length;$+=8192)I+=String.fromCharCode.apply(null,B.subarray($,$+8192));return I};e.addImage=function(){var D,I,B,$,K,Y,Q,H,G;if(typeof arguments[1]=="number"?(I=n,B=arguments[1],$=arguments[2],K=arguments[3],Y=arguments[4],Q=arguments[5],H=arguments[6],G=arguments[7]):(I=arguments[1],B=arguments[2],$=arguments[3],K=arguments[4],Y=arguments[5],Q=arguments[6],H=arguments[7],G=arguments[8]),Jr(D=arguments[0])==="object"&&!m(D)&&"imageData"in D){var U=D;D=U.imageData,I=U.format||I||n,B=U.x||B||0,$=U.y||$||0,K=U.w||U.width||K,Y=U.h||U.height||Y,Q=U.alias||Q,H=U.compression||H,G=U.rotation||U.angle||G}var ee=this.internal.getFilters();if(H===void 0&&ee.indexOf("FlateEncode")!==-1&&(H="SLOW"),isNaN(B)||isNaN($))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var z=T.call(this,D,I,Q,H);return v.call(this,B,$,K,Y,z,G),this};var T=function(D,I,B,$){var K,Y,Q;if(typeof D=="string"&&i(D)===n){D=unescape(D);var H=R(D,!1);(H!==""||(H=e.loadFile(D,!0))!==void 0)&&(D=H)}if(m(D)&&(D=h(D,I)),I=i(D,I),!f(I))throw new Error("addImage does not support files of type '"+I+"', please ensure that a plugin for '"+I+"' support is added.");if(((Q=B)==null||Q.length===0)&&(B=function(G){return typeof G=="string"||k(G)?j(G):k(G.data)?j(G.data):null}(D)),(K=g.call(this,B))||(D instanceof Uint8Array||I==="RGBA"||(Y=D,D=P(D)),K=this["process"+I.toUpperCase()](D,d.call(this),B,function(G){return G&&typeof G=="string"&&(G=G.toUpperCase()),G in e.image_compression?G:w.NONE}($),Y)),!K)throw new Error("An unknown error occurred whilst processing the image.");return K},R=e.__addimage__.convertBase64ToBinaryString=function(D,I){I=typeof I!="boolean"||I;var B,$="";if(typeof D=="string"){var K;B=(K=S(D))!==null&&K!==void 0?K:D;try{$=pS(B)}catch(Y){if(I)throw _(B)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Y.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return $};e.getImageProperties=function(D){var I,B,$="";if(m(D)&&(D=h(D)),typeof D=="string"&&i(D)===n&&(($=R(D,!1))===""&&($=e.loadFile(D)||""),D=$),B=i(D),!f(B))throw new Error("addImage does not support files of type '"+B+"', please ensure that a plugin for '"+B+"' support is added.");if(D instanceof Uint8Array||(D=P(D)),!(I=this["process"+B.toUpperCase()](D)))throw new Error("An unknown error occurred whilst processing the image");return I.fileType=B,I}})(tn.API),function(e){var t=function(n){if(n!==void 0&&n!="")return!0};tn.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(n){for(var r,i,a,o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(n.objId),u=n.pageContext.annotations,d=!1,f=0;f<u.length&&!d;f++)switch((r=u[f]).type){case"link":(t(r.options.url)||t(r.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var m=0;m<u.length;m++){r=u[m];var h=this.internal.pdfEscape,g=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var y=this.internal.newAdditionalObject(),v=this.internal.newAdditionalObject(),x=this.internal.getEncryptor(y.objId),w=r.title||"Note";a="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(r.bounds.x)+" "+l(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w)+" "+l(r.bounds.y)+"] ")+"/Contents ("+h(x(r.contents))+")",a+=" /Popup "+v.objId+" 0 R",a+=" /P "+c.objId+" 0 R",a+=" /T ("+h(x(w))+") >>",y.content=a;var j=y.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(r.bounds.x+30)+" "+l(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w+30)+" "+l(r.bounds.y)+"] ")+" /Parent "+j,r.open&&(a+=" /Open true"),a+=" >>",v.content=a,this.internal.write(y.objId,"0 R",v.objId,"0 R");break;case"freetext":i="/Rect ["+o(r.bounds.x)+" "+l(r.bounds.y)+" "+o(r.bounds.x+r.bounds.w)+" "+l(r.bounds.y+r.bounds.h)+"] ";var _=r.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+h(g(r.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+_+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(r.options.name){var S=this.annotations._nameMap[r.options.name];r.options.pageNumber=S.page,r.options.top=S.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",a="",r.options.url)a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+h(g(r.options.url))+") >>";else if(r.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,a+=" /FitV "+r.options.left+"]";break;default:var k=l(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),a+=" /XYZ "+r.options.left+" "+k+" "+r.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),e.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},e.link=function(n,r,i,a,o){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(n),y:u(r),w:c(n+i),h:u(r+a)},options:o,type:"link"})},e.textWithLink=function(n,r,i,a){var o,l,c=this.getTextWidth(n),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){l=a.maxWidth;var d=this.splitTextToSize(n,l).length;o=Math.ceil(u*d)}else l=c,o=u;return this.text(n,r,i,a),i+=.2*u,a.align==="center"&&(r-=c/2),a.align==="right"&&(r-=c),this.link(r,i-u,l,o,a),c},e.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(tn.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];e.__arabicParser__={};var a=e.__arabicParser__.isInArabicSubstitutionA=function(y){return t[y.charCodeAt(0)]!==void 0},o=e.__arabicParser__.isArabicLetter=function(y){return typeof y=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(y)},l=e.__arabicParser__.isArabicEndLetter=function(y){return o(y)&&a(y)&&t[y.charCodeAt(0)].length<=2},c=e.__arabicParser__.isArabicAlfLetter=function(y){return o(y)&&i.indexOf(y.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(y){return o(y)&&a(y)&&t[y.charCodeAt(0)].length>=1};var u=e.__arabicParser__.arabicLetterHasFinalForm=function(y){return o(y)&&a(y)&&t[y.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(y){return o(y)&&a(y)&&t[y.charCodeAt(0)].length>=3};var d=e.__arabicParser__.arabicLetterHasMedialForm=function(y){return o(y)&&a(y)&&t[y.charCodeAt(0)].length==4},f=e.__arabicParser__.resolveLigatures=function(y){var v=0,x=n,w="",j=0;for(v=0;v<y.length;v+=1)x[y.charCodeAt(v)]!==void 0?(j++,typeof(x=x[y.charCodeAt(v)])=="number"&&(w+=String.fromCharCode(x),x=n,j=0),v===y.length-1&&(x=n,w+=y.charAt(v-(j-1)),v-=j-1,j=0)):(x=n,w+=y.charAt(v-j),v-=j,j=0);return w};e.__arabicParser__.isArabicDiacritic=function(y){return y!==void 0&&r[y.charCodeAt(0)]!==void 0};var m=e.__arabicParser__.getCorrectForm=function(y,v,x){return o(y)?a(y)===!1?-1:!u(y)||!o(v)&&!o(x)||!o(x)&&l(v)||l(y)&&!o(v)||l(y)&&c(v)||l(y)&&l(v)?0:d(y)&&o(v)&&!l(v)&&o(x)&&u(x)?3:l(y)||!o(x)?1:2:-1},h=function(y){var v=0,x=0,w=0,j="",_="",S="",k=(y=y||"").split("\\s+"),P=[];for(v=0;v<k.length;v+=1){for(P.push(""),x=0;x<k[v].length;x+=1)j=k[v][x],_=k[v][x-1],S=k[v][x+1],o(j)?(w=m(j,_,S),P[v]+=w!==-1?String.fromCharCode(t[j.charCodeAt(0)][w]):j):P[v]+=j;P[v]=f(P[v])}return P.join(" ")},g=e.__arabicParser__.processArabic=e.processArabic=function(){var y,v=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,x=[];if(Array.isArray(v)){var w=0;for(x=[],w=0;w<v.length;w+=1)Array.isArray(v[w])?x.push([h(v[w][0]),v[w][1],v[w][2]]):x.push([h(v[w])]);y=x}else y=h(v);return typeof arguments[0]=="string"?y:(arguments[0].text=y,arguments[0])};e.events.push(["preProcessText",g])}(tn.API),tn.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},function(e){var t=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(l){n=l}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(l){r=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(l){i=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(l){a=l}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(l){o=l}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(tn.API),function(e){var t={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(y){c=y}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(y){u=y}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(y){d=y}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(y){f=y}});var m=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return m},set:function(y){m=y}});var h=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return h},set:function(y){h=y}});var g=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return g},set:function(y){g=y}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(c){return r.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},e.getTextDimensions=function(c,u){r.call(this);var d=(u=u||{}).fontSize||this.getFontSize(),f=u.font||this.getFont(),m=u.scaleFactor||this.internal.scaleFactor,h=0,g=0,y=0,v=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var x=u.maxWidth;x>0?typeof c=="string"?c=this.splitTextToSize(c,x):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(j,_){return j.concat(v.splitTextToSize(_,x))},[])):c=Array.isArray(c)?c:[c];for(var w=0;w<c.length;w++)h<(y=this.getStringUnitWidth(c[w],{font:f})*d)&&(h=y);return h!==0&&(g=c.length),{w:h/=m,h:Math.max((g*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/m,0)}},e.cellAddPage=function(){r.call(this),this.addPage();var c=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new a(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var c;c=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),r.call(this);var u=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,f=this.internal.__cell__.margins||t,m=this.internal.__cell__.tableHeaderRow,h=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===c.lineNumber?(c.x=(u.x||0)+(u.width||0),c.y=u.y||0):u.y+u.height+c.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=f.top,h&&m&&(this.printHeaderRow(c.lineNumber,!0),c.y+=m[0].height)):c.y=u.y+u.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,n===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-d,c.y+d,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+d,{align:"center",baseline:"top",maxWidth:c.width-d-d}):this.text(c.text,c.x+d,c.y+d,{align:"left",baseline:"top",maxWidth:c.width-d-d})),this.internal.__cell__.lastCell=c,this};e.table=function(c,u,d,f,m){if(r.call(this),!d)throw new Error("No data for PDF table.");var h,g,y,v,x=[],w=[],j=[],_={},S={},k=[],P=[],M=(m=m||{}).autoSize||!1,T=m.printHeaders!==!1,R=m.css&&m.css["font-size"]!==void 0?16*m.css["font-size"]:m.fontSize||12,D=m.margins||Object.assign({width:this.getPageWidth()},t),I=typeof m.padding=="number"?m.padding:3,B=m.headerBackgroundColor||"#c8c8c8",$=m.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=T,this.internal.__cell__.margins=D,this.internal.__cell__.table_font_size=R,this.internal.__cell__.padding=I,this.internal.__cell__.headerBackgroundColor=B,this.internal.__cell__.headerTextColor=$,this.setFontSize(R),f==null)w=x=Object.keys(d[0]),j=x.map(function(){return"left"});else if(Array.isArray(f)&&Jr(f[0])==="object")for(x=f.map(function(U){return U.name}),w=f.map(function(U){return U.prompt||U.name||""}),j=f.map(function(U){return U.align||"left"}),h=0;h<f.length;h+=1)S[f[h].name]=.7499990551181103*f[h].width;else Array.isArray(f)&&typeof f[0]=="string"&&(w=x=f,j=x.map(function(){return"left"}));if(M||Array.isArray(f)&&typeof f[0]=="string")for(h=0;h<x.length;h+=1){for(_[v=x[h]]=d.map(function(U){return U[v]}),this.setFont(void 0,"bold"),k.push(this.getTextDimensions(w[h],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),g=_[v],this.setFont(void 0,"normal"),y=0;y<g.length;y+=1)k.push(this.getTextDimensions(g[y],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);S[v]=Math.max.apply(null,k)+I+I,k=[]}if(T){var K={};for(h=0;h<x.length;h+=1)K[x[h]]={},K[x[h]].text=w[h],K[x[h]].align=j[h];var Y=l.call(this,K,S);P=x.map(function(U){return new a(c,u,S[U],Y,K[U].text,void 0,K[U].align)}),this.setTableHeaderRow(P),this.printHeaderRow(1,!1)}var Q=f.reduce(function(U,ee){return U[ee.name]=ee.align,U},{});for(h=0;h<d.length;h+=1){"rowStart"in m&&m.rowStart instanceof Function&&m.rowStart({row:h,data:d[h]},this);var H=l.call(this,d[h],S);for(y=0;y<x.length;y+=1){var G=d[h][x[y]];"cellStart"in m&&m.cellStart instanceof Function&&m.cellStart({row:h,col:y,data:G},this),o.call(this,new a(c,u,S[x[y]],H,G,h+2,Q[x[y]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=u,this};var l=function(c,u){var d=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,m=this.internal.scaleFactor;return Object.keys(c).map(function(h){var g=c[h];return this.splitTextToSize(g.hasOwnProperty("text")?g.text:g,u[h]-d-d)},this).map(function(h){return this.getLineHeightFactor()*h.length*f/m+d+d},this).reduce(function(h,g){return Math.max(h,g)},0)};e.setTableHeaderRow=function(c){r.call(this),this.internal.__cell__.tableHeaderRow=c},e.printHeaderRow=function(c,u){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var m=[],h=0;h<this.internal.__cell__.tableHeaderRow.length;h+=1){d=this.internal.__cell__.tableHeaderRow[h].clone(),u&&(d.y=this.internal.__cell__.margins.top||0,m.push(d)),d.lineNumber=c;var g=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,d),this.setTextColor(g)}m.length>0&&this.setTableHeaderRow(m),this.setFont(void 0,"normal"),n=!1}}(tn.API);var Kpe={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Gpe=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],VI=Hpe(Gpe),Ype=[100,200,300,400,500,600,700,800,900],Nmt=Hpe(Ype);function Q4(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),n=function(a){return Kpe[a=a||"normal"]?a:"normal"}(e.style),r=function(a){return a?typeof a=="number"?a>=100&&a<=900&&a%100==0?a:400:/^\d00$/.test(a)?parseInt(a):a==="bold"?700:400:400}(e.weight),i=function(a){return typeof VI[a=a||"normal"]=="number"?a:"normal"}(e.stretch);return{family:t,style:n,weight:r,stretch:i,src:e.src||[],ref:e.ref||{name:t,style:[i,n,r].join(" ")}}}function _G(e,t,n,r){var i;for(i=n;i>=0&&i<t.length;i+=r)if(e[t[i]])return e[t[i]];for(i=n;i>=0&&i<t.length;i-=r)if(e[t[i]])return e[t[i]]}var _mt={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},SG={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function kG(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function CG(e){return e.trimLeft()}function Smt(e,t){for(var n=0;n<e.length;){if(e.charAt(n)===t)return[e.substring(0,n),e.substring(n+1)];n+=1}return null}function kmt(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var S_,EG,PG,hx,k_,AG,TG,OG,J4=["times"];function LG(e,t,n,r,i){var a=4,o=IG;switch(i){case tn.API.image_compression.FAST:a=1,o=MG;break;case tn.API.image_compression.MEDIUM:a=6,o=DG;break;case tn.API.image_compression.SLOW:a=9,o=RG}e=function(c,u,d,f){for(var m,h=c.length/u,g=new Uint8Array(c.length+h),y=[Cmt,MG,IG,DG,RG],v=0;v<h;v+=1){var x=v*u,w=c.subarray(x,x+u);if(f)g.set(f(w,d,m),x+v);else{for(var j=y.length,_=[],S=0;S<j;S+=1)_[S]=y[S](w,d,m);var k=Pmt(_.concat());g.set(_[k],x+v)}m=w}return g}(e,t,Math.ceil(n*r/8),o);var l=II(e,{level:a});return tn.API.__addimage__.arrayBufferToBinaryString(l)}function Cmt(e){var t=Array.apply([],e);return t.unshift(0),t}function MG(e,t){var n=e.length,r=[];r[0]=1;for(var i=0;i<n;i+=1){var a=e[i-t]||0;r[i+1]=e[i]-a+256&255}return r}function IG(e,t,n){var r=e.length,i=[];i[0]=2;for(var a=0;a<r;a+=1){var o=n&&n[a]||0;i[a+1]=e[a]-o+256&255}return i}function DG(e,t,n){var r=e.length,i=[];i[0]=3;for(var a=0;a<r;a+=1){var o=e[a-t]||0,l=n&&n[a]||0;i[a+1]=e[a]+256-(o+l>>>1)&255}return i}function RG(e,t,n){var r=e.length,i=[];i[0]=4;for(var a=0;a<r;a+=1){var o=Emt(e[a-t]||0,n&&n[a]||0,n&&n[a-t]||0);i[a+1]=e[a]-o+256&255}return i}function Emt(e,t,n){if(e===t&&t===n)return e;var r=Math.abs(t-n),i=Math.abs(e-n),a=Math.abs(e+t-n-n);return r<=i&&r<=a?e:i<=a?t:n}function Pmt(e){var t=e.map(function(n){return n.reduce(function(r,i){return r+Math.abs(i)},0)});return t.indexOf(Math.min.apply(null,t))}function eO(e,t,n){var r=t*n,i=Math.floor(r/8),a=16-(r-8*i+n),o=(1<<n)-1;return Xpe(e,i)>>a&o}function $G(e,t,n,r){var i=n*r,a=Math.floor(i/8),o=16-(i-8*a+r),l=(1<<r)-1,c=(t&l)<<o;(function(u,d,f){if(d+1<u.byteLength)u.setUint16(d,f,!1);else{var m=f>>8&255;u.setUint8(d,m)}})(e,a,Xpe(e,a)&~(l<<o)&65535|c)}function Xpe(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function Amt(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=e[t++]|e[t++]<<8,r=e[t++]|e[t++]<<8,i=e[t++],a=i>>7,o=1<<1+(7&i);e[t++],e[t++];var l=null,c=null;a&&(l=t,c=o,t+=3*o);var u=!0,d=[],f=0,m=null,h=0,g=null;for(this.width=n,this.height=r;u&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,g=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((D=e[t++])>=0))throw Error("Invalid block size");if(D===0)break;t+=D}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var y=e[t++];f=e[t++]|e[t++]<<8,m=e[t++],1&y||(m=null),h=y>>2&7,t++;break;case 254:for(;;){if(!((D=e[t++])>=0))throw Error("Invalid block size");if(D===0)break;t+=D}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var v=e[t++]|e[t++]<<8,x=e[t++]|e[t++]<<8,w=e[t++]|e[t++]<<8,j=e[t++]|e[t++]<<8,_=e[t++],S=_>>6&1,k=1<<1+(7&_),P=l,M=c,T=!1;_>>7&&(T=!0,P=t,M=k,t+=3*k);var R=t;for(t++;;){var D;if(!((D=e[t++])>=0))throw Error("Invalid block size");if(D===0)break;t+=D}d.push({x:v,y:x,width:w,height:j,has_local_palette:T,palette_offset:P,palette_size:M,data_offset:R,data_length:t-R,transparent_index:m,interlaced:!!S,delay:f,disposal:h});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return g},this.frameInfo=function(I){if(I<0||I>=d.length)throw new Error("Frame index out of range.");return d[I]},this.decodeAndBlitFrameBGRA=function(I,B){var $=this.frameInfo(I),K=$.width*$.height,Y=new Uint8Array(K);FG(e,$.data_offset,Y,K);var Q=$.palette_offset,H=$.transparent_index;H===null&&(H=256);var G=$.width,U=n-G,ee=G,z=4*($.y*n+$.x),F=4*(($.y+$.height)*n+$.x),ie=z,ce=4*U;$.interlaced===!0&&(ce+=4*n*7);for(var te=8,oe=0,ve=Y.length;oe<ve;++oe){var ne=Y[oe];if(ee===0&&(ee=G,(ie+=ce)>=F&&(ce=4*U+4*n*(te-1),ie=z+(G+U)*(te<<1),te>>=1)),ne===H)ie+=4;else{var xe=e[Q+3*ne],ue=e[Q+3*ne+1],re=e[Q+3*ne+2];B[ie++]=re,B[ie++]=ue,B[ie++]=xe,B[ie++]=255}--ee}},this.decodeAndBlitFrameRGBA=function(I,B){var $=this.frameInfo(I),K=$.width*$.height,Y=new Uint8Array(K);FG(e,$.data_offset,Y,K);var Q=$.palette_offset,H=$.transparent_index;H===null&&(H=256);var G=$.width,U=n-G,ee=G,z=4*($.y*n+$.x),F=4*(($.y+$.height)*n+$.x),ie=z,ce=4*U;$.interlaced===!0&&(ce+=4*n*7);for(var te=8,oe=0,ve=Y.length;oe<ve;++oe){var ne=Y[oe];if(ee===0&&(ee=G,(ie+=ce)>=F&&(ce=4*U+4*n*(te-1),ie=z+(G+U)*(te<<1),te>>=1)),ne===H)ie+=4;else{var xe=e[Q+3*ne],ue=e[Q+3*ne+1],re=e[Q+3*ne+2];B[ie++]=xe,B[ie++]=ue,B[ie++]=re,B[ie++]=255}--ee}}}function FG(e,t,n,r){for(var i=e[t++],a=1<<i,o=a+1,l=o+1,c=i+1,u=(1<<c)-1,d=0,f=0,m=0,h=e[t++],g=new Int32Array(4096),y=null;;){for(;d<16&&h!==0;)f|=e[t++]<<d,d+=8,h===1?h=e[t++]:--h;if(d<c)break;var v=f&u;if(f>>=c,d-=c,v!==a){if(v===o)break;for(var x=v<l?v:y,w=0,j=x;j>a;)j=g[j]>>8,++w;var _=j;if(m+w+(x!==v?1:0)>r)return void ui.log("Warning, gif stream longer than expected.");n[m++]=_;var S=m+=w;for(x!==v&&(n[m++]=_),j=x;w--;)j=g[j],n[--S]=255&j,j>>=8;y!==null&&l<4096&&(g[l++]=y<<8|_,l>=u+1&&c<12&&(++c,u=u<<1|1)),y=v}else l=o+1,u=(1<<(c=i+1))-1,y=null}return m!==r&&ui.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function tO(e){var t,n,r,i,a,o=Math.floor,l=new Array(64),c=new Array(64),u=new Array(64),d=new Array(64),f=new Array(65535),m=new Array(65535),h=new Array(64),g=new Array(64),y=[],v=0,x=7,w=new Array(64),j=new Array(64),_=new Array(64),S=new Array(256),k=new Array(2048),P=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],M=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],T=[0,1,2,3,4,5,6,7,8,9,10,11],R=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],D=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],I=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],B=[0,1,2,3,4,5,6,7,8,9,10,11],$=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],K=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Y(z,F){for(var ie=0,ce=0,te=new Array,oe=1;oe<=16;oe++){for(var ve=1;ve<=z[oe];ve++)te[F[ce]]=[],te[F[ce]][0]=ie,te[F[ce]][1]=oe,ce++,ie++;ie*=2}return te}function Q(z){for(var F=z[0],ie=z[1]-1;ie>=0;)F&1<<ie&&(v|=1<<x),ie--,--x<0&&(v==255?(H(255),H(0)):H(v),x=7,v=0)}function H(z){y.push(z)}function G(z){H(z>>8&255),H(255&z)}function U(z,F,ie,ce,te){for(var oe,ve=te[0],ne=te[240],xe=function(ze,lt){var me,_e,Ce,Xe,He,we,Me,et,Ge,wt,kt=0;for(Ge=0;Ge<8;++Ge){me=ze[kt],_e=ze[kt+1],Ce=ze[kt+2],Xe=ze[kt+3],He=ze[kt+4],we=ze[kt+5],Me=ze[kt+6];var Bn=me+(et=ze[kt+7]),pn=me-et,cn=_e+Me,on=_e-Me,Dn=Ce+we,Rt=Ce-we,zn=Xe+He,ln=Xe-He,kn=Bn+zn,Ur=Bn-zn,Jt=cn+Dn,Ft=cn-Dn;ze[kt]=kn+Jt,ze[kt+4]=kn-Jt;var Mn=.707106781*(Ft+Ur);ze[kt+2]=Ur+Mn,ze[kt+6]=Ur-Mn;var ps=.382683433*((kn=ln+Rt)-(Ft=on+pn)),Lr=.5411961*kn+ps,ki=1.306562965*Ft+ps,Xi=.707106781*(Jt=Rt+on),Gt=pn+Xi,Wr=pn-Xi;ze[kt+5]=Wr+Lr,ze[kt+3]=Wr-Lr,ze[kt+1]=Gt+ki,ze[kt+7]=Gt-ki,kt+=8}for(kt=0,Ge=0;Ge<8;++Ge){me=ze[kt],_e=ze[kt+8],Ce=ze[kt+16],Xe=ze[kt+24],He=ze[kt+32],we=ze[kt+40],Me=ze[kt+48];var $a=me+(et=ze[kt+56]),Ci=me-et,qi=_e+Me,ar=_e-Me,Et=Ce+we,Hr=Ce-we,qs=Xe+He,xo=Xe-He,Jo=$a+qs,el=$a-qs,tl=qi+Et,gs=qi-Et;ze[kt]=Jo+tl,ze[kt+32]=Jo-tl;var yo=.707106781*(gs+el);ze[kt+16]=el+yo,ze[kt+48]=el-yo;var Pf=.382683433*((Jo=xo+Hr)-(gs=ar+Ci)),wc=.5411961*Jo+Pf,Af=1.306562965*gs+Pf,Hh=.707106781*(tl=Hr+ar),Tf=Ci+Hh,Kh=Ci-Hh;ze[kt+40]=Kh+wc,ze[kt+24]=Kh-wc,ze[kt+8]=Tf+Af,ze[kt+56]=Tf-Af,kt++}for(Ge=0;Ge<64;++Ge)wt=ze[Ge]*lt[Ge],h[Ge]=wt>0?wt+.5|0:wt-.5|0;return h}(z,F),ue=0;ue<64;++ue)g[P[ue]]=xe[ue];var re=g[0]-ie;ie=g[0],re==0?Q(ce[0]):(Q(ce[m[oe=32767+re]]),Q(f[oe]));for(var Se=63;Se>0&&g[Se]==0;)Se--;if(Se==0)return Q(ve),ie;for(var ae,X=1;X<=Se;){for(var Ae=X;g[X]==0&&X<=Se;)++X;var qe=X-Ae;if(qe>=16){ae=qe>>4;for(var tt=1;tt<=ae;++tt)Q(ne);qe&=15}oe=32767+g[X],Q(te[(qe<<4)+m[oe]]),Q(f[oe]),X++}return Se!=63&&Q(ve),ie}function ee(z){z=Math.min(Math.max(z,1),100),a!=z&&(function(F){for(var ie=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ce=0;ce<64;ce++){var te=o((ie[ce]*F+50)/100);te=Math.min(Math.max(te,1),255),l[P[ce]]=te}for(var oe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ve=0;ve<64;ve++){var ne=o((oe[ve]*F+50)/100);ne=Math.min(Math.max(ne,1),255),c[P[ve]]=ne}for(var xe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ue=0,re=0;re<8;re++)for(var Se=0;Se<8;Se++)u[ue]=1/(l[P[ue]]*xe[re]*xe[Se]*8),d[ue]=1/(c[P[ue]]*xe[re]*xe[Se]*8),ue++}(z<50?Math.floor(5e3/z):Math.floor(200-2*z)),a=z)}this.encode=function(z,F){F&&ee(F),y=new Array,v=0,x=7,G(65496),G(65504),G(16),H(74),H(70),H(73),H(70),H(0),H(1),H(1),H(0),G(1),G(1),H(0),H(0),function(){G(65499),G(132),H(0);for(var _e=0;_e<64;_e++)H(l[_e]);H(1);for(var Ce=0;Ce<64;Ce++)H(c[Ce])}(),function(_e,Ce){G(65472),G(17),H(8),G(Ce),G(_e),H(3),H(1),H(17),H(0),H(2),H(17),H(1),H(3),H(17),H(1)}(z.width,z.height),function(){G(65476),G(418),H(0);for(var _e=0;_e<16;_e++)H(M[_e+1]);for(var Ce=0;Ce<=11;Ce++)H(T[Ce]);H(16);for(var Xe=0;Xe<16;Xe++)H(R[Xe+1]);for(var He=0;He<=161;He++)H(D[He]);H(1);for(var we=0;we<16;we++)H(I[we+1]);for(var Me=0;Me<=11;Me++)H(B[Me]);H(17);for(var et=0;et<16;et++)H($[et+1]);for(var Ge=0;Ge<=161;Ge++)H(K[Ge])}(),G(65498),G(12),H(3),H(1),H(0),H(2),H(17),H(3),H(17),H(0),H(63),H(0);var ie=0,ce=0,te=0;v=0,x=7,this.encode.displayName="_encode_";for(var oe,ve,ne,xe,ue,re,Se,ae,X,Ae=z.data,qe=z.width,tt=z.height,ze=4*qe,lt=0;lt<tt;){for(oe=0;oe<ze;){for(ue=ze*lt+oe,Se=-1,ae=0,X=0;X<64;X++)re=ue+(ae=X>>3)*ze+(Se=4*(7&X)),lt+ae>=tt&&(re-=ze*(lt+1+ae-tt)),oe+Se>=ze&&(re-=oe+Se-ze+4),ve=Ae[re++],ne=Ae[re++],xe=Ae[re++],w[X]=(k[ve]+k[ne+256|0]+k[xe+512|0]>>16)-128,j[X]=(k[ve+768|0]+k[ne+1024|0]+k[xe+1280|0]>>16)-128,_[X]=(k[ve+1280|0]+k[ne+1536|0]+k[xe+1792|0]>>16)-128;ie=U(w,u,ie,t,r),ce=U(j,d,ce,n,i),te=U(_,d,te,n,i),oe+=32}lt+=8}if(x>=0){var me=[];me[1]=x+1,me[0]=(1<<x+1)-1,Q(me)}return G(65497),new Uint8Array(y)},e=e||50,function(){for(var z=String.fromCharCode,F=0;F<256;F++)S[F]=z(F)}(),t=Y(M,T),n=Y(I,B),r=Y(R,D),i=Y($,K),function(){for(var z=1,F=2,ie=1;ie<=15;ie++){for(var ce=z;ce<F;ce++)m[32767+ce]=ie,f[32767+ce]=[],f[32767+ce][1]=ie,f[32767+ce][0]=ce;for(var te=-(F-1);te<=-z;te++)m[32767+te]=ie,f[32767+te]=[],f[32767+te][1]=ie,f[32767+te][0]=F-1+te;z<<=1,F<<=1}}(),function(){for(var z=0;z<256;z++)k[z]=19595*z,k[z+256|0]=38470*z,k[z+512|0]=7471*z+32768,k[z+768|0]=-11059*z,k[z+1024|0]=-21709*z,k[z+1280|0]=32768*z+8421375,k[z+1536|0]=-27439*z,k[z+1792|0]=-5329*z}(),ee(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Iu(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function BG(e){function t(T){if(!T)throw Error("assert :P")}function n(T,R,D){for(var I=0;4>I;I++)if(T[R+I]!=D.charCodeAt(I))return!0;return!1}function r(T,R,D,I,B){for(var $=0;$<B;$++)T[R+$]=D[I+$]}function i(T,R,D,I){for(var B=0;B<I;B++)T[R+B]=D}function a(T){return new Int32Array(T)}function o(T,R){for(var D=[],I=0;I<T;I++)D.push(new R);return D}function l(T,R){var D=[];return function I(B,$,K){for(var Y=K[$],Q=0;Q<Y&&(B.push(K.length>$+1?[]:new R),!(K.length<$+1));Q++)I(B[Q],$+1,K)}(D,0,T),D}var c=function(){var T=this;function R(C,O){for(var W=1<<O-1>>>0;C&W;)W>>>=1;return W?(C&W-1)+W:C}function D(C,O,W,Z,le){t(!(Z%W));do C[O+(Z-=W)]=le;while(0<Z)}function I(C,O,W,Z,le){if(t(2328>=le),512>=le)var de=a(512);else if((de=a(le))==null)return 0;return function(he,pe,ge,je,Te,Ve){var Ne,Le,Re=pe,Ze=1<<ge,Be=a(16),Je=a(16);for(t(Te!=0),t(je!=null),t(he!=null),t(0<ge),Le=0;Le<Te;++Le){if(15<je[Le])return 0;++Be[je[Le]]}if(Be[0]==Te)return 0;for(Je[1]=0,Ne=1;15>Ne;++Ne){if(Be[Ne]>1<<Ne)return 0;Je[Ne+1]=Je[Ne]+Be[Ne]}for(Le=0;Le<Te;++Le)Ne=je[Le],0<je[Le]&&(Ve[Je[Ne]++]=Le);if(Je[15]==1)return(je=new B).g=0,je.value=Ve[0],D(he,Re,1,Ze,je),Ze;var nt,mt=-1,ct=Ze-1,en=0,Ut=1,Xn=1,Yt=1<<ge;for(Le=0,Ne=1,Te=2;Ne<=ge;++Ne,Te<<=1){if(Ut+=Xn<<=1,0>(Xn-=Be[Ne]))return 0;for(;0<Be[Ne];--Be[Ne])(je=new B).g=Ne,je.value=Ve[Le++],D(he,Re+en,Te,Yt,je),en=R(en,Ne)}for(Ne=ge+1,Te=2;15>=Ne;++Ne,Te<<=1){if(Ut+=Xn<<=1,0>(Xn-=Be[Ne]))return 0;for(;0<Be[Ne];--Be[Ne]){if(je=new B,(en&ct)!=mt){for(Re+=Yt,nt=1<<(mt=Ne)-ge;15>mt&&!(0>=(nt-=Be[mt]));)++mt,nt<<=1;Ze+=Yt=1<<(nt=mt-ge),he[pe+(mt=en&ct)].g=nt+ge,he[pe+mt].value=Re-pe-mt}je.g=Ne-ge,je.value=Ve[Le++],D(he,Re+(en>>ge),Te,Yt,je),en=R(en,Ne)}}return Ut!=2*Je[15]-1?0:Ze}(C,O,W,Z,le,de)}function B(){this.value=this.g=0}function $(){this.value=this.g=0}function K(){this.G=o(5,B),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(kc,$)}function Y(C,O,W,Z){t(C!=null),t(O!=null),t(2147483648>Z),C.Ca=254,C.I=0,C.b=-8,C.Ka=0,C.oa=O,C.pa=W,C.Jd=O,C.Yc=W+Z,C.Zc=4<=Z?W+Z-4+1:W,ve(C)}function Q(C,O){for(var W=0;0<O--;)W|=xe(C,128)<<O;return W}function H(C,O){var W=Q(C,O);return ne(C)?-W:W}function G(C,O,W,Z){var le,de=0;for(t(C!=null),t(O!=null),t(4294967288>Z),C.Sb=Z,C.Ra=0,C.u=0,C.h=0,4<Z&&(Z=4),le=0;le<Z;++le)de+=O[W+le]<<8*le;C.Ra=de,C.bb=Z,C.oa=O,C.pa=W}function U(C){for(;8<=C.u&&C.bb<C.Sb;)C.Ra>>>=8,C.Ra+=C.oa[C.pa+C.bb]<<Ol-8>>>0,++C.bb,C.u-=8;ce(C)&&(C.h=1,C.u=0)}function ee(C,O){if(t(0<=O),!C.h&&O<=da){var W=ie(C)&wo[O];return C.u+=O,U(C),W}return C.h=1,C.u=0}function z(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function F(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function ie(C){return C.Ra>>>(C.u&Ol-1)>>>0}function ce(C){return t(C.bb<=C.Sb),C.h||C.bb==C.Sb&&C.u>Ol}function te(C,O){C.u=O,C.h=ce(C)}function oe(C){C.u>=Cu&&(t(C.u>=Cu),U(C))}function ve(C){t(C!=null&&C.oa!=null),C.pa<C.Zc?(C.I=(C.oa[C.pa++]|C.I<<8)>>>0,C.b+=8):(t(C!=null&&C.oa!=null),C.pa<C.Yc?(C.b+=8,C.I=C.oa[C.pa++]|C.I<<8):C.Ka?C.b=0:(C.I<<=8,C.b+=8,C.Ka=1))}function ne(C){return Q(C,1)}function xe(C,O){var W=C.Ca;0>C.b&&ve(C);var Z=C.b,le=W*O>>>8,de=(C.I>>>Z>le)+0;for(de?(W-=le,C.I-=le+1<<Z>>>0):W=le+1,Z=W,le=0;256<=Z;)le+=8,Z>>=8;return Z=7^le+Cc[Z],C.b-=Z,C.Ca=(W<<Z)-1,de}function ue(C,O,W){C[O+0]=W>>24&255,C[O+1]=W>>16&255,C[O+2]=W>>8&255,C[O+3]=255&W}function re(C,O){return C[O+0]|C[O+1]<<8}function Se(C,O){return re(C,O)|C[O+2]<<16}function ae(C,O){return re(C,O)|re(C,O+2)<<16}function X(C,O){var W=1<<O;return t(C!=null),t(0<O),C.X=a(W),C.X==null?0:(C.Mb=32-O,C.Xa=O,1)}function Ae(C,O){t(C!=null),t(O!=null),t(C.Xa==O.Xa),r(O.X,0,C.X,0,1<<O.Xa)}function qe(){this.X=[],this.Xa=this.Mb=0}function tt(C,O,W,Z){t(W!=null),t(Z!=null);var le=W[0],de=Z[0];return le==0&&(le=(C*de+O/2)/O),de==0&&(de=(O*le+C/2)/C),0>=le||0>=de?0:(W[0]=le,Z[0]=de,1)}function ze(C,O){return C+(1<<O)-1>>>O}function lt(C,O){return((4278255360&C)+(4278255360&O)>>>0&4278255360)+((16711935&C)+(16711935&O)>>>0&16711935)>>>0}function me(C,O){T[O]=function(W,Z,le,de,he,pe,ge){var je;for(je=0;je<he;++je){var Te=T[C](pe[ge+je-1],le,de+je);pe[ge+je]=lt(W[Z+je],Te)}}}function _e(){this.ud=this.hd=this.jd=0}function Ce(C,O){return((4278124286&(C^O))>>>1)+(C&O)>>>0}function Xe(C){return 0<=C&&256>C?C:0>C?0:255<C?255:void 0}function He(C,O){return Xe(C+(C-O+.5>>1))}function we(C,O,W){return Math.abs(O-W)-Math.abs(C-W)}function Me(C,O,W,Z,le,de,he){for(Z=de[he-1],W=0;W<le;++W)de[he+W]=Z=lt(C[O+W],Z)}function et(C,O,W,Z,le){var de;for(de=0;de<W;++de){var he=C[O+de],pe=he>>8&255,ge=16711935&(ge=(ge=16711935&he)+((pe<<16)+pe));Z[le+de]=(4278255360&he)+ge>>>0}}function Ge(C,O){O.jd=255&C,O.hd=C>>8&255,O.ud=C>>16&255}function wt(C,O,W,Z,le,de){var he;for(he=0;he<Z;++he){var pe=O[W+he],ge=pe>>>8,je=pe,Te=255&(Te=(Te=pe>>>16)+((C.jd<<24>>24)*(ge<<24>>24)>>>5));je=255&(je=(je+=(C.hd<<24>>24)*(ge<<24>>24)>>>5)+((C.ud<<24>>24)*(Te<<24>>24)>>>5)),le[de+he]=(4278255360&pe)+(Te<<16)+je}}function kt(C,O,W,Z,le){T[O]=function(de,he,pe,ge,je,Te,Ve,Ne,Le){for(ge=Ve;ge<Ne;++ge)for(Ve=0;Ve<Le;++Ve)je[Te++]=le(pe[Z(de[he++])])},T[C]=function(de,he,pe,ge,je,Te,Ve){var Ne=8>>de.b,Le=de.Ea,Re=de.K[0],Ze=de.w;if(8>Ne)for(de=(1<<de.b)-1,Ze=(1<<Ne)-1;he<pe;++he){var Be,Je=0;for(Be=0;Be<Le;++Be)Be&de||(Je=Z(ge[je++])),Te[Ve++]=le(Re[Je&Ze]),Je>>=Ne}else T["VP8LMapColor"+W](ge,je,Re,Ze,Te,Ve,he,pe,Le)}}function Bn(C,O,W,Z,le){for(W=O+W;O<W;){var de=C[O++];Z[le++]=de>>16&255,Z[le++]=de>>8&255,Z[le++]=255&de}}function pn(C,O,W,Z,le){for(W=O+W;O<W;){var de=C[O++];Z[le++]=de>>16&255,Z[le++]=de>>8&255,Z[le++]=255&de,Z[le++]=de>>24&255}}function cn(C,O,W,Z,le){for(W=O+W;O<W;){var de=(he=C[O++])>>16&240|he>>12&15,he=240&he|he>>28&15;Z[le++]=de,Z[le++]=he}}function on(C,O,W,Z,le){for(W=O+W;O<W;){var de=(he=C[O++])>>16&248|he>>13&7,he=he>>5&224|he>>3&31;Z[le++]=de,Z[le++]=he}}function Dn(C,O,W,Z,le){for(W=O+W;O<W;){var de=C[O++];Z[le++]=255&de,Z[le++]=de>>8&255,Z[le++]=de>>16&255}}function Rt(C,O,W,Z,le,de){if(de==0)for(W=O+W;O<W;)ue(Z,((de=C[O++])[0]>>24|de[1]>>8&65280|de[2]<<8&16711680|de[3]<<24)>>>0),le+=32;else r(Z,le,C,O,W)}function zn(C,O){T[O][0]=T[C+"0"],T[O][1]=T[C+"1"],T[O][2]=T[C+"2"],T[O][3]=T[C+"3"],T[O][4]=T[C+"4"],T[O][5]=T[C+"5"],T[O][6]=T[C+"6"],T[O][7]=T[C+"7"],T[O][8]=T[C+"8"],T[O][9]=T[C+"9"],T[O][10]=T[C+"10"],T[O][11]=T[C+"11"],T[O][12]=T[C+"12"],T[O][13]=T[C+"13"],T[O][14]=T[C+"0"],T[O][15]=T[C+"0"]}function ln(C){return C==Xv||C==Zv||C==Qv||C==p}function kn(){this.eb=[],this.size=this.A=this.fb=0}function Ur(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Jt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new kn,this.f.kb=new Ur,this.sd=null}function Ft(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Mn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ps(C){return alert("todo:WebPSamplerProcessPlane"),C.T}function Lr(C,O){var W=C.T,Z=O.ba.f.RGBA,le=Z.eb,de=Z.fb+C.ka*Z.A,he=Es[O.ba.S],pe=C.y,ge=C.O,je=C.f,Te=C.N,Ve=C.ea,Ne=C.W,Le=O.cc,Re=O.dc,Ze=O.Mc,Be=O.Nc,Je=C.ka,nt=C.ka+C.T,mt=C.U,ct=mt+1>>1;for(Je==0?he(pe,ge,null,null,je,Te,Ve,Ne,je,Te,Ve,Ne,le,de,null,null,mt):(he(O.ec,O.fc,pe,ge,Le,Re,Ze,Be,je,Te,Ve,Ne,le,de-Z.A,le,de,mt),++W);Je+2<nt;Je+=2)Le=je,Re=Te,Ze=Ve,Be=Ne,Te+=C.Rc,Ne+=C.Rc,de+=2*Z.A,he(pe,(ge+=2*C.fa)-C.fa,pe,ge,Le,Re,Ze,Be,je,Te,Ve,Ne,le,de-Z.A,le,de,mt);return ge+=C.fa,C.j+nt<C.o?(r(O.ec,O.fc,pe,ge,mt),r(O.cc,O.dc,je,Te,ct),r(O.Mc,O.Nc,Ve,Ne,ct),W--):1&nt||he(pe,ge,null,null,je,Te,Ve,Ne,je,Te,Ve,Ne,le,de+Z.A,null,null,mt),W}function ki(C,O,W){var Z=C.F,le=[C.J];if(Z!=null){var de=C.U,he=O.ba.S,pe=he==sg||he==Qv;O=O.ba.f.RGBA;var ge=[0],je=C.ka;ge[0]=C.T,C.Kb&&(je==0?--ge[0]:(--je,le[0]-=C.width),C.j+C.ka+C.T==C.o&&(ge[0]=C.o-C.j-je));var Te=O.eb;je=O.fb+je*O.A,C=Nb(Z,le[0],C.width,de,ge,Te,je+(pe?0:3),O.A),t(W==ge),C&&ln(he)&&Oc(Te,je,pe,de,ge,O.A)}return 0}function Xi(C){var O=C.ma,W=O.ba.S,Z=11>W,le=W==ig||W==ag||W==sg||W==Yv||W==12||ln(W);if(O.memory=null,O.Ib=null,O.Jb=null,O.Nd=null,!tg(O.Oa,C,le?11:12))return 0;if(le&&ln(W)&&Nu(),C.da)alert("todo:use_scaling");else{if(Z){if(O.Ib=ps,C.Kb){if(W=C.U+1>>1,O.memory=a(C.U+2*W),O.memory==null)return 0;O.ec=O.memory,O.fc=0,O.cc=O.ec,O.dc=O.fc+C.U,O.Mc=O.cc,O.Nc=O.dc+W,O.Ib=Lr,Nu()}}else alert("todo:EmitYUV");le&&(O.Jb=ki,Z&&Qa())}if(Z&&!k7){for(C=0;256>C;++C)Fbe[C]=89858*(C-128)+pN>>mN,Vbe[C]=-22014*(C-128)+pN,zbe[C]=-45773*(C-128),Bbe[C]=113618*(C-128)+pN>>mN;for(C=Pb;C<CA;++C)O=76283*(C-16)+pN>>mN,qbe[C-Pb]=Vn(O,255),Ube[C-Pb]=Vn(O+8>>4,15);k7=1}return 1}function Gt(C){var O=C.ma,W=C.U,Z=C.T;return t(!(1&C.ka)),0>=W||0>=Z?0:(W=O.Ib(C,O),O.Jb!=null&&O.Jb(C,O,W),O.Dc+=W,1)}function Wr(C){C.ma.memory=null}function $a(C,O,W,Z){return ee(C,8)!=47?0:(O[0]=ee(C,14)+1,W[0]=ee(C,14)+1,Z[0]=ee(C,1),ee(C,3)!=0?0:!C.h)}function Ci(C,O){if(4>C)return C+1;var W=C-2>>1;return(2+(1&C)<<W)+ee(O,W)+1}function qi(C,O){return 120<O?O-120:1<=(W=((W=ke[O-1])>>4)*C+(8-(15&W)))?W:1;var W}function ar(C,O,W){var Z=ie(W),le=C[O+=255&Z].g-8;return 0<le&&(te(W,W.u+8),Z=ie(W),O+=C[O].value,O+=Z&(1<<le)-1),te(W,W.u+C[O].g),C[O].value}function Et(C,O,W){return W.g+=C.g,W.value+=C.value<<O>>>0,t(8>=W.g),C.g}function Hr(C,O,W){var Z=C.xc;return t((O=Z==0?0:C.vc[C.md*(W>>Z)+(O>>Z)])<C.Wb),C.Ya[O]}function qs(C,O,W,Z){var le=C.ab,de=C.c*O,he=C.C;O=he+O;var pe=W,ge=Z;for(Z=C.Ta,W=C.Ua;0<le--;){var je=C.gc[le],Te=he,Ve=O,Ne=pe,Le=ge,Re=(ge=Z,pe=W,je.Ea);switch(t(Te<Ve),t(Ve<=je.nc),je.hc){case 2:Qi(Ne,Le,(Ve-Te)*Re,ge,pe);break;case 0:var Ze=Te,Be=Ve,Je=ge,nt=pe,mt=(Yt=je).Ea;Ze==0&&(ng(Ne,Le,null,null,1,Je,nt),Me(Ne,Le+1,0,0,mt-1,Je,nt+1),Le+=mt,nt+=mt,++Ze);for(var ct=1<<Yt.b,en=ct-1,Ut=ze(mt,Yt.b),Xn=Yt.K,Yt=Yt.w+(Ze>>Yt.b)*Ut;Ze<Be;){var pr=Xn,es=Yt,Zn=1;for(Hs(Ne,Le,Je,nt-mt,1,Je,nt);Zn<mt;){var Xt=(Zn&~en)+ct;Xt>mt&&(Xt=mt),(0,am[pr[es++]>>8&15])(Ne,Le+ +Zn,Je,nt+Zn-mt,Xt-Zn,Je,nt+Zn),Zn=Xt}Le+=mt,nt+=mt,++Ze&en||(Yt+=Ut)}Ve!=je.nc&&r(ge,pe-Re,ge,pe+(Ve-Te-1)*Re,Re);break;case 1:for(Re=Ne,Be=Le,mt=(Ne=je.Ea)-(nt=Ne&~(Je=(Le=1<<je.b)-1)),Ze=ze(Ne,je.b),ct=je.K,je=je.w+(Te>>je.b)*Ze;Te<Ve;){for(en=ct,Ut=je,Xn=new _e,Yt=Be+nt,pr=Be+Ne;Be<Yt;)Ge(en[Ut++],Xn),$f(Xn,Re,Be,Le,ge,pe),Be+=Le,pe+=Le;Be<pr&&(Ge(en[Ut++],Xn),$f(Xn,Re,Be,mt,ge,pe),Be+=mt,pe+=mt),++Te&Je||(je+=Ze)}break;case 3:if(Ne==ge&&Le==pe&&0<je.b){for(Be=ge,Ne=Re=pe+(Ve-Te)*Re-(nt=(Ve-Te)*ze(je.Ea,je.b)),Le=ge,Je=pe,Ze=[],nt=(mt=nt)-1;0<=nt;--nt)Ze[nt]=Le[Je+nt];for(nt=mt-1;0<=nt;--nt)Be[Ne+nt]=Ze[nt];Eu(je,Te,Ve,ge,Re,ge,pe)}else Eu(je,Te,Ve,Ne,Le,ge,pe)}pe=Z,ge=W}ge!=W&&r(Z,W,pe,ge,de)}function xo(C,O){var W=C.V,Z=C.Ba+C.c*C.C,le=O-C.C;if(t(O<=C.l.o),t(16>=le),0<le){var de=C.l,he=C.Ta,pe=C.Ua,ge=de.width;if(qs(C,le,W,Z),le=pe=[pe],t((W=C.C)<(Z=O)),t(de.v<de.va),Z>de.o&&(Z=de.o),W<de.j){var je=de.j-W;W=de.j,le[0]+=je*ge}if(W>=Z?W=0:(le[0]+=4*de.v,de.ka=W-de.j,de.U=de.va-de.v,de.T=Z-W,W=1),W){if(pe=pe[0],11>(W=C.ca).S){var Te=W.f.RGBA,Ve=(Z=W.S,le=de.U,de=de.T,je=Te.eb,Te.A),Ne=de;for(Te=Te.fb+C.Ma*Te.A;0<Ne--;){var Le=he,Re=pe,Ze=le,Be=je,Je=Te;switch(Z){case Gv:Sd(Le,Re,Ze,Be,Je);break;case ig:Pc(Le,Re,Ze,Be,Je);break;case Xv:Pc(Le,Re,Ze,Be,Je),Oc(Be,Je,0,Ze,1,0);break;case kb:Ac(Le,Re,Ze,Be,Je);break;case ag:Rt(Le,Re,Ze,Be,Je,1);break;case Zv:Rt(Le,Re,Ze,Be,Je,1),Oc(Be,Je,0,Ze,1,0);break;case sg:Rt(Le,Re,Ze,Be,Je,0);break;case Qv:Rt(Le,Re,Ze,Be,Je,0),Oc(Be,Je,1,Ze,1,0);break;case Yv:Ll(Le,Re,Ze,Be,Je);break;case p:Ll(Le,Re,Ze,Be,Je),jb(Be,Je,Ze,1,0);break;case dN:jo(Le,Re,Ze,Be,Je);break;default:t(0)}pe+=ge,Te+=Ve}C.Ma+=de}else alert("todo:EmitRescaledRowsYUVA");t(C.Ma<=W.height)}}C.C=O,t(C.C<=C.i)}function Jo(C){var O;if(0<C.ua)return 0;for(O=0;O<C.Wb;++O){var W=C.Ya[O].G,Z=C.Ya[O].H;if(0<W[1][Z[1]+0].g||0<W[2][Z[2]+0].g||0<W[3][Z[3]+0].g)return 0}return 1}function el(C,O,W,Z,le,de){if(C.Z!=0){var he=C.qd,pe=C.rd;for(t(Kr[C.Z]!=null);O<W;++O)Kr[C.Z](he,pe,Z,le,Z,le,de),he=Z,pe=le,le+=de;C.qd=he,C.rd=pe}}function tl(C,O){var W=C.l.ma,Z=W.Z==0||W.Z==1?C.l.j:C.C;if(Z=C.C<Z?Z:C.C,t(O<=C.l.o),O>Z){var le=C.l.width,de=W.ca,he=W.tb+le*Z,pe=C.V,ge=C.Ba+C.c*Z,je=C.gc;t(C.ab==1),t(je[0].hc==3),Ba(je[0],Z,O,pe,ge,de,he),el(W,Z,O,de,he,le)}C.C=C.Ma=O}function gs(C,O,W,Z,le,de,he){var pe=C.$/Z,ge=C.$%Z,je=C.m,Te=C.s,Ve=W+C.$,Ne=Ve;le=W+Z*le;var Le=W+Z*de,Re=280+Te.ua,Ze=C.Pb?pe:16777216,Be=0<Te.ua?Te.Wa:null,Je=Te.wc,nt=Ve<Le?Hr(Te,ge,pe):null;t(C.C<de),t(Le<=le);var mt=!1;e:for(;;){for(;mt||Ve<Le;){var ct=0;if(pe>=Ze){var en=Ve-W;t((Ze=C).Pb),Ze.wd=Ze.m,Ze.xd=en,0<Ze.s.ua&&Ae(Ze.s.Wa,Ze.s.vb),Ze=pe+Ke}if(ge&Je||(nt=Hr(Te,ge,pe)),t(nt!=null),nt.Qb&&(O[Ve]=nt.qb,mt=!0),!mt)if(oe(je),nt.jc){ct=je,en=O;var Ut=Ve,Xn=nt.pd[ie(ct)&kc-1];t(nt.jc),256>Xn.g?(te(ct,ct.u+Xn.g),en[Ut]=Xn.value,ct=0):(te(ct,ct.u+Xn.g-256),t(256<=Xn.value),ct=Xn.value),ct==0&&(mt=!0)}else ct=ar(nt.G[0],nt.H[0],je);if(je.h)break;if(mt||256>ct){if(!mt)if(nt.nd)O[Ve]=(nt.qb|ct<<8)>>>0;else{if(oe(je),mt=ar(nt.G[1],nt.H[1],je),oe(je),en=ar(nt.G[2],nt.H[2],je),Ut=ar(nt.G[3],nt.H[3],je),je.h)break;O[Ve]=(Ut<<24|mt<<16|ct<<8|en)>>>0}if(mt=!1,++Ve,++ge>=Z&&(ge=0,++pe,he!=null&&pe<=de&&!(pe%16)&&he(C,pe),Be!=null))for(;Ne<Ve;)ct=O[Ne++],Be.X[(506832829*ct&4294967295)>>>Be.Mb]=ct}else if(280>ct){if(ct=Ci(ct-256,je),en=ar(nt.G[4],nt.H[4],je),oe(je),en=qi(Z,en=Ci(en,je)),je.h)break;if(Ve-W<en||le-Ve<ct)break e;for(Ut=0;Ut<ct;++Ut)O[Ve+Ut]=O[Ve+Ut-en];for(Ve+=ct,ge+=ct;ge>=Z;)ge-=Z,++pe,he!=null&&pe<=de&&!(pe%16)&&he(C,pe);if(t(Ve<=le),ge&Je&&(nt=Hr(Te,ge,pe)),Be!=null)for(;Ne<Ve;)ct=O[Ne++],Be.X[(506832829*ct&4294967295)>>>Be.Mb]=ct}else{if(!(ct<Re))break e;for(mt=ct-280,t(Be!=null);Ne<Ve;)ct=O[Ne++],Be.X[(506832829*ct&4294967295)>>>Be.Mb]=ct;ct=Ve,t(!(mt>>>(en=Be).Xa)),O[ct]=en.X[mt],mt=!0}mt||t(je.h==ce(je))}if(C.Pb&&je.h&&Ve<le)t(C.m.h),C.a=5,C.m=C.wd,C.$=C.xd,0<C.s.ua&&Ae(C.s.vb,C.s.Wa);else{if(je.h)break e;he!=null&&he(C,pe>de?de:pe),C.a=0,C.$=Ve-W}return 1}return C.a=3,0}function yo(C){t(C!=null),C.vc=null,C.yc=null,C.Ya=null;var O=C.Wa;O!=null&&(O.X=null),C.vb=null,t(C!=null)}function Pf(){var C=new Cn;return C==null?null:(C.a=0,C.xb=Cb,zn("Predictor","VP8LPredictors"),zn("Predictor","VP8LPredictors_C"),zn("PredictorAdd","VP8LPredictorsAdd"),zn("PredictorAdd","VP8LPredictorsAdd_C"),Qi=et,$f=wt,Sd=Bn,Pc=pn,Ll=cn,jo=on,Ac=Dn,T.VP8LMapColor32b=Ec,T.VP8LMapColor8b=_d,C)}function wc(C,O,W,Z,le){var de=1,he=[C],pe=[O],ge=Z.m,je=Z.s,Te=null,Ve=0;e:for(;;){if(W)for(;de&&ee(ge,1);){var Ne=he,Le=pe,Re=Z,Ze=1,Be=Re.m,Je=Re.gc[Re.ab],nt=ee(Be,2);if(Re.Oc&1<<nt)de=0;else{switch(Re.Oc|=1<<nt,Je.hc=nt,Je.Ea=Ne[0],Je.nc=Le[0],Je.K=[null],++Re.ab,t(4>=Re.ab),nt){case 0:case 1:Je.b=ee(Be,3)+2,Ze=wc(ze(Je.Ea,Je.b),ze(Je.nc,Je.b),0,Re,Je.K),Je.K=Je.K[0];break;case 3:var mt,ct=ee(Be,8)+1,en=16<ct?0:4<ct?1:2<ct?2:3;if(Ne[0]=ze(Je.Ea,en),Je.b=en,mt=Ze=wc(ct,1,0,Re,Je.K)){var Ut,Xn=ct,Yt=Je,pr=1<<(8>>Yt.b),es=a(pr);if(es==null)mt=0;else{var Zn=Yt.K[0],Xt=Yt.w;for(es[0]=Yt.K[0][0],Ut=1;Ut<1*Xn;++Ut)es[Ut]=lt(Zn[Xt+Ut],es[Ut-1]);for(;Ut<4*pr;++Ut)es[Ut]=0;Yt.K[0]=null,Yt.K[0]=es,mt=1}}Ze=mt;break;case 2:break;default:t(0)}de=Ze}}if(he=he[0],pe=pe[0],de&&ee(ge,1)&&!(de=1<=(Ve=ee(ge,4))&&11>=Ve)){Z.a=3;break e}var Pt;if(Pt=de)t:{var ka,qn,jr,Ai=Z,Ps=he,So=pe,ha=Ve,Xs=W,ko=Ai.m,ts=Ai.s,Sr=[null],Gr=1,ma=0,Yr=$e[ha];n:for(;;){if(Xs&&ee(ko,1)){var As=ee(ko,3)+2,Tu=ze(Ps,As),Ca=ze(So,As),dl=Tu*Ca;if(!wc(Tu,Ca,0,Ai,Sr))break n;for(Sr=Sr[0],ts.xc=As,ka=0;ka<dl;++ka){var ci=Sr[ka]>>8&65535;Sr[ka]=ci,ci>=Gr&&(Gr=ci+1)}}if(ko.h)break n;for(qn=0;5>qn;++qn){var ns=q[qn];!qn&&0<ha&&(ns+=1<<ha),ma<ns&&(ma=ns)}var Il=o(Gr*Yr,B),Co=Gr,Dl=o(Co,K);if(Dl==null)var Rl=null;else t(65536>=Co),Rl=Dl;var fl=a(ma);if(Rl==null||fl==null||Il==null){Ai.a=1;break n}var $l=Il;for(ka=jr=0;ka<Gr;++ka){var xi=Rl[ka],Fl=xi.G,Ou=xi.H,og=0,Ff=1,Ts=0;for(qn=0;5>qn;++qn){ns=q[qn],Fl[qn]=$l,Ou[qn]=jr,!qn&&0<ha&&(ns+=1<<ha);i:{var vN,EA=ns,xN=Ai,Ab=fl,Kbe=$l,Gbe=jr,PA=0,um=xN.m,Ybe=ee(um,1);if(i(Ab,0,0,EA),Ybe){var Xbe=ee(um,1)+1,Zbe=ee(um,1),P7=ee(um,Zbe==0?1:8);Ab[P7]=1,Xbe==2&&(Ab[P7=ee(um,8)]=1);var yN=1}else{var A7=a(19),T7=ee(um,4)+4;if(19<T7){xN.a=3;var bN=0;break i}for(vN=0;vN<T7;++vN)A7[fe[vN]]=ee(um,3);var AA=void 0,Tb=void 0,O7=xN,Qbe=A7,wN=EA,L7=Ab,TA=0,dm=O7.m,M7=8,I7=o(128,B);r:for(;I(I7,0,7,Qbe,19);){if(ee(dm,1)){var Jbe=2+2*ee(dm,3);if((AA=2+ee(dm,Jbe))>wN)break r}else AA=wN;for(Tb=0;Tb<wN&&AA--;){oe(dm);var D7=I7[0+(127&ie(dm))];te(dm,dm.u+D7.g);var ex=D7.value;if(16>ex)L7[Tb++]=ex,ex!=0&&(M7=ex);else{var e1e=ex==16,R7=ex-16,t1e=A[R7],$7=ee(dm,N[R7])+t1e;if(Tb+$7>wN)break r;for(var n1e=e1e?M7:0;0<$7--;)L7[Tb++]=n1e}}TA=1;break r}TA||(O7.a=3),yN=TA}(yN=yN&&!um.h)&&(PA=I(Kbe,Gbe,8,Ab,EA)),yN&&PA!=0?bN=PA:(xN.a=3,bN=0)}if(bN==0)break n;if(Ff&&J[qn]==1&&(Ff=$l[jr].g==0),og+=$l[jr].g,jr+=bN,3>=qn){var Ob,OA=fl[0];for(Ob=1;Ob<ns;++Ob)fl[Ob]>OA&&(OA=fl[Ob]);Ts+=OA}}if(xi.nd=Ff,xi.Qb=0,Ff&&(xi.qb=(Fl[3][Ou[3]+0].value<<24|Fl[1][Ou[1]+0].value<<16|Fl[2][Ou[2]+0].value)>>>0,og==0&&256>Fl[0][Ou[0]+0].value&&(xi.Qb=1,xi.qb+=Fl[0][Ou[0]+0].value<<8)),xi.jc=!xi.Qb&&6>Ts,xi.jc){var jN,Bf=xi;for(jN=0;jN<kc;++jN){var fm=jN,hm=Bf.pd[fm],NN=Bf.G[0][Bf.H[0]+fm];256<=NN.value?(hm.g=NN.g+256,hm.value=NN.value):(hm.g=0,hm.value=0,fm>>=Et(NN,8,hm),fm>>=Et(Bf.G[1][Bf.H[1]+fm],16,hm),fm>>=Et(Bf.G[2][Bf.H[2]+fm],0,hm),Et(Bf.G[3][Bf.H[3]+fm],24,hm))}}}ts.vc=Sr,ts.Wb=Gr,ts.Ya=Rl,ts.yc=Il,Pt=1;break t}Pt=0}if(!(de=Pt)){Z.a=3;break e}if(0<Ve){if(je.ua=1<<Ve,!X(je.Wa,Ve)){Z.a=1,de=0;break e}}else je.ua=0;var LA=Z,F7=he,r1e=pe,MA=LA.s,IA=MA.xc;if(LA.c=F7,LA.i=r1e,MA.md=ze(F7,IA),MA.wc=IA==0?-1:(1<<IA)-1,W){Z.xb=_A;break e}if((Te=a(he*pe))==null){Z.a=1,de=0;break e}de=(de=gs(Z,Te,0,he,pe,pe,null))&&!ge.h;break e}return de?(le!=null?le[0]=Te:(t(Te==null),t(W)),Z.$=0,W||yo(je)):yo(je),de}function Af(C,O){var W=C.c*C.i,Z=W+O+16*O;return t(C.c<=O),C.V=a(Z),C.V==null?(C.Ta=null,C.Ua=0,C.a=1,0):(C.Ta=C.V,C.Ua=C.Ba+W+O,1)}function Hh(C,O){var W=C.C,Z=O-W,le=C.V,de=C.Ba+C.c*W;for(t(O<=C.l.o);0<Z;){var he=16<Z?16:Z,pe=C.l.ma,ge=C.l.width,je=ge*he,Te=pe.ca,Ve=pe.tb+ge*W,Ne=C.Ta,Le=C.Ua;qs(C,he,le,de),cN(Ne,Le,Te,Ve,je),el(pe,W,W+he,Te,Ve,ge),Z-=he,le+=he*C.c,W+=he}t(W==O),C.C=C.Ma=O}function Tf(){this.ub=this.yd=this.td=this.Rb=0}function Kh(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Gh(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function qp(){this.Yb=function(){var C=[];return function O(W,Z,le){for(var de=le[Z],he=0;he<de&&(W.push(le.length>Z+1?[]:0),!(le.length<Z+1));he++)O(W[he],Z+1,le)}(C,0,[3,11]),C}()}function Bv(){this.jb=a(3),this.Wc=l([4,8],qp),this.Xc=l([4,17],qp)}function zv(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function nl(){this.ld=this.La=this.dd=this.tc=0}function Up(){this.Na=this.la=0}function Yh(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function fu(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Wp(){this.uc=this.M=this.Nb=0,this.wa=Array(new nl),this.Y=0,this.ya=Array(new fu),this.aa=0,this.l=new Dr}function Hp(){this.y=a(16),this.f=a(8),this.ea=a(8)}function xd(){this.cb=this.a=0,this.sc="",this.m=new z,this.Od=new Tf,this.Kc=new Kh,this.ed=new zv,this.Qa=new Gh,this.Ic=this.$c=this.Aa=0,this.D=new Wp,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,z),this.ia=0,this.pb=o(4,Yh),this.Pa=new Bv,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Hp),this.Hd=0,this.rb=Array(new Up),this.sb=0,this.wa=Array(new nl),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new fu),this.L=this.aa=0,this.gd=l([4,2],nl),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Vn(C,O){return 0>C?0:C>O?O:C}function Dr(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Xh(){var C=new xd;return C!=null&&(C.a=0,C.sc="OK",C.cb=0,C.Xb=0,un||(un=On)),C}function oi(C,O,W){return C.a==0&&(C.a=O,C.sc=W,C.cb=0),0}function hu(C,O,W){return 3<=W&&C[O+0]==157&&C[O+1]==1&&C[O+2]==42}function rl(C,O){if(C==null)return 0;if(C.a=0,C.sc="OK",O==null)return oi(C,2,"null VP8Io passed to VP8GetHeaders()");var W=O.data,Z=O.w,le=O.ha;if(4>le)return oi(C,7,"Truncated header.");var de=W[Z+0]|W[Z+1]<<8|W[Z+2]<<16,he=C.Od;if(he.Rb=!(1&de),he.td=de>>1&7,he.yd=de>>4&1,he.ub=de>>5,3<he.td)return oi(C,3,"Incorrect keyframe parameters.");if(!he.yd)return oi(C,4,"Frame not displayable.");Z+=3,le-=3;var pe=C.Kc;if(he.Rb){if(7>le)return oi(C,7,"cannot parse picture header");if(!hu(W,Z,le))return oi(C,3,"Bad code word");pe.c=16383&(W[Z+4]<<8|W[Z+3]),pe.Td=W[Z+4]>>6,pe.i=16383&(W[Z+6]<<8|W[Z+5]),pe.Ud=W[Z+6]>>6,Z+=7,le-=7,C.za=pe.c+15>>4,C.Ub=pe.i+15>>4,O.width=pe.c,O.height=pe.i,O.Da=0,O.j=0,O.v=0,O.va=O.width,O.o=O.height,O.da=0,O.ib=O.width,O.hb=O.height,O.U=O.width,O.T=O.height,i((de=C.Pa).jb,0,255,de.jb.length),t((de=C.Qa)!=null),de.Cb=0,de.Bb=0,de.Fb=1,i(de.Zb,0,0,de.Zb.length),i(de.Lb,0,0,de.Lb)}if(he.ub>le)return oi(C,7,"bad partition length");Y(de=C.m,W,Z,he.ub),Z+=he.ub,le-=he.ub,he.Rb&&(pe.Ld=ne(de),pe.Kd=ne(de)),pe=C.Qa;var ge,je=C.Pa;if(t(de!=null),t(pe!=null),pe.Cb=ne(de),pe.Cb){if(pe.Bb=ne(de),ne(de)){for(pe.Fb=ne(de),ge=0;4>ge;++ge)pe.Zb[ge]=ne(de)?H(de,7):0;for(ge=0;4>ge;++ge)pe.Lb[ge]=ne(de)?H(de,6):0}if(pe.Bb)for(ge=0;3>ge;++ge)je.jb[ge]=ne(de)?Q(de,8):255}else pe.Bb=0;if(de.Ka)return oi(C,3,"cannot parse segment header");if((pe=C.ed).zd=ne(de),pe.Tb=Q(de,6),pe.wb=Q(de,3),pe.Pc=ne(de),pe.Pc&&ne(de)){for(je=0;4>je;++je)ne(de)&&(pe.vd[je]=H(de,6));for(je=0;4>je;++je)ne(de)&&(pe.od[je]=H(de,6))}if(C.L=pe.Tb==0?0:pe.zd?1:2,de.Ka)return oi(C,3,"cannot parse filter header");var Te=le;if(le=ge=Z,Z=ge+Te,pe=Te,C.Xb=(1<<Q(C.m,2))-1,Te<3*(je=C.Xb))W=7;else{for(ge+=3*je,pe-=3*je,Te=0;Te<je;++Te){var Ve=W[le+0]|W[le+1]<<8|W[le+2]<<16;Ve>pe&&(Ve=pe),Y(C.Jc[+Te],W,ge,Ve),ge+=Ve,pe-=Ve,le+=3}Y(C.Jc[+je],W,ge,pe),W=ge<Z?0:5}if(W!=0)return oi(C,W,"cannot parse partitions");for(W=Q(ge=C.m,7),le=ne(ge)?H(ge,4):0,Z=ne(ge)?H(ge,4):0,pe=ne(ge)?H(ge,4):0,je=ne(ge)?H(ge,4):0,ge=ne(ge)?H(ge,4):0,Te=C.Qa,Ve=0;4>Ve;++Ve){if(Te.Cb){var Ne=Te.Zb[Ve];Te.Fb||(Ne+=W)}else{if(0<Ve){C.pb[Ve]=C.pb[0];continue}Ne=W}var Le=C.pb[Ve];Le.Sc[0]=ot[Vn(Ne+le,127)],Le.Sc[1]=It[Vn(Ne+0,127)],Le.Eb[0]=2*ot[Vn(Ne+Z,127)],Le.Eb[1]=101581*It[Vn(Ne+pe,127)]>>16,8>Le.Eb[1]&&(Le.Eb[1]=8),Le.Qc[0]=ot[Vn(Ne+je,117)],Le.Qc[1]=It[Vn(Ne+ge,127)],Le.lc=Ne+ge}if(!he.Rb)return oi(C,4,"Not a key frame.");for(ne(de),he=C.Pa,W=0;4>W;++W){for(le=0;8>le;++le)for(Z=0;3>Z;++Z)for(pe=0;11>pe;++pe)je=xe(de,cm[W][le][Z][pe])?Q(de,8):ul[W][le][Z][pe],he.Wc[W][le].Yb[Z][pe]=je;for(le=0;17>le;++le)he.Xc[W][le]=he.Wc[W][NA[le]]}return C.kc=ne(de),C.kc&&(C.Bd=Q(de,8)),C.cb=1}function On(C,O,W,Z,le,de,he){var pe=O[le].Yb[W];for(W=0;16>le;++le){if(!xe(C,pe[W+0]))return le;for(;!xe(C,pe[W+1]);)if(pe=O[++le].Yb[0],W=0,le==16)return 16;var ge=O[le+1].Yb;if(xe(C,pe[W+2])){var je=C,Te=0;if(xe(je,(Ne=pe)[(Ve=W)+3]))if(xe(je,Ne[Ve+6])){for(pe=0,Ve=2*(Te=xe(je,Ne[Ve+8]))+(Ne=xe(je,Ne[Ve+9+Te])),Te=0,Ne=tr[Ve];Ne[pe];++pe)Te+=Te+xe(je,Ne[pe]);Te+=3+(8<<Ve)}else xe(je,Ne[Ve+7])?(Te=7+2*xe(je,165),Te+=xe(je,145)):Te=5+xe(je,159);else Te=xe(je,Ne[Ve+4])?3+xe(je,Ne[Ve+5]):2;pe=ge[2]}else Te=1,pe=ge[1];ge=he+Cs[le],0>(je=C).b&&ve(je);var Ve,Ne=je.b,Le=(Ve=je.Ca>>1)-(je.I>>Ne)>>31;--je.b,je.Ca+=Le,je.Ca|=1,je.I-=(Ve+1&Le)<<Ne,de[ge]=((Te^Le)-Le)*Z[(0<le)+0]}return 16}function vi(C){var O=C.rb[C.sb-1];O.la=0,O.Na=0,i(C.zc,0,0,C.zc.length),C.ja=0}function Us(C,O,W,Z,le){le=C[O+W+32*Z]+(le>>3),C[O+W+32*Z]=-256&le?0>le?0:255:le}function Ui(C,O,W,Z,le,de){Us(C,O,0,W,Z+le),Us(C,O,1,W,Z+de),Us(C,O,2,W,Z-de),Us(C,O,3,W,Z-le)}function ca(C){return(20091*C>>16)+C}function Vv(C,O,W,Z){var le,de=0,he=a(16);for(le=0;4>le;++le){var pe=C[O+0]+C[O+8],ge=C[O+0]-C[O+8],je=(35468*C[O+4]>>16)-ca(C[O+12]),Te=ca(C[O+4])+(35468*C[O+12]>>16);he[de+0]=pe+Te,he[de+1]=ge+je,he[de+2]=ge-je,he[de+3]=pe-Te,de+=4,O++}for(le=de=0;4>le;++le)pe=(C=he[de+0]+4)+he[de+8],ge=C-he[de+8],je=(35468*he[de+4]>>16)-ca(he[de+12]),Us(W,Z,0,0,pe+(Te=ca(he[de+4])+(35468*he[de+12]>>16))),Us(W,Z,1,0,ge+je),Us(W,Z,2,0,ge-je),Us(W,Z,3,0,pe-Te),de++,Z+=32}function Zh(C,O,W,Z){var le=C[O+0]+4,de=35468*C[O+4]>>16,he=ca(C[O+4]),pe=35468*C[O+1]>>16;Ui(W,Z,0,le+he,C=ca(C[O+1]),pe),Ui(W,Z,1,le+de,C,pe),Ui(W,Z,2,le-de,C,pe),Ui(W,Z,3,le-he,C,pe)}function mu(C,O,W,Z,le){Vv(C,O,W,Z),le&&Vv(C,O+16,W,Z+4)}function Mr(C,O,W,Z){kd(C,O+0,W,Z,1),kd(C,O+32,W,Z+128,1)}function jc(C,O,W,Z){var le;for(C=C[O+0]+4,le=0;4>le;++le)for(O=0;4>O;++O)Us(W,Z,O,le,C)}function yd(C,O,W,Z){C[O+0]&&Tr(C,O+0,W,Z),C[O+16]&&Tr(C,O+16,W,Z+4),C[O+32]&&Tr(C,O+32,W,Z+128),C[O+48]&&Tr(C,O+48,W,Z+128+4)}function Nc(C,O,W,Z){var le,de=a(16);for(le=0;4>le;++le){var he=C[O+0+le]+C[O+12+le],pe=C[O+4+le]+C[O+8+le],ge=C[O+4+le]-C[O+8+le],je=C[O+0+le]-C[O+12+le];de[0+le]=he+pe,de[8+le]=he-pe,de[4+le]=je+ge,de[12+le]=je-ge}for(le=0;4>le;++le)he=(C=de[0+4*le]+3)+de[3+4*le],pe=de[1+4*le]+de[2+4*le],ge=de[1+4*le]-de[2+4*le],je=C-de[3+4*le],W[Z+0]=he+pe>>3,W[Z+16]=je+ge>>3,W[Z+32]=he-pe>>3,W[Z+48]=je-ge>>3,Z+=64}function pu(C,O,W){var Z,le=O-32,de=Gs,he=255-C[le-1];for(Z=0;Z<W;++Z){var pe,ge=de,je=he+C[O-1];for(pe=0;pe<W;++pe)C[O+pe]=ge[je+C[le+pe]];O+=32}}function Of(C,O){pu(C,O,4)}function Kp(C,O){pu(C,O,8)}function Gp(C,O){pu(C,O,16)}function bd(C,O){var W;for(W=0;16>W;++W)r(C,O+32*W,C,O-32,16)}function Qh(C,O){var W;for(W=16;0<W;--W)i(C,O,C[O-1],16),O+=32}function bo(C,O,W){var Z;for(Z=0;16>Z;++Z)i(O,W+32*Z,C,16)}function Jh(C,O){var W,Z=16;for(W=0;16>W;++W)Z+=C[O-1+32*W]+C[O+W-32];bo(Z>>5,C,O)}function wd(C,O){var W,Z=8;for(W=0;16>W;++W)Z+=C[O-1+32*W];bo(Z>>4,C,O)}function Lf(C,O){var W,Z=8;for(W=0;16>W;++W)Z+=C[O+W-32];bo(Z>>4,C,O)}function bb(C,O){bo(128,C,O)}function St(C,O,W){return C+2*O+W+2>>2}function il(C,O){var W,Z=O-32;for(Z=new Uint8Array([St(C[Z-1],C[Z+0],C[Z+1]),St(C[Z+0],C[Z+1],C[Z+2]),St(C[Z+1],C[Z+2],C[Z+3]),St(C[Z+2],C[Z+3],C[Z+4])]),W=0;4>W;++W)r(C,O+32*W,Z,0,Z.length)}function Rr(C,O){var W=C[O-1],Z=C[O-1+32],le=C[O-1+64],de=C[O-1+96];ue(C,O+0,16843009*St(C[O-1-32],W,Z)),ue(C,O+32,16843009*St(W,Z,le)),ue(C,O+64,16843009*St(Z,le,de)),ue(C,O+96,16843009*St(le,de,de))}function qv(C,O){var W,Z=4;for(W=0;4>W;++W)Z+=C[O+W-32]+C[O-1+32*W];for(Z>>=3,W=0;4>W;++W)i(C,O+32*W,Z,4)}function Pl(C,O){var W=C[O-1+0],Z=C[O-1+32],le=C[O-1+64],de=C[O-1-32],he=C[O+0-32],pe=C[O+1-32],ge=C[O+2-32],je=C[O+3-32];C[O+0+96]=St(Z,le,C[O-1+96]),C[O+1+96]=C[O+0+64]=St(W,Z,le),C[O+2+96]=C[O+1+64]=C[O+0+32]=St(de,W,Z),C[O+3+96]=C[O+2+64]=C[O+1+32]=C[O+0+0]=St(he,de,W),C[O+3+64]=C[O+2+32]=C[O+1+0]=St(pe,he,de),C[O+3+32]=C[O+2+0]=St(ge,pe,he),C[O+3+0]=St(je,ge,pe)}function Al(C,O){var W=C[O+1-32],Z=C[O+2-32],le=C[O+3-32],de=C[O+4-32],he=C[O+5-32],pe=C[O+6-32],ge=C[O+7-32];C[O+0+0]=St(C[O+0-32],W,Z),C[O+1+0]=C[O+0+32]=St(W,Z,le),C[O+2+0]=C[O+1+32]=C[O+0+64]=St(Z,le,de),C[O+3+0]=C[O+2+32]=C[O+1+64]=C[O+0+96]=St(le,de,he),C[O+3+32]=C[O+2+64]=C[O+1+96]=St(de,he,pe),C[O+3+64]=C[O+2+96]=St(he,pe,ge),C[O+3+96]=St(pe,ge,ge)}function Yp(C,O){var W=C[O-1+0],Z=C[O-1+32],le=C[O-1+64],de=C[O-1-32],he=C[O+0-32],pe=C[O+1-32],ge=C[O+2-32],je=C[O+3-32];C[O+0+0]=C[O+1+64]=de+he+1>>1,C[O+1+0]=C[O+2+64]=he+pe+1>>1,C[O+2+0]=C[O+3+64]=pe+ge+1>>1,C[O+3+0]=ge+je+1>>1,C[O+0+96]=St(le,Z,W),C[O+0+64]=St(Z,W,de),C[O+0+32]=C[O+1+96]=St(W,de,he),C[O+1+32]=C[O+2+96]=St(de,he,pe),C[O+2+32]=C[O+3+96]=St(he,pe,ge),C[O+3+32]=St(pe,ge,je)}function gu(C,O){var W=C[O+0-32],Z=C[O+1-32],le=C[O+2-32],de=C[O+3-32],he=C[O+4-32],pe=C[O+5-32],ge=C[O+6-32],je=C[O+7-32];C[O+0+0]=W+Z+1>>1,C[O+1+0]=C[O+0+64]=Z+le+1>>1,C[O+2+0]=C[O+1+64]=le+de+1>>1,C[O+3+0]=C[O+2+64]=de+he+1>>1,C[O+0+32]=St(W,Z,le),C[O+1+32]=C[O+0+96]=St(Z,le,de),C[O+2+32]=C[O+1+96]=St(le,de,he),C[O+3+32]=C[O+2+96]=St(de,he,pe),C[O+3+64]=St(he,pe,ge),C[O+3+96]=St(pe,ge,je)}function jd(C,O){var W=C[O-1+0],Z=C[O-1+32],le=C[O-1+64],de=C[O-1+96];C[O+0+0]=W+Z+1>>1,C[O+2+0]=C[O+0+32]=Z+le+1>>1,C[O+2+32]=C[O+0+64]=le+de+1>>1,C[O+1+0]=St(W,Z,le),C[O+3+0]=C[O+1+32]=St(Z,le,de),C[O+3+32]=C[O+1+64]=St(le,de,de),C[O+3+64]=C[O+2+64]=C[O+0+96]=C[O+1+96]=C[O+2+96]=C[O+3+96]=de}function vu(C,O){var W=C[O-1+0],Z=C[O-1+32],le=C[O-1+64],de=C[O-1+96],he=C[O-1-32],pe=C[O+0-32],ge=C[O+1-32],je=C[O+2-32];C[O+0+0]=C[O+2+32]=W+he+1>>1,C[O+0+32]=C[O+2+64]=Z+W+1>>1,C[O+0+64]=C[O+2+96]=le+Z+1>>1,C[O+0+96]=de+le+1>>1,C[O+3+0]=St(pe,ge,je),C[O+2+0]=St(he,pe,ge),C[O+1+0]=C[O+3+32]=St(W,he,pe),C[O+1+32]=C[O+3+64]=St(Z,W,he),C[O+1+64]=C[O+3+96]=St(le,Z,W),C[O+1+96]=St(de,le,Z)}function Ei(C,O){var W;for(W=0;8>W;++W)r(C,O+32*W,C,O-32,8)}function xu(C,O){var W;for(W=0;8>W;++W)i(C,O,C[O-1],8),O+=32}function _c(C,O,W){var Z;for(Z=0;8>Z;++Z)i(O,W+32*Z,C,8)}function Uv(C,O){var W,Z=8;for(W=0;8>W;++W)Z+=C[O+W-32]+C[O-1+32*W];_c(Z>>4,C,O)}function Xp(C,O){var W,Z=4;for(W=0;8>W;++W)Z+=C[O+W-32];_c(Z>>3,C,O)}function em(C,O){var W,Z=4;for(W=0;8>W;++W)Z+=C[O-1+32*W];_c(Z>>3,C,O)}function tm(C,O){_c(128,C,O)}function yu(C,O,W){var Z=C[O-W],le=C[O+0],de=3*(le-Z)+lm[1020+C[O-2*W]-C[O+W]],he=Cd[112+(de+4>>3)];C[O-W]=Gs[255+Z+Cd[112+(de+3>>3)]],C[O+0]=Gs[255+le-he]}function nm(C,O,W,Z){var le=C[O+0],de=C[O+W];return _o[255+C[O-2*W]-C[O-W]]>Z||_o[255+de-le]>Z}function Yn(C,O,W,Z){return 4*_o[255+C[O-W]-C[O+0]]+_o[255+C[O-2*W]-C[O+W]]<=Z}function Zp(C,O,W,Z,le){var de=C[O-3*W],he=C[O-2*W],pe=C[O-W],ge=C[O+0],je=C[O+W],Te=C[O+2*W],Ve=C[O+3*W];return 4*_o[255+pe-ge]+_o[255+he-je]>Z?0:_o[255+C[O-4*W]-de]<=le&&_o[255+de-he]<=le&&_o[255+he-pe]<=le&&_o[255+Ve-Te]<=le&&_o[255+Te-je]<=le&&_o[255+je-ge]<=le}function Za(C,O,W,Z){var le=2*Z+1;for(Z=0;16>Z;++Z)Yn(C,O+Z,W,le)&&yu(C,O+Z,W)}function bu(C,O,W,Z){var le=2*Z+1;for(Z=0;16>Z;++Z)Yn(C,O+Z*W,1,le)&&yu(C,O+Z*W,1)}function Qp(C,O,W,Z){var le;for(le=3;0<le;--le)Za(C,O+=4*W,W,Z)}function Wv(C,O,W,Z){var le;for(le=3;0<le;--le)bu(C,O+=4,W,Z)}function Tl(C,O,W,Z,le,de,he,pe){for(de=2*de+1;0<le--;){if(Zp(C,O,W,de,he))if(nm(C,O,W,pe))yu(C,O,W);else{var ge=C,je=O,Te=W,Ve=ge[je-2*Te],Ne=ge[je-Te],Le=ge[je+0],Re=ge[je+Te],Ze=ge[je+2*Te],Be=27*(nt=lm[1020+3*(Le-Ne)+lm[1020+Ve-Re]])+63>>7,Je=18*nt+63>>7,nt=9*nt+63>>7;ge[je-3*Te]=Gs[255+ge[je-3*Te]+nt],ge[je-2*Te]=Gs[255+Ve+Je],ge[je-Te]=Gs[255+Ne+Be],ge[je+0]=Gs[255+Le-Be],ge[je+Te]=Gs[255+Re-Je],ge[je+2*Te]=Gs[255+Ze-nt]}O+=Z}}function wu(C,O,W,Z,le,de,he,pe){for(de=2*de+1;0<le--;){if(Zp(C,O,W,de,he))if(nm(C,O,W,pe))yu(C,O,W);else{var ge=C,je=O,Te=W,Ve=ge[je-Te],Ne=ge[je+0],Le=ge[je+Te],Re=Cd[112+(4+(Ze=3*(Ne-Ve))>>3)],Ze=Cd[112+(Ze+3>>3)],Be=Re+1>>1;ge[je-2*Te]=Gs[255+ge[je-2*Te]+Be],ge[je-Te]=Gs[255+Ve+Ze],ge[je+0]=Gs[255+Ne-Re],ge[je+Te]=Gs[255+Le-Be]}O+=Z}}function Jp(C,O,W,Z,le,de){Tl(C,O,W,1,16,Z,le,de)}function Mf(C,O,W,Z,le,de){Tl(C,O,1,W,16,Z,le,de)}function Hv(C,O,W,Z,le,de){var he;for(he=3;0<he;--he)wu(C,O+=4*W,W,1,16,Z,le,de)}function V(C,O,W,Z,le,de){var he;for(he=3;0<he;--he)wu(C,O+=4,1,W,16,Z,le,de)}function se(C,O,W,Z,le,de,he,pe){Tl(C,O,le,1,8,de,he,pe),Tl(W,Z,le,1,8,de,he,pe)}function be(C,O,W,Z,le,de,he,pe){Tl(C,O,1,le,8,de,he,pe),Tl(W,Z,1,le,8,de,he,pe)}function Ee(C,O,W,Z,le,de,he,pe){wu(C,O+4*le,le,1,8,de,he,pe),wu(W,Z+4*le,le,1,8,de,he,pe)}function Ie(C,O,W,Z,le,de,he,pe){wu(C,O+4,1,le,8,de,he,pe),wu(W,Z+4,1,le,8,de,he,pe)}function Ye(){this.ba=new Jt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Mn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function st(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Bt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Ht(){this.ua=0,this.Wa=new qe,this.vb=new qe,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new K,this.yc=new B}function Cn(){this.xb=this.a=0,this.l=new Dr,this.ca=new Jt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new F,this.Pb=0,this.wd=new F,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Ht,this.ab=0,this.gc=o(4,Bt),this.Oc=0}function Rn(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Dr,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function hr(C,O,W,Z,le,de,he){for(C=C==null?0:C[O+0],O=0;O<he;++O)le[de+O]=C+W[Z+O]&255,C=le[de+O]}function Pi(C,O,W,Z,le,de,he){var pe;if(C==null)hr(null,null,W,Z,le,de,he);else for(pe=0;pe<he;++pe)le[de+pe]=C[O+pe]+W[Z+pe]&255}function ua(C,O,W,Z,le,de,he){if(C==null)hr(null,null,W,Z,le,de,he);else{var pe,ge=C[O+0],je=ge,Te=ge;for(pe=0;pe<he;++pe)je=Te+(ge=C[O+pe])-je,Te=W[Z+pe]+(-256&je?0>je?0:255:je)&255,je=ge,le[de+pe]=Te}}function $r(C,O,W,Z){var le=O.width,de=O.o;if(t(C!=null&&O!=null),0>W||0>=Z||W+Z>de)return null;if(!C.Cc){if(C.ga==null){var he;if(C.ga=new Rn,(he=C.ga==null)||(he=O.width*O.o,t(C.Gb.length==0),C.Gb=a(he),C.Uc=0,C.Gb==null?he=0:(C.mb=C.Gb,C.nb=C.Uc,C.rc=null,he=1),he=!he),!he){he=C.ga;var pe=C.Fa,ge=C.P,je=C.qc,Te=C.mb,Ve=C.nb,Ne=ge+1,Le=je-1,Re=he.l;if(t(pe!=null&&Te!=null&&O!=null),Kr[0]=null,Kr[1]=hr,Kr[2]=Pi,Kr[3]=ua,he.ca=Te,he.tb=Ve,he.c=O.width,he.i=O.height,t(0<he.c&&0<he.i),1>=je)O=0;else if(he.$a=3&pe[ge+0],he.Z=pe[ge+0]>>2&3,he.Lc=pe[ge+0]>>4&3,ge=pe[ge+0]>>6&3,0>he.$a||1<he.$a||4<=he.Z||1<he.Lc||ge)O=0;else if(Re.put=Gt,Re.ac=Xi,Re.bc=Wr,Re.ma=he,Re.width=O.width,Re.height=O.height,Re.Da=O.Da,Re.v=O.v,Re.va=O.va,Re.j=O.j,Re.o=O.o,he.$a)e:{t(he.$a==1),O=Pf();t:for(;;){if(O==null){O=0;break e}if(t(he!=null),he.mc=O,O.c=he.c,O.i=he.i,O.l=he.l,O.l.ma=he,O.l.width=he.c,O.l.height=he.i,O.a=0,G(O.m,pe,Ne,Le),!wc(he.c,he.i,1,O,null)||(O.ab==1&&O.gc[0].hc==3&&Jo(O.s)?(he.ic=1,pe=O.c*O.i,O.Ta=null,O.Ua=0,O.V=a(pe),O.Ba=0,O.V==null?(O.a=1,O=0):O=1):(he.ic=0,O=Af(O,he.c)),!O))break t;O=1;break e}he.mc=null,O=0}else O=Le>=he.c*he.i;he=!O}if(he)return null;C.ga.Lc!=1?C.Ga=0:Z=de-W}t(C.ga!=null),t(W+Z<=de);e:{if(O=(pe=C.ga).c,de=pe.l.o,pe.$a==0){if(Ne=C.rc,Le=C.Vc,Re=C.Fa,ge=C.P+1+W*O,je=C.mb,Te=C.nb+W*O,t(ge<=C.P+C.qc),pe.Z!=0)for(t(Kr[pe.Z]!=null),he=0;he<Z;++he)Kr[pe.Z](Ne,Le,Re,ge,je,Te,O),Ne=je,Le=Te,Te+=O,ge+=O;else for(he=0;he<Z;++he)r(je,Te,Re,ge,O),Ne=je,Le=Te,Te+=O,ge+=O;C.rc=Ne,C.Vc=Le}else{if(t(pe.mc!=null),O=W+Z,t((he=pe.mc)!=null),t(O<=he.i),he.C>=O)O=1;else if(pe.ic||Qa(),pe.ic){pe=he.V,Ne=he.Ba,Le=he.c;var Ze=he.i,Be=(Re=1,ge=he.$/Le,je=he.$%Le,Te=he.m,Ve=he.s,he.$),Je=Le*Ze,nt=Le*O,mt=Ve.wc,ct=Be<nt?Hr(Ve,je,ge):null;t(Be<=Je),t(O<=Ze),t(Jo(Ve));t:for(;;){for(;!Te.h&&Be<nt;){if(je&mt||(ct=Hr(Ve,je,ge)),t(ct!=null),oe(Te),256>(Ze=ar(ct.G[0],ct.H[0],Te)))pe[Ne+Be]=Ze,++Be,++je>=Le&&(je=0,++ge<=O&&!(ge%16)&&tl(he,ge));else{if(!(280>Ze)){Re=0;break t}Ze=Ci(Ze-256,Te);var en,Ut=ar(ct.G[4],ct.H[4],Te);if(oe(Te),!(Be>=(Ut=qi(Le,Ut=Ci(Ut,Te)))&&Je-Be>=Ze)){Re=0;break t}for(en=0;en<Ze;++en)pe[Ne+Be+en]=pe[Ne+Be+en-Ut];for(Be+=Ze,je+=Ze;je>=Le;)je-=Le,++ge<=O&&!(ge%16)&&tl(he,ge);Be<nt&&je&mt&&(ct=Hr(Ve,je,ge))}t(Te.h==ce(Te))}tl(he,ge>O?O:ge);break t}!Re||Te.h&&Be<Je?(Re=0,he.a=Te.h?5:3):he.$=Be,O=Re}else O=gs(he,he.V,he.Ba,he.c,he.i,O,Hh);if(!O){Z=0;break e}}W+Z>=de&&(C.Cc=1),Z=1}if(!Z)return null;if(C.Cc&&((Z=C.ga)!=null&&(Z.mc=null),C.ga=null,0<C.Ga))return alert("todo:WebPDequantizeLevels"),null}return C.nb+W*le}function Na(C,O,W,Z,le,de){for(;0<le--;){var he,pe=C,ge=O+(W?1:0),je=C,Te=O+(W?0:3);for(he=0;he<Z;++he){var Ve=je[Te+4*he];Ve!=255&&(Ve*=32897,pe[ge+4*he+0]=pe[ge+4*he+0]*Ve>>23,pe[ge+4*he+1]=pe[ge+4*he+1]*Ve>>23,pe[ge+4*he+2]=pe[ge+4*he+2]*Ve>>23)}O+=de}}function Zi(C,O,W,Z,le){for(;0<Z--;){var de;for(de=0;de<W;++de){var he=C[O+2*de+0],pe=15&(je=C[O+2*de+1]),ge=4369*pe,je=(240&je|je>>4)*ge>>16;C[O+2*de+0]=(240&he|he>>4)*ge>>16&240|(15&he|he<<4)*ge>>16>>4&15,C[O+2*de+1]=240&je|pe}O+=le}}function Fa(C,O,W,Z,le,de,he,pe){var ge,je,Te=255;for(je=0;je<le;++je){for(ge=0;ge<Z;++ge){var Ve=C[O+ge];de[he+4*ge]=Ve,Te&=Ve}O+=W,he+=pe}return Te!=255}function al(C,O,W,Z,le){var de;for(de=0;de<le;++de)W[Z+de]=C[O+de]>>8}function Qa(){Oc=Na,jb=Zi,Nb=Fa,cN=al}function ju(C,O,W){T[C]=function(Z,le,de,he,pe,ge,je,Te,Ve,Ne,Le,Re,Ze,Be,Je,nt,mt){var ct,en=mt-1>>1,Ut=pe[ge+0]|je[Te+0]<<16,Xn=Ve[Ne+0]|Le[Re+0]<<16;t(Z!=null);var Yt=3*Ut+Xn+131074>>2;for(O(Z[le+0],255&Yt,Yt>>16,Ze,Be),de!=null&&(Yt=3*Xn+Ut+131074>>2,O(de[he+0],255&Yt,Yt>>16,Je,nt)),ct=1;ct<=en;++ct){var pr=pe[ge+ct]|je[Te+ct]<<16,es=Ve[Ne+ct]|Le[Re+ct]<<16,Zn=Ut+pr+Xn+es+524296,Xt=Zn+2*(pr+Xn)>>3;Yt=Xt+Ut>>1,Ut=(Zn=Zn+2*(Ut+es)>>3)+pr>>1,O(Z[le+2*ct-1],255&Yt,Yt>>16,Ze,Be+(2*ct-1)*W),O(Z[le+2*ct-0],255&Ut,Ut>>16,Ze,Be+(2*ct-0)*W),de!=null&&(Yt=Zn+Xn>>1,Ut=Xt+es>>1,O(de[he+2*ct-1],255&Yt,Yt>>16,Je,nt+(2*ct-1)*W),O(de[he+2*ct+0],255&Ut,Ut>>16,Je,nt+(2*ct+0)*W)),Ut=pr,Xn=es}1&mt||(Yt=3*Ut+Xn+131074>>2,O(Z[le+mt-1],255&Yt,Yt>>16,Ze,Be+(mt-1)*W),de!=null&&(Yt=3*Xn+Ut+131074>>2,O(de[he+mt-1],255&Yt,Yt>>16,Je,nt+(mt-1)*W)))}}function Nu(){Es[Gv]=SA,Es[ig]=fN,Es[kb]=kA,Es[ag]=Jv,Es[sg]=Eb,Es[Yv]=hN,Es[dN]=Rbe,Es[Xv]=fN,Es[Zv]=Jv,Es[Qv]=Eb,Es[p]=hN}function Ja(C){return C&-16384?0>C?0:255:C>>$be}function _u(C,O){return Ja((19077*C>>8)+(26149*O>>8)-14234)}function Nd(C,O,W){return Ja((19077*C>>8)-(6419*O>>8)-(13320*W>>8)+8708)}function If(C,O){return Ja((19077*C>>8)+(33050*O>>8)-17685)}function Sc(C,O,W,Z,le){Z[le+0]=_u(C,W),Z[le+1]=Nd(C,O,W),Z[le+2]=If(C,O)}function _a(C,O,W,Z,le){Z[le+0]=If(C,O),Z[le+1]=Nd(C,O,W),Z[le+2]=_u(C,W)}function Df(C,O,W,Z,le){var de=Nd(C,O,W);O=de<<3&224|If(C,O)>>3,Z[le+0]=248&_u(C,W)|de>>5,Z[le+1]=O}function Rf(C,O,W,Z,le){var de=240&If(C,O)|15;Z[le+0]=240&_u(C,W)|Nd(C,O,W)>>4,Z[le+1]=de}function rm(C,O,W,Z,le){Z[le+0]=255,Sc(C,O,W,Z,le+1)}function eg(C,O,W,Z,le){_a(C,O,W,Z,le),Z[le+3]=255}function li(C,O,W,Z,le){Sc(C,O,W,Z,le),Z[le+3]=255}function Ws(C,O,W){T[C]=function(Z,le,de,he,pe,ge,je,Te,Ve){for(var Ne=Te+(-2&Ve)*W;Te!=Ne;)O(Z[le+0],de[he+0],pe[ge+0],je,Te),O(Z[le+1],de[he+0],pe[ge+0],je,Te+W),le+=2,++he,++ge,Te+=2*W;1&Ve&&O(Z[le+0],de[he+0],pe[ge+0],je,Te)}}function im(C,O,W){return W==0?C==0?O==0?6:5:O==0?4:0:W}function sl(C,O,W,Z,le){switch(C>>>30){case 3:kd(O,W,Z,le,0);break;case 2:cl(O,W,Z,le);break;case 1:Tr(O,W,Z,le)}}function ol(C,O){var W,Z,le=O.M,de=O.Nb,he=C.oc,pe=C.pc+40,ge=C.oc,je=C.pc+584,Te=C.oc,Ve=C.pc+600;for(W=0;16>W;++W)he[pe+32*W-1]=129;for(W=0;8>W;++W)ge[je+32*W-1]=129,Te[Ve+32*W-1]=129;for(0<le?he[pe-1-32]=ge[je-1-32]=Te[Ve-1-32]=129:(i(he,pe-32-1,127,21),i(ge,je-32-1,127,9),i(Te,Ve-32-1,127,9)),Z=0;Z<C.za;++Z){var Ne=O.ya[O.aa+Z];if(0<Z){for(W=-1;16>W;++W)r(he,pe+32*W-4,he,pe+32*W+12,4);for(W=-1;8>W;++W)r(ge,je+32*W-4,ge,je+32*W+4,4),r(Te,Ve+32*W-4,Te,Ve+32*W+4,4)}var Le=C.Gd,Re=C.Hd+Z,Ze=Ne.ad,Be=Ne.Hc;if(0<le&&(r(he,pe-32,Le[Re].y,0,16),r(ge,je-32,Le[Re].f,0,8),r(Te,Ve-32,Le[Re].ea,0,8)),Ne.Za){var Je=he,nt=pe-32+16;for(0<le&&(Z>=C.za-1?i(Je,nt,Le[Re].y[15],4):r(Je,nt,Le[Re+1].y,0,4)),W=0;4>W;W++)Je[nt+128+W]=Je[nt+256+W]=Je[nt+384+W]=Je[nt+0+W];for(W=0;16>W;++W,Be<<=2)Je=he,nt=pe+C7[W],Ml[Ne.Ob[W]](Je,nt),sl(Be,Ze,16*+W,Je,nt)}else if(Je=im(Z,le,Ne.Ob[0]),Ed[Je](he,pe),Be!=0)for(W=0;16>W;++W,Be<<=2)sl(Be,Ze,16*+W,he,pe+C7[W]);for(W=Ne.Gc,Je=im(Z,le,Ne.Dd),Mc[Je](ge,je),Mc[Je](Te,Ve),Be=Ze,Je=ge,nt=je,255&(Ne=0|W)&&(170&Ne?No(Be,256,Je,nt):Fr(Be,256,Je,nt)),Ne=Te,Be=Ve,255&(W>>=8)&&(170&W?No(Ze,320,Ne,Be):Fr(Ze,320,Ne,Be)),le<C.Ub-1&&(r(Le[Re].y,0,he,pe+480,16),r(Le[Re].f,0,ge,je+224,8),r(Le[Re].ea,0,Te,Ve+224,8)),W=8*de*C.B,Le=C.sa,Re=C.ta+16*Z+16*de*C.R,Ze=C.qa,Ne=C.ra+8*Z+W,Be=C.Ha,Je=C.Ia+8*Z+W,W=0;16>W;++W)r(Le,Re+W*C.R,he,pe+32*W,16);for(W=0;8>W;++W)r(Ze,Ne+W*C.B,ge,je+32*W,8),r(Be,Je+W*C.B,Te,Ve+32*W,8)}}function ll(C,O,W,Z,le,de,he,pe,ge){var je=[0],Te=[0],Ve=0,Ne=ge!=null?ge.kd:0,Le=ge??new st;if(C==null||12>W)return 7;Le.data=C,Le.w=O,Le.ha=W,O=[O],W=[W],Le.gb=[Le.gb];e:{var Re=O,Ze=W,Be=Le.gb;if(t(C!=null),t(Ze!=null),t(Be!=null),Be[0]=0,12<=Ze[0]&&!n(C,Re[0],"RIFF")){if(n(C,Re[0]+8,"WEBP")){Be=3;break e}var Je=ae(C,Re[0]+4);if(12>Je||4294967286<Je){Be=3;break e}if(Ne&&Je>Ze[0]-8){Be=7;break e}Be[0]=Je,Re[0]+=12,Ze[0]-=12}Be=0}if(Be!=0)return Be;for(Je=0<Le.gb[0],W=W[0];;){e:{var nt=C;Ze=O,Be=W;var mt=je,ct=Te,en=Re=[0];if((Yt=Ve=[Ve])[0]=0,8>Be[0])Be=7;else{if(!n(nt,Ze[0],"VP8X")){if(ae(nt,Ze[0]+4)!=10){Be=3;break e}if(18>Be[0]){Be=7;break e}var Ut=ae(nt,Ze[0]+8),Xn=1+Se(nt,Ze[0]+12);if(2147483648<=Xn*(nt=1+Se(nt,Ze[0]+15))){Be=3;break e}en!=null&&(en[0]=Ut),mt!=null&&(mt[0]=Xn),ct!=null&&(ct[0]=nt),Ze[0]+=18,Be[0]-=18,Yt[0]=1}Be=0}}if(Ve=Ve[0],Re=Re[0],Be!=0)return Be;if(Ze=!!(2&Re),!Je&&Ve)return 3;if(de!=null&&(de[0]=!!(16&Re)),he!=null&&(he[0]=Ze),pe!=null&&(pe[0]=0),he=je[0],Re=Te[0],Ve&&Ze&&ge==null){Be=0;break}if(4>W){Be=7;break}if(Je&&Ve||!Je&&!Ve&&!n(C,O[0],"ALPH")){W=[W],Le.na=[Le.na],Le.P=[Le.P],Le.Sa=[Le.Sa];e:{Ut=C,Be=O,Je=W;var Yt=Le.gb;mt=Le.na,ct=Le.P,en=Le.Sa,Xn=22,t(Ut!=null),t(Je!=null),nt=Be[0];var pr=Je[0];for(t(mt!=null),t(en!=null),mt[0]=null,ct[0]=null,en[0]=0;;){if(Be[0]=nt,Je[0]=pr,8>pr){Be=7;break e}var es=ae(Ut,nt+4);if(4294967286<es){Be=3;break e}var Zn=8+es+1&-2;if(Xn+=Zn,0<Yt&&Xn>Yt){Be=3;break e}if(!n(Ut,nt,"VP8 ")||!n(Ut,nt,"VP8L")){Be=0;break e}if(pr[0]<Zn){Be=7;break e}n(Ut,nt,"ALPH")||(mt[0]=Ut,ct[0]=nt+8,en[0]=es),nt+=Zn,pr-=Zn}}if(W=W[0],Le.na=Le.na[0],Le.P=Le.P[0],Le.Sa=Le.Sa[0],Be!=0)break}W=[W],Le.Ja=[Le.Ja],Le.xa=[Le.xa];e:if(Yt=C,Be=O,Je=W,mt=Le.gb[0],ct=Le.Ja,en=Le.xa,Ut=Be[0],nt=!n(Yt,Ut,"VP8 "),Xn=!n(Yt,Ut,"VP8L"),t(Yt!=null),t(Je!=null),t(ct!=null),t(en!=null),8>Je[0])Be=7;else{if(nt||Xn){if(Yt=ae(Yt,Ut+4),12<=mt&&Yt>mt-12){Be=3;break e}if(Ne&&Yt>Je[0]-8){Be=7;break e}ct[0]=Yt,Be[0]+=8,Je[0]-=8,en[0]=Xn}else en[0]=5<=Je[0]&&Yt[Ut+0]==47&&!(Yt[Ut+4]>>5),ct[0]=Je[0];Be=0}if(W=W[0],Le.Ja=Le.Ja[0],Le.xa=Le.xa[0],O=O[0],Be!=0)break;if(4294967286<Le.Ja)return 3;if(pe==null||Ze||(pe[0]=Le.xa?2:1),he=[he],Re=[Re],Le.xa){if(5>W){Be=7;break}pe=he,Ne=Re,Ze=de,C==null||5>W?C=0:5<=W&&C[O+0]==47&&!(C[O+4]>>5)?(Je=[0],Yt=[0],mt=[0],G(ct=new F,C,O,W),$a(ct,Je,Yt,mt)?(pe!=null&&(pe[0]=Je[0]),Ne!=null&&(Ne[0]=Yt[0]),Ze!=null&&(Ze[0]=mt[0]),C=1):C=0):C=0}else{if(10>W){Be=7;break}pe=Re,C==null||10>W||!hu(C,O+3,W-3)?C=0:(Ne=C[O+0]|C[O+1]<<8|C[O+2]<<16,Ze=16383&(C[O+7]<<8|C[O+6]),C=16383&(C[O+9]<<8|C[O+8]),1&Ne||3<(Ne>>1&7)||!(Ne>>4&1)||Ne>>5>=Le.Ja||!Ze||!C?C=0:(he&&(he[0]=Ze),pe&&(pe[0]=C),C=1))}if(!C||(he=he[0],Re=Re[0],Ve&&(je[0]!=he||Te[0]!=Re)))return 3;ge!=null&&(ge[0]=Le,ge.offset=O-ge.w,t(4294967286>O-ge.w),t(ge.offset==ge.ha-W));break}return Be==0||Be==7&&Ve&&ge==null?(de!=null&&(de[0]|=Le.na!=null&&0<Le.na.length),Z!=null&&(Z[0]=he),le!=null&&(le[0]=Re),0):Be}function tg(C,O,W){var Z=O.width,le=O.height,de=0,he=0,pe=Z,ge=le;if(O.Da=C!=null&&0<C.Da,O.Da&&(pe=C.cd,ge=C.bd,de=C.v,he=C.j,11>W||(de&=-2,he&=-2),0>de||0>he||0>=pe||0>=ge||de+pe>Z||he+ge>le))return 0;if(O.v=de,O.j=he,O.va=de+pe,O.o=he+ge,O.U=pe,O.T=ge,O.da=C!=null&&0<C.da,O.da){if(!tt(pe,ge,W=[C.ib],de=[C.hb]))return 0;O.ib=W[0],O.hb=de[0]}return O.ob=C!=null&&C.ob,O.Kb=C==null||!C.Sd,O.da&&(O.ob=O.ib<3*Z/4&&O.hb<3*le/4,O.Kb=0),1}function Su(C){if(C==null)return 2;if(11>C.S){var O=C.f.RGBA;O.fb+=(C.height-1)*O.A,O.A=-O.A}else O=C.f.kb,C=C.height,O.O+=(C-1)*O.fa,O.fa=-O.fa,O.N+=(C-1>>1)*O.Ab,O.Ab=-O.Ab,O.W+=(C-1>>1)*O.Db,O.Db=-O.Db,O.F!=null&&(O.J+=(C-1)*O.lb,O.lb=-O.lb);return 0}function ku(C,O,W,Z){if(Z==null||0>=C||0>=O)return 2;if(W!=null){if(W.Da){var le=W.cd,de=W.bd,he=-2&W.v,pe=-2&W.j;if(0>he||0>pe||0>=le||0>=de||he+le>C||pe+de>O)return 2;C=le,O=de}if(W.da){if(!tt(C,O,le=[W.ib],de=[W.hb]))return 2;C=le[0],O=de[0]}}Z.width=C,Z.height=O;e:{var ge=Z.width,je=Z.height;if(C=Z.S,0>=ge||0>=je||!(C>=Gv&&13>C))C=2;else{if(0>=Z.Rd&&Z.sd==null){he=de=le=O=0;var Te=(pe=ge*E7[C])*je;if(11>C||(de=(je+1)/2*(O=(ge+1)/2),C==12&&(he=(le=ge)*je)),(je=a(Te+2*de+he))==null){C=1;break e}Z.sd=je,11>C?((ge=Z.f.RGBA).eb=je,ge.fb=0,ge.A=pe,ge.size=Te):((ge=Z.f.kb).y=je,ge.O=0,ge.fa=pe,ge.Fd=Te,ge.f=je,ge.N=0+Te,ge.Ab=O,ge.Cd=de,ge.ea=je,ge.W=0+Te+de,ge.Db=O,ge.Ed=de,C==12&&(ge.F=je,ge.J=0+Te+2*de),ge.Tc=he,ge.lb=le)}if(O=1,le=Z.S,de=Z.width,he=Z.height,le>=Gv&&13>le)if(11>le)C=Z.f.RGBA,O&=(pe=Math.abs(C.A))*(he-1)+de<=C.size,O&=pe>=de*E7[le],O&=C.eb!=null;else{C=Z.f.kb,pe=(de+1)/2,Te=(he+1)/2,ge=Math.abs(C.fa),je=Math.abs(C.Ab);var Ve=Math.abs(C.Db),Ne=Math.abs(C.lb),Le=Ne*(he-1)+de;O&=ge*(he-1)+de<=C.Fd,O&=je*(Te-1)+pe<=C.Cd,O=(O&=Ve*(Te-1)+pe<=C.Ed)&ge>=de&je>=pe&Ve>=pe,O&=C.y!=null,O&=C.f!=null,O&=C.ea!=null,le==12&&(O&=Ne>=de,O&=Le<=C.Tc,O&=C.F!=null)}else O=0;C=O?0:2}}return C!=0||W!=null&&W.fd&&(C=Su(Z)),C}var kc=64,wo=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],da=24,Ol=32,Cu=8,Cc=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];me("Predictor0","PredictorAdd0"),T.Predictor0=function(){return 4278190080},T.Predictor1=function(C){return C},T.Predictor2=function(C,O,W){return O[W+0]},T.Predictor3=function(C,O,W){return O[W+1]},T.Predictor4=function(C,O,W){return O[W-1]},T.Predictor5=function(C,O,W){return Ce(Ce(C,O[W+1]),O[W+0])},T.Predictor6=function(C,O,W){return Ce(C,O[W-1])},T.Predictor7=function(C,O,W){return Ce(C,O[W+0])},T.Predictor8=function(C,O,W){return Ce(O[W-1],O[W+0])},T.Predictor9=function(C,O,W){return Ce(O[W+0],O[W+1])},T.Predictor10=function(C,O,W){return Ce(Ce(C,O[W-1]),Ce(O[W+0],O[W+1]))},T.Predictor11=function(C,O,W){var Z=O[W+0];return 0>=we(Z>>24&255,C>>24&255,(O=O[W-1])>>24&255)+we(Z>>16&255,C>>16&255,O>>16&255)+we(Z>>8&255,C>>8&255,O>>8&255)+we(255&Z,255&C,255&O)?Z:C},T.Predictor12=function(C,O,W){var Z=O[W+0];return(Xe((C>>24&255)+(Z>>24&255)-((O=O[W-1])>>24&255))<<24|Xe((C>>16&255)+(Z>>16&255)-(O>>16&255))<<16|Xe((C>>8&255)+(Z>>8&255)-(O>>8&255))<<8|Xe((255&C)+(255&Z)-(255&O)))>>>0},T.Predictor13=function(C,O,W){var Z=O[W-1];return(He((C=Ce(C,O[W+0]))>>24&255,Z>>24&255)<<24|He(C>>16&255,Z>>16&255)<<16|He(C>>8&255,Z>>8&255)<<8|He(255&C,255&Z))>>>0};var ng=T.PredictorAdd0;T.PredictorAdd1=Me,me("Predictor2","PredictorAdd2"),me("Predictor3","PredictorAdd3"),me("Predictor4","PredictorAdd4"),me("Predictor5","PredictorAdd5"),me("Predictor6","PredictorAdd6"),me("Predictor7","PredictorAdd7"),me("Predictor8","PredictorAdd8"),me("Predictor9","PredictorAdd9"),me("Predictor10","PredictorAdd10"),me("Predictor11","PredictorAdd11"),me("Predictor12","PredictorAdd12"),me("Predictor13","PredictorAdd13");var Hs=T.PredictorAdd2;kt("ColorIndexInverseTransform","MapARGB","32b",function(C){return C>>8&255},function(C){return C}),kt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(C){return C},function(C){return C>>8&255});var Qi,Eu=T.ColorIndexInverseTransform,Ec=T.MapARGB,Ba=T.VP8LColorIndexInverseTransformAlpha,_d=T.MapAlpha,am=T.VP8LPredictorsAdd=[];am.length=16,(T.VP8LPredictors=[]).length=16,(T.VP8LPredictorsAdd_C=[]).length=16,(T.VP8LPredictors_C=[]).length=16;var $f,Sd,Pc,Ll,jo,Ac,Tc,kd,cl,No,Tr,Fr,Ji,fa,Pu,Ks,Au,Kv,rg,sN,wb,oN,sm,lN,Oc,jb,Nb,cN,Lc=a(511),_b=a(2041),Sb=a(225),om=a(767),uN=0,lm=_b,Cd=Sb,Gs=om,_o=Lc,Gv=0,ig=1,kb=2,ag=3,sg=4,Yv=5,dN=6,Xv=7,Zv=8,Qv=9,p=10,N=[2,3,7],A=[3,3,11],q=[280,256,256,256,40],J=[0,1,1,1,0],fe=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],ke=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],$e=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Ke=8,ot=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],It=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],un=null,tr=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Cs=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Sa=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],ul=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Ys=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],cm=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],NA=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ed=[],Ml=[],Mc=[],_A=1,Cb=2,Kr=[],Es=[];ju("UpsampleRgbLinePair",Sc,3),ju("UpsampleBgrLinePair",_a,3),ju("UpsampleRgbaLinePair",li,4),ju("UpsampleBgraLinePair",eg,4),ju("UpsampleArgbLinePair",rm,4),ju("UpsampleRgba4444LinePair",Rf,2),ju("UpsampleRgb565LinePair",Df,2);var SA=T.UpsampleRgbLinePair,kA=T.UpsampleBgrLinePair,fN=T.UpsampleRgbaLinePair,Jv=T.UpsampleBgraLinePair,Eb=T.UpsampleArgbLinePair,hN=T.UpsampleRgba4444LinePair,Rbe=T.UpsampleRgb565LinePair,mN=16,pN=1<<mN-1,Pb=-227,CA=482,$be=6,k7=0,Fbe=a(256),Bbe=a(256),zbe=a(256),Vbe=a(256),qbe=a(CA-Pb),Ube=a(CA-Pb);Ws("YuvToRgbRow",Sc,3),Ws("YuvToBgrRow",_a,3),Ws("YuvToRgbaRow",li,4),Ws("YuvToBgraRow",eg,4),Ws("YuvToArgbRow",rm,4),Ws("YuvToRgba4444Row",Rf,2),Ws("YuvToRgb565Row",Df,2);var C7=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],gN=[0,2,8],Wbe=[8,7,6,4,4,2,2,2,1,1,1,1],Hbe=1;this.WebPDecodeRGBA=function(C,O,W,Z,le){var de=ig,he=new Ye,pe=new Jt;he.ba=pe,pe.S=de,pe.width=[pe.width],pe.height=[pe.height];var ge=pe.width,je=pe.height,Te=new Ft;if(Te==null||C==null)var Ve=2;else t(Te!=null),Ve=ll(C,O,W,Te.width,Te.height,Te.Pd,Te.Qd,Te.format,null);if(Ve!=0?ge=0:(ge!=null&&(ge[0]=Te.width[0]),je!=null&&(je[0]=Te.height[0]),ge=1),ge){pe.width=pe.width[0],pe.height=pe.height[0],Z!=null&&(Z[0]=pe.width),le!=null&&(le[0]=pe.height);e:{if(Z=new Dr,(le=new st).data=C,le.w=O,le.ha=W,le.kd=1,O=[0],t(le!=null),((C=ll(le.data,le.w,le.ha,null,null,null,O,null,le))==0||C==7)&&O[0]&&(C=4),(O=C)==0){if(t(he!=null),Z.data=le.data,Z.w=le.w+le.offset,Z.ha=le.ha-le.offset,Z.put=Gt,Z.ac=Xi,Z.bc=Wr,Z.ma=he,le.xa){if((C=Pf())==null){he=1;break e}if(function(Ne,Le){var Re=[0],Ze=[0],Be=[0];t:for(;;){if(Ne==null)return 0;if(Le==null)return Ne.a=2,0;if(Ne.l=Le,Ne.a=0,G(Ne.m,Le.data,Le.w,Le.ha),!$a(Ne.m,Re,Ze,Be)){Ne.a=3;break t}if(Ne.xb=Cb,Le.width=Re[0],Le.height=Ze[0],!wc(Re[0],Ze[0],1,Ne,null))break t;return 1}return t(Ne.a!=0),0}(C,Z)){if(Z=(O=ku(Z.width,Z.height,he.Oa,he.ba))==0){t:{Z=C;n:for(;;){if(Z==null){Z=0;break t}if(t(Z.s.yc!=null),t(Z.s.Ya!=null),t(0<Z.s.Wb),t((W=Z.l)!=null),t((le=W.ma)!=null),Z.xb!=0){if(Z.ca=le.ba,Z.tb=le.tb,t(Z.ca!=null),!tg(le.Oa,W,ag)){Z.a=2;break n}if(!Af(Z,W.width)||W.da)break n;if((W.da||ln(Z.ca.S))&&Qa(),11>Z.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),Z.ca.f.kb.F!=null&&Qa()),Z.Pb&&0<Z.s.ua&&Z.s.vb.X==null&&!X(Z.s.vb,Z.s.Wa.Xa)){Z.a=1;break n}Z.xb=0}if(!gs(Z,Z.V,Z.Ba,Z.c,Z.i,W.o,xo))break n;le.Dc=Z.Ma,Z=1;break t}t(Z.a!=0),Z=0}Z=!Z}Z&&(O=C.a)}else O=C.a}else{if((C=new Xh)==null){he=1;break e}if(C.Fa=le.na,C.P=le.P,C.qc=le.Sa,rl(C,Z)){if((O=ku(Z.width,Z.height,he.Oa,he.ba))==0){if(C.Aa=0,W=he.Oa,t((le=C)!=null),W!=null){if(0<(ge=0>(ge=W.Md)?0:100<ge?255:255*ge/100)){for(je=Te=0;4>je;++je)12>(Ve=le.pb[je]).lc&&(Ve.ia=ge*Wbe[0>Ve.lc?0:Ve.lc]>>3),Te|=Ve.ia;Te&&(alert("todo:VP8InitRandom"),le.ia=1)}le.Ga=W.Id,100<le.Ga?le.Ga=100:0>le.Ga&&(le.Ga=0)}(function(Ne,Le){if(Ne==null)return 0;if(Le==null)return oi(Ne,2,"NULL VP8Io parameter in VP8Decode().");if(!Ne.cb&&!rl(Ne,Le))return 0;if(t(Ne.cb),Le.ac==null||Le.ac(Le)){Le.ob&&(Ne.L=0);var Re=gN[Ne.L];if(Ne.L==2?(Ne.yb=0,Ne.zb=0):(Ne.yb=Le.v-Re>>4,Ne.zb=Le.j-Re>>4,0>Ne.yb&&(Ne.yb=0),0>Ne.zb&&(Ne.zb=0)),Ne.Va=Le.o+15+Re>>4,Ne.Hb=Le.va+15+Re>>4,Ne.Hb>Ne.za&&(Ne.Hb=Ne.za),Ne.Va>Ne.Ub&&(Ne.Va=Ne.Ub),0<Ne.L){var Ze=Ne.ed;for(Re=0;4>Re;++Re){var Be;if(Ne.Qa.Cb){var Je=Ne.Qa.Lb[Re];Ne.Qa.Fb||(Je+=Ze.Tb)}else Je=Ze.Tb;for(Be=0;1>=Be;++Be){var nt=Ne.gd[Re][Be],mt=Je;if(Ze.Pc&&(mt+=Ze.vd[0],Be&&(mt+=Ze.od[0])),0<(mt=0>mt?0:63<mt?63:mt)){var ct=mt;0<Ze.wb&&(ct=4<Ze.wb?ct>>2:ct>>1)>9-Ze.wb&&(ct=9-Ze.wb),1>ct&&(ct=1),nt.dd=ct,nt.tc=2*mt+ct,nt.ld=40<=mt?2:15<=mt?1:0}else nt.tc=0;nt.La=Be}}}Re=0}else oi(Ne,6,"Frame setup failed"),Re=Ne.a;if(Re=Re==0){if(Re){Ne.$c=0,0<Ne.Aa||(Ne.Ic=Hbe);t:{Re=Ne.Ic,Ze=4*(ct=Ne.za);var en=32*ct,Ut=ct+1,Xn=0<Ne.L?ct*(0<Ne.Aa?2:1):0,Yt=(Ne.Aa==2?2:1)*ct;if((nt=Ze+832+(Be=3*(16*Re+gN[Ne.L])/2*en)+(Je=Ne.Fa!=null&&0<Ne.Fa.length?Ne.Kc.c*Ne.Kc.i:0))!=nt)Re=0;else{if(nt>Ne.Vb){if(Ne.Vb=0,Ne.Ec=a(nt),Ne.Fc=0,Ne.Ec==null){Re=oi(Ne,1,"no memory during frame initialization.");break t}Ne.Vb=nt}nt=Ne.Ec,mt=Ne.Fc,Ne.Ac=nt,Ne.Bc=mt,mt+=Ze,Ne.Gd=o(en,Hp),Ne.Hd=0,Ne.rb=o(Ut+1,Up),Ne.sb=1,Ne.wa=Xn?o(Xn,nl):null,Ne.Y=0,Ne.D.Nb=0,Ne.D.wa=Ne.wa,Ne.D.Y=Ne.Y,0<Ne.Aa&&(Ne.D.Y+=ct),t(!0),Ne.oc=nt,Ne.pc=mt,mt+=832,Ne.ya=o(Yt,fu),Ne.aa=0,Ne.D.ya=Ne.ya,Ne.D.aa=Ne.aa,Ne.Aa==2&&(Ne.D.aa+=ct),Ne.R=16*ct,Ne.B=8*ct,ct=(en=gN[Ne.L])*Ne.R,en=en/2*Ne.B,Ne.sa=nt,Ne.ta=mt+ct,Ne.qa=Ne.sa,Ne.ra=Ne.ta+16*Re*Ne.R+en,Ne.Ha=Ne.qa,Ne.Ia=Ne.ra+8*Re*Ne.B+en,Ne.$c=0,mt+=Be,Ne.mb=Je?nt:null,Ne.nb=Je?mt:null,t(mt+Je<=Ne.Fc+Ne.Vb),vi(Ne),i(Ne.Ac,Ne.Bc,0,Ze),Re=1}}if(Re){if(Le.ka=0,Le.y=Ne.sa,Le.O=Ne.ta,Le.f=Ne.qa,Le.N=Ne.ra,Le.ea=Ne.Ha,Le.Vd=Ne.Ia,Le.fa=Ne.R,Le.Rc=Ne.B,Le.F=null,Le.J=0,!uN){for(Re=-255;255>=Re;++Re)Lc[255+Re]=0>Re?-Re:Re;for(Re=-1020;1020>=Re;++Re)_b[1020+Re]=-128>Re?-128:127<Re?127:Re;for(Re=-112;112>=Re;++Re)Sb[112+Re]=-16>Re?-16:15<Re?15:Re;for(Re=-255;510>=Re;++Re)om[255+Re]=0>Re?0:255<Re?255:Re;uN=1}Tc=Nc,kd=mu,No=Mr,Tr=jc,Fr=yd,cl=Zh,Ji=Jp,fa=Mf,Pu=se,Ks=be,Au=Hv,Kv=V,rg=Ee,sN=Ie,wb=Za,oN=bu,sm=Qp,lN=Wv,Ml[0]=qv,Ml[1]=Of,Ml[2]=il,Ml[3]=Rr,Ml[4]=Pl,Ml[5]=Yp,Ml[6]=Al,Ml[7]=gu,Ml[8]=vu,Ml[9]=jd,Ed[0]=Jh,Ed[1]=Gp,Ed[2]=bd,Ed[3]=Qh,Ed[4]=wd,Ed[5]=Lf,Ed[6]=bb,Mc[0]=Uv,Mc[1]=Kp,Mc[2]=Ei,Mc[3]=xu,Mc[4]=em,Mc[5]=Xp,Mc[6]=tm,Re=1}else Re=0}Re&&(Re=function(pr,es){for(pr.M=0;pr.M<pr.Va;++pr.M){var Zn,Xt=pr.Jc[pr.M&pr.Xb],Pt=pr.m,ka=pr;for(Zn=0;Zn<ka.za;++Zn){var qn=Pt,jr=ka,Ai=jr.Ac,Ps=jr.Bc+4*Zn,So=jr.zc,ha=jr.ya[jr.aa+Zn];if(jr.Qa.Bb?ha.$b=xe(qn,jr.Pa.jb[0])?2+xe(qn,jr.Pa.jb[2]):xe(qn,jr.Pa.jb[1]):ha.$b=0,jr.kc&&(ha.Ad=xe(qn,jr.Bd)),ha.Za=!xe(qn,145)+0,ha.Za){var Xs=ha.Ob,ko=0;for(jr=0;4>jr;++jr){var ts,Sr=So[0+jr];for(ts=0;4>ts;++ts){Sr=Ys[Ai[Ps+ts]][Sr];for(var Gr=Sa[xe(qn,Sr[0])];0<Gr;)Gr=Sa[2*Gr+xe(qn,Sr[Gr])];Sr=-Gr,Ai[Ps+ts]=Sr}r(Xs,ko,Ai,Ps,4),ko+=4,So[0+jr]=Sr}}else Sr=xe(qn,156)?xe(qn,128)?1:3:xe(qn,163)?2:0,ha.Ob[0]=Sr,i(Ai,Ps,Sr,4),i(So,0,Sr,4);ha.Dd=xe(qn,142)?xe(qn,114)?xe(qn,183)?1:3:2:0}if(ka.m.Ka)return oi(pr,7,"Premature end-of-partition0 encountered.");for(;pr.ja<pr.za;++pr.ja){if(ka=Xt,qn=(Pt=pr).rb[Pt.sb-1],Ai=Pt.rb[Pt.sb+Pt.ja],Zn=Pt.ya[Pt.aa+Pt.ja],Ps=Pt.kc?Zn.Ad:0)qn.la=Ai.la=0,Zn.Za||(qn.Na=Ai.Na=0),Zn.Hc=0,Zn.Gc=0,Zn.ia=0;else{var ma,Yr;if(qn=Ai,Ai=ka,Ps=Pt.Pa.Xc,So=Pt.ya[Pt.aa+Pt.ja],ha=Pt.pb[So.$b],jr=So.ad,Xs=0,ko=Pt.rb[Pt.sb-1],Sr=ts=0,i(jr,Xs,0,384),So.Za)var As=0,Tu=Ps[3];else{Gr=a(16);var Ca=qn.Na+ko.Na;if(Ca=un(Ai,Ps[1],Ca,ha.Eb,0,Gr,0),qn.Na=ko.Na=(0<Ca)+0,1<Ca)Tc(Gr,0,jr,Xs);else{var dl=Gr[0]+3>>3;for(Gr=0;256>Gr;Gr+=16)jr[Xs+Gr]=dl}As=1,Tu=Ps[0]}var ci=15&qn.la,ns=15&ko.la;for(Gr=0;4>Gr;++Gr){var Il=1&ns;for(dl=Yr=0;4>dl;++dl)ci=ci>>1|(Il=(Ca=un(Ai,Tu,Ca=Il+(1&ci),ha.Sc,As,jr,Xs))>As)<<7,Yr=Yr<<2|(3<Ca?3:1<Ca?2:jr[Xs+0]!=0),Xs+=16;ci>>=4,ns=ns>>1|Il<<7,ts=(ts<<8|Yr)>>>0}for(Tu=ci,As=ns>>4,ma=0;4>ma;ma+=2){for(Yr=0,ci=qn.la>>4+ma,ns=ko.la>>4+ma,Gr=0;2>Gr;++Gr){for(Il=1&ns,dl=0;2>dl;++dl)Ca=Il+(1&ci),ci=ci>>1|(Il=0<(Ca=un(Ai,Ps[2],Ca,ha.Qc,0,jr,Xs)))<<3,Yr=Yr<<2|(3<Ca?3:1<Ca?2:jr[Xs+0]!=0),Xs+=16;ci>>=2,ns=ns>>1|Il<<5}Sr|=Yr<<4*ma,Tu|=ci<<4<<ma,As|=(240&ns)<<ma}qn.la=Tu,ko.la=As,So.Hc=ts,So.Gc=Sr,So.ia=43690&Sr?0:ha.ia,Ps=!(ts|Sr)}if(0<Pt.L&&(Pt.wa[Pt.Y+Pt.ja]=Pt.gd[Zn.$b][Zn.Za],Pt.wa[Pt.Y+Pt.ja].La|=!Ps),ka.Ka)return oi(pr,7,"Premature end-of-file encountered.")}if(vi(pr),Pt=es,ka=1,Zn=(Xt=pr).D,qn=0<Xt.L&&Xt.M>=Xt.zb&&Xt.M<=Xt.Va,Xt.Aa==0)t:{if(Zn.M=Xt.M,Zn.uc=qn,ol(Xt,Zn),ka=1,Zn=(Yr=Xt.D).Nb,qn=(Sr=gN[Xt.L])*Xt.R,Ai=Sr/2*Xt.B,Gr=16*Zn*Xt.R,dl=8*Zn*Xt.B,Ps=Xt.sa,So=Xt.ta-qn+Gr,ha=Xt.qa,jr=Xt.ra-Ai+dl,Xs=Xt.Ha,ko=Xt.Ia-Ai+dl,ns=(ci=Yr.M)==0,ts=ci>=Xt.Va-1,Xt.Aa==2&&ol(Xt,Yr),Yr.uc)for(Il=(Ca=Xt).D.M,t(Ca.D.uc),Yr=Ca.yb;Yr<Ca.Hb;++Yr){As=Yr,Tu=Il;var Co=(Dl=(Ts=Ca).D).Nb;ma=Ts.R;var Dl=Dl.wa[Dl.Y+As],Rl=Ts.sa,fl=Ts.ta+16*Co*ma+16*As,$l=Dl.dd,xi=Dl.tc;if(xi!=0)if(t(3<=xi),Ts.L==1)0<As&&oN(Rl,fl,ma,xi+4),Dl.La&&lN(Rl,fl,ma,xi),0<Tu&&wb(Rl,fl,ma,xi+4),Dl.La&&sm(Rl,fl,ma,xi);else{var Fl=Ts.B,Ou=Ts.qa,og=Ts.ra+8*Co*Fl+8*As,Ff=Ts.Ha,Ts=Ts.Ia+8*Co*Fl+8*As;Co=Dl.ld,0<As&&(fa(Rl,fl,ma,xi+4,$l,Co),Ks(Ou,og,Ff,Ts,Fl,xi+4,$l,Co)),Dl.La&&(Kv(Rl,fl,ma,xi,$l,Co),sN(Ou,og,Ff,Ts,Fl,xi,$l,Co)),0<Tu&&(Ji(Rl,fl,ma,xi+4,$l,Co),Pu(Ou,og,Ff,Ts,Fl,xi+4,$l,Co)),Dl.La&&(Au(Rl,fl,ma,xi,$l,Co),rg(Ou,og,Ff,Ts,Fl,xi,$l,Co))}}if(Xt.ia&&alert("todo:DitherRow"),Pt.put!=null){if(Yr=16*ci,ci=16*(ci+1),ns?(Pt.y=Xt.sa,Pt.O=Xt.ta+Gr,Pt.f=Xt.qa,Pt.N=Xt.ra+dl,Pt.ea=Xt.Ha,Pt.W=Xt.Ia+dl):(Yr-=Sr,Pt.y=Ps,Pt.O=So,Pt.f=ha,Pt.N=jr,Pt.ea=Xs,Pt.W=ko),ts||(ci-=Sr),ci>Pt.o&&(ci=Pt.o),Pt.F=null,Pt.J=null,Xt.Fa!=null&&0<Xt.Fa.length&&Yr<ci&&(Pt.J=$r(Xt,Pt,Yr,ci-Yr),Pt.F=Xt.mb,Pt.F==null&&Pt.F.length==0)){ka=oi(Xt,3,"Could not decode alpha data.");break t}Yr<Pt.j&&(Sr=Pt.j-Yr,Yr=Pt.j,t(!(1&Sr)),Pt.O+=Xt.R*Sr,Pt.N+=Xt.B*(Sr>>1),Pt.W+=Xt.B*(Sr>>1),Pt.F!=null&&(Pt.J+=Pt.width*Sr)),Yr<ci&&(Pt.O+=Pt.v,Pt.N+=Pt.v>>1,Pt.W+=Pt.v>>1,Pt.F!=null&&(Pt.J+=Pt.v),Pt.ka=Yr-Pt.j,Pt.U=Pt.va-Pt.v,Pt.T=ci-Yr,ka=Pt.put(Pt))}Zn+1!=Xt.Ic||ts||(r(Xt.sa,Xt.ta-qn,Ps,So+16*Xt.R,qn),r(Xt.qa,Xt.ra-Ai,ha,jr+8*Xt.B,Ai),r(Xt.Ha,Xt.Ia-Ai,Xs,ko+8*Xt.B,Ai))}if(!ka)return oi(pr,6,"Output aborted.")}return 1}(Ne,Le)),Le.bc!=null&&Le.bc(Le),Re&=1}return Re?(Ne.cb=0,Re):0})(C,Z)||(O=C.a)}}else O=C.a}O==0&&he.Oa!=null&&he.Oa.fd&&(O=Su(he.ba))}he=O}de=he!=0?null:11>de?pe.f.RGBA.eb:pe.f.kb.y}else de=null;return de};var E7=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(T,R){for(var D="",I=0;I<4;I++)D+=String.fromCharCode(T[R++]);return D}function d(T,R){return T[R+0]|T[R+1]<<8}function f(T,R){return(T[R+0]|T[R+1]<<8|T[R+2]<<16)>>>0}function m(T,R){return(T[R+0]|T[R+1]<<8|T[R+2]<<16|T[R+3]<<24)>>>0}new c;var h=[0],g=[0],y=[],v=new c,x=e,w=function(T,R){var D={},I=0,B=!1,$=0,K=0;if(D.frames=[],!function(z,F){for(var ie=0;ie<4;ie++)if(z[F+ie]!="RIFF".charCodeAt(ie))return!0;return!1}(T,R)){for(m(T,R+=4),R+=8;R<T.length;){var Y=u(T,R),Q=m(T,R+=4);R+=4;var H=Q+(1&Q);switch(Y){case"VP8 ":case"VP8L":D.frames[I]===void 0&&(D.frames[I]={}),(ee=D.frames[I]).src_off=B?K:R-8,ee.src_size=$+Q+8,I++,B&&(B=!1,$=0,K=0);break;case"VP8X":(ee=D.header={}).feature_flags=T[R];var G=R+4;ee.canvas_width=1+f(T,G),G+=3,ee.canvas_height=1+f(T,G),G+=3;break;case"ALPH":B=!0,$=H+8,K=R-8;break;case"ANIM":(ee=D.header).bgcolor=m(T,R),G=R+4,ee.loop_count=d(T,G),G+=2;break;case"ANMF":var U,ee;(ee=D.frames[I]={}).offset_x=2*f(T,R),R+=3,ee.offset_y=2*f(T,R),R+=3,ee.width=1+f(T,R),R+=3,ee.height=1+f(T,R),R+=3,ee.duration=f(T,R),R+=3,U=T[R++],ee.dispose=1&U,ee.blend=U>>1&1}Y!="ANMF"&&(R+=H)}return D}}(x,0);w.response=x,w.rgbaoutput=!0,w.dataurl=!1;var j=w.header?w.header:null,_=w.frames?w.frames:null;if(j){j.loop_counter=j.loop_count,h=[j.canvas_height],g=[j.canvas_width];for(var S=0;S<_.length&&_[S].blend!=0;S++);}var k=_[0],P=v.WebPDecodeRGBA(x,k.src_off,k.src_size,g,h);k.rgba=P,k.imgwidth=g[0],k.imgheight=h[0];for(var M=0;M<g[0]*h[0]*4;M++)y[M]=P[M];return this.width=g,this.height=h,this.data=y,this}(function(e){var t,n,r,i,a,o,l,c,u,d=function(z){return z=z||{},this.isStrokeTransparent=z.isStrokeTransparent||!1,this.strokeOpacity=z.strokeOpacity||1,this.strokeStyle=z.strokeStyle||"#000000",this.fillStyle=z.fillStyle||"#000000",this.isFillTransparent=z.isFillTransparent||!1,this.fillOpacity=z.fillOpacity||1,this.font=z.font||"10px sans-serif",this.textBaseline=z.textBaseline||"alphabetic",this.textAlign=z.textAlign||"left",this.lineWidth=z.lineWidth||1,this.lineJoin=z.lineJoin||"miter",this.lineCap=z.lineCap||"butt",this.path=z.path||[],this.transform=z.transform!==void 0?z.transform.clone():new c,this.globalCompositeOperation=z.globalCompositeOperation||"normal",this.globalAlpha=z.globalAlpha||1,this.clip_path=z.clip_path||[],this.currentPoint=z.currentPoint||new o,this.miterLimit=z.miterLimit||10,this.lastPoint=z.lastPoint||new o,this.lineDashOffset=z.lineDashOffset||0,this.lineDash=z.lineDash||[],this.margin=z.margin||[0,0,0,0],this.prevPageLastElemOffset=z.prevPageLastElemOffset||0,this.ignoreClearRect=typeof z.ignoreClearRect!="boolean"||z.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new f(this),t=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,o=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,u=new d}]);var f=function(z){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var F=z;Object.defineProperty(this,"pdf",{get:function(){return F}});var ie=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return ie},set:function(X){ie=!!X}});var ce=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ce},set:function(X){ce=!!X}});var te=0;Object.defineProperty(this,"posX",{get:function(){return te},set:function(X){isNaN(X)||(te=X)}});var oe=0;Object.defineProperty(this,"posY",{get:function(){return oe},set:function(X){isNaN(X)||(oe=X)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(X){var Ae;typeof X=="number"?Ae=[X,X,X,X]:((Ae=new Array(4))[0]=X[0],Ae[1]=X.length>=2?X[1]:Ae[0],Ae[2]=X.length>=3?X[2]:Ae[0],Ae[3]=X.length>=4?X[3]:Ae[1]),u.margin=Ae}});var ve=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ve},set:function(X){ve=X}});var ne=0;Object.defineProperty(this,"lastBreak",{get:function(){return ne},set:function(X){ne=X}});var xe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return xe},set:function(X){xe=X}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(X){X instanceof d&&(u=X)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(X){u.path=X}});var ue=[];Object.defineProperty(this,"ctxStack",{get:function(){return ue},set:function(X){ue=X}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(X){var Ae;Ae=m(X),this.ctx.fillStyle=Ae.style,this.ctx.isFillTransparent=Ae.a===0,this.ctx.fillOpacity=Ae.a,this.pdf.setFillColor(Ae.r,Ae.g,Ae.b,{a:Ae.a}),this.pdf.setTextColor(Ae.r,Ae.g,Ae.b,{a:Ae.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(X){var Ae=m(X);this.ctx.strokeStyle=Ae.style,this.ctx.isStrokeTransparent=Ae.a===0,this.ctx.strokeOpacity=Ae.a,Ae.a===0?this.pdf.setDrawColor(255,255,255):(Ae.a,this.pdf.setDrawColor(Ae.r,Ae.g,Ae.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(X){["butt","round","square"].indexOf(X)!==-1&&(this.ctx.lineCap=X,this.pdf.setLineCap(X))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(X){isNaN(X)||(this.ctx.lineWidth=X,this.pdf.setLineWidth(X))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(X){["bevel","round","miter"].indexOf(X)!==-1&&(this.ctx.lineJoin=X,this.pdf.setLineJoin(X))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(X){isNaN(X)||(this.ctx.miterLimit=X,this.pdf.setMiterLimit(X))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(X){this.ctx.textBaseline=X}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(X){["right","end","center","left","start"].indexOf(X)!==-1&&(this.ctx.textAlign=X)}});var re=null,Se=null,ae=null;Object.defineProperty(this,"fontFaces",{get:function(){return ae},set:function(X){re=null,Se=null,ae=X}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(X){var Ae;if(this.ctx.font=X,(Ae=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(X))!==null){var qe=Ae[1];Ae[2];var tt=Ae[3],ze=Ae[4];Ae[5];var lt=Ae[6],me=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(ze)[2];ze=Math.floor(me==="px"?parseFloat(ze)*this.pdf.internal.scaleFactor:me==="em"?parseFloat(ze)*this.pdf.getFontSize():parseFloat(ze)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(ze);var _e=function(kt){var Bn,pn,cn=[],on=kt.trim();if(on==="")return J4;if(on in SG)return[SG[on]];for(;on!=="";){switch(pn=null,Bn=(on=CG(on)).charAt(0)){case'"':case"'":pn=Smt(on.substring(1),Bn);break;default:pn=kmt(on)}if(pn===null||(cn.push(pn[0]),(on=CG(pn[1]))!==""&&on.charAt(0)!==","))return J4;on=on.replace(/^,/,"")}return cn}(lt);if(this.fontFaces){var Ce=function(kt,Bn){var pn=kt.getFontList(),cn=JSON.stringify(pn);if(re===null||Se!==cn){var on=function(Dn){var Rt=[];return Object.keys(Dn).forEach(function(zn){Dn[zn].forEach(function(ln){var kn=null;switch(ln){case"bold":kn={family:zn,weight:"bold"};break;case"italic":kn={family:zn,style:"italic"};break;case"bolditalic":kn={family:zn,weight:"bold",style:"italic"};break;case"":case"normal":kn={family:zn}}kn!==null&&(kn.ref={name:zn,style:ln},Rt.push(kn))})}),Rt}(pn);re=function(Dn){for(var Rt={},zn=0;zn<Dn.length;++zn){var ln=Q4(Dn[zn]),kn=ln.family,Ur=ln.stretch,Jt=ln.style,Ft=ln.weight;Rt[kn]=Rt[kn]||{},Rt[kn][Ur]=Rt[kn][Ur]||{},Rt[kn][Ur][Jt]=Rt[kn][Ur][Jt]||{},Rt[kn][Ur][Jt][Ft]=ln}return Rt}(on.concat(Bn)),Se=cn}return re}(this.pdf,this.fontFaces),Xe=_e.map(function(kt){return{family:kt,stretch:"normal",weight:tt,style:qe}}),He=function(kt,Bn,pn){for(var cn=(pn=pn||{}).defaultFontFamily||"times",on=Object.assign({},_mt,pn.genericFontFamilies||{}),Dn=null,Rt=null,zn=0;zn<Bn.length;++zn)if(on[(Dn=Q4(Bn[zn])).family]&&(Dn.family=on[Dn.family]),kt.hasOwnProperty(Dn.family)){Rt=kt[Dn.family];break}if(!(Rt=Rt||kt[cn]))throw new Error("Could not find a font-family for the rule '"+kG(Dn)+"' and default family '"+cn+"'.");if(Rt=function(ln,kn){if(kn[ln])return kn[ln];var Ur=VI[ln],Jt=Ur<=VI.normal?-1:1,Ft=_G(kn,Gpe,Ur,Jt);if(!Ft)throw new Error("Could not find a matching font-stretch value for "+ln);return Ft}(Dn.stretch,Rt),Rt=function(ln,kn){if(kn[ln])return kn[ln];for(var Ur=Kpe[ln],Jt=0;Jt<Ur.length;++Jt)if(kn[Ur[Jt]])return kn[Ur[Jt]];throw new Error("Could not find a matching font-style for "+ln)}(Dn.style,Rt),!(Rt=function(ln,kn){if(kn[ln])return kn[ln];if(ln===400&&kn[500])return kn[500];if(ln===500&&kn[400])return kn[400];var Ur=Nmt[ln],Jt=_G(kn,Ype,Ur,ln<400?-1:1);if(!Jt)throw new Error("Could not find a matching font-weight for value "+ln);return Jt}(Dn.weight,Rt)))throw new Error("Failed to resolve a font for the rule '"+kG(Dn)+"'.");return Rt}(Ce,Xe);this.pdf.setFont(He.ref.name,He.ref.style)}else{var we="";(tt==="bold"||parseInt(tt,10)>=700||qe==="bold")&&(we="bold"),qe==="italic"&&(we+="italic"),we.length===0&&(we="normal");for(var Me="",et={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Ge=0;Ge<_e.length;Ge++){if(this.pdf.internal.getFont(_e[Ge],we,{noFallback:!0,disableWarning:!0})!==void 0){Me=_e[Ge];break}if(we==="bolditalic"&&this.pdf.internal.getFont(_e[Ge],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Me=_e[Ge],we="bold";else if(this.pdf.internal.getFont(_e[Ge],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Me=_e[Ge],we="normal";break}}if(Me===""){for(var wt=0;wt<_e.length;wt++)if(et[_e[wt]]){Me=et[_e[wt]];break}}Me=Me===""?"Times":Me,this.pdf.setFont(Me,we)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(X){this.ctx.globalCompositeOperation=X}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(X){this.ctx.globalAlpha=X}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(X){this.ctx.lineDashOffset=X,ee.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(X){this.ctx.lineDash=X,ee.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(X){this.ctx.ignoreClearRect=!!X}})};f.prototype.setLineDash=function(z){this.lineDash=z},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){_.call(this,"fill",!1)},f.prototype.stroke=function(){_.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(z,F){if(isNaN(z)||isNaN(F))throw ui.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var ie=this.ctx.transform.applyToPoint(new o(z,F));this.path.push({type:"mt",x:ie.x,y:ie.y}),this.ctx.lastPoint=new o(z,F)},f.prototype.closePath=function(){var z=new o(0,0),F=0;for(F=this.path.length-1;F!==-1;F--)if(this.path[F].type==="begin"&&Jr(this.path[F+1])==="object"&&typeof this.path[F+1].x=="number"){z=new o(this.path[F+1].x,this.path[F+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(z.x,z.y)},f.prototype.lineTo=function(z,F){if(isNaN(z)||isNaN(F))throw ui.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var ie=this.ctx.transform.applyToPoint(new o(z,F));this.path.push({type:"lt",x:ie.x,y:ie.y}),this.ctx.lastPoint=new o(ie.x,ie.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),_.call(this,null,!0)},f.prototype.quadraticCurveTo=function(z,F,ie,ce){if(isNaN(ie)||isNaN(ce)||isNaN(z)||isNaN(F))throw ui.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var te=this.ctx.transform.applyToPoint(new o(ie,ce)),oe=this.ctx.transform.applyToPoint(new o(z,F));this.path.push({type:"qct",x1:oe.x,y1:oe.y,x:te.x,y:te.y}),this.ctx.lastPoint=new o(te.x,te.y)},f.prototype.bezierCurveTo=function(z,F,ie,ce,te,oe){if(isNaN(te)||isNaN(oe)||isNaN(z)||isNaN(F)||isNaN(ie)||isNaN(ce))throw ui.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ve=this.ctx.transform.applyToPoint(new o(te,oe)),ne=this.ctx.transform.applyToPoint(new o(z,F)),xe=this.ctx.transform.applyToPoint(new o(ie,ce));this.path.push({type:"bct",x1:ne.x,y1:ne.y,x2:xe.x,y2:xe.y,x:ve.x,y:ve.y}),this.ctx.lastPoint=new o(ve.x,ve.y)},f.prototype.arc=function(z,F,ie,ce,te,oe){if(isNaN(z)||isNaN(F)||isNaN(ie)||isNaN(ce)||isNaN(te))throw ui.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(oe=!!oe,!this.ctx.transform.isIdentity){var ve=this.ctx.transform.applyToPoint(new o(z,F));z=ve.x,F=ve.y;var ne=this.ctx.transform.applyToPoint(new o(0,ie)),xe=this.ctx.transform.applyToPoint(new o(0,0));ie=Math.sqrt(Math.pow(ne.x-xe.x,2)+Math.pow(ne.y-xe.y,2))}Math.abs(te-ce)>=2*Math.PI&&(ce=0,te=2*Math.PI),this.path.push({type:"arc",x:z,y:F,radius:ie,startAngle:ce,endAngle:te,counterclockwise:oe})},f.prototype.arcTo=function(z,F,ie,ce,te){throw new Error("arcTo not implemented.")},f.prototype.rect=function(z,F,ie,ce){if(isNaN(z)||isNaN(F)||isNaN(ie)||isNaN(ce))throw ui.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(z,F),this.lineTo(z+ie,F),this.lineTo(z+ie,F+ce),this.lineTo(z,F+ce),this.lineTo(z,F),this.lineTo(z+ie,F),this.lineTo(z,F)},f.prototype.fillRect=function(z,F,ie,ce){if(isNaN(z)||isNaN(F)||isNaN(ie)||isNaN(ce))throw ui.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!h.call(this)){var te={};this.lineCap!=="butt"&&(te.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(te.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(z,F,ie,ce),this.fill(),te.hasOwnProperty("lineCap")&&(this.lineCap=te.lineCap),te.hasOwnProperty("lineJoin")&&(this.lineJoin=te.lineJoin)}},f.prototype.strokeRect=function(z,F,ie,ce){if(isNaN(z)||isNaN(F)||isNaN(ie)||isNaN(ce))throw ui.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");g.call(this)||(this.beginPath(),this.rect(z,F,ie,ce),this.stroke())},f.prototype.clearRect=function(z,F,ie,ce){if(isNaN(z)||isNaN(F)||isNaN(ie)||isNaN(ce))throw ui.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(z,F,ie,ce))},f.prototype.save=function(z){z=typeof z!="boolean"||z;for(var F=this.pdf.internal.getCurrentPageInfo().pageNumber,ie=0;ie<this.pdf.internal.getNumberOfPages();ie++)this.pdf.setPage(ie+1),this.pdf.internal.out("q");if(this.pdf.setPage(F),z){this.ctx.fontSize=this.pdf.internal.getFontSize();var ce=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ce}},f.prototype.restore=function(z){z=typeof z!="boolean"||z;for(var F=this.pdf.internal.getCurrentPageInfo().pageNumber,ie=0;ie<this.pdf.internal.getNumberOfPages();ie++)this.pdf.setPage(ie+1),this.pdf.internal.out("Q");this.pdf.setPage(F),z&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var m=function(z){var F,ie,ce,te;if(z.isCanvasGradient===!0&&(z=z.getColor()),!z)return{r:0,g:0,b:0,a:0,style:z};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(z))F=0,ie=0,ce=0,te=0;else{var oe=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(z);if(oe!==null)F=parseInt(oe[1]),ie=parseInt(oe[2]),ce=parseInt(oe[3]),te=1;else if((oe=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(z))!==null)F=parseInt(oe[1]),ie=parseInt(oe[2]),ce=parseInt(oe[3]),te=parseFloat(oe[4]);else{if(te=1,typeof z=="string"&&z.charAt(0)!=="#"){var ve=new Bpe(z);z=ve.ok?ve.toHex():"#000000"}z.length===4?(F=z.substring(1,2),F+=F,ie=z.substring(2,3),ie+=ie,ce=z.substring(3,4),ce+=ce):(F=z.substring(1,3),ie=z.substring(3,5),ce=z.substring(5,7)),F=parseInt(F,16),ie=parseInt(ie,16),ce=parseInt(ce,16)}}return{r:F,g:ie,b:ce,a:te,style:z}},h=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},g=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(z,F,ie,ce){if(isNaN(F)||isNaN(ie)||typeof z!="string")throw ui.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ce=isNaN(ce)?void 0:ce,!h.call(this)){var te=H(this.ctx.transform.rotation),oe=this.ctx.transform.scaleX;I.call(this,{text:z,x:F,y:ie,scale:oe,angle:te,align:this.textAlign,maxWidth:ce})}},f.prototype.strokeText=function(z,F,ie,ce){if(isNaN(F)||isNaN(ie)||typeof z!="string")throw ui.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!g.call(this)){ce=isNaN(ce)?void 0:ce;var te=H(this.ctx.transform.rotation),oe=this.ctx.transform.scaleX;I.call(this,{text:z,x:F,y:ie,scale:oe,renderingMode:"stroke",angle:te,align:this.textAlign,maxWidth:ce})}},f.prototype.measureText=function(z){if(typeof z!="string")throw ui.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var F=this.pdf,ie=this.pdf.internal.scaleFactor,ce=F.internal.getFontSize(),te=F.getStringUnitWidth(z)*ce/F.internal.scaleFactor;return new function(oe){var ve=(oe=oe||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ve}}),this}({width:te*=Math.round(96*ie/72*1e4)/1e4})},f.prototype.scale=function(z,F){if(isNaN(z)||isNaN(F))throw ui.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var ie=new c(z,0,0,F,0,0);this.ctx.transform=this.ctx.transform.multiply(ie)},f.prototype.rotate=function(z){if(isNaN(z))throw ui.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var F=new c(Math.cos(z),Math.sin(z),-Math.sin(z),Math.cos(z),0,0);this.ctx.transform=this.ctx.transform.multiply(F)},f.prototype.translate=function(z,F){if(isNaN(z)||isNaN(F))throw ui.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var ie=new c(1,0,0,1,z,F);this.ctx.transform=this.ctx.transform.multiply(ie)},f.prototype.transform=function(z,F,ie,ce,te,oe){if(isNaN(z)||isNaN(F)||isNaN(ie)||isNaN(ce)||isNaN(te)||isNaN(oe))throw ui.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ve=new c(z,F,ie,ce,te,oe);this.ctx.transform=this.ctx.transform.multiply(ve)},f.prototype.setTransform=function(z,F,ie,ce,te,oe){z=isNaN(z)?1:z,F=isNaN(F)?0:F,ie=isNaN(ie)?0:ie,ce=isNaN(ce)?1:ce,te=isNaN(te)?0:te,oe=isNaN(oe)?0:oe,this.ctx.transform=new c(z,F,ie,ce,te,oe)};var y=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(z,F,ie,ce,te,oe,ve,ne,xe){var ue=this.pdf.getImageProperties(z),re=1,Se=1,ae=1,X=1;ce!==void 0&&ne!==void 0&&(ae=ne/ce,X=xe/te,re=ue.width/ce*ne/ce,Se=ue.height/te*xe/te),oe===void 0&&(oe=F,ve=ie,F=0,ie=0),ce!==void 0&&ne===void 0&&(ne=ce,xe=te),ce===void 0&&ne===void 0&&(ne=ue.width,xe=ue.height);var Ae=this.ctx.transform.decompose(),qe=H(Ae.rotate.shx),tt=new c,ze=(tt=(tt=(tt=tt.multiply(Ae.translate)).multiply(Ae.skew)).multiply(Ae.scale)).applyToRectangle(new l(oe-F*ae,ve-ie*X,ce*re,te*Se));if(this.autoPaging){for(var lt,me=v.call(this,ze),_e=[],Ce=0;Ce<me.length;Ce+=1)_e.indexOf(me[Ce])===-1&&_e.push(me[Ce]);j(_e);for(var Xe=_e[0],He=_e[_e.length-1],we=Xe;we<He+1;we++){this.pdf.setPage(we);var Me=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],et=we===1?this.posY+this.margin[0]:this.margin[0],Ge=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],wt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],kt=we===1?0:Ge+(we-2)*wt;if(this.ctx.clip_path.length!==0){var Bn=this.path;lt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(lt,this.posX+this.margin[3],-kt+et+this.ctx.prevPageLastElemOffset),S.call(this,"fill",!0),this.path=Bn}var pn=JSON.parse(JSON.stringify(ze));pn=w([pn],this.posX+this.margin[3],-kt+et+this.ctx.prevPageLastElemOffset)[0];var cn=(we>Xe||we<He)&&y.call(this);cn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Me,wt,null).clip().discardPath()),this.pdf.addImage(z,"JPEG",pn.x,pn.y,pn.w,pn.h,null,null,qe),cn&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(z,"JPEG",ze.x,ze.y,ze.w,ze.h,null,null,qe)};var v=function(z,F,ie){var ce=[];F=F||this.pdf.internal.pageSize.width,ie=ie||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var te=this.posY+this.ctx.prevPageLastElemOffset;switch(z.type){default:case"mt":case"lt":ce.push(Math.floor((z.y+te)/ie)+1);break;case"arc":ce.push(Math.floor((z.y+te-z.radius)/ie)+1),ce.push(Math.floor((z.y+te+z.radius)/ie)+1);break;case"qct":var oe=G(this.ctx.lastPoint.x,this.ctx.lastPoint.y,z.x1,z.y1,z.x,z.y);ce.push(Math.floor((oe.y+te)/ie)+1),ce.push(Math.floor((oe.y+oe.h+te)/ie)+1);break;case"bct":var ve=U(this.ctx.lastPoint.x,this.ctx.lastPoint.y,z.x1,z.y1,z.x2,z.y2,z.x,z.y);ce.push(Math.floor((ve.y+te)/ie)+1),ce.push(Math.floor((ve.y+ve.h+te)/ie)+1);break;case"rect":ce.push(Math.floor((z.y+te)/ie)+1),ce.push(Math.floor((z.y+z.h+te)/ie)+1)}for(var ne=0;ne<ce.length;ne+=1)for(;this.pdf.internal.getNumberOfPages()<ce[ne];)x.call(this);return ce},x=function(){var z=this.fillStyle,F=this.strokeStyle,ie=this.font,ce=this.lineCap,te=this.lineWidth,oe=this.lineJoin;this.pdf.addPage(),this.fillStyle=z,this.strokeStyle=F,this.font=ie,this.lineCap=ce,this.lineWidth=te,this.lineJoin=oe},w=function(z,F,ie){for(var ce=0;ce<z.length;ce++)switch(z[ce].type){case"bct":z[ce].x2+=F,z[ce].y2+=ie;case"qct":z[ce].x1+=F,z[ce].y1+=ie;default:z[ce].x+=F,z[ce].y+=ie}return z},j=function(z){return z.sort(function(F,ie){return F-ie})},_=function(z,F){var ie=this.fillStyle,ce=this.strokeStyle,te=this.lineCap,oe=this.lineWidth,ve=Math.abs(oe*this.ctx.transform.scaleX),ne=this.lineJoin;if(this.autoPaging){for(var xe,ue,re=JSON.parse(JSON.stringify(this.path)),Se=JSON.parse(JSON.stringify(this.path)),ae=[],X=0;X<Se.length;X++)if(Se[X].x!==void 0)for(var Ae=v.call(this,Se[X]),qe=0;qe<Ae.length;qe+=1)ae.indexOf(Ae[qe])===-1&&ae.push(Ae[qe]);for(var tt=0;tt<ae.length;tt++)for(;this.pdf.internal.getNumberOfPages()<ae[tt];)x.call(this);j(ae);for(var ze=ae[0],lt=ae[ae.length-1],me=ze;me<lt+1;me++){this.pdf.setPage(me),this.fillStyle=ie,this.strokeStyle=ce,this.lineCap=te,this.lineWidth=ve,this.lineJoin=ne;var _e=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ce=me===1?this.posY+this.margin[0]:this.margin[0],Xe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],He=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],we=me===1?0:Xe+(me-2)*He;if(this.ctx.clip_path.length!==0){var Me=this.path;xe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(xe,this.posX+this.margin[3],-we+Ce+this.ctx.prevPageLastElemOffset),S.call(this,z,!0),this.path=Me}if(ue=JSON.parse(JSON.stringify(re)),this.path=w(ue,this.posX+this.margin[3],-we+Ce+this.ctx.prevPageLastElemOffset),F===!1||me===0){var et=(me>ze||me<lt)&&y.call(this);et&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],_e,He,null).clip().discardPath()),S.call(this,z,F),et&&this.pdf.restoreGraphicsState()}this.lineWidth=oe}this.path=re}else this.lineWidth=ve,S.call(this,z,F),this.lineWidth=oe},S=function(z,F){if((z!=="stroke"||F||!g.call(this))&&(z==="stroke"||F||!h.call(this))){for(var ie,ce,te=[],oe=this.path,ve=0;ve<oe.length;ve++){var ne=oe[ve];switch(ne.type){case"begin":te.push({begin:!0});break;case"close":te.push({close:!0});break;case"mt":te.push({start:ne,deltas:[],abs:[]});break;case"lt":var xe=te.length;if(oe[ve-1]&&!isNaN(oe[ve-1].x)&&(ie=[ne.x-oe[ve-1].x,ne.y-oe[ve-1].y],xe>0)){for(;xe>=0;xe--)if(te[xe-1].close!==!0&&te[xe-1].begin!==!0){te[xe-1].deltas.push(ie),te[xe-1].abs.push(ne);break}}break;case"bct":ie=[ne.x1-oe[ve-1].x,ne.y1-oe[ve-1].y,ne.x2-oe[ve-1].x,ne.y2-oe[ve-1].y,ne.x-oe[ve-1].x,ne.y-oe[ve-1].y],te[te.length-1].deltas.push(ie);break;case"qct":var ue=oe[ve-1].x+2/3*(ne.x1-oe[ve-1].x),re=oe[ve-1].y+2/3*(ne.y1-oe[ve-1].y),Se=ne.x+2/3*(ne.x1-ne.x),ae=ne.y+2/3*(ne.y1-ne.y),X=ne.x,Ae=ne.y;ie=[ue-oe[ve-1].x,re-oe[ve-1].y,Se-oe[ve-1].x,ae-oe[ve-1].y,X-oe[ve-1].x,Ae-oe[ve-1].y],te[te.length-1].deltas.push(ie);break;case"arc":te.push({deltas:[],abs:[],arc:!0}),Array.isArray(te[te.length-1].abs)&&te[te.length-1].abs.push(ne)}}ce=F?null:z==="stroke"?"stroke":"fill";for(var qe=!1,tt=0;tt<te.length;tt++)if(te[tt].arc)for(var ze=te[tt].abs,lt=0;lt<ze.length;lt++){var me=ze[lt];me.type==="arc"?M.call(this,me.x,me.y,me.radius,me.startAngle,me.endAngle,me.counterclockwise,void 0,F,!qe):B.call(this,me.x,me.y),qe=!0}else if(te[tt].close===!0)this.pdf.internal.out("h"),qe=!1;else if(te[tt].begin!==!0){var _e=te[tt].start.x,Ce=te[tt].start.y;$.call(this,te[tt].deltas,_e,Ce),qe=!0}ce&&T.call(this,ce),F&&R.call(this)}},k=function(z){var F=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,ie=F*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return z-ie;case"top":return z+F-ie;case"hanging":return z+F-2*ie;case"middle":return z+F/2-ie;default:return z}},P=function(z){return z+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var z=function(){};return z.colorStops=[],z.addColorStop=function(F,ie){this.colorStops.push([F,ie])},z.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},z.isCanvasGradient=!0,z},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var M=function(z,F,ie,ce,te,oe,ve,ne,xe){for(var ue=Y.call(this,ie,ce,te,oe),re=0;re<ue.length;re++){var Se=ue[re];re===0&&(xe?D.call(this,Se.x1+z,Se.y1+F):B.call(this,Se.x1+z,Se.y1+F)),K.call(this,z,F,Se.x2,Se.y2,Se.x3,Se.y3,Se.x4,Se.y4)}ne?R.call(this):T.call(this,ve)},T=function(z){switch(z){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},R=function(){this.pdf.clip(),this.pdf.discardPath()},D=function(z,F){this.pdf.internal.out(n(z)+" "+r(F)+" m")},I=function(z){var F;switch(z.align){case"right":case"end":F="right";break;case"center":F="center";break;default:F="left"}var ie,ce,te,oe=this.pdf.getTextDimensions(z.text),ve=k.call(this,z.y),ne=P.call(this,ve)-oe.h,xe=this.ctx.transform.applyToPoint(new o(z.x,ve));if(this.autoPaging){var ue=this.ctx.transform.decompose(),re=new c;re=(re=(re=re.multiply(ue.translate)).multiply(ue.skew)).multiply(ue.scale);for(var Se=this.ctx.transform.applyToRectangle(new l(z.x,ve,oe.w,oe.h)),ae=re.applyToRectangle(new l(z.x,ne,oe.w,oe.h)),X=v.call(this,ae),Ae=[],qe=0;qe<X.length;qe+=1)Ae.indexOf(X[qe])===-1&&Ae.push(X[qe]);j(Ae);for(var tt=Ae[0],ze=Ae[Ae.length-1],lt=tt;lt<ze+1;lt++){this.pdf.setPage(lt);var me=lt===1?this.posY+this.margin[0]:this.margin[0],_e=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ce=this.pdf.internal.pageSize.height-this.margin[2],Xe=Ce-this.margin[0],He=this.pdf.internal.pageSize.width-this.margin[1],we=He-this.margin[3],Me=lt===1?0:_e+(lt-2)*Xe;if(this.ctx.clip_path.length!==0){var et=this.path;ie=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(ie,this.posX+this.margin[3],-1*Me+me),S.call(this,"fill",!0),this.path=et}var Ge=w([JSON.parse(JSON.stringify(ae))],this.posX+this.margin[3],-Me+me+this.ctx.prevPageLastElemOffset)[0];z.scale>=.01&&(ce=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ce*z.scale),te=this.lineWidth,this.lineWidth=te*z.scale);var wt=this.autoPaging!=="text";if(wt||Ge.y+Ge.h<=Ce){if(wt||Ge.y>=me&&Ge.x<=He){var kt=wt?z.text:this.pdf.splitTextToSize(z.text,z.maxWidth||He-Ge.x)[0],Bn=w([JSON.parse(JSON.stringify(Se))],this.posX+this.margin[3],-Me+me+this.ctx.prevPageLastElemOffset)[0],pn=wt&&(lt>tt||lt<ze)&&y.call(this);pn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],we,Xe,null).clip().discardPath()),this.pdf.text(kt,Bn.x,Bn.y,{angle:z.angle,align:F,renderingMode:z.renderingMode}),pn&&this.pdf.restoreGraphicsState()}}else Ge.y<Ce&&(this.ctx.prevPageLastElemOffset+=Ce-Ge.y);z.scale>=.01&&(this.pdf.setFontSize(ce),this.lineWidth=te)}}else z.scale>=.01&&(ce=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ce*z.scale),te=this.lineWidth,this.lineWidth=te*z.scale),this.pdf.text(z.text,xe.x+this.posX,xe.y+this.posY,{angle:z.angle,align:F,renderingMode:z.renderingMode,maxWidth:z.maxWidth}),z.scale>=.01&&(this.pdf.setFontSize(ce),this.lineWidth=te)},B=function(z,F,ie,ce){ie=ie||0,ce=ce||0,this.pdf.internal.out(n(z+ie)+" "+r(F+ce)+" l")},$=function(z,F,ie){return this.pdf.lines(z,F,ie,null,null)},K=function(z,F,ie,ce,te,oe,ve,ne){this.pdf.internal.out([t(i(ie+z)),t(a(ce+F)),t(i(te+z)),t(a(oe+F)),t(i(ve+z)),t(a(ne+F)),"c"].join(" "))},Y=function(z,F,ie,ce){for(var te=2*Math.PI,oe=Math.PI/2;F>ie;)F-=te;var ve=Math.abs(ie-F);ve<te&&ce&&(ve=te-ve);for(var ne=[],xe=ce?-1:1,ue=F;ve>1e-5;){var re=ue+xe*Math.min(ve,oe);ne.push(Q.call(this,z,ue,re)),ve-=Math.abs(re-ue),ue=re}return ne},Q=function(z,F,ie){var ce=(ie-F)/2,te=z*Math.cos(ce),oe=z*Math.sin(ce),ve=te,ne=-oe,xe=ve*ve+ne*ne,ue=xe+ve*te+ne*oe,re=4/3*(Math.sqrt(2*xe*ue)-ue)/(ve*oe-ne*te),Se=ve-re*ne,ae=ne+re*ve,X=Se,Ae=-ae,qe=ce+F,tt=Math.cos(qe),ze=Math.sin(qe);return{x1:z*Math.cos(F),y1:z*Math.sin(F),x2:Se*tt-ae*ze,y2:Se*ze+ae*tt,x3:X*tt-Ae*ze,y3:X*ze+Ae*tt,x4:z*Math.cos(ie),y4:z*Math.sin(ie)}},H=function(z){return 180*z/Math.PI},G=function(z,F,ie,ce,te,oe){var ve=z+.5*(ie-z),ne=F+.5*(ce-F),xe=te+.5*(ie-te),ue=oe+.5*(ce-oe),re=Math.min(z,te,ve,xe),Se=Math.max(z,te,ve,xe),ae=Math.min(F,oe,ne,ue),X=Math.max(F,oe,ne,ue);return new l(re,ae,Se-re,X-ae)},U=function(z,F,ie,ce,te,oe,ve,ne){var xe,ue,re,Se,ae,X,Ae,qe,tt,ze,lt,me,_e,Ce,Xe=ie-z,He=ce-F,we=te-ie,Me=oe-ce,et=ve-te,Ge=ne-oe;for(ue=0;ue<41;ue++)tt=(Ae=(re=z+(xe=ue/40)*Xe)+xe*((ae=ie+xe*we)-re))+xe*(ae+xe*(te+xe*et-ae)-Ae),ze=(qe=(Se=F+xe*He)+xe*((X=ce+xe*Me)-Se))+xe*(X+xe*(oe+xe*Ge-X)-qe),ue==0?(lt=tt,me=ze,_e=tt,Ce=ze):(lt=Math.min(lt,tt),me=Math.min(me,ze),_e=Math.max(_e,tt),Ce=Math.max(Ce,ze));return new l(Math.round(lt),Math.round(me),Math.round(_e-lt),Math.round(Ce-me))},ee=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var z,F,ie=(z=this.ctx.lineDash,F=this.ctx.lineDashOffset,JSON.stringify({lineDash:z,lineDashOffset:F}));this.prevLineDash!==ie&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=ie)}}})(tn.API),function(e){var t=function(o){var l,c,u,d,f,m,h,g,y,v;for(c=[],u=0,d=(o+=l="\0\0\0\0".slice(o.length%4||4)).length;d>u;u+=4)(f=(o.charCodeAt(u)<<24)+(o.charCodeAt(u+1)<<16)+(o.charCodeAt(u+2)<<8)+o.charCodeAt(u+3))!==0?(m=(f=((f=((f=((f=(f-(v=f%85))/85)-(y=f%85))/85)-(g=f%85))/85)-(h=f%85))/85)%85,c.push(m+33,h+33,g+33,y+33,v+33)):c.push(122);return function(x,w){for(var j=w;j>0;j--)x.pop()}(c,l.length),String.fromCharCode.apply(String,c)+"~>"},n=function(o){var l,c,u,d,f,m=String,h="length",g=255,y="charCodeAt",v="slice",x="replace";for(o[v](-2),o=o[v](0,-2)[x](/\s/g,"")[x]("z","!!!!!"),u=[],d=0,f=(o+=l="uuuuu"[v](o[h]%5||5))[h];f>d;d+=5)c=52200625*(o[y](d)-33)+614125*(o[y](d+1)-33)+7225*(o[y](d+2)-33)+85*(o[y](d+3)-33)+(o[y](d+4)-33),u.push(g&c>>24,g&c>>16,g&c>>8,g&c);return function(w,j){for(var _=j;_>0;_--)w.pop()}(u,l[h]),m.fromCharCode.apply(m,u)},r=function(o){return o.split("").map(function(l){return("0"+l.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(o){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),l.test(o)===!1)return"";for(var c="",u=0;u<o.length;u+=2)c+=String.fromCharCode("0x"+(o[u]+o[u+1]));return c},a=function(o){for(var l=new Uint8Array(o.length),c=o.length;c--;)l[c]=o.charCodeAt(c);return(l=II(l)).reduce(function(u,d){return u+String.fromCharCode(d)},"")};e.processDataByFilters=function(o,l){var c=0,u=o||"",d=[];for(typeof(l=l||[])=="string"&&(l=[l]),c=0;c<l.length;c+=1)switch(l[c]){case"ASCII85Decode":case"/ASCII85Decode":u=n(u),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=t(u),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=i(u),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=r(u),d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=a(u),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[c]+'" is not implemented')}return{data:u,reverseChain:d.reverse().join(" ")}}}(tn.API),function(e){e.loadFile=function(t,n,r){return function(i,a,o){a=a!==!1,o=typeof o=="function"?o:function(){};var l=void 0;try{l=function(c,u,d){var f=new XMLHttpRequest,m=0,h=function(g){var y=g.length,v=[],x=String.fromCharCode;for(m=0;m<y;m+=1)v.push(x(255&g.charCodeAt(m)));return v.join("")};if(f.open("GET",c,!u),f.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(f.onload=function(){f.status===200?d(h(this.responseText)):d(void 0)}),f.send(null),u&&f.status===200)return h(f.responseText)}(i,a,o)}catch{}return l}(t,n,r)},e.loadImageFile=e.loadFile}(tn.API),function(e){function t(){return(Ln.html2canvas?Promise.resolve(Ln.html2canvas):L1(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function n(){return(Ln.DOMPurify?Promise.resolve(Ln.DOMPurify):L1(()=>import("./purify.es-B9ZVCkUG.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var r=function(l){var c=Jr(l);return c==="undefined"?"undefined":c==="string"||l instanceof String?"string":c==="number"||l instanceof Number?"number":c==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":c==="object"?"object":"unknown"},i=function(l,c){var u=document.createElement(l);for(var d in c.className&&(u.className=c.className),c.innerHTML&&c.dompurify&&(u.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)u.style[d]=c.style[d];return u},a=function l(c,u){for(var d=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),f=c.firstChild;f;f=f.nextSibling)u!==!0&&f.nodeType===1&&f.nodeName==="SCRIPT"||d.appendChild(l(f,u));return c.nodeType===1&&(c.nodeName==="CANVAS"?(d.width=c.width,d.height=c.height,d.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(d.value=c.value),d.addEventListener("load",function(){d.scrollTop=c.scrollTop,d.scrollLeft=c.scrollLeft},!0)),d},o=function l(c){var u=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),d=l.convert(Promise.resolve(),u);return(d=d.setProgress(1,l,1,[l])).set(c)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(l,c){return l.__proto__=c||o.prototype,l},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(l,c){return this.then(function(){switch(c=c||function(u){switch(r(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(l),c){case"string":return this.then(n).then(function(u){return this.set({src:i("div",{innerHTML:l,dompurify:u})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},o.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=a(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(t).then(function(c){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,c(this.prop.container,u)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(t).then(function(c){var u=this.opt.jsPDF,d=this.opt.fontFaces,f=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,m=Object.assign({async:!0,allowTaint:!0,scale:f,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete m.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=d,d)for(var h=0;h<d.length;++h){var g=d[h],y=g.src.find(function(v){return v.format==="truetype"});y&&u.addFont(y.url,g.ref.name,g.ref.style)}return m.windowHeight=m.windowHeight||0,m.windowHeight=m.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):m.windowHeight,u.context2d.save(!0),c(this.prop.container,m)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(l,c,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(l,c):this.outputPdf(l,c)},o.prototype.outputPdf=function(l,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,c)})},o.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},o.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(l){if(r(l)!=="object")return this;var c=Object.keys(l||{}).map(function(u){if(u in o.template.prop)return function(){this.prop[u]=l[u]};switch(u){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[u]=l[u]}}},this);return this.then(function(){return this.thenList(c)})},o.prototype.get=function(l,c){return this.then(function(){var u=l in o.template.prop?this.prop[l]:this.opt[l];return c?c(u):u})},o.prototype.setMargin=function(l){return this.then(function(){switch(r(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},o.prototype.setPageSize=function(l){function c(u,d){return Math.floor(u*d/72*96)}return this.then(function(){(l=l||tn.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:c(l.inner.width,l.k),height:c(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},o.prototype.setProgress=function(l,c,u,d){return l!=null&&(this.progress.val=l),c!=null&&(this.progress.state=c),u!=null&&(this.progress.n=u),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(l,c,u,d){return this.setProgress(l?this.progress.val+l:null,c||null,u?this.progress.n+u:null,d?this.progress.stack.concat(d):null)},o.prototype.then=function(l,c){var u=this;return this.thenCore(l,c,function(d,f){return u.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(m){return u.updateProgress(null,d),m}).then(d,f).then(function(m){return u.updateProgress(1),m})})},o.prototype.thenCore=function(l,c,u){u=u||Promise.prototype.then;var d=this;l&&(l=l.bind(d)),c&&(c=c.bind(d));var f=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?d:o.convert(Object.assign({},d),Promise.prototype),m=u.call(f,l,c);return o.convert(m,d.__proto__)},o.prototype.thenExternal=function(l,c){return Promise.prototype.then.call(this,l,c)},o.prototype.thenList=function(l){var c=this;return l.forEach(function(u){c=c.thenCore(u)}),c},o.prototype.catch=function(l){l&&(l=l.bind(this));var c=Promise.prototype.catch.call(this,l);return o.convert(c,this)},o.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},o.prototype.error=function(l){return this.then(function(){throw new Error(l)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,tn.getPageSize=function(l,c,u){if(Jr(l)==="object"){var d=l;l=d.orientation,c=d.unit||c,u=d.format||u}c=c||"mm",u=u||"a4",l=(""+(l||"P")).toLowerCase();var f,m=(""+u).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":f=1;break;case"mm":f=72/25.4;break;case"cm":f=72/2.54;break;case"in":f=72;break;case"px":f=.75;break;case"pc":case"em":f=12;break;case"ex":f=6;break;default:throw"Invalid unit: "+c}var g,y=0,v=0;if(h.hasOwnProperty(m))y=h[m][1]/f,v=h[m][0]/f;else try{y=u[1],v=u[0]}catch{throw new Error("Invalid format: "+u)}if(l==="p"||l==="portrait")l="p",v>y&&(g=v,v=y,y=g);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",y>v&&(g=v,v=y,y=g)}return{width:v,height:y,unit:c,k:f,orientation:l}},e.html=function(l,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(Q4):null;var u=new o(c);return c.worker?u:u.from(l).doCallback()}}(tn.API),tn.API.addJS=function(e){return PG=e,this.internal.events.subscribe("postPutResources",function(){S_=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(S_+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),EG=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+PG+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){S_!==void 0&&EG!==void 0&&this.internal.out("/Names <</JavaScript "+S_+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),a=0;a<i.length;a++){var o=i[a],l=r.exec(o);if(l!=null){var c=l[1];n.internal.newObjectDeferredBegin(c,!1)}n.internal.write(o)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,d=[];for(a=0;a<u;a++){var f=n.internal.newObject();d.push(f);var m=n.internal.getPageInfo(a+1);n.internal.write("<< /D["+m.objId+" 0 R /XYZ null null null]>> endobj")}var h=n.internal.newObject();for(n.internal.write("<< /Names [ "),a=0;a<d.length;a++)n.internal.write("(page_"+(a+1)+")"+d[a]+" 0 R");n.internal.write(" ] >>","endobj"),t=n.internal.newObject(),n.internal.write("<< /Dests "+h+" 0 R"),n.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var n=this;n.outline.root.children.length>0&&(n.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&n.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,a){var o={title:i,options:a,children:[]};return r==null&&(r=this.root),r.children.push(o),o},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<r.children.length;a++){var o=r.children[a];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(r)),a>0&&this.line("/Prev "+this.makeRef(r.children[a-1])),a<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[a+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var l=this.count=this.count_r({count:0},o);if(l>0&&this.line("/Count "+l),o.options&&o.options.pageNumber){var c=n.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var u=0;u<r.children.length;u++)this.renderItems(r.children[u])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var a=0;a<i.children.length;a++)r.count++,this.count_r(r,i.children[a]);return r.count}}])}(tn.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(n,r,i,a,o,l){var c,u=this.decode.DCT_DECODE,d=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=o||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,c=function(f){for(var m,h=256*f.charCodeAt(4)+f.charCodeAt(5),g=f.length,y={width:0,height:0,numcomponents:1},v=4;v<g;v+=2){if(v+=h,t.indexOf(f.charCodeAt(v+1))!==-1){m=256*f.charCodeAt(v+5)+f.charCodeAt(v+6),y={width:256*f.charCodeAt(v+7)+f.charCodeAt(v+8),height:m,numcomponents:f.charCodeAt(v+9)};break}h=256*f.charCodeAt(v+2)+f.charCodeAt(v+3)}return y}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n),c.numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}d={data:n,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:u,index:r,alias:i}}return d}}(tn.API),tn.API.processPNG=function(e,t,n,r){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var i,a=cmt(e,{checkCrc:!0}),o=a.width,l=a.height,c=a.channels,u=a.palette,d=a.depth;i=u&&c===1?function(M){for(var T=M.width,R=M.height,D=M.data,I=M.palette,B=M.depth,$=!1,K=[],Y=[],Q=void 0,H=!1,G=0,U=0;U<I.length;U++){var ee=LK(I[U],4),z=ee[0],F=ee[1],ie=ee[2],ce=ee[3];K.push(z,F,ie),ce!=null&&(ce===0?(G++,Y.length<1&&Y.push(U)):ce<255&&(H=!0))}if(H||G>1){$=!0,Y=void 0;var te=T*R;Q=new Uint8Array(te);for(var oe=new DataView(D.buffer),ve=0;ve<te;ve++){var ne=eO(oe,ve,B),xe=LK(I[ne],4)[3];Q[ve]=xe}}else G===0&&(Y=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:$?8:void 0,colorBytes:D,alphaBytes:Q,needSMask:$,palette:K,mask:Y}}(a):c===2||c===4?function(M){for(var T=M.data,R=M.width,D=M.height,I=M.channels,B=M.depth,$=I===2?"DeviceGray":"DeviceRGB",K=I-1,Y=R*D,Q=K,H=Y*Q,G=1*Y,U=Math.ceil(H*B/8),ee=Math.ceil(G*B/8),z=new Uint8Array(U),F=new Uint8Array(ee),ie=new DataView(T.buffer),ce=new DataView(z.buffer),te=new DataView(F.buffer),oe=!1,ve=0;ve<Y;ve++){for(var ne=ve*I,xe=0;xe<Q;xe++)$G(ce,eO(ie,ne+xe,B),ve*Q+xe,B);var ue=eO(ie,ne+Q,B);ue<(1<<B)-1&&(oe=!0),$G(te,ue,1*ve,B)}return{colorSpace:$,colorsPerPixel:K,sMaskBitsPerComponent:oe?B:void 0,colorBytes:z,alphaBytes:F,needSMask:oe}}(a):function(M){var T=M.data,R=M.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:R,colorsPerPixel:R==="DeviceGray"?1:3,colorBytes:T instanceof Uint16Array?function(D){for(var I=D.length,B=new Uint8Array(2*I),$=new DataView(B.buffer,B.byteOffset,B.byteLength),K=0;K<I;K++)$.setUint16(2*K,D[K],!1);return B}(T):T,needSMask:!1}}(a);var f,m,h,g=i,y=g.colorSpace,v=g.colorsPerPixel,x=g.sMaskBitsPerComponent,w=g.colorBytes,j=g.alphaBytes,_=g.needSMask,S=g.palette,k=g.mask,P=null;return r!==tn.API.image_compression.NONE&&typeof II=="function"?(P=function(M){var T;switch(M){case tn.API.image_compression.FAST:T=11;break;case tn.API.image_compression.MEDIUM:T=13;break;case tn.API.image_compression.SLOW:T=14;break;default:T=12}return T}(r),f=this.decode.FLATE_DECODE,m="/Predictor ".concat(P," /Colors ").concat(v," /BitsPerComponent ").concat(d," /Columns ").concat(o),e=LG(w,Math.ceil(o*v*d/8),v,d,r),_&&(h=LG(j,Math.ceil(o*x/8),1,x,r))):(f=void 0,m=void 0,e=w,_&&(h=j)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(h&&this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),{alias:n,data:e,index:t,filter:f,decodeParameters:m,transparency:k,palette:S,sMask:h,predictor:P,width:o,height:l,bitsPerComponent:d,sMaskBitsPerComponent:x,colorSpace:y}}},function(e){e.processGIF89A=function(t,n,r,i){var a=new Amt(t),o=a.width,l=a.height,c=[];a.decodeAndBlitFrameRGBA(0,c);var u={data:c,width:o,height:l},d=new tO(100).encode(u,100);return e.processJPEG.call(this,d,n,r,i)},e.processGIF87A=e.processGIF89A}(tn.API),Iu.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:i,green:r,blue:n,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Iu.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(n){ui.log("bit decode error:"+n)}},Iu.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),n=t%4;for(e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,i=0;i<t;i++)for(var a=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*i*4,l=0;l<8&&8*i+l<this.width;l++){var c=this.palette[a>>7-l&1];this.data[o+4*l]=c.blue,this.data[o+4*l+1]=c.green,this.data[o+4*l+2]=c.red,this.data[o+4*l+3]=255}n!==0&&(this.pos+=4-n)}},Iu.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<e;i++){var a=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*i*4,l=a>>4,c=15&a,u=this.palette[l];if(this.data[o]=u.blue,this.data[o+1]=u.green,this.data[o+2]=u.red,this.data[o+3]=255,2*i+1>=this.width)break;u=this.palette[c],this.data[o+4]=u.blue,this.data[o+4+1]=u.green,this.data[o+4+2]=u.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},Iu.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+4*r;if(i<this.palette.length){var o=this.palette[i];this.data[a]=o.red,this.data[a+1]=o.green,this.data[a+2]=o.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}e!==0&&(this.pos+=4-e)}},Iu.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&t)/t*255|0,l=(a>>5&t)/t*255|0,c=(a>>10&t)/t*255|0,u=a>>15?255:0,d=r*this.width*4+4*i;this.data[d]=c,this.data[d+1]=l,this.data[d+2]=o,this.data[d+3]=u}this.pos+=e}},Iu.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(o&t)/t*255|0,c=(o>>5&n)/n*255|0,u=(o>>11)/t*255|0,d=i*this.width*4+4*a;this.data[d]=u,this.data[d+1]=c,this.data[d+2]=l,this.data[d+3]=255}this.pos+=e}},Iu.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*n;this.data[o]=a,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},Iu.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*n;this.data[l]=a,this.data[l+1]=i,this.data[l+2]=r,this.data[l+3]=o}},Iu.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,n,r,i){var a=new Iu(t,!1),o=a.width,l=a.height,c={data:a.getData(),width:o,height:l},u=new tO(100).encode(c,100);return e.processJPEG.call(this,u,n,r,i)}}(tn.API),BG.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,n,r,i){var a=new BG(t),o=a.width,l=a.height,c={data:a.getData(),width:o,height:l},u=new tO(100).encode(c,100);return e.processJPEG.call(this,u,n,r,i)}}(tn.API),tn.API.processRGBA=function(e,t,n){for(var r=e.data,i=r.length,a=new Uint8Array(i/4*3),o=new Uint8Array(i/4),l=0,c=0,u=0;u<i;u+=4){var d=r[u],f=r[u+1],m=r[u+2],h=r[u+3];a[l++]=d,a[l++]=f,a[l++]=m,o[c++]=h}var g=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:g,index:t,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},tn.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},hx=tn.API,k_=hx.getCharWidthsArray=function(e,t){var n,r,i=(t=t||{}).font||this.internal.getFont(),a=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),l=t.widths?t.widths:i.metadata.Unicode.widths,c=l.fof?l.fof:1,u=t.kerning?t.kerning:i.metadata.Unicode.kerning,d=u.fof?u.fof:1,f=t.doKerning!==!1,m=0,h=e.length,g=0,y=l[0]||c,v=[];for(n=0;n<h;n++)r=e.charCodeAt(n),typeof i.metadata.widthOfString=="function"?v.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+o*(1e3/a)||0)/1e3):(m=f&&Jr(u[r])==="object"&&!isNaN(parseInt(u[r][g],10))?u[r][g]/d:0,v.push((l[r]||y)/c+m)),g=r;return v},AG=hx.getStringUnitWidth=function(e,t){var n=(t=t||{}).fontSize||this.internal.getFontSize(),r=t.font||this.internal.getFont(),i=t.charSpace||this.internal.getCharSpace();return hx.processArabic&&(e=hx.processArabic(e)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(e,n,i)/n:k_.apply(this,arguments).reduce(function(a,o){return a+o},0)},TG=function(e,t,n,r){for(var i=[],a=0,o=e.length,l=0;a!==o&&l+t[a]<n;)l+=t[a],a++;i.push(e.slice(0,a));var c=a;for(l=0;a!==o;)l+t[a]>r&&(i.push(e.slice(c,a)),l=0,c=a),l+=t[a],a++;return c!==a&&i.push(e.slice(c,a)),i},OG=function(e,t,n){n||(n={});var r,i,a,o,l,c,u,d=[],f=[d],m=n.textIndent||0,h=0,g=0,y=e.split(" "),v=k_.apply(this,[" ",n])[0];if(c=n.lineIndent===-1?y[0].length+2:n.lineIndent||0){var x=Array(c).join(" "),w=[];y.map(function(_){(_=_.split(/\s*\n/)).length>1?w=w.concat(_.map(function(S,k){return(k&&S.length?`
`:"")+S})):w.push(_[0])}),y=w,c=AG.apply(this,[x,n])}for(a=0,o=y.length;a<o;a++){var j=0;if(r=y[a],c&&r[0]==`
`&&(r=r.substr(1),j=1),m+h+(g=(i=k_.apply(this,[r,n])).reduce(function(_,S){return _+S},0))>t||j){if(g>t){for(l=TG.apply(this,[r,i,t-(m+h),t]),d.push(l.shift()),d=[l.pop()];l.length;)f.push([l.shift()]);g=i.slice(r.length-(d[0]?d[0].length:0)).reduce(function(_,S){return _+S},0)}else d=[r];f.push(d),m=g+c,h=v}else d.push(r),m+=h+g,h=v}return u=c?function(_,S){return(S?x:"")+_.join(" ")}:function(_){return _.join(" ")},f.map(u)},hx.splitTextToSize=function(e,t,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),a=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var f=this.internal.getFont(d.fontName,d.fontStyle),m="Unicode";return f.metadata[m]?{widths:f.metadata[m].widths||{0:1},kerning:f.metadata[m].kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/i;a.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,a.lineIndent=n.lineIndent;var l,c,u=[];for(l=0,c=r.length;l<c;l++)u=u.concat(OG.apply(this,[r[l],o,a]));return u},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",n="klmnopqrstuvwxyz",r={},i={},a=0;a<16;a++)r[n[a]]=t[a],i[t[a]]=n[a];var o=function(m){return"0x"+parseInt(m,10).toString(16)},l=e.__fontmetrics__.compress=function(m){var h,g,y,v,x=["{"];for(var w in m){if(h=m[w],isNaN(parseInt(w,10))?g="'"+w+"'":(w=parseInt(w,10),g=(g=o(w).slice(2)).slice(0,-1)+i[g.slice(-1)]),typeof h=="number")h<0?(y=o(h).slice(3),v="-"):(y=o(h).slice(2),v=""),y=v+y.slice(0,-1)+i[y.slice(-1)];else{if(Jr(h)!=="object")throw new Error("Don't know what to do with value type "+Jr(h)+".");y=l(h)}x.push(g+y)}return x.push("}"),x.join("")},c=e.__fontmetrics__.uncompress=function(m){if(typeof m!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,g,y,v,x={},w=1,j=x,_=[],S="",k="",P=m.length-1,M=1;M<P;M+=1)(v=m[M])=="'"?h?(y=h.join(""),h=void 0):h=[]:h?h.push(v):v=="{"?(_.push([j,y]),j={},y=void 0):v=="}"?((g=_.pop())[0][g[1]]=j,y=void 0,j=g[0]):v=="-"?w=-1:y===void 0?r.hasOwnProperty(v)?(S+=r[v],y=parseInt(S,16)*w,w=1,S=""):S+=v:r.hasOwnProperty(v)?(k+=r[v],j[y]=parseInt(k,16)*w,w=1,y=void 0,k=""):k+=v;return x},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},f={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(m){var h=m.font,g=f.Unicode[h.postScriptName];g&&(h.metadata.Unicode={},h.metadata.Unicode.widths=g.widths,h.metadata.Unicode.kerning=g.kerning);var y=d.Unicode[h.postScriptName];y&&(h.metadata.Unicode.encoding=y,h.encoding=y.codePages[0])}])}(tn.API),function(e){var t=function(n){for(var r=n.length,i=new Uint8Array(r),a=0;a<r;a++)i[a]=n.charCodeAt(a);return i};e.API.events.push(["addFont",function(n){var r=void 0,i=n.font,a=n.instance;if(!i.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=a.existsFileInVFS(i.postScriptName)===!1?a.loadFile(i.postScriptName):a.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,l){l=/^\x00\x01\x00\x00/.test(l)?t(l):t(pS(l)),o.metadata=e.API.TTFFont.open(l),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,r)}}])}(tn),tn.API.addSvgAsImage=function(e,t,n,r,i,a,o,l){if(isNaN(t)||isNaN(n))throw ui.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(i))throw ui.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=r,c.height=i;var u=c.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,c.width,c.height);var d={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},f=this;return(Ln.canvg?Promise.resolve(Ln.canvg):L1(()=>import("./index.es-CGU6b3GA.js"),[])).catch(function(m){return Promise.reject(new Error("Could not load canvg: "+m))}).then(function(m){return m.default?m.default:m}).then(function(m){return m.fromString(u,e,d)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(m){return m.render(d)}).then(function(){f.addImage(c.toDataURL("image/jpeg",1),t,n,r,i,o,l)})},tn.API.putTotalPages=function(e){var t,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),n=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(t,n);return this},tn.API.viewerPreferences=function(e,t){var n;e=e||{},t=t||!1;var r,i,a,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(o),c=[],u=0,d=0,f=0;function m(g,y){var v,x=!1;for(v=0;v<g.length;v+=1)g[v]===y&&(x=!0);return x}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var h=l.length;for(f=0;f<h;f+=1)n[l[f]].value=n[l[f]].defaultValue,n[l[f]].explicitSet=!1}if(Jr(e)==="object"){for(i in e)if(a=e[i],m(l,i)&&a!==void 0){if(n[i].type==="boolean"&&typeof a=="boolean")n[i].value=a;else if(n[i].type==="name"&&m(n[i].valueSet,a))n[i].value=a;else if(n[i].type==="integer"&&Number.isInteger(a))n[i].value=a;else if(n[i].type==="array"){for(u=0;u<a.length;u+=1)if(r=!0,a[u].length===1&&typeof a[u][0]=="number")c.push(String(a[u]-1));else if(a[u].length>1){for(d=0;d<a[u].length;d+=1)typeof a[u][d]!="number"&&(r=!1);r===!0&&c.push([a[u][0]-1,a[u][1]-1].join(" "))}n[i].value="["+c.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var g,y=[];for(g in n)n[g].explicitSet===!0&&(n[g].type==="name"?y.push("/"+g+" /"+n[g].value):y.push("/"+g+" "+n[g].value));y.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+y.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(e){var t=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(r)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),u=a.length+o.length+l.length+i.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(i+a+o+l+c),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",t)),this}}(tn.API),function(e){var t=e.API,n=t.pdfEscape16=function(a,o){for(var l,c=o.metadata.Unicode.widths,u=["","0","00","000","0000"],d=[""],f=0,m=a.length;f<m;++f){if(l=o.metadata.characterToGlyph(a.charCodeAt(f)),o.metadata.glyIdsUsed.push(l),o.metadata.toUnicode[l]=a.charCodeAt(f),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(o.metadata.widthOfGlyph(l),10)])),l=="0")return d.join("");l=l.toString(16),d.push(u[4-l.length],l)}return d.join("")},r=function(a){var o,l,c,u,d,f,m;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],f=0,m=(l=Object.keys(a).sort(function(h,g){return h-g})).length;f<m;f++)o=l[f],c.length>=100&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),a[o]!==void 0&&a[o]!==null&&typeof a[o].toString=="function"&&(u=("0000"+a[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),c.push("<"+o+"><"+u+">"));return c.length&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),d+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(a){(function(o){var l=o.font,c=o.out,u=o.newObject,d=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="Identity-H"){for(var f=l.metadata.Unicode.widths,m=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),h="",g=0;g<m.length;g++)h+=String.fromCharCode(m[g]);var y=u();d({data:h,addLength1:!0,objectId:y}),c("endobj");var v=u();d({data:r(l.metadata.toUnicode),addLength1:!0,objectId:v}),c("endobj");var x=u();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+jx(l.fontName)),c("/FontFile2 "+y+" 0 R"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var w=u();c("<<"),c("/Type /Font"),c("/BaseFont /"+jx(l.fontName)),c("/FontDescriptor "+x+" 0 R"),c("/W "+e.API.PDFObject.convert(f)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=u(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+v+" 0 R"),c("/BaseFont /"+jx(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+w+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(a)}]),t.events.push(["putFont",function(a){(function(o){var l=o.font,c=o.out,u=o.newObject,d=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var f=l.metadata.rawData,m="",h=0;h<f.length;h++)m+=String.fromCharCode(f[h]);var g=u();d({data:m,addLength1:!0,objectId:g}),c("endobj");var y=u();d({data:r(l.metadata.toUnicode),addLength1:!0,objectId:y}),c("endobj");var v=u();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+g+" 0 R"),c("/Flags 96"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+jx(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=u();for(var x=0;x<l.metadata.hmtx.widths.length;x++)l.metadata.hmtx.widths[x]=parseInt(l.metadata.hmtx.widths[x]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+y+" 0 R/BaseFont/"+jx(l.fontName)+"/FontDescriptor "+v+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(a)}]);var i=function(a){var o,l=a.text||"",c=a.x,u=a.y,d=a.options||{},f=a.mutex||{},m=f.pdfEscape,h=f.activeFontKey,g=f.fonts,y=h,v="",x=0,w="",j=g[y].encoding;if(g[y].encoding!=="Identity-H")return{text:l,x:c,y:u,options:d,mutex:f};for(w=l,y=h,Array.isArray(l)&&(w=l[0]),x=0;x<w.length;x+=1)g[y].metadata.hasOwnProperty("cmap")&&(o=g[y].metadata.cmap.unicode.codeMap[w[x].charCodeAt(0)]),o||w[x].charCodeAt(0)<256&&g[y].metadata.hasOwnProperty("Unicode")?v+=w[x]:v+="";var _="";return parseInt(y.slice(1))<14||j==="WinAnsiEncoding"?_=m(v,y).split("").map(function(S){return S.charCodeAt(0).toString(16)}).join(""):j==="Identity-H"&&(_=n(v,g[y])),f.isHex=!0,{text:_,x:c,y:u,options:d,mutex:f}};t.events.push(["postProcessText",function(a){var o=a.text||"",l=[],c={text:o,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(o)){var u=0;for(u=0;u<o.length;u+=1)Array.isArray(o[u])&&o[u].length===3?l.push([i(Object.assign({},c,{text:o[u][0]})).text,o[u][1],o[u][2]]):l.push(i(Object.assign({},c,{text:o[u]})).text);a.text=l}else a.text=i(Object.assign({},c,{text:o})).text}])}(tn),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0},e.addFileToVFS=function(n,r){return t.call(this),this.internal.vFS[n]=r,this},e.getFileFromVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(tn.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(r){var i,a,o,l,c,u,d,f=t,m=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],g={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},y={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},v=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],x=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),w=!1,j=0;this.__bidiEngine__={};var _=function(D){var I=D.charCodeAt(),B=I>>8,$=y[B];return $!==void 0?f[256*$+(255&I)]:B===252||B===253?"AL":x.test(B)?"L":B===8?"R":"N"},S=function(D){for(var I,B=0;B<D.length;B++){if((I=_(D.charAt(B)))==="L")return!1;if(I==="R")return!0}return!1},k=function(D,I,B,$){var K,Y,Q,H,G=I[$];switch(G){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":w=!1;break;case"N":case"AN":break;case"EN":w&&(G="AN");break;case"AL":w=!0,G="R";break;case"WS":case"BN":G="N";break;case"CS":$<1||$+1>=I.length||(K=B[$-1])!=="EN"&&K!=="AN"||(Y=I[$+1])!=="EN"&&Y!=="AN"?G="N":w&&(Y="AN"),G=Y===K?Y:"N";break;case"ES":G=(K=$>0?B[$-1]:"B")==="EN"&&$+1<I.length&&I[$+1]==="EN"?"EN":"N";break;case"ET":if($>0&&B[$-1]==="EN"){G="EN";break}if(w){G="N";break}for(Q=$+1,H=I.length;Q<H&&I[Q]==="ET";)Q++;G=Q<H&&I[Q]==="EN"?"EN":"N";break;case"NSM":if(o&&!l){for(H=I.length,Q=$+1;Q<H&&I[Q]==="NSM";)Q++;if(Q<H){var U=D[$],ee=U>=1425&&U<=2303||U===64286;if(K=I[Q],ee&&(K==="R"||K==="AL")){G="R";break}}}G=$<1||(K=I[$-1])==="B"?"N":B[$-1];break;case"B":w=!1,i=!0,G=j;break;case"S":a=!0,G="N"}return G},P=function(D,I,B){var $=D.split("");return B&&M($,B,{hiLevel:j}),$.reverse(),I&&I.reverse(),$.join("")},M=function(D,I,B){var $,K,Y,Q,H,G=-1,U=D.length,ee=0,z=[],F=j?h:m,ie=[];for(w=!1,i=!1,a=!1,K=0;K<U;K++)ie[K]=_(D[K]);for(Y=0;Y<U;Y++){if(H=ee,z[Y]=k(D,ie,z,Y),$=240&(ee=F[H][g[z[Y]]]),ee&=15,I[Y]=Q=F[ee][5],$>0)if($===16){for(K=G;K<Y;K++)I[K]=1;G=-1}else G=-1;if(F[ee][6])G===-1&&(G=Y);else if(G>-1){for(K=G;K<Y;K++)I[K]=Q;G=-1}ie[Y]==="B"&&(I[Y]=0),B.hiLevel|=Q}a&&function(ce,te,oe){for(var ve=0;ve<oe;ve++)if(ce[ve]==="S"){te[ve]=j;for(var ne=ve-1;ne>=0&&ce[ne]==="WS";ne--)te[ne]=j}}(ie,I,U)},T=function(D,I,B,$,K){if(!(K.hiLevel<D)){if(D===1&&j===1&&!i)return I.reverse(),void(B&&B.reverse());for(var Y,Q,H,G,U=I.length,ee=0;ee<U;){if($[ee]>=D){for(H=ee+1;H<U&&$[H]>=D;)H++;for(G=ee,Q=H-1;G<Q;G++,Q--)Y=I[G],I[G]=I[Q],I[Q]=Y,B&&(Y=B[G],B[G]=B[Q],B[Q]=Y);ee=H}ee++}}},R=function(D,I,B){var $=D.split(""),K={hiLevel:j};return B||(B=[]),M($,B,K),function(Y,Q,H){if(H.hiLevel!==0&&d)for(var G,U=0;U<Y.length;U++)Q[U]===1&&(G=v.indexOf(Y[U]))>=0&&(Y[U]=v[G+1])}($,B,K),T(2,$,I,B,K),T(1,$,I,B,K),$.join("")};return this.__bidiEngine__.doBidiReorder=function(D,I,B){if(function(K,Y){if(Y)for(var Q=0;Q<K.length;Q++)Y[Q]=Q;l===void 0&&(l=S(K)),u===void 0&&(u=S(K))}(D,I),o||!c||u)if(o&&c&&l^u)j=l?1:0,D=P(D,I,B);else if(!o&&c&&u)j=l?1:0,D=R(D,I,B),D=P(D,I);else if(!o||l||c||u){if(o&&!c&&l^u)D=P(D,I),l?(j=0,D=R(D,I,B)):(j=1,D=R(D,I,B),D=P(D,I));else if(o&&l&&!c&&u)j=1,D=R(D,I,B),D=P(D,I);else if(!o&&!c&&l^u){var $=d;l?(j=1,D=R(D,I,B),j=0,d=!1,D=R(D,I,B),d=$):(j=0,D=R(D,I,B),D=P(D,I),j=1,d=!1,D=R(D,I,B),d=$,D=P(D,I))}}else j=0,D=R(D,I,B);else j=l?1:0,D=R(D,I,B);return D},this.__bidiEngine__.setOptions=function(D){D&&(o=D.isInputVisual,c=D.isOutputVisual,l=D.isInputRtl,u=D.isOutputRtl,d=D.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var a=r.options||{};r.mutex,a.lang;var o=[];if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,n.setOptions(a),Object.prototype.toString.call(i)==="[object Array]"){var l=0;for(o=[],l=0;l<i.length;l+=1)Object.prototype.toString.call(i[l])==="[object Array]"?o.push([n.doBidiReorder(i[l][0]),i[l][1],i[l][2]]):o.push([n.doBidiReorder(i[l])]);r.text=o}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])}(tn),tn.API.TTFFont=function(){function e(t){var n;if(this.rawData=t,n=this.contents=new yp(t),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new Wmt(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new Tmt(this.contents),this.head=new Lmt(this),this.name=new $mt(this),this.cmap=new Zpe(this),this.toUnicode={},this.hhea=new Mmt(this),this.maxp=new Fmt(this),this.hmtx=new Bmt(this),this.post=new Dmt(this),this.os2=new Imt(this),this.loca=new Umt(this),this.glyf=new zmt(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,n,r,i,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,l,c,u;for(u=[],o=0,l=(c=this.bbox).length;o<l;o++)t=c[o],u.push(Math.round(t*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var n;return((n=this.cmap.unicode)!=null?n.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*n},e.prototype.widthOfString=function(t,n,r){var i,a,o,l;for(o=0,a=0,l=(t=""+t).length;0<=l?a<l:a>l;a=0<=l?++a:--a)i=t.charCodeAt(a),o+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return o*(n/1e3)},e.prototype.lineHeight=function(t,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*t},e}();var gd,yp=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var n,r;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},e.prototype.writeString=function(t){var n,r,i;for(i=[],n=0,r=t.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(t.charCodeAt(n)));return i},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,n,r,i,a,o,l,c;return t=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),a=this.readByte(),o=this.readByte(),l=this.readByte(),c=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^a)+65536*(255^o)+256*(255^l)+(255^c)+1):72057594037927940*t+281474976710656*n+1099511627776*r+4294967296*i+16777216*a+65536*o+256*l+c},e.prototype.writeLongLong=function(t){var n,r;return n=Math.floor(t/4294967296),r=4294967295&t,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var n,r;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n.push(this.readByte());return n},e.prototype.write=function(t){var n,r,i,a;for(a=[],r=0,i=t.length;r<i;r++)n=t[r],a.push(this.writeByte(n));return a},e}(),Tmt=function(){var e;function t(n){var r,i,a;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,a=this.tableCount;0<=a?i<a:i>a;i=0<=a?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return t.prototype.encode=function(n){var r,i,a,o,l,c,u,d,f,m,h,g,y;for(y in h=Object.keys(n).length,c=Math.log(2),f=16*Math.floor(Math.log(h)/c),o=Math.floor(f/c),d=16*h-f,(i=new yp).writeInt(this.scalarType),i.writeShort(h),i.writeShort(f),i.writeShort(o),i.writeShort(d),a=16*h,u=i.pos+a,l=null,g=[],n)for(m=n[y],i.writeString(y),i.writeInt(e(m)),i.writeInt(u),i.writeInt(m.length),g=g.concat(m),y==="head"&&(l=u),u+=m.length;u%4;)g.push(0),u++;return i.write(g),r=2981146554-e(i.data),i.pos=l+8,i.writeUInt32(r),i.data},e=function(n){var r,i,a,o;for(n=Qpe.call(n);n.length%4;)n.push(0);for(a=new yp(n),i=0,r=0,o=n.length;r<o;r=r+=4)i+=a.readUInt32();return 4294967295&i},t}(),Omt={}.hasOwnProperty,_f=function(e,t){for(var n in t)Omt.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};gd=function(){function e(t){var n;this.file=t,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var Lmt=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return _f(e,gd),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var n;return(n=new yp).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(t),n.writeShort(this.glyphDataFormat),n.data},e}(),zG=function(){function e(t,n){var r,i,a,o,l,c,u,d,f,m,h,g,y,v,x,w,j;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=n+t.readInt(),f=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=t.readByte();break;case 4:for(h=t.readUInt16(),m=h/2,t.pos+=6,a=function(){var _,S;for(S=[],c=_=0;0<=m?_<m:_>m;c=0<=m?++_:--_)S.push(t.readUInt16());return S}(),t.pos+=2,y=function(){var _,S;for(S=[],c=_=0;0<=m?_<m:_>m;c=0<=m?++_:--_)S.push(t.readUInt16());return S}(),u=function(){var _,S;for(S=[],c=_=0;0<=m?_<m:_>m;c=0<=m?++_:--_)S.push(t.readUInt16());return S}(),d=function(){var _,S;for(S=[],c=_=0;0<=m?_<m:_>m;c=0<=m?++_:--_)S.push(t.readUInt16());return S}(),i=(this.length-t.pos+this.offset)/2,l=function(){var _,S;for(S=[],c=_=0;0<=i?_<i:_>i;c=0<=i?++_:--_)S.push(t.readUInt16());return S}(),c=x=0,j=a.length;x<j;c=++x)for(v=a[c],r=w=g=y[c];g<=v?w<=v:w>=v;r=g<=v?++w:--w)d[c]===0?o=r+u[c]:(o=l[d[c]/2+(r-g)-(m-c)]||0)!==0&&(o+=u[c]),this.codeMap[r]=65535&o}t.pos=f}return e.encode=function(t,n){var r,i,a,o,l,c,u,d,f,m,h,g,y,v,x,w,j,_,S,k,P,M,T,R,D,I,B,$,K,Y,Q,H,G,U,ee,z,F,ie,ce,te,oe,ve,ne,xe,ue,re;switch($=new yp,o=Object.keys(t).sort(function(Se,ae){return Se-ae}),n){case"macroman":for(y=0,v=function(){var Se=[];for(g=0;g<256;++g)Se.push(0);return Se}(),w={0:0},a={},K=0,G=o.length;K<G;K++)w[ne=t[i=o[K]]]==null&&(w[ne]=++y),a[i]={old:t[i],new:w[t[i]]},v[i]=w[t[i]];return $.writeUInt16(1),$.writeUInt16(0),$.writeUInt32(12),$.writeUInt16(0),$.writeUInt16(262),$.writeUInt16(0),$.write(v),{charMap:a,subtable:$.data,maxGlyphID:y+1};case"unicode":for(I=[],f=[],j=0,w={},r={},x=u=null,Y=0,U=o.length;Y<U;Y++)w[S=t[i=o[Y]]]==null&&(w[S]=++j),r[i]={old:S,new:w[S]},l=w[S]-i,x!=null&&l===u||(x&&f.push(x),I.push(i),u=l),x=i;for(x&&f.push(x),f.push(65535),I.push(65535),R=2*(T=I.length),M=2*Math.pow(Math.log(T)/Math.LN2,2),m=Math.log(M/2)/Math.LN2,P=2*T-M,c=[],k=[],h=[],g=Q=0,ee=I.length;Q<ee;g=++Q){if(D=I[g],d=f[g],D===65535){c.push(0),k.push(0);break}if(D-(B=r[D].new)>=32768)for(c.push(0),k.push(2*(h.length+T-g)),i=H=D;D<=d?H<=d:H>=d;i=D<=d?++H:--H)h.push(r[i].new);else c.push(B-D),k.push(0)}for($.writeUInt16(3),$.writeUInt16(1),$.writeUInt32(12),$.writeUInt16(4),$.writeUInt16(16+8*T+2*h.length),$.writeUInt16(0),$.writeUInt16(R),$.writeUInt16(M),$.writeUInt16(m),$.writeUInt16(P),oe=0,z=f.length;oe<z;oe++)i=f[oe],$.writeUInt16(i);for($.writeUInt16(0),ve=0,F=I.length;ve<F;ve++)i=I[ve],$.writeUInt16(i);for(xe=0,ie=c.length;xe<ie;xe++)l=c[xe],$.writeUInt16(l);for(ue=0,ce=k.length;ue<ce;ue++)_=k[ue],$.writeUInt16(_);for(re=0,te=h.length;re<te;re++)y=h[re],$.writeUInt16(y);return{charMap:r,subtable:$.data,maxGlyphID:j+1}}},e}(),Zpe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return _f(e,gd),e.prototype.tag="cmap",e.prototype.parse=function(t){var n,r,i;for(t.pos=this.offset,this.version=t.readUInt16(),i=t.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=i?r<i:r>i;r=0<=i?++r:--r)n=new zG(t,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},e.encode=function(t,n){var r,i;return n==null&&(n="macroman"),r=zG.encode(t,n),(i=new yp).writeUInt16(0),i.writeUInt16(1),r.table=i.data.concat(r.subtable),r},e}(),Mmt=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return _f(e,gd),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),Imt=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return _f(e,gd),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var n,r;for(r=[],n=0;n<10;++n)r.push(t.readByte());return r}(),this.charRange=function(){var n,r;for(r=[],n=0;n<4;++n)r.push(t.readInt());return r}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var n,r;for(r=[],n=0;n<2;n=++n)r.push(t.readInt());return r}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),Dmt=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return _f(e,gd),e.prototype.tag="post",e.prototype.parse=function(t){var n,r,i;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var a;for(r=t.readUInt16(),this.glyphNameIndex=[],a=0;0<=r?a<r:a>r;a=0<=r?++a:--a)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],i=[];t.pos<this.offset+this.length;)n=t.readByte(),i.push(this.names.push(t.readString(n)));return i;case 151552:return r=t.readUInt16(),this.offsets=t.read(r);case 262144:return this.map=(function(){var o,l,c;for(c=[],a=o=0,l=this.file.maxp.numGlyphs;0<=l?o<l:o>l;a=0<=l?++o:--o)c.push(t.readUInt32());return c}).call(this)}},e}(),Rmt=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},$mt=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return _f(e,gd),e.prototype.tag="name",e.prototype.parse=function(t){var n,r,i,a,o,l,c,u,d,f,m;for(t.pos=this.offset,t.readShort(),n=t.readShort(),l=t.readShort(),r=[],a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)r.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+l+t.readShort()});for(c={},a=d=0,f=r.length;d<f;a=++d)i=r[a],t.pos=i.offset,u=t.readString(i.length),o=new Rmt(u,i),c[m=i.nameID]==null&&(c[m]=[]),c[i.nameID].push(o);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},e}(),Fmt=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return _f(e,gd),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),Bmt=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return _f(e,gd),e.prototype.tag="hmtx",e.prototype.parse=function(t){var n,r,i,a,o,l,c;for(t.pos=this.offset,this.metrics=[],n=0,l=this.file.hhea.numberOfMetrics;0<=l?n<l:n>l;n=0<=l?++n:--n)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,d;for(d=[],n=u=0;0<=i?u<i:u>i;n=0<=i?++u:--u)d.push(t.readInt16());return d}(),this.widths=(function(){var u,d,f,m;for(m=[],u=0,d=(f=this.metrics).length;u<d;u++)a=f[u],m.push(a.advance);return m}).call(this),r=this.widths[this.widths.length-1],c=[],n=o=0;0<=i?o<i:o>i;n=0<=i?++o:--o)c.push(this.widths.push(r));return c},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),Qpe=[].slice,zmt=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return _f(e,gd),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var n,r,i,a,o,l,c,u,d,f;return t in this.cache?this.cache[t]:(a=this.file.loca,n=this.file.contents,r=a.indexOf(t),(i=a.lengthOf(t))===0?this.cache[t]=null:(n.pos=this.offset+r,o=(l=new yp(n.read(i))).readShort(),u=l.readShort(),f=l.readShort(),c=l.readShort(),d=l.readShort(),this.cache[t]=o===-1?new qmt(l,u,f,c,d):new Vmt(l,o,u,f,c,d),this.cache[t]))},e.prototype.encode=function(t,n,r){var i,a,o,l,c;for(o=[],a=[],l=0,c=n.length;l<c;l++)i=t[n[l]],a.push(o.length),i&&(o=o.concat(i.encode(r)));return a.push(o.length),{table:o,offsets:a}},e}(),Vmt=function(){function e(t,n,r,i,a,o){this.raw=t,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=a,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),qmt=function(){function e(t,n,r,i,a){var o,l;for(this.raw=t,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;l=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&l;)o.pos+=1&l?4:2,128&l?o.pos+=8:64&l?o.pos+=4:8&l&&(o.pos+=2)}return e.prototype.encode=function(){var t,n,r;for(n=new yp(Qpe.call(this.raw.data)),t=0,r=this.glyphIDs.length;t<r;++t)n.pos=this.glyphOffsets[t];return n.data},e}(),Umt=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return _f(e,gd),e.prototype.tag="loca",e.prototype.parse=function(t){var n,r;return t.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,a;for(a=[],r=0,i=this.length;r<i;r+=2)a.push(2*t.readUInt16());return a}).call(this):(function(){var i,a;for(a=[],r=0,i=this.length;r<i;r+=4)a.push(t.readUInt32());return a}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,n){for(var r=new Uint32Array(this.offsets.length),i=0,a=0,o=0;o<r.length;++o)if(r[o]=i,a<n.length&&n[a]==o){++a,r[o]=i;var l=this.offsets[o],c=this.offsets[o+1]-l;c>0&&(i+=c)}for(var u=new Array(4*r.length),d=0;d<r.length;++d)u[4*d+3]=255&r[d],u[4*d+2]=(65280&r[d])>>8,u[4*d+1]=(16711680&r[d])>>16,u[4*d]=(4278190080&r[d])>>24;return u},e}(),Wmt=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,n,r,i,a;for(n in i=this.font.cmap.tables[0].codeMap,t={},a=this.subset)r=a[n],t[n]=i[r];return t},e.prototype.glyphsFor=function(t){var n,r,i,a,o,l,c;for(i={},o=0,l=t.length;o<l;o++)i[a=t[o]]=this.font.glyf.glyphFor(a);for(a in n=[],i)(r=i[a])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(a in c=this.glyphsFor(n))r=c[a],i[a]=r;return i},e.prototype.encode=function(t,n){var r,i,a,o,l,c,u,d,f,m,h,g,y,v,x;for(i in r=Zpe.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),h={0:0},x=r.charMap)h[(c=x[i]).old]=c.new;for(g in m=r.maxGlyphID,o)g in h||(h[g]=m++);return d=function(w){var j,_;for(j in _={},w)_[w[j]]=j;return _}(h),f=Object.keys(d).sort(function(w,j){return w-j}),y=function(){var w,j,_;for(_=[],w=0,j=f.length;w<j;w++)l=f[w],_.push(d[l]);return _}(),a=this.font.glyf.encode(o,y,h),u=this.font.loca.encode(a.offsets,y),v={cmap:this.font.cmap.raw(),glyf:a.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(v["OS/2"]=this.font.os2.raw()),this.font.directory.encode(v)},e}();tn.API.PDFObject=function(){var e;function t(){}return e=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},t.convert=function(n){var r,i,a,o;if(Array.isArray(n))return"["+function(){var l,c,u;for(u=[],l=0,c=n.length;l<c;l++)r=n[l],u.push(t.convert(r));return u}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+e(n.getUTCFullYear(),4)+e(n.getUTCMonth(),2)+e(n.getUTCDate(),2)+e(n.getUTCHours(),2)+e(n.getUTCMinutes(),2)+e(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in a=["<<"],n)o=n[i],a.push("/"+i+" "+t.convert(o));return a.push(">>"),a.join(`
`)}return""+n},t}();function yr(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Sl(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function To(e,t){const n=yr(e);return isNaN(t)?Sl(e,NaN):(t&&n.setDate(n.getDate()+t),n)}function su(e,t){const n=yr(e);if(isNaN(t))return Sl(e,NaN);if(!t)return n;const r=n.getDate(),i=Sl(e,n.getTime());i.setMonth(n.getMonth()+t+1,0);const a=i.getDate();return r>=a?i:(n.setFullYear(i.getFullYear(),i.getMonth(),r),n)}const KF=6048e5,Hmt=864e5;let Kmt={};function Vj(){return Kmt}function ou(e,t){var l,c,u,d;const n=Vj(),r=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,i=yr(e),a=i.getDay(),o=(a<r?7:0)+a-r;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function wv(e){return ou(e,{weekStartsOn:1})}function Jpe(e){const t=yr(e),n=t.getFullYear(),r=Sl(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=wv(r),a=Sl(e,0);a.setFullYear(n,0,4),a.setHours(0,0,0,0);const o=wv(a);return t.getTime()>=i.getTime()?n+1:t.getTime()>=o.getTime()?n:n-1}function gf(e){const t=yr(e);return t.setHours(0,0,0,0),t}function Wk(e){const t=yr(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function Yd(e,t){const n=gf(e),r=gf(t),i=+n-Wk(n),a=+r-Wk(r);return Math.round((i-a)/Hmt)}function Gmt(e){const t=Jpe(e),n=Sl(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),wv(n)}function G2(e,t){const n=t*7;return To(e,n)}function qI(e,t){return su(e,t*12)}function ege(e){let t;return e.forEach(function(n){const r=yr(n);(t===void 0||t<r||isNaN(Number(r)))&&(t=r)}),t||new Date(NaN)}function tge(e){let t;return e.forEach(n=>{const r=yr(n);(!t||t>r||isNaN(+r))&&(t=r)}),t||new Date(NaN)}function yl(e,t){const n=gf(e),r=gf(t);return+n==+r}function GF(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Ymt(e){if(!GF(e)&&typeof e!="number")return!1;const t=yr(e);return!isNaN(Number(t))}function Y2(e,t){const n=yr(e),r=yr(t),i=n.getFullYear()-r.getFullYear(),a=n.getMonth()-r.getMonth();return i*12+a}function Xmt(e,t,n){const r=ou(e,n),i=ou(t,n),a=+r-Wk(r),o=+i-Wk(i);return Math.round((a-o)/KF)}function YF(e){const t=yr(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function Fs(e){const t=yr(e);return t.setDate(1),t.setHours(0,0,0,0),t}function XF(e){const t=yr(e),n=Sl(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}function X2(e,t){var l,c,u,d;const n=Vj(),r=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,i=yr(e),a=i.getDay(),o=(a<r?-7:0)+6-(a-r);return i.setDate(i.getDate()+o),i.setHours(23,59,59,999),i}function nge(e){return X2(e,{weekStartsOn:1})}const Zmt={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Qmt=(e,t,n)=>{let r;const i=Zmt[e];return typeof i=="string"?r=i:t===1?r=i.one:r=i.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function vy(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const Jmt={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},ept={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},tpt={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},npt={date:vy({formats:Jmt,defaultWidth:"full"}),time:vy({formats:ept,defaultWidth:"full"}),dateTime:vy({formats:tpt,defaultWidth:"full"})},rpt={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},ipt=(e,t,n,r)=>rpt[e];function $d(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=n!=null&&n.width?String(n.width):o;i=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=n!=null&&n.width?String(n.width):e.defaultWidth;i=e.values[l]||e.values[o]}const a=e.argumentCallback?e.argumentCallback(t):t;return i[a]}}const apt={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},spt={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},opt={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},lpt={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},cpt={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},upt={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},dpt=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},fpt={ordinalNumber:dpt,era:$d({values:apt,defaultWidth:"wide"}),quarter:$d({values:spt,defaultWidth:"wide",argumentCallback:e=>e-1}),month:$d({values:opt,defaultWidth:"wide"}),day:$d({values:lpt,defaultWidth:"wide"}),dayPeriod:$d({values:cpt,defaultWidth:"wide",formattingValues:upt,defaultFormattingWidth:"wide"})};function Fd(e){return(t,n={})=>{const r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],a=t.match(i);if(!a)return null;const o=a[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?mpt(l,f=>f.test(o)):hpt(l,f=>f.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function hpt(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function mpt(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function rge(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const i=r[0],a=t.match(e.parsePattern);if(!a)return null;let o=e.valueCallback?e.valueCallback(a[0]):a[0];o=n.valueCallback?n.valueCallback(o):o;const l=t.slice(i.length);return{value:o,rest:l}}}const ppt=/^(\d+)(th|st|nd|rd)?/i,gpt=/\d+/i,vpt={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},xpt={any:[/^b/i,/^(a|c)/i]},ypt={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},bpt={any:[/1/i,/2/i,/3/i,/4/i]},wpt={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},jpt={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Npt={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},_pt={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Spt={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},kpt={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Cpt={ordinalNumber:rge({matchPattern:ppt,parsePattern:gpt,valueCallback:e=>parseInt(e,10)}),era:Fd({matchPatterns:vpt,defaultMatchWidth:"wide",parsePatterns:xpt,defaultParseWidth:"any"}),quarter:Fd({matchPatterns:ypt,defaultMatchWidth:"wide",parsePatterns:bpt,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Fd({matchPatterns:wpt,defaultMatchWidth:"wide",parsePatterns:jpt,defaultParseWidth:"any"}),day:Fd({matchPatterns:Npt,defaultMatchWidth:"wide",parsePatterns:_pt,defaultParseWidth:"any"}),dayPeriod:Fd({matchPatterns:Spt,defaultMatchWidth:"any",parsePatterns:kpt,defaultParseWidth:"any"})},PP={code:"en-US",formatDistance:Qmt,formatLong:npt,formatRelative:ipt,localize:fpt,match:Cpt,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Ept(e){const t=yr(e);return Yd(t,XF(t))+1}function ige(e){const t=yr(e),n=+wv(t)-+Gmt(t);return Math.round(n/KF)+1}function age(e,t){var d,f,m,h;const n=yr(e),r=n.getFullYear(),i=Vj(),a=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??i.firstWeekContainsDate??((h=(m=i.locale)==null?void 0:m.options)==null?void 0:h.firstWeekContainsDate)??1,o=Sl(e,0);o.setFullYear(r+1,0,a),o.setHours(0,0,0,0);const l=ou(o,t),c=Sl(e,0);c.setFullYear(r,0,a),c.setHours(0,0,0,0);const u=ou(c,t);return n.getTime()>=l.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function Ppt(e,t){var l,c,u,d;const n=Vj(),r=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,i=age(e,t),a=Sl(e,0);return a.setFullYear(i,0,r),a.setHours(0,0,0,0),ou(a,t)}function sge(e,t){const n=yr(e),r=+ou(n,t)-+Ppt(n,t);return Math.round(r/KF)+1}function Zr(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const bm={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return Zr(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):Zr(n+1,2)},d(e,t){return Zr(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return Zr(e.getHours()%12||12,t.length)},H(e,t){return Zr(e.getHours(),t.length)},m(e,t){return Zr(e.getMinutes(),t.length)},s(e,t){return Zr(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return Zr(i,t.length)}},mx={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},VG={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return bm.y(e,t)},Y:function(e,t,n,r){const i=age(e,r),a=i>0?i:1-i;if(t==="YY"){const o=a%100;return Zr(o,2)}return t==="Yo"?n.ordinalNumber(a,{unit:"year"}):Zr(a,t.length)},R:function(e,t){const n=Jpe(e);return Zr(n,t.length)},u:function(e,t){const n=e.getFullYear();return Zr(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return Zr(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return Zr(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return bm.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return Zr(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const i=sge(e,r);return t==="wo"?n.ordinalNumber(i,{unit:"week"}):Zr(i,t.length)},I:function(e,t,n){const r=ige(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):Zr(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):bm.d(e,t)},D:function(e,t,n){const r=Ept(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Zr(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const i=e.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return Zr(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const i=e.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return Zr(a,t.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),i=r===0?7:r;switch(t){case"i":return String(i);case"ii":return Zr(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let i;switch(r===12?i=mx.noon:r===0?i=mx.midnight:i=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let i;switch(r>=17?i=mx.evening:r>=12?i=mx.afternoon:r>=4?i=mx.morning:i=mx.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return bm.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):bm.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Zr(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):Zr(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):bm.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):bm.s(e,t)},S:function(e,t){return bm.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return UG(r);case"XXXX":case"XX":return _g(r);case"XXXXX":case"XXX":default:return _g(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return UG(r);case"xxxx":case"xx":return _g(r);case"xxxxx":case"xxx":default:return _g(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+qG(r,":");case"OOOO":default:return"GMT"+_g(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+qG(r,":");case"zzzz":default:return"GMT"+_g(r,":")}},t:function(e,t,n){const r=Math.trunc(e.getTime()/1e3);return Zr(r,t.length)},T:function(e,t,n){const r=e.getTime();return Zr(r,t.length)}};function qG(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=Math.trunc(r/60),a=r%60;return a===0?n+String(i):n+String(i)+t+Zr(a,2)}function UG(e,t){return e%60===0?(e>0?"-":"+")+Zr(Math.abs(e)/60,2):_g(e,t)}function _g(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=Zr(Math.trunc(r/60),2),a=Zr(r%60,2);return n+i+t+a}const WG=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},oge=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Apt=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return WG(e,t);let a;switch(r){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",WG(r,t)).replace("{{time}}",oge(i,t))},Tpt={p:oge,P:Apt},Opt=/^D+$/,Lpt=/^Y+$/,Mpt=["D","DD","YY","YYYY"];function Ipt(e){return Opt.test(e)}function Dpt(e){return Lpt.test(e)}function Rpt(e,t,n){const r=$pt(e,t,n);if(console.warn(r),Mpt.includes(e))throw new RangeError(r)}function $pt(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Fpt=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Bpt=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,zpt=/^'([^]*?)'?$/,Vpt=/''/g,qpt=/[a-zA-Z]/;function er(e,t,n){var d,f,m,h,g,y,v,x;const r=Vj(),i=(n==null?void 0:n.locale)??r.locale??PP,a=(n==null?void 0:n.firstWeekContainsDate)??((f=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??r.firstWeekContainsDate??((h=(m=r.locale)==null?void 0:m.options)==null?void 0:h.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((y=(g=n==null?void 0:n.locale)==null?void 0:g.options)==null?void 0:y.weekStartsOn)??r.weekStartsOn??((x=(v=r.locale)==null?void 0:v.options)==null?void 0:x.weekStartsOn)??0,l=yr(e);if(!Ymt(l))throw new RangeError("Invalid time value");let c=t.match(Bpt).map(w=>{const j=w[0];if(j==="p"||j==="P"){const _=Tpt[j];return _(w,i.formatLong)}return w}).join("").match(Fpt).map(w=>{if(w==="''")return{isToken:!1,value:"'"};const j=w[0];if(j==="'")return{isToken:!1,value:Upt(w)};if(VG[j])return{isToken:!0,value:w};if(j.match(qpt))throw new RangeError("Format string contains an unescaped latin alphabet character `"+j+"`");return{isToken:!1,value:w}});i.localize.preprocessor&&(c=i.localize.preprocessor(l,c));const u={firstWeekContainsDate:a,weekStartsOn:o,locale:i};return c.map(w=>{if(!w.isToken)return w.value;const j=w.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&Dpt(j)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&Ipt(j))&&Rpt(j,t,String(e));const _=VG[j[0]];return _(l,j,i.localize,u)}).join("")}function Upt(e){const t=e.match(zpt);return t?t[1].replace(Vpt,"'"):e}function Wpt(e){const t=yr(e),n=t.getFullYear(),r=t.getMonth(),i=Sl(e,0);return i.setFullYear(n,r+1,0),i.setHours(0,0,0,0),i.getDate()}function Hpt(e){return Math.trunc(+yr(e)/1e3)}function Kpt(e){const t=yr(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(0,0,0,0),t}function Gpt(e,t){return Xmt(Kpt(e),Fs(e),t)+1}function UI(e,t){const n=yr(e),r=yr(t);return n.getTime()>r.getTime()}function lge(e,t){const n=yr(e),r=yr(t);return+n<+r}function Ypt(e,t){const n=yr(e),r=yr(t);return+n==+r}function ZF(e,t){const n=yr(e),r=yr(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function Xpt(e,t){const n=yr(e),r=yr(t);return n.getFullYear()===r.getFullYear()}function bS(e,t){return To(e,-t)}function nO(e,t){const n=yr(e),r=n.getFullYear(),i=n.getDate(),a=Sl(e,0);a.setFullYear(r,t,15),a.setHours(0,0,0,0);const o=Wpt(a);return n.setMonth(t,Math.min(i,o)),n}function HG(e,t){const n=yr(e);return isNaN(+n)?Sl(e,NaN):(n.setFullYear(t),n)}function Mm(){return gf(Date.now())}function Zpt(e,t){return su(e,-t)}function KG(e,t){const{years:n=0,months:r=0,weeks:i=0,days:a=0,hours:o=0,minutes:l=0,seconds:c=0}=t,u=Zpt(e,r+n*12),d=bS(u,a+i*7),f=l+o*60,h=(c+f*60)*1e3;return Sl(e,d.getTime()-h)}const Qpt={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 da",other:"{{count}} das"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 ao",other:"alrededor de {{count}} aos"},xYears:{one:"1 ao",other:"{{count}} aos"},overXYears:{one:"ms de 1 ao",other:"ms de {{count}} aos"},almostXYears:{one:"casi 1 ao",other:"casi {{count}} aos"}},Jpt=(e,t,n)=>{let r;const i=Qpt[e];return typeof i=="string"?r=i:t===1?r=i.one:r=i.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"en "+r:"hace "+r:r},egt={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},tgt={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},ngt={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},rgt={date:vy({formats:egt,defaultWidth:"full"}),time:vy({formats:tgt,defaultWidth:"full"}),dateTime:vy({formats:ngt,defaultWidth:"full"})},igt={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'maana a la' p",nextWeek:"eeee 'a la' p",other:"P"},agt={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'maana a las' p",nextWeek:"eeee 'a las' p",other:"P"},sgt=(e,t,n,r)=>t.getHours()!==1?agt[e]:igt[e],ogt={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","despus de cristo"]},lgt={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},cgt={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},ugt={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","s"],abbreviated:["dom","lun","mar","mi","jue","vie","sb"],wide:["domingo","lunes","martes","mircoles","jueves","viernes","sbado"]},dgt={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"}},fgt={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},hgt=(e,t)=>Number(e)+"",mgt={ordinalNumber:hgt,era:$d({values:ogt,defaultWidth:"wide"}),quarter:$d({values:lgt,defaultWidth:"wide",argumentCallback:e=>Number(e)-1}),month:$d({values:cgt,defaultWidth:"wide"}),day:$d({values:ugt,defaultWidth:"wide"}),dayPeriod:$d({values:dgt,defaultWidth:"wide",formattingValues:fgt,defaultFormattingWidth:"wide"})},pgt=/^(\d+)()?/i,ggt=/\d+/i,vgt={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[u]n|despu[e]s de cristo|era com[u]n)/i},xgt={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[u]n)/i,/^(despu[e]s de cristo|era com[u]n)/i]},ygt={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},bgt={any:[/1/i,/2/i,/3/i,/4/i]},wgt={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},jgt={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},Ngt={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[a])/i,abbreviated:/^(dom|lun|mar|mi[e]|jue|vie|s[a]b)/i,wide:/^(domingo|lunes|martes|mi[e]rcoles|jueves|viernes|s[a]bado)/i},_gt={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},Sgt={narrow:/^(a|p|mn|md|(de la|a las) (maana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (maana|tarde|noche))/i},kgt={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/maana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},Cgt={ordinalNumber:rge({matchPattern:pgt,parsePattern:ggt,valueCallback:function(e){return parseInt(e,10)}}),era:Fd({matchPatterns:vgt,defaultMatchWidth:"wide",parsePatterns:xgt,defaultParseWidth:"any"}),quarter:Fd({matchPatterns:ygt,defaultMatchWidth:"wide",parsePatterns:bgt,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Fd({matchPatterns:wgt,defaultMatchWidth:"wide",parsePatterns:jgt,defaultParseWidth:"any"}),day:Fd({matchPatterns:Ngt,defaultMatchWidth:"wide",parsePatterns:_gt,defaultParseWidth:"any"}),dayPeriod:Fd({matchPatterns:Sgt,defaultMatchWidth:"any",parsePatterns:kgt,defaultParseWidth:"any"})},Da={code:"es",formatDistance:Jpt,formatLong:rgt,formatRelative:sgt,localize:mgt,match:Cgt,options:{weekStartsOn:1,firstWeekContainsDate:1}};function Egt({isOpen:e,onClose:t,shipments:n}){const[r,i]=b.useState("today"),[a,o]=b.useState(""),[l,c]=b.useState(""),[u,d]=b.useState(!1),f=(g,y)=>{const v=new Date,x=new Date(v.getFullYear(),v.getMonth(),v.getDate()),w=new Date(x.getTime()+24*60*60*1e3),j=new Date(x);j.setDate(x.getDate()-x.getDay()+1);const _=new Date(j.getTime()+6*24*60*60*1e3),S=new Date(j.getTime()+7*24*60*60*1e3),k=new Date(S.getTime()+6*24*60*60*1e3),P=new Date(v.getFullYear(),v.getMonth(),1),M=new Date(v.getFullYear(),v.getMonth()+1,0);return g.filter(T=>{const R=T.estimatedDeliveryDate?new Date(T.estimatedDeliveryDate):null,D=T.createdAt?new Date(T.createdAt):new Date,I=R||D;switch(y){case"today":return I>=x&&I<w;case"tomorrow":const B=new Date(w.getTime()+24*60*60*1e3);return I>=w&&I<B;case"thisWeek":return I>=j&&I<=_;case"nextWeek":return I>=S&&I<=k;case"thisMonth":return I>=P&&I<=M;case"custom":if(!a||!l)return!1;const $=new Date(a),K=new Date(l);return K.setHours(23,59,59,999),I>=$&&I<=K;default:return!0}})},m=async()=>{d(!0);try{const g=f(n,r),y=new tn("p","mm","a4"),v=y.internal.pageSize.getWidth(),x=y.internal.pageSize.getHeight();y.setFont("helvetica"),y.setFontSize(20),y.setTextColor(39,57,73),y.text("ECONOVA - Reporte de Envos",v/2,25,{align:"center"}),y.setFontSize(12),y.setTextColor(100,100,100);const w=er(new Date,"dd 'de' MMMM, yyyy 'a las' HH:mm",{locale:Da});y.text(`Generado el ${w}`,v/2,35,{align:"center"});let j="";switch(r){case"today":j="Envos de Hoy";break;case"tomorrow":j="Envos de Maana";break;case"thisWeek":j="Envos de Esta Semana";break;case"nextWeek":j="Envos de la Prxima Semana";break;case"thisMonth":j="Envos de Este Mes";break;case"custom":a&&l?j=`Del ${er(new Date(a),"dd/MM/yyyy")} al ${er(new Date(l),"dd/MM/yyyy")}`:j="Rango personalizado";break}y.setFontSize(14),y.setTextColor(39,57,73),y.text(j,v/2,50,{align:"center"});const _=g.reduce((I,B)=>{const $=B.status||"unknown";return I[$]=(I[$]||0)+1,I},{}),S={pending:"Pendientes",in_transit:"En Trnsito",delivered:"Entregados",delayed:"Retrasados",cancelled:"Cancelados"};let k=70;y.setFontSize(16),y.text("Resumen por Estado",20,k),k+=10,y.setFontSize(12),Object.entries(_).forEach(([I,B])=>{const $=S[I]||I;y.text(`${$}: ${B} envos`,20,k),k+=8}),k+=10,y.text(`Total de envos: ${g.length}`,20,k),k+=20,k>x-40&&(y.addPage(),k=30),y.setFontSize(16),y.text("Detalle de Envos",20,k),k+=15,y.setFontSize(10),y.setTextColor(39,57,73);const P=[25,45,25,35,25,30],M=["Cdigo","Cliente","Estado","Producto","Cantidad","Entrega"];let T=15;M.forEach((I,B)=>{y.text(I,T,k),T+=P[B]}),k+=8,y.setDrawColor(200,200,200),y.line(15,k,v-15,k),k+=5,y.setTextColor(60,60,60),g.forEach(I=>{k>x-20&&(y.addPage(),k=30),T=15,[I.trackingCode||"N/A",I.customerName&&I.customerName.length>20?I.customerName.substring(0,17)+"...":I.customerName||"N/A",S[I.status]||I.status||"N/A",I.product&&I.product.length>15?I.product.substring(0,12)+"...":I.product||"N/A",`${I.quantity||0} ${I.unit||""}`,I.estimatedDeliveryDate?er(new Date(I.estimatedDeliveryDate),"dd/MM"):"N/A"].forEach(($,K)=>{y.text($,T,k),T+=P[K]}),k+=7});const R=y.getNumberOfPages();for(let I=1;I<=R;I++)y.setPage(I),y.setFontSize(8),y.setTextColor(150,150,150),y.text(`Pgina ${I} de ${R}`,v/2,x-10,{align:"center"}),y.text("ECONOVA - Sistema de Gestin Logstica",v/2,x-5,{align:"center"});const D=`reporte-envios-${r}-${er(new Date,"yyyyMMdd-HHmm")}.pdf`;y.save(D),t()}catch(g){console.error("Error al generar PDF:",g),alert("Error al generar el PDF. Por favor, intntalo de nuevo.")}finally{d(!1)}},h=f(n,r);return s.jsx(zr,{open:e,onOpenChange:t,children:s.jsxs(Ir,{className:"max-w-lg",children:[s.jsxs(Vr,{children:[s.jsxs(qr,{className:"flex items-center gap-2",children:[s.jsx(Ds,{className:"h-5 w-5 text-blue-600"}),"Generar Reporte PDF"]}),s.jsx(Rs,{children:"Selecciona el perodo de tiempo para generar el reporte de envos"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(dt,{htmlFor:"period",children:"Perodo del reporte"}),s.jsxs(An,{value:r,onValueChange:g=>i(g),children:[s.jsx(Nn,{children:s.jsx(Tn,{placeholder:"Selecciona un perodo"})}),s.jsxs(_n,{children:[s.jsx(at,{value:"today",children:"Envos de Hoy"}),s.jsx(at,{value:"tomorrow",children:"Envos de Maana"}),s.jsx(at,{value:"thisWeek",children:"Esta Semana"}),s.jsx(at,{value:"nextWeek",children:"Prxima Semana"}),s.jsx(at,{value:"thisMonth",children:"Este Mes"}),s.jsx(at,{value:"custom",children:"Rango Personalizado"})]})]})]}),r==="custom"&&s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(dt,{htmlFor:"startDate",children:"Fecha de inicio"}),s.jsx(gt,{id:"startDate",type:"date",value:a,onChange:g=>o(g.target.value)})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(dt,{htmlFor:"endDate",children:"Fecha de fin"}),s.jsx(gt,{id:"endDate",type:"date",value:l,onChange:g=>c(g.target.value)})]})]}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Vista previa del reporte:"}),s.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[s.jsx("strong",{children:h.length})," envos encontrados"]}),s.jsx("div",{className:"text-xs text-gray-500",children:h.length===0?"No hay envos en el perodo seleccionado":`Estados: ${Object.entries(h.reduce((g,y)=>(g[y.status]=(g[y.status]||0)+1,g),{})).map(([g,y])=>`${y} ${g}`).join(", ")}`})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx(Oe,{variant:"outline",onClick:t,className:"flex-1",children:"Cancelar"}),s.jsx(Oe,{onClick:m,disabled:u||r==="custom"&&(!a||!l),className:"flex-1 flex items-center gap-2",children:u?s.jsxs(s.Fragment,{children:[s.jsx(sr,{className:"h-4 w-4 animate-spin"}),"Generando..."]}):s.jsxs(s.Fragment,{children:[s.jsx(nc,{className:"h-4 w-4"}),"Descargar PDF"]})})]})]})]})})}const Pgt=({status:e})=>{const n={pending:{label:"Por embarcar",variant:"outline",color:"bg-blue-100 text-blue-800"},in_transit:{label:"En Trnsito",variant:"default",color:"bg-orange-100 text-orange-800"},delayed:{label:"Retrasado",variant:"destructive",color:"bg-red-100 text-red-800"},delivered:{label:"Entregado",variant:"success",color:"bg-green-100 text-green-800"},cancelled:{label:"Cerrado",variant:"secondary",color:"bg-gray-100 text-gray-800"}}[e]||{label:e,variant:"outline"};return s.jsx(Ct,{variant:n.variant,children:n.label})},Agt=({shipment:e,onCardClick:t,onRequestTransport:n})=>{const[r,i]=b.useState(!1),a=g=>{if(g>=24){const y=Math.floor(g/24),v=g%24;return v===0?`${y} ${y===1?"da":"das"}`:`${y} ${y===1?"da":"das"}, ${v.toFixed(1)}h`}else return`${g.toFixed(1)} horas`},o=e.cycleTimes,c=(()=>{const g=new Date(e.createdAt),y=new Date;switch(e.status){case"delivered":if((o==null?void 0:o.hoursToDelivery)!=null)return{label:"Tiempo entrega",value:a(parseFloat(o.hoursToDelivery)),icon:""};break;case"cancelled":if((o==null?void 0:o.hoursTotalCycle)!=null)return{label:"Tiempo total",value:a(parseFloat(o.hoursTotalCycle)),icon:""};break;case"in_transit":const v=(y.getTime()-g.getTime())/(1e3*60*60);return{label:"En trnsito",value:a(v),icon:""};case"delayed":const x=(y.getTime()-g.getTime())/(1e3*60*60);return{label:"Tiempo retraso",value:a(x),icon:""};case"pending":const w=(y.getTime()-g.getTime())/(1e3*60*60);return{label:"Tiempo espera",value:a(w),icon:""};default:return null}return null})(),u=g=>{i(!0),g.dataTransfer.setData("shipment",JSON.stringify(e)),g.dataTransfer.effectAllowed="move"},d=()=>{i(!1)},f=g=>{r||(g.stopPropagation(),t(e))},m=g=>{switch(g){case"pending":return"border-l-blue-500/30";case"in_transit":return"border-l-orange-500/30";case"delivered":return"border-l-emerald-500/30";case"delayed":return"border-l-red-500/30";case"cancelled":return"border-l-gray-400/30";default:return"border-l-gray-300"}},h=g=>{switch(g){case"delayed":return"";case"in_transit":return"";case"delivered":return"";case"cancelled":return"";default:return""}};return s.jsxs("div",{className:`mb-3 cursor-move transition-all duration-200 border-l-4 rounded-lg p-3 bg-card border ${m(e.status)} ${r?"opacity-50 shadow-xl scale-105":"hover:shadow-md hover:-translate-y-0.5"}`,draggable:!0,onDragStart:u,onDragEnd:d,onClick:f,children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("span",{className:"text-base",children:h(e.status)}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-semibold text-sm",children:e.trackingCode}),s.jsx("div",{className:"text-xs text-muted-foreground",children:e.customerName})]}),s.jsx(e_e,{className:"h-3 w-3 text-muted-foreground"})]}),s.jsx("div",{className:"mb-2",children:e.items&&e.items.length>0?s.jsxs("div",{className:"space-y-1",children:[e.items.slice(0,2).map((g,y)=>s.jsxs("div",{children:[s.jsx("div",{className:"text-sm font-medium truncate",children:g.product}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:[g.quantity," ",g.unit]})]},g.id||y)),e.items.length>2&&s.jsxs("div",{className:"text-xs text-muted-foreground italic",children:["+",e.items.length-2," ms..."]})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-sm font-medium truncate",children:e.product}),s.jsxs("div",{className:"text-xs text-muted-foreground",children:[e.quantity," ",e.unit]})]})}),s.jsxs("div",{className:"flex items-center gap-1 text-xs mb-2",children:[s.jsx("span",{className:"text-muted-foreground font-medium truncate flex-1",children:e.origin}),s.jsx("span",{className:"text-muted-foreground text-xs",children:""}),s.jsx("span",{className:"text-muted-foreground font-medium truncate flex-1",children:e.destination})]}),e.estimatedDeliveryDate&&s.jsxs("div",{className:"text-xs text-muted-foreground",children:[" ",new Date(e.estimatedDeliveryDate).toLocaleDateString("es-ES",{day:"numeric",month:"short"})]}),c&&s.jsx("div",{className:"mt-3 pt-2 border-t border-border",children:s.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[s.jsx("span",{className:"text-muted-foreground",children:c.icon}),s.jsxs("span",{className:"text-muted-foreground font-medium",children:[c.label,":"]}),s.jsx("span",{className:"font-semibold","data-testid":`text-cycle-hours-${e.id}`,children:c.value})]})}),e.status==="pending"&&n&&s.jsx("div",{className:"mt-3 pt-2 border-t border-border",children:s.jsxs("button",{onClick:g=>{g.stopPropagation(),n(e)},className:"w-full text-xs bg-primary hover:bg-primary/90 text-white py-1.5 px-2 rounded transition-colors duration-200 flex items-center justify-center gap-1",children:[s.jsx(qo,{className:"h-3 w-3"}),"Solicitar envo"]})})]})},C_=({title:e,status:t,shipments:n,allShipmentsCount:r,onDrop:i,onCardClick:a,onRequestTransport:o,showLoadMoreButton:l,onLoadMore:c,isLoadingMore:u})=>{const[d,f]=b.useState(!1),m=t==="delivered"?n.filter(j=>j.status==="delivered"||j.status==="cancelled"):n.filter(j=>j.status===t),h=b.useMemo(()=>{if(t!=="delivered")return[{month:null,shipments:m}];const j={};return m.forEach(_=>{let S;_.status==="delivered"?S=_.actualDeliveryDate?new Date(_.actualDeliveryDate):new Date(_.createdAt):_.status==="cancelled"?S=_.updatedAt?new Date(_.updatedAt):new Date(_.createdAt):S=new Date(_.createdAt);const k=`${S.getFullYear()}-${(S.getMonth()+1).toString().padStart(2,"0")}`;j[k]||(j[k]=[]),j[k].push(_)}),Object.entries(j).sort((_,S)=>S[0].localeCompare(_[0])).map(([_,S])=>({month:_,shipments:S.sort((k,P)=>{const M=T=>T.status==="delivered"?T.actualDeliveryDate?new Date(T.actualDeliveryDate):new Date(T.createdAt):T.status==="cancelled"?T.updatedAt?new Date(T.updatedAt):new Date(T.createdAt):new Date(T.createdAt);return M(P).getTime()-M(k).getTime()})}))},[m,t]),g=j=>{j.preventDefault(),f(!0)},y=()=>{f(!1)},v=j=>{j.preventDefault(),f(!1);try{const _=j.dataTransfer.getData("shipment"),S=JSON.parse(_);S.status!==t&&i(S,t)}catch(_){console.error("Error al procesar el drop:",_)}},w=(j=>{switch(j){case"pending":return{color:"border-border bg-card",headerColor:"bg-slate-700/80 text-white",icon:"",description:"Listos para enviar"};case"in_transit":return{color:"border-border bg-card",headerColor:"bg-orange-600/90 text-white",icon:"",description:"En camino"};case"delivered":return{color:"border-border bg-card",headerColor:"bg-emerald-600/90 text-white",icon:"",description:"Completados"};case"delayed":return{color:"border-border bg-card",headerColor:"bg-red-600/90 text-white",icon:"",description:"Requieren atencin"};case"cancelled":return{color:"border-border bg-card",headerColor:"bg-slate-700/80 text-white",icon:"",description:"Cerrados"};default:return{color:"border-border bg-card",headerColor:"bg-slate-700/80 text-white",icon:"",description:"Envos"}}})(t);return s.jsx("div",{className:"flex-1 min-w-80",children:s.jsxs(Ue,{className:`${w.color} ${d?"ring-2 ring-blue-400 ring-opacity-50 shadow-lg":""} transition-all duration-200`,onDragOver:g,onDragLeave:y,onDrop:v,children:[s.jsx(Vt,{className:`${w.headerColor} rounded-t-lg -m-[1px] mb-3`,children:s.jsxs(an,{className:"text-lg flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-xl",children:w.icon}),s.jsxs("div",{children:[s.jsx("div",{className:"font-bold",children:e}),s.jsx("div",{className:"text-xs opacity-80 font-normal",children:w.description})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ct,{variant:"secondary",className:"bg-white text-slate-900 border-2 border-white shadow-md font-bold text-base min-w-[2.25rem] h-7 justify-center px-2",children:m.length}),m.length>0&&(r||n.length)>0&&s.jsxs("div",{className:"text-sm font-bold text-white",children:[Math.round(m.length/(r||n.length)*100),"%"]})]})]})}),s.jsx(We,{children:s.jsxs("div",{className:`space-y-3 max-h-96 overflow-y-auto transition-all ${d?"bg-blue-50 border-2 border-dashed border-blue-300 rounded-lg p-3":""}`,children:[h.map((j,_)=>s.jsxs("div",{children:[j.month&&s.jsxs("div",{className:"sticky top-0 bg-gray-100 border rounded-lg p-2 mb-3 text-center",children:[s.jsx("div",{className:"text-xs font-semibold text-gray-700 uppercase tracking-wide",children:new Date(j.month+"-01").toLocaleDateString("es-ES",{month:"long",year:"numeric"})}),s.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[j.shipments.length," envo",j.shipments.length!==1?"s":""]})]}),j.shipments.map(S=>s.jsx(Agt,{shipment:S,onCardClick:a,onRequestTransport:o},S.id)),j.month&&_<h.length-1&&s.jsx("div",{className:"mb-4"})]},j.month||"ungrouped")),l&&c&&s.jsx("div",{className:"pt-3 mt-3 border-t border-gray-200",children:s.jsx(Oe,{variant:"outline",size:"sm",onClick:c,disabled:u,className:"w-full text-xs text-gray-600 hover:text-gray-800 hover:bg-gray-50",children:u?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-3 h-3 border border-gray-300 border-t-gray-600 rounded-full animate-spin mr-2"}),"Cargando..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Wo,{className:"w-3 h-3 mr-1"}),"Ver ms antiguos"]})})}),m.length===0&&s.jsxs("div",{className:"text-center text-gray-500 py-12",children:[s.jsx("div",{className:"text-4xl mb-2",children:w.icon}),s.jsx("div",{className:"text-sm font-medium",children:d?"Suelta la tarjeta aqu":"No hay envos"}),s.jsx("div",{className:"text-xs opacity-75 mt-1",children:d?"para cambiar el estado":w.description.toLowerCase()})]})]})})]})})};function Tgt({onShowHistory:e}){var ve,ne,xe,ue,re,Se;const{toast:t}=zi(),n=Vs(),[r,i]=b.useState({isOpen:!1,shipment:null}),[a,o]=b.useState({isOpen:!1,shipment:null}),[l,c]=b.useState({isOpen:!1,shipment:null}),[u,d]=b.useState(!1),[f,m]=b.useState(!1),[h,g]=b.useState({isOpen:!1,shipment:null,targetStatus:""}),[y,v]=b.useState(""),[x,w]=b.useState({companyId:"1",trackingCode:"",customerName:"",customerId:void 0,purchaseOrder:"",customerEmail:"",product:"",quantity:"",unit:"kg",origin:"",destination:"",estimatedDeliveryDate:""}),[j,_]=b.useState([{product:"",quantity:"",unit:"kg"}]),S=(ae,X)=>{const Ae=ae==="1"?"DUR":"ORS",qe=new Date().getFullYear(),tt=X.filter(me=>{const _e=new Date(me.createdAt).getFullYear();return me.trackingCode.startsWith(Ae)&&_e===qe});let ze=0;tt.forEach(me=>{const _e=me.trackingCode.match(new RegExp(`${Ae}-${qe}-(\\d+)`));if(_e){const Ce=parseInt(_e[1]);Ce>ze&&(ze=Ce)}});const lt=(ze+1).toString().padStart(4,"0");return`${Ae}-${qe}-${lt}`},[k,P]=b.useState(1),[M,T]=b.useState(!1),{data:R,isLoading:D}=At({queryKey:["/api/shipments",{page:k,limit:50,loadMoreClosed:M}],queryFn:async()=>{const ae=new URLSearchParams({page:k.toString(),limit:"50"});M||ae.append("since","30d");const X=await fetch(`/api/shipments?${ae}`,{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")||""}`}});if(!X.ok)throw new Error("Failed to fetch shipments");return await X.json()},staleTime:5*60*1e3}),I=b.useMemo(()=>R?Array.isArray(R.shipments)?R.shipments:Array.isArray(R)?R:[]:[],[R]);b.useMemo(()=>!R||Array.isArray(R)?null:R.pagination,[R]);const{data:B=[]}=At({queryKey:["/api/providers"]}),{data:$=[],isLoading:K}=At({queryKey:["/api/clients"]}),Y=x.companyId,Q=Y?parseInt(Y):null,{data:H=[],isLoading:G}=At({queryKey:["/api/products",{companyId:Q}],enabled:!!Q});b.useEffect(()=>{H.length>0&&console.log(` [DragDropKanban] Productos recibidos (companyId=${Q}):`,H.map(ae=>ae.name))},[H,Q]),b.useEffect(()=>{if(x.companyId&&I){const ae=S(x.companyId,I);ae!==x.trackingCode&&w(X=>({...X,trackingCode:ae,product:""}))}},[x.companyId,I.length]);const U=Wn({mutationFn:async({shipmentId:ae,status:X,invoiceNumber:Ae})=>await Om(`/api/shipments/${ae}/status`,{method:"PATCH",body:{status:X,invoiceNumber:Ae,sendNotification:!0,comments:`Estado actualizado mediante drag & drop a ${X}`}}),onSuccess:ae=>{t({title:"Estado actualizado",description:ae.notificationSent?"Se actualiz el estado y se envi notificacin al cliente":"El estado se actualiz correctamente"}),n.invalidateQueries({queryKey:["/api/shipments"]}),h.isOpen&&(g({isOpen:!1,shipment:null,targetStatus:""}),v(""))},onError:ae=>{ae.requiresInvoiceNumber&&h.shipment?t({title:"Nmero de factura requerido",description:ae.error||"Para mover a 'En Trnsito' debes ingresar el nmero de factura",variant:"destructive"}):t({title:"Error",description:ae.message||ae.error||"Error al actualizar el estado",variant:"destructive"})}}),ee=Wn({mutationFn:async ae=>{var X;return await Om("/api/shipments",{method:"POST",body:{...ae,quantity:ae.quantity||((X=j[0])==null?void 0:X.quantity)||"0",carbonFootprint:"0",status:"pending",companyId:parseInt(ae.companyId),estimatedDeliveryDate:ae.estimatedDeliveryDate||null,items:j.filter(Ae=>Ae.product&&Ae.quantity)}})},onSuccess:()=>{t({title:"Envo creado",description:"El nuevo envo se ha registrado correctamente"}),n.invalidateQueries({queryKey:["/api/shipments"]}),n.invalidateQueries({queryKey:["/api/logistics/shipments"]}),m(!1);const ae=S("1",I||[]);w({companyId:"1",trackingCode:ae,customerName:"",customerId:void 0,purchaseOrder:"",customerEmail:"",product:"",quantity:"",unit:"kg",origin:"",destination:"",estimatedDeliveryDate:""}),_([{product:"",quantity:"",unit:"kg"}])},onError:ae=>{t({title:"Error",description:ae.message||"Error al crear el envo",variant:"destructive"})}}),z=(ae,X)=>{X==="in_transit"&&!ae.invoiceNumber?(g({isOpen:!0,shipment:ae,targetStatus:X}),v("")):U.mutate({shipmentId:ae.id,status:X,invoiceNumber:ae.invoiceNumber||void 0})},F=()=>{if(!h.shipment||!y.trim()){t({title:"Error",description:"Por favor ingresa el nmero de factura",variant:"destructive"});return}U.mutate({shipmentId:h.shipment.id,status:h.targetStatus,invoiceNumber:y.trim()})},ie=ae=>{i({isOpen:!0,shipment:ae})},ce=ae=>{c({isOpen:!0,shipment:ae})},te=async ae=>{console.log("Datos de solicitud:",ae),console.log("Envo:",l.shipment),t({title:"Solicitud enviada",description:"La solicitud de transporte se ha enviado al proveedor"}),c({isOpen:!1,shipment:null})},oe=()=>{const ae=j.filter(X=>X.product&&X.quantity);if(!x.trackingCode||!x.customerName||!x.purchaseOrder){t({title:"Campos requeridos",description:"Por favor completa los campos obligatorios (cdigo, nombre del cliente y orden de compra)",variant:"destructive"});return}if(ae.length===0){t({title:"Producto requerido",description:"Debes agregar al menos un producto con cantidad",variant:"destructive"});return}ee.mutate(x)};return D?s.jsx("div",{className:"flex justify-center items-center py-16",children:s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-blue-200 border-t-blue-600 mx-auto"}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsx("div",{className:"text-lg",children:""})})]}),s.jsx("p",{className:"text-gray-700 mt-4 font-medium",children:"Cargando tablero de envos..."}),s.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Preparando tu vista Kanban"})]})}):s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex justify-end items-center mb-6",children:s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(Oe,{variant:"outline",onClick:()=>d(!0),className:"flex items-center gap-2",children:[s.jsx(nc,{className:"h-4 w-4"}),"Descargar Reporte"]}),e&&s.jsxs(Oe,{variant:"outline",onClick:e,className:"flex items-center gap-2",children:[s.jsx(V6,{className:"h-4 w-4"}),"Ver Historial"]}),s.jsxs(Oe,{onClick:()=>m(!0),className:"flex items-center gap-2",children:[s.jsx(rc,{className:"h-4 w-4"}),"Nuevo Envo"]})]})}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[{status:"pending",label:"Por embarcar",icon:"",color:"bg-slate-100 text-slate-700",numberColor:"text-slate-900"},{status:"in_transit",label:"En Trnsito",icon:"",color:"bg-amber-100 text-amber-700",numberColor:"text-amber-900"},{status:"delayed",label:"Retrasados",icon:"",color:"bg-rose-100 text-rose-700",numberColor:"text-rose-900"},{status:"delivered",label:"Entregados",icon:"",color:"bg-[#b5e951]/20 text-[#6b7a00]",numberColor:"text-[#4a5d00]",includeCancelled:!0}].map(ae=>{const X=ae.includeCancelled?I.filter(Ae=>Ae.status==="delivered"||Ae.status==="cancelled").length:I.filter(Ae=>Ae.status===ae.status).length;return s.jsxs("div",{className:`${ae.color} rounded-lg p-3 text-center`,children:[s.jsx("div",{className:"text-lg",children:ae.icon}),s.jsx("div",{className:`text-3xl font-bold ${ae.numberColor}`,children:X}),s.jsx("div",{className:"text-xs font-medium",children:ae.label})]},ae.status)})}),s.jsxs("div",{className:"flex gap-4 overflow-x-auto pb-4",children:[s.jsx(C_,{title:"Por embarcar",status:"pending",shipments:I,allShipmentsCount:I.length,onDrop:z,onCardClick:ie,onRequestTransport:ce}),s.jsx(C_,{title:"En Trnsito",status:"in_transit",shipments:I,allShipmentsCount:I.length,onDrop:z,onCardClick:ie}),s.jsx(C_,{title:"Retrasados",status:"delayed",shipments:I,allShipmentsCount:I.length,onDrop:z,onCardClick:ie}),s.jsx(C_,{title:"Entregados",status:"delivered",shipments:I.filter(ae=>ae.status==="delivered"||ae.status==="cancelled"),allShipmentsCount:I.length,onDrop:z,onCardClick:ie})]}),s.jsx(zr,{open:f,onOpenChange:m,children:s.jsxs(Ir,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(Vr,{children:[s.jsxs(qr,{className:"flex items-center gap-2",children:[s.jsx(rc,{className:"h-5 w-5 text-slate-600"}),"Crear Nuevo Envo"]}),s.jsx(Rs,{children:"Completa la informacin del nuevo envo"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(dt,{htmlFor:"companyId",children:"Empresa *"}),s.jsxs(An,{value:x.companyId,onValueChange:ae=>{w(X=>({...X,companyId:ae}))},children:[s.jsx(Nn,{children:s.jsx(Tn,{})}),s.jsxs(_n,{children:[s.jsx(at,{value:"1",children:"Dura International"}),s.jsx(at,{value:"2",children:"Grupo Orsega"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(dt,{htmlFor:"trackingCode",children:"Cdigo de Seguimiento *"}),s.jsxs("div",{className:"relative",children:[s.jsx(gt,{id:"trackingCode",value:x.trackingCode,readOnly:!0,className:"bg-gray-50 font-mono text-sm",placeholder:"Se generar automticamente"}),s.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3",children:s.jsx("div",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded",children:"AUTO"})})]}),s.jsx("p",{className:"text-xs text-gray-500",children:"Se genera automticamente segn la empresa"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(dt,{htmlFor:"customerName",children:"Nombre del Cliente *"}),K?s.jsx(gt,{placeholder:"Cargando clientes...",disabled:!0}):$.length>0?s.jsxs(An,{value:x.customerName,onValueChange:ae=>{const X=$.find(Ae=>Ae.name===ae);w(Ae=>({...Ae,customerName:ae,customerId:(X==null?void 0:X.id)||void 0,customerEmail:(X==null?void 0:X.email)||Ae.customerEmail})),X&&t({title:"Cliente seleccionado",description:`${X.name}${X.email?` (${X.email})`:""}`})},children:[s.jsx(Nn,{"data-testid":"select-customer",children:s.jsx(Tn,{placeholder:"Selecciona un cliente"})}),s.jsx(_n,{children:$.filter(ae=>{var X;return!x.companyId||((X=ae.company_id)==null?void 0:X.toString())===x.companyId.toString()}).map(ae=>s.jsx(at,{value:ae.name,children:s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:ae.name}),ae.email&&s.jsx("div",{className:"text-xs text-muted-foreground",children:ae.email})]})},ae.id))})]}):s.jsx(gt,{id:"customerName",value:x.customerName,onChange:ae=>w(X=>({...X,customerName:ae.target.value,customerId:void 0})),placeholder:"Nombre completo del cliente"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(dt,{htmlFor:"purchaseOrder",children:"Orden de Compra *"}),s.jsx(gt,{id:"purchaseOrder",value:x.purchaseOrder,onChange:ae=>w(X=>({...X,purchaseOrder:ae.target.value})),placeholder:"Nmero de orden de compra"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(dt,{htmlFor:"customerEmail",children:"Email del Cliente"}),s.jsx(gt,{id:"customerEmail",type:"email",value:x.customerEmail,onChange:ae=>w(X=>({...X,customerEmail:ae.target.value})),placeholder:"email@cliente.com"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(dt,{children:"Productos *"}),s.jsxs(Oe,{type:"button",variant:"outline",size:"sm",onClick:()=>_([...j,{product:"",quantity:"",unit:"kg"}]),children:[s.jsx(rc,{className:"h-4 w-4 mr-1"}),"Agregar Producto"]})]}),j.map((ae,X)=>s.jsxs("div",{className:"border rounded-lg p-3 space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"text-sm font-medium",children:["Producto ",X+1]}),j.length>1&&s.jsx(Oe,{type:"button",variant:"ghost",size:"sm",onClick:()=>_(j.filter((Ae,qe)=>qe!==X)),children:s.jsx(Ra,{className:"h-4 w-4"})})]}),s.jsx("div",{className:"space-y-2",children:s.jsxs(An,{value:ae.product,onValueChange:Ae=>{const qe=[...j];qe[X].product=Ae,_(qe)},children:[s.jsx(Nn,{disabled:G||H.length===0,children:s.jsx(Tn,{placeholder:G?"Cargando productos...":H.length===0?"No hay productos disponibles":"Selecciona un producto"})}),s.jsx(_n,{children:H.map(Ae=>s.jsx(at,{value:Ae.name,children:Ae.name},Ae.id))})]})}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(dt,{className:"text-xs",children:"Cantidad"}),s.jsx(gt,{type:"number",value:ae.quantity,onChange:Ae=>{const qe=[...j];qe[X].quantity=Ae.target.value,_(qe)},placeholder:"0"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(dt,{className:"text-xs",children:"Unidad"}),s.jsxs(An,{value:ae.unit,onValueChange:Ae=>{const qe=[...j];qe[X].unit=Ae,_(qe)},children:[s.jsx(Nn,{children:s.jsx(Tn,{})}),s.jsxs(_n,{children:[s.jsx(at,{value:"kg",children:"Kilogramos (kg)"}),s.jsx(at,{value:"toneladas",children:"Toneladas"}),s.jsx(at,{value:"piezas",children:"Piezas"}),s.jsx(at,{value:"cajas",children:"Cajas"}),s.jsx(at,{value:"litros",children:"Litros"})]})]})]})]})]},X))]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(dt,{htmlFor:"origin",children:"Origen"}),s.jsx(gt,{id:"origin",value:x.origin,onChange:ae=>w(X=>({...X,origin:ae.target.value})),placeholder:"Ciudad/Estado de origen"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(dt,{htmlFor:"destination",children:"Destino"}),s.jsx(gt,{id:"destination",value:x.destination,onChange:ae=>w(X=>({...X,destination:ae.target.value})),placeholder:"Ciudad/Estado de destino"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(dt,{htmlFor:"estimatedDeliveryDate",children:"Fecha Estimada de Entrega"}),s.jsx(gt,{id:"estimatedDeliveryDate",type:"date",value:x.estimatedDeliveryDate,onChange:ae=>w(X=>({...X,estimatedDeliveryDate:ae.target.value}))})]})]}),s.jsxs(pc,{className:"gap-2",children:[s.jsx(Oe,{variant:"outline",onClick:()=>m(!1),children:"Cancelar"}),s.jsx(Oe,{onClick:oe,disabled:ee.isPending,children:ee.isPending?"Creando...":"Crear Envo"})]})]})}),s.jsx(zr,{open:r.isOpen,onOpenChange:ae=>!ae&&i({isOpen:!1,shipment:null}),children:s.jsxs(Ir,{className:"max-w-2xl",children:[s.jsxs(Vr,{children:[s.jsxs(qr,{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-xl",children:((ve=r.shipment)==null?void 0:ve.status)==="in_transit"?"":((ne=r.shipment)==null?void 0:ne.status)==="delivered"?"":((xe=r.shipment)==null?void 0:xe.status)==="delayed"?"":((ue=r.shipment)==null?void 0:ue.status)==="cancelled"?"":""}),"Detalles del Envo"]}),s.jsxs(Rs,{children:["Informacin completa del envo ",(re=r.shipment)==null?void 0:re.trackingCode]})]}),r.shipment&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Cdigo de seguimiento"}),s.jsx("p",{className:"text-lg font-bold text-gray-900",children:r.shipment.trackingCode})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Cliente"}),s.jsx("p",{className:"text-base text-gray-900",children:r.shipment.customerName}),r.shipment.customerEmail&&s.jsx("p",{className:"text-sm text-gray-600",children:r.shipment.customerEmail})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Estado actual"}),s.jsx("div",{className:"mt-1",children:s.jsx(Pgt,{status:r.shipment.status})})]})]}),s.jsxs("div",{className:"space-y-3",children:[r.shipment.items&&r.shipment.items.length>0?s.jsxs("div",{children:[s.jsxs("label",{className:"text-sm font-medium text-gray-600",children:["Productos (",r.shipment.items.length,")"]}),s.jsx("div",{className:"mt-2 space-y-2",children:r.shipment.items.map((ae,X)=>s.jsxs("div",{className:"bg-white p-2 rounded border border-gray-200",children:[s.jsx("div",{className:"font-medium text-gray-900",children:ae.product}),s.jsxs("div",{className:"text-sm text-gray-600",children:[ae.quantity," ",ae.unit]}),ae.description&&s.jsx("div",{className:"text-xs text-gray-500 mt-1",children:ae.description})]},ae.id||X))})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Producto"}),s.jsx("p",{className:"text-base text-gray-900",children:r.shipment.product})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Cantidad"}),s.jsxs("p",{className:"text-base text-gray-900",children:[r.shipment.quantity," ",r.shipment.unit]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Fecha de creacin"}),s.jsx("p",{className:"text-base text-gray-900",children:new Date(r.shipment.createdAt).toLocaleDateString("es-ES",{day:"numeric",month:"short",year:"numeric"})})]})]})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsxs("h4",{className:"font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[s.jsx(lp,{className:"h-4 w-4"}),"Informacin de Envo"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Origen"}),s.jsx("p",{className:"text-base text-gray-900",children:r.shipment.origin})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Destino"}),s.jsx("p",{className:"text-base text-gray-900",children:r.shipment.destination})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Fecha estimada de entrega"}),s.jsx("p",{className:"text-base text-gray-900",children:r.shipment.estimatedDeliveryDate?new Date(r.shipment.estimatedDeliveryDate).toLocaleDateString("es-ES",{weekday:"long",year:"numeric",month:"long",day:"numeric"}):"No programada"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Fecha de creacin"}),s.jsx("p",{className:"text-base text-gray-900",children:new Date(r.shipment.createdAt).toLocaleDateString("es-ES",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]})]})]}),s.jsxs("div",{className:"flex gap-2 pt-4 border-t",children:[s.jsx(Oe,{variant:"outline",onClick:()=>i({isOpen:!1,shipment:null}),className:"flex-1",children:"Cerrar"}),s.jsx(Oe,{onClick:()=>{i({isOpen:!1,shipment:null}),o({isOpen:!0,shipment:r.shipment})},className:"flex-1",children:"Editar Envo"})]})]})]})}),s.jsx(zr,{open:a.isOpen,onOpenChange:ae=>!ae&&o({isOpen:!1,shipment:null}),children:s.jsxs(Ir,{className:"sm:max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(Vr,{children:[s.jsx(qr,{children:"Editar Envo"}),s.jsx(Rs,{children:"Modifica los campos necesarios y guarda los cambios."})]}),a.shipment&&s.jsx(Ogt,{shipment:a.shipment,onCancel:()=>o({isOpen:!1,shipment:null}),onSaved:()=>{o({isOpen:!1,shipment:null}),n.invalidateQueries({queryKey:["/api/shipments"]})}})]})}),s.jsx(zr,{open:h.isOpen,onOpenChange:ae=>!ae&&g({isOpen:!1,shipment:null,targetStatus:""}),children:s.jsxs(Ir,{className:"sm:max-w-md",children:[s.jsxs(Vr,{children:[s.jsxs(qr,{className:"flex items-center gap-2",children:[s.jsx(qo,{className:"h-5 w-5 text-amber-600"}),"Nmero de Factura Requerido"]}),s.jsxs(Rs,{children:["Para mover el envo ",s.jsx("strong",{children:(Se=h.shipment)==null?void 0:Se.trackingCode}),' a "En Trnsito" es necesario ingresar el nmero de factura.']})]}),s.jsx("div",{className:"space-y-4 py-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx(dt,{htmlFor:"invoice-number",children:"Nmero de Factura *"}),s.jsx(gt,{id:"invoice-number",value:y,onChange:ae=>v(ae.target.value),placeholder:"Ej: FAC-2025-001",autoFocus:!0,onKeyDown:ae=>{ae.key==="Enter"&&F()}}),s.jsx("p",{className:"text-xs text-gray-500",children:"Este nmero quedar registrado en el sistema y no se volver a solicitar."})]})}),s.jsxs(pc,{className:"gap-2",children:[s.jsx(Oe,{variant:"outline",onClick:()=>g({isOpen:!1,shipment:null,targetStatus:""}),children:"Cancelar"}),s.jsx(Oe,{onClick:F,disabled:!y.trim()||U.isPending,children:U.isPending?"Actualizando...":"Confirmar"})]})]})}),l.shipment&&s.jsx(rft,{shipment:l.shipment,providers:B,isOpen:l.isOpen,onClose:()=>c({isOpen:!1,shipment:null}),onSubmit:te}),s.jsx(Egt,{isOpen:u,onClose:()=>d(!1),shipments:I})]})}function Ogt({shipment:e,onCancel:t,onSaved:n}){var _;const{toast:r}=zi(),[i,a]=b.useState({purchaseOrder:e.purchaseOrder||"",customerName:e.customerName||"",customerEmail:e.customerEmail||"",origin:e.origin||"",destination:e.destination||"",estimatedDeliveryDate:e.estimatedDeliveryDate?new Date(e.estimatedDeliveryDate).toISOString().slice(0,10):""}),{data:o=[],refetch:l,isLoading:c}=At({queryKey:[`/api/shipments/${e.id}/items`]}),u=(_=e.companyId)==null?void 0:_.toString(),{data:d=[],isLoading:f}=At({queryKey:["/api/products",{companyId:u}],enabled:!!u}),m=Vs(),h=Wn({mutationFn:async S=>await Om("/api/products",{method:"POST",body:{name:S,companyId:e.companyId||null}}),onSuccess:S=>{m.invalidateQueries({queryKey:["/api/products",{companyId:u}]}),r({title:"Producto creado",description:`"${S.name}" fue agregado al catlogo`})},onError:S=>{r({title:"Error",description:S.message||"No se pudo crear el producto",variant:"destructive"})}}),g=Wn({mutationFn:async S=>await Om(`/api/shipments/${e.id}/items`,{method:"POST",body:S}),onSuccess:()=>{l(),r({title:"Producto agregado",description:"El producto fue agregado al envo"})},onError:S=>{r({title:"Error",description:S.message||"No se pudo agregar el producto",variant:"destructive"})}}),y=Wn({mutationFn:async({id:S,item:k})=>await Om(`/api/shipments/${e.id}/items/${S}`,{method:"PATCH",body:k}),onSuccess:()=>{l(),r({title:"Actualizado",description:"Cambios guardados"})},onError:S=>{r({title:"Error",description:S.message||"No se pudieron guardar los cambios",variant:"destructive"})}}),v=Wn({mutationFn:async S=>await Om(`/api/shipments/${e.id}/items/${S}`,{method:"DELETE"}),onSuccess:()=>{l(),r({title:"Eliminado",description:"Producto removido del envo"})},onError:S=>{r({title:"Error",description:S.message||"No se pudo eliminar el producto",variant:"destructive"})}}),[x,w]=b.useState({product:"",quantity:"",unit:"kg",description:""}),j=Wn({mutationFn:async()=>await Om(`/api/shipments/${e.id}`,{method:"PATCH",body:{purchaseOrder:i.purchaseOrder,customerName:i.customerName,customerEmail:i.customerEmail||null,origin:i.origin,destination:i.destination,estimatedDeliveryDate:i.estimatedDeliveryDate||null}}),onSuccess:()=>{r({title:"Envo actualizado",description:"Los cambios fueron guardados."}),n()},onError:S=>{console.error("[EditShipmentInline] Error actualizando envo:",S),r({title:"Error",description:S.message||"No se pudo actualizar el envo. Verifique su conexin.",variant:"destructive"})}});return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(dt,{children:"Nmero de Orden"}),s.jsx(gt,{value:i.purchaseOrder,onChange:S=>a({...i,purchaseOrder:S.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(dt,{children:"Cliente"}),s.jsx(gt,{value:i.customerName,onChange:S=>a({...i,customerName:S.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(dt,{children:"Email del Cliente"}),s.jsx(gt,{type:"email",value:i.customerEmail,onChange:S=>a({...i,customerEmail:S.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(dt,{children:"Origen"}),s.jsx(gt,{value:i.origin,onChange:S=>a({...i,origin:S.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(dt,{children:"Destino"}),s.jsx(gt,{value:i.destination,onChange:S=>a({...i,destination:S.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(dt,{children:"Fecha estimada de entrega"}),s.jsx(gt,{type:"date",value:i.estimatedDeliveryDate,onChange:S=>a({...i,estimatedDeliveryDate:S.target.value})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"sticky top-0 bg-white z-10 pb-2",children:s.jsx("h4",{className:"font-semibold",children:"Productos"})}),c?s.jsx("div",{className:"text-sm text-gray-500",children:"Cargando productos"}):s.jsxs("div",{className:"space-y-3 max-h-[50vh] overflow-y-auto pr-1",children:[o.length===0&&s.jsx("div",{className:"text-sm text-gray-500",children:"Sin productos agregados"}),o.map(S=>s.jsxs("div",{className:"grid grid-cols-12 gap-2 items-end",children:[s.jsxs("div",{className:"col-span-5",children:[s.jsx(dt,{className:"text-xs",children:"Producto"}),u?f?s.jsx(gt,{defaultValue:S.product,disabled:!0}):d.length>0?s.jsxs(An,{value:S.product,onValueChange:k=>y.mutate({id:S.id,item:{product:k}}),children:[s.jsx(Nn,{children:s.jsx(Tn,{placeholder:"Seleccione un producto"})}),s.jsx(_n,{children:d.map(k=>s.jsx(at,{value:k.name,children:k.name},k.id))})]}):s.jsx(gt,{defaultValue:S.product,onBlur:k=>y.mutate({id:S.id,item:{product:k.target.value}})}):s.jsx(gt,{defaultValue:S.product,disabled:!0})]}),s.jsxs("div",{className:"col-span-3",children:[s.jsx(dt,{className:"text-xs",children:"Cantidad"}),s.jsx(gt,{defaultValue:S.quantity,onBlur:k=>y.mutate({id:S.id,item:{quantity:k.target.value}})})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx(dt,{className:"text-xs",children:"Unidad"}),s.jsx(gt,{defaultValue:S.unit,onBlur:k=>y.mutate({id:S.id,item:{unit:k.target.value}})})]}),s.jsxs("div",{className:"col-span-10",children:[s.jsx(dt,{className:"text-xs",children:"Descripcin"}),s.jsx(gt,{defaultValue:S.description||"",onBlur:k=>y.mutate({id:S.id,item:{description:k.target.value}})})]}),s.jsx("div",{className:"col-span-2 flex justify-end",children:s.jsx(Oe,{variant:"destructive",onClick:()=>v.mutate(S.id),size:"sm",children:"Eliminar"})})]},S.id))]}),s.jsxs("div",{className:"grid grid-cols-12 gap-2 items-end mt-2",children:[s.jsxs("div",{className:"col-span-5",children:[s.jsx(dt,{className:"text-xs",children:"Producto"}),u?f?s.jsx(gt,{placeholder:"Cargando...",disabled:!0}):d.length>0?s.jsxs("div",{className:"flex gap-1",children:[s.jsxs(An,{value:x.product,onValueChange:S=>w({...x,product:S}),children:[s.jsx(Nn,{className:"flex-1",children:s.jsx(Tn,{placeholder:"Seleccione un producto"})}),s.jsx(_n,{children:d.map(S=>s.jsx(at,{value:S.name,children:S.name},S.id))})]}),s.jsx(Oe,{type:"button",variant:"outline",size:"sm",onClick:()=>{const S=prompt("Ingrese el nombre del nuevo producto:");S&&S.trim()&&h.mutate(S.trim(),{onSuccess:k=>{w({...x,product:k.name})}})},title:"Crear nuevo producto",children:"+"})]}):s.jsxs("div",{className:"flex gap-1",children:[s.jsx(gt,{value:x.product,onChange:S=>w({...x,product:S.target.value}),placeholder:"Escriba el producto o cree uno nuevo"}),s.jsx(Oe,{type:"button",variant:"outline",size:"sm",onClick:()=>{x.product&&x.product.trim()?h.mutate(x.product.trim(),{onSuccess:S=>{w({...x,product:S.name})}}):r({title:"Error",description:"Ingrese un nombre de producto",variant:"destructive"})},title:"Guardar como nuevo producto",children:""})]}):s.jsx(gt,{placeholder:"Selecciona empresa",disabled:!0})]}),s.jsxs("div",{className:"col-span-3",children:[s.jsx(dt,{className:"text-xs",children:"Cantidad"}),s.jsx(gt,{value:x.quantity,onChange:S=>w({...x,quantity:S.target.value})})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx(dt,{className:"text-xs",children:"Unidad"}),s.jsx(gt,{value:x.unit,onChange:S=>w({...x,unit:S.target.value})})]}),s.jsxs("div",{className:"col-span-10",children:[s.jsx(dt,{className:"text-xs",children:"Descripcin"}),s.jsx(gt,{value:x.description,onChange:S=>w({...x,description:S.target.value})})]}),s.jsx("div",{className:"col-span-2 flex justify-end",children:s.jsx(Oe,{size:"sm",onClick:()=>{if(!x.product||!x.quantity||!x.unit){r({title:"Completa producto/cantidad/unidad",variant:"destructive"});return}g.mutate({...x}),w({product:"",quantity:"",unit:"kg",description:""})},children:"Agregar"})})]})]}),s.jsxs(pc,{className:"gap-2",children:[s.jsx(Oe,{variant:"outline",onClick:t,children:"Cancelar"}),s.jsx(Oe,{onClick:()=>j.mutate(),disabled:j.isPending,children:j.isPending?"Guardando...":"Guardar cambios"})]})]})}const Lgt=({status:e})=>{const n={pending:{label:"Por embarcar",variant:"outline",color:"bg-blue-100 text-blue-800",icon:Wo},in_transit:{label:"En Trnsito",variant:"default",color:"bg-orange-100 text-orange-800",icon:qo},delayed:{label:"Retrasado",variant:"destructive",color:"bg-red-100 text-red-800",icon:Oa},delivered:{label:"Entregado",variant:"success",color:"bg-green-100 text-green-800",icon:lf},cancelled:{label:"Cerrado",variant:"secondary",color:"bg-gray-100 text-gray-800",icon:Ra}}[e]||{label:e,variant:"outline",color:"bg-gray-100 text-gray-800",icon:_l},r=n.icon;return s.jsxs(Ct,{variant:n.variant,className:`${n.color} flex items-center gap-1`,children:[s.jsx(r,{className:"w-3 h-3"}),n.label]})},Mgt=e=>{const[t,n]=e.split("-");return`${["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"][parseInt(n)-1]} ${t}`},GG=e=>{if(!e||e==="null"||e==="")return null;const t=parseFloat(e);if(isNaN(t)||t<0)return null;const n=Math.floor(t/24),r=Math.floor(t%24),i=Math.floor(t%1*60);return n>0?r>0?`${n}d ${r}h`:`${n}d`:r>0?i>0?`${r}h ${i}m`:`${r}h`:i>0?`${i}m`:`${Math.round(t*60)}m`};function Igt({shipments:e,onShipmentClick:t}){const[n,r]=b.useState(new Set),i=b.useMemo(()=>{const c={};return e.forEach(u=>{const d=new Date(u.createdAt),f=`${d.getFullYear()}-${(d.getMonth()+1).toString().padStart(2,"0")}`;c[f]||(c[f]=[]),c[f].push(u)}),Object.entries(c).sort((u,d)=>d[0].localeCompare(u[0])).map(([u,d])=>({monthKey:u,monthLabel:Mgt(u),shipments:d.sort((f,m)=>new Date(m.createdAt).getTime()-new Date(f.createdAt).getTime())}))},[e]),a=c=>{const u=new Set(n);u.has(c)?u.delete(c):u.add(c),r(u)},o=b.useMemo(()=>{const c=new Set;return i.slice(0,3).forEach(u=>{c.add(u.monthKey)}),c},[i]),l=c=>n.size>0?n.has(c):o.has(c);return i.length===0?s.jsx(Ue,{children:s.jsxs(We,{className:"p-8 text-center",children:[s.jsx(_l,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No hay embarques registrados"})]})}):s.jsx("div",{className:"space-y-4",children:i.map(({monthKey:c,monthLabel:u,shipments:d})=>{const f=l(c),m=d.filter(v=>v.status==="delivered"||v.status==="cancelled").length,h=d.filter(v=>v.status==="in_transit").length,g=d.filter(v=>v.status==="pending").length,y=d.filter(v=>v.status==="delayed").length;return s.jsxs(Ue,{className:"overflow-hidden",children:[s.jsx(Vt,{className:"cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>a(c),children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Xa,{className:"w-5 h-5 text-primary"}),s.jsx(an,{className:"text-lg",children:u}),s.jsxs(Ct,{variant:"outline",className:"ml-2",children:[d.length," ",d.length===1?"embarque":"embarques"]})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"hidden md:flex items-center gap-3 text-sm",children:[m>0&&s.jsxs("span",{className:"text-success font-medium",children:[m," entregados"]}),h>0&&s.jsxs("span",{className:"text-warning font-medium",children:[h," en trnsito"]}),g>0&&s.jsxs("span",{className:"text-primary font-medium",children:[g," pendientes"]}),y>0&&s.jsxs("span",{className:"text-destructive font-medium",children:[y," retrasados"]})]}),f?s.jsx(WC,{className:"w-5 h-5 text-muted-foreground"}):s.jsx(iv,{className:"w-5 h-5 text-muted-foreground"})]})]})}),f&&s.jsx(We,{className:"pt-0",children:s.jsx("div",{className:"space-y-3",children:d.map(v=>{var x,w;return s.jsx(Ue,{className:`border cursor-pointer hover:shadow-md transition-all ${t?"hover:border-primary":""}`,onClick:()=>t==null?void 0:t(v),children:s.jsx(We,{className:"p-4",children:s.jsx("div",{className:"flex items-start justify-between gap-4",children:s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsx("span",{className:"font-semibold text-lg",children:v.trackingCode||`#${v.id}`}),s.jsx(Lgt,{status:v.status}),v.customerName&&s.jsx("span",{className:"text-sm text-muted-foreground",children:v.customerName})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[v.product&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(_l,{className:"w-4 h-4 text-muted-foreground"}),s.jsx("span",{className:"font-medium",children:"Producto:"}),s.jsx("span",{children:v.product}),v.quantity&&s.jsxs("span",{className:"text-muted-foreground",children:["(",v.quantity," ",v.unit||"",")"]})]}),v.origin&&v.destination&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(lp,{className:"w-4 h-4 text-muted-foreground"}),s.jsx("span",{className:"font-medium",children:"Ruta:"}),s.jsxs("span",{children:[v.origin,"  ",v.destination]})]}),v.status==="delivered"&&(v.actualDeliveryDate||v.deliveredAt)?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(q6,{className:"w-4 h-4 text-green-600 dark:text-green-400"}),s.jsx("span",{className:"font-medium text-green-700 dark:text-green-300",children:"Entrega real:"}),s.jsx("span",{className:"font-semibold text-green-700 dark:text-green-300",children:new Date(v.actualDeliveryDate||v.deliveredAt).toLocaleDateString("es-MX",{year:"numeric",month:"short",day:"numeric"})})]}):v.estimatedDeliveryDate?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Xa,{className:"w-4 h-4 text-muted-foreground"}),s.jsx("span",{className:"font-medium",children:"Entrega estimada:"}),s.jsx("span",{children:new Date(v.estimatedDeliveryDate).toLocaleDateString("es-MX",{year:"numeric",month:"short",day:"numeric"})})]}):null,s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Wo,{className:"w-4 h-4 text-muted-foreground"}),s.jsx("span",{className:"font-medium",children:"Creado:"}),s.jsx("span",{children:new Date(v.createdAt).toLocaleDateString("es-MX",{year:"numeric",month:"short",day:"numeric"})})]}),((x=v.cycleTimes)==null?void 0:x.hoursPendingToTransit)&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Wo,{className:"w-4 h-4 text-blue-600"}),s.jsx("span",{className:"font-medium",children:"Creacin  En Trnsito:"}),s.jsx("span",{className:"text-blue-600 font-semibold",children:GG(v.cycleTimes.hoursPendingToTransit)})]}),((w=v.cycleTimes)==null?void 0:w.hoursTransitToDelivered)&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(qo,{className:"w-4 h-4 text-orange-600"}),s.jsx("span",{className:"font-medium",children:"En Trnsito  Entregado:"}),s.jsx("span",{className:"text-orange-600 font-semibold",children:GG(v.cycleTimes.hoursTransitToDelivered)})]})]})]})})})},v.id)})})})]},c)})})}const Dgt=Wa({name:xt().min(1,"El nombre es requerido"),email:xt().email("Email invlido").optional().or(q2("")),phone:xt().optional(),rfc:xt().optional(),billing_addr:xt().optional(),shipping_addr:xt().optional(),is_active:Iv().default(!0),company_id:xt().min(1,"Debe seleccionar una empresa")}),Rgt=Wa({name:xt().min(1,"El nombre es requerido"),email:xt().email("Email invlido").optional().or(q2("")),phone:xt().optional(),contact_name:xt().optional(),rating:Ii().min(0).max(5).optional(),is_active:Iv().default(!0)});function $gt(){const[e,t]=b.useState(null),[n,r]=b.useState(null),[i,a]=b.useState(null),[o,l]=b.useState(null),[c,u]=b.useState(!1),[d,f]=b.useState(!1),[m,h]=b.useState(!1),[g,y]=b.useState("active"),{toast:v}=zi(),x=Vs(),{data:w=[]}=At({queryKey:["/api/companies"]}),{data:j=[],isLoading:_}=At({queryKey:["/api/clients"]}),{data:S=[],isLoading:k}=At({queryKey:["/api/providers"]}),{data:P=[],isLoading:M}=At({queryKey:["/api/products"]}),{data:T,isLoading:R}=At({queryKey:["/api/shipments"]}),D=b.useMemo(()=>T?Array.isArray(T.shipments)?T.shipments:Array.isArray(T)?T:[]:[],[T]);return s.jsxs(Ro,{title:"Mdulo de Logstica",children:[s.jsxs("div",{className:"flex justify-start items-center mb-6",children:[s.jsx(Rx,{href:"/",children:s.jsxs(Oe,{children:[s.jsx(zd,{className:"w-4 h-4 mr-2"}),"Dashboard"]})}),s.jsxs("div",{className:"ml-auto text-xs text-muted-foreground font-mono",children:["v","dev"]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6",children:[s.jsxs("div",{className:"lg:col-span-2 grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx(Ue,{children:s.jsx(We,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-warning",children:"En Trnsito"}),s.jsx("p",{className:"text-4xl font-bold",children:D.filter(B=>B.status==="in_transit").length})]}),s.jsx("div",{className:"bg-warning/15 p-3 rounded-full",children:s.jsx(_l,{className:"w-10 h-10 text-warning"})})]})})}),s.jsx(Ue,{children:s.jsx(We,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-primary",children:"Por embarcar"}),s.jsx("p",{className:"text-4xl font-bold",children:D.filter(B=>B.status==="pending").length})]}),s.jsx("div",{className:"bg-primary/15 p-3 rounded-full",children:s.jsx(Wo,{className:"w-10 h-10 text-primary"})})]})})}),s.jsx(Ue,{className:"border-2 border-success/30 bg-gradient-to-br from-success/5 to-success/10",children:s.jsx(We,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-success",children:"Entregados"}),s.jsx("p",{className:"text-5xl font-extrabold text-success",children:D.filter(B=>B.status==="delivered"||B.status==="cancelled").length})]}),s.jsx("div",{className:"bg-success/20 p-3 rounded-full",children:s.jsx(lf,{className:"w-12 h-12 text-success"})})]})})})]}),s.jsxs("div",{className:"space-y-4 max-h-full overflow-y-auto",children:[s.jsx(Ue,{className:"cursor-pointer hover:shadow-md transition-all",onClick:()=>t("clients"),children:s.jsx(We,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Fi,{className:"w-5 h-5 text-primary mr-2"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"Clientes"})]}),s.jsx("span",{className:"text-lg font-semibold",children:j.length})]})})}),s.jsx(Ue,{className:"cursor-pointer hover:shadow-md transition-all",onClick:()=>t("providers"),children:s.jsx(We,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(qo,{className:"w-5 h-5 text-success mr-2"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"Proveedores"})]}),s.jsx("span",{className:"text-lg font-semibold",children:S.length})]})})}),s.jsx(Ue,{className:"cursor-pointer hover:shadow-md transition-all",onClick:()=>t("products"),children:s.jsx(We,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(iS,{className:"w-5 h-5 text-primary mr-2"}),s.jsx("span",{className:"text-sm text-muted-foreground font-medium",children:"Productos"})]}),s.jsx("span",{className:"text-lg font-semibold",children:M?"...":P.filter(B=>B.is_active).length})]})})})]})]}),g==="active"?s.jsx(Tgt,{onShowHistory:()=>y("history")}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[s.jsx(V6,{className:"h-6 w-6 text-slate-600"}),"Historial de Embarques"]}),s.jsxs(Oe,{variant:"outline",onClick:()=>y("active"),children:[s.jsx(zd,{className:"w-4 h-4 mr-2"}),"Volver a Embarcaciones Activas"]})]}),R?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(sr,{className:"w-8 h-8 animate-spin text-muted-foreground"})}):s.jsx(Igt,{shipments:D,onShipmentClick:B=>{console.log("Ver detalles de:",B)}})]}),s.jsx(zr,{open:e==="clients",onOpenChange:()=>t(null),children:s.jsxs(Ir,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[s.jsx(Vr,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(qr,{className:"flex items-center gap-2",children:[s.jsx(Fi,{className:"w-5 h-5 text-primary"}),"Clientes (",j.length,")"]}),s.jsxs(Oe,{"data-testid":"button-new-client",onClick:()=>{r(null),u(!0)},children:[s.jsx(rc,{className:"w-4 h-4 mr-2"}),"Nuevo Cliente"]})]})}),s.jsx("div",{className:"grid gap-4 mt-4",children:_?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900 mx-auto"}),s.jsx("p",{className:"mt-2 text-gray-600",children:"Cargando clientes..."})]}):j.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Fi,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"No hay clientes registrados"})]}):j.map(B=>{var $;return s.jsx(Ue,{className:"border border-gray-200",children:s.jsx(We,{className:"p-4",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("h3",{className:"font-semibold text-lg text-gray-900",children:B.name}),B.company_id&&s.jsx(Ct,{variant:"outline",className:"text-xs",children:(($=w.find(K=>K.id===B.company_id))==null?void 0:$.name)||`Empresa ${B.company_id}`})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 mt-2 text-sm text-gray-600",children:[B.rfc&&s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"RFC:"})," ",B.rfc]}),B.email&&s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Email:"})," ",B.email]}),B.phone&&s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Telfono:"})," ",B.phone]}),B.billing_addr&&s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Dir. Facturacin:"})," ",B.billing_addr]}),B.shipping_addr&&s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Dir. Envo:"})," ",B.shipping_addr]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ct,{variant:B.is_active?"default":"secondary",children:B.is_active?"Activo":"Inactivo"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Oe,{variant:"outline",size:"sm","data-testid":`button-edit-client-${B.id}`,onClick:()=>{r(B),u(!0)},children:"Editar"}),s.jsx(Oe,{variant:"outline",size:"sm",onClick:async()=>{if(confirm(`Ests seguro de que deseas eliminar a ${B.name}?`))try{await Dt("PATCH",`/api/clients/${B.id}`,{is_active:!1}),v({title:"Cliente eliminado",description:`${B.name} ha sido marcado como inactivo.`}),x.invalidateQueries({queryKey:["/api/clients"]})}catch(K){v({title:"Error",description:K.message||"No se pudo eliminar el cliente.",variant:"destructive"})}},children:s.jsx(mh,{className:"w-4 h-4"})})]})]})]})})},B.id)})})]})}),s.jsx(zr,{open:e==="providers",onOpenChange:()=>t(null),children:s.jsxs(Ir,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[s.jsx(Vr,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(qr,{className:"flex items-center gap-2",children:[s.jsx(qo,{className:"w-5 h-5 text-green-600"}),"Proveedores de Transporte (",S.length,")"]}),s.jsxs(Oe,{"data-testid":"button-new-provider",onClick:()=>{a(null),f(!0)},children:[s.jsx(rc,{className:"w-4 h-4 mr-2"}),"Nuevo Proveedor"]})]})}),s.jsx("div",{className:"grid gap-4 mt-4",children:k?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900 mx-auto"}),s.jsx("p",{className:"mt-2 text-gray-600",children:"Cargando proveedores..."})]}):S.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(qo,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"No hay proveedores registrados"})]}):S.map(B=>s.jsx(Ue,{className:"border border-gray-200",children:s.jsx(We,{className:"p-4",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-lg text-gray-900",children:B.name}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 mt-2 text-sm text-gray-600",children:[B.contact_name&&s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Contacto:"})," ",B.contact_name]}),B.email&&s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Email:"})," ",B.email]}),B.phone&&s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Telfono:"})," ",B.phone]}),B.rating&&s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"font-medium mr-2",children:"Rating:"}),s.jsx("div",{className:"flex",children:[...Array(5)].map(($,K)=>s.jsx("span",{className:K<B.rating?"text-yellow-400":"text-gray-300",children:""},K))})]})]}),B.channels&&B.channels.length>0&&s.jsxs("div",{className:"mt-3 pt-3 border-t",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600 mb-2",children:"Canales de comunicacin:"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:B.channels.map(($,K)=>s.jsxs(Ct,{variant:"outline",className:"text-xs",children:[$.type,": ",$.value," ",$.isDefault&&"(Principal)"]},K))})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ct,{variant:B.is_active?"default":"secondary",children:B.is_active?"Activo":"Inactivo"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Oe,{variant:"outline",size:"sm","data-testid":`button-edit-provider-${B.id}`,onClick:()=>{a(B),f(!0)},children:"Editar"}),s.jsx(Oe,{variant:"outline",size:"sm",onClick:async()=>{if(confirm(`Ests seguro de que deseas eliminar a ${B.name}?`))try{try{await Dt("DELETE",`/api/providers/${B.id}`)}catch{await Dt("PATCH",`/api/providers/${B.id}`,{is_active:!1})}v({title:"Proveedor eliminado",description:`${B.name} ha sido marcado como inactivo.`}),x.invalidateQueries({queryKey:["/api/providers"]})}catch($){v({title:"Error",description:$.message||"No se pudo eliminar el proveedor.",variant:"destructive"})}},children:s.jsx(mh,{className:"w-4 h-4"})})]})]})]})})},B.id))})]})}),s.jsx(Fgt,{isOpen:c,onClose:()=>{u(!1),r(null)},client:n,queryClient:x,toast:v}),s.jsx(Bgt,{isOpen:d,onClose:()=>{f(!1),a(null)},provider:i,queryClient:x,toast:v}),s.jsx(zr,{open:e==="products",onOpenChange:()=>t(null),children:s.jsxs(Ir,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[s.jsx(Vr,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(qr,{className:"flex items-center gap-2",children:[s.jsx(iS,{className:"w-5 h-5 text-primary"}),"Productos (",P.filter(B=>B.is_active).length,")"]}),s.jsxs(Oe,{onClick:()=>{l(null),h(!0)},children:[s.jsx(rc,{className:"w-4 h-4 mr-2"}),"Nuevo Producto"]})]})}),s.jsx("div",{className:"space-y-4 mt-4",children:M?s.jsx("div",{className:"text-center py-8 text-gray-500",children:"Cargando productos..."}):P.length===0?s.jsx("div",{className:"text-center py-8 text-gray-500",children:"No hay productos registrados"}):P.filter(B=>B.is_active).map(B=>{const $=w.find(K=>K.id===B.company_id);return s.jsx(Ue,{className:"hover:shadow-md transition-shadow",children:s.jsx(We,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-primary/15 text-primary",children:s.jsx(iS,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900",children:B.name}),$&&s.jsxs("p",{className:"text-sm text-gray-500",children:["Empresa: ",$.name]}),!B.company_id&&s.jsx("p",{className:"text-sm text-gray-500",children:"Empresa: Sin asignar"})]})]})}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Oe,{variant:"outline",size:"sm",onClick:()=>{l(B),h(!0)},children:"Editar"}),s.jsx(Oe,{variant:"outline",size:"sm",onClick:async()=>{if(confirm(`Ests seguro de que deseas eliminar el producto "${B.name}"?`))try{console.log("[ProductsModal] Eliminando producto:",B.id);const K=await Dt("DELETE",`/api/products/${B.id}`);if(!K.ok){let Y="Error al eliminar producto";try{const Q=await K.json();Y=Q.error||Q.message||Y}catch{Y=`Error ${K.status}: ${K.statusText}`}throw new Error(Y)}v({title:"Producto eliminado",description:`${B.name} ha sido eliminado.`}),x.invalidateQueries({queryKey:["/api/products"]})}catch(K){console.error("[ProductsModal] Error al eliminar producto:",K),v({title:"Error",description:K.message||"No se pudo eliminar el producto.",variant:"destructive"})}},children:s.jsx(mh,{className:"w-4 h-4"})})]})]})})},B.id)})})]})}),s.jsx(Vgt,{isOpen:m,onClose:()=>{h(!1),l(null)},product:o,companies:w,queryClient:x,toast:v})]})}function Fgt({isOpen:e,onClose:t,client:n,queryClient:r,toast:i}){var d;const{data:a=[]}=At({queryKey:["/api/companies"]}),o=Rp({resolver:$p(Dgt),defaultValues:{name:(n==null?void 0:n.name)||"",email:(n==null?void 0:n.email)||"",phone:(n==null?void 0:n.phone)||"",rfc:(n==null?void 0:n.rfc)||"",billing_addr:(n==null?void 0:n.billing_addr)||"",shipping_addr:(n==null?void 0:n.shipping_addr)||"",is_active:(n==null?void 0:n.is_active)??!0,company_id:((d=n==null?void 0:n.company_id)==null?void 0:d.toString())||""}});E.useEffect(()=>{var f;n?o.reset({name:n.name||"",email:n.email||"",phone:n.phone||"",rfc:n.rfc||"",billing_addr:n.billing_addr||"",shipping_addr:n.shipping_addr||"",is_active:n.is_active??!0,company_id:((f=n.company_id)==null?void 0:f.toString())||""}):o.reset({name:"",email:"",phone:"",rfc:"",billing_addr:"",shipping_addr:"",is_active:!0,company_id:""})},[n,o]);const l=Wn({mutationFn:async f=>{const m={name:f.name,email:f.email||void 0,rfc:f.rfc||void 0,billingAddr:f.billing_addr||void 0,shippingAddr:f.shipping_addr||void 0,isActive:f.is_active??!0,companyId:parseInt(f.company_id)||void 0};return await(await Dt("POST","/api/clients",m)).json()},onSuccess:()=>{i({title:"Cliente creado",description:"El cliente ha sido creado exitosamente."}),r.invalidateQueries({queryKey:["/api/clients"]}),t()},onError:f=>{i({title:"Error",description:f.message||"No se pudo crear el cliente.",variant:"destructive"})}}),c=Wn({mutationFn:async f=>{const m={name:f.name,email:f.email||void 0,rfc:f.rfc||void 0,billingAddr:f.billing_addr||void 0,shippingAddr:f.shipping_addr||void 0,isActive:f.is_active??!0,companyId:parseInt(f.company_id)||void 0};return await(await Dt("PATCH",`/api/clients/${n==null?void 0:n.id}`,m)).json()},onSuccess:()=>{i({title:"Cliente actualizado",description:"El cliente ha sido actualizado exitosamente."}),r.invalidateQueries({queryKey:["/api/clients"]}),t()},onError:f=>{i({title:"Error",description:f.message||"No se pudo actualizar el cliente.",variant:"destructive"})}}),u=f=>{n?c.mutate(f):l.mutate(f)};return s.jsx(zr,{open:e,onOpenChange:t,children:s.jsxs(Ir,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(Vr,{children:s.jsx(qr,{children:n?"Editar Cliente":"Nuevo Cliente"})}),s.jsx(xp,{...o,children:s.jsxs("form",{onSubmit:o.handleSubmit(u),className:"space-y-4",children:[s.jsx(En,{control:o.control,name:"name",render:({field:f})=>s.jsxs(bn,{children:[s.jsx(wn,{children:"Nombre *"}),s.jsx(xn,{children:s.jsx(gt,{placeholder:"Nombre del cliente",...f})}),s.jsx(jn,{})]})}),s.jsx(En,{control:o.control,name:"company_id",render:({field:f})=>s.jsxs(bn,{children:[s.jsx(wn,{children:"Empresa *"}),s.jsxs(An,{onValueChange:f.onChange,value:f.value,children:[s.jsx(xn,{children:s.jsx(Nn,{children:s.jsx(Tn,{placeholder:"Selecciona una empresa"})})}),s.jsx(_n,{children:a.map(m=>s.jsx(at,{value:m.id.toString(),children:m.name},m.id))})]}),s.jsx(jn,{})]})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(En,{control:o.control,name:"email",render:({field:f})=>s.jsxs(bn,{children:[s.jsx(wn,{children:"Email"}),s.jsx(xn,{children:s.jsx(gt,{type:"email",placeholder:"correo@ejemplo.com",...f})}),s.jsx(jn,{})]})}),s.jsx(En,{control:o.control,name:"phone",render:({field:f})=>s.jsxs(bn,{children:[s.jsx(wn,{children:"Telfono"}),s.jsx(xn,{children:s.jsx(gt,{placeholder:"+52 55 1234 5678",...f})}),s.jsx(jn,{})]})})]}),s.jsx(En,{control:o.control,name:"rfc",render:({field:f})=>s.jsxs(bn,{children:[s.jsx(wn,{children:"RFC"}),s.jsx(xn,{children:s.jsx(gt,{placeholder:"RFC123456789",...f})}),s.jsx(jn,{})]})}),s.jsx(En,{control:o.control,name:"billing_addr",render:({field:f})=>s.jsxs(bn,{children:[s.jsx(wn,{children:"Direccin de Facturacin"}),s.jsx(xn,{children:s.jsx(nu,{placeholder:"Direccin completa",...f})}),s.jsx(jn,{})]})}),s.jsx(En,{control:o.control,name:"shipping_addr",render:({field:f})=>s.jsxs(bn,{children:[s.jsx(wn,{children:"Direccin de Envo"}),s.jsx(xn,{children:s.jsx(nu,{placeholder:"Direccin completa",...f})}),s.jsx(jn,{})]})}),s.jsx(En,{control:o.control,name:"is_active",render:({field:f})=>s.jsxs(bn,{className:"flex items-center gap-2",children:[s.jsx(xn,{children:s.jsx("input",{type:"checkbox",checked:f.value,onChange:f.onChange,className:"w-4 h-4"})}),s.jsx(wn,{children:"Cliente Activo"}),s.jsx(jn,{})]})}),s.jsxs(pc,{children:[s.jsx(Oe,{type:"button",variant:"outline",onClick:t,children:"Cancelar"}),s.jsx(Oe,{type:"submit",disabled:l.isPending||c.isPending,children:l.isPending||c.isPending?s.jsxs(s.Fragment,{children:[s.jsx(sr,{className:"w-4 h-4 mr-2 animate-spin"}),"Guardando..."]}):s.jsxs(s.Fragment,{children:[s.jsx(KC,{className:"w-4 h-4 mr-2"}),n?"Actualizar":"Crear"," Cliente"]})})]})]})})]})})}function Bgt({isOpen:e,onClose:t,provider:n,queryClient:r,toast:i}){const a=Rp({resolver:$p(Rgt),defaultValues:{name:(n==null?void 0:n.name)||"",email:(n==null?void 0:n.email)||"",phone:(n==null?void 0:n.phone)||"",contact_name:(n==null?void 0:n.contact_name)||"",rating:(n==null?void 0:n.rating)||void 0,is_active:(n==null?void 0:n.is_active)??!0}});E.useEffect(()=>{n?a.reset({name:n.name||"",email:n.email||"",phone:n.phone||"",contact_name:n.contact_name||"",rating:n.rating||void 0,is_active:n.is_active??!0}):a.reset({name:"",email:"",phone:"",contact_name:"",rating:void 0,is_active:!0})},[n,a]);const o=Wn({mutationFn:async u=>await(await Dt("POST","/api/providers",{...u,contactName:u.contact_name})).json(),onSuccess:()=>{i({title:"Proveedor creado",description:"El proveedor ha sido creado exitosamente."}),r.invalidateQueries({queryKey:["/api/providers"]}),t()},onError:u=>{i({title:"Error",description:u.message||"No se pudo crear el proveedor.",variant:"destructive"})}}),l=Wn({mutationFn:async u=>await(await Dt("PATCH",`/api/providers/${n==null?void 0:n.id}`,{...u,contactName:u.contact_name})).json(),onSuccess:()=>{i({title:"Proveedor actualizado",description:"El proveedor ha sido actualizado exitosamente."}),r.invalidateQueries({queryKey:["/api/providers"]}),t()},onError:u=>{i({title:"Error",description:u.message||"No se pudo actualizar el proveedor.",variant:"destructive"})}}),c=u=>{n?l.mutate(u):o.mutate(u)};return s.jsx(zr,{open:e,onOpenChange:t,children:s.jsxs(Ir,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(Vr,{children:s.jsx(qr,{children:n?"Editar Proveedor":"Nuevo Proveedor"})}),s.jsx(xp,{...a,children:s.jsxs("form",{onSubmit:a.handleSubmit(c),className:"space-y-4",children:[s.jsx(En,{control:a.control,name:"name",render:({field:u})=>s.jsxs(bn,{children:[s.jsx(wn,{children:"Nombre *"}),s.jsx(xn,{children:s.jsx(gt,{placeholder:"Nombre del proveedor",...u})}),s.jsx(jn,{})]})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(En,{control:a.control,name:"email",render:({field:u})=>s.jsxs(bn,{children:[s.jsx(wn,{children:"Email"}),s.jsx(xn,{children:s.jsx(gt,{type:"email",placeholder:"correo@ejemplo.com",...u})}),s.jsx(jn,{})]})}),s.jsx(En,{control:a.control,name:"phone",render:({field:u})=>s.jsxs(bn,{children:[s.jsx(wn,{children:"Telfono"}),s.jsx(xn,{children:s.jsx(gt,{placeholder:"+52 55 1234 5678",...u})}),s.jsx(jn,{})]})})]}),s.jsx(En,{control:a.control,name:"contact_name",render:({field:u})=>s.jsxs(bn,{children:[s.jsx(wn,{children:"Nombre de Contacto"}),s.jsx(xn,{children:s.jsx(gt,{placeholder:"Nombre del contacto principal",...u})}),s.jsx(jn,{})]})}),s.jsx(En,{control:a.control,name:"rating",render:({field:u})=>s.jsxs(bn,{children:[s.jsx(wn,{children:"Rating (0-5)"}),s.jsx(xn,{children:s.jsx(gt,{type:"number",min:"0",max:"5",step:"0.5",placeholder:"4.5",...u,onChange:d=>u.onChange(d.target.value?parseFloat(d.target.value):void 0)})}),s.jsx(jn,{})]})}),s.jsx(En,{control:a.control,name:"is_active",render:({field:u})=>s.jsxs(bn,{className:"flex items-center gap-2",children:[s.jsx(xn,{children:s.jsx("input",{type:"checkbox",checked:u.value,onChange:u.onChange,className:"w-4 h-4"})}),s.jsx(wn,{children:"Proveedor Activo"}),s.jsx(jn,{})]})}),s.jsxs(pc,{children:[s.jsx(Oe,{type:"button",variant:"outline",onClick:t,children:"Cancelar"}),s.jsx(Oe,{type:"submit",disabled:o.isPending||l.isPending,children:o.isPending||l.isPending?s.jsxs(s.Fragment,{children:[s.jsx(sr,{className:"w-4 h-4 mr-2 animate-spin"}),"Guardando..."]}):s.jsxs(s.Fragment,{children:[s.jsx(KC,{className:"w-4 h-4 mr-2"}),n?"Actualizar":"Crear"," Proveedor"]})})]})]})})]})})}const zgt=Wa({name:xt().min(1,"El nombre del producto es requerido"),company_id:xt().optional()});function Vgt({isOpen:e,onClose:t,product:n,companies:r,queryClient:i,toast:a}){var d;const o=Rp({resolver:$p(zgt),defaultValues:{name:(n==null?void 0:n.name)||"",company_id:((d=n==null?void 0:n.company_id)==null?void 0:d.toString())||""}});E.useEffect(()=>{var f;if(!e){o.reset({name:"",company_id:""});return}n?o.reset({name:n.name,company_id:((f=n.company_id)==null?void 0:f.toString())||""}):o.reset({name:"",company_id:""})},[n,e,o]);const l=Wn({mutationFn:async f=>{console.log("[ProductForm] Creando producto:",f);try{const m=await Dt("POST","/api/products",{name:f.name.trim(),companyId:f.company_id&&f.company_id!==""?parseInt(f.company_id):null});if(!m.ok){let g="Error al crear producto";try{const y=await m.json();g=y.error||y.message||g}catch{g=`Error ${m.status}: ${m.statusText}`}throw new Error(g)}const h=await m.json();return console.log("[ProductForm] Producto creado exitosamente:",h),h}catch(m){throw console.error("[ProductForm] Error al crear producto:",m),m}},onSuccess:()=>{a({title:"Producto creado",description:"El producto ha sido creado exitosamente."}),i.invalidateQueries({queryKey:["/api/products"]}),t()},onError:f=>{a({title:"Error",description:f.message||"No se pudo crear el producto.",variant:"destructive"})}}),c=Wn({mutationFn:async f=>{console.log("[ProductForm] Actualizando producto:",n==null?void 0:n.id,f);try{const m=await Dt("PUT",`/api/products/${n==null?void 0:n.id}`,{name:f.name.trim(),companyId:f.company_id&&f.company_id!==""?parseInt(f.company_id):null});if(!m.ok){let g="Error al actualizar producto";try{const y=await m.json();g=y.error||y.message||g}catch{g=`Error ${m.status}: ${m.statusText}`}throw new Error(g)}const h=await m.json();return console.log("[ProductForm] Producto actualizado exitosamente:",h),h}catch(m){throw console.error("[ProductForm] Error al actualizar producto:",m),m}},onSuccess:()=>{a({title:"Producto actualizado",description:"El producto ha sido actualizado exitosamente."}),i.invalidateQueries({queryKey:["/api/products"]}),t()},onError:f=>{a({title:"Error",description:f.message||"No se pudo actualizar el producto.",variant:"destructive"})}}),u=f=>{n?c.mutate(f):l.mutate(f)};return s.jsx(zr,{open:e,onOpenChange:t,children:s.jsxs(Ir,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(Vr,{children:s.jsxs(qr,{className:"flex items-center gap-2",children:[s.jsx(iS,{className:"w-5 h-5 text-primary"}),n?"Editar Producto":"Nuevo Producto"]})}),s.jsx(xp,{...o,children:s.jsxs("form",{onSubmit:o.handleSubmit(u),className:"space-y-4",children:[s.jsx(En,{control:o.control,name:"name",render:({field:f})=>s.jsxs(bn,{children:[s.jsx(wn,{children:"Nombre del Producto *"}),s.jsx(xn,{children:s.jsx(gt,{placeholder:"Ej: Aceite de Motor, Grano de Maz, etc.",...f})}),s.jsx(jn,{})]})}),s.jsx(En,{control:o.control,name:"company_id",render:({field:f})=>s.jsxs(bn,{children:[s.jsx(wn,{children:"Empresa (Opcional)"}),s.jsx(xn,{children:s.jsxs(An,{value:f.value||"none",onValueChange:m=>{f.onChange(m==="none"?"":m)},children:[s.jsx(Nn,{children:s.jsx(Tn,{placeholder:"Selecciona una empresa (opcional)"})}),s.jsxs(_n,{children:[s.jsx(at,{value:"none",children:"Sin asignar (ambas empresas)"}),r.map(m=>s.jsx(at,{value:m.id.toString(),children:m.name},m.id))]})]})}),s.jsx(jn,{})]})}),s.jsxs(pc,{children:[s.jsx(Oe,{type:"button",variant:"outline",onClick:t,children:"Cancelar"}),s.jsx(Oe,{type:"submit",disabled:l.isPending||c.isPending,children:l.isPending||c.isPending?s.jsxs(s.Fragment,{children:[s.jsx(sr,{className:"w-4 h-4 mr-2 animate-spin"}),"Guardando..."]}):s.jsxs(s.Fragment,{children:[s.jsx(KC,{className:"w-4 h-4 mr-2"}),n?"Actualizar":"Crear"," Producto"]})})]})]})})]})})}function cge({companyId:e,variant:t="default"}){var M;const[n,r]=b.useState(null),{data:i,isLoading:a,error:o}=At({queryKey:["/api/sales-multi-year-trend",e||"all"],queryFn:async()=>await(await Dt("GET",`/api/sales-multi-year-trend?companyId=${e||1}`)).json(),retry:2,staleTime:5*60*1e3}),l=e===1?"DURA":e===2?"ORSEGA":"DURA",c=e===2?{primary:"#8b5cf6",secondary:"#a78bfa",glow:"rgba(139, 92, 246, 0.3)"}:{primary:"#10b981",secondary:"#34d399",glow:"rgba(16, 185, 129, 0.3)"},u=e===2?"unidades":"KG",d=T=>T>=1e6?`${(T/1e6).toFixed(1)}M`:T>=1e3?`${(T/1e3).toFixed(0)}K`:T.toFixed(0),f=T=>T.toLocaleString("es-MX",{maximumFractionDigits:0});if(a)return s.jsxs(Ue,{className:"overflow-hidden bg-gradient-to-br from-card to-muted/30 border-border/50",children:[s.jsx(Vt,{className:"pb-2",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-primary/10 animate-pulse",children:s.jsx(sr,{className:"h-5 w-5 animate-spin text-primary"})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"h-4 w-32 bg-muted rounded animate-pulse"}),s.jsx("div",{className:"h-3 w-24 bg-muted/50 rounded animate-pulse"})]})]})}),s.jsx(We,{children:s.jsx(nr,{className:"h-[300px] w-full rounded-xl"})})]});if(o||!((M=i==null?void 0:i.yearTotals)!=null&&M.length))return s.jsx(Ue,{className:"overflow-hidden border-dashed border-2",children:s.jsx(We,{className:"py-16",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"mx-auto w-16 h-16 rounded-full bg-muted/50 flex items-center justify-center mb-4",children:s.jsx(Ua,{className:"h-8 w-8 text-muted-foreground/40"})}),s.jsx("p",{className:"text-sm text-muted-foreground font-medium",children:"No hay datos histricos disponibles"}),s.jsx("p",{className:"text-xs text-muted-foreground/60 mt-1",children:"Sube datos de ventas para ver el panorama histrico"})]})})});const m=i.yearTotals,h=m.map((T,R)=>{const D=R>0?m[R-1]:null,I=D&&D.totalQty>0?(T.totalQty-D.totalQty)/D.totalQty*100:null;return{year:T.year.toString(),value:T.totalQty,growth:I,isLatest:R===m.length-1,isBestYear:T.totalQty===Math.max(...m.map(B=>B.totalQty))}}),g=m.reduce((T,R)=>T+R.totalQty,0),y=g/m.length,v=m.reduce((T,R)=>R.totalQty>T.totalQty?R:T,m[0]),x=m[m.length-1],w=m.length>1?m[m.length-2]:null,j=w&&w.totalQty>0?(x.totalQty-w.totalQty)/w.totalQty*100:0,_=m[0],S=m.length-1,k=S>0&&_.totalQty>0?(Math.pow(x.totalQty/_.totalQty,1/S)-1)*100:0,P=({active:T,payload:R,label:D})=>{if(!T||!(R!=null&&R.length))return null;const I=R[0].payload;return s.jsxs("div",{className:"bg-popover/95 backdrop-blur-sm border border-border rounded-xl p-4 shadow-xl min-w-[200px]",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:I.isBestYear?"#f59e0b":c.primary}}),s.jsx("p",{className:"text-foreground font-bold text-lg",children:D}),I.isBestYear&&s.jsx(ry,{className:"h-4 w-4 text-amber-500"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between items-center gap-4",children:[s.jsx("span",{className:"text-muted-foreground text-sm",children:"Total vendido"}),s.jsx("span",{className:"text-foreground font-bold",children:f(I.value)})]}),s.jsxs("div",{className:"flex justify-between items-center gap-4",children:[s.jsx("span",{className:"text-muted-foreground text-sm",children:"Unidad"}),s.jsx("span",{className:"text-foreground font-medium",children:u})]}),I.growth!==null&&s.jsxs("div",{className:"flex justify-between items-center gap-4 pt-2 border-t border-border/50",children:[s.jsx("span",{className:"text-muted-foreground text-sm",children:"vs. ao anterior"}),s.jsxs("span",{className:`font-bold flex items-center gap-1 ${I.growth>=0?"text-emerald-500":"text-red-500"}`,children:[I.growth>=0?s.jsx(b9,{className:"h-3.5 w-3.5"}):s.jsx(y9,{className:"h-3.5 w-3.5"}),I.growth>=0?"+":"",I.growth.toFixed(1),"%"]})]})]})]})};return t==="compact"?s.jsxs(Ue,{className:"rounded-xl border border-border/60 bg-card shadow-sm hover:shadow-md transition-shadow",children:[s.jsx(Vt,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ua,{className:"w-5 h-5 text-primary"}),s.jsx(an,{className:"text-lg",children:"Ventas Histrico Anual"})]})}),s.jsxs(We,{children:[s.jsx("div",{className:"h-[200px] w-full",children:s.jsx(kr,{width:"100%",height:"100%",children:s.jsxs(dc,{data:h,margin:{top:10,right:10,left:0,bottom:10},children:[s.jsx(sa,{strokeDasharray:"3 3",vertical:!1,stroke:"hsl(var(--border))",opacity:.3}),s.jsx(vr,{dataKey:"year",tick:{fontSize:11,fill:"hsl(var(--muted-foreground))"},tickLine:!1,axisLine:!1}),s.jsx(dr,{tickFormatter:d,tick:{fontSize:10,fill:"hsl(var(--muted-foreground))"},tickLine:!1,axisLine:!1,width:50}),s.jsx(mr,{content:s.jsx(P,{})}),s.jsx(Yi,{dataKey:"value",radius:[8,8,0,0],maxBarSize:50,children:h.map((T,R)=>s.jsx(gc,{fill:T.isBestYear?"#f59e0b":c.primary,opacity:.8},`cell-${R}`))})]})})}),s.jsxs("div",{className:"mt-4 flex items-center justify-between text-xs text-muted-foreground",children:[s.jsxs("span",{children:["Mejor ao: ",v.year]}),s.jsxs("span",{className:j>=0?"text-emerald-600":"text-red-600",children:[j>=0?"+":"",j.toFixed(1),"% vs anterior"]})]})]})]}):s.jsxs(Ue,{className:"overflow-hidden bg-gradient-to-br from-card via-card to-muted/20 border-border/50 shadow-lg",children:[s.jsxs(Vt,{className:"pb-0",children:[s.jsxs("div",{className:"flex items-start justify-between flex-wrap gap-4",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 rounded-2xl shadow-lg",style:{background:`linear-gradient(135deg, ${c.primary}20, ${c.primary}10)`,boxShadow:`0 4px 20px ${c.glow}`},children:s.jsx(Ua,{className:"h-6 w-6",style:{color:c.primary}})}),s.jsxs("div",{children:[s.jsxs(an,{className:"text-xl font-bold flex items-center gap-2",children:["Panorama Histrico",s.jsx(cf,{className:"h-4 w-4 text-amber-500"})]}),s.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[l,"  Ventas acumuladas ",m[0].year," - ",x.year]})]})]}),s.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 rounded-full text-sm font-semibold shadow-md",style:{background:j>=0?"linear-gradient(135deg, rgba(16, 185, 129, 0.15), rgba(16, 185, 129, 0.05))":"linear-gradient(135deg, rgba(239, 68, 68, 0.15), rgba(239, 68, 68, 0.05))",color:j>=0?"rgb(16, 185, 129)":"rgb(239, 68, 68)",border:`1px solid ${j>=0?"rgba(16, 185, 129, 0.3)":"rgba(239, 68, 68, 0.3)"}`},children:[j>=0?s.jsx(Pr,{className:"h-4 w-4"}):s.jsx(zs,{className:"h-4 w-4"}),s.jsxs("span",{children:[j>=0?"+":"",j.toFixed(1),"% ltimo ao"]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 mt-6",children:[s.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-br from-background to-muted/30 rounded-2xl p-4 border border-border/50 shadow-sm hover:shadow-md transition-shadow",children:[s.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 opacity-10",style:{background:`radial-gradient(circle, ${c.primary}, transparent)`}}),s.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-2",children:[s.jsx(Xa,{className:"h-4 w-4"}),s.jsx("span",{className:"text-xs font-medium",children:"Total Histrico"})]}),s.jsx("p",{className:"text-2xl font-bold",style:{color:c.primary},children:d(g)}),s.jsx("p",{className:"text-[11px] text-muted-foreground mt-1",children:u})]}),s.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-br from-background to-muted/30 rounded-2xl p-4 border border-border/50 shadow-sm hover:shadow-md transition-shadow",children:[s.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 opacity-10",style:{background:`radial-gradient(circle, ${c.secondary}, transparent)`}}),s.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-2",children:[s.jsx(ic,{className:"h-4 w-4"}),s.jsx("span",{className:"text-xs font-medium",children:"Promedio Anual"})]}),s.jsx("p",{className:"text-2xl font-bold text-foreground",children:d(y)}),s.jsxs("p",{className:"text-[11px] text-muted-foreground mt-1",children:[u,"/ao"]})]}),s.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-br from-amber-50/50 to-amber-100/30 dark:from-amber-950/20 dark:to-amber-900/10 rounded-2xl p-4 border border-amber-200/50 dark:border-amber-800/30 shadow-sm hover:shadow-md transition-shadow",children:[s.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 opacity-20",style:{background:"radial-gradient(circle, #f59e0b, transparent)"}}),s.jsxs("div",{className:"flex items-center gap-2 text-amber-600 dark:text-amber-400 mb-2",children:[s.jsx(ry,{className:"h-4 w-4"}),s.jsx("span",{className:"text-xs font-medium",children:"Mejor Ao"})]}),s.jsx("p",{className:"text-2xl font-bold text-amber-600 dark:text-amber-400",children:v.year}),s.jsxs("p",{className:"text-[11px] text-amber-700/70 dark:text-amber-300/70 mt-1",children:[d(v.totalQty)," ",u]})]}),s.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-br from-blue-50/50 to-blue-100/30 dark:from-blue-950/20 dark:to-blue-900/10 rounded-2xl p-4 border border-blue-200/50 dark:border-blue-800/30 shadow-sm hover:shadow-md transition-shadow",children:[s.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 opacity-20",style:{background:"radial-gradient(circle, #3b82f6, transparent)"}}),s.jsxs("div",{className:"flex items-center gap-2 text-blue-600 dark:text-blue-400 mb-2",children:[s.jsx(pie,{className:"h-4 w-4"}),s.jsx("span",{className:"text-xs font-medium",children:"CAGR"})]}),s.jsxs("p",{className:`text-2xl font-bold ${k>=0?"text-emerald-600 dark:text-emerald-400":"text-red-600 dark:text-red-400"}`,children:[k>=0?"+":"",k.toFixed(1),"%"]}),s.jsx("p",{className:"text-[11px] text-blue-700/70 dark:text-blue-300/70 mt-1",children:"crecimiento compuesto"})]})]})]}),s.jsxs(We,{className:"pt-8",children:[s.jsx("div",{className:"h-[320px] w-full",children:s.jsx(kr,{width:"100%",height:"100%",children:s.jsxs(dc,{data:h,margin:{top:30,right:20,left:0,bottom:10},onMouseMove:T=>{T!=null&&T.activeLabel&&r(T.activeLabel)},onMouseLeave:()=>r(null),children:[s.jsxs("defs",{children:[s.jsxs("linearGradient",{id:`barGradient-${e}`,x1:"0",y1:"0",x2:"0",y2:"1",children:[s.jsx("stop",{offset:"0%",stopColor:c.primary,stopOpacity:1}),s.jsx("stop",{offset:"100%",stopColor:c.secondary,stopOpacity:.8})]}),s.jsxs("linearGradient",{id:"bestYearGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[s.jsx("stop",{offset:"0%",stopColor:"#f59e0b",stopOpacity:1}),s.jsx("stop",{offset:"100%",stopColor:"#fbbf24",stopOpacity:.8})]}),s.jsxs("linearGradient",{id:"negativeGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[s.jsx("stop",{offset:"0%",stopColor:"#ef4444",stopOpacity:1}),s.jsx("stop",{offset:"100%",stopColor:"#f87171",stopOpacity:.8})]})]}),s.jsx(sa,{strokeDasharray:"3 3",vertical:!1,stroke:"hsl(var(--border))",opacity:.4}),s.jsx(vr,{dataKey:"year",tick:{fontSize:13,fontWeight:600,fill:"hsl(var(--muted-foreground))"},tickLine:!1,axisLine:!1}),s.jsx(dr,{tickFormatter:d,tick:{fontSize:11,fill:"hsl(var(--muted-foreground))"},tickLine:!1,axisLine:!1,width:55}),s.jsx(mr,{content:s.jsx(P,{}),cursor:{fill:"hsl(var(--muted))",opacity:.2,radius:8}}),s.jsx(fv,{y,stroke:"hsl(var(--muted-foreground))",strokeDasharray:"4 4",opacity:.5,label:{value:"Promedio",position:"right",fill:"hsl(var(--muted-foreground))",fontSize:10}}),s.jsxs(Yi,{dataKey:"value",radius:[12,12,4,4],maxBarSize:70,children:[s.jsx(uc,{dataKey:"value",position:"top",formatter:d,style:{fontSize:12,fontWeight:700,fill:"hsl(var(--foreground))"}}),h.map((T,R)=>s.jsx(gc,{fill:T.isBestYear?"url(#bestYearGradient)":T.growth!==null&&T.growth<0?"url(#negativeGradient)":`url(#barGradient-${e})`,opacity:n===null||n===T.year?1:.35,style:{transition:"all 0.3s ease",filter:n===T.year?`drop-shadow(0 4px 8px ${c.glow})`:"none"}},`cell-${R}`))]})]})})}),s.jsxs("div",{className:"mt-8 pt-6 border-t border-border/50",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("p",{className:"text-sm font-semibold text-foreground",children:"Detalle por Ao"}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[m.length," aos de datos"]})]}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-3",children:h.map(T=>s.jsxs("div",{className:`relative overflow-hidden p-4 rounded-xl border transition-all duration-300 cursor-default group hover:shadow-lg ${T.isBestYear?"bg-gradient-to-br from-amber-50 to-amber-100/50 dark:from-amber-950/30 dark:to-amber-900/20 border-amber-300/50 dark:border-amber-700/50":"bg-gradient-to-br from-background to-muted/20 border-border/50 hover:border-border"}`,children:[T.isBestYear&&s.jsx("div",{className:"absolute top-2 right-2",children:s.jsx(ry,{className:"h-4 w-4 text-amber-500"})}),s.jsx("div",{className:"flex items-center justify-between mb-2",children:s.jsx("span",{className:"text-base font-bold text-foreground",children:T.year})}),s.jsx("p",{className:"text-sm text-muted-foreground font-medium",children:f(T.value)}),T.growth!==null&&s.jsxs("div",{className:`flex items-center gap-1 mt-2 text-xs font-semibold ${T.growth>=0?"text-emerald-600 dark:text-emerald-400":"text-red-600 dark:text-red-400"}`,children:[T.growth>=0?s.jsx(b9,{className:"h-3 w-3"}):s.jsx(y9,{className:"h-3 w-3"}),T.growth>=0?"+":"",T.growth.toFixed(1),"%"]})]},T.year))})]})]})]})}const E_={2022:"#94a3b8",2023:"#f59e0b",2024:"#3b82f6",2025:"#10b981",2026:"#8b5cf6",2027:"#ec4899"};function uge({companyId:e}){const{data:t,isLoading:n,error:r}=At({queryKey:["/api/sales-multi-year-trend",e],queryFn:async()=>await(await Dt("GET",`/api/sales-multi-year-trend?companyId=${e}`)).json(),enabled:!!e}),i=f=>f>=1e6?`${(f/1e6).toFixed(1)}M`:f>=1e3?`${(f/1e3).toFixed(0)}K`:f.toFixed(0);if(n)return s.jsxs(Ue,{children:[s.jsx(Vt,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(sr,{className:"h-5 w-5 animate-spin"}),s.jsx(an,{children:"Cargando tendencias..."})]})}),s.jsx(We,{children:s.jsx(nr,{className:"h-[300px] w-full"})})]});if(r||!t)return s.jsx(Ue,{className:"border-red-200",children:s.jsx(We,{className:"p-6",children:s.jsx("p",{className:"text-red-600",children:"Error al cargar tendencias multi-ao"})})});const{years:a,data:o,yearTotals:l,unit:c}=t,u=e===1?"DURA":"ORSEGA",d=f=>{const m=l.find(g=>g.year===f),h=l.find(g=>g.year===f-1);return!m||!h||h.totalQty===0?null:(m.totalQty-h.totalQty)/h.totalQty*100};return s.jsxs(Ue,{className:"shadow-lg",children:[s.jsxs(Vt,{className:"pb-2",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`p-2 rounded-lg ${e===1?"bg-blue-100":"bg-purple-100"}`,children:s.jsx(Xa,{className:`h-5 w-5 ${e===1?"text-blue-600":"text-purple-600"}`})}),s.jsxs("div",{children:[s.jsxs(an,{className:"text-lg",children:["Tendencia Multi-Ao - ",u]}),s.jsxs(fi,{children:["Comparativo mensual ",a[0]," - ",a[a.length-1]]})]})]})}),s.jsx("div",{className:"flex flex-wrap gap-2 mt-3",children:l.map(f=>{const m=d(f.year);return s.jsxs(Ct,{variant:"outline",className:"flex items-center gap-1 px-3 py-1",style:{borderColor:E_[f.year],color:E_[f.year]},children:[s.jsxs("span",{className:"font-bold",children:[f.year,":"]}),s.jsxs("span",{children:[i(f.totalQty)," ",c]}),m!==null&&s.jsxs("span",{className:`text-xs ${m>=0?"text-green-600":"text-red-600"}`,children:[m>=0?s.jsx(Pr,{className:"h-3 w-3 inline"}):s.jsx(zs,{className:"h-3 w-3 inline"}),Math.abs(m).toFixed(1),"%"]})]},f.year)})})]}),s.jsxs(We,{children:[s.jsx("div",{className:"h-[350px] w-full",children:s.jsx(kr,{width:"100%",height:"100%",children:s.jsxs(id,{data:o,margin:{top:10,right:30,left:0,bottom:0},children:[s.jsx(sa,{strokeDasharray:"3 3",className:"opacity-30"}),s.jsx(vr,{dataKey:"month",tick:{fontSize:12},tickLine:!1}),s.jsx(dr,{tickFormatter:i,tick:{fontSize:12},tickLine:!1,axisLine:!1}),s.jsx(mr,{formatter:f=>[i(f)+" "+c,""],labelFormatter:f=>`Mes: ${f}`,contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",borderRadius:"8px",border:"1px solid #e2e8f0"}}),s.jsx(Ka,{}),a.map(f=>s.jsx(oa,{type:"monotone",dataKey:`qty_${f}`,name:f.toString(),stroke:E_[f]||"#666",strokeWidth:f===a[a.length-1]?3:2,dot:{r:f===a[a.length-1]?4:2},activeDot:{r:6},opacity:f===a[a.length-1]?1:.7},f))]})})}),s.jsxs("div",{className:"mt-4 grid grid-cols-2 md:grid-cols-4 gap-3",children:[l.slice(-2).map((f,m)=>s.jsxs("div",{className:"text-center p-3 bg-muted/50 rounded-lg",children:[s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Promedio mensual ",f.year]}),s.jsxs("p",{className:"text-lg font-bold",style:{color:E_[f.year]},children:[i(f.avgMonthly)," ",c]})]},f.year)),l.length>=2&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"text-center p-3 bg-muted/50 rounded-lg",children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Crecimiento total"}),s.jsxs("p",{className:`text-lg font-bold ${l[l.length-1].totalQty>=l[0].totalQty?"text-green-600":"text-red-600"}`,children:[((l[l.length-1].totalQty-l[0].totalQty)/l[0].totalQty*100).toFixed(1),"%"]})]}),s.jsxs("div",{className:"text-center p-3 bg-muted/50 rounded-lg",children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Aos de datos"}),s.jsxs("p",{className:"text-lg font-bold",children:[a.length," aos"]})]})]})]})]})]})}function qgt({companyId:e=1,limit:t=5,period:n="3months",variant:r="default"}){var x;const{data:i,isLoading:a,error:o}=At({queryKey:["/api/sales-top-clients",e,t,n],queryFn:async()=>await(await Dt("GET",`/api/sales-top-clients?companyId=${e}&limit=${t}&period=${n}`)).json(),retry:2,staleTime:3e5}),l=e===1?"DURA":"ORSEGA",c=e===2?{primary:"#8b5cf6",light:"rgba(139, 92, 246, 0.15)",gradient:["#8b5cf6","#6366f1","#818cf8","#a78bfa","#c4b5fd"]}:{primary:"#10b981",light:"rgba(16, 185, 129, 0.15)",gradient:["#10b981","#059669","#14b8a6","#22d3ee","#34d399"]},u=w=>w>=1e6?`${(w/1e6).toFixed(1)}M`:w>=1e3?`${(w/1e3).toFixed(1)}K`:w.toFixed(0),d=w=>w.toLocaleString("es-MX",{maximumFractionDigits:0});if(a)return s.jsxs(Ue,{className:"overflow-hidden bg-gradient-to-br from-card to-muted/30 border-border/50",children:[s.jsx(Vt,{className:"pb-2",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-primary/10 animate-pulse",children:s.jsx(sr,{className:"h-5 w-5 animate-spin text-primary"})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"h-4 w-32 bg-muted rounded animate-pulse"}),s.jsx("div",{className:"h-3 w-24 bg-muted/50 rounded animate-pulse"})]})]})}),s.jsx(We,{children:s.jsx(nr,{className:"h-[280px] w-full rounded-xl"})})]});if(o||!(i!=null&&i.length))return s.jsx(Ue,{className:"overflow-hidden border-dashed border-2",children:s.jsx(We,{className:"py-16",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"mx-auto w-16 h-16 rounded-full bg-muted/50 flex items-center justify-center mb-4",children:s.jsx(Fi,{className:"h-8 w-8 text-muted-foreground/40"})}),s.jsx("p",{className:"text-sm text-muted-foreground font-medium",children:"No hay datos de clientes disponibles"}),s.jsx("p",{className:"text-xs text-muted-foreground/60 mt-1",children:"Sube datos de ventas para ver los top clientes"})]})})});const f=i.map((w,j)=>({name:w.name.length>20?w.name.substring(0,20)+"...":w.name,fullName:w.name,volume:w.volume,transactions:w.transactions,unit:w.unit,rank:j+1})),m=i.reduce((w,j)=>w+j.volume,0),h=Math.round(i.reduce((w,j)=>w+j.transactions,0)/i.length),g=m>0?(i[0].volume/m*100).toFixed(1):0,y=((x=i[0])==null?void 0:x.unit)||(e===2?"unidades":"KG"),v=({active:w,payload:j})=>{if(!w||!(j!=null&&j.length))return null;const _=j[0].payload;return s.jsxs("div",{className:"bg-popover/95 backdrop-blur-sm border border-border rounded-xl p-4 shadow-xl min-w-[220px]",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[_.rank===1&&s.jsx(hT,{className:"h-4 w-4 text-amber-500"}),s.jsx("p",{className:"text-foreground font-bold",children:_.fullName})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between items-center gap-4",children:[s.jsx("span",{className:"text-muted-foreground text-sm",children:"Volumen"}),s.jsxs("span",{className:"text-foreground font-bold",children:[d(_.volume)," ",_.unit]})]}),s.jsxs("div",{className:"flex justify-between items-center gap-4",children:[s.jsx("span",{className:"text-muted-foreground text-sm",children:"Transacciones"}),s.jsx("span",{className:"text-foreground font-medium",children:_.transactions})]}),s.jsxs("div",{className:"flex justify-between items-center gap-4 pt-2 border-t border-border/50",children:[s.jsxs("span",{className:"text-muted-foreground text-sm",children:["% del Top ",t]}),s.jsxs("span",{className:"text-foreground font-semibold",style:{color:c.primary},children:[(_.volume/m*100).toFixed(1),"%"]})]})]})]})};return r==="compact"?s.jsxs(Ue,{className:"rounded-xl border border-border/60 bg-card shadow-sm hover:shadow-md transition-shadow",children:[s.jsx(Vt,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(pT,{className:"w-5 h-5 text-primary"}),s.jsxs(an,{className:"text-lg",children:["Top ",t," Clientes ",n==="month"?"del Mes":n==="year"?"del Ao":""]})]})}),s.jsx(We,{className:"space-y-2",children:i.map((w,j)=>{const _=m>0?w.volume/m*100:0;return s.jsxs("div",{className:"flex items-center gap-3 p-2 rounded-lg hover:bg-muted/50 transition-colors",children:[s.jsx(Ct,{variant:"outline",className:"w-8 h-8 rounded-full flex items-center justify-center shrink-0",children:j+1}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium truncate",children:w.name}),s.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden mt-1",children:s.jsx("div",{className:"h-full bg-gradient-to-r from-primary to-primary/60 rounded-full transition-all",style:{width:`${_}%`}})})]}),s.jsx("p",{className:"text-sm font-bold shrink-0",children:u(w.volume)})]},w.name)})})]}):s.jsxs(Ue,{className:"overflow-hidden bg-gradient-to-br from-card via-card to-muted/20 border-border/50 shadow-lg",children:[s.jsxs(Vt,{className:"pb-0",children:[s.jsxs("div",{className:"flex items-start justify-between flex-wrap gap-4",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 rounded-2xl shadow-lg",style:{background:`linear-gradient(135deg, ${c.primary}20, ${c.primary}10)`,boxShadow:`0 4px 20px ${c.light}`},children:s.jsx(pT,{className:"h-6 w-6",style:{color:c.primary}})}),s.jsxs("div",{children:[s.jsxs(an,{className:"text-xl font-bold flex items-center gap-2",children:["Top ",t," Clientes",s.jsx(hT,{className:"h-4 w-4 text-amber-500"})]}),s.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[l,"  ",n==="month"?"Este mes":n==="year"?"Este ao":"ltimos 3 meses"]})]})]}),s.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 rounded-full text-sm font-semibold shadow-md",style:{background:"linear-gradient(135deg, rgba(245, 158, 11, 0.15), rgba(245, 158, 11, 0.05))",color:"rgb(180, 117, 8)",border:"1px solid rgba(245, 158, 11, 0.3)"},children:[s.jsx(hT,{className:"h-4 w-4"}),s.jsxs("span",{children:["#",1," = ",g,"% del total"]})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-3 mt-6",children:[s.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-br from-background to-muted/30 rounded-2xl p-4 border border-border/50 shadow-sm",children:[s.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-2",children:[s.jsx(Fi,{className:"h-4 w-4"}),s.jsx("span",{className:"text-xs font-medium",children:"Clientes en Top"})]}),s.jsx("p",{className:"text-2xl font-bold",style:{color:c.primary},children:i.length})]}),s.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-br from-background to-muted/30 rounded-2xl p-4 border border-border/50 shadow-sm",children:[s.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-2",children:[s.jsx(Pr,{className:"h-4 w-4"}),s.jsx("span",{className:"text-xs font-medium",children:"Volumen Total"})]}),s.jsx("p",{className:"text-2xl font-bold text-foreground",children:u(m)}),s.jsx("p",{className:"text-[11px] text-muted-foreground",children:y})]}),s.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-br from-background to-muted/30 rounded-2xl p-4 border border-border/50 shadow-sm",children:[s.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-2",children:[s.jsx(pT,{className:"h-4 w-4"}),s.jsx("span",{className:"text-xs font-medium",children:"Trans. Promedio"})]}),s.jsx("p",{className:"text-2xl font-bold text-foreground",children:h}),s.jsx("p",{className:"text-[11px] text-muted-foreground",children:"por cliente"})]})]})]}),s.jsxs(We,{className:"pt-6",children:[s.jsx("div",{className:"h-[280px] w-full",children:s.jsx(kr,{width:"100%",height:"100%",children:s.jsxs(dc,{data:f,layout:"vertical",margin:{top:10,right:30,left:10,bottom:10},children:[s.jsx("defs",{children:f.map((w,j)=>s.jsxs("linearGradient",{id:`clientGradient-${j}`,x1:"0",y1:"0",x2:"1",y2:"0",children:[s.jsx("stop",{offset:"0%",stopColor:c.gradient[j%c.gradient.length],stopOpacity:1}),s.jsx("stop",{offset:"100%",stopColor:c.gradient[j%c.gradient.length],stopOpacity:.7})]},`gradient-${j}`))}),s.jsx(vr,{type:"number",tickFormatter:u,tick:{fontSize:11,fill:"hsl(var(--muted-foreground))"},tickLine:!1,axisLine:!1}),s.jsx(dr,{type:"category",dataKey:"name",tick:{fontSize:12,fontWeight:500,fill:"hsl(var(--foreground))"},tickLine:!1,axisLine:!1,width:150}),s.jsx(mr,{content:s.jsx(v,{}),cursor:{fill:"hsl(var(--muted))",opacity:.2}}),s.jsx(Yi,{dataKey:"volume",radius:[0,8,8,0],maxBarSize:40,children:f.map((w,j)=>s.jsx(gc,{fill:j===0?"#f59e0b":`url(#clientGradient-${j})`,style:{transition:"all 0.3s ease"}},`cell-${j}`))})]})})}),s.jsxs("div",{className:"mt-6 pt-5 border-t border-border/50",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("p",{className:"text-sm font-semibold text-foreground",children:"Ranking Detallado"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Ordenado por volumen"})]}),s.jsx("div",{className:"space-y-2",children:i.map((w,j)=>s.jsxs("div",{className:`flex items-center justify-between p-3 rounded-xl border transition-all hover:shadow-md ${j===0?"bg-gradient-to-r from-amber-50 to-amber-100/50 dark:from-amber-950/20 dark:to-amber-900/10 border-amber-200/50 dark:border-amber-700/50":"bg-gradient-to-r from-background to-muted/20 border-border/50"}`,children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold ${j===0?"bg-amber-500 text-white":j===1?"bg-gray-400 text-white":j===2?"bg-amber-700 text-white":"bg-muted text-muted-foreground"}`,children:j+1}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold text-foreground",children:w.name}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[w.transactions," transacciones"]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-sm font-bold",style:{color:j===0?"#f59e0b":c.primary},children:d(w.volume)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:w.unit})]})]},w.name))})]})]})]})}function Ugt({companyId:e=1,limit:t=5,period:n="3months",variant:r="default"}){var x;const{data:i,isLoading:a,error:o}=At({queryKey:["/api/sales-top-products",e,t,n],queryFn:async()=>await(await Dt("GET",`/api/sales-top-products?companyId=${e}&limit=${t}&period=${n}`)).json(),retry:2,staleTime:3e5}),l=e===1?"DURA":"ORSEGA",c=e===2?{primary:"#8b5cf6",light:"rgba(139, 92, 246, 0.15)",gradient:["#8b5cf6","#7c3aed","#6366f1","#818cf8","#a78bfa"]}:{primary:"#10b981",light:"rgba(16, 185, 129, 0.15)",gradient:["#10b981","#059669","#0d9488","#14b8a6","#34d399"]},u=w=>w>=1e6?`${(w/1e6).toFixed(1)}M`:w>=1e3?`${(w/1e3).toFixed(1)}K`:w.toFixed(0),d=w=>w.toLocaleString("es-MX",{maximumFractionDigits:0});if(a)return s.jsxs(Ue,{className:"overflow-hidden bg-gradient-to-br from-card to-muted/30 border-border/50",children:[s.jsx(Vt,{className:"pb-2",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-primary/10 animate-pulse",children:s.jsx(sr,{className:"h-5 w-5 animate-spin text-primary"})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"h-4 w-32 bg-muted rounded animate-pulse"}),s.jsx("div",{className:"h-3 w-24 bg-muted/50 rounded animate-pulse"})]})]})}),s.jsx(We,{children:s.jsx(nr,{className:"h-[280px] w-full rounded-xl"})})]});if(o||!(i!=null&&i.length))return s.jsx(Ue,{className:"overflow-hidden border-dashed border-2",children:s.jsx(We,{className:"py-16",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"mx-auto w-16 h-16 rounded-full bg-muted/50 flex items-center justify-center mb-4",children:s.jsx(_l,{className:"h-8 w-8 text-muted-foreground/40"})}),s.jsx("p",{className:"text-sm text-muted-foreground font-medium",children:"No hay datos de productos disponibles"}),s.jsx("p",{className:"text-xs text-muted-foreground/60 mt-1",children:"Sube datos de ventas para ver los top productos"})]})})});const f=i.map((w,j)=>({name:w.name.length>25?w.name.substring(0,25)+"...":w.name,fullName:w.name,volume:w.volume,uniqueClients:w.uniqueClients,transactions:w.transactions,unit:w.unit,rank:j+1})),m=i.reduce((w,j)=>w+j.volume,0),h=i.reduce((w,j)=>w+j.uniqueClients,0);i.reduce((w,j)=>w+j.transactions,0);const g=m>0?(i[0].volume/m*100).toFixed(1):0,y=((x=i[0])==null?void 0:x.unit)||(e===2?"unidades":"KG"),v=({active:w,payload:j})=>{if(!w||!(j!=null&&j.length))return null;const _=j[0].payload;return s.jsxs("div",{className:"bg-popover/95 backdrop-blur-sm border border-border rounded-xl p-4 shadow-xl min-w-[220px]",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[_.rank===1&&s.jsx(iy,{className:"h-4 w-4 text-amber-500 fill-amber-500"}),s.jsx("p",{className:"text-foreground font-bold",children:_.fullName})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between items-center gap-4",children:[s.jsx("span",{className:"text-muted-foreground text-sm",children:"Volumen vendido"}),s.jsxs("span",{className:"text-foreground font-bold",children:[d(_.volume)," ",_.unit]})]}),s.jsxs("div",{className:"flex justify-between items-center gap-4",children:[s.jsx("span",{className:"text-muted-foreground text-sm",children:"Clientes nicos"}),s.jsx("span",{className:"text-foreground font-medium",children:_.uniqueClients})]}),s.jsxs("div",{className:"flex justify-between items-center gap-4",children:[s.jsx("span",{className:"text-muted-foreground text-sm",children:"Transacciones"}),s.jsx("span",{className:"text-foreground font-medium",children:_.transactions})]}),s.jsxs("div",{className:"flex justify-between items-center gap-4 pt-2 border-t border-border/50",children:[s.jsxs("span",{className:"text-muted-foreground text-sm",children:["% del Top ",t]}),s.jsxs("span",{className:"text-foreground font-semibold",style:{color:c.primary},children:[(_.volume/m*100).toFixed(1),"%"]})]})]})]})};return r==="compact"?s.jsxs(Ue,{className:"rounded-xl border border-border/60 bg-card shadow-sm hover:shadow-md transition-shadow",children:[s.jsx(Vt,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(_9,{className:"w-5 h-5 text-primary"}),s.jsxs(an,{className:"text-lg",children:["Top ",t," Productos ",n==="month"?"del Mes":n==="year"?"del Ao":""]})]})}),s.jsx(We,{className:"space-y-2",children:i.map((w,j)=>{const _=m>0?w.volume/m*100:0;return s.jsxs("div",{className:"flex items-center gap-3 p-2 rounded-lg hover:bg-muted/50 transition-colors",children:[s.jsx(Ct,{variant:"outline",className:"w-8 h-8 rounded-full flex items-center justify-center shrink-0",children:j+1}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium truncate",children:w.name}),s.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden mt-1",children:s.jsx("div",{className:"h-full bg-gradient-to-r from-primary to-primary/60 rounded-full transition-all",style:{width:`${_}%`}})})]}),s.jsx("p",{className:"text-sm font-bold shrink-0",children:u(w.volume)})]},w.name)})})]}):s.jsxs(Ue,{className:"overflow-hidden bg-gradient-to-br from-card via-card to-muted/20 border-border/50 shadow-lg",children:[s.jsxs(Vt,{className:"pb-0",children:[s.jsxs("div",{className:"flex items-start justify-between flex-wrap gap-4",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 rounded-2xl shadow-lg",style:{background:`linear-gradient(135deg, ${c.primary}20, ${c.primary}10)`,boxShadow:`0 4px 20px ${c.light}`},children:s.jsx(_9,{className:"h-6 w-6",style:{color:c.primary}})}),s.jsxs("div",{children:[s.jsxs(an,{className:"text-xl font-bold flex items-center gap-2",children:["Top ",t," Productos",s.jsx(iy,{className:"h-4 w-4 text-amber-500 fill-amber-500"})]}),s.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[l,"  ",n==="month"?"Este mes":n==="year"?"Este ao":"ltimos 3 meses"]})]})]}),s.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 rounded-full text-sm font-semibold shadow-md",style:{background:"linear-gradient(135deg, rgba(245, 158, 11, 0.15), rgba(245, 158, 11, 0.05))",color:"rgb(180, 117, 8)",border:"1px solid rgba(245, 158, 11, 0.3)"},children:[s.jsx(iy,{className:"h-4 w-4 fill-current"}),s.jsxs("span",{children:["#",1," = ",g,"% del total"]})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-3 mt-6",children:[s.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-br from-background to-muted/30 rounded-2xl p-4 border border-border/50 shadow-sm",children:[s.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-2",children:[s.jsx(_l,{className:"h-4 w-4"}),s.jsx("span",{className:"text-xs font-medium",children:"Productos"})]}),s.jsx("p",{className:"text-2xl font-bold",style:{color:c.primary},children:i.length})]}),s.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-br from-background to-muted/30 rounded-2xl p-4 border border-border/50 shadow-sm",children:[s.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-2",children:[s.jsx(Pr,{className:"h-4 w-4"}),s.jsx("span",{className:"text-xs font-medium",children:"Volumen Total"})]}),s.jsx("p",{className:"text-2xl font-bold text-foreground",children:u(m)}),s.jsx("p",{className:"text-[11px] text-muted-foreground",children:y})]}),s.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-br from-background to-muted/30 rounded-2xl p-4 border border-border/50 shadow-sm",children:[s.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-2",children:[s.jsx(Fi,{className:"h-4 w-4"}),s.jsx("span",{className:"text-xs font-medium",children:"Clientes nicos"})]}),s.jsx("p",{className:"text-2xl font-bold text-foreground",children:h}),s.jsx("p",{className:"text-[11px] text-muted-foreground",children:"compradores"})]})]})]}),s.jsxs(We,{className:"pt-6",children:[s.jsx("div",{className:"h-[280px] w-full",children:s.jsx(kr,{width:"100%",height:"100%",children:s.jsxs(dc,{data:f,layout:"vertical",margin:{top:10,right:30,left:10,bottom:10},children:[s.jsx("defs",{children:f.map((w,j)=>s.jsxs("linearGradient",{id:`productGradient-${j}`,x1:"0",y1:"0",x2:"1",y2:"0",children:[s.jsx("stop",{offset:"0%",stopColor:c.gradient[j%c.gradient.length],stopOpacity:1}),s.jsx("stop",{offset:"100%",stopColor:c.gradient[j%c.gradient.length],stopOpacity:.7})]},`gradient-product-${j}`))}),s.jsx(vr,{type:"number",tickFormatter:u,tick:{fontSize:11,fill:"hsl(var(--muted-foreground))"},tickLine:!1,axisLine:!1}),s.jsx(dr,{type:"category",dataKey:"name",tick:{fontSize:12,fontWeight:500,fill:"hsl(var(--foreground))"},tickLine:!1,axisLine:!1,width:180}),s.jsx(mr,{content:s.jsx(v,{}),cursor:{fill:"hsl(var(--muted))",opacity:.2}}),s.jsx(Yi,{dataKey:"volume",radius:[0,8,8,0],maxBarSize:40,children:f.map((w,j)=>s.jsx(gc,{fill:j===0?"#f59e0b":`url(#productGradient-${j})`,style:{transition:"all 0.3s ease"}},`cell-product-${j}`))})]})})}),s.jsxs("div",{className:"mt-6 pt-5 border-t border-border/50",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("p",{className:"text-sm font-semibold text-foreground",children:"Ranking Detallado"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Ordenado por volumen"})]}),s.jsx("div",{className:"space-y-2",children:i.map((w,j)=>s.jsxs("div",{className:`flex items-center justify-between p-3 rounded-xl border transition-all hover:shadow-md ${j===0?"bg-gradient-to-r from-amber-50 to-amber-100/50 dark:from-amber-950/20 dark:to-amber-900/10 border-amber-200/50 dark:border-amber-700/50":"bg-gradient-to-r from-background to-muted/20 border-border/50"}`,children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold ${j===0?"bg-amber-500 text-white":j===1?"bg-gray-400 text-white":j===2?"bg-amber-700 text-white":"bg-muted text-muted-foreground"}`,children:j+1}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold text-foreground",children:w.name}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[w.uniqueClients," clientes  ",w.transactions," transacciones"]})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-sm font-bold",style:{color:j===0?"#f59e0b":c.primary},children:d(w.volume)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:w.unit})]})]},w.name))})]})]})]})}function Wgt(){const[e,t]=b.useState(1),[n,r]=b.useState(!1),{data:i,isLoading:a}=At({queryKey:["/api/sales-monthly-trends",e],queryFn:async()=>await(await Dt("GET",`/api/sales-monthly-trends?companyId=${e}&months=24`)).json(),staleTime:5*60*1e3}),{data:o,isLoading:l}=At({queryKey:["/api/sales-multi-year-trend",e],queryFn:async()=>await(await Dt("GET",`/api/sales-multi-year-trend?companyId=${e}`)).json(),staleTime:5*60*1e3}),c=e===1?"DURA":"ORSEGA",u=e===2?{primary:"#8b5cf6"}:{primary:"#10b981"},d=e===2?"unidades":"KG",f=j=>j>=1e6?`${(j/1e6).toFixed(1)}M`:j>=1e3?`${(j/1e3).toFixed(0)}K`:j.toFixed(0),m=j=>j.toLocaleString("es-MX",{maximumFractionDigits:0}),g=(()=>{if(!i||i.length===0)return{avgVolume:0,maxVolume:0,minVolume:0,growth:0,bestMonth:"",trend:"neutral"};const j=i.map(K=>K.volume),_=j.reduce((K,Y)=>K+Y,0)/j.length,S=Math.max(...j),k=Math.min(...j),P=i.find(K=>K.volume===S),M=P?`${P.month} ${P.year}`:"",T=i.slice(-6),R=i.slice(-12,-6),D=T.length>0?T.reduce((K,Y)=>K+Y.volume,0)/T.length:0,I=R.length>0?R.reduce((K,Y)=>K+Y.volume,0)/R.length:0,B=I>0?(D-I)/I*100:0,$=B>5?"up":B<-5?"down":"neutral";return{avgVolume:_,maxVolume:S,minVolume:k,growth:B,bestMonth:M,trend:$}})(),y=(i==null?void 0:i.map(j=>({name:`${j.month.substring(0,3)} ${j.year.toString().slice(-2)}`,fullName:`${j.month} ${j.year}`,volume:j.volume,clients:j.clients})))||[],x=(()=>{if(!(o!=null&&o.yearTotals)||o.yearTotals.length<2)return 0;const j=o.yearTotals,_=j[0],S=j[j.length-1],k=j.length-1;return _.totalQty<=0?0:(Math.pow(S.totalQty/_.totalQty,1/k)-1)*100})(),w=({active:j,payload:_,label:S})=>{if(!j||!(_!=null&&_.length))return null;const k=_[0].payload;return s.jsxs("div",{className:"bg-popover/95 backdrop-blur-sm border border-border rounded-xl p-4 shadow-xl min-w-[200px]",children:[s.jsx("p",{className:"text-foreground font-bold text-lg mb-3",children:k.fullName}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between items-center gap-4",children:[s.jsx("span",{className:"text-muted-foreground text-sm",children:"Volumen"}),s.jsxs("span",{className:"text-foreground font-bold",children:[m(k.volume)," ",d]})]}),s.jsxs("div",{className:"flex justify-between items-center gap-4",children:[s.jsx("span",{className:"text-muted-foreground text-sm",children:"Clientes activos"}),s.jsx("span",{className:"text-foreground font-medium",children:k.clients})]})]})]})};return s.jsx(Ro,{title:"Anlisis Histrico",children:s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-gradient-to-br from-card via-card to-muted/20 border border-border/50 p-6 sm:p-8 shadow-lg",children:[s.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 opacity-10",style:{background:`radial-gradient(circle, ${u.primary}, transparent)`}}),s.jsxs("div",{className:"relative",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl sm:text-3xl font-bold text-foreground flex items-center gap-3",children:[s.jsx(Ua,{className:"h-8 w-8",style:{color:u.primary}}),"Anlisis Histrico",s.jsx(cf,{className:"h-5 w-5 text-amber-500"})]}),s.jsx("p",{className:"text-muted-foreground mt-2",children:"Visualiza tendencias y patrones de ventas de forma simplificada"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(Oe,{variant:e===1?"default":"outline",onClick:()=>t(1),className:`transition-all ${e===1?"bg-emerald-600 hover:bg-emerald-700":""}`,children:[s.jsx(sp,{className:"h-4 w-4 mr-2"}),"DURA"]}),s.jsxs(Oe,{variant:e===2?"default":"outline",onClick:()=>t(2),className:`transition-all ${e===2?"bg-purple-600 hover:bg-purple-700":""}`,children:[s.jsx(sp,{className:"h-4 w-4 mr-2"}),"ORSEGA"]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-background/60 backdrop-blur-sm rounded-2xl p-4 border border-border/50",children:[s.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-2",children:[s.jsx(ic,{className:"h-4 w-4"}),s.jsx("span",{className:"text-xs font-medium",children:"Promedio Mensual"})]}),s.jsx("p",{className:"text-2xl font-bold",style:{color:u.primary},children:a?s.jsx(nr,{className:"h-8 w-20"}):f(g.avgVolume)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:d})]}),s.jsxs("div",{className:"bg-background/60 backdrop-blur-sm rounded-2xl p-4 border border-border/50",children:[s.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-2",children:[s.jsx(ry,{className:"h-4 w-4 text-amber-500"}),s.jsx("span",{className:"text-xs font-medium",children:"Mejor Mes"})]}),s.jsx("p",{className:"text-lg font-bold text-foreground",children:a?s.jsx(nr,{className:"h-6 w-16"}):g.bestMonth}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[f(g.maxVolume)," ",d]})]}),s.jsxs("div",{className:"bg-background/60 backdrop-blur-sm rounded-2xl p-4 border border-border/50",children:[s.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-2",children:[g.trend==="up"?s.jsx(Pr,{className:"h-4 w-4 text-emerald-500"}):g.trend==="down"?s.jsx(zs,{className:"h-4 w-4 text-red-500"}):s.jsx(Pr,{className:"h-4 w-4"}),s.jsx("span",{className:"text-xs font-medium",children:"Tendencia 6M"})]}),s.jsx("p",{className:`text-2xl font-bold ${g.trend==="up"?"text-emerald-500":g.trend==="down"?"text-red-500":"text-foreground"}`,children:a?s.jsx(nr,{className:"h-8 w-16"}):`${g.growth>=0?"+":""}${g.growth.toFixed(1)}%`}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"vs. 6 meses anteriores"})]}),s.jsxs("div",{className:"bg-background/60 backdrop-blur-sm rounded-2xl p-4 border border-border/50",children:[s.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-2",children:[s.jsx(pie,{className:"h-4 w-4 text-blue-500"}),s.jsx("span",{className:"text-xs font-medium",children:"CAGR"})]}),s.jsx("p",{className:`text-2xl font-bold ${x>=0?"text-emerald-500":"text-red-500"}`,children:l?s.jsx(nr,{className:"h-8 w-16"}):`${x>=0?"+":""}${x.toFixed(1)}%`}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"crecimiento compuesto"})]})]})]})]}),s.jsxs(Ue,{className:"overflow-hidden bg-gradient-to-br from-card via-card to-muted/10 border-border/50 shadow-lg",children:[s.jsx(Vt,{className:"pb-2",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs(an,{className:"text-xl font-bold flex items-center gap-2",children:["Evolucin de Ventas",s.jsx(Ct,{variant:"outline",className:"text-xs font-normal",children:"ltimos 24 meses"})]}),s.jsx(fi,{children:"Tendencia de volumen mensual con clientes activos"})]}),s.jsxs(zr,{open:n,onOpenChange:r,children:[s.jsx(Fce,{asChild:!0,children:s.jsxs(Oe,{variant:"outline",size:"sm",className:"gap-2",children:[s.jsx(f_e,{className:"h-4 w-4"}),"Ver detalle"]})}),s.jsxs(Ir,{className:"max-w-4xl max-h-[80vh] overflow-auto",children:[s.jsx(Vr,{children:s.jsxs(qr,{className:"flex items-center gap-2",children:[s.jsx(Dy,{className:"h-5 w-5"}),"Detalle Mensual - ",c]})}),s.jsx("div",{className:"mt-4",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{className:"bg-slate-700 text-white",children:s.jsxs("tr",{children:[s.jsx("th",{className:"text-left p-3 font-semibold",children:"Perodo"}),s.jsx("th",{className:"text-right p-3 font-semibold",children:"Volumen"}),s.jsx("th",{className:"text-right p-3 font-semibold",children:"Clientes"}),s.jsx("th",{className:"text-right p-3 font-semibold",children:"Prom/Cliente"})]})}),s.jsx("tbody",{className:"divide-y divide-border",children:i==null?void 0:i.slice().reverse().map((j,_)=>s.jsxs("tr",{className:"hover:bg-muted/30",children:[s.jsxs("td",{className:"p-3 font-medium",children:[j.month," ",j.year]}),s.jsxs("td",{className:"p-3 text-right font-semibold",style:{color:u.primary},children:[m(j.volume)," ",d]}),s.jsx("td",{className:"p-3 text-right",children:j.clients}),s.jsx("td",{className:"p-3 text-right text-muted-foreground",children:j.clients>0?f(j.volume/j.clients):"0"})]},`${j.month}-${j.year}`))})]})})]})]})]})}),s.jsx(We,{children:a?s.jsx(nr,{className:"h-[350px] w-full rounded-xl"}):y.length===0?s.jsx("div",{className:"h-[350px] flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Ua,{className:"h-16 w-16 text-muted-foreground/30 mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"No hay datos disponibles"})]})}):s.jsx("div",{className:"h-[350px] w-full",children:s.jsx(kr,{width:"100%",height:"100%",children:s.jsxs(AF,{data:y,margin:{top:20,right:30,left:0,bottom:10},children:[s.jsx("defs",{children:s.jsxs("linearGradient",{id:"volumeGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[s.jsx("stop",{offset:"0%",stopColor:u.primary,stopOpacity:.4}),s.jsx("stop",{offset:"100%",stopColor:u.primary,stopOpacity:.05})]})}),s.jsx(sa,{strokeDasharray:"3 3",vertical:!1,stroke:"hsl(var(--border))",opacity:.4}),s.jsx(vr,{dataKey:"name",tick:{fontSize:11,fill:"hsl(var(--muted-foreground))"},tickLine:!1,axisLine:!1}),s.jsx(dr,{yAxisId:"volume",tickFormatter:f,tick:{fontSize:11,fill:"hsl(var(--muted-foreground))"},tickLine:!1,axisLine:!1,width:50}),s.jsx(dr,{yAxisId:"clients",orientation:"right",tick:{fontSize:11,fill:"hsl(var(--muted-foreground))"},tickLine:!1,axisLine:!1,width:40}),s.jsx(mr,{content:s.jsx(w,{})}),s.jsx(Ka,{}),s.jsx(fv,{yAxisId:"volume",y:g.avgVolume,stroke:u.primary,strokeDasharray:"4 4",opacity:.5}),s.jsx(md,{yAxisId:"volume",type:"monotone",dataKey:"volume",stroke:u.primary,strokeWidth:2,fill:"url(#volumeGradient)",name:"Volumen"}),s.jsx(oa,{yAxisId:"clients",type:"monotone",dataKey:"clients",stroke:"#f59e0b",strokeWidth:2,strokeDasharray:"5 5",dot:!1,name:"Clientes"})]})})})})]}),s.jsx(cge,{companyId:e}),(o==null?void 0:o.data)&&o.data.length>0&&s.jsx(uge,{companyId:e}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsx(qgt,{companyId:e,limit:5}),s.jsx(Ugt,{companyId:e,limit:5})]}),s.jsx(Ue,{className:"bg-gradient-to-r from-muted/30 to-muted/10 border-border/50",children:s.jsx(We,{className:"py-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-3 rounded-xl bg-primary/10",children:s.jsx(cf,{className:"h-6 w-6 text-primary"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-foreground mb-2",children:"Resumen del Anlisis"}),s.jsxs("p",{className:"text-muted-foreground text-sm leading-relaxed",children:[c," muestra una tendencia ",g.trend==="up"?"positiva":g.trend==="down"?"negativa":"estable"," en los ltimos 6 meses con un cambio del ",g.growth>=0?"+":"",g.growth.toFixed(1),"% respecto al perodo anterior. El mejor mes fue ",s.jsx("strong",{children:g.bestMonth})," con un volumen de ",m(g.maxVolume)," ",d,".",x!==0&&s.jsxs(s.Fragment,{children:[" El crecimiento compuesto anual (CAGR) es del ",x>=0?"+":"",x.toFixed(1),"%."]})]})]})]})})})]})})}const Hgt=e=>{switch(e){case"excellent":return{bg:"bg-green-50/30",border:"border-green-200/40",text:"text-green-600/70",fill:"fill-green-400/60",chartColor:"#6b7280"};case"good":return{bg:"bg-blue-50/30",border:"border-blue-200/40",text:"text-blue-600/70",fill:"fill-blue-400/60",chartColor:"#6b7280"};case"warning":return{bg:"bg-amber-50/30",border:"border-amber-200/40",text:"text-amber-600/70",fill:"fill-amber-400/60",chartColor:"#6b7280"};case"critical":return{bg:"bg-red-50/30",border:"border-red-200/40",text:"text-red-600/70",fill:"fill-red-400/60",chartColor:"#6b7280"};default:return{bg:"bg-gray-50",border:"border-gray-200",text:"text-gray-600",fill:"fill-gray-400",chartColor:"#6b7280"}}},Kgt=e=>{switch(e){case"excellent":return s.jsx(Pr,{className:"h-4 w-4"});case"good":return s.jsx(hh,{className:"h-4 w-4"});case"warning":return s.jsx(zs,{className:"h-4 w-4"});case"critical":return s.jsx(ic,{className:"h-4 w-4"});default:return s.jsx(uie,{className:"h-4 w-4"})}};function Ggt({kpi:e,onClick:t,onViewDetails:n,delay:r=0,expandedLayout:i=!1}){const[a,o]=b.useState(i),l=Hgt(e.status),c=b.useMemo(()=>{const x=e.unit==="%"||e.unit==="porcentaje"||e.unit.toLowerCase().includes("%"),w=e.name.toLowerCase().includes("retencin")||e.name.toLowerCase().includes("retention");return x&&w},[e.unit,e.name]),{data:u,isLoading:d,error:f}=At({queryKey:[`/api/kpi-history/${e.id}`,{months:12,companyId:e.companyId}],queryFn:async()=>{const x=e.companyId?`/api/kpi-history/${e.id}?months=12&companyId=${e.companyId}`:`/api/kpi-history/${e.id}?months=12`;console.log(`[EnhancedKpiCard] Cargando historial para KPI ${e.id}, companyId: ${e.companyId}, url: ${x}`);const w=await Dt("GET",x);if(!w.ok){const _=await w.text();throw new Error(`Error al cargar historial: ${w.status} ${_}`)}const j=await w.json();return console.log(`[EnhancedKpiCard] Historial cargado: ${j.length} registros`),j},enabled:(a||i)&&!!e.id,staleTime:0,refetchOnWindowFocus:!0,retry:2});b.useMemo(()=>!e.historicalData||e.historicalData.length===0?[]:e.historicalData.slice(-6).map((w,j)=>({name:`P${j+1}`,value:w.value,date:new Date(w.recordedAt).toLocaleDateString("es-MX",{month:"short",day:"numeric"})})),[e.historicalData]);const m=b.useMemo(()=>!u||u.length===0?[]:u.sort((w,j)=>{const _=new Date(w.date||w.period||w.created_at).getTime(),S=new Date(j.date||j.period||j.created_at).getTime();return _-S}).map((w,j)=>{var S,k;let _=w.period||"";return w.date?_=new Date(w.date).toLocaleDateString("es-MX",{month:"short",year:"numeric",day:w.date.includes("T")?void 0:"numeric"}):w.period?_=w.period.split(" ").map(P=>P.charAt(0).toUpperCase()+P.slice(1).toLowerCase()).join(" "):_=`Periodo ${j+1}`,{name:_,value:parseFloat(((S=w.value)==null?void 0:S.toString())||"0"),period:w.period||"",date:w.date||w.created_at||"",formattedValue:parseFloat(((k=w.value)==null?void 0:k.toString())||"0")}}),[u]),h=b.useMemo(()=>{if(!e.historicalData||e.historicalData.length<2)return null;const x=e.historicalData.map(S=>S.value),w=x[x.length-1],j=x[x.length-2],_=(w-j)/j*100;return{change:_,isPositive:_>=0}},[e.historicalData]),y=e.value!==null&&e.value!==void 0?`${e.value} ${e.unit}`:"Sin datos",v=e.compliancePercentage>0?`${e.compliancePercentage}%`:"N/A";if(i&&m.length>0){const x=m.map(T=>T.value).filter(T=>typeof T=="number"&&!isNaN(T)&&isFinite(T));if(x.length===0)return s.jsxs("div",{className:"w-full py-12 text-center",children:[s.jsx(Id,{className:"h-6 w-6 text-gray-400 mx-auto mb-2"}),s.jsx("span",{className:"text-sm text-gray-500",children:"No hay datos numricos vlidos disponibles"})]});const w=Math.min(...x),j=Math.max(...x),_=x.reduce((T,R)=>T+R,0)/x.length,k=(j-w)*.1||Math.abs(j)*.1||10,P=Math.max(0,w-k),M=j+k;return s.jsx("div",{className:"w-full",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h4",{className:"text-base font-bold text-gray-900",children:["Tendencia Histrica - ",e.name]}),s.jsxs("p",{className:"text-sm text-gray-500 mt-0.5",children:["ltimos ",m.length," perodos registrados"]})]}),s.jsxs("div",{className:"text-sm text-gray-500",children:[m.length," puntos de datos"]})]}),s.jsx("div",{className:"h-[500px] w-full bg-white rounded-lg p-6 border-2 border-gray-200 shadow-md",children:s.jsx(kr,{width:"100%",height:"100%",children:s.jsxs(id,{data:m,margin:{top:20,right:40,bottom:100,left:30},children:[s.jsx(sa,{strokeDasharray:"3 3",stroke:"#e5e7eb",opacity:.5,vertical:!1}),s.jsx(vr,{dataKey:"name",angle:-60,textAnchor:"end",height:110,tick:{fontSize:12,fill:"#6b7280"},interval:0,stroke:"#9ca3af",tickMargin:15}),s.jsx(dr,{tick:{fontSize:12,fill:"#6b7280"},stroke:"#9ca3af",width:70,tickMargin:10,domain:[P,M],tickFormatter:T=>T>=1e6?`${(T/1e6).toFixed(1)}M`:T>=1e3?`${(T/1e3).toFixed(1)}K`:T.toLocaleString("es-MX",{maximumFractionDigits:0})}),s.jsx(mr,{contentStyle:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"13px",padding:"10px 14px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},formatter:T=>[`${Number(T).toLocaleString("es-MX",{minimumFractionDigits:0,maximumFractionDigits:2})} ${e.unit}`,"Valor"],labelFormatter:T=>` ${T}`,cursor:{stroke:l.chartColor,strokeWidth:2,strokeDasharray:"5 5"}}),e.target&&!isNaN(parseFloat(e.target))&&s.jsx(fv,{y:parseFloat(e.target),stroke:"#ef4444",strokeWidth:2,strokeDasharray:"5 5",label:{value:`Meta: ${e.target} ${e.unit}`,position:"right",fill:"#ef4444",fontSize:12,fontWeight:600}}),s.jsx(oa,{type:"monotone",dataKey:"value",stroke:l.chartColor,strokeWidth:4,dot:{r:6,fill:l.chartColor,strokeWidth:2,stroke:"#fff"},activeDot:{r:8,fill:l.chartColor,strokeWidth:2,stroke:"#fff",strokeDasharray:"0"},name:`${e.name}`,animationDuration:800,animationEasing:"ease-out"})]})})}),s.jsxs("div",{className:"grid grid-cols-3 gap-4 pt-2",children:[s.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg border border-gray-200",children:[s.jsx("div",{className:"text-xs text-gray-500 mb-1 font-medium",children:"Valor Mnimo"}),s.jsxs("div",{className:"text-base font-bold text-gray-700",children:[w.toLocaleString("es-MX",{minimumFractionDigits:0,maximumFractionDigits:2})," ",e.unit]})]}),s.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg border border-gray-200",children:[s.jsx("div",{className:"text-xs text-gray-500 mb-1 font-medium",children:"Promedio"}),s.jsxs("div",{className:"text-base font-bold text-gray-700",children:[_.toLocaleString("es-MX",{minimumFractionDigits:0,maximumFractionDigits:2})," ",e.unit]})]}),s.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded-lg border border-gray-200",children:[s.jsx("div",{className:"text-xs text-gray-500 mb-1 font-medium",children:"Valor Mximo"}),s.jsxs("div",{className:"text-base font-bold text-gray-700",children:[j.toLocaleString("es-MX",{minimumFractionDigits:0,maximumFractionDigits:2})," ",e.unit]})]})]})]})})}if(i){if(d)return s.jsxs("div",{className:"w-full py-12 text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-3"}),s.jsx("span",{className:"text-sm text-gray-500",children:"Cargando historial..."})]});if(f)return s.jsxs("div",{className:"w-full py-12 text-center",children:[s.jsx(Id,{className:"h-6 w-6 text-gray-400 mx-auto mb-2"}),s.jsx("span",{className:"text-sm text-gray-500",children:"Error al cargar historial"})]});if(!m||m.length===0)return s.jsxs("div",{className:"w-full py-12 text-center",children:[s.jsx(Id,{className:"h-6 w-6 text-gray-400 mx-auto mb-2"}),s.jsx("span",{className:"text-sm text-gray-500",children:"No hay datos histricos disponibles"})]})}return s.jsx(bs.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:r},whileHover:{y:-4,transition:{duration:.2}},className:"h-full",children:s.jsx(Ue,{className:`h-full transition-all duration-200 border-2 ${l.border} ${l.bg} hover:shadow-lg hover:border-opacity-70`,"data-onboarding":"kpi-card",children:s.jsx(We,{className:"p-5",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[e.responsible&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-primary text-white text-xs font-bold shadow-md",children:e.responsible.split(" ").map(x=>x[0]).join("").substring(0,2).toUpperCase()}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold text-gray-900",children:e.responsible}),e.company&&s.jsx("p",{className:"text-xs text-gray-500",children:e.company})]})]}),s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"font-semibold text-base leading-tight text-gray-900 mb-1",children:e.name}),e.areaName&&s.jsx("p",{className:"text-xs text-gray-500 truncate",children:e.areaName})]}),s.jsx(Ct,{className:`${l.text} ${l.bg} border ${l.border} flex items-center gap-1 px-2 py-1`,children:Kgt(e.status)})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-baseline justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Valor Actual"}),h&&s.jsxs("div",{className:`flex items-center gap-1 text-xs ${h.isPositive?"text-green-500/70":"text-red-500/70"}`,children:[h.isPositive?s.jsx(rie,{className:"h-3 w-3"}):s.jsx(WNe,{className:"h-3 w-3"}),s.jsxs("span",{children:[Math.abs(h.change).toFixed(1),"%"]})]})]}),s.jsx("div",{className:"text-2xl font-bold text-gray-900",children:y})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Cumplimiento"}),s.jsx("span",{className:`font-semibold ${l.text}`,children:v})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5 overflow-hidden",children:s.jsx(bs.div,{className:`h-full ${l.fill.replace("fill-","bg-")}`,initial:{width:0},animate:{width:`${Math.min(e.compliancePercentage,100)}%`},transition:{duration:.8,delay:r+.2,ease:"easeOut"}})}),s.jsx("div",{className:"flex items-center justify-between text-xs text-gray-500",children:s.jsxs("span",{children:["Meta: ",e.target," ",e.unit]})})]}),s.jsxs(LL,{open:a,onOpenChange:o,children:[s.jsx(ML,{asChild:!0,children:s.jsxs(Oe,{variant:"ghost",size:"sm",className:"w-full text-xs justify-between",onClick:x=>{x.stopPropagation(),o(!a)},children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ua,{className:"h-3 w-3"}),s.jsx("span",{children:"Ver Historial Completo"})]}),a?s.jsx(WC,{className:"h-3 w-3"}):s.jsx(iv,{className:"h-3 w-3"})]})}),s.jsx(IL,{className:"pt-4 border-t border-gray-200",children:d?s.jsxs("div",{className:"flex items-center justify-center py-8",children:[s.jsx(hh,{className:"h-6 w-6 animate-spin text-gray-400"}),s.jsx("span",{className:"ml-2 text-sm text-gray-500",children:"Cargando historial..."})]}):f?s.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[s.jsx(Id,{className:"h-6 w-6 text-gray-400 mb-2"}),s.jsx("span",{className:"text-sm text-gray-500 mb-1",children:"Error al cargar historial"}),s.jsx("span",{className:"text-xs text-gray-400",children:f instanceof Error?f.message:"Error desconocido"})]}):m.length>0?(()=>{var T;if(c)return s.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center bg-blue-50/30 rounded-lg border border-blue-200/40",children:[s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"text-5xl font-bold text-blue-600 mb-2",children:[((T=e.value)==null?void 0:T.toFixed(1))||"0","%"]}),s.jsx("div",{className:"text-sm text-gray-600 font-medium",children:"Valor Actual"})]}),e.target&&s.jsxs("div",{className:"text-xs text-gray-500 mt-2",children:["Meta: ",e.target]}),s.jsx("div",{className:"mt-4 px-4 py-2 bg-white rounded-md border border-gray-200",children:s.jsxs("p",{className:"text-xs text-gray-600",children:["Los KPIs de porcentaje esttico se visualizan mejor como un valor nico.",s.jsx("br",{}),"Para anlisis de tendencias, usa el modal de detalles."]})})]});const x=m.map(R=>R.value).filter(R=>typeof R=="number"&&!isNaN(R)&&isFinite(R));if(x.length===0)return s.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[s.jsx(Id,{className:"h-6 w-6 text-gray-400 mb-2"}),s.jsx("span",{className:"text-sm text-gray-500",children:"No hay datos numricos vlidos"})]});const w=Math.min(...x),j=Math.max(...x),_=x.reduce((R,D)=>R+D,0)/x.length,k=(j-w)*.1||Math.abs(j)*.1||10,P=Math.max(0,w-k),M=j+k;return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-semibold text-gray-700",children:"Tendencia Histrica"}),s.jsxs("p",{className:"text-xs text-gray-500 mt-0.5",children:["ltimos ",m.length," perodos"]})]}),s.jsxs("div",{className:"text-xs text-gray-500",children:[m.length," puntos de datos"]})]}),s.jsx("div",{className:"h-80 w-full bg-white rounded-lg p-4 border border-gray-200 shadow-sm",children:s.jsx(kr,{width:"100%",height:"100%",children:s.jsxs(id,{data:m,margin:{top:20,right:30,bottom:80,left:20},children:[s.jsx(sa,{strokeDasharray:"3 3",stroke:"#e5e7eb",opacity:.5,vertical:!1}),s.jsx(vr,{dataKey:"name",angle:-45,textAnchor:"end",height:90,tick:{fontSize:11,fill:"#6b7280"},interval:0,stroke:"#9ca3af",tickMargin:10}),s.jsx(dr,{tick:{fontSize:11,fill:"#6b7280"},stroke:"#9ca3af",width:60,tickMargin:8,domain:[P,M],tickFormatter:R=>R>=1e6?`${(R/1e6).toFixed(1)}M`:R>=1e3?`${(R/1e3).toFixed(1)}K`:R.toLocaleString("es-MX",{maximumFractionDigits:0})}),s.jsx(mr,{contentStyle:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"13px",padding:"10px 14px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},formatter:R=>[`${Number(R).toLocaleString("es-MX",{minimumFractionDigits:0,maximumFractionDigits:2})} ${e.unit}`,"Valor"],labelFormatter:R=>` ${R}`,cursor:{stroke:l.chartColor,strokeWidth:2,strokeDasharray:"5 5"}}),e.target&&!isNaN(parseFloat(e.target))&&s.jsx(fv,{y:parseFloat(e.target),stroke:"#ef4444",strokeWidth:2,strokeDasharray:"5 5",label:{value:`Meta: ${e.target} ${e.unit}`,position:"right",fill:"#ef4444",fontSize:11,fontWeight:500}}),s.jsx(oa,{type:"monotone",dataKey:"value",stroke:l.chartColor,strokeWidth:3,dot:{r:5,fill:l.chartColor,strokeWidth:2,stroke:"#fff"},activeDot:{r:7,fill:l.chartColor,strokeWidth:2,stroke:"#fff",strokeDasharray:"0"},name:`${e.name}`,animationDuration:800,animationEasing:"ease-out"})]})})}),s.jsxs("div",{className:"grid grid-cols-3 gap-3 pt-2",children:[s.jsxs("div",{className:"text-center p-2 bg-gray-50 rounded-lg border border-gray-200",children:[s.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Valor Mnimo"}),s.jsx("div",{className:"text-sm font-semibold text-gray-700",children:w.toLocaleString("es-MX",{minimumFractionDigits:0,maximumFractionDigits:2})})]}),s.jsxs("div",{className:"text-center p-2 bg-gray-50 rounded-lg border border-gray-200",children:[s.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Promedio"}),s.jsx("div",{className:"text-sm font-semibold text-gray-700",children:_.toLocaleString("es-MX",{minimumFractionDigits:0,maximumFractionDigits:2})})]}),s.jsxs("div",{className:"text-center p-2 bg-gray-50 rounded-lg border border-gray-200",children:[s.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Valor Mximo"}),s.jsx("div",{className:"text-sm font-semibold text-gray-700",children:j.toLocaleString("es-MX",{minimumFractionDigits:0,maximumFractionDigits:2})})]})]})]})})():s.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[s.jsx(Id,{className:"h-6 w-6 text-gray-400 mb-2"}),s.jsx("span",{className:"text-sm text-gray-500",children:"No hay datos histricos disponibles"}),s.jsx("span",{className:"text-xs text-gray-400 mt-1",children:"Los datos histricos aparecern aqu cuando se registren valores para este KPI"})]})})]}),t&&s.jsx("div",{className:"flex gap-2 pt-3 border-t border-gray-200",children:s.jsxs(Oe,{variant:"outline",size:"sm",className:"flex-1 text-xs",onClick:x=>{x.stopPropagation(),t()},children:[s.jsx(hh,{className:"h-3 w-3 mr-1"}),"Actualizar"]})})]})})})})}const Ygt=e=>{b.useEffect(()=>{const t=()=>{e()};return t(),window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[e])},di={Increase:"increase",ModerateIncrease:"moderateIncrease",Decrease:"decrease",ModerateDecrease:"moderateDecrease",Unchanged:"unchanged"},Lt={Slate:"slate",Gray:"gray",Zinc:"zinc",Neutral:"neutral",Stone:"stone",Red:"red",Orange:"orange",Amber:"amber",Yellow:"yellow",Lime:"lime",Green:"green",Emerald:"emerald",Teal:"teal",Cyan:"cyan",Sky:"sky",Blue:"blue",Indigo:"indigo",Violet:"violet",Purple:"purple",Fuchsia:"fuchsia",Pink:"pink",Rose:"rose"},AP={SM:"sm"},xy={Left:"left",Right:"right"},YG={Top:"top",Bottom:"bottom"},Nt={background:500,darkBackground:600,border:500,darkBorder:700,ring:300,iconRing:500,lightText:400,text:500,iconText:600,darkText:700},Sf=[Lt.Blue,Lt.Cyan,Lt.Sky,Lt.Indigo,Lt.Violet,Lt.Purple,Lt.Fuchsia,Lt.Slate,Lt.Gray,Lt.Zinc,Lt.Neutral,Lt.Stone,Lt.Red,Lt.Orange,Lt.Amber,Lt.Yellow,Lt.Lime,Lt.Green,Lt.Emerald,Lt.Teal,Lt.Pink,Lt.Rose],ye=G_e({extend:{classGroups:{shadow:[{shadow:[{tremor:["input","card","dropdown"],"dark-tremor":["input","card","dropdown"]}]}],rounded:[{rounded:[{tremor:["small","default","full"],"dark-tremor":["small","default","full"]}]}],"font-size":[{text:[{tremor:["default","title","metric"],"dark-tremor":["default","title","metric"]}]}]}}}),Xgt=["slate","gray","zinc","neutral","stone","red","orange","amber","yellow","lime","green","emerald","teal","cyan","sky","blue","indigo","violet","purple","fuchsia","pink","rose"],Zgt=e=>Xgt.includes(e),dge=(e,t)=>{if(t||e===di.Unchanged)return e;switch(e){case di.Increase:return di.Decrease;case di.ModerateIncrease:return di.ModerateDecrease;case di.Decrease:return di.Increase;case di.ModerateDecrease:return di.ModerateIncrease}return""},of=e=>e.toString(),QF=e=>e.reduce((t,n)=>t+n,0),Qgt=(e,t)=>{for(let n=0;n<t.length;n++)if(t[n]===e)return!0;return!1};function Vh(e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}function hn(e){return t=>`tremor-${e}-${t}`}function vt(e,t){const n=Zgt(e);if(e==="white"||e==="black"||e==="transparent"||!t||!n){const r=(i=>i.includes("#")||i.includes("--")||i.includes("rgb"))(e)?`[${e}]`:e;return{bgColor:`bg-${r} dark:bg-${r}`,hoverBgColor:`hover:bg-${r} dark:hover:bg-${r}`,selectBgColor:`data-[selected]:bg-${r} dark:data-[selected]:bg-${r}`,textColor:`text-${r} dark:text-${r}`,selectTextColor:`data-[selected]:text-${r} dark:data-[selected]:text-${r}`,hoverTextColor:`hover:text-${r} dark:hover:text-${r}`,borderColor:`border-${r} dark:border-${r}`,selectBorderColor:`data-[selected]:border-${r} dark:data-[selected]:border-${r}`,hoverBorderColor:`hover:border-${r} dark:hover:border-${r}`,ringColor:`ring-${r} dark:ring-${r}`,strokeColor:`stroke-${r} dark:stroke-${r}`,fillColor:`fill-${r} dark:fill-${r}`}}return{bgColor:`bg-${e}-${t} dark:bg-${e}-${t}`,selectBgColor:`data-[selected]:bg-${e}-${t} dark:data-[selected]:bg-${e}-${t}`,hoverBgColor:`hover:bg-${e}-${t} dark:hover:bg-${e}-${t}`,textColor:`text-${e}-${t} dark:text-${e}-${t}`,selectTextColor:`data-[selected]:text-${e}-${t} dark:data-[selected]:text-${e}-${t}`,hoverTextColor:`hover:text-${e}-${t} dark:hover:text-${e}-${t}`,borderColor:`border-${e}-${t} dark:border-${e}-${t}`,selectBorderColor:`data-[selected]:border-${e}-${t} dark:data-[selected]:border-${e}-${t}`,hoverBorderColor:`hover:border-${e}-${t} dark:hover:border-${e}-${t}`,ringColor:`ring-${e}-${t} dark:ring-${e}-${t}`,strokeColor:`stroke-${e}-${t} dark:stroke-${e}-${t}`,fillColor:`fill-${e}-${t} dark:fill-${e}-${t}`}}const Jgt=e=>{var t=ht(e,[]);return E.createElement("svg",Object.assign({},t,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"}),E.createElement("path",{d:"M8 12L14 6V18L8 12Z"}))},evt=e=>{var t=ht(e,[]);return E.createElement("svg",Object.assign({},t,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"}),E.createElement("path",{d:"M16 12L10 18V6L16 12Z"}))},JF=hn("Legend"),tvt=({name:e,color:t,onClick:n,activeLegend:r})=>{const i=!!n;return E.createElement("li",{className:ye(JF("legendItem"),"group inline-flex items-center px-2 py-0.5 rounded-tremor-small transition whitespace-nowrap",i?"cursor-pointer":"cursor-default","text-tremor-content",i?"hover:bg-tremor-background-subtle":"","dark:text-dark-tremor-content",i?"dark:hover:bg-dark-tremor-background-subtle":""),onClick:a=>{a.stopPropagation(),n==null||n(e,t)}},E.createElement("svg",{className:ye("flex-none h-2 w-2 mr-1.5",vt(t,Nt.text).textColor,r&&r!==e?"opacity-40":"opacity-100"),fill:"currentColor",viewBox:"0 0 8 8"},E.createElement("circle",{cx:4,cy:4,r:4})),E.createElement("p",{className:ye("whitespace-nowrap truncate text-tremor-default","text-tremor-content",i?"group-hover:text-tremor-content-emphasis":"","dark:text-dark-tremor-content",r&&r!==e?"opacity-40":"opacity-100",i?"dark:group-hover:text-dark-tremor-content-emphasis":"")},e))},XG=({icon:e,onClick:t,disabled:n})=>{const r=e,[i,a]=E.useState(!1),o=E.useRef(null);return E.useEffect(()=>(i?o.current=setInterval(()=>{t==null||t()},300):clearInterval(o.current),()=>clearInterval(o.current)),[i,t]),b.useEffect(()=>{n&&(clearInterval(o.current),a(!1))},[n]),E.createElement("button",{type:"button",className:ye(JF("legendSliderButton"),"w-5 group inline-flex items-center truncate rounded-tremor-small transition",n?"cursor-not-allowed":"cursor-pointer",n?"text-tremor-content-subtle":"text-tremor-content hover:text-tremor-content-emphasis hover:bg-tremor-background-subtle",n?"dark:text-dark-tremor-subtle":"dark:text-dark-tremor dark:hover:text-tremor-content-emphasis dark:hover:bg-dark-tremor-background-subtle"),disabled:n,onClick:l=>{l.stopPropagation(),t==null||t()},onMouseDown:l=>{l.stopPropagation(),a(!0)},onMouseUp:l=>{l.stopPropagation(),a(!1)}},E.createElement(r,{className:"w-full"}))},fge=E.forwardRef((e,t)=>{const{categories:n,colors:r=Sf,className:i,onClickLegendItem:a,activeLegend:o,enableLegendSlider:l=!1}=e,c=ht(e,["categories","colors","className","onClickLegendItem","activeLegend","enableLegendSlider"]),u=E.useRef(null),d=E.useRef(null),[f,m]=E.useState(null),[h,g]=E.useState(null),y=E.useRef(null),v=b.useCallback(()=>{const _=u==null?void 0:u.current;if(!_)return;const S=_.scrollLeft>0,k=_.scrollWidth-_.clientWidth>_.scrollLeft;m({left:S,right:k})},[m]),x=b.useCallback(_=>{var S,k;const P=u==null?void 0:u.current,M=d==null?void 0:d.current,T=(S=P==null?void 0:P.clientWidth)!==null&&S!==void 0?S:0,R=(k=M==null?void 0:M.clientWidth)!==null&&k!==void 0?k:0;P&&l&&(P.scrollTo({left:_==="left"?P.scrollLeft-T+R:P.scrollLeft+T-R,behavior:"smooth"}),setTimeout(()=>{v()},400))},[l,v]);E.useEffect(()=>{const _=S=>{S==="ArrowLeft"?x("left"):S==="ArrowRight"&&x("right")};return h?(_(h),y.current=setInterval(()=>{_(h)},300)):clearInterval(y.current),()=>clearInterval(y.current)},[h,x]);const w=_=>{_.stopPropagation(),_.key!=="ArrowLeft"&&_.key!=="ArrowRight"||(_.preventDefault(),g(_.key))},j=_=>{_.stopPropagation(),g(null)};return E.useEffect(()=>{const _=u==null?void 0:u.current;return l&&(v(),_==null||_.addEventListener("keydown",w),_==null||_.addEventListener("keyup",j)),()=>{_==null||_.removeEventListener("keydown",w),_==null||_.removeEventListener("keyup",j)}},[v,l]),E.createElement("ol",Object.assign({ref:t,className:ye(JF("root"),"relative overflow-hidden",i)},c),E.createElement("div",{ref:u,tabIndex:0,className:ye("h-full flex",l?f!=null&&f.right||f!=null&&f.left?"pl-4 pr-12  items-center overflow-auto snap-mandatory [&::-webkit-scrollbar]:hidden [scrollbar-width:none]":"":"flex-wrap")},n.map((_,S)=>E.createElement(tvt,{key:`item-${S}`,name:_,color:r[S%r.length],onClick:a,activeLegend:o}))),l&&(f!=null&&f.right||f!=null&&f.left)?E.createElement(E.Fragment,null,E.createElement("div",{className:ye("bg-tremor-background","dark:bg-dark-tremor-background","absolute flex top-0 pr-1 bottom-0 right-0 items-center justify-center h-full"),ref:d},E.createElement(XG,{icon:Jgt,onClick:()=>{g(null),x("left")},disabled:!(f!=null&&f.left)}),E.createElement(XG,{icon:evt,onClick:()=>{g(null),x("right")},disabled:!(f!=null&&f.right)}))):null)});fge.displayName="Legend";const TP=({payload:e},t,n,r,i,a)=>{const o=b.useRef(null);Ygt(()=>{var c,u;n((u=(c=o.current)===null||c===void 0?void 0:c.clientHeight)?Number(u)+20:60)});const l=e.filter(c=>c.type!=="none");return E.createElement("div",{ref:o,className:"flex items-center justify-end"},E.createElement(fge,{categories:l.map(c=>c.value),colors:l.map(c=>t.get(c.value)),onClickLegendItem:i,activeLegend:r,enableLegendSlider:a}))},e8=({children:e})=>E.createElement("div",{className:ye("rounded-tremor-default text-tremor-default border","bg-tremor-background shadow-tremor-dropdown border-tremor-border","dark:bg-dark-tremor-background dark:shadow-dark-tremor-dropdown dark:border-dark-tremor-border")},e),t8=({value:e,name:t,color:n})=>E.createElement("div",{className:"flex items-center justify-between space-x-8"},E.createElement("div",{className:"flex items-center space-x-2"},E.createElement("span",{className:ye("shrink-0 rounded-tremor-full border-2 h-3 w-3","border-tremor-background shadow-tremor-card","dark:border-dark-tremor-background dark:shadow-dark-tremor-card",vt(n,Nt.background).bgColor)}),E.createElement("p",{className:ye("text-right whitespace-nowrap","text-tremor-content","dark:text-dark-tremor-content")},t)),E.createElement("p",{className:ye("font-medium tabular-nums text-right whitespace-nowrap","text-tremor-content-emphasis","dark:text-dark-tremor-content-emphasis")},e)),n8=({active:e,payload:t,label:n,categoryColors:r,valueFormatter:i})=>{if(e&&t){const a=t.filter(o=>o.type!=="none");return E.createElement(e8,null,E.createElement("div",{className:ye("border-tremor-border border-b px-4 py-2","dark:border-dark-tremor-border")},E.createElement("p",{className:ye("font-medium","text-tremor-content-emphasis","dark:text-dark-tremor-content-emphasis")},n)),E.createElement("div",{className:ye("px-4 py-2 space-y-1")},a.map(({value:o,name:l},c)=>{var u;return E.createElement(t8,{key:`id-${c}`,value:i(o),name:l,color:(u=r.get(l))!==null&&u!==void 0?u:Lt.Blue})})))}return null},qh=({className:e,noDataText:t="No data"})=>E.createElement("div",{className:ye("flex items-center justify-center w-full h-full border border-dashed rounded-tremor-default","border-tremor-border","dark:border-dark-tremor-border",e)},E.createElement("p",{className:ye("text-tremor-content text-tremor-default","dark:text-dark-tremor-content")},t)),$v=(e,t)=>{const n=new Map;return e.forEach((r,i)=>{n.set(r,t[i%t.length])}),n},bp=(e,t,n)=>[e?"auto":t??0,n??"auto"],nvt=(e,t)=>{if(!t)return[];const n=new Set;return e.forEach(r=>{n.add(r[t])}),Array.from(n)};function Z2(e,t){if(e===t)return!0;if(typeof e!="object"||typeof t!="object"||e===null||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(const i of n)if(!r.includes(i)||!Z2(e[i],t[i]))return!1;return!0}function yy(e,t){const n=[];for(const r of e)if(Object.prototype.hasOwnProperty.call(r,t)&&(n.push(r[t]),n.length>1))return!1;return!0}const rvt=E.forwardRef((e,t)=>{const{data:n=[],categories:r=[],index:i,stack:a=!1,colors:o=Sf,valueFormatter:l=of,startEndOnly:c=!1,showXAxis:u=!0,showYAxis:d=!0,yAxisWidth:f=56,intervalType:m="equidistantPreserveStart",showAnimation:h=!1,animationDuration:g=900,showTooltip:y=!0,showLegend:v=!0,showGridLines:x=!0,showGradient:w=!0,autoMinValue:j=!1,curveType:_="linear",minValue:S,maxValue:k,connectNulls:P=!1,allowDecimals:M=!0,noDataText:T,className:R,onValueChange:D,enableLegendSlider:I=!1,customTooltip:B,rotateLabelX:$,padding:K=!u&&!d||c&&!d?{left:0,right:0}:{left:20,right:20},tickGap:Y=5,xAxisLabel:Q,yAxisLabel:H}=e,G=ht(e,["data","categories","index","stack","colors","valueFormatter","startEndOnly","showXAxis","showYAxis","yAxisWidth","intervalType","showAnimation","animationDuration","showTooltip","showLegend","showGridLines","showGradient","autoMinValue","curveType","minValue","maxValue","connectNulls","allowDecimals","noDataText","className","onValueChange","enableLegendSlider","customTooltip","rotateLabelX","padding","tickGap","xAxisLabel","yAxisLabel"]),U=B,[ee,z]=b.useState(60),[F,ie]=b.useState(void 0),[ce,te]=b.useState(void 0),oe=$v(r,o),ve=bp(j,S,k),ne=!!D;function xe(ue){ne&&(ue===ce&&!F||yy(n,ue)&&F&&F.dataKey===ue?(te(void 0),D==null||D(null)):(te(ue),D==null||D({eventType:"category",categoryClicked:ue})),ie(void 0))}return E.createElement("div",Object.assign({ref:t,className:ye("w-full h-80",R)},G),E.createElement(kr,{className:"h-full w-full"},n!=null&&n.length?E.createElement(AF,{data:n,onClick:ne&&(ce||F)?()=>{ie(void 0),te(void 0),D==null||D(null)}:void 0,margin:{bottom:Q?30:void 0,left:H?20:void 0,right:H?5:void 0,top:5}},x?E.createElement(sa,{className:ye("stroke-1","stroke-tremor-border","dark:stroke-dark-tremor-border"),horizontal:!0,vertical:!1}):null,E.createElement(vr,{padding:K,hide:!u,dataKey:i,tick:{transform:"translate(0, 6)"},ticks:c?[n[0][i],n[n.length-1][i]]:void 0,fill:"",stroke:"",className:ye("text-tremor-label","fill-tremor-content","dark:fill-dark-tremor-content"),interval:c?"preserveStartEnd":m,tickLine:!1,axisLine:!1,minTickGap:Y,angle:$==null?void 0:$.angle,dy:$==null?void 0:$.verticalShift,height:$==null?void 0:$.xAxisHeight},Q&&E.createElement(ai,{position:"insideBottom",offset:-20,className:"fill-tremor-content-emphasis text-tremor-default font-medium dark:fill-dark-tremor-content-emphasis"},Q)),E.createElement(dr,{width:f,hide:!d,axisLine:!1,tickLine:!1,type:"number",domain:ve,tick:{transform:"translate(-3, 0)"},fill:"",stroke:"",className:ye("text-tremor-label","fill-tremor-content","dark:fill-dark-tremor-content"),tickFormatter:l,allowDecimals:M},H&&E.createElement(ai,{position:"insideLeft",style:{textAnchor:"middle"},angle:-90,offset:-15,className:"fill-tremor-content-emphasis text-tremor-default font-medium dark:fill-dark-tremor-content-emphasis"},H)),E.createElement(mr,{wrapperStyle:{outline:"none"},isAnimationActive:!1,cursor:{stroke:"#d1d5db",strokeWidth:1},content:y?({active:ue,payload:re,label:Se})=>U?E.createElement(U,{payload:re==null?void 0:re.map(ae=>{var X;return Object.assign(Object.assign({},ae),{color:(X=oe.get(ae.dataKey))!==null&&X!==void 0?X:Lt.Gray})}),active:ue,label:Se}):E.createElement(n8,{active:ue,payload:re,label:Se,valueFormatter:l,categoryColors:oe}):E.createElement(E.Fragment,null),position:{y:0}}),v?E.createElement(Ka,{verticalAlign:"top",height:ee,content:({payload:ue})=>TP({payload:ue},oe,z,ce,ne?re=>xe(re):void 0,I)}):null,r.map(ue=>{var re,Se,ae;const X=((re=oe.get(ue))!==null&&re!==void 0?re:Lt.Gray).replace("#","");return E.createElement("defs",{key:ue},w?E.createElement("linearGradient",{className:vt((Se=oe.get(ue))!==null&&Se!==void 0?Se:Lt.Gray,Nt.text).textColor,id:X,x1:"0",y1:"0",x2:"0",y2:"1"},E.createElement("stop",{offset:"5%",stopColor:"currentColor",stopOpacity:F||ce&&ce!==ue?.15:.4}),E.createElement("stop",{offset:"95%",stopColor:"currentColor",stopOpacity:0})):E.createElement("linearGradient",{className:vt((ae=oe.get(ue))!==null&&ae!==void 0?ae:Lt.Gray,Nt.text).textColor,id:X,x1:"0",y1:"0",x2:"0",y2:"1"},E.createElement("stop",{stopColor:"currentColor",stopOpacity:F||ce&&ce!==ue?.1:.3})))}),r.map(ue=>{var re,Se;const ae=((re=oe.get(ue))!==null&&re!==void 0?re:Lt.Gray).replace("#","");return E.createElement(md,{className:vt((Se=oe.get(ue))!==null&&Se!==void 0?Se:Lt.Gray,Nt.text).strokeColor,strokeOpacity:F||ce&&ce!==ue?.3:1,activeDot:X=>{var Ae;const{cx:qe,cy:tt,stroke:ze,strokeLinecap:lt,strokeLinejoin:me,strokeWidth:_e,dataKey:Ce}=X;return E.createElement(hf,{className:ye("stroke-tremor-background dark:stroke-dark-tremor-background",D?"cursor-pointer":"",vt((Ae=oe.get(Ce))!==null&&Ae!==void 0?Ae:Lt.Gray,Nt.text).fillColor),cx:qe,cy:tt,r:5,fill:"",stroke:ze,strokeLinecap:lt,strokeLinejoin:me,strokeWidth:_e,onClick:(Xe,He)=>function(we,Me){Me.stopPropagation(),ne&&(we.index===(F==null?void 0:F.index)&&we.dataKey===(F==null?void 0:F.dataKey)||yy(n,we.dataKey)&&ce&&ce===we.dataKey?(te(void 0),ie(void 0),D==null||D(null)):(te(we.dataKey),ie({index:we.index,dataKey:we.dataKey}),D==null||D(Object.assign({eventType:"dot",categoryClicked:we.dataKey},we.payload))))}(X,He)})},dot:X=>{var Ae;const{stroke:qe,strokeLinecap:tt,strokeLinejoin:ze,strokeWidth:lt,cx:me,cy:_e,dataKey:Ce,index:Xe}=X;return yy(n,ue)&&!(F||ce&&ce!==ue)||(F==null?void 0:F.index)===Xe&&(F==null?void 0:F.dataKey)===ue?E.createElement(hf,{key:Xe,cx:me,cy:_e,r:5,stroke:qe,fill:"",strokeLinecap:tt,strokeLinejoin:ze,strokeWidth:lt,className:ye("stroke-tremor-background dark:stroke-dark-tremor-background",D?"cursor-pointer":"",vt((Ae=oe.get(Ce))!==null&&Ae!==void 0?Ae:Lt.Gray,Nt.text).fillColor)}):E.createElement(b.Fragment,{key:Xe})},key:ue,name:ue,type:_,dataKey:ue,stroke:"",fill:`url(#${ae})`,strokeWidth:2,strokeLinejoin:"round",strokeLinecap:"round",isAnimationActive:h,animationDuration:g,stackId:a?"a":void 0,connectNulls:P})}),D?r.map(ue=>E.createElement(oa,{className:ye("cursor-pointer"),strokeOpacity:0,key:ue,name:ue,type:_,dataKey:ue,stroke:"transparent",fill:"transparent",legendType:"none",tooltipType:"none",strokeWidth:12,connectNulls:P,onClick:(re,Se)=>{Se.stopPropagation();const{name:ae}=re;xe(ae)}})):null):E.createElement(qh,{noDataText:T})))});rvt.displayName="AreaChart";const ivt=E.forwardRef((e,t)=>{const{data:n=[],categories:r=[],index:i,colors:a=Sf,valueFormatter:o=of,layout:l="horizontal",stack:c=!1,relative:u=!1,startEndOnly:d=!1,animationDuration:f=900,showAnimation:m=!1,showXAxis:h=!0,showYAxis:g=!0,yAxisWidth:y=56,intervalType:v="equidistantPreserveStart",showTooltip:x=!0,showLegend:w=!0,showGridLines:j=!0,autoMinValue:_=!1,minValue:S,maxValue:k,allowDecimals:P=!0,noDataText:M,onValueChange:T,enableLegendSlider:R=!1,customTooltip:D,rotateLabelX:I,barCategoryGap:B,tickGap:$=5,xAxisLabel:K,yAxisLabel:Y,className:Q,padding:H=h||g?{left:20,right:20}:{left:0,right:0}}=e,G=ht(e,["data","categories","index","colors","valueFormatter","layout","stack","relative","startEndOnly","animationDuration","showAnimation","showXAxis","showYAxis","yAxisWidth","intervalType","showTooltip","showLegend","showGridLines","autoMinValue","minValue","maxValue","allowDecimals","noDataText","onValueChange","enableLegendSlider","customTooltip","rotateLabelX","barCategoryGap","tickGap","xAxisLabel","yAxisLabel","className","padding"]),U=D,[ee,z]=b.useState(60),F=$v(r,a),[ie,ce]=E.useState(void 0),[te,oe]=b.useState(void 0),ve=!!T;function ne(ue,re,Se){var ae,X,Ae,qe;Se.stopPropagation(),T&&(Z2(ie,Object.assign(Object.assign({},ue.payload),{value:ue.value}))?(oe(void 0),ce(void 0),T==null||T(null)):(oe((X=(ae=ue.tooltipPayload)===null||ae===void 0?void 0:ae[0])===null||X===void 0?void 0:X.dataKey),ce(Object.assign(Object.assign({},ue.payload),{value:ue.value})),T==null||T(Object.assign({eventType:"bar",categoryClicked:(qe=(Ae=ue.tooltipPayload)===null||Ae===void 0?void 0:Ae[0])===null||qe===void 0?void 0:qe.dataKey},ue.payload))))}const xe=bp(_,S,k);return E.createElement("div",Object.assign({ref:t,className:ye("w-full h-80",Q)},G),E.createElement(kr,{className:"h-full w-full"},n!=null&&n.length?E.createElement(dc,{barCategoryGap:B,data:n,stackOffset:c?"sign":u?"expand":"none",layout:l==="vertical"?"vertical":"horizontal",onClick:ve&&(te||ie)?()=>{ce(void 0),oe(void 0),T==null||T(null)}:void 0,margin:{bottom:K?30:void 0,left:Y?20:void 0,right:Y?5:void 0,top:5}},j?E.createElement(sa,{className:ye("stroke-1","stroke-tremor-border","dark:stroke-dark-tremor-border"),horizontal:l!=="vertical",vertical:l==="vertical"}):null,l!=="vertical"?E.createElement(vr,{padding:H,hide:!h,dataKey:i,interval:d?"preserveStartEnd":v,tick:{transform:"translate(0, 6)"},ticks:d?[n[0][i],n[n.length-1][i]]:void 0,fill:"",stroke:"",className:ye("mt-4 text-tremor-label","fill-tremor-content","dark:fill-dark-tremor-content"),tickLine:!1,axisLine:!1,angle:I==null?void 0:I.angle,dy:I==null?void 0:I.verticalShift,height:I==null?void 0:I.xAxisHeight,minTickGap:$},K&&E.createElement(ai,{position:"insideBottom",offset:-20,className:"fill-tremor-content-emphasis text-tremor-default font-medium dark:fill-dark-tremor-content-emphasis"},K)):E.createElement(vr,{hide:!h,type:"number",tick:{transform:"translate(-3, 0)"},domain:xe,fill:"",stroke:"",className:ye("text-tremor-label","fill-tremor-content","dark:fill-dark-tremor-content"),tickLine:!1,axisLine:!1,tickFormatter:o,minTickGap:$,allowDecimals:P,angle:I==null?void 0:I.angle,dy:I==null?void 0:I.verticalShift,height:I==null?void 0:I.xAxisHeight},K&&E.createElement(ai,{position:"insideBottom",offset:-20,className:"fill-tremor-content-emphasis text-tremor-default font-medium dark:fill-dark-tremor-content-emphasis"},K)),l!=="vertical"?E.createElement(dr,{width:y,hide:!g,axisLine:!1,tickLine:!1,type:"number",domain:xe,tick:{transform:"translate(-3, 0)"},fill:"",stroke:"",className:ye("text-tremor-label","fill-tremor-content","dark:fill-dark-tremor-content"),tickFormatter:u?ue=>`${(100*ue).toString()} %`:o,allowDecimals:P},Y&&E.createElement(ai,{position:"insideLeft",style:{textAnchor:"middle"},angle:-90,offset:-15,className:"fill-tremor-content-emphasis text-tremor-default font-medium dark:fill-dark-tremor-content-emphasis"},Y)):E.createElement(dr,{width:y,hide:!g,dataKey:i,axisLine:!1,tickLine:!1,ticks:d?[n[0][i],n[n.length-1][i]]:void 0,type:"category",interval:"preserveStartEnd",tick:{transform:"translate(0, 6)"},fill:"",stroke:"",className:ye("text-tremor-label","fill-tremor-content","dark:fill-dark-tremor-content")},Y&&E.createElement(ai,{position:"insideLeft",style:{textAnchor:"middle"},angle:-90,offset:-15,className:"fill-tremor-content-emphasis text-tremor-default font-medium dark:fill-dark-tremor-content-emphasis"},Y)),E.createElement(mr,{wrapperStyle:{outline:"none"},isAnimationActive:!1,cursor:{fill:"#d1d5db",opacity:"0.15"},content:x?({active:ue,payload:re,label:Se})=>U?E.createElement(U,{payload:re==null?void 0:re.map(ae=>{var X;return Object.assign(Object.assign({},ae),{color:(X=F.get(ae.dataKey))!==null&&X!==void 0?X:Lt.Gray})}),active:ue,label:Se}):E.createElement(n8,{active:ue,payload:re,label:Se,valueFormatter:o,categoryColors:F}):E.createElement(E.Fragment,null),position:{y:0}}),w?E.createElement(Ka,{verticalAlign:"top",height:ee,content:({payload:ue})=>TP({payload:ue},F,z,te,ve?re=>{return Se=re,void(ve&&(Se!==te||ie?(oe(Se),T==null||T({eventType:"category",categoryClicked:Se})):(oe(void 0),T==null||T(null)),ce(void 0)));var Se}:void 0,R)}):null,r.map(ue=>{var re;return E.createElement(Yi,{className:ye(vt((re=F.get(ue))!==null&&re!==void 0?re:Lt.Gray,Nt.background).fillColor,T?"cursor-pointer":""),key:ue,name:ue,type:"linear",stackId:c||u?"a":void 0,dataKey:ue,fill:"",isAnimationActive:m,animationDuration:f,shape:Se=>((ae,X,Ae,qe)=>{const{fillOpacity:tt,name:ze,payload:lt,value:me}=ae;let{x:_e,width:Ce,y:Xe,height:He}=ae;return qe==="horizontal"&&He<0?(Xe+=He,He=Math.abs(He)):qe==="vertical"&&Ce<0&&(_e+=Ce,Ce=Math.abs(Ce)),E.createElement("rect",{x:_e,y:Xe,width:Ce,height:He,opacity:X||Ae&&Ae!==ze?Z2(X,Object.assign(Object.assign({},lt),{value:me}))?tt:.3:tt})})(Se,ie,te,l),onClick:ne})})):E.createElement(qh,{noDataText:M})))});ivt.displayName="BarChart";const avt=({active:e,payload:t,valueFormatter:n})=>{if(e&&(t!=null&&t[0])){const r=t==null?void 0:t[0];return E.createElement(e8,null,E.createElement("div",{className:ye("px-4 py-2")},E.createElement(t8,{value:n(r.value),name:r.name,color:r.payload.color})))}return null},svt=(e,t)=>e.map((n,r)=>{const i=r<t.length?t[r]:Lt.Gray;return Object.assign(Object.assign({},n),{color:i,className:vt(i??Lt.Gray,Nt.background).fillColor,fill:""})}),ovt=(e,t,n,r)=>e||t(((i,a)=>QF(i.map(o=>o[a])))(n,r)),lvt=e=>{const{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:o,className:l}=e;return E.createElement("g",null,E.createElement(yF,{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:o,className:l,fill:"",opacity:.3,style:{outline:"none"}}))},cvt=E.forwardRef((e,t)=>{const{data:n=[],category:r="value",index:i="name",colors:a=Sf,variant:o="donut",valueFormatter:l=of,label:c,showLabel:u=!0,animationDuration:d=900,showAnimation:f=!1,showTooltip:m=!0,noDataText:h,onValueChange:g,customTooltip:y,className:v}=e,x=ht(e,["data","category","index","colors","variant","valueFormatter","label","showLabel","animationDuration","showAnimation","showTooltip","noDataText","onValueChange","customTooltip","className"]),w=y,j=o=="donut",_=ovt(c,l,n,r),[S,k]=E.useState(void 0),P=!!g;return b.useEffect(()=>{const M=document.querySelectorAll(".recharts-pie-sector");M&&M.forEach(T=>{T.setAttribute("style","outline: none")})},[S]),E.createElement("div",Object.assign({ref:t,className:ye("w-full h-40",v)},x),E.createElement(kr,{className:"h-full w-full"},n!=null&&n.length?E.createElement(PF,{onClick:P&&S?()=>{k(void 0),g==null||g(null)}:void 0,margin:{top:0,left:0,right:0,bottom:0}},u&&j?E.createElement("text",{className:ye("fill-tremor-content-emphasis","dark:fill-dark-tremor-content-emphasis"),x:"50%",y:"50%",textAnchor:"middle",dominantBaseline:"middle"},_):null,E.createElement(hd,{className:ye("stroke-tremor-background dark:stroke-dark-tremor-background",g?"cursor-pointer":"cursor-default"),data:svt(n,a),cx:"50%",cy:"50%",startAngle:90,endAngle:-270,innerRadius:j?"75%":"0%",outerRadius:"100%",stroke:"",strokeLinejoin:"round",dataKey:r,nameKey:i,isAnimationActive:f,animationDuration:d,onClick:function(M,T,R){R.stopPropagation(),P&&(S===T?(k(void 0),g==null||g(null)):(k(T),g==null||g(Object.assign({eventType:"slice"},M.payload.payload))))},activeIndex:S,inactiveShape:lvt,style:{outline:"none"}}),E.createElement(mr,{wrapperStyle:{outline:"none"},isAnimationActive:!1,content:m?({active:M,payload:T})=>{var R;return w?E.createElement(w,{payload:T==null?void 0:T.map(D=>{var I,B,$;return Object.assign(Object.assign({},D),{color:($=(B=(I=T==null?void 0:T[0])===null||I===void 0?void 0:I.payload)===null||B===void 0?void 0:B.color)!==null&&$!==void 0?$:Lt.Gray})}),active:M,label:(R=T==null?void 0:T[0])===null||R===void 0?void 0:R.name}):E.createElement(avt,{active:M,payload:T,valueFormatter:l})}:E.createElement(E.Fragment,null)})):E.createElement(qh,{noDataText:h})))});cvt.displayName="DonutChart";const uvt=E.forwardRef((e,t)=>{const{data:n=[],categories:r=[],index:i,colors:a=Sf,valueFormatter:o=of,startEndOnly:l=!1,showXAxis:c=!0,showYAxis:u=!0,yAxisWidth:d=56,intervalType:f="equidistantPreserveStart",animationDuration:m=900,showAnimation:h=!1,showTooltip:g=!0,showLegend:y=!0,showGridLines:v=!0,autoMinValue:x=!1,curveType:w="linear",minValue:j,maxValue:_,connectNulls:S=!1,allowDecimals:k=!0,noDataText:P,className:M,onValueChange:T,enableLegendSlider:R=!1,customTooltip:D,rotateLabelX:I,padding:B=c||u?{left:20,right:20}:{left:0,right:0},tickGap:$=5,xAxisLabel:K,yAxisLabel:Y}=e,Q=ht(e,["data","categories","index","colors","valueFormatter","startEndOnly","showXAxis","showYAxis","yAxisWidth","intervalType","animationDuration","showAnimation","showTooltip","showLegend","showGridLines","autoMinValue","curveType","minValue","maxValue","connectNulls","allowDecimals","noDataText","className","onValueChange","enableLegendSlider","customTooltip","rotateLabelX","padding","tickGap","xAxisLabel","yAxisLabel"]),H=D,[G,U]=b.useState(60),[ee,z]=b.useState(void 0),[F,ie]=b.useState(void 0),ce=$v(r,a),te=bp(x,j,_),oe=!!T;function ve(ne){oe&&(ne===F&&!ee||yy(n,ne)&&ee&&ee.dataKey===ne?(ie(void 0),T==null||T(null)):(ie(ne),T==null||T({eventType:"category",categoryClicked:ne})),z(void 0))}return E.createElement("div",Object.assign({ref:t,className:ye("w-full h-80",M)},Q),E.createElement(kr,{className:"h-full w-full"},n!=null&&n.length?E.createElement(id,{data:n,onClick:oe&&(F||ee)?()=>{z(void 0),ie(void 0),T==null||T(null)}:void 0,margin:{bottom:K?30:void 0,left:Y?20:void 0,right:Y?5:void 0,top:5}},v?E.createElement(sa,{className:ye("stroke-1","stroke-tremor-border","dark:stroke-dark-tremor-border"),horizontal:!0,vertical:!1}):null,E.createElement(vr,{padding:B,hide:!c,dataKey:i,interval:l?"preserveStartEnd":f,tick:{transform:"translate(0, 6)"},ticks:l?[n[0][i],n[n.length-1][i]]:void 0,fill:"",stroke:"",className:ye("text-tremor-label","fill-tremor-content","dark:fill-dark-tremor-content"),tickLine:!1,axisLine:!1,minTickGap:$,angle:I==null?void 0:I.angle,dy:I==null?void 0:I.verticalShift,height:I==null?void 0:I.xAxisHeight},K&&E.createElement(ai,{position:"insideBottom",offset:-20,className:"fill-tremor-content-emphasis text-tremor-default font-medium dark:fill-dark-tremor-content-emphasis"},K)),E.createElement(dr,{width:d,hide:!u,axisLine:!1,tickLine:!1,type:"number",domain:te,tick:{transform:"translate(-3, 0)"},fill:"",stroke:"",className:ye("text-tremor-label","fill-tremor-content","dark:fill-dark-tremor-content"),tickFormatter:o,allowDecimals:k},Y&&E.createElement(ai,{position:"insideLeft",style:{textAnchor:"middle"},angle:-90,offset:-15,className:"fill-tremor-content-emphasis text-tremor-default font-medium dark:fill-dark-tremor-content-emphasis"},Y)),E.createElement(mr,{wrapperStyle:{outline:"none"},isAnimationActive:!1,cursor:{stroke:"#d1d5db",strokeWidth:1},content:g?({active:ne,payload:xe,label:ue})=>H?E.createElement(H,{payload:xe==null?void 0:xe.map(re=>{var Se;return Object.assign(Object.assign({},re),{color:(Se=ce.get(re.dataKey))!==null&&Se!==void 0?Se:Lt.Gray})}),active:ne,label:ue}):E.createElement(n8,{active:ne,payload:xe,label:ue,valueFormatter:o,categoryColors:ce}):E.createElement(E.Fragment,null),position:{y:0}}),y?E.createElement(Ka,{verticalAlign:"top",height:G,content:({payload:ne})=>TP({payload:ne},ce,U,F,oe?xe=>ve(xe):void 0,R)}):null,r.map(ne=>{var xe;return E.createElement(oa,{className:ye(vt((xe=ce.get(ne))!==null&&xe!==void 0?xe:Lt.Gray,Nt.text).strokeColor),strokeOpacity:ee||F&&F!==ne?.3:1,activeDot:ue=>{var re;const{cx:Se,cy:ae,stroke:X,strokeLinecap:Ae,strokeLinejoin:qe,strokeWidth:tt,dataKey:ze}=ue;return E.createElement(hf,{className:ye("stroke-tremor-background dark:stroke-dark-tremor-background",T?"cursor-pointer":"",vt((re=ce.get(ze))!==null&&re!==void 0?re:Lt.Gray,Nt.text).fillColor),cx:Se,cy:ae,r:5,fill:"",stroke:X,strokeLinecap:Ae,strokeLinejoin:qe,strokeWidth:tt,onClick:(lt,me)=>function(_e,Ce){Ce.stopPropagation(),oe&&(_e.index===(ee==null?void 0:ee.index)&&_e.dataKey===(ee==null?void 0:ee.dataKey)||yy(n,_e.dataKey)&&F&&F===_e.dataKey?(ie(void 0),z(void 0),T==null||T(null)):(ie(_e.dataKey),z({index:_e.index,dataKey:_e.dataKey}),T==null||T(Object.assign({eventType:"dot",categoryClicked:_e.dataKey},_e.payload))))}(ue,me)})},dot:ue=>{var re;const{stroke:Se,strokeLinecap:ae,strokeLinejoin:X,strokeWidth:Ae,cx:qe,cy:tt,dataKey:ze,index:lt}=ue;return yy(n,ne)&&!(ee||F&&F!==ne)||(ee==null?void 0:ee.index)===lt&&(ee==null?void 0:ee.dataKey)===ne?E.createElement(hf,{key:lt,cx:qe,cy:tt,r:5,stroke:Se,fill:"",strokeLinecap:ae,strokeLinejoin:X,strokeWidth:Ae,className:ye("stroke-tremor-background dark:stroke-dark-tremor-background",T?"cursor-pointer":"",vt((re=ce.get(ze))!==null&&re!==void 0?re:Lt.Gray,Nt.text).fillColor)}):E.createElement(b.Fragment,{key:lt})},key:ne,name:ne,type:w,dataKey:ne,stroke:"",strokeWidth:2,strokeLinejoin:"round",strokeLinecap:"round",isAnimationActive:h,animationDuration:m,connectNulls:S})}),T?r.map(ne=>E.createElement(oa,{className:ye("cursor-pointer"),strokeOpacity:0,key:ne,name:ne,type:w,dataKey:ne,stroke:"transparent",fill:"transparent",legendType:"none",tooltipType:"none",strokeWidth:12,connectNulls:S,onClick:(xe,ue)=>{ue.stopPropagation();const{name:re}=xe;ve(re)}})):null):E.createElement(qh,{noDataText:P})))});uvt.displayName="LineChart";const dvt=({children:e})=>E.createElement("div",{className:ye("rounded-tremor-default text-tremor-default border","bg-tremor-background shadow-tremor-dropdown border-tremor-border","dark:bg-dark-tremor-background dark:shadow-dark-tremor-dropdown dark:border-dark-tremor-border")},e),fvt=({value:e,name:t})=>E.createElement("div",{className:"flex items-center justify-between space-x-8"},E.createElement("div",{className:"flex items-center space-x-2"},E.createElement("p",{className:ye("text-right whitespace-nowrap","text-tremor-content","dark:text-dark-tremor-content")},t)),E.createElement("p",{className:ye("font-medium tabular-nums text-right whitespace-nowrap","text-tremor-content-emphasis","dark:text-dark-tremor-content-emphasis")},e)),hvt=({label:e,active:t,payload:n,valueFormatter:r,axis:i,category:a,categoryColors:o})=>{var l,c;return t&&n?E.createElement(dvt,null,E.createElement("div",{className:ye("flex items-center space-x-2 border-b px-4 py-2","border-tremor-border","dark:border-dark-tremor-border")},E.createElement("span",{className:ye("shrink-0 rounded-tremor-full border-2 h-3 w-3","border-tremor-background shadow-tremor-card","dark:border-dark-tremor-background dark:shadow-dark-tremor-card",vt(a&&(c=o.get((l=n==null?void 0:n[0])===null||l===void 0?void 0:l.payload[a]))!==null&&c!==void 0?c:Lt.Blue,Nt.background).bgColor)}),E.createElement("p",{className:ye("font-medium","text-tremor-content-emphasis","dark:text-dark-tremor-content-emphasis")},e)),E.createElement("div",{className:ye("px-4 py-2 space-y-1")},n.map(({value:u,name:d},f)=>{var m,h;const g=(m=Object.keys(i).find(v=>i[v]===d))!==null&&m!==void 0?m:"",y=(h=r[g])!==null&&h!==void 0?h:of;return E.createElement(fvt,{key:`id-${f}`,value:r&&y?y(u):`${u}`,name:d})}))):null},mvt=E.forwardRef((e,t)=>{const{data:n=[],x:r,y:i,size:a,category:o,colors:l=Sf,showOpacity:c=!1,sizeRange:u=[1,1e3],valueFormatter:d={x:of,y:of,size:of},startEndOnly:f=!1,showXAxis:m=!0,showYAxis:h=!0,yAxisWidth:g=56,intervalType:y="equidistantPreserveStart",animationDuration:v=900,showAnimation:x=!1,showTooltip:w=!0,showLegend:j=!0,showGridLines:_=!0,autoMinXValue:S=!1,minXValue:k,maxXValue:P,autoMinYValue:M=!1,minYValue:T,maxYValue:R,allowDecimals:D=!0,noDataText:I,onValueChange:B,customTooltip:$,rotateLabelX:K,className:Y,enableLegendSlider:Q=!1,tickGap:H=5,xAxisLabel:G,yAxisLabel:U}=e,ee=ht(e,["data","x","y","size","category","colors","showOpacity","sizeRange","valueFormatter","startEndOnly","showXAxis","showYAxis","yAxisWidth","intervalType","animationDuration","showAnimation","showTooltip","showLegend","showGridLines","autoMinXValue","minXValue","maxXValue","autoMinYValue","minYValue","maxYValue","allowDecimals","noDataText","onValueChange","customTooltip","rotateLabelX","className","enableLegendSlider","tickGap","xAxisLabel","yAxisLabel"]),z=$,[F,ie]=b.useState(60),[ce,te]=E.useState(void 0),[oe,ve]=b.useState(void 0),ne=!!B;function xe(X,Ae,qe){qe.stopPropagation(),ne&&(Z2(ce,X.node)?(ve(void 0),te(void 0),B==null||B(null)):(te(X.node),ve(X.payload[o]),B==null||B(Object.assign({eventType:"bubble",categoryClicked:X.payload[o]},X.payload))))}const ue=nvt(n,o),re=$v(ue,l),Se=bp(S,k,P),ae=bp(M,T,R);return E.createElement("div",Object.assign({ref:t,className:ye("w-full h-80",Y)},ee),E.createElement(kr,{className:"h-full w-full"},n!=null&&n.length?E.createElement(jct,{onClick:ne&&(oe||ce)?()=>{te(void 0),ve(void 0),B==null||B(null)}:void 0,margin:{bottom:G?20:void 0,left:20,right:20,top:5}},_?E.createElement(sa,{className:ye("stroke-1","stroke-tremor-border","dark:stroke-dark-tremor-border"),horizontal:!0,vertical:!0}):null,r?E.createElement(vr,{hide:!m,dataKey:r,interval:f?"preserveStartEnd":y,tick:{transform:"translate(0, 6)"},ticks:f?[n[0][r],n[n.length-1][r]]:void 0,type:"number",name:r,fill:"",stroke:"",className:ye("text-tremor-label","fill-tremor-content","dark:fill-dark-tremor-content"),tickLine:!1,tickFormatter:d.x,axisLine:!1,minTickGap:H,domain:Se,allowDataOverflow:!0,angle:K==null?void 0:K.angle,dy:K==null?void 0:K.verticalShift,height:K==null?void 0:K.xAxisHeight},G&&E.createElement(ai,{position:"insideBottom",offset:-20,className:"fill-tremor-content-emphasis text-tremor-default font-medium dark:fill-dark-tremor-content-emphasis"},G)):null,i?E.createElement(dr,{width:g,hide:!h,axisLine:!1,tickLine:!1,dataKey:i,type:"number",name:i,domain:ae,tick:{transform:"translate(-3, 0)"},tickFormatter:d.y,fill:"",stroke:"",className:ye("text-tremor-label","fill-tremor-content","dark:fill-dark-tremor-content"),allowDecimals:D,allowDataOverflow:!0},U&&E.createElement(ai,{position:"insideLeft",style:{textAnchor:"middle"},angle:-90,offset:-15,className:"fill-tremor-content-emphasis text-tremor-default font-medium dark:fill-dark-tremor-content-emphasis"},U)):null,E.createElement(mr,{wrapperStyle:{outline:"none"},isAnimationActive:!1,cursor:{stroke:"#d1d5db",strokeWidth:1},content:w?({active:X,payload:Ae,label:qe})=>{var tt,ze;const lt=o?(ze=(tt=Ae==null?void 0:Ae[0])===null||tt===void 0?void 0:tt.payload)===null||ze===void 0?void 0:ze[o]:qe;return z?E.createElement(z,{payload:Ae==null?void 0:Ae.map(me=>{var _e;return Object.assign(Object.assign({},me),{color:(_e=re.get(lt))!==null&&_e!==void 0?_e:Lt.Gray})}),active:X,label:lt}):E.createElement(hvt,{active:X,payload:Ae,label:lt,valueFormatter:d,axis:{x:r,y:i,size:a},category:o,categoryColors:re})}:E.createElement(E.Fragment,null)}),a?E.createElement(J0,{dataKey:a,type:"number",range:u,name:a}):null,ue.map(X=>{var Ae,qe;return E.createElement(eb,{className:ye(vt((Ae=re.get(X))!==null&&Ae!==void 0?Ae:Lt.Gray,Nt.text).fillColor,c?vt((qe=re.get(X))!==null&&qe!==void 0?qe:Lt.Gray,Nt.text).strokeColor:"",B?"cursor-pointer":""),fill:`url(#${re.get(X)})`,fillOpacity:c?.7:1,key:X,name:X,data:o?n.filter(tt=>tt[o]===X):n,isAnimationActive:x,animationDuration:v,shape:tt=>((ze,lt,me)=>{const{cx:_e,cy:Ce,width:Xe,node:He,fillOpacity:we,name:Me}=ze;return E.createElement(hf,{cx:_e,cy:Ce,r:Xe/2,opacity:lt||me&&me!==Me?Z2(lt,He)?we:.3:we})})(tt,ce,oe),onClick:xe})}),j?E.createElement(Ka,{verticalAlign:"top",height:F,content:({payload:X})=>TP({payload:X},re,ie,oe,ne?Ae=>{return qe=Ae,void(ne&&(qe!==oe||ce?(ve(qe),B==null||B({eventType:"category",categoryClicked:qe})):(ve(void 0),B==null||B(null)),te(void 0)));var qe}:void 0,Q)}):null):E.createElement(qh,{noDataText:I})))});mvt.displayName="ScatterChart";const hge=e=>{var t=ht(e,[]);return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},t),E.createElement("path",{d:"M16.1716 10.9999L10.8076 5.63589L12.2218 4.22168L20 11.9999L12.2218 19.778L10.8076 18.3638L16.1716 12.9999H4V10.9999H16.1716Z"}))},pvt=["100%","75%","50%","25%","0%"],gvt=E.forwardRef((e,t)=>{var n,r;const{data:i,evolutionGradient:a=!1,gradient:o=!0,valueFormatter:l=of,className:c,calculateFrom:u="first",color:d,variant:f="base",showGridLines:m=!0,showYAxis:h=u!=="previous",showXAxis:g=!0,showArrow:y=!0,xAxisLabel:v="",yAxisLabel:x="",yAxisPadding:w=h?x?70:45:0,showTooltip:j=!0,onValueChange:_,customTooltip:S,noDataText:k,rotateLabelX:P,barGap:M="20%"}=e,T=ht(e,["data","evolutionGradient","gradient","valueFormatter","className","calculateFrom","color","variant","showGridLines","showYAxis","showXAxis","showArrow","xAxisLabel","yAxisLabel","yAxisPadding","showTooltip","onValueChange","customTooltip","noDataText","rotateLabelX","barGap"]),R=g&&v?25:15,D=S,I=E.useRef(null),B=E.useRef(null),[$,K]=E.useState(0),[Y,Q]=E.useState(0),[H,G]=E.useState({x:0,y:0}),[U,ee]=E.useState(void 0),z=!!_,F=E.useMemo(()=>Math.max(...i.map(re=>re.value)),[i]),ie=$-10-w,ce=E.useMemo(()=>{if(typeof M=="number")return M;if(typeof M=="string"&&M.endsWith("%")){const re=parseFloat(M.slice(0,-1));return ie*re/100/(i.length-1)}return console.error('Invalid barGap value. It must be a number or a percentage string (e.g., "10%").'),30},[ie,i.length,M]),te=E.useMemo(()=>(ie-(i.length-1)*ce-ce)/i.length,[ie,ce,i.length]),oe=Y-10-(g?((P==null?void 0:P.xAxisHeight)||R)+(g&&v?30:10):0),ve=u==="previous",ne=f==="center";E.useLayoutEffect(()=>{const re=()=>{if(I.current){const Se=I.current.getBoundingClientRect();K(Se.width),Q(Se.height)}};return re(),window.addEventListener("resize",re),()=>{window.removeEventListener("resize",re)}},[c]),E.useEffect(()=>{const re=()=>{if(B.current){const Se=B.current.getBoundingClientRect();Se.right>window.innerWidth&&(B.current.style.left=$-Se.width+"px")}};return re(),window.addEventListener("resize",re),()=>{window.removeEventListener("resize",re)}},[H,$]);const xe=E.useMemo(()=>oe<=0?[]:i.reduce((re,Se,ae)=>{var X,Ae,qe,tt;const ze=re[ae-1],lt=Se.value,me=ve&&(X=ze==null?void 0:ze.value)!==null&&X!==void 0?X:F,_e=ve&&(Ae=ze==null?void 0:ze.barHeight)!==null&&Ae!==void 0?Ae:oe,Ce=lt/me,Xe=Ce*_e,He=ae*(te+ce)+.5*ce,we=_e-Xe+(ve?oe-((qe=ze==null?void 0:ze.barHeight)!==null&&qe!==void 0?qe:oe):0),Me=(tt=i[ae+1])===null||tt===void 0?void 0:tt.value,et=Me/me,Ge=et*_e,wt=(ae+1)*(te+ce)+.5*ce;return re.push({value:lt,normalizedValue:Ce,name:Se.name,startX:He,startY:we,barHeight:Xe,nextValue:Me,nextNormalizedValue:et,nextBarHeight:Ge,nextStartX:wt}),re},[]),[i,oe,ve,te,ce,F]),ue=re=>{var Se;const ae=(Se=I.current)===null||Se===void 0?void 0:Se.getBoundingClientRect();if(!ae)return;const X=ae.x,Ae=ae.y+window.scrollY,qe=X+window.scrollX+w+5,tt=qe+(ae.width-w-5),ze=Ae+(ae.height-5-(g?R:0));if(re.pageX<qe||re.pageX>tt||re.pageY<Ae||re.pageY>ze)return console.log("out of bounds"),G({x:0,y:0});const lt=re.pageX-X-te/2-w-5,me=xe.reduce((Ce,Xe)=>Math.abs(Xe.startX-lt)<Math.abs(Ce.startX-lt)?Xe:Ce),_e=xe.findIndex(Ce=>Ce===me);G({x:me.startX,y:me.startY,data:{dataKey:me.name,name:me.name,value:me.value,color:d??Lt.Blue,className:ye(vt(d??Lt.Blue,Nt.text).textColor,z?"cursor-pointer":"cursor-default"),fill:"",payload:me},index:_e})};return E.createElement("div",Object.assign({ref:t,className:ye("tremor-wrapper relative w-full h-80",c)},T),i!=null&&i.length?E.createElement(E.Fragment,null,E.createElement("svg",{ref:I,xmlns:"http://www.w3.org/2000/svg",className:ye("w-full h-full"),onMouseMove:re=>{const Se={clientX:re.clientX,clientY:re.clientY,pageX:re.pageX,pageY:re.pageY};ue(Se)},onTouchMove:re=>{const Se=re.touches[0];ue(Se)},onMouseLeave:()=>G({x:0,y:0}),onTouchEnd:()=>G({x:0,y:0})},pvt.map((re,Se)=>E.createElement(E.Fragment,{key:`y-axis-${Se}`},m?E.createElement("line",{x1:w+5,y1:Se*oe/4+5,x2:$-5,y2:Se*oe/4+5,stroke:"currentColor",className:ye("stroke-1","stroke-tremor-border","dark:stroke-dark-tremor-border")}):null,E.createElement("text",{x:w-10+5,y:Se*oe/4+5+5,textAnchor:"end",fill:"",stroke:"",className:ye("text-tremor-label","fill-tremor-content","dark:fill-dark-tremor-content")},re))),xe.map((re,Se)=>{var ae,X;return E.createElement("g",{key:`bar-${Se}`},E.createElement("rect",{x:re.startX-.5*ce+5+w,y:5,width:te+ce,height:oe,fill:"currentColor",className:ye("z-0",H.index===Se?"text-[#d1d5db]/15":"text-transparent")}),o?E.createElement("rect",{x:re.startX+5+w,y:oe-(ve&&((ae=xe[Se-1])===null||ae===void 0?void 0:ae.barHeight)||oe)+5,width:te,height:(oe-re.barHeight-(ve&&oe-((X=xe[Se-1])===null||X===void 0?void 0:X.barHeight)||0))/(ne?2:1),fill:"url(#base-gradient)",className:ye(U&&U.index!==Se?"opacity-30":"")}):null,E.createElement("rect",{x:re.startX+5+w,y:(ne?oe/2-re.barHeight/2:re.startY)+5,width:te,height:re.barHeight,fill:"currentColor",className:ye(vt(d??Lt.Blue,Nt.text).textColor,U&&U.index!==Se?"opacity-30":"",z?"cursor-pointer":"cursor-default"),onClick:Ae=>function(qe,tt,ze){ze.stopPropagation(),z&&(tt===(U==null?void 0:U.index)?(ee(void 0),_(void 0)):(ee({data:qe,index:tt}),_({eventType:"bar",categoryClicked:qe.name,[qe.name]:qe.value,percentage:qe.normalizedValue})))}(re,Se,Ae)}),o&&ne?E.createElement("rect",{x:re.startX+5+w,y:oe/2+re.barHeight/2+5,width:te,height:(oe-re.barHeight)/2,fill:"url(#base-gradient-revert)",className:ye(U&&U.index!==Se?"opacity-30":"")}):null,g?E.createElement("foreignObject",{x:re.startX+5+w,y:oe+5+10,width:te,height:(P==null?void 0:P.xAxisHeight)||R,transform:P?`rotate(${P==null?void 0:P.angle}, ${re.startX+te/2+5+w}, ${oe+((P==null?void 0:P.xAxisHeight)||R)/2+5+((P==null?void 0:P.verticalShift)||0)})`:void 0},E.createElement("div",{className:ye("truncate text-center !text-tremor-label","text-tremor-content","dark:text-dark-tremor-content"),title:re.name},re.name)):null)}),xe.map((re,Se)=>E.createElement(E.Fragment,{key:`gradient-${Se}`},Se<i.length-1&&a?E.createElement(E.Fragment,null,ne?E.createElement(E.Fragment,null,E.createElement("polygon",{points:`
                                    ${re.startX+te+5+w}, ${oe/2+re.nextBarHeight/4+5}
                                    ${re.nextStartX+5+w}, ${oe/2+re.nextBarHeight/4+5}
                                    ${re.nextStartX+5+w}, ${oe/2-re.nextBarHeight/2+5}
                                    ${re.startX+te+5+w}, ${oe/2-re.barHeight/2+5}
                                  `,fill:"url(#base-gradient)",className:ye("z-10",U&&U.index!==Se?"opacity-30":"")}),E.createElement("polygon",{points:`
                                    ${re.startX+te+5+w}, ${oe/2+re.barHeight/2+5}
                                    ${re.nextStartX+5+w}, ${oe/2+re.nextBarHeight/2+5}
                                    ${re.nextStartX+5+w}, ${oe/2-re.nextBarHeight/4+5}
                                    ${re.startX+te+5+w}, ${oe/2-re.nextBarHeight/4+5}
                                  `,fill:"url(#base-gradient-revert)",className:ye("z-10",U&&U.index!==Se?"opacity-30":"")})):E.createElement("polygon",{points:`
                                  ${re.startX+te+5+w}, ${re.startY+5} 
                                  ${re.nextStartX+5+w}, ${oe-re.nextBarHeight+5} 
                                  ${re.nextStartX+5+w}, ${oe+5} 
                                  ${re.startX+te+5+w}, ${oe+5}
                                `,fill:"url(#base-gradient)",className:ye("z-10",U&&U.index!==Se?"opacity-30":"")})):null,Se<i.length-1&&g&&y&&ce>=14?E.createElement("foreignObject",{x:re.startX+te+5+w-6+ce/2,y:oe+5+11,width:12,height:(P==null?void 0:P.xAxisHeight)||R},E.createElement("div",{className:ye("text-tremor-content","dark:text-dark-tremor-content")},E.createElement(hge,{className:"size-3.5 shrink-0"}))):null)),E.createElement("linearGradient",{id:"base-gradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",className:ye(vt(d??Lt.Blue,Nt.text).textColor)},E.createElement("stop",{offset:"5%",stopColor:"currentColor",stopOpacity:.4}),E.createElement("stop",{offset:"95%",stopColor:"currentColor",stopOpacity:0})),E.createElement("linearGradient",{id:"base-gradient-revert",x1:"0%",y1:"0%",x2:"0%",y2:"100%",className:ye(vt(d??Lt.Blue,Nt.text).textColor)},E.createElement("stop",{offset:"5%",stopColor:"currentColor",stopOpacity:0}),E.createElement("stop",{offset:"95%",stopColor:"currentColor",stopOpacity:.4})),g&&v?E.createElement("text",{x:$/2+w/2,y:oe+5+50,style:{textAnchor:"middle"},fill:"",stroke:"",className:ye("text-tremor-default cursor-default font-medium","fill-tremor-content-emphasis","dark:fill-dark-tremor-content-emphasis")},v):null,h&&x?E.createElement("text",{x:-5,y:oe/2+10,textAnchor:"middle",style:{textAnchor:"middle"},transform:`rotate(-90, 0, ${oe/2})`,fill:"",stroke:"",className:ye("text-tremor-default cursor-default font-medium","fill-tremor-content-emphasis","dark:fill-dark-tremor-content-emphasis")},x):null),j?E.createElement("div",{ref:B,className:ye("absolute top-0 pointer-events-none",H.data?"visible":"hidden"),tabIndex:-1,role:"dialog",style:{left:H.x+.66*te}},D?E.createElement(D,{payload:H.data?[H.data]:[],active:!!H.data,label:(n=H.data)===null||n===void 0?void 0:n.name}):E.createElement(e8,null,E.createElement("div",{className:ye("border-tremor-border border-b px-4 py-2","dark:border-dark-tremor-border")},E.createElement("p",{className:ye("font-medium","text-tremor-content-emphasis","dark:text-dark-tremor-content-emphasis")},(r=H==null?void 0:H.data)===null||r===void 0?void 0:r.name)),E.createElement("div",{className:ye("px-4 py-2 space-y-1")},H.data?E.createElement(t8,{value:l(H.data.value),name:`${(100*H.data.payload.normalizedValue).toFixed(2)}%`,color:d??Lt.Blue}):null))):null):E.createElement(qh,{noDataText:k}))});gvt.displayName="FunnelChart";var wS=typeof document<"u"?b.useLayoutEffect:b.useEffect;function Hk(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!Hk(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const a=i[r];if(!(a==="_owner"&&e.$$typeof)&&!Hk(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function ZG(e){const t=b.useRef(e);return wS(()=>{t.current=e}),t}function vvt(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,whileElementsMounted:a,open:o}=e,[l,c]=b.useState({x:null,y:null,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[u,d]=b.useState(r);Hk(u,r)||d(r);const f=b.useRef(null),m=b.useRef(null),h=b.useRef(l),g=ZG(a),y=ZG(i),[v,x]=b.useState(null),[w,j]=b.useState(null),_=b.useCallback(R=>{f.current!==R&&(f.current=R,x(R))},[]),S=b.useCallback(R=>{m.current!==R&&(m.current=R,j(R))},[]),k=b.useCallback(()=>{if(!f.current||!m.current)return;const R={placement:t,strategy:n,middleware:u};y.current&&(R.platform=y.current),Poe(f.current,m.current,R).then(D=>{const I={...D,isPositioned:!0};P.current&&!Hk(h.current,I)&&(h.current=I,Er.flushSync(()=>{c(I)}))})},[u,t,n,y]);wS(()=>{o===!1&&h.current.isPositioned&&(h.current.isPositioned=!1,c(R=>({...R,isPositioned:!1})))},[o]);const P=b.useRef(!1);wS(()=>(P.current=!0,()=>{P.current=!1}),[]),wS(()=>{if(v&&w){if(g.current)return g.current(v,w,k);k()}},[v,w,k,g]);const M=b.useMemo(()=>({reference:f,floating:m,setReference:_,setFloating:S}),[_,S]),T=b.useMemo(()=>({reference:v,floating:w}),[v,w]);return b.useMemo(()=>({...l,update:k,refs:M,elements:T,reference:_,floating:S}),[l,k,M,T,_,S])}var Q2=typeof document<"u"?b.useLayoutEffect:b.useEffect;let rO=!1,xvt=0;const QG=()=>"floating-ui-"+xvt++;function yvt(){const[e,t]=b.useState(()=>rO?QG():void 0);return Q2(()=>{e==null&&t(QG())},[]),b.useEffect(()=>{rO||(rO=!0)},[]),e}const bvt=wh.useId,JG=bvt||yvt;function wvt(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(i=>i(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){e.set(t,(e.get(t)||[]).filter(r=>r!==n))}}}const jvt=b.createContext(null),Nvt=b.createContext(null),mge=()=>{var e;return((e=b.useContext(jvt))==null?void 0:e.id)||null},r8=()=>b.useContext(Nvt);function Vm(e){return(e==null?void 0:e.ownerDocument)||document}function _vt(){const e=navigator.userAgentData;return e!=null&&e.platform?e.platform:navigator.platform}function Svt(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:n,version:r}=t;return n+"/"+r}).join(" "):navigator.userAgent}function i8(e){return Vm(e).defaultView||window}function Xd(e){return e?e instanceof i8(e).Element:!1}function pge(e){return e?e instanceof i8(e).HTMLElement:!1}function kvt(e){if(typeof ShadowRoot>"u")return!1;const t=i8(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function Cvt(e){if(e.mozInputSource===0&&e.isTrusted)return!0;const t=/Android/i;return(t.test(_vt())||t.test(Svt()))&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function Evt(e){return e.width===0&&e.height===0||e.width===1&&e.height===1&&e.pressure===0&&e.detail===0&&e.pointerType!=="mouse"||e.width<1&&e.height<1&&e.pressure===0&&e.detail===0}function gge(e,t){const n=["mouse","pen"];return n.push("",void 0),n.includes(e)}function eY(e){const t=b.useRef(e);return Q2(()=>{t.current=e}),t}const tY="data-floating-ui-safe-polygon";function iO(e,t,n){return n&&!gge(n)?0:typeof e=="number"?e:e==null?void 0:e[t]}const Pvt=function(e,t){let{enabled:n=!0,delay:r=0,handleClose:i=null,mouseOnly:a=!1,restMs:o=0,move:l=!0}=t===void 0?{}:t;const{open:c,onOpenChange:u,dataRef:d,events:f,elements:{domReference:m,floating:h},refs:g}=e,y=r8(),v=mge(),x=eY(i),w=eY(r),j=b.useRef(),_=b.useRef(),S=b.useRef(),k=b.useRef(),P=b.useRef(!0),M=b.useRef(!1),T=b.useRef(()=>{}),R=b.useCallback(()=>{var $;const K=($=d.current.openEvent)==null?void 0:$.type;return(K==null?void 0:K.includes("mouse"))&&K!=="mousedown"},[d]);b.useEffect(()=>{if(!n)return;function $(){clearTimeout(_.current),clearTimeout(k.current),P.current=!0}return f.on("dismiss",$),()=>{f.off("dismiss",$)}},[n,f]),b.useEffect(()=>{if(!n||!x.current||!c)return;function $(){R()&&u(!1)}const K=Vm(h).documentElement;return K.addEventListener("mouseleave",$),()=>{K.removeEventListener("mouseleave",$)}},[h,c,u,n,x,d,R]);const D=b.useCallback(function($){$===void 0&&($=!0);const K=iO(w.current,"close",j.current);K&&!S.current?(clearTimeout(_.current),_.current=setTimeout(()=>u(!1),K)):$&&(clearTimeout(_.current),u(!1))},[w,u]),I=b.useCallback(()=>{T.current(),S.current=void 0},[]),B=b.useCallback(()=>{if(M.current){const $=Vm(g.floating.current).body;$.style.pointerEvents="",$.removeAttribute(tY),M.current=!1}},[g]);return b.useEffect(()=>{if(!n)return;function $(){return d.current.openEvent?["click","mousedown"].includes(d.current.openEvent.type):!1}function K(H){if(clearTimeout(_.current),P.current=!1,a&&!gge(j.current)||o>0&&iO(w.current,"open")===0)return;d.current.openEvent=H;const G=iO(w.current,"open",j.current);G?_.current=setTimeout(()=>{u(!0)},G):u(!0)}function Y(H){if($())return;T.current();const G=Vm(h);if(clearTimeout(k.current),x.current){c||clearTimeout(_.current),S.current=x.current({...e,tree:y,x:H.clientX,y:H.clientY,onClose(){B(),I(),D()}});const U=S.current;G.addEventListener("mousemove",U),T.current=()=>{G.removeEventListener("mousemove",U)};return}D()}function Q(H){$()||x.current==null||x.current({...e,tree:y,x:H.clientX,y:H.clientY,onClose(){B(),I(),D()}})(H)}if(Xd(m)){const H=m;return c&&H.addEventListener("mouseleave",Q),h==null||h.addEventListener("mouseleave",Q),l&&H.addEventListener("mousemove",K,{once:!0}),H.addEventListener("mouseenter",K),H.addEventListener("mouseleave",Y),()=>{c&&H.removeEventListener("mouseleave",Q),h==null||h.removeEventListener("mouseleave",Q),l&&H.removeEventListener("mousemove",K),H.removeEventListener("mouseenter",K),H.removeEventListener("mouseleave",Y)}}},[m,h,n,e,a,o,l,D,I,B,u,c,y,w,x,d]),Q2(()=>{var $;if(n&&c&&($=x.current)!=null&&$.__options.blockPointerEvents&&R()){const Q=Vm(h).body;if(Q.setAttribute(tY,""),Q.style.pointerEvents="none",M.current=!0,Xd(m)&&h){var K,Y;const H=m,G=y==null||(K=y.nodesRef.current.find(U=>U.id===v))==null||(Y=K.context)==null?void 0:Y.elements.floating;return G&&(G.style.pointerEvents=""),H.style.pointerEvents="auto",h.style.pointerEvents="auto",()=>{H.style.pointerEvents="",h.style.pointerEvents=""}}}},[n,c,v,h,m,y,x,d,R]),Q2(()=>{c||(j.current=void 0,I(),B())},[c,I,B]),b.useEffect(()=>()=>{I(),clearTimeout(_.current),clearTimeout(k.current),B()},[n,I,B]),b.useMemo(()=>{if(!n)return{};function $(K){j.current=K.pointerType}return{reference:{onPointerDown:$,onPointerEnter:$,onMouseMove(){c||o===0||(clearTimeout(k.current),k.current=setTimeout(()=>{P.current||u(!0)},o))}},floating:{onMouseEnter(){clearTimeout(_.current)},onMouseLeave(){f.emit("dismiss",{type:"mouseLeave",data:{returnFocus:!1}}),D(!1)}}}},[f,n,o,c,u,D])};function Avt(e){let t=e.activeElement;for(;((n=t)==null||(r=n.shadowRoot)==null?void 0:r.activeElement)!=null;){var n,r;t=t.shadowRoot.activeElement}return t}function nY(e,t){if(!e||!t)return!1;const n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&kvt(n)){let r=t;do{if(r&&e===r)return!0;r=r.parentNode||r.host}while(r)}return!1}function aO(e,t){let n=e.filter(i=>{var a;return i.parentId===t&&((a=i.context)==null?void 0:a.open)})||[],r=n;for(;r.length;)r=e.filter(i=>{var a;return(a=r)==null?void 0:a.some(o=>{var l;return i.parentId===o.id&&((l=i.context)==null?void 0:l.open)})})||[],n=n.concat(r);return n}function Tvt(e){return"composedPath"in e?e.composedPath()[0]:e.target}const Ovt=wh.useInsertionEffect,Lvt=Ovt||(e=>e());function vge(e){const t=b.useRef(()=>{});return Lvt(()=>{t.current=e}),b.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current==null?void 0:t.current(...r)},[])}function jS(e,t){if(t==null)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return n.target!=null&&t.contains(n.target)}const Mvt={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},Ivt={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},Dvt=function(e){var t,n;return e===void 0&&(e=!0),{escapeKeyBubbles:typeof e=="boolean"?e:(t=e.escapeKey)!=null?t:!0,outsidePressBubbles:typeof e=="boolean"?e:(n=e.outsidePress)!=null?n:!0}},Rvt=function(e,t){let{open:n,onOpenChange:r,events:i,nodeId:a,elements:{reference:o,domReference:l,floating:c},dataRef:u}=e,{enabled:d=!0,escapeKey:f=!0,outsidePress:m=!0,outsidePressEvent:h="pointerdown",referencePress:g=!1,referencePressEvent:y="pointerdown",ancestorScroll:v=!1,bubbles:x=!0}={};const w=r8(),j=mge()!=null,_=vge(typeof m=="function"?m:()=>!1),S=typeof m=="function"?_:m,k=b.useRef(!1),{escapeKeyBubbles:P,outsidePressBubbles:M}=Dvt(x);return b.useEffect(()=>{if(!n||!d)return;u.current.__escapeKeyBubbles=P,u.current.__outsidePressBubbles=M;function T($){if($.key==="Escape"){const K=w?aO(w.nodesRef.current,a):[];if(K.length>0){let Y=!0;if(K.forEach(Q=>{var H;if((H=Q.context)!=null&&H.open&&!Q.context.dataRef.current.__escapeKeyBubbles){Y=!1;return}}),!Y)return}i.emit("dismiss",{type:"escapeKey",data:{returnFocus:{preventScroll:!1}}}),r(!1)}}function R($){const K=k.current;if(k.current=!1,K||typeof S=="function"&&!S($))return;const Y=Tvt($);if(pge(Y)&&c){const G=c.ownerDocument.defaultView||window,U=Y.scrollWidth>Y.clientWidth,ee=Y.scrollHeight>Y.clientHeight;let z=ee&&$.offsetX>Y.clientWidth;if(ee&&G.getComputedStyle(Y).direction==="rtl"&&(z=$.offsetX<=Y.offsetWidth-Y.clientWidth),z||U&&$.offsetY>Y.clientHeight)return}const Q=w&&aO(w.nodesRef.current,a).some(G=>{var U;return jS($,(U=G.context)==null?void 0:U.elements.floating)});if(jS($,c)||jS($,l)||Q)return;const H=w?aO(w.nodesRef.current,a):[];if(H.length>0){let G=!0;if(H.forEach(U=>{var ee;if((ee=U.context)!=null&&ee.open&&!U.context.dataRef.current.__outsidePressBubbles){G=!1;return}}),!G)return}i.emit("dismiss",{type:"outsidePress",data:{returnFocus:j?{preventScroll:!0}:Cvt($)||Evt($)}}),r(!1)}function D(){r(!1)}const I=Vm(c);f&&I.addEventListener("keydown",T),S&&I.addEventListener(h,R);let B=[];return v&&(Xd(l)&&(B=ep(l)),Xd(c)&&(B=B.concat(ep(c))),!Xd(o)&&o&&o.contextElement&&(B=B.concat(ep(o.contextElement)))),B=B.filter($=>{var K;return $!==((K=I.defaultView)==null?void 0:K.visualViewport)}),B.forEach($=>{$.addEventListener("scroll",D,{passive:!0})}),()=>{f&&I.removeEventListener("keydown",T),S&&I.removeEventListener(h,R),B.forEach($=>{$.removeEventListener("scroll",D)})}},[u,c,l,o,f,S,h,i,w,a,n,r,v,d,P,M,j]),b.useEffect(()=>{k.current=!1},[S,h]),b.useMemo(()=>d?{reference:{[Mvt[y]]:()=>{g&&(i.emit("dismiss",{type:"referencePress",data:{returnFocus:!1}}),r(!1))}},floating:{[Ivt[h]]:()=>{k.current=!0}}}:{},[d,i,g,h,y,r])},$vt=function(e,t){let{open:n,onOpenChange:r,dataRef:i,events:a,refs:o,elements:{floating:l,domReference:c}}=e,{enabled:u=!0,keyboardOnly:d=!0}={};const f=b.useRef(""),m=b.useRef(!1),h=b.useRef();return b.useEffect(()=>{if(!u)return;const y=Vm(l).defaultView||window;function v(){!n&&pge(c)&&c===Avt(Vm(c))&&(m.current=!0)}return y.addEventListener("blur",v),()=>{y.removeEventListener("blur",v)}},[l,c,n,u]),b.useEffect(()=>{if(!u)return;function g(y){(y.type==="referencePress"||y.type==="escapeKey")&&(m.current=!0)}return a.on("dismiss",g),()=>{a.off("dismiss",g)}},[a,u]),b.useEffect(()=>()=>{clearTimeout(h.current)},[]),b.useMemo(()=>u?{reference:{onPointerDown(g){let{pointerType:y}=g;f.current=y,m.current=!!(y&&d)},onMouseLeave(){m.current=!1},onFocus(g){var y;m.current||g.type==="focus"&&((y=i.current.openEvent)==null?void 0:y.type)==="mousedown"&&i.current.openEvent&&jS(i.current.openEvent,c)||(i.current.openEvent=g.nativeEvent,r(!0))},onBlur(g){m.current=!1;const y=g.relatedTarget,v=Xd(y)&&y.hasAttribute("data-floating-ui-focus-guard")&&y.getAttribute("data-type")==="outside";h.current=setTimeout(()=>{nY(o.floating.current,y)||nY(c,y)||v||r(!1)})}}}:{},[u,d,c,o,i,r])},Fvt=function(e,t){let{open:n}=e,{enabled:r=!0,role:i="dialog"}=t===void 0?{}:t;const a=JG(),o=JG();return b.useMemo(()=>{const l={id:a,role:i};return r?i==="tooltip"?{reference:{"aria-describedby":n?a:void 0},floating:l}:{reference:{"aria-expanded":n?"true":"false","aria-haspopup":i==="alertdialog"?"dialog":i,"aria-controls":n?a:void 0,...i==="listbox"&&{role:"combobox"},...i==="menu"&&{id:o}},floating:{...l,...i==="menu"&&{"aria-labelledby":o}}}:{}},[r,i,n,a,o])};function Bvt(e){e===void 0&&(e={});const{open:t=!1,onOpenChange:n,nodeId:r}=e,i=vvt(e),a=r8(),o=b.useRef(null),l=b.useRef({}),c=b.useState(()=>wvt())[0],[u,d]=b.useState(null),f=b.useCallback(x=>{const w=Xd(x)?{getBoundingClientRect:()=>x.getBoundingClientRect(),contextElement:x}:x;i.refs.setReference(w)},[i.refs]),m=b.useCallback(x=>{(Xd(x)||x===null)&&(o.current=x,d(x)),(Xd(i.refs.reference.current)||i.refs.reference.current===null||x!==null&&!Xd(x))&&i.refs.setReference(x)},[i.refs]),h=b.useMemo(()=>({...i.refs,setReference:m,setPositionReference:f,domReference:o}),[i.refs,m,f]),g=b.useMemo(()=>({...i.elements,domReference:u}),[i.elements,u]),y=vge(n),v=b.useMemo(()=>({...i,refs:h,elements:g,dataRef:l,nodeId:r,events:c,open:t,onOpenChange:y}),[i,r,c,t,y,h,g]);return Q2(()=>{const x=a==null?void 0:a.nodesRef.current.find(w=>w.id===r);x&&(x.context=v)}),b.useMemo(()=>({...i,context:v,refs:h,reference:m,positionReference:f}),[i,h,v,m,f])}function sO(e,t,n){const r=new Map;return{...n==="floating"&&{tabIndex:-1},...e,...t.map(i=>i?i[n]:null).concat(e).reduce((i,a)=>(a&&Object.entries(a).forEach(o=>{let[l,c]=o;if(l.indexOf("on")===0){if(r.has(l)||r.set(l,[]),typeof c=="function"){var u;(u=r.get(l))==null||u.push(c),i[l]=function(){for(var d,f=arguments.length,m=new Array(f),h=0;h<f;h++)m[h]=arguments[h];(d=r.get(l))==null||d.forEach(g=>g(...m))}}}else i[l]=c}),i),{})}}const zvt=function(e){e===void 0&&(e=[]);const t=e,n=b.useCallback(a=>sO(a,e,"reference"),t),r=b.useCallback(a=>sO(a,e,"floating"),t),i=b.useCallback(a=>sO(a,e,"item"),e.map(a=>a==null?void 0:a.item));return b.useMemo(()=>({getReferenceProps:n,getFloatingProps:r,getItemProps:i}),[n,r,i])},lu=e=>{const[t,n]=b.useState(!1),[r,i]=b.useState(),{x:a,y:o,refs:l,strategy:c,context:u}=Bvt({open:t,onOpenChange:v=>{if(v&&e){const x=setTimeout(()=>{n(v)},e);i(x)}else clearTimeout(r),n(v)},placement:"top",whileElementsMounted:t$,middleware:[koe(5),Eoe({fallbackAxisSideDirection:"start"}),Coe()]}),d=Pvt(u,{move:!1}),f=$vt(u),m=Rvt(u),h=Fvt(u,{role:"tooltip"}),{getReferenceProps:g,getFloatingProps:y}=zvt([d,f,m,h]);return{tooltipProps:{open:t,x:a,y:o,refs:l,strategy:c,getFloatingProps:y},getReferenceProps:g}},vc=({text:e,open:t,x:n,y:r,refs:i,strategy:a,getFloatingProps:o})=>t&&e?E.createElement("div",Object.assign({className:ye("max-w-xs text-sm z-20 rounded-tremor-default opacity-100 px-2.5 py-1","text-white bg-tremor-background-emphasis","dark:text-tremor-content-emphasis dark:bg-white"),ref:i.setFloating,style:{position:a,top:r??0,left:n??0}},o()),e):null;vc.displayName="Tooltip";const oO={xs:{paddingX:"px-2",paddingY:"py-0.5",fontSize:"text-xs"},sm:{paddingX:"px-2.5",paddingY:"py-0.5",fontSize:"text-sm"},md:{paddingX:"px-3",paddingY:"py-0.5",fontSize:"text-md"},lg:{paddingX:"px-3.5",paddingY:"py-0.5",fontSize:"text-lg"},xl:{paddingX:"px-4",paddingY:"py-1",fontSize:"text-xl"}},rY={xs:{height:"h-4",width:"w-4"},sm:{height:"h-4",width:"w-4"},md:{height:"h-4",width:"w-4"},lg:{height:"h-5",width:"w-5"},xl:{height:"h-6",width:"w-6"}},lO=hn("Badge"),Vvt=E.forwardRef((e,t)=>{const{color:n,icon:r,size:i=AP.SM,tooltip:a,className:o,children:l}=e,c=ht(e,["color","icon","size","tooltip","className","children"]),u=r||null,{tooltipProps:d,getReferenceProps:f}=lu();return E.createElement("span",Object.assign({ref:Vh([t,d.refs.setReference]),className:ye(lO("root"),"w-max shrink-0 inline-flex justify-center items-center cursor-default rounded-tremor-small ring-1 ring-inset",n?ye(vt(n,Nt.background).bgColor,vt(n,Nt.iconText).textColor,vt(n,Nt.iconRing).ringColor,"bg-opacity-10 ring-opacity-20","dark:bg-opacity-5 dark:ring-opacity-60"):ye("bg-tremor-brand-faint text-tremor-brand-emphasis ring-tremor-brand/20","dark:bg-dark-tremor-brand-muted/50 dark:text-dark-tremor-brand dark:ring-dark-tremor-subtle/20"),oO[i].paddingX,oO[i].paddingY,oO[i].fontSize,o)},f,c),E.createElement(vc,Object.assign({text:a},d)),u?E.createElement(u,{className:ye(lO("icon"),"shrink-0 -ml-1 mr-1.5",rY[i].height,rY[i].width)}):null,E.createElement("span",{className:ye(lO("text"),"whitespace-nowrap")},l))});Vvt.displayName="Badge";const qvt=e=>{var t=ht(e,[]);return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},t),E.createElement("path",{d:"M13.0001 16.1716L18.3641 10.8076L19.7783 12.2218L12.0001 20L4.22192 12.2218L5.63614 10.8076L11.0001 16.1716V4H13.0001V16.1716Z"}))},Uvt=e=>{var t=ht(e,[]);return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},t),E.createElement("path",{d:"M14.5895 16.0032L5.98291 7.39664L7.39712 5.98242L16.0037 14.589V7.00324H18.0037V18.0032H7.00373V16.0032H14.5895Z"}))},Wvt=e=>{var t=ht(e,[]);return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},t),E.createElement("path",{d:"M13.0001 7.82843V20H11.0001V7.82843L5.63614 13.1924L4.22192 11.7782L12.0001 4L19.7783 11.7782L18.3641 13.1924L13.0001 7.82843Z"}))},Hvt=e=>{var t=ht(e,[]);return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},t),E.createElement("path",{d:"M16.0037 9.41421L7.39712 18.0208L5.98291 16.6066L14.5895 8H7.00373V6H18.0037V17H16.0037V9.41421Z"}))},Kvt={xs:{paddingX:"px-2",paddingY:"py-0.5",fontSize:"text-xs"},sm:{paddingX:"px-2.5",paddingY:"py-1",fontSize:"text-sm"},md:{paddingX:"px-3",paddingY:"py-1.5",fontSize:"text-md"},lg:{paddingX:"px-3.5",paddingY:"py-1.5",fontSize:"text-lg"},xl:{paddingX:"px-3.5",paddingY:"py-1.5",fontSize:"text-xl"}},Gvt={xs:{paddingX:"px-2",paddingY:"py-0.5",fontSize:"text-xs"},sm:{paddingX:"px-2.5",paddingY:"py-0.5",fontSize:"text-sm"},md:{paddingX:"px-3",paddingY:"py-0.5",fontSize:"text-md"},lg:{paddingX:"px-3.5",paddingY:"py-0.5",fontSize:"text-lg"},xl:{paddingX:"px-4",paddingY:"py-1",fontSize:"text-xl"}},iY={xs:{height:"h-4",width:"w-4"},sm:{height:"h-4",width:"w-4"},md:{height:"h-4",width:"w-4"},lg:{height:"h-5",width:"w-5"},xl:{height:"h-6",width:"w-6"}},cO={[di.Increase]:{bgColor:vt(Lt.Emerald,Nt.background).bgColor,textColor:vt(Lt.Emerald,Nt.iconText).textColor,ringColor:vt(Lt.Emerald,Nt.iconRing).ringColor},[di.ModerateIncrease]:{bgColor:vt(Lt.Emerald,Nt.background).bgColor,textColor:vt(Lt.Emerald,Nt.iconText).textColor,ringColor:vt(Lt.Emerald,Nt.iconRing).ringColor},[di.Decrease]:{bgColor:vt(Lt.Red,Nt.background).bgColor,textColor:vt(Lt.Red,Nt.iconText).textColor,ringColor:vt(Lt.Red,Nt.iconRing).ringColor},[di.ModerateDecrease]:{bgColor:vt(Lt.Red,Nt.background).bgColor,textColor:vt(Lt.Red,Nt.iconText).textColor,ringColor:vt(Lt.Red,Nt.iconRing).ringColor},[di.Unchanged]:{bgColor:vt(Lt.Orange,Nt.background).bgColor,textColor:vt(Lt.Orange,Nt.iconText).textColor,ringColor:vt(Lt.Orange,Nt.iconRing).ringColor}},Yvt={[di.Increase]:Wvt,[di.ModerateIncrease]:Hvt,[di.Decrease]:qvt,[di.ModerateDecrease]:Uvt,[di.Unchanged]:hge},uO=hn("BadgeDelta"),WI=E.forwardRef((e,t)=>{const{deltaType:n=di.Increase,isIncreasePositive:r=!0,size:i=AP.SM,tooltip:a,children:o,className:l}=e,c=ht(e,["deltaType","isIncreasePositive","size","tooltip","children","className"]),u=Yvt[n],d=dge(n,r),f=o?Gvt:Kvt,{tooltipProps:m,getReferenceProps:h}=lu();return E.createElement("span",Object.assign({ref:Vh([t,m.refs.setReference]),className:ye(uO("root"),"w-max shrink-0 inline-flex justify-center items-center cursor-default rounded-tremor-small ring-1 ring-inset",cO[d].bgColor,cO[d].textColor,cO[d].ringColor,f[i].paddingX,f[i].paddingY,f[i].fontSize,"bg-opacity-10 ring-opacity-20","dark:bg-opacity-5 dark:ring-opacity-60",l)},h,c),E.createElement(vc,Object.assign({text:a},m)),E.createElement(u,{className:ye(uO("icon"),"shrink-0",o?ye("-ml-1 mr-1.5"):iY[i].height,iY[i].width)}),o?E.createElement("span",{className:ye(uO("text"),"whitespace-nowrap")},o):null)});WI.displayName="BadgeDelta";const aY={xs:{paddingX:"px-1.5",paddingY:"py-1.5"},sm:{paddingX:"px-1.5",paddingY:"py-1.5"},md:{paddingX:"px-2",paddingY:"py-2"},lg:{paddingX:"px-2",paddingY:"py-2"},xl:{paddingX:"px-2.5",paddingY:"py-2.5"}},sY={xs:{height:"h-3",width:"w-3"},sm:{height:"h-5",width:"w-5"},md:{height:"h-5",width:"w-5"},lg:{height:"h-7",width:"w-7"},xl:{height:"h-9",width:"w-9"}},P_={simple:{rounded:"",border:"",ring:"",shadow:""},light:{rounded:"rounded-tremor-default",border:"",ring:"",shadow:""},shadow:{rounded:"rounded-tremor-default",border:"border",ring:"",shadow:"shadow-tremor-card dark:shadow-dark-tremor-card"},solid:{rounded:"rounded-tremor-default",border:"border-2",ring:"ring-1",shadow:""},outlined:{rounded:"rounded-tremor-default",border:"border",ring:"ring-2",shadow:""}},Xvt=(e,t)=>{switch(e){case"simple":return{textColor:t?vt(t,Nt.text).textColor:"text-tremor-brand dark:text-dark-tremor-brand",bgColor:"",borderColor:"",ringColor:""};case"light":return{textColor:t?vt(t,Nt.text).textColor:"text-tremor-brand dark:text-dark-tremor-brand",bgColor:t?ye(vt(t,Nt.background).bgColor,"bg-opacity-20"):"bg-tremor-brand-muted dark:bg-dark-tremor-brand-muted",borderColor:"",ringColor:""};case"shadow":return{textColor:t?vt(t,Nt.text).textColor:"text-tremor-brand dark:text-dark-tremor-brand",bgColor:t?ye(vt(t,Nt.background).bgColor,"bg-opacity-20"):"bg-tremor-background dark:bg-dark-tremor-background",borderColor:"border-tremor-border dark:border-dark-tremor-border",ringColor:""};case"solid":return{textColor:t?vt(t,Nt.text).textColor:"text-tremor-brand-inverted dark:text-dark-tremor-brand-inverted",bgColor:t?ye(vt(t,Nt.background).bgColor,"bg-opacity-20"):"bg-tremor-brand dark:bg-dark-tremor-brand",borderColor:"border-tremor-brand-inverted dark:border-dark-tremor-brand-inverted",ringColor:"ring-tremor-ring dark:ring-dark-tremor-ring"};case"outlined":return{textColor:t?vt(t,Nt.text).textColor:"text-tremor-brand dark:text-dark-tremor-brand",bgColor:t?ye(vt(t,Nt.background).bgColor,"bg-opacity-20"):"bg-tremor-background dark:bg-dark-tremor-background",borderColor:t?vt(t,Nt.ring).borderColor:"border-tremor-brand-subtle dark:border-dark-tremor-brand-subtle",ringColor:t?ye(vt(t,Nt.ring).ringColor,"ring-opacity-40"):"ring-tremor-brand-muted dark:ring-dark-tremor-brand-muted"}}},oY=hn("Icon"),Zvt={Simple:"simple"},xge=E.forwardRef((e,t)=>{const{icon:n,variant:r=Zvt.Simple,tooltip:i,size:a=AP.SM,color:o,className:l}=e,c=ht(e,["icon","variant","tooltip","size","color","className"]),u=n,d=Xvt(r,o),{tooltipProps:f,getReferenceProps:m}=lu();return E.createElement("span",Object.assign({ref:Vh([t,f.refs.setReference]),className:ye(oY("root"),"inline-flex shrink-0 items-center justify-center",d.bgColor,d.textColor,d.borderColor,d.ringColor,P_[r].rounded,P_[r].border,P_[r].shadow,P_[r].ring,aY[a].paddingX,aY[a].paddingY,l)},m,c),E.createElement(vc,Object.assign({text:i},f)),E.createElement(u,{className:ye(oY("icon"),"shrink-0",sY[a].height,sY[a].width)}))});xge.displayName="Icon";const HI=0,KI=1,Kk=2,Gk=3,Yk=4,Qvt=5,yge=6,Jvt=["preEnter","entering","entered","preExit","exiting","exited","unmounted"],bge=e=>({_s:e,status:Jvt[e],isEnter:e<Gk,isMounted:e!==yge,isResolved:e===Kk||e>Yk}),GI=e=>e?yge:Qvt,ext=(e,t)=>{switch(e){case KI:case HI:return Kk;case Yk:case Gk:return GI(t)}},txt=e=>typeof e=="object"?[e.enter,e.exit]:[e,e],YI=setTimeout,nxt=(e,t)=>YI(()=>{isNaN(document.body.offsetTop)||e(t+1)},0),lY=(e,t,n,r,i)=>{clearTimeout(r.current);const a=bge(e);t(a),n.current=a,i&&i({current:a})},rxt=({enter:e=!0,exit:t=!0,preEnter:n,preExit:r,timeout:i,initialEntered:a,mountOnEnter:o,unmountOnExit:l,onStateChange:c}={})=>{const[u,d]=b.useState(()=>bge(a?Kk:GI(o))),f=b.useRef(u),m=b.useRef(0),[h,g]=txt(i),y=b.useCallback(()=>{const v=ext(f.current._s,l);v&&lY(v,d,f,m,c)},[c,l]);return[u,b.useCallback(v=>{const x=j=>{switch(lY(j,d,f,m,c),j){case KI:h>=0&&(m.current=YI(y,h));break;case Yk:g>=0&&(m.current=YI(y,g));break;case HI:case Gk:m.current=nxt(x,j);break}},w=f.current.isEnter;typeof v!="boolean"&&(v=!w),v?!w&&x(e?n?HI:KI:Kk):w&&x(t?r?Gk:Yk:GI(l))},[y,c,e,t,n,r,h,g,l]),y]},ixt=e=>{var t=ht(e,[]);return E.createElement("svg",Object.assign({},t,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"}),E.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),E.createElement("path",{d:"M18.364 5.636L16.95 7.05A7 7 0 1 0 19 12h2a9 9 0 1 1-2.636-6.364z"}))},cY={xs:{height:"h-4",width:"w-4"},sm:{height:"h-5",width:"w-5"},md:{height:"h-5",width:"w-5"},lg:{height:"h-6",width:"w-6"},xl:{height:"h-6",width:"w-6"}},axt=e=>e!=="light"?{xs:{paddingX:"px-2.5",paddingY:"py-1.5",fontSize:"text-xs"},sm:{paddingX:"px-4",paddingY:"py-2",fontSize:"text-sm"},md:{paddingX:"px-4",paddingY:"py-2",fontSize:"text-md"},lg:{paddingX:"px-4",paddingY:"py-2.5",fontSize:"text-lg"},xl:{paddingX:"px-4",paddingY:"py-3",fontSize:"text-xl"}}:{xs:{paddingX:"",paddingY:"",fontSize:"text-xs"},sm:{paddingX:"",paddingY:"",fontSize:"text-sm"},md:{paddingX:"",paddingY:"",fontSize:"text-md"},lg:{paddingX:"",paddingY:"",fontSize:"text-lg"},xl:{paddingX:"",paddingY:"",fontSize:"text-xl"}},A_=(e,t)=>{switch(e){case"primary":return{textColor:t?vt("white").textColor:"text-tremor-brand-inverted dark:text-dark-tremor-brand-inverted",hoverTextColor:t?vt("white").textColor:"text-tremor-brand-inverted dark:text-dark-tremor-brand-inverted",bgColor:t?vt(t,Nt.background).bgColor:"bg-tremor-brand dark:bg-dark-tremor-brand",hoverBgColor:t?vt(t,Nt.darkBackground).hoverBgColor:"hover:bg-tremor-brand-emphasis dark:hover:bg-dark-tremor-brand-emphasis",borderColor:t?vt(t,Nt.border).borderColor:"border-tremor-brand dark:border-dark-tremor-brand",hoverBorderColor:t?vt(t,Nt.darkBorder).hoverBorderColor:"hover:border-tremor-brand-emphasis dark:hover:border-dark-tremor-brand-emphasis"};case"secondary":return{textColor:t?vt(t,Nt.text).textColor:"text-tremor-brand dark:text-dark-tremor-brand",hoverTextColor:t?vt(t,Nt.text).textColor:"hover:text-tremor-brand-emphasis dark:hover:text-dark-tremor-brand-emphasis",bgColor:vt("transparent").bgColor,hoverBgColor:t?ye(vt(t,Nt.background).hoverBgColor,"hover:bg-opacity-20 dark:hover:bg-opacity-20"):"hover:bg-tremor-brand-faint dark:hover:bg-dark-tremor-brand-faint",borderColor:t?vt(t,Nt.border).borderColor:"border-tremor-brand dark:border-dark-tremor-brand"};case"light":return{textColor:t?vt(t,Nt.text).textColor:"text-tremor-brand dark:text-dark-tremor-brand",hoverTextColor:t?vt(t,Nt.darkText).hoverTextColor:"hover:text-tremor-brand-emphasis dark:hover:text-dark-tremor-brand-emphasis",bgColor:vt("transparent").bgColor,borderColor:"",hoverBorderColor:""}}},Xk=hn("Button"),uY=({loading:e,iconSize:t,iconPosition:n,Icon:r,needMargin:i,transitionStatus:a})=>{const o=i?n===xy.Left?ye("-ml-1","mr-1.5"):ye("-mr-1","ml-1.5"):"",l=ye("w-0 h-0"),c={default:l,entering:l,entered:t,exiting:t,exited:l};return e?E.createElement(ixt,{className:ye(Xk("icon"),"animate-spin shrink-0",o,c.default,c[a]),style:{transition:"width 150ms"}}):E.createElement(r,{className:ye(Xk("icon"),"shrink-0",t,o)})},XI=E.forwardRef((e,t)=>{const{icon:n,iconPosition:r=xy.Left,size:i=AP.SM,color:a,variant:o="primary",disabled:l,loading:c=!1,loadingText:u,children:d,tooltip:f,className:m}=e,h=ht(e,["icon","iconPosition","size","color","variant","disabled","loading","loadingText","children","tooltip","className"]),g=n,y=c||l,v=g!==void 0||c,x=c&&u,w=!(!d&&!x),j=ye(cY[i].height,cY[i].width),_=o!=="light"?ye("rounded-tremor-default border","shadow-tremor-input","dark:shadow-dark-tremor-input"):"",S=A_(o,a),k=axt(o)[i],{tooltipProps:P,getReferenceProps:M}=lu(300),[T,R]=rxt({timeout:50});return b.useEffect(()=>{R(c)},[c]),E.createElement("button",Object.assign({ref:Vh([t,P.refs.setReference]),className:ye(Xk("root"),"shrink-0 inline-flex justify-center items-center group font-medium outline-none",_,k.paddingX,k.paddingY,k.fontSize,S.textColor,S.bgColor,S.borderColor,S.hoverBorderColor,y?"opacity-50 cursor-not-allowed":ye(A_(o,a).hoverTextColor,A_(o,a).hoverBgColor,A_(o,a).hoverBorderColor),m),disabled:y},M,h),E.createElement(vc,Object.assign({text:f},P)),v&&r!==xy.Right?E.createElement(uY,{loading:c,iconSize:j,iconPosition:r,Icon:g,transitionStatus:T.status,needMargin:w}):null,x||d?E.createElement("span",{className:ye(Xk("text"),"text-tremor-default whitespace-nowrap")},x?u:d):null,v&&r===xy.Right?E.createElement(uY,{loading:c,iconSize:j,iconPosition:r,Icon:g,transitionStatus:T.status,needMargin:w}):null)});XI.displayName="Button";const wge=typeof document<"u"?E.useLayoutEffect:()=>{};function sxt(e){const t=b.useRef(null);return wge(()=>{t.current=e},[e]),b.useCallback((...n)=>{const r=t.current;return r==null?void 0:r(...n)},[])}const qj=e=>{var t;return(t=e==null?void 0:e.ownerDocument)!==null&&t!==void 0?t:document},qg=e=>e&&"window"in e&&e.window===e?e:qj(e).defaultView||window;function oxt(e){var t;return typeof window>"u"||window.navigator==null?!1:((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.brands.some(n=>e.test(n.brand)))||e.test(window.navigator.userAgent)}function lxt(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function jge(e){let t=null;return()=>(t==null&&(t=e()),t)}const cxt=jge(function(){return lxt(/^Mac/i)}),uxt=jge(function(){return oxt(/Android/i)});function dxt(e){return e.mozInputSource===0&&e.isTrusted?!0:uxt()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}class fxt{isDefaultPrevented(){return this.nativeEvent.defaultPrevented}preventDefault(){this.defaultPrevented=!0,this.nativeEvent.preventDefault()}stopPropagation(){this.nativeEvent.stopPropagation(),this.isPropagationStopped=()=>!0}isPropagationStopped(){return!1}persist(){}constructor(t,n){this.nativeEvent=n,this.target=n.target,this.currentTarget=n.currentTarget,this.relatedTarget=n.relatedTarget,this.bubbles=n.bubbles,this.cancelable=n.cancelable,this.defaultPrevented=n.defaultPrevented,this.eventPhase=n.eventPhase,this.isTrusted=n.isTrusted,this.timeStamp=n.timeStamp,this.type=t}}function Nge(e){let t=b.useRef({isFocused:!1,observer:null});wge(()=>{const r=t.current;return()=>{r.observer&&(r.observer.disconnect(),r.observer=null)}},[]);let n=sxt(r=>{e==null||e(r)});return b.useCallback(r=>{if(r.target instanceof HTMLButtonElement||r.target instanceof HTMLInputElement||r.target instanceof HTMLTextAreaElement||r.target instanceof HTMLSelectElement){t.current.isFocused=!0;let i=r.target,a=o=>{t.current.isFocused=!1,i.disabled&&n(new fxt("blur",o)),t.current.observer&&(t.current.observer.disconnect(),t.current.observer=null)};i.addEventListener("focusout",a,{once:!0}),t.current.observer=new MutationObserver(()=>{if(t.current.isFocused&&i.disabled){var o;(o=t.current.observer)===null||o===void 0||o.disconnect();let l=i===document.activeElement?null:document.activeElement;i.dispatchEvent(new FocusEvent("blur",{relatedTarget:l})),i.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:l}))}}),t.current.observer.observe(i,{attributes:!0,attributeFilter:["disabled"]})}},[n])}function hxt(e){let{isDisabled:t,onFocus:n,onBlur:r,onFocusChange:i}=e;const a=b.useCallback(c=>{if(c.target===c.currentTarget)return r&&r(c),i&&i(!1),!0},[r,i]),o=Nge(a),l=b.useCallback(c=>{const u=qj(c.target);c.target===c.currentTarget&&u.activeElement===c.target&&(n&&n(c),i&&i(!0),o(c))},[i,n,o]);return{focusProps:{onFocus:!t&&(n||i||r)?l:void 0,onBlur:!t&&(r||i)?a:void 0}}}let Uj=null,ZI=new Set,ew=new Map,jv=!1,QI=!1;const mxt={Tab:!0,Escape:!0};function a8(e,t){for(let n of ZI)n(e,t)}function pxt(e){return!(e.metaKey||!cxt()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function Zk(e){jv=!0,pxt(e)&&(Uj="keyboard",a8("keyboard",e))}function Gc(e){Uj="pointer",(e.type==="mousedown"||e.type==="pointerdown")&&(jv=!0,a8("pointer",e))}function _ge(e){dxt(e)&&(jv=!0,Uj="virtual")}function Sge(e){e.target===window||e.target===document||(!jv&&!QI&&(Uj="virtual",a8("virtual",e)),jv=!1,QI=!1)}function kge(){jv=!1,QI=!0}function JI(e){if(typeof window>"u"||ew.get(qg(e)))return;const t=qg(e),n=qj(e);let r=t.HTMLElement.prototype.focus;t.HTMLElement.prototype.focus=function(){jv=!0,r.apply(this,arguments)},n.addEventListener("keydown",Zk,!0),n.addEventListener("keyup",Zk,!0),n.addEventListener("click",_ge,!0),t.addEventListener("focus",Sge,!0),t.addEventListener("blur",kge,!1),typeof PointerEvent<"u"?(n.addEventListener("pointerdown",Gc,!0),n.addEventListener("pointermove",Gc,!0),n.addEventListener("pointerup",Gc,!0)):(n.addEventListener("mousedown",Gc,!0),n.addEventListener("mousemove",Gc,!0),n.addEventListener("mouseup",Gc,!0)),t.addEventListener("beforeunload",()=>{Cge(e)},{once:!0}),ew.set(t,{focus:r})}const Cge=(e,t)=>{const n=qg(e),r=qj(e);t&&r.removeEventListener("DOMContentLoaded",t),ew.has(n)&&(n.HTMLElement.prototype.focus=ew.get(n).focus,r.removeEventListener("keydown",Zk,!0),r.removeEventListener("keyup",Zk,!0),r.removeEventListener("click",_ge,!0),n.removeEventListener("focus",Sge,!0),n.removeEventListener("blur",kge,!1),typeof PointerEvent<"u"?(r.removeEventListener("pointerdown",Gc,!0),r.removeEventListener("pointermove",Gc,!0),r.removeEventListener("pointerup",Gc,!0)):(r.removeEventListener("mousedown",Gc,!0),r.removeEventListener("mousemove",Gc,!0),r.removeEventListener("mouseup",Gc,!0)),ew.delete(n))};function gxt(e){const t=qj(e);let n;return t.readyState!=="loading"?JI(e):(n=()=>{JI(e)},t.addEventListener("DOMContentLoaded",n)),()=>Cge(e,n)}typeof document<"u"&&gxt();function Ege(){return Uj!=="pointer"}const vxt=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function xxt(e,t,n){var r;const i=typeof window<"u"?qg(n==null?void 0:n.target).HTMLInputElement:HTMLInputElement,a=typeof window<"u"?qg(n==null?void 0:n.target).HTMLTextAreaElement:HTMLTextAreaElement,o=typeof window<"u"?qg(n==null?void 0:n.target).HTMLElement:HTMLElement,l=typeof window<"u"?qg(n==null?void 0:n.target).KeyboardEvent:KeyboardEvent;return e=e||(n==null?void 0:n.target)instanceof i&&!vxt.has(n==null||(r=n.target)===null||r===void 0?void 0:r.type)||(n==null?void 0:n.target)instanceof a||(n==null?void 0:n.target)instanceof o&&(n==null?void 0:n.target.isContentEditable),!(e&&t==="keyboard"&&n instanceof l&&!mxt[n.key])}function yxt(e,t,n){JI(),b.useEffect(()=>{let r=(i,a)=>{xxt(!!(n!=null&&n.isTextInput),i,a)&&e(Ege())};return ZI.add(r),()=>{ZI.delete(r)}},t)}function bxt(e){let{isDisabled:t,onBlurWithin:n,onFocusWithin:r,onFocusWithinChange:i}=e,a=b.useRef({isFocusWithin:!1}),o=b.useCallback(u=>{a.current.isFocusWithin&&!u.currentTarget.contains(u.relatedTarget)&&(a.current.isFocusWithin=!1,n&&n(u),i&&i(!1))},[n,i,a]),l=Nge(o),c=b.useCallback(u=>{!a.current.isFocusWithin&&document.activeElement===u.target&&(r&&r(u),i&&i(!0),a.current.isFocusWithin=!0,l(u))},[r,i,l]);return t?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:c,onBlur:o}}}let Qk=!1,dO=0;function eD(){Qk=!0,setTimeout(()=>{Qk=!1},50)}function dY(e){e.pointerType==="touch"&&eD()}function wxt(){if(!(typeof document>"u"))return typeof PointerEvent<"u"?document.addEventListener("pointerup",dY):document.addEventListener("touchend",eD),dO++,()=>{dO--,!(dO>0)&&(typeof PointerEvent<"u"?document.removeEventListener("pointerup",dY):document.removeEventListener("touchend",eD))}}function Fv(e){let{onHoverStart:t,onHoverChange:n,onHoverEnd:r,isDisabled:i}=e,[a,o]=b.useState(!1),l=b.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;b.useEffect(wxt,[]);let{hoverProps:c,triggerHoverEnd:u}=b.useMemo(()=>{let d=(h,g)=>{if(l.pointerType=g,i||g==="touch"||l.isHovered||!h.currentTarget.contains(h.target))return;l.isHovered=!0;let y=h.currentTarget;l.target=y,t&&t({type:"hoverstart",target:y,pointerType:g}),n&&n(!0),o(!0)},f=(h,g)=>{if(l.pointerType="",l.target=null,g==="touch"||!l.isHovered)return;l.isHovered=!1;let y=h.currentTarget;r&&r({type:"hoverend",target:y,pointerType:g}),n&&n(!1),o(!1)},m={};return typeof PointerEvent<"u"?(m.onPointerEnter=h=>{Qk&&h.pointerType==="mouse"||d(h,h.pointerType)},m.onPointerLeave=h=>{!i&&h.currentTarget.contains(h.target)&&f(h,h.pointerType)}):(m.onTouchStart=()=>{l.ignoreEmulatedMouseEvents=!0},m.onMouseEnter=h=>{!l.ignoreEmulatedMouseEvents&&!Qk&&d(h,"mouse"),l.ignoreEmulatedMouseEvents=!1},m.onMouseLeave=h=>{!i&&h.currentTarget.contains(h.target)&&f(h,"mouse")}),{hoverProps:m,triggerHoverEnd:f}},[t,n,r,i,l]);return b.useEffect(()=>{i&&u({currentTarget:l.target},l.pointerType)},[i]),{hoverProps:c,isHovered:a}}function zp(e={}){let{autoFocus:t=!1,isTextInput:n,within:r}=e,i=b.useRef({isFocused:!1,isFocusVisible:t||Ege()}),[a,o]=b.useState(!1),[l,c]=b.useState(()=>i.current.isFocused&&i.current.isFocusVisible),u=b.useCallback(()=>c(i.current.isFocused&&i.current.isFocusVisible),[]),d=b.useCallback(h=>{i.current.isFocused=h,o(h),u()},[u]);yxt(h=>{i.current.isFocusVisible=h,u()},[],{isTextInput:n});let{focusProps:f}=hxt({isDisabled:r,onFocusChange:d}),{focusWithinProps:m}=bxt({isDisabled:!r,onFocusWithinChange:d});return{isFocused:a,isFocusVisible:l,focusProps:r?m:f}}var jxt=Object.defineProperty,Nxt=(e,t,n)=>t in e?jxt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,fO=(e,t,n)=>(Nxt(e,typeof t!="symbol"?t+"":t,n),n);let _xt=class{constructor(){fO(this,"current",this.detect()),fO(this,"handoffState","pending"),fO(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},Qg=new _xt;function kf(e){return Qg.isServer?null:e instanceof Node?e.ownerDocument:e!=null&&e.hasOwnProperty("current")&&e.current instanceof Node?e.current.ownerDocument:document}function Wj(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function od(){let e=[],t={addEventListener(n,r,i,a){return n.addEventListener(r,i,a),t.add(()=>n.removeEventListener(r,i,a))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return t.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return t.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return Wj(()=>{r.current&&n[0]()}),t.add(()=>{r.current=!1})},style(n,r,i){let a=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:i}),this.add(()=>{Object.assign(n.style,{[r]:a})})},group(n){let r=od();return n(r),this.add(()=>r.dispose())},add(n){return e.includes(n)||e.push(n),()=>{let r=e.indexOf(n);if(r>=0)for(let i of e.splice(r,1))i()}},dispose(){for(let n of e.splice(0))n()}};return t}function Cf(){let[e]=b.useState(od);return b.useEffect(()=>()=>e.dispose(),[e]),e}let or=(e,t)=>{Qg.isServer?b.useEffect(e,t):b.useLayoutEffect(e,t)};function zo(e){let t=b.useRef(e);return or(()=>{t.current=e},[e]),t}let rt=function(e){let t=zo(e);return E.useCallback((...n)=>t.current(...n),[t])};function Sxt(e){let t=e.width/2,n=e.height/2;return{top:e.clientY-n,right:e.clientX+t,bottom:e.clientY+n,left:e.clientX-t}}function kxt(e,t){return!(!e||!t||e.right<t.left||e.left>t.right||e.bottom<t.top||e.top>t.bottom)}function ab({disabled:e=!1}={}){let t=b.useRef(null),[n,r]=b.useState(!1),i=Cf(),a=rt(()=>{t.current=null,r(!1),i.dispose()}),o=rt(l=>{if(i.dispose(),t.current===null){t.current=l.currentTarget,r(!0);{let c=kf(l.currentTarget);i.addEventListener(c,"pointerup",a,!1),i.addEventListener(c,"pointermove",u=>{if(t.current){let d=Sxt(u);r(kxt(d,t.current.getBoundingClientRect()))}},!1),i.addEventListener(c,"pointercancel",a,!1)}}});return{pressed:n,pressProps:e?{}:{onPointerDown:o,onPointerUp:a,onClick:a}}}let Cxt=b.createContext(void 0);function Hj(){return b.useContext(Cxt)}function tD(...e){return Array.from(new Set(e.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}function xr(e,t,...n){if(e in t){let i=t[e];return typeof i=="function"?i(...n):i}let r=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,xr),r}var go=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(go||{}),qm=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(qm||{});function cr(){let e=Pxt();return b.useCallback(t=>Ext({mergeRefs:e,...t}),[e])}function Ext({ourProps:e,theirProps:t,slot:n,defaultTag:r,features:i,visible:a=!0,name:o,mergeRefs:l}){l=l??Axt;let c=Pge(t,e);if(a)return T_(c,n,r,o,l);let u=i??0;if(u&2){let{static:d=!1,...f}=c;if(d)return T_(f,n,r,o,l)}if(u&1){let{unmount:d=!0,...f}=c;return xr(d?0:1,{0(){return null},1(){return T_({...f,hidden:!0,style:{display:"none"}},n,r,o,l)}})}return T_(c,n,r,o,l)}function T_(e,t={},n,r,i){let{as:a=n,children:o,refName:l="ref",...c}=hO(e,["unmount","static"]),u=e.ref!==void 0?{[l]:e.ref}:{},d=typeof o=="function"?o(t):o;"className"in c&&c.className&&typeof c.className=="function"&&(c.className=c.className(t)),c["aria-labelledby"]&&c["aria-labelledby"]===c.id&&(c["aria-labelledby"]=void 0);let f={};if(t){let m=!1,h=[];for(let[g,y]of Object.entries(t))typeof y=="boolean"&&(m=!0),y===!0&&h.push(g.replace(/([A-Z])/g,v=>`-${v.toLowerCase()}`));if(m){f["data-headlessui-state"]=h.join(" ");for(let g of h)f[`data-${g}`]=""}}if(a===b.Fragment&&(Object.keys(Em(c)).length>0||Object.keys(Em(f)).length>0))if(!b.isValidElement(d)||Array.isArray(d)&&d.length>1){if(Object.keys(Em(c)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(Em(c)).concat(Object.keys(Em(f))).map(m=>`  - ${m}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(m=>`  - ${m}`).join(`
`)].join(`
`))}else{let m=d.props,h=m==null?void 0:m.className,g=typeof h=="function"?(...x)=>tD(h(...x),c.className):tD(h,c.className),y=g?{className:g}:{},v=Pge(d.props,Em(hO(c,["ref"])));for(let x in f)x in v&&delete f[x];return b.cloneElement(d,Object.assign({},v,f,u,{ref:i(Txt(d),u.ref)},y))}return b.createElement(a,Object.assign({},hO(c,["ref"]),a!==b.Fragment&&u,a!==b.Fragment&&f),d)}function Pxt(){let e=b.useRef([]),t=b.useCallback(n=>{for(let r of e.current)r!=null&&(typeof r=="function"?r(n):r.current=n)},[]);return(...n)=>{if(!n.every(r=>r==null))return e.current=n,t}}function Axt(...e){return e.every(t=>t==null)?void 0:t=>{for(let n of e)n!=null&&(typeof n=="function"?n(t):n.current=t)}}function Pge(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let r of e)for(let i in r)i.startsWith("on")&&typeof r[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(r[i])):t[i]=r[i];if(t.disabled||t["aria-disabled"])for(let r in n)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(r)&&(n[r]=[i=>{var a;return(a=i==null?void 0:i.preventDefault)==null?void 0:a.call(i)}]);for(let r in n)Object.assign(t,{[r](i,...a){let o=n[r];for(let l of o){if((i instanceof Event||(i==null?void 0:i.nativeEvent)instanceof Event)&&i.defaultPrevented)return;l(i,...a)}}});return t}function xc(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let r of e)for(let i in r)i.startsWith("on")&&typeof r[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(r[i])):t[i]=r[i];for(let r in n)Object.assign(t,{[r](...i){let a=n[r];for(let o of a)o==null||o(...i)}});return t}function ir(e){var t;return Object.assign(b.forwardRef(e),{displayName:(t=e.displayName)!=null?t:e.name})}function Em(e){let t=Object.assign({},e);for(let n in t)t[n]===void 0&&delete t[n];return t}function hO(e,t=[]){let n=Object.assign({},e);for(let r of t)r in n&&delete n[r];return n}function Txt(e){return E.version.split(".")[0]>="19"?e.props.ref:e.ref}function s8(e,t,n){let[r,i]=b.useState(n),a=e!==void 0,o=b.useRef(a),l=b.useRef(!1),c=b.useRef(!1);return a&&!o.current&&!l.current?(l.current=!0,o.current=a,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!a&&o.current&&!c.current&&(c.current=!0,o.current=a,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[a?e:r,rt(u=>(a||i(u),t==null?void 0:t(u)))]}function o8(e){let[t]=b.useState(e);return t}function Age(e={},t=null,n=[]){for(let[r,i]of Object.entries(e))Oge(n,Tge(t,r),i);return n}function Tge(e,t){return e?e+"["+t+"]":t}function Oge(e,t,n){if(Array.isArray(n))for(let[r,i]of n.entries())Oge(e,Tge(t,r.toString()),i);else n instanceof Date?e.push([t,n.toISOString()]):typeof n=="boolean"?e.push([t,n?"1":"0"]):typeof n=="string"?e.push([t,n]):typeof n=="number"?e.push([t,`${n}`]):n==null?e.push([t,""]):Age(n,t,e)}function Lge(e){var t,n;let r=(t=e==null?void 0:e.form)!=null?t:e.closest("form");if(r){for(let i of r.elements)if(i!==e&&(i.tagName==="INPUT"&&i.type==="submit"||i.tagName==="BUTTON"&&i.type==="submit"||i.nodeName==="INPUT"&&i.type==="image")){i.click();return}(n=r.requestSubmit)==null||n.call(r)}}let Oxt="span";var vf=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(vf||{});function Lxt(e,t){var n;let{features:r=1,...i}=e,a={ref:t,"aria-hidden":(r&2)===2?!0:(n=i["aria-hidden"])!=null?n:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return cr()({ourProps:a,theirProps:i,slot:{},defaultTag:Oxt,name:"Hidden"})}let xf=ir(Lxt),Mxt=b.createContext(null);function Ixt({children:e}){let t=b.useContext(Mxt);if(!t)return E.createElement(E.Fragment,null,e);let{target:n}=t;return n?Er.createPortal(E.createElement(E.Fragment,null,e),n):null}function l8({data:e,form:t,disabled:n,onReset:r,overrides:i}){let[a,o]=b.useState(null),l=Cf();return b.useEffect(()=>{if(r&&a)return l.addEventListener(a,"reset",r)},[a,t,r]),E.createElement(Ixt,null,E.createElement(Dxt,{setForm:o,formId:t}),Age(e).map(([c,u])=>E.createElement(xf,{features:vf.Hidden,...Em({key:c,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:t,disabled:n,name:c,value:u,...i})})))}function Dxt({setForm:e,formId:t}){return b.useEffect(()=>{if(t){let n=document.getElementById(t);n&&e(n)}},[e,t]),t?null:E.createElement(xf,{features:vf.Hidden,as:"input",type:"hidden",hidden:!0,readOnly:!0,ref:n=>{if(!n)return;let r=n.closest("form");r&&e(r)}})}let Rxt=b.createContext(void 0);function OP(){return b.useContext(Rxt)}function sb(e){let t=e.parentElement,n=null;for(;t&&!(t instanceof HTMLFieldSetElement);)t instanceof HTMLLegendElement&&(n=t),t=t.parentElement;let r=(t==null?void 0:t.getAttribute("disabled"))==="";return r&&$xt(n)?!1:r}function $xt(e){if(!e)return!1;let t=e.previousElementSibling;for(;t!==null;){if(t instanceof HTMLLegendElement)return!1;t=t.previousElementSibling}return!0}let Mge=Symbol();function c8(e,t=!0){return Object.assign(e,{[Mge]:t})}function br(...e){let t=b.useRef(e);b.useEffect(()=>{t.current=e},[e]);let n=rt(r=>{for(let i of t.current)i!=null&&(typeof i=="function"?i(r):i.current=r)});return e.every(r=>r==null||(r==null?void 0:r[Mge]))?void 0:n}let LP=b.createContext(null);LP.displayName="DescriptionContext";function Ige(){let e=b.useContext(LP);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,Ige),t}return e}function u8(){var e,t;return(t=(e=b.useContext(LP))==null?void 0:e.value)!=null?t:void 0}function Dge(){let[e,t]=b.useState([]);return[e.length>0?e.join(" "):void 0,b.useMemo(()=>function(n){let r=rt(a=>(t(o=>[...o,a]),()=>t(o=>{let l=o.slice(),c=l.indexOf(a);return c!==-1&&l.splice(c,1),l}))),i=b.useMemo(()=>({register:r,slot:n.slot,name:n.name,props:n.props,value:n.value}),[r,n.slot,n.name,n.props,n.value]);return E.createElement(LP.Provider,{value:i},n.children)},[t])]}let Fxt="p";function Bxt(e,t){let n=b.useId(),r=Hj(),{id:i=`headlessui-description-${n}`,...a}=e,o=Ige(),l=br(t);or(()=>o.register(i),[i,o.register]);let c=r||!1,u=b.useMemo(()=>({...o.slot,disabled:c}),[o.slot,c]),d={ref:l,...o.props,id:i};return cr()({ourProps:d,theirProps:a,slot:u,defaultTag:Fxt,name:o.name||"Description"})}let zxt=ir(Bxt),Rge=Object.assign(zxt,{});var rn=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(rn||{});let MP=b.createContext(null);MP.displayName="LabelContext";function $ge(){let e=b.useContext(MP);if(e===null){let t=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,$ge),t}return e}function ob(e){var t,n,r;let i=(n=(t=b.useContext(MP))==null?void 0:t.value)!=null?n:void 0;return((r=e==null?void 0:e.length)!=null?r:0)>0?[i,...e].filter(Boolean).join(" "):i}function d8({inherit:e=!1}={}){let t=ob(),[n,r]=b.useState([]),i=e?[t,...n].filter(Boolean):n;return[i.length>0?i.join(" "):void 0,b.useMemo(()=>function(a){let o=rt(c=>(r(u=>[...u,c]),()=>r(u=>{let d=u.slice(),f=d.indexOf(c);return f!==-1&&d.splice(f,1),d}))),l=b.useMemo(()=>({register:o,slot:a.slot,name:a.name,props:a.props,value:a.value}),[o,a.slot,a.name,a.props,a.value]);return E.createElement(MP.Provider,{value:l},a.children)},[r])]}let Vxt="label";function qxt(e,t){var n;let r=b.useId(),i=$ge(),a=OP(),o=Hj(),{id:l=`headlessui-label-${r}`,htmlFor:c=a??((n=i.props)==null?void 0:n.htmlFor),passive:u=!1,...d}=e,f=br(t);or(()=>i.register(l),[l,i.register]);let m=rt(v=>{let x=v.currentTarget;if(x instanceof HTMLLabelElement&&v.preventDefault(),i.props&&"onClick"in i.props&&typeof i.props.onClick=="function"&&i.props.onClick(v),x instanceof HTMLLabelElement){let w=document.getElementById(x.htmlFor);if(w){let j=w.getAttribute("disabled");if(j==="true"||j==="")return;let _=w.getAttribute("aria-disabled");if(_==="true"||_==="")return;(w instanceof HTMLInputElement&&(w.type==="radio"||w.type==="checkbox")||w.role==="radio"||w.role==="checkbox"||w.role==="switch")&&w.click(),w.focus({preventScroll:!0})}}}),h=o||!1,g=b.useMemo(()=>({...i.slot,disabled:h}),[i.slot,h]),y={ref:f,...i.props,id:l,htmlFor:c,onClick:m};return u&&("onClick"in y&&(delete y.htmlFor,delete y.onClick),"onClick"in d&&delete d.onClick),cr()({ourProps:y,theirProps:d,slot:g,defaultTag:c?Vxt:"div",name:i.name||"Label"})}let Uxt=ir(qxt),f8=Object.assign(Uxt,{}),Wxt=b.createContext(()=>{});function h8({value:e,children:t}){return E.createElement(Wxt.Provider,{value:e},t)}function px(e,t,n){let r=n.initialDeps??[],i;return()=>{var a,o,l,c;let u;n.key&&((a=n.debug)!=null&&a.call(n))&&(u=Date.now());const d=e();if(!(d.length!==r.length||d.some((h,g)=>r[g]!==h)))return i;r=d;let m;if(n.key&&((o=n.debug)!=null&&o.call(n))&&(m=Date.now()),i=t(...d),n.key&&((l=n.debug)!=null&&l.call(n))){const h=Math.round((Date.now()-u)*100)/100,g=Math.round((Date.now()-m)*100)/100,y=g/16,v=(x,w)=>{for(x=String(x);x.length<w;)x=" "+x;return x};console.info(`%c ${v(g,5)} /${v(h,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*y,120))}deg 100% 31%);`,n==null?void 0:n.key)}return(c=n==null?void 0:n.onChange)==null||c.call(n,i),i}}function mO(e,t){if(e===void 0)throw new Error("Unexpected undefined");return e}const Hxt=(e,t)=>Math.abs(e-t)<1,Kxt=(e,t,n)=>{let r;return function(...i){e.clearTimeout(r),r=e.setTimeout(()=>t.apply(this,i),n)}},Gxt=e=>e,Yxt=e=>{const t=Math.max(e.startIndex-e.overscan,0),n=Math.min(e.endIndex+e.overscan,e.count-1),r=[];for(let i=t;i<=n;i++)r.push(i);return r},Xxt=(e,t)=>{const n=e.scrollElement;if(!n)return;const r=e.targetWindow;if(!r)return;const i=o=>{const{width:l,height:c}=o;t({width:Math.round(l),height:Math.round(c)})};if(i(n.getBoundingClientRect()),!r.ResizeObserver)return()=>{};const a=new r.ResizeObserver(o=>{const l=o[0];if(l!=null&&l.borderBoxSize){const c=l.borderBoxSize[0];if(c){i({width:c.inlineSize,height:c.blockSize});return}}i(n.getBoundingClientRect())});return a.observe(n,{box:"border-box"}),()=>{a.unobserve(n)}},fY={passive:!0},Zxt=typeof window>"u"?!0:"onscrollend"in window,Qxt=(e,t)=>{const n=e.scrollElement;if(!n)return;const r=e.targetWindow;if(!r)return;let i=0;const a=e.options.useScrollendEvent&&Zxt?()=>{}:Kxt(r,()=>{t(i,!1)},e.options.isScrollingResetDelay),o=u=>()=>{const{horizontal:d,isRtl:f}=e.options;i=d?n.scrollLeft*(f&&-1||1):n.scrollTop,a(),t(i,u)},l=o(!0),c=o(!1);return c(),n.addEventListener("scroll",l,fY),n.addEventListener("scrollend",c,fY),()=>{n.removeEventListener("scroll",l),n.removeEventListener("scrollend",c)}},Jxt=(e,t,n)=>{if(t!=null&&t.borderBoxSize){const r=t.borderBoxSize[0];if(r)return Math.round(r[n.options.horizontal?"inlineSize":"blockSize"])}return Math.round(e.getBoundingClientRect()[n.options.horizontal?"width":"height"])},eyt=(e,{adjustments:t=0,behavior:n},r)=>{var i,a;const o=e+t;(a=(i=r.scrollElement)==null?void 0:i.scrollTo)==null||a.call(i,{[r.options.horizontal?"left":"top"]:o,behavior:n})};class tyt{constructor(t){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let n=null;const r=()=>n||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:n=new this.targetWindow.ResizeObserver(i=>{i.forEach(a=>{this._measureElement(a.target,a)})}));return{disconnect:()=>{var i;(i=r())==null||i.disconnect(),n=null},observe:i=>{var a;return(a=r())==null?void 0:a.observe(i,{box:"border-box"})},unobserve:i=>{var a;return(a=r())==null?void 0:a.unobserve(i)}}})(),this.range=null,this.setOptions=n=>{Object.entries(n).forEach(([r,i])=>{typeof i>"u"&&delete n[r]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:Gxt,rangeExtractor:Yxt,onChange:()=>{},measureElement:Jxt,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!0,...n}},this.notify=n=>{var r,i;(i=(r=this.options).onChange)==null||i.call(r,this,n)},this.maybeNotify=px(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),n=>{this.notify(n)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(n=>n()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var n;const r=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==r){if(this.cleanup(),!r){this.maybeNotify();return}this.scrollElement=r,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((n=this.scrollElement)==null?void 0:n.window)??null,this.elementsCache.forEach(i=>{this.observer.observe(i)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,i=>{this.scrollRect=i,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(i,a)=>{this.scrollAdjustments=0,this.scrollDirection=a?this.getScrollOffset()<i?"forward":"backward":null,this.scrollOffset=i,this.isScrolling=a,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(n,r)=>{const i=new Map,a=new Map;for(let o=r-1;o>=0;o--){const l=n[o];if(i.has(l.lane))continue;const c=a.get(l.lane);if(c==null||l.end>c.end?a.set(l.lane,l):l.end<c.end&&i.set(l.lane,!0),i.size===this.options.lanes)break}return a.size===this.options.lanes?Array.from(a.values()).sort((o,l)=>o.end===l.end?o.index-l.index:o.end-l.end)[0]:void 0},this.getMeasurementOptions=px(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(n,r,i,a,o)=>(this.pendingMeasuredCacheIndexes=[],{count:n,paddingStart:r,scrollMargin:i,getItemKey:a,enabled:o}),{key:!1}),this.getMeasurements=px(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:n,paddingStart:r,scrollMargin:i,getItemKey:a,enabled:o},l)=>{if(!o)return this.measurementsCache=[],this.itemSizeCache.clear(),[];this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(d=>{this.itemSizeCache.set(d.key,d.size)}));const c=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const u=this.measurementsCache.slice(0,c);for(let d=c;d<n;d++){const f=a(d),m=this.options.lanes===1?u[d-1]:this.getFurthestMeasurement(u,d),h=m?m.end+this.options.gap:r+i,g=l.get(f),y=typeof g=="number"?g:this.options.estimateSize(d),v=h+y,x=m?m.lane:d%this.options.lanes;u[d]={index:d,start:h,size:y,end:v,key:f,lane:x}}return this.measurementsCache=u,u},{key:!1,debug:()=>this.options.debug}),this.calculateRange=px(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset()],(n,r,i)=>this.range=n.length>0&&r>0?nyt({measurements:n,outerSize:r,scrollOffset:i}):null,{key:!1,debug:()=>this.options.debug}),this.getIndexes=px(()=>[this.options.rangeExtractor,this.calculateRange(),this.options.overscan,this.options.count],(n,r,i,a)=>r===null?[]:n({startIndex:r.startIndex,endIndex:r.endIndex,overscan:i,count:a}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=n=>{const r=this.options.indexAttribute,i=n.getAttribute(r);return i?parseInt(i,10):(console.warn(`Missing attribute name '${r}={index}' on measured element.`),-1)},this._measureElement=(n,r)=>{const i=this.indexFromElement(n),a=this.measurementsCache[i];if(!a)return;const o=a.key,l=this.elementsCache.get(o);l!==n&&(l&&this.observer.unobserve(l),this.observer.observe(n),this.elementsCache.set(o,n)),n.isConnected&&this.resizeItem(i,this.options.measureElement(n,r,this))},this.resizeItem=(n,r)=>{const i=this.measurementsCache[n];if(!i)return;const a=this.itemSizeCache.get(i.key)??i.size,o=r-a;o!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(i,o,this):i.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=o,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(i.index),this.itemSizeCache=new Map(this.itemSizeCache.set(i.key,r)),this.notify(!1))},this.measureElement=n=>{if(!n){this.elementsCache.forEach((r,i)=>{r.isConnected||(this.observer.unobserve(r),this.elementsCache.delete(i))});return}this._measureElement(n,void 0)},this.getVirtualItems=px(()=>[this.getIndexes(),this.getMeasurements()],(n,r)=>{const i=[];for(let a=0,o=n.length;a<o;a++){const l=n[a],c=r[l];i.push(c)}return i},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=n=>{const r=this.getMeasurements();if(r.length!==0)return mO(r[Fge(0,r.length-1,i=>mO(r[i]).start,n)])},this.getOffsetForAlignment=(n,r)=>{const i=this.getSize(),a=this.getScrollOffset();r==="auto"&&n>=a+i&&(r="end"),r==="end"&&(n-=i);const o=this.options.horizontal?"scrollWidth":"scrollHeight",c=(this.scrollElement?"document"in this.scrollElement?this.scrollElement.document.documentElement[o]:this.scrollElement[o]:0)-i;return Math.max(Math.min(c,n),0)},this.getOffsetForIndex=(n,r="auto")=>{n=Math.max(0,Math.min(n,this.options.count-1));const i=this.measurementsCache[n];if(!i)return;const a=this.getSize(),o=this.getScrollOffset();if(r==="auto")if(i.end>=o+a-this.options.scrollPaddingEnd)r="end";else if(i.start<=o+this.options.scrollPaddingStart)r="start";else return[o,r];const l=i.start-this.options.scrollPaddingStart+(i.size-a)/2;switch(r){case"center":return[this.getOffsetForAlignment(l,r),r];case"end":return[this.getOffsetForAlignment(i.end+this.options.scrollPaddingEnd,r),r];default:return[this.getOffsetForAlignment(i.start-this.options.scrollPaddingStart,r),r]}},this.isDynamicMode=()=>this.elementsCache.size>0,this.cancelScrollToIndex=()=>{this.scrollToIndexTimeoutId!==null&&this.targetWindow&&(this.targetWindow.clearTimeout(this.scrollToIndexTimeoutId),this.scrollToIndexTimeoutId=null)},this.scrollToOffset=(n,{align:r="start",behavior:i}={})=>{this.cancelScrollToIndex(),i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(n,r),{adjustments:void 0,behavior:i})},this.scrollToIndex=(n,{align:r="auto",behavior:i}={})=>{n=Math.max(0,Math.min(n,this.options.count-1)),this.cancelScrollToIndex(),i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");const a=this.getOffsetForIndex(n,r);if(!a)return;const[o,l]=a;this._scrollToOffset(o,{adjustments:void 0,behavior:i}),i!=="smooth"&&this.isDynamicMode()&&this.targetWindow&&(this.scrollToIndexTimeoutId=this.targetWindow.setTimeout(()=>{if(this.scrollToIndexTimeoutId=null,this.elementsCache.has(this.options.getItemKey(n))){const[u]=mO(this.getOffsetForIndex(n,l));Hxt(u,this.getScrollOffset())||this.scrollToIndex(n,{align:l,behavior:i})}else this.scrollToIndex(n,{align:l,behavior:i})}))},this.scrollBy=(n,{behavior:r}={})=>{this.cancelScrollToIndex(),r==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+n,{adjustments:void 0,behavior:r})},this.getTotalSize=()=>{var n;const r=this.getMeasurements();let i;return r.length===0?i=this.options.paddingStart:i=this.options.lanes===1?((n=r[r.length-1])==null?void 0:n.end)??0:Math.max(...r.slice(-this.options.lanes).map(a=>a.end)),Math.max(i-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(n,{adjustments:r,behavior:i})=>{this.options.scrollToFn(n,{behavior:i,adjustments:r},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(t)}}const Fge=(e,t,n,r)=>{for(;e<=t;){const i=(e+t)/2|0,a=n(i);if(a<r)e=i+1;else if(a>r)t=i-1;else return i}return e>0?e-1:0};function nyt({measurements:e,outerSize:t,scrollOffset:n}){const r=e.length-1,a=Fge(0,r,l=>e[l].start,n);let o=a;for(;o<r&&e[o].end<n+t;)o++;return{startIndex:a,endIndex:o}}const hY=typeof document<"u"?b.useLayoutEffect:b.useEffect;function ryt(e){const t=b.useReducer(()=>({}),{})[1],n={...e,onChange:(i,a)=>{var o;a?Er.flushSync(t):t(),(o=e.onChange)==null||o.call(e,i,a)}},[r]=b.useState(()=>new tyt(n));return r.setOptions(n),hY(()=>r._didMount(),[]),hY(()=>r._willUpdate()),r}function iyt(e){return ryt({observeElementRect:Xxt,observeElementOffset:Qxt,scrollToFn:eyt,...e})}function ayt(e,t){return e!==null&&t!==null&&typeof e=="object"&&typeof t=="object"&&"id"in e&&"id"in t?e.id===t.id:e===t}function Bge(e=ayt){return b.useCallback((t,n)=>{if(typeof e=="string"){let r=e;return(t==null?void 0:t[r])===(n==null?void 0:n[r])}return e(t,n)},[e])}function syt(e){if(e===null)return{width:0,height:0};let{width:t,height:n}=e.getBoundingClientRect();return{width:t,height:n}}function Jk(e,t=!1){let[n,r]=b.useReducer(()=>({}),{}),i=b.useMemo(()=>syt(e),[e,n]);return or(()=>{if(!e)return;let a=new ResizeObserver(r);return a.observe(e),()=>{a.disconnect()}},[e]),t?{width:`${i.width}px`,height:`${i.height}px`}:i}let oyt=class extends Map{constructor(t){super(),this.factory=t}get(t){let n=super.get(t);return n===void 0&&(n=this.factory(t),this.set(t,n)),n}};function zge(e,t){let n=e(),r=new Set;return{getSnapshot(){return n},subscribe(i){return r.add(i),()=>r.delete(i)},dispatch(i,...a){let o=t[i].call(n,...a);o&&(n=o,r.forEach(l=>l()))}}}function Vge(e){return b.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getSnapshot)}let lyt=new oyt(()=>zge(()=>[],{ADD(e){return this.includes(e)?this:[...this,e]},REMOVE(e){let t=this.indexOf(e);if(t===-1)return this;let n=this.slice();return n.splice(t,1),n}}));function lb(e,t){let n=lyt.get(t),r=b.useId(),i=Vge(n);if(or(()=>{if(e)return n.dispatch("ADD",r),()=>n.dispatch("REMOVE",r)},[n,e]),!e)return!1;let a=i.indexOf(r),o=i.length;return a===-1&&(a=o,o+=1),a===o-1}let nD=new Map,tw=new Map;function mY(e){var t;let n=(t=tw.get(e))!=null?t:0;return tw.set(e,n+1),n!==0?()=>pY(e):(nD.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),e.setAttribute("aria-hidden","true"),e.inert=!0,()=>pY(e))}function pY(e){var t;let n=(t=tw.get(e))!=null?t:1;if(n===1?tw.delete(e):tw.set(e,n-1),n!==1)return;let r=nD.get(e);r&&(r["aria-hidden"]===null?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",r["aria-hidden"]),e.inert=r.inert,nD.delete(e))}function m8(e,{allowed:t,disallowed:n}={}){let r=lb(e,"inert-others");or(()=>{var i,a;if(!r)return;let o=od();for(let c of(i=n==null?void 0:n())!=null?i:[])c&&o.add(mY(c));let l=(a=t==null?void 0:t())!=null?a:[];for(let c of l){if(!c)continue;let u=kf(c);if(!u)continue;let d=c.parentElement;for(;d&&d!==u.body;){for(let f of d.children)l.some(m=>f.contains(m))||o.add(mY(f));d=d.parentElement}}return o.dispose},[r,t,n])}function IP(e,t,n){let r=zo(i=>{let a=i.getBoundingClientRect();a.x===0&&a.y===0&&a.width===0&&a.height===0&&n()});b.useEffect(()=>{if(!e)return;let i=t===null?null:t instanceof HTMLElement?t:t.current;if(!i)return;let a=od();if(typeof ResizeObserver<"u"){let o=new ResizeObserver(()=>r.current(i));o.observe(i),a.add(()=>o.disconnect())}if(typeof IntersectionObserver<"u"){let o=new IntersectionObserver(()=>r.current(i));o.observe(i),a.add(()=>o.disconnect())}return()=>a.dispose()},[t,r,e])}let eC=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(","),cyt=["[data-autofocus]"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var Qr=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e[e.AutoFocus=64]="AutoFocus",e))(Qr||{}),Zd=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(Zd||{}),uyt=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(uyt||{});function Kj(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(eC)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}function dyt(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(cyt)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var DP=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(DP||{});function p8(e,t=0){var n;return e===((n=kf(e))==null?void 0:n.body)?!1:xr(t,{0(){return e.matches(eC)},1(){let r=e;for(;r!==null;){if(r.matches(eC))return!0;r=r.parentElement}return!1}})}var fyt=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(fyt||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function yh(e){e==null||e.focus({preventScroll:!0})}let hyt=["textarea","input"].join(",");function myt(e){var t,n;return(n=(t=e==null?void 0:e.matches)==null?void 0:t.call(e,hyt))!=null?n:!1}function Um(e,t=n=>n){return e.slice().sort((n,r)=>{let i=t(n),a=t(r);if(i===null||a===null)return 0;let o=i.compareDocumentPosition(a);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function pyt(e,t){return cs(Kj(),t,{relativeTo:e})}function cs(e,t,{sorted:n=!0,relativeTo:r=null,skipElements:i=[]}={}){let a=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,o=Array.isArray(e)?n?Um(e):e:t&64?dyt(e):Kj(e);i.length>0&&o.length>1&&(o=o.filter(h=>!i.some(g=>g!=null&&"current"in g?(g==null?void 0:g.current)===h:g===h))),r=r??a.activeElement;let l=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,o.indexOf(r))-1;if(t&4)return Math.max(0,o.indexOf(r))+1;if(t&8)return o.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=t&32?{preventScroll:!0}:{},d=0,f=o.length,m;do{if(d>=f||d+f<=0)return 0;let h=c+d;if(t&16)h=(h+f)%f;else{if(h<0)return 3;if(h>=f)return 1}m=o[h],m==null||m.focus(u),d+=l}while(m!==a.activeElement);return t&6&&myt(m)&&m.select(),2}function qge(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function gyt(){return/Android/gi.test(window.navigator.userAgent)}function Uge(){return qge()||gyt()}function a1(e,t,n,r){let i=zo(n);b.useEffect(()=>{if(!e)return;function a(o){i.current(o)}return document.addEventListener(t,a,r),()=>document.removeEventListener(t,a,r)},[e,t,r])}function Wge(e,t,n,r){let i=zo(n);b.useEffect(()=>{if(!e)return;function a(o){i.current(o)}return window.addEventListener(t,a,r),()=>window.removeEventListener(t,a,r)},[e,t,r])}const gY=30;function RP(e,t,n){let r=lb(e,"outside-click"),i=zo(n),a=b.useCallback(function(c,u){if(c.defaultPrevented)return;let d=u(c);if(d===null||!d.getRootNode().contains(d)||!d.isConnected)return;let f=function m(h){return typeof h=="function"?m(h()):Array.isArray(h)||h instanceof Set?h:[h]}(t);for(let m of f)if(m!==null&&(m.contains(d)||c.composed&&c.composedPath().includes(m)))return;return!p8(d,DP.Loose)&&d.tabIndex!==-1&&c.preventDefault(),i.current(c,d)},[i,t]),o=b.useRef(null);a1(r,"pointerdown",c=>{var u,d;o.current=((d=(u=c.composedPath)==null?void 0:u.call(c))==null?void 0:d[0])||c.target},!0),a1(r,"mousedown",c=>{var u,d;o.current=((d=(u=c.composedPath)==null?void 0:u.call(c))==null?void 0:d[0])||c.target},!0),a1(r,"click",c=>{Uge()||o.current&&(a(c,()=>o.current),o.current=null)},!0);let l=b.useRef({x:0,y:0});a1(r,"touchstart",c=>{l.current.x=c.touches[0].clientX,l.current.y=c.touches[0].clientY},!0),a1(r,"touchend",c=>{let u={x:c.changedTouches[0].clientX,y:c.changedTouches[0].clientY};if(!(Math.abs(u.x-l.current.x)>=gY||Math.abs(u.y-l.current.y)>=gY))return a(c,()=>c.target instanceof HTMLElement?c.target:null)},!0),Wge(r,"blur",c=>a(c,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function vd(...e){return b.useMemo(()=>kf(...e),[...e])}function $P(e,t,n,r){let i=zo(n);b.useEffect(()=>{e=e??window;function a(o){i.current(o)}return e.addEventListener(t,a,r),()=>e.removeEventListener(t,a,r)},[e,t,r])}function Hge(e){let t=b.useRef({value:"",selectionStart:null,selectionEnd:null});return $P(e,"blur",n=>{let r=n.target;r instanceof HTMLInputElement&&(t.current={value:r.value,selectionStart:r.selectionStart,selectionEnd:r.selectionEnd})}),rt(()=>{if(document.activeElement!==e&&e instanceof HTMLInputElement&&e.isConnected){if(e.focus({preventScroll:!0}),e.value!==t.current.value)e.setSelectionRange(e.value.length,e.value.length);else{let{selectionStart:n,selectionEnd:r}=t.current;n!==null&&r!==null&&e.setSelectionRange(n,r)}t.current={value:"",selectionStart:null,selectionEnd:null}}})}function cb(e,t){return b.useMemo(()=>{var n;if(e.type)return e.type;let r=(n=e.as)!=null?n:"button";if(typeof r=="string"&&r.toLowerCase()==="button"||(t==null?void 0:t.tagName)==="BUTTON"&&!t.hasAttribute("type"))return"button"},[e.type,e.as,t])}function vyt(){let e;return{before({doc:t}){var n;let r=t.documentElement,i=(n=t.defaultView)!=null?n:window;e=Math.max(0,i.innerWidth-r.clientWidth)},after({doc:t,d:n}){let r=t.documentElement,i=Math.max(0,r.clientWidth-r.offsetWidth),a=Math.max(0,e-i);n.style(r,"paddingRight",`${a}px`)}}}function xyt(){return qge()?{before({doc:e,d:t,meta:n}){function r(i){return n.containers.flatMap(a=>a()).some(a=>a.contains(i))}t.microTask(()=>{var i;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let l=od();l.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>l.dispose()))}let a=(i=window.scrollY)!=null?i:window.pageYOffset,o=null;t.addEventListener(e,"click",l=>{if(l.target instanceof HTMLElement)try{let c=l.target.closest("a");if(!c)return;let{hash:u}=new URL(c.href),d=e.querySelector(u);d&&!r(d)&&(o=d)}catch{}},!0),t.addEventListener(e,"touchstart",l=>{if(l.target instanceof HTMLElement)if(r(l.target)){let c=l.target;for(;c.parentElement&&r(c.parentElement);)c=c.parentElement;t.style(c,"overscrollBehavior","contain")}else t.style(l.target,"touchAction","none")}),t.addEventListener(e,"touchmove",l=>{if(l.target instanceof HTMLElement){if(l.target.tagName==="INPUT")return;if(r(l.target)){let c=l.target;for(;c.parentElement&&c.dataset.headlessuiPortal!==""&&!(c.scrollHeight>c.clientHeight||c.scrollWidth>c.clientWidth);)c=c.parentElement;c.dataset.headlessuiPortal===""&&l.preventDefault()}else l.preventDefault()}},{passive:!1}),t.add(()=>{var l;let c=(l=window.scrollY)!=null?l:window.pageYOffset;a!==c&&window.scrollTo(0,a),o&&o.isConnected&&(o.scrollIntoView({block:"nearest"}),o=null)})})}}:{}}function yyt(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function byt(e){let t={};for(let n of e)Object.assign(t,n(t));return t}let Ug=zge(()=>new Map,{PUSH(e,t){var n;let r=(n=this.get(e))!=null?n:{doc:e,count:0,d:od(),meta:new Set};return r.count++,r.meta.add(t),this.set(e,r),this},POP(e,t){let n=this.get(e);return n&&(n.count--,n.meta.delete(t)),this},SCROLL_PREVENT({doc:e,d:t,meta:n}){let r={doc:e,d:t,meta:byt(n)},i=[xyt(),vyt(),yyt()];i.forEach(({before:a})=>a==null?void 0:a(r)),i.forEach(({after:a})=>a==null?void 0:a(r))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});Ug.subscribe(()=>{let e=Ug.getSnapshot(),t=new Map;for(let[n]of e)t.set(n,n.documentElement.style.overflow);for(let n of e.values()){let r=t.get(n.doc)==="hidden",i=n.count!==0;(i&&!r||!i&&r)&&Ug.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&Ug.dispatch("TEARDOWN",n)}});function wyt(e,t,n=()=>({containers:[]})){let r=Vge(Ug),i=t?r.get(t):void 0,a=i?i.count>0:!1;return or(()=>{if(!(!t||!e))return Ug.dispatch("PUSH",t,n),()=>Ug.dispatch("POP",t,n)},[e,t]),a}function FP(e,t,n=()=>[document.body]){let r=lb(e,"scroll-lock");wyt(r,t,i=>{var a;return{containers:[...(a=i.containers)!=null?a:[],n]}})}function vY(e){return[e.screenX,e.screenY]}function Kge(){let e=b.useRef([-1,-1]);return{wasMoved(t){let n=vY(t);return e.current[0]===n[0]&&e.current[1]===n[1]?!1:(e.current=n,!0)},update(t){e.current=vY(t)}}}function jyt(e=0){let[t,n]=b.useState(e),r=b.useCallback(c=>n(c),[t]),i=b.useCallback(c=>n(u=>u|c),[t]),a=b.useCallback(c=>(t&c)===c,[t]),o=b.useCallback(c=>n(u=>u&~c),[n]),l=b.useCallback(c=>n(u=>u^c),[n]);return{flags:t,setFlag:r,addFlag:i,hasFlag:a,removeFlag:o,toggleFlag:l}}var Nyt={},xY,yY;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((xY=process==null?void 0:Nyt)==null?void 0:xY.NODE_ENV)==="test"&&typeof((yY=Element==null?void 0:Element.prototype)==null?void 0:yY.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var _yt=(e=>(e[e.None=0]="None",e[e.Closed=1]="Closed",e[e.Enter=2]="Enter",e[e.Leave=4]="Leave",e))(_yt||{});function ub(e){let t={};for(let n in e)e[n]===!0&&(t[`data-${n}`]="");return t}function db(e,t,n,r){let[i,a]=b.useState(n),{hasFlag:o,addFlag:l,removeFlag:c}=jyt(e&&i?3:0),u=b.useRef(!1),d=b.useRef(!1),f=Cf();return or(()=>{var m;if(e){if(n&&a(!0),!t){n&&l(3);return}return(m=r==null?void 0:r.start)==null||m.call(r,n),Syt(t,{inFlight:u,prepare(){d.current?d.current=!1:d.current=u.current,u.current=!0,!d.current&&(n?(l(3),c(4)):(l(4),c(2)))},run(){d.current?n?(c(3),l(4)):(c(4),l(3)):n?c(1):l(1)},done(){var h;d.current&&typeof t.getAnimations=="function"&&t.getAnimations().length>0||(u.current=!1,c(7),n||a(!1),(h=r==null?void 0:r.end)==null||h.call(r,n))}})}},[e,n,t,f]),e?[i,{closed:o(1),enter:o(2),leave:o(4),transition:o(2)||o(4)}]:[n,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function Syt(e,{prepare:t,run:n,done:r,inFlight:i}){let a=od();return Cyt(e,{prepare:t,inFlight:i}),a.nextFrame(()=>{n(),a.requestAnimationFrame(()=>{a.add(kyt(e,r))})}),a.dispose}function kyt(e,t){var n,r;let i=od();if(!e)return i.dispose;let a=!1;i.add(()=>{a=!0});let o=(r=(n=e.getAnimations)==null?void 0:n.call(e).filter(l=>l instanceof CSSTransition))!=null?r:[];return o.length===0?(t(),i.dispose):(Promise.allSettled(o.map(l=>l.finished)).then(()=>{a||t()}),i.dispose)}function Cyt(e,{inFlight:t,prepare:n}){if(t!=null&&t.current){n();return}let r=e.style.transition;e.style.transition="none",n(),e.offsetHeight,e.style.transition=r}function Eyt(e,{container:t,accept:n,walk:r}){let i=b.useRef(n),a=b.useRef(r);b.useEffect(()=>{i.current=n,a.current=r},[n,r]),or(()=>{if(!t||!e)return;let o=kf(t);if(!o)return;let l=i.current,c=a.current,u=Object.assign(f=>l(f),{acceptNode:l}),d=o.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,u,!1);for(;d.nextNode();)c(d.currentNode)},[t,e,i,a])}function J2(e,t){let n=b.useRef([]),r=rt(e);b.useEffect(()=>{let i=[...n.current];for(let[a,o]of t.entries())if(n.current[a]!==o){let l=r(t,i);return n.current=t,l}},[r,...t])}function Pyt(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:n,version:r}=t;return n+"/"+r}).join(" "):navigator.userAgent}const Gge={...wh},Ayt=Gge.useInsertionEffect,Tyt=Ayt||(e=>e());function Yge(e){const t=b.useRef(()=>{});return Tyt(()=>{t.current=e}),b.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current==null?void 0:t.current(...r)},[])}var rD=typeof document<"u"?b.useLayoutEffect:b.useEffect;let bY=!1,Oyt=0;const wY=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+Oyt++;function Lyt(){const[e,t]=b.useState(()=>bY?wY():void 0);return rD(()=>{e==null&&t(wY())},[]),b.useEffect(()=>{bY=!0},[]),e}const Myt=Gge.useId,Iyt=Myt||Lyt;function Dyt(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(i=>i(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var r;e.set(t,((r=e.get(t))==null?void 0:r.filter(i=>i!==n))||[])}}}const Ryt=b.createContext(null),$yt=b.createContext(null),Fyt=()=>{var e;return((e=b.useContext(Ryt))==null?void 0:e.id)||null},Byt=()=>b.useContext($yt),zyt="data-floating-ui-focusable";function Vyt(e){const{open:t=!1,onOpenChange:n,elements:r}=e,i=Iyt(),a=b.useRef({}),[o]=b.useState(()=>Dyt()),l=Fyt()!=null,[c,u]=b.useState(r.reference),d=Yge((h,g,y)=>{a.current.openEvent=h?g:void 0,o.emit("openchange",{open:h,event:g,reason:y,nested:l}),n==null||n(h,g,y)}),f=b.useMemo(()=>({setPositionReference:u}),[]),m=b.useMemo(()=>({reference:c||r.reference||null,floating:r.floating||null,domReference:r.reference}),[c,r.reference,r.floating]);return b.useMemo(()=>({dataRef:a,open:t,onOpenChange:d,elements:m,events:o,floatingId:i,refs:f}),[t,d,m,o,i,f])}function qyt(e){e===void 0&&(e={});const{nodeId:t}=e,n=Vyt({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,i=r.elements,[a,o]=b.useState(null),[l,c]=b.useState(null),d=(i==null?void 0:i.domReference)||a,f=b.useRef(null),m=Byt();rD(()=>{d&&(f.current=d)},[d]);const h=Toe({...e,elements:{...i,...l&&{reference:l}}}),g=b.useCallback(j=>{const _=Do(j)?{getBoundingClientRect:()=>j.getBoundingClientRect(),contextElement:j}:j;c(_),h.refs.setReference(_)},[h.refs]),y=b.useCallback(j=>{(Do(j)||j===null)&&(f.current=j,o(j)),(Do(h.refs.reference.current)||h.refs.reference.current===null||j!==null&&!Do(j))&&h.refs.setReference(j)},[h.refs]),v=b.useMemo(()=>({...h.refs,setReference:y,setPositionReference:g,domReference:f}),[h.refs,y,g]),x=b.useMemo(()=>({...h.elements,domReference:d}),[h.elements,d]),w=b.useMemo(()=>({...h,...r,refs:v,elements:x,nodeId:t}),[h,v,x,t,r]);return rD(()=>{r.dataRef.current.floatingContext=w;const j=m==null?void 0:m.nodesRef.current.find(_=>_.id===t);j&&(j.context=w)}),b.useMemo(()=>({...h,context:w,refs:v,elements:x}),[h,v,x,w])}const jY="active",NY="selected";function pO(e,t,n){const r=new Map,i=n==="item";let a=e;if(i&&e){const{[jY]:o,[NY]:l,...c}=e;a=c}return{...n==="floating"&&{tabIndex:-1,[zyt]:""},...a,...t.map(o=>{const l=o?o[n]:null;return typeof l=="function"?e?l(e):null:l}).concat(e).reduce((o,l)=>(l&&Object.entries(l).forEach(c=>{let[u,d]=c;if(!(i&&[jY,NY].includes(u)))if(u.indexOf("on")===0){if(r.has(u)||r.set(u,[]),typeof d=="function"){var f;(f=r.get(u))==null||f.push(d),o[u]=function(){for(var m,h=arguments.length,g=new Array(h),y=0;y<h;y++)g[y]=arguments[y];return(m=r.get(u))==null?void 0:m.map(v=>v(...g)).find(v=>v!==void 0)}}}else o[u]=d}),o),{})}}function Uyt(e){e===void 0&&(e=[]);const t=e.map(l=>l==null?void 0:l.reference),n=e.map(l=>l==null?void 0:l.floating),r=e.map(l=>l==null?void 0:l.item),i=b.useCallback(l=>pO(l,e,"reference"),t),a=b.useCallback(l=>pO(l,e,"floating"),n),o=b.useCallback(l=>pO(l,e,"item"),r);return b.useMemo(()=>({getReferenceProps:i,getFloatingProps:a,getItemProps:o}),[i,a,o])}function _Y(e,t){return{...e,rects:{...e.rects,floating:{...e.rects.floating,height:t}}}}const Wyt=e=>({name:"inner",options:e,async fn(t){const{listRef:n,overflowRef:r,onFallbackChange:i,offset:a=0,index:o=0,minItemsVisible:l=4,referenceOverflowThreshold:c=0,scrollRef:u,...d}=uf(e,t),{rects:f,elements:{floating:m}}=t,h=n.current[o],g=(u==null?void 0:u.current)||m,y=m.clientTop||g.clientTop,v=m.clientTop!==0,x=g.clientTop!==0,w=m===g;if(!h)return{};const j={...t,...await n$(-h.offsetTop-m.clientTop-f.reference.height/2-h.offsetHeight/2-a).fn(t)},_=await XT(_Y(j,g.scrollHeight+y+m.clientTop),d),S=await XT(j,{...d,elementContext:"reference"}),k=oo(0,_.top),P=j.y+k,R=(g.scrollHeight>g.clientHeight?D=>D:Hw)(oo(0,g.scrollHeight+(v&&w||x?y*2:0)-k-oo(0,_.bottom)));if(g.style.maxHeight=R+"px",g.scrollTop=k,i){const D=g.offsetHeight<h.offsetHeight*Eh(l,n.current.length)-1||S.top>=-c||S.bottom>=-c;Er.flushSync(()=>i(D))}return r&&(r.current=await XT(_Y({...j,y:P},g.offsetHeight+y+m.clientTop),d)),{y:P}}});function Hyt(e,t){const{open:n,elements:r}=e,{enabled:i=!0,overflowRef:a,scrollRef:o,onChange:l}=t,c=Yge(l),u=b.useRef(!1),d=b.useRef(null),f=b.useRef(null);b.useEffect(()=>{if(!i)return;function h(y){if(y.ctrlKey||!g||a.current==null)return;const v=y.deltaY,x=a.current.top>=-.5,w=a.current.bottom>=-.5,j=g.scrollHeight-g.clientHeight,_=v<0?-1:1,S=v<0?"max":"min";g.scrollHeight<=g.clientHeight||(!x&&v>0||!w&&v<0?(y.preventDefault(),Er.flushSync(()=>{c(k=>k+Math[S](v,j*_))})):/firefox/i.test(Pyt())&&(g.scrollTop+=v))}const g=(o==null?void 0:o.current)||r.floating;if(n&&g)return g.addEventListener("wheel",h),requestAnimationFrame(()=>{d.current=g.scrollTop,a.current!=null&&(f.current={...a.current})}),()=>{d.current=null,f.current=null,g.removeEventListener("wheel",h)}},[i,n,r.floating,a,o,c]);const m=b.useMemo(()=>({onKeyDown(){u.current=!0},onWheel(){u.current=!1},onPointerMove(){u.current=!1},onScroll(){const h=(o==null?void 0:o.current)||r.floating;if(!(!a.current||!h||!u.current)){if(d.current!==null){const g=h.scrollTop-d.current;(a.current.bottom<-.5&&g<-1||a.current.top<-.5&&g>1)&&Er.flushSync(()=>c(y=>y+g))}requestAnimationFrame(()=>{d.current=h.scrollTop})}}}),[r.floating,c,a,o]);return b.useMemo(()=>i?{floating:m}:{},[i,m])}let fb=b.createContext({styles:void 0,setReference:()=>{},setFloating:()=>{},getReferenceProps:()=>({}),getFloatingProps:()=>({}),slot:{}});fb.displayName="FloatingContext";let g8=b.createContext(null);g8.displayName="PlacementContext";function v8(e){return b.useMemo(()=>e?typeof e=="string"?{to:e}:e:null,[e])}function x8(){return b.useContext(fb).setReference}function Kyt(){return b.useContext(fb).getReferenceProps}function y8(){let{getFloatingProps:e,slot:t}=b.useContext(fb);return b.useCallback((...n)=>Object.assign({},e(...n),{"data-anchor":t.anchor}),[e,t])}function b8(e=null){e===!1&&(e=null),typeof e=="string"&&(e={to:e});let t=b.useContext(g8),n=b.useMemo(()=>e,[JSON.stringify(e,(i,a)=>{var o;return(o=a==null?void 0:a.outerHTML)!=null?o:a})]);or(()=>{t==null||t(n??null)},[t,n]);let r=b.useContext(fb);return b.useMemo(()=>[r.setFloating,e?r.styles:{}],[r.setFloating,e,r.styles])}let SY=4;function w8({children:e,enabled:t=!0}){let[n,r]=b.useState(null),[i,a]=b.useState(0),o=b.useRef(null),[l,c]=b.useState(null);Gyt(l);let u=t&&n!==null&&l!==null,{to:d="bottom",gap:f=0,offset:m=0,padding:h=0,inner:g}=Yyt(n,l),[y,v="center"]=d.split(" ");or(()=>{u&&a(0)},[u]);let{refs:x,floatingStyles:w,context:j}=qyt({open:u,placement:y==="selection"?v==="center"?"bottom":`bottom-${v}`:v==="center"?`${y}`:`${y}-${v}`,strategy:"absolute",transform:!1,middleware:[n$({mainAxis:y==="selection"?0:f,crossAxis:m}),Ooe({padding:h}),y!=="selection"&&Loe({padding:h}),y==="selection"&&g?Wyt({...g,padding:h,overflowRef:o,offset:i,minItemsVisible:SY,referenceOverflowThreshold:h,onFallbackChange(D){var I,B;if(!D)return;let $=j.elements.floating;if(!$)return;let K=parseFloat(getComputedStyle($).scrollPaddingBottom)||0,Y=Math.min(SY,$.childElementCount),Q=0,H=0;for(let G of(B=(I=j.elements.floating)==null?void 0:I.childNodes)!=null?B:[])if(G instanceof HTMLElement){let U=G.offsetTop,ee=U+G.clientHeight+K,z=$.scrollTop,F=z+$.clientHeight;if(U>=z&&ee<=F)Y--;else{H=Math.max(0,Math.min(ee,F)-Math.max(U,z)),Q=G.clientHeight;break}}Y>=1&&a(G=>{let U=Q*Y-H+K;return G>=U?G:U})}}):null,Moe({padding:h,apply({availableWidth:D,availableHeight:I,elements:B}){Object.assign(B.floating.style,{overflow:"auto",maxWidth:`${D}px`,maxHeight:`min(var(--anchor-max-height, 100vh), ${I}px)`})}})].filter(Boolean),whileElementsMounted:t$}),[_=y,S=v]=j.placement.split("-");y==="selection"&&(_="selection");let k=b.useMemo(()=>({anchor:[_,S].filter(Boolean).join(" ")}),[_,S]),P=Hyt(j,{overflowRef:o,onChange:a}),{getReferenceProps:M,getFloatingProps:T}=Uyt([P]),R=rt(D=>{c(D),x.setFloating(D)});return b.createElement(g8.Provider,{value:r},b.createElement(fb.Provider,{value:{setFloating:R,setReference:x.setReference,styles:w,getReferenceProps:M,getFloatingProps:T,slot:k}},e))}function Gyt(e){or(()=>{if(!e)return;let t=new MutationObserver(()=>{let n=window.getComputedStyle(e).maxHeight,r=parseFloat(n);if(isNaN(r))return;let i=parseInt(n);isNaN(i)||r!==i&&(e.style.maxHeight=`${Math.ceil(r)}px`)});return t.observe(e,{attributes:!0,attributeFilter:["style"]}),()=>{t.disconnect()}},[e])}function Yyt(e,t){var n,r,i;let a=gO((n=e==null?void 0:e.gap)!=null?n:"var(--anchor-gap, 0)",t),o=gO((r=e==null?void 0:e.offset)!=null?r:"var(--anchor-offset, 0)",t),l=gO((i=e==null?void 0:e.padding)!=null?i:"var(--anchor-padding, 0)",t);return{...e,gap:a,offset:o,padding:l}}function gO(e,t,n=void 0){let r=Cf(),i=rt((c,u)=>{if(c==null)return[n,null];if(typeof c=="number")return[c,null];if(typeof c=="string"){if(!u)return[n,null];let d=kY(c,u);return[d,f=>{let m=Xge(c);{let h=m.map(g=>window.getComputedStyle(u).getPropertyValue(g));r.requestAnimationFrame(function g(){r.nextFrame(g);let y=!1;for(let[x,w]of m.entries()){let j=window.getComputedStyle(u).getPropertyValue(w);if(h[x]!==j){h[x]=j,y=!0;break}}if(!y)return;let v=kY(c,u);d!==v&&(f(v),d=v)})}return r.dispose}]}return[n,null]}),a=b.useMemo(()=>i(e,t)[0],[e,t]),[o=a,l]=b.useState();return or(()=>{let[c,u]=i(e,t);if(l(c),!!u)return u(l)},[e,t]),o}function Xge(e){let t=/var\((.*)\)/.exec(e);if(t){let n=t[1].indexOf(",");if(n===-1)return[t[1]];let r=t[1].slice(0,n).trim(),i=t[1].slice(n+1).trim();return i?[r,...Xge(i)]:[r]}return[]}function kY(e,t){let n=document.createElement("div");t.appendChild(n),n.style.setProperty("margin-top","0px","important"),n.style.setProperty("margin-top",e,"important");let r=parseFloat(window.getComputedStyle(n).marginTop)||0;return t.removeChild(n),r}function Xyt({children:e,freeze:t}){let n=tC(t,e);return E.createElement(E.Fragment,null,n)}function tC(e,t){let[n,r]=b.useState(t);return!e&&n!==t&&r(t),e?n:t}let BP=b.createContext(null);BP.displayName="OpenClosedContext";var ei=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(ei||{});function Uh(){return b.useContext(BP)}function Gj({value:e,children:t}){return E.createElement(BP.Provider,{value:e},t)}function j8({children:e}){return E.createElement(BP.Provider,{value:null},e)}function Zyt(e){function t(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",t))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",t),t())}let Bd=[];Zyt(()=>{function e(t){if(!(t.target instanceof HTMLElement)||t.target===document.body||Bd[0]===t.target)return;let n=t.target;n=n.closest(eC),Bd.unshift(n??t.target),Bd=Bd.filter(r=>r!=null&&r.isConnected),Bd.splice(10)}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function Qyt(e){throw new Error("Unexpected object: "+e)}var lr=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(lr||{});function nw(e,t){let n=t.resolveItems();if(n.length<=0)return null;let r=t.resolveActiveIndex(),i=r??-1;switch(e.focus){case 0:{for(let a=0;a<n.length;++a)if(!t.resolveDisabled(n[a],a,n))return a;return r}case 1:{i===-1&&(i=n.length);for(let a=i-1;a>=0;--a)if(!t.resolveDisabled(n[a],a,n))return a;return r}case 2:{for(let a=i+1;a<n.length;++a)if(!t.resolveDisabled(n[a],a,n))return a;return r}case 3:{for(let a=n.length-1;a>=0;--a)if(!t.resolveDisabled(n[a],a,n))return a;return r}case 4:{for(let a=0;a<n.length;++a)if(t.resolveId(n[a],a,n)===e.id)return a;return r}case 5:return null;default:Qyt(e)}}var N8=(e=>(e[e.Left=0]="Left",e[e.Right=2]="Right",e))(N8||{});function Zge(e){let t=rt(e),n=b.useRef(!1);b.useEffect(()=>(n.current=!1,()=>{n.current=!0,Wj(()=>{n.current&&t()})}),[t])}function Jyt(){let e=typeof document>"u";return"useSyncExternalStore"in wh?(t=>t.useSyncExternalStore)(wh)(()=>()=>{},()=>!1,()=>!e):!1}function Yj(){let e=Jyt(),[t,n]=b.useState(Qg.isHandoffComplete);return t&&Qg.isHandoffComplete===!1&&n(!1),b.useEffect(()=>{t!==!0&&n(!0)},[t]),b.useEffect(()=>Qg.handoff(),[]),e?!1:t}let Qge=b.createContext(!1);function e0t(){return b.useContext(Qge)}function CY(e){return E.createElement(Qge.Provider,{value:e.force},e.children)}function t0t(e){let t=e0t(),n=b.useContext(eve),r=vd(e),[i,a]=b.useState(()=>{var o;if(!t&&n!==null)return(o=n.current)!=null?o:null;if(Qg.isServer)return null;let l=r==null?void 0:r.getElementById("headlessui-portal-root");if(l)return l;if(r===null)return null;let c=r.createElement("div");return c.setAttribute("id","headlessui-portal-root"),r.body.appendChild(c)});return b.useEffect(()=>{i!==null&&(r!=null&&r.body.contains(i)||r==null||r.body.appendChild(i))},[i,r]),b.useEffect(()=>{t||n!==null&&a(n.current)},[n,a,t]),i}let Jge=b.Fragment,n0t=ir(function(e,t){let n=e,r=b.useRef(null),i=br(c8(f=>{r.current=f}),t),a=vd(r),o=t0t(r),[l]=b.useState(()=>{var f;return Qg.isServer?null:(f=a==null?void 0:a.createElement("div"))!=null?f:null}),c=b.useContext(iD),u=Yj();or(()=>{!o||!l||o.contains(l)||(l.setAttribute("data-headlessui-portal",""),o.appendChild(l))},[o,l]),or(()=>{if(l&&c)return c.register(l)},[c,l]),Zge(()=>{var f;!o||!l||(l instanceof Node&&o.contains(l)&&o.removeChild(l),o.childNodes.length<=0&&((f=o.parentElement)==null||f.removeChild(o)))});let d=cr();return u?!o||!l?null:Er.createPortal(d({ourProps:{ref:i},theirProps:n,slot:{},defaultTag:Jge,name:"Portal"}),l):null});function r0t(e,t){let n=br(t),{enabled:r=!0,...i}=e,a=cr();return r?E.createElement(n0t,{...i,ref:n}):a({ourProps:{ref:n},theirProps:i,slot:{},defaultTag:Jge,name:"Portal"})}let i0t=b.Fragment,eve=b.createContext(null);function a0t(e,t){let{target:n,...r}=e,i={ref:br(t)},a=cr();return E.createElement(eve.Provider,{value:n},a({ourProps:i,theirProps:r,defaultTag:i0t,name:"Popover.Group"}))}let iD=b.createContext(null);function tve(){let e=b.useContext(iD),t=b.useRef([]),n=rt(a=>(t.current.push(a),e&&e.register(a),()=>r(a))),r=rt(a=>{let o=t.current.indexOf(a);o!==-1&&t.current.splice(o,1),e&&e.unregister(a)}),i=b.useMemo(()=>({register:n,unregister:r,portals:t}),[n,r,t]);return[t,b.useMemo(()=>function({children:a}){return E.createElement(iD.Provider,{value:i},a)},[i])]}let s0t=ir(r0t),nve=ir(a0t),zP=Object.assign(s0t,{Group:nve});var o0t=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(o0t||{}),l0t=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(l0t||{}),c0t=(e=>(e[e.Pointer=0]="Pointer",e[e.Focus=1]="Focus",e[e.Other=2]="Other",e))(c0t||{}),u0t=(e=>(e[e.OpenCombobox=0]="OpenCombobox",e[e.CloseCombobox=1]="CloseCombobox",e[e.GoToOption=2]="GoToOption",e[e.SetTyping=3]="SetTyping",e[e.RegisterOption=4]="RegisterOption",e[e.UnregisterOption=5]="UnregisterOption",e[e.SetActivationTrigger=6]="SetActivationTrigger",e[e.UpdateVirtualConfiguration=7]="UpdateVirtualConfiguration",e[e.SetInputElement=8]="SetInputElement",e[e.SetButtonElement=9]="SetButtonElement",e[e.SetOptionsElement=10]="SetOptionsElement",e))(u0t||{});function vO(e,t=n=>n){let n=e.activeOptionIndex!==null?e.options[e.activeOptionIndex]:null,r=t(e.options.slice()),i=r.length>0&&r[0].dataRef.current.order!==null?r.sort((o,l)=>o.dataRef.current.order-l.dataRef.current.order):Um(r,o=>o.dataRef.current.domRef.current),a=n?i.indexOf(n):null;return a===-1&&(a=null),{options:i,activeOptionIndex:a}}let d0t={1(e){var t;return(t=e.dataRef.current)!=null&&t.disabled||e.comboboxState===1?e:{...e,activeOptionIndex:null,comboboxState:1,isTyping:!1,activationTrigger:2,__demoMode:!1}},0(e){var t,n;if((t=e.dataRef.current)!=null&&t.disabled||e.comboboxState===0)return e;if((n=e.dataRef.current)!=null&&n.value){let r=e.dataRef.current.calculateIndex(e.dataRef.current.value);if(r!==-1)return{...e,activeOptionIndex:r,comboboxState:0,__demoMode:!1}}return{...e,comboboxState:0,__demoMode:!1}},3(e,t){return e.isTyping===t.isTyping?e:{...e,isTyping:t.isTyping}},2(e,t){var n,r,i,a;if((n=e.dataRef.current)!=null&&n.disabled||e.optionsElement&&!((r=e.dataRef.current)!=null&&r.optionsPropsRef.current.static)&&e.comboboxState===1)return e;if(e.virtual){let{options:u,disabled:d}=e.virtual,f=t.focus===lr.Specific?t.idx:nw(t,{resolveItems:()=>u,resolveActiveIndex:()=>{var h,g;return(g=(h=e.activeOptionIndex)!=null?h:u.findIndex(y=>!d(y)))!=null?g:null},resolveDisabled:d,resolveId(){throw new Error("Function not implemented.")}}),m=(i=t.trigger)!=null?i:2;return e.activeOptionIndex===f&&e.activationTrigger===m?e:{...e,activeOptionIndex:f,activationTrigger:m,isTyping:!1,__demoMode:!1}}let o=vO(e);if(o.activeOptionIndex===null){let u=o.options.findIndex(d=>!d.dataRef.current.disabled);u!==-1&&(o.activeOptionIndex=u)}let l=t.focus===lr.Specific?t.idx:nw(t,{resolveItems:()=>o.options,resolveActiveIndex:()=>o.activeOptionIndex,resolveId:u=>u.id,resolveDisabled:u=>u.dataRef.current.disabled}),c=(a=t.trigger)!=null?a:2;return e.activeOptionIndex===l&&e.activationTrigger===c?e:{...e,...o,isTyping:!1,activeOptionIndex:l,activationTrigger:c,__demoMode:!1}},4:(e,t)=>{var n,r,i;if((n=e.dataRef.current)!=null&&n.virtual)return{...e,options:[...e.options,t.payload]};let a=t.payload,o=vO(e,c=>(c.push(a),c));e.activeOptionIndex===null&&(r=e.dataRef.current)!=null&&r.isSelected(t.payload.dataRef.current.value)&&(o.activeOptionIndex=o.options.indexOf(a));let l={...e,...o,activationTrigger:2};return(i=e.dataRef.current)!=null&&i.__demoMode&&e.dataRef.current.value===void 0&&(l.activeOptionIndex=0),l},5:(e,t)=>{var n;if((n=e.dataRef.current)!=null&&n.virtual)return{...e,options:e.options.filter(i=>i.id!==t.id)};let r=vO(e,i=>{let a=i.findIndex(o=>o.id===t.id);return a!==-1&&i.splice(a,1),i});return{...e,...r,activationTrigger:2}},6:(e,t)=>e.activationTrigger===t.trigger?e:{...e,activationTrigger:t.trigger},7:(e,t)=>{var n,r;if(e.virtual===null)return{...e,virtual:{options:t.options,disabled:(n=t.disabled)!=null?n:()=>!1}};if(e.virtual.options===t.options&&e.virtual.disabled===t.disabled)return e;let i=e.activeOptionIndex;if(e.activeOptionIndex!==null){let a=t.options.indexOf(e.virtual.options[e.activeOptionIndex]);a!==-1?i=a:i=null}return{...e,activeOptionIndex:i,virtual:{options:t.options,disabled:(r=t.disabled)!=null?r:()=>!1}}},8:(e,t)=>e.inputElement===t.element?e:{...e,inputElement:t.element},9:(e,t)=>e.buttonElement===t.element?e:{...e,buttonElement:t.element},10:(e,t)=>e.optionsElement===t.element?e:{...e,optionsElement:t.element}},_8=b.createContext(null);_8.displayName="ComboboxActionsContext";function Xj(e){let t=b.useContext(_8);if(t===null){let n=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Xj),n}return t}let rve=b.createContext(null);function f0t(e){let t=hb("VirtualProvider"),{options:n}=t.virtual,[r,i]=b.useMemo(()=>{let u=t.optionsElement;if(!u)return[0,0];let d=window.getComputedStyle(u);return[parseFloat(d.paddingBlockStart||d.paddingTop),parseFloat(d.paddingBlockEnd||d.paddingBottom)]},[t.optionsElement]),a=iyt({enabled:n.length!==0,scrollPaddingStart:r,scrollPaddingEnd:i,count:n.length,estimateSize(){return 40},getScrollElement(){return t.optionsElement},overscan:12}),[o,l]=b.useState(0);or(()=>{l(u=>u+1)},[n]);let c=a.getVirtualItems();return c.length===0?null:E.createElement(rve.Provider,{value:a},E.createElement("div",{style:{position:"relative",width:"100%",height:`${a.getTotalSize()}px`},ref:u=>{u&&t.activationTrigger!==0&&t.activeOptionIndex!==null&&n.length>t.activeOptionIndex&&a.scrollToIndex(t.activeOptionIndex)}},c.map(u=>{var d;return E.createElement(b.Fragment,{key:u.key},E.cloneElement((d=e.children)==null?void 0:d.call(e,{...e.slot,option:n[u.index]}),{key:`${o}-${u.key}`,"data-index":u.index,"aria-setsize":n.length,"aria-posinset":u.index+1,style:{position:"absolute",top:0,left:0,transform:`translateY(${u.start}px)`,overflowAnchor:"none"}}))})))}let ej=b.createContext(null);ej.displayName="ComboboxDataContext";function hb(e){let t=b.useContext(ej);if(t===null){let n=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,hb),n}return t}function h0t(e,t){return xr(t.type,d0t,e,t)}let m0t=b.Fragment;function p0t(e,t){var n,r;let i=Hj(),{value:a,defaultValue:o,onChange:l,form:c,name:u,by:d,disabled:f=i||!1,onClose:m,__demoMode:h=!1,multiple:g=!1,immediate:y=!1,virtual:v=null,nullable:x,...w}=e,j=o8(o),[_=g?[]:void 0,S]=s8(a,l,j),[k,P]=b.useReducer(h0t,{dataRef:b.createRef(),comboboxState:h?0:1,isTyping:!1,options:[],virtual:v?{options:v.options,disabled:(n=v.disabled)!=null?n:()=>!1}:null,activeOptionIndex:null,activationTrigger:2,inputElement:null,buttonElement:null,optionsElement:null,__demoMode:h}),M=b.useRef(!1),T=b.useRef({static:!1,hold:!1}),R=Bge(d),D=rt(ae=>v?d===null?v.options.indexOf(ae):v.options.findIndex(X=>R(X,ae)):k.options.findIndex(X=>R(X.dataRef.current.value,ae))),I=b.useCallback(ae=>xr($.mode,{1:()=>_.some(X=>R(X,ae)),0:()=>R(_,ae)}),[_]),B=rt(ae=>k.activeOptionIndex===D(ae)),$=b.useMemo(()=>({...k,immediate:y,optionsPropsRef:T,value:_,defaultValue:j,disabled:f,mode:g?1:0,virtual:v?k.virtual:null,get activeOptionIndex(){if(M.current&&k.activeOptionIndex===null&&(v?v.options.length>0:k.options.length>0)){if(v){let X=v.options.findIndex(Ae=>{var qe,tt;return!((tt=(qe=v.disabled)==null?void 0:qe.call(v,Ae))!=null&&tt)});if(X!==-1)return X}let ae=k.options.findIndex(X=>!X.dataRef.current.disabled);if(ae!==-1)return ae}return k.activeOptionIndex},calculateIndex:D,compare:R,isSelected:I,isActive:B}),[_,j,f,g,h,k,v]);or(()=>{var ae;v&&P({type:7,options:v.options,disabled:(ae=v.disabled)!=null?ae:null})},[v,v==null?void 0:v.options,v==null?void 0:v.disabled]),or(()=>{k.dataRef.current=$},[$]);let K=$.comboboxState===0;RP(K,[$.buttonElement,$.inputElement,$.optionsElement],()=>ve.closeCombobox());let Y=b.useMemo(()=>{var ae,X,Ae;return{open:$.comboboxState===0,disabled:f,activeIndex:$.activeOptionIndex,activeOption:$.activeOptionIndex===null?null:$.virtual?$.virtual.options[(ae=$.activeOptionIndex)!=null?ae:0]:(Ae=(X=$.options[$.activeOptionIndex])==null?void 0:X.dataRef.current.value)!=null?Ae:null,value:_}},[$,f,_]),Q=rt(()=>{if($.activeOptionIndex!==null){if(ve.setIsTyping(!1),$.virtual)F($.virtual.options[$.activeOptionIndex]);else{let{dataRef:ae}=$.options[$.activeOptionIndex];F(ae.current.value)}ve.goToOption(lr.Specific,$.activeOptionIndex)}}),H=rt(()=>{P({type:0}),M.current=!0}),G=rt(()=>{P({type:1}),M.current=!1,m==null||m()}),U=rt(ae=>{P({type:3,isTyping:ae})}),ee=rt((ae,X,Ae)=>(M.current=!1,ae===lr.Specific?P({type:2,focus:lr.Specific,idx:X,trigger:Ae}):P({type:2,focus:ae,trigger:Ae}))),z=rt((ae,X)=>(P({type:4,payload:{id:ae,dataRef:X}}),()=>{$.isActive(X.current.value)&&(M.current=!0),P({type:5,id:ae})})),F=rt(ae=>xr($.mode,{0(){return S==null?void 0:S(ae)},1(){let X=$.value.slice(),Ae=X.findIndex(qe=>R(qe,ae));return Ae===-1?X.push(ae):X.splice(Ae,1),S==null?void 0:S(X)}})),ie=rt(ae=>{P({type:6,trigger:ae})}),ce=rt(ae=>{P({type:8,element:ae})}),te=rt(ae=>{P({type:9,element:ae})}),oe=rt(ae=>{P({type:10,element:ae})}),ve=b.useMemo(()=>({onChange:F,registerOption:z,goToOption:ee,setIsTyping:U,closeCombobox:G,openCombobox:H,setActivationTrigger:ie,selectActiveOption:Q,setInputElement:ce,setButtonElement:te,setOptionsElement:oe}),[]),[ne,xe]=d8(),ue=t===null?{}:{ref:t},re=b.useCallback(()=>{if(j!==void 0)return S==null?void 0:S(j)},[S,j]),Se=cr();return E.createElement(xe,{value:ne,props:{htmlFor:(r=$.inputElement)==null?void 0:r.id},slot:{open:$.comboboxState===0,disabled:f}},E.createElement(w8,null,E.createElement(_8.Provider,{value:ve},E.createElement(ej.Provider,{value:$},E.createElement(Gj,{value:xr($.comboboxState,{0:ei.Open,1:ei.Closed})},u!=null&&E.createElement(l8,{disabled:f,data:_!=null?{[u]:_}:{},form:c,onReset:re}),Se({ourProps:ue,theirProps:w,slot:Y,defaultTag:m0t,name:"Combobox"}))))))}let g0t="input";function v0t(e,t){var n,r,i,a,o;let l=hb("Combobox.Input"),c=Xj("Combobox.Input"),u=b.useId(),d=OP(),{id:f=d||`headlessui-combobox-input-${u}`,onChange:m,displayValue:h,disabled:g=l.disabled||!1,autoFocus:y=!1,type:v="text",...x}=e,w=b.useRef(null),j=br(w,t,x8(),c.setInputElement),_=vd(l.inputElement),S=Cf(),k=rt(()=>{c.onChange(null),l.optionsElement&&(l.optionsElement.scrollTop=0),c.goToOption(lr.Nothing)}),P=b.useMemo(()=>{var F;return typeof h=="function"&&l.value!==void 0?(F=h(l.value))!=null?F:"":typeof l.value=="string"?l.value:""},[l.value,h]);J2(([F,ie],[ce,te])=>{if(l.isTyping)return;let oe=w.current;oe&&((te===0&&ie===1||F!==ce)&&(oe.value=F),requestAnimationFrame(()=>{if(l.isTyping||!oe||(_==null?void 0:_.activeElement)!==oe)return;let{selectionStart:ve,selectionEnd:ne}=oe;Math.abs((ne??0)-(ve??0))===0&&ve===0&&oe.setSelectionRange(oe.value.length,oe.value.length)}))},[P,l.comboboxState,_,l.isTyping]),J2(([F],[ie])=>{if(F===0&&ie===1){if(l.isTyping)return;let ce=w.current;if(!ce)return;let te=ce.value,{selectionStart:oe,selectionEnd:ve,selectionDirection:ne}=ce;ce.value="",ce.value=te,ne!==null?ce.setSelectionRange(oe,ve,ne):ce.setSelectionRange(oe,ve)}},[l.comboboxState]);let M=b.useRef(!1),T=rt(()=>{M.current=!0}),R=rt(()=>{S.nextFrame(()=>{M.current=!1})}),D=rt(F=>{switch(c.setIsTyping(!0),F.key){case rn.Enter:if(l.comboboxState!==0||M.current)return;if(F.preventDefault(),F.stopPropagation(),l.activeOptionIndex===null){c.closeCombobox();return}c.selectActiveOption(),l.mode===0&&c.closeCombobox();break;case rn.ArrowDown:return F.preventDefault(),F.stopPropagation(),xr(l.comboboxState,{0:()=>c.goToOption(lr.Next),1:()=>c.openCombobox()});case rn.ArrowUp:return F.preventDefault(),F.stopPropagation(),xr(l.comboboxState,{0:()=>c.goToOption(lr.Previous),1:()=>{Er.flushSync(()=>c.openCombobox()),l.value||c.goToOption(lr.Last)}});case rn.Home:if(F.shiftKey)break;return F.preventDefault(),F.stopPropagation(),c.goToOption(lr.First);case rn.PageUp:return F.preventDefault(),F.stopPropagation(),c.goToOption(lr.First);case rn.End:if(F.shiftKey)break;return F.preventDefault(),F.stopPropagation(),c.goToOption(lr.Last);case rn.PageDown:return F.preventDefault(),F.stopPropagation(),c.goToOption(lr.Last);case rn.Escape:return l.comboboxState!==0?void 0:(F.preventDefault(),l.optionsElement&&!l.optionsPropsRef.current.static&&F.stopPropagation(),l.mode===0&&l.value===null&&k(),c.closeCombobox());case rn.Tab:if(l.comboboxState!==0)return;l.mode===0&&l.activationTrigger!==1&&c.selectActiveOption(),c.closeCombobox();break}}),I=rt(F=>{m==null||m(F),l.mode===0&&F.target.value===""&&k(),c.openCombobox()}),B=rt(F=>{var ie,ce,te;let oe=(ie=F.relatedTarget)!=null?ie:Bd.find(ve=>ve!==F.currentTarget);if(!((ce=l.optionsElement)!=null&&ce.contains(oe))&&!((te=l.buttonElement)!=null&&te.contains(oe))&&l.comboboxState===0)return F.preventDefault(),l.mode===0&&l.value===null&&k(),c.closeCombobox()}),$=rt(F=>{var ie,ce,te;let oe=(ie=F.relatedTarget)!=null?ie:Bd.find(ve=>ve!==F.currentTarget);(ce=l.buttonElement)!=null&&ce.contains(oe)||(te=l.optionsElement)!=null&&te.contains(oe)||l.disabled||l.immediate&&l.comboboxState!==0&&S.microTask(()=>{Er.flushSync(()=>c.openCombobox()),c.setActivationTrigger(1)})}),K=ob(),Y=u8(),{isFocused:Q,focusProps:H}=zp({autoFocus:y}),{isHovered:G,hoverProps:U}=Fv({isDisabled:g}),ee=b.useMemo(()=>({open:l.comboboxState===0,disabled:g,hover:G,focus:Q,autofocus:y}),[l,G,Q,y,g]),z=xc({ref:j,id:f,role:"combobox",type:v,"aria-controls":(n=l.optionsElement)==null?void 0:n.id,"aria-expanded":l.comboboxState===0,"aria-activedescendant":l.activeOptionIndex===null?void 0:l.virtual?(r=l.options.find(F=>!F.dataRef.current.disabled&&l.compare(F.dataRef.current.value,l.virtual.options[l.activeOptionIndex])))==null?void 0:r.id:(i=l.options[l.activeOptionIndex])==null?void 0:i.id,"aria-labelledby":K,"aria-describedby":Y,"aria-autocomplete":"list",defaultValue:(o=(a=e.defaultValue)!=null?a:l.defaultValue!==void 0?h==null?void 0:h(l.defaultValue):null)!=null?o:l.defaultValue,disabled:g||void 0,autoFocus:y,onCompositionStart:T,onCompositionEnd:R,onKeyDown:D,onChange:I,onFocus:$,onBlur:B},H,U);return cr()({ourProps:z,theirProps:x,slot:ee,defaultTag:g0t,name:"Combobox.Input"})}let x0t="button";function y0t(e,t){var n;let r=hb("Combobox.Button"),i=Xj("Combobox.Button"),a=br(t,i.setButtonElement),o=b.useId(),{id:l=`headlessui-combobox-button-${o}`,disabled:c=r.disabled||!1,autoFocus:u=!1,...d}=e,f=Hge(r.inputElement),m=rt(P=>{switch(P.key){case rn.Space:case rn.Enter:P.preventDefault(),P.stopPropagation(),r.comboboxState===1&&Er.flushSync(()=>i.openCombobox()),f();return;case rn.ArrowDown:P.preventDefault(),P.stopPropagation(),r.comboboxState===1&&(Er.flushSync(()=>i.openCombobox()),r.value||i.goToOption(lr.First)),f();return;case rn.ArrowUp:P.preventDefault(),P.stopPropagation(),r.comboboxState===1&&(Er.flushSync(()=>i.openCombobox()),r.value||i.goToOption(lr.Last)),f();return;case rn.Escape:if(r.comboboxState!==0)return;P.preventDefault(),r.optionsElement&&!r.optionsPropsRef.current.static&&P.stopPropagation(),Er.flushSync(()=>i.closeCombobox()),f();return;default:return}}),h=rt(P=>{P.preventDefault(),!sb(P.currentTarget)&&(P.button===N8.Left&&(r.comboboxState===0?i.closeCombobox():i.openCombobox()),f())}),g=ob([l]),{isFocusVisible:y,focusProps:v}=zp({autoFocus:u}),{isHovered:x,hoverProps:w}=Fv({isDisabled:c}),{pressed:j,pressProps:_}=ab({disabled:c}),S=b.useMemo(()=>({open:r.comboboxState===0,active:j||r.comboboxState===0,disabled:c,value:r.value,hover:x,focus:y}),[r,x,y,j,c]),k=xc({ref:a,id:l,type:cb(e,r.buttonElement),tabIndex:-1,"aria-haspopup":"listbox","aria-controls":(n=r.optionsElement)==null?void 0:n.id,"aria-expanded":r.comboboxState===0,"aria-labelledby":g,disabled:c||void 0,autoFocus:u,onMouseDown:h,onKeyDown:m},v,w,_);return cr()({ourProps:k,theirProps:d,slot:S,defaultTag:x0t,name:"Combobox.Button"})}let b0t="div",w0t=go.RenderStrategy|go.Static;function j0t(e,t){var n,r,i;let a=b.useId(),{id:o=`headlessui-combobox-options-${a}`,hold:l=!1,anchor:c,portal:u=!1,modal:d=!0,transition:f=!1,...m}=e,h=hb("Combobox.Options"),g=Xj("Combobox.Options"),y=v8(c);y&&(u=!0);let[v,x]=b8(y),[w,j]=b.useState(null),_=y8(),S=br(t,y?v:null,g.setOptionsElement,j),k=vd(h.optionsElement),P=Uh(),[M,T]=db(f,w,P!==null?(P&ei.Open)===ei.Open:h.comboboxState===0);IP(M,h.inputElement,g.closeCombobox);let R=h.__demoMode?!1:d&&h.comboboxState===0;FP(R,k);let D=h.__demoMode?!1:d&&h.comboboxState===0;m8(D,{allowed:b.useCallback(()=>[h.inputElement,h.buttonElement,h.optionsElement],[h.inputElement,h.buttonElement,h.optionsElement])}),or(()=>{var z;h.optionsPropsRef.current.static=(z=e.static)!=null?z:!1},[h.optionsPropsRef,e.static]),or(()=>{h.optionsPropsRef.current.hold=l},[h.optionsPropsRef,l]),Eyt(h.comboboxState===0,{container:h.optionsElement,accept(z){return z.getAttribute("role")==="option"?NodeFilter.FILTER_REJECT:z.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(z){z.setAttribute("role","none")}});let I=ob([(n=h.buttonElement)==null?void 0:n.id]),B=b.useMemo(()=>({open:h.comboboxState===0,option:void 0}),[h.comboboxState]),$=rt(()=>{g.setActivationTrigger(0)}),K=rt(z=>{z.preventDefault(),g.setActivationTrigger(0)}),Y=xc(y?_():{},{"aria-labelledby":I,role:"listbox","aria-multiselectable":h.mode===1?!0:void 0,id:o,ref:S,style:{...m.style,...x,"--input-width":Jk(h.inputElement,!0).width,"--button-width":Jk(h.buttonElement,!0).width},onWheel:h.activationTrigger===0?void 0:$,onMouseDown:K,...ub(T)}),Q=M&&h.comboboxState===1,H=tC(Q,(r=h.virtual)==null?void 0:r.options),G=tC(Q,h.value),U=rt(z=>h.compare(G,z));if(h.virtual){if(H===void 0)throw new Error("Missing `options` in virtual mode");Object.assign(m,{children:E.createElement(ej.Provider,{value:H!==h.virtual.options?{...h,virtual:{...h.virtual,options:H}}:h},E.createElement(f0t,{slot:B},m.children))})}let ee=cr();return E.createElement(zP,{enabled:u?e.static||M:!1},E.createElement(ej.Provider,{value:h.mode===1?h:{...h,isSelected:U}},ee({ourProps:Y,theirProps:{...m,children:E.createElement(Xyt,{freeze:Q},typeof m.children=="function"?(i=m.children)==null?void 0:i.call(m,B):m.children)},slot:B,defaultTag:b0t,features:w0t,visible:M,name:"Combobox.Options"})))}let N0t="div";function _0t(e,t){var n,r,i,a;let o=hb("Combobox.Option"),l=Xj("Combobox.Option"),c=b.useId(),{id:u=`headlessui-combobox-option-${c}`,value:d,disabled:f=(i=(r=(n=o.virtual)==null?void 0:n.disabled)==null?void 0:r.call(n,d))!=null?i:!1,order:m=null,...h}=e,g=Hge(o.inputElement),y=o.virtual?o.activeOptionIndex===o.calculateIndex(d):o.activeOptionIndex===null?!1:((a=o.options[o.activeOptionIndex])==null?void 0:a.id)===u,v=o.isSelected(d),x=b.useRef(null),w=zo({disabled:f,value:d,domRef:x,order:m}),j=b.useContext(rve),_=br(t,x,j?j.measureElement:null),S=rt(()=>{l.setIsTyping(!1),l.onChange(d)});or(()=>l.registerOption(u,w),[w,u]);let k=b.useRef(!(o.virtual||o.__demoMode));or(()=>{if(!o.virtual&&!o.__demoMode)return od().requestAnimationFrame(()=>{k.current=!0})},[o.virtual,o.__demoMode]),or(()=>{if(k.current&&o.comboboxState===0&&y&&o.activationTrigger!==0)return od().requestAnimationFrame(()=>{var K,Y;(Y=(K=x.current)==null?void 0:K.scrollIntoView)==null||Y.call(K,{block:"nearest"})})},[x,y,o.comboboxState,o.activationTrigger,o.activeOptionIndex]);let P=rt(K=>{K.preventDefault(),K.button===N8.Left&&(f||(S(),Uge()||requestAnimationFrame(()=>g()),o.mode===0&&l.closeCombobox()))}),M=rt(()=>{if(f)return l.goToOption(lr.Nothing);let K=o.calculateIndex(d);l.goToOption(lr.Specific,K)}),T=Kge(),R=rt(K=>T.update(K)),D=rt(K=>{if(!T.wasMoved(K)||f||y)return;let Y=o.calculateIndex(d);l.goToOption(lr.Specific,Y,0)}),I=rt(K=>{T.wasMoved(K)&&(f||y&&(o.optionsPropsRef.current.hold||l.goToOption(lr.Nothing)))}),B=b.useMemo(()=>({active:y,focus:y,selected:v,disabled:f}),[y,v,f]),$={id:u,ref:_,role:"option",tabIndex:f===!0?void 0:-1,"aria-disabled":f===!0?!0:void 0,"aria-selected":v,disabled:void 0,onMouseDown:P,onFocus:M,onPointerEnter:R,onMouseEnter:R,onPointerMove:D,onMouseMove:D,onPointerLeave:I,onMouseLeave:I};return cr()({ourProps:$,theirProps:h,slot:B,defaultTag:N0t,name:"Combobox.Option"})}let S0t=ir(p0t),ive=ir(y0t),ave=ir(v0t),k0t=f8,sve=ir(j0t),ove=ir(_0t),C0t=Object.assign(S0t,{Input:ave,Button:ive,Label:k0t,Options:sve,Option:ove});function E0t(e,t=typeof document<"u"?document.defaultView:null,n){let r=lb(e,"escape");$P(t,"keydown",i=>{r&&(i.defaultPrevented||i.key===rn.Escape&&n(i))})}function P0t(){var e;let[t]=b.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[n,r]=b.useState((e=t==null?void 0:t.matches)!=null?e:!1);return or(()=>{if(!t)return;function i(a){r(a.matches)}return t.addEventListener("change",i),()=>t.removeEventListener("change",i)},[t]),n}function lve({defaultContainers:e=[],portals:t,mainTreeNode:n}={}){let r=vd(n),i=rt(()=>{var a,o;let l=[];for(let c of e)c!==null&&(c instanceof HTMLElement?l.push(c):"current"in c&&c.current instanceof HTMLElement&&l.push(c.current));if(t!=null&&t.current)for(let c of t.current)l.push(c);for(let c of(a=r==null?void 0:r.querySelectorAll("html > *, body > *"))!=null?a:[])c!==document.body&&c!==document.head&&c instanceof HTMLElement&&c.id!=="headlessui-portal-root"&&(n&&(c.contains(n)||c.contains((o=n==null?void 0:n.getRootNode())==null?void 0:o.host))||l.some(u=>c.contains(u))||l.push(c));return l});return{resolveContainers:i,contains:rt(a=>i().some(o=>o.contains(a)))}}let cve=b.createContext(null);function nC({children:e,node:t}){let[n,r]=b.useState(null),i=S8(t??n);return E.createElement(cve.Provider,{value:i},e,i===null&&E.createElement(xf,{features:vf.Hidden,ref:a=>{var o,l;if(a){for(let c of(l=(o=kf(a))==null?void 0:o.querySelectorAll("html > *, body > *"))!=null?l:[])if(c!==document.body&&c!==document.head&&c instanceof HTMLElement&&c!=null&&c.contains(a)){r(c);break}}}}))}function S8(e=null){var t;return(t=b.useContext(cve))!=null?t:e}function VP(){let e=b.useRef(!1);return or(()=>(e.current=!0,()=>{e.current=!1}),[]),e}var Ql=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(Ql||{});function k8(){let e=b.useRef(0);return Wge(!0,"keydown",t=>{t.key==="Tab"&&(e.current=t.shiftKey?1:0)},!0),e}function uve(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let n of e.current)n.current instanceof HTMLElement&&t.add(n.current);return t}let A0t="div";var Pg=(e=>(e[e.None=0]="None",e[e.InitialFocus=1]="InitialFocus",e[e.TabLock=2]="TabLock",e[e.FocusLock=4]="FocusLock",e[e.RestoreFocus=8]="RestoreFocus",e[e.AutoFocus=16]="AutoFocus",e))(Pg||{});function T0t(e,t){let n=b.useRef(null),r=br(n,t),{initialFocus:i,initialFocusFallback:a,containers:o,features:l=15,...c}=e;Yj()||(l=0);let u=vd(n);I0t(l,{ownerDocument:u});let d=D0t(l,{ownerDocument:u,container:n,initialFocus:i,initialFocusFallback:a});R0t(l,{ownerDocument:u,container:n,containers:o,previousActiveElement:d});let f=k8(),m=rt(w=>{let j=n.current;j&&(_=>_())(()=>{xr(f.current,{[Ql.Forwards]:()=>{cs(j,Qr.First,{skipElements:[w.relatedTarget,a]})},[Ql.Backwards]:()=>{cs(j,Qr.Last,{skipElements:[w.relatedTarget,a]})}})})}),h=lb(!!(l&2),"focus-trap#tab-lock"),g=Cf(),y=b.useRef(!1),v={ref:r,onKeyDown(w){w.key=="Tab"&&(y.current=!0,g.requestAnimationFrame(()=>{y.current=!1}))},onBlur(w){if(!(l&4))return;let j=uve(o);n.current instanceof HTMLElement&&j.add(n.current);let _=w.relatedTarget;_ instanceof HTMLElement&&_.dataset.headlessuiFocusGuard!=="true"&&(dve(j,_)||(y.current?cs(n.current,xr(f.current,{[Ql.Forwards]:()=>Qr.Next,[Ql.Backwards]:()=>Qr.Previous})|Qr.WrapAround,{relativeTo:w.target}):w.target instanceof HTMLElement&&yh(w.target)))}},x=cr();return E.createElement(E.Fragment,null,h&&E.createElement(xf,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:m,features:vf.Focusable}),x({ourProps:v,theirProps:c,defaultTag:A0t,name:"FocusTrap"}),h&&E.createElement(xf,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:m,features:vf.Focusable}))}let O0t=ir(T0t),L0t=Object.assign(O0t,{features:Pg});function M0t(e=!0){let t=b.useRef(Bd.slice());return J2(([n],[r])=>{r===!0&&n===!1&&Wj(()=>{t.current.splice(0)}),r===!1&&n===!0&&(t.current=Bd.slice())},[e,Bd,t]),rt(()=>{var n;return(n=t.current.find(r=>r!=null&&r.isConnected))!=null?n:null})}function I0t(e,{ownerDocument:t}){let n=!!(e&8),r=M0t(n);J2(()=>{n||(t==null?void 0:t.activeElement)===(t==null?void 0:t.body)&&yh(r())},[n]),Zge(()=>{n&&yh(r())})}function D0t(e,{ownerDocument:t,container:n,initialFocus:r,initialFocusFallback:i}){let a=b.useRef(null),o=lb(!!(e&1),"focus-trap#initial-focus"),l=VP();return J2(()=>{if(e===0)return;if(!o){i!=null&&i.current&&yh(i.current);return}let c=n.current;c&&Wj(()=>{if(!l.current)return;let u=t==null?void 0:t.activeElement;if(r!=null&&r.current){if((r==null?void 0:r.current)===u){a.current=u;return}}else if(c.contains(u)){a.current=u;return}if(r!=null&&r.current)yh(r.current);else{if(e&16){if(cs(c,Qr.First|Qr.AutoFocus)!==Zd.Error)return}else if(cs(c,Qr.First)!==Zd.Error)return;if(i!=null&&i.current&&(yh(i.current),(t==null?void 0:t.activeElement)===i.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}a.current=t==null?void 0:t.activeElement})},[i,o,e]),a}function R0t(e,{ownerDocument:t,container:n,containers:r,previousActiveElement:i}){let a=VP(),o=!!(e&4);$P(t==null?void 0:t.defaultView,"focus",l=>{if(!o||!a.current)return;let c=uve(r);n.current instanceof HTMLElement&&c.add(n.current);let u=i.current;if(!u)return;let d=l.target;d&&d instanceof HTMLElement?dve(c,d)?(i.current=d,yh(d)):(l.preventDefault(),l.stopPropagation(),yh(u)):yh(i.current)},!0)}function dve(e,t){for(let n of e)if(n.contains(t))return!0;return!1}function fve(e){var t;return!!(e.enter||e.enterFrom||e.enterTo||e.leave||e.leaveFrom||e.leaveTo)||((t=e.as)!=null?t:mve)!==b.Fragment||E.Children.count(e.children)===1}let qP=b.createContext(null);qP.displayName="TransitionContext";var $0t=(e=>(e.Visible="visible",e.Hidden="hidden",e))($0t||{});function F0t(){let e=b.useContext(qP);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function B0t(){let e=b.useContext(UP);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let UP=b.createContext(null);UP.displayName="NestingContext";function WP(e){return"children"in e?WP(e.children):e.current.filter(({el:t})=>t.current!==null).filter(({state:t})=>t==="visible").length>0}function hve(e,t){let n=zo(e),r=b.useRef([]),i=VP(),a=Cf(),o=rt((h,g=qm.Hidden)=>{let y=r.current.findIndex(({el:v})=>v===h);y!==-1&&(xr(g,{[qm.Unmount](){r.current.splice(y,1)},[qm.Hidden](){r.current[y].state="hidden"}}),a.microTask(()=>{var v;!WP(r)&&i.current&&((v=n.current)==null||v.call(n))}))}),l=rt(h=>{let g=r.current.find(({el:y})=>y===h);return g?g.state!=="visible"&&(g.state="visible"):r.current.push({el:h,state:"visible"}),()=>o(h,qm.Unmount)}),c=b.useRef([]),u=b.useRef(Promise.resolve()),d=b.useRef({enter:[],leave:[]}),f=rt((h,g,y)=>{c.current.splice(0),t&&(t.chains.current[g]=t.chains.current[g].filter(([v])=>v!==h)),t==null||t.chains.current[g].push([h,new Promise(v=>{c.current.push(v)})]),t==null||t.chains.current[g].push([h,new Promise(v=>{Promise.all(d.current[g].map(([x,w])=>w)).then(()=>v())})]),g==="enter"?u.current=u.current.then(()=>t==null?void 0:t.wait.current).then(()=>y(g)):y(g)}),m=rt((h,g,y)=>{Promise.all(d.current[g].splice(0).map(([v,x])=>x)).then(()=>{var v;(v=c.current.shift())==null||v()}).then(()=>y(g))});return b.useMemo(()=>({children:r,register:l,unregister:o,onStart:f,onStop:m,wait:u,chains:d}),[l,o,r,f,m,d,u])}let mve=b.Fragment,pve=go.RenderStrategy;function z0t(e,t){var n,r;let{transition:i=!0,beforeEnter:a,afterEnter:o,beforeLeave:l,afterLeave:c,enter:u,enterFrom:d,enterTo:f,entered:m,leave:h,leaveFrom:g,leaveTo:y,...v}=e,[x,w]=b.useState(null),j=b.useRef(null),_=fve(e),S=br(..._?[j,t,w]:t===null?[]:[t]),k=(n=v.unmount)==null||n?qm.Unmount:qm.Hidden,{show:P,appear:M,initial:T}=F0t(),[R,D]=b.useState(P?"visible":"hidden"),I=B0t(),{register:B,unregister:$}=I;or(()=>B(j),[B,j]),or(()=>{if(k===qm.Hidden&&j.current){if(P&&R!=="visible"){D("visible");return}return xr(R,{hidden:()=>$(j),visible:()=>B(j)})}},[R,j,B,$,P,k]);let K=Yj();or(()=>{if(_&&K&&R==="visible"&&j.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[j,R,K,_]);let Y=T&&!M,Q=M&&P&&T,H=b.useRef(!1),G=hve(()=>{H.current||(D("hidden"),$(j))},I),U=rt(oe=>{H.current=!0;let ve=oe?"enter":"leave";G.onStart(j,ve,ne=>{ne==="enter"?a==null||a():ne==="leave"&&(l==null||l())})}),ee=rt(oe=>{let ve=oe?"enter":"leave";H.current=!1,G.onStop(j,ve,ne=>{ne==="enter"?o==null||o():ne==="leave"&&(c==null||c())}),ve==="leave"&&!WP(G)&&(D("hidden"),$(j))});b.useEffect(()=>{_&&i||(U(P),ee(P))},[P,_,i]);let z=!(!i||!_||!K||Y),[,F]=db(z,x,P,{start:U,end:ee}),ie=Em({ref:S,className:((r=tD(v.className,Q&&u,Q&&d,F.enter&&u,F.enter&&F.closed&&d,F.enter&&!F.closed&&f,F.leave&&h,F.leave&&!F.closed&&g,F.leave&&F.closed&&y,!F.transition&&P&&m))==null?void 0:r.trim())||void 0,...ub(F)}),ce=0;R==="visible"&&(ce|=ei.Open),R==="hidden"&&(ce|=ei.Closed),F.enter&&(ce|=ei.Opening),F.leave&&(ce|=ei.Closing);let te=cr();return E.createElement(UP.Provider,{value:G},E.createElement(Gj,{value:ce},te({ourProps:ie,theirProps:v,defaultTag:mve,features:pve,visible:R==="visible",name:"Transition.Child"})))}function V0t(e,t){let{show:n,appear:r=!1,unmount:i=!0,...a}=e,o=b.useRef(null),l=fve(e),c=br(...l?[o,t]:t===null?[]:[t]);Yj();let u=Uh();if(n===void 0&&u!==null&&(n=(u&ei.Open)===ei.Open),n===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[d,f]=b.useState(n?"visible":"hidden"),m=hve(()=>{n||f("hidden")}),[h,g]=b.useState(!0),y=b.useRef([n]);or(()=>{h!==!1&&y.current[y.current.length-1]!==n&&(y.current.push(n),g(!1))},[y,n]);let v=b.useMemo(()=>({show:n,appear:r,initial:h}),[n,r,h]);or(()=>{n?f("visible"):!WP(m)&&o.current!==null&&f("hidden")},[n,m]);let x={unmount:i},w=rt(()=>{var S;h&&g(!1),(S=e.beforeEnter)==null||S.call(e)}),j=rt(()=>{var S;h&&g(!1),(S=e.beforeLeave)==null||S.call(e)}),_=cr();return E.createElement(UP.Provider,{value:m},E.createElement(qP.Provider,{value:v},_({ourProps:{...x,as:b.Fragment,children:E.createElement(gve,{ref:c,...x,...a,beforeEnter:w,beforeLeave:j})},theirProps:{},defaultTag:b.Fragment,features:pve,visible:d==="visible",name:"Transition"})))}function q0t(e,t){let n=b.useContext(qP)!==null,r=Uh()!==null;return E.createElement(E.Fragment,null,!n&&r?E.createElement(aD,{ref:t,...e}):E.createElement(gve,{ref:t,...e}))}let aD=ir(V0t),gve=ir(z0t),HP=ir(q0t),wp=Object.assign(aD,{Child:HP,Root:aD});var U0t=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(U0t||{}),W0t=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(W0t||{});let H0t={0(e,t){return e.titleId===t.id?e:{...e,titleId:t.id}}},C8=b.createContext(null);C8.displayName="DialogContext";function KP(e){let t=b.useContext(C8);if(t===null){let n=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,KP),n}return t}function K0t(e,t){return xr(t.type,H0t,e,t)}let EY=ir(function(e,t){let n=b.useId(),{id:r=`headlessui-dialog-${n}`,open:i,onClose:a,initialFocus:o,role:l="dialog",autoFocus:c=!0,__demoMode:u=!1,unmount:d=!1,...f}=e,m=b.useRef(!1);l=function(){return l==="dialog"||l==="alertdialog"?l:(m.current||(m.current=!0,console.warn(`Invalid role [${l}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let h=Uh();i===void 0&&h!==null&&(i=(h&ei.Open)===ei.Open);let g=b.useRef(null),y=br(g,t),v=vd(g),x=i?0:1,[w,j]=b.useReducer(K0t,{titleId:null,descriptionId:null,panelRef:b.createRef()}),_=rt(()=>a(!1)),S=rt(ee=>j({type:0,id:ee})),k=Yj()?x===0:!1,[P,M]=tve(),T={get current(){var ee;return(ee=w.panelRef.current)!=null?ee:g.current}},R=S8(),{resolveContainers:D}=lve({mainTreeNode:R,portals:P,defaultContainers:[T]}),I=h!==null?(h&ei.Closing)===ei.Closing:!1;m8(u||I?!1:k,{allowed:rt(()=>{var ee,z;return[(z=(ee=g.current)==null?void 0:ee.closest("[data-headlessui-portal]"))!=null?z:null]}),disallowed:rt(()=>{var ee;return[(ee=R==null?void 0:R.closest("body > *:not(#headlessui-portal-root)"))!=null?ee:null]})}),RP(k,D,ee=>{ee.preventDefault(),_()}),E0t(k,v==null?void 0:v.defaultView,ee=>{ee.preventDefault(),ee.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),_()}),FP(u||I?!1:k,v,D),IP(k,g,_);let[B,$]=Dge(),K=b.useMemo(()=>[{dialogState:x,close:_,setTitleId:S,unmount:d},w],[x,w,_,S,d]),Y=b.useMemo(()=>({open:x===0}),[x]),Q={ref:y,id:r,role:l,tabIndex:-1,"aria-modal":u?void 0:x===0?!0:void 0,"aria-labelledby":w.titleId,"aria-describedby":B,unmount:d},H=!P0t(),G=Pg.None;k&&!u&&(G|=Pg.RestoreFocus,G|=Pg.TabLock,c&&(G|=Pg.AutoFocus),H&&(G|=Pg.InitialFocus));let U=cr();return E.createElement(j8,null,E.createElement(CY,{force:!0},E.createElement(zP,null,E.createElement(C8.Provider,{value:K},E.createElement(nve,{target:g},E.createElement(CY,{force:!1},E.createElement($,{slot:Y},E.createElement(M,null,E.createElement(L0t,{initialFocus:o,initialFocusFallback:g,containers:D,features:G},E.createElement(h8,{value:_},U({ourProps:Q,theirProps:f,slot:Y,defaultTag:G0t,features:Y0t,visible:x===0,name:"Dialog"})))))))))))}),G0t="div",Y0t=go.RenderStrategy|go.Static;function X0t(e,t){let{transition:n=!1,open:r,...i}=e,a=Uh(),o=e.hasOwnProperty("open")||a!==null,l=e.hasOwnProperty("onClose");if(!o&&!l)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!o)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!l)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!a&&typeof e.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${e.open}`);if(typeof e.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${e.onClose}`);return(r!==void 0||n)&&!i.static?E.createElement(nC,null,E.createElement(wp,{show:r,transition:n,unmount:i.unmount},E.createElement(EY,{ref:t,...i}))):E.createElement(nC,null,E.createElement(EY,{ref:t,open:r,...i}))}let Z0t="div";function Q0t(e,t){let n=b.useId(),{id:r=`headlessui-dialog-panel-${n}`,transition:i=!1,...a}=e,[{dialogState:o,unmount:l},c]=KP("Dialog.Panel"),u=br(t,c.panelRef),d=b.useMemo(()=>({open:o===0}),[o]),f=rt(v=>{v.stopPropagation()}),m={ref:u,id:r,onClick:f},h=i?HP:b.Fragment,g=i?{unmount:l}:{},y=cr();return E.createElement(h,{...g},y({ourProps:m,theirProps:a,slot:d,defaultTag:Z0t,name:"Dialog.Panel"}))}let J0t="div";function ebt(e,t){let{transition:n=!1,...r}=e,[{dialogState:i,unmount:a}]=KP("Dialog.Backdrop"),o=b.useMemo(()=>({open:i===0}),[i]),l={ref:t,"aria-hidden":!0},c=n?HP:b.Fragment,u=n?{unmount:a}:{},d=cr();return E.createElement(c,{...u},d({ourProps:l,theirProps:r,slot:o,defaultTag:J0t,name:"Dialog.Backdrop"}))}let tbt="h2";function nbt(e,t){let n=b.useId(),{id:r=`headlessui-dialog-title-${n}`,...i}=e,[{dialogState:a,setTitleId:o}]=KP("Dialog.Title"),l=br(t);b.useEffect(()=>(o(r),()=>o(null)),[r,o]);let c=b.useMemo(()=>({open:a===0}),[a]),u={ref:l,id:r};return cr()({ourProps:u,theirProps:i,slot:c,defaultTag:tbt,name:"Dialog.Title"})}let rbt=ir(X0t),vve=ir(Q0t),ibt=ir(ebt),abt=ir(nbt),sbt=Object.assign(rbt,{Panel:vve,Title:abt,Description:Rge});var PY;let obt=(PY=E.startTransition)!=null?PY:function(e){e()};var lbt=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(lbt||{}),cbt=(e=>(e[e.ToggleDisclosure=0]="ToggleDisclosure",e[e.CloseDisclosure=1]="CloseDisclosure",e[e.SetButtonId=2]="SetButtonId",e[e.SetPanelId=3]="SetPanelId",e[e.SetButtonElement=4]="SetButtonElement",e[e.SetPanelElement=5]="SetPanelElement",e))(cbt||{});let ubt={0:e=>({...e,disclosureState:xr(e.disclosureState,{0:1,1:0})}),1:e=>e.disclosureState===1?e:{...e,disclosureState:1},2(e,t){return e.buttonId===t.buttonId?e:{...e,buttonId:t.buttonId}},3(e,t){return e.panelId===t.panelId?e:{...e,panelId:t.panelId}},4(e,t){return e.buttonElement===t.element?e:{...e,buttonElement:t.element}},5(e,t){return e.panelElement===t.element?e:{...e,panelElement:t.element}}},E8=b.createContext(null);E8.displayName="DisclosureContext";function P8(e){let t=b.useContext(E8);if(t===null){let n=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,P8),n}return t}let A8=b.createContext(null);A8.displayName="DisclosureAPIContext";function xve(e){let t=b.useContext(A8);if(t===null){let n=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,xve),n}return t}let T8=b.createContext(null);T8.displayName="DisclosurePanelContext";function dbt(){return b.useContext(T8)}function fbt(e,t){return xr(t.type,ubt,e,t)}let hbt=b.Fragment;function mbt(e,t){let{defaultOpen:n=!1,...r}=e,i=b.useRef(null),a=br(t,c8(y=>{i.current=y},e.as===void 0||e.as===b.Fragment)),o=b.useReducer(fbt,{disclosureState:n?0:1,buttonElement:null,panelElement:null,buttonId:null,panelId:null}),[{disclosureState:l,buttonId:c},u]=o,d=rt(y=>{u({type:1});let v=kf(i);if(!v||!c)return;let x=y?y instanceof HTMLElement?y:y.current instanceof HTMLElement?y.current:v.getElementById(c):v.getElementById(c);x==null||x.focus()}),f=b.useMemo(()=>({close:d}),[d]),m=b.useMemo(()=>({open:l===0,close:d}),[l,d]),h={ref:a},g=cr();return E.createElement(E8.Provider,{value:o},E.createElement(A8.Provider,{value:f},E.createElement(h8,{value:d},E.createElement(Gj,{value:xr(l,{0:ei.Open,1:ei.Closed})},g({ourProps:h,theirProps:r,slot:m,defaultTag:hbt,name:"Disclosure"})))))}let pbt="button";function gbt(e,t){let n=b.useId(),{id:r=`headlessui-disclosure-button-${n}`,disabled:i=!1,autoFocus:a=!1,...o}=e,[l,c]=P8("Disclosure.Button"),u=dbt(),d=u===null?!1:u===l.panelId,f=b.useRef(null),m=br(f,t,rt(T=>{if(!d)return c({type:4,element:T})}));b.useEffect(()=>{if(!d)return c({type:2,buttonId:r}),()=>{c({type:2,buttonId:null})}},[r,c,d]);let h=rt(T=>{var R;if(d){if(l.disclosureState===1)return;switch(T.key){case rn.Space:case rn.Enter:T.preventDefault(),T.stopPropagation(),c({type:0}),(R=l.buttonElement)==null||R.focus();break}}else switch(T.key){case rn.Space:case rn.Enter:T.preventDefault(),T.stopPropagation(),c({type:0});break}}),g=rt(T=>{switch(T.key){case rn.Space:T.preventDefault();break}}),y=rt(T=>{var R;sb(T.currentTarget)||i||(d?(c({type:0}),(R=l.buttonElement)==null||R.focus()):c({type:0}))}),{isFocusVisible:v,focusProps:x}=zp({autoFocus:a}),{isHovered:w,hoverProps:j}=Fv({isDisabled:i}),{pressed:_,pressProps:S}=ab({disabled:i}),k=b.useMemo(()=>({open:l.disclosureState===0,hover:w,active:_,disabled:i,focus:v,autofocus:a}),[l,w,_,v,i,a]),P=cb(e,l.buttonElement),M=xc(d?{ref:m,type:P,disabled:i||void 0,autoFocus:a,onKeyDown:h,onClick:y}:{ref:m,id:r,type:P,"aria-expanded":l.disclosureState===0,"aria-controls":l.panelElement?l.panelId:void 0,disabled:i||void 0,autoFocus:a,onKeyDown:h,onKeyUp:g,onClick:y},x,j,S);return cr()({ourProps:M,theirProps:o,slot:k,defaultTag:pbt,name:"Disclosure.Button"})}let vbt="div",xbt=go.RenderStrategy|go.Static;function ybt(e,t){let n=b.useId(),{id:r=`headlessui-disclosure-panel-${n}`,transition:i=!1,...a}=e,[o,l]=P8("Disclosure.Panel"),{close:c}=xve("Disclosure.Panel"),[u,d]=b.useState(null),f=br(t,rt(w=>{obt(()=>l({type:5,element:w}))}),d);b.useEffect(()=>(l({type:3,panelId:r}),()=>{l({type:3,panelId:null})}),[r,l]);let m=Uh(),[h,g]=db(i,u,m!==null?(m&ei.Open)===ei.Open:o.disclosureState===0),y=b.useMemo(()=>({open:o.disclosureState===0,close:c}),[o.disclosureState,c]),v={ref:f,id:r,...ub(g)},x=cr();return E.createElement(j8,null,E.createElement(T8.Provider,{value:o.panelId},x({ourProps:v,theirProps:a,slot:y,defaultTag:vbt,features:xbt,visible:h,name:"Disclosure.Panel"})))}let bbt=ir(mbt),wbt=ir(gbt),jbt=ir(ybt),O8=Object.assign(bbt,{Button:wbt,Panel:jbt});function Nbt(e,t){let n=b.useRef({left:0,top:0});if(or(()=>{if(!t)return;let i=t.getBoundingClientRect();i&&(n.current=i)},[e,t]),t==null||!e||t===document.activeElement)return!1;let r=t.getBoundingClientRect();return r.top!==n.current.top||r.left!==n.current.left}let AY=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function TY(e){var t,n;let r=(t=e.innerText)!=null?t:"",i=e.cloneNode(!0);if(!(i instanceof HTMLElement))return r;let a=!1;for(let l of i.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))l.remove(),a=!0;let o=a?(n=i.innerText)!=null?n:"":r;return AY.test(o)&&(o=o.replace(AY,"")),o}function _bt(e){let t=e.getAttribute("aria-label");if(typeof t=="string")return t.trim();let n=e.getAttribute("aria-labelledby");if(n){let r=n.split(" ").map(i=>{let a=document.getElementById(i);if(a){let o=a.getAttribute("aria-label");return typeof o=="string"?o.trim():TY(a).trim()}return null}).filter(Boolean);if(r.length>0)return r.join(", ")}return TY(e).trim()}function Sbt(e){let t=b.useRef(""),n=b.useRef("");return rt(()=>{let r=e.current;if(!r)return"";let i=r.innerText;if(t.current===i)return n.current;let a=_bt(r).trim().toLowerCase();return t.current=i,n.current=a,a})}var kbt=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(kbt||{}),Cbt=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(Cbt||{}),Ebt=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(Ebt||{}),Pbt=(e=>(e[e.OpenListbox=0]="OpenListbox",e[e.CloseListbox=1]="CloseListbox",e[e.GoToOption=2]="GoToOption",e[e.Search=3]="Search",e[e.ClearSearch=4]="ClearSearch",e[e.RegisterOption=5]="RegisterOption",e[e.UnregisterOption=6]="UnregisterOption",e[e.SetButtonElement=7]="SetButtonElement",e[e.SetOptionsElement=8]="SetOptionsElement",e))(Pbt||{});function xO(e,t=n=>n){let n=e.activeOptionIndex!==null?e.options[e.activeOptionIndex]:null,r=Um(t(e.options.slice()),a=>a.dataRef.current.domRef.current),i=n?r.indexOf(n):null;return i===-1&&(i=null),{options:r,activeOptionIndex:i}}let Abt={1(e){return e.dataRef.current.disabled||e.listboxState===1?e:{...e,activeOptionIndex:null,listboxState:1,__demoMode:!1}},0(e){if(e.dataRef.current.disabled||e.listboxState===0)return e;let t=e.activeOptionIndex,{isSelected:n}=e.dataRef.current,r=e.options.findIndex(i=>n(i.dataRef.current.value));return r!==-1&&(t=r),{...e,listboxState:0,activeOptionIndex:t,__demoMode:!1}},2(e,t){var n,r,i,a,o;if(e.dataRef.current.disabled||e.listboxState===1)return e;let l={...e,searchQuery:"",activationTrigger:(n=t.trigger)!=null?n:1,__demoMode:!1};if(t.focus===lr.Nothing)return{...l,activeOptionIndex:null};if(t.focus===lr.Specific)return{...l,activeOptionIndex:e.options.findIndex(d=>d.id===t.id)};if(t.focus===lr.Previous){let d=e.activeOptionIndex;if(d!==null){let f=e.options[d].dataRef.current.domRef,m=nw(t,{resolveItems:()=>e.options,resolveActiveIndex:()=>e.activeOptionIndex,resolveId:h=>h.id,resolveDisabled:h=>h.dataRef.current.disabled});if(m!==null){let h=e.options[m].dataRef.current.domRef;if(((r=f.current)==null?void 0:r.previousElementSibling)===h.current||((i=h.current)==null?void 0:i.previousElementSibling)===null)return{...l,activeOptionIndex:m}}}}else if(t.focus===lr.Next){let d=e.activeOptionIndex;if(d!==null){let f=e.options[d].dataRef.current.domRef,m=nw(t,{resolveItems:()=>e.options,resolveActiveIndex:()=>e.activeOptionIndex,resolveId:h=>h.id,resolveDisabled:h=>h.dataRef.current.disabled});if(m!==null){let h=e.options[m].dataRef.current.domRef;if(((a=f.current)==null?void 0:a.nextElementSibling)===h.current||((o=h.current)==null?void 0:o.nextElementSibling)===null)return{...l,activeOptionIndex:m}}}}let c=xO(e),u=nw(t,{resolveItems:()=>c.options,resolveActiveIndex:()=>c.activeOptionIndex,resolveId:d=>d.id,resolveDisabled:d=>d.dataRef.current.disabled});return{...l,...c,activeOptionIndex:u}},3:(e,t)=>{if(e.dataRef.current.disabled||e.listboxState===1)return e;let n=e.searchQuery!==""?0:1,r=e.searchQuery+t.value.toLowerCase(),i=(e.activeOptionIndex!==null?e.options.slice(e.activeOptionIndex+n).concat(e.options.slice(0,e.activeOptionIndex+n)):e.options).find(o=>{var l;return!o.dataRef.current.disabled&&((l=o.dataRef.current.textValue)==null?void 0:l.startsWith(r))}),a=i?e.options.indexOf(i):-1;return a===-1||a===e.activeOptionIndex?{...e,searchQuery:r}:{...e,searchQuery:r,activeOptionIndex:a,activationTrigger:1}},4(e){return e.dataRef.current.disabled||e.listboxState===1||e.searchQuery===""?e:{...e,searchQuery:""}},5:(e,t)=>{let n={id:t.id,dataRef:t.dataRef},r=xO(e,i=>[...i,n]);return e.activeOptionIndex===null&&e.dataRef.current.isSelected(t.dataRef.current.value)&&(r.activeOptionIndex=r.options.indexOf(n)),{...e,...r}},6:(e,t)=>{let n=xO(e,r=>{let i=r.findIndex(a=>a.id===t.id);return i!==-1&&r.splice(i,1),r});return{...e,...n,activationTrigger:1}},7:(e,t)=>e.buttonElement===t.element?e:{...e,buttonElement:t.element},8:(e,t)=>e.optionsElement===t.element?e:{...e,optionsElement:t.element}},L8=b.createContext(null);L8.displayName="ListboxActionsContext";function GP(e){let t=b.useContext(L8);if(t===null){let n=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,GP),n}return t}let YP=b.createContext(null);YP.displayName="ListboxDataContext";function Zj(e){let t=b.useContext(YP);if(t===null){let n=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Zj),n}return t}function Tbt(e,t){return xr(t.type,Abt,e,t)}let Obt=b.Fragment;function Lbt(e,t){var n;let r=Hj(),{value:i,defaultValue:a,form:o,name:l,onChange:c,by:u,invalid:d=!1,disabled:f=r||!1,horizontal:m=!1,multiple:h=!1,__demoMode:g=!1,...y}=e;const v=m?"horizontal":"vertical";let x=br(t),w=o8(a),[j=h?[]:void 0,_]=s8(i,c,w),[S,k]=b.useReducer(Tbt,{dataRef:b.createRef(),listboxState:g?0:1,options:[],searchQuery:"",activeOptionIndex:null,activationTrigger:1,optionsVisible:!1,buttonElement:null,optionsElement:null,__demoMode:g}),P=b.useRef({static:!1,hold:!1}),M=b.useRef(new Map),T=Bge(u),R=b.useCallback(re=>xr(D.mode,{1:()=>j.some(Se=>T(Se,re)),0:()=>T(j,re)}),[j]),D=b.useMemo(()=>({...S,value:j,disabled:f,invalid:d,mode:h?1:0,orientation:v,compare:T,isSelected:R,optionsPropsRef:P,listRef:M}),[j,f,d,h,S,M]);or(()=>{S.dataRef.current=D},[D]);let I=D.listboxState===0;RP(I,[D.buttonElement,D.optionsElement],(re,Se)=>{var ae;k({type:1}),p8(Se,DP.Loose)||(re.preventDefault(),(ae=D.buttonElement)==null||ae.focus())});let B=b.useMemo(()=>({open:D.listboxState===0,disabled:f,invalid:d,value:j}),[D,f,j,d]),$=rt(re=>{let Se=D.options.find(ae=>ae.id===re);Se&&ee(Se.dataRef.current.value)}),K=rt(()=>{if(D.activeOptionIndex!==null){let{dataRef:re,id:Se}=D.options[D.activeOptionIndex];ee(re.current.value),k({type:2,focus:lr.Specific,id:Se})}}),Y=rt(()=>k({type:0})),Q=rt(()=>k({type:1})),H=Cf(),G=rt((re,Se,ae)=>{H.dispose(),H.microTask(()=>re===lr.Specific?k({type:2,focus:lr.Specific,id:Se,trigger:ae}):k({type:2,focus:re,trigger:ae}))}),U=rt((re,Se)=>(k({type:5,id:re,dataRef:Se}),()=>k({type:6,id:re}))),ee=rt(re=>xr(D.mode,{0(){return _==null?void 0:_(re)},1(){let Se=D.value.slice(),ae=Se.findIndex(X=>T(X,re));return ae===-1?Se.push(re):Se.splice(ae,1),_==null?void 0:_(Se)}})),z=rt(re=>k({type:3,value:re})),F=rt(()=>k({type:4})),ie=rt(re=>{k({type:7,element:re})}),ce=rt(re=>{k({type:8,element:re})}),te=b.useMemo(()=>({onChange:ee,registerOption:U,goToOption:G,closeListbox:Q,openListbox:Y,selectActiveOption:K,selectOption:$,search:z,clearSearch:F,setButtonElement:ie,setOptionsElement:ce}),[]),[oe,ve]=d8({inherit:!0}),ne={ref:x},xe=b.useCallback(()=>{if(w!==void 0)return _==null?void 0:_(w)},[_,w]),ue=cr();return E.createElement(ve,{value:oe,props:{htmlFor:(n=D.buttonElement)==null?void 0:n.id},slot:{open:D.listboxState===0,disabled:f}},E.createElement(w8,null,E.createElement(L8.Provider,{value:te},E.createElement(YP.Provider,{value:D},E.createElement(Gj,{value:xr(D.listboxState,{0:ei.Open,1:ei.Closed})},l!=null&&j!=null&&E.createElement(l8,{disabled:f,data:{[l]:j},form:o,onReset:xe}),ue({ourProps:ne,theirProps:y,slot:B,defaultTag:Obt,name:"Listbox"}))))))}let Mbt="button";function Ibt(e,t){var n;let r=Zj("Listbox.Button"),i=GP("Listbox.Button"),a=b.useId(),o=OP(),{id:l=o||`headlessui-listbox-button-${a}`,disabled:c=r.disabled||!1,autoFocus:u=!1,...d}=e,f=br(t,x8(),i.setButtonElement),m=Kyt(),h=rt(D=>{switch(D.key){case rn.Enter:Lge(D.currentTarget);break;case rn.Space:case rn.ArrowDown:D.preventDefault(),Er.flushSync(()=>i.openListbox()),r.value||i.goToOption(lr.First);break;case rn.ArrowUp:D.preventDefault(),Er.flushSync(()=>i.openListbox()),r.value||i.goToOption(lr.Last);break}}),g=rt(D=>{switch(D.key){case rn.Space:D.preventDefault();break}}),y=rt(D=>{var I;if(sb(D.currentTarget))return D.preventDefault();r.listboxState===0?(Er.flushSync(()=>i.closeListbox()),(I=r.buttonElement)==null||I.focus({preventScroll:!0})):(D.preventDefault(),i.openListbox())}),v=rt(D=>D.preventDefault()),x=ob([l]),w=u8(),{isFocusVisible:j,focusProps:_}=zp({autoFocus:u}),{isHovered:S,hoverProps:k}=Fv({isDisabled:c}),{pressed:P,pressProps:M}=ab({disabled:c}),T=b.useMemo(()=>({open:r.listboxState===0,active:P||r.listboxState===0,disabled:c,invalid:r.invalid,value:r.value,hover:S,focus:j,autofocus:u}),[r.listboxState,r.value,c,S,j,P,r.invalid,u]),R=xc(m(),{ref:f,id:l,type:cb(e,r.buttonElement),"aria-haspopup":"listbox","aria-controls":(n=r.optionsElement)==null?void 0:n.id,"aria-expanded":r.listboxState===0,"aria-labelledby":x,"aria-describedby":w,disabled:c||void 0,autoFocus:u,onKeyDown:h,onKeyUp:g,onKeyPress:v,onClick:y},_,k,M);return cr()({ourProps:R,theirProps:d,slot:T,defaultTag:Mbt,name:"Listbox.Button"})}let yve=b.createContext(!1),Dbt="div",Rbt=go.RenderStrategy|go.Static;function $bt(e,t){var n,r;let i=b.useId(),{id:a=`headlessui-listbox-options-${i}`,anchor:o,portal:l=!1,modal:c=!0,transition:u=!1,...d}=e,f=v8(o),[m,h]=b.useState(null);f&&(l=!0);let g=Zj("Listbox.Options"),y=GP("Listbox.Options"),v=vd(g.optionsElement),x=Uh(),[w,j]=db(u,m,x!==null?(x&ei.Open)===ei.Open:g.listboxState===0);IP(w,g.buttonElement,y.closeListbox);let _=g.__demoMode?!1:c&&g.listboxState===0;FP(_,v);let S=g.__demoMode?!1:c&&g.listboxState===0;m8(S,{allowed:b.useCallback(()=>[g.buttonElement,g.optionsElement],[g.buttonElement,g.optionsElement])});let k=g.listboxState!==0,P=Nbt(k,g.buttonElement)?!1:w,M=w&&g.listboxState===1,T=tC(M,g.value),R=rt(F=>g.compare(T,F)),D=b.useMemo(()=>{var F;if(f==null||!((F=f==null?void 0:f.to)!=null&&F.includes("selection")))return null;let ie=g.options.findIndex(ce=>R(ce.dataRef.current.value));return ie===-1&&(ie=0),ie},[f,g.options]),I=(()=>{if(f==null)return;if(D===null)return{...f,inner:void 0};let F=Array.from(g.listRef.current.values());return{...f,inner:{listRef:{current:F},index:D}}})(),[B,$]=b8(I),K=y8(),Y=br(t,f?B:null,y.setOptionsElement,h),Q=Cf();b.useEffect(()=>{var F;let ie=g.optionsElement;ie&&g.listboxState===0&&ie!==((F=kf(ie))==null?void 0:F.activeElement)&&(ie==null||ie.focus({preventScroll:!0}))},[g.listboxState,g.optionsElement]);let H=rt(F=>{var ie,ce;switch(Q.dispose(),F.key){case rn.Space:if(g.searchQuery!=="")return F.preventDefault(),F.stopPropagation(),y.search(F.key);case rn.Enter:if(F.preventDefault(),F.stopPropagation(),g.activeOptionIndex!==null){let{dataRef:te}=g.options[g.activeOptionIndex];y.onChange(te.current.value)}g.mode===0&&(Er.flushSync(()=>y.closeListbox()),(ie=g.buttonElement)==null||ie.focus({preventScroll:!0}));break;case xr(g.orientation,{vertical:rn.ArrowDown,horizontal:rn.ArrowRight}):return F.preventDefault(),F.stopPropagation(),y.goToOption(lr.Next);case xr(g.orientation,{vertical:rn.ArrowUp,horizontal:rn.ArrowLeft}):return F.preventDefault(),F.stopPropagation(),y.goToOption(lr.Previous);case rn.Home:case rn.PageUp:return F.preventDefault(),F.stopPropagation(),y.goToOption(lr.First);case rn.End:case rn.PageDown:return F.preventDefault(),F.stopPropagation(),y.goToOption(lr.Last);case rn.Escape:F.preventDefault(),F.stopPropagation(),Er.flushSync(()=>y.closeListbox()),(ce=g.buttonElement)==null||ce.focus({preventScroll:!0});return;case rn.Tab:F.preventDefault(),F.stopPropagation(),Er.flushSync(()=>y.closeListbox()),pyt(g.buttonElement,F.shiftKey?Qr.Previous:Qr.Next);break;default:F.key.length===1&&(y.search(F.key),Q.setTimeout(()=>y.clearSearch(),350));break}}),G=(n=g.buttonElement)==null?void 0:n.id,U=b.useMemo(()=>({open:g.listboxState===0}),[g.listboxState]),ee=xc(f?K():{},{id:a,ref:Y,"aria-activedescendant":g.activeOptionIndex===null||(r=g.options[g.activeOptionIndex])==null?void 0:r.id,"aria-multiselectable":g.mode===1?!0:void 0,"aria-labelledby":G,"aria-orientation":g.orientation,onKeyDown:H,role:"listbox",tabIndex:g.listboxState===0?0:void 0,style:{...d.style,...$,"--button-width":Jk(g.buttonElement,!0).width},...ub(j)}),z=cr();return E.createElement(zP,{enabled:l?e.static||w:!1},E.createElement(YP.Provider,{value:g.mode===1?g:{...g,isSelected:R}},z({ourProps:ee,theirProps:d,slot:U,defaultTag:Dbt,features:Rbt,visible:P,name:"Listbox.Options"})))}let Fbt="div";function Bbt(e,t){let n=b.useId(),{id:r=`headlessui-listbox-option-${n}`,disabled:i=!1,value:a,...o}=e,l=b.useContext(yve)===!0,c=Zj("Listbox.Option"),u=GP("Listbox.Option"),d=c.activeOptionIndex!==null?c.options[c.activeOptionIndex].id===r:!1,f=c.isSelected(a),m=b.useRef(null),h=Sbt(m),g=zo({disabled:i,value:a,domRef:m,get textValue(){return h()}}),y=br(t,m,T=>{T?c.listRef.current.set(r,T):c.listRef.current.delete(r)});or(()=>{if(!c.__demoMode&&c.listboxState===0&&d&&c.activationTrigger!==0)return od().requestAnimationFrame(()=>{var T,R;(R=(T=m.current)==null?void 0:T.scrollIntoView)==null||R.call(T,{block:"nearest"})})},[m,d,c.__demoMode,c.listboxState,c.activationTrigger,c.activeOptionIndex]),or(()=>{if(!l)return u.registerOption(r,g)},[g,r,l]);let v=rt(T=>{var R;if(i)return T.preventDefault();u.onChange(a),c.mode===0&&(Er.flushSync(()=>u.closeListbox()),(R=c.buttonElement)==null||R.focus({preventScroll:!0}))}),x=rt(()=>{if(i)return u.goToOption(lr.Nothing);u.goToOption(lr.Specific,r)}),w=Kge(),j=rt(T=>{w.update(T),!i&&(d||u.goToOption(lr.Specific,r,0))}),_=rt(T=>{w.wasMoved(T)&&(i||d||u.goToOption(lr.Specific,r,0))}),S=rt(T=>{w.wasMoved(T)&&(i||d&&u.goToOption(lr.Nothing))}),k=b.useMemo(()=>({active:d,focus:d,selected:f,disabled:i,selectedOption:f&&l}),[d,f,i,l]),P=l?{}:{id:r,ref:y,role:"option",tabIndex:i===!0?void 0:-1,"aria-disabled":i===!0?!0:void 0,"aria-selected":f,disabled:void 0,onClick:v,onFocus:x,onPointerEnter:j,onMouseEnter:j,onPointerMove:_,onMouseMove:_,onPointerLeave:S,onMouseLeave:S},M=cr();return!f&&l?null:M({ourProps:P,theirProps:o,slot:k,defaultTag:Fbt,name:"Listbox.Option"})}let zbt=b.Fragment;function Vbt(e,t){let{options:n,placeholder:r,...i}=e,a={ref:br(t)},o=Zj("ListboxSelectedOption"),l=b.useMemo(()=>({}),[]),c=o.value===void 0||o.value===null||o.mode===1&&Array.isArray(o.value)&&o.value.length===0,u=cr();return E.createElement(yve.Provider,{value:!0},u({ourProps:a,theirProps:{...i,children:E.createElement(E.Fragment,null,r&&c?r:n)},slot:l,defaultTag:zbt,name:"ListboxSelectedOption"}))}let qbt=ir(Lbt),XP=ir(Ibt),Ubt=f8,ZP=ir($bt),M8=ir(Bbt),Wbt=ir(Vbt),I8=Object.assign(qbt,{Button:XP,Label:Ubt,Options:ZP,Option:M8,SelectedOption:Wbt});var Hbt=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Hbt||{}),Kbt=(e=>(e[e.TogglePopover=0]="TogglePopover",e[e.ClosePopover=1]="ClosePopover",e[e.SetButton=2]="SetButton",e[e.SetButtonId=3]="SetButtonId",e[e.SetPanel=4]="SetPanel",e[e.SetPanelId=5]="SetPanelId",e))(Kbt||{});let Gbt={0:e=>({...e,popoverState:xr(e.popoverState,{0:1,1:0}),__demoMode:!1}),1(e){return e.popoverState===1?e:{...e,popoverState:1,__demoMode:!1}},2(e,t){return e.button===t.button?e:{...e,button:t.button}},3(e,t){return e.buttonId===t.buttonId?e:{...e,buttonId:t.buttonId}},4(e,t){return e.panel===t.panel?e:{...e,panel:t.panel}},5(e,t){return e.panelId===t.panelId?e:{...e,panelId:t.panelId}}},D8=b.createContext(null);D8.displayName="PopoverContext";function QP(e){let t=b.useContext(D8);if(t===null){let n=new Error(`<${e} /> is missing a parent <Popover /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,QP),n}return t}let JP=b.createContext(null);JP.displayName="PopoverAPIContext";function R8(e){let t=b.useContext(JP);if(t===null){let n=new Error(`<${e} /> is missing a parent <Popover /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,R8),n}return t}let $8=b.createContext(null);$8.displayName="PopoverGroupContext";function bve(){return b.useContext($8)}let eA=b.createContext(null);eA.displayName="PopoverPanelContext";function Ybt(){return b.useContext(eA)}function Xbt(e,t){return xr(t.type,Gbt,e,t)}let Zbt="div";function Qbt(e,t){var n;let{__demoMode:r=!1,...i}=e,a=b.useRef(null),o=br(t,c8(G=>{a.current=G})),l=b.useRef([]),c=b.useReducer(Xbt,{__demoMode:r,popoverState:r?0:1,buttons:l,button:null,buttonId:null,panel:null,panelId:null,beforePanelSentinel:b.createRef(),afterPanelSentinel:b.createRef(),afterButtonSentinel:b.createRef()}),[{popoverState:u,button:d,buttonId:f,panel:m,panelId:h,beforePanelSentinel:g,afterPanelSentinel:y,afterButtonSentinel:v},x]=c,w=vd((n=a.current)!=null?n:d),j=b.useMemo(()=>{if(!d||!m)return!1;for(let ce of document.querySelectorAll("body > *"))if(Number(ce==null?void 0:ce.contains(d))^Number(ce==null?void 0:ce.contains(m)))return!0;let G=Kj(),U=G.indexOf(d),ee=(U+G.length-1)%G.length,z=(U+1)%G.length,F=G[ee],ie=G[z];return!m.contains(F)&&!m.contains(ie)},[d,m]),_=zo(f),S=zo(h),k=b.useMemo(()=>({buttonId:_,panelId:S,close:()=>x({type:1})}),[_,S,x]),P=bve(),M=P==null?void 0:P.registerPopover,T=rt(()=>{var G;return(G=P==null?void 0:P.isFocusWithinPopoverGroup())!=null?G:(w==null?void 0:w.activeElement)&&((d==null?void 0:d.contains(w.activeElement))||(m==null?void 0:m.contains(w.activeElement)))});b.useEffect(()=>M==null?void 0:M(k),[M,k]);let[R,D]=tve(),I=S8(d),B=lve({mainTreeNode:I,portals:R,defaultContainers:[d,m]});$P(w==null?void 0:w.defaultView,"focus",G=>{var U,ee,z,F,ie,ce;G.target!==window&&G.target instanceof HTMLElement&&u===0&&(T()||d&&m&&(B.contains(G.target)||(ee=(U=g.current)==null?void 0:U.contains)!=null&&ee.call(U,G.target)||(F=(z=y.current)==null?void 0:z.contains)!=null&&F.call(z,G.target)||(ce=(ie=v.current)==null?void 0:ie.contains)!=null&&ce.call(ie,G.target)||x({type:1})))},!0),RP(u===0,B.resolveContainers,(G,U)=>{x({type:1}),p8(U,DP.Loose)||(G.preventDefault(),d==null||d.focus())});let $=rt(G=>{x({type:1});let U=G?G instanceof HTMLElement?G:"current"in G&&G.current instanceof HTMLElement?G.current:d:d;U==null||U.focus()}),K=b.useMemo(()=>({close:$,isPortalled:j}),[$,j]),Y=b.useMemo(()=>({open:u===0,close:$}),[u,$]),Q={ref:o},H=cr();return E.createElement(nC,{node:I},E.createElement(w8,null,E.createElement(eA.Provider,{value:null},E.createElement(D8.Provider,{value:c},E.createElement(JP.Provider,{value:K},E.createElement(h8,{value:$},E.createElement(Gj,{value:xr(u,{0:ei.Open,1:ei.Closed})},E.createElement(D,null,H({ourProps:Q,theirProps:i,slot:Y,defaultTag:Zbt,name:"Popover"})))))))))}let Jbt="button";function e1t(e,t){let n=b.useId(),{id:r=`headlessui-popover-button-${n}`,disabled:i=!1,autoFocus:a=!1,...o}=e,[l,c]=QP("Popover.Button"),{isPortalled:u}=R8("Popover.Button"),d=b.useRef(null),f=`headlessui-focus-sentinel-${b.useId()}`,m=bve(),h=m==null?void 0:m.closeOthers,g=Ybt()!==null;b.useEffect(()=>{if(!g)return c({type:3,buttonId:r}),()=>{c({type:3,buttonId:null})}},[g,r,c]);let[y]=b.useState(()=>Symbol()),v=br(d,t,x8(),rt(U=>{if(!g){if(U)l.buttons.current.push(y);else{let ee=l.buttons.current.indexOf(y);ee!==-1&&l.buttons.current.splice(ee,1)}l.buttons.current.length>1&&console.warn("You are already using a <Popover.Button /> but only 1 <Popover.Button /> is supported."),U&&c({type:2,button:U})}})),x=br(d,t),w=vd(d),j=rt(U=>{var ee,z,F;if(g){if(l.popoverState===1)return;switch(U.key){case rn.Space:case rn.Enter:U.preventDefault(),(z=(ee=U.target).click)==null||z.call(ee),c({type:1}),(F=l.button)==null||F.focus();break}}else switch(U.key){case rn.Space:case rn.Enter:U.preventDefault(),U.stopPropagation(),l.popoverState===1&&(h==null||h(l.buttonId)),c({type:0});break;case rn.Escape:if(l.popoverState!==0)return h==null?void 0:h(l.buttonId);if(!d.current||w!=null&&w.activeElement&&!d.current.contains(w.activeElement))return;U.preventDefault(),U.stopPropagation(),c({type:1});break}}),_=rt(U=>{g||U.key===rn.Space&&U.preventDefault()}),S=rt(U=>{var ee,z;sb(U.currentTarget)||i||(g?(c({type:1}),(ee=l.button)==null||ee.focus()):(U.preventDefault(),U.stopPropagation(),l.popoverState===1&&(h==null||h(l.buttonId)),c({type:0}),(z=l.button)==null||z.focus()))}),k=rt(U=>{U.preventDefault(),U.stopPropagation()}),{isFocusVisible:P,focusProps:M}=zp({autoFocus:a}),{isHovered:T,hoverProps:R}=Fv({isDisabled:i}),{pressed:D,pressProps:I}=ab({disabled:i}),B=l.popoverState===0,$=b.useMemo(()=>({open:B,active:D||B,disabled:i,hover:T,focus:P,autofocus:a}),[B,T,P,D,i,a]),K=cb(e,l.button),Y=xc(g?{ref:x,type:K,onKeyDown:j,onClick:S,disabled:i||void 0,autoFocus:a}:{ref:v,id:l.buttonId,type:K,"aria-expanded":l.popoverState===0,"aria-controls":l.panel?l.panelId:void 0,disabled:i||void 0,autoFocus:a,onKeyDown:j,onKeyUp:_,onClick:S,onMouseDown:k},M,R,I),Q=k8(),H=rt(()=>{let U=l.panel;if(!U)return;function ee(){xr(Q.current,{[Ql.Forwards]:()=>cs(U,Qr.First),[Ql.Backwards]:()=>cs(U,Qr.Last)})===Zd.Error&&cs(Kj().filter(z=>z.dataset.headlessuiFocusGuard!=="true"),xr(Q.current,{[Ql.Forwards]:Qr.Next,[Ql.Backwards]:Qr.Previous}),{relativeTo:l.button})}ee()}),G=cr();return E.createElement(E.Fragment,null,G({ourProps:Y,theirProps:o,slot:$,defaultTag:Jbt,name:"Popover.Button"}),B&&!g&&u&&E.createElement(xf,{id:f,ref:l.afterButtonSentinel,features:vf.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:H}))}let t1t="div",n1t=go.RenderStrategy|go.Static;function wve(e,t){let n=b.useId(),{id:r=`headlessui-popover-backdrop-${n}`,transition:i=!1,...a}=e,[{popoverState:o},l]=QP("Popover.Backdrop"),[c,u]=b.useState(null),d=br(t,u),f=Uh(),[m,h]=db(i,c,f!==null?(f&ei.Open)===ei.Open:o===0),g=rt(x=>{if(sb(x.currentTarget))return x.preventDefault();l({type:1})}),y=b.useMemo(()=>({open:o===0}),[o]),v={ref:d,id:r,"aria-hidden":!0,onClick:g,...ub(h)};return cr()({ourProps:v,theirProps:a,slot:y,defaultTag:t1t,features:n1t,visible:m,name:"Popover.Backdrop"})}let r1t="div",i1t=go.RenderStrategy|go.Static;function a1t(e,t){let n=b.useId(),{id:r=`headlessui-popover-panel-${n}`,focus:i=!1,anchor:a,portal:o=!1,modal:l=!1,transition:c=!1,...u}=e,[d,f]=QP("Popover.Panel"),{close:m,isPortalled:h}=R8("Popover.Panel"),g=`headlessui-focus-sentinel-before-${n}`,y=`headlessui-focus-sentinel-after-${n}`,v=b.useRef(null),x=v8(a),[w,j]=b8(x),_=y8();x&&(o=!0);let[S,k]=b.useState(null),P=br(v,t,x?w:null,rt(U=>f({type:4,panel:U})),k),M=vd(v);or(()=>(f({type:5,panelId:r}),()=>{f({type:5,panelId:null})}),[r,f]);let T=Uh(),[R,D]=db(c,S,T!==null?(T&ei.Open)===ei.Open:d.popoverState===0);IP(R,d.button,()=>{f({type:1})});let I=d.__demoMode?!1:l&&R;FP(I,M);let B=rt(U=>{var ee;switch(U.key){case rn.Escape:if(d.popoverState!==0||!v.current||M!=null&&M.activeElement&&!v.current.contains(M.activeElement))return;U.preventDefault(),U.stopPropagation(),f({type:1}),(ee=d.button)==null||ee.focus();break}});b.useEffect(()=>{var U;e.static||d.popoverState===1&&((U=e.unmount)==null||U)&&f({type:4,panel:null})},[d.popoverState,e.unmount,e.static,f]),b.useEffect(()=>{if(d.__demoMode||!i||d.popoverState!==0||!v.current)return;let U=M==null?void 0:M.activeElement;v.current.contains(U)||cs(v.current,Qr.First)},[d.__demoMode,i,v.current,d.popoverState]);let $=b.useMemo(()=>({open:d.popoverState===0,close:m}),[d.popoverState,m]),K=xc(x?_():{},{ref:P,id:r,onKeyDown:B,onBlur:i&&d.popoverState===0?U=>{var ee,z,F,ie,ce;let te=U.relatedTarget;te&&v.current&&((ee=v.current)!=null&&ee.contains(te)||(f({type:1}),((F=(z=d.beforePanelSentinel.current)==null?void 0:z.contains)!=null&&F.call(z,te)||(ce=(ie=d.afterPanelSentinel.current)==null?void 0:ie.contains)!=null&&ce.call(ie,te))&&te.focus({preventScroll:!0})))}:void 0,tabIndex:-1,style:{...u.style,...j,"--button-width":Jk(d.button,!0).width},...ub(D)}),Y=k8(),Q=rt(()=>{let U=v.current;if(!U)return;function ee(){xr(Y.current,{[Ql.Forwards]:()=>{var z;cs(U,Qr.First)===Zd.Error&&((z=d.afterPanelSentinel.current)==null||z.focus())},[Ql.Backwards]:()=>{var z;(z=d.button)==null||z.focus({preventScroll:!0})}})}ee()}),H=rt(()=>{let U=v.current;if(!U)return;function ee(){xr(Y.current,{[Ql.Forwards]:()=>{if(!d.button)return;let z=Kj(),F=z.indexOf(d.button),ie=z.slice(0,F+1),ce=[...z.slice(F+1),...ie];for(let te of ce.slice())if(te.dataset.headlessuiFocusGuard==="true"||S!=null&&S.contains(te)){let oe=ce.indexOf(te);oe!==-1&&ce.splice(oe,1)}cs(ce,Qr.First,{sorted:!1})},[Ql.Backwards]:()=>{var z;cs(U,Qr.Previous)===Zd.Error&&((z=d.button)==null||z.focus())}})}ee()}),G=cr();return E.createElement(j8,null,E.createElement(eA.Provider,{value:r},E.createElement(JP.Provider,{value:{close:m,isPortalled:h}},E.createElement(zP,{enabled:o?e.static||R:!1},R&&h&&E.createElement(xf,{id:g,ref:d.beforePanelSentinel,features:vf.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:Q}),G({ourProps:K,theirProps:u,slot:$,defaultTag:r1t,features:i1t,visible:R,name:"Popover.Panel"}),R&&h&&E.createElement(xf,{id:y,ref:d.afterPanelSentinel,features:vf.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:H})))))}let s1t="div";function o1t(e,t){let n=b.useRef(null),r=br(n,t),[i,a]=b.useState([]),o=rt(y=>{a(v=>{let x=v.indexOf(y);if(x!==-1){let w=v.slice();return w.splice(x,1),w}return v})}),l=rt(y=>(a(v=>[...v,y]),()=>o(y))),c=rt(()=>{var y;let v=kf(n);if(!v)return!1;let x=v.activeElement;return(y=n.current)!=null&&y.contains(x)?!0:i.some(w=>{var j,_;return((j=v.getElementById(w.buttonId.current))==null?void 0:j.contains(x))||((_=v.getElementById(w.panelId.current))==null?void 0:_.contains(x))})}),u=rt(y=>{for(let v of i)v.buttonId.current!==y&&v.close()}),d=b.useMemo(()=>({registerPopover:l,unregisterPopover:o,isFocusWithinPopoverGroup:c,closeOthers:u}),[l,o,c,u]),f=b.useMemo(()=>({}),[]),m=e,h={ref:r},g=cr();return E.createElement(nC,null,E.createElement($8.Provider,{value:d},g({ourProps:h,theirProps:m,slot:f,defaultTag:s1t,name:"Popover.Group"})))}let l1t=ir(Qbt),F8=ir(e1t),c1t=ir(wve),u1t=ir(wve),B8=ir(a1t),d1t=ir(o1t),jve=Object.assign(l1t,{Button:F8,Backdrop:u1t,Overlay:c1t,Panel:B8,Group:d1t}),z8=b.createContext(null);z8.displayName="GroupContext";let f1t=b.Fragment;function h1t(e){var t;let[n,r]=b.useState(null),[i,a]=d8(),[o,l]=Dge(),c=b.useMemo(()=>({switch:n,setSwitch:r}),[n,r]),u={},d=e,f=cr();return E.createElement(l,{name:"Switch.Description",value:o},E.createElement(a,{name:"Switch.Label",value:i,props:{htmlFor:(t=c.switch)==null?void 0:t.id,onClick(m){n&&(m.currentTarget instanceof HTMLLabelElement&&m.preventDefault(),n.click(),n.focus({preventScroll:!0}))}}},E.createElement(z8.Provider,{value:c},f({ourProps:u,theirProps:d,slot:{},defaultTag:f1t,name:"Switch.Group"}))))}let m1t="button";function p1t(e,t){var n;let r=b.useId(),i=OP(),a=Hj(),{id:o=i||`headlessui-switch-${r}`,disabled:l=a||!1,checked:c,defaultChecked:u,onChange:d,name:f,value:m,form:h,autoFocus:g=!1,...y}=e,v=b.useContext(z8),[x,w]=b.useState(null),j=b.useRef(null),_=br(j,t,v===null?null:v.setSwitch,w),S=o8(u),[k,P]=s8(c,d,S??!1),M=Cf(),[T,R]=b.useState(!1),D=rt(()=>{R(!0),P==null||P(!k),M.nextFrame(()=>{R(!1)})}),I=rt(oe=>{if(sb(oe.currentTarget))return oe.preventDefault();oe.preventDefault(),D()}),B=rt(oe=>{oe.key===rn.Space?(oe.preventDefault(),D()):oe.key===rn.Enter&&Lge(oe.currentTarget)}),$=rt(oe=>oe.preventDefault()),K=ob(),Y=u8(),{isFocusVisible:Q,focusProps:H}=zp({autoFocus:g}),{isHovered:G,hoverProps:U}=Fv({isDisabled:l}),{pressed:ee,pressProps:z}=ab({disabled:l}),F=b.useMemo(()=>({checked:k,disabled:l,hover:G,focus:Q,active:ee,autofocus:g,changing:T}),[k,G,Q,ee,l,T,g]),ie=xc({id:o,ref:_,role:"switch",type:cb(e,x),tabIndex:e.tabIndex===-1?0:(n=e.tabIndex)!=null?n:0,"aria-checked":k,"aria-labelledby":K,"aria-describedby":Y,disabled:l||void 0,autoFocus:g,onClick:I,onKeyUp:B,onKeyPress:$},H,U,z),ce=b.useCallback(()=>{if(S!==void 0)return P==null?void 0:P(S)},[P,S]),te=cr();return E.createElement(E.Fragment,null,f!=null&&E.createElement(l8,{disabled:l,data:{[f]:m||"on"},overrides:{type:"checkbox",checked:k},form:h,onReset:ce}),te({ourProps:ie,theirProps:y,slot:F,defaultTag:m1t,name:"Switch"}))}let g1t=ir(p1t),v1t=h1t,x1t=f8,y1t=Rge,b1t=Object.assign(g1t,{Group:v1t,Label:x1t,Description:y1t});function w1t({onFocus:e}){let[t,n]=b.useState(!0),r=VP();return t?E.createElement(xf,{as:"button",type:"button",features:vf.Focusable,onFocus:i=>{i.preventDefault();let a,o=50;function l(){if(o--<=0){a&&cancelAnimationFrame(a);return}if(e()){if(cancelAnimationFrame(a),!r.current)return;n(!1);return}a=requestAnimationFrame(l)}a=requestAnimationFrame(l)}}):null}const Nve=b.createContext(null);function j1t(){return{groups:new Map,get(e,t){var n;let r=this.groups.get(e);r||(r=new Map,this.groups.set(e,r));let i=(n=r.get(t))!=null?n:0;r.set(t,i+1);let a=Array.from(r.keys()).indexOf(t);function o(){let l=r.get(t);l>1?r.set(t,l-1):r.delete(t)}return[a,o]}}}function N1t({children:e}){let t=b.useRef(j1t());return b.createElement(Nve.Provider,{value:t},e)}function _ve(e){let t=b.useContext(Nve);if(!t)throw new Error("You must wrap your component in a <StableCollection>");let n=b.useId(),[r,i]=t.current.get(e,n);return b.useEffect(()=>i,[]),r}var _1t=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(_1t||{}),S1t=(e=>(e[e.Less=-1]="Less",e[e.Equal=0]="Equal",e[e.Greater=1]="Greater",e))(S1t||{}),k1t=(e=>(e[e.SetSelectedIndex=0]="SetSelectedIndex",e[e.RegisterTab=1]="RegisterTab",e[e.UnregisterTab=2]="UnregisterTab",e[e.RegisterPanel=3]="RegisterPanel",e[e.UnregisterPanel=4]="UnregisterPanel",e))(k1t||{});let C1t={0(e,t){var n;let r=Um(e.tabs,d=>d.current),i=Um(e.panels,d=>d.current),a=r.filter(d=>{var f;return!((f=d.current)!=null&&f.hasAttribute("disabled"))}),o={...e,tabs:r,panels:i};if(t.index<0||t.index>r.length-1){let d=xr(Math.sign(t.index-e.selectedIndex),{[-1]:()=>1,0:()=>xr(Math.sign(t.index),{[-1]:()=>0,0:()=>0,1:()=>1}),1:()=>0});if(a.length===0)return o;let f=xr(d,{0:()=>r.indexOf(a[0]),1:()=>r.indexOf(a[a.length-1])});return{...o,selectedIndex:f===-1?e.selectedIndex:f}}let l=r.slice(0,t.index),c=[...r.slice(t.index),...l].find(d=>a.includes(d));if(!c)return o;let u=(n=r.indexOf(c))!=null?n:e.selectedIndex;return u===-1&&(u=e.selectedIndex),{...o,selectedIndex:u}},1(e,t){if(e.tabs.includes(t.tab))return e;let n=e.tabs[e.selectedIndex],r=Um([...e.tabs,t.tab],a=>a.current),i=e.selectedIndex;return e.info.current.isControlled||(i=r.indexOf(n),i===-1&&(i=e.selectedIndex)),{...e,tabs:r,selectedIndex:i}},2(e,t){return{...e,tabs:e.tabs.filter(n=>n!==t.tab)}},3(e,t){return e.panels.includes(t.panel)?e:{...e,panels:Um([...e.panels,t.panel],n=>n.current)}},4(e,t){return{...e,panels:e.panels.filter(n=>n!==t.panel)}}},V8=b.createContext(null);V8.displayName="TabsDataContext";function w0(e){let t=b.useContext(V8);if(t===null){let n=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,w0),n}return t}let q8=b.createContext(null);q8.displayName="TabsActionsContext";function U8(e){let t=b.useContext(q8);if(t===null){let n=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,U8),n}return t}function E1t(e,t){return xr(t.type,C1t,e,t)}let P1t="div";function A1t(e,t){let{defaultIndex:n=0,vertical:r=!1,manual:i=!1,onChange:a,selectedIndex:o=null,...l}=e;const c=r?"vertical":"horizontal",u=i?"manual":"auto";let d=o!==null,f=zo({isControlled:d}),m=br(t),[h,g]=b.useReducer(E1t,{info:f,selectedIndex:o??n,tabs:[],panels:[]}),y=b.useMemo(()=>({selectedIndex:h.selectedIndex}),[h.selectedIndex]),v=zo(a||(()=>{})),x=zo(h.tabs),w=b.useMemo(()=>({orientation:c,activation:u,...h}),[c,u,h]),j=rt(R=>(g({type:1,tab:R}),()=>g({type:2,tab:R}))),_=rt(R=>(g({type:3,panel:R}),()=>g({type:4,panel:R}))),S=rt(R=>{k.current!==R&&v.current(R),d||g({type:0,index:R})}),k=zo(d?e.selectedIndex:h.selectedIndex),P=b.useMemo(()=>({registerTab:j,registerPanel:_,change:S}),[]);or(()=>{g({type:0,index:o??n})},[o]),or(()=>{if(k.current===void 0||h.tabs.length<=0)return;let R=Um(h.tabs,D=>D.current);R.some((D,I)=>h.tabs[I]!==D)&&S(R.indexOf(h.tabs[k.current]))});let M={ref:m},T=cr();return E.createElement(N1t,null,E.createElement(q8.Provider,{value:P},E.createElement(V8.Provider,{value:w},w.tabs.length<=0&&E.createElement(w1t,{onFocus:()=>{var R,D;for(let I of x.current)if(((R=I.current)==null?void 0:R.tabIndex)===0)return(D=I.current)==null||D.focus(),!0;return!1}}),T({ourProps:M,theirProps:l,slot:y,defaultTag:P1t,name:"Tabs"}))))}let T1t="div";function O1t(e,t){let{orientation:n,selectedIndex:r}=w0("Tab.List"),i=br(t),a=b.useMemo(()=>({selectedIndex:r}),[r]),o=e,l={ref:i,role:"tablist","aria-orientation":n};return cr()({ourProps:l,theirProps:o,slot:a,defaultTag:T1t,name:"Tabs.List"})}let L1t="button";function M1t(e,t){var n,r;let i=b.useId(),{id:a=`headlessui-tabs-tab-${i}`,disabled:o=!1,autoFocus:l=!1,...c}=e,{orientation:u,activation:d,selectedIndex:f,tabs:m,panels:h}=w0("Tab"),g=U8("Tab"),y=w0("Tab"),[v,x]=b.useState(null),w=b.useRef(null),j=br(w,t,x);or(()=>g.registerTab(w),[g,w]);let _=_ve("tabs"),S=m.indexOf(w);S===-1&&(S=_);let k=S===f,P=rt(U=>{var ee;let z=U();if(z===Zd.Success&&d==="auto"){let F=(ee=kf(w))==null?void 0:ee.activeElement,ie=y.tabs.findIndex(ce=>ce.current===F);ie!==-1&&g.change(ie)}return z}),M=rt(U=>{let ee=m.map(z=>z.current).filter(Boolean);if(U.key===rn.Space||U.key===rn.Enter){U.preventDefault(),U.stopPropagation(),g.change(S);return}switch(U.key){case rn.Home:case rn.PageUp:return U.preventDefault(),U.stopPropagation(),P(()=>cs(ee,Qr.First));case rn.End:case rn.PageDown:return U.preventDefault(),U.stopPropagation(),P(()=>cs(ee,Qr.Last))}if(P(()=>xr(u,{vertical(){return U.key===rn.ArrowUp?cs(ee,Qr.Previous|Qr.WrapAround):U.key===rn.ArrowDown?cs(ee,Qr.Next|Qr.WrapAround):Zd.Error},horizontal(){return U.key===rn.ArrowLeft?cs(ee,Qr.Previous|Qr.WrapAround):U.key===rn.ArrowRight?cs(ee,Qr.Next|Qr.WrapAround):Zd.Error}}))===Zd.Success)return U.preventDefault()}),T=b.useRef(!1),R=rt(()=>{var U;T.current||(T.current=!0,(U=w.current)==null||U.focus({preventScroll:!0}),g.change(S),Wj(()=>{T.current=!1}))}),D=rt(U=>{U.preventDefault()}),{isFocusVisible:I,focusProps:B}=zp({autoFocus:l}),{isHovered:$,hoverProps:K}=Fv({isDisabled:o}),{pressed:Y,pressProps:Q}=ab({disabled:o}),H=b.useMemo(()=>({selected:k,hover:$,active:Y,focus:I,autofocus:l,disabled:o}),[k,$,I,Y,l,o]),G=xc({ref:j,onKeyDown:M,onMouseDown:D,onClick:R,id:a,role:"tab",type:cb(e,v),"aria-controls":(r=(n=h[S])==null?void 0:n.current)==null?void 0:r.id,"aria-selected":k,tabIndex:k?0:-1,disabled:o||void 0,autoFocus:l},B,K,Q);return cr()({ourProps:G,theirProps:c,slot:H,defaultTag:L1t,name:"Tabs.Tab"})}let I1t="div";function D1t(e,t){let{selectedIndex:n}=w0("Tab.Panels"),r=br(t),i=b.useMemo(()=>({selectedIndex:n}),[n]),a=e,o={ref:r};return cr()({ourProps:o,theirProps:a,slot:i,defaultTag:I1t,name:"Tabs.Panels"})}let R1t="div",$1t=go.RenderStrategy|go.Static;function F1t(e,t){var n,r,i,a;let o=b.useId(),{id:l=`headlessui-tabs-panel-${o}`,tabIndex:c=0,...u}=e,{selectedIndex:d,tabs:f,panels:m}=w0("Tab.Panel"),h=U8("Tab.Panel"),g=b.useRef(null),y=br(g,t);or(()=>h.registerPanel(g),[h,g]);let v=_ve("panels"),x=m.indexOf(g);x===-1&&(x=v);let w=x===d,{isFocusVisible:j,focusProps:_}=zp(),S=b.useMemo(()=>({selected:w,focus:j}),[w,j]),k=xc({ref:y,id:l,role:"tabpanel","aria-labelledby":(r=(n=f[x])==null?void 0:n.current)==null?void 0:r.id,tabIndex:w?c:-1},_),P=cr();return!w&&((i=u.unmount)==null||i)&&!((a=u.static)!=null&&a)?E.createElement(xf,{"aria-hidden":"true",...k}):P({ourProps:k,theirProps:u,slot:S,defaultTag:R1t,features:$1t,visible:w,name:"Tabs.Panel"})}let B1t=ir(M1t),z1t=ir(A1t),V1t=ir(O1t),q1t=ir(D1t),U1t=ir(F1t),tA=Object.assign(B1t,{Group:z1t,List:V1t,Panels:q1t,Panel:U1t});const Sve=e=>{var t=ht(e,[]);return E.createElement("svg",Object.assign({},t,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"}),E.createElement("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"}))},Qj=e=>{var t=ht(e,[]);return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},t),E.createElement("path",{d:"M12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22ZM12 10.5858L9.17157 7.75736L7.75736 9.17157L10.5858 12L7.75736 14.8284L9.17157 16.2426L12 13.4142L14.8284 16.2426L16.2426 14.8284L13.4142 12L16.2426 9.17157L14.8284 7.75736L12 10.5858Z"}))};var Pn=function(){return Pn=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Pn.apply(this,arguments)};function W1t(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function kve(e,t,n){for(var r=0,i=t.length,a;r<i;r++)(a||!(r in t))&&(a||(a=Array.prototype.slice.call(t,0,r)),a[r]=t[r]);return e.concat(a||Array.prototype.slice.call(t))}function Jj(e){return e.mode==="multiple"}function eN(e){return e.mode==="range"}function nA(e){return e.mode==="single"}var H1t={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function K1t(e,t){return er(e,"LLLL y",t)}function G1t(e,t){return er(e,"d",t)}function Y1t(e,t){return er(e,"LLLL",t)}function X1t(e){return"".concat(e)}function Z1t(e,t){return er(e,"cccccc",t)}function Q1t(e,t){return er(e,"yyyy",t)}var J1t=Object.freeze({__proto__:null,formatCaption:K1t,formatDay:G1t,formatMonthCaption:Y1t,formatWeekNumber:X1t,formatWeekdayName:Z1t,formatYearCaption:Q1t}),ewt=function(e,t,n){return er(e,"do MMMM (EEEE)",n)},twt=function(){return"Month: "},nwt=function(){return"Go to next month"},rwt=function(){return"Go to previous month"},iwt=function(e,t){return er(e,"cccc",t)},awt=function(e){return"Week n. ".concat(e)},swt=function(){return"Year: "},owt=Object.freeze({__proto__:null,labelDay:ewt,labelMonthDropdown:twt,labelNext:nwt,labelPrevious:rwt,labelWeekNumber:awt,labelWeekday:iwt,labelYearDropdown:swt});function lwt(){var e="buttons",t=H1t,n=PP,r={},i={},a=1,o={},l=new Date;return{captionLayout:e,classNames:t,formatters:J1t,labels:owt,locale:n,modifiersClassNames:r,modifiers:i,numberOfMonths:a,styles:o,today:l,mode:"default"}}function cwt(e){var t=e.fromYear,n=e.toYear,r=e.fromMonth,i=e.toMonth,a=e.fromDate,o=e.toDate;return r?a=Fs(r):t&&(a=new Date(t,0,1)),i?o=YF(i):n&&(o=new Date(n,11,31)),{fromDate:a?gf(a):void 0,toDate:o?gf(o):void 0}}var Cve=b.createContext(void 0);function uwt(e){var t,n=e.initialProps,r=lwt(),i=cwt(n),a=i.fromDate,o=i.toDate,l=(t=n.captionLayout)!==null&&t!==void 0?t:r.captionLayout;l!=="buttons"&&(!a||!o)&&(l="buttons");var c;(nA(n)||Jj(n)||eN(n))&&(c=n.onSelect);var u=Pn(Pn(Pn({},r),n),{captionLayout:l,classNames:Pn(Pn({},r.classNames),n.classNames),components:Pn({},n.components),formatters:Pn(Pn({},r.formatters),n.formatters),fromDate:a,labels:Pn(Pn({},r.labels),n.labels),mode:n.mode||r.mode,modifiers:Pn(Pn({},r.modifiers),n.modifiers),modifiersClassNames:Pn(Pn({},r.modifiersClassNames),n.modifiersClassNames),onSelect:c,styles:Pn(Pn({},r.styles),n.styles),toDate:o});return s.jsx(Cve.Provider,{value:u,children:e.children})}function Si(){var e=b.useContext(Cve);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function Eve(e){var t=Si(),n=t.locale,r=t.classNames,i=t.styles,a=t.formatters.formatCaption;return s.jsx("div",{className:r.caption_label,style:i.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:a(e.displayMonth,{locale:n})})}function dwt(e){return s.jsx("svg",Pn({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:s.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function Pve(e){var t,n,r=e.onChange,i=e.value,a=e.children,o=e.caption,l=e.className,c=e.style,u=Si(),d=(n=(t=u.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&n!==void 0?n:dwt;return s.jsxs("div",{className:l,style:c,children:[s.jsx("span",{className:u.classNames.vhidden,children:e["aria-label"]}),s.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:i,onChange:r,children:a}),s.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[o,s.jsx(d,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function fwt(e){var t,n=Si(),r=n.fromDate,i=n.toDate,a=n.styles,o=n.locale,l=n.formatters.formatMonthCaption,c=n.classNames,u=n.components,d=n.labels.labelMonthDropdown;if(!r)return s.jsx(s.Fragment,{});if(!i)return s.jsx(s.Fragment,{});var f=[];if(Xpt(r,i))for(var m=Fs(r),h=r.getMonth();h<=i.getMonth();h++)f.push(nO(m,h));else for(var m=Fs(new Date),h=0;h<=11;h++)f.push(nO(m,h));var g=function(v){var x=Number(v.target.value),w=nO(Fs(e.displayMonth),x);e.onChange(w)},y=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:Pve;return s.jsx(y,{name:"months","aria-label":d(),className:c.dropdown_month,style:a.dropdown_month,onChange:g,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:o}),children:f.map(function(v){return s.jsx("option",{value:v.getMonth(),children:l(v,{locale:o})},v.getMonth())})})}function hwt(e){var t,n=e.displayMonth,r=Si(),i=r.fromDate,a=r.toDate,o=r.locale,l=r.styles,c=r.classNames,u=r.components,d=r.formatters.formatYearCaption,f=r.labels.labelYearDropdown,m=[];if(!i)return s.jsx(s.Fragment,{});if(!a)return s.jsx(s.Fragment,{});for(var h=i.getFullYear(),g=a.getFullYear(),y=h;y<=g;y++)m.push(HG(XF(new Date),y));var v=function(w){var j=HG(Fs(n),Number(w.target.value));e.onChange(j)},x=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:Pve;return s.jsx(x,{name:"years","aria-label":f(),className:c.dropdown_year,style:l.dropdown_year,onChange:v,value:n.getFullYear(),caption:d(n,{locale:o}),children:m.map(function(w){return s.jsx("option",{value:w.getFullYear(),children:d(w,{locale:o})},w.getFullYear())})})}function mwt(e,t){var n=b.useState(e),r=n[0],i=n[1],a=t===void 0?r:t;return[a,i]}function pwt(e){var t=e.month,n=e.defaultMonth,r=e.today,i=t||n||r||new Date,a=e.toDate,o=e.fromDate,l=e.numberOfMonths,c=l===void 0?1:l;if(a&&Y2(a,i)<0){var u=-1*(c-1);i=su(a,u)}return o&&Y2(i,o)<0&&(i=o),Fs(i)}function gwt(){var e=Si(),t=pwt(e),n=mwt(t,e.month),r=n[0],i=n[1],a=function(o){var l;if(!e.disableNavigation){var c=Fs(o);i(c),(l=e.onMonthChange)===null||l===void 0||l.call(e,c)}};return[r,a]}function vwt(e,t){for(var n=t.reverseMonths,r=t.numberOfMonths,i=Fs(e),a=Fs(su(i,r)),o=Y2(a,i),l=[],c=0;c<o;c++){var u=su(i,c);l.push(u)}return n&&(l=l.reverse()),l}function xwt(e,t){if(!t.disableNavigation){var n=t.toDate,r=t.pagedNavigation,i=t.numberOfMonths,a=i===void 0?1:i,o=r?a:1,l=Fs(e);if(!n)return su(l,o);var c=Y2(n,e);if(!(c<a))return su(l,o)}}function ywt(e,t){if(!t.disableNavigation){var n=t.fromDate,r=t.pagedNavigation,i=t.numberOfMonths,a=i===void 0?1:i,o=r?a:1,l=Fs(e);if(!n)return su(l,-o);var c=Y2(l,n);if(!(c<=0))return su(l,-o)}}var Ave=b.createContext(void 0);function bwt(e){var t=Si(),n=gwt(),r=n[0],i=n[1],a=vwt(r,t),o=xwt(r,t),l=ywt(r,t),c=function(f){return a.some(function(m){return ZF(f,m)})},u=function(f,m){c(f)||(m&&lge(f,m)?i(su(f,1+t.numberOfMonths*-1)):i(f))},d={currentMonth:r,displayMonths:a,goToMonth:i,goToDate:u,previousMonth:l,nextMonth:o,isDateDisplayed:c};return s.jsx(Ave.Provider,{value:d,children:e.children})}function mb(){var e=b.useContext(Ave);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function OY(e){var t,n=Si(),r=n.classNames,i=n.styles,a=n.components,o=mb().goToMonth,l=function(d){o(su(d,e.displayIndex?-e.displayIndex:0))},c=(t=a==null?void 0:a.CaptionLabel)!==null&&t!==void 0?t:Eve,u=s.jsx(c,{id:e.id,displayMonth:e.displayMonth});return s.jsxs("div",{className:r.caption_dropdowns,style:i.caption_dropdowns,children:[s.jsx("div",{className:r.vhidden,children:u}),s.jsx(fwt,{onChange:l,displayMonth:e.displayMonth}),s.jsx(hwt,{onChange:l,displayMonth:e.displayMonth})]})}function wwt(e){return s.jsx("svg",Pn({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:s.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function jwt(e){return s.jsx("svg",Pn({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:s.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var rC=b.forwardRef(function(e,t){var n=Si(),r=n.classNames,i=n.styles,a=[r.button_reset,r.button];e.className&&a.push(e.className);var o=a.join(" "),l=Pn(Pn({},i.button_reset),i.button);return e.style&&Object.assign(l,e.style),s.jsx("button",Pn({},e,{ref:t,type:"button",className:o,style:l}))});function Nwt(e){var t,n,r=Si(),i=r.dir,a=r.locale,o=r.classNames,l=r.styles,c=r.labels,u=c.labelPrevious,d=c.labelNext,f=r.components;if(!e.nextMonth&&!e.previousMonth)return s.jsx(s.Fragment,{});var m=u(e.previousMonth,{locale:a}),h=[o.nav_button,o.nav_button_previous].join(" "),g=d(e.nextMonth,{locale:a}),y=[o.nav_button,o.nav_button_next].join(" "),v=(t=f==null?void 0:f.IconRight)!==null&&t!==void 0?t:jwt,x=(n=f==null?void 0:f.IconLeft)!==null&&n!==void 0?n:wwt;return s.jsxs("div",{className:o.nav,style:l.nav,children:[!e.hidePrevious&&s.jsx(rC,{name:"previous-month","aria-label":m,className:h,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:i==="rtl"?s.jsx(v,{className:o.nav_icon,style:l.nav_icon}):s.jsx(x,{className:o.nav_icon,style:l.nav_icon})}),!e.hideNext&&s.jsx(rC,{name:"next-month","aria-label":g,className:y,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:i==="rtl"?s.jsx(x,{className:o.nav_icon,style:l.nav_icon}):s.jsx(v,{className:o.nav_icon,style:l.nav_icon})})]})}function LY(e){var t=Si().numberOfMonths,n=mb(),r=n.previousMonth,i=n.nextMonth,a=n.goToMonth,o=n.displayMonths,l=o.findIndex(function(g){return ZF(e.displayMonth,g)}),c=l===0,u=l===o.length-1,d=t>1&&(c||!u),f=t>1&&(u||!c),m=function(){r&&a(r)},h=function(){i&&a(i)};return s.jsx(Nwt,{displayMonth:e.displayMonth,hideNext:d,hidePrevious:f,nextMonth:i,previousMonth:r,onPreviousClick:m,onNextClick:h})}function _wt(e){var t,n=Si(),r=n.classNames,i=n.disableNavigation,a=n.styles,o=n.captionLayout,l=n.components,c=(t=l==null?void 0:l.CaptionLabel)!==null&&t!==void 0?t:Eve,u;return i?u=s.jsx(c,{id:e.id,displayMonth:e.displayMonth}):o==="dropdown"?u=s.jsx(OY,{displayMonth:e.displayMonth,id:e.id}):o==="dropdown-buttons"?u=s.jsxs(s.Fragment,{children:[s.jsx(OY,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),s.jsx(LY,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):u=s.jsxs(s.Fragment,{children:[s.jsx(c,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),s.jsx(LY,{displayMonth:e.displayMonth,id:e.id})]}),s.jsx("div",{className:r.caption,style:a.caption,children:u})}function Swt(e){var t=Si(),n=t.footer,r=t.styles,i=t.classNames.tfoot;return n?s.jsx("tfoot",{className:i,style:r.tfoot,children:s.jsx("tr",{children:s.jsx("td",{colSpan:8,children:n})})}):s.jsx(s.Fragment,{})}function kwt(e,t,n){for(var r=n?wv(new Date):ou(new Date,{locale:e,weekStartsOn:t}),i=[],a=0;a<7;a++){var o=To(r,a);i.push(o)}return i}function Cwt(){var e=Si(),t=e.classNames,n=e.styles,r=e.showWeekNumber,i=e.locale,a=e.weekStartsOn,o=e.ISOWeek,l=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,u=kwt(i,a,o);return s.jsxs("tr",{style:n.head_row,className:t.head_row,children:[r&&s.jsx("td",{style:n.head_cell,className:t.head_cell}),u.map(function(d,f){return s.jsx("th",{scope:"col",className:t.head_cell,style:n.head_cell,"aria-label":c(d,{locale:i}),children:l(d,{locale:i})},f)})]})}function Ewt(){var e,t=Si(),n=t.classNames,r=t.styles,i=t.components,a=(e=i==null?void 0:i.HeadRow)!==null&&e!==void 0?e:Cwt;return s.jsx("thead",{style:r.head,className:n.head,children:s.jsx(a,{})})}function Pwt(e){var t=Si(),n=t.locale,r=t.formatters.formatDay;return s.jsx(s.Fragment,{children:r(e.date,{locale:n})})}var W8=b.createContext(void 0);function Awt(e){if(!Jj(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return s.jsx(W8.Provider,{value:t,children:e.children})}return s.jsx(Twt,{initialProps:e.initialProps,children:e.children})}function Twt(e){var t=e.initialProps,n=e.children,r=t.selected,i=t.min,a=t.max,o=function(u,d,f){var m,h;(m=t.onDayClick)===null||m===void 0||m.call(t,u,d,f);var g=!!(d.selected&&i&&(r==null?void 0:r.length)===i);if(!g){var y=!!(!d.selected&&a&&(r==null?void 0:r.length)===a);if(!y){var v=r?kve([],r):[];if(d.selected){var x=v.findIndex(function(w){return yl(u,w)});v.splice(x,1)}else v.push(u);(h=t.onSelect)===null||h===void 0||h.call(t,v,u,d,f)}}},l={disabled:[]};r&&l.disabled.push(function(u){var d=a&&r.length>a-1,f=r.some(function(m){return yl(m,u)});return!!(d&&!f)});var c={selected:r,onDayClick:o,modifiers:l};return s.jsx(W8.Provider,{value:c,children:n})}function H8(){var e=b.useContext(W8);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function Owt(e,t){var n=t||{},r=n.from,i=n.to;return r&&i?yl(i,e)&&yl(r,e)?void 0:yl(i,e)?{from:i,to:void 0}:yl(r,e)?void 0:UI(r,e)?{from:e,to:i}:{from:r,to:e}:i?UI(e,i)?{from:i,to:e}:{from:e,to:i}:r?lge(e,r)?{from:e,to:r}:{from:r,to:e}:{from:e,to:void 0}}var K8=b.createContext(void 0);function Lwt(e){if(!eN(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return s.jsx(K8.Provider,{value:t,children:e.children})}return s.jsx(Mwt,{initialProps:e.initialProps,children:e.children})}function Mwt(e){var t=e.initialProps,n=e.children,r=t.selected,i=r||{},a=i.from,o=i.to,l=t.min,c=t.max,u=function(h,g,y){var v,x;(v=t.onDayClick)===null||v===void 0||v.call(t,h,g,y);var w=Owt(h,r);(x=t.onSelect)===null||x===void 0||x.call(t,w,h,g,y)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(a?(d.range_start=[a],o?(d.range_end=[o],yl(a,o)||(d.range_middle=[{after:a,before:o}])):d.range_end=[a]):o&&(d.range_start=[o],d.range_end=[o]),l&&(a&&!o&&d.disabled.push({after:bS(a,l-1),before:To(a,l-1)}),a&&o&&d.disabled.push({after:a,before:To(a,l-1)}),!a&&o&&d.disabled.push({after:bS(o,l-1),before:To(o,l-1)})),c){if(a&&!o&&(d.disabled.push({before:To(a,-c+1)}),d.disabled.push({after:To(a,c-1)})),a&&o){var f=Yd(o,a)+1,m=c-f;d.disabled.push({before:bS(a,m)}),d.disabled.push({after:To(o,m)})}!a&&o&&(d.disabled.push({before:To(o,-c+1)}),d.disabled.push({after:To(o,c-1)}))}return s.jsx(K8.Provider,{value:{selected:r,onDayClick:u,modifiers:d},children:n})}function G8(){var e=b.useContext(K8);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function NS(e){return Array.isArray(e)?kve([],e):e!==void 0?[e]:[]}function Iwt(e){var t={};return Object.entries(e).forEach(function(n){var r=n[0],i=n[1];t[r]=NS(i)}),t}var ld;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(ld||(ld={}));var Dwt=ld.Selected,Hf=ld.Disabled,Rwt=ld.Hidden,$wt=ld.Today,yO=ld.RangeEnd,bO=ld.RangeMiddle,wO=ld.RangeStart,Fwt=ld.Outside;function Bwt(e,t,n){var r,i=(r={},r[Dwt]=NS(e.selected),r[Hf]=NS(e.disabled),r[Rwt]=NS(e.hidden),r[$wt]=[e.today],r[yO]=[],r[bO]=[],r[wO]=[],r[Fwt]=[],r);return e.fromDate&&i[Hf].push({before:e.fromDate}),e.toDate&&i[Hf].push({after:e.toDate}),Jj(e)?i[Hf]=i[Hf].concat(t.modifiers[Hf]):eN(e)&&(i[Hf]=i[Hf].concat(n.modifiers[Hf]),i[wO]=n.modifiers[wO],i[bO]=n.modifiers[bO],i[yO]=n.modifiers[yO]),i}var Tve=b.createContext(void 0);function zwt(e){var t=Si(),n=H8(),r=G8(),i=Bwt(t,n,r),a=Iwt(t.modifiers),o=Pn(Pn({},i),a);return s.jsx(Tve.Provider,{value:o,children:e.children})}function Ove(){var e=b.useContext(Tve);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function Vwt(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function qwt(e){return!!(e&&typeof e=="object"&&"from"in e)}function Uwt(e){return!!(e&&typeof e=="object"&&"after"in e)}function Wwt(e){return!!(e&&typeof e=="object"&&"before"in e)}function Hwt(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function Kwt(e,t){var n,r=t.from,i=t.to;if(r&&i){var a=Yd(i,r)<0;a&&(n=[i,r],r=n[0],i=n[1]);var o=Yd(e,r)>=0&&Yd(i,e)>=0;return o}return i?yl(i,e):r?yl(r,e):!1}function Gwt(e){return GF(e)}function Ywt(e){return Array.isArray(e)&&e.every(GF)}function Xwt(e,t){return t.some(function(n){if(typeof n=="boolean")return n;if(Gwt(n))return yl(e,n);if(Ywt(n))return n.includes(e);if(qwt(n))return Kwt(e,n);if(Hwt(n))return n.dayOfWeek.includes(e.getDay());if(Vwt(n)){var r=Yd(n.before,e),i=Yd(n.after,e),a=r>0,o=i<0,l=UI(n.before,n.after);return l?o&&a:a||o}return Uwt(n)?Yd(e,n.after)>0:Wwt(n)?Yd(n.before,e)>0:typeof n=="function"?n(e):!1})}function Y8(e,t,n){var r=Object.keys(t).reduce(function(a,o){var l=t[o];return Xwt(e,l)&&a.push(o),a},[]),i={};return r.forEach(function(a){return i[a]=!0}),n&&!ZF(e,n)&&(i.outside=!0),i}function Zwt(e,t){for(var n=Fs(e[0]),r=YF(e[e.length-1]),i,a,o=n;o<=r;){var l=Y8(o,t),c=!l.disabled&&!l.hidden;if(!c){o=To(o,1);continue}if(l.selected)return o;l.today&&!a&&(a=o),i||(i=o),o=To(o,1)}return a||i}var Qwt=365;function Lve(e,t){var n=t.moveBy,r=t.direction,i=t.context,a=t.modifiers,o=t.retry,l=o===void 0?{count:0,lastFocused:e}:o,c=i.weekStartsOn,u=i.fromDate,d=i.toDate,f=i.locale,m={day:To,week:G2,month:su,year:qI,startOfWeek:function(v){return i.ISOWeek?wv(v):ou(v,{locale:f,weekStartsOn:c})},endOfWeek:function(v){return i.ISOWeek?nge(v):X2(v,{locale:f,weekStartsOn:c})}},h=m[n](e,r==="after"?1:-1);r==="before"&&u?h=ege([u,h]):r==="after"&&d&&(h=tge([d,h]));var g=!0;if(a){var y=Y8(h,a);g=!y.disabled&&!y.hidden}return g?h:l.count>Qwt?l.lastFocused:Lve(h,{moveBy:n,direction:r,context:i,modifiers:a,retry:Pn(Pn({},l),{count:l.count+1})})}var Mve=b.createContext(void 0);function Jwt(e){var t=mb(),n=Ove(),r=b.useState(),i=r[0],a=r[1],o=b.useState(),l=o[0],c=o[1],u=Zwt(t.displayMonths,n),d=i??(l&&t.isDateDisplayed(l))?l:u,f=function(){c(i),a(void 0)},m=function(v){a(v)},h=Si(),g=function(v,x){if(i){var w=Lve(i,{moveBy:v,direction:x,context:h,modifiers:n});yl(i,w)||(t.goToDate(w,i),m(w))}},y={focusedDay:i,focusTarget:d,blur:f,focus:m,focusDayAfter:function(){return g("day","after")},focusDayBefore:function(){return g("day","before")},focusWeekAfter:function(){return g("week","after")},focusWeekBefore:function(){return g("week","before")},focusMonthBefore:function(){return g("month","before")},focusMonthAfter:function(){return g("month","after")},focusYearBefore:function(){return g("year","before")},focusYearAfter:function(){return g("year","after")},focusStartOfWeek:function(){return g("startOfWeek","before")},focusEndOfWeek:function(){return g("endOfWeek","after")}};return s.jsx(Mve.Provider,{value:y,children:e.children})}function X8(){var e=b.useContext(Mve);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function e2t(e,t){var n=Ove(),r=Y8(e,n,t);return r}var Z8=b.createContext(void 0);function t2t(e){if(!nA(e.initialProps)){var t={selected:void 0};return s.jsx(Z8.Provider,{value:t,children:e.children})}return s.jsx(n2t,{initialProps:e.initialProps,children:e.children})}function n2t(e){var t=e.initialProps,n=e.children,r=function(a,o,l){var c,u,d;if((c=t.onDayClick)===null||c===void 0||c.call(t,a,o,l),o.selected&&!t.required){(u=t.onSelect)===null||u===void 0||u.call(t,void 0,a,o,l);return}(d=t.onSelect)===null||d===void 0||d.call(t,a,a,o,l)},i={selected:t.selected,onDayClick:r};return s.jsx(Z8.Provider,{value:i,children:n})}function Ive(){var e=b.useContext(Z8);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function r2t(e,t){var n=Si(),r=Ive(),i=H8(),a=G8(),o=X8(),l=o.focusDayAfter,c=o.focusDayBefore,u=o.focusWeekAfter,d=o.focusWeekBefore,f=o.blur,m=o.focus,h=o.focusMonthBefore,g=o.focusMonthAfter,y=o.focusYearBefore,v=o.focusYearAfter,x=o.focusStartOfWeek,w=o.focusEndOfWeek,j=function(Q){var H,G,U,ee;nA(n)?(H=r.onDayClick)===null||H===void 0||H.call(r,e,t,Q):Jj(n)?(G=i.onDayClick)===null||G===void 0||G.call(i,e,t,Q):eN(n)?(U=a.onDayClick)===null||U===void 0||U.call(a,e,t,Q):(ee=n.onDayClick)===null||ee===void 0||ee.call(n,e,t,Q)},_=function(Q){var H;m(e),(H=n.onDayFocus)===null||H===void 0||H.call(n,e,t,Q)},S=function(Q){var H;f(),(H=n.onDayBlur)===null||H===void 0||H.call(n,e,t,Q)},k=function(Q){var H;(H=n.onDayMouseEnter)===null||H===void 0||H.call(n,e,t,Q)},P=function(Q){var H;(H=n.onDayMouseLeave)===null||H===void 0||H.call(n,e,t,Q)},M=function(Q){var H;(H=n.onDayPointerEnter)===null||H===void 0||H.call(n,e,t,Q)},T=function(Q){var H;(H=n.onDayPointerLeave)===null||H===void 0||H.call(n,e,t,Q)},R=function(Q){var H;(H=n.onDayTouchCancel)===null||H===void 0||H.call(n,e,t,Q)},D=function(Q){var H;(H=n.onDayTouchEnd)===null||H===void 0||H.call(n,e,t,Q)},I=function(Q){var H;(H=n.onDayTouchMove)===null||H===void 0||H.call(n,e,t,Q)},B=function(Q){var H;(H=n.onDayTouchStart)===null||H===void 0||H.call(n,e,t,Q)},$=function(Q){var H;(H=n.onDayKeyUp)===null||H===void 0||H.call(n,e,t,Q)},K=function(Q){var H;switch(Q.key){case"ArrowLeft":Q.preventDefault(),Q.stopPropagation(),n.dir==="rtl"?l():c();break;case"ArrowRight":Q.preventDefault(),Q.stopPropagation(),n.dir==="rtl"?c():l();break;case"ArrowDown":Q.preventDefault(),Q.stopPropagation(),u();break;case"ArrowUp":Q.preventDefault(),Q.stopPropagation(),d();break;case"PageUp":Q.preventDefault(),Q.stopPropagation(),Q.shiftKey?y():h();break;case"PageDown":Q.preventDefault(),Q.stopPropagation(),Q.shiftKey?v():g();break;case"Home":Q.preventDefault(),Q.stopPropagation(),x();break;case"End":Q.preventDefault(),Q.stopPropagation(),w();break}(H=n.onDayKeyDown)===null||H===void 0||H.call(n,e,t,Q)},Y={onClick:j,onFocus:_,onBlur:S,onKeyDown:K,onKeyUp:$,onMouseEnter:k,onMouseLeave:P,onPointerEnter:M,onPointerLeave:T,onTouchCancel:R,onTouchEnd:D,onTouchMove:I,onTouchStart:B};return Y}function i2t(){var e=Si(),t=Ive(),n=H8(),r=G8(),i=nA(e)?t.selected:Jj(e)?n.selected:eN(e)?r.selected:void 0;return i}function a2t(e){return Object.values(ld).includes(e)}function s2t(e,t){var n=[e.classNames.day];return Object.keys(t).forEach(function(r){var i=e.modifiersClassNames[r];if(i)n.push(i);else if(a2t(r)){var a=e.classNames["day_".concat(r)];a&&n.push(a)}}),n}function o2t(e,t){var n=Pn({},e.styles.day);return Object.keys(t).forEach(function(r){var i;n=Pn(Pn({},n),(i=e.modifiersStyles)===null||i===void 0?void 0:i[r])}),n}function l2t(e,t,n){var r,i,a,o=Si(),l=X8(),c=e2t(e,t),u=r2t(e,c),d=i2t(),f=!!(o.onDayClick||o.mode!=="default");b.useEffect(function(){var k;c.outside||l.focusedDay&&f&&yl(l.focusedDay,e)&&((k=n.current)===null||k===void 0||k.focus())},[l.focusedDay,e,n,f,c.outside]);var m=s2t(o,c).join(" "),h=o2t(o,c),g=!!(c.outside&&!o.showOutsideDays||c.hidden),y=(a=(i=o.components)===null||i===void 0?void 0:i.DayContent)!==null&&a!==void 0?a:Pwt,v=s.jsx(y,{date:e,displayMonth:t,activeModifiers:c}),x={style:h,className:m,children:v,role:"gridcell"},w=l.focusTarget&&yl(l.focusTarget,e)&&!c.outside,j=l.focusedDay&&yl(l.focusedDay,e),_=Pn(Pn(Pn({},x),(r={disabled:c.disabled,role:"gridcell"},r["aria-selected"]=c.selected,r.tabIndex=j||w?0:-1,r)),u),S={isButton:f,isHidden:g,activeModifiers:c,selectedDays:d,buttonProps:_,divProps:x};return S}function c2t(e){var t=b.useRef(null),n=l2t(e.date,e.displayMonth,t);return n.isHidden?s.jsx("div",{role:"gridcell"}):n.isButton?s.jsx(rC,Pn({name:"day",ref:t},n.buttonProps)):s.jsx("div",Pn({},n.divProps))}function u2t(e){var t=e.number,n=e.dates,r=Si(),i=r.onWeekNumberClick,a=r.styles,o=r.classNames,l=r.locale,c=r.labels.labelWeekNumber,u=r.formatters.formatWeekNumber,d=u(Number(t),{locale:l});if(!i)return s.jsx("span",{className:o.weeknumber,style:a.weeknumber,children:d});var f=c(Number(t),{locale:l}),m=function(h){i(t,n,h)};return s.jsx(rC,{name:"week-number","aria-label":f,className:o.weeknumber,style:a.weeknumber,onClick:m,children:d})}function d2t(e){var t,n,r=Si(),i=r.styles,a=r.classNames,o=r.showWeekNumber,l=r.components,c=(t=l==null?void 0:l.Day)!==null&&t!==void 0?t:c2t,u=(n=l==null?void 0:l.WeekNumber)!==null&&n!==void 0?n:u2t,d;return o&&(d=s.jsx("td",{className:a.cell,style:i.cell,children:s.jsx(u,{number:e.weekNumber,dates:e.dates})})),s.jsxs("tr",{className:a.row,style:i.row,children:[d,e.dates.map(function(f){return s.jsx("td",{className:a.cell,style:i.cell,role:"presentation",children:s.jsx(c,{displayMonth:e.displayMonth,date:f})},Hpt(f))})]})}function MY(e,t,n){for(var r=n!=null&&n.ISOWeek?nge(t):X2(t,n),i=n!=null&&n.ISOWeek?wv(e):ou(e,n),a=Yd(r,i),o=[],l=0;l<=a;l++)o.push(To(i,l));var c=o.reduce(function(u,d){var f=n!=null&&n.ISOWeek?ige(d):sge(d,n),m=u.find(function(h){return h.weekNumber===f});return m?(m.dates.push(d),u):(u.push({weekNumber:f,dates:[d]}),u)},[]);return c}function f2t(e,t){var n=MY(Fs(e),YF(e),t);if(t!=null&&t.useFixedWeeks){var r=Gpt(e,t);if(r<6){var i=n[n.length-1],a=i.dates[i.dates.length-1],o=G2(a,6-r),l=MY(G2(a,1),o,t);n.push.apply(n,l)}}return n}function h2t(e){var t,n,r,i=Si(),a=i.locale,o=i.classNames,l=i.styles,c=i.hideHead,u=i.fixedWeeks,d=i.components,f=i.weekStartsOn,m=i.firstWeekContainsDate,h=i.ISOWeek,g=f2t(e.displayMonth,{useFixedWeeks:!!u,ISOWeek:h,locale:a,weekStartsOn:f,firstWeekContainsDate:m}),y=(t=d==null?void 0:d.Head)!==null&&t!==void 0?t:Ewt,v=(n=d==null?void 0:d.Row)!==null&&n!==void 0?n:d2t,x=(r=d==null?void 0:d.Footer)!==null&&r!==void 0?r:Swt;return s.jsxs("table",{id:e.id,className:o.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&s.jsx(y,{}),s.jsx("tbody",{className:o.tbody,style:l.tbody,children:g.map(function(w){return s.jsx(v,{displayMonth:e.displayMonth,dates:w.dates,weekNumber:w.weekNumber},w.weekNumber)})}),s.jsx(x,{displayMonth:e.displayMonth})]})}function m2t(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var p2t=m2t()?b.useLayoutEffect:b.useEffect,jO=!1,g2t=0;function IY(){return"react-day-picker-".concat(++g2t)}function v2t(e){var t,n=e??(jO?IY():null),r=b.useState(n),i=r[0],a=r[1];return p2t(function(){i===null&&a(IY())},[]),b.useEffect(function(){jO===!1&&(jO=!0)},[]),(t=e??i)!==null&&t!==void 0?t:void 0}function x2t(e){var t,n,r=Si(),i=r.dir,a=r.classNames,o=r.styles,l=r.components,c=mb().displayMonths,u=v2t(r.id?"".concat(r.id,"-").concat(e.displayIndex):void 0),d=r.id?"".concat(r.id,"-grid-").concat(e.displayIndex):void 0,f=[a.month],m=o.month,h=e.displayIndex===0,g=e.displayIndex===c.length-1,y=!h&&!g;i==="rtl"&&(t=[h,g],g=t[0],h=t[1]),h&&(f.push(a.caption_start),m=Pn(Pn({},m),o.caption_start)),g&&(f.push(a.caption_end),m=Pn(Pn({},m),o.caption_end)),y&&(f.push(a.caption_between),m=Pn(Pn({},m),o.caption_between));var v=(n=l==null?void 0:l.Caption)!==null&&n!==void 0?n:_wt;return s.jsxs("div",{className:f.join(" "),style:m,children:[s.jsx(v,{id:u,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),s.jsx(h2t,{id:d,"aria-labelledby":u,displayMonth:e.displayMonth})]},e.displayIndex)}function y2t(e){var t=Si(),n=t.classNames,r=t.styles;return s.jsx("div",{className:n.months,style:r.months,children:e.children})}function b2t(e){var t,n,r=e.initialProps,i=Si(),a=X8(),o=mb(),l=b.useState(!1),c=l[0],u=l[1];b.useEffect(function(){i.initialFocus&&a.focusTarget&&(c||(a.focus(a.focusTarget),u(!0)))},[i.initialFocus,c,a.focus,a.focusTarget,a]);var d=[i.classNames.root,i.className];i.numberOfMonths>1&&d.push(i.classNames.multiple_months),i.showWeekNumber&&d.push(i.classNames.with_weeknumber);var f=Pn(Pn({},i.styles.root),i.style),m=Object.keys(r).filter(function(g){return g.startsWith("data-")}).reduce(function(g,y){var v;return Pn(Pn({},g),(v={},v[y]=r[y],v))},{}),h=(n=(t=r.components)===null||t===void 0?void 0:t.Months)!==null&&n!==void 0?n:y2t;return s.jsx("div",Pn({className:d.join(" "),style:f,dir:i.dir,id:i.id,nonce:r.nonce,title:r.title,lang:r.lang},m,{children:s.jsx(h,{children:o.displayMonths.map(function(g,y){return s.jsx(x2t,{displayIndex:y,displayMonth:g},y)})})}))}function w2t(e){var t=e.children,n=W1t(e,["children"]);return s.jsx(uwt,{initialProps:n,children:s.jsx(bwt,{children:s.jsx(t2t,{initialProps:n,children:s.jsx(Awt,{initialProps:n,children:s.jsx(Lwt,{initialProps:n,children:s.jsx(zwt,{children:s.jsx(Jwt,{children:t})})})})})})})}function Dve(e){return s.jsx(w2t,Pn({},e,{children:s.jsx(b2t,{initialProps:e})}))}const DY=e=>{var t=ht(e,[]);return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},t),E.createElement("path",{d:"M10.8284 12.0007L15.7782 16.9504L14.364 18.3646L8 12.0007L14.364 5.63672L15.7782 7.05093L10.8284 12.0007Z"}))},RY=e=>{var t=ht(e,[]);return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},t),E.createElement("path",{d:"M13.1717 12.0007L8.22192 7.05093L9.63614 5.63672L16.0001 12.0007L9.63614 18.3646L8.22192 16.9504L13.1717 12.0007Z"}))},j2t=e=>{var t=ht(e,[]);return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},t),E.createElement("path",{d:"M4.83582 12L11.0429 18.2071L12.4571 16.7929L7.66424 12L12.4571 7.20712L11.0429 5.79291L4.83582 12ZM10.4857 12L16.6928 18.2071L18.107 16.7929L13.3141 12L18.107 7.20712L16.6928 5.79291L10.4857 12Z"}))},N2t=e=>{var t=ht(e,[]);return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},t),E.createElement("path",{d:"M19.1642 12L12.9571 5.79291L11.5429 7.20712L16.3358 12L11.5429 16.7929L12.9571 18.2071L19.1642 12ZM13.5143 12L7.30722 5.79291L5.89301 7.20712L10.6859 12L5.89301 16.7929L7.30722 18.2071L13.5143 12Z"}))},xs=E.forwardRef((e,t)=>{const{color:n,className:r,children:i}=e;return E.createElement("p",{ref:t,className:ye("text-tremor-default",n?vt(n,Nt.text).textColor:ye("text-tremor-content","dark:text-dark-tremor-content"),r)},i)});xs.displayName="Text";const O_=e=>{var{onClick:t,icon:n}=e,r=ht(e,["onClick","icon"]);const i=n;return E.createElement("button",Object.assign({type:"button",className:ye("flex items-center justify-center p-1 h-7 w-7 outline-none focus:ring-2 transition duration-100 border border-tremor-border dark:border-dark-tremor-border hover:bg-tremor-background-muted dark:hover:bg-dark-tremor-background-muted rounded-tremor-small focus:border-tremor-brand-subtle select-none dark:focus:border-dark-tremor-brand-subtle focus:ring-tremor-brand-muted dark:focus:ring-dark-tremor-brand-muted text-tremor-content-subtle dark:text-dark-tremor-content-subtle hover:text-tremor-content dark:hover:text-dark-tremor-content")},r),E.createElement(xge,{onClick:t,icon:i,variant:"simple",color:"slate",size:"sm"}))};function Q8(e){var{mode:t,defaultMonth:n,selected:r,onSelect:i,locale:a,disabled:o,enableYearNavigation:l,classNames:c,weekStartsOn:u=0}=e,d=ht(e,["mode","defaultMonth","selected","onSelect","locale","disabled","enableYearNavigation","classNames","weekStartsOn"]);return E.createElement(Dve,Object.assign({showOutsideDays:!0,mode:t,defaultMonth:n,selected:r,onSelect:i,locale:a,disabled:o,weekStartsOn:u,classNames:Object.assign({months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-2 relative items-center",caption_label:"text-tremor-default text-tremor-content-emphasis dark:text-dark-tremor-content-emphasis font-medium",nav:"space-x-1 flex items-center",nav_button:"flex items-center justify-center p-1 h-7 w-7 outline-none focus:ring-2 transition duration-100 border border-tremor-border dark:border-dark-tremor-border hover:bg-tremor-background-muted dark:hover:bg-dark-tremor-background-muted rounded-tremor-small focus:border-tremor-brand-subtle dark:focus:border-dark-tremor-brand-subtle focus:ring-tremor-brand-muted dark:focus:ring-dark-tremor-brand-muted text-tremor-content-subtle dark:text-dark-tremor-content-subtle hover:text-tremor-content dark:hover:text-dark-tremor-content",nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"w-9 font-normal text-center text-tremor-content-subtle dark:text-dark-tremor-content-subtle",row:"flex w-full mt-0.5",cell:"text-center p-0 relative focus-within:relative text-tremor-default text-tremor-content-emphasis dark:text-dark-tremor-content-emphasis",day:"h-9 w-9 p-0 hover:bg-tremor-background-subtle dark:hover:bg-dark-tremor-background-subtle outline-tremor-brand dark:outline-dark-tremor-brand rounded-tremor-default",day_today:"font-bold",day_selected:"aria-selected:bg-tremor-background-emphasis aria-selected:text-tremor-content-inverted dark:aria-selected:bg-dark-tremor-background-emphasis dark:aria-selected:text-dark-tremor-content-inverted ",day_disabled:"text-tremor-content-subtle dark:text-dark-tremor-content-subtle disabled:hover:bg-transparent",day_outside:"text-tremor-content-subtle dark:text-dark-tremor-content-subtle"},c),components:{IconLeft:f=>{var m=ht(f,[]);return E.createElement(DY,Object.assign({className:"h-4 w-4"},m))},IconRight:f=>{var m=ht(f,[]);return E.createElement(RY,Object.assign({className:"h-4 w-4"},m))},Caption:f=>{var m=ht(f,[]);const{goToMonth:h,nextMonth:g,previousMonth:y,currentMonth:v}=mb();return E.createElement("div",{className:"flex justify-between items-center"},E.createElement("div",{className:"flex items-center space-x-1"},l&&E.createElement(O_,{onClick:()=>v&&h(qI(v,-1)),icon:j2t}),E.createElement(O_,{onClick:()=>y&&h(y),icon:DY})),E.createElement(xs,{className:"text-tremor-default tabular-nums capitalize text-tremor-content-emphasis dark:text-dark-tremor-content-emphasis font-medium"},er(m.displayMonth,"LLLL yyy",{locale:a})),E.createElement("div",{className:"flex items-center space-x-1"},E.createElement(O_,{onClick:()=>g&&h(g),icon:RY}),l&&E.createElement(O_,{onClick:()=>v&&h(qI(v,1)),icon:N2t})))}}},d))}Q8.displayName="DateRangePicker";const _2t=hn("DatePicker"),jp=(e,t)=>{const n=t!==void 0,[r,i]=b.useState(e);return[n?t:r,a=>{n||i(a)}]},$Y=hn("DateRangePicker"),S2t=(e,t,n,r)=>{var i;if(n&&(e=(i=r.get(n))===null||i===void 0?void 0:i.from),e)return gf(e&&!t?e:ege([e,t]))},k2t=(e,t,n,r)=>{var i,a;if(n&&(e=gf((a=(i=r.get(n))===null||i===void 0?void 0:i.to)!==null&&a!==void 0?a:Mm())),e)return gf(e&&!t?e:tge([e,t]))},NO=[{value:"tdy",text:"Today",from:Mm()},{value:"w",text:"Last 7 days",from:KG(Mm(),{days:7})},{value:"t",text:"Last 30 days",from:KG(Mm(),{days:30})},{value:"m",text:"Month to Date",from:Fs(Mm())},{value:"y",text:"Year to Date",from:XF(Mm())}],Rve=(e,t,n,r)=>{const i=(n==null?void 0:n.code)||"en-US";if(!e&&!t)return"";if(e&&!t){if(r)return er(e,r);const a={year:"numeric",month:"short",day:"numeric"};return e.toLocaleDateString(i,a)}if(e&&t){if(Ypt(e,t)){if(r)return er(e,r);const a={year:"numeric",month:"short",day:"numeric"};return e.toLocaleDateString(i,a)}if(e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()){if(r)return`${er(e,r)} - ${er(t,r)}`;const a={month:"short",day:"numeric"};return`${e.toLocaleDateString(i,a)} - 
                    ${t.getDate()}, ${t.getFullYear()}`}{if(r)return`${er(e,r)} - ${er(t,r)}`;const a={year:"numeric",month:"short",day:"numeric"};return`${e.toLocaleDateString(i,a)} - 
                    ${t.toLocaleDateString(i,a)}`}}return""},tj=e=>["string","number"].includes(typeof e)?e:e instanceof Array?e.map(tj).join(""):typeof e=="object"&&e?tj(e.props.children):void 0;function J8(e){const t=new Map;return E.Children.map(e,n=>{var r;t.set(n.props.value,(r=tj(n))!==null&&r!==void 0?r:n.props.value)}),t}function sD(e,t){return E.Children.map(t,n=>{var r;if(((r=tj(n))!==null&&r!==void 0?r:n.props.value).toLowerCase().includes(e.toLowerCase()))return n})}const Np=(e,t,n=!1)=>ye(t?"bg-tremor-background-subtle dark:bg-dark-tremor-background-subtle":"bg-tremor-background dark:bg-dark-tremor-background",!t&&"hover:bg-tremor-background-muted dark:hover:bg-dark-tremor-background-muted",e?"text-tremor-content-emphasis dark:text-dark-tremor-content-emphasis":"text-tremor-content dark:text-dark-tremor-content",t&&"text-tremor-content-subtle dark:text-dark-tremor-content-subtle",n&&"text-red-500 placeholder:text-red-500 dark:text-red-500 dark:placeholder:text-red-500",n?"border-red-500 dark:border-red-500":"border-tremor-border dark:border-dark-tremor-border");function Nv(e){return e!=null&&e!==""}const C2t=Mm(),E2t=E.forwardRef((e,t)=>{var n;const{value:r,defaultValue:i,onValueChange:a,minDate:o,maxDate:l,placeholder:c="Select date",disabled:u=!1,locale:d=PP,enableClear:f=!0,displayFormat:m,className:h,enableYearNavigation:g=!1,weekStartsOn:y=0,disabledDates:v}=e,x=ht(e,["value","defaultValue","onValueChange","minDate","maxDate","placeholder","disabled","locale","enableClear","displayFormat","className","enableYearNavigation","weekStartsOn","disabledDates"]),[w,j]=jp(i,r),_=b.useMemo(()=>{const M=[];return o&&M.push({before:o}),l&&M.push({after:l}),[...M,...v??[]]},[o,l,v]),S=w?Rve(w,void 0,d,m):c,k=Fs((n=w??l)!==null&&n!==void 0?n:C2t),P=f&&!u;return E.createElement(jve,Object.assign({ref:t,as:"div",className:ye("relative w-full min-w-[10rem] text-tremor-default","focus:ring-2 focus:ring-tremor-brand-muted dark:focus:ring-dark-tremor-brand-muted",h)},x),E.createElement(F8,{disabled:u,className:ye("w-full outline-none text-left whitespace-nowrap truncate focus:ring-2 transition duration-100 rounded-tremor-default flex flex-nowrap border pl-3 py-2","border-tremor-border shadow-tremor-input text-tremor-content-emphasis focus:border-tremor-brand-subtle focus:ring-tremor-brand-muted","dark:border-dark-tremor-border dark:shadow-dark-tremor-input dark:text-dark-tremor-content-emphasis dark:focus:border-dark-tremor-brand-subtle dark:focus:ring-dark-tremor-brand-muted",P?"pr-8":"pr-4",Np(Nv(w),u))},E.createElement(Sve,{className:ye(_2t("calendarIcon"),"flex-none shrink-0 h-5 w-5 mr-2 -ml-0.5","text-tremor-content-subtle","dark:text-dark-tremor-content-subtle"),"aria-hidden":"true"}),E.createElement("p",{className:"truncate"},S)),P&&w?E.createElement("button",{type:"button",className:ye("absolute outline-none inset-y-0 right-0 flex items-center transition duration-100 mr-4"),onClick:M=>{M.preventDefault(),a==null||a(void 0),j(void 0)}},E.createElement(Qj,{className:ye("flex-none h-4 w-4","text-tremor-content-subtle","dark:text-dark-tremor-content-subtle")})):null,E.createElement(wp,{enter:"transition ease duration-100 transform",enterFrom:"opacity-0 -translate-y-4",enterTo:"opacity-100 translate-y-0",leave:"transition ease duration-100 transform",leaveFrom:"opacity-100 translate-y-0",leaveTo:"opacity-0 -translate-y-4"},E.createElement(B8,{anchor:"bottom start",className:ye("z-10 min-w-min divide-y overflow-y-auto outline-none rounded-tremor-default p-3 border [--anchor-gap:4px]","bg-tremor-background border-tremor-border divide-tremor-border shadow-tremor-dropdown","dark:bg-dark-tremor-background dark:border-dark-tremor-border dark:divide-dark-tremor-border dark:shadow-dark-tremor-dropdown")},({close:M})=>E.createElement(Q8,{showOutsideDays:!0,mode:"single",defaultMonth:k,selected:w,weekStartsOn:y,onSelect:T=>{a==null||a(T),j(T),M()},locale:d,disabled:_,enableYearNavigation:g}))))});E2t.displayName="DatePicker";const e7=e=>{var t=ht(e,[]);return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},t),E.createElement("path",{d:"M11.9999 13.1714L16.9497 8.22168L18.3639 9.63589L11.9999 15.9999L5.63599 9.63589L7.0502 8.22168L11.9999 13.1714Z"}))},_O=hn("Select"),P2t=E.forwardRef((e,t)=>{const{defaultValue:n="",value:r,onValueChange:i,placeholder:a="Select...",disabled:o=!1,icon:l,enableClear:c=!1,required:u,children:d,name:f,error:m=!1,errorMessage:h,className:g,id:y}=e,v=ht(e,["defaultValue","value","onValueChange","placeholder","disabled","icon","enableClear","required","children","name","error","errorMessage","className","id"]),x=b.useRef(null),w=b.Children.toArray(d),[j,_]=jp(n,r),S=l,k=b.useMemo(()=>{const P=E.Children.toArray(d).filter(b.isValidElement);return J8(P)},[d]);return E.createElement("div",{className:ye("w-full min-w-[10rem] text-tremor-default",g)},E.createElement("div",{className:"relative"},E.createElement("select",{title:"select-hidden",required:u,className:ye("h-full w-full absolute left-0 top-0 -z-10 opacity-0"),value:j,onChange:P=>{P.preventDefault()},name:f,disabled:o,id:y,onFocus:()=>{const P=x.current;P&&P.focus()}},E.createElement("option",{className:"hidden",value:"",disabled:!0,hidden:!0},a),w.map(P=>{const M=P.props.value,T=P.props.children;return E.createElement("option",{className:"hidden",key:M,value:M},T)})),E.createElement(I8,Object.assign({as:"div",ref:t,defaultValue:j,value:j,onChange:P=>{i==null||i(P),_(P)},disabled:o,id:y},v),({value:P})=>{var M;return E.createElement(E.Fragment,null,E.createElement(XP,{ref:x,className:ye("w-full outline-none text-left whitespace-nowrap truncate rounded-tremor-default focus:ring-2 transition duration-100 border pr-8 py-2","border-tremor-border shadow-tremor-input focus:border-tremor-brand-subtle focus:ring-tremor-brand-muted","dark:border-dark-tremor-border dark:shadow-dark-tremor-input dark:focus:border-dark-tremor-brand-subtle dark:focus:ring-dark-tremor-brand-muted",S?"pl-10":"pl-3",Np(Nv(P),o,m))},S&&E.createElement("span",{className:ye("absolute inset-y-0 left-0 flex items-center ml-px pl-2.5")},E.createElement(S,{className:ye(_O("Icon"),"flex-none h-5 w-5","text-tremor-content-subtle","dark:text-dark-tremor-content-subtle")})),E.createElement("span",{className:"w-[90%] block truncate"},P&&(M=k.get(P))!==null&&M!==void 0?M:a),E.createElement("span",{className:ye("absolute inset-y-0 right-0 flex items-center mr-3")},E.createElement(e7,{className:ye(_O("arrowDownIcon"),"flex-none h-5 w-5","text-tremor-content-subtle","dark:text-dark-tremor-content-subtle")}))),c&&j?E.createElement("button",{type:"button",className:ye("absolute inset-y-0 right-0 flex items-center mr-8"),onClick:T=>{T.preventDefault(),_(""),i==null||i("")}},E.createElement(Qj,{className:ye(_O("clearIcon"),"flex-none h-4 w-4","text-tremor-content-subtle","dark:text-dark-tremor-content-subtle")})):null,E.createElement(wp,{enter:"transition ease duration-100 transform",enterFrom:"opacity-0 -translate-y-4",enterTo:"opacity-100 translate-y-0",leave:"transition ease duration-100 transform",leaveFrom:"opacity-100 translate-y-0",leaveTo:"opacity-0 -translate-y-4"},E.createElement(ZP,{anchor:"bottom start",className:ye("z-10 w-[var(--button-width)] divide-y overflow-y-auto outline-none rounded-tremor-default max-h-[228px]  border [--anchor-gap:4px]","bg-tremor-background border-tremor-border divide-tremor-border shadow-tremor-dropdown","dark:bg-dark-tremor-background dark:border-dark-tremor-border dark:divide-dark-tremor-border dark:shadow-dark-tremor-dropdown")},d)))})),m&&h?E.createElement("p",{className:ye("errorMessage","text-sm text-rose-500 mt-1")},h):null)});P2t.displayName="Select";const FY=hn("SelectItem"),t7=E.forwardRef((e,t)=>{const{value:n,icon:r,className:i,children:a}=e,o=ht(e,["value","icon","className","children"]),l=r;return E.createElement(M8,Object.assign({className:ye(FY("root"),"flex justify-start items-center cursor-default text-tremor-default px-2.5 py-2.5","data-[focus]:bg-tremor-background-muted  data-[focus]:text-tremor-content-strong data-[selected]:text-tremor-content-strong data-[selected]:bg-tremor-background-muted text-tremor-content-emphasis","dark:data-[focus]:bg-dark-tremor-background-muted  dark:data-[focus]:text-dark-tremor-content-strong dark:data-[selected]:text-dark-tremor-content-strong dark:data-[selected]:bg-dark-tremor-background-muted dark:text-dark-tremor-content-emphasis",i),ref:t,key:n,value:n},o),l&&E.createElement(l,{className:ye(FY("icon"),"flex-none w-5 h-5 mr-1.5","text-tremor-content-subtle","dark:text-dark-tremor-content-subtle")}),E.createElement("span",{className:"whitespace-nowrap truncate"},a??n))});t7.displayName="SelectItem";const SO=Mm(),A2t=E.forwardRef((e,t)=>{var n,r;const{value:i,defaultValue:a,onValueChange:o,enableSelect:l=!0,minDate:c,maxDate:u,placeholder:d="Select range",selectPlaceholder:f="Select range",disabled:m=!1,locale:h=PP,enableClear:g=!0,displayFormat:y,children:v,className:x,enableYearNavigation:w=!1,weekStartsOn:j=0,disabledDates:_}=e,S=ht(e,["value","defaultValue","onValueChange","enableSelect","minDate","maxDate","placeholder","selectPlaceholder","disabled","locale","enableClear","displayFormat","children","className","enableYearNavigation","weekStartsOn","disabledDates"]),[k,P]=jp(a,i),[M,T]=b.useState(!1),[R,D]=b.useState(!1),I=b.useMemo(()=>{const ee=[];return c&&ee.push({before:c}),u&&ee.push({after:u}),[...ee,..._??[]]},[c,u,_]),B=b.useMemo(()=>{const ee=new Map;return v?E.Children.forEach(v,z=>{var F;ee.set(z.props.value,{text:(F=tj(z))!==null&&F!==void 0?F:z.props.value,from:z.props.from,to:z.props.to})}):NO.forEach(z=>{ee.set(z.value,{text:z.text,from:z.from,to:SO})}),ee},[v]),$=b.useMemo(()=>{if(v)return J8(v);const ee=new Map;return NO.forEach(z=>ee.set(z.value,z.text)),ee},[v]),K=(k==null?void 0:k.selectValue)||"",Y=S2t(k==null?void 0:k.from,c,K,B),Q=k2t(k==null?void 0:k.to,u,K,B),H=Y||Q?Rve(Y,Q,h,y):d,G=Fs((r=(n=Q??Y)!==null&&n!==void 0?n:u)!==null&&r!==void 0?r:SO),U=g&&!m;return E.createElement("div",Object.assign({ref:t,className:ye("w-full min-w-[10rem] relative flex justify-between text-tremor-default max-w-sm shadow-tremor-input dark:shadow-dark-tremor-input rounded-tremor-default",x)},S),E.createElement(jve,{as:"div",className:ye("w-full",l?"rounded-l-tremor-default":"rounded-tremor-default",M&&"ring-2 ring-tremor-brand-muted dark:ring-dark-tremor-brand-muted z-10")},E.createElement("div",{className:"relative w-full"},E.createElement(F8,{onFocus:()=>T(!0),onBlur:()=>T(!1),disabled:m,className:ye("w-full outline-none text-left whitespace-nowrap truncate focus:ring-2 transition duration-100 rounded-l-tremor-default flex flex-nowrap border pl-3 py-2","rounded-l-tremor-default border-tremor-border text-tremor-content-emphasis focus:border-tremor-brand-subtle focus:ring-tremor-brand-muted","dark:border-dark-tremor-border dark:text-dark-tremor-content-emphasis dark:focus:border-dark-tremor-brand-subtle dark:focus:ring-dark-tremor-brand-muted",l?"rounded-l-tremor-default":"rounded-tremor-default",U?"pr-8":"pr-4",Np(Nv(Y||Q),m))},E.createElement(Sve,{className:ye($Y("calendarIcon"),"flex-none shrink-0 h-5 w-5 -ml-0.5 mr-2","text-tremor-content-subtle","dark:text-dark-tremor-content-subtle"),"aria-hidden":"true"}),E.createElement("p",{className:"truncate"},H)),U&&Y?E.createElement("button",{type:"button",className:ye("absolute outline-none inset-y-0 right-0 flex items-center transition duration-100 mr-4"),onClick:ee=>{ee.preventDefault(),o==null||o({}),P({})}},E.createElement(Qj,{className:ye($Y("clearIcon"),"flex-none h-4 w-4","text-tremor-content-subtle","dark:text-dark-tremor-content-subtle")})):null),E.createElement(wp,{enter:"transition ease duration-100 transform",enterFrom:"opacity-0 -translate-y-4",enterTo:"opacity-100 translate-y-0",leave:"transition ease duration-100 transform",leaveFrom:"opacity-100 translate-y-0",leaveTo:"opacity-0 -translate-y-4"},E.createElement(B8,{anchor:"bottom start",focus:!0,className:ye("min-w-min divide-y overflow-y-auto outline-none rounded-tremor-default p-3 border [--anchor-gap:4px]","bg-tremor-background border-tremor-border divide-tremor-border shadow-tremor-dropdown","dark:bg-dark-tremor-background dark:border-dark-tremor-border dark:divide-dark-tremor-border dark:shadow-dark-tremor-dropdown")},E.createElement(Q8,Object.assign({mode:"range",showOutsideDays:!0,defaultMonth:G,selected:{from:Y,to:Q},onSelect:ee=>{o==null||o({from:ee==null?void 0:ee.from,to:ee==null?void 0:ee.to}),P({from:ee==null?void 0:ee.from,to:ee==null?void 0:ee.to})},locale:h,disabled:I,enableYearNavigation:w,classNames:{day_range_middle:ye("!rounded-none aria-selected:!bg-tremor-background-subtle aria-selected:dark:!bg-dark-tremor-background-subtle aria-selected:!text-tremor-content aria-selected:dark:!bg-dark-tremor-background-subtle"),day_range_start:"rounded-r-none rounded-l-tremor-small aria-selected:text-tremor-brand-inverted dark:aria-selected:text-dark-tremor-brand-inverted",day_range_end:"rounded-l-none rounded-r-tremor-small aria-selected:text-tremor-brand-inverted dark:aria-selected:text-dark-tremor-brand-inverted"},weekStartsOn:j},e))))),l&&E.createElement(I8,{as:"div",className:ye("w-48 -ml-px rounded-r-tremor-default",R&&"ring-2 ring-tremor-brand-muted dark:ring-dark-tremor-brand-muted z-10"),value:K,onChange:ee=>{const{from:z,to:F}=B.get(ee),ie=F??SO;o==null||o({from:z,to:ie,selectValue:ee}),P({from:z,to:ie,selectValue:ee})},disabled:m},({value:ee})=>{var z;return E.createElement(E.Fragment,null,E.createElement(XP,{onFocus:()=>D(!0),onBlur:()=>D(!1),className:ye("w-full outline-none text-left whitespace-nowrap truncate rounded-r-tremor-default transition duration-100 border px-4 py-2","border-tremor-border text-tremor-content-emphasis focus:border-tremor-brand-subtle","dark:border-dark-tremor-border  dark:text-dark-tremor-content-emphasis dark:focus:border-dark-tremor-brand-subtle",Np(Nv(ee),m))},ee&&(z=$.get(ee))!==null&&z!==void 0?z:f),E.createElement(wp,{enter:"transition ease duration-100 transform",enterFrom:"opacity-0 -translate-y-4",enterTo:"opacity-100 translate-y-0",leave:"transition ease duration-100 transform",leaveFrom:"opacity-100 translate-y-0",leaveTo:"opacity-0 -translate-y-4"},E.createElement(ZP,{anchor:"bottom end",className:ye("[--anchor-gap:4px] divide-y overflow-y-auto outline-none border min-w-44","shadow-tremor-dropdown bg-tremor-background border-tremor-border divide-tremor-border rounded-tremor-default","dark:shadow-dark-tremor-dropdown dark:bg-dark-tremor-background dark:border-dark-tremor-border dark:divide-dark-tremor-border")},v??NO.map(F=>E.createElement(t7,{key:F.value,value:F.value},F.text)))))}))});A2t.displayName="DateRangePicker";const T2t=E.forwardRef((e,t)=>{const{value:n,className:r,children:i}=e,a=ht(e,["value","className","children"]);return E.createElement(t7,Object.assign({ref:t,className:r,value:n},a),i??n)});T2t.displayName="DateRangePickerItem";const $ve=b.createContext(Lt.Blue),Fve=b.createContext(0),rw=b.createContext(void 0),rA=b.createContext({selectedValue:void 0,handleValueChange:void 0}),O2t=e=>{var t=ht(e,[]);return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},t),E.createElement("path",{d:"M18.031 16.6168L22.3137 20.8995L20.8995 22.3137L16.6168 18.031C15.0769 19.263 13.124 20 11 20C6.032 20 2 15.968 2 11C2 6.032 6.032 2 11 2C15.968 2 20 6.032 20 11C20 13.124 19.263 15.0769 18.031 16.6168ZM16.0247 15.8748C17.2475 14.6146 18 12.8956 18 11C18 7.1325 14.8675 4 11 4C7.1325 4 4 7.1325 4 11C4 14.8675 7.1325 18 11 18C12.8956 18 14.6146 17.2475 15.8748 16.0247L16.0247 15.8748Z"}))},L2t=e=>{var t=ht(e,[]);return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},t),E.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),E.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))},L_=hn("MultiSelect"),M2t=E.forwardRef((e,t)=>{const{defaultValue:n=[],value:r,onValueChange:i,placeholder:a="Select...",placeholderSearch:o="Search",disabled:l=!1,icon:c,children:u,className:d,required:f,name:m,error:h=!1,errorMessage:g,id:y}=e,v=ht(e,["defaultValue","value","onValueChange","placeholder","placeholderSearch","disabled","icon","children","className","required","name","error","errorMessage","id"]),x=b.useRef(null),w=c,[j,_]=jp(n,r),{reactElementChildren:S,optionsAvailable:k}=b.useMemo(()=>{const I=E.Children.toArray(u).filter(b.isValidElement);return{reactElementChildren:I,optionsAvailable:sD("",I)}},[u]),[P,M]=b.useState(""),T=(j??[]).length>0,R=b.useMemo(()=>P?sD(P,S):k,[P,S,k]),D=()=>{M("")};return E.createElement("div",{className:ye("w-full min-w-[10rem] text-tremor-default",d)},E.createElement("div",{className:"relative"},E.createElement("select",{title:"multi-select-hidden",required:f,className:ye("h-full w-full absolute left-0 top-0 -z-10 opacity-0"),value:j,onChange:I=>{I.preventDefault()},name:m,disabled:l,multiple:!0,id:y,onFocus:()=>{const I=x.current;I&&I.focus()}},E.createElement("option",{className:"hidden",value:"",disabled:!0,hidden:!0},a),R.map(I=>{const B=I.props.value,$=I.props.children;return E.createElement("option",{className:"hidden",key:B,value:B},$)})),E.createElement(I8,Object.assign({as:"div",ref:t,defaultValue:j,value:j,onChange:I=>{i==null||i(I),_(I)},disabled:l,id:y,multiple:!0},v),({value:I})=>E.createElement(E.Fragment,null,E.createElement(XP,{className:ye("w-full outline-none text-left whitespace-nowrap truncate rounded-tremor-default focus:ring-2 transition duration-100 border pr-8 py-1.5","border-tremor-border shadow-tremor-input focus:border-tremor-brand-subtle focus:ring-tremor-brand-muted","dark:border-dark-tremor-border dark:shadow-dark-tremor-input dark:focus:border-dark-tremor-brand-subtle dark:focus:ring-dark-tremor-brand-muted",w?"pl-11 -ml-0.5":"pl-3",Np(I.length>0,l,h)),ref:x},w&&E.createElement("span",{className:ye("absolute inset-y-0 left-0 flex items-center ml-px pl-2.5")},E.createElement(w,{className:ye(L_("Icon"),"flex-none h-5 w-5","text-tremor-content-subtle","dark:text-dark-tremor-content-subtle")})),E.createElement("div",{className:"h-6 flex items-center"},I.length>0?E.createElement("div",{className:"flex flex-nowrap overflow-x-scroll [&::-webkit-scrollbar]:hidden [scrollbar-width:none] gap-x-1 mr-5 -ml-1.5 relative"},k.filter(B=>I.includes(B.props.value)).map((B,$)=>{var K;return E.createElement("div",{key:$,className:ye("max-w-[100px] lg:max-w-[200px] flex justify-center items-center pl-2 pr-1.5 py-1 font-medium","rounded-tremor-small","bg-tremor-background-muted dark:bg-dark-tremor-background-muted","bg-tremor-background-subtle dark:bg-dark-tremor-background-subtle","text-tremor-content-default dark:text-dark-tremor-content-default","text-tremor-content-emphasis dark:text-dark-tremor-content-emphasis")},E.createElement("div",{className:"text-xs truncate "},(K=B.props.children)!==null&&K!==void 0?K:B.props.value),E.createElement("div",{onClick:Y=>{Y.preventDefault();const Q=I.filter(H=>H!==B.props.value);i==null||i(Q),_(Q)}},E.createElement(L2t,{className:ye(L_("clearIconItem"),"cursor-pointer rounded-tremor-full w-3.5 h-3.5 ml-2","text-tremor-content-subtle hover:text-tremor-content","dark:text-dark-tremor-content-subtle dark:hover:text-tremor-content")})))})):E.createElement("span",null,a)),E.createElement("span",{className:ye("absolute inset-y-0 right-0 flex items-center mr-2.5")},E.createElement(e7,{className:ye(L_("arrowDownIcon"),"flex-none h-5 w-5","text-tremor-content-subtle","dark:text-dark-tremor-content-subtle")}))),T&&!l?E.createElement("button",{type:"button",className:ye("absolute inset-y-0 right-0 flex items-center mr-8"),onClick:B=>{B.preventDefault(),_([]),i==null||i([])}},E.createElement(Qj,{className:ye(L_("clearIconAllItems"),"flex-none h-4 w-4","text-tremor-content-subtle","dark:text-dark-tremor-content-subtle")})):null,E.createElement(wp,{enter:"transition ease duration-100 transform",enterFrom:"opacity-0 -translate-y-4",enterTo:"opacity-100 translate-y-0",leave:"transition ease duration-100 transform",leaveFrom:"opacity-100 translate-y-0",leaveTo:"opacity-0 -translate-y-4"},E.createElement(ZP,{anchor:"bottom start",className:ye("z-10 divide-y w-[var(--button-width)] overflow-y-auto outline-none rounded-tremor-default max-h-[228px]  border [--anchor-gap:4px]","bg-tremor-background border-tremor-border divide-tremor-border shadow-tremor-dropdown","dark:bg-dark-tremor-background dark:border-dark-tremor-border dark:divide-dark-tremor-border dark:shadow-dark-tremor-dropdown")},E.createElement("div",{className:ye("flex items-center w-full px-2.5","bg-tremor-background-muted","dark:bg-dark-tremor-background-muted")},E.createElement("span",null,E.createElement(O2t,{className:ye("flex-none w-4 h-4 mr-2","text-tremor-content-subtle","dark:text-dark-tremor-content-subtle")})),E.createElement("input",{name:"search",type:"input",autoComplete:"off",placeholder:o,className:ye("w-full focus:outline-none focus:ring-none bg-transparent text-tremor-default py-2","text-tremor-content-emphasis","dark:text-dark-tremor-content-subtle"),onKeyDown:B=>{B.code==="Space"&&B.target.value!==""&&B.stopPropagation()},onChange:B=>M(B.target.value),value:P})),E.createElement(rA.Provider,Object.assign({},{onBlur:{handleResetSearch:D}},{value:{selectedValue:I}}),R)))))),h&&g?E.createElement("p",{className:ye("errorMessage","text-sm text-rose-500 mt-1")},g):null)});M2t.displayName="MultiSelect";const BY=hn("MultiSelectItem"),I2t=E.forwardRef((e,t)=>{const{value:n,className:r,children:i}=e,a=ht(e,["value","className","children"]),{selectedValue:o}=b.useContext(rA),l=Qgt(n,o);return E.createElement(M8,Object.assign({className:ye(BY("root"),"flex justify-start items-center cursor-default text-tremor-default p-2.5","data-[focus]:bg-tremor-background-muted data-[focus]:text-tremor-content-strong data-[select]ed:text-tremor-content-strong text-tremor-content-emphasis","dark:data-[focus]:bg-dark-tremor-background-muted dark:data-[focus]:text-dark-tremor-content-strong dark:data-[select]ed:text-dark-tremor-content-strong dark:data-[select]ed:bg-dark-tremor-background-muted dark:text-dark-tremor-content-emphasis",r),ref:t,key:n,value:n},a),E.createElement("input",{type:"checkbox",className:ye(BY("checkbox"),"flex-none focus:ring-none focus:outline-none cursor-pointer mr-2.5","accent-tremor-brand","dark:accent-dark-tremor-brand"),checked:l,readOnly:!0}),E.createElement("span",{className:"whitespace-nowrap truncate"},i??n))});I2t.displayName="MultiSelectItem";const D2t=e=>{var t=ht(e,[]);return E.createElement("svg",Object.assign({},t,{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2.5"}),E.createElement("path",{d:"M12 4v16m8-8H4"}))},R2t=e=>{var t=ht(e,[]);return E.createElement("svg",Object.assign({},t,{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2.5"}),E.createElement("path",{d:"M20 12H4"}))},$2t=e=>{var t=ht(e,[]);return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},t),E.createElement("path",{d:"M12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22ZM11 15V17H13V15H11ZM11 7V13H13V7H11Z"}))},F2t=e=>{var t=ht(e,[]);return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},t),E.createElement("path",{d:"M1.18164 12C2.12215 6.87976 6.60812 3 12.0003 3C17.3924 3 21.8784 6.87976 22.8189 12C21.8784 17.1202 17.3924 21 12.0003 21C6.60812 21 2.12215 17.1202 1.18164 12ZM12.0003 17C14.7617 17 17.0003 14.7614 17.0003 12C17.0003 9.23858 14.7617 7 12.0003 7C9.23884 7 7.00026 9.23858 7.00026 12C7.00026 14.7614 9.23884 17 12.0003 17ZM12.0003 15C10.3434 15 9.00026 13.6569 9.00026 12C9.00026 10.3431 10.3434 9 12.0003 9C13.6571 9 15.0003 10.3431 15.0003 12C15.0003 13.6569 13.6571 15 12.0003 15Z"}))},B2t=e=>{var t=ht(e,[]);return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},t),E.createElement("path",{d:"M4.52047 5.93457L1.39366 2.80777L2.80788 1.39355L22.6069 21.1925L21.1927 22.6068L17.8827 19.2968C16.1814 20.3755 14.1638 21.0002 12.0003 21.0002C6.60812 21.0002 2.12215 17.1204 1.18164 12.0002C1.61832 9.62282 2.81932 7.5129 4.52047 5.93457ZM14.7577 16.1718L13.2937 14.7078C12.902 14.8952 12.4634 15.0002 12.0003 15.0002C10.3434 15.0002 9.00026 13.657 9.00026 12.0002C9.00026 11.537 9.10522 11.0984 9.29263 10.7067L7.82866 9.24277C7.30514 10.0332 7.00026 10.9811 7.00026 12.0002C7.00026 14.7616 9.23884 17.0002 12.0003 17.0002C13.0193 17.0002 13.9672 16.6953 14.7577 16.1718ZM7.97446 3.76015C9.22127 3.26959 10.5793 3.00016 12.0003 3.00016C17.3924 3.00016 21.8784 6.87992 22.8189 12.0002C22.5067 13.6998 21.8038 15.2628 20.8068 16.5925L16.947 12.7327C16.9821 12.4936 17.0003 12.249 17.0003 12.0002C17.0003 9.23873 14.7617 7.00016 12.0003 7.00016C11.7514 7.00016 11.5068 7.01833 11.2677 7.05343L7.97446 3.76015Z"}))},n7=E.forwardRef((e,t)=>{const{value:n,defaultValue:r,type:i,placeholder:a="Type...",icon:o,error:l=!1,errorMessage:c,disabled:u=!1,stepper:d,makeInputClassName:f,className:m,onChange:h,onValueChange:g,autoFocus:y,pattern:v}=e,x=ht(e,["value","defaultValue","type","placeholder","icon","error","errorMessage","disabled","stepper","makeInputClassName","className","onChange","onValueChange","autoFocus","pattern"]),[w,j]=b.useState(y||!1),[_,S]=b.useState(!1),k=b.useCallback(()=>S(!_),[_,S]),P=o,M=b.useRef(null),T=Nv(n||r);return E.useEffect(()=>{const R=()=>j(!0),D=()=>j(!1),I=M.current;return I&&(I.addEventListener("focus",R),I.addEventListener("blur",D),y&&I.focus()),()=>{I&&(I.removeEventListener("focus",R),I.removeEventListener("blur",D))}},[y]),E.createElement(E.Fragment,null,E.createElement("div",{className:ye(f("root"),"relative w-full flex items-center min-w-[10rem] outline-none rounded-tremor-default transition duration-100 border","shadow-tremor-input","dark:shadow-dark-tremor-input",Np(T,u,l),w&&ye("ring-2","border-tremor-brand-subtle ring-tremor-brand-muted","dark:border-dark-tremor-brand-subtle dark:ring-dark-tremor-brand-muted"),m)},P?E.createElement(P,{className:ye(f("icon"),"shrink-0 h-5 w-5 mx-2.5 absolute left-0 flex items-center","text-tremor-content-subtle","dark:text-dark-tremor-content-subtle")}):null,E.createElement("input",Object.assign({ref:Vh([M,t]),defaultValue:r,value:n,type:_?"text":i,className:ye(f("input"),"w-full bg-transparent focus:outline-none focus:ring-0 border-none text-tremor-default rounded-tremor-default transition duration-100 py-2","text-tremor-content-emphasis","dark:text-dark-tremor-content-emphasis","[appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",i==="password"?l?"pr-16":"pr-12":l?"pr-8":"pr-3",P?"pl-10":"pl-3",u?"placeholder:text-tremor-content-subtle dark:placeholder:text-dark-tremor-content-subtle":"placeholder:text-tremor-content dark:placeholder:text-dark-tremor-content"),placeholder:a,disabled:u,"data-testid":"base-input",onChange:R=>{h==null||h(R),g==null||g(R.target.value)},pattern:v},x)),i!=="password"||u?null:E.createElement("button",{className:ye(f("toggleButton"),"absolute inset-y-0 right-0 flex items-center px-2.5 rounded-lg"),type:"button",onClick:()=>k(),"aria-label":_?"Hide password":"Show Password"},_?E.createElement(B2t,{className:ye("flex-none h-5 w-5 transition","text-tremor-content-subtle hover:text-tremor-content","dark:text-dark-tremor-content-subtle hover:dark:text-dark-tremor-content"),"aria-hidden":!0}):E.createElement(F2t,{className:ye("flex-none h-5 w-5 transition","text-tremor-content-subtle hover:text-tremor-content","dark:text-dark-tremor-content-subtle hover:dark:text-dark-tremor-content"),"aria-hidden":!0})),l?E.createElement($2t,{className:ye(f("errorIcon"),"text-red-500 shrink-0 h-5 w-5 absolute right-0 flex items-center",i==="password"?"mr-10":i==="number"?d?"mr-20":"mr-3":"mx-2.5")}):null,d??null),l&&c?E.createElement("p",{className:ye(f("errorMessage"),"text-sm text-red-500 mt-1")},c):null)});n7.displayName="BaseInput";const zY="flex mx-auto text-tremor-content-subtle dark:text-dark-tremor-content-subtle",VY="cursor-pointer hover:text-tremor-content dark:hover:text-dark-tremor-content",z2t=E.forwardRef((e,t)=>{const{onSubmit:n,enableStepper:r=!0,disabled:i,onValueChange:a,onChange:o}=e,l=ht(e,["onSubmit","enableStepper","disabled","onValueChange","onChange"]),c=b.useRef(null),[u,d]=E.useState(!1),f=E.useCallback(()=>{d(!0)},[]),m=E.useCallback(()=>{d(!1)},[]),[h,g]=E.useState(!1),y=E.useCallback(()=>{g(!0)},[]),v=E.useCallback(()=>{g(!1)},[]);return E.createElement(n7,Object.assign({type:"number",ref:Vh([c,t]),disabled:i,makeInputClassName:hn("NumberInput"),onKeyDown:x=>{var w;if(x.key==="Enter"&&!x.ctrlKey&&!x.altKey&&!x.shiftKey){const j=(w=c.current)===null||w===void 0?void 0:w.value;n==null||n(parseFloat(j??""))}x.key==="ArrowDown"&&f(),x.key==="ArrowUp"&&y()},onKeyUp:x=>{x.key==="ArrowDown"&&m(),x.key==="ArrowUp"&&v()},onChange:x=>{i||(a==null||a(parseFloat(x.target.value)),o==null||o(x))},stepper:r?E.createElement("div",{className:ye("flex justify-center align-middle")},E.createElement("div",{tabIndex:-1,onClick:x=>x.preventDefault(),onMouseDown:x=>x.preventDefault(),onTouchStart:x=>{x.cancelable&&x.preventDefault()},onMouseUp:()=>{var x,w;i||((x=c.current)===null||x===void 0||x.stepDown(),(w=c.current)===null||w===void 0||w.dispatchEvent(new Event("input",{bubbles:!0})))},className:ye(!i&&VY,zY,"group py-[10px] px-2.5 border-l border-tremor-border dark:border-dark-tremor-border")},E.createElement(R2t,{"data-testid":"step-down",className:(u?"scale-95":"")+" h-4 w-4 duration-75 transition group-active:scale-95"})),E.createElement("div",{tabIndex:-1,onClick:x=>x.preventDefault(),onMouseDown:x=>x.preventDefault(),onTouchStart:x=>{x.cancelable&&x.preventDefault()},onMouseUp:()=>{var x,w;i||((x=c.current)===null||x===void 0||x.stepUp(),(w=c.current)===null||w===void 0||w.dispatchEvent(new Event("input",{bubbles:!0})))},className:ye(!i&&VY,zY,"group py-[10px] px-2.5 border-l border-tremor-border dark:border-dark-tremor-border")},E.createElement(D2t,{"data-testid":"step-up",className:(h?"scale-95":"")+" h-4 w-4 duration-75 transition group-active:scale-95"}))):null},l))});z2t.displayName="NumberInput";const qY=hn("SearchSelect"),V2t=hn("SearchSelect"),q2t=E.forwardRef((e,t)=>{const{defaultValue:n="",searchValue:r,onSearchValueChange:i,value:a,onValueChange:o,placeholder:l="Select...",disabled:c=!1,icon:u,enableClear:d=!0,name:f,required:m,error:h=!1,errorMessage:g,children:y,className:v,id:x,autoComplete:w="off"}=e,j=ht(e,["defaultValue","searchValue","onSearchValueChange","value","onValueChange","placeholder","disabled","icon","enableClear","name","required","error","errorMessage","children","className","id","autoComplete"]),_=b.useRef(null),[S,k]=jp("",r),[P,M]=jp(n,a),T=u,{reactElementChildren:R,valueToNameMapping:D}=b.useMemo(()=>{const B=E.Children.toArray(y).filter(b.isValidElement);return{reactElementChildren:B,valueToNameMapping:J8(B)}},[y]),I=b.useMemo(()=>sD(S??"",R),[S,R]);return E.createElement("div",{className:ye("w-full min-w-[10rem] text-tremor-default",v)},E.createElement("div",{className:"relative"},E.createElement("select",{title:"search-select-hidden",required:m,className:ye("h-full w-full absolute left-0 top-0 -z-10 opacity-0"),value:P,onChange:B=>{B.preventDefault()},name:f,disabled:c,id:x,onFocus:()=>{const B=_.current;B&&B.focus()}},E.createElement("option",{className:"hidden",value:"",disabled:!0,hidden:!0},l),I.map(B=>{const $=B.props.value,K=B.props.children;return E.createElement("option",{className:"hidden",key:$,value:$},K)})),E.createElement(C0t,Object.assign({as:"div",ref:t,defaultValue:P,value:P,onChange:B=>{o==null||o(B),M(B)},disabled:c,id:x},j),({value:B})=>E.createElement(E.Fragment,null,E.createElement(ive,{className:"w-full"},T&&E.createElement("span",{className:ye("absolute inset-y-0 left-0 flex items-center ml-px pl-2.5")},E.createElement(T,{className:ye(qY("Icon"),"flex-none h-5 w-5","text-tremor-content-subtle","dark:text-dark-tremor-content-subtle")})),E.createElement(ave,{ref:_,className:ye("w-full outline-none text-left whitespace-nowrap truncate rounded-tremor-default focus:ring-2 transition duration-100 text-tremor-default pr-14 border py-2","border-tremor-border shadow-tremor-input focus:border-tremor-brand-subtle focus:ring-tremor-brand-muted","dark:border-dark-tremor-border dark:shadow-dark-tremor-input dark:focus:border-dark-tremor-brand-subtle dark:focus:ring-dark-tremor-brand-muted",T?"pl-10":"pl-3",c?"placeholder:text-tremor-content-subtle dark:placeholder:text-tremor-content-subtle":"placeholder:text-tremor-content dark:placeholder:text-tremor-content",Np(Nv(B),c,h)),placeholder:l,onChange:$=>{i==null||i($.target.value),k($.target.value)},displayValue:$=>{var K;return(K=D.get($))!==null&&K!==void 0?K:""},autoComplete:w}),E.createElement("div",{className:ye("absolute inset-y-0 right-0 flex items-center pr-2.5")},E.createElement(e7,{className:ye(qY("arrowDownIcon"),"flex-none h-5 w-5","!text-tremor-content-subtle","!dark:text-dark-tremor-content-subtle")}))),d&&P?E.createElement("button",{type:"button",className:ye("absolute inset-y-0 right-0 flex items-center mr-8"),onClick:$=>{$.preventDefault(),M(""),k(""),o==null||o(""),i==null||i("")}},E.createElement(Qj,{className:ye(V2t("clearIcon"),"flex-none h-4 w-4","text-tremor-content-subtle","dark:text-dark-tremor-content-subtle")})):null,I.length>0&&E.createElement(wp,{enter:"transition ease duration-100 transform",enterFrom:"opacity-0 -translate-y-4",enterTo:"opacity-100 translate-y-0",leave:"transition ease duration-100 transform",leaveFrom:"opacity-100 translate-y-0",leaveTo:"opacity-0 -translate-y-4"},E.createElement(sve,{anchor:"bottom start",className:ye("z-10 divide-y w-[var(--button-width)] overflow-y-auto outline-none rounded-tremor-default text-tremor-default max-h-[228px] border [--anchor-gap:4px]","bg-tremor-background border-tremor-border divide-tremor-border shadow-tremor-dropdown","dark:bg-dark-tremor-background dark:border-dark-tremor-border dark:divide-dark-tremor-border dark:shadow-dark-tremor-dropdown")},I))))),h&&g?E.createElement("p",{className:ye("errorMessage","text-sm text-rose-500 mt-1")},g):null)});q2t.displayName="SearchSelect";const UY=hn("SearchSelectItem"),U2t=E.forwardRef((e,t)=>{const{value:n,icon:r,className:i,children:a}=e,o=ht(e,["value","icon","className","children"]),l=r;return E.createElement(ove,Object.assign({className:ye(UY("root"),"flex justify-start items-center cursor-default text-tremor-default p-2.5","data-[focus]:bg-tremor-background-muted  data-[focus]:text-tremor-content-strong data-[selected]:text-tremor-content-strong data-[selected]:bg-tremor-background-muted text-tremor-content-emphasis","dark:data-[focus]:bg-dark-tremor-background-muted  dark:data-[focus]:text-dark-tremor-content-strong dark:data-[selected]:text-dark-tremor-content-strong dark:data-[selected]:bg-dark-tremor-background-muted dark:text-dark-tremor-content-emphasis",i),ref:t,key:n,value:n},o),l&&E.createElement(l,{className:ye(UY("icon"),"flex-none h-5 w-5 mr-3","text-tremor-content-subtle","dark:text-dark-tremor-content-subtle")}),E.createElement("span",{className:"whitespace-nowrap truncate"},a??n))});U2t.displayName="SearchSelectItem";const hg=hn("Switch"),W2t=E.forwardRef((e,t)=>{const{checked:n,defaultChecked:r=!1,onChange:i,color:a,name:o,error:l,errorMessage:c,disabled:u,required:d,tooltip:f,id:m}=e,h=ht(e,["checked","defaultChecked","onChange","color","name","error","errorMessage","disabled","required","tooltip","id"]),g=(S=>({bgColor:S?vt(S,Nt.background).bgColor:"bg-tremor-brand dark:bg-dark-tremor-brand",ringColor:S?vt(S,Nt.ring).ringColor:"ring-tremor-brand-muted dark:ring-dark-tremor-brand-muted"}))(a),[y,v]=jp(r,n),[x,w]=b.useState(!1),{tooltipProps:j,getReferenceProps:_}=lu(300);return E.createElement("div",{className:"flex flex-row items-center justify-start"},E.createElement(vc,Object.assign({text:f},j)),E.createElement("div",Object.assign({ref:Vh([t,j.refs.setReference]),className:ye(hg("root"),"flex flex-row relative h-5")},h,_),E.createElement("input",{type:"checkbox",className:ye(hg("input"),"absolute w-5 h-5 cursor-pointer left-0 top-0 opacity-0"),name:o,required:d,checked:y,onChange:S=>{S.preventDefault()}}),E.createElement(b1t,{checked:y,onChange:S=>{v(S),i==null||i(S)},disabled:u,className:ye(hg("switch"),"w-10 h-5 group relative inline-flex shrink-0 cursor-pointer items-center justify-center rounded-tremor-full","focus:outline-none",u?"cursor-not-allowed":""),onFocus:()=>w(!0),onBlur:()=>w(!1),id:m},E.createElement("span",{className:ye(hg("sr-only"),"sr-only")},"Switch ",y?"on":"off"),E.createElement("span",{"aria-hidden":"true",className:ye(hg("background"),y?g.bgColor:"bg-tremor-border dark:bg-dark-tremor-border","pointer-events-none absolute mx-auto h-3 w-9 rounded-tremor-full transition-colors duration-100 ease-in-out")}),E.createElement("span",{"aria-hidden":"true",className:ye(hg("round"),y?ye(g.bgColor,"translate-x-5 border-tremor-background dark:border-dark-tremor-background"):"translate-x-0 bg-tremor-border dark:bg-dark-tremor-border border-tremor-background dark:border-dark-tremor-background","pointer-events-none absolute left-0 inline-block h-5 w-5 transform rounded-tremor-full border-2 shadow-tremor-input duration-100 ease-in-out transition",x?ye("ring-2",g.ringColor):"")}))),l&&c?E.createElement("p",{className:ye(hg("errorMessage"),"text-sm text-red-500 mt-1 ")},c):null)});W2t.displayName="Switch";const H2t=hn("TabList"),Bve=b.createContext("line"),K2t={line:ye("flex border-b space-x-4","border-tremor-border","dark:border-dark-tremor-border"),solid:ye("inline-flex p-0.5 rounded-tremor-default space-x-1.5","bg-tremor-background-subtle","dark:bg-dark-tremor-background-subtle")},G2t=E.forwardRef((e,t)=>{const{color:n,variant:r="line",children:i,className:a}=e,o=ht(e,["color","variant","children","className"]);return E.createElement(tA.List,Object.assign({ref:t,className:ye(H2t("root"),"justify-start overflow-x-clip",K2t[r],a)},o),E.createElement(Bve.Provider,{value:r},E.createElement($ve.Provider,{value:n},i)))});G2t.displayName="TabList";const WY=hn("Tab");function Y2t(e,t){switch(e){case"line":return ye("data-[selected]:border-b-2 hover:border-b-2 border-transparent transition duration-100 -mb-px px-2 py-2","hover:border-tremor-content hover:text-tremor-content-emphasis text-tremor-content","[&:not([data-selected])]:dark:hover:border-dark-tremor-content-emphasis [&:not([data-selected])]:dark:hover:text-dark-tremor-content-emphasis [&:not([data-selected])]:dark:text-dark-tremor-content",t?vt(t,Nt.border).selectBorderColor:["data-[selected]:border-tremor-brand data-[selected]:text-tremor-brand","data-[selected]:dark:border-dark-tremor-brand data-[selected]:dark:text-dark-tremor-brand"]);case"solid":return ye("border-transparent border rounded-tremor-small px-2.5 py-1","data-[selected]:border-tremor-border data-[selected]:bg-tremor-background data-[selected]:shadow-tremor-input [&:not([data-selected])]:hover:text-tremor-content-emphasis data-[selected]:text-tremor-brand [&:not([data-selected])]:text-tremor-content","dark:data-[selected]:border-dark-tremor-border dark:data-[selected]:bg-dark-tremor-background dark:data-[selected]:shadow-dark-tremor-input dark:[&:not([data-selected])]:hover:text-dark-tremor-content-emphasis dark:data-[selected]:text-dark-tremor-brand dark:[&:not([data-selected])]:text-dark-tremor-content",t?vt(t,Nt.text).selectTextColor:"text-tremor-content dark:text-dark-tremor-content")}}const X2t=E.forwardRef((e,t)=>{const{icon:n,className:r,children:i}=e,a=ht(e,["icon","className","children"]),o=b.useContext(Bve),l=b.useContext($ve),c=n;return E.createElement(tA,Object.assign({ref:t,className:ye(WY("root"),"flex whitespace-nowrap truncate max-w-xs outline-none data-focus-visible:ring text-tremor-default transition duration-100",Y2t(o,l),r,l&&vt(l,Nt.text).selectTextColor)},a),c?E.createElement(c,{className:ye(WY("icon"),"flex-none h-5 w-5",i?"mr-2":"")}):null,i?E.createElement("span",null,i):null)});X2t.displayName="Tab";const Z2t=hn("TabGroup"),Q2t=E.forwardRef((e,t)=>{const{defaultIndex:n,index:r,onIndexChange:i,children:a,className:o}=e,l=ht(e,["defaultIndex","index","onIndexChange","children","className"]);return E.createElement(tA.Group,Object.assign({as:"div",ref:t,defaultIndex:n,selectedIndex:r,onChange:i,className:ye(Z2t("root"),"w-full",o)},l),a)});Q2t.displayName="TabGroup";const J2t=hn("TabPanel"),ejt=E.forwardRef((e,t)=>{const{children:n,className:r}=e,i=ht(e,["children","className"]),{selectedValue:a}=b.useContext(rA),o=a===b.useContext(Fve);return E.createElement("div",Object.assign({ref:t,className:ye(J2t("root"),"w-full mt-2",o?"":"hidden",r),"aria-selected":o?"true":"false"},i),n)});ejt.displayName="TabPanel";const tjt=hn("TabPanels"),njt=E.forwardRef((e,t)=>{const{children:n,className:r}=e,i=ht(e,["children","className"]);return E.createElement(tA.Panels,Object.assign({as:"div",ref:t,className:ye(tjt("root"),"w-full",r)},i),({selectedIndex:a})=>E.createElement(rA.Provider,{value:{selectedValue:a}},E.Children.map(n,(o,l)=>E.createElement(Fve.Provider,{value:l},o))))});njt.displayName="TabPanels";const HY=hn("Textarea"),rjt=E.forwardRef((e,t)=>{const{value:n,defaultValue:r="",placeholder:i="Type...",error:a=!1,errorMessage:o,disabled:l=!1,className:c,onChange:u,onValueChange:d,autoHeight:f=!1}=e,m=ht(e,["value","defaultValue","placeholder","error","errorMessage","disabled","className","onChange","onValueChange","autoHeight"]),[h,g]=jp(r,n),y=b.useRef(null),v=Nv(h);return b.useEffect(()=>{const x=y.current;if(f&&x){x.style.height="60px";const w=x.scrollHeight;x.style.height=w+"px"}},[f,y,h]),E.createElement(E.Fragment,null,E.createElement("textarea",Object.assign({ref:Vh([y,t]),value:h,placeholder:i,disabled:l,className:ye(HY("Textarea"),"w-full flex items-center outline-none rounded-tremor-default px-3 py-2 text-tremor-default focus:ring-2 transition duration-100 border","shadow-tremor-input focus:border-tremor-brand-subtle focus:ring-tremor-brand-muted","dark:shadow-dark-tremor-input focus:dark:border-dark-tremor-brand-subtle focus:dark:ring-dark-tremor-brand-muted",Np(v,l,a),l?"placeholder:text-tremor-content-subtle dark:placeholder:text-dark-tremor-content-subtle":"placeholder:text-tremor-content dark:placeholder:text-dark-tremor-content",c),"data-testid":"text-area",onChange:x=>{u==null||u(x),g(x.target.value),d==null||d(x.target.value)}},m)),a&&o?E.createElement("p",{className:ye(HY("errorMessage"),"text-sm text-red-500 mt-1")},o):null)});rjt.displayName="Textarea";const ijt=hn("TextInput"),oD=E.forwardRef((e,t)=>{const{type:n="text"}=e,r=ht(e,["type"]);return E.createElement(n7,Object.assign({ref:t,type:n,makeInputClassName:ijt},r))});oD.displayName="TextInput";const ajt=hn("Accordion"),zve=b.createContext({isOpen:!1}),sjt=E.forwardRef((e,t)=>{var n;const{defaultOpen:r=!1,children:i,className:a}=e,o=ht(e,["defaultOpen","children","className"]),l=(n=b.useContext(rw))!==null&&n!==void 0?n:ye("rounded-tremor-default border");return E.createElement(O8,Object.assign({as:"div",ref:t,className:ye(ajt("root"),"overflow-hidden","bg-tremor-background border-tremor-border","dark:bg-dark-tremor-background dark:border-dark-tremor-border",l,a),defaultOpen:r},o),({open:c})=>E.createElement(zve.Provider,{value:{isOpen:c}},i))});sjt.displayName="Accordion";const ojt=hn("AccordionBody"),ljt=E.forwardRef((e,t)=>{const{children:n,className:r}=e,i=ht(e,["children","className"]);return E.createElement(O8.Panel,Object.assign({ref:t,className:ye(ojt("root"),"w-full text-tremor-default px-4 pb-3","text-tremor-content","dark:text-dark-tremor-content",r)},i),n)});ljt.displayName="AccordionBody";const cjt=e=>{var t=ht(e,[]);return E.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"},t),E.createElement("path",{d:"M11.9999 10.8284L7.0502 15.7782L5.63599 14.364L11.9999 8L18.3639 14.364L16.9497 15.7782L11.9999 10.8284Z"}))},kO=hn("AccordionHeader"),ujt=E.forwardRef((e,t)=>{const{children:n,className:r}=e,i=ht(e,["children","className"]),{isOpen:a}=b.useContext(zve);return E.createElement(O8.Button,Object.assign({ref:t,className:ye(kO("root"),"w-full flex items-center justify-between px-4 py-3","text-tremor-content-emphasis","dark:text-dark-tremor-content-emphasis",r)},i),E.createElement("div",{className:ye(kO("children"),"flex flex-1 text-inherit mr-4")},n),E.createElement("div",null,E.createElement(cjt,{className:ye(kO("arrowIcon"),"h-5 w-5 -mr-1","text-tremor-content-subtle","dark:text-dark-tremor-content-subtle",a?"transition-all":"transition-all -rotate-180")})))});ujt.displayName="AccordionHeader";const djt=hn("AccordionList"),fjt=E.forwardRef((e,t)=>{const{children:n,className:r}=e,i=ht(e,["children","className"]),a=E.Children.count(n);return E.createElement("div",Object.assign({ref:t,className:ye(djt("root"),"rounded-tremor-default","shadow-tremor-card","dark:shadow-dark-tremor-card",r)},i),E.Children.map(n,(o,l)=>l===0?E.createElement(rw.Provider,{value:ye("rounded-t-tremor-default border")},E.cloneElement(o)):l===a-1?E.createElement(rw.Provider,{value:ye("rounded-b-tremor-default border-l border-r border-b")},E.cloneElement(o)):E.createElement(rw.Provider,{value:ye("border-l border-r border-b")},E.cloneElement(o))))});fjt.displayName="AccordionList";const hjt=hn("Card"),mjt=e=>{if(!e)return"";switch(e){case xy.Left:return"border-l-4";case YG.Top:return"border-t-4";case xy.Right:return"border-r-4";case YG.Bottom:return"border-b-4";default:return""}},Sg=E.forwardRef((e,t)=>{const{decoration:n="",decorationColor:r,children:i,className:a}=e,o=ht(e,["decoration","decorationColor","children","className"]);return E.createElement("div",Object.assign({ref:t,className:ye(hjt("root"),"relative w-full text-left ring-1 rounded-tremor-default p-6","bg-tremor-background ring-tremor-ring shadow-tremor-card","dark:bg-dark-tremor-background dark:ring-dark-tremor-ring dark:shadow-dark-tremor-card",r?vt(r,Nt.border).borderColor:"border-tremor-brand dark:border-dark-tremor-brand",mjt(n),a)},o),i)});Sg.displayName="Card";const pjt=hn("Divider"),gjt=E.forwardRef((e,t)=>{const{className:n,children:r}=e,i=ht(e,["className","children"]);return E.createElement("div",Object.assign({ref:t,className:ye(pjt("root"),"w-full mx-auto my-6 flex justify-between gap-3 items-center text-tremor-default","text-tremor-content","dark:text-dark-tremor-content",n)},i),r?E.createElement(E.Fragment,null,E.createElement("div",{className:ye("w-full h-[1px] bg-tremor-border dark:bg-dark-tremor-border")}),E.createElement("div",{className:ye("text-inherit whitespace-nowrap")},r),E.createElement("div",{className:ye("w-full h-[1px] bg-tremor-border dark:bg-dark-tremor-border")})):E.createElement("div",{className:ye("w-full h-[1px] bg-tremor-border dark:bg-dark-tremor-border")}))});gjt.displayName="Divider";const vjt=hn("Flex"),xjt={start:"justify-start",end:"justify-end",center:"justify-center",between:"justify-between",around:"justify-around",evenly:"justify-evenly"},yjt={start:"items-start",end:"items-end",center:"items-center",baseline:"items-baseline",stretch:"items-stretch"},bjt={row:"flex-row",col:"flex-col","row-reverse":"flex-row-reverse","col-reverse":"flex-col-reverse"},Im=E.forwardRef((e,t)=>{const{flexDirection:n="row",justifyContent:r="between",alignItems:i="center",children:a,className:o}=e,l=ht(e,["flexDirection","justifyContent","alignItems","children","className"]);return E.createElement("div",Object.assign({ref:t,className:ye(vjt("root"),"flex w-full",bjt[n],xjt[r],yjt[i],o)},l),a)});Im.displayName="Flex";const wjt={0:"grid-cols-none",1:"grid-cols-1",2:"grid-cols-2",3:"grid-cols-3",4:"grid-cols-4",5:"grid-cols-5",6:"grid-cols-6",7:"grid-cols-7",8:"grid-cols-8",9:"grid-cols-9",10:"grid-cols-10",11:"grid-cols-11",12:"grid-cols-12"},jjt={0:"sm:grid-cols-none",1:"sm:grid-cols-1",2:"sm:grid-cols-2",3:"sm:grid-cols-3",4:"sm:grid-cols-4",5:"sm:grid-cols-5",6:"sm:grid-cols-6",7:"sm:grid-cols-7",8:"sm:grid-cols-8",9:"sm:grid-cols-9",10:"sm:grid-cols-10",11:"sm:grid-cols-11",12:"sm:grid-cols-12"},Njt={0:"md:grid-cols-none",1:"md:grid-cols-1",2:"md:grid-cols-2",3:"md:grid-cols-3",4:"md:grid-cols-4",5:"md:grid-cols-5",6:"md:grid-cols-6",7:"md:grid-cols-7",8:"md:grid-cols-8",9:"md:grid-cols-9",10:"md:grid-cols-10",11:"md:grid-cols-11",12:"md:grid-cols-12"},_jt={0:"lg:grid-cols-none",1:"lg:grid-cols-1",2:"lg:grid-cols-2",3:"lg:grid-cols-3",4:"lg:grid-cols-4",5:"lg:grid-cols-5",6:"lg:grid-cols-6",7:"lg:grid-cols-7",8:"lg:grid-cols-8",9:"lg:grid-cols-9",10:"lg:grid-cols-10",11:"lg:grid-cols-11",12:"lg:grid-cols-12"},Sjt={1:"col-span-1",2:"col-span-2",3:"col-span-3",4:"col-span-4",5:"col-span-5",6:"col-span-6",7:"col-span-7",8:"col-span-8",9:"col-span-9",10:"col-span-10",11:"col-span-11",12:"col-span-12",13:"col-span-13"},kjt={1:"sm:col-span-1",2:"sm:col-span-2",3:"sm:col-span-3",4:"sm:col-span-4",5:"sm:col-span-5",6:"sm:col-span-6",7:"sm:col-span-7",8:"sm:col-span-8",9:"sm:col-span-9",10:"sm:col-span-10",11:"sm:col-span-11",12:"sm:col-span-12",13:"sm:col-span-13"},Cjt={1:"md:col-span-1",2:"md:col-span-2",3:"md:col-span-3",4:"md:col-span-4",5:"md:col-span-5",6:"md:col-span-6",7:"md:col-span-7",8:"md:col-span-8",9:"md:col-span-9",10:"md:col-span-10",11:"md:col-span-11",12:"md:col-span-12",13:"md:col-span-13"},Ejt={1:"lg:col-span-1",2:"lg:col-span-2",3:"lg:col-span-3",4:"lg:col-span-4",5:"lg:col-span-5",6:"lg:col-span-6",7:"lg:col-span-7",8:"lg:col-span-8",9:"lg:col-span-9",10:"lg:col-span-10",11:"lg:col-span-11",12:"lg:col-span-12",13:"lg:col-span-13"},Pjt=hn("Col"),Ajt=E.forwardRef((e,t)=>{const{numColSpan:n=1,numColSpanSm:r,numColSpanMd:i,numColSpanLg:a,children:o,className:l}=e,c=ht(e,["numColSpan","numColSpanSm","numColSpanMd","numColSpanLg","children","className"]),u=(d,f)=>d&&Object.keys(f).includes(String(d))?f[d]:"";return E.createElement("div",Object.assign({ref:t,className:ye(Pjt("root"),(()=>{const d=u(n,Sjt),f=u(r,kjt),m=u(i,Cjt),h=u(a,Ejt);return ye(d,f,m,h)})(),l)},c),o)});Ajt.displayName="Col";const Tjt=hn("Grid"),M_=(e,t)=>e&&Object.keys(t).includes(String(e))?t[e]:"",lD=E.forwardRef((e,t)=>{const{numItems:n=1,numItemsSm:r,numItemsMd:i,numItemsLg:a,children:o,className:l}=e,c=ht(e,["numItems","numItemsSm","numItemsMd","numItemsLg","children","className"]),u=M_(n,wjt),d=M_(r,jjt),f=M_(i,Njt),m=M_(a,_jt),h=ye(u,d,f,m);return E.createElement("div",Object.assign({ref:t,className:ye(Tjt("root"),"grid",h,l)},c),o)});lD.displayName="Grid";const Ojt=hn("dialog"),Ljt=E.forwardRef((e,t)=>{const{children:n,className:r}=e,i=ht(e,["children","className"]);return E.createElement(wp,{appear:!0,show:e.open},E.createElement(sbt,Object.assign({ref:t},i,{className:ye(Ojt("root"),"relative z-50",r)}),E.createElement(ibt,{transition:!0,className:"fixed bg-slate-950/30  dark:bg-slate-950/50  inset-0  transition-opacity data-[closed]:opacity-0 data-[enter]:duration-300 data-[leave]:duration-200 data-[enter]:ease-out data-[leave]:ease-in"}),E.createElement("div",{className:"fixed inset-0 overflow-y-auto w-screen"},E.createElement("div",{className:"flex min-h-full items-center justify-center p-4"},n))))});Ljt.displayName="Dialog";const Mjt=hn("dialog"),Ijt=E.forwardRef((e,t)=>{var n;const{children:r,className:i}=e,a=ht(e,["children","className"]),o=(n=E.useContext(rw))!==null&&n!==void 0?n:ye("rounded-tremor-default p-6");return E.createElement(HP,{enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95"},E.createElement(vve,Object.assign({ref:t,className:ye(Mjt("panel"),"w-full max-w-lg overflow-visible text-left ring-1 shadow-tremor transition-all transform","bg-tremor-background  text-tremor-content ring-tremor-ring","dark:bg-dark-tremor-background dark:text-dark-tremor-content dark:ring-dark-tremor-ring",o,i)},a),r))});Ijt.displayName="DialogPanel";const Djt=hn("List"),Rjt=E.forwardRef((e,t)=>{const{children:n,className:r}=e,i=ht(e,["children","className"]);return E.createElement("ul",Object.assign({ref:t,className:ye(Djt("root"),"w-full divide-y","divide-tremor-border text-tremor-content","dark:divide-dark-tremor-border dark:text-dark-tremor-content",r)},i),n)});Rjt.displayName="List";const $jt=hn("ListItem"),Fjt=E.forwardRef((e,t)=>{const{children:n,className:r}=e,i=ht(e,["children","className"]);return E.createElement(E.Fragment,null,E.createElement("li",Object.assign({ref:t,className:ye($jt("root"),"w-full flex justify-between items-center text-tremor-default py-2",r)},i),n))});Fjt.displayName="ListItem";const KY=hn("Table"),Bjt=E.forwardRef((e,t)=>{const{children:n,className:r}=e,i=ht(e,["children","className"]);return E.createElement("div",{className:ye(KY("root"),"overflow-auto",r)},E.createElement("table",Object.assign({ref:t,className:ye(KY("table"),"w-full text-tremor-default","text-tremor-content","dark:text-dark-tremor-content")},i),n))});Bjt.displayName="Table";const zjt=hn("TableBody"),Vjt=E.forwardRef((e,t)=>{const{children:n,className:r}=e,i=ht(e,["children","className"]);return E.createElement(E.Fragment,null,E.createElement("tbody",Object.assign({ref:t,className:ye(zjt("root"),"align-top divide-y","divide-tremor-border","dark:divide-dark-tremor-border",r)},i),n))});Vjt.displayName="TableBody";const qjt=hn("TableCell"),Ujt=E.forwardRef((e,t)=>{const{children:n,className:r}=e,i=ht(e,["children","className"]);return E.createElement(E.Fragment,null,E.createElement("td",Object.assign({ref:t,className:ye(qjt("root"),"align-middle whitespace-nowrap text-left p-4",r)},i),n))});Ujt.displayName="TableCell";const Wjt=hn("TableFoot"),Hjt=E.forwardRef((e,t)=>{const{children:n,className:r}=e,i=ht(e,["children","className"]);return E.createElement("tfoot",Object.assign({ref:t,className:ye(Wjt("root"),"text-left font-medium border-t-[1px] ","text-tremor-content border-tremor-border","dark:text-dark-tremor-content dark:border-dark-tremor-border",r)},i),n)});Hjt.displayName="TableFoot";const Kjt=hn("TableFooterCell"),Gjt=E.forwardRef((e,t)=>{const{children:n,className:r}=e,i=ht(e,["children","className"]);return E.createElement(E.Fragment,null,E.createElement("th",Object.assign({ref:t,className:ye(Kjt("root"),"top-0 px-4 py-3.5","text-tremor-content font-medium","dark:text-dark-tremor-content",r)},i),n))});Gjt.displayName="TableFooterCell";const Yjt=hn("TableHead"),Xjt=E.forwardRef((e,t)=>{const{children:n,className:r}=e,i=ht(e,["children","className"]);return E.createElement(E.Fragment,null,E.createElement("thead",Object.assign({ref:t,className:ye(Yjt("root"),"text-left","text-tremor-content","dark:text-dark-tremor-content",r)},i),n))});Xjt.displayName="TableHead";const Zjt=hn("TableHeaderCell"),Qjt=E.forwardRef((e,t)=>{const{children:n,className:r}=e,i=ht(e,["children","className"]);return E.createElement(E.Fragment,null,E.createElement("th",Object.assign({ref:t,className:ye(Zjt("root"),"whitespace-nowrap text-left font-semibold top-0 px-4 py-3.5","text-tremor-content-strong","dark:text-dark-tremor-content-strong",r)},i),n))});Qjt.displayName="TableHeaderCell";const Jjt=hn("TableRow"),eNt=E.forwardRef((e,t)=>{const{children:n,className:r}=e,i=ht(e,["children","className"]);return E.createElement(E.Fragment,null,E.createElement("tr",Object.assign({ref:t,className:ye(Jjt("row"),r)},i),n))});eNt.displayName="TableRow";const tNt=E.forwardRef((e,t)=>{const{data:n=[],categories:r=[],index:i,colors:a=Sf,stack:o=!1,relative:l=!1,animationDuration:c=900,showAnimation:u=!1,noDataText:d,autoMinValue:f=!1,minValue:m,maxValue:h,className:g}=e,y=ht(e,["data","categories","index","colors","stack","relative","animationDuration","showAnimation","noDataText","autoMinValue","minValue","maxValue","className"]),v=$v(r,a),x=bp(f,m,h);return E.createElement("div",Object.assign({ref:t,className:ye("w-28 h-12",g)},y),E.createElement(kr,{className:"h-full w-full"},n!=null&&n.length?E.createElement(dc,{data:n,stackOffset:l?"expand":"none",margin:{top:0,left:-1.5,right:-1.5,bottom:0}},E.createElement(dr,{hide:!0,domain:x}),E.createElement(vr,{hide:!0,dataKey:i}),r.map(w=>{var j;return E.createElement(Yi,{className:ye(vt((j=v.get(w))!==null&&j!==void 0?j:Lt.Gray,Nt.background).fillColor),key:w,name:w,type:"linear",stackId:o||l?"a":void 0,dataKey:w,fill:"",isAnimationActive:u,animationDuration:c})})):E.createElement(qh,{noDataText:d})))});tNt.displayName="SparkBarChart";const nNt=E.forwardRef((e,t)=>{const{data:n=[],categories:r=[],index:i,colors:a=Sf,animationDuration:o=900,showAnimation:l=!1,curveType:c="linear",connectNulls:u=!1,noDataText:d,autoMinValue:f=!1,minValue:m,maxValue:h,className:g}=e,y=ht(e,["data","categories","index","colors","animationDuration","showAnimation","curveType","connectNulls","noDataText","autoMinValue","minValue","maxValue","className"]),v=$v(r,a),x=bp(f,m,h);return E.createElement("div",Object.assign({ref:t,className:ye("w-28 h-12",g)},y),E.createElement(kr,{className:"h-full w-full"},n!=null&&n.length?E.createElement(id,{data:n,margin:{top:1,left:1,right:1,bottom:1}},E.createElement(dr,{hide:!0,domain:x}),E.createElement(vr,{hide:!0,dataKey:i}),r.map(w=>{var j;return E.createElement(oa,{className:ye(vt((j=v.get(w))!==null&&j!==void 0?j:Lt.Gray,Nt.text).strokeColor),strokeOpacity:1,dot:!1,key:w,name:w,type:c,dataKey:w,stroke:"",strokeWidth:2,strokeLinejoin:"round",strokeLinecap:"round",isAnimationActive:l,animationDuration:o,connectNulls:u})})):E.createElement(qh,{noDataText:d})))});nNt.displayName="SparkLineChart";const rNt=E.forwardRef((e,t)=>{const{data:n=[],categories:r=[],index:i,stack:a=!1,colors:o=Sf,showAnimation:l=!1,animationDuration:c=900,showGradient:u=!0,curveType:d="linear",connectNulls:f=!1,noDataText:m,autoMinValue:h=!1,minValue:g,maxValue:y,className:v}=e,x=ht(e,["data","categories","index","stack","colors","showAnimation","animationDuration","showGradient","curveType","connectNulls","noDataText","autoMinValue","minValue","maxValue","className"]),w=$v(r,o),j=bp(h,g,y);return E.createElement("div",Object.assign({ref:t,className:ye("w-28 h-12",v)},x),E.createElement(kr,{className:"h-full w-full"},n!=null&&n.length?E.createElement(AF,{data:n,margin:{top:1,left:1,right:1,bottom:1}},E.createElement(dr,{hide:!0,domain:j}),E.createElement(vr,{hide:!0,dataKey:i}),r.map(_=>{var S,k;return E.createElement("defs",{key:_},u?E.createElement("linearGradient",{className:vt((S=w.get(_))!==null&&S!==void 0?S:Lt.Gray,Nt.text).textColor,id:w.get(_),x1:"0",y1:"0",x2:"0",y2:"1"},E.createElement("stop",{offset:"5%",stopColor:"currentColor",stopOpacity:.4}),E.createElement("stop",{offset:"95%",stopColor:"currentColor",stopOpacity:0})):E.createElement("linearGradient",{className:vt((k=w.get(_))!==null&&k!==void 0?k:Lt.Gray,Nt.text).textColor,id:w.get(_),x1:"0",y1:"0",x2:"0",y2:"1"},E.createElement("stop",{stopColor:"currentColor",stopOpacity:.3})))}),r.map(_=>{var S;return E.createElement(md,{className:vt((S=w.get(_))!==null&&S!==void 0?S:Lt.Gray,Nt.text).strokeColor,strokeOpacity:1,dot:!1,key:_,name:_,type:d,dataKey:_,stroke:"",fill:`url(#${w.get(_)})`,strokeWidth:2,strokeLinejoin:"round",strokeLinecap:"round",isAnimationActive:l,animationDuration:c,stackId:a?"a":void 0,connectNulls:f})})):E.createElement(qh,{noDataText:m})))});rNt.displayName="AreaChart";const iNt=E.forwardRef((e,t)=>{const{children:n,className:r}=e,i=ht(e,["children","className"]);return E.createElement("b",Object.assign({ref:t,className:ye("text-inherit font-bold",r)},i),n)});iNt.displayName="Bold";const s1=hn("Callout"),Vve=E.forwardRef((e,t)=>{const{title:n,icon:r,color:i,className:a,children:o}=e,l=ht(e,["title","icon","color","className","children"]),c=r;return E.createElement("div",Object.assign({ref:t,className:ye(s1("root"),"flex flex-col overflow-hidden rounded-tremor-default text-tremor-default border-l-4 py-3 pr-3 pl-4",i?ye(vt(i,Nt.background).bgColor,vt(i,Nt.darkBorder).borderColor,vt(i,Nt.darkText).textColor,"dark:bg-opacity-10 bg-opacity-10"):ye("bg-tremor-brand-faint border-tremor-brand-emphasis text-tremor-brand-emphasis","dark:bg-dark-tremor-brand-muted/70 dark:border-dark-tremor-brand-emphasis dark:text-dark-tremor-brand-emphasis"),a)},l),E.createElement("div",{className:ye(s1("header"),"flex items-start")},c?E.createElement(c,{className:ye(s1("icon"),"flex-none h-5 w-5 mr-1.5")}):null,E.createElement("h4",{className:ye(s1("title"),"font-semibold")},n)),E.createElement("p",{className:ye(s1("body"),"overflow-y-auto",o?"mt-2":"")},o))});Vve.displayName="Callout";const aNt=E.forwardRef((e,t)=>{const{children:n,className:r}=e,i=ht(e,["children","className"]);return E.createElement("i",Object.assign({ref:t,className:ye("italic text-inherit",r)},i),n)});aNt.displayName="Italic";const by=E.forwardRef((e,t)=>{const{color:n,children:r,className:i}=e,a=ht(e,["color","children","className"]);return E.createElement("p",Object.assign({ref:t,className:ye("font-semibold text-tremor-metric",n?vt(n,Nt.darkText).textColor:"text-tremor-content-strong dark:text-dark-tremor-content-strong",i)},a),r)});by.displayName="Metric";const sNt=E.forwardRef((e,t)=>{const{color:n,children:r,className:i}=e,a=ht(e,["color","children","className"]);return E.createElement("p",Object.assign({ref:t,className:ye(n?vt(n,Nt.lightText).textColor:"text-tremor-content-emphasis dark:text-dark-tremor-content-emphasis",i)},a),r)});sNt.displayName="Subtitle";const _S=E.forwardRef((e,t)=>{const{color:n,children:r,className:i}=e,a=ht(e,["color","children","className"]);return E.createElement("p",Object.assign({ref:t,className:ye("font-medium text-tremor-title",n?vt(n,Nt.darkText).textColor:"text-tremor-content-strong dark:text-dark-tremor-content-strong",i)},a),r)});_S.displayName="Title";const Kf=hn("BarList");function qve(e,t){const{data:n=[],color:r,valueFormatter:i=of,showAnimation:a=!1,onValueChange:o,sortOrder:l="descending",className:c}=e,u=ht(e,["data","color","valueFormatter","showAnimation","onValueChange","sortOrder","className"]),d=o?"button":"div",f=E.useMemo(()=>l==="none"?n:[...n].sort((h,g)=>l==="ascending"?h.value-g.value:g.value-h.value),[n,l]),m=E.useMemo(()=>{const h=Math.max(...f.map(g=>g.value),0);return f.map(g=>g.value===0?0:Math.max(g.value/h*100,2))},[f]);return E.createElement("div",Object.assign({ref:t,className:ye(Kf("root"),"flex justify-between space-x-6",c),"aria-sort":l},u),E.createElement("div",{className:ye(Kf("bars"),"relative w-full space-y-1.5")},f.map((h,g)=>{var y,v,x;const w=h.icon;return E.createElement(d,{key:(y=h.key)!==null&&y!==void 0?y:g,onClick:()=>{o==null||o(h)},className:ye(Kf("bar"),"group w-full flex items-center rounded-tremor-small",o?["cursor-pointer","hover:bg-tremor-background-muted dark:hover:bg-dark-tremor-background-subtle/40"]:"")},E.createElement("div",{className:ye("flex items-center rounded transition-all bg-opacity-40","h-8",h.color||r?[vt((v=h.color)!==null&&v!==void 0?v:r,Nt.background).bgColor,o?"group-hover:bg-opacity-30":""]:"bg-tremor-brand-subtle dark:bg-dark-tremor-brand-subtle/60",!o||h.color||r?"":"group-hover:bg-tremor-brand-subtle/30 group-hover:dark:bg-dark-tremor-brand-subtle/70",g===f.length-1?"mb-0":"",a?"duration-500":""),style:{width:`${m[g]}%`,transition:a?"all 1s":""}},E.createElement("div",{className:ye("absolute left-2 pr-4 flex max-w-full")},w?E.createElement(w,{className:ye(Kf("barIcon"),"flex-none h-5 w-5 mr-2","text-tremor-content","dark:text-dark-tremor-content")}):null,h.href?E.createElement("a",{href:h.href,target:(x=h.target)!==null&&x!==void 0?x:"_blank",rel:"noreferrer",className:ye(Kf("barLink"),"whitespace-nowrap hover:underline truncate text-tremor-default",o?"cursor-pointer":"","text-tremor-content-emphasis","dark:text-dark-tremor-content-emphasis"),onClick:j=>j.stopPropagation()},h.name):E.createElement("p",{className:ye(Kf("barText"),"whitespace-nowrap truncate text-tremor-default","text-tremor-content-emphasis","dark:text-dark-tremor-content-emphasis")},h.name))))})),E.createElement("div",{className:Kf("labels")},f.map((h,g)=>{var y;return E.createElement("div",{key:(y=h.key)!==null&&y!==void 0?y:g,className:ye(Kf("labelWrapper"),"flex justify-end items-center","h-8",g===f.length-1?"mb-0":"mb-1.5")},E.createElement("p",{className:ye(Kf("labelText"),"whitespace-nowrap leading-none truncate text-tremor-default","text-tremor-content-emphasis","dark:text-dark-tremor-content-emphasis")},i(h.value)))})))}qve.displayName="BarList";const oNt=E.forwardRef(qve),Nx=hn("CategoryBar"),Uve=(e,t)=>e?e/t*100:0,lNt=({values:e})=>{const t=b.useMemo(()=>QF(e),[e]);let n=0,r=0;return E.createElement("div",{className:ye(Nx("labels"),"relative flex w-full text-tremor-default h-5 mb-2","text-tremor-content","dark:text-dark-tremor-content")},e.slice(0,e.length).map((i,a)=>{n+=i;const o=(i>=.1*t||r>=.09*t)&&t-n>=.15*t&&n>=.1*t;r=o?0:r+=i;const l=Uve(i,t);return E.createElement("div",{key:`item-${a}`,className:"flex items-center justify-end",style:{width:`${l}%`}},E.createElement("span",{className:ye(o?"block":"hidden","left-1/2 translate-x-1/2")},n))}),E.createElement("div",{className:ye("absolute bottom-0 flex items-center left-0")},"0"),E.createElement("div",{className:ye("absolute bottom-0 flex items-center right-0")},t))},cD=E.forwardRef((e,t)=>{const{values:n=[],colors:r=Sf,markerValue:i,showLabels:a=!0,tooltip:o,showAnimation:l=!1,className:c}=e,u=ht(e,["values","colors","markerValue","showLabels","tooltip","showAnimation","className"]),d=b.useMemo(()=>((y,v,x)=>{if(y===void 0)return"";let w=0;for(let j=0;j<v.length;j++){const _=v[j],S=vt(x[j],Nt.background).bgColor;if(w+=_,w>=y)return S}return""})(i,n,r),[i,n,r]),{tooltipProps:f,getReferenceProps:m}=lu(),h=b.useMemo(()=>QF(n),[n]),g=b.useMemo(()=>Uve(i,h),[i,h]);return E.createElement(E.Fragment,null,E.createElement(vc,Object.assign({text:o},f)),E.createElement("div",Object.assign({ref:t,className:ye(Nx("root"),c)},u),a?E.createElement(lNt,{values:n}):null,E.createElement("div",{className:ye(Nx("barWrapper"),"relative w-full flex items-center h-2")},E.createElement("div",{className:ye("flex-1 flex items-center h-full overflow-hidden rounded-tremor-full")},n.map((y,v)=>{var x;const w=(x=r[v])!==null&&x!==void 0?x:"gray",j=y/h*100;return E.createElement("div",{key:`item-${v}`,className:ye(Nx("categoryBar"),"h-full",vt(w,Nt.background).bgColor),style:{width:`${j}%`}})})),i!==void 0?E.createElement("div",Object.assign({ref:f.refs.setReference,className:ye(Nx("markerWrapper"),"absolute right-1/2 -translate-x-1/2 w-5"),style:{left:`${g}%`,transition:l?"all 1s":""}},m),E.createElement("div",{className:ye(Nx("marker"),"ring-2 mx-auto rounded-tremor-full h-4 w-1","ring-tremor-brand-inverted","dark:ring-dark-tremor-brand-inverted",d)})):null)))});cD.displayName="CategoryBar";const GY={[di.Increase]:{bgColor:vt(Lt.Emerald,Nt.background).bgColor},[di.ModerateIncrease]:{bgColor:vt(Lt.Emerald,Nt.background).bgColor},[di.Decrease]:{bgColor:vt(Lt.Rose,Nt.background).bgColor},[di.ModerateDecrease]:{bgColor:vt(Lt.Rose,Nt.background).bgColor},[di.Unchanged]:{bgColor:vt(Lt.Orange,Nt.background).bgColor}},o1=hn("DeltaBar"),cNt=E.forwardRef((e,t)=>{const{value:n,isIncreasePositive:r=!0,showAnimation:i=!1,className:a,tooltip:o}=e,l=ht(e,["value","isIncreasePositive","showAnimation","className","tooltip"]),c=dge((f=>f>=0?di.Increase:di.Decrease)(n),r),{tooltipProps:u,getReferenceProps:d}=lu();return E.createElement(E.Fragment,null,E.createElement(vc,Object.assign({text:o},u)),E.createElement("div",Object.assign({ref:t,className:ye(o1("root"),"relative flex items-center w-full rounded-tremor-full h-2","bg-tremor-background-subtle","dark:bg-dark-tremor-background-subtle",a)},l),E.createElement("div",{className:"flex justify-end h-full w-1/2"},n<0?E.createElement("div",Object.assign({ref:u.refs.setReference,className:ye(o1("negativeDeltaBar"),"rounded-l-tremor-full",GY[c].bgColor),style:{width:`${Math.abs(n)}%`,transition:i?"all duration-300":""}},d)):null),E.createElement("div",{className:ye(o1("separator"),"ring-2 z-10 rounded-tremor-full h-4 w-1","ring-tremor-brand-inverted bg-tremor-background-emphasis","dark:ring-dark-tremor-brand-inverted dark:bg-dark-tremor-background-emphasis")}),E.createElement("div",{className:ye(o1("positiveDeltaBarWrapper"),"flex justify-start h-full w-1/2")},n>=0?E.createElement("div",Object.assign({ref:u.refs.setReference,className:ye(o1("positiveDeltaBar"),"rounded-r-tremor-full",GY[c].bgColor),style:{width:`${Math.abs(n)}%`,transition:i?"all 1s":""}},d)):null)))});cNt.displayName="DeltaBar";const I_=hn("MarkerBar"),uNt=E.forwardRef((e,t)=>{const{value:n,minValue:r,maxValue:i,markerTooltip:a,rangeTooltip:o,showAnimation:l=!1,color:c,className:u}=e,d=ht(e,["value","minValue","maxValue","markerTooltip","rangeTooltip","showAnimation","color","className"]),{tooltipProps:f,getReferenceProps:m}=lu(),{tooltipProps:h,getReferenceProps:g}=lu();return E.createElement("div",Object.assign({ref:t,className:ye(I_("root"),"relative flex items-center w-full rounded-tremor-full h-2","bg-tremor-background-subtle","dark:bg-dark-tremor-background-subtle",u)},d),r!==void 0&&i!==void 0?E.createElement(E.Fragment,null,E.createElement(vc,Object.assign({text:o},h)),E.createElement("div",Object.assign({ref:h.refs.setReference,className:ye(I_("rangeBar"),"absolute h-full rounded-tremor-full","bg-tremor-content-subtle","dark:bg-dark-tremor-content-subtle"),style:{left:`${r}%`,width:i-r+"%",transition:l?"all duration-300":""}},g))):null,E.createElement(vc,Object.assign({text:a},f)),E.createElement("div",Object.assign({ref:f.refs.setReference,className:ye(I_("markerWrapper"),"absolute right-1/2 -translate-x-1/2 w-5"),style:{left:`${n}%`,transition:l?"all 1s":""}},m),E.createElement("div",{className:ye(I_("marker"),"ring-2 mx-auto rounded-tremor-full h-4 w-1","ring-tremor-brand-inverted","dark:ring-dark-tremor-brand-inverted",c?vt(c,Nt.background).bgColor:"dark:bg-dark-tremor-brand bg-tremor-brand")})))});uNt.displayName="MarkerBar";const l1=hn("ProgressBar"),r7=E.forwardRef((e,t)=>{const{value:n,label:r,color:i,tooltip:a,showAnimation:o=!1,className:l}=e,c=ht(e,["value","label","color","tooltip","showAnimation","className"]),{tooltipProps:u,getReferenceProps:d}=lu();return E.createElement(E.Fragment,null,E.createElement(vc,Object.assign({text:a},u)),E.createElement("div",Object.assign({ref:t,className:ye(l1("root"),"flex items-center w-full",l)},c),E.createElement("div",Object.assign({ref:u.refs.setReference,className:ye(l1("progressBarWrapper"),"relative flex items-center w-full rounded-tremor-full bg-opacity-20 h-2",i?vt(i,Nt.background).bgColor:"bg-tremor-brand-muted/50 dark:bg-dark-tremor-brand-muted")},d),E.createElement("div",{className:ye(l1("progressBar"),"flex-col h-full rounded-tremor-full",i?vt(i,Nt.background).bgColor:"bg-tremor-brand dark:bg-dark-tremor-brand",o?"transition-all duration-300 ease-in-out":""),style:{width:`${n}%`}})),r?E.createElement("div",{className:ye(l1("labelWrapper"),"w-16 truncate text-right ml-2","text-tremor-content-emphasis","dark:text-dark-tremor-content-emphasis")},E.createElement("p",{className:ye(l1("label"),"shrink-0 whitespace-nowrap truncate text-tremor-default")},r)):null))});r7.displayName="ProgressBar";const dNt=hn("ProgressBar"),YY={xs:{radius:15,strokeWidth:3},sm:{radius:19,strokeWidth:4},md:{radius:32,strokeWidth:6},lg:{radius:52,strokeWidth:8},xl:{radius:80,strokeWidth:10}},fNt=E.forwardRef((e,t)=>{const{value:n,size:r="md",className:i,showAnimation:a=!0,color:o,tooltip:l,radius:c,strokeWidth:u,children:d}=e,f=ht(e,["value","size","className","showAnimation","color","tooltip","radius","strokeWidth","children"]),m=(h=n)===void 0?0:h>100?100:h;var h;const g=c??YY[r].radius,y=u??YY[r].strokeWidth,v=g-y/2,x=2*v*Math.PI,w=x-m/100*x,{tooltipProps:j,getReferenceProps:_}=lu();return E.createElement(E.Fragment,null,E.createElement(vc,Object.assign({text:l},j)),E.createElement("div",Object.assign({ref:t,className:ye(dNt("root"),"flex flex-col items-center justify-center",i)},f),E.createElement("svg",Object.assign({ref:j.refs.setReference,width:2*g,height:2*g,viewBox:`0 0 ${2*g} ${2*g}`,className:"transform -rotate-90"},_),E.createElement("circle",{r:v,cx:g,cy:g,strokeWidth:y,fill:"transparent",stroke:"",strokeLinecap:"round",className:ye("transition-colors ease-linear",o?`${vt(o,Nt.background).strokeColor} opacity-20 dark:opacity-25`:"stroke-tremor-brand-muted/50 dark:stroke-dark-tremor-brand-muted")}),m>=0?E.createElement("circle",{r:v,cx:g,cy:g,strokeWidth:y,strokeDasharray:x+" "+x,strokeDashoffset:w,fill:"transparent",stroke:"",strokeLinecap:"round",className:ye("transition-colors ease-linear",o?vt(o,Nt.background).strokeColor:"stroke-tremor-brand dark:stroke-dark-tremor-brand",a?"transition-all duration-300 ease-in-out":"")}):null),E.createElement("div",{className:ye("absolute flex")},d)))});fNt.displayName="ProgressCircle";const Wve=hn("Tracker"),Hve=E.forwardRef((e,t)=>{const{color:n,tooltip:r}=e,i=ht(e,["color","tooltip"]),{tooltipProps:a,getReferenceProps:o}=lu();return E.createElement("div",Object.assign({ref:Vh([t,a.refs.setReference]),className:ye(Wve("trackingBlock"),"w-full h-full rounded-[1px] first:rounded-l-[4px] last:rounded-r-[4px]",vt(n??"gray",Nt.background).bgColor)},i,o),E.createElement(vc,Object.assign({text:r},a)))});Hve.displayName="TrackerBlock";const hNt=E.forwardRef((e,t)=>{const{data:n=[],className:r}=e,i=ht(e,["data","className"]);return E.createElement("div",Object.assign({ref:t,className:ye(Wve("root"),"h-10 flex items-center space-x-0.5",r)},i),n.map((a,o)=>{var l;return E.createElement(Hve,{key:(l=a.key)!==null&&l!==void 0?l:o,color:a.color,tooltip:a.tooltip})}))});hNt.displayName="Tracker";const $u={COMPLIES:100,ALERT:90};function mNt(e){return e>=$u.COMPLIES?"complies":e>=$u.ALERT?"alert":"not_compliant"}function pNt(e){switch(e){case"excellent":return"Excelente";case"good":return"Bueno";case"regular":return"Regular";case"critical":return"Crtico";default:return"Sin estado"}}function gNt(e){switch(e){case"excellent":return"bg-emerald-500";case"good":return"bg-blue-500";case"regular":return"bg-yellow-500";case"critical":return"bg-rose-500";default:return"bg-gray-400"}}function vNt(e){switch(e){case"excellent":return"emerald";case"good":return"blue";case"regular":return"yellow";case"critical":return"rose";default:return"blue"}}function xNt(e,t){if(!t)return"unchanged";const n=e-t;return n>=10?"increase":n>0?"moderateIncrease":n===0?"unchanged":n>-10?"moderateDecrease":"decrease"}function yNt(e){return e==null?"unchanged":e>=10?"increase":e>0?"moderateIncrease":e===0?"unchanged":e>-10?"moderateDecrease":"decrease"}function bNt({collaborators:e,kpis:t=[],metrics:n,historicalData:r=[],onViewKpiDetails:i,onUpdateKpi:a,title:o="Centro de Control de KPIs",subtitle:l="Monitoreo de indicadores clave de desempeo",selectedCollaborator:c="all",statusFilter:u="all"}){const d=b.useMemo(()=>c==="all"?e:e.filter(x=>x.name===c),[e,c]),f=b.useMemo(()=>u==="all"?d:d.map(x=>({...x,kpis:x.kpis.filter(w=>mNt(w.compliance)===u),compliantKpis:x.kpis.filter(w=>w.compliance>=$u.COMPLIES&&(u==="all"||u==="complies")).length,alertKpis:x.kpis.filter(w=>w.compliance>=$u.ALERT&&w.compliance<$u.COMPLIES&&(u==="all"||u==="alert")).length,notCompliantKpis:x.kpis.filter(w=>w.compliance<$u.ALERT&&(u==="all"||u==="not_compliant")).length})).filter(x=>x.kpis.length>0),[d,u]),m=b.useMemo(()=>{const x=f.flatMap(P=>P.kpis),w=x.length,j=x.filter(P=>P.compliance>=$u.COMPLIES).length,_=x.filter(P=>P.compliance>=$u.ALERT&&P.compliance<$u.COMPLIES).length,S=x.filter(P=>P.compliance<$u.ALERT).length,k=w>0?x.reduce((P,M)=>P+M.compliance,0)/w:0;return n&&c==="all"&&u==="all"?n:{totalKpis:w,compliantKpis:j,alertKpis:_,criticalKpis:S,averageCompliance:k}},[f,n,c,u]),h=b.useMemo(()=>f.filter(x=>x.status==="critical"||x.status==="regular").length,[f]),g=b.useMemo(()=>[...f].sort((x,w)=>x.averageCompliance!==w.averageCompliance?w.averageCompliance-x.averageCompliance:x.notCompliantKpis-w.notCompliantKpis),[f]),y=b.useMemo(()=>f.flatMap(w=>w.kpis.map(j=>({...j,collaborator:w.name}))).filter(w=>w.compliance<$u.COMPLIES).sort((w,j)=>w.compliance-j.compliance).slice(0,5).map(w=>({name:`${w.name} (${w.collaborator})`,value:w.compliance})),[f]),v=n!=null&&n.previousAverageCompliance?`${m.averageCompliance-n.previousAverageCompliance>=0?"+":""}${(m.averageCompliance-n.previousAverageCompliance).toFixed(1)}%`:null;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx(_S,{children:o}),s.jsx(xs,{className:"text-gray-500",children:l})]}),s.jsxs(lD,{numItemsSm:2,numItemsLg:3,className:"gap-4",children:[s.jsxs(Sg,{decoration:"top",decorationColor:"blue",children:[s.jsxs(Im,{alignItems:"start",justifyContent:"between",children:[s.jsxs("div",{children:[s.jsx(xs,{children:"Cumplimiento del Equipo"}),s.jsxs(by,{className:`${m.averageCompliance>=100?"text-emerald-600":m.averageCompliance>=90?"text-yellow-600":"text-rose-600"}`,children:[m.averageCompliance.toFixed(1),"%"]})]}),v&&s.jsx(WI,{deltaType:xNt(m.averageCompliance,n==null?void 0:n.previousAverageCompliance),children:v})]}),s.jsx(r7,{value:Math.min(m.averageCompliance,100),color:m.averageCompliance>=100?"emerald":m.averageCompliance>=90?"yellow":"rose",className:"mt-3"})]}),s.jsxs(Sg,{decoration:"top",decorationColor:"emerald",children:[s.jsxs(Im,{alignItems:"center",className:"gap-2",children:[s.jsx(tc,{className:"h-5 w-5 text-emerald-500"}),s.jsx(xs,{children:"Total de KPIs"})]}),s.jsx(by,{children:m.totalKpis}),s.jsx(cD,{values:[m.compliantKpis,m.alertKpis,m.criticalKpis],colors:["emerald","yellow","rose"],className:"mt-3"}),s.jsxs(xs,{className:"text-xs text-gray-500 mt-2",children:[m.compliantKpis," cumplidos / ",m.alertKpis," riesgo / ",m.criticalKpis," crticos"]})]}),s.jsxs(Sg,{decoration:"top",decorationColor:"rose",children:[s.jsxs(Im,{alignItems:"center",className:"gap-2",children:[s.jsx(Oa,{className:"h-5 w-5 text-rose-500"}),s.jsx(xs,{children:"Colaboradores en Alerta"})]}),s.jsx(by,{className:h>0?"text-rose-600":"text-emerald-600",children:h}),s.jsxs(xs,{className:"text-xs text-gray-500 mt-1",children:["de ",f.length," colaboradores"]})]})]}),s.jsxs("div",{children:[s.jsx(_S,{children:"Scoreboard del Equipo"}),s.jsx(xs,{className:"text-gray-500 dark:text-gray-400 mb-4",children:"Ordenado por cumplimiento (mayor a menor)"}),g.length===0?s.jsx(Sg,{children:s.jsxs(Im,{justifyContent:"center",alignItems:"center",className:"py-12 flex-col gap-3",children:[s.jsx(Fi,{className:"h-12 w-12 text-gray-300"}),s.jsx(xs,{className:"text-gray-400",children:"Sin datos de colaboradores"})]})}):s.jsx(lD,{numItemsSm:1,numItemsMd:2,numItemsLg:3,className:"gap-6",children:g.map(x=>{const w=x.averageCompliance>=100?"text-emerald-600 dark:text-emerald-400":x.averageCompliance>=90?"text-yellow-600 dark:text-yellow-400":"text-rose-600 dark:text-rose-400",j=[x.compliantKpis,x.alertKpis,x.notCompliantKpis],_=x.scoreChange!==null&&x.scoreChange!==void 0?`${x.scoreChange>=0?"+":""}${x.scoreChange.toFixed(1)}%`:null;return s.jsxs(Sg,{decoration:"left",decorationColor:vNt(x.status),className:"p-6",children:[s.jsxs(Im,{justifyContent:"between",alignItems:"center",children:[s.jsx("p",{className:"font-bold truncate min-w-0 flex-1 text-lg",style:{color:"#111827"},children:x.name}),_&&s.jsx(WI,{deltaType:yNt(x.scoreChange),children:_})]}),s.jsxs("div",{className:"flex items-center gap-2 mt-1.5",children:[s.jsx("span",{className:`inline-block w-3 h-3 rounded-full ${gNt(x.status)}`}),s.jsx("p",{className:"text-sm",style:{color:"#6b7280"},children:pNt(x.status)})]}),s.jsxs("div",{className:"mt-4 mb-4",children:[s.jsxs("p",{className:`text-4xl font-bold tracking-tight ${w}`,children:[x.averageCompliance.toFixed(1),"%"]}),s.jsx("p",{className:"text-sm mt-1",style:{color:"#6b7280"},children:"Cumplimiento"})]}),s.jsx(cD,{values:j,colors:["emerald","yellow","rose"],className:"h-3"}),s.jsxs("div",{className:"flex items-center gap-2 mt-4 flex-wrap",children:[s.jsxs("span",{className:"text-sm",children:[s.jsx("span",{className:"font-bold text-emerald-600 dark:text-emerald-400",children:x.compliantKpis}),s.jsx("span",{style:{color:"#6b7280"},children:" cumplidos"})]}),s.jsx("span",{style:{color:"#d1d5db"},children:"|"}),s.jsxs("span",{className:"text-sm",children:[s.jsx("span",{className:"font-bold text-yellow-600 dark:text-yellow-400",children:x.alertKpis}),s.jsx("span",{style:{color:"#6b7280"},children:" riesgo"})]}),s.jsx("span",{style:{color:"#d1d5db"},children:"|"}),s.jsxs("span",{className:"text-sm",children:[s.jsx("span",{className:"font-bold text-rose-600 dark:text-rose-400",children:x.notCompliantKpis}),s.jsx("span",{style:{color:"#6b7280"},children:" crticos"})]})]}),s.jsxs("p",{className:"text-sm mt-2",style:{color:"#6b7280"},children:[x.compliantKpis,"/",x.totalKpis," cumplidos"]})]},x.name)})})]}),y.length>0&&s.jsxs(Sg,{children:[s.jsx(_S,{children:"KPIs que Requieren Atencin"}),s.jsx(xs,{className:"text-gray-500 mb-4",children:"Los 5 KPIs con menor cumplimiento"}),s.jsx(oNt,{data:y,valueFormatter:x=>`${x.toFixed(1)}%`,color:"rose"})]})]})}function XY(){const e=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],t=new Date;return`${e[t.getMonth()]} ${t.getFullYear()}`}function wNt({kpiId:e,isOpen:t,onClose:n}){const{toast:r}=zi(),i=Vs(),[a,o]=b.useState(""),[l,c]=b.useState(""),[u,d]=b.useState(!1),{data:f,isLoading:m}=At({queryKey:[`/api/kpis/${e}`],queryFn:async()=>{if(!e)return null;const j=await Dt("GET",`/api/kpis/${e}`);if(!j.ok)throw new Error("Error al cargar KPI");return j.json()},enabled:t&&!!e,staleTime:0}),{data:h}=At({queryKey:["/api/kpi-values",{kpiId:e}],queryFn:async()=>{if(!e)return[];const j=await Dt("GET",`/api/kpi-values?kpiId=${e}`);return j.ok?j.json():[]},enabled:t&&!!e}),g=h==null?void 0:h.sort((j,_)=>new Date(_.date).getTime()-new Date(j.date).getTime())[0];b.useEffect(()=>{t&&(o(""),c(""))},[t]);const y=Wn({mutationFn:async()=>{const j=await Dt("POST","/api/kpi-values",{kpiId:e,value:a,period:XY(),comments:l||""});if(!j.ok){const _=await j.json();throw new Error(_.message||"Error al actualizar")}return j.json()},onSuccess:async()=>{r({title:"KPI actualizado",description:"El valor se ha registrado correctamente."}),await Promise.all([i.invalidateQueries({queryKey:["/api/kpi-values"]}),i.invalidateQueries({queryKey:["/api/kpis"]}),i.invalidateQueries({queryKey:["/api/collaborators-performance"]})]),n()},onError:j=>{r({title:"Error",description:j.message||"No se pudo actualizar el KPI",variant:"destructive"})}}),v=async()=>{if(!a||a.trim()===""){r({title:"Campo requerido",description:"Ingresa un valor para el KPI",variant:"destructive"});return}d(!0);try{await y.mutateAsync()}finally{d(!1)}},x=(()=>{if(!a||!(f!=null&&f.target))return null;const j=parseFloat(a),_=parseFloat(String(f.target).replace(/[^0-9.-]/g,""));return isNaN(j)||isNaN(_)||_===0?null:j/_*100})(),w=j=>j?j>=100?"emerald":j>=90?"yellow":"rose":"gray";return m?s.jsx(zr,{open:t,onOpenChange:n,children:s.jsx(Ir,{className:"sm:max-w-md",children:s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(sr,{className:"h-8 w-8 animate-spin text-blue-600"})})})}):s.jsx(zr,{open:t,onOpenChange:n,children:s.jsxs(Ir,{className:"sm:max-w-md p-0 gap-0 overflow-hidden",children:[s.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 px-6 py-4",children:[s.jsx(Vr,{children:s.jsxs(qr,{className:"text-white flex items-center gap-2",children:[s.jsx(Pr,{className:"h-5 w-5"}),"Actualizar KPI"]})}),f&&s.jsx(xs,{className:"text-blue-100 mt-1 text-sm",children:f.name})]}),s.jsxs("div",{className:"p-6 space-y-5",children:[f&&s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[s.jsx(xs,{className:"text-xs text-gray-500",children:"Meta"}),s.jsx(by,{className:"text-lg text-blue-600",children:f.target||f.goal||"-"})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[s.jsx(xs,{className:"text-xs text-gray-500",children:"Valor Actual"}),s.jsx(by,{className:"text-lg text-gray-900",children:(g==null?void 0:g.value)||"-"})]})]}),g&&s.jsxs("div",{children:[s.jsxs(Im,{justifyContent:"between",className:"mb-1",children:[s.jsx(xs,{className:"text-xs text-gray-500",children:"Cumplimiento actual"}),s.jsxs(xs,{className:"text-xs font-medium",children:[g.compliancePercentage,"%"]})]}),s.jsx(r7,{value:Math.min(parseFloat(g.compliancePercentage)||0,100),color:w(parseFloat(g.compliancePercentage))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(xs,{className:"text-sm font-medium flex items-center gap-2",children:[s.jsx(ic,{className:"h-4 w-4 text-blue-600"}),"Nuevo Valor"]}),s.jsx(oD,{placeholder:"Ej: 45000, 95.5, etc.",value:a,onChange:j=>o(j.target.value),disabled:u,className:"text-lg"})]}),x!==null&&s.jsx(Vve,{title:`Cumplimiento estimado: ${x.toFixed(1)}%`,icon:x>=100?tc:Oa,color:w(x),children:x>=100?"Este valor cumple con la meta":x>=90?"Cerca de la meta":"Por debajo de la meta"}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[s.jsx(Xa,{className:"h-4 w-4"}),s.jsxs("span",{children:["Perodo: ",s.jsx("strong",{children:XY()})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(xs,{className:"text-sm text-gray-500",children:"Comentarios (opcional)"}),s.jsx(oD,{placeholder:"Notas sobre esta actualizacin...",value:l,onChange:j=>c(j.target.value),disabled:u})]}),s.jsxs(Im,{justifyContent:"end",className:"gap-3 pt-2",children:[s.jsx(XI,{variant:"secondary",onClick:n,disabled:u,children:"Cancelar"}),s.jsx(XI,{onClick:v,disabled:u||!a,loading:u,icon:tc,children:u?"Guardando...":"Actualizar"})]})]})]})})}var jNt=Symbol("radix.slottable");function NNt(e){const t=({children:n})=>s.jsx(s.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=jNt,t}var Kve="AlertDialog",[_Nt]=Xo(Kve,[bce]),Wh=bce(),Gve=e=>{const{__scopeAlertDialog:t,...n}=e,r=Wh(t);return s.jsx(Dce,{...r,...n,modal:!0})};Gve.displayName=Kve;var SNt="AlertDialogTrigger",Yve=b.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=Wh(n);return s.jsx(Rce,{...i,...r,ref:t})});Yve.displayName=SNt;var kNt="AlertDialogPortal",Xve=e=>{const{__scopeAlertDialog:t,...n}=e,r=Wh(t);return s.jsx($ce,{...r,...n})};Xve.displayName=kNt;var CNt="AlertDialogOverlay",Zve=b.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=Wh(n);return s.jsx(y$,{...i,...r,ref:t})});Zve.displayName=CNt;var wy="AlertDialogContent",[ENt,PNt]=_Nt(wy),ANt=NNt("AlertDialogContent"),Qve=b.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...i}=e,a=Wh(n),o=b.useRef(null),l=Fn(t,o),c=b.useRef(null);return s.jsx(Z6e,{contentName:wy,titleName:Jve,docsSlug:"alert-dialog",children:s.jsx(ENt,{scope:n,cancelRef:c,children:s.jsxs(b$,{role:"alertdialog",...a,...i,ref:l,onOpenAutoFocus:_t(i.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[s.jsx(ANt,{children:r}),s.jsx(ONt,{contentRef:o})]})})})});Qve.displayName=wy;var Jve="AlertDialogTitle",exe=b.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=Wh(n);return s.jsx(w$,{...i,...r,ref:t})});exe.displayName=Jve;var txe="AlertDialogDescription",nxe=b.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=Wh(n);return s.jsx(j$,{...i,...r,ref:t})});nxe.displayName=txe;var TNt="AlertDialogAction",rxe=b.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=Wh(n);return s.jsx(kE,{...i,...r,ref:t})});rxe.displayName=TNt;var ixe="AlertDialogCancel",axe=b.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:i}=PNt(ixe,n),a=Wh(n),o=Fn(t,i);return s.jsx(kE,{...a,...r,ref:o})});axe.displayName=ixe;var ONt=({contentRef:e})=>{const t=`\`${wy}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${wy}\` by passing a \`${txe}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${wy}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return b.useEffect(()=>{var r;document.getElementById((r=e.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},LNt=Gve,MNt=Yve,INt=Xve,sxe=Zve,oxe=Qve,lxe=rxe,cxe=axe,uxe=exe,dxe=nxe;const SS=LNt,CO=MNt,DNt=INt,fxe=b.forwardRef(({className:e,...t},n)=>s.jsx(sxe,{className:Fe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));fxe.displayName=sxe.displayName;const iw=b.forwardRef(({className:e,...t},n)=>s.jsxs(DNt,{children:[s.jsx(fxe,{}),s.jsx(oxe,{ref:n,className:Fe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));iw.displayName=oxe.displayName;const aw=({className:e,...t})=>s.jsx("div",{className:Fe("flex flex-col space-y-2 text-center sm:text-left",e),...t});aw.displayName="AlertDialogHeader";const sw=({className:e,...t})=>s.jsx("div",{className:Fe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});sw.displayName="AlertDialogFooter";const ow=b.forwardRef(({className:e,...t},n)=>s.jsx(uxe,{ref:n,className:Fe("text-lg font-semibold",e),...t}));ow.displayName=uxe.displayName;const lw=b.forwardRef(({className:e,...t},n)=>s.jsx(dxe,{ref:n,className:Fe("text-sm text-muted-foreground",e),...t}));lw.displayName=dxe.displayName;const cw=b.forwardRef(({className:e,...t},n)=>s.jsx(lxe,{ref:n,className:Fe($w(),e),...t}));cw.displayName=lxe.displayName;const uw=b.forwardRef(({className:e,...t},n)=>s.jsx(cxe,{ref:n,className:Fe($w({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));uw.displayName=cxe.displayName;const iA=b.forwardRef(({className:e,...t},n)=>s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",{ref:n,className:Fe("w-full caption-bottom text-sm",e),...t})}));iA.displayName="Table";const aA=b.forwardRef(({className:e,...t},n)=>s.jsx("thead",{ref:n,className:Fe("[&_tr]:border-b",e),...t}));aA.displayName="TableHeader";const sA=b.forwardRef(({className:e,...t},n)=>s.jsx("tbody",{ref:n,className:Fe("[&_tr:last-child]:border-0",e),...t}));sA.displayName="TableBody";const RNt=b.forwardRef(({className:e,...t},n)=>s.jsx("tfoot",{ref:n,className:Fe("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));RNt.displayName="TableFooter";const rp=b.forwardRef(({className:e,...t},n)=>s.jsx("tr",{ref:n,className:Fe("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));rp.displayName="TableRow";const Pa=b.forwardRef(({className:e,...t},n)=>s.jsx("th",{ref:n,className:Fe("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Pa.displayName="TableHead";const ji=b.forwardRef(({className:e,...t},n)=>s.jsx("td",{ref:n,className:Fe("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));ji.displayName="TableCell";const $Nt=b.forwardRef(({className:e,...t},n)=>s.jsx("caption",{ref:n,className:Fe("mt-4 text-sm text-muted-foreground",e),...t}));$Nt.displayName="TableCaption";const gx={kpiName:"",area:"",description:"",goal:"",unit:"",frequency:"monthly",responsible:"",calculationMethod:"",source:""},ZY=[{value:"daily",label:"Diario"},{value:"weekly",label:"Semanal"},{value:"monthly",label:"Mensual"},{value:"quarterly",label:"Trimestral"},{value:"yearly",label:"Anual"}],FNt=["%","unidades","KG","das","MXN","USD","horas"];function BNt({companyId:e,onClose:t}){const{toast:n}=zi(),r=Vs(),[i,a]=b.useState(""),[o,l]=b.useState("all"),[c,u]=b.useState(!1),[d,f]=b.useState(null),[m,h]=b.useState(null),[g,y]=b.useState(null),[v,x]=b.useState(gx),[w,j]=b.useState(""),{data:_=[],isLoading:S}=At({queryKey:["/api/kpis",{companyId:e}],queryFn:()=>fetch(`/api/kpis?companyId=${e}`,{headers:{Authorization:`Bearer ${fh()}`}}).then(z=>z.json())}),{data:k=[]}=At({queryKey:["/api/areas"]}),{data:P=[]}=At({queryKey:["/api/users"]}),M=()=>{r.invalidateQueries({queryKey:["/api/kpis"]}),r.invalidateQueries({queryKey:["/api/kpi-values"]}),r.invalidateQueries({queryKey:["/api/collaborators-performance"]})},T=Wn({mutationFn:z=>Dt("POST","/api/kpis",z),onSuccess:()=>{M(),n({title:"KPI creado",description:"El KPI se ha creado correctamente."}),u(!1),x(gx)},onError:z=>{n({title:"Error",description:z.message||"No se pudo crear el KPI",variant:"destructive"})}}),R=Wn({mutationFn:({id:z,data:F})=>Dt("PUT",`/api/kpis/${z}`,F),onSuccess:()=>{M(),n({title:"KPI actualizado",description:"Los cambios se guardaron correctamente."}),f(null),x(gx)},onError:z=>{n({title:"Error",description:z.message||"No se pudo actualizar el KPI",variant:"destructive"})}}),D=Wn({mutationFn:z=>Dt("DELETE",`/api/kpis/${z}?companyId=${e}`),onSuccess:()=>{M(),n({title:"KPI eliminado",description:"El KPI ha sido eliminado."}),h(null)},onError:z=>{n({title:"Error",description:z.message||"No se pudo eliminar el KPI",variant:"destructive"})}}),I=Wn({mutationFn:({id:z,responsible:F})=>Dt("PATCH",`/api/kpis/${z}/transfer`,{responsible:F,companyId:e}),onSuccess:()=>{M(),n({title:"KPI transferido",description:`El KPI se transfiri a ${w}.`}),y(null),j("")},onError:z=>{n({title:"Error",description:z.message||"No se pudo transferir el KPI",variant:"destructive"})}}),B=b.useMemo(()=>{const z=_.map(F=>F.area||F.areaName).filter(F=>!!F&&F.trim()!=="");return Array.from(new Set(z)).sort()},[_]),$=b.useMemo(()=>{const z=_.map(F=>F.responsible).filter(F=>!!F&&F.trim()!=="");return Array.from(new Set(z)).sort()},[_]),K=b.useMemo(()=>_.filter(z=>{const F=(z.kpiName||z.name||"").toLowerCase(),ie=(z.area||"").toLowerCase(),ce=(z.responsible||"").toLowerCase(),te=i.toLowerCase(),oe=!i||F.includes(te)||ie.includes(te)||ce.includes(te),ve=o==="all"||(z.area||"")===o;return oe&&ve}),[_,i,o]);function Y(){x(gx),u(!0)}function Q(z){x({kpiName:z.kpiName||z.name||"",area:z.area||"",description:z.description||"",goal:z.goal||"",unit:z.unit||"",frequency:z.frequency||"monthly",responsible:z.responsible||"",calculationMethod:z.calculationMethod||"",source:z.source||""}),f(z)}function H(){const z={...v,companyId:e};d?R.mutate({id:d.id,data:z}):T.mutate(z)}function G(){!g||!w.trim()||I.mutate({id:g.id,responsible:w.trim()})}const U=e===1?"Dura":"Orsega",ee=v.kpiName.trim()!==""&&v.area.trim()!=="";return s.jsxs(s.Fragment,{children:[s.jsx(zr,{open:!0,onOpenChange:z=>{z||t()},children:s.jsxs(Ir,{className:"sm:max-w-[900px] max-h-[85vh] overflow-y-auto",children:[s.jsxs(Vr,{children:[s.jsxs(qr,{children:["Administrar KPIs - ",U]}),s.jsxs(Rs,{children:[K.length," KPI",K.length!==1?"s":""," encontrados"]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex gap-3 flex-wrap items-center",children:[s.jsxs("div",{className:"relative flex-1 min-w-[200px]",children:[s.jsx(GC,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(gt,{placeholder:"Buscar por nombre, area o responsable...",value:i,onChange:z=>a(z.target.value),className:"pl-9"})]}),s.jsxs(An,{value:o,onValueChange:l,children:[s.jsx(Nn,{className:"w-[180px]",children:s.jsx(Tn,{placeholder:"Filtrar por area"})}),s.jsxs(_n,{children:[s.jsx(at,{value:"all",children:"Todas las areas"}),B.map(z=>s.jsx(at,{value:z,children:z},z))]})]}),s.jsxs(Oe,{onClick:Y,size:"sm",children:[s.jsx(rc,{className:"h-4 w-4 mr-1"}),"Nuevo KPI"]})]}),S?s.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Cargando KPIs..."}):K.length===0?s.jsxs("div",{className:"flex flex-col items-center py-12",children:[s.jsx(ic,{className:"h-12 w-12 text-muted-foreground/30 mb-3"}),s.jsx("p",{className:"text-muted-foreground",children:"No se encontraron KPIs"}),s.jsxs(Oe,{variant:"outline",size:"sm",className:"mt-3",onClick:Y,children:[s.jsx(rc,{className:"h-4 w-4 mr-1"}),"Crear primer KPI"]})]}):s.jsx("div",{className:"overflow-auto border rounded-md",children:s.jsxs(iA,{children:[s.jsx(aA,{children:s.jsxs(rp,{children:[s.jsx(Pa,{className:"w-[30%]",children:"Nombre"}),s.jsx(Pa,{children:"Area"}),s.jsx(Pa,{children:"Meta"}),s.jsx(Pa,{children:"Frecuencia"}),s.jsx(Pa,{children:"Responsable"}),s.jsx(Pa,{className:"text-right",children:"Acciones"})]})}),s.jsx(sA,{children:K.map(z=>{var F;return s.jsxs(rp,{children:[s.jsx(ji,{className:"font-medium",children:z.kpiName||z.name}),s.jsx(ji,{children:s.jsx(Ct,{variant:"outline",className:"text-xs",children:z.area||"Sin area"})}),s.jsx(ji,{children:s.jsxs("span",{className:"text-sm",children:[z.goal||"-"," ",z.unit&&s.jsx("span",{className:"text-muted-foreground",children:z.unit})]})}),s.jsx(ji,{className:"text-sm",children:((F=ZY.find(ie=>ie.value===z.frequency))==null?void 0:F.label)||z.frequency||"-"}),s.jsx(ji,{className:"text-sm",children:z.responsible||s.jsx("span",{className:"text-muted-foreground italic",children:"Sin asignar"})}),s.jsx(ji,{className:"text-right",children:s.jsxs("div",{className:"flex justify-end gap-1",children:[s.jsx(Oe,{variant:"ghost",size:"icon",className:"h-8 w-8",title:"Editar",onClick:()=>Q(z),children:s.jsx(o_e,{className:"h-3.5 w-3.5"})}),s.jsx(Oe,{variant:"ghost",size:"icon",className:"h-8 w-8",title:"Transferir",onClick:()=>{y(z),j(z.responsible||"")},children:s.jsx(HNe,{className:"h-3.5 w-3.5"})}),s.jsx(Oe,{variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive hover:text-destructive",title:"Eliminar",onClick:()=>h(z),children:s.jsx(mh,{className:"h-3.5 w-3.5"})})]})})]},`${z.id}-${z.companyId}`)})})]})})]})]})}),s.jsx(zr,{open:c||!!d,onOpenChange:z=>{z||(u(!1),f(null),x(gx))},children:s.jsxs(Ir,{className:"sm:max-w-[540px] max-h-[85vh] overflow-y-auto",children:[s.jsxs(Vr,{children:[s.jsx(qr,{children:d?"Editar KPI":"Nuevo KPI"}),s.jsx(Rs,{children:d?"Modifica los datos del KPI. Los cambios se aplican inmediatamente.":`Crea un nuevo KPI para ${U}.`})]}),s.jsxs("div",{className:"grid gap-4 py-2",children:[s.jsxs("div",{className:"grid gap-1.5",children:[s.jsx(dt,{htmlFor:"kpiName",children:"Nombre del KPI *"}),s.jsx(gt,{id:"kpiName",placeholder:"Ej: Volumen de Ventas",value:v.kpiName,onChange:z=>x(F=>({...F,kpiName:z.target.value}))})]}),s.jsxs("div",{className:"grid gap-1.5",children:[s.jsx(dt,{htmlFor:"area",children:"Area *"}),s.jsxs(An,{value:v.area,onValueChange:z=>x(F=>({...F,area:z})),children:[s.jsx(Nn,{children:s.jsx(Tn,{placeholder:"Selecciona un area"})}),s.jsxs(_n,{children:[B.map(z=>s.jsx(at,{value:z,children:z},z)),!B.includes("Ventas")&&s.jsx(at,{value:"Ventas",children:"Ventas"}),!B.includes("Logstica")&&s.jsx(at,{value:"Logstica",children:"Logstica"}),!B.includes("Tesorera")&&s.jsx(at,{value:"Tesorera",children:"Tesorera"}),!B.includes("Calidad")&&s.jsx(at,{value:"Calidad",children:"Calidad"}),!B.includes("Bodega/Inventario")&&s.jsx(at,{value:"Bodega/Inventario",children:"Bodega/Inventario"}),!B.includes("Compras")&&s.jsx(at,{value:"Compras",children:"Compras"}),!B.includes("Direccin")&&s.jsx(at,{value:"Direccin",children:"Direccin"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{className:"grid gap-1.5",children:[s.jsx(dt,{htmlFor:"goal",children:"Meta"}),s.jsx(gt,{id:"goal",placeholder:"Ej: 55000",value:v.goal,onChange:z=>x(F=>({...F,goal:z.target.value}))})]}),s.jsxs("div",{className:"grid gap-1.5",children:[s.jsx(dt,{htmlFor:"unit",children:"Unidad"}),s.jsxs(An,{value:v.unit,onValueChange:z=>x(F=>({...F,unit:z})),children:[s.jsx(Nn,{children:s.jsx(Tn,{placeholder:"Unidad"})}),s.jsx(_n,{children:FNt.map(z=>s.jsx(at,{value:z,children:z},z))})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{className:"grid gap-1.5",children:[s.jsx(dt,{htmlFor:"frequency",children:"Frecuencia"}),s.jsxs(An,{value:v.frequency,onValueChange:z=>x(F=>({...F,frequency:z})),children:[s.jsx(Nn,{children:s.jsx(Tn,{})}),s.jsx(_n,{children:ZY.map(z=>s.jsx(at,{value:z.value,children:z.label},z.value))})]})]}),s.jsxs("div",{className:"grid gap-1.5",children:[s.jsx(dt,{htmlFor:"responsible",children:"Responsable"}),s.jsxs(An,{value:v.responsible,onValueChange:z=>x(F=>({...F,responsible:z})),children:[s.jsx(Nn,{children:s.jsx(Tn,{placeholder:"Seleccionar"})}),s.jsxs(_n,{children:[P.map(z=>s.jsx(at,{value:z.name,children:z.name},z.id)),P.length===0&&$.map(z=>s.jsx(at,{value:z,children:z},z))]})]})]})]}),s.jsxs("div",{className:"grid gap-1.5",children:[s.jsx(dt,{htmlFor:"description",children:"Descripcion"}),s.jsx(nu,{id:"description",placeholder:"Descripcion breve del KPI...",value:v.description,onChange:z=>x(F=>({...F,description:z.target.value})),rows:2})]}),s.jsxs("div",{className:"grid gap-1.5",children:[s.jsx(dt,{htmlFor:"calculationMethod",children:"Metodo de calculo"}),s.jsx(gt,{id:"calculationMethod",placeholder:"Ej: (Unidades vendidas / Meta) x 100",value:v.calculationMethod,onChange:z=>x(F=>({...F,calculationMethod:z.target.value}))})]}),s.jsxs("div",{className:"grid gap-1.5",children:[s.jsx(dt,{htmlFor:"source",children:"Fuente de datos"}),s.jsx(gt,{id:"source",placeholder:"Ej: Excel IDRALL, Manual, Sistema",value:v.source,onChange:z=>x(F=>({...F,source:z.target.value}))})]})]}),s.jsxs(pc,{children:[s.jsx(Oe,{variant:"outline",onClick:()=>{u(!1),f(null),x(gx)},children:"Cancelar"}),s.jsx(Oe,{onClick:H,disabled:!ee||T.isPending||R.isPending,children:T.isPending||R.isPending?"Guardando...":d?"Guardar cambios":"Crear KPI"})]})]})}),s.jsx(SS,{open:!!m,onOpenChange:z=>{z||h(null)},children:s.jsxs(iw,{children:[s.jsxs(aw,{children:[s.jsx(ow,{children:"Eliminar KPI"}),s.jsxs(lw,{children:["Estas seguro de eliminar el KPI ",s.jsxs("strong",{children:['"',(m==null?void 0:m.kpiName)||(m==null?void 0:m.name),'"']}),"? Esta accion no se puede deshacer y se eliminaran todos los valores historicos asociados."]})]}),s.jsxs(sw,{children:[s.jsx(uw,{children:"Cancelar"}),s.jsx(cw,{className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",onClick:()=>m&&D.mutate(m.id),disabled:D.isPending,children:D.isPending?"Eliminando...":"Eliminar"})]})]})}),s.jsx(zr,{open:!!g,onOpenChange:z=>{z||(y(null),j(""))},children:s.jsxs(Ir,{className:"sm:max-w-[400px]",children:[s.jsxs(Vr,{children:[s.jsx(qr,{children:"Transferir KPI"}),s.jsxs(Rs,{children:["Transfiere ",s.jsxs("strong",{children:['"',(g==null?void 0:g.kpiName)||(g==null?void 0:g.name),'"']})," a otro responsable."]})]}),s.jsxs("div",{className:"grid gap-4 py-2",children:[s.jsxs("div",{className:"grid gap-1.5",children:[s.jsx(dt,{children:"Responsable actual"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:(g==null?void 0:g.responsible)||"Sin asignar"})]}),s.jsxs("div",{className:"grid gap-1.5",children:[s.jsx(dt,{htmlFor:"transferTo",children:"Nuevo responsable"}),s.jsxs(An,{value:w,onValueChange:j,children:[s.jsx(Nn,{children:s.jsx(Tn,{placeholder:"Seleccionar persona"})}),s.jsxs(_n,{children:[P.map(z=>s.jsx(at,{value:z.name,children:z.name},z.id)),P.length===0&&$.map(z=>s.jsx(at,{value:z,children:z},z))]})]})]})]}),s.jsxs(pc,{children:[s.jsx(Oe,{variant:"outline",onClick:()=>{y(null),j("")},children:"Cancelar"}),s.jsx(Oe,{onClick:G,disabled:!w.trim()||I.isPending,children:I.isPending?"Transfiriendo...":"Transferir"})]})]})})]})}function zNt(){zi(),Vs();const{user:e,isAdmin:t,isMarioOrAdmin:n}=ud();Yo();const[r,i]=b.useState(2),[a,o]=b.useState(null),[l,c]=b.useState(!1),[u,d]=b.useState("all"),[f,m]=b.useState("all"),[h,g]=b.useState("all"),[y,v]=b.useState("dashboard"),[x,w]=b.useState(null),[j,_]=b.useState(12),[S,k]=b.useState(!1),[P,M]=b.useState(!1),[T,R]=b.useState(!1),{data:D,isLoading:I}=At({queryKey:["/api/companies"],staleTime:5*60*1e3}),{data:B}=At({queryKey:["/api/areas"],staleTime:5*60*1e3}),{data:$=[],isLoading:K}=At({queryKey:["/api/kpis",{companyId:r||null}],staleTime:2*60*1e3,refetchInterval:3e4}),{data:Y=[],isSuccess:Q}=At({queryKey:["/api/kpi-values",{companyId:r||null}],staleTime:1*60*1e3,refetchInterval:15e3}),{data:H,isLoading:G,error:U}=At({queryKey:["/api/collaborators-performance",{companyId:r||null}],staleTime:2*60*1e3,refetchInterval:3e4,enabled:!!e,retry:1,retryDelay:1e3,refetchOnWindowFocus:!1}),ee=(H==null?void 0:H.collaborators)||[],z=H?{average:H.teamAverage,trend:H.teamTrend,trendDirection:H.teamTrendDirection,trendPeriod:H.teamTrendPeriod}:null,{data:F=[],isLoading:ie}=At({queryKey:["/api/users"],staleTime:10*60*1e3,enabled:!!e});b.useEffect(()=>{var X;if(!D||D.length===0)return;if(t){i(null),localStorage.removeItem("selectedCompanyId");return}localStorage.removeItem("selectedCompanyId"),D.find(Ae=>Ae.id===2)?(i(2),localStorage.setItem("selectedCompanyId","2")):i(((X=D[0])==null?void 0:X.id)||1)},[D,t]);const ce=ae=>{if(ae==="all")i(null),localStorage.removeItem("selectedCompanyId");else{const X=parseInt(ae);i(X),localStorage.setItem("selectedCompanyId",X.toString())}};b.useMemo(()=>!(e!=null&&e.areaId)||!B?null:B.find(ae=>ae.id===e.areaId),[e,B]);const te=b.useMemo(()=>!r||!D?null:D.find(ae=>ae.id===r),[r,D]),oe=b.useMemo(()=>!$||!Y||!B?[]:$.map(ae=>{var Ce,Xe;const X=ae.id,Ae=ae.kpiName||ae.name,qe=Y.filter(He=>He.kpiId===X);if(!qe||qe.length===0)return{...ae,value:null,status:"not_compliant",visualStatus:"critical",compliancePercentage:0,date:null,comments:"No hay valores registrados",historicalData:[]};const tt=qe.sort((He,we)=>new Date(we.date).getTime()-new Date(He.date).getTime())[0],ze=qe.sort((He,we)=>new Date(He.date).getTime()-new Date(we.date).getTime()).map(He=>{var we;return{value:parseFloat(((we=He.value)==null?void 0:we.toString())||"0"),recordedAt:He.date||new Date().toISOString(),period:He.period||""}}),lt=ae.area||"Sin rea",me=parseFloat(((Ce=tt.compliancePercentage)==null?void 0:Ce.toString().replace("%",""))||"0");let _e="critical";return me>=100?_e="excellent":me>=95?_e="good":me>=90?_e="warning":_e="critical",{...ae,id:X,name:Ae,value:parseFloat(((Xe=tt.value)==null?void 0:Xe.toString())||"0"),status:tt.status,visualStatus:_e,compliancePercentage:me,date:tt.date,comments:tt.comments||void 0,period:tt.period,historicalData:ze,areaName:lt,responsible:ae.responsible,company:ae.company||(r===2?"Orsega":r===1?"Dura":void 0)}}),[$,Y,B,r]),ve=b.useMemo(()=>{if(!oe)return[];const ae=oe.map(X=>X.responsible).filter(X=>!!X&&X.trim()!=="");return Array.from(new Set(ae)).sort()},[oe]);b.useMemo(()=>{if(!oe)return[];const ae=oe.map(X=>X.company).filter(X=>!!X&&X.trim()!=="");return Array.from(new Set(ae)).sort()},[oe]);const ne=b.useMemo(()=>{let ae=oe;return u!=="all"&&(ae=ae.filter(X=>X.status===u)),f!=="all"&&(ae=ae.filter(X=>X.responsible===f)),h!=="all"&&(ae=ae.filter(X=>X.company===h)),ae},[oe,u,f,h]),xe=b.useMemo(()=>{const ae={total:oe.length,complies:0,alert:0,not_compliant:0};return oe.forEach(X=>{X.status==="complies"?ae.complies++:X.status==="alert"?ae.alert++:X.status==="not_compliant"&&ae.not_compliant++}),ae},[oe]);b.useMemo(()=>!B||!ne||B.length===0||ne.length===0?[]:B.map(X=>{const Ae=ne.filter(lt=>lt.areaId===X.id),qe=Ae.filter(lt=>lt.status==="complies").length,tt=Ae.length,ze=tt>0?Math.round(qe/tt*100):0;return{area_id:X.id,area_name:X.name,compliant_kpis:qe,total_kpis:tt,compliance_percentage:ze}}).filter(X=>X.total_kpis>0).sort((X,Ae)=>Ae.compliance_percentage-X.compliance_percentage),[B,ne]);const ue=b.useMemo(()=>ne?[...ne].sort((ae,X)=>{const Ae=ae.date?new Date(ae.date).getTime():0;return(X.date?new Date(X.date).getTime():0)-Ae}):[],[ne]),re=b.useMemo(()=>S?ue:ue.slice(0,6),[ue,S]);b.useMemo(()=>{if(!oe)return[];const ae=oe.filter(qe=>parseFloat(qe.compliancePercentage||"0")>=90).length,X=oe.filter(qe=>{const tt=parseFloat(qe.compliancePercentage||"0");return tt>=70&&tt<90}).length,Ae=oe.filter(qe=>parseFloat(qe.compliancePercentage||"0")<70).length;return[{name:"Excelente (90%+)",value:ae,color:"#10b981"},{name:"Bueno (70-89%)",value:X,color:"#f59e0b"},{name:"Mejorar (<70%)",value:Ae,color:"#ef4444"}].filter(qe=>qe.value>0)},[oe]);const Se=ae=>{o(ae),c(!0)};return I||K?s.jsx(Ro,{title:"Centro de Control",children:s.jsxs("div",{className:"flex items-center justify-center h-64",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),s.jsx("span",{className:"ml-2 text-gray-600",children:"Cargando centro de control..."})]})}):s.jsx(Ro,{title:"Centro de Control KPIs",children:s.jsxs("div",{className:"space-y-8",children:[s.jsx("div",{className:"space-y-6",children:s.jsxs(Ue,{children:[s.jsx(Vt,{children:s.jsxs("div",{className:"flex flex-col gap-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(an,{className:"flex items-center gap-2",children:[s.jsx(ry,{className:"h-5 w-5"})," KPIs Actualizados Recientemente",s.jsx(Ct,{variant:"outline",className:"ml-2",children:y==="dashboard"?`${(ee==null?void 0:ee.length)||0} colaboradores`:`${re.length} de ${ue.length} KPIs`})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(Oe,{variant:y==="dashboard"?"default":"outline",size:"sm",onClick:()=>v("dashboard"),className:"flex items-center gap-2",children:[s.jsx(Ua,{className:"h-4 w-4"}),"Dashboard"]}),s.jsxs(Oe,{variant:y==="kpis"?"default":"outline",size:"sm",onClick:()=>v("kpis"),className:"flex items-center gap-2",children:[s.jsx(ic,{className:"h-4 w-4"}),"Tarjetas KPI"]}),n&&s.jsxs(Oe,{variant:"outline",size:"sm",onClick:()=>R(!0),className:"flex items-center gap-2 ml-2 border-amber-300 text-amber-700 hover:bg-amber-50",children:[s.jsx(r5,{className:"h-4 w-4"}),"Administrar KPIs"]})]})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-3 pb-2 border-b",children:[s.jsxs(An,{value:f,onValueChange:m,children:[s.jsx(Nn,{className:"w-[180px]",children:s.jsx(Tn,{placeholder:"Filtrar por colaborador"})}),s.jsxs(_n,{children:[s.jsx(at,{value:"all",children:" Todos los colaboradores"}),ve.map(ae=>s.jsx(at,{value:ae,children:ae},ae))]})]}),s.jsxs(An,{value:u,onValueChange:d,children:[s.jsx(Nn,{className:"w-[160px]",children:s.jsx(Tn,{placeholder:"Estado"})}),s.jsxs(_n,{children:[s.jsx(at,{value:"all",children:"Todos los Estados"}),s.jsx(at,{value:"complies",children:" Cumpliendo"}),s.jsx(at,{value:"alert",children:" En Alerta"}),s.jsx(at,{value:"not_compliant",children:" No Cumpliendo"})]})]}),(f!=="all"||u!=="all")&&s.jsxs(Oe,{variant:"ghost",size:"sm",onClick:()=>{m("all"),d("all")},className:"text-gray-500 hover:text-gray-700",children:[s.jsx(QNe,{className:"h-4 w-4 mr-1"}),"Limpiar"]}),f!=="all"&&s.jsxs(Ct,{variant:"secondary",className:"text-xs",children:["Filtrando: ",f]})]}),s.jsxs("div",{className:"flex items-center gap-4 pb-2 border-b",children:[s.jsx(Dw,{className:"h-5 w-5 text-blue-600 flex-shrink-0"}),s.jsxs(An,{value:(r==null?void 0:r.toString())||"all",onValueChange:ce,children:[s.jsx(Nn,{className:"w-full max-w-xs",children:s.jsx(Tn,{placeholder:"Selecciona una empresa"})}),s.jsxs(_n,{children:[t&&s.jsx(at,{value:"all",children:"Todas las empresas"}),D==null?void 0:D.map(ae=>s.jsx(at,{value:ae.id.toString(),children:ae.name},ae.id))]})]}),te?s.jsxs("span",{className:"text-sm text-gray-600",children:["Monitoreando: ",s.jsx("span",{className:"font-semibold text-blue-600",children:te.name})]}):t&&!r&&s.jsxs("span",{className:"text-sm text-gray-600",children:["Monitoreando: ",s.jsx("span",{className:"font-semibold text-purple-600",children:"Todas las empresas"})]})]}),y==="kpis"&&ue.length>6&&s.jsxs(Oe,{variant:"outline",size:"sm",onClick:()=>k(!S),className:"flex items-center gap-2 hover:bg-blue-50 dark:hover:bg-blue-900/20",children:[S?"Ver menos":`Ver todos (${ue.length})`,s.jsx(hh,{className:"h-4 w-4"})]})]})}),s.jsxs(We,{children:[y==="dashboard"&&s.jsxs(s.Fragment,{children:[G&&s.jsxs("div",{className:"text-center py-8",children:[s.jsx(hh,{className:"h-8 w-8 mx-auto mb-4 text-gray-300 animate-spin"}),s.jsx("p",{className:"text-gray-500",children:"Cargando dashboard..."})]}),!G&&ee&&s.jsx(bNt,{collaborators:ee.map(ae=>({name:ae.name,score:ae.score,status:ae.status,averageCompliance:ae.averageCompliance,compliantKpis:ae.compliantKpis,alertKpis:ae.alertKpis,notCompliantKpis:ae.notCompliantKpis,totalKpis:ae.totalKpis,lastUpdate:ae.lastUpdate,scoreChange:ae.scoreChange,trendDirection:ae.trendDirection,kpis:ae.kpis.map(X=>({id:X.id,name:X.name||X.kpiName||"KPI",compliance:X.compliance,complianceChange:X.complianceChange,trendDirection:X.trendDirection,status:X.status,target:X.target,unit:X.unit,latestValue:X.latestValue}))})),metrics:{totalKpis:xe.total,compliantKpis:xe.complies,alertKpis:xe.alert,criticalKpis:xe.not_compliant,averageCompliance:oe.length>0?oe.reduce((ae,X)=>ae+(X.compliancePercentage||0),0)/oe.length:0,previousAverageCompliance:z!=null&&z.trend?z.average-z.trend:void 0},onViewKpiDetails:Se,onUpdateKpi:Se,title:`KPIs ${(te==null?void 0:te.name)||""}`,subtitle:`Monitoreo de indicadores - ${f==="all"?`${ee.length} colaboradores`:f}`,selectedCollaborator:f,statusFilter:u})]}),y==="kpis"&&s.jsxs(s.Fragment,{children:[K&&s.jsxs("div",{className:"text-center py-8",children:[s.jsx(hh,{className:"h-8 w-8 mx-auto mb-4 text-gray-300 animate-spin"}),s.jsx("p",{className:"text-gray-500",children:"Cargando KPIs..."})]}),!K&&re.length===0&&s.jsxs("div",{className:"text-center py-8",children:[s.jsx(ic,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),s.jsx("p",{className:"text-gray-500",children:"No hay KPIs para mostrar"}),s.jsx("p",{className:"text-sm text-gray-400 mt-2",children:oe.length===0?"No se encontraron KPIs para esta empresa":"No hay KPIs que coincidan con los filtros seleccionados"})]}),!K&&re.length>0&&s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:re.map((ae,X)=>s.jsx(Ggt,{kpi:{id:ae.id,name:ae.name,value:ae.value,target:ae.target,unit:ae.unit,compliancePercentage:ae.compliancePercentage,status:ae.visualStatus||"warning",areaName:ae.areaName,responsible:ae.responsible,historicalData:ae.historicalData,company:ae.company||(r===2?"Orsega":r===1?"Dura":void 0)},onClick:()=>Se(ae.id),delay:X*.05},ae.id))})]})]})]})}),T&&n&&s.jsx(BNt,{companyId:r||2,onClose:()=>R(!1)}),s.jsx(wNt,{kpiId:a||0,isOpen:l,onClose:()=>{c(!1),o(null)}})]})})}function QY(){var ce,te,oe,ve;const{toast:e}=zi(),t=Vs(),[n,r]=b.useState(!1),[i,a]=b.useState(!1),[o,l]=b.useState(!1),[c,u]=b.useState(null),[d,f]=b.useState(null),[m,h]=b.useState(null),[g,y]=b.useState("all"),[v,x]=b.useState("all"),{data:w=[],isLoading:j}=At({queryKey:["/api/users"]}),{data:_=[],isLoading:S}=At({queryKey:["/api/companies"]}),{data:k=[],isLoading:P}=At({queryKey:["/api/areas"]}),{data:M=[],isLoading:T}=At({queryKey:["/api/kpis"]}),{data:R=[]}=At({queryKey:["/api/kpi-values"]}),D=Wn({mutationFn:ne=>Dt("POST","/api/users",ne),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/users"]}),r(!1),u(null),e({title:"Usuario creado exitosamente"})},onError:ne=>{e({title:"Error al crear usuario",description:ne.message,variant:"destructive"})}}),I=Wn({mutationFn:({id:ne,...xe})=>Dt("PUT",`/api/users/${ne}`,xe),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/users"]}),r(!1),u(null),e({title:"Usuario actualizado exitosamente"})},onError:ne=>{e({title:"Error al actualizar usuario",description:ne.message,variant:"destructive"})}}),B=Wn({mutationFn:ne=>Dt("DELETE",`/api/users/${ne}`),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/users"]}),e({title:"Usuario eliminado exitosamente"})},onError:ne=>{e({title:"Error al eliminar usuario",description:ne.message,variant:"destructive"})}}),$=Wn({mutationFn:ne=>Dt("POST","/api/kpis",ne),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/kpis"]}),a(!1),f(null),e({title:"KPI creado exitosamente"})},onError:ne=>{e({title:"Error al crear KPI",description:ne.message,variant:"destructive"})}}),K=Wn({mutationFn:({id:ne,...xe})=>Dt("PUT",`/api/kpis/${ne}`,xe),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/kpis"]}),a(!1),f(null),e({title:"KPI actualizado exitosamente"})},onError:ne=>{e({title:"Error al actualizar KPI",description:ne.message,variant:"destructive"})}});Wn({mutationFn:ne=>Dt("DELETE",`/api/kpis/${ne}`),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/kpis"]}),e({title:"KPI eliminado exitosamente"})},onError:ne=>{e({title:"Error al eliminar KPI",description:ne.message,variant:"destructive"})}});const Y=Wn({mutationFn:ne=>Dt("DELETE",`/api/user-kpis/${ne}`),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/kpis"]}),t.invalidateQueries({queryKey:["/api/kpi-values"]}),e({title:"KPI eliminado del usuario exitosamente"})},onError:ne=>{e({title:"Error al eliminar KPI del usuario",description:ne.message,variant:"destructive"})}}),Q=Wn({mutationFn:()=>Dt("POST","/api/admin/seed-fx-rates",{}),onSuccess:ne=>{t.invalidateQueries({queryKey:["/api/treasury/exchange-rates"]}),e({title:" Importacin exitosa",description:`${ne.imported} tipos de cambio nuevos importados de Banxico (${ne.skipped} ya existan)`})},onError:ne=>{e({title:" Error al importar datos",description:ne.message,variant:"destructive"})}}),H=ne=>{ne.preventDefault();const xe=new FormData(ne.target),ue={name:xe.get("name"),email:xe.get("email"),password:xe.get("password"),role:xe.get("role"),companyId:xe.get("companyId")==="none"?null:parseInt(xe.get("companyId")),areaId:xe.get("areaId")==="none"?null:parseInt(xe.get("areaId"))};c?I.mutate({id:c.id,...ue}):D.mutate(ue)},G=ne=>{ne.preventDefault();const xe=new FormData(ne.target),ue=xe.get("objective"),re={name:xe.get("name"),description:xe.get("description"),unit:xe.get("unit"),companyId:parseInt(xe.get("companyId")),areaId:parseInt(xe.get("areaId")),goal:ue,target:ue,frequency:xe.get("frequency")};d?K.mutate({id:d.id,...re}):$.mutate(re)},U=g==="all"?k:k.filter(ne=>ne.companyId===parseInt(g));M.filter(ne=>{const xe=g==="all"||ne.companyId===parseInt(g),ue=v==="all"||ne.areaId===parseInt(v);return xe&&ue});const ee=ne=>{const xe=_.find(ue=>ue.id===ne);return(xe==null?void 0:xe.name)||"Sin empresa"},z=ne=>{const xe=k.find(ue=>ue.id===ne);return(xe==null?void 0:xe.name)||"Sin rea"},F=ne=>{switch(ne){case"admin":return"bg-red-500";case"manager":return"bg-blue-500";case"collaborator":return"bg-green-500";case"viewer":return"bg-gray-500";default:return"bg-gray-500"}},ie=ne=>w.find(ue=>ue.id===ne)?M||[]:[];return T||S||P||j?s.jsx(Ro,{title:"Administracin del Sistema",children:s.jsx("div",{className:"flex items-center justify-center h-96",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Cargando administracin del sistema..."})]})})}):s.jsx(Ro,{title:"Administracin del Sistema",children:s.jsxs("div",{className:"container mx-auto p-6 max-w-7xl",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx(Fi,{className:"h-8 w-8 text-blue-600"}),s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Gestin del Equipo"})]}),s.jsxs(Ue,{className:"mb-6 bg-gradient-to-r from-blue-50 to-indigo-50 border-blue-200",children:[s.jsx(Vt,{children:s.jsxs(an,{className:"flex items-center gap-2 text-blue-900",children:[s.jsx(r5,{className:"h-5 w-5"}),"Herramientas de Administracin"]})}),s.jsx(We,{children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs(SS,{children:[s.jsx(CO,{asChild:!0,children:s.jsx(Oe,{variant:"outline",className:"border-blue-300 hover:bg-blue-100",disabled:Q.isPending,"data-testid":"button-seed-fx-rates",children:Q.isPending?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600 mr-2"}),"Importando..."]}):s.jsxs(s.Fragment,{children:[s.jsx(op,{className:"h-4 w-4 mr-2"}),"Importar Tipos de Cambio (Banxico)"]})})}),s.jsxs(iw,{children:[s.jsxs(aw,{children:[s.jsx(ow,{children:"Importar Tipos de Cambio de Banxico"}),s.jsxs(lw,{children:["Esta accin importar los tipos de cambio histricos (Sept-Oct 2025) desde la API de Banxico a la base de datos de produccin.",s.jsx("br",{}),s.jsx("br",{})," Los registros que ya existan no se duplicarn",s.jsx("br",{})," El proceso puede tardar ~30 segundos",s.jsx("br",{})," Solo se importan datos que no estn en la base de datos"]})]}),s.jsxs(sw,{children:[s.jsx(uw,{children:"Cancelar"}),s.jsx(cw,{onClick:()=>Q.mutate(),className:"bg-blue-600 hover:bg-blue-700",children:"Confirmar Importacin"})]})]})]}),s.jsx("p",{className:"text-sm text-gray-600",children:"Importa datos histricos de tipos de cambio desde Banco de Mxico"})]})})]}),s.jsx("div",{className:"w-full",children:s.jsxs(Ue,{children:[s.jsx(Vt,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs(an,{className:"flex items-center gap-2",children:[s.jsx(Fi,{className:"h-5 w-5"}),"Gestin del Equipo"]}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Administra usuarios, roles y permisos del sistema"})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs(zr,{open:n,onOpenChange:r,children:[s.jsx(Fce,{asChild:!0,children:s.jsxs(Oe,{onClick:()=>u(null),children:[s.jsx(YC,{className:"h-4 w-4 mr-2"}),"Nuevo Usuario"]})}),s.jsxs(Ir,{className:"max-w-2xl",children:[s.jsx(Vr,{children:s.jsx(qr,{children:c?"Editar Usuario":"Crear Nuevo Usuario"})}),s.jsxs("form",{onSubmit:H,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(dt,{htmlFor:"name",children:"Nombre Completo"}),s.jsx(gt,{id:"name",name:"name",defaultValue:(c==null?void 0:c.name)||"",required:!0})]}),s.jsxs("div",{children:[s.jsx(dt,{htmlFor:"email",children:"Email"}),s.jsx(gt,{id:"email",name:"email",type:"email",defaultValue:(c==null?void 0:c.email)||"",required:!0})]})]}),s.jsxs("div",{children:[s.jsx(dt,{htmlFor:"password",children:c?"Nueva Contrasea (dejar vaco para no cambiar)":"Contrasea"}),s.jsx(gt,{id:"password",name:"password",type:"password",required:!c})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(dt,{htmlFor:"role",children:"Rol"}),s.jsxs(An,{name:"role",defaultValue:(c==null?void 0:c.role)||"",required:!0,children:[s.jsx(Nn,{children:s.jsx(Tn,{placeholder:"Seleccionar rol"})}),s.jsxs(_n,{children:[s.jsx(at,{value:"admin",children:"Administrador"}),s.jsx(at,{value:"manager",children:"Gerente"}),s.jsx(at,{value:"collaborator",children:"Colaborador"}),s.jsx(at,{value:"viewer",children:"Observador"})]})]})]}),s.jsxs("div",{children:[s.jsx(dt,{htmlFor:"companyId",children:"Empresa"}),s.jsxs(An,{name:"companyId",defaultValue:((ce=c==null?void 0:c.companyId)==null?void 0:ce.toString())||"none",required:!0,children:[s.jsx(Nn,{children:s.jsx(Tn,{placeholder:"Seleccionar empresa"})}),s.jsxs(_n,{children:[s.jsx(at,{value:"none",children:"Sin empresa"}),_.map(ne=>s.jsx(at,{value:ne.id.toString(),children:ne.name},ne.id))]})]})]}),s.jsxs("div",{children:[s.jsx(dt,{htmlFor:"areaId",children:"rea"}),s.jsxs(An,{name:"areaId",defaultValue:((te=c==null?void 0:c.areaId)==null?void 0:te.toString())||"none",required:!0,children:[s.jsx(Nn,{children:s.jsx(Tn,{placeholder:"Seleccionar rea"})}),s.jsxs(_n,{children:[s.jsx(at,{value:"none",children:"Sin rea"}),k.map(ne=>s.jsx(at,{value:ne.id.toString(),children:ne.name},ne.id))]})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(Oe,{type:"button",variant:"outline",onClick:()=>r(!1),children:"Cancelar"}),s.jsxs(Oe,{type:"submit",disabled:D.isPending||I.isPending,children:[c?"Actualizar":"Crear"," Usuario"]})]})]})]})]})})]})}),s.jsx(We,{children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:w.map(ne=>s.jsx(Ue,{className:"group hover:shadow-lg transition-shadow duration-200 border-0 shadow-sm bg-gradient-to-br from-white to-gray-50",children:s.jsxs(We,{className:"p-6",children:[s.jsx("div",{className:"flex items-start justify-between mb-4",children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-blue-600 rounded-full flex items-center justify-center text-white font-bold text-lg",children:ne.name.split(" ").map(xe=>xe[0]).join("").toUpperCase()}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg text-gray-900",children:ne.name}),s.jsx(Ct,{className:`${F(ne.role)} text-white text-xs`,children:ne.role==="admin"?"Administrador":ne.role==="manager"?"Gerente":ne.role==="collaborator"?"Colaborador":"Observador"})]})]}),s.jsxs("div",{className:"space-y-2 mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[s.jsx(op,{className:"h-4 w-4 text-gray-400"}),s.jsx("span",{className:"truncate",children:ne.email})]}),ne.companyId&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[s.jsx(Dw,{className:"h-4 w-4 text-gray-400"}),s.jsx("span",{className:"truncate",children:ee(ne.companyId)})]}),ne.areaId&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[s.jsx(r5,{className:"h-4 w-4 text-gray-400"}),s.jsx("span",{className:"truncate",children:z(ne.areaId)})]})]})]})}),s.jsx("div",{className:"space-y-2 pt-4 border-t border-gray-100",children:s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsxs(Oe,{variant:"ghost",size:"sm",className:"flex-1 hover:bg-blue-50 hover:text-blue-600",onClick:()=>{h(ne),l(!0)},children:[s.jsx(Ua,{className:"h-4 w-4 mr-2"}),"Ver KPIs (",ie(ne.id).length,")"]}),s.jsx(Oe,{variant:"ghost",size:"sm",className:"hover:bg-green-50 hover:text-green-600",onClick:()=>{u(ne),r(!0)},children:s.jsx(a5,{className:"h-4 w-4"})}),s.jsxs(SS,{children:[s.jsx(CO,{asChild:!0,children:s.jsx(Oe,{variant:"ghost",size:"sm",className:"hover:bg-red-50 hover:text-red-600",children:s.jsx(mh,{className:"h-4 w-4"})})}),s.jsxs(iw,{children:[s.jsxs(aw,{children:[s.jsx(ow,{children:"Eliminar Usuario?"}),s.jsxs(lw,{children:['Esta accin no se puede deshacer. Se eliminar permanentemente el usuario "',ne.name,'" y todos sus datos asociados.']})]}),s.jsxs(sw,{children:[s.jsx(uw,{children:"Cancelar"}),s.jsx(cw,{onClick:()=>B.mutate(ne.id),className:"bg-red-500 hover:bg-red-600",children:"Eliminar"})]})]})]})]})})]})},ne.id))})})]})}),s.jsx(zr,{open:o,onOpenChange:l,children:s.jsxs(Ir,{className:"max-w-6xl max-h-[80vh] overflow-y-auto",children:[s.jsx(Vr,{children:s.jsxs(qr,{className:"flex items-center gap-2",children:[s.jsx(Ua,{className:"h-5 w-5"}),"KPIs de ",m==null?void 0:m.name]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs(Oe,{onClick:()=>{f(null),a(!0)},className:"flex items-center gap-2",children:[s.jsx(rc,{className:"h-4 w-4"}),"Nuevo KPI"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(dt,{htmlFor:"company-filter",children:"Empresa:"}),s.jsxs(An,{value:g,onValueChange:y,children:[s.jsx(Nn,{className:"w-40",children:s.jsx(Tn,{})}),s.jsxs(_n,{children:[s.jsx(at,{value:"all",children:"Todas"}),_.map(ne=>s.jsx(at,{value:ne.id.toString(),children:ne.name},ne.id))]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(dt,{htmlFor:"area-filter",children:"rea:"}),s.jsxs(An,{value:v,onValueChange:x,children:[s.jsx(Nn,{className:"w-40",children:s.jsx(Tn,{})}),s.jsxs(_n,{children:[s.jsx(at,{value:"all",children:"Todas"}),U.map(ne=>s.jsx(at,{value:ne.id.toString(),children:ne.name},ne.id))]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[ie(m==null?void 0:m.id).map(ne=>s.jsx(Ue,{className:"group",children:s.jsx(We,{className:"p-4",children:s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-medium text-sm mb-1",children:ne.name}),s.jsxs("div",{className:"text-xs text-gray-500 space-y-1",children:[s.jsx("span",{className:"block",children:ee(ne.companyId)}),s.jsx("span",{className:"block",children:z(ne.areaId)}),s.jsxs("span",{className:"block",children:["Objetivo mensual: ",ne.goal||ne.objective||"No definido"]}),s.jsxs("span",{className:"block",children:["Frecuencia: ",ne.frequency]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Oe,{variant:"ghost",size:"sm",onClick:()=>{f(ne),a(!0)},children:s.jsx(a5,{className:"h-4 w-4"})}),s.jsxs(SS,{children:[s.jsx(CO,{asChild:!0,children:s.jsx(Oe,{variant:"ghost",size:"sm",children:s.jsx(mh,{className:"h-4 w-4"})})}),s.jsxs(iw,{children:[s.jsxs(aw,{children:[s.jsx(ow,{children:"Eliminar KPI?"}),s.jsxs(lw,{children:['Esta accin no se puede deshacer. Se eliminar permanentemente el KPI "',ne.name,'" y todos sus datos asociados.']})]}),s.jsxs(sw,{children:[s.jsx(uw,{children:"Cancelar"}),s.jsx(cw,{onClick:()=>Y.mutate(ne.id),className:"bg-red-500 hover:bg-red-600",children:"Eliminar"})]})]})]})]})]})})},ne.id)),m&&ie(m.id).length===0&&s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(Ua,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),s.jsx("p",{children:"No hay KPIs asignados a este usuario"}),s.jsx("p",{className:"text-sm",children:'Haz clic en "Nuevo KPI" para agregar uno'})]})]})]})]})}),s.jsx(zr,{open:i,onOpenChange:a,children:s.jsxs(Ir,{className:"max-w-2xl",children:[s.jsx(Vr,{children:s.jsx(qr,{children:d?"Editar KPI":"Crear Nuevo KPI"})}),s.jsxs("form",{onSubmit:G,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(dt,{htmlFor:"name",children:"Nombre del KPI"}),s.jsx(gt,{id:"name",name:"name",defaultValue:(d==null?void 0:d.name)||"",required:!0})]}),s.jsxs("div",{children:[s.jsx(dt,{htmlFor:"unit",children:"Unidad"}),s.jsx(gt,{id:"unit",name:"unit",defaultValue:(d==null?void 0:d.unit)||"",placeholder:"ej: %, unidades, pesos",required:!0})]})]}),s.jsxs("div",{children:[s.jsx(dt,{htmlFor:"description",children:"Descripcin"}),s.jsx(nu,{id:"description",name:"description",defaultValue:(d==null?void 0:d.description)||"",rows:3})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(dt,{htmlFor:"companyId",children:"Empresa"}),s.jsxs(An,{name:"companyId",defaultValue:((oe=d==null?void 0:d.companyId)==null?void 0:oe.toString())||"",required:!0,children:[s.jsx(Nn,{children:s.jsx(Tn,{placeholder:"Seleccionar empresa"})}),s.jsx(_n,{children:_.map(ne=>s.jsx(at,{value:ne.id.toString(),children:ne.name},ne.id))})]})]}),s.jsxs("div",{children:[s.jsx(dt,{htmlFor:"areaId",children:"rea"}),s.jsxs(An,{name:"areaId",defaultValue:((ve=d==null?void 0:d.areaId)==null?void 0:ve.toString())||"",required:!0,children:[s.jsx(Nn,{children:s.jsx(Tn,{placeholder:"Seleccionar rea"})}),s.jsx(_n,{children:k.map(ne=>s.jsx(at,{value:ne.id.toString(),children:ne.name},ne.id))})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs(dt,{htmlFor:"objective",children:["Objetivo Mensual",s.jsx("span",{className:"text-xs text-gray-500 ml-1",children:"(goal)"})]}),s.jsx(gt,{id:"objective",name:"objective",type:"number",step:"0.01",defaultValue:(d==null?void 0:d.goal)||(d==null?void 0:d.objective)||"",placeholder:"ej: 858373 (solo nmero)",required:!0}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Ingresa solo el nmero sin formato. Ejemplo: para Orsega Volumen de Ventas, ingresa 858373"})]}),s.jsxs("div",{children:[s.jsx(dt,{htmlFor:"frequency",children:"Frecuencia"}),s.jsxs(An,{name:"frequency",defaultValue:(d==null?void 0:d.frequency)||"",required:!0,children:[s.jsx(Nn,{children:s.jsx(Tn,{placeholder:"Seleccionar frecuencia"})}),s.jsxs(_n,{children:[s.jsx(at,{value:"daily",children:"Diaria"}),s.jsx(at,{value:"weekly",children:"Semanal"}),s.jsx(at,{value:"monthly",children:"Mensual"}),s.jsx(at,{value:"quarterly",children:"Trimestral"}),s.jsx(at,{value:"yearly",children:"Anual"})]})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(Oe,{type:"button",variant:"outline",onClick:()=>a(!1),children:"Cancelar"}),s.jsxs(Oe,{type:"submit",disabled:$.isPending||K.isPending,children:[d?"Actualizar":"Crear"," KPI"]})]})]})]})})]})})}var VNt=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],qNt=VNt.reduce((e,t)=>{const n=XC(`Primitive.${t}`),r=b.forwardRef((i,a)=>{const{asChild:o,...l}=i,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:a})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),UNt="Separator",JY="horizontal",WNt=["horizontal","vertical"],hxe=b.forwardRef((e,t)=>{const{decorative:n,orientation:r=JY,...i}=e,a=HNt(r)?r:JY,l=n?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return s.jsx(qNt.div,{"data-orientation":a,...l,...i,ref:t})});hxe.displayName=UNt;function HNt(e){return WNt.includes(e)}var mxe=hxe;const i7=b.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...r},i)=>s.jsx(mxe,{ref:i,decorative:n,orientation:t,className:Fe("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...r}));i7.displayName=mxe.displayName;function KNt(e,t){return b.useReducer((n,r)=>t[n][r]??n,e)}var a7="ScrollArea",[pxe]=Xo(a7),[GNt,du]=pxe(a7),gxe=b.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:a=600,...o}=e,[l,c]=b.useState(null),[u,d]=b.useState(null),[f,m]=b.useState(null),[h,g]=b.useState(null),[y,v]=b.useState(null),[x,w]=b.useState(0),[j,_]=b.useState(0),[S,k]=b.useState(!1),[P,M]=b.useState(!1),T=Fn(t,D=>c(D)),R=_j(i);return s.jsx(GNt,{scope:n,type:r,dir:R,scrollHideDelay:a,scrollArea:l,viewport:u,onViewportChange:d,content:f,onContentChange:m,scrollbarX:h,onScrollbarXChange:g,scrollbarXEnabled:S,onScrollbarXEnabledChange:k,scrollbarY:y,onScrollbarYChange:v,scrollbarYEnabled:P,onScrollbarYEnabledChange:M,onCornerWidthChange:w,onCornerHeightChange:_,children:s.jsx(sn.div,{dir:R,...o,ref:T,style:{position:"relative","--radix-scroll-area-corner-width":x+"px","--radix-scroll-area-corner-height":j+"px",...e.style}})})});gxe.displayName=a7;var vxe="ScrollAreaViewport",xxe=b.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,nonce:i,...a}=e,o=du(vxe,n),l=b.useRef(null),c=Fn(t,l,o.onViewportChange);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),s.jsx(sn.div,{"data-radix-scroll-area-viewport":"",...a,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:s.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});xxe.displayName=vxe;var Ef="ScrollAreaScrollbar",s7=b.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=du(Ef,e.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:o}=i,l=e.orientation==="horizontal";return b.useEffect(()=>(l?a(!0):o(!0),()=>{l?a(!1):o(!1)}),[l,a,o]),i.type==="hover"?s.jsx(YNt,{...r,ref:t,forceMount:n}):i.type==="scroll"?s.jsx(XNt,{...r,ref:t,forceMount:n}):i.type==="auto"?s.jsx(yxe,{...r,ref:t,forceMount:n}):i.type==="always"?s.jsx(o7,{...r,ref:t}):null});s7.displayName=Ef;var YNt=b.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=du(Ef,e.__scopeScrollArea),[a,o]=b.useState(!1);return b.useEffect(()=>{const l=i.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),o(!0)},d=()=>{c=window.setTimeout(()=>o(!1),i.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[i.scrollArea,i.scrollHideDelay]),s.jsx(_s,{present:n||a,children:s.jsx(yxe,{"data-state":a?"visible":"hidden",...r,ref:t})})}),XNt=b.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=du(Ef,e.__scopeScrollArea),a=e.orientation==="horizontal",o=lA(()=>c("SCROLL_END"),100),[l,c]=KNt("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return b.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,i.scrollHideDelay,c]),b.useEffect(()=>{const u=i.viewport,d=a?"scrollLeft":"scrollTop";if(u){let f=u[d];const m=()=>{const h=u[d];f!==h&&(c("SCROLL"),o()),f=h};return u.addEventListener("scroll",m),()=>u.removeEventListener("scroll",m)}},[i.viewport,a,c,o]),s.jsx(_s,{present:n||l!=="hidden",children:s.jsx(o7,{"data-state":l==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:_t(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:_t(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),yxe=b.forwardRef((e,t)=>{const n=du(Ef,e.__scopeScrollArea),{forceMount:r,...i}=e,[a,o]=b.useState(!1),l=e.orientation==="horizontal",c=lA(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;o(l?u:d)}},10);return j0(n.viewport,c),j0(n.content,c),s.jsx(_s,{present:r||a,children:s.jsx(o7,{"data-state":a?"visible":"hidden",...i,ref:t})})}),o7=b.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,i=du(Ef,e.__scopeScrollArea),a=b.useRef(null),o=b.useRef(0),[l,c]=b.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=_xe(l.viewport,l.content),d={...r,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:m=>a.current=m,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:m=>o.current=m};function f(m,h){return n_t(m,o.current,l,h)}return n==="horizontal"?s.jsx(ZNt,{...d,ref:t,onThumbPositionChange:()=>{if(i.viewport&&a.current){const m=i.viewport.scrollLeft,h=eX(m,l,i.dir);a.current.style.transform=`translate3d(${h}px, 0, 0)`}},onWheelScroll:m=>{i.viewport&&(i.viewport.scrollLeft=m)},onDragScroll:m=>{i.viewport&&(i.viewport.scrollLeft=f(m,i.dir))}}):n==="vertical"?s.jsx(QNt,{...d,ref:t,onThumbPositionChange:()=>{if(i.viewport&&a.current){const m=i.viewport.scrollTop,h=eX(m,l);a.current.style.transform=`translate3d(0, ${h}px, 0)`}},onWheelScroll:m=>{i.viewport&&(i.viewport.scrollTop=m)},onDragScroll:m=>{i.viewport&&(i.viewport.scrollTop=f(m))}}):null}),ZNt=b.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...i}=e,a=du(Ef,e.__scopeScrollArea),[o,l]=b.useState(),c=b.useRef(null),u=Fn(t,c,a.onScrollbarXChange);return b.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(wxe,{"data-orientation":"horizontal",...i,ref:u,sizes:n,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":oA(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(a.viewport){const m=a.viewport.scrollLeft+d.deltaX;e.onWheelScroll(m),kxe(m,f)&&d.preventDefault()}},onResize:()=>{c.current&&a.viewport&&o&&r({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:aC(o.paddingLeft),paddingEnd:aC(o.paddingRight)}})}})}),QNt=b.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...i}=e,a=du(Ef,e.__scopeScrollArea),[o,l]=b.useState(),c=b.useRef(null),u=Fn(t,c,a.onScrollbarYChange);return b.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(wxe,{"data-orientation":"vertical",...i,ref:u,sizes:n,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":oA(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(a.viewport){const m=a.viewport.scrollTop+d.deltaY;e.onWheelScroll(m),kxe(m,f)&&d.preventDefault()}},onResize:()=>{c.current&&a.viewport&&o&&r({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:aC(o.paddingTop),paddingEnd:aC(o.paddingBottom)}})}})}),[JNt,bxe]=pxe(Ef),wxe=b.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:a,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...m}=e,h=du(Ef,n),[g,y]=b.useState(null),v=Fn(t,T=>y(T)),x=b.useRef(null),w=b.useRef(""),j=h.viewport,_=r.content-r.viewport,S=wa(d),k=wa(c),P=lA(f,10);function M(T){if(x.current){const R=T.clientX-x.current.left,D=T.clientY-x.current.top;u({x:R,y:D})}}return b.useEffect(()=>{const T=R=>{const D=R.target;(g==null?void 0:g.contains(D))&&S(R,_)};return document.addEventListener("wheel",T,{passive:!1}),()=>document.removeEventListener("wheel",T,{passive:!1})},[j,g,_,S]),b.useEffect(k,[r,k]),j0(g,P),j0(h.content,P),s.jsx(JNt,{scope:n,scrollbar:g,hasThumb:i,onThumbChange:wa(a),onThumbPointerUp:wa(o),onThumbPositionChange:k,onThumbPointerDown:wa(l),children:s.jsx(sn.div,{...m,ref:v,style:{position:"absolute",...m.style},onPointerDown:_t(e.onPointerDown,T=>{T.button===0&&(T.target.setPointerCapture(T.pointerId),x.current=g.getBoundingClientRect(),w.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",h.viewport&&(h.viewport.style.scrollBehavior="auto"),M(T))}),onPointerMove:_t(e.onPointerMove,M),onPointerUp:_t(e.onPointerUp,T=>{const R=T.target;R.hasPointerCapture(T.pointerId)&&R.releasePointerCapture(T.pointerId),document.body.style.webkitUserSelect=w.current,h.viewport&&(h.viewport.style.scrollBehavior=""),x.current=null})})})}),iC="ScrollAreaThumb",jxe=b.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=bxe(iC,e.__scopeScrollArea);return s.jsx(_s,{present:n||i.hasThumb,children:s.jsx(e_t,{ref:t,...r})})}),e_t=b.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...i}=e,a=du(iC,n),o=bxe(iC,n),{onThumbPositionChange:l}=o,c=Fn(t,f=>o.onThumbChange(f)),u=b.useRef(void 0),d=lA(()=>{u.current&&(u.current(),u.current=void 0)},100);return b.useEffect(()=>{const f=a.viewport;if(f){const m=()=>{if(d(),!u.current){const h=r_t(f,l);u.current=h,l()}};return l(),f.addEventListener("scroll",m),()=>f.removeEventListener("scroll",m)}},[a.viewport,d,l]),s.jsx(sn.div,{"data-state":o.hasThumb?"visible":"hidden",...i,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:_t(e.onPointerDownCapture,f=>{const h=f.target.getBoundingClientRect(),g=f.clientX-h.left,y=f.clientY-h.top;o.onThumbPointerDown({x:g,y})}),onPointerUp:_t(e.onPointerUp,o.onThumbPointerUp)})});jxe.displayName=iC;var l7="ScrollAreaCorner",Nxe=b.forwardRef((e,t)=>{const n=du(l7,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?s.jsx(t_t,{...e,ref:t}):null});Nxe.displayName=l7;var t_t=b.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,i=du(l7,n),[a,o]=b.useState(0),[l,c]=b.useState(0),u=!!(a&&l);return j0(i.scrollbarX,()=>{var f;const d=((f=i.scrollbarX)==null?void 0:f.offsetHeight)||0;i.onCornerHeightChange(d),c(d)}),j0(i.scrollbarY,()=>{var f;const d=((f=i.scrollbarY)==null?void 0:f.offsetWidth)||0;i.onCornerWidthChange(d),o(d)}),u?s.jsx(sn.div,{...r,ref:t,style:{width:a,height:l,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function aC(e){return e?parseInt(e,10):0}function _xe(e,t){const n=e/t;return isNaN(n)?0:n}function oA(e){const t=_xe(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function n_t(e,t,n,r="ltr"){const i=oA(n),a=i/2,o=t||a,l=i-o,c=n.scrollbar.paddingStart+o,u=n.scrollbar.size-n.scrollbar.paddingEnd-l,d=n.content-n.viewport,f=r==="ltr"?[0,d]:[d*-1,0];return Sxe([c,u],f)(e)}function eX(e,t,n="ltr"){const r=oA(t),i=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=t.scrollbar.size-i,o=t.content-t.viewport,l=a-r,c=n==="ltr"?[0,o]:[o*-1,0],u=kI(e,c);return Sxe([0,o],[0,l])(u)}function Sxe(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function kxe(e,t){return e>0&&e<t}var r_t=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function i(){const a={left:e.scrollLeft,top:e.scrollTop},o=n.left!==a.left,l=n.top!==a.top;(o||l)&&t(),n=a,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)};function lA(e,t){const n=wa(e),r=b.useRef(0);return b.useEffect(()=>()=>window.clearTimeout(r.current),[]),b.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function j0(e,t){const n=wa(t);ja(()=>{let r=0;if(e){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(e),()=>{window.cancelAnimationFrame(r),i.unobserve(e)}}},[e,n])}var Cxe=gxe,i_t=xxe,a_t=Nxe;const dw=b.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(Cxe,{ref:r,className:Fe("relative overflow-hidden",e),...n,children:[s.jsx(i_t,{className:"h-full w-full rounded-[inherit]",children:t}),s.jsx(Exe,{}),s.jsx(a_t,{})]}));dw.displayName=Cxe.displayName;const Exe=b.forwardRef(({className:e,orientation:t="vertical",...n},r)=>s.jsx(s7,{ref:r,orientation:t,className:Fe("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:s.jsx(jxe,{className:"relative flex-1 rounded-full bg-border"})}));Exe.displayName=s7.displayName;function s_t(){const{user:e}=ud(),{data:t,isLoading:n,error:r}=At({queryKey:[`/api/job-profiles/${e==null?void 0:e.id}`],enabled:!!(e!=null&&e.id),retry:!1}),{data:i,isLoading:a}=At({queryKey:[`/api/user-kpis/${e==null?void 0:e.id}`],enabled:!!(e!=null&&e.id)});if(n&&!r||a)return s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})});if(!t)return s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsx("div",{className:"mb-6",children:s.jsx(Rx,{href:"/",children:s.jsxs(Oe,{variant:"outline",className:"flex items-center gap-2",children:[s.jsx(zd,{className:"h-4 w-4"}),"Volver al Dashboard"]})})}),s.jsxs(Ue,{className:"max-w-2xl mx-auto",children:[s.jsxs(Vt,{children:[s.jsxs(an,{className:"flex items-center gap-2",children:[s.jsx(Jm,{className:"h-5 w-5"}),"Perfil de Usuario"]}),s.jsx(fi,{children:"Tu perfil personalizado no est disponible an. Pronto tendrs acceso a informacin detallada sobre tu puesto."})]}),s.jsx(We,{children:s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Dw,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),s.jsx("p",{className:"text-gray-600",children:"Estamos configurando tu perfil personalizado con informacin especfica de tu puesto."})]})})]})]});const l=t;return s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsx("div",{className:"mb-6",children:s.jsx(Rx,{href:"/",children:s.jsxs(Oe,{variant:"outline",className:"flex items-center gap-2",children:[s.jsx(zd,{className:"h-4 w-4"}),"Volver al Dashboard"]})})}),s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[s.jsx("div",{className:"bg-blue-100 p-3 rounded-full",children:s.jsx(Jm,{className:"h-6 w-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:e==null?void 0:e.name}),s.jsx("p",{className:"text-gray-600",children:l.title}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsx(Ct,{variant:"outline",children:l.companyName}),s.jsx(Ct,{variant:"outline",children:l.areaName})]})]})]})}),s.jsxs(Tp,{defaultValue:"overview",className:"w-full",children:[s.jsxs(Rh,{className:"grid w-full grid-cols-4",children:[s.jsx(Ki,{value:"overview",children:"Vista General"}),s.jsx(Ki,{value:"kpis",children:"Mis KPIs"}),s.jsx(Ki,{value:"activities",children:"Actividades"}),s.jsx(Ki,{value:"tips",children:"Tips & Guas"})]}),s.jsxs(ds,{value:"overview",className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs(Ue,{className:"lg:col-span-2",children:[s.jsx(Vt,{children:s.jsxs(an,{className:"flex items-center gap-2",children:[s.jsx(w9,{className:"h-5 w-5"}),"Descripcin del Puesto"]})}),s.jsx(We,{children:s.jsx("p",{className:"text-gray-700 leading-relaxed",children:l.description})})]}),s.jsxs(Ue,{children:[s.jsx(Vt,{children:s.jsxs(an,{className:"flex items-center gap-2",children:[s.jsx(ic,{className:"h-5 w-5"}),"Resumen de KPIs"]})}),s.jsx(We,{children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Total de KPIs"}),s.jsx(Ct,{variant:"secondary",children:l.userKpis.length})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Semanales"}),s.jsx("span",{className:"text-sm font-medium",children:l.userKpis.filter(c=>c.frequency==="weekly").length})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Mensuales"}),s.jsx("span",{className:"text-sm font-medium",children:l.userKpis.filter(c=>c.frequency==="monthly").length})]}),s.jsx(i7,{}),s.jsx(Rx,{href:"/kpi-control",children:s.jsxs(Oe,{className:"w-full",children:["Actualizar KPIs",s.jsx(Q3,{className:"h-4 w-4 ml-2"})]})})]})})]})]}),s.jsxs(Ue,{children:[s.jsx(Vt,{children:s.jsxs(an,{className:"flex items-center gap-2",children:[s.jsx(Fi,{className:"h-5 w-5"}),"Responsabilidades Principales"]})}),s.jsx(We,{children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:l.responsibilities.map((c,u)=>s.jsxs("div",{className:"flex items-start gap-3 p-3 bg-gray-50 rounded-lg",children:[s.jsx(tc,{className:"h-5 w-5 text-green-500 mt-0.5"}),s.jsx("span",{className:"text-sm text-gray-700",children:c})]},u))})})]})]}),s.jsx(ds,{value:"kpis",className:"space-y-6",children:s.jsxs(Ue,{children:[s.jsxs(Vt,{children:[s.jsxs(an,{className:"flex items-center gap-2",children:[s.jsx(Pr,{className:"h-5 w-5"}),"Mis KPIs Asignados"]}),s.jsx(fi,{children:"Estos son los KPIs que debes monitorear y actualizar regularmente"})]}),s.jsxs(We,{children:[s.jsx("div",{className:"space-y-4",children:l.userKpis.map((c,u)=>{var d;return s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-900",children:c.name}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Objetivo: ",c.target]})]}),s.jsx(Ct,{variant:c.frequency==="weekly"?"default":"secondary",children:c.frequency==="weekly"?"Semanal":"Mensual"})]}),l.kpiInstructions.find(f=>f.kpiName===c.name)&&s.jsx("div",{className:"mt-3 p-3 bg-blue-50 rounded-lg",children:s.jsxs("p",{className:"text-sm text-blue-800",children:[s.jsx("strong",{children:"Instrucciones:"})," ",(d=l.kpiInstructions.find(f=>f.kpiName===c.name))==null?void 0:d.instructions]})})]},u)})}),s.jsx("div",{className:"mt-6 p-4 bg-yellow-50 rounded-lg",children:s.jsxs("p",{className:"text-sm text-yellow-800",children:[s.jsx("strong",{children:"Dnde actualizar?"})," Ve a la seccin",s.jsx(Rx,{href:"/kpi-control",className:"mx-1 font-medium underline",children:'"Centro de Control de KPIs"'}),"para actualizar todos tus KPIs."]})})]})]})}),s.jsx(ds,{value:"activities",className:"space-y-6",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(Ue,{children:[s.jsx(Vt,{children:s.jsxs(an,{className:"flex items-center gap-2",children:[s.jsx(tc,{className:"h-5 w-5"}),"Actividades Principales"]})}),s.jsx(We,{children:s.jsx(dw,{className:"h-96",children:s.jsx("div",{className:"space-y-3",children:l.mainActivities.map((c,u)=>s.jsxs("div",{className:"flex items-start gap-3 p-3 border rounded-lg",children:[s.jsx("div",{className:"bg-blue-100 p-1 rounded-full",children:s.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full"})}),s.jsx("span",{className:"text-sm text-gray-700",children:c})]},u))})})})]}),s.jsxs(Ue,{children:[s.jsx(Vt,{children:s.jsxs(an,{className:"flex items-center gap-2",children:[s.jsx(Wo,{className:"h-5 w-5"}),"Cronograma de Actividades"]})}),s.jsx(We,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Diarias"}),s.jsx("ul",{className:"space-y-1",children:l.updateFrequency.daily.map((c,u)=>s.jsx("li",{className:"text-sm text-gray-600 pl-4 border-l-2 border-green-200",children:c},u))})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Semanales"}),s.jsx("ul",{className:"space-y-1",children:l.updateFrequency.weekly.map((c,u)=>s.jsx("li",{className:"text-sm text-gray-600 pl-4 border-l-2 border-blue-200",children:c},u))})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Mensuales"}),s.jsx("ul",{className:"space-y-1",children:l.updateFrequency.monthly.map((c,u)=>s.jsx("li",{className:"text-sm text-gray-600 pl-4 border-l-2 border-purple-200",children:c},u))})]})]})})]})]})}),s.jsx(ds,{value:"tips",className:"space-y-6",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(Ue,{children:[s.jsx(Vt,{children:s.jsxs(an,{className:"flex items-center gap-2",children:[s.jsx(Pr,{className:"h-5 w-5"}),"Tips para el xito"]})}),s.jsx(We,{children:s.jsx(dw,{className:"h-96",children:s.jsx("div",{className:"space-y-4",children:l.tips.map((c,u)=>s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:c.category}),s.jsx("p",{className:"text-sm text-gray-700",children:c.tip})]},u))})})})]}),s.jsxs(Ue,{children:[s.jsx(Vt,{children:s.jsxs(an,{className:"flex items-center gap-2",children:[s.jsx(w9,{className:"h-5 w-5"}),"Procesos y Procedimientos"]})}),s.jsx(We,{children:s.jsx(dw,{className:"h-96",children:s.jsx("div",{className:"space-y-4",children:l.processes.map((c,u)=>s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:c.name}),s.jsx("p",{className:"text-sm text-gray-600 mb-3",children:c.description}),s.jsx("div",{className:"space-y-2",children:c.steps.map((d,f)=>s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(Ct,{variant:"outline",className:"text-xs",children:f+1}),s.jsx("span",{className:"text-sm text-gray-700",children:d})]},f))})]},u))})})})]})]})})]})]})}function o_t(){const{token:e}=pre(),[,t]=Yo(),{toast:n}=zi(),[r,i]=b.useState(null),[a,o]=b.useState(!0),[l,c]=b.useState(""),[u,d]=b.useState(""),[f,m]=b.useState(""),[h,g]=b.useState(!1),[y,v]=b.useState(!1),[x,w]=b.useState(!1);b.useEffect(()=>{(async()=>{if(!e){c("Token de activacin no vlido"),o(!1);return}try{const S=await fetch(`/api/activate/${e}`),k=await S.json();S.ok&&k.valid?i(k):c(k.message||"Token de activacin no vlido")}catch(S){console.error("Error validating token:",S),c("Error de conexin. Intntalo de nuevo.")}finally{o(!1)}})()},[e]);const j=async _=>{if(_.preventDefault(),u.length<8){n({title:"Error",description:"La contrasea debe tener al menos 8 caracteres",variant:"destructive"});return}if(u!==f){n({title:"Error",description:"Las contraseas no coinciden",variant:"destructive"});return}v(!0);try{const S=await fetch(`/api/activate/${e}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:u})}),k=await S.json();S.ok?(w(!0),n({title:"xito!",description:"Tu contrasea ha sido establecida correctamente",variant:"default"}),setTimeout(()=>{t("/login")},3e3)):n({title:"Error",description:k.message||"Error al establecer la contrasea",variant:"destructive"})}catch(S){console.error("Error setting password:",S),n({title:"Error",description:"Error de conexin. Intntalo de nuevo.",variant:"destructive"})}finally{v(!1)}};return a?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-green-50 flex items-center justify-center p-4",children:s.jsx(Ue,{className:"w-full max-w-md",children:s.jsxs(We,{className:"flex flex-col items-center justify-center py-12",children:[s.jsx(sr,{className:"h-8 w-8 animate-spin text-blue-600 mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Validando enlace de activacin..."})]})})}):l||!r?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-green-50 flex items-center justify-center p-4",children:s.jsxs(Ue,{className:"w-full max-w-md",children:[s.jsxs(Vt,{className:"text-center",children:[s.jsx("div",{className:"mx-auto mb-4 h-12 w-12 rounded-full bg-red-100 flex items-center justify-center",children:s.jsx(gj,{className:"h-6 w-6 text-red-600"})}),s.jsx(an,{className:"text-red-800",children:"Enlace No Vlido"}),s.jsx(fi,{className:"text-red-600",children:l})]}),s.jsx(We,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsx(Hd,{children:s.jsx(Kd,{children:"Si necesitas un nuevo enlace de activacin, contacta al administrador del sistema."})}),s.jsx(Oe,{className:"w-full",onClick:()=>t("/login"),variant:"outline",children:"Ir al Login"})]})})]})}):x?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-green-50 flex items-center justify-center p-4",children:s.jsxs(Ue,{className:"w-full max-w-md",children:[s.jsxs(Vt,{className:"text-center",children:[s.jsx("div",{className:"mx-auto mb-4 h-12 w-12 rounded-full bg-green-100 flex items-center justify-center",children:s.jsx(tc,{className:"h-6 w-6 text-green-600"})}),s.jsx(an,{className:"text-green-800",children:"Cuenta Activada!"}),s.jsx(fi,{className:"text-green-600",children:"Tu contrasea ha sido establecida exitosamente"})]}),s.jsx(We,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[s.jsx("h3",{className:"font-semibold text-green-800 mb-2",children:"Todo Listo!"}),s.jsx("p",{className:"text-green-700 text-sm",children:"Ya puedes iniciar sesin con tu email y la contrasea que acabas de crear."})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Sers redirigido al login en unos segundos..."}),s.jsx(Oe,{className:"w-full",onClick:()=>t("/login"),children:"Ir al Login Ahora"})]})]})})]})}):s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-green-50 flex items-center justify-center p-4",children:s.jsxs(Ue,{className:"w-full max-w-md",children:[s.jsxs(Vt,{className:"text-center",children:[s.jsx("div",{className:"mx-auto mb-4 h-12 w-12 rounded-full bg-blue-100 flex items-center justify-center",children:s.jsx(N9,{className:"h-6 w-6 text-blue-600"})}),s.jsx(an,{className:"text-2xl font-bold text-gray-900",children:"Activar tu Cuenta"}),s.jsx(fi,{children:"Establece tu contrasea para acceder al Sistema ECONOVA"})]}),s.jsxs(We,{children:[s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:[s.jsxs("h3",{className:"font-semibold text-blue-800 mb-3 flex items-center",children:[s.jsx(Jm,{className:"h-4 w-4 mr-2"}),"Tu Informacin"]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex items-center text-blue-700",children:[s.jsx(Jm,{className:"h-3 w-3 mr-2"}),s.jsx("span",{className:"font-medium",children:"Nombre:"}),s.jsx("span",{className:"ml-2",children:r.user.name})]}),s.jsxs("div",{className:"flex items-center text-blue-700",children:[s.jsx(op,{className:"h-3 w-3 mr-2"}),s.jsx("span",{className:"font-medium",children:"Email:"}),s.jsx("span",{className:"ml-2",children:r.user.email})]}),s.jsxs("div",{className:"flex items-center text-blue-700",children:[s.jsx(N9,{className:"h-3 w-3 mr-2"}),s.jsx("span",{className:"font-medium",children:"Rol:"}),s.jsx("span",{className:"ml-2 capitalize",children:r.user.role})]})]})]}),s.jsxs("form",{onSubmit:j,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(dt,{htmlFor:"password",className:"text-sm font-medium",children:"Nueva Contrasea"}),s.jsxs("div",{className:"relative mt-1",children:[s.jsx(gt,{id:"password",type:h?"text":"password",value:u,onChange:_=>d(_.target.value),placeholder:"Mnimo 8 caracteres",required:!0,minLength:8,className:"pr-10","data-testid":"input-password"}),s.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>g(!h),children:h?s.jsx(eL,{className:"h-4 w-4 text-gray-400"}):s.jsx(Dy,{className:"h-4 w-4 text-gray-400"})})]})]}),s.jsxs("div",{children:[s.jsx(dt,{htmlFor:"confirmPassword",className:"text-sm font-medium",children:"Confirmar Contrasea"}),s.jsx(gt,{id:"confirmPassword",type:h?"text":"password",value:f,onChange:_=>m(_.target.value),placeholder:"Repite tu contrasea",required:!0,minLength:8,className:"mt-1","data-testid":"input-confirm-password"})]}),s.jsx(Hd,{children:s.jsxs(Kd,{children:[s.jsx("strong",{children:"Importante:"})," Esta contrasea ser tu clave de acceso permanente al sistema. Elige una contrasea segura que puedas recordar."]})}),s.jsx(Oe,{type:"submit",className:"w-full bg-gradient-to-r from-blue-600 to-green-600 hover:from-blue-700 hover:to-green-700",disabled:y,"data-testid":"button-activate",children:y?s.jsxs(s.Fragment,{children:[s.jsx(sr,{className:"h-4 w-4 animate-spin mr-2"}),"Activando cuenta..."]}):"Activar mi Cuenta"})]}),s.jsxs("div",{className:"mt-6 text-center text-xs text-gray-500",children:[s.jsx("p",{children:" 2025 ECONOVA - KPI Dashboard"}),s.jsx("p",{children:"Sistema de Gestin de Indicadores de Rendimiento"})]})]})]})})}function Pxe(e,t){const n=b.useRef(t);b.useEffect(function(){t!==n.current&&e.attributionControl!=null&&(n.current!=null&&e.attributionControl.removeAttribution(n.current),t!=null&&e.attributionControl.addAttribution(t)),n.current=t},[e,t])}const l_t=1;function c_t(e){return Object.freeze({__version:l_t,map:e})}function Axe(e,t){return Object.freeze({...e,...t})}const Txe=b.createContext(null),Oxe=Txe.Provider;function cA(){const e=b.useContext(Txe);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function Lxe(e){function t(n,r){const{instance:i,context:a}=e(n).current;return b.useImperativeHandle(r,()=>i),n.children==null?null:E.createElement(Oxe,{value:a},n.children)}return b.forwardRef(t)}function u_t(e){function t(n,r){const[i,a]=b.useState(!1),{instance:o}=e(n,a).current;b.useImperativeHandle(r,()=>o),b.useEffect(function(){i&&o.update()},[o,i,n.children]);const l=o._contentNode;return l?Er.createPortal(n.children,l):null}return b.forwardRef(t)}function d_t(e){function t(n,r){const{instance:i}=e(n).current;return b.useImperativeHandle(r,()=>i),null}return b.forwardRef(t)}function c7(e,t){const n=b.useRef();b.useEffect(function(){return t!=null&&e.instance.on(t),n.current=t,function(){n.current!=null&&e.instance.off(n.current),n.current=null}},[e,t])}function uA(e,t){const n=e.pane??t.pane;return n?{...e,pane:n}:e}function f_t(e,t){return function(r,i){const a=cA(),o=e(uA(r,a),a);return Pxe(a.map,r.attribution),c7(o.current,r.eventHandlers),t(o.current,a,r,i),o}}var uD={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(e,t){(function(n,r){r(t)})(ah,function(n){var r="1.9.4";function i(p){var N,A,q,J;for(A=1,q=arguments.length;A<q;A++){J=arguments[A];for(N in J)p[N]=J[N]}return p}var a=Object.create||function(){function p(){}return function(N){return p.prototype=N,new p}}();function o(p,N){var A=Array.prototype.slice;if(p.bind)return p.bind.apply(p,A.call(arguments,1));var q=A.call(arguments,2);return function(){return p.apply(N,q.length?q.concat(A.call(arguments)):arguments)}}var l=0;function c(p){return"_leaflet_id"in p||(p._leaflet_id=++l),p._leaflet_id}function u(p,N,A){var q,J,fe,ke;return ke=function(){q=!1,J&&(fe.apply(A,J),J=!1)},fe=function(){q?J=arguments:(p.apply(A,arguments),setTimeout(ke,N),q=!0)},fe}function d(p,N,A){var q=N[1],J=N[0],fe=q-J;return p===q&&A?p:((p-J)%fe+fe)%fe+J}function f(){return!1}function m(p,N){if(N===!1)return p;var A=Math.pow(10,N===void 0?6:N);return Math.round(p*A)/A}function h(p){return p.trim?p.trim():p.replace(/^\s+|\s+$/g,"")}function g(p){return h(p).split(/\s+/)}function y(p,N){Object.prototype.hasOwnProperty.call(p,"options")||(p.options=p.options?a(p.options):{});for(var A in N)p.options[A]=N[A];return p.options}function v(p,N,A){var q=[];for(var J in p)q.push(encodeURIComponent(A?J.toUpperCase():J)+"="+encodeURIComponent(p[J]));return(!N||N.indexOf("?")===-1?"?":"&")+q.join("&")}var x=/\{ *([\w_ -]+) *\}/g;function w(p,N){return p.replace(x,function(A,q){var J=N[q];if(J===void 0)throw new Error("No value provided for variable "+A);return typeof J=="function"&&(J=J(N)),J})}var j=Array.isArray||function(p){return Object.prototype.toString.call(p)==="[object Array]"};function _(p,N){for(var A=0;A<p.length;A++)if(p[A]===N)return A;return-1}var S="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function k(p){return window["webkit"+p]||window["moz"+p]||window["ms"+p]}var P=0;function M(p){var N=+new Date,A=Math.max(0,16-(N-P));return P=N+A,window.setTimeout(p,A)}var T=window.requestAnimationFrame||k("RequestAnimationFrame")||M,R=window.cancelAnimationFrame||k("CancelAnimationFrame")||k("CancelRequestAnimationFrame")||function(p){window.clearTimeout(p)};function D(p,N,A){if(A&&T===M)p.call(N);else return T.call(window,o(p,N))}function I(p){p&&R.call(window,p)}var B={__proto__:null,extend:i,create:a,bind:o,get lastId(){return l},stamp:c,throttle:u,wrapNum:d,falseFn:f,formatNum:m,trim:h,splitWords:g,setOptions:y,getParamString:v,template:w,isArray:j,indexOf:_,emptyImageUrl:S,requestFn:T,cancelFn:R,requestAnimFrame:D,cancelAnimFrame:I};function $(){}$.extend=function(p){var N=function(){y(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},A=N.__super__=this.prototype,q=a(A);q.constructor=N,N.prototype=q;for(var J in this)Object.prototype.hasOwnProperty.call(this,J)&&J!=="prototype"&&J!=="__super__"&&(N[J]=this[J]);return p.statics&&i(N,p.statics),p.includes&&(K(p.includes),i.apply(null,[q].concat(p.includes))),i(q,p),delete q.statics,delete q.includes,q.options&&(q.options=A.options?a(A.options):{},i(q.options,p.options)),q._initHooks=[],q.callInitHooks=function(){if(!this._initHooksCalled){A.callInitHooks&&A.callInitHooks.call(this),this._initHooksCalled=!0;for(var fe=0,ke=q._initHooks.length;fe<ke;fe++)q._initHooks[fe].call(this)}},N},$.include=function(p){var N=this.prototype.options;return i(this.prototype,p),p.options&&(this.prototype.options=N,this.mergeOptions(p.options)),this},$.mergeOptions=function(p){return i(this.prototype.options,p),this},$.addInitHook=function(p){var N=Array.prototype.slice.call(arguments,1),A=typeof p=="function"?p:function(){this[p].apply(this,N)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(A),this};function K(p){if(!(typeof L>"u"||!L||!L.Mixin)){p=j(p)?p:[p];for(var N=0;N<p.length;N++)p[N]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Y={on:function(p,N,A){if(typeof p=="object")for(var q in p)this._on(q,p[q],N);else{p=g(p);for(var J=0,fe=p.length;J<fe;J++)this._on(p[J],N,A)}return this},off:function(p,N,A){if(!arguments.length)delete this._events;else if(typeof p=="object")for(var q in p)this._off(q,p[q],N);else{p=g(p);for(var J=arguments.length===1,fe=0,ke=p.length;fe<ke;fe++)J?this._off(p[fe]):this._off(p[fe],N,A)}return this},_on:function(p,N,A,q){if(typeof N!="function"){console.warn("wrong listener type: "+typeof N);return}if(this._listens(p,N,A)===!1){A===this&&(A=void 0);var J={fn:N,ctx:A};q&&(J.once=!0),this._events=this._events||{},this._events[p]=this._events[p]||[],this._events[p].push(J)}},_off:function(p,N,A){var q,J,fe;if(this._events&&(q=this._events[p],!!q)){if(arguments.length===1){if(this._firingCount)for(J=0,fe=q.length;J<fe;J++)q[J].fn=f;delete this._events[p];return}if(typeof N!="function"){console.warn("wrong listener type: "+typeof N);return}var ke=this._listens(p,N,A);if(ke!==!1){var $e=q[ke];this._firingCount&&($e.fn=f,this._events[p]=q=q.slice()),q.splice(ke,1)}}},fire:function(p,N,A){if(!this.listens(p,A))return this;var q=i({},N,{type:p,target:this,sourceTarget:N&&N.sourceTarget||this});if(this._events){var J=this._events[p];if(J){this._firingCount=this._firingCount+1||1;for(var fe=0,ke=J.length;fe<ke;fe++){var $e=J[fe],Ke=$e.fn;$e.once&&this.off(p,Ke,$e.ctx),Ke.call($e.ctx||this,q)}this._firingCount--}}return A&&this._propagateEvent(q),this},listens:function(p,N,A,q){typeof p!="string"&&console.warn('"string" type argument expected');var J=N;typeof N!="function"&&(q=!!N,J=void 0,A=void 0);var fe=this._events&&this._events[p];if(fe&&fe.length&&this._listens(p,J,A)!==!1)return!0;if(q){for(var ke in this._eventParents)if(this._eventParents[ke].listens(p,N,A,q))return!0}return!1},_listens:function(p,N,A){if(!this._events)return!1;var q=this._events[p]||[];if(!N)return!!q.length;A===this&&(A=void 0);for(var J=0,fe=q.length;J<fe;J++)if(q[J].fn===N&&q[J].ctx===A)return J;return!1},once:function(p,N,A){if(typeof p=="object")for(var q in p)this._on(q,p[q],N,!0);else{p=g(p);for(var J=0,fe=p.length;J<fe;J++)this._on(p[J],N,A,!0)}return this},addEventParent:function(p){return this._eventParents=this._eventParents||{},this._eventParents[c(p)]=p,this},removeEventParent:function(p){return this._eventParents&&delete this._eventParents[c(p)],this},_propagateEvent:function(p){for(var N in this._eventParents)this._eventParents[N].fire(p.type,i({layer:p.target,propagatedFrom:p.target},p),!0)}};Y.addEventListener=Y.on,Y.removeEventListener=Y.clearAllEventListeners=Y.off,Y.addOneTimeEventListener=Y.once,Y.fireEvent=Y.fire,Y.hasEventListeners=Y.listens;var Q=$.extend(Y);function H(p,N,A){this.x=A?Math.round(p):p,this.y=A?Math.round(N):N}var G=Math.trunc||function(p){return p>0?Math.floor(p):Math.ceil(p)};H.prototype={clone:function(){return new H(this.x,this.y)},add:function(p){return this.clone()._add(U(p))},_add:function(p){return this.x+=p.x,this.y+=p.y,this},subtract:function(p){return this.clone()._subtract(U(p))},_subtract:function(p){return this.x-=p.x,this.y-=p.y,this},divideBy:function(p){return this.clone()._divideBy(p)},_divideBy:function(p){return this.x/=p,this.y/=p,this},multiplyBy:function(p){return this.clone()._multiplyBy(p)},_multiplyBy:function(p){return this.x*=p,this.y*=p,this},scaleBy:function(p){return new H(this.x*p.x,this.y*p.y)},unscaleBy:function(p){return new H(this.x/p.x,this.y/p.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=G(this.x),this.y=G(this.y),this},distanceTo:function(p){p=U(p);var N=p.x-this.x,A=p.y-this.y;return Math.sqrt(N*N+A*A)},equals:function(p){return p=U(p),p.x===this.x&&p.y===this.y},contains:function(p){return p=U(p),Math.abs(p.x)<=Math.abs(this.x)&&Math.abs(p.y)<=Math.abs(this.y)},toString:function(){return"Point("+m(this.x)+", "+m(this.y)+")"}};function U(p,N,A){return p instanceof H?p:j(p)?new H(p[0],p[1]):p==null?p:typeof p=="object"&&"x"in p&&"y"in p?new H(p.x,p.y):new H(p,N,A)}function ee(p,N){if(p)for(var A=N?[p,N]:p,q=0,J=A.length;q<J;q++)this.extend(A[q])}ee.prototype={extend:function(p){var N,A;if(!p)return this;if(p instanceof H||typeof p[0]=="number"||"x"in p)N=A=U(p);else if(p=z(p),N=p.min,A=p.max,!N||!A)return this;return!this.min&&!this.max?(this.min=N.clone(),this.max=A.clone()):(this.min.x=Math.min(N.x,this.min.x),this.max.x=Math.max(A.x,this.max.x),this.min.y=Math.min(N.y,this.min.y),this.max.y=Math.max(A.y,this.max.y)),this},getCenter:function(p){return U((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,p)},getBottomLeft:function(){return U(this.min.x,this.max.y)},getTopRight:function(){return U(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(p){var N,A;return typeof p[0]=="number"||p instanceof H?p=U(p):p=z(p),p instanceof ee?(N=p.min,A=p.max):N=A=p,N.x>=this.min.x&&A.x<=this.max.x&&N.y>=this.min.y&&A.y<=this.max.y},intersects:function(p){p=z(p);var N=this.min,A=this.max,q=p.min,J=p.max,fe=J.x>=N.x&&q.x<=A.x,ke=J.y>=N.y&&q.y<=A.y;return fe&&ke},overlaps:function(p){p=z(p);var N=this.min,A=this.max,q=p.min,J=p.max,fe=J.x>N.x&&q.x<A.x,ke=J.y>N.y&&q.y<A.y;return fe&&ke},isValid:function(){return!!(this.min&&this.max)},pad:function(p){var N=this.min,A=this.max,q=Math.abs(N.x-A.x)*p,J=Math.abs(N.y-A.y)*p;return z(U(N.x-q,N.y-J),U(A.x+q,A.y+J))},equals:function(p){return p?(p=z(p),this.min.equals(p.getTopLeft())&&this.max.equals(p.getBottomRight())):!1}};function z(p,N){return!p||p instanceof ee?p:new ee(p,N)}function F(p,N){if(p)for(var A=N?[p,N]:p,q=0,J=A.length;q<J;q++)this.extend(A[q])}F.prototype={extend:function(p){var N=this._southWest,A=this._northEast,q,J;if(p instanceof ce)q=p,J=p;else if(p instanceof F){if(q=p._southWest,J=p._northEast,!q||!J)return this}else return p?this.extend(te(p)||ie(p)):this;return!N&&!A?(this._southWest=new ce(q.lat,q.lng),this._northEast=new ce(J.lat,J.lng)):(N.lat=Math.min(q.lat,N.lat),N.lng=Math.min(q.lng,N.lng),A.lat=Math.max(J.lat,A.lat),A.lng=Math.max(J.lng,A.lng)),this},pad:function(p){var N=this._southWest,A=this._northEast,q=Math.abs(N.lat-A.lat)*p,J=Math.abs(N.lng-A.lng)*p;return new F(new ce(N.lat-q,N.lng-J),new ce(A.lat+q,A.lng+J))},getCenter:function(){return new ce((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ce(this.getNorth(),this.getWest())},getSouthEast:function(){return new ce(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(p){typeof p[0]=="number"||p instanceof ce||"lat"in p?p=te(p):p=ie(p);var N=this._southWest,A=this._northEast,q,J;return p instanceof F?(q=p.getSouthWest(),J=p.getNorthEast()):q=J=p,q.lat>=N.lat&&J.lat<=A.lat&&q.lng>=N.lng&&J.lng<=A.lng},intersects:function(p){p=ie(p);var N=this._southWest,A=this._northEast,q=p.getSouthWest(),J=p.getNorthEast(),fe=J.lat>=N.lat&&q.lat<=A.lat,ke=J.lng>=N.lng&&q.lng<=A.lng;return fe&&ke},overlaps:function(p){p=ie(p);var N=this._southWest,A=this._northEast,q=p.getSouthWest(),J=p.getNorthEast(),fe=J.lat>N.lat&&q.lat<A.lat,ke=J.lng>N.lng&&q.lng<A.lng;return fe&&ke},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(p,N){return p?(p=ie(p),this._southWest.equals(p.getSouthWest(),N)&&this._northEast.equals(p.getNorthEast(),N)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ie(p,N){return p instanceof F?p:new F(p,N)}function ce(p,N,A){if(isNaN(p)||isNaN(N))throw new Error("Invalid LatLng object: ("+p+", "+N+")");this.lat=+p,this.lng=+N,A!==void 0&&(this.alt=+A)}ce.prototype={equals:function(p,N){if(!p)return!1;p=te(p);var A=Math.max(Math.abs(this.lat-p.lat),Math.abs(this.lng-p.lng));return A<=(N===void 0?1e-9:N)},toString:function(p){return"LatLng("+m(this.lat,p)+", "+m(this.lng,p)+")"},distanceTo:function(p){return ve.distance(this,te(p))},wrap:function(){return ve.wrapLatLng(this)},toBounds:function(p){var N=180*p/40075017,A=N/Math.cos(Math.PI/180*this.lat);return ie([this.lat-N,this.lng-A],[this.lat+N,this.lng+A])},clone:function(){return new ce(this.lat,this.lng,this.alt)}};function te(p,N,A){return p instanceof ce?p:j(p)&&typeof p[0]!="object"?p.length===3?new ce(p[0],p[1],p[2]):p.length===2?new ce(p[0],p[1]):null:p==null?p:typeof p=="object"&&"lat"in p?new ce(p.lat,"lng"in p?p.lng:p.lon,p.alt):N===void 0?null:new ce(p,N,A)}var oe={latLngToPoint:function(p,N){var A=this.projection.project(p),q=this.scale(N);return this.transformation._transform(A,q)},pointToLatLng:function(p,N){var A=this.scale(N),q=this.transformation.untransform(p,A);return this.projection.unproject(q)},project:function(p){return this.projection.project(p)},unproject:function(p){return this.projection.unproject(p)},scale:function(p){return 256*Math.pow(2,p)},zoom:function(p){return Math.log(p/256)/Math.LN2},getProjectedBounds:function(p){if(this.infinite)return null;var N=this.projection.bounds,A=this.scale(p),q=this.transformation.transform(N.min,A),J=this.transformation.transform(N.max,A);return new ee(q,J)},infinite:!1,wrapLatLng:function(p){var N=this.wrapLng?d(p.lng,this.wrapLng,!0):p.lng,A=this.wrapLat?d(p.lat,this.wrapLat,!0):p.lat,q=p.alt;return new ce(A,N,q)},wrapLatLngBounds:function(p){var N=p.getCenter(),A=this.wrapLatLng(N),q=N.lat-A.lat,J=N.lng-A.lng;if(q===0&&J===0)return p;var fe=p.getSouthWest(),ke=p.getNorthEast(),$e=new ce(fe.lat-q,fe.lng-J),Ke=new ce(ke.lat-q,ke.lng-J);return new F($e,Ke)}},ve=i({},oe,{wrapLng:[-180,180],R:6371e3,distance:function(p,N){var A=Math.PI/180,q=p.lat*A,J=N.lat*A,fe=Math.sin((N.lat-p.lat)*A/2),ke=Math.sin((N.lng-p.lng)*A/2),$e=fe*fe+Math.cos(q)*Math.cos(J)*ke*ke,Ke=2*Math.atan2(Math.sqrt($e),Math.sqrt(1-$e));return this.R*Ke}}),ne=6378137,xe={R:ne,MAX_LATITUDE:85.0511287798,project:function(p){var N=Math.PI/180,A=this.MAX_LATITUDE,q=Math.max(Math.min(A,p.lat),-A),J=Math.sin(q*N);return new H(this.R*p.lng*N,this.R*Math.log((1+J)/(1-J))/2)},unproject:function(p){var N=180/Math.PI;return new ce((2*Math.atan(Math.exp(p.y/this.R))-Math.PI/2)*N,p.x*N/this.R)},bounds:function(){var p=ne*Math.PI;return new ee([-p,-p],[p,p])}()};function ue(p,N,A,q){if(j(p)){this._a=p[0],this._b=p[1],this._c=p[2],this._d=p[3];return}this._a=p,this._b=N,this._c=A,this._d=q}ue.prototype={transform:function(p,N){return this._transform(p.clone(),N)},_transform:function(p,N){return N=N||1,p.x=N*(this._a*p.x+this._b),p.y=N*(this._c*p.y+this._d),p},untransform:function(p,N){return N=N||1,new H((p.x/N-this._b)/this._a,(p.y/N-this._d)/this._c)}};function re(p,N,A,q){return new ue(p,N,A,q)}var Se=i({},ve,{code:"EPSG:3857",projection:xe,transformation:function(){var p=.5/(Math.PI*xe.R);return re(p,.5,-p,.5)}()}),ae=i({},Se,{code:"EPSG:900913"});function X(p){return document.createElementNS("http://www.w3.org/2000/svg",p)}function Ae(p,N){var A="",q,J,fe,ke,$e,Ke;for(q=0,fe=p.length;q<fe;q++){for($e=p[q],J=0,ke=$e.length;J<ke;J++)Ke=$e[J],A+=(J?"L":"M")+Ke.x+" "+Ke.y;A+=N?Et.svg?"z":"x":""}return A||"M0 0"}var qe=document.documentElement.style,tt="ActiveXObject"in window,ze=tt&&!document.addEventListener,lt="msLaunchUri"in navigator&&!("documentMode"in document),me=ar("webkit"),_e=ar("android"),Ce=ar("android 2")||ar("android 3"),Xe=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),He=_e&&ar("Google")&&Xe<537&&!("AudioNode"in window),we=!!window.opera,Me=!lt&&ar("chrome"),et=ar("gecko")&&!me&&!we&&!tt,Ge=!Me&&ar("safari"),wt=ar("phantom"),kt="OTransition"in qe,Bn=navigator.platform.indexOf("Win")===0,pn=tt&&"transition"in qe,cn="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Ce,on="MozPerspective"in qe,Dn=!window.L_DISABLE_3D&&(pn||cn||on)&&!kt&&!wt,Rt=typeof orientation<"u"||ar("mobile"),zn=Rt&&me,ln=Rt&&cn,kn=!window.PointerEvent&&window.MSPointerEvent,Ur=!!(window.PointerEvent||kn),Jt="ontouchstart"in window||!!window.TouchEvent,Ft=!window.L_NO_TOUCH&&(Jt||Ur),Mn=Rt&&we,ps=Rt&&et,Lr=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,ki=function(){var p=!1;try{var N=Object.defineProperty({},"passive",{get:function(){p=!0}});window.addEventListener("testPassiveEventSupport",f,N),window.removeEventListener("testPassiveEventSupport",f,N)}catch{}return p}(),Xi=function(){return!!document.createElement("canvas").getContext}(),Gt=!!(document.createElementNS&&X("svg").createSVGRect),Wr=!!Gt&&function(){var p=document.createElement("div");return p.innerHTML="<svg/>",(p.firstChild&&p.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),$a=!Gt&&function(){try{var p=document.createElement("div");p.innerHTML='<v:shape adj="1"/>';var N=p.firstChild;return N.style.behavior="url(#default#VML)",N&&typeof N.adj=="object"}catch{return!1}}(),Ci=navigator.platform.indexOf("Mac")===0,qi=navigator.platform.indexOf("Linux")===0;function ar(p){return navigator.userAgent.toLowerCase().indexOf(p)>=0}var Et={ie:tt,ielt9:ze,edge:lt,webkit:me,android:_e,android23:Ce,androidStock:He,opera:we,chrome:Me,gecko:et,safari:Ge,phantom:wt,opera12:kt,win:Bn,ie3d:pn,webkit3d:cn,gecko3d:on,any3d:Dn,mobile:Rt,mobileWebkit:zn,mobileWebkit3d:ln,msPointer:kn,pointer:Ur,touch:Ft,touchNative:Jt,mobileOpera:Mn,mobileGecko:ps,retina:Lr,passiveEvents:ki,canvas:Xi,svg:Gt,vml:$a,inlineSvg:Wr,mac:Ci,linux:qi},Hr=Et.msPointer?"MSPointerDown":"pointerdown",qs=Et.msPointer?"MSPointerMove":"pointermove",xo=Et.msPointer?"MSPointerUp":"pointerup",Jo=Et.msPointer?"MSPointerCancel":"pointercancel",el={touchstart:Hr,touchmove:qs,touchend:xo,touchcancel:Jo},tl={touchstart:qp,touchmove:Gh,touchend:Gh,touchcancel:Gh},gs={},yo=!1;function Pf(p,N,A){return N==="touchstart"&&Kh(),tl[N]?(A=tl[N].bind(this,A),p.addEventListener(el[N],A,!1),A):(console.warn("wrong event specified:",N),f)}function wc(p,N,A){if(!el[N]){console.warn("wrong event specified:",N);return}p.removeEventListener(el[N],A,!1)}function Af(p){gs[p.pointerId]=p}function Hh(p){gs[p.pointerId]&&(gs[p.pointerId]=p)}function Tf(p){delete gs[p.pointerId]}function Kh(){yo||(document.addEventListener(Hr,Af,!0),document.addEventListener(qs,Hh,!0),document.addEventListener(xo,Tf,!0),document.addEventListener(Jo,Tf,!0),yo=!0)}function Gh(p,N){if(N.pointerType!==(N.MSPOINTER_TYPE_MOUSE||"mouse")){N.touches=[];for(var A in gs)N.touches.push(gs[A]);N.changedTouches=[N],p(N)}}function qp(p,N){N.MSPOINTER_TYPE_TOUCH&&N.pointerType===N.MSPOINTER_TYPE_TOUCH&&Ei(N),Gh(p,N)}function Bv(p){var N={},A,q;for(q in p)A=p[q],N[q]=A&&A.bind?A.bind(p):A;return p=N,N.type="dblclick",N.detail=2,N.isTrusted=!1,N._simulated=!0,N}var zv=200;function nl(p,N){p.addEventListener("dblclick",N);var A=0,q;function J(fe){if(fe.detail!==1){q=fe.detail;return}if(!(fe.pointerType==="mouse"||fe.sourceCapabilities&&!fe.sourceCapabilities.firesTouchEvents)){var ke=_c(fe);if(!(ke.some(function(Ke){return Ke instanceof HTMLLabelElement&&Ke.attributes.for})&&!ke.some(function(Ke){return Ke instanceof HTMLInputElement||Ke instanceof HTMLSelectElement}))){var $e=Date.now();$e-A<=zv?(q++,q===2&&N(Bv(fe))):q=1,A=$e}}}return p.addEventListener("click",J),{dblclick:N,simDblclick:J}}function Up(p,N){p.removeEventListener("dblclick",N.dblclick),p.removeEventListener("click",N.simDblclick)}var Yh=Zh(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),fu=Zh(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Wp=fu==="webkitTransition"||fu==="OTransition"?fu+"End":"transitionend";function Hp(p){return typeof p=="string"?document.getElementById(p):p}function xd(p,N){var A=p.style[N]||p.currentStyle&&p.currentStyle[N];if((!A||A==="auto")&&document.defaultView){var q=document.defaultView.getComputedStyle(p,null);A=q?q[N]:null}return A==="auto"?null:A}function Vn(p,N,A){var q=document.createElement(p);return q.className=N||"",A&&A.appendChild(q),q}function Dr(p){var N=p.parentNode;N&&N.removeChild(p)}function Xh(p){for(;p.firstChild;)p.removeChild(p.firstChild)}function oi(p){var N=p.parentNode;N&&N.lastChild!==p&&N.appendChild(p)}function hu(p){var N=p.parentNode;N&&N.firstChild!==p&&N.insertBefore(p,N.firstChild)}function rl(p,N){if(p.classList!==void 0)return p.classList.contains(N);var A=Ui(p);return A.length>0&&new RegExp("(^|\\s)"+N+"(\\s|$)").test(A)}function On(p,N){if(p.classList!==void 0)for(var A=g(N),q=0,J=A.length;q<J;q++)p.classList.add(A[q]);else if(!rl(p,N)){var fe=Ui(p);Us(p,(fe?fe+" ":"")+N)}}function vi(p,N){p.classList!==void 0?p.classList.remove(N):Us(p,h((" "+Ui(p)+" ").replace(" "+N+" "," ")))}function Us(p,N){p.className.baseVal===void 0?p.className=N:p.className.baseVal=N}function Ui(p){return p.correspondingElement&&(p=p.correspondingElement),p.className.baseVal===void 0?p.className:p.className.baseVal}function ca(p,N){"opacity"in p.style?p.style.opacity=N:"filter"in p.style&&Vv(p,N)}function Vv(p,N){var A=!1,q="DXImageTransform.Microsoft.Alpha";try{A=p.filters.item(q)}catch{if(N===1)return}N=Math.round(N*100),A?(A.Enabled=N!==100,A.Opacity=N):p.style.filter+=" progid:"+q+"(opacity="+N+")"}function Zh(p){for(var N=document.documentElement.style,A=0;A<p.length;A++)if(p[A]in N)return p[A];return!1}function mu(p,N,A){var q=N||new H(0,0);p.style[Yh]=(Et.ie3d?"translate("+q.x+"px,"+q.y+"px)":"translate3d("+q.x+"px,"+q.y+"px,0)")+(A?" scale("+A+")":"")}function Mr(p,N){p._leaflet_pos=N,Et.any3d?mu(p,N):(p.style.left=N.x+"px",p.style.top=N.y+"px")}function jc(p){return p._leaflet_pos||new H(0,0)}var yd,Nc,pu;if("onselectstart"in document)yd=function(){St(window,"selectstart",Ei)},Nc=function(){Rr(window,"selectstart",Ei)};else{var Of=Zh(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);yd=function(){if(Of){var p=document.documentElement.style;pu=p[Of],p[Of]="none"}},Nc=function(){Of&&(document.documentElement.style[Of]=pu,pu=void 0)}}function Kp(){St(window,"dragstart",Ei)}function Gp(){Rr(window,"dragstart",Ei)}var bd,Qh;function bo(p){for(;p.tabIndex===-1;)p=p.parentNode;p.style&&(Jh(),bd=p,Qh=p.style.outlineStyle,p.style.outlineStyle="none",St(window,"keydown",Jh))}function Jh(){bd&&(bd.style.outlineStyle=Qh,bd=void 0,Qh=void 0,Rr(window,"keydown",Jh))}function wd(p){do p=p.parentNode;while((!p.offsetWidth||!p.offsetHeight)&&p!==document.body);return p}function Lf(p){var N=p.getBoundingClientRect();return{x:N.width/p.offsetWidth||1,y:N.height/p.offsetHeight||1,boundingClientRect:N}}var bb={__proto__:null,TRANSFORM:Yh,TRANSITION:fu,TRANSITION_END:Wp,get:Hp,getStyle:xd,create:Vn,remove:Dr,empty:Xh,toFront:oi,toBack:hu,hasClass:rl,addClass:On,removeClass:vi,setClass:Us,getClass:Ui,setOpacity:ca,testProp:Zh,setTransform:mu,setPosition:Mr,getPosition:jc,get disableTextSelection(){return yd},get enableTextSelection(){return Nc},disableImageDrag:Kp,enableImageDrag:Gp,preventOutline:bo,restoreOutline:Jh,getSizedParentNode:wd,getScale:Lf};function St(p,N,A,q){if(N&&typeof N=="object")for(var J in N)Al(p,J,N[J],A);else{N=g(N);for(var fe=0,ke=N.length;fe<ke;fe++)Al(p,N[fe],A,q)}return this}var il="_leaflet_events";function Rr(p,N,A,q){if(arguments.length===1)qv(p),delete p[il];else if(N&&typeof N=="object")for(var J in N)Yp(p,J,N[J],A);else if(N=g(N),arguments.length===2)qv(p,function($e){return _(N,$e)!==-1});else for(var fe=0,ke=N.length;fe<ke;fe++)Yp(p,N[fe],A,q);return this}function qv(p,N){for(var A in p[il]){var q=A.split(/\d/)[0];(!N||N(q))&&Yp(p,q,null,null,A)}}var Pl={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Al(p,N,A,q){var J=N+c(A)+(q?"_"+c(q):"");if(p[il]&&p[il][J])return this;var fe=function($e){return A.call(q||p,$e||window.event)},ke=fe;!Et.touchNative&&Et.pointer&&N.indexOf("touch")===0?fe=Pf(p,N,fe):Et.touch&&N==="dblclick"?fe=nl(p,fe):"addEventListener"in p?N==="touchstart"||N==="touchmove"||N==="wheel"||N==="mousewheel"?p.addEventListener(Pl[N]||N,fe,Et.passiveEvents?{passive:!1}:!1):N==="mouseenter"||N==="mouseleave"?(fe=function($e){$e=$e||window.event,tm(p,$e)&&ke($e)},p.addEventListener(Pl[N],fe,!1)):p.addEventListener(N,ke,!1):p.attachEvent("on"+N,fe),p[il]=p[il]||{},p[il][J]=fe}function Yp(p,N,A,q,J){J=J||N+c(A)+(q?"_"+c(q):"");var fe=p[il]&&p[il][J];if(!fe)return this;!Et.touchNative&&Et.pointer&&N.indexOf("touch")===0?wc(p,N,fe):Et.touch&&N==="dblclick"?Up(p,fe):"removeEventListener"in p?p.removeEventListener(Pl[N]||N,fe,!1):p.detachEvent("on"+N,fe),p[il][J]=null}function gu(p){return p.stopPropagation?p.stopPropagation():p.originalEvent?p.originalEvent._stopped=!0:p.cancelBubble=!0,this}function jd(p){return Al(p,"wheel",gu),this}function vu(p){return St(p,"mousedown touchstart dblclick contextmenu",gu),p._leaflet_disable_click=!0,this}function Ei(p){return p.preventDefault?p.preventDefault():p.returnValue=!1,this}function xu(p){return Ei(p),gu(p),this}function _c(p){if(p.composedPath)return p.composedPath();for(var N=[],A=p.target;A;)N.push(A),A=A.parentNode;return N}function Uv(p,N){if(!N)return new H(p.clientX,p.clientY);var A=Lf(N),q=A.boundingClientRect;return new H((p.clientX-q.left)/A.x-N.clientLeft,(p.clientY-q.top)/A.y-N.clientTop)}var Xp=Et.linux&&Et.chrome?window.devicePixelRatio:Et.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function em(p){return Et.edge?p.wheelDeltaY/2:p.deltaY&&p.deltaMode===0?-p.deltaY/Xp:p.deltaY&&p.deltaMode===1?-p.deltaY*20:p.deltaY&&p.deltaMode===2?-p.deltaY*60:p.deltaX||p.deltaZ?0:p.wheelDelta?(p.wheelDeltaY||p.wheelDelta)/2:p.detail&&Math.abs(p.detail)<32765?-p.detail*20:p.detail?p.detail/-32765*60:0}function tm(p,N){var A=N.relatedTarget;if(!A)return!0;try{for(;A&&A!==p;)A=A.parentNode}catch{return!1}return A!==p}var yu={__proto__:null,on:St,off:Rr,stopPropagation:gu,disableScrollPropagation:jd,disableClickPropagation:vu,preventDefault:Ei,stop:xu,getPropagationPath:_c,getMousePosition:Uv,getWheelDelta:em,isExternalTarget:tm,addListener:St,removeListener:Rr},nm=Q.extend({run:function(p,N,A,q){this.stop(),this._el=p,this._inProgress=!0,this._duration=A||.25,this._easeOutPower=1/Math.max(q||.5,.2),this._startPos=jc(p),this._offset=N.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=D(this._animate,this),this._step()},_step:function(p){var N=+new Date-this._startTime,A=this._duration*1e3;N<A?this._runFrame(this._easeOut(N/A),p):(this._runFrame(1),this._complete())},_runFrame:function(p,N){var A=this._startPos.add(this._offset.multiplyBy(p));N&&A._round(),Mr(this._el,A),this.fire("step")},_complete:function(){I(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(p){return 1-Math.pow(1-p,this._easeOutPower)}}),Yn=Q.extend({options:{crs:Se,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(p,N){N=y(this,N),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(p),this._initLayout(),this._onResize=o(this._onResize,this),this._initEvents(),N.maxBounds&&this.setMaxBounds(N.maxBounds),N.zoom!==void 0&&(this._zoom=this._limitZoom(N.zoom)),N.center&&N.zoom!==void 0&&this.setView(te(N.center),N.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=fu&&Et.any3d&&!Et.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),St(this._proxy,Wp,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(p,N,A){if(N=N===void 0?this._zoom:this._limitZoom(N),p=this._limitCenter(te(p),N,this.options.maxBounds),A=A||{},this._stop(),this._loaded&&!A.reset&&A!==!0){A.animate!==void 0&&(A.zoom=i({animate:A.animate},A.zoom),A.pan=i({animate:A.animate,duration:A.duration},A.pan));var q=this._zoom!==N?this._tryAnimatedZoom&&this._tryAnimatedZoom(p,N,A.zoom):this._tryAnimatedPan(p,A.pan);if(q)return clearTimeout(this._sizeTimer),this}return this._resetView(p,N,A.pan&&A.pan.noMoveStart),this},setZoom:function(p,N){return this._loaded?this.setView(this.getCenter(),p,{zoom:N}):(this._zoom=p,this)},zoomIn:function(p,N){return p=p||(Et.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+p,N)},zoomOut:function(p,N){return p=p||(Et.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-p,N)},setZoomAround:function(p,N,A){var q=this.getZoomScale(N),J=this.getSize().divideBy(2),fe=p instanceof H?p:this.latLngToContainerPoint(p),ke=fe.subtract(J).multiplyBy(1-1/q),$e=this.containerPointToLatLng(J.add(ke));return this.setView($e,N,{zoom:A})},_getBoundsCenterZoom:function(p,N){N=N||{},p=p.getBounds?p.getBounds():ie(p);var A=U(N.paddingTopLeft||N.padding||[0,0]),q=U(N.paddingBottomRight||N.padding||[0,0]),J=this.getBoundsZoom(p,!1,A.add(q));if(J=typeof N.maxZoom=="number"?Math.min(N.maxZoom,J):J,J===1/0)return{center:p.getCenter(),zoom:J};var fe=q.subtract(A).divideBy(2),ke=this.project(p.getSouthWest(),J),$e=this.project(p.getNorthEast(),J),Ke=this.unproject(ke.add($e).divideBy(2).add(fe),J);return{center:Ke,zoom:J}},fitBounds:function(p,N){if(p=ie(p),!p.isValid())throw new Error("Bounds are not valid.");var A=this._getBoundsCenterZoom(p,N);return this.setView(A.center,A.zoom,N)},fitWorld:function(p){return this.fitBounds([[-90,-180],[90,180]],p)},panTo:function(p,N){return this.setView(p,this._zoom,{pan:N})},panBy:function(p,N){if(p=U(p).round(),N=N||{},!p.x&&!p.y)return this.fire("moveend");if(N.animate!==!0&&!this.getSize().contains(p))return this._resetView(this.unproject(this.project(this.getCenter()).add(p)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new nm,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),N.noMoveStart||this.fire("movestart"),N.animate!==!1){On(this._mapPane,"leaflet-pan-anim");var A=this._getMapPanePos().subtract(p).round();this._panAnim.run(this._mapPane,A,N.duration||.25,N.easeLinearity)}else this._rawPanBy(p),this.fire("move").fire("moveend");return this},flyTo:function(p,N,A){if(A=A||{},A.animate===!1||!Et.any3d)return this.setView(p,N,A);this._stop();var q=this.project(this.getCenter()),J=this.project(p),fe=this.getSize(),ke=this._zoom;p=te(p),N=N===void 0?ke:N;var $e=Math.max(fe.x,fe.y),Ke=$e*this.getZoomScale(ke,N),ot=J.distanceTo(q)||1,It=1.42,un=It*It;function tr(Kr){var Es=Kr?-1:1,SA=Kr?Ke:$e,kA=Ke*Ke-$e*$e+Es*un*un*ot*ot,fN=2*SA*un*ot,Jv=kA/fN,Eb=Math.sqrt(Jv*Jv+1)-Jv,hN=Eb<1e-9?-18:Math.log(Eb);return hN}function Cs(Kr){return(Math.exp(Kr)-Math.exp(-Kr))/2}function Sa(Kr){return(Math.exp(Kr)+Math.exp(-Kr))/2}function ul(Kr){return Cs(Kr)/Sa(Kr)}var Ys=tr(0);function cm(Kr){return $e*(Sa(Ys)/Sa(Ys+It*Kr))}function NA(Kr){return $e*(Sa(Ys)*ul(Ys+It*Kr)-Cs(Ys))/un}function Ed(Kr){return 1-Math.pow(1-Kr,1.5)}var Ml=Date.now(),Mc=(tr(1)-Ys)/It,_A=A.duration?1e3*A.duration:1e3*Mc*.8;function Cb(){var Kr=(Date.now()-Ml)/_A,Es=Ed(Kr)*Mc;Kr<=1?(this._flyToFrame=D(Cb,this),this._move(this.unproject(q.add(J.subtract(q).multiplyBy(NA(Es)/ot)),ke),this.getScaleZoom($e/cm(Es),ke),{flyTo:!0})):this._move(p,N)._moveEnd(!0)}return this._moveStart(!0,A.noMoveStart),Cb.call(this),this},flyToBounds:function(p,N){var A=this._getBoundsCenterZoom(p,N);return this.flyTo(A.center,A.zoom,N)},setMaxBounds:function(p){return p=ie(p),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),p.isValid()?(this.options.maxBounds=p,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(p){var N=this.options.minZoom;return this.options.minZoom=p,this._loaded&&N!==p&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(p):this},setMaxZoom:function(p){var N=this.options.maxZoom;return this.options.maxZoom=p,this._loaded&&N!==p&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(p):this},panInsideBounds:function(p,N){this._enforcingBounds=!0;var A=this.getCenter(),q=this._limitCenter(A,this._zoom,ie(p));return A.equals(q)||this.panTo(q,N),this._enforcingBounds=!1,this},panInside:function(p,N){N=N||{};var A=U(N.paddingTopLeft||N.padding||[0,0]),q=U(N.paddingBottomRight||N.padding||[0,0]),J=this.project(this.getCenter()),fe=this.project(p),ke=this.getPixelBounds(),$e=z([ke.min.add(A),ke.max.subtract(q)]),Ke=$e.getSize();if(!$e.contains(fe)){this._enforcingBounds=!0;var ot=fe.subtract($e.getCenter()),It=$e.extend(fe).getSize().subtract(Ke);J.x+=ot.x<0?-It.x:It.x,J.y+=ot.y<0?-It.y:It.y,this.panTo(this.unproject(J),N),this._enforcingBounds=!1}return this},invalidateSize:function(p){if(!this._loaded)return this;p=i({animate:!1,pan:!0},p===!0?{animate:!0}:p);var N=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var A=this.getSize(),q=N.divideBy(2).round(),J=A.divideBy(2).round(),fe=q.subtract(J);return!fe.x&&!fe.y?this:(p.animate&&p.pan?this.panBy(fe):(p.pan&&this._rawPanBy(fe),this.fire("move"),p.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(o(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:N,newSize:A}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(p){if(p=this._locateOptions=i({timeout:1e4,watch:!1},p),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var N=o(this._handleGeolocationResponse,this),A=o(this._handleGeolocationError,this);return p.watch?this._locationWatchId=navigator.geolocation.watchPosition(N,A,p):navigator.geolocation.getCurrentPosition(N,A,p),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(p){if(this._container._leaflet_id){var N=p.code,A=p.message||(N===1?"permission denied":N===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:N,message:"Geolocation error: "+A+"."})}},_handleGeolocationResponse:function(p){if(this._container._leaflet_id){var N=p.coords.latitude,A=p.coords.longitude,q=new ce(N,A),J=q.toBounds(p.coords.accuracy*2),fe=this._locateOptions;if(fe.setView){var ke=this.getBoundsZoom(J);this.setView(q,fe.maxZoom?Math.min(ke,fe.maxZoom):ke)}var $e={latlng:q,bounds:J,timestamp:p.timestamp};for(var Ke in p.coords)typeof p.coords[Ke]=="number"&&($e[Ke]=p.coords[Ke]);this.fire("locationfound",$e)}},addHandler:function(p,N){if(!N)return this;var A=this[p]=new N(this);return this._handlers.push(A),this.options[p]&&A.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Dr(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(I(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var p;for(p in this._layers)this._layers[p].remove();for(p in this._panes)Dr(this._panes[p]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(p,N){var A="leaflet-pane"+(p?" leaflet-"+p.replace("Pane","")+"-pane":""),q=Vn("div",A,N||this._mapPane);return p&&(this._panes[p]=q),q},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var p=this.getPixelBounds(),N=this.unproject(p.getBottomLeft()),A=this.unproject(p.getTopRight());return new F(N,A)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(p,N,A){p=ie(p),A=U(A||[0,0]);var q=this.getZoom()||0,J=this.getMinZoom(),fe=this.getMaxZoom(),ke=p.getNorthWest(),$e=p.getSouthEast(),Ke=this.getSize().subtract(A),ot=z(this.project($e,q),this.project(ke,q)).getSize(),It=Et.any3d?this.options.zoomSnap:1,un=Ke.x/ot.x,tr=Ke.y/ot.y,Cs=N?Math.max(un,tr):Math.min(un,tr);return q=this.getScaleZoom(Cs,q),It&&(q=Math.round(q/(It/100))*(It/100),q=N?Math.ceil(q/It)*It:Math.floor(q/It)*It),Math.max(J,Math.min(fe,q))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new H(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(p,N){var A=this._getTopLeftPoint(p,N);return new ee(A,A.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(p){return this.options.crs.getProjectedBounds(p===void 0?this.getZoom():p)},getPane:function(p){return typeof p=="string"?this._panes[p]:p},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(p,N){var A=this.options.crs;return N=N===void 0?this._zoom:N,A.scale(p)/A.scale(N)},getScaleZoom:function(p,N){var A=this.options.crs;N=N===void 0?this._zoom:N;var q=A.zoom(p*A.scale(N));return isNaN(q)?1/0:q},project:function(p,N){return N=N===void 0?this._zoom:N,this.options.crs.latLngToPoint(te(p),N)},unproject:function(p,N){return N=N===void 0?this._zoom:N,this.options.crs.pointToLatLng(U(p),N)},layerPointToLatLng:function(p){var N=U(p).add(this.getPixelOrigin());return this.unproject(N)},latLngToLayerPoint:function(p){var N=this.project(te(p))._round();return N._subtract(this.getPixelOrigin())},wrapLatLng:function(p){return this.options.crs.wrapLatLng(te(p))},wrapLatLngBounds:function(p){return this.options.crs.wrapLatLngBounds(ie(p))},distance:function(p,N){return this.options.crs.distance(te(p),te(N))},containerPointToLayerPoint:function(p){return U(p).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(p){return U(p).add(this._getMapPanePos())},containerPointToLatLng:function(p){var N=this.containerPointToLayerPoint(U(p));return this.layerPointToLatLng(N)},latLngToContainerPoint:function(p){return this.layerPointToContainerPoint(this.latLngToLayerPoint(te(p)))},mouseEventToContainerPoint:function(p){return Uv(p,this._container)},mouseEventToLayerPoint:function(p){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(p))},mouseEventToLatLng:function(p){return this.layerPointToLatLng(this.mouseEventToLayerPoint(p))},_initContainer:function(p){var N=this._container=Hp(p);if(N){if(N._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");St(N,"scroll",this._onScroll,this),this._containerId=c(N)},_initLayout:function(){var p=this._container;this._fadeAnimated=this.options.fadeAnimation&&Et.any3d,On(p,"leaflet-container"+(Et.touch?" leaflet-touch":"")+(Et.retina?" leaflet-retina":"")+(Et.ielt9?" leaflet-oldie":"")+(Et.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var N=xd(p,"position");N!=="absolute"&&N!=="relative"&&N!=="fixed"&&N!=="sticky"&&(p.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var p=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Mr(this._mapPane,new H(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(On(p.markerPane,"leaflet-zoom-hide"),On(p.shadowPane,"leaflet-zoom-hide"))},_resetView:function(p,N,A){Mr(this._mapPane,new H(0,0));var q=!this._loaded;this._loaded=!0,N=this._limitZoom(N),this.fire("viewprereset");var J=this._zoom!==N;this._moveStart(J,A)._move(p,N)._moveEnd(J),this.fire("viewreset"),q&&this.fire("load")},_moveStart:function(p,N){return p&&this.fire("zoomstart"),N||this.fire("movestart"),this},_move:function(p,N,A,q){N===void 0&&(N=this._zoom);var J=this._zoom!==N;return this._zoom=N,this._lastCenter=p,this._pixelOrigin=this._getNewPixelOrigin(p),q?A&&A.pinch&&this.fire("zoom",A):((J||A&&A.pinch)&&this.fire("zoom",A),this.fire("move",A)),this},_moveEnd:function(p){return p&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return I(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(p){Mr(this._mapPane,this._getMapPanePos().subtract(p))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(p){this._targets={},this._targets[c(this._container)]=this;var N=p?Rr:St;N(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&N(window,"resize",this._onResize,this),Et.any3d&&this.options.transform3DLimit&&(p?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){I(this._resizeRequest),this._resizeRequest=D(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var p=this._getMapPanePos();Math.max(Math.abs(p.x),Math.abs(p.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(p,N){for(var A=[],q,J=N==="mouseout"||N==="mouseover",fe=p.target||p.srcElement,ke=!1;fe;){if(q=this._targets[c(fe)],q&&(N==="click"||N==="preclick")&&this._draggableMoved(q)){ke=!0;break}if(q&&q.listens(N,!0)&&(J&&!tm(fe,p)||(A.push(q),J))||fe===this._container)break;fe=fe.parentNode}return!A.length&&!ke&&!J&&this.listens(N,!0)&&(A=[this]),A},_isClickDisabled:function(p){for(;p&&p!==this._container;){if(p._leaflet_disable_click)return!0;p=p.parentNode}},_handleDOMEvent:function(p){var N=p.target||p.srcElement;if(!(!this._loaded||N._leaflet_disable_events||p.type==="click"&&this._isClickDisabled(N))){var A=p.type;A==="mousedown"&&bo(N),this._fireDOMEvent(p,A)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(p,N,A){if(p.type==="click"){var q=i({},p);q.type="preclick",this._fireDOMEvent(q,q.type,A)}var J=this._findEventTargets(p,N);if(A){for(var fe=[],ke=0;ke<A.length;ke++)A[ke].listens(N,!0)&&fe.push(A[ke]);J=fe.concat(J)}if(J.length){N==="contextmenu"&&Ei(p);var $e=J[0],Ke={originalEvent:p};if(p.type!=="keypress"&&p.type!=="keydown"&&p.type!=="keyup"){var ot=$e.getLatLng&&(!$e._radius||$e._radius<=10);Ke.containerPoint=ot?this.latLngToContainerPoint($e.getLatLng()):this.mouseEventToContainerPoint(p),Ke.layerPoint=this.containerPointToLayerPoint(Ke.containerPoint),Ke.latlng=ot?$e.getLatLng():this.layerPointToLatLng(Ke.layerPoint)}for(ke=0;ke<J.length;ke++)if(J[ke].fire(N,Ke,!0),Ke.originalEvent._stopped||J[ke].options.bubblingMouseEvents===!1&&_(this._mouseEvents,N)!==-1)return}},_draggableMoved:function(p){return p=p.dragging&&p.dragging.enabled()?p:this,p.dragging&&p.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var p=0,N=this._handlers.length;p<N;p++)this._handlers[p].disable()},whenReady:function(p,N){return this._loaded?p.call(N||this,{target:this}):this.on("load",p,N),this},_getMapPanePos:function(){return jc(this._mapPane)||new H(0,0)},_moved:function(){var p=this._getMapPanePos();return p&&!p.equals([0,0])},_getTopLeftPoint:function(p,N){var A=p&&N!==void 0?this._getNewPixelOrigin(p,N):this.getPixelOrigin();return A.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(p,N){var A=this.getSize()._divideBy(2);return this.project(p,N)._subtract(A)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(p,N,A){var q=this._getNewPixelOrigin(A,N);return this.project(p,N)._subtract(q)},_latLngBoundsToNewLayerBounds:function(p,N,A){var q=this._getNewPixelOrigin(A,N);return z([this.project(p.getSouthWest(),N)._subtract(q),this.project(p.getNorthWest(),N)._subtract(q),this.project(p.getSouthEast(),N)._subtract(q),this.project(p.getNorthEast(),N)._subtract(q)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(p){return this.latLngToLayerPoint(p).subtract(this._getCenterLayerPoint())},_limitCenter:function(p,N,A){if(!A)return p;var q=this.project(p,N),J=this.getSize().divideBy(2),fe=new ee(q.subtract(J),q.add(J)),ke=this._getBoundsOffset(fe,A,N);return Math.abs(ke.x)<=1&&Math.abs(ke.y)<=1?p:this.unproject(q.add(ke),N)},_limitOffset:function(p,N){if(!N)return p;var A=this.getPixelBounds(),q=new ee(A.min.add(p),A.max.add(p));return p.add(this._getBoundsOffset(q,N))},_getBoundsOffset:function(p,N,A){var q=z(this.project(N.getNorthEast(),A),this.project(N.getSouthWest(),A)),J=q.min.subtract(p.min),fe=q.max.subtract(p.max),ke=this._rebound(J.x,-fe.x),$e=this._rebound(J.y,-fe.y);return new H(ke,$e)},_rebound:function(p,N){return p+N>0?Math.round(p-N)/2:Math.max(0,Math.ceil(p))-Math.max(0,Math.floor(N))},_limitZoom:function(p){var N=this.getMinZoom(),A=this.getMaxZoom(),q=Et.any3d?this.options.zoomSnap:1;return q&&(p=Math.round(p/q)*q),Math.max(N,Math.min(A,p))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){vi(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(p,N){var A=this._getCenterOffset(p)._trunc();return(N&&N.animate)!==!0&&!this.getSize().contains(A)?!1:(this.panBy(A,N),!0)},_createAnimProxy:function(){var p=this._proxy=Vn("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(p),this.on("zoomanim",function(N){var A=Yh,q=this._proxy.style[A];mu(this._proxy,this.project(N.center,N.zoom),this.getZoomScale(N.zoom,1)),q===this._proxy.style[A]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Dr(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var p=this.getCenter(),N=this.getZoom();mu(this._proxy,this.project(p,N),this.getZoomScale(N,1))},_catchTransitionEnd:function(p){this._animatingZoom&&p.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(p,N,A){if(this._animatingZoom)return!0;if(A=A||{},!this._zoomAnimated||A.animate===!1||this._nothingToAnimate()||Math.abs(N-this._zoom)>this.options.zoomAnimationThreshold)return!1;var q=this.getZoomScale(N),J=this._getCenterOffset(p)._divideBy(1-1/q);return A.animate!==!0&&!this.getSize().contains(J)?!1:(D(function(){this._moveStart(!0,A.noMoveStart||!1)._animateZoom(p,N,!0)},this),!0)},_animateZoom:function(p,N,A,q){this._mapPane&&(A&&(this._animatingZoom=!0,this._animateToCenter=p,this._animateToZoom=N,On(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:p,zoom:N,noUpdate:q}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(o(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&vi(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Zp(p,N){return new Yn(p,N)}var Za=$.extend({options:{position:"topright"},initialize:function(p){y(this,p)},getPosition:function(){return this.options.position},setPosition:function(p){var N=this._map;return N&&N.removeControl(this),this.options.position=p,N&&N.addControl(this),this},getContainer:function(){return this._container},addTo:function(p){this.remove(),this._map=p;var N=this._container=this.onAdd(p),A=this.getPosition(),q=p._controlCorners[A];return On(N,"leaflet-control"),A.indexOf("bottom")!==-1?q.insertBefore(N,q.firstChild):q.appendChild(N),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Dr(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(p){this._map&&p&&p.screenX>0&&p.screenY>0&&this._map.getContainer().focus()}}),bu=function(p){return new Za(p)};Yn.include({addControl:function(p){return p.addTo(this),this},removeControl:function(p){return p.remove(),this},_initControlPos:function(){var p=this._controlCorners={},N="leaflet-",A=this._controlContainer=Vn("div",N+"control-container",this._container);function q(J,fe){var ke=N+J+" "+N+fe;p[J+fe]=Vn("div",ke,A)}q("top","left"),q("top","right"),q("bottom","left"),q("bottom","right")},_clearControlPos:function(){for(var p in this._controlCorners)Dr(this._controlCorners[p]);Dr(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Qp=Za.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(p,N,A,q){return A<q?-1:q<A?1:0}},initialize:function(p,N,A){y(this,A),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var q in p)this._addLayer(p[q],q);for(q in N)this._addLayer(N[q],q,!0)},onAdd:function(p){this._initLayout(),this._update(),this._map=p,p.on("zoomend",this._checkDisabledLayers,this);for(var N=0;N<this._layers.length;N++)this._layers[N].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(p){return Za.prototype.addTo.call(this,p),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var p=0;p<this._layers.length;p++)this._layers[p].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(p,N){return this._addLayer(p,N),this._map?this._update():this},addOverlay:function(p,N){return this._addLayer(p,N,!0),this._map?this._update():this},removeLayer:function(p){p.off("add remove",this._onLayerChange,this);var N=this._getLayer(c(p));return N&&this._layers.splice(this._layers.indexOf(N),1),this._map?this._update():this},expand:function(){On(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var p=this._map.getSize().y-(this._container.offsetTop+50);return p<this._section.clientHeight?(On(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=p+"px"):vi(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return vi(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var p="leaflet-control-layers",N=this._container=Vn("div",p),A=this.options.collapsed;N.setAttribute("aria-haspopup",!0),vu(N),jd(N);var q=this._section=Vn("section",p+"-list");A&&(this._map.on("click",this.collapse,this),St(N,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var J=this._layersLink=Vn("a",p+"-toggle",N);J.href="#",J.title="Layers",J.setAttribute("role","button"),St(J,{keydown:function(fe){fe.keyCode===13&&this._expandSafely()},click:function(fe){Ei(fe),this._expandSafely()}},this),A||this.expand(),this._baseLayersList=Vn("div",p+"-base",q),this._separator=Vn("div",p+"-separator",q),this._overlaysList=Vn("div",p+"-overlays",q),N.appendChild(q)},_getLayer:function(p){for(var N=0;N<this._layers.length;N++)if(this._layers[N]&&c(this._layers[N].layer)===p)return this._layers[N]},_addLayer:function(p,N,A){this._map&&p.on("add remove",this._onLayerChange,this),this._layers.push({layer:p,name:N,overlay:A}),this.options.sortLayers&&this._layers.sort(o(function(q,J){return this.options.sortFunction(q.layer,J.layer,q.name,J.name)},this)),this.options.autoZIndex&&p.setZIndex&&(this._lastZIndex++,p.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Xh(this._baseLayersList),Xh(this._overlaysList),this._layerControlInputs=[];var p,N,A,q,J=0;for(A=0;A<this._layers.length;A++)q=this._layers[A],this._addItem(q),N=N||q.overlay,p=p||!q.overlay,J+=q.overlay?0:1;return this.options.hideSingleBase&&(p=p&&J>1,this._baseLayersList.style.display=p?"":"none"),this._separator.style.display=N&&p?"":"none",this},_onLayerChange:function(p){this._handlingClick||this._update();var N=this._getLayer(c(p.target)),A=N.overlay?p.type==="add"?"overlayadd":"overlayremove":p.type==="add"?"baselayerchange":null;A&&this._map.fire(A,N)},_createRadioElement:function(p,N){var A='<input type="radio" class="leaflet-control-layers-selector" name="'+p+'"'+(N?' checked="checked"':"")+"/>",q=document.createElement("div");return q.innerHTML=A,q.firstChild},_addItem:function(p){var N=document.createElement("label"),A=this._map.hasLayer(p.layer),q;p.overlay?(q=document.createElement("input"),q.type="checkbox",q.className="leaflet-control-layers-selector",q.defaultChecked=A):q=this._createRadioElement("leaflet-base-layers_"+c(this),A),this._layerControlInputs.push(q),q.layerId=c(p.layer),St(q,"click",this._onInputClick,this);var J=document.createElement("span");J.innerHTML=" "+p.name;var fe=document.createElement("span");N.appendChild(fe),fe.appendChild(q),fe.appendChild(J);var ke=p.overlay?this._overlaysList:this._baseLayersList;return ke.appendChild(N),this._checkDisabledLayers(),N},_onInputClick:function(){if(!this._preventClick){var p=this._layerControlInputs,N,A,q=[],J=[];this._handlingClick=!0;for(var fe=p.length-1;fe>=0;fe--)N=p[fe],A=this._getLayer(N.layerId).layer,N.checked?q.push(A):N.checked||J.push(A);for(fe=0;fe<J.length;fe++)this._map.hasLayer(J[fe])&&this._map.removeLayer(J[fe]);for(fe=0;fe<q.length;fe++)this._map.hasLayer(q[fe])||this._map.addLayer(q[fe]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var p=this._layerControlInputs,N,A,q=this._map.getZoom(),J=p.length-1;J>=0;J--)N=p[J],A=this._getLayer(N.layerId).layer,N.disabled=A.options.minZoom!==void 0&&q<A.options.minZoom||A.options.maxZoom!==void 0&&q>A.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var p=this._section;this._preventClick=!0,St(p,"click",Ei),this.expand();var N=this;setTimeout(function(){Rr(p,"click",Ei),N._preventClick=!1})}}),Wv=function(p,N,A){return new Qp(p,N,A)},Tl=Za.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(p){var N="leaflet-control-zoom",A=Vn("div",N+" leaflet-bar"),q=this.options;return this._zoomInButton=this._createButton(q.zoomInText,q.zoomInTitle,N+"-in",A,this._zoomIn),this._zoomOutButton=this._createButton(q.zoomOutText,q.zoomOutTitle,N+"-out",A,this._zoomOut),this._updateDisabled(),p.on("zoomend zoomlevelschange",this._updateDisabled,this),A},onRemove:function(p){p.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(p){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(p.shiftKey?3:1))},_zoomOut:function(p){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(p.shiftKey?3:1))},_createButton:function(p,N,A,q,J){var fe=Vn("a",A,q);return fe.innerHTML=p,fe.href="#",fe.title=N,fe.setAttribute("role","button"),fe.setAttribute("aria-label",N),vu(fe),St(fe,"click",xu),St(fe,"click",J,this),St(fe,"click",this._refocusOnMap,this),fe},_updateDisabled:function(){var p=this._map,N="leaflet-disabled";vi(this._zoomInButton,N),vi(this._zoomOutButton,N),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||p._zoom===p.getMinZoom())&&(On(this._zoomOutButton,N),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||p._zoom===p.getMaxZoom())&&(On(this._zoomInButton,N),this._zoomInButton.setAttribute("aria-disabled","true"))}});Yn.mergeOptions({zoomControl:!0}),Yn.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Tl,this.addControl(this.zoomControl))});var wu=function(p){return new Tl(p)},Jp=Za.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(p){var N="leaflet-control-scale",A=Vn("div",N),q=this.options;return this._addScales(q,N+"-line",A),p.on(q.updateWhenIdle?"moveend":"move",this._update,this),p.whenReady(this._update,this),A},onRemove:function(p){p.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(p,N,A){p.metric&&(this._mScale=Vn("div",N,A)),p.imperial&&(this._iScale=Vn("div",N,A))},_update:function(){var p=this._map,N=p.getSize().y/2,A=p.distance(p.containerPointToLatLng([0,N]),p.containerPointToLatLng([this.options.maxWidth,N]));this._updateScales(A)},_updateScales:function(p){this.options.metric&&p&&this._updateMetric(p),this.options.imperial&&p&&this._updateImperial(p)},_updateMetric:function(p){var N=this._getRoundNum(p),A=N<1e3?N+" m":N/1e3+" km";this._updateScale(this._mScale,A,N/p)},_updateImperial:function(p){var N=p*3.2808399,A,q,J;N>5280?(A=N/5280,q=this._getRoundNum(A),this._updateScale(this._iScale,q+" mi",q/A)):(J=this._getRoundNum(N),this._updateScale(this._iScale,J+" ft",J/N))},_updateScale:function(p,N,A){p.style.width=Math.round(this.options.maxWidth*A)+"px",p.innerHTML=N},_getRoundNum:function(p){var N=Math.pow(10,(Math.floor(p)+"").length-1),A=p/N;return A=A>=10?10:A>=5?5:A>=3?3:A>=2?2:1,N*A}}),Mf=function(p){return new Jp(p)},Hv='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',V=Za.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Et.inlineSvg?Hv+" ":"")+"Leaflet</a>"},initialize:function(p){y(this,p),this._attributions={}},onAdd:function(p){p.attributionControl=this,this._container=Vn("div","leaflet-control-attribution"),vu(this._container);for(var N in p._layers)p._layers[N].getAttribution&&this.addAttribution(p._layers[N].getAttribution());return this._update(),p.on("layeradd",this._addAttribution,this),this._container},onRemove:function(p){p.off("layeradd",this._addAttribution,this)},_addAttribution:function(p){p.layer.getAttribution&&(this.addAttribution(p.layer.getAttribution()),p.layer.once("remove",function(){this.removeAttribution(p.layer.getAttribution())},this))},setPrefix:function(p){return this.options.prefix=p,this._update(),this},addAttribution:function(p){return p?(this._attributions[p]||(this._attributions[p]=0),this._attributions[p]++,this._update(),this):this},removeAttribution:function(p){return p?(this._attributions[p]&&(this._attributions[p]--,this._update()),this):this},_update:function(){if(this._map){var p=[];for(var N in this._attributions)this._attributions[N]&&p.push(N);var A=[];this.options.prefix&&A.push(this.options.prefix),p.length&&A.push(p.join(", ")),this._container.innerHTML=A.join(' <span aria-hidden="true">|</span> ')}}});Yn.mergeOptions({attributionControl:!0}),Yn.addInitHook(function(){this.options.attributionControl&&new V().addTo(this)});var se=function(p){return new V(p)};Za.Layers=Qp,Za.Zoom=Tl,Za.Scale=Jp,Za.Attribution=V,bu.layers=Wv,bu.zoom=wu,bu.scale=Mf,bu.attribution=se;var be=$.extend({initialize:function(p){this._map=p},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});be.addTo=function(p,N){return p.addHandler(N,this),this};var Ee={Events:Y},Ie=Et.touch?"touchstart mousedown":"mousedown",Ye=Q.extend({options:{clickTolerance:3},initialize:function(p,N,A,q){y(this,q),this._element=p,this._dragStartTarget=N||p,this._preventOutline=A},enable:function(){this._enabled||(St(this._dragStartTarget,Ie,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Ye._dragging===this&&this.finishDrag(!0),Rr(this._dragStartTarget,Ie,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(p){if(this._enabled&&(this._moved=!1,!rl(this._element,"leaflet-zoom-anim"))){if(p.touches&&p.touches.length!==1){Ye._dragging===this&&this.finishDrag();return}if(!(Ye._dragging||p.shiftKey||p.which!==1&&p.button!==1&&!p.touches)&&(Ye._dragging=this,this._preventOutline&&bo(this._element),Kp(),yd(),!this._moving)){this.fire("down");var N=p.touches?p.touches[0]:p,A=wd(this._element);this._startPoint=new H(N.clientX,N.clientY),this._startPos=jc(this._element),this._parentScale=Lf(A);var q=p.type==="mousedown";St(document,q?"mousemove":"touchmove",this._onMove,this),St(document,q?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(p){if(this._enabled){if(p.touches&&p.touches.length>1){this._moved=!0;return}var N=p.touches&&p.touches.length===1?p.touches[0]:p,A=new H(N.clientX,N.clientY)._subtract(this._startPoint);!A.x&&!A.y||Math.abs(A.x)+Math.abs(A.y)<this.options.clickTolerance||(A.x/=this._parentScale.x,A.y/=this._parentScale.y,Ei(p),this._moved||(this.fire("dragstart"),this._moved=!0,On(document.body,"leaflet-dragging"),this._lastTarget=p.target||p.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),On(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(A),this._moving=!0,this._lastEvent=p,this._updatePosition())}},_updatePosition:function(){var p={originalEvent:this._lastEvent};this.fire("predrag",p),Mr(this._element,this._newPos),this.fire("drag",p)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(p){vi(document.body,"leaflet-dragging"),this._lastTarget&&(vi(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Rr(document,"mousemove touchmove",this._onMove,this),Rr(document,"mouseup touchend touchcancel",this._onUp,this),Gp(),Nc();var N=this._moved&&this._moving;this._moving=!1,Ye._dragging=!1,N&&this.fire("dragend",{noInertia:p,distance:this._newPos.distanceTo(this._startPos)})}});function st(p,N,A){var q,J=[1,4,2,8],fe,ke,$e,Ke,ot,It,un,tr;for(fe=0,It=p.length;fe<It;fe++)p[fe]._code=Qa(p[fe],N);for($e=0;$e<4;$e++){for(un=J[$e],q=[],fe=0,It=p.length,ke=It-1;fe<It;ke=fe++)Ke=p[fe],ot=p[ke],Ke._code&un?ot._code&un||(tr=al(ot,Ke,un,N,A),tr._code=Qa(tr,N),q.push(tr)):(ot._code&un&&(tr=al(ot,Ke,un,N,A),tr._code=Qa(tr,N),q.push(tr)),q.push(Ke));p=q}return p}function Bt(p,N){var A,q,J,fe,ke,$e,Ke,ot,It;if(!p||p.length===0)throw new Error("latlngs not passed");Ja(p)||(console.warn("latlngs are not flat! Only the first ring will be used"),p=p[0]);var un=te([0,0]),tr=ie(p),Cs=tr.getNorthWest().distanceTo(tr.getSouthWest())*tr.getNorthEast().distanceTo(tr.getNorthWest());Cs<1700&&(un=Ht(p));var Sa=p.length,ul=[];for(A=0;A<Sa;A++){var Ys=te(p[A]);ul.push(N.project(te([Ys.lat-un.lat,Ys.lng-un.lng])))}for($e=Ke=ot=0,A=0,q=Sa-1;A<Sa;q=A++)J=ul[A],fe=ul[q],ke=J.y*fe.x-fe.y*J.x,Ke+=(J.x+fe.x)*ke,ot+=(J.y+fe.y)*ke,$e+=ke*3;$e===0?It=ul[0]:It=[Ke/$e,ot/$e];var cm=N.unproject(U(It));return te([cm.lat+un.lat,cm.lng+un.lng])}function Ht(p){for(var N=0,A=0,q=0,J=0;J<p.length;J++){var fe=te(p[J]);N+=fe.lat,A+=fe.lng,q++}return te([N/q,A/q])}var Cn={__proto__:null,clipPolygon:st,polygonCenter:Bt,centroid:Ht};function Rn(p,N){if(!N||!p.length)return p.slice();var A=N*N;return p=Na(p,A),p=ua(p,A),p}function hr(p,N,A){return Math.sqrt(Nu(p,N,A,!0))}function Pi(p,N,A){return Nu(p,N,A)}function ua(p,N){var A=p.length,q=typeof Uint8Array<"u"?Uint8Array:Array,J=new q(A);J[0]=J[A-1]=1,$r(p,J,N,0,A-1);var fe,ke=[];for(fe=0;fe<A;fe++)J[fe]&&ke.push(p[fe]);return ke}function $r(p,N,A,q,J){var fe=0,ke,$e,Ke;for($e=q+1;$e<=J-1;$e++)Ke=Nu(p[$e],p[q],p[J],!0),Ke>fe&&(ke=$e,fe=Ke);fe>A&&(N[ke]=1,$r(p,N,A,q,ke),$r(p,N,A,ke,J))}function Na(p,N){for(var A=[p[0]],q=1,J=0,fe=p.length;q<fe;q++)ju(p[q],p[J])>N&&(A.push(p[q]),J=q);return J<fe-1&&A.push(p[fe-1]),A}var Zi;function Fa(p,N,A,q,J){var fe=q?Zi:Qa(p,A),ke=Qa(N,A),$e,Ke,ot;for(Zi=ke;;){if(!(fe|ke))return[p,N];if(fe&ke)return!1;$e=fe||ke,Ke=al(p,N,$e,A,J),ot=Qa(Ke,A),$e===fe?(p=Ke,fe=ot):(N=Ke,ke=ot)}}function al(p,N,A,q,J){var fe=N.x-p.x,ke=N.y-p.y,$e=q.min,Ke=q.max,ot,It;return A&8?(ot=p.x+fe*(Ke.y-p.y)/ke,It=Ke.y):A&4?(ot=p.x+fe*($e.y-p.y)/ke,It=$e.y):A&2?(ot=Ke.x,It=p.y+ke*(Ke.x-p.x)/fe):A&1&&(ot=$e.x,It=p.y+ke*($e.x-p.x)/fe),new H(ot,It,J)}function Qa(p,N){var A=0;return p.x<N.min.x?A|=1:p.x>N.max.x&&(A|=2),p.y<N.min.y?A|=4:p.y>N.max.y&&(A|=8),A}function ju(p,N){var A=N.x-p.x,q=N.y-p.y;return A*A+q*q}function Nu(p,N,A,q){var J=N.x,fe=N.y,ke=A.x-J,$e=A.y-fe,Ke=ke*ke+$e*$e,ot;return Ke>0&&(ot=((p.x-J)*ke+(p.y-fe)*$e)/Ke,ot>1?(J=A.x,fe=A.y):ot>0&&(J+=ke*ot,fe+=$e*ot)),ke=p.x-J,$e=p.y-fe,q?ke*ke+$e*$e:new H(J,fe)}function Ja(p){return!j(p[0])||typeof p[0][0]!="object"&&typeof p[0][0]<"u"}function _u(p){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Ja(p)}function Nd(p,N){var A,q,J,fe,ke,$e,Ke,ot;if(!p||p.length===0)throw new Error("latlngs not passed");Ja(p)||(console.warn("latlngs are not flat! Only the first ring will be used"),p=p[0]);var It=te([0,0]),un=ie(p),tr=un.getNorthWest().distanceTo(un.getSouthWest())*un.getNorthEast().distanceTo(un.getNorthWest());tr<1700&&(It=Ht(p));var Cs=p.length,Sa=[];for(A=0;A<Cs;A++){var ul=te(p[A]);Sa.push(N.project(te([ul.lat-It.lat,ul.lng-It.lng])))}for(A=0,q=0;A<Cs-1;A++)q+=Sa[A].distanceTo(Sa[A+1])/2;if(q===0)ot=Sa[0];else for(A=0,fe=0;A<Cs-1;A++)if(ke=Sa[A],$e=Sa[A+1],J=ke.distanceTo($e),fe+=J,fe>q){Ke=(fe-q)/J,ot=[$e.x-Ke*($e.x-ke.x),$e.y-Ke*($e.y-ke.y)];break}var Ys=N.unproject(U(ot));return te([Ys.lat+It.lat,Ys.lng+It.lng])}var If={__proto__:null,simplify:Rn,pointToSegmentDistance:hr,closestPointOnSegment:Pi,clipSegment:Fa,_getEdgeIntersection:al,_getBitCode:Qa,_sqClosestPointOnSegment:Nu,isFlat:Ja,_flat:_u,polylineCenter:Nd},Sc={project:function(p){return new H(p.lng,p.lat)},unproject:function(p){return new ce(p.y,p.x)},bounds:new ee([-180,-90],[180,90])},_a={R:6378137,R_MINOR:6356752314245179e-9,bounds:new ee([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(p){var N=Math.PI/180,A=this.R,q=p.lat*N,J=this.R_MINOR/A,fe=Math.sqrt(1-J*J),ke=fe*Math.sin(q),$e=Math.tan(Math.PI/4-q/2)/Math.pow((1-ke)/(1+ke),fe/2);return q=-A*Math.log(Math.max($e,1e-10)),new H(p.lng*N*A,q)},unproject:function(p){for(var N=180/Math.PI,A=this.R,q=this.R_MINOR/A,J=Math.sqrt(1-q*q),fe=Math.exp(-p.y/A),ke=Math.PI/2-2*Math.atan(fe),$e=0,Ke=.1,ot;$e<15&&Math.abs(Ke)>1e-7;$e++)ot=J*Math.sin(ke),ot=Math.pow((1-ot)/(1+ot),J/2),Ke=Math.PI/2-2*Math.atan(fe*ot)-ke,ke+=Ke;return new ce(ke*N,p.x*N/A)}},Df={__proto__:null,LonLat:Sc,Mercator:_a,SphericalMercator:xe},Rf=i({},ve,{code:"EPSG:3395",projection:_a,transformation:function(){var p=.5/(Math.PI*_a.R);return re(p,.5,-p,.5)}()}),rm=i({},ve,{code:"EPSG:4326",projection:Sc,transformation:re(1/180,1,-1/180,.5)}),eg=i({},oe,{projection:Sc,transformation:re(1,0,-1,0),scale:function(p){return Math.pow(2,p)},zoom:function(p){return Math.log(p)/Math.LN2},distance:function(p,N){var A=N.lng-p.lng,q=N.lat-p.lat;return Math.sqrt(A*A+q*q)},infinite:!0});oe.Earth=ve,oe.EPSG3395=Rf,oe.EPSG3857=Se,oe.EPSG900913=ae,oe.EPSG4326=rm,oe.Simple=eg;var li=Q.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(p){return p.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(p){return p&&p.removeLayer(this),this},getPane:function(p){return this._map.getPane(p?this.options[p]||p:this.options.pane)},addInteractiveTarget:function(p){return this._map._targets[c(p)]=this,this},removeInteractiveTarget:function(p){return delete this._map._targets[c(p)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(p){var N=p.target;if(N.hasLayer(this)){if(this._map=N,this._zoomAnimated=N._zoomAnimated,this.getEvents){var A=this.getEvents();N.on(A,this),this.once("remove",function(){N.off(A,this)},this)}this.onAdd(N),this.fire("add"),N.fire("layeradd",{layer:this})}}});Yn.include({addLayer:function(p){if(!p._layerAdd)throw new Error("The provided object is not a Layer.");var N=c(p);return this._layers[N]?this:(this._layers[N]=p,p._mapToAdd=this,p.beforeAdd&&p.beforeAdd(this),this.whenReady(p._layerAdd,p),this)},removeLayer:function(p){var N=c(p);return this._layers[N]?(this._loaded&&p.onRemove(this),delete this._layers[N],this._loaded&&(this.fire("layerremove",{layer:p}),p.fire("remove")),p._map=p._mapToAdd=null,this):this},hasLayer:function(p){return c(p)in this._layers},eachLayer:function(p,N){for(var A in this._layers)p.call(N,this._layers[A]);return this},_addLayers:function(p){p=p?j(p)?p:[p]:[];for(var N=0,A=p.length;N<A;N++)this.addLayer(p[N])},_addZoomLimit:function(p){(!isNaN(p.options.maxZoom)||!isNaN(p.options.minZoom))&&(this._zoomBoundLayers[c(p)]=p,this._updateZoomLevels())},_removeZoomLimit:function(p){var N=c(p);this._zoomBoundLayers[N]&&(delete this._zoomBoundLayers[N],this._updateZoomLevels())},_updateZoomLevels:function(){var p=1/0,N=-1/0,A=this._getZoomSpan();for(var q in this._zoomBoundLayers){var J=this._zoomBoundLayers[q].options;p=J.minZoom===void 0?p:Math.min(p,J.minZoom),N=J.maxZoom===void 0?N:Math.max(N,J.maxZoom)}this._layersMaxZoom=N===-1/0?void 0:N,this._layersMinZoom=p===1/0?void 0:p,A!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Ws=li.extend({initialize:function(p,N){y(this,N),this._layers={};var A,q;if(p)for(A=0,q=p.length;A<q;A++)this.addLayer(p[A])},addLayer:function(p){var N=this.getLayerId(p);return this._layers[N]=p,this._map&&this._map.addLayer(p),this},removeLayer:function(p){var N=p in this._layers?p:this.getLayerId(p);return this._map&&this._layers[N]&&this._map.removeLayer(this._layers[N]),delete this._layers[N],this},hasLayer:function(p){var N=typeof p=="number"?p:this.getLayerId(p);return N in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(p){var N=Array.prototype.slice.call(arguments,1),A,q;for(A in this._layers)q=this._layers[A],q[p]&&q[p].apply(q,N);return this},onAdd:function(p){this.eachLayer(p.addLayer,p)},onRemove:function(p){this.eachLayer(p.removeLayer,p)},eachLayer:function(p,N){for(var A in this._layers)p.call(N,this._layers[A]);return this},getLayer:function(p){return this._layers[p]},getLayers:function(){var p=[];return this.eachLayer(p.push,p),p},setZIndex:function(p){return this.invoke("setZIndex",p)},getLayerId:function(p){return c(p)}}),im=function(p,N){return new Ws(p,N)},sl=Ws.extend({addLayer:function(p){return this.hasLayer(p)?this:(p.addEventParent(this),Ws.prototype.addLayer.call(this,p),this.fire("layeradd",{layer:p}))},removeLayer:function(p){return this.hasLayer(p)?(p in this._layers&&(p=this._layers[p]),p.removeEventParent(this),Ws.prototype.removeLayer.call(this,p),this.fire("layerremove",{layer:p})):this},setStyle:function(p){return this.invoke("setStyle",p)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var p=new F;for(var N in this._layers){var A=this._layers[N];p.extend(A.getBounds?A.getBounds():A.getLatLng())}return p}}),ol=function(p,N){return new sl(p,N)},ll=$.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(p){y(this,p)},createIcon:function(p){return this._createIcon("icon",p)},createShadow:function(p){return this._createIcon("shadow",p)},_createIcon:function(p,N){var A=this._getIconUrl(p);if(!A){if(p==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var q=this._createImg(A,N&&N.tagName==="IMG"?N:null);return this._setIconStyles(q,p),(this.options.crossOrigin||this.options.crossOrigin==="")&&(q.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),q},_setIconStyles:function(p,N){var A=this.options,q=A[N+"Size"];typeof q=="number"&&(q=[q,q]);var J=U(q),fe=U(N==="shadow"&&A.shadowAnchor||A.iconAnchor||J&&J.divideBy(2,!0));p.className="leaflet-marker-"+N+" "+(A.className||""),fe&&(p.style.marginLeft=-fe.x+"px",p.style.marginTop=-fe.y+"px"),J&&(p.style.width=J.x+"px",p.style.height=J.y+"px")},_createImg:function(p,N){return N=N||document.createElement("img"),N.src=p,N},_getIconUrl:function(p){return Et.retina&&this.options[p+"RetinaUrl"]||this.options[p+"Url"]}});function tg(p){return new ll(p)}var Su=ll.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(p){return typeof Su.imagePath!="string"&&(Su.imagePath=this._detectIconPath()),(this.options.imagePath||Su.imagePath)+ll.prototype._getIconUrl.call(this,p)},_stripUrl:function(p){var N=function(A,q,J){var fe=q.exec(A);return fe&&fe[J]};return p=N(p,/^url\((['"])?(.+)\1\)$/,2),p&&N(p,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var p=Vn("div","leaflet-default-icon-path",document.body),N=xd(p,"background-image")||xd(p,"backgroundImage");if(document.body.removeChild(p),N=this._stripUrl(N),N)return N;var A=document.querySelector('link[href$="leaflet.css"]');return A?A.href.substring(0,A.href.length-11-1):""}}),ku=be.extend({initialize:function(p){this._marker=p},addHooks:function(){var p=this._marker._icon;this._draggable||(this._draggable=new Ye(p,p,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),On(p,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&vi(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(p){var N=this._marker,A=N._map,q=this._marker.options.autoPanSpeed,J=this._marker.options.autoPanPadding,fe=jc(N._icon),ke=A.getPixelBounds(),$e=A.getPixelOrigin(),Ke=z(ke.min._subtract($e).add(J),ke.max._subtract($e).subtract(J));if(!Ke.contains(fe)){var ot=U((Math.max(Ke.max.x,fe.x)-Ke.max.x)/(ke.max.x-Ke.max.x)-(Math.min(Ke.min.x,fe.x)-Ke.min.x)/(ke.min.x-Ke.min.x),(Math.max(Ke.max.y,fe.y)-Ke.max.y)/(ke.max.y-Ke.max.y)-(Math.min(Ke.min.y,fe.y)-Ke.min.y)/(ke.min.y-Ke.min.y)).multiplyBy(q);A.panBy(ot,{animate:!1}),this._draggable._newPos._add(ot),this._draggable._startPos._add(ot),Mr(N._icon,this._draggable._newPos),this._onDrag(p),this._panRequest=D(this._adjustPan.bind(this,p))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(p){this._marker.options.autoPan&&(I(this._panRequest),this._panRequest=D(this._adjustPan.bind(this,p)))},_onDrag:function(p){var N=this._marker,A=N._shadow,q=jc(N._icon),J=N._map.layerPointToLatLng(q);A&&Mr(A,q),N._latlng=J,p.latlng=J,p.oldLatLng=this._oldLatLng,N.fire("move",p).fire("drag",p)},_onDragEnd:function(p){I(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",p)}}),kc=li.extend({options:{icon:new Su,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(p,N){y(this,N),this._latlng=te(p)},onAdd:function(p){this._zoomAnimated=this._zoomAnimated&&p.options.markerZoomAnimation,this._zoomAnimated&&p.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(p){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&p.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(p){var N=this._latlng;return this._latlng=te(p),this.update(),this.fire("move",{oldLatLng:N,latlng:this._latlng})},setZIndexOffset:function(p){return this.options.zIndexOffset=p,this.update()},getIcon:function(){return this.options.icon},setIcon:function(p){return this.options.icon=p,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var p=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(p)}return this},_initIcon:function(){var p=this.options,N="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),A=p.icon.createIcon(this._icon),q=!1;A!==this._icon&&(this._icon&&this._removeIcon(),q=!0,p.title&&(A.title=p.title),A.tagName==="IMG"&&(A.alt=p.alt||"")),On(A,N),p.keyboard&&(A.tabIndex="0",A.setAttribute("role","button")),this._icon=A,p.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&St(A,"focus",this._panOnFocus,this);var J=p.icon.createShadow(this._shadow),fe=!1;J!==this._shadow&&(this._removeShadow(),fe=!0),J&&(On(J,N),J.alt=""),this._shadow=J,p.opacity<1&&this._updateOpacity(),q&&this.getPane().appendChild(this._icon),this._initInteraction(),J&&fe&&this.getPane(p.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Rr(this._icon,"focus",this._panOnFocus,this),Dr(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Dr(this._shadow),this._shadow=null},_setPos:function(p){this._icon&&Mr(this._icon,p),this._shadow&&Mr(this._shadow,p),this._zIndex=p.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(p){this._icon&&(this._icon.style.zIndex=this._zIndex+p)},_animateZoom:function(p){var N=this._map._latLngToNewLayerPoint(this._latlng,p.zoom,p.center).round();this._setPos(N)},_initInteraction:function(){if(this.options.interactive&&(On(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),ku)){var p=this.options.draggable;this.dragging&&(p=this.dragging.enabled(),this.dragging.disable()),this.dragging=new ku(this),p&&this.dragging.enable()}},setOpacity:function(p){return this.options.opacity=p,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var p=this.options.opacity;this._icon&&ca(this._icon,p),this._shadow&&ca(this._shadow,p)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var p=this._map;if(p){var N=this.options.icon.options,A=N.iconSize?U(N.iconSize):U(0,0),q=N.iconAnchor?U(N.iconAnchor):U(0,0);p.panInside(this._latlng,{paddingTopLeft:q,paddingBottomRight:A.subtract(q)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function wo(p,N){return new kc(p,N)}var da=li.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(p){this._renderer=p.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(p){return y(this,p),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&p&&Object.prototype.hasOwnProperty.call(p,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Ol=da.extend({options:{fill:!0,radius:10},initialize:function(p,N){y(this,N),this._latlng=te(p),this._radius=this.options.radius},setLatLng:function(p){var N=this._latlng;return this._latlng=te(p),this.redraw(),this.fire("move",{oldLatLng:N,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(p){return this.options.radius=this._radius=p,this.redraw()},getRadius:function(){return this._radius},setStyle:function(p){var N=p&&p.radius||this._radius;return da.prototype.setStyle.call(this,p),this.setRadius(N),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var p=this._radius,N=this._radiusY||p,A=this._clickTolerance(),q=[p+A,N+A];this._pxBounds=new ee(this._point.subtract(q),this._point.add(q))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(p){return p.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Cu(p,N){return new Ol(p,N)}var Cc=Ol.extend({initialize:function(p,N,A){if(typeof N=="number"&&(N=i({},A,{radius:N})),y(this,N),this._latlng=te(p),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(p){return this._mRadius=p,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var p=[this._radius,this._radiusY||this._radius];return new F(this._map.layerPointToLatLng(this._point.subtract(p)),this._map.layerPointToLatLng(this._point.add(p)))},setStyle:da.prototype.setStyle,_project:function(){var p=this._latlng.lng,N=this._latlng.lat,A=this._map,q=A.options.crs;if(q.distance===ve.distance){var J=Math.PI/180,fe=this._mRadius/ve.R/J,ke=A.project([N+fe,p]),$e=A.project([N-fe,p]),Ke=ke.add($e).divideBy(2),ot=A.unproject(Ke).lat,It=Math.acos((Math.cos(fe*J)-Math.sin(N*J)*Math.sin(ot*J))/(Math.cos(N*J)*Math.cos(ot*J)))/J;(isNaN(It)||It===0)&&(It=fe/Math.cos(Math.PI/180*N)),this._point=Ke.subtract(A.getPixelOrigin()),this._radius=isNaN(It)?0:Ke.x-A.project([ot,p-It]).x,this._radiusY=Ke.y-ke.y}else{var un=q.unproject(q.project(this._latlng).subtract([this._mRadius,0]));this._point=A.latLngToLayerPoint(this._latlng),this._radius=this._point.x-A.latLngToLayerPoint(un).x}this._updateBounds()}});function ng(p,N,A){return new Cc(p,N,A)}var Hs=da.extend({options:{smoothFactor:1,noClip:!1},initialize:function(p,N){y(this,N),this._setLatLngs(p)},getLatLngs:function(){return this._latlngs},setLatLngs:function(p){return this._setLatLngs(p),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(p){for(var N=1/0,A=null,q=Nu,J,fe,ke=0,$e=this._parts.length;ke<$e;ke++)for(var Ke=this._parts[ke],ot=1,It=Ke.length;ot<It;ot++){J=Ke[ot-1],fe=Ke[ot];var un=q(p,J,fe,!0);un<N&&(N=un,A=q(p,J,fe))}return A&&(A.distance=Math.sqrt(N)),A},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Nd(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(p,N){return N=N||this._defaultShape(),p=te(p),N.push(p),this._bounds.extend(p),this.redraw()},_setLatLngs:function(p){this._bounds=new F,this._latlngs=this._convertLatLngs(p)},_defaultShape:function(){return Ja(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(p){for(var N=[],A=Ja(p),q=0,J=p.length;q<J;q++)A?(N[q]=te(p[q]),this._bounds.extend(N[q])):N[q]=this._convertLatLngs(p[q]);return N},_project:function(){var p=new ee;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,p),this._bounds.isValid()&&p.isValid()&&(this._rawPxBounds=p,this._updateBounds())},_updateBounds:function(){var p=this._clickTolerance(),N=new H(p,p);this._rawPxBounds&&(this._pxBounds=new ee([this._rawPxBounds.min.subtract(N),this._rawPxBounds.max.add(N)]))},_projectLatlngs:function(p,N,A){var q=p[0]instanceof ce,J=p.length,fe,ke;if(q){for(ke=[],fe=0;fe<J;fe++)ke[fe]=this._map.latLngToLayerPoint(p[fe]),A.extend(ke[fe]);N.push(ke)}else for(fe=0;fe<J;fe++)this._projectLatlngs(p[fe],N,A)},_clipPoints:function(){var p=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(p))){if(this.options.noClip){this._parts=this._rings;return}var N=this._parts,A,q,J,fe,ke,$e,Ke;for(A=0,J=0,fe=this._rings.length;A<fe;A++)for(Ke=this._rings[A],q=0,ke=Ke.length;q<ke-1;q++)$e=Fa(Ke[q],Ke[q+1],p,q,!0),$e&&(N[J]=N[J]||[],N[J].push($e[0]),($e[1]!==Ke[q+1]||q===ke-2)&&(N[J].push($e[1]),J++))}},_simplifyPoints:function(){for(var p=this._parts,N=this.options.smoothFactor,A=0,q=p.length;A<q;A++)p[A]=Rn(p[A],N)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(p,N){var A,q,J,fe,ke,$e,Ke=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(p))return!1;for(A=0,fe=this._parts.length;A<fe;A++)for($e=this._parts[A],q=0,ke=$e.length,J=ke-1;q<ke;J=q++)if(!(!N&&q===0)&&hr(p,$e[J],$e[q])<=Ke)return!0;return!1}});function Qi(p,N){return new Hs(p,N)}Hs._flat=_u;var Eu=Hs.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Bt(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(p){var N=Hs.prototype._convertLatLngs.call(this,p),A=N.length;return A>=2&&N[0]instanceof ce&&N[0].equals(N[A-1])&&N.pop(),N},_setLatLngs:function(p){Hs.prototype._setLatLngs.call(this,p),Ja(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Ja(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var p=this._renderer._bounds,N=this.options.weight,A=new H(N,N);if(p=new ee(p.min.subtract(A),p.max.add(A)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(p))){if(this.options.noClip){this._parts=this._rings;return}for(var q=0,J=this._rings.length,fe;q<J;q++)fe=st(this._rings[q],p,!0),fe.length&&this._parts.push(fe)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(p){var N=!1,A,q,J,fe,ke,$e,Ke,ot;if(!this._pxBounds||!this._pxBounds.contains(p))return!1;for(fe=0,Ke=this._parts.length;fe<Ke;fe++)for(A=this._parts[fe],ke=0,ot=A.length,$e=ot-1;ke<ot;$e=ke++)q=A[ke],J=A[$e],q.y>p.y!=J.y>p.y&&p.x<(J.x-q.x)*(p.y-q.y)/(J.y-q.y)+q.x&&(N=!N);return N||Hs.prototype._containsPoint.call(this,p,!0)}});function Ec(p,N){return new Eu(p,N)}var Ba=sl.extend({initialize:function(p,N){y(this,N),this._layers={},p&&this.addData(p)},addData:function(p){var N=j(p)?p:p.features,A,q,J;if(N){for(A=0,q=N.length;A<q;A++)J=N[A],(J.geometries||J.geometry||J.features||J.coordinates)&&this.addData(J);return this}var fe=this.options;if(fe.filter&&!fe.filter(p))return this;var ke=_d(p,fe);return ke?(ke.feature=Ac(p),ke.defaultOptions=ke.options,this.resetStyle(ke),fe.onEachFeature&&fe.onEachFeature(p,ke),this.addLayer(ke)):this},resetStyle:function(p){return p===void 0?this.eachLayer(this.resetStyle,this):(p.options=i({},p.defaultOptions),this._setLayerStyle(p,this.options.style),this)},setStyle:function(p){return this.eachLayer(function(N){this._setLayerStyle(N,p)},this)},_setLayerStyle:function(p,N){p.setStyle&&(typeof N=="function"&&(N=N(p.feature)),p.setStyle(N))}});function _d(p,N){var A=p.type==="Feature"?p.geometry:p,q=A?A.coordinates:null,J=[],fe=N&&N.pointToLayer,ke=N&&N.coordsToLatLng||$f,$e,Ke,ot,It;if(!q&&!A)return null;switch(A.type){case"Point":return $e=ke(q),am(fe,p,$e,N);case"MultiPoint":for(ot=0,It=q.length;ot<It;ot++)$e=ke(q[ot]),J.push(am(fe,p,$e,N));return new sl(J);case"LineString":case"MultiLineString":return Ke=Sd(q,A.type==="LineString"?0:1,ke),new Hs(Ke,N);case"Polygon":case"MultiPolygon":return Ke=Sd(q,A.type==="Polygon"?1:2,ke),new Eu(Ke,N);case"GeometryCollection":for(ot=0,It=A.geometries.length;ot<It;ot++){var un=_d({geometry:A.geometries[ot],type:"Feature",properties:p.properties},N);un&&J.push(un)}return new sl(J);case"FeatureCollection":for(ot=0,It=A.features.length;ot<It;ot++){var tr=_d(A.features[ot],N);tr&&J.push(tr)}return new sl(J);default:throw new Error("Invalid GeoJSON object.")}}function am(p,N,A,q){return p?p(N,A):new kc(A,q&&q.markersInheritOptions&&q)}function $f(p){return new ce(p[1],p[0],p[2])}function Sd(p,N,A){for(var q=[],J=0,fe=p.length,ke;J<fe;J++)ke=N?Sd(p[J],N-1,A):(A||$f)(p[J]),q.push(ke);return q}function Pc(p,N){return p=te(p),p.alt!==void 0?[m(p.lng,N),m(p.lat,N),m(p.alt,N)]:[m(p.lng,N),m(p.lat,N)]}function Ll(p,N,A,q){for(var J=[],fe=0,ke=p.length;fe<ke;fe++)J.push(N?Ll(p[fe],Ja(p[fe])?0:N-1,A,q):Pc(p[fe],q));return!N&&A&&J.length>0&&J.push(J[0].slice()),J}function jo(p,N){return p.feature?i({},p.feature,{geometry:N}):Ac(N)}function Ac(p){return p.type==="Feature"||p.type==="FeatureCollection"?p:{type:"Feature",properties:{},geometry:p}}var Tc={toGeoJSON:function(p){return jo(this,{type:"Point",coordinates:Pc(this.getLatLng(),p)})}};kc.include(Tc),Cc.include(Tc),Ol.include(Tc),Hs.include({toGeoJSON:function(p){var N=!Ja(this._latlngs),A=Ll(this._latlngs,N?1:0,!1,p);return jo(this,{type:(N?"Multi":"")+"LineString",coordinates:A})}}),Eu.include({toGeoJSON:function(p){var N=!Ja(this._latlngs),A=N&&!Ja(this._latlngs[0]),q=Ll(this._latlngs,A?2:N?1:0,!0,p);return N||(q=[q]),jo(this,{type:(A?"Multi":"")+"Polygon",coordinates:q})}}),Ws.include({toMultiPoint:function(p){var N=[];return this.eachLayer(function(A){N.push(A.toGeoJSON(p).geometry.coordinates)}),jo(this,{type:"MultiPoint",coordinates:N})},toGeoJSON:function(p){var N=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(N==="MultiPoint")return this.toMultiPoint(p);var A=N==="GeometryCollection",q=[];return this.eachLayer(function(J){if(J.toGeoJSON){var fe=J.toGeoJSON(p);if(A)q.push(fe.geometry);else{var ke=Ac(fe);ke.type==="FeatureCollection"?q.push.apply(q,ke.features):q.push(ke)}}}),A?jo(this,{geometries:q,type:"GeometryCollection"}):{type:"FeatureCollection",features:q}}});function kd(p,N){return new Ba(p,N)}var cl=kd,No=li.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(p,N,A){this._url=p,this._bounds=ie(N),y(this,A)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(On(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Dr(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(p){return this.options.opacity=p,this._image&&this._updateOpacity(),this},setStyle:function(p){return p.opacity&&this.setOpacity(p.opacity),this},bringToFront:function(){return this._map&&oi(this._image),this},bringToBack:function(){return this._map&&hu(this._image),this},setUrl:function(p){return this._url=p,this._image&&(this._image.src=p),this},setBounds:function(p){return this._bounds=ie(p),this._map&&this._reset(),this},getEvents:function(){var p={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(p.zoomanim=this._animateZoom),p},setZIndex:function(p){return this.options.zIndex=p,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var p=this._url.tagName==="IMG",N=this._image=p?this._url:Vn("img");if(On(N,"leaflet-image-layer"),this._zoomAnimated&&On(N,"leaflet-zoom-animated"),this.options.className&&On(N,this.options.className),N.onselectstart=f,N.onmousemove=f,N.onload=o(this.fire,this,"load"),N.onerror=o(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(N.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),p){this._url=N.src;return}N.src=this._url,N.alt=this.options.alt},_animateZoom:function(p){var N=this._map.getZoomScale(p.zoom),A=this._map._latLngBoundsToNewLayerBounds(this._bounds,p.zoom,p.center).min;mu(this._image,A,N)},_reset:function(){var p=this._image,N=new ee(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),A=N.getSize();Mr(p,N.min),p.style.width=A.x+"px",p.style.height=A.y+"px"},_updateOpacity:function(){ca(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var p=this.options.errorOverlayUrl;p&&this._url!==p&&(this._url=p,this._image.src=p)},getCenter:function(){return this._bounds.getCenter()}}),Tr=function(p,N,A){return new No(p,N,A)},Fr=No.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var p=this._url.tagName==="VIDEO",N=this._image=p?this._url:Vn("video");if(On(N,"leaflet-image-layer"),this._zoomAnimated&&On(N,"leaflet-zoom-animated"),this.options.className&&On(N,this.options.className),N.onselectstart=f,N.onmousemove=f,N.onloadeddata=o(this.fire,this,"load"),p){for(var A=N.getElementsByTagName("source"),q=[],J=0;J<A.length;J++)q.push(A[J].src);this._url=A.length>0?q:[N.src];return}j(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(N.style,"objectFit")&&(N.style.objectFit="fill"),N.autoplay=!!this.options.autoplay,N.loop=!!this.options.loop,N.muted=!!this.options.muted,N.playsInline=!!this.options.playsInline;for(var fe=0;fe<this._url.length;fe++){var ke=Vn("source");ke.src=this._url[fe],N.appendChild(ke)}}});function Ji(p,N,A){return new Fr(p,N,A)}var fa=No.extend({_initImage:function(){var p=this._image=this._url;On(p,"leaflet-image-layer"),this._zoomAnimated&&On(p,"leaflet-zoom-animated"),this.options.className&&On(p,this.options.className),p.onselectstart=f,p.onmousemove=f}});function Pu(p,N,A){return new fa(p,N,A)}var Ks=li.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(p,N){p&&(p instanceof ce||j(p))?(this._latlng=te(p),y(this,N)):(y(this,p),this._source=N),this.options.content&&(this._content=this.options.content)},openOn:function(p){return p=arguments.length?p:this._source._map,p.hasLayer(this)||p.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(p){return this._map?this.close():(arguments.length?this._source=p:p=this._source,this._prepareOpen(),this.openOn(p._map)),this},onAdd:function(p){this._zoomAnimated=p._zoomAnimated,this._container||this._initLayout(),p._fadeAnimated&&ca(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),p._fadeAnimated&&ca(this._container,1),this.bringToFront(),this.options.interactive&&(On(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(p){p._fadeAnimated?(ca(this._container,0),this._removeTimeout=setTimeout(o(Dr,void 0,this._container),200)):Dr(this._container),this.options.interactive&&(vi(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(p){return this._latlng=te(p),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(p){return this._content=p,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var p={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(p.zoomanim=this._animateZoom),p},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&oi(this._container),this},bringToBack:function(){return this._map&&hu(this._container),this},_prepareOpen:function(p){var N=this._source;if(!N._map)return!1;if(N instanceof sl){N=null;var A=this._source._layers;for(var q in A)if(A[q]._map){N=A[q];break}if(!N)return!1;this._source=N}if(!p)if(N.getCenter)p=N.getCenter();else if(N.getLatLng)p=N.getLatLng();else if(N.getBounds)p=N.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(p),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var p=this._contentNode,N=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof N=="string")p.innerHTML=N;else{for(;p.hasChildNodes();)p.removeChild(p.firstChild);p.appendChild(N)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var p=this._map.latLngToLayerPoint(this._latlng),N=U(this.options.offset),A=this._getAnchor();this._zoomAnimated?Mr(this._container,p.add(A)):N=N.add(p).add(A);var q=this._containerBottom=-N.y,J=this._containerLeft=-Math.round(this._containerWidth/2)+N.x;this._container.style.bottom=q+"px",this._container.style.left=J+"px"}},_getAnchor:function(){return[0,0]}});Yn.include({_initOverlay:function(p,N,A,q){var J=N;return J instanceof p||(J=new p(q).setContent(N)),A&&J.setLatLng(A),J}}),li.include({_initOverlay:function(p,N,A,q){var J=A;return J instanceof p?(y(J,q),J._source=this):(J=N&&!q?N:new p(q,this),J.setContent(A)),J}});var Au=Ks.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(p){return p=arguments.length?p:this._source._map,!p.hasLayer(this)&&p._popup&&p._popup.options.autoClose&&p.removeLayer(p._popup),p._popup=this,Ks.prototype.openOn.call(this,p)},onAdd:function(p){Ks.prototype.onAdd.call(this,p),p.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof da||this._source.on("preclick",gu))},onRemove:function(p){Ks.prototype.onRemove.call(this,p),p.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof da||this._source.off("preclick",gu))},getEvents:function(){var p=Ks.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(p.preclick=this.close),this.options.keepInView&&(p.moveend=this._adjustPan),p},_initLayout:function(){var p="leaflet-popup",N=this._container=Vn("div",p+" "+(this.options.className||"")+" leaflet-zoom-animated"),A=this._wrapper=Vn("div",p+"-content-wrapper",N);if(this._contentNode=Vn("div",p+"-content",A),vu(N),jd(this._contentNode),St(N,"contextmenu",gu),this._tipContainer=Vn("div",p+"-tip-container",N),this._tip=Vn("div",p+"-tip",this._tipContainer),this.options.closeButton){var q=this._closeButton=Vn("a",p+"-close-button",N);q.setAttribute("role","button"),q.setAttribute("aria-label","Close popup"),q.href="#close",q.innerHTML='<span aria-hidden="true">&#215;</span>',St(q,"click",function(J){Ei(J),this.close()},this)}},_updateLayout:function(){var p=this._contentNode,N=p.style;N.width="",N.whiteSpace="nowrap";var A=p.offsetWidth;A=Math.min(A,this.options.maxWidth),A=Math.max(A,this.options.minWidth),N.width=A+1+"px",N.whiteSpace="",N.height="";var q=p.offsetHeight,J=this.options.maxHeight,fe="leaflet-popup-scrolled";J&&q>J?(N.height=J+"px",On(p,fe)):vi(p,fe),this._containerWidth=this._container.offsetWidth},_animateZoom:function(p){var N=this._map._latLngToNewLayerPoint(this._latlng,p.zoom,p.center),A=this._getAnchor();Mr(this._container,N.add(A))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var p=this._map,N=parseInt(xd(this._container,"marginBottom"),10)||0,A=this._container.offsetHeight+N,q=this._containerWidth,J=new H(this._containerLeft,-A-this._containerBottom);J._add(jc(this._container));var fe=p.layerPointToContainerPoint(J),ke=U(this.options.autoPanPadding),$e=U(this.options.autoPanPaddingTopLeft||ke),Ke=U(this.options.autoPanPaddingBottomRight||ke),ot=p.getSize(),It=0,un=0;fe.x+q+Ke.x>ot.x&&(It=fe.x+q-ot.x+Ke.x),fe.x-It-$e.x<0&&(It=fe.x-$e.x),fe.y+A+Ke.y>ot.y&&(un=fe.y+A-ot.y+Ke.y),fe.y-un-$e.y<0&&(un=fe.y-$e.y),(It||un)&&(this.options.keepInView&&(this._autopanning=!0),p.fire("autopanstart").panBy([It,un]))}},_getAnchor:function(){return U(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Kv=function(p,N){return new Au(p,N)};Yn.mergeOptions({closePopupOnClick:!0}),Yn.include({openPopup:function(p,N,A){return this._initOverlay(Au,p,N,A).openOn(this),this},closePopup:function(p){return p=arguments.length?p:this._popup,p&&p.close(),this}}),li.include({bindPopup:function(p,N){return this._popup=this._initOverlay(Au,this._popup,p,N),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(p){return this._popup&&(this instanceof sl||(this._popup._source=this),this._popup._prepareOpen(p||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(p){return this._popup&&this._popup.setContent(p),this},getPopup:function(){return this._popup},_openPopup:function(p){if(!(!this._popup||!this._map)){xu(p);var N=p.layer||p.target;if(this._popup._source===N&&!(N instanceof da)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(p.latlng);return}this._popup._source=N,this.openPopup(p.latlng)}},_movePopup:function(p){this._popup.setLatLng(p.latlng)},_onKeyPress:function(p){p.originalEvent.keyCode===13&&this._openPopup(p)}});var rg=Ks.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(p){Ks.prototype.onAdd.call(this,p),this.setOpacity(this.options.opacity),p.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(p){Ks.prototype.onRemove.call(this,p),p.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var p=Ks.prototype.getEvents.call(this);return this.options.permanent||(p.preclick=this.close),p},_initLayout:function(){var p="leaflet-tooltip",N=p+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Vn("div",N),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+c(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(p){var N,A,q=this._map,J=this._container,fe=q.latLngToContainerPoint(q.getCenter()),ke=q.layerPointToContainerPoint(p),$e=this.options.direction,Ke=J.offsetWidth,ot=J.offsetHeight,It=U(this.options.offset),un=this._getAnchor();$e==="top"?(N=Ke/2,A=ot):$e==="bottom"?(N=Ke/2,A=0):$e==="center"?(N=Ke/2,A=ot/2):$e==="right"?(N=0,A=ot/2):$e==="left"?(N=Ke,A=ot/2):ke.x<fe.x?($e="right",N=0,A=ot/2):($e="left",N=Ke+(It.x+un.x)*2,A=ot/2),p=p.subtract(U(N,A,!0)).add(It).add(un),vi(J,"leaflet-tooltip-right"),vi(J,"leaflet-tooltip-left"),vi(J,"leaflet-tooltip-top"),vi(J,"leaflet-tooltip-bottom"),On(J,"leaflet-tooltip-"+$e),Mr(J,p)},_updatePosition:function(){var p=this._map.latLngToLayerPoint(this._latlng);this._setPosition(p)},setOpacity:function(p){this.options.opacity=p,this._container&&ca(this._container,p)},_animateZoom:function(p){var N=this._map._latLngToNewLayerPoint(this._latlng,p.zoom,p.center);this._setPosition(N)},_getAnchor:function(){return U(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),sN=function(p,N){return new rg(p,N)};Yn.include({openTooltip:function(p,N,A){return this._initOverlay(rg,p,N,A).openOn(this),this},closeTooltip:function(p){return p.close(),this}}),li.include({bindTooltip:function(p,N){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(rg,this._tooltip,p,N),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(p){if(!(!p&&this._tooltipHandlersAdded)){var N=p?"off":"on",A={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?A.add=this._openTooltip:(A.mouseover=this._openTooltip,A.mouseout=this.closeTooltip,A.click=this._openTooltip,this._map?this._addFocusListeners():A.add=this._addFocusListeners),this._tooltip.options.sticky&&(A.mousemove=this._moveTooltip),this[N](A),this._tooltipHandlersAdded=!p}},openTooltip:function(p){return this._tooltip&&(this instanceof sl||(this._tooltip._source=this),this._tooltip._prepareOpen(p)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(p){return this._tooltip&&this._tooltip.setContent(p),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(p){var N=typeof p.getElement=="function"&&p.getElement();N&&(St(N,"focus",function(){this._tooltip._source=p,this.openTooltip()},this),St(N,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(p){var N=typeof p.getElement=="function"&&p.getElement();N&&N.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(p){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var N=this;this._map.once("moveend",function(){N._openOnceFlag=!1,N._openTooltip(p)});return}this._tooltip._source=p.layer||p.target,this.openTooltip(this._tooltip.options.sticky?p.latlng:void 0)}},_moveTooltip:function(p){var N=p.latlng,A,q;this._tooltip.options.sticky&&p.originalEvent&&(A=this._map.mouseEventToContainerPoint(p.originalEvent),q=this._map.containerPointToLayerPoint(A),N=this._map.layerPointToLatLng(q)),this._tooltip.setLatLng(N)}});var wb=ll.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(p){var N=p&&p.tagName==="DIV"?p:document.createElement("div"),A=this.options;if(A.html instanceof Element?(Xh(N),N.appendChild(A.html)):N.innerHTML=A.html!==!1?A.html:"",A.bgPos){var q=U(A.bgPos);N.style.backgroundPosition=-q.x+"px "+-q.y+"px"}return this._setIconStyles(N,"icon"),N},createShadow:function(){return null}});function oN(p){return new wb(p)}ll.Default=Su;var sm=li.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Et.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(p){y(this,p)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(p){p._addZoomLimit(this)},onRemove:function(p){this._removeAllTiles(),Dr(this._container),p._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(oi(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(hu(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(p){return this.options.opacity=p,this._updateOpacity(),this},setZIndex:function(p){return this.options.zIndex=p,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var p=this._clampZoom(this._map.getZoom());p!==this._tileZoom&&(this._tileZoom=p,this._updateLevels()),this._update()}return this},getEvents:function(){var p={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=u(this._onMoveEnd,this.options.updateInterval,this)),p.move=this._onMove),this._zoomAnimated&&(p.zoomanim=this._animateZoom),p},createTile:function(){return document.createElement("div")},getTileSize:function(){var p=this.options.tileSize;return p instanceof H?p:new H(p,p)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(p){for(var N=this.getPane().children,A=-p(-1/0,1/0),q=0,J=N.length,fe;q<J;q++)fe=N[q].style.zIndex,N[q]!==this._container&&fe&&(A=p(A,+fe));isFinite(A)&&(this.options.zIndex=A+p(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Et.ielt9){ca(this._container,this.options.opacity);var p=+new Date,N=!1,A=!1;for(var q in this._tiles){var J=this._tiles[q];if(!(!J.current||!J.loaded)){var fe=Math.min(1,(p-J.loaded)/200);ca(J.el,fe),fe<1?N=!0:(J.active?A=!0:this._onOpaqueTile(J),J.active=!0)}}A&&!this._noPrune&&this._pruneTiles(),N&&(I(this._fadeFrame),this._fadeFrame=D(this._updateOpacity,this))}},_onOpaqueTile:f,_initContainer:function(){this._container||(this._container=Vn("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var p=this._tileZoom,N=this.options.maxZoom;if(p!==void 0){for(var A in this._levels)A=Number(A),this._levels[A].el.children.length||A===p?(this._levels[A].el.style.zIndex=N-Math.abs(p-A),this._onUpdateLevel(A)):(Dr(this._levels[A].el),this._removeTilesAtZoom(A),this._onRemoveLevel(A),delete this._levels[A]);var q=this._levels[p],J=this._map;return q||(q=this._levels[p]={},q.el=Vn("div","leaflet-tile-container leaflet-zoom-animated",this._container),q.el.style.zIndex=N,q.origin=J.project(J.unproject(J.getPixelOrigin()),p).round(),q.zoom=p,this._setZoomTransform(q,J.getCenter(),J.getZoom()),f(q.el.offsetWidth),this._onCreateLevel(q)),this._level=q,q}},_onUpdateLevel:f,_onRemoveLevel:f,_onCreateLevel:f,_pruneTiles:function(){if(this._map){var p,N,A=this._map.getZoom();if(A>this.options.maxZoom||A<this.options.minZoom){this._removeAllTiles();return}for(p in this._tiles)N=this._tiles[p],N.retain=N.current;for(p in this._tiles)if(N=this._tiles[p],N.current&&!N.active){var q=N.coords;this._retainParent(q.x,q.y,q.z,q.z-5)||this._retainChildren(q.x,q.y,q.z,q.z+2)}for(p in this._tiles)this._tiles[p].retain||this._removeTile(p)}},_removeTilesAtZoom:function(p){for(var N in this._tiles)this._tiles[N].coords.z===p&&this._removeTile(N)},_removeAllTiles:function(){for(var p in this._tiles)this._removeTile(p)},_invalidateAll:function(){for(var p in this._levels)Dr(this._levels[p].el),this._onRemoveLevel(Number(p)),delete this._levels[p];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(p,N,A,q){var J=Math.floor(p/2),fe=Math.floor(N/2),ke=A-1,$e=new H(+J,+fe);$e.z=+ke;var Ke=this._tileCoordsToKey($e),ot=this._tiles[Ke];return ot&&ot.active?(ot.retain=!0,!0):(ot&&ot.loaded&&(ot.retain=!0),ke>q?this._retainParent(J,fe,ke,q):!1)},_retainChildren:function(p,N,A,q){for(var J=2*p;J<2*p+2;J++)for(var fe=2*N;fe<2*N+2;fe++){var ke=new H(J,fe);ke.z=A+1;var $e=this._tileCoordsToKey(ke),Ke=this._tiles[$e];if(Ke&&Ke.active){Ke.retain=!0;continue}else Ke&&Ke.loaded&&(Ke.retain=!0);A+1<q&&this._retainChildren(J,fe,A+1,q)}},_resetView:function(p){var N=p&&(p.pinch||p.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),N,N)},_animateZoom:function(p){this._setView(p.center,p.zoom,!0,p.noUpdate)},_clampZoom:function(p){var N=this.options;return N.minNativeZoom!==void 0&&p<N.minNativeZoom?N.minNativeZoom:N.maxNativeZoom!==void 0&&N.maxNativeZoom<p?N.maxNativeZoom:p},_setView:function(p,N,A,q){var J=Math.round(N);this.options.maxZoom!==void 0&&J>this.options.maxZoom||this.options.minZoom!==void 0&&J<this.options.minZoom?J=void 0:J=this._clampZoom(J);var fe=this.options.updateWhenZooming&&J!==this._tileZoom;(!q||fe)&&(this._tileZoom=J,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),J!==void 0&&this._update(p),A||this._pruneTiles(),this._noPrune=!!A),this._setZoomTransforms(p,N)},_setZoomTransforms:function(p,N){for(var A in this._levels)this._setZoomTransform(this._levels[A],p,N)},_setZoomTransform:function(p,N,A){var q=this._map.getZoomScale(A,p.zoom),J=p.origin.multiplyBy(q).subtract(this._map._getNewPixelOrigin(N,A)).round();Et.any3d?mu(p.el,J,q):Mr(p.el,J)},_resetGrid:function(){var p=this._map,N=p.options.crs,A=this._tileSize=this.getTileSize(),q=this._tileZoom,J=this._map.getPixelWorldBounds(this._tileZoom);J&&(this._globalTileRange=this._pxBoundsToTileRange(J)),this._wrapX=N.wrapLng&&!this.options.noWrap&&[Math.floor(p.project([0,N.wrapLng[0]],q).x/A.x),Math.ceil(p.project([0,N.wrapLng[1]],q).x/A.y)],this._wrapY=N.wrapLat&&!this.options.noWrap&&[Math.floor(p.project([N.wrapLat[0],0],q).y/A.x),Math.ceil(p.project([N.wrapLat[1],0],q).y/A.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(p){var N=this._map,A=N._animatingZoom?Math.max(N._animateToZoom,N.getZoom()):N.getZoom(),q=N.getZoomScale(A,this._tileZoom),J=N.project(p,this._tileZoom).floor(),fe=N.getSize().divideBy(q*2);return new ee(J.subtract(fe),J.add(fe))},_update:function(p){var N=this._map;if(N){var A=this._clampZoom(N.getZoom());if(p===void 0&&(p=N.getCenter()),this._tileZoom!==void 0){var q=this._getTiledPixelBounds(p),J=this._pxBoundsToTileRange(q),fe=J.getCenter(),ke=[],$e=this.options.keepBuffer,Ke=new ee(J.getBottomLeft().subtract([$e,-$e]),J.getTopRight().add([$e,-$e]));if(!(isFinite(J.min.x)&&isFinite(J.min.y)&&isFinite(J.max.x)&&isFinite(J.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var ot in this._tiles){var It=this._tiles[ot].coords;(It.z!==this._tileZoom||!Ke.contains(new H(It.x,It.y)))&&(this._tiles[ot].current=!1)}if(Math.abs(A-this._tileZoom)>1){this._setView(p,A);return}for(var un=J.min.y;un<=J.max.y;un++)for(var tr=J.min.x;tr<=J.max.x;tr++){var Cs=new H(tr,un);if(Cs.z=this._tileZoom,!!this._isValidTile(Cs)){var Sa=this._tiles[this._tileCoordsToKey(Cs)];Sa?Sa.current=!0:ke.push(Cs)}}if(ke.sort(function(Ys,cm){return Ys.distanceTo(fe)-cm.distanceTo(fe)}),ke.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var ul=document.createDocumentFragment();for(tr=0;tr<ke.length;tr++)this._addTile(ke[tr],ul);this._level.el.appendChild(ul)}}}},_isValidTile:function(p){var N=this._map.options.crs;if(!N.infinite){var A=this._globalTileRange;if(!N.wrapLng&&(p.x<A.min.x||p.x>A.max.x)||!N.wrapLat&&(p.y<A.min.y||p.y>A.max.y))return!1}if(!this.options.bounds)return!0;var q=this._tileCoordsToBounds(p);return ie(this.options.bounds).overlaps(q)},_keyToBounds:function(p){return this._tileCoordsToBounds(this._keyToTileCoords(p))},_tileCoordsToNwSe:function(p){var N=this._map,A=this.getTileSize(),q=p.scaleBy(A),J=q.add(A),fe=N.unproject(q,p.z),ke=N.unproject(J,p.z);return[fe,ke]},_tileCoordsToBounds:function(p){var N=this._tileCoordsToNwSe(p),A=new F(N[0],N[1]);return this.options.noWrap||(A=this._map.wrapLatLngBounds(A)),A},_tileCoordsToKey:function(p){return p.x+":"+p.y+":"+p.z},_keyToTileCoords:function(p){var N=p.split(":"),A=new H(+N[0],+N[1]);return A.z=+N[2],A},_removeTile:function(p){var N=this._tiles[p];N&&(Dr(N.el),delete this._tiles[p],this.fire("tileunload",{tile:N.el,coords:this._keyToTileCoords(p)}))},_initTile:function(p){On(p,"leaflet-tile");var N=this.getTileSize();p.style.width=N.x+"px",p.style.height=N.y+"px",p.onselectstart=f,p.onmousemove=f,Et.ielt9&&this.options.opacity<1&&ca(p,this.options.opacity)},_addTile:function(p,N){var A=this._getTilePos(p),q=this._tileCoordsToKey(p),J=this.createTile(this._wrapCoords(p),o(this._tileReady,this,p));this._initTile(J),this.createTile.length<2&&D(o(this._tileReady,this,p,null,J)),Mr(J,A),this._tiles[q]={el:J,coords:p,current:!0},N.appendChild(J),this.fire("tileloadstart",{tile:J,coords:p})},_tileReady:function(p,N,A){N&&this.fire("tileerror",{error:N,tile:A,coords:p});var q=this._tileCoordsToKey(p);A=this._tiles[q],A&&(A.loaded=+new Date,this._map._fadeAnimated?(ca(A.el,0),I(this._fadeFrame),this._fadeFrame=D(this._updateOpacity,this)):(A.active=!0,this._pruneTiles()),N||(On(A.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:A.el,coords:p})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Et.ielt9||!this._map._fadeAnimated?D(this._pruneTiles,this):setTimeout(o(this._pruneTiles,this),250)))},_getTilePos:function(p){return p.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(p){var N=new H(this._wrapX?d(p.x,this._wrapX):p.x,this._wrapY?d(p.y,this._wrapY):p.y);return N.z=p.z,N},_pxBoundsToTileRange:function(p){var N=this.getTileSize();return new ee(p.min.unscaleBy(N).floor(),p.max.unscaleBy(N).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var p in this._tiles)if(!this._tiles[p].loaded)return!1;return!0}});function lN(p){return new sm(p)}var Oc=sm.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(p,N){this._url=p,N=y(this,N),N.detectRetina&&Et.retina&&N.maxZoom>0?(N.tileSize=Math.floor(N.tileSize/2),N.zoomReverse?(N.zoomOffset--,N.minZoom=Math.min(N.maxZoom,N.minZoom+1)):(N.zoomOffset++,N.maxZoom=Math.max(N.minZoom,N.maxZoom-1)),N.minZoom=Math.max(0,N.minZoom)):N.zoomReverse?N.minZoom=Math.min(N.maxZoom,N.minZoom):N.maxZoom=Math.max(N.minZoom,N.maxZoom),typeof N.subdomains=="string"&&(N.subdomains=N.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(p,N){return this._url===p&&N===void 0&&(N=!0),this._url=p,N||this.redraw(),this},createTile:function(p,N){var A=document.createElement("img");return St(A,"load",o(this._tileOnLoad,this,N,A)),St(A,"error",o(this._tileOnError,this,N,A)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(A.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(A.referrerPolicy=this.options.referrerPolicy),A.alt="",A.src=this.getTileUrl(p),A},getTileUrl:function(p){var N={r:Et.retina?"@2x":"",s:this._getSubdomain(p),x:p.x,y:p.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var A=this._globalTileRange.max.y-p.y;this.options.tms&&(N.y=A),N["-y"]=A}return w(this._url,i(N,this.options))},_tileOnLoad:function(p,N){Et.ielt9?setTimeout(o(p,this,null,N),0):p(null,N)},_tileOnError:function(p,N,A){var q=this.options.errorTileUrl;q&&N.getAttribute("src")!==q&&(N.src=q),p(A,N)},_onTileRemove:function(p){p.tile.onload=null},_getZoomForUrl:function(){var p=this._tileZoom,N=this.options.maxZoom,A=this.options.zoomReverse,q=this.options.zoomOffset;return A&&(p=N-p),p+q},_getSubdomain:function(p){var N=Math.abs(p.x+p.y)%this.options.subdomains.length;return this.options.subdomains[N]},_abortLoading:function(){var p,N;for(p in this._tiles)if(this._tiles[p].coords.z!==this._tileZoom&&(N=this._tiles[p].el,N.onload=f,N.onerror=f,!N.complete)){N.src=S;var A=this._tiles[p].coords;Dr(N),delete this._tiles[p],this.fire("tileabort",{tile:N,coords:A})}},_removeTile:function(p){var N=this._tiles[p];if(N)return N.el.setAttribute("src",S),sm.prototype._removeTile.call(this,p)},_tileReady:function(p,N,A){if(!(!this._map||A&&A.getAttribute("src")===S))return sm.prototype._tileReady.call(this,p,N,A)}});function jb(p,N){return new Oc(p,N)}var Nb=Oc.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(p,N){this._url=p;var A=i({},this.defaultWmsParams);for(var q in N)q in this.options||(A[q]=N[q]);N=y(this,N);var J=N.detectRetina&&Et.retina?2:1,fe=this.getTileSize();A.width=fe.x*J,A.height=fe.y*J,this.wmsParams=A},onAdd:function(p){this._crs=this.options.crs||p.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var N=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[N]=this._crs.code,Oc.prototype.onAdd.call(this,p)},getTileUrl:function(p){var N=this._tileCoordsToNwSe(p),A=this._crs,q=z(A.project(N[0]),A.project(N[1])),J=q.min,fe=q.max,ke=(this._wmsVersion>=1.3&&this._crs===rm?[J.y,J.x,fe.y,fe.x]:[J.x,J.y,fe.x,fe.y]).join(","),$e=Oc.prototype.getTileUrl.call(this,p);return $e+v(this.wmsParams,$e,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+ke},setParams:function(p,N){return i(this.wmsParams,p),N||this.redraw(),this}});function cN(p,N){return new Nb(p,N)}Oc.WMS=Nb,jb.wms=cN;var Lc=li.extend({options:{padding:.1},initialize:function(p){y(this,p),c(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),On(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var p={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(p.zoomanim=this._onAnimZoom),p},_onAnimZoom:function(p){this._updateTransform(p.center,p.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(p,N){var A=this._map.getZoomScale(N,this._zoom),q=this._map.getSize().multiplyBy(.5+this.options.padding),J=this._map.project(this._center,N),fe=q.multiplyBy(-A).add(J).subtract(this._map._getNewPixelOrigin(p,N));Et.any3d?mu(this._container,fe,A):Mr(this._container,fe)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var p in this._layers)this._layers[p]._reset()},_onZoomEnd:function(){for(var p in this._layers)this._layers[p]._project()},_updatePaths:function(){for(var p in this._layers)this._layers[p]._update()},_update:function(){var p=this.options.padding,N=this._map.getSize(),A=this._map.containerPointToLayerPoint(N.multiplyBy(-p)).round();this._bounds=new ee(A,A.add(N.multiplyBy(1+p*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),_b=Lc.extend({options:{tolerance:0},getEvents:function(){var p=Lc.prototype.getEvents.call(this);return p.viewprereset=this._onViewPreReset,p},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Lc.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var p=this._container=document.createElement("canvas");St(p,"mousemove",this._onMouseMove,this),St(p,"click dblclick mousedown mouseup contextmenu",this._onClick,this),St(p,"mouseout",this._handleMouseOut,this),p._leaflet_disable_events=!0,this._ctx=p.getContext("2d")},_destroyContainer:function(){I(this._redrawRequest),delete this._ctx,Dr(this._container),Rr(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var p;this._redrawBounds=null;for(var N in this._layers)p=this._layers[N],p._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Lc.prototype._update.call(this);var p=this._bounds,N=this._container,A=p.getSize(),q=Et.retina?2:1;Mr(N,p.min),N.width=q*A.x,N.height=q*A.y,N.style.width=A.x+"px",N.style.height=A.y+"px",Et.retina&&this._ctx.scale(2,2),this._ctx.translate(-p.min.x,-p.min.y),this.fire("update")}},_reset:function(){Lc.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(p){this._updateDashArray(p),this._layers[c(p)]=p;var N=p._order={layer:p,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=N),this._drawLast=N,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(p){this._requestRedraw(p)},_removePath:function(p){var N=p._order,A=N.next,q=N.prev;A?A.prev=q:this._drawLast=q,q?q.next=A:this._drawFirst=A,delete p._order,delete this._layers[c(p)],this._requestRedraw(p)},_updatePath:function(p){this._extendRedrawBounds(p),p._project(),p._update(),this._requestRedraw(p)},_updateStyle:function(p){this._updateDashArray(p),this._requestRedraw(p)},_updateDashArray:function(p){if(typeof p.options.dashArray=="string"){var N=p.options.dashArray.split(/[, ]+/),A=[],q,J;for(J=0;J<N.length;J++){if(q=Number(N[J]),isNaN(q))return;A.push(q)}p.options._dashArray=A}else p.options._dashArray=p.options.dashArray},_requestRedraw:function(p){this._map&&(this._extendRedrawBounds(p),this._redrawRequest=this._redrawRequest||D(this._redraw,this))},_extendRedrawBounds:function(p){if(p._pxBounds){var N=(p.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new ee,this._redrawBounds.extend(p._pxBounds.min.subtract([N,N])),this._redrawBounds.extend(p._pxBounds.max.add([N,N]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var p=this._redrawBounds;if(p){var N=p.getSize();this._ctx.clearRect(p.min.x,p.min.y,N.x,N.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var p,N=this._redrawBounds;if(this._ctx.save(),N){var A=N.getSize();this._ctx.beginPath(),this._ctx.rect(N.min.x,N.min.y,A.x,A.y),this._ctx.clip()}this._drawing=!0;for(var q=this._drawFirst;q;q=q.next)p=q.layer,(!N||p._pxBounds&&p._pxBounds.intersects(N))&&p._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(p,N){if(this._drawing){var A,q,J,fe,ke=p._parts,$e=ke.length,Ke=this._ctx;if($e){for(Ke.beginPath(),A=0;A<$e;A++){for(q=0,J=ke[A].length;q<J;q++)fe=ke[A][q],Ke[q?"lineTo":"moveTo"](fe.x,fe.y);N&&Ke.closePath()}this._fillStroke(Ke,p)}}},_updateCircle:function(p){if(!(!this._drawing||p._empty())){var N=p._point,A=this._ctx,q=Math.max(Math.round(p._radius),1),J=(Math.max(Math.round(p._radiusY),1)||q)/q;J!==1&&(A.save(),A.scale(1,J)),A.beginPath(),A.arc(N.x,N.y/J,q,0,Math.PI*2,!1),J!==1&&A.restore(),this._fillStroke(A,p)}},_fillStroke:function(p,N){var A=N.options;A.fill&&(p.globalAlpha=A.fillOpacity,p.fillStyle=A.fillColor||A.color,p.fill(A.fillRule||"evenodd")),A.stroke&&A.weight!==0&&(p.setLineDash&&p.setLineDash(N.options&&N.options._dashArray||[]),p.globalAlpha=A.opacity,p.lineWidth=A.weight,p.strokeStyle=A.color,p.lineCap=A.lineCap,p.lineJoin=A.lineJoin,p.stroke())},_onClick:function(p){for(var N=this._map.mouseEventToLayerPoint(p),A,q,J=this._drawFirst;J;J=J.next)A=J.layer,A.options.interactive&&A._containsPoint(N)&&(!(p.type==="click"||p.type==="preclick")||!this._map._draggableMoved(A))&&(q=A);this._fireEvent(q?[q]:!1,p)},_onMouseMove:function(p){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var N=this._map.mouseEventToLayerPoint(p);this._handleMouseHover(p,N)}},_handleMouseOut:function(p){var N=this._hoveredLayer;N&&(vi(this._container,"leaflet-interactive"),this._fireEvent([N],p,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(p,N){if(!this._mouseHoverThrottled){for(var A,q,J=this._drawFirst;J;J=J.next)A=J.layer,A.options.interactive&&A._containsPoint(N)&&(q=A);q!==this._hoveredLayer&&(this._handleMouseOut(p),q&&(On(this._container,"leaflet-interactive"),this._fireEvent([q],p,"mouseover"),this._hoveredLayer=q)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,p),this._mouseHoverThrottled=!0,setTimeout(o(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(p,N,A){this._map._fireDOMEvent(N,A||N.type,p)},_bringToFront:function(p){var N=p._order;if(N){var A=N.next,q=N.prev;if(A)A.prev=q;else return;q?q.next=A:A&&(this._drawFirst=A),N.prev=this._drawLast,this._drawLast.next=N,N.next=null,this._drawLast=N,this._requestRedraw(p)}},_bringToBack:function(p){var N=p._order;if(N){var A=N.next,q=N.prev;if(q)q.next=A;else return;A?A.prev=q:q&&(this._drawLast=q),N.prev=null,N.next=this._drawFirst,this._drawFirst.prev=N,this._drawFirst=N,this._requestRedraw(p)}}});function Sb(p){return Et.canvas?new _b(p):null}var om=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(p){return document.createElement("<lvml:"+p+' class="lvml">')}}catch{}return function(p){return document.createElement("<"+p+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),uN={_initContainer:function(){this._container=Vn("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Lc.prototype._update.call(this),this.fire("update"))},_initPath:function(p){var N=p._container=om("shape");On(N,"leaflet-vml-shape "+(this.options.className||"")),N.coordsize="1 1",p._path=om("path"),N.appendChild(p._path),this._updateStyle(p),this._layers[c(p)]=p},_addPath:function(p){var N=p._container;this._container.appendChild(N),p.options.interactive&&p.addInteractiveTarget(N)},_removePath:function(p){var N=p._container;Dr(N),p.removeInteractiveTarget(N),delete this._layers[c(p)]},_updateStyle:function(p){var N=p._stroke,A=p._fill,q=p.options,J=p._container;J.stroked=!!q.stroke,J.filled=!!q.fill,q.stroke?(N||(N=p._stroke=om("stroke")),J.appendChild(N),N.weight=q.weight+"px",N.color=q.color,N.opacity=q.opacity,q.dashArray?N.dashStyle=j(q.dashArray)?q.dashArray.join(" "):q.dashArray.replace(/( *, *)/g," "):N.dashStyle="",N.endcap=q.lineCap.replace("butt","flat"),N.joinstyle=q.lineJoin):N&&(J.removeChild(N),p._stroke=null),q.fill?(A||(A=p._fill=om("fill")),J.appendChild(A),A.color=q.fillColor||q.color,A.opacity=q.fillOpacity):A&&(J.removeChild(A),p._fill=null)},_updateCircle:function(p){var N=p._point.round(),A=Math.round(p._radius),q=Math.round(p._radiusY||A);this._setPath(p,p._empty()?"M0 0":"AL "+N.x+","+N.y+" "+A+","+q+" 0,"+65535*360)},_setPath:function(p,N){p._path.v=N},_bringToFront:function(p){oi(p._container)},_bringToBack:function(p){hu(p._container)}},lm=Et.vml?om:X,Cd=Lc.extend({_initContainer:function(){this._container=lm("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=lm("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Dr(this._container),Rr(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Lc.prototype._update.call(this);var p=this._bounds,N=p.getSize(),A=this._container;(!this._svgSize||!this._svgSize.equals(N))&&(this._svgSize=N,A.setAttribute("width",N.x),A.setAttribute("height",N.y)),Mr(A,p.min),A.setAttribute("viewBox",[p.min.x,p.min.y,N.x,N.y].join(" ")),this.fire("update")}},_initPath:function(p){var N=p._path=lm("path");p.options.className&&On(N,p.options.className),p.options.interactive&&On(N,"leaflet-interactive"),this._updateStyle(p),this._layers[c(p)]=p},_addPath:function(p){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(p._path),p.addInteractiveTarget(p._path)},_removePath:function(p){Dr(p._path),p.removeInteractiveTarget(p._path),delete this._layers[c(p)]},_updatePath:function(p){p._project(),p._update()},_updateStyle:function(p){var N=p._path,A=p.options;N&&(A.stroke?(N.setAttribute("stroke",A.color),N.setAttribute("stroke-opacity",A.opacity),N.setAttribute("stroke-width",A.weight),N.setAttribute("stroke-linecap",A.lineCap),N.setAttribute("stroke-linejoin",A.lineJoin),A.dashArray?N.setAttribute("stroke-dasharray",A.dashArray):N.removeAttribute("stroke-dasharray"),A.dashOffset?N.setAttribute("stroke-dashoffset",A.dashOffset):N.removeAttribute("stroke-dashoffset")):N.setAttribute("stroke","none"),A.fill?(N.setAttribute("fill",A.fillColor||A.color),N.setAttribute("fill-opacity",A.fillOpacity),N.setAttribute("fill-rule",A.fillRule||"evenodd")):N.setAttribute("fill","none"))},_updatePoly:function(p,N){this._setPath(p,Ae(p._parts,N))},_updateCircle:function(p){var N=p._point,A=Math.max(Math.round(p._radius),1),q=Math.max(Math.round(p._radiusY),1)||A,J="a"+A+","+q+" 0 1,0 ",fe=p._empty()?"M0 0":"M"+(N.x-A)+","+N.y+J+A*2+",0 "+J+-A*2+",0 ";this._setPath(p,fe)},_setPath:function(p,N){p._path.setAttribute("d",N)},_bringToFront:function(p){oi(p._path)},_bringToBack:function(p){hu(p._path)}});Et.vml&&Cd.include(uN);function Gs(p){return Et.svg||Et.vml?new Cd(p):null}Yn.include({getRenderer:function(p){var N=p.options.renderer||this._getPaneRenderer(p.options.pane)||this.options.renderer||this._renderer;return N||(N=this._renderer=this._createRenderer()),this.hasLayer(N)||this.addLayer(N),N},_getPaneRenderer:function(p){if(p==="overlayPane"||p===void 0)return!1;var N=this._paneRenderers[p];return N===void 0&&(N=this._createRenderer({pane:p}),this._paneRenderers[p]=N),N},_createRenderer:function(p){return this.options.preferCanvas&&Sb(p)||Gs(p)}});var _o=Eu.extend({initialize:function(p,N){Eu.prototype.initialize.call(this,this._boundsToLatLngs(p),N)},setBounds:function(p){return this.setLatLngs(this._boundsToLatLngs(p))},_boundsToLatLngs:function(p){return p=ie(p),[p.getSouthWest(),p.getNorthWest(),p.getNorthEast(),p.getSouthEast()]}});function Gv(p,N){return new _o(p,N)}Cd.create=lm,Cd.pointsToPath=Ae,Ba.geometryToLayer=_d,Ba.coordsToLatLng=$f,Ba.coordsToLatLngs=Sd,Ba.latLngToCoords=Pc,Ba.latLngsToCoords=Ll,Ba.getFeature=jo,Ba.asFeature=Ac,Yn.mergeOptions({boxZoom:!0});var ig=be.extend({initialize:function(p){this._map=p,this._container=p._container,this._pane=p._panes.overlayPane,this._resetStateTimeout=0,p.on("unload",this._destroy,this)},addHooks:function(){St(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Rr(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Dr(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(p){if(!p.shiftKey||p.which!==1&&p.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),yd(),Kp(),this._startPoint=this._map.mouseEventToContainerPoint(p),St(document,{contextmenu:xu,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(p){this._moved||(this._moved=!0,this._box=Vn("div","leaflet-zoom-box",this._container),On(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(p);var N=new ee(this._point,this._startPoint),A=N.getSize();Mr(this._box,N.min),this._box.style.width=A.x+"px",this._box.style.height=A.y+"px"},_finish:function(){this._moved&&(Dr(this._box),vi(this._container,"leaflet-crosshair")),Nc(),Gp(),Rr(document,{contextmenu:xu,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(p){if(!(p.which!==1&&p.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(o(this._resetState,this),0);var N=new F(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(N).fire("boxzoomend",{boxZoomBounds:N})}},_onKeyDown:function(p){p.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Yn.addInitHook("addHandler","boxZoom",ig),Yn.mergeOptions({doubleClickZoom:!0});var kb=be.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(p){var N=this._map,A=N.getZoom(),q=N.options.zoomDelta,J=p.originalEvent.shiftKey?A-q:A+q;N.options.doubleClickZoom==="center"?N.setZoom(J):N.setZoomAround(p.containerPoint,J)}});Yn.addInitHook("addHandler","doubleClickZoom",kb),Yn.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var ag=be.extend({addHooks:function(){if(!this._draggable){var p=this._map;this._draggable=new Ye(p._mapPane,p._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),p.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),p.on("zoomend",this._onZoomEnd,this),p.whenReady(this._onZoomEnd,this))}On(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){vi(this._map._container,"leaflet-grab"),vi(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var p=this._map;if(p._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var N=ie(this._map.options.maxBounds);this._offsetLimit=z(this._map.latLngToContainerPoint(N.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(N.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;p.fire("movestart").fire("dragstart"),p.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(p){if(this._map.options.inertia){var N=this._lastTime=+new Date,A=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(A),this._times.push(N),this._prunePositions(N)}this._map.fire("move",p).fire("drag",p)},_prunePositions:function(p){for(;this._positions.length>1&&p-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var p=this._map.getSize().divideBy(2),N=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=N.subtract(p).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(p,N){return p-(p-N)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var p=this._draggable._newPos.subtract(this._draggable._startPos),N=this._offsetLimit;p.x<N.min.x&&(p.x=this._viscousLimit(p.x,N.min.x)),p.y<N.min.y&&(p.y=this._viscousLimit(p.y,N.min.y)),p.x>N.max.x&&(p.x=this._viscousLimit(p.x,N.max.x)),p.y>N.max.y&&(p.y=this._viscousLimit(p.y,N.max.y)),this._draggable._newPos=this._draggable._startPos.add(p)}},_onPreDragWrap:function(){var p=this._worldWidth,N=Math.round(p/2),A=this._initialWorldOffset,q=this._draggable._newPos.x,J=(q-N+A)%p+N-A,fe=(q+N+A)%p-N-A,ke=Math.abs(J+A)<Math.abs(fe+A)?J:fe;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=ke},_onDragEnd:function(p){var N=this._map,A=N.options,q=!A.inertia||p.noInertia||this._times.length<2;if(N.fire("dragend",p),q)N.fire("moveend");else{this._prunePositions(+new Date);var J=this._lastPos.subtract(this._positions[0]),fe=(this._lastTime-this._times[0])/1e3,ke=A.easeLinearity,$e=J.multiplyBy(ke/fe),Ke=$e.distanceTo([0,0]),ot=Math.min(A.inertiaMaxSpeed,Ke),It=$e.multiplyBy(ot/Ke),un=ot/(A.inertiaDeceleration*ke),tr=It.multiplyBy(-un/2).round();!tr.x&&!tr.y?N.fire("moveend"):(tr=N._limitOffset(tr,N.options.maxBounds),D(function(){N.panBy(tr,{duration:un,easeLinearity:ke,noMoveStart:!0,animate:!0})}))}}});Yn.addInitHook("addHandler","dragging",ag),Yn.mergeOptions({keyboard:!0,keyboardPanDelta:80});var sg=be.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(p){this._map=p,this._setPanDelta(p.options.keyboardPanDelta),this._setZoomDelta(p.options.zoomDelta)},addHooks:function(){var p=this._map._container;p.tabIndex<=0&&(p.tabIndex="0"),St(p,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Rr(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var p=document.body,N=document.documentElement,A=p.scrollTop||N.scrollTop,q=p.scrollLeft||N.scrollLeft;this._map._container.focus(),window.scrollTo(q,A)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(p){var N=this._panKeys={},A=this.keyCodes,q,J;for(q=0,J=A.left.length;q<J;q++)N[A.left[q]]=[-1*p,0];for(q=0,J=A.right.length;q<J;q++)N[A.right[q]]=[p,0];for(q=0,J=A.down.length;q<J;q++)N[A.down[q]]=[0,p];for(q=0,J=A.up.length;q<J;q++)N[A.up[q]]=[0,-1*p]},_setZoomDelta:function(p){var N=this._zoomKeys={},A=this.keyCodes,q,J;for(q=0,J=A.zoomIn.length;q<J;q++)N[A.zoomIn[q]]=p;for(q=0,J=A.zoomOut.length;q<J;q++)N[A.zoomOut[q]]=-p},_addHooks:function(){St(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Rr(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(p){if(!(p.altKey||p.ctrlKey||p.metaKey)){var N=p.keyCode,A=this._map,q;if(N in this._panKeys){if(!A._panAnim||!A._panAnim._inProgress)if(q=this._panKeys[N],p.shiftKey&&(q=U(q).multiplyBy(3)),A.options.maxBounds&&(q=A._limitOffset(U(q),A.options.maxBounds)),A.options.worldCopyJump){var J=A.wrapLatLng(A.unproject(A.project(A.getCenter()).add(q)));A.panTo(J)}else A.panBy(q)}else if(N in this._zoomKeys)A.setZoom(A.getZoom()+(p.shiftKey?3:1)*this._zoomKeys[N]);else if(N===27&&A._popup&&A._popup.options.closeOnEscapeKey)A.closePopup();else return;xu(p)}}});Yn.addInitHook("addHandler","keyboard",sg),Yn.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Yv=be.extend({addHooks:function(){St(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Rr(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(p){var N=em(p),A=this._map.options.wheelDebounceTime;this._delta+=N,this._lastMousePos=this._map.mouseEventToContainerPoint(p),this._startTime||(this._startTime=+new Date);var q=Math.max(A-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(o(this._performZoom,this),q),xu(p)},_performZoom:function(){var p=this._map,N=p.getZoom(),A=this._map.options.zoomSnap||0;p._stop();var q=this._delta/(this._map.options.wheelPxPerZoomLevel*4),J=4*Math.log(2/(1+Math.exp(-Math.abs(q))))/Math.LN2,fe=A?Math.ceil(J/A)*A:J,ke=p._limitZoom(N+(this._delta>0?fe:-fe))-N;this._delta=0,this._startTime=null,ke&&(p.options.scrollWheelZoom==="center"?p.setZoom(N+ke):p.setZoomAround(this._lastMousePos,N+ke))}});Yn.addInitHook("addHandler","scrollWheelZoom",Yv);var dN=600;Yn.mergeOptions({tapHold:Et.touchNative&&Et.safari&&Et.mobile,tapTolerance:15});var Xv=be.extend({addHooks:function(){St(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Rr(this._map._container,"touchstart",this._onDown,this)},_onDown:function(p){if(clearTimeout(this._holdTimeout),p.touches.length===1){var N=p.touches[0];this._startPos=this._newPos=new H(N.clientX,N.clientY),this._holdTimeout=setTimeout(o(function(){this._cancel(),this._isTapValid()&&(St(document,"touchend",Ei),St(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",N))},this),dN),St(document,"touchend touchcancel contextmenu",this._cancel,this),St(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function p(){Rr(document,"touchend",Ei),Rr(document,"touchend touchcancel",p)},_cancel:function(){clearTimeout(this._holdTimeout),Rr(document,"touchend touchcancel contextmenu",this._cancel,this),Rr(document,"touchmove",this._onMove,this)},_onMove:function(p){var N=p.touches[0];this._newPos=new H(N.clientX,N.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(p,N){var A=new MouseEvent(p,{bubbles:!0,cancelable:!0,view:window,screenX:N.screenX,screenY:N.screenY,clientX:N.clientX,clientY:N.clientY});A._simulated=!0,N.target.dispatchEvent(A)}});Yn.addInitHook("addHandler","tapHold",Xv),Yn.mergeOptions({touchZoom:Et.touch,bounceAtZoomLimits:!0});var Zv=be.extend({addHooks:function(){On(this._map._container,"leaflet-touch-zoom"),St(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){vi(this._map._container,"leaflet-touch-zoom"),Rr(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(p){var N=this._map;if(!(!p.touches||p.touches.length!==2||N._animatingZoom||this._zooming)){var A=N.mouseEventToContainerPoint(p.touches[0]),q=N.mouseEventToContainerPoint(p.touches[1]);this._centerPoint=N.getSize()._divideBy(2),this._startLatLng=N.containerPointToLatLng(this._centerPoint),N.options.touchZoom!=="center"&&(this._pinchStartLatLng=N.containerPointToLatLng(A.add(q)._divideBy(2))),this._startDist=A.distanceTo(q),this._startZoom=N.getZoom(),this._moved=!1,this._zooming=!0,N._stop(),St(document,"touchmove",this._onTouchMove,this),St(document,"touchend touchcancel",this._onTouchEnd,this),Ei(p)}},_onTouchMove:function(p){if(!(!p.touches||p.touches.length!==2||!this._zooming)){var N=this._map,A=N.mouseEventToContainerPoint(p.touches[0]),q=N.mouseEventToContainerPoint(p.touches[1]),J=A.distanceTo(q)/this._startDist;if(this._zoom=N.getScaleZoom(J,this._startZoom),!N.options.bounceAtZoomLimits&&(this._zoom<N.getMinZoom()&&J<1||this._zoom>N.getMaxZoom()&&J>1)&&(this._zoom=N._limitZoom(this._zoom)),N.options.touchZoom==="center"){if(this._center=this._startLatLng,J===1)return}else{var fe=A._add(q)._divideBy(2)._subtract(this._centerPoint);if(J===1&&fe.x===0&&fe.y===0)return;this._center=N.unproject(N.project(this._pinchStartLatLng,this._zoom).subtract(fe),this._zoom)}this._moved||(N._moveStart(!0,!1),this._moved=!0),I(this._animRequest);var ke=o(N._move,N,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=D(ke,this,!0),Ei(p)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,I(this._animRequest),Rr(document,"touchmove",this._onTouchMove,this),Rr(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Yn.addInitHook("addHandler","touchZoom",Zv),Yn.BoxZoom=ig,Yn.DoubleClickZoom=kb,Yn.Drag=ag,Yn.Keyboard=sg,Yn.ScrollWheelZoom=Yv,Yn.TapHold=Xv,Yn.TouchZoom=Zv,n.Bounds=ee,n.Browser=Et,n.CRS=oe,n.Canvas=_b,n.Circle=Cc,n.CircleMarker=Ol,n.Class=$,n.Control=Za,n.DivIcon=wb,n.DivOverlay=Ks,n.DomEvent=yu,n.DomUtil=bb,n.Draggable=Ye,n.Evented=Q,n.FeatureGroup=sl,n.GeoJSON=Ba,n.GridLayer=sm,n.Handler=be,n.Icon=ll,n.ImageOverlay=No,n.LatLng=ce,n.LatLngBounds=F,n.Layer=li,n.LayerGroup=Ws,n.LineUtil=If,n.Map=Yn,n.Marker=kc,n.Mixin=Ee,n.Path=da,n.Point=H,n.PolyUtil=Cn,n.Polygon=Eu,n.Polyline=Hs,n.Popup=Au,n.PosAnimation=nm,n.Projection=Df,n.Rectangle=_o,n.Renderer=Lc,n.SVG=Cd,n.SVGOverlay=fa,n.TileLayer=Oc,n.Tooltip=rg,n.Transformation=ue,n.Util=B,n.VideoOverlay=Fr,n.bind=o,n.bounds=z,n.canvas=Sb,n.circle=ng,n.circleMarker=Cu,n.control=bu,n.divIcon=oN,n.extend=i,n.featureGroup=ol,n.geoJSON=kd,n.geoJson=cl,n.gridLayer=lN,n.icon=tg,n.imageOverlay=Tr,n.latLng=te,n.latLngBounds=ie,n.layerGroup=im,n.map=Zp,n.marker=wo,n.point=U,n.polygon=Ec,n.polyline=Qi,n.popup=Kv,n.rectangle=Gv,n.setOptions=y,n.stamp=c,n.svg=Gs,n.svgOverlay=Pu,n.tileLayer=jb,n.tooltip=sN,n.transformation=re,n.version=r,n.videoOverlay=Ji;var Qv=window.L;n.noConflict=function(){return window.L=Qv,this},window.L=n})})(uD,uD.exports);var bh=uD.exports;const sC=Ar(bh);function dA(e,t,n){return Object.freeze({instance:e,context:t,container:n})}function fA(e,t){return t==null?function(r,i){const a=b.useRef();return a.current||(a.current=e(r,i)),a}:function(r,i){const a=b.useRef();a.current||(a.current=e(r,i));const o=b.useRef(r),{instance:l}=a.current;return b.useEffect(function(){o.current!==r&&(t(l,r,o.current),o.current=r)},[l,r,i]),a}}function Mxe(e,t){b.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){var a;(a=t.layerContainer)==null||a.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function Ixe(e){return function(n){const r=cA(),i=e(uA(n,r),r);return Pxe(r.map,n.attribution),c7(i.current,n.eventHandlers),Mxe(i.current,r),i}}function h_t(e,t){const n=b.useRef();b.useEffect(function(){if(t.pathOptions!==n.current){const i=t.pathOptions??{};e.instance.setStyle(i),n.current=i}},[e,t])}function m_t(e){return function(n){const r=cA(),i=e(uA(n,r),r);return c7(i.current,n.eventHandlers),Mxe(i.current,r),h_t(i.current,n),i}}function p_t(e,t){const n=fA(e,t),r=Ixe(n);return Lxe(r)}function g_t(e,t){const n=fA(e),r=f_t(n,t);return u_t(r)}function v_t(e,t){const n=fA(e,t),r=m_t(n);return Lxe(r)}function x_t(e,t){const n=fA(e,t),r=Ixe(n);return d_t(r)}function y_t(e,t,n){const{opacity:r,zIndex:i}=t;r!=null&&r!==n.opacity&&e.setOpacity(r),i!=null&&i!==n.zIndex&&e.setZIndex(i)}function Dxe(){return cA().map}function dD(){return dD=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dD.apply(this,arguments)}function b_t({bounds:e,boundsOptions:t,center:n,children:r,className:i,id:a,placeholder:o,style:l,whenReady:c,zoom:u,...d},f){const[m]=b.useState({className:i,id:a,style:l}),[h,g]=b.useState(null);b.useImperativeHandle(f,()=>(h==null?void 0:h.map)??null,[h]);const y=b.useCallback(x=>{if(x!==null&&h===null){const w=new bh.Map(x,d);n!=null&&u!=null?w.setView(n,u):e!=null&&w.fitBounds(e,t),c!=null&&w.whenReady(c),g(c_t(w))}},[]);b.useEffect(()=>()=>{h==null||h.map.remove()},[h]);const v=h?E.createElement(Oxe,{value:h},r):o??null;return E.createElement("div",dD({},m,{ref:y}),v)}const w_t=b.forwardRef(b_t),fD=p_t(function({position:t,...n},r){const i=new bh.Marker(t,n);return dA(i,Axe(r,{overlayContainer:i}))},function(t,n,r){n.position!==r.position&&t.setLatLng(n.position),n.icon!=null&&n.icon!==r.icon&&t.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==r.zIndexOffset&&t.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==r.opacity&&t.setOpacity(n.opacity),t.dragging!=null&&n.draggable!==r.draggable&&(n.draggable===!0?t.dragging.enable():t.dragging.disable())}),tX=v_t(function({positions:t,...n},r){const i=new bh.Polyline(t,n);return dA(i,Axe(r,{overlayContainer:i}))},function(t,n,r){n.positions!==r.positions&&t.setLatLngs(n.positions)}),EO=g_t(function(t,n){const r=new bh.Popup(t,n.overlayContainer);return dA(r,n)},function(t,n,{position:r},i){b.useEffect(function(){const{instance:o}=t;function l(u){u.popup===o&&(o.update(),i(!0))}function c(u){u.popup===o&&i(!1)}return n.map.on({popupopen:l,popupclose:c}),n.overlayContainer==null?(r!=null&&o.setLatLng(r),o.openOn(n.map)):n.overlayContainer.bindPopup(o),function(){var d;n.map.off({popupopen:l,popupclose:c}),(d=n.overlayContainer)==null||d.unbindPopup(),n.map.removeLayer(o)}},[t,n,i,r])}),j_t=x_t(function({url:t,...n},r){const i=new bh.TileLayer(t,uA(n,r));return dA(i,r)},function(t,n,r){y_t(t,n,r);const{url:i}=n;i!=null&&i!==r.url&&t.setUrl(i)}),N_t="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAABSCAMAAAAhFXfZAAAC91BMVEVMaXEzeak2f7I4g7g3g7cua5gzeKg8hJo3grY4g7c3grU0gLI2frE0daAubJc2gbQwd6QzeKk2gLMtd5sxdKIua5g1frA2f7IydaM0e6w2fq41fK01eqo3grgubJgta5cxdKI1f7AydaQydaMxc6EubJgvbJkwcZ4ubZkwcJwubZgubJcydqUydKIxapgubJctbJcubZcubJcvbJYubJcvbZkubJctbJctbZcubJg2f7AubJcrbZcubJcubJcua5g3grY0fq8ubJcubJdEkdEwhsw6i88vhswuhcsuhMtBjMgthMsrg8srgss6is8qgcs8i9A9iMYtg8spgcoogMo7hcMngMonf8olfso4gr8kfck5iM8jfMk4iM8he8k1fro7itAgesk2hs8eecgzfLcofssdeMg0hc4cd8g2hcsxeLQbdsgZdcgxeLImfcszhM0vda4xgckzhM4xg84wf8Yxgs4udKsvfcQucqhUndROmdM1fK0wcZ8vb5w0eqpQm9MzeKhXoNVcpdYydKNWn9VZotVKltJFjsIwcJ1Rms9OlslLmtH///8+kc9epdYzd6dbo9VHkMM2f7FHmNBClM8ydqVcpNY9hro3gLM9hLczealQmcw3fa46f7A8gLMxc6I3eagyc6FIldJMl9JSnNRSntNNl9JPnNJFi75UnM9ZodVKksg8kM45jc09e6ZHltFBk883gbRBh7pDk9EwcaBzn784g7dKkcY2i81Om9M7j85Llc81is09g7Q4grY/j9A0eqxKmdFFltBEjcXf6fFImdBCiLxJl9FGlNFBi78yiMxVndEvbpo6js74+vx+psPP3+o/ks5HkcpGmNCjwdZCkNDM3ehYoNJEls+lxNkxh8xHks0+jdC1zd5Lg6r+/v/H2ufz9/o3jM3t8/edvdM/k89Th61OiLBSjbZklbaTt9BfptdjmL1AicBHj8hGk9FAgK1dkLNTjLRekrdClc/k7fM0icy0y9tgp9c4jc2NtM9Dlc8zicxeXZn3AAAAQ3RSTlMAHDdTb4yPA+LtnEQmC4L2EmHqB7XA0d0sr478x4/Yd5i1zOfyPkf1sLVq4Nh3FvjxopQ2/STNuFzUwFIwxKaejILpIBEV9wAABhVJREFUeF6s1NdyFEcYBeBeoQIhRAkLlRDGrhIgY3BJL8CVeKzuyXFzzjkn5ZxzzuScg3PO8cKzu70JkO0LfxdTU//pM9vTu7Xgf6KqOVTb9X7toRrVEfBf1HTVjZccrT/2by1VV928Yty9ZbVuucdz90frG8DBjl9pVApbOstvmMuvVgaNXSfAAd6pGxpy6yxf5ph43pS/4f3uoaGm2rdu72S9xzOvMymkZFq/ptDrk90mhW7e4zl7HLzhxGWPR20xmSxJ/VqldG5m9XhaVOA1DadsNh3Pu5L2N6QtPO/32JpqQBVVk20oy/Pi2s23WEvyfHbe1thadVQttvm7Llf65gGmXK67XtupyoM7HQhmXdLS8oGWJNeOJ3C5fG5XCEJnkez3/oFdsvgJ4l2ANZwhrJKk/7OSXa+3Vw2WJMlKnGkobouYk6T0TyX30klOUnTD9HJ5qpckL3EW/w4XF3Xd0FGywXUrstrclVsqz5Pd/sXFYyDnPdrLcQODmGOK47IZb4CmibmMn+MYRzFZ5jg33ZL/EJrWcszHmANy3ARBK/IXtciJy8VsitPSdE3uuHxzougojcUdr8/32atnz/ev3f/K5wtpxUTpcaI45zusVDpYtZi+jg0oU9b3x74h7+n9ABvYEZeKaVq0sh0AtLKsFtqNBdeT0MrSzwwlq9+x6xAO4tgOtSzbCjrNQQiNvQUbUEubvzBUeGw26yDCsRHCoLkTHDa7IdOLIThs/gHvChszh2CimE8peRs47cxANI0lYNB5y1DljpOF0IhzBDPOZnDOqYYbeGKECbPzWnXludPphw5c2YBq5zlwXphIbO4VDCZ0gnPfUO1TwZoYwAs2ExPCedAu9DAjfQUjzITQb3jNj0KG2Sgt6BHaQUdYzWz+XmBktOHwanXjaSTcwwziBcuMOtwBmqPrTOxFQR/DRKKPqyur0aiW6cULYsx6tBm0jXpR/AUWR6HRq9WVW6MRhIq5jLyjbaCTDCijyYJNpCajdyobP/eTw0iexBAKkJ3gA5KcQb2zBXsIBckn+xVv8jkZSaEFHE+jFEleAEfayRU0MouNoBmB/L50Ai/HSLIHxcrpCvnhSQAuakKp2C/YbCylJjXRVy/z3+Kv/RrNcCo+WUzlVEhzKffnTQnxeN9fWF88fiNCUdSTsaufaChKWInHeysygfpIqagoakW+vV20J8uyl6TyNKEZWV4oRSPyCkWpgOLSbkCObT8o2r6tlG58HQquf6O0v50tB7JM7F4EORd2dx/K0w/KHsVkLPaoYrwgP/y7krr3SSMA4zj+OBgmjYkxcdIJQyQRKgg2viX9Hddi9UBb29LrKR7CVVEEEXWojUkXNyfTNDE14W9gbHJNuhjDettN3ZvbOvdOqCD3Jp/9l+/wJE+9PkYGjx/fqkys3S2rMozM/o2106rfMUINo6hVqz+eu/hd1c4xTg0TAfy5kV+4UG6+IthHTU9woWmxuKNbTfuCSfovBCxq7EtHqvYL4Sm6F8GVxsSXHMQ07TOi1DKtZxjWaaIyi4CXWjxPccUw8WVbMYY5wxC1mzEyXMJWkllpRloi+Kkoq69sxBTlElF6aAxYUbjXNlhlDZilDnM4U5SlN5biRsRHnbx3mbeWjEh4mEyiuJDl5XcWVmX5GvNkFgLWZM5qwsop4/AWfLhU1cR7k1VVvcYCWRkOI6Xy5gmnphCYIkvzuNYzHzosq2oNk2RtSs8khfUOfHIDgR6ysYBaMpl4uEgk2U/oJTs9AaTSwma7dT69geAE2ZpEjUsn2ieJNHeKfrI3EcAGJ2ZaNgVuC8EBctCLc57P5u5led6IOBkIYkuQMrmmjChs4VkfOerHqSBkPzZlhe06RslZ3zMjk2sscqKwY0RcjKK+LWbzd7KiHhkncs/siFJ+V5eXxD34B8nVuJEpGJNmxN2gH3vSvp7J70tF+D1Ej8qUJD1TkErAND2GZwTFg/LubvmgiBG3SOvdlsqFQrkEzJCL1rstlnVFROixZoDDSuXQFHESwVGlcuQcMb/b42NgjLowh5MTDFE3vNB5qStRIErdCQEh6pLPR92anSUb/wAIhldAaDMpGgAAAABJRU5ErkJggg==",__t="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",S_t="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC";function k_t({center:e,zoom:t}){const n=Dxe();return b.useEffect(()=>{n.setView(e,t)},[e,t,n]),null}function C_t({position:e,icon:t,children:n,animate:r=!1,previousPosition:i=null}){const a=b.useRef(null),o=Dxe();return b.useEffect(()=>{const l=a.current;if(!r||!i||!l)return;const u=sC.latLng(i[0],i[1]),d=sC.latLng(e[0],e[1]),f=100,m=(d.lat-u.lat)/f,h=(d.lng-u.lng)/f;let g=0;const y=()=>{if(g<f&&a.current){g++;const v=u.lat+m*g,x=u.lng+h*g;a.current.setLatLng([v,x]),requestAnimationFrame(y)}};y()},[e,r,i,o]),s.jsx(fD,{position:e,icon:t,ref:a,children:n})}function E_t({origin:e,destination:t,currentLocation:n,status:r}){b.useEffect(()=>{delete sC.Icon.Default.prototype._getIconUrl,sC.Icon.Default.mergeOptions({iconRetinaUrl:N_t,iconUrl:__t,shadowUrl:S_t})},[]);let i;if(r==="delivered")i={lat:t.lat,lng:t.lng,name:t.name};else if(n)i=n;else{let j;switch(r){case"pending":j=.1;break;case"in_transit":j=.5;break;case"delayed":j=.7;break;case"cancelled":j=.3;break;default:j=.5}i={lat:e.lat+(t.lat-e.lat)*j,lng:e.lng+(t.lng-e.lng)*j,name:"En ruta"}}const a={lat:(e.lat+t.lat)/2,lng:(e.lng+t.lng)/2},o=[[e.lat,e.lng],[i.lat,i.lng],[t.lat,t.lng]],l=()=>{switch(r){case"pending":return"#3b82f6";case"in_transit":return"#f97316";case"delayed":return"#ef4444";case"delivered":return"#b5e951";case"cancelled":return"#6b7280";default:return"#3b82f6"}},c=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512" fill="${r==="delayed"?"red":r==="delivered"?"#4ade80":"orange"}" width="36" height="36"><path d="M32 96c0-35.3 28.7-64 64-64H320c23.7 0 44.4 12.9 55.4 32h51.8c25.3 0 48.2 14.9 58.5 38l52.8 118.8c.5 1.1 .9 2.3 1.3 3.5 6.5 2.5 12.7 5.5 18.7 9.1 18.9 11.3 34.1 28.3 43.8 48.8 9.2 19.4 14 40.5 14.1 61.7L640 409.1v7c0 22.1-17.9 40-40 40H608c0 8.8-7.2 16-16 16s-16-7.2-16-16H378.5c0 8.8-7.2 16-16 16s-16-7.2-16-16H320 288 205.5c0 8.8-7.2 16-16 16s-16-7.2-16-16H64c-8.8 0-16-7.2-16-16V409.1C27.8 407.9 8.4 393.9 2.6 373.3c-2.1-7.9 2.5-16.1 10.4-18.3s16.1 2.5 18.3 10.4c3.3 11.9 14.2 20.2 26.7 20.5l32 .9c23.5 .7 42.9-17.8 43.6-41.2s-17.8-42.9-41.2-43.6l-25.6-.7c-12.2-.3-22.8-8.2-27.4-19.8C29.1 255.8 32 228.3 32 200.7V96zm345.6 160H485.3l-42.7-96H390.9c-3.1 5.6-6.8 10.9-11.1 15.6-14.8 16.4-34.5 27.8-57.2 31.8V256zM151.5 176c6.6-18.6 24.4-32 45.3-32h48.5c-7.4 11.4-11.2 24.4-11.2 38.1c0 38.2 30.4 69.3 68.3 70.5l.7 0c30.1-1.2 54.9-23.4 61.1-52.5H440c-.2 34.5-6.4 61.9-16.7 82.3-12.4 24.3-30.6 39.4-54 43.2-10.5 1.7-21.6 2.1-32.7 1.3-15.3 24.9-42.8 41.5-74.1 41.5c-24.7 0-46.9-10.2-62.7-26.5c-2.9-.5-5.7-1-8.6-1.5c-28.9-5.4-54.8-20.8-73.2-42.2c-13.2-15.4-22.8-33.5-28.1-53.1c-2.2-8.1-3.9-16.5-5.1-25.1l5.1 .1c8.8 .2 16.9 3.3 23.4 8.3c7.1-11.8 17.7-21.2 30.7-26.5c6.2-2.6 12.9-4.1 19.9-4.4z"/></svg>`,u=new bh.DivIcon({html:`
      <div style="position: relative; text-align: center;">
        <div style="color: #273949; font-weight: bold; background: white; padding: 2px 5px; border-radius: 3px; border: 1px solid #ccc; margin-bottom: 5px;">
          Origen
        </div>
        <img src="https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-blue.png" 
             style="width: 25px; height: 41px;" 
             alt="Origen" />
      </div>
    `,className:"origin-marker-icon",iconSize:[40,60],iconAnchor:[20,41],popupAnchor:[0,-41]}),d=new bh.DivIcon({html:`
      <div style="position: relative; text-align: center;">
        <div style="color: #27674a; font-weight: bold; background: white; padding: 2px 5px; border-radius: 3px; border: 1px solid #ccc; margin-bottom: 5px;">
          Destino
        </div>
        <img src="https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-green.png" 
             style="width: 25px; height: 41px;" 
             alt="Destino" />
      </div>
    `,className:"destination-marker-icon",iconSize:[40,60],iconAnchor:[20,41],popupAnchor:[0,-41]}),f=`data:image/svg+xml;utf8,${encodeURIComponent(c)}`,m=new bh.Icon({iconUrl:f,shadowUrl:"",iconSize:[36,36],iconAnchor:[18,18],popupAnchor:[0,-18]}),[h,g]=b.useState(null),[y,v]=b.useState(!0);b.useEffect(()=>{h||g([e.lat,e.lng])},[e.lat,e.lng,h]),b.useEffect(()=>{g(j=>j||[e.lat,e.lng]),v(!0)},[i.lat,i.lng,e.lat,e.lng]);const w=(()=>{const j=Math.sqrt(Math.pow(e.lat-t.lat,2)+Math.pow(e.lng-t.lng,2));return j>10?5:j>5?7:j>2?9:11})();return s.jsx("div",{className:"w-full h-[300px] rounded-lg overflow-hidden border border-gray-200",children:s.jsxs(w_t,{center:[a.lat,a.lng],zoom:w,style:{height:"100%",width:"100%"},children:[s.jsx(k_t,{center:[a.lat,a.lng],zoom:w}),s.jsx(j_t,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),s.jsx(fD,{position:[e.lat,e.lng],icon:u,children:s.jsxs(EO,{children:[s.jsx("strong",{children:"Origen:"})," ",e.name]})}),s.jsx(fD,{position:[t.lat,t.lng],icon:d,children:s.jsxs(EO,{children:[s.jsx("strong",{children:"Destino:"})," ",t.name]})}),r!=="cancelled"&&s.jsx(C_t,{position:[i.lat,i.lng],icon:m,animate:r!=="delivered"&&y,previousPosition:h,children:s.jsxs(EO,{children:[s.jsx("strong",{children:r==="delayed"?"Retrasado en:":r==="in_transit"?"Ubicacin actual:":r==="pending"?"Por enviar desde:":r==="delivered"?"Entregado en:":"Ubicacin:"})," ",i.name]})}),r==="delivered"&&s.jsx(tX,{positions:[[e.lat,e.lng],[t.lat,t.lng]],color:"#b5e951",weight:3,opacity:.7}),r!=="delivered"&&r!=="cancelled"&&s.jsx(tX,{positions:o,color:l(),weight:3,opacity:.7,dashArray:r==="delayed"?"5, 10":""})]})})}const oC={"01000":{lat:19.3356,lng:-99.2045},44100:{lat:20.6597,lng:-103.3496},44130:{lat:20.7238,lng:-103.3844},44160:{lat:20.6403,lng:-103.3101},64e3:{lat:25.6866,lng:-100.3161},72e3:{lat:19.0414,lng:-98.2063},2e4:{lat:21.8818,lng:-102.2916},22e3:{lat:32.5027,lng:-117.0037},83e3:{lat:29.0729,lng:-110.9559},78e3:{lat:22.1565,lng:-100.9855},97e3:{lat:20.9674,lng:-89.5926},91e3:{lat:19.5438,lng:-96.9102},58e3:{lat:19.706,lng:-101.195},62e3:{lat:18.9242,lng:-99.2216},29e3:{lat:16.7569,lng:-93.1292},42e3:{lat:20.1168,lng:-98.7332},76e3:{lat:20.5888,lng:-100.3899},31e3:{lat:28.6353,lng:-106.0889},34e3:{lat:24.0277,lng:-104.6532},86e3:{lat:17.9904,lng:-92.9304},89600:{lat:22.4025,lng:-97.9297},45200:{lat:20.7503,lng:-103.45}};function PO(e){const t=hD(e);return t&&oC[t]?oC[t]:{lat:19.3356,lng:-99.2045}}function hD(e){let t=e.match(/\(CP:\s*(\d+)\)/);return t||(t=e.match(/\((\d{5})\)/),t)?t[1]:(t=e.match(/\b(\d{5})\b/),t?t[1]:null)}function P_t(e,t,n,r){const a=D_(n-e),o=D_(r-t),l=Math.sin(a/2)*Math.sin(a/2)+Math.cos(D_(e))*Math.cos(D_(n))*Math.sin(o/2)*Math.sin(o/2),u=6371*(2*Math.atan2(Math.sqrt(l),Math.sqrt(1-l)));return Math.round(u)}function D_(e){return e*(Math.PI/180)}function nX(e,t){const n=hD(e),r=hD(t);if(!n||!r)return e.toLowerCase().includes("mxico")&&(t.toLowerCase().includes("tijuana")||t.toLowerCase().includes("jurez")||t.toLowerCase().includes("juarez")||t.toLowerCase().includes("nuevo laredo"))||t.toLowerCase().includes("mxico")&&(e.toLowerCase().includes("tijuana")||e.toLowerCase().includes("jurez")||e.toLowerCase().includes("juarez")||e.toLowerCase().includes("nuevo laredo"))?1800:e.toLowerCase().includes("guadalajara")&&t.toLowerCase().includes("monterrey")||t.toLowerCase().includes("guadalajara")&&e.toLowerCase().includes("monterrey")?850:e.toLowerCase().includes("mxico")&&t.toLowerCase().includes("guadalajara")||t.toLowerCase().includes("mxico")&&e.toLowerCase().includes("guadalajara")?550:e.toLowerCase().includes("mxico")&&t.toLowerCase().includes("monterrey")||t.toLowerCase().includes("mxico")&&e.toLowerCase().includes("monterrey")?900:e&&t?300:null;const i=oC[n],a=oC[r];return!i||!a?350:P_t(i.lat,i.lng,a.lat,a.lng)}function Ag({date:e,showTime:t=!1}){if(!e)return null;try{const n=t?"d 'de' MMMM, yyyy 'a las' HH:mm":"d 'de' MMMM, yyyy";return s.jsx("span",{children:er(new Date(e),n,{locale:Da})})}catch(n){return console.error("Error formatting date:",n),s.jsx("span",{children:e.toString()})}}const R_={pending:{label:"Preparndose para envo",color:"text-blue-600",icon:Wo},in_transit:{label:"En trnsito",color:"text-yellow-600",icon:qo},delayed:{label:"Retrasado",color:"text-red-600",icon:Nl},delivered:{label:"Entregado",color:"text-green-600",icon:tc},cancelled:{label:"Cancelado",color:"text-gray-600",icon:gj}};function A_t({shipment:e,onUpdate:t}){var w,j;const[n,r]=b.useState(e.status),[i,a]=b.useState(""),[o,l]=b.useState(""),[c,u]=b.useState(!0),[d,f]=b.useState(!1),{toast:m}=zi(),h=Vs(),g=Wn({mutationFn:async _=>await(await Dt("PATCH",`/api/shipments/${e.id}/status`,_)).json(),onSuccess:_=>{m({title:"Estado actualizado",description:_.notificationSent?"El estado del envo se actualiz y se envi una notificacin al cliente":"El estado del envo se actualiz correctamente"}),h.invalidateQueries({queryKey:["/api/shipments"]}),h.invalidateQueries({queryKey:["/api/shipment-updates"]}),a(""),l(""),f(!1),t&&t()},onError:_=>{m({title:"Error",description:_.message||"Error al actualizar el estado del envo",variant:"destructive"})}}),y=_=>{if(_.preventDefault(),n===e.status&&!i&&!o){m({title:"Sin cambios",description:"No hay cambios para actualizar",variant:"destructive"});return}g.mutate({status:n,location:i||void 0,comments:o||void 0,sendNotification:c})},v=R_[n],x=(v==null?void 0:v.icon)||qo;return s.jsxs(Ue,{className:"w-full",children:[s.jsx(Vt,{children:s.jsxs(an,{className:"flex items-center gap-2",children:[s.jsx(x,{className:"w-5 h-5"}),"Actualizar Estado del Envo"]})}),s.jsx(We,{children:s.jsxs("form",{onSubmit:y,className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm font-medium",children:"Estado actual:"}),s.jsx("span",{className:`font-semibold ${(w=R_[e.status])==null?void 0:w.color}`,children:(j=R_[e.status])==null?void 0:j.label})]}),s.jsx(Oe,{type:"button",variant:"outline",size:"sm",onClick:()=>f(!d),children:d?"Contraer":"Actualizar"})]}),d&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(dt,{htmlFor:"status",children:"Nuevo Estado"}),s.jsxs(An,{value:n,onValueChange:_=>r(_),children:[s.jsx(Nn,{children:s.jsx(Tn,{placeholder:"Seleccionar estado"})}),s.jsx(_n,{children:Object.entries(R_).map(([_,S])=>s.jsx(at,{value:_,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(S.icon,{className:"w-4 h-4"}),s.jsx("span",{children:S.label})]})},_))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(dt,{htmlFor:"location",className:"flex items-center gap-2",children:[s.jsx(lp,{className:"w-4 h-4"}),"Ubicacin Actual (opcional)"]}),s.jsx(gt,{id:"location",value:i,onChange:_=>a(_.target.value),placeholder:"Ej: Ciudad de Mxico, CDMX"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(dt,{htmlFor:"comments",className:"flex items-center gap-2",children:[s.jsx(a_e,{className:"w-4 h-4"}),"Comentarios (opcional)"]}),s.jsx(nu,{id:"comments",value:o,onChange:_=>l(_.target.value),placeholder:"Notas adicionales sobre la actualizacin...",rows:3})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(op,{className:"w-4 h-4 text-blue-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-sm",children:"Notificar al cliente por email"}),s.jsx("p",{className:"text-xs text-gray-600",children:e.customerEmail?`Se enviar a: ${e.customerEmail}`:"Cliente sin email registrado"})]})]}),s.jsx(W2,{checked:c,onCheckedChange:u,disabled:!e.customerEmail})]}),s.jsxs("div",{className:"flex gap-2 pt-2",children:[s.jsx(Oe,{type:"submit",disabled:g.isPending,className:"flex-1",children:g.isPending?"Actualizando...":"Actualizar Estado"}),s.jsx(Oe,{type:"button",variant:"outline",onClick:()=>f(!1),children:"Cancelar"})]})]})]})})]})}const ut=Symbol.for("drizzle:entityKind");function Ms(e,t){if(!e||typeof e!="object")return!1;if(e instanceof t)return!0;if(!Object.prototype.hasOwnProperty.call(t,ut))throw new Error(`Class "${t.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let n=Object.getPrototypeOf(e).constructor;if(n)for(;n;){if(ut in n&&n[ut]===t[ut])return!0;n=Object.getPrototypeOf(n)}return!1}var oZ;oZ=ut;class N0{constructor(t,n){Pe(this,"name");Pe(this,"keyAsName");Pe(this,"primary");Pe(this,"notNull");Pe(this,"default");Pe(this,"defaultFn");Pe(this,"onUpdateFn");Pe(this,"hasDefault");Pe(this,"isUnique");Pe(this,"uniqueName");Pe(this,"uniqueType");Pe(this,"dataType");Pe(this,"columnType");Pe(this,"enumValues");Pe(this,"generated");Pe(this,"generatedIdentity");Pe(this,"config");this.table=t,this.config=n,this.name=n.name,this.keyAsName=n.keyAsName,this.notNull=n.notNull,this.default=n.default,this.defaultFn=n.defaultFn,this.onUpdateFn=n.onUpdateFn,this.hasDefault=n.hasDefault,this.primary=n.primaryKey,this.isUnique=n.isUnique,this.uniqueName=n.uniqueName,this.uniqueType=n.uniqueType,this.dataType=n.dataType,this.columnType=n.columnType,this.generated=n.generated,this.generatedIdentity=n.generatedIdentity}mapFromDriverValue(t){return t}mapToDriverValue(t){return t}shouldDisableInsert(){return this.config.generated!==void 0&&this.config.generated.type!=="byDefault"}}Pe(N0,oZ,"Column");var lZ;lZ=ut;class Rxe{constructor(t,n,r){Pe(this,"config");Pe(this,"$default",this.$defaultFn);Pe(this,"$onUpdate",this.$onUpdateFn);this.config={name:t,keyAsName:t==="",notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:n,columnType:r,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(t){return this.config.default=t,this.config.hasDefault=!0,this}$defaultFn(t){return this.config.defaultFn=t,this.config.hasDefault=!0,this}$onUpdateFn(t){return this.config.onUpdateFn=t,this.config.hasDefault=!0,this}primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(t){this.config.name===""&&(this.config.name=t)}}Pe(Rxe,lZ,"ColumnBuilder");const jy=Symbol.for("drizzle:Name");var cZ;cZ=ut;class $xe{constructor(t,n){Pe(this,"reference");Pe(this,"_onUpdate","no action");Pe(this,"_onDelete","no action");this.reference=()=>{const{name:r,columns:i,foreignColumns:a}=t();return{name:r,columns:i,foreignTable:a[0].table,foreignColumns:a}},n&&(this._onUpdate=n.onUpdate,this._onDelete=n.onDelete)}onUpdate(t){return this._onUpdate=t===void 0?"no action":t,this}onDelete(t){return this._onDelete=t===void 0?"no action":t,this}build(t){return new Fxe(t,this)}}Pe($xe,cZ,"PgForeignKeyBuilder");var uZ;uZ=ut;class Fxe{constructor(t,n){Pe(this,"reference");Pe(this,"onUpdate");Pe(this,"onDelete");this.table=t,this.reference=n.reference,this.onUpdate=n._onUpdate,this.onDelete=n._onDelete}getName(){const{name:t,columns:n,foreignColumns:r}=this.reference(),i=n.map(l=>l.name),a=r.map(l=>l.name),o=[this.table[jy],...i,r[0].table[jy],...a];return t??`${o.join("_")}_fk`}}Pe(Fxe,uZ,"PgForeignKey");function T_t(e,...t){return e(...t)}function O_t(e,t){return`${e[jy]}_${t.join("_")}_unique`}function rX(e,t,n){for(let r=t;r<e.length;r++){const i=e[r];if(i==="\\"){r++;continue}if(i==='"')return[e.slice(t,r).replace(/\\/g,""),r+1];if(!n&&(i===","||i==="}"))return[e.slice(t,r).replace(/\\/g,""),r]}return[e.slice(t).replace(/\\/g,""),e.length]}function Bxe(e,t=0){const n=[];let r=t,i=!1;for(;r<e.length;){const a=e[r];if(a===","){(i||r===t)&&n.push(""),i=!0,r++;continue}if(i=!1,a==="\\"){r+=2;continue}if(a==='"'){const[c,u]=rX(e,r+1,!0);n.push(c),r=u;continue}if(a==="}")return[n,r+1];if(a==="{"){const[c,u]=Bxe(e,r+1);n.push(c),r=u;continue}const[o,l]=rX(e,r,!1);n.push(o),r=l}return[n,r]}function L_t(e){const[t]=Bxe(e,1);return t}function zxe(e){return`{${e.map(t=>Array.isArray(t)?zxe(t):typeof t=="string"?`"${t.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${t}`).join(",")}}`}var dZ,fZ;class wr extends(fZ=Rxe,dZ=ut,fZ){constructor(){super(...arguments);Pe(this,"foreignKeyConfigs",[])}array(n){return new qxe(this.config.name,this,n)}references(n,r={}){return this.foreignKeyConfigs.push({ref:n,actions:r}),this}unique(n,r){return this.config.isUnique=!0,this.config.uniqueName=n,this.config.uniqueType=r==null?void 0:r.nulls,this}generatedAlwaysAs(n){return this.config.generated={as:n,type:"always",mode:"stored"},this}buildForeignKeys(n,r){return this.foreignKeyConfigs.map(({ref:i,actions:a})=>T_t((o,l)=>{const c=new $xe(()=>{const u=o();return{columns:[n],foreignColumns:[u]}});return l.onUpdate&&c.onUpdate(l.onUpdate),l.onDelete&&c.onDelete(l.onDelete),c.build(r)},i,a))}buildExtraConfigColumn(n){return new Vxe(n,this.config)}}Pe(wr,dZ,"PgColumnBuilder");var hZ,mZ;class Hn extends(mZ=N0,hZ=ut,mZ){constructor(t,n){n.uniqueName||(n.uniqueName=O_t(t,[n.name])),super(t,n),this.table=t}}Pe(Hn,hZ,"PgColumn");var pZ,gZ;class Vxe extends(gZ=Hn,pZ=ut,gZ){constructor(){super(...arguments);Pe(this,"indexConfig",{order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass});Pe(this,"defaultConfig",{order:"asc",nulls:"last",opClass:void 0})}getSQLType(){return this.getSQLType()}asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(n){return this.indexConfig.opClass=n,this}}Pe(Vxe,pZ,"ExtraConfigColumn");var vZ,xZ;class qxe extends(xZ=wr,vZ=ut,xZ){constructor(t,n,r){super(t,"array","PgArray"),this.config.baseBuilder=n,this.config.size=r}build(t){const n=this.config.baseBuilder.build(t);return new mD(t,this.config,n)}}Pe(qxe,vZ,"PgArrayBuilder");var yZ,bZ;const NC=class NC extends(bZ=Hn,yZ=ut,bZ){constructor(n,r,i,a){super(n,r);Pe(this,"size");this.baseColumn=i,this.range=a,this.size=r.size}getSQLType(){return`${this.baseColumn.getSQLType()}[${typeof this.size=="number"?this.size:""}]`}mapFromDriverValue(n){return typeof n=="string"&&(n=L_t(n)),n.map(r=>this.baseColumn.mapFromDriverValue(r))}mapToDriverValue(n,r=!1){const i=n.map(a=>a===null?null:Ms(this.baseColumn,NC)?this.baseColumn.mapToDriverValue(a,!0):this.baseColumn.mapToDriverValue(a));return r?i:zxe(i)}};Pe(NC,yZ,"PgArray");let mD=NC;const pD=Symbol.for("drizzle:isPgEnum");function M_t(e){return!!e&&typeof e=="function"&&pD in e&&e[pD]===!0}var wZ,jZ;class Uxe extends(jZ=wr,wZ=ut,jZ){constructor(t,n){super(t,"string","PgEnumColumn"),this.config.enum=n}build(t){return new Wxe(t,this.config)}}Pe(Uxe,wZ,"PgEnumColumnBuilder");var NZ,_Z;class Wxe extends(_Z=Hn,NZ=ut,_Z){constructor(n,r){super(n,r);Pe(this,"enum",this.config.enum);Pe(this,"enumValues",this.config.enum.enumValues);this.enum=r.enum}getSQLType(){return this.enum.enumName}}Pe(Wxe,NZ,"PgEnumColumn");function Hxe(e,t){return I_t(e,t,void 0)}function I_t(e,t,n){const r=Object.assign(i=>new Uxe(i??"",r),{enumName:e,enumValues:t,schema:n,[pD]:!0});return r}var SZ;SZ=ut;class u7{constructor(t,n,r,i=!1){this._={brand:"Subquery",sql:t,selectedFields:n,alias:r,isWith:i}}}Pe(u7,SZ,"Subquery");const D_t={startActiveSpan(e,t){return t()}},Ny=Symbol.for("drizzle:ViewBaseConfig"),AO=Symbol.for("drizzle:Schema"),iX=Symbol.for("drizzle:Columns"),aX=Symbol.for("drizzle:ExtraConfigColumns"),TO=Symbol.for("drizzle:OriginalName"),OO=Symbol.for("drizzle:BaseName"),lC=Symbol.for("drizzle:IsAlias"),sX=Symbol.for("drizzle:ExtraConfigBuilder"),Kxe=Symbol.for("drizzle:IsDrizzleTable");var kZ,CZ,EZ,PZ,AZ,TZ,OZ,LZ,MZ,IZ;IZ=ut,MZ=jy,LZ=TO,OZ=AO,TZ=iX,AZ=aX,PZ=OO,EZ=lC,CZ=Kxe,kZ=sX;class Oo{constructor(t,n,r){Pe(this,MZ);Pe(this,LZ);Pe(this,OZ);Pe(this,TZ);Pe(this,AZ);Pe(this,PZ);Pe(this,EZ,!1);Pe(this,CZ,!0);Pe(this,kZ);this[jy]=this[TO]=t,this[AO]=n,this[OO]=r}}Pe(Oo,IZ,"Table"),Pe(Oo,"Symbol",{Name:jy,Schema:AO,OriginalName:TO,Columns:iX,ExtraConfigColumns:aX,BaseName:OO,IsAlias:lC,ExtraConfigBuilder:sX});function Gxe(e){return typeof e=="object"&&e!==null&&Kxe in e}function R_t(e){return e!=null&&typeof e.getSQL=="function"}function $_t(e){var n;const t={sql:"",params:[]};for(const r of e)t.sql+=r.sql,t.params.push(...r.params),(n=r.typings)!=null&&n.length&&(t.typings||(t.typings=[]),t.typings.push(...r.typings));return t}var DZ;DZ=ut;class qc{constructor(t){Pe(this,"value");this.value=Array.isArray(t)?t:[t]}getSQL(){return new hs([this])}}Pe(qc,DZ,"StringChunk");var RZ;RZ=ut;const Tg=class Tg{constructor(t){Pe(this,"decoder",Yxe);Pe(this,"shouldInlineParams",!1);this.queryChunks=t}append(t){return this.queryChunks.push(...t.queryChunks),this}toQuery(t){return D_t.startActiveSpan("drizzle.buildSQL",n=>{const r=this.buildQueryFromSourceParams(this.queryChunks,t);return n==null||n.setAttributes({"drizzle.query.text":r.sql,"drizzle.query.params":JSON.stringify(r.params)}),r})}buildQueryFromSourceParams(t,n){const r=Object.assign({},n,{inlineParams:n.inlineParams||this.shouldInlineParams,paramStartIndex:n.paramStartIndex||{value:0}}),{casing:i,escapeName:a,escapeParam:o,prepareTyping:l,inlineParams:c,paramStartIndex:u}=r;return $_t(t.map(d=>{var f;if(Ms(d,qc))return{sql:d.value.join(""),params:[]};if(Ms(d,cC))return{sql:a(d.value),params:[]};if(d===void 0)return{sql:"",params:[]};if(Array.isArray(d)){const m=[new qc("(")];for(const[h,g]of d.entries())m.push(g),h<d.length-1&&m.push(new qc(", "));return m.push(new qc(")")),this.buildQueryFromSourceParams(m,r)}if(Ms(d,Tg))return this.buildQueryFromSourceParams(d.queryChunks,{...r,inlineParams:c||d.shouldInlineParams});if(Ms(d,Oo)){const m=d[Oo.Symbol.Schema],h=d[Oo.Symbol.Name];return{sql:m===void 0||d[lC]?a(h):a(m)+"."+a(h),params:[]}}if(Ms(d,N0)){const m=i.getColumnCasing(d);if(n.invokeSource==="indexes")return{sql:a(m),params:[]};const h=d.table[Oo.Symbol.Schema];return{sql:d.table[lC]||h===void 0?a(d.table[Oo.Symbol.Name])+"."+a(m):a(h)+"."+a(d.table[Oo.Symbol.Name])+"."+a(m),params:[]}}if(Ms(d,Qxe)){const m=d[Ny].schema,h=d[Ny].name;return{sql:m===void 0||d[Ny].isAlias?a(h):a(m)+"."+a(h),params:[]}}if(Ms(d,d7)){if(Ms(d.value,uC))return{sql:o(u.value++,d),params:[d],typings:["none"]};const m=d.value===null?null:d.encoder.mapToDriverValue(d.value);if(Ms(m,Tg))return this.buildQueryFromSourceParams([m],r);if(c)return{sql:this.mapInlineParam(m,r),params:[]};let h=["none"];return l&&(h=[l(d.encoder)]),{sql:o(u.value++,m),params:[m],typings:h}}return Ms(d,uC)?{sql:o(u.value++,d),params:[d],typings:["none"]}:Ms(d,Tg.Aliased)&&d.fieldAlias!==void 0?{sql:a(d.fieldAlias),params:[]}:Ms(d,u7)?d._.isWith?{sql:a(d._.alias),params:[]}:this.buildQueryFromSourceParams([new qc("("),d._.sql,new qc(") "),new cC(d._.alias)],r):M_t(d)?d.schema?{sql:a(d.schema)+"."+a(d.enumName),params:[]}:{sql:a(d.enumName),params:[]}:R_t(d)?(f=d.shouldOmitSQLParens)!=null&&f.call(d)?this.buildQueryFromSourceParams([d.getSQL()],r):this.buildQueryFromSourceParams([new qc("("),d.getSQL(),new qc(")")],r):c?{sql:this.mapInlineParam(d,r),params:[]}:{sql:o(u.value++,d),params:[d],typings:["none"]}}))}mapInlineParam(t,{escapeString:n}){if(t===null)return"null";if(typeof t=="number"||typeof t=="boolean")return t.toString();if(typeof t=="string")return n(t);if(typeof t=="object"){const r=t.toString();return n(r==="[object Object]"?JSON.stringify(t):r)}throw new Error("Unexpected param value: "+t)}getSQL(){return this}as(t){return t===void 0?this:new Tg.Aliased(this,t)}mapWith(t){return this.decoder=typeof t=="function"?{mapFromDriverValue:t}:t,this}inlineParams(){return this.shouldInlineParams=!0,this}if(t){return t?this:void 0}};Pe(Tg,RZ,"SQL");let hs=Tg;var $Z;$Z=ut;class cC{constructor(t){Pe(this,"brand");this.value=t}getSQL(){return new hs([this])}}Pe(cC,$Z,"Name");const Yxe={mapFromDriverValue:e=>e},Xxe={mapToDriverValue:e=>e};({...Yxe,...Xxe});var FZ;FZ=ut;class d7{constructor(t,n=Xxe){Pe(this,"brand");this.value=t,this.encoder=n}getSQL(){return new hs([this])}}Pe(d7,FZ,"Param");function nj(e,...t){const n=[];(t.length>0||e.length>0&&e[0]!=="")&&n.push(new qc(e[0]));for(const[r,i]of t.entries())n.push(i,new qc(e[r+1]));return new hs(n)}(e=>{function t(){return new hs([])}e.empty=t;function n(c){return new hs(c)}e.fromList=n;function r(c){return new hs([new qc(c)])}e.raw=r;function i(c,u){const d=[];for(const[f,m]of c.entries())f>0&&u!==void 0&&d.push(u),d.push(m);return new hs(d)}e.join=i;function a(c){return new cC(c)}e.identifier=a;function o(c){return new uC(c)}e.placeholder=o;function l(c,u){return new d7(c,u)}e.param=l})(nj||(nj={}));(e=>{var n;n=ut;const r=class r{constructor(a,o){Pe(this,"isSelectionField",!1);this.sql=a,this.fieldAlias=o}getSQL(){return this.sql}clone(){return new r(this.sql,this.fieldAlias)}};Pe(r,n,"SQL.Aliased");let t=r;e.Aliased=t})(hs||(hs={}));var BZ;BZ=ut;class uC{constructor(t){this.name=t}getSQL(){return new hs([this])}}Pe(uC,BZ,"Placeholder");const Zxe=Symbol.for("drizzle:IsDrizzleView");var zZ,VZ,qZ;qZ=ut,VZ=Ny,zZ=Zxe;class Qxe{constructor({name:t,schema:n,selectedFields:r,query:i}){Pe(this,VZ);Pe(this,zZ,!0);this[Ny]={name:t,originalName:t,schema:n,selectedFields:r,query:i,isExisting:!i,isAlias:!1}}getSQL(){return new hs([this])}}Pe(Qxe,qZ,"View");function F_t(e){return typeof e=="object"&&e!==null&&Zxe in e}N0.prototype.getSQL=function(){return new hs([this])};Oo.prototype.getSQL=function(){return new hs([this])};u7.prototype.getSQL=function(){return new hs([this])};function B_t(e){return e[Oo.Symbol.Columns]}function z_t(e){return e[Ny].selectedFields}function ks(e,t){return{name:typeof e=="string"&&e.length>0?e:"",config:typeof e=="object"?e:t}}var UZ,WZ;class tN extends(WZ=wr,UZ=ut,WZ){generatedAlwaysAsIdentity(t){if(t){const{name:n,...r}=t;this.config.generatedIdentity={type:"always",sequenceName:n,sequenceOptions:r}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(t){if(t){const{name:n,...r}=t;this.config.generatedIdentity={type:"byDefault",sequenceName:n,sequenceOptions:r}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}}Pe(tN,UZ,"PgIntColumnBaseBuilder");var HZ,KZ;class Jxe extends(KZ=tN,HZ=ut,KZ){constructor(t){super(t,"number","PgBigInt53")}build(t){return new eye(t,this.config)}}Pe(Jxe,HZ,"PgBigInt53Builder");var GZ,YZ;class eye extends(YZ=Hn,GZ=ut,YZ){getSQLType(){return"bigint"}mapFromDriverValue(t){return typeof t=="number"?t:Number(t)}}Pe(eye,GZ,"PgBigInt53");var XZ,ZZ;class tye extends(ZZ=tN,XZ=ut,ZZ){constructor(t){super(t,"bigint","PgBigInt64")}build(t){return new nye(t,this.config)}}Pe(tye,XZ,"PgBigInt64Builder");var QZ,JZ;class nye extends(JZ=Hn,QZ=ut,JZ){getSQLType(){return"bigint"}mapFromDriverValue(t){return BigInt(t)}}Pe(nye,QZ,"PgBigInt64");function V_t(e,t){const{name:n,config:r}=ks(e,t);return r.mode==="number"?new Jxe(n):new tye(n)}var eQ,tQ;class rye extends(tQ=wr,eQ=ut,tQ){constructor(t){super(t,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new iye(t,this.config)}}Pe(rye,eQ,"PgBigSerial53Builder");var nQ,rQ;class iye extends(rQ=Hn,nQ=ut,rQ){getSQLType(){return"bigserial"}mapFromDriverValue(t){return typeof t=="number"?t:Number(t)}}Pe(iye,nQ,"PgBigSerial53");var iQ,aQ;class aye extends(aQ=wr,iQ=ut,aQ){constructor(t){super(t,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(t){return new sye(t,this.config)}}Pe(aye,iQ,"PgBigSerial64Builder");var sQ,oQ;class sye extends(oQ=Hn,sQ=ut,oQ){getSQLType(){return"bigserial"}mapFromDriverValue(t){return BigInt(t)}}Pe(sye,sQ,"PgBigSerial64");function q_t(e,t){const{name:n,config:r}=ks(e,t);return r.mode==="number"?new rye(n):new aye(n)}var lQ,cQ;class oye extends(cQ=wr,lQ=ut,cQ){constructor(t){super(t,"boolean","PgBoolean")}build(t){return new lye(t,this.config)}}Pe(oye,lQ,"PgBooleanBuilder");var uQ,dQ;class lye extends(dQ=Hn,uQ=ut,dQ){getSQLType(){return"boolean"}}Pe(lye,uQ,"PgBoolean");function Jl(e){return new oye(e??"")}var fQ,hQ;class cye extends(hQ=wr,fQ=ut,hQ){constructor(t,n){super(t,"string","PgChar"),this.config.length=n.length,this.config.enumValues=n.enum}build(t){return new uye(t,this.config)}}Pe(cye,fQ,"PgCharBuilder");var mQ,pQ;class uye extends(pQ=Hn,mQ=ut,pQ){constructor(){super(...arguments);Pe(this,"length",this.config.length);Pe(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"char":`char(${this.length})`}}Pe(uye,mQ,"PgChar");function U_t(e,t={}){const{name:n,config:r}=ks(e,t);return new cye(n,r)}var gQ,vQ;class dye extends(vQ=wr,gQ=ut,vQ){constructor(t){super(t,"string","PgCidr")}build(t){return new fye(t,this.config)}}Pe(dye,gQ,"PgCidrBuilder");var xQ,yQ;class fye extends(yQ=Hn,xQ=ut,yQ){getSQLType(){return"cidr"}}Pe(fye,xQ,"PgCidr");function W_t(e){return new dye(e??"")}var bQ,wQ;class hye extends(wQ=wr,bQ=ut,wQ){constructor(t,n,r){super(t,"custom","PgCustomColumn"),this.config.fieldConfig=n,this.config.customTypeParams=r}build(t){return new mye(t,this.config)}}Pe(hye,bQ,"PgCustomColumnBuilder");var jQ,NQ;class mye extends(NQ=Hn,jQ=ut,NQ){constructor(n,r){super(n,r);Pe(this,"sqlName");Pe(this,"mapTo");Pe(this,"mapFrom");this.sqlName=r.customTypeParams.dataType(r.fieldConfig),this.mapTo=r.customTypeParams.toDriver,this.mapFrom=r.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(n){return typeof this.mapFrom=="function"?this.mapFrom(n):n}mapToDriverValue(n){return typeof this.mapTo=="function"?this.mapTo(n):n}}Pe(mye,jQ,"PgCustomColumn");function H_t(e){return(t,n)=>{const{name:r,config:i}=ks(t,n);return new hye(r,i,e)}}var _Q,SQ;class pb extends(SQ=wr,_Q=ut,SQ){defaultNow(){return this.default(nj`now()`)}}Pe(pb,_Q,"PgDateColumnBaseBuilder");var kQ,CQ;class pye extends(CQ=pb,kQ=ut,CQ){constructor(t){super(t,"date","PgDate")}build(t){return new gye(t,this.config)}}Pe(pye,kQ,"PgDateBuilder");var EQ,PQ;class gye extends(PQ=Hn,EQ=ut,PQ){getSQLType(){return"date"}mapFromDriverValue(t){return new Date(t)}mapToDriverValue(t){return t.toISOString()}}Pe(gye,EQ,"PgDate");var AQ,TQ;class vye extends(TQ=pb,AQ=ut,TQ){constructor(t){super(t,"string","PgDateString")}build(t){return new xye(t,this.config)}}Pe(vye,AQ,"PgDateStringBuilder");var OQ,LQ;class xye extends(LQ=Hn,OQ=ut,LQ){getSQLType(){return"date"}}Pe(xye,OQ,"PgDateString");function K_t(e,t){const{name:n,config:r}=ks(e,t);return(r==null?void 0:r.mode)==="date"?new pye(n):new vye(n)}var MQ,IQ;class yye extends(IQ=wr,MQ=ut,IQ){constructor(t){super(t,"number","PgDoublePrecision")}build(t){return new bye(t,this.config)}}Pe(yye,MQ,"PgDoublePrecisionBuilder");var DQ,RQ;class bye extends(RQ=Hn,DQ=ut,RQ){getSQLType(){return"double precision"}mapFromDriverValue(t){return typeof t=="string"?Number.parseFloat(t):t}}Pe(bye,DQ,"PgDoublePrecision");function G_t(e){return new yye(e??"")}var $Q,FQ;class wye extends(FQ=wr,$Q=ut,FQ){constructor(t){super(t,"string","PgInet")}build(t){return new jye(t,this.config)}}Pe(wye,$Q,"PgInetBuilder");var BQ,zQ;class jye extends(zQ=Hn,BQ=ut,zQ){getSQLType(){return"inet"}}Pe(jye,BQ,"PgInet");function Y_t(e){return new wye(e??"")}var VQ,qQ;class Nye extends(qQ=tN,VQ=ut,qQ){constructor(t){super(t,"number","PgInteger")}build(t){return new _ye(t,this.config)}}Pe(Nye,VQ,"PgIntegerBuilder");var UQ,WQ;class _ye extends(WQ=Hn,UQ=ut,WQ){getSQLType(){return"integer"}mapFromDriverValue(t){return typeof t=="string"?Number.parseInt(t):t}}Pe(_ye,UQ,"PgInteger");function nn(e){return new Nye(e??"")}var HQ,KQ;class Sye extends(KQ=wr,HQ=ut,KQ){constructor(t,n){super(t,"string","PgInterval"),this.config.intervalConfig=n}build(t){return new kye(t,this.config)}}Pe(Sye,HQ,"PgIntervalBuilder");var GQ,YQ;class kye extends(YQ=Hn,GQ=ut,YQ){constructor(){super(...arguments);Pe(this,"fields",this.config.intervalConfig.fields);Pe(this,"precision",this.config.intervalConfig.precision)}getSQLType(){const n=this.fields?` ${this.fields}`:"",r=this.precision?`(${this.precision})`:"";return`interval${n}${r}`}}Pe(kye,GQ,"PgInterval");function X_t(e,t={}){const{name:n,config:r}=ks(e,t);return new Sye(n,r)}var XQ,ZQ;class Cye extends(ZQ=wr,XQ=ut,ZQ){constructor(t){super(t,"json","PgJson")}build(t){return new Eye(t,this.config)}}Pe(Cye,XQ,"PgJsonBuilder");var QQ,JQ;class Eye extends(JQ=Hn,QQ=ut,JQ){constructor(t,n){super(t,n)}getSQLType(){return"json"}mapToDriverValue(t){return JSON.stringify(t)}mapFromDriverValue(t){if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t}}Pe(Eye,QQ,"PgJson");function ih(e){return new Cye(e??"")}var eJ,tJ;class Pye extends(tJ=wr,eJ=ut,tJ){constructor(t){super(t,"json","PgJsonb")}build(t){return new Aye(t,this.config)}}Pe(Pye,eJ,"PgJsonbBuilder");var nJ,rJ;class Aye extends(rJ=Hn,nJ=ut,rJ){constructor(t,n){super(t,n)}getSQLType(){return"jsonb"}mapToDriverValue(t){return JSON.stringify(t)}mapFromDriverValue(t){if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t}}Pe(Aye,nJ,"PgJsonb");function Z_t(e){return new Pye(e??"")}var iJ,aJ;class Tye extends(aJ=wr,iJ=ut,aJ){constructor(t){super(t,"array","PgLine")}build(t){return new Oye(t,this.config)}}Pe(Tye,iJ,"PgLineBuilder");var sJ,oJ;class Oye extends(oJ=Hn,sJ=ut,oJ){getSQLType(){return"line"}mapFromDriverValue(t){const[n,r,i]=t.slice(1,-1).split(",");return[Number.parseFloat(n),Number.parseFloat(r),Number.parseFloat(i)]}mapToDriverValue(t){return`{${t[0]},${t[1]},${t[2]}}`}}Pe(Oye,sJ,"PgLine");var lJ,cJ;class Lye extends(cJ=wr,lJ=ut,cJ){constructor(t){super(t,"json","PgLineABC")}build(t){return new Mye(t,this.config)}}Pe(Lye,lJ,"PgLineABCBuilder");var uJ,dJ;class Mye extends(dJ=Hn,uJ=ut,dJ){getSQLType(){return"line"}mapFromDriverValue(t){const[n,r,i]=t.slice(1,-1).split(",");return{a:Number.parseFloat(n),b:Number.parseFloat(r),c:Number.parseFloat(i)}}mapToDriverValue(t){return`{${t.a},${t.b},${t.c}}`}}Pe(Mye,uJ,"PgLineABC");function Q_t(e,t){const{name:n,config:r}=ks(e,t);return!(r!=null&&r.mode)||r.mode==="tuple"?new Tye(n):new Lye(n)}var fJ,hJ;class Iye extends(hJ=wr,fJ=ut,hJ){constructor(t){super(t,"string","PgMacaddr")}build(t){return new Dye(t,this.config)}}Pe(Iye,fJ,"PgMacaddrBuilder");var mJ,pJ;class Dye extends(pJ=Hn,mJ=ut,pJ){getSQLType(){return"macaddr"}}Pe(Dye,mJ,"PgMacaddr");function J_t(e){return new Iye(e??"")}var gJ,vJ;class Rye extends(vJ=wr,gJ=ut,vJ){constructor(t){super(t,"string","PgMacaddr8")}build(t){return new $ye(t,this.config)}}Pe(Rye,gJ,"PgMacaddr8Builder");var xJ,yJ;class $ye extends(yJ=Hn,xJ=ut,yJ){getSQLType(){return"macaddr8"}}Pe($ye,xJ,"PgMacaddr8");function eSt(e){return new Rye(e??"")}var bJ,wJ;class Fye extends(wJ=wr,bJ=ut,wJ){constructor(t,n,r){super(t,"string","PgNumeric"),this.config.precision=n,this.config.scale=r}build(t){return new Bye(t,this.config)}}Pe(Fye,bJ,"PgNumericBuilder");var jJ,NJ;class Bye extends(NJ=Hn,jJ=ut,NJ){constructor(n,r){super(n,r);Pe(this,"precision");Pe(this,"scale");this.precision=r.precision,this.scale=r.scale}getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}Pe(Bye,jJ,"PgNumeric");function tSt(e,t){const{name:n,config:r}=ks(e,t);return new Fye(n,r==null?void 0:r.precision,r==null?void 0:r.scale)}var _J,SJ;class zye extends(SJ=wr,_J=ut,SJ){constructor(t){super(t,"array","PgPointTuple")}build(t){return new Vye(t,this.config)}}Pe(zye,_J,"PgPointTupleBuilder");var kJ,CJ;class Vye extends(CJ=Hn,kJ=ut,CJ){getSQLType(){return"point"}mapFromDriverValue(t){if(typeof t=="string"){const[n,r]=t.slice(1,-1).split(",");return[Number.parseFloat(n),Number.parseFloat(r)]}return[t.x,t.y]}mapToDriverValue(t){return`(${t[0]},${t[1]})`}}Pe(Vye,kJ,"PgPointTuple");var EJ,PJ;class qye extends(PJ=wr,EJ=ut,PJ){constructor(t){super(t,"json","PgPointObject")}build(t){return new Uye(t,this.config)}}Pe(qye,EJ,"PgPointObjectBuilder");var AJ,TJ;class Uye extends(TJ=Hn,AJ=ut,TJ){getSQLType(){return"point"}mapFromDriverValue(t){if(typeof t=="string"){const[n,r]=t.slice(1,-1).split(",");return{x:Number.parseFloat(n),y:Number.parseFloat(r)}}return t}mapToDriverValue(t){return`(${t.x},${t.y})`}}Pe(Uye,AJ,"PgPointObject");function nSt(e,t){const{name:n,config:r}=ks(e,t);return!(r!=null&&r.mode)||r.mode==="tuple"?new zye(n):new qye(n)}function rSt(e){const t=[];for(let n=0;n<e.length;n+=2)t.push(Number.parseInt(e.slice(n,n+2),16));return new Uint8Array(t)}function oX(e,t){const n=new ArrayBuffer(8),r=new DataView(n);for(let i=0;i<8;i++)r.setUint8(i,e[t+i]);return r.getFloat64(0,!0)}function Wye(e){const t=rSt(e);let n=0;const r=t[n];n+=1;const i=new DataView(t.buffer),a=i.getUint32(n,r===1);if(n+=4,a&536870912&&(i.getUint32(n,r===1),n+=4),(a&65535)===1){const o=oX(t,n);n+=8;const l=oX(t,n);return n+=8,[o,l]}throw new Error("Unsupported geometry type")}var OJ,LJ;class Hye extends(LJ=wr,OJ=ut,LJ){constructor(t){super(t,"array","PgGeometry")}build(t){return new Kye(t,this.config)}}Pe(Hye,OJ,"PgGeometryBuilder");var MJ,IJ;class Kye extends(IJ=Hn,MJ=ut,IJ){getSQLType(){return"geometry(point)"}mapFromDriverValue(t){return Wye(t)}mapToDriverValue(t){return`point(${t[0]} ${t[1]})`}}Pe(Kye,MJ,"PgGeometry");var DJ,RJ;class Gye extends(RJ=wr,DJ=ut,RJ){constructor(t){super(t,"json","PgGeometryObject")}build(t){return new Yye(t,this.config)}}Pe(Gye,DJ,"PgGeometryObjectBuilder");var $J,FJ;class Yye extends(FJ=Hn,$J=ut,FJ){getSQLType(){return"geometry(point)"}mapFromDriverValue(t){const n=Wye(t);return{x:n[0],y:n[1]}}mapToDriverValue(t){return`point(${t.x} ${t.y})`}}Pe(Yye,$J,"PgGeometryObject");function iSt(e,t){const{name:n,config:r}=ks(e,t);return!(r!=null&&r.mode)||r.mode==="tuple"?new Hye(n):new Gye(n)}var BJ,zJ;class Xye extends(zJ=wr,BJ=ut,zJ){constructor(t,n){super(t,"number","PgReal"),this.config.length=n}build(t){return new Zye(t,this.config)}}Pe(Xye,BJ,"PgRealBuilder");var VJ,qJ;class Zye extends(qJ=Hn,VJ=ut,qJ){constructor(n,r){super(n,r);Pe(this,"mapFromDriverValue",n=>typeof n=="string"?Number.parseFloat(n):n)}getSQLType(){return"real"}}Pe(Zye,VJ,"PgReal");function co(e){return new Xye(e??"")}var UJ,WJ;class Qye extends(WJ=wr,UJ=ut,WJ){constructor(t){super(t,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new Jye(t,this.config)}}Pe(Qye,UJ,"PgSerialBuilder");var HJ,KJ;class Jye extends(KJ=Hn,HJ=ut,KJ){getSQLType(){return"serial"}}Pe(Jye,HJ,"PgSerial");function pi(e){return new Qye(e??"")}var GJ,YJ;class e0e extends(YJ=tN,GJ=ut,YJ){constructor(t){super(t,"number","PgSmallInt")}build(t){return new t0e(t,this.config)}}Pe(e0e,GJ,"PgSmallIntBuilder");var XJ,ZJ;class t0e extends(ZJ=Hn,XJ=ut,ZJ){constructor(){super(...arguments);Pe(this,"mapFromDriverValue",n=>typeof n=="string"?Number(n):n)}getSQLType(){return"smallint"}}Pe(t0e,XJ,"PgSmallInt");function aSt(e){return new e0e(e??"")}var QJ,JJ;class n0e extends(JJ=wr,QJ=ut,JJ){constructor(t){super(t,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new r0e(t,this.config)}}Pe(n0e,QJ,"PgSmallSerialBuilder");var eee,tee;class r0e extends(tee=Hn,eee=ut,tee){getSQLType(){return"smallserial"}}Pe(r0e,eee,"PgSmallSerial");function sSt(e){return new n0e(e??"")}var nee,ree;class i0e extends(ree=wr,nee=ut,ree){constructor(t,n){super(t,"string","PgText"),this.config.enumValues=n.enum}build(t){return new a0e(t,this.config)}}Pe(i0e,nee,"PgTextBuilder");var iee,aee;class a0e extends(aee=Hn,iee=ut,aee){constructor(){super(...arguments);Pe(this,"enumValues",this.config.enumValues)}getSQLType(){return"text"}}Pe(a0e,iee,"PgText");function De(e,t={}){const{name:n,config:r}=ks(e,t);return new i0e(n,r)}var see,oee;class s0e extends(oee=pb,see=ut,oee){constructor(t,n,r){super(t,"string","PgTime"),this.withTimezone=n,this.precision=r,this.config.withTimezone=n,this.config.precision=r}build(t){return new o0e(t,this.config)}}Pe(s0e,see,"PgTimeBuilder");var lee,cee;class o0e extends(cee=Hn,lee=ut,cee){constructor(n,r){super(n,r);Pe(this,"withTimezone");Pe(this,"precision");this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`time${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}Pe(o0e,lee,"PgTime");function oSt(e,t={}){const{name:n,config:r}=ks(e,t);return new s0e(n,r.withTimezone??!1,r.precision)}var uee,dee;class l0e extends(dee=pb,uee=ut,dee){constructor(t,n,r){super(t,"date","PgTimestamp"),this.config.withTimezone=n,this.config.precision=r}build(t){return new c0e(t,this.config)}}Pe(l0e,uee,"PgTimestampBuilder");var fee,hee;class c0e extends(hee=Hn,fee=ut,hee){constructor(n,r){super(n,r);Pe(this,"withTimezone");Pe(this,"precision");Pe(this,"mapFromDriverValue",n=>new Date(this.withTimezone?n:n+"+0000"));Pe(this,"mapToDriverValue",n=>n.toISOString());this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`timestamp${this.precision===void 0?"":` (${this.precision})`}${this.withTimezone?" with time zone":""}`}}Pe(c0e,fee,"PgTimestamp");var mee,pee;class u0e extends(pee=pb,mee=ut,pee){constructor(t,n,r){super(t,"string","PgTimestampString"),this.config.withTimezone=n,this.config.precision=r}build(t){return new d0e(t,this.config)}}Pe(u0e,mee,"PgTimestampStringBuilder");var gee,vee;class d0e extends(vee=Hn,gee=ut,vee){constructor(n,r){super(n,r);Pe(this,"withTimezone");Pe(this,"precision");this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`timestamp${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}Pe(d0e,gee,"PgTimestampString");function Kt(e,t={}){const{name:n,config:r}=ks(e,t);return(r==null?void 0:r.mode)==="string"?new u0e(n,r.withTimezone??!1,r.precision):new l0e(n,(r==null?void 0:r.withTimezone)??!1,r==null?void 0:r.precision)}var xee,yee;class f0e extends(yee=wr,xee=ut,yee){constructor(t){super(t,"string","PgUUID")}defaultRandom(){return this.default(nj`gen_random_uuid()`)}build(t){return new h0e(t,this.config)}}Pe(f0e,xee,"PgUUIDBuilder");var bee,wee;class h0e extends(wee=Hn,bee=ut,wee){getSQLType(){return"uuid"}}Pe(h0e,bee,"PgUUID");function lSt(e){return new f0e(e??"")}var jee,Nee;class m0e extends(Nee=wr,jee=ut,Nee){constructor(t,n){super(t,"string","PgVarchar"),this.config.length=n.length,this.config.enumValues=n.enum}build(t){return new p0e(t,this.config)}}Pe(m0e,jee,"PgVarcharBuilder");var _ee,See;class p0e extends(See=Hn,_ee=ut,See){constructor(){super(...arguments);Pe(this,"length",this.config.length);Pe(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"varchar":`varchar(${this.length})`}}Pe(p0e,_ee,"PgVarchar");function g0e(e,t={}){const{name:n,config:r}=ks(e,t);return new m0e(n,r)}var kee,Cee;class v0e extends(Cee=wr,kee=ut,Cee){constructor(t,n){super(t,"string","PgBinaryVector"),this.config.dimensions=n.dimensions}build(t){return new x0e(t,this.config)}}Pe(v0e,kee,"PgBinaryVectorBuilder");var Eee,Pee;class x0e extends(Pee=Hn,Eee=ut,Pee){constructor(){super(...arguments);Pe(this,"dimensions",this.config.dimensions)}getSQLType(){return`bit(${this.dimensions})`}}Pe(x0e,Eee,"PgBinaryVector");function cSt(e,t){const{name:n,config:r}=ks(e,t);return new v0e(n,r)}var Aee,Tee;class y0e extends(Tee=wr,Aee=ut,Tee){constructor(t,n){super(t,"array","PgHalfVector"),this.config.dimensions=n.dimensions}build(t){return new b0e(t,this.config)}}Pe(y0e,Aee,"PgHalfVectorBuilder");var Oee,Lee;class b0e extends(Lee=Hn,Oee=ut,Lee){constructor(){super(...arguments);Pe(this,"dimensions",this.config.dimensions)}getSQLType(){return`halfvec(${this.dimensions})`}mapToDriverValue(n){return JSON.stringify(n)}mapFromDriverValue(n){return n.slice(1,-1).split(",").map(r=>Number.parseFloat(r))}}Pe(b0e,Oee,"PgHalfVector");function uSt(e,t){const{name:n,config:r}=ks(e,t);return new y0e(n,r)}var Mee,Iee;class w0e extends(Iee=wr,Mee=ut,Iee){constructor(t,n){super(t,"string","PgSparseVector"),this.config.dimensions=n.dimensions}build(t){return new j0e(t,this.config)}}Pe(w0e,Mee,"PgSparseVectorBuilder");var Dee,Ree;class j0e extends(Ree=Hn,Dee=ut,Ree){constructor(){super(...arguments);Pe(this,"dimensions",this.config.dimensions)}getSQLType(){return`sparsevec(${this.dimensions})`}}Pe(j0e,Dee,"PgSparseVector");function dSt(e,t){const{name:n,config:r}=ks(e,t);return new w0e(n,r)}var $ee,Fee;class N0e extends(Fee=wr,$ee=ut,Fee){constructor(t,n){super(t,"array","PgVector"),this.config.dimensions=n.dimensions}build(t){return new _0e(t,this.config)}}Pe(N0e,$ee,"PgVectorBuilder");var Bee,zee;class _0e extends(zee=Hn,Bee=ut,zee){constructor(){super(...arguments);Pe(this,"dimensions",this.config.dimensions)}getSQLType(){return`vector(${this.dimensions})`}mapToDriverValue(n){return JSON.stringify(n)}mapFromDriverValue(n){return n.slice(1,-1).split(",").map(r=>Number.parseFloat(r))}}Pe(_0e,Bee,"PgVector");function fSt(e,t){const{name:n,config:r}=ks(e,t);return new N0e(n,r)}function hSt(){return{bigint:V_t,bigserial:q_t,boolean:Jl,char:U_t,cidr:W_t,customType:H_t,date:K_t,doublePrecision:G_t,inet:Y_t,integer:nn,interval:X_t,json:ih,jsonb:Z_t,line:Q_t,macaddr:J_t,macaddr8:eSt,numeric:tSt,point:nSt,geometry:iSt,real:co,serial:pi,smallint:aSt,smallserial:sSt,text:De,time:oSt,timestamp:Kt,uuid:lSt,varchar:g0e,bit:cSt,halfvec:uSt,sparsevec:dSt,vector:fSt}}const gD=Symbol.for("drizzle:PgInlineForeignKeys"),lX=Symbol.for("drizzle:EnableRLS");var Vee,qee,Uee,Wee,Hee;class dC extends(Hee=Oo,Wee=ut,Uee=gD,qee=lX,Vee=Oo.Symbol.ExtraConfigBuilder,Hee){constructor(){super(...arguments);Pe(this,Uee,[]);Pe(this,qee,!1);Pe(this,Vee)}}Pe(dC,Wee,"PgTable"),Pe(dC,"Symbol",Object.assign({},Oo.Symbol,{InlineForeignKeys:gD,EnableRLS:lX}));function mSt(e,t,n,r,i=e){const a=new dC(e,r,i),o=typeof t=="function"?t(hSt()):t,l=Object.fromEntries(Object.entries(o).map(([d,f])=>{const m=f;m.setName(d);const h=m.build(a);return a[gD].push(...m.buildForeignKeys(h,a)),[d,h]})),c=Object.fromEntries(Object.entries(o).map(([d,f])=>{const m=f;m.setName(d);const h=m.buildExtraConfigColumn(a);return[d,h]})),u=Object.assign(a,l);return u[Oo.Symbol.Columns]=l,u[Oo.Symbol.ExtraConfigColumns]=c,Object.assign(u,{enableRLS:()=>(u[dC.Symbol.EnableRLS]=!0,u)})}const gi=(e,t,n)=>mSt(e,t,n,void 0),ea={INT8_MIN:-128,INT8_MAX:127,INT8_UNSIGNED_MAX:255,INT16_MIN:-32768,INT16_MAX:32767,INT16_UNSIGNED_MAX:65535,INT24_MIN:-8388608,INT24_MAX:8388607,INT24_UNSIGNED_MAX:16777215,INT32_MIN:-2147483648,INT32_MAX:2147483647,INT32_UNSIGNED_MAX:4294967295,INT48_MIN:-0x800000000000,INT48_MAX:0x7fffffffffff,INT48_UNSIGNED_MAX:0xffffffffffff,INT64_MIN:-9223372036854775808n,INT64_MAX:9223372036854775807n,INT64_UNSIGNED_MAX:18446744073709551615n};function Aa(e,t){return t.includes(e.columnType)}function pSt(e){return"enumValues"in e&&Array.isArray(e.enumValues)&&e.enumValues.length>0}const gSt=nb([xt(),Ii(),Iv(),BF()]),vSt=nb([gSt,hme(Fk()),Bc(Fk())]),xSt=FF(e=>e instanceof Buffer);function S0e(e,t){const n=(t==null?void 0:t.zodInstance)??Zut,r=(t==null?void 0:t.coerce)??{};let i;return pSt(e)&&(i=e.enumValues.length?n.enum(e.enumValues):n.string()),i||(Aa(e,["PgGeometry","PgPointTuple"])?i=n.tuple([n.number(),n.number()]):Aa(e,["PgGeometryObject","PgPointObject"])?i=n.object({x:n.number(),y:n.number()}):Aa(e,["PgHalfVector","PgVector"])?(i=n.array(n.number()),i=e.dimensions?i.length(e.dimensions):i):Aa(e,["PgLine"])?i=n.tuple([n.number(),n.number(),n.number()]):Aa(e,["PgLineABC"])?i=n.object({a:n.number(),b:n.number(),c:n.number()}):Aa(e,["PgArray"])?(i=n.array(S0e(e.baseColumn,n)),i=e.size?i.length(e.size):i):e.dataType==="array"?i=n.array(n.any()):e.dataType==="number"?i=ySt(e,n,r):e.dataType==="bigint"?i=bSt(e,n,r):e.dataType==="boolean"?i=r===!0||r.boolean?n.coerce.boolean():n.boolean():e.dataType==="date"?i=r===!0||r.date?n.coerce.date():n.date():e.dataType==="string"?i=wSt(e,n,r):e.dataType==="json"?i=vSt:e.dataType==="custom"?i=n.any():e.dataType==="buffer"&&(i=xSt)),i||(i=n.any()),i}function ySt(e,t,n){let r=e.getSQLType().includes("unsigned"),i,a,o=!1;Aa(e,["MySqlTinyInt","SingleStoreTinyInt"])?(i=r?0:ea.INT8_MIN,a=r?ea.INT8_UNSIGNED_MAX:ea.INT8_MAX,o=!0):Aa(e,["PgSmallInt","PgSmallSerial","MySqlSmallInt","SingleStoreSmallInt"])?(i=r?0:ea.INT16_MIN,a=r?ea.INT16_UNSIGNED_MAX:ea.INT16_MAX,o=!0):Aa(e,["PgReal","MySqlFloat","MySqlMediumInt","SingleStoreMediumInt","SingleStoreFloat"])?(i=r?0:ea.INT24_MIN,a=r?ea.INT24_UNSIGNED_MAX:ea.INT24_MAX,o=Aa(e,["MySqlMediumInt","SingleStoreMediumInt"])):Aa(e,["PgInteger","PgSerial","MySqlInt","SingleStoreInt"])?(i=r?0:ea.INT32_MIN,a=r?ea.INT32_UNSIGNED_MAX:ea.INT32_MAX,o=!0):Aa(e,["PgDoublePrecision","MySqlReal","MySqlDouble","SingleStoreReal","SingleStoreDouble","SQLiteReal"])?(i=r?0:ea.INT48_MIN,a=r?ea.INT48_UNSIGNED_MAX:ea.INT48_MAX):Aa(e,["PgBigInt53","PgBigSerial53","MySqlBigInt53","MySqlSerial","SingleStoreBigInt53","SingleStoreSerial","SQLiteInteger"])?(r=r||Aa(e,["MySqlSerial","SingleStoreSerial"]),i=r?0:Number.MIN_SAFE_INTEGER,a=Number.MAX_SAFE_INTEGER,o=!0):Aa(e,["MySqlYear","SingleStoreYear"])?(i=1901,a=2155,o=!0):(i=Number.MIN_SAFE_INTEGER,a=Number.MAX_SAFE_INTEGER);let l=n===!0||n!=null&&n.number?t.coerce.number():t.number();return l=l.min(i).max(a),o?l.int():l}function bSt(e,t,n){const r=e.getSQLType().includes("unsigned"),i=r?0n:ea.INT64_MIN,a=r?ea.INT64_UNSIGNED_MAX:ea.INT64_MAX;return(n===!0||n!=null&&n.bigint?t.coerce.bigint():t.bigint()).min(i).max(a)}function wSt(e,t,n){if(Aa(e,["PgUUID"]))return t.string().uuid();let r,i,a=!1;Aa(e,["PgVarchar","SQLiteText"])?r=e.length:Aa(e,["MySqlVarChar","SingleStoreVarChar"])?r=e.length??ea.INT16_UNSIGNED_MAX:Aa(e,["MySqlText","SingleStoreText"])&&(e.textType==="longtext"?r=ea.INT32_UNSIGNED_MAX:e.textType==="mediumtext"?r=ea.INT24_UNSIGNED_MAX:e.textType==="text"?r=ea.INT16_UNSIGNED_MAX:r=ea.INT8_UNSIGNED_MAX),Aa(e,["PgChar","MySqlChar","SingleStoreChar"])&&(r=e.length,a=!0),Aa(e,["PgBinaryVector"])&&(i=/^[01]+$/,r=e.dimensions);let o=n===!0||n!=null&&n.string?t.coerce.string():t.string();return o=i?o.regex(i):o,r&&a?o.length(r):r?o.max(r):o}function k0e(e){return Gxe(e)?B_t(e):z_t(e)}function C0e(e,t,n,r){const i={};for(const[a,o]of Object.entries(e)){if(!Ms(o,N0)&&!Ms(o,hs)&&!Ms(o,hs.Aliased)&&typeof o=="object"){const f=Gxe(o)||F_t(o)?k0e(o):o;i[a]=C0e(f,t[a]??{},n,r);continue}const l=t[a];if(l!==void 0&&typeof l!="function"){i[a]=l;continue}const c=Ms(o,N0)?o:void 0,u=c?S0e(c,r):Fk(),d=typeof l=="function"?l(u):u;n.never(c)||(i[a]=d,c&&(n.nullable(c)&&(i[a]=i[a].nullable()),n.optional(c)&&(i[a]=i[a].optional())))}return Wa(i)}const jSt={never:e=>{var t,n;return((t=e==null?void 0:e.generated)==null?void 0:t.type)==="always"||((n=e==null?void 0:e.generatedIdentity)==null?void 0:n.type)==="always"},optional:e=>!e.notNull||e.notNull&&e.hasDefault,nullable:e=>!e.notNull},Vi=(e,t)=>{const n=k0e(e);return C0e(n,{},jSt)},f7=Hxe("shipment_status",["pending","in_transit","delayed","delivered","cancelled"]),NSt=gi("users",{id:pi("id").primaryKey(),name:De("name").notNull(),email:De("email").notNull().unique(),password:De("password").notNull(),role:De("role").notNull().default("viewer"),companyId:nn("company_id"),areaId:nn("area_id"),lastLogin:Kt("last_login")}),_St=Vi(NSt).omit({id:!0,lastLogin:!0}).extend({name:xt().min(1,"El nombre es requerido").max(200,"El nombre no puede exceder 200 caracteres"),email:xt().email("Email invlido").max(320,"El email no puede exceder 320 caracteres"),password:xt().min(8,"La contrasea debe tener al menos 8 caracteres").max(100,"La contrasea no puede exceder 100 caracteres"),role:xt().max(50,"El rol no puede exceder 50 caracteres")}),SSt=gi("user_activation_tokens",{id:pi("id").primaryKey(),token:De("token").notNull().unique(),email:De("email").notNull(),expiresAt:Kt("expires_at").notNull(),used:Jl("used").default(!1),createdAt:Kt("created_at").defaultNow()});Vi(SSt).omit({id:!0,createdAt:!0});const kSt=gi("companies",{id:pi("id").primaryKey(),name:De("name").notNull(),description:De("description"),sector:De("sector"),logo:De("logo"),createdAt:Kt("created_at").defaultNow()});Vi(kSt).omit({id:!0,createdAt:!0});const CSt=gi("areas",{id:pi("id").primaryKey(),name:De("name").notNull(),description:De("description"),companyId:nn("company_id").notNull()});Vi(CSt).omit({id:!0});const ESt=gi("kpis_dura",{id:pi("id").primaryKey(),area:De("area").notNull(),kpiName:De("kpi_name").notNull(),description:De("description"),calculationMethod:De("calculation_method"),goal:De("goal"),annualGoal:De("annual_goal"),unit:De("unit"),frequency:De("frequency"),source:De("source"),responsible:De("responsible"),period:De("period"),createdAt:Kt("created_at").defaultNow()}),PSt=gi("kpis_orsega",{id:pi("id").primaryKey(),area:De("area").notNull(),kpiName:De("kpi_name").notNull(),description:De("description"),calculationMethod:De("calculation_method"),goal:De("goal"),annualGoal:De("annual_goal"),unit:De("unit"),frequency:De("frequency"),source:De("source"),responsible:De("responsible"),period:De("period"),createdAt:Kt("created_at").defaultNow()});Vi(ESt).omit({id:!0,createdAt:!0});Vi(PSt).omit({id:!0,createdAt:!0});gi("kpi_values_dura",{id:pi("id").primaryKey(),kpi_id:nn("kpi_id").notNull(),month:De("month").notNull(),year:nn("year").notNull(),value:co("value").notNull(),compliance_percentage:De("compliance_percentage"),status:De("status"),comments:De("comments"),updated_by:nn("updated_by"),created_at:Kt("created_at").defaultNow()});gi("kpi_values_orsega",{id:pi("id").primaryKey(),kpi_id:nn("kpi_id").notNull(),month:De("month").notNull(),year:nn("year").notNull(),value:co("value").notNull(),compliance_percentage:De("compliance_percentage"),status:De("status"),comments:De("comments"),updated_by:nn("updated_by"),created_at:Kt("created_at").defaultNow()});const h7=nb([q2(1),q2(2)]),_y=nb([xt(),Ii()]).transform(e=>typeof e=="number"?e.toString():e);Wa({companyId:h7.optional(),areaId:Ii().int().positive().optional(),area:xt().min(1,"El rea es requerida").max(100,"El rea no puede exceder 100 caracteres").optional(),name:xt().min(1,"El nombre es requerido").max(200,"El nombre no puede exceder 200 caracteres"),description:xt().max(2e3,"La descripcin no puede exceder 2000 caracteres").optional().nullable(),target:_y.optional(),goal:_y.optional(),unit:xt().max(50,"La unidad no puede exceder 50 caracteres").optional().nullable(),frequency:xt().max(50,"La frecuencia no puede exceder 50 caracteres").optional().nullable(),calculationMethod:xt().max(500,"El mtodo de clculo no puede exceder 500 caracteres").optional().nullable(),responsible:xt().max(200,"El responsable no puede exceder 200 caracteres").optional().nullable(),source:xt().max(200,"La fuente no puede exceder 200 caracteres").optional().nullable(),period:xt().max(50,"El perodo no puede exceder 50 caracteres").optional().nullable()}).refine(e=>e.areaId!==void 0||!!e.area,{message:"Debe seleccionarse un rea vlida",path:["areaId"]});const ASt=Wa({companyId:h7.optional(),kpiId:Ii().int().positive(),value:_y,period:xt().optional().nullable(),month:xt().optional().nullable(),year:Ii().int().optional().nullable(),compliancePercentage:xt().optional().nullable(),status:xt().optional().nullable(),comments:xt().optional().nullable(),updatedBy:Ii().int().optional().nullable()}),TSt=ASt,OSt=gi("action_plans",{id:pi("id").primaryKey(),kpiId:nn("kpi_id").notNull(),problemDescription:De("problem_description").notNull(),correctiveActions:De("corrective_actions").notNull(),responsible:De("responsible").notNull(),startDate:Kt("start_date").notNull(),endDate:Kt("end_date").notNull(),status:De("status").notNull(),results:De("results")});Vi(OSt).omit({id:!0});Wa({username:xt().min(3,"El nombre de usuario debe tener al menos 3 caracteres"),password:xt().min(6,"La contrasea debe tener al menos 6 caracteres")});TSt.extend({compliancePercentage:xt().optional(),status:xt().optional()});Wa({name:xt().optional(),description:xt().optional(),areaId:Ii().int().positive().optional(),area:xt().optional(),companyId:h7.optional(),unit:xt().optional(),target:_y.optional(),goal:_y.optional(),annualGoal:nb([_y,BF()]).optional(),frequency:xt().optional(),calculationMethod:xt().optional(),responsible:xt().optional(),source:xt().optional(),period:xt().optional(),invertedMetric:Iv().optional()});_St.extend({password:xt().min(6,"La contrasea debe tener al menos 6 caracteres"),confirmPassword:xt().min(6,"La contrasea debe tener al menos 6 caracteres")}).refine(e=>e.password===e.confirmPassword,{message:"Las contraseas no coinciden",path:["confirmPassword"]});const LSt=gi("shipments",{id:pi("id").primaryKey(),trackingCode:De("tracking_code").notNull().unique(),companyId:nn("company_id").notNull(),customerId:nn("customer_id"),customerName:De("customer_name").notNull(),purchaseOrder:De("purchase_order").notNull(),customerEmail:De("customer_email"),customerPhone:De("customer_phone"),invoiceNumber:De("invoice_number"),destination:De("destination").notNull(),origin:De("origin").notNull(),product:De("product").notNull(),quantity:De("quantity").notNull(),unit:De("unit").notNull(),departureDate:Kt("departure_date"),estimatedDeliveryDate:Kt("estimated_delivery_date"),actualDeliveryDate:Kt("actual_delivery_date"),status:f7("status").notNull().default("pending"),carrier:De("carrier"),vehicleInfo:De("vehicle_info"),vehicleType:De("vehicle_type"),fuelType:De("fuel_type"),distance:De("distance"),carbonFootprint:De("carbon_footprint"),driverName:De("driver_name"),driverPhone:De("driver_phone"),comments:De("comments"),transportCost:co("transport_cost"),inRouteAt:Kt("in_route_at"),deliveredAt:Kt("delivered_at"),createdAt:Kt("created_at").defaultNow(),updatedAt:Kt("updated_at").defaultNow(),destinationLat:co("destination_lat"),destinationLng:co("destination_lng"),originLat:co("origin_lat"),originLng:co("origin_lng"),purchaseOrderNumber:De("purchase_order_number"),notificationEmails:ih("notification_emails")}),MSt=Vi(LSt).omit({id:!0,createdAt:!0,updatedAt:!0}),ISt=gi("shipment_items",{id:pi("id").primaryKey(),shipmentId:nn("shipment_id").notNull(),product:De("product").notNull(),quantity:De("quantity").notNull(),unit:De("unit").notNull(),description:De("description"),createdAt:Kt("created_at").defaultNow()});Vi(ISt).omit({id:!0,createdAt:!0});const DSt=gi("shipment_updates",{id:pi("id").primaryKey(),shipmentId:nn("shipment_id").notNull(),status:f7("status").notNull(),location:De("location"),comments:De("comments"),updatedBy:nn("updated_by"),timestamp:Kt("timestamp").defaultNow()});Vi(DSt).omit({id:!0,timestamp:!0});const RSt=gi("notifications",{id:pi("id").primaryKey(),title:De("title").notNull(),message:De("message").notNull(),type:De("type").notNull().default("info"),fromUserId:nn("from_user_id").notNull(),toUserId:nn("to_user_id"),companyId:nn("company_id"),areaId:nn("area_id"),priority:De("priority").notNull().default("normal"),read:Jl("read").default(!1),createdAt:Kt("created_at").defaultNow(),readAt:Kt("read_at")});Vi(RSt).omit({id:!0,createdAt:!0});const $St=gi("shipment_notifications",{id:pi("id").primaryKey(),shipmentId:nn("shipment_id").notNull(),emailTo:De("email_to").notNull(),subject:De("subject").notNull(),status:De("status").notNull(),sentAt:Kt("sent_at").defaultNow(),sentBy:nn("sent_by").notNull(),shipmentStatus:f7("shipment_status").notNull(),errorMessage:De("error_message")});Vi($St).omit({id:!0,sentAt:!0});const FSt=Wa({status:mme(["pending","in_transit","delayed","delivered","cancelled"]),sendNotification:Iv().default(!0),comments:xt().optional(),location:xt().optional(),invoiceNumber:xt().optional()}),BSt=gi("job_profiles",{id:pi("id").primaryKey(),areaId:nn("area_id").notNull(),companyId:nn("company_id").notNull(),title:De("title").notNull(),description:De("description").notNull(),mainActivities:ih("main_activities").notNull(),responsibilities:ih("responsibilities").notNull(),kpiInstructions:ih("kpi_instructions").notNull(),tips:ih("tips").notNull(),processes:ih("processes").notNull(),updateFrequency:ih("update_frequency").notNull(),createdAt:Kt("created_at").defaultNow(),updatedAt:Kt("updated_at").defaultNow()});Vi(BSt).omit({id:!0,createdAt:!0,updatedAt:!0});Wa({id:Ii(),areaId:Ii(),companyId:Ii(),title:xt(),description:xt(),mainActivities:Bc(xt()),responsibilities:Bc(xt()),kpiInstructions:Bc(Wa({kpiName:xt(),description:xt(),updateFrequency:xt(),instructions:xt()})),tips:Bc(Wa({category:xt(),tip:xt()})),processes:Bc(Wa({name:xt(),description:xt(),steps:Bc(xt())})),updateFrequency:Wa({daily:Bc(xt()),weekly:Bc(xt()),monthly:Bc(xt())}),areaName:xt(),companyName:xt(),userKpis:Bc(Wa({id:Ii(),name:xt(),target:xt(),frequency:xt()}))});const zSt=gi("shipment_cycle_times",{id:pi("id").primaryKey(),shipmentId:nn("shipment_id").notNull().unique(),companyId:nn("company_id").notNull(),createdAt:Kt("created_at").notNull(),pendingAt:Kt("pending_at"),inTransitAt:Kt("in_transit_at"),deliveredAt:Kt("delivered_at"),closedAt:Kt("closed_at"),hoursPendingToTransit:De("hours_pending_to_transit"),hoursTransitToDelivered:De("hours_transit_to_delivered"),hoursDeliveredToClosed:De("hours_delivered_to_closed"),hoursTotalCycle:De("hours_total_cycle"),hoursToDelivery:De("hours_to_delivery"),computedAt:Kt("computed_at").defaultNow(),updatedAt:Kt("updated_at").defaultNow()});Vi(zSt).omit({id:!0,computedAt:!0,updatedAt:!0});Wa({period:xt(),startDate:xt(),endDate:xt(),companyId:Ii().optional(),avgPendingToTransit:Ii().nullable(),avgTransitToDelivered:Ii().nullable(),avgDeliveredToClosed:Ii().nullable(),avgTotalCycle:Ii().nullable(),avgToDelivery:Ii().nullable(),totalShipments:Ii(),completedShipments:Ii()});const VSt=gi("clients",{id:pi("id").primaryKey(),name:De("name").notNull(),email:De("email").notNull(),phone:De("phone"),contactPerson:De("contact_person"),company:De("company"),address:De("address"),paymentTerms:nn("payment_terms"),createdAt:Kt("created_at").defaultNow(),updatedAt:Kt("updated_at").defaultNow(),requiresReceipt:Jl("requires_receipt").default(!0),reminderFrequency:nn("reminder_frequency"),isActive:Jl("is_active").default(!0),notes:De("notes"),companyId:nn("company_id"),clientCode:De("client_code"),secondaryEmail:De("secondary_email"),city:De("city"),state:De("state"),postalCode:De("postal_code"),country:De("country").default("Mxico"),emailNotifications:Jl("email_notifications").default(!0),customerType:De("customer_type"),requiresPaymentComplement:Jl("requires_payment_complement").default(!1)});Vi(VSt).omit({id:!0,createdAt:!0,updatedAt:!0});const qSt=gi("provider",{id:g0e("id").primaryKey().default(nj`gen_random_uuid()`),name:De("name").notNull(),email:De("email"),phone:De("phone"),contactName:De("contact_name"),notes:De("notes"),rating:co("rating"),isActive:Jl("is_active").notNull().default(!0),shortName:De("short_name"),companyId:nn("company_id"),location:De("location"),requiresRep:Jl("requires_rep").default(!1),repFrequency:nn("rep_frequency"),reminderEmail:De("reminder_email"),createdAt:Kt("created_at").notNull().defaultNow(),updatedAt:Kt("updated_at").notNull().defaultNow()});Vi(qSt).omit({id:!0,createdAt:!0,updatedAt:!0});const E0e=gi("suppliers",{id:pi("id").primaryKey(),name:De("name").notNull(),shortName:De("short_name"),email:De("email"),location:De("location"),requiresRep:Jl("requires_rep").default(!1),repFrequency:nn("rep_frequency"),companyId:nn("company_id"),isActive:Jl("is_active").default(!0),notes:De("notes"),createdAt:Kt("created_at").defaultNow(),updatedAt:Kt("updated_at").defaultNow()});Vi(E0e).omit({id:!0,createdAt:!0,updatedAt:!0});const USt=gi("products",{id:pi("id").primaryKey(),name:De("name").notNull(),companyId:nn("company_id").notNull(),isActive:Jl("is_active").notNull().default(!0),createdAt:Kt("created_at").notNull().defaultNow(),updatedAt:Kt("updated_at").notNull().defaultNow()});Vi(USt).omit({id:!0,createdAt:!0,updatedAt:!0});const WSt=Hxe("voucher_status",["pago_programado","factura_pagada","pendiente_complemento","complemento_recibido","cierre_contable"]),P0e=gi("scheduled_payments",{id:pi("id").primaryKey(),companyId:nn("company_id").notNull(),supplierId:nn("supplier_id").references(()=>E0e.id),supplierName:De("supplier_name"),amount:co("amount").notNull(),currency:De("currency").notNull().default("MXN"),dueDate:Kt("due_date").notNull(),status:De("status").notNull().default("idrall_imported"),reference:De("reference"),notes:De("notes"),sourceType:De("source_type").default("manual"),hydralFileUrl:De("hydral_file_url"),hydralFileName:De("hydral_file_name"),approvedAt:Kt("approved_at"),approvedBy:nn("approved_by"),paymentScheduledAt:Kt("payment_scheduled_at"),paymentDate:Kt("payment_date"),paidAt:Kt("paid_at"),paidBy:nn("paid_by"),voucherId:nn("voucher_id").references(()=>m7.id),createdBy:nn("created_by").notNull(),createdAt:Kt("created_at").notNull().defaultNow(),updatedAt:Kt("updated_at").notNull().defaultNow()});Vi(P0e).omit({id:!0,createdAt:!0,updatedAt:!0});const HSt=gi("payment_receipts",{id:pi("id").primaryKey(),paymentId:nn("payment_id").references(()=>P0e.id,{onDelete:"cascade"}),fileName:De("file_name").notNull(),fileUrl:De("file_url").notNull(),fileType:De("file_type").notNull(),uploadedBy:nn("uploaded_by").notNull(),uploadedAt:Kt("uploaded_at").notNull().defaultNow(),sentTo:De("sent_to").array(),sentAt:Kt("sent_at")});Vi(HSt).omit({id:!0,uploadedAt:!0});const KSt=gi("payment_complements",{id:pi("id").primaryKey(),companyId:nn("company_id").notNull(),clientName:De("client_name").notNull(),invoiceReference:De("invoice_reference").notNull(),amount:co("amount").notNull(),currency:De("currency").notNull().default("MXN"),complementUrl:De("complement_url"),status:De("status").notNull().default("pending"),generatedAt:Kt("generated_at"),sentAt:Kt("sent_at"),createdBy:nn("created_by").notNull(),createdAt:Kt("created_at").notNull().defaultNow()});Vi(KSt).omit({id:!0,createdAt:!0});const GSt=gi("exchange_rates",{id:pi("id").primaryKey(),date:Kt("date").notNull().defaultNow(),buyRate:co("buy_rate").notNull(),sellRate:co("sell_rate").notNull(),source:De("source"),notes:De("notes"),createdBy:nn("created_by").notNull(),createdAt:Kt("created_at").notNull().defaultNow()});Vi(GSt).omit({id:!0,createdAt:!0});const m7=gi("payment_vouchers",{id:pi("id").primaryKey(),companyId:nn("company_id").notNull(),payerCompanyId:nn("payer_company_id").notNull(),clientId:nn("client_id").notNull(),clientName:De("client_name").notNull(),scheduledPaymentId:nn("scheduled_payment_id"),status:WSt("status").notNull().default("factura_pagada"),voucherFileUrl:De("voucher_file_url").notNull(),voucherFileName:De("voucher_file_name").notNull(),voucherFileType:De("voucher_file_type").notNull(),invoiceFileUrl:De("invoice_file_url"),invoiceFileName:De("invoice_file_name"),invoiceFileType:De("invoice_file_type"),complementFileUrl:De("complement_file_url"),complementFileName:De("complement_file_name"),complementFileType:De("complement_file_type"),extractedAmount:co("extracted_amount"),extractedDate:Kt("extracted_date"),extractedBank:De("extracted_bank"),extractedReference:De("extracted_reference"),extractedCurrency:De("extracted_currency"),extractedOriginAccount:De("extracted_origin_account"),extractedDestinationAccount:De("extracted_destination_account"),extractedTrackingKey:De("extracted_tracking_key"),extractedBeneficiaryName:De("extracted_beneficiary_name"),ocrConfidence:co("ocr_confidence"),notify:Jl("notify").default(!1),emailTo:De("email_to").array(),emailCc:De("email_cc").array(),emailMessage:De("email_message"),linkedInvoiceId:nn("linked_invoice_id"),linkedInvoiceUuid:De("linked_invoice_uuid"),notes:De("notes"),uploadedBy:nn("uploaded_by").notNull(),createdAt:Kt("created_at").notNull().defaultNow(),updatedAt:Kt("updated_at").notNull().defaultNow(),lastReminderSent:Kt("last_reminder_sent"),reminderCount:nn("reminder_count").default(0)});Vi(m7).omit({id:!0,createdAt:!0,updatedAt:!0});const YSt=gi("deleted_payment_vouchers",{id:pi("id").primaryKey(),originalVoucherId:nn("original_voucher_id").notNull(),companyId:nn("company_id").notNull(),payerCompanyId:nn("payer_company_id").notNull(),clientId:nn("client_id").notNull(),clientName:De("client_name").notNull(),status:De("status").notNull(),voucherFileUrl:De("voucher_file_url").notNull(),voucherFileName:De("voucher_file_name").notNull(),extractedAmount:co("extracted_amount"),extractedCurrency:De("extracted_currency"),extractedReference:De("extracted_reference"),extractedBank:De("extracted_bank"),originalCreatedAt:Kt("original_created_at").notNull(),deletionReason:De("deletion_reason").notNull(),deletedBy:nn("deleted_by").notNull(),deletedAt:Kt("deleted_at").notNull().defaultNow(),originalData:ih("original_data")});Vi(YSt).omit({id:!0,deletedAt:!0});const XSt=gi("email_outbox",{id:pi("id").primaryKey(),voucherId:nn("voucher_id").references(()=>m7.id,{onDelete:"cascade"}),emailTo:De("email_to").notNull().array(),emailCc:De("email_cc").array(),subject:De("subject").notNull(),htmlContent:De("html_content").notNull(),status:De("status").notNull().default("pending"),messageId:De("message_id"),errorMessage:De("error_message"),sentAt:Kt("sent_at"),createdAt:Kt("created_at").notNull().defaultNow(),updatedAt:Kt("updated_at").notNull().defaultNow()});Vi(XSt).omit({id:!0,createdAt:!0,updatedAt:!0});function ZSt({shipment:e,onClose:t,onRefresh:n}){const{toast:r}=zi(),[i,a]=b.useState(!1),{data:o=[],isLoading:l,refetch:c}=At({queryKey:[`/api/shipments/${e.id}/updates`]}),{data:u}=At({queryKey:[`/api/companies/${e.companyId}`]}),d=Rp({resolver:$p(FSt),defaultValues:{status:e.status}});Wn({mutationFn:async y=>(await Dt("POST",`/api/shipments/${e.id}/updates`,y)).json(),onSuccess:()=>{r({title:"Actualizacin creada",description:"La actualizacin del envo se ha creado correctamente"}),a(!1),d.reset(),c(),n()},onError:y=>{r({title:"Error",description:"No se pudo crear la actualizacin",variant:"destructive"})}});const f=y=>({pending:{label:"Pendiente",color:"bg-slate-200",icon:s.jsx(Wo,{className:"h-5 w-5"})},in_transit:{label:"En trnsito",color:"bg-blue-100",icon:s.jsx(qo,{className:"h-5 w-5"})},delayed:{label:"Retrasado",color:"bg-red-100",icon:s.jsx(Oa,{className:"h-5 w-5"})},delivered:{label:"Entregado",color:"bg-green-100",icon:s.jsx(Rw,{className:"h-5 w-5"})},cancelled:{label:"Cancelado",color:"bg-gray-100",icon:s.jsx(Ra,{className:"h-5 w-5"})}})[y]||{label:y,color:"bg-gray-100",icon:null},{label:m,color:h,icon:g}=f(e.status);return s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",children:s.jsxs(Ue,{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto flex flex-col",children:[s.jsxs(Vt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsxs("div",{children:[s.jsxs(an,{className:"text-2xl",children:["Orden de Compra: ",e.purchaseOrder]}),s.jsxs(fi,{children:[u==null?void 0:u.name,"  Cdigo: ",e.trackingCode,e.createdAt&&s.jsxs(s.Fragment,{children:["  Creado el ",s.jsx(Ag,{date:new Date(e.createdAt)})]})]})]}),s.jsx(Oe,{variant:"ghost",size:"sm",onClick:t,children:s.jsx(Ra,{className:"h-4 w-4"})})]}),s.jsx(Tp,{defaultValue:"details",children:s.jsxs(We,{className:"pt-6",children:[s.jsxs(Rh,{className:"mb-4",children:[s.jsx(Ki,{value:"details",children:"Detalles"}),s.jsx(Ki,{value:"timeline",children:"Historial"})]}),s.jsx(ds,{value:"details",className:"space-y-4",children:s.jsx("div",{className:"flex flex-col md:flex-row space-y-4 md:space-y-0 md:space-x-4",children:s.jsxs("div",{className:"flex-1 space-y-4",children:[s.jsxs("div",{className:"bg-slate-50 p-4 rounded-md",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[s.jsx("div",{className:`p-2 rounded-full ${h}`,children:g}),s.jsxs("h3",{className:"text-lg font-semibold",children:["Estado: ",m]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(_l,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"font-medium",children:"Producto:"})," ",e.product]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"font-medium ml-6",children:"Cantidad:"})," ",e.quantity," ",e.unit]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(lp,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"font-medium",children:"Origen:"})," ",e.origin]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(lp,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"font-medium",children:"Destino:"})," ",e.destination]})]})]}),s.jsx("div",{className:"mt-4",children:s.jsx(E_t,{origin:{...PO(e.origin),name:e.origin},destination:{...PO(e.destination),name:e.destination},currentLocation:o&&o.length>0&&o[0].location?{...PO(o[0].location),name:o[0].location}:void 0,status:e.status})}),s.jsx(i7,{className:"my-4"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Xa,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"font-medium",children:"Fecha de salida:"})," ",e.departureDate?s.jsx(Ag,{date:new Date(e.departureDate)}):"No definida"]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Xa,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"font-medium",children:"Fecha estimada de entrega:"})," ",e.estimatedDeliveryDate?s.jsx(Ag,{date:new Date(e.estimatedDeliveryDate)}):"No definida"]}),(e.actualDeliveryDate||e.deliveredAt)&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(q6,{className:"h-4 w-4 text-green-600 dark:text-green-400"}),s.jsx("span",{className:"font-medium text-green-700 dark:text-green-300",children:"Fecha real de entrega:"})," ",s.jsx("span",{className:"font-semibold text-green-700 dark:text-green-300",children:s.jsx(Ag,{date:new Date(e.actualDeliveryDate||e.deliveredAt)})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(qo,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"font-medium",children:"Transportista:"})," ",e.carrier]}),e.vehicleInfo&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"font-medium ml-6",children:"Vehculo:"})," ",e.vehicleInfo]}),e.driverName&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Jm,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"font-medium",children:"Conductor:"})," ",e.driverName]}),e.driverPhone&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(mT,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"font-medium",children:"Telfono del conductor:"})," ",e.driverPhone]})]})]}),s.jsxs("div",{className:"mt-4 bg-blue-50 p-3 rounded-md border border-blue-100",children:[s.jsx("h3",{className:"text-sm font-semibold mb-2 text-primary",children:"Responsable de Logstica"}),s.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[s.jsx(Jm,{className:"h-4 w-4 text-primary"}),s.jsx("span",{className:"text-sm text-gray-700",children:"Thalia Rodriguez"})]}),s.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[s.jsx(op,{className:"h-4 w-4 text-primary"}),s.jsx("span",{className:"text-sm text-gray-700",children:"thalia.rodriguez@econova.mx"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(mT,{className:"h-4 w-4 text-primary"}),s.jsx("span",{className:"text-sm text-gray-700",children:"+52 (55) 1234-5678"})]})]})]}),(e.carbonFootprint||e.distance||e.vehicleType||e.fuelType)&&s.jsxs("div",{className:"bg-green-50 p-4 rounded-md border border-green-100",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[s.jsx("div",{className:"p-2 rounded-full bg-green-100",children:s.jsx(n_e,{className:"h-5 w-5 text-green-600"})}),s.jsx("h3",{className:"text-lg font-semibold text-green-800",children:"Huella de Carbono"})]}),e.carbonFootprint&&s.jsxs("div",{className:"flex flex-col items-center mb-6 bg-white p-4 rounded-lg border border-green-200",children:[s.jsx("h4",{className:"text-green-800 font-medium mb-2",children:"Emisiones de CO"}),s.jsxs("div",{className:"text-4xl font-bold text-green-800 flex items-end",children:[e.carbonFootprint,s.jsx("span",{className:"text-xl ml-1 font-normal",children:"kg COe"})]}),s.jsxs("p",{className:"mt-2 text-green-600 text-sm text-center",children:["Equivalente a ",s.jsx("span",{className:"font-semibold",children:(parseFloat(e.carbonFootprint.replace(/[^\d.-]/g,""))/1e3).toFixed(2)})," toneladas de CO"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-2",children:[e.distance&&s.jsx("div",{className:"bg-white p-3 rounded-lg border border-green-200",children:s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx(c_e,{className:"h-5 w-5 text-green-600 mb-1"}),s.jsx("span",{className:"font-medium text-green-800 text-sm",children:"Distancia"}),s.jsxs("span",{className:"text-lg font-bold text-green-700",children:[e.distance," km"]})]})}),e.vehicleType&&s.jsx("div",{className:"bg-white p-3 rounded-lg border border-green-200",children:s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx(qo,{className:"h-5 w-5 text-green-600 mb-1"}),s.jsx("span",{className:"font-medium text-green-800 text-sm",children:"Vehculo"}),s.jsx("span",{className:"text-lg font-bold text-green-700",children:e.vehicleType})]})}),e.fuelType&&s.jsx("div",{className:"bg-white p-3 rounded-lg border border-green-200",children:s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx(JNe,{className:"h-5 w-5 text-green-600 mb-1"}),s.jsx("span",{className:"font-medium text-green-800 text-sm",children:"Combustible"}),s.jsx("span",{className:"text-lg font-bold text-green-700",children:e.fuelType})]})})]}),s.jsxs("div",{className:"mt-4 text-xs text-green-600 bg-green-50 p-2 rounded border-t border-green-100",children:[s.jsx("span",{className:"font-semibold",children:"Cmo se calcula?"})," La huella de carbono se determina en base al tipo de vehculo, combustible utilizado y distancia recorrida, usando factores de emisin estndar de la industria.",s.jsx("br",{}),s.jsx("br",{}),s.jsx("span",{className:"font-semibold",children:"Nota:"})," Esta informacin es utilizada para nuestros reportes de sostenibilidad y emisiones de Alcance 3."]})]}),s.jsxs("div",{className:"bg-slate-50 p-4 rounded-md",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Informacin del Cliente"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Jm,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"font-medium",children:"Cliente:"})," ",e.customerName]}),e.customerEmail&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(op,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"font-medium",children:"Email:"})," ",e.customerEmail]}),e.customerPhone&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(mT,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"font-medium",children:"Telfono:"})," ",e.customerPhone]})]})]}),e.comments&&s.jsxs("div",{className:"bg-slate-50 p-4 rounded-md",children:[s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Comentarios"}),s.jsx("p",{className:"text-gray-700",children:e.comments})]})]})})}),s.jsx(ds,{value:"timeline",className:"max-h-[60vh] overflow-y-auto",children:s.jsxs("div",{className:"space-y-6",children:[s.jsx(A_t,{shipment:e,onUpdate:()=>{n(),c()}}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Historial de Actualizaciones"}),l?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(fie,{className:"h-8 w-8 animate-spin mx-auto text-primary"}),s.jsx("p",{className:"mt-2 text-muted-foreground",children:"Cargando historial de actualizaciones..."})]}):o.length===0?s.jsx("div",{className:"text-center py-8 text-gray-500",children:"No hay actualizaciones disponibles para este envo"}):s.jsx("div",{className:"relative space-y-8 before:absolute before:inset-0 before:left-5 before:h-full before:border-l-2 before:border-slate-200 pl-12",children:o.map(y=>{const{color:v,icon:x}=f(y.status);return s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:`absolute left-0 -translate-x-[27px] p-1.5 rounded-full ${v}`,children:x}),s.jsxs("div",{className:"bg-white p-4 rounded-lg border border-slate-200",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:s.jsx(Ag,{date:new Date(y.timestamp),showTime:!0})}),s.jsxs("h4",{className:"text-lg font-medium mt-1",children:[f(y.status).label,y.location&&s.jsxs("span",{className:"font-normal",children:[" - ",y.location]})]}),y.comments&&s.jsx("p",{className:"mt-2",children:y.comments})]})]},y.id)})})]})]})})]})}),s.jsx(kie,{className:"flex justify-between border-t px-6 py-4 mt-auto",children:s.jsx(Oe,{variant:"outline",onClick:t,children:"Cerrar"})})]})})}const cX=({status:e})=>{const t={pending:{label:"Pendiente",variant:"outline"},in_transit:{label:"En trnsito",variant:"default"},delayed:{label:"Retrasado",variant:"destructive"},delivered:{label:"Entregado",variant:"success"},cancelled:{label:"Cancelado",variant:"secondary"}},{label:n,variant:r}=t[e]||{label:e,variant:"outline"};return s.jsx(Ct,{variant:r,children:n})};function QSt(){const[e,t]=b.useState("all"),[n,r]=b.useState(""),[i,a]=b.useState("all"),[o,l]=b.useState(null),[c,u]=b.useState(!1),[d,f]=Yo(),{toast:m}=zi(),{data:h,isLoading:g}=At({queryKey:["/api/companies"]}),{data:y,isLoading:v,error:x,refetch:w}=At({queryKey:["/api/shipments"]}),j=(y==null?void 0:y.shipments)||[];b.useEffect(()=>{if(x&&m({title:"Error al cargar envos",description:"No se pudieron cargar los datos de envos",variant:"destructive"}),y&&(console.log("Respuesta de envos:",y),console.log("Array de envos:",j),Array.isArray(j))){const P=j.filter(M=>M.departureDate&&M.estimatedDeliveryDate);console.log("Envos con fechas vlidas:",P)}},[x,m,y,j]);const _=Array.isArray(j)?j.filter(P=>{const M=e==="all"||P.status===e,T=i==="all"||P.companyId===parseInt(i),R=!n||P.trackingCode.toLowerCase().includes(n.toLowerCase())||P.customerName.toLowerCase().includes(n.toLowerCase())||P.product.toLowerCase().includes(n.toLowerCase())||P.destination.toLowerCase().includes(n.toLowerCase());return M&&T&&R}):[],S=P=>{l(P)},k=()=>{l(null)};return v||g?s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx(sr,{className:"h-8 w-8 animate-spin text-border"})}):s.jsx(Ro,{title:"Trazabilidad de Envos",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("div",{className:"text-sm text-gray-600",children:"Gestiona y rastrea tus envos con el sistema Kanban"}),s.jsx(Oe,{onClick:()=>f("/shipments/new"),children:"Nuevo Envo"})]}),s.jsxs("div",{className:"mb-6 flex flex-col sm:flex-row gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsx(gt,{placeholder:"Buscar por cdigo, cliente, producto o destino...",value:n,onChange:P=>r(P.target.value)})}),s.jsx("div",{className:"w-full sm:w-64",children:s.jsxs(An,{value:i,onValueChange:a,children:[s.jsx(Nn,{children:s.jsx(Tn,{placeholder:"Filtrar por empresa"})}),s.jsxs(_n,{children:[s.jsx(at,{value:"all",children:"Todas las empresas"}),h==null?void 0:h.map(P=>s.jsx(at,{value:P.id.toString(),children:P.name},P.id))]})]})})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-4 mb-6",children:j&&s.jsxs(s.Fragment,{children:[s.jsx(Ue,{className:"cursor-pointer",onClick:()=>t("pending"),children:s.jsxs(We,{className:"p-6 flex items-center space-x-4",children:[s.jsx("div",{className:"p-2 rounded-full bg-amber-100",children:s.jsx(Xa,{className:"h-6 w-6 text-amber-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:"Pendientes"}),s.jsx("p",{className:"text-2xl font-bold",children:j.filter(P=>P.status==="pending").length})]})]})}),s.jsx(Ue,{className:"cursor-pointer",onClick:()=>{t("in_transit"),u(!0)},children:s.jsxs(We,{className:"p-6 flex items-center space-x-4",children:[s.jsx("div",{className:"p-2 rounded-full bg-blue-100",children:s.jsx(qo,{className:"h-6 w-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:"En Trnsito"}),s.jsx("p",{className:"text-2xl font-bold",children:j.filter(P=>P.status==="in_transit").length})]})]})}),s.jsx(Ue,{className:"cursor-pointer",onClick:()=>t("delayed"),children:s.jsxs(We,{className:"p-6 flex items-center space-x-4",children:[s.jsx("div",{className:"p-2 rounded-full bg-red-100",children:s.jsx(Oa,{className:"h-6 w-6 text-red-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:"Retrasados"}),s.jsx("p",{className:"text-2xl font-bold",children:j.filter(P=>P.status==="delayed").length})]})]})}),s.jsx(Ue,{className:"cursor-pointer",onClick:()=>t("delivered"),children:s.jsxs(We,{className:"p-6 flex items-center space-x-4",children:[s.jsx("div",{className:"p-2 rounded-full bg-green-100",children:s.jsx(lf,{className:"h-6 w-6 text-green-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:"Entregados"}),s.jsx("p",{className:"text-2xl font-bold",children:j.filter(P=>P.status==="delivered").length})]})]})}),s.jsx(Ue,{className:"cursor-pointer",onClick:()=>t("cancelled"),children:s.jsxs(We,{className:"p-6 flex items-center space-x-4",children:[s.jsx("div",{className:"p-2 rounded-full bg-gray-100",children:s.jsx(Ra,{className:"h-6 w-6 text-gray-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:"Cancelados"}),s.jsx("p",{className:"text-2xl font-bold",children:j.filter(P=>P.status==="cancelled").length})]})]})})]})}),s.jsx(zr,{open:c,onOpenChange:u,children:s.jsxs(Ir,{className:"max-w-4xl",children:[s.jsxs(Vr,{children:[s.jsx(qr,{children:"Envos en Trnsito"}),s.jsx(Rs,{children:"Visualizacin de envos actualmente en trnsito con detalles de ruta"})]}),s.jsx("div",{className:"py-4",children:j&&j.filter(P=>P.status==="in_transit").length>0?s.jsx("div",{className:"space-y-4",children:j.filter(P=>P.status==="in_transit").map(P=>s.jsxs(Ue,{className:"overflow-hidden",children:[s.jsx(Vt,{className:"p-4 pb-2",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx(an,{className:"text-lg",children:P.trackingCode}),s.jsxs(fi,{children:[P.customerName,"  ",P.product]})]}),s.jsx(cX,{status:P.status})]})}),s.jsxs(We,{className:"p-4 pt-2",children:[s.jsxs("div",{className:"flex flex-wrap gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Origen"}),s.jsx("p",{className:"text-sm",children:P.origin})]}),s.jsx("div",{className:"flex-1 flex items-center justify-center px-4",children:s.jsx("div",{className:"h-0.5 w-full bg-gray-200 relative",children:s.jsx("div",{className:"absolute -top-2 left-1/2 -translate-x-1/2 h-4 w-4 rounded-full bg-blue-500",title:"En ruta"})})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Destino"}),s.jsx("p",{className:"text-sm",children:P.destination})]})]}),s.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-500",children:"Fecha de salida"}),s.jsx("p",{children:P.departureDate&&new Date(P.departureDate).toLocaleDateString()})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-500",children:"Entrega estimada"}),s.jsx("p",{children:P.estimatedDeliveryDate&&new Date(P.estimatedDeliveryDate).toLocaleDateString()})]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-500",children:"Transportista"}),s.jsx("p",{children:P.carrier})]})]}),s.jsx("div",{className:"mt-4",children:s.jsx(Oe,{size:"sm",variant:"outline",className:"w-full",onClick:()=>{l(P),u(!1)},children:"Ver detalles completos"})})]})]},P.id))}):s.jsx("div",{className:"text-center py-8 text-gray-500",children:"No hay envos en trnsito actualmente"})}),s.jsx(pc,{children:s.jsx(nRe,{asChild:!0,children:s.jsx(Oe,{variant:"outline",children:"Cerrar"})})})]})}),s.jsxs(Tp,{value:e,onValueChange:t,children:[s.jsxs(Rh,{className:"mb-4",children:[s.jsx(Ki,{value:"all",children:"Todos"}),s.jsx(Ki,{value:"pending",children:"Pendientes"}),s.jsx(Ki,{value:"in_transit",children:"En Trnsito"}),s.jsx(Ki,{value:"delayed",children:"Retrasados"}),s.jsx(Ki,{value:"delivered",children:"Entregados"}),s.jsx(Ki,{value:"cancelled",children:"Cancelados"})]}),s.jsx(ds,{value:e,className:"space-y-4",children:s.jsxs(Ue,{children:[s.jsx(Vt,{children:s.jsxs(fi,{children:["Arrastra las tarjetas entre columnas para actualizar el estado - Mostrando ",_.length," envos"]})}),s.jsx(We,{children:_.length===0?s.jsx("div",{className:"text-center py-8 text-gray-500",children:"No hay envos que coincidan con los filtros seleccionados"}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(iA,{children:[s.jsx(aA,{children:s.jsxs(rp,{children:[s.jsx(Pa,{children:"Cdigo"}),s.jsx(Pa,{children:"Cliente"}),s.jsx(Pa,{children:"Producto"}),s.jsx(Pa,{children:"Cantidad"}),s.jsx(Pa,{children:"Origen"}),s.jsx(Pa,{children:"Destino"}),s.jsx(Pa,{children:"Fecha Estimada"}),s.jsx(Pa,{children:"Estado"}),s.jsx(Pa,{className:"text-right",children:"Acciones"})]})}),s.jsx(sA,{children:_.map(P=>s.jsxs(rp,{children:[s.jsx(ji,{className:"font-medium",children:P.trackingCode}),s.jsx(ji,{children:P.customerName}),s.jsx(ji,{children:P.product}),s.jsxs(ji,{children:[P.quantity," ",P.unit]}),s.jsx(ji,{children:P.origin}),s.jsx(ji,{children:P.destination}),s.jsx(ji,{children:P.status==="delivered"&&(P.actualDeliveryDate||P.deliveredAt)?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(q6,{className:"w-4 h-4 text-green-600 dark:text-green-400"}),s.jsx("span",{className:"font-semibold text-green-700 dark:text-green-300",children:s.jsx(Ag,{date:new Date(P.actualDeliveryDate||P.deliveredAt)})})]}):P.estimatedDeliveryDate?s.jsx(Ag,{date:new Date(P.estimatedDeliveryDate)}):"-"}),s.jsx(ji,{children:s.jsx(cX,{status:P.status})}),s.jsx(ji,{className:"text-right",children:s.jsx(Oe,{variant:"outline",size:"sm",onClick:()=>S(P),children:"Ver detalles"})})]},P.id))})]})})})]})})]}),o&&s.jsx(ZSt,{shipment:o,onClose:k,onRefresh:()=>w()})]})})}const LO=[{name:"Nextipac",code:"Nextipac, Jalisco",frequent:!0},{name:"Altamira",code:"Altamira, Tamaulipas",frequent:!0},{name:"Bodega Principal Dura",code:"CDMX",frequent:!0},{name:"Centro Distribucin Norte",code:"Nuevo Len",frequent:!0},{name:"Planta Qumica Dura",code:"Quertaro",frequent:!0},{name:"Centro Logstico Orsega",code:"Jalisco",frequent:!0},{name:"Terminal de Cargas Tampico",code:"Tamaulipas",frequent:!0},{name:"Centro Operativo Sur",code:"Puebla",frequent:!0},{name:"Ciudad de Mxico",code:"CDMX"},{name:"Guadalajara",code:"Jalisco"},{name:"Monterrey",code:"Nuevo Len"},{name:"Puebla",code:"Puebla"},{name:"Tijuana",code:"Baja California"},{name:"Len",code:"Guanajuato"},{name:"Jurez",code:"Chihuahua"},{name:"Cancn",code:"Quintana Roo"},{name:"Mrida",code:"Yucatn"},{name:"Villahermosa",code:"Tabasco"}];function uX({placeholder:e,value:t,onChange:n,name:r,disabled:i=!1}){const[a,o]=b.useState(!1),[l,c]=b.useState(t||"");b.useEffect(()=>{c(t||"")},[t]);const u=v=>{const x=v.target.value;c(x),n(x)},d=v=>{const x=`${v.name}`;c(x),n(x),o(!1)},f=l.toLowerCase().trim(),m=f.length>0,h=m?LO.filter(v=>v.frequent&&(v.name.toLowerCase().includes(f)||v.code.toLowerCase().includes(f))):LO.filter(v=>v.frequent),g=m?LO.filter(v=>!v.frequent&&(v.name.toLowerCase().includes(f)||v.code.toLowerCase().includes(f))):[],y=h.length>0||g.length>0;return s.jsxs("div",{className:"relative w-full",children:[s.jsx(xn,{children:s.jsxs("div",{className:"relative",children:[s.jsx(gt,{placeholder:e,value:l,onChange:u,onFocus:()=>o(!0),onBlur:()=>setTimeout(()=>o(!1),200),disabled:i,name:r,autoComplete:"off",className:"w-full pr-10"}),l&&s.jsx(Oe,{type:"button",variant:"ghost",size:"sm",className:"absolute right-2 top-1/2 -translate-y-1/2 h-6 w-6 p-0 hover:bg-transparent",onClick:()=>{c(""),n("")},children:s.jsx(Ra,{className:"h-4 w-4 text-muted-foreground hover:text-foreground"})})]})}),a&&y&&s.jsxs("div",{className:"absolute z-50 w-full mt-1 bg-white border rounded-md shadow-lg max-h-64 overflow-y-auto",children:[h.length>0&&s.jsxs("div",{className:"p-2",children:[s.jsx("div",{className:"text-xs font-medium text-muted-foreground mb-2",children:"Ubicaciones Frecuentes"}),h.map((v,x)=>s.jsxs("button",{type:"button",className:"w-full text-left px-3 py-2 text-sm hover:bg-gray-100 rounded-md flex items-center",onClick:()=>d(v),children:[s.jsx(lp,{className:"mr-2 h-4 w-4 text-primary"}),s.jsx("span",{className:"font-medium",children:v.name}),s.jsx("span",{className:"ml-auto text-xs text-muted-foreground",children:v.code})]},`frequent-${x}`))]}),g.length>0&&s.jsxs("div",{className:"p-2 border-t",children:[s.jsx("div",{className:"text-xs font-medium text-muted-foreground mb-2",children:"Otras Ubicaciones"}),g.map((v,x)=>s.jsxs("button",{type:"button",className:"w-full text-left px-3 py-2 text-sm hover:bg-gray-100 rounded-md flex items-center",onClick:()=>d(v),children:[s.jsx(lp,{className:"mr-2 h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"font-medium",children:v.name}),s.jsx("span",{className:"ml-auto text-xs text-muted-foreground",children:v.code})]},`other-${x}`))]}),s.jsx("div",{className:"p-2 border-t bg-gray-50 text-xs text-muted-foreground",children:" Escribe libremente cualquier ubicacin. Las sugerencias son opcionales."})]})]})}const JSt={Camin:{Diesel:.9,Gasolina:1.1,GNC:.7,Elctrico:.1},"Camin refrigerado":{Diesel:1.2,Gasolina:1.4,GNC:1,Elctrico:.4},Cisterna:{Diesel:1.1,Gasolina:1.3,GNC:.9,Elctrico:.3},Trailer:{Diesel:1.1,Gasolina:1.3,GNC:.8,Elctrico:.3},Tanque:{Diesel:1.1,Gasolina:1.3,GNC:.9,Elctrico:.3}},e5t=MSt.omit({companyId:!0}).extend({companyId:xt().min(1,{message:"La empresa es requerida"}),departureDate:xt().min(1,{message:"La fecha de salida es requerida"}),estimatedDeliveryDate:xt().min(1,{message:"La fecha estimada de entrega es requerida"}),vehicleType:xt().min(1,{message:"El tipo de vehculo es requerido"}),fuelType:xt().min(1,{message:"El tipo de combustible es requerido"}),distance:xt().min(1,{message:"La distancia es requerida"}),transportCost:Ii().min(0,{message:"El costo debe ser mayor o igual a 0"}).optional()}).refine(e=>{const t=new Date(e.departureDate);return new Date(e.estimatedDeliveryDate)>=t},{message:"La fecha estimada de entrega debe ser posterior a la fecha de salida",path:["estimatedDeliveryDate"]});function t5t(){const[e,t]=Yo(),{toast:n}=zi(),[r,i]=b.useState(!1),[a,o]=b.useState(null),[l,c]=b.useState(1),[u,d]=b.useState([{product:"",quantity:"",unit:"KG",description:""}]),f=4,m=["Informacin Bsica","Logstica","Huella de Carbono","Informacin Adicional"],{data:h,isLoading:g}=At({queryKey:["/api/companies"]}),{data:y,isLoading:v}=At({queryKey:["/api/clients"]}),{data:x=[],isLoading:w}=At({queryKey:["/api/providers"]}),j=Rp({resolver:$p(e5t),defaultValues:{trackingCode:R(),companyId:"",customerName:"",customerEmail:"",destination:"",origin:"",product:"",quantity:"",unit:"KG",status:"pending",carrier:"",vehicleType:"",fuelType:"Diesel",distance:"",departureDate:er(new Date,"yyyy-MM-dd"),estimatedDeliveryDate:er(new Date(Date.now()+3*24*60*60*1e3),"yyyy-MM-dd")}}),_=j.watch("companyId"),{data:S=[],isLoading:k}=At({queryKey:["/api/products",{companyId:_}],enabled:!!_}),P=S;b.useEffect(()=>{const $=j.getValues("origin"),K=j.getValues("destination");if($&&K&&l===3){const Y=nX($,K);if(Y)j.setValue("distance",Y.toString()),n({title:"Distancia calculada automticamente",description:`Se ha calculado una distancia de ${Y} km entre origen y destino.`});else{const Q="350";j.setValue("distance",Q),n({title:"Usando distancia predeterminada",description:`No fue posible calcular la distancia exacta. Se ha establecido un valor predeterminado de ${Q} km que puedes editar manualmente.`})}}},[l,j,n]);const M=Wn({mutationFn:async $=>{if(!$.companyId)throw new Error("Debe seleccionar una empresa");const K=u.filter(U=>U.product&&U.quantity);if(K.length===0)throw new Error("Debe agregar al menos un producto");const Y=parseInt($.companyId);if(isNaN(Y))throw new Error("ID de empresa invlido");let Q=a||0;console.log(`[Nuevo envo] Huella de carbono calculada: ${Q} kg CO2e`),console.log(`[Nuevo envo] Productos: ${K.length}`);const H={...$,departureDate:new Date($.departureDate).toISOString(),estimatedDeliveryDate:new Date($.estimatedDeliveryDate).toISOString(),companyId:Y,carbonFootprint:Q,items:K};return(await Dt("POST","/api/shipments",H)).json()},onSuccess:()=>{n({title:"Envo creado",description:"El envo se ha creado correctamente"}),ii.invalidateQueries({queryKey:["/api/shipments"]}),ii.invalidateQueries({queryKey:["/api/logistics/shipments"]}),t("/shipments")},onError:$=>{console.error("Error al crear envo:",$),n({title:"Error",description:$.message||"No se pudo crear el envo. Verifica todos los campos.",variant:"destructive"})}}),T=()=>{var U;const $=j.getValues("vehicleType"),K=j.getValues("fuelType");let Y=parseFloat(j.getValues("distance")||"0");if(!Y&&Y!==0&&(Y=350,j.setValue("distance",Y.toString()),n({title:"Distancia ajustada",description:"Se ha establecido una distancia predeterminada de 350 km para el clculo."})),!$||!K){n({title:"Datos incompletos",description:"Por favor, selecciona un tipo de vehculo y combustible antes de calcular.",variant:"destructive"});return}let Q=(U=JSt[$])==null?void 0:U[K];Q||(Q=.9,n({title:"Usando factor predeterminado",description:"Se ha usado un factor de emisin general para el clculo.",variant:"default"}));const H=Y*Q,G=H.toFixed(0);o(H),i(!0),n({title:"Clculo realizado",description:`Huella de carbono estimada: ${G} kg CO2e`})};function R($){let K="DUR";$&&($==="1"?K="DUR":$==="2"&&(K="ORS"));const Y=new Date,Q=Y.getFullYear().toString().substr(2,2),H=(Y.getMonth()+1).toString().padStart(2,"0"),G=Math.floor(Math.random()*1e4).toString().padStart(4,"0");return`${K}-${Q}${H}-${G}`}const D=()=>{let $=!0;if(l===1){const K=j.getValues("companyId"),Y=j.getValues("customerName"),Q=j.getValues("product"),H=j.getValues("quantity");(!K||!Y||!Q||!H)&&(n({title:"Campos incompletos",description:"Por favor, completa todos los campos obligatorios antes de continuar",variant:"destructive"}),$=!1)}else if(l===2){const K=j.getValues("origin"),Y=j.getValues("destination"),Q=j.getValues("departureDate"),H=j.getValues("estimatedDeliveryDate");j.getValues("carrier");const G=[];if((!K||K.trim().length<2)&&G.push("Origen"),(!Y||Y.trim().length<2)&&G.push("Destino"),Q||G.push("Fecha de salida"),H||G.push("Fecha estimada de entrega"),G.length>0&&(n({title:"Campos incompletos",description:`Completa: ${G.join(", ")}`,variant:"destructive"}),$=!1),Q&&H){const U=new Date(Q);new Date(H)<=U&&(n({title:"Error en fechas",description:"La fecha de entrega debe ser posterior a la fecha de salida",variant:"destructive"}),$=!1)}}else l===3&&(a||(n({title:"Clculo pendiente",description:"Por favor, calcula la huella de carbono antes de continuar",variant:"destructive"}),$=!1));$&&l<f&&c(l+1)},I=()=>{l>1&&c(l-1)},B=$=>{if(!a){n({title:"Huella de carbono",description:"Por favor, calcula la huella de carbono antes de crear el envo",variant:"default"});return}M.mutate($)};return g?s.jsx(Ro,{title:"Nuevo Envo",children:s.jsx("div",{className:"flex items-center justify-center min-h-[50vh]",children:s.jsx(sr,{className:"h-8 w-8 animate-spin text-primary"})})}):s.jsx(Ro,{title:"Nuevo Envo",children:s.jsxs("div",{className:"w-full max-w-4xl mx-auto px-4 sm:px-6",children:[s.jsx("div",{className:"flex items-center space-x-2 mb-4 sm:mb-6",children:s.jsxs(Oe,{variant:"outline",size:"sm",onClick:()=>t("/shipments"),children:[s.jsx(zd,{className:"mr-1 sm:mr-2 h-4 w-4"}),s.jsx("span",{className:"text-xs sm:text-sm",children:"Volver a Envos"})]})}),s.jsxs(Ue,{className:"shadow-lg",children:[s.jsxs(Vt,{className:"py-4 sm:py-6",children:[s.jsx(an,{className:"text-lg sm:text-xl",children:"Nuevo Envo"}),s.jsxs(fi,{className:"text-xs sm:text-sm",children:["Completa el formulario para crear un nuevo envo.",s.jsx("span",{className:"block mt-1 text-primary font-medium",children:"Responsable de Logstica: Thalia Rodriguez"})]})]}),s.jsxs(We,{className:"px-3 sm:px-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("div",{className:"flex justify-between",children:m.map(($,K)=>s.jsxs("div",{className:`flex flex-col items-center text-center flex-1 ${K>0?"ml-4":""}`,children:[s.jsx("div",{className:`flex items-center justify-center w-8 h-8 rounded-full mb-2 ${l>K+1?"bg-green-100 text-green-600 border border-green-600":l===K+1?"bg-primary text-white":"bg-gray-100 text-gray-400 border border-gray-300"}`,children:l>K+1?s.jsx(lf,{className:"h-5 w-5"}):s.jsx("span",{className:"text-sm font-semibold",children:K+1})}),s.jsx("span",{className:`text-xs sm:text-sm ${l===K+1?"font-semibold text-primary":"text-gray-500"}`,children:$})]},K))}),s.jsx("div",{className:"relative flex items-center mt-1",children:s.jsx("div",{className:"flex-grow border-t border-gray-300"})})]}),s.jsx(xp,{...j,children:s.jsxs("form",{onSubmit:j.handleSubmit(B),className:"space-y-6",children:[l===1&&s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsx(En,{control:j.control,name:"trackingCode",render:({field:$})=>s.jsxs(bn,{children:[s.jsx(wn,{children:"Cdigo de seguimiento"}),s.jsx(xn,{children:s.jsx(gt,{...$,readOnly:!0})}),s.jsx(jg,{children:"Cdigo generado automticamente"}),s.jsx(jn,{})]})}),s.jsx(En,{control:j.control,name:"companyId",render:({field:$})=>s.jsxs(bn,{children:[s.jsx(wn,{children:"Empresa"}),s.jsxs(An,{onValueChange:K=>{$.onChange(K),j.setValue("product","");const Y=R(K);j.setValue("trackingCode",Y),n({title:"Cdigo actualizado",description:`Se ha generado un nuevo cdigo de seguimiento: ${Y}`})},defaultValue:$.value,children:[s.jsx(xn,{children:s.jsx(Nn,{children:s.jsx(Tn,{placeholder:"Selecciona una empresa"})})}),s.jsx(_n,{children:(h==null?void 0:h.map(K=>s.jsx(at,{value:K.id.toString(),children:K.name},K.id)))||[]})]}),s.jsx(jn,{})]})}),s.jsx(En,{control:j.control,name:"customerName",render:({field:$})=>s.jsxs(bn,{children:[s.jsx(wn,{children:"Nombre del Cliente"}),s.jsx(xn,{children:s.jsx(gt,{...$,placeholder:"Nombre completo del cliente"})}),s.jsx(jn,{})]})}),s.jsx("div",{className:"col-span-2",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Productos"}),s.jsxs(Oe,{type:"button",variant:"outline",size:"sm",onClick:()=>d([...u,{product:"",quantity:"",unit:"KG",description:""}]),"data-testid":"button-add-product",children:[s.jsx(rc,{className:"h-4 w-4 mr-2"}),"Agregar Producto"]})]}),u.map(($,K)=>s.jsxs("div",{className:"border rounded-lg p-4 space-y-4 relative","data-testid":`product-item-${K}`,children:[u.length>1&&s.jsx(Oe,{type:"button",variant:"ghost",size:"sm",className:"absolute top-2 right-2",onClick:()=>{const Y=u.filter((Q,H)=>H!==K);d(Y)},"data-testid":`button-remove-product-${K}`,children:s.jsx(Ra,{className:"h-4 w-4"})}),s.jsxs("div",{className:"font-medium text-sm text-muted-foreground",children:["Producto ",K+1]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Nombre del Producto"}),_?k?s.jsx(gt,{placeholder:"Cargando productos...",disabled:!0}):P.length>0?s.jsxs(An,{value:$.product,onValueChange:Y=>{const Q=[...u];Q[K].product=Y,d(Q)},children:[s.jsx(Nn,{"data-testid":`select-product-${K}`,children:s.jsx(Tn,{placeholder:"Seleccione un producto"})}),s.jsx(_n,{children:P.map(Y=>s.jsx(at,{value:Y.name,children:Y.name},Y.id))})]}):s.jsx(gt,{value:$.product,onChange:Y=>{const Q=[...u];Q[K].product=Y.target.value,d(Q)},placeholder:"Escriba el nombre del producto","data-testid":`input-product-${K}`}):s.jsx(gt,{placeholder:"Primero selecciona una empresa",disabled:!0})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Cantidad"}),s.jsx(gt,{type:"text",value:$.quantity,onChange:Y=>{const Q=[...u];Q[K].quantity=Y.target.value,d(Q)},placeholder:"Ej: 5000","data-testid":`input-quantity-${K}`})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium",children:"Unidad"}),s.jsxs(An,{value:$.unit,onValueChange:Y=>{const Q=[...u];Q[K].unit=Y,d(Q)},children:[s.jsx(Nn,{"data-testid":`select-unit-${K}`,children:s.jsx(Tn,{})}),s.jsxs(_n,{children:[s.jsx(at,{value:"KG",children:"Kilogramos"}),s.jsx(at,{value:"L",children:"Litros"}),s.jsx(at,{value:"TON",children:"Toneladas"}),s.jsx(at,{value:"unidades",children:"Unidades"}),s.jsx(at,{value:"cajas",children:"Cajas"}),s.jsx(at,{value:"pallets",children:"Pallets"}),s.jsx(at,{value:"Full",children:"Full"}),s.jsx(at,{value:"Sencillo",children:"Sencillo"}),s.jsx(at,{value:"Pipa",children:"Pipa"})]})]})]})]})]})]},K))]})}),s.jsx(En,{control:j.control,name:"origin",render:({field:$})=>s.jsxs(bn,{children:[s.jsx(wn,{children:"Origen"}),s.jsx(uX,{placeholder:"Ej: Altamira, Nextipac, CDMX...",value:$.value,onChange:$.onChange,name:$.name,disabled:$.disabled}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Escribe cualquier ubicacin. Las sugerencias son opcionales."}),s.jsx(jn,{})]})}),s.jsx(En,{control:j.control,name:"destination",render:({field:$})=>s.jsxs(bn,{children:[s.jsx(wn,{children:"Destino"}),s.jsx(uX,{placeholder:"Ej: Altamira, Nextipac, CDMX...",value:$.value,onChange:$.onChange,name:$.name,disabled:$.disabled}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Escribe cualquier ubicacin. Las sugerencias son opcionales."}),s.jsx(jn,{})]})})]})}),l===2&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs(Hd,{className:"mb-4 bg-blue-50 border-blue-200",children:[s.jsx(U2,{className:"text-primary font-medium",children:"Informacin de Logstica"}),s.jsxs(Kd,{children:["La logstica de este envo est gestionada por ",s.jsx("span",{className:"font-medium",children:"Thalia Rodriguez"}),". Por favor, complete los datos de forma precisa para facilitar el seguimiento."]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsx(En,{control:j.control,name:"departureDate",render:({field:$})=>s.jsxs(bn,{children:[s.jsx(wn,{children:"Fecha de salida"}),s.jsx(xn,{children:s.jsx("div",{className:"flex",children:s.jsx(gt,{type:"date",...$})})}),s.jsx(jn,{})]})}),s.jsx(En,{control:j.control,name:"estimatedDeliveryDate",render:({field:$})=>s.jsxs(bn,{children:[s.jsx(wn,{children:"Fecha estimada de entrega"}),s.jsx(xn,{children:s.jsx("div",{className:"flex",children:s.jsx(gt,{type:"date",...$})})}),s.jsx(jn,{})]})}),s.jsx(En,{control:j.control,name:"carrier",render:({field:$})=>s.jsxs(bn,{children:[s.jsx(wn,{children:"Transportista"}),w?s.jsxs("div",{className:"space-y-2",children:[s.jsx(xn,{children:s.jsx(gt,{placeholder:"Cargando proveedores...",disabled:!0})}),s.jsx(jg,{children:"Obteniendo proveedores de transporte..."})]}):(x||[]).length>0?s.jsxs("div",{className:"space-y-2",children:[s.jsxs(An,{onValueChange:$.onChange,value:$.value||"",children:[s.jsx(xn,{children:s.jsx(Nn,{children:s.jsx(Tn,{placeholder:"Selecciona un proveedor de transporte"})})}),s.jsx(_n,{children:(x||[]).map(K=>s.jsx(at,{value:K.name,children:s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:K.name}),K.email&&s.jsx("div",{className:"text-xs text-muted-foreground",children:K.email})]})},K.id))})]}),s.jsxs(jg,{children:[(x||[]).length," proveedor(es) de transporte disponible(s)"]})]}):s.jsxs("div",{className:"space-y-2",children:[s.jsx(xn,{children:s.jsx(gt,{...$,value:$.value||"",placeholder:"Escriba el nombre del transportista (no hay proveedores registrados)"})}),s.jsx(jg,{children:"No hay proveedores registrados. Puede escribir el nombre manualmente."})]}),s.jsx(jn,{})]})}),s.jsx(En,{control:j.control,name:"vehicleInfo",render:({field:$})=>s.jsxs(bn,{children:[s.jsx(wn,{children:"Informacin del vehculo"}),s.jsx(xn,{children:s.jsx(gt,{...$,value:$.value||"",placeholder:"Ej: Cisterna C-3540"})}),s.jsx(jn,{})]})}),s.jsx(En,{control:j.control,name:"transportCost",render:({field:$})=>s.jsxs(bn,{children:[s.jsxs(wn,{children:["Costo de Transporte (MXN)",s.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),s.jsx(xn,{children:s.jsx(gt,{...$,type:"number",step:"0.01",min:"0",placeholder:"Ej: 1500.00",value:$.value||"",onChange:K=>$.onChange(K.target.value?parseFloat(K.target.value):"")})}),s.jsx(jg,{children:"Ingrese el costo total de transporte en pesos mexicanos"}),s.jsx(jn,{})]})})]})]}),l===3&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsx(En,{control:j.control,name:"vehicleType",render:({field:$})=>s.jsxs(bn,{children:[s.jsx(wn,{children:"Tipo de vehculo"}),s.jsxs(An,{onValueChange:$.onChange,defaultValue:$.value,children:[s.jsx(xn,{children:s.jsx(Nn,{children:s.jsx(Tn,{placeholder:"Selecciona un tipo de vehculo"})})}),s.jsxs(_n,{children:[s.jsx(at,{value:"Camin",children:"Camin"}),s.jsx(at,{value:"Camin refrigerado",children:"Camin refrigerado"}),s.jsx(at,{value:"Cisterna",children:"Cisterna"}),s.jsx(at,{value:"Trailer",children:"Trailer"}),s.jsx(at,{value:"Tanque",children:"Tanque"})]})]}),s.jsx(jn,{})]})}),s.jsx(En,{control:j.control,name:"fuelType",render:({field:$})=>s.jsxs(bn,{children:[s.jsx(wn,{children:"Tipo de combustible"}),s.jsxs(An,{onValueChange:$.onChange,defaultValue:$.value,children:[s.jsx(xn,{children:s.jsx(Nn,{children:s.jsx(Tn,{placeholder:"Selecciona un tipo de combustible"})})}),s.jsxs(_n,{children:[s.jsx(at,{value:"Diesel",children:"Diesel"}),s.jsx(at,{value:"Gasolina",children:"Gasolina"}),s.jsx(at,{value:"GNC",children:"Gas Natural Comprimido"}),s.jsx(at,{value:"Elctrico",children:"Elctrico"})]})]}),s.jsx(jn,{})]})}),s.jsx(En,{control:j.control,name:"distance",render:({field:$})=>s.jsxs(bn,{children:[s.jsx(wn,{children:"Distancia (km)"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(xn,{className:"flex-1",children:s.jsx(gt,{...$,type:"number",placeholder:"Calculado automticamente desde origen y destino",min:"1"})}),s.jsx(Oe,{type:"button",variant:"outline",size:"icon",onClick:()=>{const K=j.getValues("origin"),Y=j.getValues("destination");if(K&&Y){const Q=nX(K,Y);Q?(j.setValue("distance",Q.toString()),n({title:"Distancia recalculada",description:`Se ha calculado una distancia de ${Q} km entre origen y destino.`})):n({title:"No se pudo calcular la distancia",description:"Asegrate de que los campos de origen y destino contengan cdigos postales vlidos.",variant:"destructive"})}else n({title:"Datos incompletos",description:"Debes seleccionar un origen y un destino para calcular la distancia.",variant:"destructive"})},title:"Recalcular distancia",children:s.jsx(fT,{className:"h-4 w-4"})})]}),s.jsx(jg,{children:"Se calcula automticamente a partir del origen y destino seleccionados"}),s.jsx(jn,{})]})})]}),s.jsx("div",{className:"flex justify-center mt-4",children:s.jsxs(Oe,{type:"button",onClick:T,className:"bg-primary text-white flex items-center gap-2",children:[s.jsx(fT,{className:"h-4 w-4"}),"Calcular huella de carbono"]})}),r&&a&&s.jsxs(Hd,{className:"mt-4 bg-green-50 border-green-200",children:[s.jsx(fT,{className:"h-4 w-4 text-green-600"}),s.jsx(U2,{className:"text-green-700 text-sm",children:"Huella de carbono calculada"}),s.jsxs(Kd,{className:"text-green-700 text-xs sm:text-sm",children:["Se estima que este envo generar aproximadamente ",s.jsxs("span",{className:"font-bold",children:[a?a.toFixed(0):"0"," kg de CO2e"]}),"."]})]})]}),l===4&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsx(En,{control:j.control,name:"customerEmail",render:({field:$})=>s.jsxs(bn,{children:[s.jsx(wn,{children:"Email del cliente"}),s.jsx(xn,{children:s.jsx(gt,{type:"email",placeholder:"correo@ejemplo.com",className:"w-full",...$,value:$.value||""})}),s.jsx(jn,{})]})}),s.jsx(En,{control:j.control,name:"customerPhone",render:({field:$})=>s.jsxs(bn,{children:[s.jsx(wn,{children:"Telfono del cliente"}),s.jsx(xn,{children:s.jsx(gt,{placeholder:"Nmero de telfono",className:"w-full",...$,value:$.value||""})}),s.jsx(jn,{})]})})]}),s.jsx(En,{control:j.control,name:"comments",render:({field:$})=>s.jsxs(bn,{children:[s.jsx(wn,{children:"Comentarios adicionales"}),s.jsx(xn,{children:s.jsx(nu,{placeholder:"Ingrese cualquier informacin adicional relevante para este envo",className:"w-full min-h-[120px]",...$,value:$.value||""})}),s.jsx(jn,{})]})})]}),s.jsxs("div",{className:"flex justify-between pt-6",children:[s.jsx(Oe,{type:"button",variant:"outline",onClick:()=>t("/shipments"),className:"text-xs sm:text-sm",children:"Cancelar"}),s.jsxs("div",{className:"flex space-x-2",children:[l>1&&s.jsxs(Oe,{type:"button",variant:"secondary",onClick:I,className:"text-xs sm:text-sm flex items-center",children:[s.jsx(iie,{className:"h-4 w-4 mr-1"}),"Anterior"]}),l<f?s.jsxs(Oe,{type:"button",onClick:D,className:"text-xs sm:text-sm bg-primary text-white flex items-center",children:["Siguiente",s.jsx(Iy,{className:"h-4 w-4 ml-1"})]}):s.jsx(Oe,{type:"submit",className:"text-xs sm:text-sm bg-primary text-white",disabled:M.isPending,children:M.isPending?s.jsxs(s.Fragment,{children:[s.jsx(sr,{className:"mr-2 h-4 w-4 animate-spin"}),"Guardando..."]}):"Crear Envo"})]})]})]})})]})]})]})})}const hA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function gb(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function p7(e){return"nodeType"in e}function Qo(e){var t,n;return e?gb(e)?e:p7(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function g7(e){const{Document:t}=Qo(e);return e instanceof t}function nN(e){return gb(e)?!1:e instanceof Qo(e).HTMLElement}function A0e(e){return e instanceof Qo(e).SVGElement}function vb(e){return e?gb(e)?e.document:p7(e)?g7(e)?e:nN(e)||A0e(e)?e.ownerDocument:document:document:document}const Mh=hA?b.useLayoutEffect:b.useEffect;function mA(e){const t=b.useRef(e);return Mh(()=>{t.current=e}),b.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current==null?void 0:t.current(...r)},[])}function n5t(){const e=b.useRef(null),t=b.useCallback((r,i)=>{e.current=setInterval(r,i)},[]),n=b.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function fC(e,t){t===void 0&&(t=[e]);const n=b.useRef(e);return Mh(()=>{n.current!==e&&(n.current=e)},t),n}function rN(e,t){const n=b.useRef();return b.useMemo(()=>{const r=e(n.current);return n.current=r,r},[...t])}function T0e(e){const t=mA(e),n=b.useRef(null),r=b.useCallback(i=>{i!==n.current&&(t==null||t(i,n.current)),n.current=i},[]);return[n,r]}function hC(e){const t=b.useRef();return b.useEffect(()=>{t.current=e},[e]),t.current}let MO={};function pA(e,t){return b.useMemo(()=>{if(t)return t;const n=MO[e]==null?0:MO[e]+1;return MO[e]=n,e+"-"+n},[e,t])}function O0e(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.reduce((a,o)=>{const l=Object.entries(o);for(const[c,u]of l){const d=a[c];d!=null&&(a[c]=d+e*u)}return a},{...t})}}const Sy=O0e(1),rj=O0e(-1);function r5t(e){return"clientX"in e&&"clientY"in e}function v7(e){if(!e)return!1;const{KeyboardEvent:t}=Qo(e.target);return t&&e instanceof t}function i5t(e){if(!e)return!1;const{TouchEvent:t}=Qo(e.target);return t&&e instanceof t}function mC(e){if(i5t(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return r5t(e)?{x:e.clientX,y:e.clientY}:null}const ij=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[ij.Translate.toString(e),ij.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),dX="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function a5t(e){return e.matches(dX)?e:e.querySelector(dX)}const s5t={display:"none"};function o5t(e){let{id:t,value:n}=e;return E.createElement("div",{id:t,style:s5t},n)}function l5t(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;const i={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return E.createElement("div",{id:t,style:i,role:"status","aria-live":r,"aria-atomic":!0},n)}function c5t(){const[e,t]=b.useState("");return{announce:b.useCallback(r=>{r!=null&&t(r)},[]),announcement:e}}const L0e=b.createContext(null);function u5t(e){const t=b.useContext(L0e);b.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function d5t(){const[e]=b.useState(()=>new Set),t=b.useCallback(r=>(e.add(r),()=>e.delete(r)),[e]);return[b.useCallback(r=>{let{type:i,event:a}=r;e.forEach(o=>{var l;return(l=o[i])==null?void 0:l.call(o,a)})},[e]),t]}const f5t={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},h5t={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function m5t(e){let{announcements:t=h5t,container:n,hiddenTextDescribedById:r,screenReaderInstructions:i=f5t}=e;const{announce:a,announcement:o}=c5t(),l=pA("DndLiveRegion"),[c,u]=b.useState(!1);if(b.useEffect(()=>{u(!0)},[]),u5t(b.useMemo(()=>({onDragStart(f){let{active:m}=f;a(t.onDragStart({active:m}))},onDragMove(f){let{active:m,over:h}=f;t.onDragMove&&a(t.onDragMove({active:m,over:h}))},onDragOver(f){let{active:m,over:h}=f;a(t.onDragOver({active:m,over:h}))},onDragEnd(f){let{active:m,over:h}=f;a(t.onDragEnd({active:m,over:h}))},onDragCancel(f){let{active:m,over:h}=f;a(t.onDragCancel({active:m,over:h}))}}),[a,t])),!c)return null;const d=E.createElement(E.Fragment,null,E.createElement(o5t,{id:r,value:i.draggable}),E.createElement(l5t,{id:l,announcement:o}));return n?Er.createPortal(d,n):d}var ls;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(ls||(ls={}));function pC(){}function fX(e,t){return b.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function p5t(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return b.useMemo(()=>[...t].filter(r=>r!=null),[...t])}const cd=Object.freeze({x:0,y:0});function g5t(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function v5t(e,t){const n=mC(e);if(!n)return"0 0";const r={x:(n.x-t.left)/t.width*100,y:(n.y-t.top)/t.height*100};return r.x+"% "+r.y+"%"}function x5t(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function y5t(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function hX(e){let{left:t,top:n,height:r,width:i}=e;return[{x:t,y:n},{x:t+i,y:n},{x:t,y:n+r},{x:t+i,y:n+r}]}function M0e(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}const I0e=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const i=hX(t),a=[];for(const o of r){const{id:l}=o,c=n.get(l);if(c){const u=hX(c),d=i.reduce((m,h,g)=>m+g5t(u[g],h),0),f=Number((d/4).toFixed(4));a.push({id:l,data:{droppableContainer:o,value:f}})}}return a.sort(x5t)};function b5t(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),i=Math.min(t.left+t.width,e.left+e.width),a=Math.min(t.top+t.height,e.top+e.height),o=i-r,l=a-n;if(r<i&&n<a){const c=t.width*t.height,u=e.width*e.height,d=o*l,f=d/(c+u-d);return Number(f.toFixed(4))}return 0}const w5t=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const i=[];for(const a of r){const{id:o}=a,l=n.get(o);if(l){const c=b5t(l,t);c>0&&i.push({id:o,data:{droppableContainer:a,value:c}})}}return i.sort(y5t)};function j5t(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function D0e(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:cd}function N5t(e){return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return i.reduce((o,l)=>({...o,top:o.top+e*l.y,bottom:o.bottom+e*l.y,left:o.left+e*l.x,right:o.right+e*l.x}),{...n})}}const _5t=N5t(1);function R0e(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function S5t(e,t,n){const r=R0e(t);if(!r)return e;const{scaleX:i,scaleY:a,x:o,y:l}=r,c=e.left-o-(1-i)*parseFloat(n),u=e.top-l-(1-a)*parseFloat(n.slice(n.indexOf(" ")+1)),d=i?e.width/i:e.width,f=a?e.height/a:e.height;return{width:d,height:f,top:u,right:c+d,bottom:u+f,left:c}}const k5t={ignoreTransform:!1};function iN(e,t){t===void 0&&(t=k5t);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:u,transformOrigin:d}=Qo(e).getComputedStyle(e);u&&(n=S5t(n,u,d))}const{top:r,left:i,width:a,height:o,bottom:l,right:c}=n;return{top:r,left:i,width:a,height:o,bottom:l,right:c}}function mX(e){return iN(e,{ignoreTransform:!0})}function C5t(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function E5t(e,t){return t===void 0&&(t=Qo(e).getComputedStyle(e)),t.position==="fixed"}function P5t(e,t){t===void 0&&(t=Qo(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const a=t[i];return typeof a=="string"?n.test(a):!1})}function gA(e,t){const n=[];function r(i){if(t!=null&&n.length>=t||!i)return n;if(g7(i)&&i.scrollingElement!=null&&!n.includes(i.scrollingElement))return n.push(i.scrollingElement),n;if(!nN(i)||A0e(i)||n.includes(i))return n;const a=Qo(e).getComputedStyle(i);return i!==e&&P5t(i,a)&&n.push(i),E5t(i,a)?n:r(i.parentNode)}return e?r(e):n}function $0e(e){const[t]=gA(e,1);return t??null}function IO(e){return!hA||!e?null:gb(e)?e:p7(e)?g7(e)||e===vb(e).scrollingElement?window:nN(e)?e:null:null}function F0e(e){return gb(e)?e.scrollX:e.scrollLeft}function B0e(e){return gb(e)?e.scrollY:e.scrollTop}function vD(e){return{x:F0e(e),y:B0e(e)}}var js;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(js||(js={}));function z0e(e){return!hA||!e?!1:e===document.scrollingElement}function V0e(e){const t={x:0,y:0},n=z0e(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},i=e.scrollTop<=t.y,a=e.scrollLeft<=t.x,o=e.scrollTop>=r.y,l=e.scrollLeft>=r.x;return{isTop:i,isLeft:a,isBottom:o,isRight:l,maxScroll:r,minScroll:t}}const A5t={x:.2,y:.2};function T5t(e,t,n,r,i){let{top:a,left:o,right:l,bottom:c}=n;r===void 0&&(r=10),i===void 0&&(i=A5t);const{isTop:u,isBottom:d,isLeft:f,isRight:m}=V0e(e),h={x:0,y:0},g={x:0,y:0},y={height:t.height*i.y,width:t.width*i.x};return!u&&a<=t.top+y.height?(h.y=js.Backward,g.y=r*Math.abs((t.top+y.height-a)/y.height)):!d&&c>=t.bottom-y.height&&(h.y=js.Forward,g.y=r*Math.abs((t.bottom-y.height-c)/y.height)),!m&&l>=t.right-y.width?(h.x=js.Forward,g.x=r*Math.abs((t.right-y.width-l)/y.width)):!f&&o<=t.left+y.width&&(h.x=js.Backward,g.x=r*Math.abs((t.left+y.width-o)/y.width)),{direction:h,speed:g}}function O5t(e){if(e===document.scrollingElement){const{innerWidth:a,innerHeight:o}=window;return{top:0,left:0,right:a,bottom:o,width:a,height:o}}const{top:t,left:n,right:r,bottom:i}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:i,width:e.clientWidth,height:e.clientHeight}}function q0e(e){return e.reduce((t,n)=>Sy(t,vD(n)),cd)}function L5t(e){return e.reduce((t,n)=>t+F0e(n),0)}function M5t(e){return e.reduce((t,n)=>t+B0e(n),0)}function U0e(e,t){if(t===void 0&&(t=iN),!e)return;const{top:n,left:r,bottom:i,right:a}=t(e);$0e(e)&&(i<=0||a<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const I5t=[["x",["left","right"],L5t],["y",["top","bottom"],M5t]];class x7{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=gA(n),i=q0e(r);this.rect={...t},this.width=t.width,this.height=t.height;for(const[a,o,l]of I5t)for(const c of o)Object.defineProperty(this,c,{get:()=>{const u=l(r),d=i[a]-u;return this.rect[c]+d},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class fw{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=t}add(t,n,r){var i;(i=this.target)==null||i.addEventListener(t,n,r),this.listeners.push([t,n,r])}}function D5t(e){const{EventTarget:t}=Qo(e);return e instanceof t?e:vb(e)}function DO(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var Uc;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(Uc||(Uc={}));function pX(e){e.preventDefault()}function R5t(e){e.stopPropagation()}var gr;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(gr||(gr={}));const W0e={start:[gr.Space,gr.Enter],cancel:[gr.Esc],end:[gr.Space,gr.Enter,gr.Tab]},$5t=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case gr.Right:return{...n,x:n.x+25};case gr.Left:return{...n,x:n.x-25};case gr.Down:return{...n,y:n.y+25};case gr.Up:return{...n,y:n.y-25}}};class y7{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new fw(vb(n)),this.windowListeners=new fw(Qo(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Uc.Resize,this.handleCancel),this.windowListeners.add(Uc.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Uc.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,r=t.node.current;r&&U0e(r),n(cd)}handleKeyDown(t){if(v7(t)){const{active:n,context:r,options:i}=this.props,{keyboardCodes:a=W0e,coordinateGetter:o=$5t,scrollBehavior:l="smooth"}=i,{code:c}=t;if(a.end.includes(c)){this.handleEnd(t);return}if(a.cancel.includes(c)){this.handleCancel(t);return}const{collisionRect:u}=r.current,d=u?{x:u.left,y:u.top}:cd;this.referenceCoordinates||(this.referenceCoordinates=d);const f=o(t,{active:n,context:r.current,currentCoordinates:d});if(f){const m=rj(f,d),h={x:0,y:0},{scrollableAncestors:g}=r.current;for(const y of g){const v=t.code,{isTop:x,isRight:w,isLeft:j,isBottom:_,maxScroll:S,minScroll:k}=V0e(y),P=O5t(y),M={x:Math.min(v===gr.Right?P.right-P.width/2:P.right,Math.max(v===gr.Right?P.left:P.left+P.width/2,f.x)),y:Math.min(v===gr.Down?P.bottom-P.height/2:P.bottom,Math.max(v===gr.Down?P.top:P.top+P.height/2,f.y))},T=v===gr.Right&&!w||v===gr.Left&&!j,R=v===gr.Down&&!_||v===gr.Up&&!x;if(T&&M.x!==f.x){const D=y.scrollLeft+m.x,I=v===gr.Right&&D<=S.x||v===gr.Left&&D>=k.x;if(I&&!m.y){y.scrollTo({left:D,behavior:l});return}I?h.x=y.scrollLeft-D:h.x=v===gr.Right?y.scrollLeft-S.x:y.scrollLeft-k.x,h.x&&y.scrollBy({left:-h.x,behavior:l});break}else if(R&&M.y!==f.y){const D=y.scrollTop+m.y,I=v===gr.Down&&D<=S.y||v===gr.Up&&D>=k.y;if(I&&!m.x){y.scrollTo({top:D,behavior:l});return}I?h.y=y.scrollTop-D:h.y=v===gr.Down?y.scrollTop-S.y:y.scrollTop-k.y,h.y&&y.scrollBy({top:-h.y,behavior:l});break}}this.handleMove(t,Sy(rj(f,this.referenceCoordinates),h))}}}handleMove(t,n){const{onMove:r}=this.props;t.preventDefault(),r(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}y7.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=W0e,onActivation:i}=t,{active:a}=n;const{code:o}=e.nativeEvent;if(r.start.includes(o)){const l=a.activatorNode.current;return l&&e.target!==l?!1:(e.preventDefault(),i==null||i({event:e.nativeEvent}),!0)}return!1}}];function gX(e){return!!(e&&"distance"in e)}function vX(e){return!!(e&&"delay"in e)}class b7{constructor(t,n,r){var i;r===void 0&&(r=D5t(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:a}=t,{target:o}=a;this.props=t,this.events=n,this.document=vb(o),this.documentListeners=new fw(this.document),this.listeners=new fw(r),this.windowListeners=new fw(Qo(o)),this.initialCoordinates=(i=mC(a))!=null?i:cd,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(Uc.Resize,this.handleCancel),this.windowListeners.add(Uc.DragStart,pX),this.windowListeners.add(Uc.VisibilityChange,this.handleCancel),this.windowListeners.add(Uc.ContextMenu,pX),this.documentListeners.add(Uc.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(vX(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(gX(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:r,onPending:i}=this.props;i(r,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(Uc.Click,R5t,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Uc.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:r,initialCoordinates:i,props:a}=this,{onMove:o,options:{activationConstraint:l}}=a;if(!i)return;const c=(n=mC(t))!=null?n:cd,u=rj(i,c);if(!r&&l){if(gX(l)){if(l.tolerance!=null&&DO(u,l.tolerance))return this.handleCancel();if(DO(u,l.distance))return this.handleStart()}if(vX(l)&&DO(u,l.tolerance))return this.handleCancel();this.handlePending(l,u);return}t.cancelable&&t.preventDefault(),o(c)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===gr.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const F5t={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class w7 extends b7{constructor(t){const{event:n}=t,r=vb(n.target);super(t,F5t,r)}}w7.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const B5t={move:{name:"mousemove"},end:{name:"mouseup"}};var xD;(function(e){e[e.RightClick=2]="RightClick"})(xD||(xD={}));class z5t extends b7{constructor(t){super(t,B5t,vb(t.event.target))}}z5t.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===xD.RightClick?!1:(r==null||r({event:n}),!0)}}];const RO={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class V5t extends b7{constructor(t){super(t,RO)}static setup(){return window.addEventListener(RO.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(RO.move.name,t)};function t(){}}}V5t.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:i}=n;return i.length>1?!1:(r==null||r({event:n}),!0)}}];var hw;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(hw||(hw={}));var gC;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(gC||(gC={}));function q5t(e){let{acceleration:t,activator:n=hw.Pointer,canScroll:r,draggingRect:i,enabled:a,interval:o=5,order:l=gC.TreeOrder,pointerCoordinates:c,scrollableAncestors:u,scrollableAncestorRects:d,delta:f,threshold:m}=e;const h=W5t({delta:f,disabled:!a}),[g,y]=n5t(),v=b.useRef({x:0,y:0}),x=b.useRef({x:0,y:0}),w=b.useMemo(()=>{switch(n){case hw.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case hw.DraggableRect:return i}},[n,i,c]),j=b.useRef(null),_=b.useCallback(()=>{const k=j.current;if(!k)return;const P=v.current.x*x.current.x,M=v.current.y*x.current.y;k.scrollBy(P,M)},[]),S=b.useMemo(()=>l===gC.TreeOrder?[...u].reverse():u,[l,u]);b.useEffect(()=>{if(!a||!u.length||!w){y();return}for(const k of S){if((r==null?void 0:r(k))===!1)continue;const P=u.indexOf(k),M=d[P];if(!M)continue;const{direction:T,speed:R}=T5t(k,M,w,t,m);for(const D of["x","y"])h[D][T[D]]||(R[D]=0,T[D]=0);if(R.x>0||R.y>0){y(),j.current=k,g(_,o),v.current=R,x.current=T;return}}v.current={x:0,y:0},x.current={x:0,y:0},y()},[t,_,r,y,a,o,JSON.stringify(w),JSON.stringify(h),g,u,S,d,JSON.stringify(m)])}const U5t={x:{[js.Backward]:!1,[js.Forward]:!1},y:{[js.Backward]:!1,[js.Forward]:!1}};function W5t(e){let{delta:t,disabled:n}=e;const r=hC(t);return rN(i=>{if(n||!r||!i)return U5t;const a={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[js.Backward]:i.x[js.Backward]||a.x===-1,[js.Forward]:i.x[js.Forward]||a.x===1},y:{[js.Backward]:i.y[js.Backward]||a.y===-1,[js.Forward]:i.y[js.Forward]||a.y===1}}},[n,t,r])}function H5t(e,t){const n=t!=null?e.get(t):void 0,r=n?n.node.current:null;return rN(i=>{var a;return t==null?null:(a=r??i)!=null?a:null},[r,t])}function K5t(e,t){return b.useMemo(()=>e.reduce((n,r)=>{const{sensor:i}=r,a=i.activators.map(o=>({eventName:o.eventName,handler:t(o.handler,r)}));return[...n,...a]},[]),[e,t])}var aj;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(aj||(aj={}));var yD;(function(e){e.Optimized="optimized"})(yD||(yD={}));const xX=new Map;function G5t(e,t){let{dragging:n,dependencies:r,config:i}=t;const[a,o]=b.useState(null),{frequency:l,measure:c,strategy:u}=i,d=b.useRef(e),f=v(),m=fC(f),h=b.useCallback(function(x){x===void 0&&(x=[]),!m.current&&o(w=>w===null?x:w.concat(x.filter(j=>!w.includes(j))))},[m]),g=b.useRef(null),y=rN(x=>{if(f&&!n)return xX;if(!x||x===xX||d.current!==e||a!=null){const w=new Map;for(let j of e){if(!j)continue;if(a&&a.length>0&&!a.includes(j.id)&&j.rect.current){w.set(j.id,j.rect.current);continue}const _=j.node.current,S=_?new x7(c(_),_):null;j.rect.current=S,S&&w.set(j.id,S)}return w}return x},[e,a,n,f,c]);return b.useEffect(()=>{d.current=e},[e]),b.useEffect(()=>{f||h()},[n,f]),b.useEffect(()=>{a&&a.length>0&&o(null)},[JSON.stringify(a)]),b.useEffect(()=>{f||typeof l!="number"||g.current!==null||(g.current=setTimeout(()=>{h(),g.current=null},l))},[l,f,h,...r]),{droppableRects:y,measureDroppableContainers:h,measuringScheduled:a!=null};function v(){switch(u){case aj.Always:return!1;case aj.BeforeDragging:return n;default:return!n}}}function j7(e,t){return rN(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function Y5t(e,t){return j7(e,t)}function X5t(e){let{callback:t,disabled:n}=e;const r=mA(t),i=b.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:a}=window;return new a(r)},[r,n]);return b.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function vA(e){let{callback:t,disabled:n}=e;const r=mA(t),i=b.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:a}=window;return new a(r)},[n]);return b.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function Z5t(e){return new x7(iN(e),e)}function yX(e,t,n){t===void 0&&(t=Z5t);const[r,i]=b.useState(null);function a(){i(c=>{if(!e)return null;if(e.isConnected===!1){var u;return(u=c??n)!=null?u:null}const d=t(e);return JSON.stringify(c)===JSON.stringify(d)?c:d})}const o=X5t({callback(c){if(e)for(const u of c){const{type:d,target:f}=u;if(d==="childList"&&f instanceof HTMLElement&&f.contains(e)){a();break}}}}),l=vA({callback:a});return Mh(()=>{a(),e?(l==null||l.observe(e),o==null||o.observe(document.body,{childList:!0,subtree:!0})):(l==null||l.disconnect(),o==null||o.disconnect())},[e]),r}function Q5t(e){const t=j7(e);return D0e(e,t)}const bX=[];function J5t(e){const t=b.useRef(e),n=rN(r=>e?r&&r!==bX&&e&&t.current&&e.parentNode===t.current.parentNode?r:gA(e):bX,[e]);return b.useEffect(()=>{t.current=e},[e]),n}function ekt(e){const[t,n]=b.useState(null),r=b.useRef(e),i=b.useCallback(a=>{const o=IO(a.target);o&&n(l=>l?(l.set(o,vD(o)),new Map(l)):null)},[]);return b.useEffect(()=>{const a=r.current;if(e!==a){o(a);const l=e.map(c=>{const u=IO(c);return u?(u.addEventListener("scroll",i,{passive:!0}),[u,vD(u)]):null}).filter(c=>c!=null);n(l.length?new Map(l):null),r.current=e}return()=>{o(e),o(a)};function o(l){l.forEach(c=>{const u=IO(c);u==null||u.removeEventListener("scroll",i)})}},[i,e]),b.useMemo(()=>e.length?t?Array.from(t.values()).reduce((a,o)=>Sy(a,o),cd):q0e(e):cd,[e,t])}function wX(e,t){t===void 0&&(t=[]);const n=b.useRef(null);return b.useEffect(()=>{n.current=null},t),b.useEffect(()=>{const r=e!==cd;r&&!n.current&&(n.current=e),!r&&n.current&&(n.current=null)},[e]),n.current?rj(e,n.current):cd}function tkt(e){b.useEffect(()=>{if(!hA)return;const t=e.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function H0e(e){return b.useMemo(()=>e?C5t(e):null,[e])}const jX=[];function nkt(e,t){t===void 0&&(t=iN);const[n]=e,r=H0e(n?Qo(n):null),[i,a]=b.useState(jX);function o(){a(()=>e.length?e.map(c=>z0e(c)?r:new x7(t(c),c)):jX)}const l=vA({callback:o});return Mh(()=>{l==null||l.disconnect(),o(),e.forEach(c=>l==null?void 0:l.observe(c))},[e]),i}function K0e(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return nN(t)?t:e}function rkt(e){let{measure:t}=e;const[n,r]=b.useState(null),i=b.useCallback(u=>{for(const{target:d}of u)if(nN(d)){r(f=>{const m=t(d);return f?{...f,width:m.width,height:m.height}:m});break}},[t]),a=vA({callback:i}),o=b.useCallback(u=>{const d=K0e(u);a==null||a.disconnect(),d&&(a==null||a.observe(d)),r(d?t(d):null)},[t,a]),[l,c]=T0e(o);return b.useMemo(()=>({nodeRef:l,rect:n,setRef:c}),[n,l,c])}const ikt=[{sensor:w7,options:{}},{sensor:y7,options:{}}],akt={current:{}},kS={draggable:{measure:mX},droppable:{measure:mX,strategy:aj.WhileDragging,frequency:yD.Optimized},dragOverlay:{measure:iN}};class mw extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}}const skt={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new mw,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:pC},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:kS,measureDroppableContainers:pC,windowRect:null,measuringScheduled:!1},G0e={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:pC,draggableNodes:new Map,over:null,measureDroppableContainers:pC},xA=b.createContext(G0e),Y0e=b.createContext(skt);function okt(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new mw}}}function lkt(e,t){switch(t.type){case ls.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case ls.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case ls.DragEnd:case ls.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case ls.RegisterDroppable:{const{element:n}=t,{id:r}=n,i=new mw(e.droppable.containers);return i.set(r,n),{...e,droppable:{...e.droppable,containers:i}}}case ls.SetDroppableDisabled:{const{id:n,key:r,disabled:i}=t,a=e.droppable.containers.get(n);if(!a||r!==a.key)return e;const o=new mw(e.droppable.containers);return o.set(n,{...a,disabled:i}),{...e,droppable:{...e.droppable,containers:o}}}case ls.UnregisterDroppable:{const{id:n,key:r}=t,i=e.droppable.containers.get(n);if(!i||r!==i.key)return e;const a=new mw(e.droppable.containers);return a.delete(n),{...e,droppable:{...e.droppable,containers:a}}}default:return e}}function ckt(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:i}=b.useContext(xA),a=hC(r),o=hC(n==null?void 0:n.id);return b.useEffect(()=>{if(!t&&!r&&a&&o!=null){if(!v7(a)||document.activeElement===a.target)return;const l=i.get(o);if(!l)return;const{activatorNode:c,node:u}=l;if(!c.current&&!u.current)return;requestAnimationFrame(()=>{for(const d of[c.current,u.current]){if(!d)continue;const f=a5t(d);if(f){f.focus();break}}})}},[r,t,i,o,a]),null}function X0e(e,t){let{transform:n,...r}=t;return e!=null&&e.length?e.reduce((i,a)=>a({transform:i,...r}),n):n}function ukt(e){return b.useMemo(()=>({draggable:{...kS.draggable,...e==null?void 0:e.draggable},droppable:{...kS.droppable,...e==null?void 0:e.droppable},dragOverlay:{...kS.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function dkt(e){let{activeNode:t,measure:n,initialRect:r,config:i=!0}=e;const a=b.useRef(!1),{x:o,y:l}=typeof i=="boolean"?{x:i,y:i}:i;Mh(()=>{if(!o&&!l||!t){a.current=!1;return}if(a.current||!r)return;const u=t==null?void 0:t.node.current;if(!u||u.isConnected===!1)return;const d=n(u),f=D0e(d,r);if(o||(f.x=0),l||(f.y=0),a.current=!0,Math.abs(f.x)>0||Math.abs(f.y)>0){const m=$0e(u);m&&m.scrollBy({top:f.y,left:f.x})}},[t,o,l,r,n])}const N7=b.createContext({...cd,scaleX:1,scaleY:1});var Pm;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(Pm||(Pm={}));const fkt=b.memo(function(t){var n,r,i,a;let{id:o,accessibility:l,autoScroll:c=!0,children:u,sensors:d=ikt,collisionDetection:f=w5t,measuring:m,modifiers:h,...g}=t;const y=b.useReducer(lkt,void 0,okt),[v,x]=y,[w,j]=d5t(),[_,S]=b.useState(Pm.Uninitialized),k=_===Pm.Initialized,{draggable:{active:P,nodes:M,translate:T},droppable:{containers:R}}=v,D=P!=null?M.get(P):null,I=b.useRef({initial:null,translated:null}),B=b.useMemo(()=>{var Jt;return P!=null?{id:P,data:(Jt=D==null?void 0:D.data)!=null?Jt:akt,rect:I}:null},[P,D]),$=b.useRef(null),[K,Y]=b.useState(null),[Q,H]=b.useState(null),G=fC(g,Object.values(g)),U=pA("DndDescribedBy",o),ee=b.useMemo(()=>R.getEnabled(),[R]),z=ukt(m),{droppableRects:F,measureDroppableContainers:ie,measuringScheduled:ce}=G5t(ee,{dragging:k,dependencies:[T.x,T.y],config:z.droppable}),te=H5t(M,P),oe=b.useMemo(()=>Q?mC(Q):null,[Q]),ve=Ur(),ne=Y5t(te,z.draggable.measure);dkt({activeNode:P!=null?M.get(P):null,config:ve.layoutShiftCompensation,initialRect:ne,measure:z.draggable.measure});const xe=yX(te,z.draggable.measure,ne),ue=yX(te?te.parentElement:null),re=b.useRef({activatorEvent:null,active:null,activeNode:te,collisionRect:null,collisions:null,droppableRects:F,draggableNodes:M,draggingNode:null,draggingNodeRect:null,droppableContainers:R,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Se=R.getNodeFor((n=re.current.over)==null?void 0:n.id),ae=rkt({measure:z.dragOverlay.measure}),X=(r=ae.nodeRef.current)!=null?r:te,Ae=k?(i=ae.rect)!=null?i:xe:null,qe=!!(ae.nodeRef.current&&ae.rect),tt=Q5t(qe?null:xe),ze=H0e(X?Qo(X):null),lt=J5t(k?Se??te:null),me=nkt(lt),_e=X0e(h,{transform:{x:T.x-tt.x,y:T.y-tt.y,scaleX:1,scaleY:1},activatorEvent:Q,active:B,activeNodeRect:xe,containerNodeRect:ue,draggingNodeRect:Ae,over:re.current.over,overlayNodeRect:ae.rect,scrollableAncestors:lt,scrollableAncestorRects:me,windowRect:ze}),Ce=oe?Sy(oe,T):null,Xe=ekt(lt),He=wX(Xe),we=wX(Xe,[xe]),Me=Sy(_e,He),et=Ae?_5t(Ae,_e):null,Ge=B&&et?f({active:B,collisionRect:et,droppableRects:F,droppableContainers:ee,pointerCoordinates:Ce}):null,wt=M0e(Ge,"id"),[kt,Bn]=b.useState(null),pn=qe?_e:Sy(_e,we),cn=j5t(pn,(a=kt==null?void 0:kt.rect)!=null?a:null,xe),on=b.useRef(null),Dn=b.useCallback((Jt,Ft)=>{let{sensor:Mn,options:ps}=Ft;if($.current==null)return;const Lr=M.get($.current);if(!Lr)return;const ki=Jt.nativeEvent,Xi=new Mn({active:$.current,activeNode:Lr,event:ki,options:ps,context:re,onAbort(Wr){if(!M.get(Wr))return;const{onDragAbort:Ci}=G.current,qi={id:Wr};Ci==null||Ci(qi),w({type:"onDragAbort",event:qi})},onPending(Wr,$a,Ci,qi){if(!M.get(Wr))return;const{onDragPending:Et}=G.current,Hr={id:Wr,constraint:$a,initialCoordinates:Ci,offset:qi};Et==null||Et(Hr),w({type:"onDragPending",event:Hr})},onStart(Wr){const $a=$.current;if($a==null)return;const Ci=M.get($a);if(!Ci)return;const{onDragStart:qi}=G.current,ar={activatorEvent:ki,active:{id:$a,data:Ci.data,rect:I}};Er.unstable_batchedUpdates(()=>{qi==null||qi(ar),S(Pm.Initializing),x({type:ls.DragStart,initialCoordinates:Wr,active:$a}),w({type:"onDragStart",event:ar}),Y(on.current),H(ki)})},onMove(Wr){x({type:ls.DragMove,coordinates:Wr})},onEnd:Gt(ls.DragEnd),onCancel:Gt(ls.DragCancel)});on.current=Xi;function Gt(Wr){return async function(){const{active:Ci,collisions:qi,over:ar,scrollAdjustedTranslate:Et}=re.current;let Hr=null;if(Ci&&Et){const{cancelDrop:qs}=G.current;Hr={activatorEvent:ki,active:Ci,collisions:qi,delta:Et,over:ar},Wr===ls.DragEnd&&typeof qs=="function"&&await Promise.resolve(qs(Hr))&&(Wr=ls.DragCancel)}$.current=null,Er.unstable_batchedUpdates(()=>{x({type:Wr}),S(Pm.Uninitialized),Bn(null),Y(null),H(null),on.current=null;const qs=Wr===ls.DragEnd?"onDragEnd":"onDragCancel";if(Hr){const xo=G.current[qs];xo==null||xo(Hr),w({type:qs,event:Hr})}})}}},[M]),Rt=b.useCallback((Jt,Ft)=>(Mn,ps)=>{const Lr=Mn.nativeEvent,ki=M.get(ps);if($.current!==null||!ki||Lr.dndKit||Lr.defaultPrevented)return;const Xi={active:ki};Jt(Mn,Ft.options,Xi)===!0&&(Lr.dndKit={capturedBy:Ft.sensor},$.current=ps,Dn(Mn,Ft))},[M,Dn]),zn=K5t(d,Rt);tkt(d),Mh(()=>{xe&&_===Pm.Initializing&&S(Pm.Initialized)},[xe,_]),b.useEffect(()=>{const{onDragMove:Jt}=G.current,{active:Ft,activatorEvent:Mn,collisions:ps,over:Lr}=re.current;if(!Ft||!Mn)return;const ki={active:Ft,activatorEvent:Mn,collisions:ps,delta:{x:Me.x,y:Me.y},over:Lr};Er.unstable_batchedUpdates(()=>{Jt==null||Jt(ki),w({type:"onDragMove",event:ki})})},[Me.x,Me.y]),b.useEffect(()=>{const{active:Jt,activatorEvent:Ft,collisions:Mn,droppableContainers:ps,scrollAdjustedTranslate:Lr}=re.current;if(!Jt||$.current==null||!Ft||!Lr)return;const{onDragOver:ki}=G.current,Xi=ps.get(wt),Gt=Xi&&Xi.rect.current?{id:Xi.id,rect:Xi.rect.current,data:Xi.data,disabled:Xi.disabled}:null,Wr={active:Jt,activatorEvent:Ft,collisions:Mn,delta:{x:Lr.x,y:Lr.y},over:Gt};Er.unstable_batchedUpdates(()=>{Bn(Gt),ki==null||ki(Wr),w({type:"onDragOver",event:Wr})})},[wt]),Mh(()=>{re.current={activatorEvent:Q,active:B,activeNode:te,collisionRect:et,collisions:Ge,droppableRects:F,draggableNodes:M,draggingNode:X,draggingNodeRect:Ae,droppableContainers:R,over:kt,scrollableAncestors:lt,scrollAdjustedTranslate:Me},I.current={initial:Ae,translated:et}},[B,te,Ge,et,M,X,Ae,F,R,kt,lt,Me]),q5t({...ve,delta:T,draggingRect:et,pointerCoordinates:Ce,scrollableAncestors:lt,scrollableAncestorRects:me});const ln=b.useMemo(()=>({active:B,activeNode:te,activeNodeRect:xe,activatorEvent:Q,collisions:Ge,containerNodeRect:ue,dragOverlay:ae,draggableNodes:M,droppableContainers:R,droppableRects:F,over:kt,measureDroppableContainers:ie,scrollableAncestors:lt,scrollableAncestorRects:me,measuringConfiguration:z,measuringScheduled:ce,windowRect:ze}),[B,te,xe,Q,Ge,ue,ae,M,R,F,kt,ie,lt,me,z,ce,ze]),kn=b.useMemo(()=>({activatorEvent:Q,activators:zn,active:B,activeNodeRect:xe,ariaDescribedById:{draggable:U},dispatch:x,draggableNodes:M,over:kt,measureDroppableContainers:ie}),[Q,zn,B,xe,x,U,M,kt,ie]);return E.createElement(L0e.Provider,{value:j},E.createElement(xA.Provider,{value:kn},E.createElement(Y0e.Provider,{value:ln},E.createElement(N7.Provider,{value:cn},u)),E.createElement(ckt,{disabled:(l==null?void 0:l.restoreFocus)===!1})),E.createElement(m5t,{...l,hiddenTextDescribedById:U}));function Ur(){const Jt=(K==null?void 0:K.autoScrollEnabled)===!1,Ft=typeof c=="object"?c.enabled===!1:c===!1,Mn=k&&!Jt&&!Ft;return typeof c=="object"?{...c,enabled:Mn}:{enabled:Mn}}});function Z0e(){return b.useContext(Y0e)}const hkt="Droppable",mkt={timeout:25};function pkt(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:i}=e;const a=pA(hkt),{active:o,dispatch:l,over:c,measureDroppableContainers:u}=b.useContext(xA),d=b.useRef({disabled:n}),f=b.useRef(!1),m=b.useRef(null),h=b.useRef(null),{disabled:g,updateMeasurementsFor:y,timeout:v}={...mkt,...i},x=fC(y??r),w=b.useCallback(()=>{if(!f.current){f.current=!0;return}h.current!=null&&clearTimeout(h.current),h.current=setTimeout(()=>{u(Array.isArray(x.current)?x.current:[x.current]),h.current=null},v)},[v]),j=vA({callback:w,disabled:g||!o}),_=b.useCallback((M,T)=>{j&&(T&&(j.unobserve(T),f.current=!1),M&&j.observe(M))},[j]),[S,k]=T0e(_),P=fC(t);return b.useEffect(()=>{!j||!S.current||(j.disconnect(),f.current=!1,j.observe(S.current))},[S,j]),b.useEffect(()=>(l({type:ls.RegisterDroppable,element:{id:r,key:a,disabled:n,node:S,rect:m,data:P}}),()=>l({type:ls.UnregisterDroppable,key:a,id:r})),[r]),b.useEffect(()=>{n!==d.current.disabled&&(l({type:ls.SetDroppableDisabled,id:r,key:a,disabled:n}),d.current.disabled=n)},[r,a,n,l]),{active:o,rect:m,isOver:(c==null?void 0:c.id)===r,node:S,over:c,setNodeRef:k}}function gkt(e){let{animation:t,children:n}=e;const[r,i]=b.useState(null),[a,o]=b.useState(null),l=hC(n);return!n&&!r&&l&&i(l),Mh(()=>{if(!a)return;const c=r==null?void 0:r.key,u=r==null?void 0:r.props.id;if(c==null||u==null){i(null);return}Promise.resolve(t(u,a)).then(()=>{i(null)})},[t,r,a]),E.createElement(E.Fragment,null,n,r?b.cloneElement(r,{ref:o}):null)}const vkt={x:0,y:0,scaleX:1,scaleY:1};function xkt(e){let{children:t}=e;return E.createElement(xA.Provider,{value:G0e},E.createElement(N7.Provider,{value:vkt},t))}const ykt={position:"fixed",touchAction:"none"},bkt=e=>v7(e)?"transform 250ms ease":void 0,wkt=b.forwardRef((e,t)=>{let{as:n,activatorEvent:r,adjustScale:i,children:a,className:o,rect:l,style:c,transform:u,transition:d=bkt}=e;if(!l)return null;const f=i?u:{...u,scaleX:1,scaleY:1},m={...ykt,width:l.width,height:l.height,top:l.top,left:l.left,transform:ij.Transform.toString(f),transformOrigin:i&&r?v5t(r,l):void 0,transition:typeof d=="function"?d(r):d,...c};return E.createElement(n,{className:o,style:m,ref:t},a)}),jkt=e=>t=>{let{active:n,dragOverlay:r}=t;const i={},{styles:a,className:o}=e;if(a!=null&&a.active)for(const[l,c]of Object.entries(a.active))c!==void 0&&(i[l]=n.node.style.getPropertyValue(l),n.node.style.setProperty(l,c));if(a!=null&&a.dragOverlay)for(const[l,c]of Object.entries(a.dragOverlay))c!==void 0&&r.node.style.setProperty(l,c);return o!=null&&o.active&&n.node.classList.add(o.active),o!=null&&o.dragOverlay&&r.node.classList.add(o.dragOverlay),function(){for(const[c,u]of Object.entries(i))n.node.style.setProperty(c,u);o!=null&&o.active&&n.node.classList.remove(o.active)}},Nkt=e=>{let{transform:{initial:t,final:n}}=e;return[{transform:ij.Transform.toString(t)},{transform:ij.Transform.toString(n)}]},_kt={duration:250,easing:"ease",keyframes:Nkt,sideEffects:jkt({styles:{active:{opacity:"0"}}})};function Skt(e){let{config:t,draggableNodes:n,droppableContainers:r,measuringConfiguration:i}=e;return mA((a,o)=>{if(t===null)return;const l=n.get(a);if(!l)return;const c=l.node.current;if(!c)return;const u=K0e(o);if(!u)return;const{transform:d}=Qo(o).getComputedStyle(o),f=R0e(d);if(!f)return;const m=typeof t=="function"?t:kkt(t);return U0e(c,i.draggable.measure),m({active:{id:a,data:l.data,node:c,rect:i.draggable.measure(c)},draggableNodes:n,dragOverlay:{node:o,rect:i.dragOverlay.measure(u)},droppableContainers:r,measuringConfiguration:i,transform:f})})}function kkt(e){const{duration:t,easing:n,sideEffects:r,keyframes:i}={..._kt,...e};return a=>{let{active:o,dragOverlay:l,transform:c,...u}=a;if(!t)return;const d={x:l.rect.left-o.rect.left,y:l.rect.top-o.rect.top},f={scaleX:c.scaleX!==1?o.rect.width*c.scaleX/l.rect.width:1,scaleY:c.scaleY!==1?o.rect.height*c.scaleY/l.rect.height:1},m={x:c.x-d.x,y:c.y-d.y,...f},h=i({...u,active:o,dragOverlay:l,transform:{initial:c,final:m}}),[g]=h,y=h[h.length-1];if(JSON.stringify(g)===JSON.stringify(y))return;const v=r==null?void 0:r({active:o,dragOverlay:l,...u}),x=l.node.animate(h,{duration:t,easing:n,fill:"forwards"});return new Promise(w=>{x.onfinish=()=>{v==null||v(),w()}})}}let NX=0;function Ckt(e){return b.useMemo(()=>{if(e!=null)return NX++,NX},[e])}const Ekt=E.memo(e=>{let{adjustScale:t=!1,children:n,dropAnimation:r,style:i,transition:a,modifiers:o,wrapperElement:l="div",className:c,zIndex:u=999}=e;const{activatorEvent:d,active:f,activeNodeRect:m,containerNodeRect:h,draggableNodes:g,droppableContainers:y,dragOverlay:v,over:x,measuringConfiguration:w,scrollableAncestors:j,scrollableAncestorRects:_,windowRect:S}=Z0e(),k=b.useContext(N7),P=Ckt(f==null?void 0:f.id),M=X0e(o,{activatorEvent:d,active:f,activeNodeRect:m,containerNodeRect:h,draggingNodeRect:v.rect,over:x,overlayNodeRect:v.rect,scrollableAncestors:j,scrollableAncestorRects:_,transform:k,windowRect:S}),T=j7(m),R=Skt({config:r,draggableNodes:g,droppableContainers:y,measuringConfiguration:w}),D=T?v.setRef:void 0;return E.createElement(xkt,null,E.createElement(gkt,{animation:R},f&&P?E.createElement(wkt,{key:P,id:f.id,ref:D,as:l,activatorEvent:d,adjustScale:t,className:c,transition:a,rect:T,style:{zIndex:u,...i},transform:M},n):null))});function Pkt(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function Akt(e,t){return e.reduce((n,r,i)=>{const a=t.get(r);return a&&(n[i]=a),n},Array(e.length))}function Tkt(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function Okt(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const Q0e=e=>{let{rects:t,activeIndex:n,overIndex:r,index:i}=e;const a=Pkt(t,r,n),o=t[i],l=a[i];return!l||!o?null:{x:l.left-o.left,y:l.top-o.top,scaleX:l.width/o.width,scaleY:l.height/o.height}},$_={scaleX:1,scaleY:1},Lkt=e=>{var t;let{activeIndex:n,activeNodeRect:r,index:i,rects:a,overIndex:o}=e;const l=(t=a[n])!=null?t:r;if(!l)return null;if(i===n){const u=a[o];return u?{x:0,y:n<o?u.top+u.height-(l.top+l.height):u.top-l.top,...$_}:null}const c=Mkt(a,i,n);return i>n&&i<=o?{x:0,y:-l.height-c,...$_}:i<n&&i>=o?{x:0,y:l.height+c,...$_}:{x:0,y:0,...$_}};function Mkt(e,t,n){const r=e[t],i=e[t-1],a=e[t+1];return r?n<t?i?r.top-(i.top+i.height):a?a.top-(r.top+r.height):0:a?a.top-(r.top+r.height):i?r.top-(i.top+i.height):0:0}const J0e="Sortable",Ikt=E.createContext({activeIndex:-1,containerId:J0e,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Q0e,disabled:{draggable:!1,droppable:!1}});function Dkt(e){let{children:t,id:n,items:r,strategy:i=Q0e,disabled:a=!1}=e;const{active:o,dragOverlay:l,droppableRects:c,over:u,measureDroppableContainers:d}=Z0e(),f=pA(J0e,n),m=l.rect!==null,h=b.useMemo(()=>r.map(k=>typeof k=="object"&&"id"in k?k.id:k),[r]),g=o!=null,y=o?h.indexOf(o.id):-1,v=u?h.indexOf(u.id):-1,x=b.useRef(h),w=!Tkt(h,x.current),j=v!==-1&&y===-1||w,_=Okt(a);Mh(()=>{w&&g&&d(h)},[w,h,g,d]),b.useEffect(()=>{x.current=h},[h]);const S=b.useMemo(()=>({activeIndex:y,containerId:f,disabled:_,disableTransforms:j,items:h,overIndex:v,useDragOverlay:m,sortedRects:Akt(h,c),strategy:i}),[y,f,_.draggable,_.droppable,j,h,v,c,m,i]);return E.createElement(Ikt.Provider,{value:S},t)}function vC(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&typeof t.sortable=="object"&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const Rkt=[gr.Down,gr.Right,gr.Up,gr.Left],$kt=(e,t)=>{let{context:{active:n,collisionRect:r,droppableRects:i,droppableContainers:a,over:o,scrollableAncestors:l}}=t;if(Rkt.includes(e.code)){if(e.preventDefault(),!n||!r)return;const c=[];a.getEnabled().forEach(f=>{if(!f||f!=null&&f.disabled)return;const m=i.get(f.id);if(m)switch(e.code){case gr.Down:r.top<m.top&&c.push(f);break;case gr.Up:r.top>m.top&&c.push(f);break;case gr.Left:r.left>m.left&&c.push(f);break;case gr.Right:r.left<m.left&&c.push(f);break}});const u=I0e({collisionRect:r,droppableRects:i,droppableContainers:c});let d=M0e(u,"id");if(d===(o==null?void 0:o.id)&&u.length>1&&(d=u[1].id),d!=null){const f=a.get(n.id),m=a.get(d),h=m?i.get(m.id):null,g=m==null?void 0:m.node.current;if(g&&h&&f&&m){const v=gA(g).some((k,P)=>l[P]!==k),x=ebe(f,m),w=Fkt(f,m),j=v||!x?{x:0,y:0}:{x:w?r.width-h.width:0,y:w?r.height-h.height:0},_={x:h.left,y:h.top};return j.x&&j.y?_:rj(_,j)}}}};function ebe(e,t){return!vC(e)||!vC(t)?!1:e.data.current.sortable.containerId===t.data.current.sortable.containerId}function Fkt(e,t){return!vC(e)||!vC(t)||!ebe(e,t)?!1:e.data.current.sortable.index<t.data.current.sortable.index}const tbe=b.memo(function({voucher:t,onClick:n,onEdit:r,onDelete:i,onResend:a,onDownload:o,onPay:l,isDragging:c=!1}){const[u,d]=b.useState(!1),f=h=>{h.stopPropagation();const g=t.voucherFileUrl.startsWith("http")||t.voucherFileUrl.startsWith("/uploads")?t.voucherFileUrl:`/uploads/${t.voucherFileUrl}`;window.open(g,"_blank")},m=h=>{if(h.stopPropagation(),o)o();else{const g=t.voucherFileUrl.startsWith("http")||t.voucherFileUrl.startsWith("/uploads")?t.voucherFileUrl:`/uploads/${t.voucherFileUrl}`,y=document.createElement("a");y.href=g,y.download=t.voucherFileName,y.target="_blank",document.body.appendChild(y),y.click(),document.body.removeChild(y)}};return s.jsx(bs.div,{initial:{opacity:0,y:10},animate:{opacity:c?.5:1,y:0},exit:{opacity:0,scale:.95},transition:{duration:.2},children:s.jsx(Ue,{className:`
          cursor-pointer transition-all duration-200 bg-white
          hover:shadow-lg hover:border-emerald-400
          border border-slate-200
          ${c?"opacity-50":""}
        `,onClick:n,children:s.jsxs(We,{className:"p-4 space-y-3",children:[s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:"font-bold text-base text-slate-900 truncate",children:t.clientName}),s.jsx("p",{className:"text-xs text-slate-500 truncate mt-0.5",children:t.voucherFileName})]}),s.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[s.jsx(Oe,{size:"sm",variant:"outline",className:"h-7 w-7 p-0 border-slate-300 hover:bg-slate-100 hover:border-slate-400",onClick:f,children:s.jsx(Dy,{className:"h-3.5 w-3.5 text-slate-600"})}),s.jsxs(f$,{children:[s.jsx(h$,{asChild:!0,children:s.jsx(Oe,{size:"sm",variant:"outline",className:"h-7 w-7 p-0 border-slate-300 hover:bg-slate-100 hover:border-slate-400",onClick:h=>h.stopPropagation(),children:s.jsx(sie,{className:"h-3.5 w-3.5 text-slate-600"})})}),s.jsxs(_E,{align:"end",className:"bg-white border shadow-lg",onClick:h=>h.stopPropagation(),children:[r&&s.jsxs(qd,{onClick:h=>{h.stopPropagation(),r()},className:"cursor-pointer",children:[s.jsx(a5,{className:"h-4 w-4 mr-2"}),"Editar"]}),s.jsxs(qd,{onClick:m,className:"cursor-pointer",children:[s.jsx(nc,{className:"h-4 w-4 mr-2"}),"Descargar"]}),a&&s.jsxs(qd,{onClick:h=>{h.stopPropagation(),a()},className:"cursor-pointer",children:[s.jsx(hie,{className:"h-4 w-4 mr-2"}),"Reenviar"]}),i&&s.jsxs(qd,{onClick:h=>{h.stopPropagation(),i()},className:"text-red-600 cursor-pointer hover:text-red-700 hover:bg-red-50",children:[s.jsx(mh,{className:"h-4 w-4 mr-2"}),"Eliminar"]})]})]})]})]}),t.extractedCurrency&&t.extractedAmount&&s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(Ct,{variant:"outline",className:"font-semibold text-sm px-3 py-1 bg-primary/10 border-primary/20",children:[t.extractedCurrency," $",t.extractedAmount.toLocaleString()]}),t.ocrConfidence!==null&&s.jsxs(Ct,{variant:t.ocrConfidence>.7?"default":"secondary",className:"text-xs",children:["OCR: ",(t.ocrConfidence*100).toFixed(0),"%"]})]}),(t.status==="pago_programado"||t.status==="factura_pagada")&&l&&s.jsxs(Oe,{size:"sm",variant:"default",className:"w-full h-9 font-medium bg-emerald-600 hover:bg-emerald-700",onClick:h=>{h.stopPropagation(),l()},children:[s.jsx(aie,{className:"h-4 w-4 mr-2"}),"Pagar"]}),s.jsxs("div",{className:"space-y-1.5",children:[t.extractedBank&&s.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-slate-600 dark:text-slate-400",children:[s.jsx(sp,{className:"h-3 w-3 flex-shrink-0"}),s.jsx("span",{className:"truncate",children:t.extractedBank})]}),t.extractedReference&&s.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-slate-600 dark:text-slate-400",children:[s.jsx(Ds,{className:"h-3 w-3 flex-shrink-0"}),s.jsxs("span",{className:"truncate",children:["Ref: ",t.extractedReference]})]}),s.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-slate-500 dark:text-slate-500",children:[s.jsx(Xa,{className:"h-3 w-3 flex-shrink-0"}),s.jsx("span",{children:er(new Date(t.createdAt),"dd MMM yyyy",{locale:Da})})]})]})]})})})});function nbe({fileUrl:e,fileName:t="documento.pdf",onDownload:n,className:r=""}){const[i,a]=b.useState(!1),[o,l]=b.useState(!1),c=e.startsWith("http")?e:`${window.location.origin}${e.startsWith("/")?"":"/"}${e}`,u=()=>{if(n)n();else{const m=document.createElement("a");m.href=c,m.download=t,m.target="_blank",document.body.appendChild(m),m.click(),document.body.removeChild(m)}},d=()=>{window.open(c,"_blank")},f=s.jsxs("div",{className:`flex flex-col bg-white rounded-lg border ${r}`,children:[s.jsxs("div",{className:"flex items-center justify-between p-3 border-b bg-slate-50",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ds,{className:"h-5 w-5 text-emerald-600"}),s.jsx("span",{className:"font-medium text-slate-800 truncate max-w-[200px]",children:t})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(Oe,{size:"sm",variant:"outline",onClick:d,className:"h-8 text-slate-700 border-slate-300 hover:bg-slate-100",children:[s.jsx(J3,{className:"h-4 w-4 mr-1"}),"Abrir"]}),s.jsxs(Oe,{size:"sm",variant:"default",onClick:u,className:"h-8 bg-emerald-600 hover:bg-emerald-700",children:[s.jsx(nc,{className:"h-4 w-4 mr-1"}),"Descargar"]}),s.jsx(Oe,{size:"sm",variant:"outline",onClick:()=>a(!0),className:"h-8 border-slate-300 hover:bg-slate-100",children:s.jsx(r_e,{className:"h-4 w-4"})})]})]}),s.jsx("div",{className:"flex-1 min-h-[400px] bg-slate-100",children:o?s.jsxs("div",{className:"flex flex-col items-center justify-center h-full p-8 text-center",children:[s.jsx(Nl,{className:"h-12 w-12 text-amber-500 mb-4"}),s.jsx("p",{className:"text-slate-700 font-medium mb-2",children:"No se puede mostrar la vista previa"}),s.jsx("p",{className:"text-slate-500 text-sm mb-4",children:"Puedes descargar el archivo para verlo"}),s.jsxs(Oe,{onClick:u,className:"bg-emerald-600 hover:bg-emerald-700",children:[s.jsx(nc,{className:"h-4 w-4 mr-2"}),"Descargar ",t]})]}):s.jsx("iframe",{src:`${c}#toolbar=1&navpanes=0`,className:"w-full h-full min-h-[400px] border-0",title:t,onError:()=>l(!0)})})]});return i?s.jsxs(s.Fragment,{children:[f,s.jsx(zr,{open:i,onOpenChange:a,children:s.jsxs(Ir,{className:"max-w-[95vw] max-h-[95vh] w-full h-[90vh] p-0",children:[s.jsx(Vr,{className:"p-4 border-b bg-slate-50",children:s.jsxs(qr,{className:"flex items-center gap-2",children:[s.jsx(Ds,{className:"h-5 w-5 text-emerald-600"}),t]})}),s.jsxs("div",{className:"flex-1 h-full p-4",children:[s.jsxs("div",{className:"flex gap-2 mb-4",children:[s.jsxs(Oe,{size:"sm",variant:"outline",onClick:d,className:"text-slate-700",children:[s.jsx(J3,{className:"h-4 w-4 mr-1"}),"Abrir en nueva pestaa"]}),s.jsxs(Oe,{size:"sm",variant:"default",onClick:u,className:"bg-emerald-600 hover:bg-emerald-700",children:[s.jsx(nc,{className:"h-4 w-4 mr-1"}),"Descargar"]})]}),s.jsx("iframe",{src:`${c}#toolbar=1&navpanes=0`,className:"w-full h-[calc(100%-60px)] border rounded-lg",title:t})]})]})})]}):f}var Bkt={694:(e,t,n)=>{var r=n(925);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function o(u,d,f,m,h,g){if(g!==r){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}function l(){return o}o.isRequired=o;var c={array:o,bigint:o,bool:o,func:o,number:o,object:o,string:o,symbol:o,any:o,arrayOf:l,element:o,elementType:o,instanceOf:l,node:o,objectOf:l,oneOf:l,oneOfType:l,shape:l,exact:l,checkPropTypes:a,resetWarningCache:i};return c.PropTypes=c,c}},556:(e,t,n)=>{e.exports=n(694)()},925:e=>{e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},115:e=>{var t=typeof Element<"u",n=typeof Map=="function",r=typeof Set=="function",i=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function a(o,l){if(o===l)return!0;if(o&&l&&typeof o=="object"&&typeof l=="object"){if(o.constructor!==l.constructor)return!1;var c,u,d,f;if(Array.isArray(o)){if((c=o.length)!=l.length)return!1;for(u=c;u--!=0;)if(!a(o[u],l[u]))return!1;return!0}if(n&&o instanceof Map&&l instanceof Map){if(o.size!==l.size)return!1;for(f=o.entries();!(u=f.next()).done;)if(!l.has(u.value[0]))return!1;for(f=o.entries();!(u=f.next()).done;)if(!a(u.value[1],l.get(u.value[0])))return!1;return!0}if(r&&o instanceof Set&&l instanceof Set){if(o.size!==l.size)return!1;for(f=o.entries();!(u=f.next()).done;)if(!l.has(u.value[0]))return!1;return!0}if(i&&ArrayBuffer.isView(o)&&ArrayBuffer.isView(l)){if((c=o.length)!=l.length)return!1;for(u=c;u--!=0;)if(o[u]!==l[u])return!1;return!0}if(o.constructor===RegExp)return o.source===l.source&&o.flags===l.flags;if(o.valueOf!==Object.prototype.valueOf&&typeof o.valueOf=="function"&&typeof l.valueOf=="function")return o.valueOf()===l.valueOf();if(o.toString!==Object.prototype.toString&&typeof o.toString=="function"&&typeof l.toString=="function")return o.toString()===l.toString();if((c=(d=Object.keys(o)).length)!==Object.keys(l).length)return!1;for(u=c;u--!=0;)if(!Object.prototype.hasOwnProperty.call(l,d[u]))return!1;if(t&&o instanceof Element)return!1;for(u=c;u--!=0;)if((d[u]!=="_owner"&&d[u]!=="__v"&&d[u]!=="__o"||!o.$$typeof)&&!a(o[d[u]],l[d[u]]))return!1;return!0}return o!=o&&l!=l}e.exports=function(o,l){try{return a(o,l)}catch(c){if((c.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw c}}}},_X={};function ao(e){var t=_X[e];if(t!==void 0)return t.exports;var n=_X[e]={exports:{}};return Bkt[e](n,n.exports,ao),n.exports}ao.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return ao.d(t,{a:t}),t},ao.d=(e,t)=>{for(var n in t)ao.o(t,n)&&!ao.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},ao.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),ao.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var rbe={};function ibe(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=ibe(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}ao.d(rbe,{A:()=>ACt});const mg=function(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=ibe(e))&&(r&&(r+=" "),r+=t);return r},Tt=(SX={default:()=>E,useMemo:()=>b.useMemo,useRef:()=>b.useRef},$O={},ao.d($O,SX),$O);var SX,$O;const xC=function(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")},zkt=typeof global=="object"&&global&&global.Object===Object&&global;var Vkt=typeof self=="object"&&self&&self.Object===Object&&self;const abe=zkt||Vkt||Function("return this")(),FO=function(){return abe.Date.now()};var qkt=/\s/,Ukt=/^\s+/;const Wkt=function(e){return e&&e.slice(0,function(t){for(var n=t.length;n--&&qkt.test(t.charAt(n)););return n}(e)+1).replace(Ukt,"")},yC=abe.Symbol;var sbe=Object.prototype,Hkt=sbe.hasOwnProperty,Kkt=sbe.toString,c1=yC?yC.toStringTag:void 0,Gkt=Object.prototype.toString,kX=yC?yC.toStringTag:void 0;const Ykt=function(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":kX&&kX in Object(e)?function(t){var n=Hkt.call(t,c1),r=t[c1];try{t[c1]=void 0;var i=!0}catch{}var a=Kkt.call(t);return i&&(n?t[c1]=r:delete t[c1]),a}(e):function(t){return Gkt.call(t)}(e)};var Xkt=/^[-+]0x[0-9a-f]+$/i,Zkt=/^0b[01]+$/i,Qkt=/^0o[0-7]+$/i,Jkt=parseInt;const CX=function(e){if(typeof e=="number")return e;if(function(r){return typeof r=="symbol"||function(i){return i!=null&&typeof i=="object"}(r)&&Ykt(r)=="[object Symbol]"}(e))return NaN;if(xC(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=xC(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Wkt(e);var n=Zkt.test(e);return n||Qkt.test(e)?Jkt(e.slice(2),n?2:8):Xkt.test(e)?NaN:+e};var eCt=Math.max,tCt=Math.min;const bD=function(e,t,n){var r,i,a,o,l,c,u=0,d=!1,f=!1,m=!0;if(typeof e!="function")throw new TypeError("Expected a function");function h(w){var j=r,_=i;return r=i=void 0,u=w,o=e.apply(_,j)}function g(w){var j=w-c;return c===void 0||j>=t||j<0||f&&w-u>=a}function y(){var w=FO();if(g(w))return v(w);l=setTimeout(y,function(j){var _=t-(j-c);return f?tCt(_,a-(j-u)):_}(w))}function v(w){return l=void 0,m&&r?h(w):(r=i=void 0,o)}function x(){var w=FO(),j=g(w);if(r=arguments,i=this,c=w,j){if(l===void 0)return function(_){return u=_,l=setTimeout(y,t),d?h(_):o}(c);if(f)return clearTimeout(l),l=setTimeout(y,t),h(c)}return l===void 0&&(l=setTimeout(y,t)),o}return t=CX(t)||0,xC(n)&&(d=!!n.leading,a=(f="maxWait"in n)?eCt(CX(n.maxWait)||0,t):a,m="trailing"in n?!!n.trailing:m),x.cancel=function(){l!==void 0&&clearTimeout(l),u=0,r=c=i=l=void 0},x.flush=function(){return l===void 0?o:v(FO())},x},EX=function(e,t,n){var r=!0,i=!0;if(typeof e!="function")throw new TypeError("Expected a function");return xC(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),bD(e,t,{leading:r,maxWait:t,trailing:i})};var nCt=ao(115),rCt=ao.n(nCt),obe=function(){if(typeof Map<"u")return Map;function e(t,n){var r=-1;return t.some(function(i,a){return i[0]===n&&(r=a,!0)}),r}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(n){var r=e(this.__entries__,n),i=this.__entries__[r];return i&&i[1]},t.prototype.set=function(n,r){var i=e(this.__entries__,n);~i?this.__entries__[i][1]=r:this.__entries__.push([n,r])},t.prototype.delete=function(n){var r=this.__entries__,i=e(r,n);~i&&r.splice(i,1)},t.prototype.has=function(n){return!!~e(this.__entries__,n)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(n,r){r===void 0&&(r=null);for(var i=0,a=this.__entries__;i<a.length;i++){var o=a[i];n.call(r,o[1],o[0])}},t}()}(),wD=typeof window<"u"&&typeof document<"u"&&window.document===document,bC=ao.g!==void 0&&ao.g.Math===Math?ao.g:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")(),iCt=typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(bC):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)},aCt=["top","right","bottom","left","width","height","size","weight"],sCt=typeof MutationObserver<"u",oCt=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(t){var n=!1,r=!1,i=0;function a(){n&&(n=!1,t()),r&&l()}function o(){iCt(a)}function l(){var c=Date.now();if(n){if(c-i<2)return;r=!0}else n=!0,r=!1,setTimeout(o,20);i=c}return l}(this.refresh.bind(this))}return e.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},e.prototype.removeObserver=function(t){var n=this.observers_,r=n.indexOf(t);~r&&n.splice(r,1),!n.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var t=this.observers_.filter(function(n){return n.gatherActive(),n.hasActive()});return t.forEach(function(n){return n.broadcastActive()}),t.length>0},e.prototype.connect_=function(){wD&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),sCt?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){wD&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(t){var n=t.propertyName,r=n===void 0?"":n;aCt.some(function(i){return!!~r.indexOf(i)})&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),PX=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},_0=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||bC},AX=wC(0,0,0,0);function CS(e){return parseFloat(e)||0}function TX(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce(function(r,i){return r+CS(e["border-"+i+"-width"])},0)}var lCt=typeof SVGGraphicsElement<"u"?function(e){return e instanceof _0(e).SVGGraphicsElement}:function(e){return e instanceof _0(e).SVGElement&&typeof e.getBBox=="function"};function cCt(e){return wD?lCt(e)?function(t){var n=t.getBBox();return wC(0,0,n.width,n.height)}(e):function(t){var n=t.clientWidth,r=t.clientHeight;if(!n&&!r)return AX;var i=_0(t).getComputedStyle(t),a=function(m){for(var h={},g=0,y=["top","right","bottom","left"];g<y.length;g++){var v=y[g],x=m["padding-"+v];h[v]=CS(x)}return h}(i),o=a.left+a.right,l=a.top+a.bottom,c=CS(i.width),u=CS(i.height);if(i.boxSizing==="border-box"&&(Math.round(c+o)!==n&&(c-=TX(i,"left","right")+o),Math.round(u+l)!==r&&(u-=TX(i,"top","bottom")+l)),!function(m){return m===_0(m).document.documentElement}(t)){var d=Math.round(c+o)-n,f=Math.round(u+l)-r;Math.abs(d)!==1&&(c-=d),Math.abs(f)!==1&&(u-=f)}return wC(a.left,a.top,c,u)}(e):AX}function wC(e,t,n,r){return{x:e,y:t,width:n,height:r}}var uCt=function(){function e(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=wC(0,0,0,0),this.target=t}return e.prototype.isActive=function(){var t=cCt(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},e}(),dCt=function(e,t){var n=function(r){var i=r.x,a=r.y,o=r.width,l=r.height,c=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,u=Object.create(c.prototype);return PX(u,{x:i,y:a,width:o,height:l,top:a,right:i+o,bottom:l+a,left:i}),u}(t);PX(this,{target:e,contentRect:n})},fCt=function(){function e(t,n,r){if(this.activeObservations_=[],this.observations_=new obe,typeof t!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=n,this.callbackCtx_=r}return e.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(typeof Element<"u"&&Element instanceof Object){if(!(t instanceof _0(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(t)||(n.set(t,new uCt(t)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(typeof Element<"u"&&Element instanceof Object){if(!(t instanceof _0(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(t)&&(n.delete(t),n.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach(function(n){n.isActive()&&t.activeObservations_.push(n)})},e.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,n=this.activeObservations_.map(function(r){return new dCt(r.target,r.broadcastRect())});this.callback_.call(t,n,t),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),lbe=typeof WeakMap<"u"?new WeakMap:new obe,cbe=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=oCt.getInstance(),r=new fCt(t,n,this);lbe.set(this,r)};["observe","unobserve","disconnect"].forEach(function(e){cbe.prototype[e]=function(){var t;return(t=lbe.get(this))[e].apply(t,arguments)}});const OX=bC.ResizeObserver!==void 0?bC.ResizeObserver:cbe,Yf="Left",Xf="Right",Zf="Up",Qf="Down",vx={delta:10,preventScrollOnSwipe:!1,rotationAngle:0,trackMouse:!1,trackTouch:!0,swipeDuration:1/0,touchEventOptions:{passive:!0}},BO={first:!0,initial:[0,0],start:0,swiping:!1,xy:[0,0]},LX="mousemove",MX="mouseup";function IX(e,t){if(t===0)return e;const n=Math.PI/180*t;return[e[0]*Math.cos(n)+e[1]*Math.sin(n),e[1]*Math.cos(n)-e[0]*Math.sin(n)]}function hCt(e){const{trackMouse:t}=e,n=Tt.useRef(Object.assign({},BO)),r=Tt.useRef(Object.assign({},vx)),i=Tt.useRef(Object.assign({},r.current));let a;for(a in i.current=Object.assign({},r.current),r.current=Object.assign(Object.assign({},vx),e),vx)r.current[a]===void 0&&(r.current[a]=vx[a]);const[o,l]=Tt.useMemo(()=>function(c,u){const d=v=>{const x="touches"in v;x&&v.touches.length>1||c((w,j)=>{j.trackMouse&&!x&&(document.addEventListener(LX,f),document.addEventListener(MX,h));const{clientX:_,clientY:S}=x?v.touches[0]:v,k=IX([_,S],j.rotationAngle);return j.onTouchStartOrOnMouseDown&&j.onTouchStartOrOnMouseDown({event:v}),Object.assign(Object.assign(Object.assign({},w),BO),{initial:k.slice(),xy:k,start:v.timeStamp||0})})},f=v=>{c((x,w)=>{const j="touches"in v;if(j&&v.touches.length>1)return x;if(v.timeStamp-x.start>w.swipeDuration)return x.swiping?Object.assign(Object.assign({},x),{swiping:!1}):x;const{clientX:_,clientY:S}=j?v.touches[0]:v,[k,P]=IX([_,S],w.rotationAngle),M=k-x.xy[0],T=P-x.xy[1],R=Math.abs(M),D=Math.abs(T),I=(v.timeStamp||0)-x.start,B=Math.sqrt(R*R+D*D)/(I||1),$=[M/(I||1),T/(I||1)],K=function(G,U,ee,z){return G>U?ee>0?Xf:Yf:z>0?Qf:Zf}(R,D,M,T),Y=typeof w.delta=="number"?w.delta:w.delta[K.toLowerCase()]||vx.delta;if(R<Y&&D<Y&&!x.swiping)return x;const Q={absX:R,absY:D,deltaX:M,deltaY:T,dir:K,event:v,first:x.first,initial:x.initial,velocity:B,vxvy:$};Q.first&&w.onSwipeStart&&w.onSwipeStart(Q),w.onSwiping&&w.onSwiping(Q);let H=!1;return(w.onSwiping||w.onSwiped||w[`onSwiped${K}`])&&(H=!0),H&&w.preventScrollOnSwipe&&w.trackTouch&&v.cancelable&&v.preventDefault(),Object.assign(Object.assign({},x),{first:!1,eventData:Q,swiping:!0})})},m=v=>{c((x,w)=>{let j;if(x.swiping&&x.eventData){if(v.timeStamp-x.start<w.swipeDuration){j=Object.assign(Object.assign({},x.eventData),{event:v}),w.onSwiped&&w.onSwiped(j);const _=w[`onSwiped${j.dir}`];_&&_(j)}}else w.onTap&&w.onTap({event:v});return w.onTouchEndOrOnMouseUp&&w.onTouchEndOrOnMouseUp({event:v}),Object.assign(Object.assign(Object.assign({},x),BO),{eventData:j})})},h=v=>{document.removeEventListener(LX,f),document.removeEventListener(MX,h),m(v)},g=(v,x)=>{let w=()=>{};if(v&&v.addEventListener){const j=Object.assign(Object.assign({},vx.touchEventOptions),x.touchEventOptions),_=[["touchstart",d,j],["touchmove",f,Object.assign(Object.assign({},j),x.preventScrollOnSwipe?{passive:!1}:{})],["touchend",m,j]];_.forEach(([S,k,P])=>v.addEventListener(S,k,P)),w=()=>_.forEach(([S,k])=>v.removeEventListener(S,k))}return w},y={ref:v=>{v!==null&&c((x,w)=>{if(x.el===v)return x;const j={};return x.el&&x.el!==v&&x.cleanUpTouch&&(x.cleanUpTouch(),j.cleanUpTouch=void 0),w.trackTouch&&v&&(j.cleanUpTouch=g(v,w)),Object.assign(Object.assign(Object.assign({},x),{el:v}),j)})}};return u.trackMouse&&(y.onMouseDown=d),[y,g]}(c=>n.current=c(n.current,r.current),{trackMouse:t}),[t]);return n.current=function(c,u,d,f){return u.trackTouch&&c.el?c.cleanUpTouch?u.preventScrollOnSwipe!==d.preventScrollOnSwipe||u.touchEventOptions.passive!==d.touchEventOptions.passive?(c.cleanUpTouch(),Object.assign(Object.assign({},c),{cleanUpTouch:f(c.el,u)})):c:Object.assign(Object.assign({},c),{cleanUpTouch:f(c.el,u)}):(c.cleanUpTouch&&c.cleanUpTouch(),Object.assign(Object.assign({},c),{cleanUpTouch:void 0}))}(n.current,r.current,i.current,l),o}var it=ao(556);function pw(e){return pw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pw(e)}function DX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function RX(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?DX(Object(n),!0).forEach(function(r){mCt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):DX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mCt(e,t,n){return(t=function(r){var i=function(a){if(pw(a)!="object"||!a)return a;var o=a[Symbol.toPrimitive];if(o!==void 0){var l=o.call(a,"string");if(pw(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(a)}(r);return pw(i)=="symbol"?i:i+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var pCt={description:"",fullscreen:"",isFullscreen:!1,originalAlt:"",originalHeight:"",originalWidth:"",originalTitle:"",sizes:"",srcSet:"",loading:"eager"},jD=Tt.default.memo(function(e){var t=RX(RX({},pCt),e),n=t.description,r=t.fullscreen,i=t.handleImageLoaded,a=t.isFullscreen,o=t.onImageError,l=t.original,c=t.originalAlt,u=t.originalHeight,d=t.originalWidth,f=t.originalTitle,m=t.sizes,h=t.srcSet,g=t.loading,y=a&&r||l;return Tt.default.createElement(Tt.default.Fragment,null,Tt.default.createElement("img",{className:"image-gallery-image",src:y,alt:c,srcSet:h,height:u,width:d,sizes:m,title:f,onLoad:function(v){return i(v,l)},onError:o,loading:g}),n&&Tt.default.createElement("span",{className:"image-gallery-description"},n))});jD.displayName="Item",jD.propTypes={description:it.string,fullscreen:it.string,handleImageLoaded:it.func.isRequired,isFullscreen:it.bool,onImageError:it.func.isRequired,original:it.string.isRequired,originalAlt:it.string,originalHeight:it.string,originalWidth:it.string,originalTitle:it.string,sizes:it.string,srcSet:it.string,loading:it.string};const gCt=jD;function gw(e){return gw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gw(e)}function $X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function FX(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$X(Object(n),!0).forEach(function(r){vCt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$X(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vCt(e,t,n){return(t=function(r){var i=function(a){if(gw(a)!="object"||!a)return a;var o=a[Symbol.toPrimitive];if(o!==void 0){var l=o.call(a,"string");if(gw(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(a)}(r);return gw(i)=="symbol"?i:i+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var xCt={left:Tt.default.createElement("polyline",{points:"15 18 9 12 15 6"}),right:Tt.default.createElement("polyline",{points:"9 18 15 12 9 6"}),top:Tt.default.createElement("polyline",{points:"6 15 12 9 18 15"}),bottom:Tt.default.createElement("polyline",{points:"6 9 12 15 18 9"}),maximize:Tt.default.createElement("path",{d:"M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"}),minimize:Tt.default.createElement("path",{d:"M8 3v3a2 2 0 0 1-2 2H3m18 0h-3a2 2 0 0 1-2-2V3m0 18v-3a2 2 0 0 1 2-2h3M3 16h3a2 2 0 0 1 2 2v3"}),play:Tt.default.createElement("polygon",{points:"5 3 19 12 5 21 5 3"}),pause:Tt.default.createElement(Tt.default.Fragment,null,Tt.default.createElement("rect",{x:"6",y:"4",width:"4",height:"16"}),Tt.default.createElement("rect",{x:"14",y:"4",width:"4",height:"16"}))},yCt={strokeWidth:1,viewBox:"0 0 24 24"},ube=function(e){var t=FX(FX({},yCt),e),n=t.strokeWidth,r=t.viewBox,i=t.icon;return Tt.default.createElement("svg",{className:"image-gallery-svg",xmlns:"http://www.w3.org/2000/svg",viewBox:r,fill:"none",stroke:"currentColor",strokeWidth:n,strokeLinecap:"round",strokeLinejoin:"round"},xCt[i])};ube.propTypes={strokeWidth:it.number,viewBox:it.string,icon:(0,it.oneOf)(["left","right","top","bottom","maximize","minimize","play","pause"]).isRequired};const xb=ube;var ND=Tt.default.memo(function(e){var t=e.isFullscreen,n=e.onClick;return Tt.default.createElement("button",{type:"button",className:"image-gallery-icon image-gallery-fullscreen-button",onClick:n,"aria-label":"Open Fullscreen"},Tt.default.createElement(xb,{strokeWidth:2,icon:t?"minimize":"maximize"}))});ND.displayName="Fullscreen",ND.propTypes={isFullscreen:it.bool.isRequired,onClick:it.func.isRequired};const bCt=ND;var _D=Tt.default.memo(function(e){var t=e.disabled,n=e.onClick;return Tt.default.createElement("button",{type:"button",className:"image-gallery-icon image-gallery-left-nav",disabled:t,onClick:n,"aria-label":"Previous Slide"},Tt.default.createElement(xb,{icon:"left",viewBox:"6 0 12 24"}))});_D.displayName="LeftNav",_D.propTypes={disabled:it.bool.isRequired,onClick:it.func.isRequired};const wCt=_D;var SD=Tt.default.memo(function(e){var t=e.disabled,n=e.onClick;return Tt.default.createElement("button",{type:"button",className:"image-gallery-icon image-gallery-right-nav",disabled:t,onClick:n,"aria-label":"Next Slide"},Tt.default.createElement(xb,{icon:"right",viewBox:"6 0 12 24"}))});SD.displayName="RightNav",SD.propTypes={disabled:it.bool.isRequired,onClick:it.func.isRequired};const jCt=SD;var kD=Tt.default.memo(function(e){var t=e.isPlaying,n=e.onClick;return Tt.default.createElement("button",{type:"button",className:"image-gallery-icon image-gallery-play-button",onClick:n,"aria-label":"Play or Pause Slideshow"},Tt.default.createElement(xb,{strokeWidth:2,icon:t?"pause":"play"}))});kD.displayName="PlayPause",kD.propTypes={isPlaying:it.bool.isRequired,onClick:it.func.isRequired};const NCt=kD;function vw(e){return vw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vw(e)}function CD(){return CD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},CD.apply(null,arguments)}function BX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function zX(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?BX(Object(n),!0).forEach(function(r){_Ct(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _Ct(e,t,n){return(t=function(r){var i=function(a){if(vw(a)!="object"||!a)return a;var o=a[Symbol.toPrimitive];if(o!==void 0){var l=o.call(a,"string");if(vw(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(a)}(r);return vw(i)=="symbol"?i:i+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var SCt={className:"",delta:0,onSwiping:function(){},onSwiped:function(){}},dbe=function(e){var t=zX(zX({},SCt),e),n=t.children,r=t.className,i=hCt({delta:t.delta,onSwiping:t.onSwiping,onSwiped:t.onSwiped});return Tt.default.createElement("div",CD({},i,{className:r}),n)};dbe.propTypes={children:it.node.isRequired,className:it.string,delta:it.number,onSwiped:it.func,onSwiping:it.func};const VX=dbe;var ED=Tt.default.memo(function(e){var t=e.disabled,n=e.onClick;return Tt.default.createElement("button",{type:"button",className:"image-gallery-icon image-gallery-top-nav",disabled:t,onClick:n,"aria-label":"Previous Slide"},Tt.default.createElement(xb,{icon:"top",viewBox:"6 0 12 24"}))});ED.displayName="TopNav",ED.propTypes={disabled:it.bool.isRequired,onClick:it.func.isRequired};const kCt=ED;var PD=Tt.default.memo(function(e){var t=e.disabled,n=e.onClick;return Tt.default.createElement("button",{type:"button",className:"image-gallery-icon image-gallery-bottom-nav",disabled:t,onClick:n,"aria-label":"Next Slide"},Tt.default.createElement(xb,{icon:"bottom",viewBox:"6 0 12 24"}))});PD.displayName="BottomNav",PD.propTypes={disabled:it.bool.isRequired,onClick:it.func.isRequired};const CCt=PD;function ky(e){return ky=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ky(e)}function qX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function UX(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qX(Object(n),!0).forEach(function(r){_x(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ECt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,hbe(r.key),r)}}function fbe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fbe=function(){return!!e})()}function jC(e){return jC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},jC(e)}function AD(e,t){return AD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},AD(e,t)}function _x(e,t,n){return(t=hbe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hbe(e){var t=function(n){if(ky(n)!="object"||!n)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,"string");if(ky(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}(e);return ky(t)=="symbol"?t:t+""}var WX=["fullscreenchange","MSFullscreenChange","mozfullscreenchange","webkitfullscreenchange"],PCt=(0,it.arrayOf)((0,it.shape)({srcSet:it.string,media:it.string}));function HX(e){var t=parseInt(e.keyCode||e.which||0,10);return t===66||t===62}var TD=function(){function e(t){var n,r,i,a;return function(o,l){if(!(o instanceof l))throw new TypeError("Cannot call a class as a function")}(this,e),_x((r=this,a=[t],i=jC(i=e),n=function(o,l){if(l&&(ky(l)=="object"||typeof l=="function"))return l;if(l!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(c){if(c===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(o)}(r,fbe()?Reflect.construct(i,a||[],jC(r).constructor):i.apply(r,a))),"onBulletClick",function(o,l){var c=n.props,u=c.onBulletClick,d=c.items,f=n.state.currentIndex;o.target.blur(),f!==l&&(d.length===2?n.slideToIndexWithStyleReset(l,o):n.slideToIndex(l,o)),u&&u(o,l)}),n.state={currentIndex:t.startIndex,thumbsTranslate:0,thumbsSwipedTranslate:0,currentSlideOffset:0,galleryWidth:0,galleryHeight:0,thumbnailsWrapperWidth:0,thumbnailsWrapperHeight:0,thumbsStyle:{transition:"all ".concat(t.slideDuration,"ms ease-out")},isFullscreen:!1,isSwipingThumbnail:!1,isPlaying:!1},n.loadedImages={},n.imageGallery=Tt.default.createRef(),n.thumbnailsWrapper=Tt.default.createRef(),n.thumbnails=Tt.default.createRef(),n.imageGallerySlideWrapper=Tt.default.createRef(),n.handleImageLoaded=n.handleImageLoaded.bind(n),n.handleKeyDown=n.handleKeyDown.bind(n),n.handleMouseDown=n.handleMouseDown.bind(n),n.handleResize=n.handleResize.bind(n),n.handleOnSwiped=n.handleOnSwiped.bind(n),n.handleScreenChange=n.handleScreenChange.bind(n),n.handleSwiping=n.handleSwiping.bind(n),n.handleThumbnailSwiping=n.handleThumbnailSwiping.bind(n),n.handleOnThumbnailSwiped=n.handleOnThumbnailSwiped.bind(n),n.onThumbnailMouseLeave=n.onThumbnailMouseLeave.bind(n),n.handleImageError=n.handleImageError.bind(n),n.pauseOrPlay=n.pauseOrPlay.bind(n),n.renderThumbInner=n.renderThumbInner.bind(n),n.renderItem=n.renderItem.bind(n),n.slideLeft=n.slideLeft.bind(n),n.slideRight=n.slideRight.bind(n),n.toggleFullScreen=n.toggleFullScreen.bind(n),n.togglePlay=n.togglePlay.bind(n),n.unthrottledSlideToIndex=n.slideToIndex,n.slideToIndex=EX(n.unthrottledSlideToIndex,t.slideDuration,{trailing:!1}),t.lazyLoad&&(n.lazyLoaded=[]),n}return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&AD(t,n)}(e,Tt.default.Component),function(t,n){return n&&ECt(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"componentDidMount",value:function(){var t=this.props,n=t.autoPlay,r=t.useWindowKeyDown;n&&this.play(),r?window.addEventListener("keydown",this.handleKeyDown):this.imageGallery.current.addEventListener("keydown",this.handleKeyDown),window.addEventListener("mousedown",this.handleMouseDown),this.initSlideWrapperResizeObserver(this.imageGallerySlideWrapper),this.initThumbnailWrapperResizeObserver(this.thumbnailsWrapper),this.addScreenChangeEvent()}},{key:"componentDidUpdate",value:function(t,n){var r=this.props,i=r.items,a=r.lazyLoad,o=r.slideDuration,l=r.slideInterval,c=r.startIndex,u=r.thumbnailPosition,d=r.showThumbnails,f=r.useWindowKeyDown,m=this.state,h=m.currentIndex,g=m.isPlaying,y=t.items.length!==i.length,v=!rCt()(t.items,i),x=t.startIndex!==c,w=t.thumbnailPosition!==u,j=t.showThumbnails!==d;l===t.slideInterval&&o===t.slideDuration||g&&(this.pause(),this.play()),w&&(this.removeResizeObserver(),this.initSlideWrapperResizeObserver(this.imageGallerySlideWrapper),this.initThumbnailWrapperResizeObserver(this.thumbnailsWrapper)),j&&d&&this.initThumbnailWrapperResizeObserver(this.thumbnailsWrapper),j&&!d&&this.removeThumbnailsResizeObserver(),(y||j)&&this.handleResize(),n.currentIndex!==h&&this.slideThumbnailBar(),t.slideDuration!==o&&(this.slideToIndex=EX(this.unthrottledSlideToIndex,o,{trailing:!1})),!a||t.lazyLoad&&!v||(this.lazyLoaded=[]),f!==t.useWindowKeyDown&&(f?(this.imageGallery.current.removeEventListener("keydown",this.handleKeyDown),window.addEventListener("keydown",this.handleKeyDown)):(window.removeEventListener("keydown",this.handleKeyDown),this.imageGallery.current.addEventListener("keydown",this.handleKeyDown))),(x||v)&&this.setState({currentIndex:c,slideStyle:{transition:"none"}})}},{key:"componentWillUnmount",value:function(){var t=this.props.useWindowKeyDown;window.removeEventListener("mousedown",this.handleMouseDown),this.removeScreenChangeEvent(),this.removeResizeObserver(),this.playPauseIntervalId&&(window.clearInterval(this.playPauseIntervalId),this.playPauseIntervalId=null),this.transitionTimer&&window.clearTimeout(this.transitionTimer),t?window.removeEventListener("keydown",this.handleKeyDown):this.imageGallery.current.removeEventListener("keydown",this.handleKeyDown)}},{key:"onSliding",value:function(){var t=this,n=this.state,r=n.currentIndex,i=n.isTransitioning,a=this.props,o=a.onSlide,l=a.slideDuration;this.transitionTimer=window.setTimeout(function(){i&&(t.setState({isTransitioning:!i,isSwipingThumbnail:!1}),o&&o(r))},l+50)}},{key:"onThumbnailClick",value:function(t,n){var r=this.props,i=r.onThumbnailClick,a=r.items,o=this.state.currentIndex;t.target.parentNode.parentNode.blur(),o!==n&&(a.length===2?this.slideToIndexWithStyleReset(n,t):this.slideToIndex(n,t)),i&&i(t,n)}},{key:"onThumbnailMouseOver",value:function(t,n){var r=this;this.thumbnailMouseOverTimer&&(window.clearTimeout(this.thumbnailMouseOverTimer),this.thumbnailMouseOverTimer=null),this.thumbnailMouseOverTimer=window.setTimeout(function(){r.slideToIndex(n),r.pause()},300)}},{key:"onThumbnailMouseLeave",value:function(){if(this.thumbnailMouseOverTimer){var t=this.props.autoPlay;window.clearTimeout(this.thumbnailMouseOverTimer),this.thumbnailMouseOverTimer=null,t&&this.play()}}},{key:"setThumbsTranslate",value:function(t){this.setState({thumbsTranslate:t})}},{key:"setModalFullscreen",value:function(t){var n=this.props.onScreenChange;this.setState({modalFullscreen:t}),n&&n(t)}},{key:"getThumbsTranslate",value:function(t){var n,r=this.props,i=r.disableThumbnailScroll,a=r.items,o=this.state,l=o.thumbnailsWrapperWidth,c=o.thumbnailsWrapperHeight,u=this.thumbnails&&this.thumbnails.current;if(i)return 0;if(u){if(this.isThumbnailVertical()){if(u.scrollHeight<=c)return 0;n=u.scrollHeight-c}else{if(u.scrollWidth<=l||l<=0)return 0;n=u.scrollWidth-l}return t*(n/(a.length-1))}return 0}},{key:"getThumbnailPositionClassName",value:function(t){switch(t){case"left":t=" ".concat("image-gallery-thumbnails-left");break;case"right":t=" ".concat("image-gallery-thumbnails-right");break;case"bottom":t=" ".concat("image-gallery-thumbnails-bottom");break;case"top":t=" ".concat("image-gallery-thumbnails-top")}return t}},{key:"getAlignmentClassName",value:function(t){var n=this.state.currentIndex,r=this.props,i=r.infinite,a=r.items,o="",l="image-gallery-left",c="image-gallery-right";switch(t){case n-1:o=" ".concat(l);break;case n:o=" ".concat("image-gallery-center");break;case n+1:o=" ".concat(c)}return a.length>=3&&i&&(t===0&&n===a.length-1?o=" ".concat(c):t===a.length-1&&n===0&&(o=" ".concat(l))),o}},{key:"getTranslateXForTwoSlide",value:function(t){var n=this.state,r=n.currentIndex,i=n.currentSlideOffset,a=n.previousIndex,o=r!==a,l=t===0&&a===0,c=t===1&&a===1,u=t===0&&r===1,d=t===1&&r===0,f=i===0,m=-100*r+100*t+i;return i>0?this.direction="left":i<0&&(this.direction="right"),d&&i>0&&(m=-100+i),u&&i<0&&(m=100+i),o?l&&f&&this.direction==="left"?m=100:c&&f&&this.direction==="right"&&(m=-100):(d&&f&&this.direction==="left"&&(m=-100),u&&f&&this.direction==="right"&&(m=100)),m}},{key:"getThumbnailBarHeight",value:function(){return this.isThumbnailVertical()?{height:this.state.gallerySlideWrapperHeight}:{}}},{key:"getSlideStyle",value:function(t){var n=this.state,r=n.currentIndex,i=n.currentSlideOffset,a=n.slideStyle,o=this.props,l=o.infinite,c=o.items,u=o.useTranslate3D,d=o.isRTL,f=o.slideVertically,m=-100*r,h=c.length-1,g=(m+100*t)*(d?-1:1)+i;l&&c.length>2&&(r===0&&t===h?g=-100*(d?-1:1)+i:r===h&&t===0&&(g=100*(d?-1:1)+i)),l&&c.length===2&&(g=this.getTranslateXForTwoSlide(t));var y=f?"translate(0, ".concat(g,"%)"):"translate(".concat(g,"%, 0)");return u&&(y=f?"translate3d(0, ".concat(g,"%, 0)"):"translate3d(".concat(g,"%, 0, 0)")),UX({display:this.isSlideVisible(t)?"inherit":"none",WebkitTransform:y,MozTransform:y,msTransform:y,OTransform:y,transform:y},a)}},{key:"getCurrentIndex",value:function(){return this.state.currentIndex}},{key:"getThumbnailStyle",value:function(){var t,n=this.props,r=n.useTranslate3D,i=n.isRTL,a=this.state,o=a.thumbsTranslate,l=a.thumbsStyle,c=i?-1*o:o;return this.isThumbnailVertical()?(t="translate(0, ".concat(o,"px)"),r&&(t="translate3d(0, ".concat(o,"px, 0)"))):(t="translate(".concat(c,"px, 0)"),r&&(t="translate3d(".concat(c,"px, 0, 0)"))),UX({WebkitTransform:t,MozTransform:t,msTransform:t,OTransform:t,transform:t},l)}},{key:"getSlideItems",value:function(){var t=this,n=this.state.currentIndex,r=this.props,i=r.items,a=r.slideOnThumbnailOver,o=r.onClick,l=r.lazyLoad,c=r.onTouchMove,u=r.onTouchEnd,d=r.onTouchStart,f=r.onMouseOver,m=r.onMouseLeave,h=r.renderItem,g=r.renderThumbInner,y=r.showThumbnails,v=r.showBullets,x=[],w=[],j=[];return i.forEach(function(_,S){var k=t.getAlignmentClassName(S),P=_.originalClass?" ".concat(_.originalClass):"",M=_.thumbnailClass?" ".concat(_.thumbnailClass):"",T=_.renderItem||h||t.renderItem,R=_.renderThumbInner||g||t.renderThumbInner,D=!l||k||t.lazyLoaded[S];D&&l&&!t.lazyLoaded[S]&&(t.lazyLoaded[S]=!0);var I=t.getSlideStyle(S),B=Tt.default.createElement("div",{"aria-label":"Go to Slide ".concat(S+1),key:"slide-".concat(S),tabIndex:"-1",className:"image-gallery-slide ".concat(k," ").concat(P),style:I,onClick:o,onKeyUp:t.handleSlideKeyUp,onTouchMove:c,onTouchEnd:u,onTouchStart:d,onMouseOver:f,onFocus:f,onMouseLeave:m,role:"button"},D?T(_):Tt.default.createElement("div",{style:{height:"100%"}}));if(x.push(B),y&&_.thumbnail){var $=mg("image-gallery-thumbnail",M,{active:n===S});w.push(Tt.default.createElement("button",{key:"thumbnail-".concat(S),type:"button",tabIndex:"0","aria-pressed":n===S?"true":"false","aria-label":"Go to Slide ".concat(S+1),className:$,onMouseLeave:a?t.onThumbnailMouseLeave:null,onMouseOver:function(Y){return t.handleThumbnailMouseOver(Y,S)},onFocus:function(Y){return t.handleThumbnailMouseOver(Y,S)},onKeyUp:function(Y){return t.handleThumbnailKeyUp(Y,S)},onClick:function(Y){return t.onThumbnailClick(Y,S)}},R(_)))}if(v){var K=mg("image-gallery-bullet",_.bulletClass,{active:n===S});j.push(Tt.default.createElement("button",{type:"button",key:"bullet-".concat(S),className:K,onClick:function(Y){return t.onBulletClick(Y,S)},"aria-pressed":n===S?"true":"false","aria-label":"Go to Slide ".concat(S+1)}))}}),{slides:x,thumbnails:w,bullets:j}}},{key:"ignoreIsTransitioning",value:function(){var t=this.props.items,n=this.state,r=n.previousIndex,i=n.currentIndex,a=t.length-1;return Math.abs(r-i)>1&&!(r===0&&i===a)&&!(r===a&&i===0)}},{key:"isFirstOrLastSlide",value:function(t){return t===this.props.items.length-1||t===0}},{key:"slideIsTransitioning",value:function(t){var n=this.state,r=n.isTransitioning,i=n.previousIndex,a=n.currentIndex;return r&&!(t===i||t===a)}},{key:"isSlideVisible",value:function(t){return!this.slideIsTransitioning(t)||this.ignoreIsTransitioning()&&!this.isFirstOrLastSlide(t)}},{key:"slideThumbnailBar",value:function(){var t=this.state,n=t.currentIndex,r=t.isSwipingThumbnail,i=-this.getThumbsTranslate(n);r||(n===0?this.setState({thumbsTranslate:0,thumbsSwipedTranslate:0}):this.setState({thumbsTranslate:i,thumbsSwipedTranslate:i}))}},{key:"canSlide",value:function(){return this.props.items.length>=2}},{key:"canSlideLeft",value:function(){var t=this.props,n=t.infinite,r=t.isRTL;return n||(r?this.canSlideNext():this.canSlidePrevious())}},{key:"canSlideRight",value:function(){var t=this.props,n=t.infinite,r=t.isRTL;return n||(r?this.canSlidePrevious():this.canSlideNext())}},{key:"canSlidePrevious",value:function(){return this.state.currentIndex>0}},{key:"canSlideNext",value:function(){return this.state.currentIndex<this.props.items.length-1}},{key:"handleSwiping",value:function(t){var n=t.event,r=t.absX,i=t.absY,a=t.dir,o=this.props,l=o.disableSwipe,c=o.stopPropagation,u=o.swipingTransitionDuration,d=this.state,f=d.galleryWidth,m=d.galleryHeight,h=d.isTransitioning,g=d.swipingUpDown,y=d.swipingLeftRight,v=this.props.slideVertically;if((a!==Zf&&a!==Qf&&!g||y||(g||this.setState({swipingUpDown:!0}),v))&&(a!==Yf&&a!==Xf||y||this.setState({swipingLeftRight:!0}),!l))if(c&&n.preventDefault(),h)this.setState({currentSlideOffset:0});else{if((a===Yf||a===Xf)&&v||(a===Zf||a===Qf)&&!v)return;var x=_x(_x(_x(_x({},Yf,-1),Xf,1),Zf,-1),Qf,1)[a],w=r/f*100;v&&(w=i/m*100),Math.abs(w)>=100&&(w=100);var j={transition:"transform ".concat(u,"ms ease-out")};this.setState({currentSlideOffset:x*w,slideStyle:j})}}},{key:"handleThumbnailSwiping",value:function(t){var n=t.event,r=t.absX,i=t.absY,a=t.dir,o=this.props,l=o.stopPropagation,c=o.swipingThumbnailTransitionDuration,u=this.state,d=u.thumbsSwipedTranslate,f=u.thumbnailsWrapperHeight,m=u.thumbnailsWrapperWidth,h=u.swipingUpDown,g=u.swipingLeftRight;if(this.isThumbnailVertical()){if((a===Yf||a===Xf||g)&&!h)return void(g||this.setState({swipingLeftRight:!0}));a!==Zf&&a!==Qf||h||this.setState({swipingUpDown:!0})}else{if((a===Zf||a===Qf||h)&&!g)return void(h||this.setState({swipingUpDown:!0}));a!==Yf&&a!==Xf||g||this.setState({swipingLeftRight:!0})}var y,v,x,w,j,_=this.thumbnails&&this.thumbnails.current;if(this.isThumbnailVertical()?(y=d+(a===Qf?i:-i),v=_.scrollHeight-f+20,x=Math.abs(y)>v,w=y>20,j=_.scrollHeight<=f):(y=d+(a===Xf?r:-r),v=_.scrollWidth-m+20,x=Math.abs(y)>v,w=y>20,j=_.scrollWidth<=m),!j&&(a!==Yf&&a!==Zf||!x)&&(a!==Xf&&a!==Qf||!w)){l&&n.stopPropagation();var S={transition:"transform ".concat(c,"ms ease-out")};this.setState({thumbsTranslate:y,thumbsStyle:S})}}},{key:"handleOnThumbnailSwiped",value:function(){var t=this.state.thumbsTranslate,n=this.props.slideDuration;this.resetSwipingDirection(),this.setState({isSwipingThumbnail:!0,thumbsSwipedTranslate:t,thumbsStyle:{transition:"all ".concat(n,"ms ease-out")}})}},{key:"sufficientSwipe",value:function(){var t=this.state.currentSlideOffset,n=this.props.swipeThreshold;return Math.abs(t)>n}},{key:"resetSwipingDirection",value:function(){var t=this.state,n=t.swipingUpDown,r=t.swipingLeftRight;n&&this.setState({swipingUpDown:!1}),r&&this.setState({swipingLeftRight:!1})}},{key:"handleOnSwiped",value:function(t){var n=t.event,r=t.dir,i=t.velocity,a=this.props,o=a.disableSwipe,l=a.stopPropagation,c=a.flickThreshold,u=this.props.slideVertically;if(!o){var d=this.props.isRTL;l&&n.stopPropagation(),this.resetSwipingDirection();var f=(r===Yf?1:-1)*(d?-1:1);u&&(f=r===Zf?1:-1);var m=u?i>c&&!(r===Yf||r===Xf):i>c&&!(r===Zf||r===Qf);this.handleOnSwipedTo(f,m)}}},{key:"handleOnSwipedTo",value:function(t,n){var r=this.state,i=r.currentIndex,a=r.isTransitioning,o=i;!this.sufficientSwipe()&&!n||a||(o+=t),(t===-1&&!this.canSlideLeft()||t===1&&!this.canSlideRight())&&(o=i),this.unthrottledSlideToIndex(o)}},{key:"handleMouseDown",value:function(){this.imageGallery.current.classList.add("image-gallery-using-mouse")}},{key:"handleKeyDown",value:function(t){var n=this.props,r=n.disableKeyDown,i=n.useBrowserFullscreen,a=this.state.isFullscreen;if(this.imageGallery.current.classList.remove("image-gallery-using-mouse"),!r)switch(parseInt(t.keyCode||t.which||0,10)){case 37:this.canSlideLeft()&&!this.playPauseIntervalId&&this.slideLeft(t);break;case 39:this.canSlideRight()&&!this.playPauseIntervalId&&this.slideRight(t);break;case 27:a&&!i&&this.exitFullScreen()}}},{key:"handleImageError",value:function(t){var n=this.props.onErrorImageURL;n&&t.target.src.indexOf(n)===-1&&(t.target.src=n)}},{key:"removeThumbnailsResizeObserver",value:function(){this.resizeThumbnailWrapperObserver&&this.thumbnailsWrapper&&this.thumbnailsWrapper.current&&(this.resizeThumbnailWrapperObserver.unobserve(this.thumbnailsWrapper.current),this.resizeThumbnailWrapperObserver=null)}},{key:"removeResizeObserver",value:function(){this.resizeSlideWrapperObserver&&this.imageGallerySlideWrapper&&this.imageGallerySlideWrapper.current&&(this.resizeSlideWrapperObserver.unobserve(this.imageGallerySlideWrapper.current),this.resizeSlideWrapperObserver=null),this.removeThumbnailsResizeObserver()}},{key:"handleResize",value:function(){var t=this.state.currentIndex;this.imageGallery&&(this.imageGallery&&this.imageGallery.current&&this.setState({galleryWidth:this.imageGallery.current.offsetWidth,galleryHeight:this.imageGallery.current.offsetHeight}),this.imageGallerySlideWrapper&&this.imageGallerySlideWrapper.current&&this.setState({gallerySlideWrapperHeight:this.imageGallerySlideWrapper.current.offsetHeight}),this.setThumbsTranslate(-this.getThumbsTranslate(t)))}},{key:"initSlideWrapperResizeObserver",value:function(t){var n=this;t&&!t.current||(this.resizeSlideWrapperObserver=new OX(bD(function(r){r&&r.forEach(function(i){n.setState({thumbnailsWrapperWidth:i.contentRect.width},n.handleResize)})},50)),this.resizeSlideWrapperObserver.observe(t.current))}},{key:"initThumbnailWrapperResizeObserver",value:function(t){var n=this;t&&!t.current||(this.resizeThumbnailWrapperObserver=new OX(bD(function(r){r&&r.forEach(function(i){n.setState({thumbnailsWrapperHeight:i.contentRect.height},n.handleResize)})},50)),this.resizeThumbnailWrapperObserver.observe(t.current))}},{key:"toggleFullScreen",value:function(){this.state.isFullscreen?this.exitFullScreen():this.fullScreen()}},{key:"togglePlay",value:function(){this.playPauseIntervalId?this.pause():this.play()}},{key:"handleScreenChange",value:function(){var t=this.props,n=t.onScreenChange,r=t.useBrowserFullscreen,i=document.fullscreenElement||document.msFullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement,a=this.imageGallery.current===i;n&&n(a),r&&this.setState({isFullscreen:a})}},{key:"slideToIndex",value:function(t,n){var r=this.state,i=r.currentIndex,a=r.isTransitioning,o=this.props,l=o.items,c=o.slideDuration,u=o.onBeforeSlide;if(!a){n&&this.playPauseIntervalId&&(this.pause(!1),this.play(!1));var d=l.length-1,f=t;t<0?f=d:t>d&&(f=0),u&&f!==i&&u(f),this.setState({previousIndex:i,currentIndex:f,isTransitioning:f!==i,currentSlideOffset:0,slideStyle:{transition:"all ".concat(c,"ms ease-out")}},this.onSliding)}}},{key:"slideLeft",value:function(t){var n=this.props.isRTL;this.slideTo(t,n?"right":"left")}},{key:"slideRight",value:function(t){var n=this.props.isRTL;this.slideTo(t,n?"left":"right")}},{key:"slideTo",value:function(t,n){var r=this.state,i=r.currentIndex,a=r.isTransitioning,o=this.props.items,l=i+(n==="left"?-1:1);a||(o.length===2?this.slideToIndexWithStyleReset(l,t):this.slideToIndex(l,t))}},{key:"slideToIndexWithStyleReset",value:function(t,n){var r=this,i=this.state,a=i.currentIndex,o=i.currentSlideOffset;this.setState({currentSlideOffset:o+(a>t?.001:-.001),slideStyle:{transition:"none"}},function(){window.setTimeout(function(){return r.slideToIndex(t,n)},25)})}},{key:"handleThumbnailMouseOver",value:function(t,n){this.props.slideOnThumbnailOver&&this.onThumbnailMouseOver(t,n)}},{key:"handleThumbnailKeyUp",value:function(t,n){HX(t)&&this.onThumbnailClick(t,n)}},{key:"handleSlideKeyUp",value:function(t){HX(t)&&(0,this.props.onClick)(t)}},{key:"isThumbnailVertical",value:function(){var t=this.props.thumbnailPosition;return t==="left"||t==="right"}},{key:"addScreenChangeEvent",value:function(){var t=this;WX.forEach(function(n){document.addEventListener(n,t.handleScreenChange)})}},{key:"removeScreenChangeEvent",value:function(){var t=this;WX.forEach(function(n){document.removeEventListener(n,t.handleScreenChange)})}},{key:"fullScreen",value:function(){var t=this.props.useBrowserFullscreen,n=this.imageGallery.current;t?n.requestFullscreen?n.requestFullscreen():n.msRequestFullscreen?n.msRequestFullscreen():n.mozRequestFullScreen?n.mozRequestFullScreen():n.webkitRequestFullscreen?n.webkitRequestFullscreen():this.setModalFullscreen(!0):this.setModalFullscreen(!0),this.setState({isFullscreen:!0})}},{key:"exitFullScreen",value:function(){var t=this.state.isFullscreen,n=this.props.useBrowserFullscreen;t&&(n?document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen?document.msExitFullscreen():this.setModalFullscreen(!1):this.setModalFullscreen(!1),this.setState({isFullscreen:!1}))}},{key:"pauseOrPlay",value:function(){var t=this.props.infinite,n=this.state.currentIndex;t||this.canSlideRight()?this.slideToIndex(n+1):this.pause()}},{key:"play",value:function(){var t=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],n=this.props,r=n.onPlay,i=n.slideInterval,a=n.slideDuration,o=this.state.currentIndex;this.playPauseIntervalId||(this.setState({isPlaying:!0}),this.playPauseIntervalId=window.setInterval(this.pauseOrPlay,Math.max(i,a)),r&&t&&r(o))}},{key:"pause",value:function(){var t=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],n=this.props.onPause,r=this.state.currentIndex;this.playPauseIntervalId&&(window.clearInterval(this.playPauseIntervalId),this.playPauseIntervalId=null,this.setState({isPlaying:!1}),n&&t&&n(r))}},{key:"isImageLoaded",value:function(t){return!!this.loadedImages[t.original]||(this.loadedImages[t.original]=!0,!1)}},{key:"handleImageLoaded",value:function(t,n){var r=this.props.onImageLoad;!this.loadedImages[n]&&r&&(this.loadedImages[n]=!0,r(t))}},{key:"renderItem",value:function(t){var n=this.state.isFullscreen,r=this.props.onImageError||this.handleImageError;return Tt.default.createElement(gCt,{description:t.description,fullscreen:t.fullscreen,handleImageLoaded:this.handleImageLoaded,isFullscreen:n,onImageError:r,original:t.original,originalAlt:t.originalAlt,originalHeight:t.originalHeight,originalWidth:t.originalWidth,originalTitle:t.originalTitle,sizes:t.sizes,loading:t.loading,srcSet:t.srcSet})}},{key:"renderThumbInner",value:function(t){var n=this.props.onThumbnailError||this.handleImageError;return Tt.default.createElement("span",{className:"image-gallery-thumbnail-inner"},Tt.default.createElement("img",{className:"image-gallery-thumbnail-image",src:t.thumbnail,height:t.thumbnailHeight,width:t.thumbnailWidth,alt:t.thumbnailAlt,title:t.thumbnailTitle,loading:t.thumbnailLoading,onError:n}),t.thumbnailLabel&&Tt.default.createElement("div",{className:"image-gallery-thumbnail-label"},t.thumbnailLabel))}},{key:"render",value:function(){var t=this.state,n=t.currentIndex,r=t.isFullscreen,i=t.modalFullscreen,a=t.isPlaying,o=this.props,l=o.additionalClass,c=o.disableThumbnailSwipe,u=o.indexSeparator,d=o.isRTL,f=o.items,m=o.thumbnailPosition,h=o.renderFullscreenButton,g=o.renderCustomControls,y=o.renderLeftNav,v=o.renderRightNav,x=o.renderTopNav,w=o.renderBottomNav,j=o.showBullets,_=o.showFullscreenButton,S=o.showIndex,k=o.showThumbnails,P=o.showNav,M=o.showPlayButton,T=o.slideVertically,R=o.renderPlayPauseButton,D=this.getThumbnailStyle(),I=this.getSlideItems(),B=I.slides,$=I.thumbnails,K=I.bullets,Y=mg("image-gallery-slide-wrapper",this.getThumbnailPositionClassName(m),{"image-gallery-rtl":d}),Q=mg("image-gallery-bullets",{"image-gallery-bullets-vertical":T}),H=Tt.default.createElement("div",{ref:this.imageGallerySlideWrapper,className:Y},g&&g(),this.canSlide()?Tt.default.createElement(Tt.default.Fragment,null,P&&Tt.default.createElement(Tt.default.Fragment,null,T?x(this.slideLeft,!this.canSlideLeft()):y(this.slideLeft,!this.canSlideLeft()),T?w(this.slideRight,!this.canSlideRight()):v(this.slideRight,!this.canSlideRight())),Tt.default.createElement(VX,{className:"image-gallery-swipe",delta:0,onSwiping:this.handleSwiping,onSwiped:this.handleOnSwiped},Tt.default.createElement("div",{className:"image-gallery-slides"},B))):Tt.default.createElement("div",{className:"image-gallery-slides"},B),M&&R(this.togglePlay,a),j&&Tt.default.createElement("div",{className:Q},Tt.default.createElement("div",{className:"image-gallery-bullets-container",role:"navigation","aria-label":"Bullet Navigation"},K)),_&&h(this.toggleFullScreen,r),S&&Tt.default.createElement("div",{className:"image-gallery-index"},Tt.default.createElement("span",{className:"image-gallery-index-current"},n+1),Tt.default.createElement("span",{className:"image-gallery-index-separator"},u),Tt.default.createElement("span",{className:"image-gallery-index-total"},f.length))),G=mg("image-gallery",l,{"fullscreen-modal":i}),U=mg("image-gallery-content",this.getThumbnailPositionClassName(m),{fullscreen:r}),ee=mg("image-gallery-thumbnails-wrapper",this.getThumbnailPositionClassName(m),{"thumbnails-wrapper-rtl":!this.isThumbnailVertical()&&d},{"thumbnails-swipe-horizontal":!this.isThumbnailVertical()&&!c},{"thumbnails-swipe-vertical":this.isThumbnailVertical()&&!c});return Tt.default.createElement("div",{ref:this.imageGallery,className:G,"aria-live":"polite"},Tt.default.createElement("div",{className:U},(m==="bottom"||m==="right")&&H,k&&$.length>0?Tt.default.createElement(VX,{className:ee,delta:0,onSwiping:!c&&this.handleThumbnailSwiping,onSwiped:!c&&this.handleOnThumbnailSwiped},Tt.default.createElement("div",{className:"image-gallery-thumbnails",ref:this.thumbnailsWrapper,style:this.getThumbnailBarHeight()},Tt.default.createElement("nav",{ref:this.thumbnails,className:"image-gallery-thumbnails-container",style:D,"aria-label":"Thumbnail Navigation"},$))):null,(m==="top"||m==="left")&&H))}}])}();TD.propTypes={flickThreshold:it.number,items:(0,it.arrayOf)((0,it.shape)({bulletClass:it.string,bulletOnClick:it.func,description:it.string,original:it.string,originalHeight:it.number,originalWidth:it.number,loading:it.string,thumbnailHeight:it.number,thumbnailWidth:it.number,thumbnailLoading:it.string,fullscreen:it.string,originalAlt:it.string,originalTitle:it.string,thumbnail:it.string,thumbnailAlt:it.string,thumbnailLabel:it.string,thumbnailTitle:it.string,originalClass:it.string,thumbnailClass:it.string,renderItem:it.func,renderThumbInner:it.func,imageSet:PCt,srcSet:it.string,sizes:it.string})).isRequired,showNav:it.bool,autoPlay:it.bool,lazyLoad:it.bool,infinite:it.bool,showIndex:it.bool,showBullets:it.bool,showThumbnails:it.bool,showPlayButton:it.bool,showFullscreenButton:it.bool,disableThumbnailScroll:it.bool,disableKeyDown:it.bool,disableSwipe:it.bool,disableThumbnailSwipe:it.bool,useBrowserFullscreen:it.bool,onErrorImageURL:it.string,indexSeparator:it.string,thumbnailPosition:(0,it.oneOf)(["top","bottom","left","right"]),startIndex:it.number,slideDuration:it.number,slideInterval:it.number,slideOnThumbnailOver:it.bool,swipeThreshold:it.number,swipingTransitionDuration:it.number,swipingThumbnailTransitionDuration:it.number,onSlide:it.func,onBeforeSlide:it.func,onScreenChange:it.func,onPause:it.func,onPlay:it.func,onClick:it.func,onImageLoad:it.func,onImageError:it.func,onTouchMove:it.func,onTouchEnd:it.func,onTouchStart:it.func,onMouseOver:it.func,onMouseLeave:it.func,onBulletClick:it.func,onThumbnailError:it.func,onThumbnailClick:it.func,renderCustomControls:it.func,renderLeftNav:it.func,renderRightNav:it.func,renderTopNav:it.func,renderBottomNav:it.func,renderPlayPauseButton:it.func,renderFullscreenButton:it.func,renderItem:it.func,renderThumbInner:it.func,stopPropagation:it.bool,additionalClass:it.string,useTranslate3D:it.bool,isRTL:it.bool,useWindowKeyDown:it.bool,slideVertically:it.bool},TD.defaultProps={onErrorImageURL:"",additionalClass:"",showNav:!0,autoPlay:!1,lazyLoad:!1,infinite:!0,showIndex:!1,showBullets:!1,showThumbnails:!0,showPlayButton:!0,showFullscreenButton:!0,disableThumbnailScroll:!1,disableKeyDown:!1,disableSwipe:!1,disableThumbnailSwipe:!1,useTranslate3D:!0,isRTL:!1,useBrowserFullscreen:!0,flickThreshold:.4,stopPropagation:!1,indexSeparator:" / ",thumbnailPosition:"bottom",startIndex:0,slideDuration:450,swipingTransitionDuration:0,swipingThumbnailTransitionDuration:0,onSlide:null,onBeforeSlide:null,onScreenChange:null,onPause:null,onPlay:null,onClick:null,onImageLoad:null,onImageError:null,onTouchMove:null,onTouchEnd:null,onTouchStart:null,onMouseOver:null,onMouseLeave:null,onBulletClick:null,onThumbnailError:null,onThumbnailClick:null,renderCustomControls:null,renderThumbInner:null,renderItem:null,slideInterval:3e3,slideOnThumbnailOver:!1,swipeThreshold:30,slideVertically:!1,renderLeftNav:function(e,t){return Tt.default.createElement(wCt,{onClick:e,disabled:t})},renderRightNav:function(e,t){return Tt.default.createElement(jCt,{onClick:e,disabled:t})},renderTopNav:function(e,t){return Tt.default.createElement(kCt,{onClick:e,disabled:t})},renderBottomNav:function(e,t){return Tt.default.createElement(CCt,{onClick:e,disabled:t})},renderPlayPauseButton:function(e,t){return Tt.default.createElement(NCt,{onClick:e,isPlaying:t})},renderFullscreenButton:function(e,t){return Tt.default.createElement(bCt,{onClick:e,isFullscreen:t})},useWindowKeyDown:!0};const ACt=TD;var TCt=rbe.A;function mbe({imageUrl:e,imageName:t,images:n,onDownload:r,className:i=""}){const[a,o]=b.useState(!1),[l,c]=b.useState(1),[u,d]=b.useState(0),f=b.useCallback(()=>{c(v=>Math.min(v+.25,3))},[]),m=b.useCallback(()=>{c(v=>Math.max(v-.25,.5))},[]),h=b.useCallback(()=>{d(v=>(v+90)%360)},[]),g=b.useCallback(()=>{c(1),d(0)},[]);if(n&&n.length>1)return s.jsx("div",{className:i,children:s.jsx(TCt,{items:n,showPlayButton:!1,showFullscreenButton:!0,showThumbnails:!0,thumbnailPosition:"bottom",additionalClass:"image-gallery-custom"})});const y=s.jsxs("div",{className:`relative w-full h-full ${i}`,children:[s.jsxs("div",{className:"absolute top-2 right-2 z-10 flex gap-2",children:[s.jsx(Oe,{size:"sm",variant:"secondary",onClick:m,disabled:l<=.5,className:"h-8",children:s.jsx(p_e,{className:"h-4 w-4"})}),s.jsx(Oe,{size:"sm",variant:"secondary",onClick:f,disabled:l>=3,className:"h-8",children:s.jsx(m_e,{className:"h-4 w-4"})}),s.jsx(Oe,{size:"sm",variant:"secondary",onClick:h,className:"h-8",children:s.jsx(fie,{className:"h-4 w-4"})}),r&&s.jsx(Oe,{size:"sm",variant:"secondary",onClick:r,className:"h-8",children:s.jsx(nc,{className:"h-4 w-4"})}),l!==1||u!==0?s.jsx(Oe,{size:"sm",variant:"secondary",onClick:g,className:"h-8",children:s.jsx(Ra,{className:"h-4 w-4"})}):null]}),s.jsx("div",{className:"flex items-center justify-center w-full h-full overflow-auto bg-gray-100 dark:bg-gray-900 p-4",children:s.jsx("img",{src:e,alt:t||"Imagen",className:"max-w-full max-h-full object-contain transition-transform duration-200",style:{transform:`scale(${l}) rotate(${u}deg)`}})}),s.jsxs("div",{className:"absolute bottom-2 left-2 z-10 bg-black/50 text-white px-2 py-1 rounded text-xs",children:[Math.round(l*100),"%"]})]});return a?s.jsx(zr,{open:a,onOpenChange:o,children:s.jsx(Ir,{className:"max-w-[95vw] max-h-[95vh] w-full h-full p-0",children:y})}):y}function OCt({file:e,url:t}){const n=e.type.startsWith("image/"),r=t||URL.createObjectURL(e);return s.jsx(Ue,{className:"p-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[n?s.jsx(lie,{className:"h-5 w-5 text-primary"}):s.jsx(Ds,{className:"h-5 w-5 text-primary"}),s.jsx("p",{className:"font-semibold text-base",children:e.name})]}),s.jsx("div",{className:"border-2 border-border rounded-lg overflow-hidden h-96",children:n?s.jsx(mbe,{imageUrl:r,imageName:e.name,className:"h-full"}):s.jsx(nbe,{fileUrl:r,fileName:e.name,className:"h-full"})})]})})}function LCt({isOpen:e,onClose:t,voucher:n,onSuccess:r}){const{toast:i}=zi(),[a,o]=b.useState(null),[l,c]=b.useState(null),[u,d]=b.useState(!1),f=Wn({mutationFn:async w=>{const j=new FormData;j.append("file",w);const _=await fetch(`/api/payment-vouchers/${n.id}/pay`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("authToken")||""}`},body:j});if(!_.ok){const S=await _.json();throw new Error(S.error||"Error al subir comprobante de pago")}return await _.json()},onSuccess:w=>{i({title:" Pago registrado exitosamente",description:w.requiresREP?"El proveedor requiere REP. Pendiente complemento de pago.":"El pago ha sido completado y cerrado contablemente."}),ii.invalidateQueries({queryKey:["/api/payment-vouchers"]}),o(null),c(null),r==null||r(),t()},onError:w=>{i({title:"Error al registrar pago",description:w.message||"No se pudo registrar el pago",variant:"destructive"})}}),m=b.useCallback(w=>{if(w.target.files&&w.target.files[0]){const j=w.target.files[0];if(o(j),j.type==="application/pdf"){const _=new FileReader;_.onload=S=>{var k;c((k=S.target)==null?void 0:k.result)},_.readAsDataURL(j)}else c(URL.createObjectURL(j))}},[]),h=b.useCallback(w=>{w.preventDefault(),w.stopPropagation(),d(!0)},[]),g=b.useCallback(w=>{w.preventDefault(),w.stopPropagation(),d(!1)},[]),y=b.useCallback(w=>{w.preventDefault(),w.stopPropagation(),d(!1);const j=w.dataTransfer.files[0];if(j)if(o(j),j.type==="application/pdf"){const _=new FileReader;_.onload=S=>{var k;c((k=S.target)==null?void 0:k.result)},_.readAsDataURL(j)}else c(URL.createObjectURL(j))},[]),v=b.useCallback(()=>{o(null),l&&(URL.revokeObjectURL(l),c(null))},[l]),x=b.useCallback(()=>{if(!a){i({title:"Error",description:"Selecciona un comprobante de pago",variant:"destructive"});return}f.mutate(a)},[a,f,i]);return s.jsx(zr,{open:e,onOpenChange:t,children:s.jsxs(Ir,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(Vr,{children:[s.jsxs(qr,{className:"text-2xl font-bold flex items-center gap-2",children:[s.jsx(aie,{className:"h-6 w-6 text-emerald-600"}),"Registrar Pago"]}),s.jsxs(Rs,{className:"text-base",children:["Sube el comprobante de pago para la factura de: ",n.clientName]})]}),s.jsxs("div",{className:"space-y-6 py-4",children:[s.jsx(Ue,{className:"p-4 bg-emerald-50 dark:bg-emerald-950/20 border-emerald-200 dark:border-emerald-800",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Proveedor/Cliente"}),s.jsx("p",{className:"font-semibold",children:n.clientName})]}),n.extractedAmount&&n.extractedCurrency&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Monto a Pagar"}),s.jsxs("p",{className:"font-semibold text-emerald-700 dark:text-emerald-400",children:[n.extractedCurrency," $",n.extractedAmount.toLocaleString()]})]}),n.extractedReference&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Referencia Factura"}),s.jsx("p",{className:"font-semibold",children:n.extractedReference})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Fecha de Factura"}),s.jsx("p",{className:"font-semibold",children:er(new Date(n.createdAt),"dd MMM yyyy",{locale:Da})})]})]})}),s.jsxs("div",{className:"flex items-start gap-3 p-4 bg-blue-50 dark:bg-blue-950/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:[s.jsx(Nl,{className:"h-5 w-5 text-blue-600 dark:text-blue-400 mt-0.5 flex-shrink-0"}),s.jsxs("div",{className:"text-sm text-blue-800 dark:text-blue-200",children:[s.jsx("p",{className:"font-medium",children:"Qu pasa despus?"}),s.jsx("p",{className:"mt-1 text-blue-700 dark:text-blue-300",children:'Si el proveedor requiere REP (Recibo Electrnico de Pago), la factura pasar a "Pendiente Complemento". Si no requiere REP, se cerrar contablemente de forma automtica.'})]})]}),a?s.jsx("div",{className:"space-y-4",children:s.jsxs(Ue,{className:"p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ds,{className:"h-5 w-5 text-emerald-600"}),s.jsx("p",{className:"font-semibold",children:a.name}),s.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",(a.size/1024/1024).toFixed(2)," MB)"]})]}),s.jsx(Oe,{size:"sm",variant:"ghost",onClick:v,children:s.jsx(Ra,{className:"h-4 w-4"})})]}),l&&s.jsx("div",{className:"mt-4",children:a.type==="application/pdf"?s.jsx(OCt,{file:a}):s.jsx("img",{src:l,alt:"Preview",className:"max-w-full h-auto rounded-lg border max-h-[300px] object-contain mx-auto"})})]})}):s.jsxs(Ue,{onDragOver:h,onDragLeave:g,onDrop:y,className:`border-2 border-dashed p-8 text-center transition-all min-h-[200px] flex flex-col items-center justify-center ${u?"border-emerald-500 bg-emerald-50 dark:bg-emerald-950/30 scale-[1.02]":"border-emerald-300 hover:border-emerald-400 hover:bg-emerald-50/50 dark:hover:bg-emerald-950/10 cursor-pointer"}`,onClick:()=>{var w;return(w=document.getElementById("pay-file-input"))==null?void 0:w.click()},children:[s.jsx(U6,{className:`h-12 w-12 mb-4 ${u?"text-emerald-600":"text-emerald-500"}`}),s.jsx("p",{className:"text-lg font-semibold mb-2",children:u?"Suelta el comprobante aqu":"Arrastra el comprobante de pago aqu"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"PDF, PNG, JPG, JPEG (mx. 10MB)"}),s.jsxs(Oe,{variant:"outline",className:"border-emerald-300 hover:bg-emerald-50",children:[s.jsx(Kl,{className:"h-4 w-4 mr-2"}),"Seleccionar archivo"]}),s.jsx("input",{id:"pay-file-input",type:"file",accept:".pdf,.png,.jpg,.jpeg",onChange:m,className:"hidden"})]})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[s.jsx(Oe,{variant:"outline",onClick:t,disabled:f.isPending,children:"Cancelar"}),s.jsx(Oe,{onClick:x,disabled:!a||f.isPending,className:"bg-emerald-600 hover:bg-emerald-700",children:f.isPending?"Procesando...":"Confirmar Pago"})]})]})})}function MCt({isOpen:e,onClose:t,voucher:n,onSuccess:r}){const[i,a]=b.useState(""),o=Wn({mutationFn:async({voucherId:u,reason:d})=>{const f=localStorage.getItem("authToken"),m=await fetch(`/api/payment-vouchers/${u}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${f}`},body:JSON.stringify({reason:d})});if(!m.ok){const h=await m.json();throw new Error(h.error||"Error al eliminar")}return m.json()},onSuccess:()=>{gl({title:"Pago eliminado",description:"El registro ha sido eliminado y archivado correctamente."}),ii.invalidateQueries({queryKey:["/api/payment-vouchers"]}),a(""),r==null||r(),t()},onError:u=>{gl({title:"Error al eliminar",description:u.message||"No se pudo eliminar el registro",variant:"destructive"})}}),l=()=>{if(!i.trim()){gl({title:"Razn requerida",description:"Por favor indica la razn de la eliminacin",variant:"destructive"});return}o.mutate({voucherId:n.id,reason:i.trim()})},c=()=>{o.isPending||(a(""),t())};return s.jsx(zr,{open:e,onOpenChange:c,children:s.jsxs(Ir,{className:"max-w-md",children:[s.jsxs(Vr,{children:[s.jsxs(qr,{className:"flex items-center gap-2 text-red-600",children:[s.jsx(Oa,{className:"h-5 w-5"}),"Eliminar Pago"]}),s.jsx(Rs,{children:"Esta accin archivar el pago y no podr deshacerse fcilmente."})]}),s.jsxs("div",{className:"space-y-4 py-4",children:[s.jsxs("div",{className:"p-3 bg-red-50 dark:bg-red-950/20 border border-red-200 dark:border-red-800 rounded-lg",children:[s.jsx("p",{className:"font-medium text-red-800 dark:text-red-200",children:n.clientName}),n.extractedAmount&&n.extractedCurrency&&s.jsxs("p",{className:"text-sm text-red-600 dark:text-red-400",children:[n.extractedCurrency," $",n.extractedAmount.toLocaleString()]}),s.jsx("p",{className:"text-xs text-red-500 mt-1",children:n.voucherFileName})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(dt,{htmlFor:"reason",className:"text-sm font-medium",children:["Razn de eliminacin ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(nu,{id:"reason",placeholder:"Ej: Pago duplicado, error de captura, proveedor incorrecto...",value:i,onChange:u=>a(u.target.value),rows:3,className:"resize-none",disabled:o.isPending}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Esta razn ser guardada en el historial de eliminaciones"})]})]}),s.jsxs(pc,{className:"gap-2",children:[s.jsx(Oe,{variant:"outline",onClick:c,disabled:o.isPending,children:"Cancelar"}),s.jsx(Oe,{variant:"destructive",onClick:l,disabled:!i.trim()||o.isPending,children:o.isPending?s.jsxs(s.Fragment,{children:[s.jsx(sr,{className:"h-4 w-4 mr-2 animate-spin"}),"Eliminando..."]}):s.jsxs(s.Fragment,{children:[s.jsx(mh,{className:"h-4 w-4 mr-2"}),"Eliminar"]})})]})]})})}const ICt=b.lazy(()=>L1(()=>import("./VoucherDetailPanel-BX8z4uOs.js"),[]).then(e=>({default:e.VoucherDetailPanel}))),OD={pago_programado:{label:"Pago Programado",icon:YNe,color:"bg-blue-50 dark:bg-blue-950/20 border-blue-200 dark:border-blue-800",headerColor:"bg-blue-100 dark:bg-blue-900/30"},pendiente_complemento:{label:"Pendiente Complemento",icon:Oa,color:"bg-yellow-50 dark:bg-yellow-950/20 border-yellow-200 dark:border-yellow-800",headerColor:"bg-yellow-100 dark:bg-yellow-900/30"},complemento_recibido:{label:"Complemento Recibido",icon:oie,color:"bg-purple-50 dark:bg-purple-950/20 border-purple-200 dark:border-purple-800",headerColor:"bg-purple-100 dark:bg-purple-900/30"},cierre_contable:{label:"Cierre Contable",icon:tc,color:"bg-emerald-50 dark:bg-emerald-950/20 border-emerald-200 dark:border-emerald-800",headerColor:"bg-emerald-100 dark:bg-emerald-900/30"}};function DCt({status:e,vouchers:t,onVoucherClick:n,onPayVoucher:r,onDeleteVoucher:i}){const a=OD[e],o=a.icon,{setNodeRef:l,isOver:c}=pkt({id:e});return s.jsx(bs.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex-1 min-w-[280px] sm:min-w-[300px] max-w-[350px]",children:s.jsxs(Ue,{ref:l,className:`h-full flex flex-col transition-all duration-200 ${a.color} ${c?"ring-2 ring-primary ring-offset-2 scale-[1.02]":""}`,children:[s.jsx(Vt,{className:`${a.headerColor} border-b`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(o,{className:"h-5 w-5 text-slate-700"}),s.jsx(an,{className:"text-base font-semibold text-slate-800",children:a.label})]}),s.jsx(Ct,{variant:"secondary",className:"font-semibold bg-white/80",children:t.length})]})}),s.jsx(We,{className:"flex-1 overflow-y-auto p-4",children:s.jsx(Dkt,{items:t.map(u=>u.id),strategy:Lkt,children:s.jsx("div",{className:"space-y-3 min-h-[400px]",children:t.length===0?s.jsx("div",{className:"flex items-center justify-center h-full min-h-[400px] border-2 border-dashed border-slate-300 dark:border-slate-600 rounded-lg",children:s.jsx("p",{className:"text-sm text-slate-500 text-center",children:c?"Suelta aqu":"No hay comprobantes"})}):t.map(u=>s.jsx(tbe,{voucher:u,onClick:()=>n(u),onPay:()=>r(u),onDelete:()=>i(u)},u.id))})})})]})})}function RCt({vouchers:e}){const{toast:t}=zi(),[n,r]=b.useState(null),[i,a]=b.useState(null),[o,l]=b.useState(null),[c,u]=b.useState(null),d=p5t(fX(w7,{activationConstraint:{distance:8}}),fX(y7,{coordinateGetter:$kt})),f=Wn({mutationFn:async({id:v,status:x})=>await(await Dt("PUT",`/api/payment-vouchers/${v}/status`,{status:x})).json(),onSuccess:()=>{ii.invalidateQueries({queryKey:["/api/payment-vouchers"]}),t({title:"Estado actualizado correctamente"})},onError:()=>{t({title:"Error al actualizar",description:"No se pudo cambiar el estado del comprobante",variant:"destructive"})}}),m=v=>{const x=e.find(w=>w.id===v.active.id);r(x||null)},h=v=>{const{active:x,over:w}=v;if(r(null),!w)return;const j=e.find(S=>S.id===x.id);if(!j)return;const _=w.id;if(!OD[_]){console.warn(`Estado invlido: ${_}`);return}j.status!==_&&f.mutate({id:j.id,status:_})},g=b.useMemo(()=>{const v={pago_programado:[],pendiente_complemento:[],complemento_recibido:[],cierre_contable:[]};return e.forEach(x=>{const w=x.status==="factura_pagada"?"pago_programado":x.status;v[w]&&v[w].push(x)}),v},[e]),y=async v=>{if(i)try{await(await Dt("PUT",`/api/payment-vouchers/${i.id}`,v)).json(),ii.invalidateQueries({queryKey:["/api/payment-vouchers"]}),t({title:"Comprobante actualizado correctamente"})}catch{t({title:"Error al actualizar",description:"No se pudo actualizar el comprobante",variant:"destructive"})}};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs(fkt,{sensors:d,collisionDetection:I0e,onDragStart:m,onDragEnd:h,children:[s.jsx("div",{className:"flex gap-4 overflow-x-auto pb-4 min-h-[600px] scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-gray-100",children:Object.keys(OD).map(v=>s.jsx(DCt,{status:v,vouchers:g[v],onVoucherClick:a,onPayVoucher:l,onDeleteVoucher:u},v))}),s.jsx(Ekt,{children:n?s.jsx("div",{className:"opacity-90 rotate-2",children:s.jsx(tbe,{voucher:n,onClick:()=>{},isDragging:!0})}):null})]}),s.jsx(b.Suspense,{fallback:null,children:s.jsx(ICt,{voucher:i,isOpen:!!i,onClose:()=>a(null),onSave:y})}),o&&s.jsx(LCt,{isOpen:!!o,onClose:()=>l(null),voucher:o,onSuccess:()=>{l(null),ii.invalidateQueries({queryKey:["/api/payment-vouchers"]})}}),c&&s.jsx(MCt,{isOpen:!!c,onClose:()=>u(null),voucher:c,onSuccess:()=>{u(null)}})]})}function $Ct({isOpen:e,onClose:t,scheduledPaymentId:n}){const{data:r,isLoading:i}=At({queryKey:[`/api/scheduled-payments/${n}/documents`],queryFn:async()=>{const v=await fetch(`/api/scheduled-payments/${n}/documents`,{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")||""}`}});if(!v.ok)throw new Error("Failed to fetch documents");return await v.json()},enabled:e&&n>0}),a=v=>({idrall_imported:{label:"Importada",variant:"secondary"},pending_approval:{label:"Pendiente Aprobacin",variant:"secondary"},approved:{label:"Aprobada",variant:"outline"},payment_scheduled:{label:"Pago Programado",variant:"outline"},payment_pending:{label:"Pago Pendiente",variant:"secondary"},payment_completed:{label:"Pagada",variant:"default"},voucher_uploaded:{label:"Comprobante Subido",variant:"outline"},closed:{label:"Cerrada",variant:"default"}})[v]||{label:v,variant:"secondary"},o=v=>{switch(v){case"invoice":return Ds;case"voucher":return U6;case"rep":return oie;default:return Ds}},l=v=>{switch(v){case"invoice":return"Factura";case"voucher":return"Comprobante de Pago";case"rep":return"REP (Recibo Electrnico de Pago)";default:return"Documento"}},[c,u]=b.useState({}),d=(v,x)=>{const w=document.createElement("a"),j=v.startsWith("http")||v.startsWith("/uploads")?v:`/uploads/${v}`;w.href=j,w.download=x,w.target="_blank",document.body.appendChild(w),w.click(),document.body.removeChild(w)},f=v=>/\.(jpg|jpeg|png|gif|webp|bmp)$/i.test(v),m=v=>/\.pdf$/i.test(v),h=v=>v.startsWith("http")||v.startsWith("/uploads")?v:`/uploads/${v}`,g=r==null?void 0:r.payment,y=g!=null&&g.dueDate?new Date(g.dueDate)<new Date:!1;return s.jsx(zr,{open:e,onOpenChange:t,children:s.jsxs(Ir,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(Vr,{children:[s.jsx(qr,{className:"text-2xl font-bold",children:"Detalles de Cuenta por Pagar"}),g&&s.jsx(Rs,{className:"text-base",children:g.supplierName||"Proveedor desconocido"})]}),i?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Cargando informacin..."})]})}):s.jsxs("div",{className:"space-y-6 py-4",children:[g&&s.jsx(Ue,{className:"border-2 border-primary/20 bg-primary/5",children:s.jsxs(We,{className:"p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-3 rounded-lg bg-primary/10",children:s.jsx(sp,{className:"h-6 w-6 text-primary"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-xl text-slate-900 dark:text-slate-50",children:g.supplierName||"Proveedor desconocido"}),g.reference&&s.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400 mt-1",children:["Referencia: ",s.jsx("span",{className:"font-semibold",children:g.reference})]})]})]}),s.jsx(Ct,{variant:a(g.status).variant,className:"text-sm px-3 py-1",children:a(g.status).label})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(kh,{className:"h-4 w-4 text-slate-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Monto"}),s.jsxs("p",{className:"font-bold text-lg text-slate-900 dark:text-slate-50",children:[g.currency," $",g.amount.toLocaleString()]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Xa,{className:`h-4 w-4 ${y?"text-red-500":"text-slate-500"}`}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Fecha de Vencimiento"}),s.jsxs("p",{className:`font-semibold ${y?"text-red-600":"text-slate-900 dark:text-slate-50"}`,children:[er(new Date(g.dueDate),"dd MMM yyyy",{locale:Da}),y&&s.jsx("span",{className:"ml-1 text-xs",children:"(Vencida)"})]})]})]}),g.paymentDate&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Wo,{className:"h-4 w-4 text-blue-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Pago Programado"}),s.jsx("p",{className:"font-semibold text-blue-600",children:er(new Date(g.paymentDate),"dd MMM yyyy",{locale:Da})})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ds,{className:"h-4 w-4 text-slate-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Origen"}),s.jsx("p",{className:"font-semibold text-slate-900 dark:text-slate-50",children:g.sourceType==="idrall"?"Importado (Idrall)":"Manual"})]})]})]}),g.notes&&s.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-200 dark:border-slate-700",children:[s.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mb-1",children:"Notas"}),s.jsx("p",{className:"text-sm text-slate-700 dark:text-slate-300",children:g.notes})]})]})}),s.jsxs("div",{children:[s.jsxs("h3",{className:"font-bold text-lg text-slate-900 dark:text-slate-50 mb-4 flex items-center gap-2",children:[s.jsx(Ds,{className:"h-5 w-5"}),"Documentos Asociados"]}),r!=null&&r.documents&&r.documents.length>0?s.jsx("div",{className:"space-y-4",children:r.documents.map((v,x)=>{const w=o(v.type);return s.jsx(Ue,{className:"overflow-hidden",children:s.jsx(We,{className:"p-6",children:s.jsxs("div",{className:"space-y-5",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 rounded-lg bg-primary/10",children:s.jsx(w,{className:"h-6 w-6 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold text-lg text-slate-900 dark:text-slate-50",children:l(v.type)}),s.jsx("p",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 mt-1",children:v.name}),s.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-1.5",children:["Subido: ",er(new Date(v.uploadedAt),"dd MMM yyyy 'a las' HH:mm",{locale:Da})]})]})]}),s.jsxs(Oe,{size:"sm",variant:"outline",className:"font-semibold",onClick:()=>d(v.url,v.name),children:[s.jsx(nc,{className:"h-4 w-4 mr-2"}),"Descargar"]})]}),v.type==="voucher"&&(v.extractedAmount||v.extractedDate||v.extractedBank||v.extractedReference)&&s.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4 border-t border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-900/50 p-4 rounded-lg",children:[v.extractedAmount&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-slate-500 dark:text-slate-400 mb-1",children:"Monto"}),s.jsxs("p",{className:"font-bold text-base text-slate-900 dark:text-slate-50",children:["$",v.extractedAmount.toLocaleString()]})]}),v.extractedDate&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-slate-500 dark:text-slate-400 mb-1",children:"Fecha"}),s.jsx("p",{className:"font-bold text-base text-slate-900 dark:text-slate-50",children:er(new Date(v.extractedDate),"dd MMM yyyy",{locale:Da})})]}),v.extractedBank&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-slate-500 dark:text-slate-400 mb-1",children:"Banco"}),s.jsx("p",{className:"font-bold text-base text-slate-900 dark:text-slate-50",children:v.extractedBank})]}),v.extractedReference&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-slate-500 dark:text-slate-400 mb-1",children:"Referencia"}),s.jsx("p",{className:"font-bold text-base text-slate-900 dark:text-slate-50",children:v.extractedReference})]})]}),v.url&&s.jsxs("div",{className:"pt-4 border-t",children:[s.jsx("p",{className:"text-sm font-semibold mb-3 text-slate-700 dark:text-slate-300",children:"Vista previa:"}),s.jsxs("div",{className:"border-2 border-slate-200 dark:border-slate-700 rounded-lg overflow-hidden bg-slate-50 dark:bg-slate-900/50",children:[f(v.name)&&!c[x]?s.jsx("div",{className:"relative w-full",style:{minHeight:"400px",maxHeight:"600px"},children:s.jsx(mbe,{imageUrl:h(v.url),imageName:v.name,onDownload:()=>d(v.url,v.name),className:"h-full"})}):m(v.name)?s.jsx("div",{className:"relative w-full",style:{height:"600px"},children:s.jsx(nbe,{fileUrl:h(v.url),fileName:v.name,onDownload:()=>d(v.url,v.name),className:"h-full"})}):s.jsxs("div",{className:"flex flex-col items-center justify-center p-12 text-center",style:{minHeight:"300px"},children:[s.jsx(Nl,{className:"h-12 w-12 text-slate-400 mb-4"}),s.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-4",children:"Vista previa no disponible para este tipo de archivo"}),s.jsxs(Oe,{variant:"outline",onClick:()=>d(v.url,v.name),children:[s.jsx(nc,{className:"h-4 w-4 mr-2"}),"Descargar archivo"]})]}),c[x]&&s.jsxs("div",{className:"flex flex-col items-center justify-center p-12 text-center",children:[s.jsx(lie,{className:"h-12 w-12 text-slate-400 mb-4"}),s.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-4",children:"No se pudo cargar la imagen"}),s.jsxs(Oe,{variant:"outline",onClick:()=>d(v.url,v.name),children:[s.jsx(nc,{className:"h-4 w-4 mr-2"}),"Descargar archivo"]})]})]})]})]})})},x)})}):s.jsx(Ue,{className:"border-dashed",children:s.jsx(We,{className:"flex items-center justify-center h-32",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Ds,{className:"h-8 w-8 mx-auto mb-2 text-slate-400"}),s.jsx("p",{className:"text-slate-500 text-sm",children:"No hay documentos asociados"}),s.jsx("p",{className:"text-slate-400 text-xs mt-1",children:"Sube una factura o comprobante para verlo aqu"})]})})})]})]})]})})}function FCt({companyId:e}){const[t,n]=b.useState(null),[r,i]=b.useState("all"),{data:a=[],isLoading:o}=At({queryKey:["/api/treasury/payments",e,"all"],queryFn:async()=>{const g=e?`?companyId=${e}`:"",y=await fetch(`/api/treasury/payments${g}`,{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")||""}`}});if(!y.ok)throw new Error("Failed to fetch payments");return(await y.json()).map(x=>({...x,companyId:x.company_id||x.companyId,supplierId:x.supplier_id||x.supplierId,supplierName:x.supplier_name||x.supplierName,dueDate:x.due_date||x.dueDate,paymentDate:x.payment_date||x.paymentDate,voucherId:x.voucher_id||x.voucherId,hydralFileUrl:x.hydral_file_url||x.hydralFileUrl,hydralFileName:x.hydral_file_name||x.hydralFileName,createdAt:x.created_at||x.createdAt,updatedAt:x.updated_at||x.updatedAt})).sort((x,w)=>{const j=new Date(x.paymentDate||x.updatedAt||x.dueDate).getTime();return new Date(w.paymentDate||w.updatedAt||w.dueDate).getTime()-j})},staleTime:3e4,refetchInterval:6e4}),l=b.useMemo(()=>{if(r==="all")return a;const g=["payment_completed","closed","voucher_uploaded","cierre_contable"],y=["pending","pending_approval","approved","payment_scheduled","payment_pending","idrall_imported","pago_programado","pendiente_complemento"];return r==="completed"?a.filter(v=>g.includes(v.status)):r==="pending"?a.filter(v=>y.includes(v.status)):a},[a,r]),c=b.useMemo(()=>{const g=["payment_completed","closed","voucher_uploaded","cierre_contable"],y=["pending","pending_approval","approved","payment_scheduled","payment_pending","idrall_imported","pago_programado","pendiente_complemento"];return{all:a.length,completed:a.filter(v=>g.includes(v.status)).length,pending:a.filter(v=>y.includes(v.status)).length}},[a]),u=g=>{switch(g){case"payment_completed":return s.jsx(Ct,{className:"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-300 border-green-300",children:"Pagada"});case"closed":case"cierre_contable":return s.jsx(Ct,{className:"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300 border-blue-300",children:"Cerrada"});case"voucher_uploaded":return s.jsx(Ct,{className:"bg-orange-100 text-orange-700 dark:bg-orange-900/30 dark:text-orange-300 border-orange-300",children:"Comprobante subido"});case"pending":case"pending_approval":return s.jsx(Ct,{className:"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-300 border-yellow-300",children:"Pendiente aprobacin"});case"approved":return s.jsx(Ct,{className:"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-300 border-purple-300",children:"Aprobada"});case"payment_scheduled":case"pago_programado":return s.jsx(Ct,{className:"bg-sky-100 text-sky-700 dark:bg-sky-900/30 dark:text-sky-300 border-sky-300",children:"Pago programado"});case"payment_pending":return s.jsx(Ct,{className:"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-300 border-amber-300",children:"Pago pendiente"});case"pendiente_complemento":return s.jsx(Ct,{className:"bg-orange-100 text-orange-700 dark:bg-orange-900/30 dark:text-orange-300 border-orange-300",children:"Esperando REP"});case"idrall_imported":return s.jsx(Ct,{className:"bg-slate-100 text-slate-700 dark:bg-slate-900/30 dark:text-slate-300 border-slate-300",children:"Importada"});default:return s.jsx(Ct,{variant:"outline",children:g.replace(/_/g," ")})}},d=g=>({payment_completed:"Pagada",closed:"Cerrada",cierre_contable:"Cerrada",voucher_uploaded:"Comprobante subido",pending:"Pendiente",pending_approval:"Pendiente aprobacin",approved:"Aprobada",payment_scheduled:"Pago programado",pago_programado:"Pago programado",payment_pending:"Pago pendiente",pendiente_complemento:"Esperando REP",idrall_imported:"Factura importada",complemento_recibido:"REP recibido",factura_pagada:"Factura pagada"})[g]||g.replace(/_/g," "),f=g=>{n(g)},m=g=>!!(g.hydralFileUrl||g.voucherId);if(o)return s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Cargando historial de pagos..."})]})});const h=()=>s.jsxs("div",{className:"flex items-center gap-2 mb-6 flex-wrap",children:[s.jsxs(Oe,{variant:r==="all"?"default":"outline",size:"sm",onClick:()=>i("all"),className:"gap-2",children:["Todos",s.jsx(Ct,{variant:"secondary",className:"ml-1 px-1.5 py-0 text-xs",children:c.all})]}),s.jsxs(Oe,{variant:r==="pending"?"default":"outline",size:"sm",onClick:()=>i("pending"),className:"gap-2",children:[s.jsx(Wo,{className:"h-4 w-4"}),"Pendientes",s.jsx(Ct,{variant:"secondary",className:"ml-1 px-1.5 py-0 text-xs bg-yellow-100 text-yellow-700",children:c.pending})]}),s.jsxs(Oe,{variant:r==="completed"?"default":"outline",size:"sm",onClick:()=>i("completed"),className:"gap-2",children:[s.jsx(tc,{className:"h-4 w-4"}),"Completados",s.jsx(Ct,{variant:"secondary",className:"ml-1 px-1.5 py-0 text-xs bg-green-100 text-green-700",children:c.completed})]})]});return l.length===0&&a.length===0?s.jsxs(s.Fragment,{children:[s.jsx(h,{}),s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[s.jsx(tc,{className:"h-16 w-16 text-slate-300 dark:text-slate-600 mb-4"}),s.jsx("p",{className:"text-lg font-semibold text-slate-600 dark:text-slate-400 mb-2",children:"No hay pagos registrados"}),s.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-500",children:"Los pagos aparecern aqu cuando se registren"})]})]}):l.length===0?s.jsxs(s.Fragment,{children:[s.jsx(h,{}),s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[s.jsx(Oa,{className:"h-16 w-16 text-slate-300 dark:text-slate-600 mb-4"}),s.jsxs("p",{className:"text-lg font-semibold text-slate-600 dark:text-slate-400 mb-2",children:["No hay pagos ",r==="pending"?"pendientes":"completados"]}),s.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-500",children:"Cambia el filtro para ver otros pagos"})]})]}):s.jsxs(s.Fragment,{children:[s.jsx(h,{}),s.jsx("div",{className:"space-y-4",children:l.map(g=>{const y=["payment_completed","closed","voucher_uploaded","cierre_contable"].includes(g.status),v=["pending","pending_approval","payment_pending","pago_programado","pendiente_complemento"].includes(g.status);return s.jsx(Ue,{className:`hover:shadow-lg transition-all duration-200 border-l-4 ${y?"border-l-green-500/50":v?"border-l-yellow-500/50":"border-l-blue-500/50"}`,children:s.jsx(We,{className:"p-5",children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsx("div",{className:"flex-1 min-w-0",children:s.jsxs("div",{className:"flex items-start gap-4 mb-3",children:[s.jsx("div",{className:`p-3 rounded-lg ${y?"bg-green-100 dark:bg-green-900/30":v?"bg-yellow-100 dark:bg-yellow-900/30":"bg-blue-100 dark:bg-blue-900/30"}`,children:y?s.jsx(tc,{className:"h-6 w-6 text-green-600 dark:text-green-400"}):v?s.jsx(Wo,{className:"h-6 w-6 text-yellow-600 dark:text-yellow-400"}):s.jsx(kh,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("h3",{className:"text-xl font-extrabold text-gray-900 dark:text-white truncate",style:{color:"#111827",fontSize:"20px",fontWeight:800},children:g.supplierName||"Proveedor desconocido"}),u(g.status)]}),g.reference&&s.jsxs("p",{className:"text-base font-semibold text-gray-800 dark:text-gray-200 mb-2",style:{color:"#1f2937"},children:["Factura: ",s.jsx("span",{className:"font-bold text-gray-900 dark:text-white",style:{color:"#111827",fontWeight:700},children:g.reference})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mt-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(kh,{className:"h-4 w-4 text-gray-600 dark:text-gray-400 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-gray-600 dark:text-gray-400",style:{color:"#4b5563"},children:"Monto"}),s.jsxs("p",{className:"text-lg font-extrabold text-gray-900 dark:text-white",style:{color:"#111827",fontSize:"18px",fontWeight:800},children:[g.currency," $",g.amount.toLocaleString()]})]})]}),g.paymentDate&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Xa,{className:"h-4 w-4 text-gray-600 dark:text-gray-400 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-gray-600 dark:text-gray-400",style:{color:"#4b5563"},children:"Fecha de pago"}),s.jsx("p",{className:"text-sm font-bold text-gray-900 dark:text-white",style:{color:"#111827",fontWeight:700},children:er(new Date(g.paymentDate),"dd MMM yyyy",{locale:Da})})]})]}),g.dueDate&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Xa,{className:"h-4 w-4 text-gray-600 dark:text-gray-400 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-gray-600 dark:text-gray-400",style:{color:"#4b5563"},children:"Fecha de vencimiento"}),s.jsx("p",{className:"text-sm font-bold text-gray-900 dark:text-white",style:{color:"#111827",fontWeight:700},children:er(new Date(g.dueDate),"dd MMM yyyy",{locale:Da})})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(sp,{className:"h-4 w-4 text-gray-600 dark:text-gray-400 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-gray-600 dark:text-gray-400",style:{color:"#4b5563"},children:"Estado"}),s.jsx("p",{className:"text-sm font-bold text-gray-900 dark:text-white",style:{color:"#111827",fontWeight:700},children:d(g.status)})]})]})]})]})]})}),s.jsxs("div",{className:"flex flex-col gap-2 flex-shrink-0",children:[m(g)?s.jsxs(Oe,{variant:"default",className:"w-full font-semibold",onClick:()=>f(g.id),children:[s.jsx(Ds,{className:"h-4 w-4 mr-2"}),"Ver Documentos"]}):s.jsxs(Oe,{variant:"outline",disabled:!0,className:"w-full",children:[s.jsx(Ds,{className:"h-4 w-4 mr-2"}),"Sin documentos"]}),g.hydralFileUrl&&s.jsxs(Oe,{variant:"outline",size:"sm",className:"w-full text-xs",onClick:()=>{const x=document.createElement("a");x.href=g.hydralFileUrl.startsWith("http")||g.hydralFileUrl.startsWith("/uploads")?g.hydralFileUrl:`/uploads/${g.hydralFileUrl}`,x.download=g.hydralFileName||"factura.pdf",x.target="_blank",document.body.appendChild(x),x.click(),document.body.removeChild(x)},children:[s.jsx(nc,{className:"h-3 w-3 mr-1"}),"Factura"]})]})]})})},g.id)})}),t&&s.jsx($Ct,{isOpen:!!t,onClose:()=>n(null),scheduledPaymentId:t})]})}function BCt({isOpen:e,onClose:t,supplier:n}){const[r,i]=b.useState({name:"",shortName:"",email:"",location:"NAC",requiresRep:!1,repFrequency:30,companyId:1,isActive:!0,notes:""}),a=Vs();b.useEffect(()=>{i(n?{name:n.name||"",shortName:n.short_name||"",email:n.email||"",location:n.location||"NAC",requiresRep:n.requires_rep||!1,repFrequency:n.rep_frequency||30,companyId:n.company_id||1,isActive:n.is_active!==void 0?n.is_active:!0,notes:n.notes||""}:{name:"",shortName:"",email:"",location:"NAC",requiresRep:!1,repFrequency:30,companyId:1,isActive:!0,notes:""})},[n,e]);const o=Wn({mutationFn:async d=>(await Dt("POST","/api/suppliers",{name:d.name,shortName:d.shortName,email:d.email,location:d.location,requiresRep:d.requiresRep,repFrequency:d.repFrequency,companyId:d.companyId,isActive:d.isActive,notes:d.notes})).json(),onSuccess:()=>{a.invalidateQueries({queryKey:["/api/suppliers"]}),gl({title:"xito",description:"Proveedor creado correctamente"}),t()},onError:d=>{gl({title:"Error",description:d.message||"Error al crear proveedor",variant:"destructive"})}}),l=Wn({mutationFn:async d=>n?(await Dt("PATCH",`/api/suppliers/${n.id}`,{name:d.name,shortName:d.shortName,email:d.email,location:d.location,requiresRep:d.requiresRep,repFrequency:d.repFrequency,companyId:d.companyId,isActive:d.isActive,notes:d.notes})).json():void 0,onSuccess:()=>{a.invalidateQueries({queryKey:["/api/suppliers"]}),gl({title:"xito",description:"Proveedor actualizado correctamente"}),t()},onError:d=>{gl({title:"Error",description:d.message||"Error al actualizar proveedor",variant:"destructive"})}}),c=d=>{if(d.preventDefault(),!r.name.trim()){gl({title:"Error",description:"El nombre del proveedor es obligatorio",variant:"destructive"});return}n?l.mutate(r):o.mutate(r)},u=o.isPending||l.isPending;return s.jsx(zr,{open:e,onOpenChange:t,children:s.jsxs(Ir,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(Vr,{children:s.jsx(qr,{className:"text-2xl font-bold text-foreground",children:n?"Editar Proveedor":"Nuevo Proveedor"})}),s.jsxs("form",{onSubmit:c,className:"space-y-6 mt-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(dt,{htmlFor:"name",className:"text-base font-semibold",children:["Nombre del Proveedor ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(gt,{id:"name",value:r.name,onChange:d=>i({...r,name:d.target.value}),placeholder:"Ej: Transportes Potosinos",className:"h-12 text-lg",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(dt,{htmlFor:"shortName",className:"text-base font-semibold",children:"Nombre Corto"}),s.jsx(gt,{id:"shortName",value:r.shortName,onChange:d=>i({...r,shortName:d.target.value}),placeholder:"Ej: Potosinos",className:"h-12 text-lg"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(dt,{htmlFor:"email",className:"text-base font-semibold",children:"Email de Contacto"}),s.jsx(gt,{id:"email",type:"email",value:r.email,onChange:d=>i({...r,email:d.target.value}),placeholder:"proveedor@ejemplo.com",className:"h-12 text-lg"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(dt,{htmlFor:"companyId",className:"text-base font-semibold",children:["Empresa ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs(An,{value:r.companyId.toString(),onValueChange:d=>i({...r,companyId:parseInt(d)}),children:[s.jsx(Nn,{className:"h-12 text-lg",children:s.jsx(Tn,{})}),s.jsxs(_n,{children:[s.jsx(at,{value:"1",children:"Dura International"}),s.jsx(at,{value:"2",children:"Grupo Orsega"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(dt,{htmlFor:"location",className:"text-base font-semibold",children:"Ubicacin"}),s.jsxs(An,{value:r.location,onValueChange:d=>i({...r,location:d}),children:[s.jsx(Nn,{className:"h-12 text-lg",children:s.jsx(Tn,{})}),s.jsxs(_n,{children:[s.jsx(at,{value:"NAC",children:"Nacional (NAC)"}),s.jsx(at,{value:"EXT",children:"Extranjero (EXT)"})]})]})]})]}),s.jsxs("div",{className:"space-y-4 p-4 border-2 border-primary/20 rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(dt,{htmlFor:"requiresRep",className:"text-base font-semibold",children:"Requiere REP (Recordatorio de Pago)"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Activa esta opcin si el proveedor requiere recordatorios peridicos de pago"})]}),s.jsx(W2,{id:"requiresRep",checked:r.requiresRep,onCheckedChange:d=>i({...r,requiresRep:d})})]}),r.requiresRep&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(dt,{htmlFor:"repFrequency",className:"text-base font-semibold",children:"Frecuencia de REP (das)"}),s.jsx(gt,{id:"repFrequency",type:"number",min:"1",value:r.repFrequency,onChange:d=>i({...r,repFrequency:parseInt(d.target.value)||30}),className:"h-12 text-lg"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Cada cuntos das se debe enviar el recordatorio de pago"})]})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 border-2 border-primary/20 rounded-lg",children:[s.jsxs("div",{children:[s.jsx(dt,{htmlFor:"isActive",className:"text-base font-semibold",children:"Proveedor Activo"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Los proveedores inactivos no aparecern en las listas de seleccin"})]}),s.jsx(W2,{id:"isActive",checked:r.isActive,onCheckedChange:d=>i({...r,isActive:d})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(dt,{htmlFor:"notes",className:"text-base font-semibold",children:"Notas Adicionales"}),s.jsx(nu,{id:"notes",value:r.notes,onChange:d=>i({...r,notes:d.target.value}),placeholder:"Informacin adicional sobre el proveedor...",className:"text-base min-h-[100px]"})]}),s.jsxs("div",{className:"flex justify-end gap-4 pt-4",children:[s.jsx(Oe,{type:"button",variant:"outline",onClick:t,size:"lg",className:"h-12 text-lg",children:"Cancelar"}),s.jsxs(Oe,{type:"submit",size:"lg",className:"h-12 text-lg font-semibold",disabled:u,children:[u?"Guardando...":n?"Actualizar":"Crear"," Proveedor"]})]})]})]})})}function zCt({onBack:e}){const[t,n]=b.useState(""),[r,i]=b.useState(!1),[a,o]=b.useState(null),[l,c]=b.useState(null),u=Vs(),{data:d=[],isLoading:f}=At({queryKey:["/api/suppliers"],staleTime:3e4}),m=Wn({mutationFn:async j=>(await Dt("DELETE",`/api/suppliers/${j}`)).json(),onSuccess:()=>{u.invalidateQueries({queryKey:["/api/suppliers"]}),gl({title:"xito",description:"Proveedor eliminado correctamente"})},onError:j=>{gl({title:"Error",description:j.message||"Error al eliminar proveedor",variant:"destructive"})}}),h=d.filter(j=>{var S,k,P;if(l&&j.company_id!==l)return!1;if(!t)return!0;const _=t.toLowerCase();return j.name.toLowerCase().includes(_)||((S=j.short_name)==null?void 0:S.toLowerCase().includes(_))||((k=j.email)==null?void 0:k.toLowerCase().includes(_))||((P=j.location)==null?void 0:P.toLowerCase().includes(_))}),g=j=>{o(j),i(!0)},y=j=>{confirm(`Ests seguro de eliminar a ${j.name}?`)&&m.mutate(j.id)},v=()=>{o(null),i(!0)},x=()=>{i(!1),o(null)},w={total:d.length,active:d.filter(j=>j.is_active).length,withRep:d.filter(j=>j.requires_rep).length,dura:d.filter(j=>j.company_id===1).length,orsega:d.filter(j=>j.company_id===2).length};return s.jsxs("div",{className:"p-6 max-w-[1400px] mx-auto space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(Oe,{onClick:e,variant:"ghost",size:"lg",className:"h-12 text-lg",children:[s.jsx(zd,{className:"h-5 w-5 mr-2"}),"Volver"]}),s.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Gestin de Proveedores"}),s.jsxs(Oe,{onClick:v,size:"lg",className:"h-12 text-lg font-semibold",children:[s.jsx(rc,{className:"h-5 w-5 mr-2"}),"Nuevo Proveedor"]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[s.jsx(Ue,{className:"border-2 border-primary/20",children:s.jsxs(We,{className:"p-4 text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-primary",children:w.total}),s.jsx("div",{className:"text-sm font-semibold text-muted-foreground mt-1",children:"Total"})]})}),s.jsx(Ue,{className:"border-2 border-green-500/20",children:s.jsxs(We,{className:"p-4 text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-green-600",children:w.active}),s.jsx("div",{className:"text-sm font-semibold text-muted-foreground mt-1",children:"Activos"})]})}),s.jsx(Ue,{className:"border-2 border-blue-500/20",children:s.jsxs(We,{className:"p-4 text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-blue-600",children:w.withRep}),s.jsx("div",{className:"text-sm font-semibold text-muted-foreground mt-1",children:"Con REP"})]})}),s.jsx(Ue,{className:"border-2 border-purple-500/20",children:s.jsxs(We,{className:"p-4 text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-purple-600",children:w.dura}),s.jsx("div",{className:"text-sm font-semibold text-muted-foreground mt-1",children:"Dura"})]})}),s.jsx(Ue,{className:"border-2 border-orange-500/20",children:s.jsxs(We,{className:"p-4 text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-orange-600",children:w.orsega}),s.jsx("div",{className:"text-sm font-semibold text-muted-foreground mt-1",children:"Orsega"})]})})]}),s.jsx(Ue,{className:"border-2 border-primary/20",children:s.jsx(We,{className:"p-4",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(GC,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-muted-foreground"}),s.jsx(gt,{placeholder:"Buscar por nombre, email, ubicacin...",value:t,onChange:j=>n(j.target.value),className:"pl-10 h-12 text-lg"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Oe,{variant:l===null?"default":"outline",onClick:()=>c(null),className:"h-12 text-base",children:"Todas"}),s.jsx(Oe,{variant:l===1?"default":"outline",onClick:()=>c(1),className:"h-12 text-base",children:"Dura"}),s.jsx(Oe,{variant:l===2?"default":"outline",onClick:()=>c(2),className:"h-12 text-base",children:"Orsega"})]})]})})}),s.jsxs(Ue,{className:"border-2 border-primary/20",children:[s.jsx(Vt,{children:s.jsxs(an,{className:"text-2xl font-bold text-foreground",children:["Proveedores (",h.length,")"]})}),s.jsx(We,{children:f?s.jsx("div",{className:"text-center py-12 text-muted-foreground text-lg",children:"Cargando proveedores..."}):h.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(sp,{className:"h-16 w-16 mx-auto text-muted-foreground mb-4"}),s.jsx("p",{className:"text-lg font-semibold text-foreground mb-2",children:"No se encontraron proveedores"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:t||l?"Intenta con otros filtros de bsqueda":"Comienza agregando tu primer proveedor"}),!t&&!l&&s.jsxs(Oe,{onClick:v,size:"lg",className:"h-12 text-lg",children:[s.jsx(rc,{className:"h-5 w-5 mr-2"}),"Agregar Proveedor"]})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b-2 border-primary/20",children:[s.jsx("th",{className:"text-left p-4 text-base font-bold text-foreground",children:"Proveedor"}),s.jsx("th",{className:"text-left p-4 text-base font-bold text-foreground",children:"Empresa"}),s.jsx("th",{className:"text-left p-4 text-base font-bold text-foreground",children:"Contacto"}),s.jsx("th",{className:"text-left p-4 text-base font-bold text-foreground",children:"Ubicacin"}),s.jsx("th",{className:"text-left p-4 text-base font-bold text-foreground",children:"REP"}),s.jsx("th",{className:"text-left p-4 text-base font-bold text-foreground",children:"Estado"}),s.jsx("th",{className:"text-right p-4 text-base font-bold text-foreground",children:"Acciones"})]})}),s.jsx("tbody",{children:h.map(j=>s.jsxs("tr",{className:"border-b border-primary/10 hover:bg-primary/5 transition-colors",children:[s.jsx("td",{className:"p-4",children:s.jsxs("div",{children:[s.jsx("div",{className:"text-base font-semibold text-foreground",children:j.name}),j.short_name&&s.jsx("div",{className:"text-sm text-muted-foreground",children:j.short_name})]})}),s.jsx("td",{className:"p-4",children:s.jsx(Ct,{variant:"outline",className:j.company_id===1?"border-green-500 text-green-700 dark:text-green-400":j.company_id===2?"border-blue-500 text-blue-700 dark:text-blue-400":"",children:j.company_name||(j.company_id===1?"Dura":j.company_id===2?"Orsega":"N/A")})}),s.jsx("td",{className:"p-4",children:j.email?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(op,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"text-base text-foreground",children:j.email})]}):s.jsx("span",{className:"text-muted-foreground text-sm",children:"Sin email"})}),s.jsx("td",{className:"p-4",children:j.location?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(lp,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"text-base text-foreground",children:j.location})]}):s.jsx("span",{className:"text-muted-foreground text-sm",children:"-"})}),s.jsx("td",{className:"p-4",children:j.requires_rep?s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx(Ct,{className:"bg-green-500 text-white",children:"S"}),j.rep_frequency&&s.jsxs("span",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[s.jsx(Xa,{className:"h-3 w-3"}),"Cada ",j.rep_frequency," das"]})]}):s.jsx(Ct,{variant:"outline",children:"No"})}),s.jsx("td",{className:"p-4",children:s.jsx(Ct,{className:j.is_active?"bg-green-500 text-white":"bg-gray-500 text-white",children:j.is_active?"Activo":"Inactivo"})}),s.jsx("td",{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx(Oe,{variant:"ghost",size:"sm",onClick:()=>g(j),className:"h-10 w-10",children:s.jsx(a5,{className:"h-4 w-4"})}),s.jsx(Oe,{variant:"ghost",size:"sm",onClick:()=>y(j),className:"h-10 w-10 text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-950",children:s.jsx(mh,{className:"h-4 w-4"})})]})})]},j.id))})]})})})]}),s.jsx(BCt,{isOpen:r,onClose:x,supplier:a||void 0})]})}function LD({className:e,classNames:t,showOutsideDays:n=!0,...r}){return s.jsx(Dve,{showOutsideDays:n,className:Fe("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:Fe($w({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:Fe($w({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({className:i,...a})=>s.jsx(iie,{className:Fe("h-4 w-4",i),...a}),IconRight:({className:i,...a})=>s.jsx(Iy,{className:Fe("h-4 w-4",i),...a})},...r})}LD.displayName="Calendar";function VCt(e){const t=qCt(e),n=b.forwardRef((r,i)=>{const{children:a,...o}=r,l=b.Children.toArray(a),c=l.find(WCt);if(c){const u=c.props.children,d=l.map(f=>f===c?b.Children.count(u)>1?b.Children.only(null):b.isValidElement(u)?u.props.children:null:f);return s.jsx(t,{...o,ref:i,children:b.isValidElement(u)?b.cloneElement(u,void 0,d):null})}return s.jsx(t,{...o,ref:i,children:a})});return n.displayName=`${e}.Slot`,n}function qCt(e){const t=b.forwardRef((n,r)=>{const{children:i,...a}=n;if(b.isValidElement(i)){const o=KCt(i),l=HCt(a,i.props);return i.type!==b.Fragment&&(l.ref=r?yf(r,o):o),b.cloneElement(i,l)}return b.Children.count(i)>1?b.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var UCt=Symbol("radix.slottable");function WCt(e){return b.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===UCt}function HCt(e,t){const n={...t};for(const r in t){const i=e[r],a=t[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...e,...n}}function KCt(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var yA="Popover",[pbe]=Xo(yA,[Ap]),aN=Ap(),[GCt,Vp]=pbe(yA),gbe=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:i,onOpenChange:a,modal:o=!1}=e,l=aN(t),c=b.useRef(null),[u,d]=b.useState(!1),[f,m]=nd({prop:r,defaultProp:i??!1,onChange:a,caller:yA});return s.jsx(pE,{...l,children:s.jsx(GCt,{scope:t,contentId:oc(),triggerRef:c,open:f,onOpenChange:m,onOpenToggle:b.useCallback(()=>m(h=>!h),[m]),hasCustomAnchor:u,onCustomAnchorAdd:b.useCallback(()=>d(!0),[]),onCustomAnchorRemove:b.useCallback(()=>d(!1),[]),modal:o,children:n})})};gbe.displayName=yA;var vbe="PopoverAnchor",YCt=b.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=Vp(vbe,n),a=aN(n),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=i;return b.useEffect(()=>(o(),()=>l()),[o,l]),s.jsx(Cj,{...a,...r,ref:t})});YCt.displayName=vbe;var xbe="PopoverTrigger",ybe=b.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=Vp(xbe,n),a=aN(n),o=Fn(t,i.triggerRef),l=s.jsx(sn.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":_be(i.open),...r,ref:o,onClick:_t(e.onClick,i.onOpenToggle)});return i.hasCustomAnchor?l:s.jsx(Cj,{asChild:!0,...a,children:l})});ybe.displayName=xbe;var _7="PopoverPortal",[XCt,ZCt]=pbe(_7,{forceMount:void 0}),bbe=e=>{const{__scopePopover:t,forceMount:n,children:r,container:i}=e,a=Vp(_7,t);return s.jsx(XCt,{scope:t,forceMount:n,children:s.jsx(_s,{present:n||a.open,children:s.jsx(T0,{asChild:!0,container:i,children:r})})})};bbe.displayName=_7;var S0="PopoverContent",wbe=b.forwardRef((e,t)=>{const n=ZCt(S0,e.__scopePopover),{forceMount:r=n.forceMount,...i}=e,a=Vp(S0,e.__scopePopover);return s.jsx(_s,{present:r||a.open,children:a.modal?s.jsx(JCt,{...i,ref:t}):s.jsx(eEt,{...i,ref:t})})});wbe.displayName=S0;var QCt=VCt("PopoverContent.RemoveScroll"),JCt=b.forwardRef((e,t)=>{const n=Vp(S0,e.__scopePopover),r=b.useRef(null),i=Fn(t,r),a=b.useRef(!1);return b.useEffect(()=>{const o=r.current;if(o)return yE(o)},[]),s.jsx(Pj,{as:QCt,allowPinchZoom:!0,children:s.jsx(jbe,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:_t(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),a.current||(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:_t(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;a.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:_t(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),eEt=b.forwardRef((e,t)=>{const n=Vp(S0,e.__scopePopover),r=b.useRef(!1),i=b.useRef(!1);return s.jsx(jbe,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,a),a.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),a.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:a=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),jbe=b.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:a,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=e,m=Vp(S0,n),h=aN(n);return uE(),s.jsx(Sj,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:a,children:s.jsx(kv,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>m.onOpenChange(!1),children:s.jsx(gE,{"data-state":_be(m.open),role:"dialog",id:m.contentId,...h,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),Nbe="PopoverClose",tEt=b.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=Vp(Nbe,n);return s.jsx(sn.button,{type:"button",...r,ref:t,onClick:_t(e.onClick,()=>i.onOpenChange(!1))})});tEt.displayName=Nbe;var nEt="PopoverArrow",rEt=b.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=aN(n);return s.jsx(vE,{...i,...r,ref:t})});rEt.displayName=nEt;function _be(e){return e?"open":"closed"}var iEt=gbe,aEt=ybe,sEt=bbe,Sbe=wbe;const KX=iEt,GX=aEt,MD=b.forwardRef(({className:e,align:t="center",sideOffset:n=4,...r},i)=>s.jsx(sEt,{children:s.jsx(Sbe,{ref:i,align:t,sideOffset:n,className:Fe("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]",e),...r})}));MD.displayName=Sbe.displayName;function oEt({isOpen:e,onClose:t,invoiceData:n}){var I,B;const{toast:r}=zi();console.log(" [InvoiceVerificationModal] Datos recibidos:",JSON.stringify({extractedSupplierName:n.analysis.extractedSupplierName,extractedAmount:n.analysis.extractedAmount,extractedCurrency:n.analysis.extractedCurrency,extractedDueDate:n.analysis.extractedDueDate,extractedDate:n.analysis.extractedDate,extractedInvoiceNumber:n.analysis.extractedInvoiceNumber,extractedTaxId:n.analysis.extractedTaxId,supplierName:n.supplier.name,supplierId:n.supplier.id},null,2));const[i,a]=b.useState(n.analysis.extractedSupplierName??((I=n.supplier)==null?void 0:I.name)??""),[o,l]=b.useState(((B=n.analysis.extractedAmount)==null?void 0:B.toString())??""),[c,u]=b.useState(n.analysis.extractedCurrency??"MXN"),[d,f]=b.useState(()=>{if(n.analysis.extractedDueDate)return new Date(n.analysis.extractedDueDate);if(n.analysis.extractedDate){const $=new Date(n.analysis.extractedDate);return $.setDate($.getDate()+30),$}return null}),[m,h]=b.useState(null),[g,y]=b.useState(n.analysis.extractedInvoiceNumber??n.analysis.extractedReference??""),[v,x]=b.useState(""),[w,j]=b.useState(n.analysis.extractedTaxId??""),[_,S]=b.useState(!1),k=$=>{const K=n.analysis;switch($){case"supplierName":return K.extractedSupplierName?n.matchConfidence||.8:0;case"amount":return K.extractedAmount?.9:0;case"dueDate":return K.extractedDueDate?.85:K.extractedDate?.7:0;case"invoiceNumber":return K.extractedInvoiceNumber?.8:0;case"taxId":return K.extractedTaxId?.9:0;default:return .5}},P=b.useMemo(()=>!!(i.trim()&&o&&d&&m),[i,o,d,m]),M=b.useMemo(()=>{if(n.extractionConfidence!==void 0&&n.extractionConfidence>0)return console.log(` [Confidence] Usando confianza del servidor: ${(n.extractionConfidence*100).toFixed(0)}%`),n.extractionConfidence;const $=["supplierName","amount","dueDate","invoiceNumber","taxId"],Y=$.map(Q=>k(Q)).reduce((Q,H)=>Q+H,0)/$.length;return console.log(` [Confidence] Calculada localmente: ${(Y*100).toFixed(0)}%`),Y},[n]);b.useEffect(()=>{var $;if(n){const K=n.analysis.extractedSupplierName??n.supplier.name??"";a(K),l((($=n.analysis.extractedAmount)==null?void 0:$.toString())||""),u(n.analysis.extractedCurrency||"MXN");const Y=n.analysis.extractedDueDate?new Date(n.analysis.extractedDueDate):null;if(Y)f(Y);else if(n.analysis.extractedDate){const Q=new Date(n.analysis.extractedDate),H=new Date(Q);H.setDate(H.getDate()+30),f(H)}else f(null);y(n.analysis.extractedInvoiceNumber||n.analysis.extractedReference||""),j(n.analysis.extractedTaxId||""),x(""),h(null)}},[n]);const T=Wn({mutationFn:async $=>{const K=localStorage.getItem("authToken");if(!K)throw new Error("No se encontr token de autenticacin");const Y=await fetch("/api/scheduled-payments/confirm",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${K}`},body:JSON.stringify($)});if(!Y.ok){const Q=await Y.json();throw new Error(Q.error||Q.details||"Error al confirmar cuenta por pagar")}return await Y.json()},onSuccess:async $=>{console.log(" [InvoiceVerificationModal] Cuenta por pagar creada:",$),r({title:" Cuenta por pagar creada exitosamente",description:$.message||"La cuenta por pagar ha sido creada con la fecha de pago especificada"}),await Promise.all([ii.invalidateQueries({queryKey:["/api/treasury/payments"],exact:!1}),ii.invalidateQueries({queryKey:["/api/payment-vouchers"],exact:!1}),ii.invalidateQueries({queryKey:["/api/scheduled-payments"],exact:!1})]),await ii.refetchQueries({queryKey:["/api/treasury/payments"],exact:!1}),console.log(" [InvoiceVerificationModal] Queries invalidadas y refetched"),t()},onError:$=>{r({title:"Error al confirmar cuenta por pagar",description:$.message||"No se pudo crear la cuenta por pagar",variant:"destructive"})}}),R=()=>{if(!i.trim()){r({title:"Error de validacin",description:"El nombre del proveedor es obligatorio",variant:"destructive"});return}if(!o||isNaN(parseFloat(o))||parseFloat(o)<=0){r({title:"Error de validacin",description:"El monto debe ser un nmero vlido mayor a cero",variant:"destructive"});return}if(!d){r({title:"Error de validacin",description:"La fecha de vencimiento es obligatoria",variant:"destructive"});return}if(!m){r({title:"Fecha de pago requerida",description:"Debes especificar la fecha de pago para confirmar la cuenta por pagar",variant:"destructive"});return}T.mutate({payerCompanyId:n.payerCompanyId,supplierId:n.supplier.id,supplierName:i.trim(),amount:parseFloat(o),currency:c,dueDate:d,paymentDate:m,reference:g.trim()||null,notes:v.trim()||null,invoiceFilePath:n.invoiceFile.path,invoiceFileName:n.invoiceFile.originalName,extractedInvoiceNumber:n.analysis.extractedInvoiceNumber||null,extractedTaxId:w.trim()||null})},D=()=>{t()};return s.jsx(zr,{open:e,onOpenChange:$=>!$&&D(),children:s.jsxs(Ir,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsx(Vr,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs(qr,{className:"text-2xl font-bold text-foreground flex items-center gap-2",children:[s.jsx(Ds,{className:"h-6 w-6 text-primary"}),"Verificar Datos de Factura"]}),s.jsx(Rs,{className:"mt-2",children:"Revisa y confirma los datos extrados automticamente. Los campos marcados con * son obligatorios."})]}),M>.8&&P&&s.jsxs(Ct,{className:"bg-green-500 text-white",children:[s.jsx(tc,{className:"h-3 w-3 mr-1"}),"Listo para confirmar"]})]})}),s.jsxs("div",{className:"space-y-6 mt-4",children:[s.jsx(Ue,{className:"border-primary/20",children:s.jsxs(We,{className:"p-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(Ds,{className:"h-4 w-4"}),s.jsxs("span",{children:["Archivo: ",n.invoiceFile.originalName]})]}),s.jsxs(Oe,{variant:"ghost",size:"sm",onClick:()=>S(!_),children:[s.jsx(Dy,{className:"h-4 w-4 mr-2"}),_?"Ocultar":"Ver"," documento"]})]}),_&&s.jsx("div",{className:"mt-4 border rounded-lg p-2 bg-muted/50",children:s.jsx("iframe",{src:`/api/files/${encodeURIComponent(n.invoiceFile.path)}`,className:"w-full h-96 rounded",title:"Preview del documento"})})]})}),M>0&&s.jsx(Ue,{className:Fe("border-2",M>.8?"border-green-500/50 bg-green-50/50 dark:bg-green-950/20":M>.6?"border-yellow-500/50 bg-yellow-50/50 dark:bg-yellow-950/20":"border-red-500/50 bg-red-50/50 dark:bg-red-950/20"),children:s.jsx(We,{className:"p-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[M>.8?s.jsx(tc,{className:"h-5 w-5 text-green-600"}):M>.6?s.jsx(Nl,{className:"h-5 w-5 text-yellow-600"}):s.jsx(Nl,{className:"h-5 w-5 text-red-600"}),s.jsxs("span",{className:"text-sm font-medium",children:["Confianza de extraccin: ",(M*100).toFixed(0),"%"]})]}),n.matchConfidence&&n.matchConfidence>.8&&s.jsxs(Ct,{variant:"outline",className:"text-xs",children:["Proveedor encontrado: ",(n.matchConfidence*100).toFixed(0),"% confianza"]})]})})}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 border-b pb-2",children:"Datos del Proveedor"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(dt,{htmlFor:"supplierName",className:"text-gray-700 dark:text-gray-200 font-medium",children:["Proveedor ",s.jsx("span",{className:"text-red-500",children:"*"})]}),k("supplierName")>.7&&s.jsxs(Ct,{variant:"outline",className:"text-xs",children:[(k("supplierName")*100).toFixed(0),"% confianza"]})]}),s.jsx(gt,{id:"supplierName",value:i,onChange:$=>a($.target.value),placeholder:"Nombre del proveedor",className:Fe("w-full",!i.trim()&&"border-red-300")}),n.supplierSuggestions&&n.supplierSuggestions.length>0&&s.jsxs("p",{className:"text-xs text-muted-foreground",children:[" Proveedor sugerido: ",n.supplierSuggestions[0].name,"(",(n.supplierSuggestions[0].confidence*100).toFixed(0),"% confianza)"]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(dt,{htmlFor:"taxId",className:"text-gray-700 dark:text-gray-200 font-medium",children:"RFC / Tax ID"}),k("taxId")>.7&&s.jsxs(Ct,{variant:"outline",className:"text-xs",children:[(k("taxId")*100).toFixed(0),"% confianza"]})]}),s.jsx(gt,{id:"taxId",value:w,onChange:$=>j($.target.value),placeholder:"RFC o Tax ID",className:"w-full"})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 border-b pb-2",children:"Datos Financieros"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(dt,{htmlFor:"amount",className:"text-gray-700 dark:text-gray-200 font-medium",children:["Monto ",s.jsx("span",{className:"text-red-500",children:"*"})]}),k("amount")>.7&&s.jsxs(Ct,{variant:"outline",className:"text-xs",children:[(k("amount")*100).toFixed(0),"% confianza"]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(gt,{id:"amount",type:"number",step:"0.01",min:"0",value:o,onChange:$=>l($.target.value),placeholder:"0.00",className:Fe("flex-1",(!o||parseFloat(o)<=0)&&"border-red-300")}),s.jsxs("select",{value:c,onChange:$=>u($.target.value),className:"px-3 py-2 border rounded-md bg-card text-foreground",children:[s.jsx("option",{value:"MXN",children:"MXN"}),s.jsx("option",{value:"USD",children:"USD"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(dt,{htmlFor:"reference",className:"text-gray-700 dark:text-gray-200 font-medium",children:"Referencia / Nmero de Factura"}),k("invoiceNumber")>.7&&s.jsxs(Ct,{variant:"outline",className:"text-xs",children:[(k("invoiceNumber")*100).toFixed(0),"% confianza"]})]}),s.jsx(gt,{id:"reference",value:g,onChange:$=>y($.target.value),placeholder:"Nmero de factura o referencia",className:"w-full"})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 border-b pb-2",children:"Fechas Importantes"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(dt,{className:"text-gray-700 dark:text-gray-200 font-medium",children:["Fecha de Vencimiento ",s.jsx("span",{className:"text-red-500",children:"*"})]}),k("dueDate")>.7&&s.jsxs(Ct,{variant:"outline",className:"text-xs",children:[(k("dueDate")*100).toFixed(0),"% confianza"]})]}),s.jsxs(KX,{children:[s.jsx(GX,{asChild:!0,children:s.jsxs(Oe,{variant:"outline",className:Fe("w-full justify-start text-left font-normal",!d&&"text-muted-foreground border-red-300"),children:[s.jsx(Xa,{className:"mr-2 h-4 w-4"}),d?er(d,"PPP",{locale:Da}):"Seleccionar fecha"]})}),s.jsx(MD,{className:"w-auto p-0",align:"start",children:s.jsx(LD,{mode:"single",selected:d||void 0,onSelect:$=>f($||null),initialFocus:!0})})]}),!d&&s.jsx("p",{className:"text-xs text-red-500 mt-1",children:" Fecha de vencimiento requerida"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(dt,{className:"flex items-center gap-2 text-gray-700 dark:text-gray-200 font-medium",children:["Fecha de Pago ",s.jsx("span",{className:"text-red-500",children:"*"}),s.jsx("span",{className:"text-xs text-gray-500 font-normal",children:"(Cundo se va a pagar)"})]}),s.jsxs(KX,{children:[s.jsx(GX,{asChild:!0,children:s.jsxs(Oe,{variant:"outline",className:Fe("w-full justify-start text-left font-normal",!m&&"text-muted-foreground border-red-300"),children:[s.jsx(Xa,{className:"mr-2 h-4 w-4"}),m?er(m,"PPP",{locale:Da}):"Seleccionar fecha de pago"]})}),s.jsx(MD,{className:"w-auto p-0",align:"start",children:s.jsx(LD,{mode:"single",selected:m||void 0,onSelect:$=>h($||null),initialFocus:!0})})]}),!m&&s.jsx("p",{className:"text-xs text-red-500 mt-1",children:"La fecha de pago es obligatoria para confirmar la cuenta por pagar"})]})]})]}),(n.analysis.paymentTerms||n.analysis.paymentMethod)&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 border-b pb-2",children:"Informacin Adicional Extrada"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.analysis.paymentTerms&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(dt,{className:"text-gray-700 dark:text-gray-200 font-medium",children:"Trminos de Pago"}),s.jsx("div",{className:"p-3 bg-muted rounded-md text-sm",children:n.analysis.paymentTerms})]}),n.analysis.paymentMethod&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(dt,{className:"text-gray-700 dark:text-gray-200 font-medium",children:"Mtodo de Pago"}),s.jsx("div",{className:"p-3 bg-muted rounded-md text-sm",children:n.analysis.paymentMethod})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(dt,{htmlFor:"notes",className:"text-gray-700 dark:text-gray-200 font-medium",children:"Notas (opcional)"}),s.jsx("textarea",{id:"notes",value:v,onChange:$=>x($.target.value),placeholder:"Notas adicionales sobre esta cuenta por pagar",className:"w-full min-h-[80px] px-3 py-2 border rounded-md bg-card text-foreground placeholder:text-muted-foreground resize-none"})]}),s.jsx(Ue,{className:"border-primary/30 bg-primary/5",children:s.jsxs(We,{className:"p-4",children:[s.jsx("h3",{className:"font-semibold mb-3",children:"Resumen"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Proveedor:"}),s.jsx("span",{className:"ml-2 font-medium",children:i||"N/A"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Monto:"}),s.jsxs("span",{className:"ml-2 font-medium",children:[c," ",o?parseFloat(o).toLocaleString("es-MX",{minimumFractionDigits:2}):"0.00"]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Fecha de Vencimiento:"}),s.jsx("span",{className:"ml-2 font-medium",children:d?er(d,"PPP",{locale:Da}):"No especificada"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-muted-foreground",children:"Fecha de Pago:"}),s.jsx("span",{className:Fe("ml-2 font-medium",m?"text-green-600":"text-red-500"),children:m?er(m,"PPP",{locale:Da}):" No especificada"})]})]})]})})]}),s.jsxs("div",{className:"flex justify-end gap-3 mt-6 pt-4 border-t",children:[s.jsxs(Oe,{variant:"outline",onClick:D,disabled:T.isPending,children:[s.jsx(gj,{className:"h-4 w-4 mr-2"}),"Cancelar"]}),s.jsx(Oe,{onClick:R,disabled:T.isPending||!m,className:"min-w-[140px]",children:T.isPending?"Confirmando...":s.jsxs(s.Fragment,{children:[s.jsx(lf,{className:"h-4 w-4 mr-2"}),"Confirmar Cuenta por Pagar"]})})]})]})})}function lEt({onUploadComplete:e}){var ie,ce;const t=Vs(),n=b.useRef(null),[r,i]=b.useState(null),[a,o]=b.useState(null),[l,c]=b.useState(""),[u,d]=b.useState([]),[f,m]=b.useState(!1),[h,g]=b.useState(0),[y,v]=b.useState(""),[x,w]=b.useState([]),[j,_]=b.useState(0),[S,k]=b.useState([]),[P,M]=b.useState(!1),T=[{message:"Analizando documento...",progress:10,duration:600},{message:"Buscando RFC...",progress:25,duration:700},{message:"Extrayendo monto...",progress:40,duration:600},{message:"Detectando fecha de vencimiento...",progress:55,duration:500},{message:"Identificando proveedor...",progress:70,duration:500},{message:"Verificando datos...",progress:85,duration:400}],R=async()=>{w([]);for(const te of T)v(te.message),g(te.progress),await new Promise(oe=>setTimeout(oe,te.duration))},{data:D=[],isLoading:I}=At({queryKey:["/api/suppliers"],staleTime:6e4}),B=D.filter(te=>{var ve;if(!te.is_active||r&&te.company_id!==r)return!1;if(!l)return!0;const oe=l.toLowerCase();return te.name.toLowerCase().includes(oe)||((ve=te.short_name)==null?void 0:ve.toLowerCase().includes(oe))}),$=Wn({mutationFn:async({file:te,payerCompanyId:oe,supplierId:ve})=>{const ne=new FormData;ne.append("voucher",te),ne.append("payerCompanyId",oe.toString()),ne.append("supplierId",ve.toString());const xe=localStorage.getItem("authToken");if(!xe)throw new Error("No se encontr token de autenticacin");const ue=R(),re=await fetch("/api/payment-vouchers/upload",{method:"POST",headers:{Authorization:`Bearer ${xe}`},body:ne}),Se=await re.text(),ae=Se?JSON.parse(Se):{};if(await ue,ae.analysis){const X=[];if(ae.analysis.extractedTaxId&&X.push({field:"RFC",value:ae.analysis.extractedTaxId}),ae.analysis.extractedAmount&&X.push({field:"Monto",value:`$${Number(ae.analysis.extractedAmount).toLocaleString()}`}),ae.analysis.extractedSupplierName&&X.push({field:"Proveedor",value:ae.analysis.extractedSupplierName.substring(0,25)}),ae.analysis.extractedDueDate){const Ae=new Date(ae.analysis.extractedDueDate);X.push({field:"Vencimiento",value:Ae.toLocaleDateString("es-MX")})}w(X),v(X.length>0?" Datos extrados":"Anlisis completado")}if(g(100),!re.ok)throw new Error(ae.error||ae.message||`Error ${re.status}`);return await new Promise(X=>setTimeout(X,1500)),ae},onSuccess:te=>{te!=null&&te.requiresVerification?(console.log(" [InvoiceUploadFlow] Factura requiere verificacin"),e==null||e(te)):(t.invalidateQueries({queryKey:["/api/treasury/payments"]}),t.invalidateQueries({queryKey:["/api/payment-vouchers"]}),gl({title:" Documento procesado",description:`Factura de ${a==null?void 0:a.name} procesada exitosamente`}),K(),e==null||e(te))},onError:te=>{g(0),v(""),w([]),gl({title:"Error al procesar factura",description:te.message||"Ocurri un error inesperado",variant:"destructive"})}}),K=()=>{i(null),o(null),d([]),c(""),g(0),v(""),w([])},Y=te=>{i(te),a&&a.company_id!==te&&o(null),c("")},Q=te=>{o(te)},H=b.useCallback(te=>{te.preventDefault(),m(!1);const oe=Array.from(te.dataTransfer.files).filter(ve=>ve.type==="application/pdf"||ve.type==="text/xml"||ve.name.endsWith(".xml")||ve.type.startsWith("image/"));oe.length>0&&d(oe)},[]),G=te=>{te.target.files&&d(Array.from(te.target.files))},U=async()=>{if(!r||!a||u.length===0)return;M(!0),k([]),_(0);const te=[];for(let oe=0;oe<u.length;oe++){const ve=u[oe];_(oe),v(`Procesando ${oe+1} de ${u.length}...`);try{await $.mutateAsync({file:ve,payerCompanyId:r,supplierId:a.id}),te.push({name:ve.name,success:!0})}catch(ne){te.push({name:ve.name,success:!1,error:ne.message})}k([...te])}if(M(!1),u.length>1){const oe=te.filter(ne=>ne.success).length,ve=te.filter(ne=>!ne.success).length;gl({title:` ${oe} de ${u.length} facturas procesadas`,description:ve>0?`${ve} facturas tuvieron errores`:"Todas las facturas fueron procesadas exitosamente",variant:(ve>0,"default")}),K()}},ee=r?a?3:2:1,z=r&&a&&u.length>0,F=[{id:1,name:"DURA",fullName:"DURA International",color:"blue",icon:sp},{id:2,name:"ORSEGA",fullName:"Grupo ORSEGA",color:"emerald",icon:_l}];return s.jsx(Ue,{className:"overflow-hidden border-2 border-dashed border-slate-200 hover:border-primary/50 transition-colors",children:s.jsxs(We,{className:"p-0",children:[s.jsx("div",{className:"bg-gradient-to-r from-slate-50 to-white px-5 py-4 border-b",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-xl bg-primary/10",children:s.jsx(ZNe,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-foreground",children:"Subir Factura"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"PDF, XML o imagen"})]})]}),s.jsx("div",{className:"flex items-center gap-1",children:[1,2,3].map(te=>s.jsx("div",{className:Fe("h-1.5 rounded-full transition-all duration-300",te===ee?"w-6 bg-primary":te<ee?"w-3 bg-primary/60":"w-3 bg-slate-200")},te))})]})}),s.jsx("div",{className:"p-5",children:s.jsxs(iL,{mode:"wait",children:[!r&&s.jsxs(bs.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"space-y-3",children:[s.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"A qu empresa corresponde?"}),s.jsx("div",{className:"grid grid-cols-2 gap-3",children:F.map(te=>s.jsx("button",{onClick:()=>Y(te.id),className:Fe("relative p-4 rounded-xl border-2 transition-all duration-200","hover:border-primary hover:bg-primary/5 hover:shadow-md","focus:outline-none focus:ring-2 focus:ring-primary/20",te.color==="blue"?"border-blue-200 bg-blue-50/50":"border-emerald-200 bg-emerald-50/50"),children:s.jsxs("div",{className:"flex flex-col items-center gap-2",children:[s.jsx("div",{className:Fe("w-12 h-12 rounded-xl flex items-center justify-center",te.color==="blue"?"bg-blue-100":"bg-emerald-100"),children:s.jsx(te.icon,{className:Fe("h-6 w-6",te.color==="blue"?"text-blue-600":"text-emerald-600")})}),s.jsx("span",{className:"font-semibold text-sm",children:te.name})]})},te.id))})]}),r&&!a&&s.jsxs(bs.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"space-y-3",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(Ct,{variant:"secondary",className:"gap-1",children:[(ie=F.find(te=>te.id===r))==null?void 0:ie.name,s.jsx("button",{onClick:()=>i(null),className:"ml-1 hover:text-destructive",children:s.jsx(Ra,{className:"h-3 w-3"})})]}),s.jsx(Q3,{className:"h-3 w-3 text-muted-foreground"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"Proveedor"})]})}),s.jsxs("div",{className:"relative",children:[s.jsx(GC,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(gt,{type:"text",placeholder:"Buscar proveedor...",value:l,onChange:te=>c(te.target.value),className:"pl-9 h-10 bg-slate-50 border-slate-200 focus:bg-white",autoFocus:!0})]}),s.jsxs("div",{className:"max-h-[180px] overflow-y-auto space-y-1 pr-1",children:[I?s.jsx("div",{className:"flex items-center justify-center py-6",children:s.jsx(sr,{className:"h-5 w-5 animate-spin text-muted-foreground"})}):B.length===0?s.jsx("div",{className:"text-center py-6 text-sm text-muted-foreground",children:"No se encontraron proveedores"}):B.slice(0,8).map(te=>s.jsxs("button",{className:Fe("w-full p-3 rounded-lg text-left transition-all duration-150","hover:bg-primary/10 hover:text-primary","focus:outline-none focus:bg-primary/10"),onClick:()=>Q(te),children:[s.jsx("span",{className:"text-sm font-medium truncate block",children:te.name}),te.short_name&&s.jsx("span",{className:"text-xs text-muted-foreground",children:te.short_name})]},te.id)),B.length>8&&s.jsxs("p",{className:"text-xs text-center text-muted-foreground py-2",children:["+",B.length-8," proveedores ms"]})]})]}),r&&a&&s.jsxs(bs.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsxs(Ct,{variant:"secondary",className:"gap-1",children:[(ce=F.find(te=>te.id===r))==null?void 0:ce.name,s.jsx("button",{onClick:()=>{i(null),o(null),d([])},className:"ml-1 hover:text-destructive",children:s.jsx(Ra,{className:"h-3 w-3"})})]}),s.jsx(Q3,{className:"h-3 w-3 text-muted-foreground"}),s.jsxs(Ct,{variant:"outline",className:"gap-1 bg-white",children:[a.short_name||a.name.substring(0,20),s.jsx("button",{onClick:()=>{o(null),d([])},className:"ml-1 hover:text-destructive",children:s.jsx(Ra,{className:"h-3 w-3"})})]})]}),s.jsxs("div",{className:Fe("relative rounded-xl border-2 border-dashed transition-all duration-200 cursor-pointer","min-h-[140px] flex flex-col items-center justify-center",f?"border-primary bg-primary/5 scale-[1.02]":u.length>0?"border-emerald-300 bg-emerald-50/50":"border-slate-200 hover:border-primary/50 hover:bg-slate-50"),onDragOver:te=>{te.preventDefault(),m(!0)},onDragLeave:()=>m(!1),onDrop:H,onClick:()=>{var te;return u.length===0&&((te=n.current)==null?void 0:te.click())},children:[s.jsx("input",{ref:n,type:"file",className:"hidden",accept:".pdf,.xml,image/*",multiple:!0,onChange:G}),u.length===0?s.jsxs("div",{className:"text-center p-4",children:[s.jsx("div",{className:Fe("w-14 h-14 mx-auto rounded-xl flex items-center justify-center mb-3 transition-colors",f?"bg-primary/20":"bg-slate-100"),children:s.jsx(Kl,{className:Fe("h-7 w-7 transition-colors",f?"text-primary":"text-slate-400")})}),s.jsx("p",{className:"text-sm font-medium text-foreground mb-1",children:f?"Suelta los archivos aqu":"Arrastra tus facturas"}),s.jsxs("p",{className:"text-xs text-muted-foreground mb-2",children:["o ",s.jsx("span",{className:"text-primary font-medium",children:"selecciona archivos"})]}),s.jsx(Ct,{variant:"secondary",className:"text-xs",children:" Puedes subir varias facturas a la vez"})]}):s.jsxs("div",{className:"w-full p-3 space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between pb-2 border-b",children:[s.jsxs(Ct,{className:"bg-emerald-100 text-emerald-700 border-emerald-200",children:[u.length," ",u.length===1?"factura":"facturas"," seleccionadas"]}),s.jsxs(Oe,{variant:"ghost",size:"sm",className:"h-7 text-xs gap-1 text-primary hover:text-primary hover:bg-primary/10",onClick:te=>{var oe;te.stopPropagation(),(oe=n.current)==null||oe.click()},children:[s.jsx(Kl,{className:"h-3 w-3"}),"Agregar ms"]})]}),s.jsx("div",{className:"max-h-[160px] overflow-y-auto space-y-1.5",children:u.map((te,oe)=>{const ve=S.find(xe=>xe.name===te.name),ne=P&&j===oe;return s.jsxs("div",{className:Fe("flex items-center gap-2 p-2 rounded-lg border transition-all",ve!=null&&ve.success?"bg-emerald-50 border-emerald-200":ve&&!ve.success?"bg-red-50 border-red-200":ne?"bg-primary/5 border-primary/30 animate-pulse":"bg-white border-slate-200"),children:[s.jsx("div",{className:Fe("p-1.5 rounded-lg",ve!=null&&ve.success?"bg-emerald-100":ve&&!ve.success?"bg-red-100":ne?"bg-primary/20":"bg-slate-100"),children:ve!=null&&ve.success?s.jsx(Rw,{className:"h-3.5 w-3.5 text-emerald-600"}):ve&&!ve.success?s.jsx(Ra,{className:"h-3.5 w-3.5 text-red-600"}):ne?s.jsx(sr,{className:"h-3.5 w-3.5 text-primary animate-spin"}):s.jsx(Ds,{className:"h-3.5 w-3.5 text-slate-500"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-xs font-medium truncate",children:te.name}),s.jsxs("p",{className:"text-[10px] text-muted-foreground",children:[(te.size/1024).toFixed(0)," KB",(ve==null?void 0:ve.error)&&s.jsx("span",{className:"text-red-500 ml-2",children:ve.error})]})]}),!P&&!ve&&s.jsx(Oe,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 hover:bg-red-50 hover:text-red-600",onClick:xe=>{xe.stopPropagation(),d(u.filter((ue,re)=>re!==oe))},children:s.jsx(Ra,{className:"h-3 w-3"})})]},oe)})})]}),$.isPending&&h>0&&s.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-slate-100 rounded-b-xl overflow-hidden",children:s.jsx(bs.div,{className:"h-full bg-primary",initial:{width:0},animate:{width:`${h}%`},transition:{duration:.3}})})]}),$.isPending&&s.jsxs(bs.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"rounded-xl border-2 border-primary/20 bg-primary/5 p-4 space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"relative",children:s.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/20 flex items-center justify-center",children:s.jsx(sr,{className:"h-4 w-4 text-primary animate-spin"})})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-primary",children:y}),s.jsx("div",{className:"w-full h-1.5 bg-primary/20 rounded-full mt-1.5 overflow-hidden",children:s.jsx(bs.div,{className:"h-full bg-primary rounded-full",initial:{width:0},animate:{width:`${h}%`},transition:{duration:.3}})})]})]}),x.length>0&&s.jsx(bs.div,{initial:{opacity:0},animate:{opacity:1},className:"space-y-1.5 pt-2 border-t border-primary/20",children:x.map((te,oe)=>s.jsxs(bs.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:oe*.15},className:"flex items-center gap-2 text-sm",children:[s.jsx(Rw,{className:"h-3.5 w-3.5 text-emerald-600"}),s.jsxs("span",{className:"text-muted-foreground",children:[te.field,":"]}),s.jsx("span",{className:"font-medium text-foreground",children:te.value})]},te.field))})]}),s.jsx(Oe,{onClick:U,disabled:!z||$.isPending||P,className:"w-full h-11 text-sm font-medium gap-2",size:"lg",children:$.isPending||P?s.jsxs(s.Fragment,{children:[s.jsx(sr,{className:"h-4 w-4 animate-spin"}),u.length>1?`Procesando ${j+1} de ${u.length}...`:"Analizando..."]}):s.jsxs(s.Fragment,{children:[s.jsx(cf,{className:"h-4 w-4"}),u.length>1?`Procesar ${u.length} Facturas`:"Procesar Factura"]})})]})]})})]})})}function cEt(e,t){const n=mEt(t);return"formatToParts"in n?dEt(n,e):fEt(n,e)}const uEt={year:0,month:1,day:2,hour:3,minute:4,second:5};function dEt(e,t){try{const n=e.formatToParts(t),r=[];for(let i=0;i<n.length;i++){const a=uEt[n[i].type];a!==void 0&&(r[a]=parseInt(n[i].value,10))}return r}catch(n){if(n instanceof RangeError)return[NaN];throw n}}function fEt(e,t){const n=e.format(t),r=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(n);return[parseInt(r[3],10),parseInt(r[1],10),parseInt(r[2],10),parseInt(r[4],10),parseInt(r[5],10),parseInt(r[6],10)]}const zO={},YX=new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:"America/New_York",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),hEt=YX==="06/25/2014, 00:00:00"||YX==="06/25/2014 00:00:00";function mEt(e){return zO[e]||(zO[e]=hEt?new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})),zO[e]}function kbe(e,t,n,r,i,a,o){const l=new Date(0);return l.setUTCFullYear(e,t,n),l.setUTCHours(r,i,a,o),l}const XX=36e5,pEt=6e4,VO={timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-])(\d{2}):?(\d{2})$/};function Cbe(e,t,n){if(!e)return 0;let r=VO.timezoneZ.exec(e);if(r)return 0;let i,a;if(r=VO.timezoneHH.exec(e),r)return i=parseInt(r[1],10),ZX(i)?-(i*XX):NaN;if(r=VO.timezoneHHMM.exec(e),r){i=parseInt(r[2],10);const o=parseInt(r[3],10);return ZX(i,o)?(a=Math.abs(i)*XX+o*pEt,r[1]==="+"?-a:a):NaN}if(xEt(e)){t=new Date(t||Date.now());const o=n?t:gEt(t),l=ID(o,e);return-(n?l:vEt(t,l,e))}return NaN}function gEt(e){return kbe(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}function ID(e,t){const n=cEt(e,t),r=kbe(n[0],n[1]-1,n[2],n[3]%24,n[4],n[5],0).getTime();let i=e.getTime();const a=i%1e3;return i-=a>=0?a:1e3+a,r-i}function vEt(e,t,n){let i=e.getTime()-t;const a=ID(new Date(i),n);if(t===a)return t;i-=a-t;const o=ID(new Date(i),n);return a===o?a:Math.max(a,o)}function ZX(e,t){return-23<=e&&e<=23&&(t==null||0<=t&&t<=59)}const QX={};function xEt(e){if(QX[e])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:e}),QX[e]=!0,!0}catch{return!1}}function JX(e){const t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+e-+t}const yEt=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,qO=36e5,eZ=6e4,bEt=2,Io={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:yEt};function wEt(e,t={}){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(e===null)return new Date(NaN);const n=t.additionalDigits==null?bEt:Number(t.additionalDigits);if(n!==2&&n!==1&&n!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]")return new Date(e.getTime());if(typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]")return new Date(e);if(Object.prototype.toString.call(e)!=="[object String]")return new Date(NaN);const r=jEt(e),{year:i,restDateString:a}=NEt(r.date,n),o=_Et(a,i);if(o===null||isNaN(o.getTime()))return new Date(NaN);if(o){const l=o.getTime();let c=0,u;if(r.time&&(c=SEt(r.time),c===null||isNaN(c)))return new Date(NaN);if(r.timeZone||t.timeZone){if(u=Cbe(r.timeZone||t.timeZone,new Date(l+c)),isNaN(u))return new Date(NaN)}else u=JX(new Date(l+c)),u=JX(new Date(l+c+u));return new Date(l+c+u)}else return new Date(NaN)}function jEt(e){const t={};let n=Io.dateTimePattern.exec(e),r;if(n?(t.date=n[1],r=n[3]):(n=Io.datePattern.exec(e),n?(t.date=n[1],r=n[2]):(t.date=null,r=e)),r){const i=Io.timeZone.exec(r);i?(t.time=r.replace(i[1],""),t.timeZone=i[1].trim()):t.time=r}return t}function NEt(e,t){if(e){const n=Io.YYY[t],r=Io.YYYYY[t];let i=Io.YYYY.exec(e)||r.exec(e);if(i){const a=i[1];return{year:parseInt(a,10),restDateString:e.slice(a.length)}}if(i=Io.YY.exec(e)||n.exec(e),i){const a=i[1];return{year:parseInt(a,10)*100,restDateString:e.slice(a.length)}}}return{year:null}}function _Et(e,t){if(t===null)return null;let n,r,i;if(!e||!e.length)return n=new Date(0),n.setUTCFullYear(t),n;let a=Io.MM.exec(e);if(a)return n=new Date(0),r=parseInt(a[1],10)-1,nZ(t,r)?(n.setUTCFullYear(t,r),n):new Date(NaN);if(a=Io.DDD.exec(e),a){n=new Date(0);const o=parseInt(a[1],10);return EEt(t,o)?(n.setUTCFullYear(t,0,o),n):new Date(NaN)}if(a=Io.MMDD.exec(e),a){n=new Date(0),r=parseInt(a[1],10)-1;const o=parseInt(a[2],10);return nZ(t,r,o)?(n.setUTCFullYear(t,r,o),n):new Date(NaN)}if(a=Io.Www.exec(e),a)return i=parseInt(a[1],10)-1,rZ(i)?tZ(t,i):new Date(NaN);if(a=Io.WwwD.exec(e),a){i=parseInt(a[1],10)-1;const o=parseInt(a[2],10)-1;return rZ(i,o)?tZ(t,i,o):new Date(NaN)}return null}function SEt(e){let t,n,r=Io.HH.exec(e);if(r)return t=parseFloat(r[1].replace(",",".")),UO(t)?t%24*qO:NaN;if(r=Io.HHMM.exec(e),r)return t=parseInt(r[1],10),n=parseFloat(r[2].replace(",",".")),UO(t,n)?t%24*qO+n*eZ:NaN;if(r=Io.HHMMSS.exec(e),r){t=parseInt(r[1],10),n=parseInt(r[2],10);const i=parseFloat(r[3].replace(",","."));return UO(t,n,i)?t%24*qO+n*eZ+i*1e3:NaN}return null}function tZ(e,t,n){t=t||0,n=n||0;const r=new Date(0);r.setUTCFullYear(e,0,4);const i=r.getUTCDay()||7,a=t*7+n+1-i;return r.setUTCDate(r.getUTCDate()+a),r}const kEt=[31,28,31,30,31,30,31,31,30,31,30,31],CEt=[31,29,31,30,31,30,31,31,30,31,30,31];function Ebe(e){return e%400===0||e%4===0&&e%100!==0}function nZ(e,t,n){if(t<0||t>11)return!1;if(n!=null){if(n<1)return!1;const r=Ebe(e);if(r&&n>CEt[t]||!r&&n>kEt[t])return!1}return!0}function EEt(e,t){if(t<1)return!1;const n=Ebe(e);return!(n&&t>366||!n&&t>365)}function rZ(e,t){return!(e<0||e>52||t!=null&&(t<0||t>6))}function UO(e,t,n){return!(e<0||e>=25||t!=null&&(t<0||t>=60)||n!=null&&(n<0||n>=60))}function PEt(e,t,n){e=wEt(e,n);const r=Cbe(t,e,!0),i=new Date(e.getTime()-r),a=new Date(0);return a.setFullYear(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()),a.setHours(i.getUTCHours(),i.getUTCMinutes(),i.getUTCSeconds(),i.getUTCMilliseconds()),a}const iZ=["DOF"];function F_(e){if(!e)return!1;const t=e.toUpperCase().trim(),n=iZ.includes(t);return t==="DOF"&&console.log("[isSingleValueSource] DOF detected:",{source:e,upperSource:t,result:n,SINGLE_VALUE_SOURCES:iZ}),n}const AEt="America/Mexico_City";function B_(e,t){const n=new Date(e),r=PEt(n,AEt);return er(r,t,{locale:Da})}function TEt({onRefreshDOF:e,isRefreshingDOF:t}){const{toast:n}=zi(),[r,i]=b.useState("Santander"),[a,o]=b.useState(""),[l,c]=b.useState(""),[u,d]=b.useState(!1),{data:f=[],isLoading:m}=At({queryKey:["/api/treasury/exchange-rates"],queryFn:async()=>{const j=localStorage.getItem("authToken"),_=await fetch("/api/treasury/exchange-rates?limit=50",{headers:{Authorization:`Bearer ${j}`}});if(!_.ok)throw new Error("Failed to fetch rates");return _.json()},staleTime:3e4,refetchInterval:6e4}),h=Wn({mutationFn:async j=>{const _=localStorage.getItem("authToken"),S=await fetch("/api/treasury/exchange-rates",{method:"POST",headers:{Authorization:`Bearer ${_}`,"Content-Type":"application/json"},body:JSON.stringify(j)});if(!S.ok)throw new Error("Failed to add rate");return S.json()},onSuccess:()=>{ii.invalidateQueries({queryKey:["/api/treasury/exchange-rates"]}),n({title:" Tipo de cambio agregado"}),o(""),c("")},onError:()=>{n({title:"Error al agregar tipo de cambio",variant:"destructive"})}}),g=f.reduce((j,_)=>((!j[_.source]||new Date(_.date)>new Date(j[_.source].date))&&(j[_.source]=_),j),{}),y=new Date;y.setHours(0,0,0,0);const v=f.filter(j=>{const _=new Date(j.date);return _.setHours(0,0,0,0),_.getTime()===y.getTime()}).sort((j,_)=>new Date(_.date).getTime()-new Date(j.date).getTime()),x=j=>{j.preventDefault();const _=parseFloat(a),S=parseFloat(l);if(isNaN(_)||isNaN(S)){n({title:"Ingresa valores vlidos",variant:"destructive"});return}h.mutate({buyRate:_,sellRate:S,source:r})},w={Santander:{bg:"bg-green-50 dark:bg-green-900/20",text:"text-green-700 dark:text-green-400",border:"border-green-200 dark:border-green-800"},MONEX:{bg:"bg-blue-50 dark:bg-blue-900/20",text:"text-blue-700 dark:text-blue-400",border:"border-blue-200 dark:border-blue-800"},DOF:{bg:"bg-orange-50 dark:bg-orange-900/20",text:"text-orange-700 dark:text-orange-400",border:"border-orange-200 dark:border-orange-800"}};return m?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(sr,{className:"h-8 w-8 animate-spin text-primary"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-semibold mb-3",children:"Tipos de Cambio Actuales"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:["Santander","MONEX","DOF"].map(j=>{const _=g[j],S=w[j]||w.DOF;return s.jsx(Ue,{className:`${S.border} border-2`,children:s.jsxs(We,{className:"p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:`font-bold text-lg ${S.text}`,children:j}),_&&s.jsx(Ct,{variant:"outline",className:"text-xs",children:B_(_.date,"HH:mm")})]}),_?F_(j)?s.jsxs("div",{className:"text-center py-2",children:[s.jsx("span",{className:"text-sm text-muted-foreground block mb-1",children:"Tipo de Cambio"}),s.jsxs("span",{className:"font-bold text-2xl",children:["$",(_.buy_rate??0).toFixed(4)]})]}):s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Compra:"}),s.jsxs("span",{className:"font-bold text-lg",children:["$",(_.buy_rate??0).toFixed(4)]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Venta:"}),s.jsxs("span",{className:"font-bold text-lg",children:["$",(_.sell_rate??0).toFixed(4)]})]})]}):s.jsx("p",{className:"text-sm text-muted-foreground",children:"Sin datos"})]})},j)})})]}),s.jsxs(Ue,{children:[s.jsx(Vt,{className:"pb-3",children:s.jsx(an,{className:"text-base",children:"Agregar Tipo de Cambio"})}),s.jsx(We,{children:s.jsxs("form",{onSubmit:x,className:"space-y-4",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Oe,{type:"button",variant:r==="Santander"?"default":"outline",onClick:()=>i("Santander"),className:"flex-1",children:"Santander"}),s.jsx(Oe,{type:"button",variant:r==="MONEX"?"default":"outline",onClick:()=>i("MONEX"),className:"flex-1",children:"MONEX"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(dt,{htmlFor:"buyRate",children:"Compra"}),s.jsx(gt,{id:"buyRate",type:"number",step:"0.0001",placeholder:"20.1234",value:a,onChange:j=>o(j.target.value),className:"text-lg font-mono"})]}),s.jsxs("div",{children:[s.jsx(dt,{htmlFor:"sellRate",children:"Venta"}),s.jsx(gt,{id:"sellRate",type:"number",step:"0.0001",placeholder:"20.5678",value:l,onChange:j=>c(j.target.value),className:"text-lg font-mono"})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(Oe,{type:"submit",disabled:h.isPending,className:"flex-1",children:[h.isPending?s.jsx(sr,{className:"h-4 w-4 mr-2 animate-spin"}):s.jsx(rc,{className:"h-4 w-4 mr-2"}),"Agregar ",r]}),s.jsxs(Oe,{type:"button",variant:"outline",onClick:e,disabled:t,children:[t?s.jsx(sr,{className:"h-4 w-4 mr-2 animate-spin"}):s.jsx(Pr,{className:"h-4 w-4 mr-2"}),"Actualizar DOF"]})]})]})})]}),v.length>0&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(Pr,{className:"h-5 w-5 text-primary"}),s.jsx("h2",{className:"text-lg font-semibold",children:"ltima Actualizacin"})]}),s.jsx(Ue,{className:"border-2 border-primary/20 bg-gradient-to-r from-primary/5 to-transparent",children:s.jsx(We,{className:"p-4",children:(()=>{const j=v[0],_=w[j.source]||w.DOF,S=F_(j.source);return s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Ct,{className:`${_.bg} ${_.text} border-2 ${_.border} px-3 py-1 text-sm font-bold`,children:j.source}),s.jsxs("div",{className:"flex items-center gap-2 text-foreground",children:[s.jsx(Wo,{className:"h-4 w-4"}),s.jsx("span",{className:"font-medium",children:B_(j.date,"HH:mm:ss")})]}),s.jsx("div",{className:"flex-1"}),S?s.jsxs("div",{className:"text-center",children:[s.jsx("span",{className:"text-xs text-muted-foreground block mb-1",children:"Tipo de Cambio"}),s.jsxs("span",{className:"font-bold text-2xl text-primary",children:["$",(j.buy_rate??0).toFixed(4)]})]}):s.jsxs("div",{className:"flex gap-8",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("span",{className:"text-xs text-muted-foreground block mb-1",children:"Compra"}),s.jsxs("span",{className:"font-bold text-xl text-green-600 dark:text-green-400",children:["$",(j.buy_rate??0).toFixed(4)]})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("span",{className:"text-xs text-muted-foreground block mb-1",children:"Venta"}),s.jsxs("span",{className:"font-bold text-xl text-red-600 dark:text-red-400",children:["$",(j.sell_rate??0).toFixed(4)]})]})]})]})})()})})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h2",{className:"text-lg font-semibold",children:"Historial de Hoy"}),s.jsxs(Ct,{variant:"secondary",children:[v.length," registros"]})]}),v.length===0?s.jsx(Ue,{children:s.jsx(We,{className:"py-8 text-center text-muted-foreground",children:"No hay actualizaciones de hoy"})}):s.jsx("div",{className:"space-y-1.5",children:v.slice(1).map(j=>{const _=w[j.source]||w.DOF,S=F_(j.source);return s.jsx(Ue,{className:`${_.bg} border ${_.border}`,children:s.jsx(We,{className:"p-2.5 px-4",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Ct,{className:`${_.bg} ${_.text} border ${_.border} min-w-[85px] justify-center font-semibold`,children:j.source}),s.jsxs("div",{className:"flex items-center gap-1.5 text-foreground/80",children:[s.jsx(Wo,{className:"h-3.5 w-3.5"}),s.jsx("span",{className:"font-medium text-sm",children:B_(j.date,"HH:mm:ss")})]}),s.jsx("div",{className:"flex-1"}),S?s.jsxs("div",{className:"text-center min-w-[90px]",children:[s.jsx("span",{className:"text-[10px] text-muted-foreground block",children:"TC"}),s.jsxs("span",{className:"font-bold text-sm",children:["$",(j.buy_rate??0).toFixed(4)]})]}):s.jsxs("div",{className:"flex gap-6",children:[s.jsxs("div",{className:"text-center min-w-[90px]",children:[s.jsx("span",{className:"text-[10px] text-muted-foreground block",children:"Compra"}),s.jsxs("span",{className:"font-bold text-sm",children:["$",(j.buy_rate??0).toFixed(4)]})]}),s.jsxs("div",{className:"text-center min-w-[90px]",children:[s.jsx("span",{className:"text-[10px] text-muted-foreground block",children:"Venta"}),s.jsxs("span",{className:"font-bold text-sm",children:["$",(j.sell_rate??0).toFixed(4)]})]})]})]})})},j.id)})})]}),f.length>0&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h2",{className:"text-lg font-semibold",children:"Historial Completo"}),f.length>10&&s.jsx(Oe,{variant:"ghost",size:"sm",onClick:()=>d(!u),children:u?s.jsxs(s.Fragment,{children:[s.jsx(WC,{className:"h-4 w-4 mr-1"}),"Ver menos"]}):s.jsxs(s.Fragment,{children:[s.jsx(iv,{className:"h-4 w-4 mr-1"}),"Ver ms (",f.length-10,")"]})})]}),s.jsx("div",{className:`space-y-1.5 ${u?"max-h-[400px] overflow-y-auto pr-2":""}`,children:f.slice(0,u?50:10).map(j=>{const _=w[j.source]||w.DOF,S=new Date(j.date).toDateString()===new Date().toDateString(),k=F_(j.source);return s.jsx(Ue,{className:`border ${_.border} ${S?`${_.bg}`:"bg-muted/30"}`,children:s.jsx(We,{className:"p-2 px-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Ct,{className:`${_.bg} ${_.text} border ${_.border} min-w-[75px] justify-center text-xs font-semibold`,children:j.source}),s.jsx("span",{className:"text-foreground/80 text-sm font-medium min-w-[110px]",children:B_(j.date,"dd MMM HH:mm")}),s.jsx("div",{className:"flex-1"}),k?s.jsxs("span",{className:"font-mono text-sm font-semibold",children:["$",(j.buy_rate??0).toFixed(4)]}):s.jsxs("div",{className:"flex items-center gap-3 font-mono text-sm",children:[s.jsxs("span",{className:"font-semibold",children:["$",(j.buy_rate??0).toFixed(4)]}),s.jsx("span",{className:"text-muted-foreground/40",children:"/"}),s.jsxs("span",{className:"font-semibold",children:["$",(j.sell_rate??0).toFixed(4)]})]})]})})},j.id)})})]})]})}function WO(){const{toast:e}=zi(),[t,n]=Yo(),r=()=>t.includes("/exchange-rates")?"exchange-rates":(t.includes("/vouchers"),"main"),[i,a]=b.useState(r);b.useEffect(()=>{a(r())},[t]);const[o,l]=b.useState(!1),[c,u]=b.useState(null),[d,f]=b.useState(!1),m=async()=>{f(!0);try{const T=localStorage.getItem("authToken"),R=await fetch("/api/treasury/exchange-rates/refresh-dof",{method:"POST",headers:{Authorization:`Bearer ${T}`}});if(!R.ok)throw new Error("Error al actualizar tipos de cambio");const D=await R.json();e({title:" Tipos de cambio actualizados",description:D.message||"Se actualizaron los tipos de cambio del DOF"}),ii.invalidateQueries({queryKey:["/api/treasury/exchange-rates"]})}catch(T){e({title:"Error",description:T.message||"No se pudieron actualizar los tipos de cambio",variant:"destructive"})}finally{f(!1)}},{data:h=[]}=At({queryKey:["/api/payment-vouchers"],staleTime:3e4,queryFn:async()=>{const T=localStorage.getItem("authToken"),R=await fetch("/api/payment-vouchers",{headers:{Authorization:`Bearer ${T}`}});if(!R.ok)throw new Error("Failed to fetch vouchers");return await R.json()}}),{data:g=[]}=At({queryKey:["/api/treasury/payments"],staleTime:0,queryFn:async()=>{const T=localStorage.getItem("authToken"),R=await fetch("/api/treasury/payments",{headers:{Authorization:`Bearer ${T}`}});if(!R.ok)throw new Error("Failed to fetch payments");return(await R.json()).map(I=>({...I,companyId:I.company_id||I.companyId,supplierId:I.supplier_id||I.supplierId,supplierName:I.supplier_name||I.supplierName,dueDate:I.due_date||I.dueDate,paymentDate:I.payment_date||I.paymentDate,voucherId:I.voucher_id||I.voucherId,createdAt:I.created_at||I.createdAt}))}}),y=new Date;y.setHours(0,0,0,0);const v=ou(y,{weekStartsOn:1}),x=X2(y,{weekStartsOn:1}),w=ou(G2(y,1),{weekStartsOn:1}),j=X2(G2(y,1),{weekStartsOn:1}),_=["idrall_imported","pending_approval","approved","payment_scheduled","payment_pending","pago_programado","pending"],S=g.filter(T=>{if(!_.includes(T.status))return!1;const R=T.paymentDate||T.dueDate;if(!R)return!1;const D=new Date(R);return D.setHours(0,0,0,0),D>=v&&D<=x}),k=g.filter(T=>{if(!_.includes(T.status))return!1;const R=T.paymentDate||T.dueDate;if(!R)return!1;const D=new Date(R);return D.setHours(0,0,0,0),D>=w&&D<=j}),P=S.reduce((T,R)=>T+(R.amount||0),0),M=k.reduce((T,R)=>T+(R.amount||0),0);return i==="suppliers"?s.jsx(Ro,{title:"Tesorera - Proveedores",children:s.jsx(zCt,{onBack:()=>{a("main"),n("/treasury")}})}):i==="history"?s.jsx(Ro,{title:"Tesorera - Historial de Pagos",children:s.jsxs("div",{className:"p-6 max-w-[1400px] mx-auto space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Historial de Pagos"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Consulta todos los pagos completados y sus documentos"})]}),s.jsx(Oe,{variant:"outline",onClick:()=>{a("main"),n("/treasury")},children:" Volver"})]}),s.jsx(FCt,{})]})}):i==="exchange-rates"?s.jsx(Ro,{title:"Tesorera - Tipos de Cambio",children:s.jsxs("div",{className:"p-6 max-w-[1400px] mx-auto space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Tipos de Cambio"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"USD/MXN - Actualizacin diaria"})]}),s.jsx(Oe,{variant:"outline",onClick:()=>{a("main"),n("/treasury")},children:" Volver"})]}),s.jsx(TEt,{onRefreshDOF:m,isRefreshingDOF:d})]})}):s.jsxs(Ro,{title:"Tesorera",children:[s.jsxs("div",{className:"p-4 md:p-6 max-w-[1600px] mx-auto space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Tesorera"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Gestin de pagos y comprobantes"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(Oe,{variant:"outline",size:"sm",onClick:()=>a("suppliers"),children:[s.jsx(Fi,{className:"h-4 w-4 mr-2"}),"Proveedores"]}),s.jsxs(Oe,{variant:"outline",size:"sm",onClick:()=>a("history"),children:[s.jsx(V6,{className:"h-4 w-4 mr-2"}),"Historial"]})]})]}),s.jsx(lEt,{onUploadComplete:T=>{T!=null&&T.requiresVerification&&(u(T),l(!0))}}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(Ue,{className:"bg-white border border-slate-200",children:s.jsxs(We,{className:"p-4",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3 pb-3 border-b border-slate-200",children:[s.jsx("div",{className:"p-2 bg-emerald-100 rounded-lg",children:s.jsx(kh,{className:"h-5 w-5 text-emerald-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("p",{className:"text-sm text-slate-500",children:["Semana Actual (",er(v,"dd MMM",{locale:Da})," - ",er(x,"dd MMM",{locale:Da}),")"]}),s.jsxs("div",{className:"flex items-baseline gap-2",children:[s.jsxs("p",{className:"text-xl font-bold text-slate-900",children:[S.length," pagos"]}),s.jsxs("p",{className:"text-sm font-medium text-emerald-600",children:["$",P.toLocaleString("es-MX",{minimumFractionDigits:2})]})]})]})]}),S.length>0?s.jsxs("div",{className:"space-y-2",children:[S.slice(0,5).map(T=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 border border-slate-100 rounded-lg text-sm",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"font-semibold text-slate-900 truncate",children:T.supplierName}),s.jsx("p",{className:"text-xs text-slate-500",children:er(new Date(T.paymentDate||T.dueDate),"dd MMM",{locale:Da})})]}),s.jsxs("p",{className:"font-bold text-slate-800",children:["$",(T.amount||0).toLocaleString()]})]},T.id)),S.length>5&&s.jsxs(Oe,{variant:"outline",size:"sm",className:"w-full text-emerald-600 border-emerald-200 hover:bg-emerald-50",children:["Ver ",S.length-5," ms "]})]}):s.jsx("p",{className:"text-sm text-slate-400 text-center py-4",children:"No hay pagos esta semana"})]})}),s.jsx(Ue,{className:"bg-white border border-slate-200",children:s.jsxs(We,{className:"p-4",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3 pb-3 border-b border-slate-200",children:[s.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:s.jsx(Ds,{className:"h-5 w-5 text-blue-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("p",{className:"text-sm text-slate-500",children:["Siguiente Semana (",er(w,"dd MMM",{locale:Da})," - ",er(j,"dd MMM",{locale:Da}),")"]}),s.jsxs("div",{className:"flex items-baseline gap-2",children:[s.jsxs("p",{className:"text-xl font-bold text-slate-900",children:[k.length," pagos"]}),s.jsxs("p",{className:"text-sm font-medium text-blue-600",children:["$",M.toLocaleString("es-MX",{minimumFractionDigits:2})]})]})]})]}),k.length>0?s.jsxs("div",{className:"space-y-2",children:[k.slice(0,5).map(T=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-50 border border-slate-100 rounded-lg text-sm",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"font-semibold text-slate-900 truncate",children:T.supplierName}),s.jsx("p",{className:"text-xs text-slate-500",children:er(new Date(T.paymentDate||T.dueDate),"dd MMM",{locale:Da})})]}),s.jsxs("p",{className:"font-bold text-slate-800",children:["$",(T.amount||0).toLocaleString()]})]},T.id)),k.length>5&&s.jsxs(Oe,{variant:"outline",size:"sm",className:"w-full text-blue-600 border-blue-200 hover:bg-blue-50",children:["Ver ",k.length-5," ms "]})]}):s.jsx("p",{className:"text-sm text-slate-400 text-center py-4",children:"No hay pagos la prxima semana"})]})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"Comprobantes de Pago"})}),s.jsx(RCt,{vouchers:h.map(T=>({id:T.id,companyId:T.companyId||T.company_id,payerCompanyId:T.payerCompanyId||T.payer_company_id,clientId:T.clientId||T.client_id,clientName:T.clientName||T.client_name,status:T.status||"factura_pagada",voucherFileUrl:T.voucherFileUrl||T.voucher_file_url,voucherFileName:T.voucherFileName||T.voucher_file_name,extractedAmount:T.extractedAmount||T.extracted_amount,extractedDate:T.extractedDate||T.extracted_date,extractedBank:T.extractedBank||T.extracted_bank,extractedReference:T.extractedReference||T.extracted_reference,extractedCurrency:T.extractedCurrency||T.extracted_currency,extractedBeneficiaryName:T.extractedBeneficiaryName||T.extracted_beneficiary_name,ocrConfidence:T.ocrConfidence||T.ocr_confidence,notes:T.notes,createdAt:T.createdAt||T.created_at}))})]})]}),o&&c&&s.jsx(oEt,{isOpen:o,onClose:()=>{l(!1),u(null)},invoiceData:c})]})}function z_({companyId:e}){const t=new Date().getFullYear(),[n,r]=b.useState(t-1),[i,a]=b.useState(t),{data:o,isLoading:l,error:c}=At({queryKey:["/api/sales-yearly-comparison",e,n,i],queryFn:async()=>await(await Dt("GET",`/api/sales-yearly-comparison?companyId=${e}&year1=${n}&year2=${i}`)).json(),enabled:!!e}),u=S=>new Intl.NumberFormat("es-MX",{minimumFractionDigits:2,maximumFractionDigits:2}).format(S),d=S=>S>0?"text-green-600 dark:text-green-400":S<0?"text-red-600 dark:text-red-400":"text-gray-600 dark:text-gray-400",f=S=>S>0?s.jsx(Pr,{className:"h-4 w-4 inline mr-1"}):S<0?s.jsx(zs,{className:"h-4 w-4 inline mr-1"}):s.jsx(uie,{className:"h-4 w-4 inline mr-1"});if(l)return s.jsxs(Ue,{className:"shadow-lg",children:[s.jsx(Vt,{className:"pb-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(sr,{className:"h-6 w-6 animate-spin text-muted-foreground"}),s.jsx(an,{children:"Cargando comparativo..."})]})}),s.jsx(We,{children:s.jsx("div",{className:"space-y-3",children:[...Array(6)].map((S,k)=>s.jsx(nr,{className:"h-10 w-full"},k))})})]});if(c||!o)return s.jsx(Ue,{className:"shadow-lg border-red-200",children:s.jsx(We,{className:"p-6",children:s.jsx("p",{className:"text-red-600",children:"Error al cargar datos comparativos"})})});const{data:m,totals:h,availableYears:g,unit:y}=o,v=e===1?"DURA International":"Grupo ORSEGA",x=e===1?"blue":"purple",w=m.filter(S=>S.qty_diff>0).length,j=m.reduce((S,k)=>k.qty_diff>S.qty_diff?k:S,m[0]),_=m.reduce((S,k)=>k.qty_diff<S.qty_diff?k:S,m[0]);return s.jsxs("div",{className:"space-y-4",children:[s.jsx(Ue,{className:"shadow-sm",children:s.jsx(We,{className:"p-4",children:s.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[s.jsx("span",{className:"text-sm font-medium",children:"Comparar:"}),s.jsxs(An,{value:n.toString(),onValueChange:S=>r(parseInt(S)),children:[s.jsx(Nn,{className:"w-28",children:s.jsx(Tn,{})}),s.jsx(_n,{children:g.map(S=>s.jsx(at,{value:S.toString(),children:S},S))})]}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"vs"}),s.jsxs(An,{value:i.toString(),onValueChange:S=>a(parseInt(S)),children:[s.jsx(Nn,{className:"w-28",children:s.jsx(Tn,{})}),s.jsx(_n,{children:g.map(S=>s.jsx(at,{value:S.toString(),children:S},S))})]})]})})}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[s.jsx(Ue,{className:`bg-gradient-to-br from-${x}-50 to-${x}-100/50 dark:from-${x}-950/20 dark:to-${x}-900/10 border-${x}-200/50`,children:s.jsxs(We,{className:"p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(ic,{className:`h-4 w-4 text-${x}-600`}),s.jsxs("span",{className:`text-xs font-medium text-${x}-600`,children:["Total ",i]})]}),s.jsxs("p",{className:`text-xl font-bold text-${x}-700`,children:[u(h[`qty_${i}`])," ",y]}),s.jsxs("p",{className:`text-xs mt-1 ${h.qty_percent>=0?"text-green-600":"text-red-600"}`,children:[h.qty_percent>=0?"":""," ",Math.abs(h.qty_percent).toFixed(1),"% vs ",n]})]})}),s.jsx(Ue,{className:"bg-gradient-to-br from-green-50 to-green-100/50 dark:from-green-950/20 dark:to-green-900/10 border-green-200/50",children:s.jsxs(We,{className:"p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Xa,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{className:"text-xs font-medium text-green-600",children:"Meses Positivos"})]}),s.jsxs("p",{className:"text-xl font-bold text-green-700",children:[w,"/12"]}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Superan a ",n]})]})}),s.jsx(Ue,{className:"bg-gradient-to-br from-emerald-50 to-emerald-100/50 dark:from-emerald-950/20 dark:to-emerald-900/10 border-emerald-200/50",children:s.jsxs(We,{className:"p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(ry,{className:"h-4 w-4 text-emerald-600"}),s.jsx("span",{className:"text-xs font-medium text-emerald-600",children:"Mejor Mes"})]}),s.jsx("p",{className:"text-lg font-bold text-emerald-700",children:(j==null?void 0:j.mes)||"-"}),s.jsxs("p",{className:"text-xs text-emerald-600 mt-1",children:["+",u((j==null?void 0:j.qty_diff)||0)," ",y]})]})}),s.jsx(Ue,{className:"bg-gradient-to-br from-red-50 to-red-100/50 dark:from-red-950/20 dark:to-red-900/10 border-red-200/50",children:s.jsxs(We,{className:"p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Oa,{className:"h-4 w-4 text-red-600"}),s.jsx("span",{className:"text-xs font-medium text-red-600",children:"Mes Crtico"})]}),s.jsx("p",{className:"text-lg font-bold text-red-700",children:(_==null?void 0:_.mes)||"-"}),s.jsxs("p",{className:"text-xs text-red-600 mt-1",children:[u((_==null?void 0:_.qty_diff)||0)," ",y]})]})})]}),s.jsxs(Ue,{className:"shadow-lg",children:[s.jsx(Vt,{className:"pb-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`p-2 bg-${x}-100 dark:bg-${x}-900/30 rounded-lg`,children:s.jsx(O1,{className:`h-6 w-6 text-${x}-600 dark:text-${x}-400`})}),s.jsxs("div",{children:[s.jsxs(an,{className:"text-xl",children:["Comparativo Anual - ",v]}),s.jsxs(fi,{children:[y," por mes | ",n," vs ",i]})]})]})}),s.jsxs(We,{children:[s.jsx("div",{className:"overflow-x-auto rounded-lg border",children:s.jsxs(iA,{children:[s.jsx(aA,{children:s.jsxs(rp,{className:"bg-gradient-to-r from-gray-50 to-gray-100 dark:from-gray-800 dark:to-gray-900",children:[s.jsx(Pa,{className:"font-bold text-center w-28",children:"Mes"}),s.jsxs(Pa,{className:"font-bold text-right",children:[n," (",y,")"]}),s.jsxs(Pa,{className:"font-bold text-right",children:[i," (",y,")"]}),s.jsx(Pa,{className:"font-bold text-right",children:"Diferencia"}),s.jsx(Pa,{className:"font-bold text-center",children:"% Cambio"})]})}),s.jsxs(sA,{children:[m.map((S,k)=>{const P=S[`qty_${n}`]||0,M=S[`qty_${i}`]||0,T=P>0?M/P*100:0;return s.jsxs(rp,{className:"hover:bg-gray-50 dark:hover:bg-gray-800/50",children:[s.jsx(ji,{className:"font-semibold text-center",children:S.mes}),s.jsx(ji,{className:"text-right font-mono",children:u(P)}),s.jsx(ji,{className:"text-right font-mono font-semibold",children:u(M)}),s.jsxs(ji,{className:`text-right font-mono ${d(S.qty_diff)}`,children:[f(S.qty_diff),S.qty_diff>=0?"+":"",u(S.qty_diff)]}),s.jsx(ji,{className:"text-center",children:s.jsxs(Ct,{variant:T>=100?"default":"destructive",className:T>=100?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"",children:[T.toFixed(1),"%"]})})]},k)}),s.jsxs(rp,{className:`bg-gradient-to-r from-${x}-50 to-${x}-100 dark:from-${x}-900/20 dark:to-${x}-800/20 font-bold border-t-2`,children:[s.jsx(ji,{className:"text-center font-bold",children:"TOTAL"}),s.jsx(ji,{className:"text-right font-mono font-bold",children:u(h[`qty_${n}`])}),s.jsx(ji,{className:"text-right font-mono font-bold",children:u(h[`qty_${i}`])}),s.jsxs(ji,{className:`text-right font-mono font-bold ${d(h.qty_diff)}`,children:[f(h.qty_diff),h.qty_diff>=0?"+":"",u(h.qty_diff)]}),s.jsx(ji,{className:"text-center",children:s.jsxs(Ct,{variant:"outline",className:`bg-${x}-100 text-${x}-800 dark:bg-${x}-900/30 dark:text-${x}-400 font-bold`,children:[h[`qty_${n}`]>0?(h[`qty_${i}`]/h[`qty_${n}`]*100).toFixed(1):"0.0","%"]})})]})]})]})}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-3 text-center",children:["Datos histricos de ",g[g.length-1]," a ",g[0]]})]})]}),s.jsxs(Ue,{className:"shadow-lg",children:[s.jsx(Vt,{className:"pb-4",children:s.jsx(an,{className:"text-lg",children:"Resumen del Anlisis"})}),s.jsx(We,{children:s.jsx("div",{className:`p-4 rounded-lg border ${h.qty_percent>=0?"bg-green-50 border-green-200 dark:bg-green-950/20":"bg-red-50 border-red-200 dark:bg-red-950/20"}`,children:s.jsxs("p",{className:"text-sm leading-relaxed",children:[s.jsx("strong",{children:v})," presenta un"," ",s.jsxs("span",{className:h.qty_percent>=0?"text-green-600 font-semibold":"text-red-600 font-semibold",children:[h.qty_percent>=0?"crecimiento":"decrecimiento"," del ",Math.abs(h.qty_percent).toFixed(1),"%"]})," ","en ",i," comparado con ",n,". Esto representa"," ",s.jsxs("span",{className:"font-semibold",children:[h.qty_diff>=0?"+":"",u(h.qty_diff)," ",y]})," ","de diferencia.",s.jsx("br",{}),s.jsx("br",{}),s.jsxs("strong",{children:[w," de 12 meses"]})," superan el desempeo del ao anterior. El mejor mes fue ",s.jsx("strong",{children:j==null?void 0:j.mes})," (+",u((j==null?void 0:j.qty_diff)||0)," ",y,") y el mes ms crtico fue ",s.jsx("strong",{children:_==null?void 0:_.mes})," (",u((_==null?void 0:_.qty_diff)||0)," ",y,")."]})})})]})]})}function OEt({companyId:e}){const[t,n]=b.useState("critical"),{data:r,isLoading:i,error:a}=At({queryKey:["/api/sales-churn-risk",e],queryFn:async()=>await(await Dt("GET",`/api/sales-churn-risk?companyId=${e}`)).json(),enabled:!!e}),o=g=>g>=1e6?`${(g/1e6).toFixed(1)}M`:g>=1e3?`${(g/1e3).toFixed(1)}K`:g.toLocaleString("es-MX");if(i)return s.jsxs(Ue,{children:[s.jsx(Vt,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(sr,{className:"h-5 w-5 animate-spin"}),s.jsx(an,{children:"Analizando riesgo de clientes..."})]})}),s.jsx(We,{children:s.jsx("div",{className:"space-y-3",children:[...Array(4)].map((g,y)=>s.jsx(nr,{className:"h-16 w-full"},y))})})]});if(a||!r)return s.jsx(Ue,{className:"border-red-200",children:s.jsx(We,{className:"p-6",children:s.jsx("p",{className:"text-red-600",children:"Error al cargar anlisis de riesgo"})})});const{summary:l,clients:c,unit:u,currentYear:d,lastYear:f}=r,m=[{key:"critical",label:"Crtico",icon:Nl,color:"text-red-600",bgColor:"bg-red-50 dark:bg-red-950/30",borderColor:"border-red-200",count:l.criticalCount,description:"Sin compras 60+ das"},{key:"lost",label:"Perdidos",icon:mie,color:"text-orange-600",bgColor:"bg-orange-50 dark:bg-orange-950/30",borderColor:"border-orange-200",count:l.lostCount,description:`Compraban en ${f}, no en ${d}`},{key:"warning",label:"En Alerta",icon:Oa,color:"text-amber-600",bgColor:"bg-amber-50 dark:bg-amber-950/30",borderColor:"border-amber-200",count:l.warningCount,description:"Cada >30% vs ao anterior"},{key:"declining",label:"Declinando",icon:zs,color:"text-yellow-600",bgColor:"bg-yellow-50 dark:bg-yellow-950/30",borderColor:"border-yellow-200",count:c.declining.length,description:"Cada 10-30%"},{key:"growing",label:"Creciendo",icon:Pr,color:"text-green-600",bgColor:"bg-green-50 dark:bg-green-950/30",borderColor:"border-green-200",count:l.growingCount,description:"Crecimiento >10%"},{key:"new",label:"Nuevos",icon:YC,color:"text-blue-600",bgColor:"bg-blue-50 dark:bg-blue-950/30",borderColor:"border-blue-200",count:l.newCount,description:`Primera compra en ${d}`}],h=(g,y)=>g.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(Fi,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),s.jsx("p",{children:"No hay clientes en esta categora"})]}):s.jsx(dw,{className:"h-[300px]",children:s.jsx("div",{className:"space-y-2",children:g.map((v,x)=>s.jsxs("div",{className:`p-3 rounded-lg border ${y.bgColor} ${y.borderColor}`,children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium text-sm",children:v.name}),s.jsxs("div",{className:"flex items-center gap-2 mt-1 text-xs text-muted-foreground",children:[s.jsx(Wo,{className:"h-3 w-3"}),s.jsx("span",{children:v.daysSincePurchase>0?`Hace ${v.daysSincePurchase} das`:"Reciente"})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"font-bold text-sm",children:[o(v.qtyLastYear>0?v.qtyLastYear:v.qtyCurrentYear)," ",u]}),v.yoyChange!==0&&s.jsxs(Ct,{variant:"outline",className:`text-xs ${v.yoyChange>0?"text-green-600 border-green-300":"text-red-600 border-red-300"}`,children:[v.yoyChange>0?"+":"",v.yoyChange.toFixed(0),"%"]})]})]}),y.key==="lost"&&s.jsxs("p",{className:"text-xs text-red-600 mt-2",children:["Volumen perdido: ",o(v.qtyLastYear)," ",u]})]},x))})});return s.jsxs(Ue,{className:"shadow-lg",children:[s.jsxs(Vt,{className:"pb-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-red-100 dark:bg-red-900/30 rounded-lg",children:s.jsx(Oa,{className:"h-5 w-5 text-red-600"})}),s.jsxs("div",{children:[s.jsx(an,{className:"text-lg",children:"Anlisis de Riesgo de Clientes"}),s.jsxs(fi,{children:[l.totalClients," clientes analizados | ",d," vs ",f]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mt-4",children:[s.jsxs("div",{className:"p-3 bg-red-50 dark:bg-red-950/30 rounded-lg border border-red-200",children:[s.jsx("p",{className:"text-xs text-red-600 font-medium",children:"En Riesgo"}),s.jsx("p",{className:"text-2xl font-bold text-red-700",children:l.criticalCount+l.warningCount}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[o(l.atRiskVolume)," ",u]})]}),s.jsxs("div",{className:"p-3 bg-orange-50 dark:bg-orange-950/30 rounded-lg border border-orange-200",children:[s.jsx("p",{className:"text-xs text-orange-600 font-medium",children:"Perdidos"}),s.jsx("p",{className:"text-2xl font-bold text-orange-700",children:l.lostCount}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[o(l.lostVolume)," ",u]})]}),s.jsxs("div",{className:"p-3 bg-green-50 dark:bg-green-950/30 rounded-lg border border-green-200",children:[s.jsx("p",{className:"text-xs text-green-600 font-medium",children:"Creciendo"}),s.jsx("p",{className:"text-2xl font-bold text-green-700",children:l.growingCount})]}),s.jsxs("div",{className:"p-3 bg-blue-50 dark:bg-blue-950/30 rounded-lg border border-blue-200",children:[s.jsx("p",{className:"text-xs text-blue-600 font-medium",children:"Nuevos"}),s.jsx("p",{className:"text-2xl font-bold text-blue-700",children:l.newCount})]})]})]}),s.jsx(We,{children:s.jsxs(Tp,{value:t,onValueChange:n,children:[s.jsx(Rh,{className:"grid grid-cols-3 md:grid-cols-6 mb-4",children:m.map(g=>{const y=g.icon;return s.jsxs(Ki,{value:g.key,className:"flex items-center gap-1 text-xs",children:[s.jsx(y,{className:`h-3 w-3 ${g.color}`}),s.jsx("span",{className:"hidden md:inline",children:g.label}),s.jsx(Ct,{variant:"secondary",className:"ml-1 text-xs",children:g.count})]},g.key)})}),m.map(g=>s.jsxs(ds,{value:g.key,children:[s.jsx("div",{className:"mb-3",children:s.jsx("p",{className:"text-sm text-muted-foreground",children:g.description})}),h(c[g.key],g)]},g.key))]})})]})}function LEt({companyId:e,limit:t=10}){const{data:n,isLoading:r,error:i}=At({queryKey:["/api/sales-client-trends",e,t],queryFn:async()=>await(await Dt("GET",`/api/sales-client-trends?companyId=${e}&limit=${t}`)).json(),enabled:!!e}),a=v=>v>=1e6?`${(v/1e6).toFixed(1)}M`:v>=1e3?`${(v/1e3).toFixed(0)}K`:v.toFixed(0),o=(v,x=20)=>v.length<=x?v:v.substring(0,x)+"...";if(r)return s.jsxs(Ue,{children:[s.jsx(Vt,{children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(sr,{className:"h-5 w-5 animate-spin"}),s.jsx(an,{children:"Cargando clientes..."})]})}),s.jsx(We,{children:s.jsx(nr,{className:"h-[400px] w-full"})})]});if(i||!n)return s.jsx(Ue,{className:"border-red-200",children:s.jsx(We,{className:"p-6",children:s.jsx("p",{className:"text-red-600",children:"Error al cargar tendencias de clientes"})})});const{clients:l,currentYear:c,previousYear:u,unit:d}=n,f=e===1?"DURA":"ORSEGA",m=l.map(v=>({name:o(v.name,18),fullName:v.name,[u]:v.qtyPrevious,[c]:v.qtyCurrent,change:v.change,changePercent:v.changePercent})),h=l.reduce((v,x)=>v+x.qtyCurrent,0);l.reduce((v,x)=>v+x.qtyPrevious,0);const g=l.filter(v=>v.change>0).length,y=l.filter(v=>v.change<0).length;return s.jsxs(Ue,{className:"shadow-lg",children:[s.jsxs(Vt,{className:"pb-2",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`p-2 rounded-lg ${e===1?"bg-blue-100":"bg-purple-100"}`,children:s.jsx(Fi,{className:`h-5 w-5 ${e===1?"text-blue-600":"text-purple-600"}`})}),s.jsxs("div",{children:[s.jsxs(an,{className:"text-lg",children:["Top ",t," Clientes - ",f]}),s.jsxs(fi,{children:["Comparativo ",u," vs ",c]})]})]})}),s.jsxs("div",{className:"flex flex-wrap gap-3 mt-3",children:[s.jsxs(Ct,{variant:"outline",className:"flex items-center gap-1",children:[s.jsx(Pr,{className:"h-3 w-3 text-green-600"}),s.jsxs("span",{className:"text-green-600",children:[g," creciendo"]})]}),s.jsxs(Ct,{variant:"outline",className:"flex items-center gap-1",children:[s.jsx(zs,{className:"h-3 w-3 text-red-600"}),s.jsxs("span",{className:"text-red-600",children:[y," declinando"]})]}),s.jsxs(Ct,{variant:"secondary",children:["Top ",t,": ",a(h)," ",d]})]})]}),s.jsxs(We,{children:[s.jsx("div",{className:"h-[400px] w-full",children:s.jsx(kr,{width:"100%",height:"100%",children:s.jsxs(dc,{data:m,layout:"vertical",margin:{top:10,right:30,left:100,bottom:0},children:[s.jsx(sa,{strokeDasharray:"3 3",horizontal:!0,vertical:!1}),s.jsx(vr,{type:"number",tickFormatter:a,tick:{fontSize:11}}),s.jsx(dr,{type:"category",dataKey:"name",tick:{fontSize:11},width:95}),s.jsx(mr,{formatter:(v,x)=>[a(v)+" "+d,x],labelFormatter:(v,x)=>x&&x[0]?x[0].payload.fullName:v,contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",borderRadius:"8px",border:"1px solid #e2e8f0"}}),s.jsx(Ka,{}),s.jsx(Yi,{dataKey:u.toString(),name:u.toString(),fill:"#94a3b8",radius:[0,4,4,0]}),s.jsx(Yi,{dataKey:c.toString(),name:c.toString(),radius:[0,4,4,0],children:m.map((v,x)=>s.jsx(gc,{fill:v.change>=0?"#10b981":"#ef4444"},`cell-${x}`))})]})})}),s.jsx("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 gap-2 max-h-[200px] overflow-y-auto",children:l.slice(0,6).map((v,x)=>s.jsxs("div",{className:`flex justify-between items-center p-2 rounded-lg border ${v.change>=0?"bg-green-50/50 border-green-100":"bg-red-50/50 border-red-100"}`,children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium truncate",children:v.name}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[a(v.qtyCurrent)," ",d]})]}),s.jsxs(Ct,{variant:"outline",className:`ml-2 ${v.change>=0?"text-green-600 border-green-300":"text-red-600 border-red-300"}`,children:[v.change>=0?"+":"",a(v.change)]})]},x))})]})]})}function _p({variant:e="card",title:t,message:n,onRetry:r,onDismiss:i,className:a,severity:o="error"}){const c={error:{icon:gj,iconColor:"text-destructive",bgColor:"bg-destructive/10",borderColor:"border-destructive/20",textColor:"text-destructive"},warning:{icon:Oa,iconColor:"text-warning",bgColor:"bg-warning/10",borderColor:"border-warning/20",textColor:"text-warning-foreground"},info:{icon:Id,iconColor:"text-info",bgColor:"bg-info/10",borderColor:"border-info/20",textColor:"text-info-foreground"}}[o],u=c.icon;return e==="inline"?s.jsxs("div",{className:Fe("flex items-center gap-2 text-sm",c.textColor,a),children:[s.jsx(u,{className:Fe("h-4 w-4",c.iconColor)}),s.jsx("span",{children:n})]}):e==="card"?s.jsx(Ue,{className:Fe(c.bgColor,c.borderColor,"border",a),children:s.jsx(We,{className:"p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx(u,{className:Fe("h-5 w-5 mt-0.5 flex-shrink-0",c.iconColor)}),s.jsxs("div",{className:"flex-1 min-w-0",children:[t&&s.jsx("h3",{className:Fe("font-semibold mb-1",c.textColor),children:t}),s.jsx("p",{className:Fe("text-sm",c.textColor),children:n}),(r||i)&&s.jsxs("div",{className:"flex gap-2 mt-4",children:[r&&s.jsx(Oe,{variant:"outline",size:"sm",onClick:r,children:"Reintentar"}),i&&s.jsx(Oe,{variant:"ghost",size:"sm",onClick:i,children:"Cerrar"})]})]})]})})}):e==="page"?s.jsxs("div",{className:Fe("flex flex-col items-center justify-center min-h-[400px] text-center p-8",a),children:[s.jsx(u,{className:Fe("h-16 w-16 mb-4",c.iconColor)}),t&&s.jsx("h2",{className:Fe("text-2xl font-semibold mb-2",c.textColor),children:t}),s.jsx("p",{className:Fe("text-lg mb-6 max-w-md",c.textColor),children:n}),r&&s.jsx(Oe,{onClick:r,variant:"default",children:"Reintentar"})]}):null}function ho(e,t){const n=t===1?"USD":"MXN";return new Intl.NumberFormat("es-MX",{style:"currency",currency:n,minimumFractionDigits:0,maximumFractionDigits:0}).format(e)}function Ju(e){return new Intl.NumberFormat("es-MX").format(e)}function V_({title:e,value:t,subtitle:n,icon:r,trend:i,variant:a="default",className:o}){const l={default:"border-border bg-card",success:"border-emerald-200 dark:border-emerald-800 bg-emerald-50/50 dark:bg-emerald-950/20",warning:"border-amber-200 dark:border-amber-800 bg-amber-50/50 dark:bg-amber-950/20",danger:"border-red-200 dark:border-red-800 bg-red-50/50 dark:bg-red-950/20"},c={default:"text-primary",success:"text-emerald-600 dark:text-emerald-400",warning:"text-amber-600 dark:text-amber-400",danger:"text-red-600 dark:text-red-400"};return s.jsx(Ue,{className:Fe("border-2 transition-all hover:shadow-md",l[a],o),children:s.jsx(We,{className:"p-6",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:e}),s.jsx("p",{className:"text-3xl font-bold text-foreground mb-2",children:t}),n&&s.jsx("p",{className:"text-xs text-muted-foreground",children:n}),i&&s.jsxs("div",{className:"flex items-center gap-1 mt-2",children:[i.value>=0?s.jsx(Pr,{className:"h-4 w-4 text-emerald-600"}):s.jsx(zs,{className:"h-4 w-4 text-red-600"}),s.jsxs("span",{className:Fe("text-sm font-semibold",i.value>=0?"text-emerald-600":"text-red-600"),children:[i.value>=0?"+":"",i.value.toFixed(1),"%"]}),i.label&&s.jsx("span",{className:"text-xs text-muted-foreground ml-1",children:i.label})]})]}),s.jsx("div",{className:Fe("p-3 rounded-lg bg-background",c[a]),children:s.jsx(r,{className:"h-6 w-6"})})]})})})}function si({title:e,subtitle:t,children:n,onViewReport:r,onRefresh:i,onExport:a,isLoading:o=!1,className:l,headerActions:c}){return s.jsxs(Ue,{className:Fe("h-full flex flex-col",l),children:[s.jsxs(Vt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx(an,{className:"text-base font-semibold",children:e}),t&&s.jsx(fi,{className:"text-xs mt-1",children:t})]}),s.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[c,(r||i||a)&&s.jsxs(f$,{children:[s.jsx(h$,{asChild:!0,children:s.jsx(Oe,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:s.jsx(sie,{className:"h-4 w-4"})})}),s.jsxs(_E,{align:"end",children:[r&&s.jsxs(qd,{onClick:r,children:[s.jsx(J3,{className:"h-4 w-4 mr-2"}),"Ver reporte"]}),i&&s.jsxs(qd,{onClick:i,disabled:o,children:[s.jsx(HC,{className:Fe("h-4 w-4 mr-2",o&&"animate-spin")}),"Actualizar"]}),a&&s.jsxs(qd,{onClick:a,children:[s.jsx(nc,{className:"h-4 w-4 mr-2"}),"Exportar datos"]})]})]})]})]}),s.jsx(We,{className:"flex-1 pt-4",children:n})]})}function yb({variant:e="card",className:t,rows:n=3,columns:r=3}){return e==="table"?s.jsxs("div",{className:Fe("space-y-2",t),children:[s.jsx("div",{className:"flex gap-4 pb-2 border-b",children:Array.from({length:r}).map((i,a)=>s.jsx(nr,{className:"h-6 flex-1"},a))}),Array.from({length:n}).map((i,a)=>s.jsx("div",{className:"flex gap-4 py-3",children:Array.from({length:r}).map((o,l)=>s.jsx(nr,{className:"h-4 flex-1"},l))},a))]}):e==="card"?s.jsxs(Ue,{className:t,children:[s.jsxs(Vt,{children:[s.jsx(nr,{className:"h-6 w-48"}),s.jsx(nr,{className:"h-4 w-32 mt-2"})]}),s.jsxs(We,{className:"space-y-4",children:[s.jsx(nr,{className:"h-4 w-full"}),s.jsx(nr,{className:"h-4 w-3/4"}),s.jsx(nr,{className:"h-4 w-1/2"})]})]}):e==="chart"?s.jsxs("div",{className:Fe("space-y-4",t),children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(nr,{className:"h-5 w-32"}),s.jsx(nr,{className:"h-4 w-24"})]}),s.jsx(nr,{className:"h-64 w-full rounded-lg"}),s.jsx("div",{className:"flex gap-4 justify-center",children:Array.from({length:4}).map((i,a)=>s.jsx(nr,{className:"h-4 w-16"},a))})]}):e==="form"?s.jsx("div",{className:Fe("space-y-4",t),children:Array.from({length:n}).map((i,a)=>s.jsxs("div",{className:"space-y-2",children:[s.jsx(nr,{className:"h-4 w-24"}),s.jsx(nr,{className:"h-10 w-full"})]},a))}):e==="list"?s.jsx("div",{className:Fe("space-y-3",t),children:Array.from({length:n}).map((i,a)=>s.jsxs("div",{className:"flex items-center gap-4 p-3 border rounded-lg",children:[s.jsx(nr,{className:"h-12 w-12 rounded-full"}),s.jsxs("div",{className:"flex-1 space-y-2",children:[s.jsx(nr,{className:"h-4 w-3/4"}),s.jsx(nr,{className:"h-3 w-1/2"})]}),s.jsx(nr,{className:"h-8 w-20"})]},a))}):e==="page"?s.jsx("div",{className:Fe("min-h-screen flex items-center justify-center p-8",t),children:s.jsxs("div",{className:"w-full max-w-4xl space-y-6",children:[s.jsx(nr,{className:"h-12 w-64"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Array.from({length:6}).map((i,a)=>s.jsxs(Ue,{children:[s.jsx(Vt,{children:s.jsx(nr,{className:"h-6 w-32"})}),s.jsx(We,{children:s.jsx(nr,{className:"h-32 w-full"})})]},a))})]})}):null}function ed({icon:e,title:t,description:n,action:r,className:i,size:a="md"}){const l={sm:{icon:"h-8 w-8",title:"text-base",description:"text-sm",padding:"py-8"},md:{icon:"h-12 w-12",title:"text-lg",description:"text-base",padding:"py-12"},lg:{icon:"h-16 w-16",title:"text-xl",description:"text-lg",padding:"py-16"}}[a];return s.jsxs("div",{className:Fe("flex flex-col items-center justify-center text-center",l.padding,i),children:[e&&s.jsx("div",{className:Fe("mb-4 text-muted-foreground",l.icon),children:(()=>{try{if(b.isValidElement(e))return e;if(typeof e=="function"||typeof e=="object"&&e!==null&&"$$typeof"in e){const c=e;return s.jsx(c,{className:l.icon})}return null}catch(c){return console.error("Error rendering icon:",c),null}})()}),s.jsx("h3",{className:Fe("font-semibold text-foreground mb-2",l.title),children:t}),s.jsx("p",{className:Fe("text-muted-foreground max-w-md mb-6",l.description),children:n}),r&&s.jsx(Oe,{onClick:r.onClick,variant:"default",size:a==="sm"?"sm":"default",children:r.label})]})}function MEt({companyId:e,year:t}){const{data:n,isLoading:r,error:i}=At({queryKey:["/api/sales-monthly-trends",e,t],queryFn:async()=>{const a=t?`?companyId=${e}&year=${t}`:`?companyId=${e}`,o=await Dt("GET",`/api/sales-monthly-trends${a}`);if(!o.ok)throw new Error(`Failed to fetch monthly trends: ${o.statusText}`);return await o.json()},staleTime:6e5});return r?s.jsx(si,{title:"Tendencias Mensuales",subtitle:"Ventas por mes",children:s.jsx(yb,{variant:"chart"})}):i?s.jsx(si,{title:"Tendencias Mensuales",subtitle:"Ventas por mes",children:s.jsx(_p,{variant:"card",message:"Error al cargar tendencias mensuales"})}):!n||n.length===0?s.jsx(si,{title:"Tendencias Mensuales",subtitle:"Ventas por mes",children:s.jsx(ed,{icon:Pr,title:"Sin datos mensuales",description:"No hay datos de ventas mensuales disponibles",size:"sm"})}):s.jsx(si,{title:"Tendencias Mensuales",subtitle:`Ventas por mes ${t?`- ${t}`:""}`,children:s.jsx("div",{className:"h-96 py-4",children:s.jsx(kr,{width:"100%",height:"100%",children:s.jsxs(Yhe,{data:n,margin:{top:20,right:30,left:20,bottom:20},children:[s.jsx(sa,{strokeDasharray:"3 3",stroke:"hsl(var(--border))",opacity:.2}),s.jsx(vr,{dataKey:"month",tick:{fontSize:12,fill:"hsl(var(--muted-foreground))"},axisLine:!1,tickLine:!1,padding:{left:10,right:10}}),s.jsx(dr,{tick:{fontSize:12,fill:"hsl(var(--muted-foreground))"},axisLine:!1,tickLine:!1,width:80,tickFormatter:a=>a>=1e6?`$${(a/1e6).toFixed(1)}M`:a>=1e3?`$${(a/1e3).toFixed(0)}K`:`$${a}`}),s.jsx(mr,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px",padding:"12px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},formatter:a=>ho(a,e)}),s.jsx(Ka,{wrapperStyle:{paddingTop:"20px"},iconType:"square"}),s.jsx(Yi,{dataKey:"amount",fill:"hsl(var(--chart-1))",radius:[6,6,0,0],opacity:.85,name:"Ventas"}),s.jsx(oa,{type:"monotone",dataKey:"amount",stroke:"hsl(var(--chart-2))",strokeWidth:3,dot:{r:4},activeDot:{r:6},name:"Tendencia"})]})})})})}const aZ=["#1B5E9E","#0288D1","#00ACC1","#009688","#2E7D32","#4CAF50","#8BC34A","#CDDC39","#FFC107","#FF9800"];function IEt({companyId:e,limit:t=10,period:n="year"}){const[r,i]=b.useState("revenue"),{data:a,isLoading:o,error:l}=At({queryKey:["/api/sales-top-clients",e,t,n,r],queryFn:async()=>{const f=`?companyId=${e}&limit=${t}&period=${n}&sortBy=${r}`,m=await Dt("GET",`/api/sales-top-clients${f}`);if(!m.ok)throw new Error(`Failed to fetch top clients: ${m.statusText}`);return await m.json()},staleTime:10*60*1e3});if(o)return s.jsx(si,{title:"Top Clientes",subtitle:`Top ${t} clientes por volumen`,children:s.jsx(yb,{variant:"chart"})});if(l)return s.jsx(si,{title:"Top Clientes",subtitle:`Top ${t} clientes por volumen`,children:s.jsx(_p,{variant:"card",message:"Error al cargar top clientes"})});if(!a||a.length===0)return s.jsx(si,{title:"Top Clientes",subtitle:`Top ${t} clientes por volumen`,children:s.jsx(ed,{icon:Fi,title:"Sin datos de clientes",description:"No hay datos de clientes disponibles",size:"sm"})});const c=a.reduce((f,m)=>f+m.volume,0),u=a.reduce((f,m)=>f+m.revenue,0),d=a.map((f,m)=>({name:f.name,fullName:f.name,volume:f.volume,revenue:f.revenue,profitability:f.profitability||0,transactions:f.transactions,value:r==="revenue"?f.revenue:f.volume,percentage:r==="revenue"?u>0?f.revenue/u*100:0:c>0?f.volume/c*100:0,color:aZ[m%aZ.length]}));return s.jsxs(si,{title:"Top Clientes",subtitle:`Top ${t} clientes por ${r==="revenue"?"revenue":"volumen"} (${n==="year"?"ao actual":n==="month"?"mes actual":"ltimos 3 meses"})`,children:[s.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[s.jsx("span",{className:"text-sm font-medium text-foreground",children:"Ordenar por:"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>i("revenue"),className:`px-4 py-2 text-sm rounded-md font-medium transition-all ${r==="revenue"?"bg-primary text-white shadow-sm":"bg-white border-2 border-border text-foreground hover:border-primary/50 hover:bg-primary/5"}`,children:"Revenue"}),s.jsx("button",{onClick:()=>i("volume"),className:`px-4 py-2 text-sm rounded-md font-medium transition-all ${r==="volume"?"bg-primary text-white shadow-sm":"bg-white border-2 border-border text-foreground hover:border-primary/50 hover:bg-primary/5"}`,children:"Volumen"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"h-72",children:s.jsx(kr,{width:"100%",height:"100%",children:s.jsxs(dc,{data:d,layout:"vertical",margin:{top:5,right:20,left:5,bottom:5},children:[s.jsx(sa,{strokeDasharray:"3 3",stroke:"hsl(var(--border))",opacity:.3}),s.jsx(vr,{type:"number",tick:{fontSize:10,fill:"hsl(var(--muted-foreground))"},axisLine:!1,tickLine:!1,tickFormatter:f=>r==="revenue"?ho(f,e):Ju(f)}),s.jsx(dr,{type:"category",dataKey:"name",tick:{fontSize:9,fill:"hsl(var(--muted-foreground))"},axisLine:!1,tickLine:!1,width:130}),s.jsx(mr,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px"},formatter:(f,m,h)=>r==="revenue"?[ho(f,e),"Revenue"]:[`${Ju(f)} ${h.payload.unit||""}`,"Volumen"],labelFormatter:f=>`Cliente: ${f}`}),s.jsx(Yi,{dataKey:"value",radius:[0,4,4,0],children:d.map((f,m)=>s.jsx(gc,{fill:f.color},`cell-${m}`))})]})})}),s.jsx("div",{className:"border rounded-lg overflow-hidden",children:s.jsxs("table",{className:"w-full text-xs",children:[s.jsx("thead",{className:"bg-slate-700 text-white",children:s.jsxs("tr",{children:[s.jsx("th",{className:"text-left px-2 py-2 font-semibold",children:"Cliente"}),s.jsx("th",{className:"text-right px-2 py-2 font-semibold whitespace-nowrap",children:"Volumen"}),s.jsx("th",{className:"text-right px-2 py-2 font-semibold",children:"Revenue"}),s.jsx("th",{className:"text-right px-2 py-2 font-semibold whitespace-nowrap",children:"$/KG"}),s.jsx("th",{className:"text-right px-2 py-2 font-semibold",children:"Txns"}),s.jsx("th",{className:"text-right px-2 py-2 font-semibold",children:"%"})]})}),s.jsx("tbody",{children:a.map((f,m)=>{const h=c>0?f.volume/c*100:0;return s.jsxs("tr",{className:"border-t hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors",children:[s.jsx("td",{className:"px-2 py-1.5 font-medium truncate max-w-[120px]",title:f.name,children:f.name}),s.jsxs("td",{className:"px-2 py-1.5 text-right whitespace-nowrap",children:[Ju(f.volume)," ",s.jsx("span",{className:"text-muted-foreground",children:f.unit||""})]}),s.jsx("td",{className:"px-2 py-1.5 text-right font-semibold whitespace-nowrap",children:f.revenue?ho(f.revenue,e):"-"}),s.jsx("td",{className:"px-2 py-1.5 text-right whitespace-nowrap",children:f.profitability?ho(f.profitability,e):"-"}),s.jsx("td",{className:"px-2 py-1.5 text-right",children:f.transactions}),s.jsxs("td",{className:"px-2 py-1.5 text-right font-semibold",children:[r==="revenue"?u>0?(f.revenue/u*100).toFixed(1):"0.0":h.toFixed(1),"%"]})]},f.name)})})]})})]})]})}const sZ=["#1B5E9E","#0288D1","#00ACC1","#009688","#2E7D32","#4CAF50","#8BC34A","#CDDC39","#FFC107","#FF9800"];function DEt({companyId:e,limit:t=10,period:n="year"}){const[r,i]=b.useState("revenue"),{data:a,isLoading:o,error:l}=At({queryKey:["/api/sales-top-products",e,t,n,r],queryFn:async()=>{const f=`?companyId=${e}&limit=${t}&period=${n}&sortBy=${r}`,m=await Dt("GET",`/api/sales-top-products${f}`);if(!m.ok)throw new Error(`Failed to fetch top products: ${m.statusText}`);return await m.json()},staleTime:10*60*1e3});if(o)return s.jsx(si,{title:"Top Productos",subtitle:`Top ${t} productos por volumen`,children:s.jsx(yb,{variant:"chart"})});if(l)return s.jsx(si,{title:"Top Productos",subtitle:`Top ${t} productos por volumen`,children:s.jsx(_p,{variant:"card",message:"Error al cargar top productos"})});if(!a||a.length===0)return s.jsx(si,{title:"Top Productos",subtitle:`Top ${t} productos por volumen`,children:s.jsx(ed,{icon:_l,title:"Sin datos de productos",description:"No hay datos de productos disponibles",size:"sm"})});const c=a.reduce((f,m)=>f+m.volume,0),u=a.reduce((f,m)=>f+m.revenue,0),d=a.map((f,m)=>({name:f.name,fullName:f.name,volume:f.volume,revenue:f.revenue,profitability:f.profitability||0,uniqueClients:f.uniqueClients,transactions:f.transactions,value:r==="revenue"?f.revenue:f.volume,percentage:r==="revenue"?u>0?f.revenue/u*100:0:c>0?f.volume/c*100:0,color:sZ[m%sZ.length]}));return s.jsxs(si,{title:"Top Productos",subtitle:`Top ${t} productos por ${r==="revenue"?"revenue":"volumen"} (${n==="year"?"ao actual":n==="month"?"mes actual":"ltimos 3 meses"})`,children:[s.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[s.jsx("span",{className:"text-sm font-medium text-foreground",children:"Ordenar por:"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>i("revenue"),className:`px-4 py-2 text-sm rounded-md font-medium transition-all ${r==="revenue"?"bg-primary text-white shadow-sm":"bg-white border-2 border-border text-foreground hover:border-primary/50 hover:bg-primary/5"}`,children:"Revenue"}),s.jsx("button",{onClick:()=>i("volume"),className:`px-4 py-2 text-sm rounded-md font-medium transition-all ${r==="volume"?"bg-primary text-white shadow-sm":"bg-white border-2 border-border text-foreground hover:border-primary/50 hover:bg-primary/5"}`,children:"Volumen"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"h-72",children:s.jsx(kr,{width:"100%",height:"100%",children:s.jsxs(dc,{data:d,layout:"vertical",margin:{top:5,right:20,left:5,bottom:5},children:[s.jsx(sa,{strokeDasharray:"3 3",stroke:"hsl(var(--border))",opacity:.3}),s.jsx(vr,{type:"number",tick:{fontSize:10,fill:"hsl(var(--muted-foreground))"},axisLine:!1,tickLine:!1,tickFormatter:f=>r==="revenue"?ho(f,e):Ju(f)}),s.jsx(dr,{type:"category",dataKey:"name",tick:{fontSize:10,fill:"hsl(var(--muted-foreground))"},axisLine:!1,tickLine:!1,width:70}),s.jsx(mr,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px"},formatter:(f,m,h)=>{var g;return r==="revenue"?[ho(f,e),"Revenue"]:[`${Ju(f)} ${((g=a[d.indexOf(h.payload)])==null?void 0:g.unit)||""}`,"Volumen"]},labelFormatter:f=>`Producto: ${f}`}),s.jsx(Yi,{dataKey:"value",radius:[0,4,4,0],children:d.map((f,m)=>s.jsx(gc,{fill:f.color},`cell-${m}`))})]})})}),s.jsx("div",{className:"border rounded-lg overflow-hidden",children:s.jsxs("table",{className:"w-full text-xs",children:[s.jsx("thead",{className:"bg-slate-700 text-white",children:s.jsxs("tr",{children:[s.jsx("th",{className:"text-left px-2 py-2 font-semibold",children:"Producto"}),s.jsx("th",{className:"text-right px-2 py-2 font-semibold whitespace-nowrap",children:"Volumen"}),s.jsx("th",{className:"text-right px-2 py-2 font-semibold",children:"Revenue"}),s.jsx("th",{className:"text-right px-2 py-2 font-semibold whitespace-nowrap",children:"$/KG"}),s.jsx("th",{className:"text-right px-2 py-2 font-semibold",children:"Clts"}),s.jsx("th",{className:"text-right px-2 py-2 font-semibold",children:"Txns"}),s.jsx("th",{className:"text-right px-2 py-2 font-semibold",children:"%"})]})}),s.jsx("tbody",{children:a.map((f,m)=>{const h=c>0?f.volume/c*100:0;return s.jsxs("tr",{className:"border-t hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors",children:[s.jsx("td",{className:"px-2 py-1.5 font-medium",children:f.name}),s.jsxs("td",{className:"px-2 py-1.5 text-right whitespace-nowrap",children:[Ju(f.volume)," ",s.jsx("span",{className:"text-muted-foreground",children:f.unit||""})]}),s.jsx("td",{className:"px-2 py-1.5 text-right font-semibold whitespace-nowrap",children:f.revenue?ho(f.revenue,e):"-"}),s.jsx("td",{className:"px-2 py-1.5 text-right whitespace-nowrap",children:f.profitability?ho(f.profitability,e):"-"}),s.jsx("td",{className:"px-2 py-1.5 text-right",children:f.uniqueClients}),s.jsx("td",{className:"px-2 py-1.5 text-right",children:f.transactions}),s.jsxs("td",{className:"px-2 py-1.5 text-right font-semibold",children:[r==="revenue"?u>0?(f.revenue/u*100).toFixed(1):"0.0":h.toFixed(1),"%"]})]},f.name)})})]})})]})]})}function REt({companyId:e,year1:t,year2:n}){const r=t||2024,i=n||2025,{data:a,isLoading:o,error:l}=At({queryKey:["/api/sales-yearly-comparison",e,r,i],queryFn:async()=>{const h=new URLSearchParams({companyId:String(e),year1:String(r),year2:String(i)}),g=await Dt("GET",`/api/sales-yearly-comparison?${h.toString()}`);if(!g.ok)throw new Error(`Failed to fetch yearly comparison: ${g.statusText}`);return await g.json()},staleTime:10*60*1e3});if(o)return s.jsx(si,{title:"Comparativo Anual",subtitle:"Ao actual vs ao anterior",children:s.jsx(yb,{variant:"chart"})});if(l)return s.jsx(si,{title:"Comparativo Anual",subtitle:"Ao actual vs ao anterior",children:s.jsx(_p,{variant:"card",message:"Error al cargar comparativo anual"})});if(!a||!a.data||a.data.length===0)return s.jsx(si,{title:"Comparativo Anual",subtitle:"Ao actual vs ao anterior",children:s.jsx(ed,{icon:Ua,title:"Sin datos comparativos",description:"No hay datos disponibles para comparar",size:"sm"})});const u=(a.availableYears||[]).includes(2026),d=u?[2024,2025,2026]:[2024,2025],f=a.data.map(h=>{const g={mes:h.mes.substring(0,3)};d.forEach(v=>{g[String(v)]=h[`amt_${v}`]||0});const y=h.amt_2024||0;return d.forEach(v=>{if(v!==2024&&y>0){const w=((h[`amt_${v}`]||0)-y)/y*100;g[`percent_${v}`]=w}else g[`percent_${v}`]=0}),g}),m=["#1B5E9E","#2E7D32","#F57C00"];return s.jsxs(si,{title:"Comparativo Anual",subtitle:u?`${d.join(" vs ")} - Revenue por mes`:"2024 vs 2025 - Revenue por mes",children:[s.jsx("div",{className:"h-96 py-4",children:s.jsx(kr,{width:"100%",height:"100%",children:s.jsxs(dc,{data:f,margin:{top:20,right:30,left:20,bottom:20},children:[s.jsx(sa,{strokeDasharray:"3 3",stroke:"hsl(var(--border))",opacity:.2}),s.jsx(vr,{dataKey:"mes",tick:{fontSize:12,fill:"hsl(var(--muted-foreground))"},axisLine:!1,tickLine:!1,padding:{left:10,right:10}}),s.jsx(dr,{tick:{fontSize:12,fill:"hsl(var(--muted-foreground))"},axisLine:!1,tickLine:!1,width:80,tickFormatter:h=>h>=1e6?`$${(h/1e6).toFixed(1)}M`:h>=1e3?`$${(h/1e3).toFixed(0)}K`:`$${h}`}),s.jsx(mr,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px",padding:"12px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},content:({active:h,payload:g,label:y})=>h&&g&&g.length?s.jsxs("div",{className:"bg-card border rounded-lg p-3 shadow-lg",children:[s.jsx("p",{className:"font-semibold mb-2",children:y}),g.map((v,x)=>{const w=parseInt(v.dataKey),j=v.value,_=v.payload[`percent_${w}`],S=ho(j,e);return s.jsxs("div",{className:"mb-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded",style:{backgroundColor:v.color}}),s.jsxs("span",{className:"font-medium",children:[v.name,":"]}),s.jsx("span",{children:S})]}),w!==2024&&_!==void 0&&_!==0&&s.jsxs("div",{className:`text-xs ml-5 mt-0.5 ${_>=0?"text-emerald-600":"text-red-600"}`,children:[_>=0?"+":"",_.toFixed(1),"% vs 2024"]})]},x)})]}):null}),s.jsx(Ka,{wrapperStyle:{paddingTop:"20px"},iconType:"square"}),d.map((h,g)=>{const y=a.totals&&(a.totals[`amt_${h}`]||0)>0;return s.jsx(Yi,{dataKey:String(h),fill:m[g],radius:[6,6,0,0],opacity:y?1:.3,name:`${h}${y?"":" (sin datos)"}`,children:h!==2024&&y&&s.jsx(uc,{dataKey:`percent_${h}`,position:"top",formatter:v=>v===0||v===void 0?"":`${v>=0?"+":""}${v.toFixed(0)}%`,style:{fontSize:"10px",fill:h===2025?"#2E7D32":"#F57C00",fontWeight:600}})},h)})]})})}),a.totals&&s.jsx("div",{className:`mt-4 pt-4 border-t grid gap-4 text-sm ${u?"grid-cols-3":"grid-cols-2"}`,children:d.map(h=>{const g=a.totals[`amt_${h}`]||0,y=h===d[d.length-1],v=d[d.indexOf(h)-1],x=v&&a.totals[`amt_${v}`]>0?(g-a.totals[`amt_${v}`])/a.totals[`amt_${v}`]*100:void 0;return s.jsxs("div",{children:[s.jsxs("p",{className:"text-muted-foreground mb-1",children:["Total ",h]}),s.jsx("p",{className:"text-lg font-semibold",children:ho(g,e)}),x!==void 0&&y&&s.jsxs("p",{className:`text-xs mt-1 ${x>=0?"text-emerald-600":"text-red-600"}`,children:[x>=0?"+":"",x.toFixed(1),"% vs ",v]})]},h)})})]})}function $Et({companyId:e,limit:t=10}){const{data:n,isLoading:r,error:i}=At({queryKey:["/api/sales-client-trends",e,t],queryFn:async()=>{const a=`?companyId=${e}&limit=${t}`,o=await Dt("GET",`/api/sales-client-trends${a}`);if(!o.ok)throw new Error(`Failed to fetch client trends: ${o.statusText}`);return await o.json()},staleTime:6e5});return r?s.jsx(si,{title:"Tendencias de Clientes",subtitle:"Crecimiento vs ao anterior",children:s.jsx(yb,{variant:"chart"})}):i?s.jsx(si,{title:"Tendencias de Clientes",subtitle:"Crecimiento vs ao anterior",children:s.jsx(_p,{variant:"card",message:"Error al cargar tendencias de clientes"})}):!n||!n.clients||n.clients.length===0?s.jsx(si,{title:"Tendencias de Clientes",subtitle:"Crecimiento vs ao anterior",children:s.jsx(ed,{icon:Fi,title:"Sin datos de tendencias",description:"No hay datos de tendencias de clientes disponibles",size:"sm"})}):s.jsx(si,{title:"Tendencias de Clientes",subtitle:`${n.currentYear} vs ${n.previousYear} - Cambio YoY`,children:s.jsx("div",{className:"border rounded-lg overflow-hidden",children:s.jsxs("table",{className:"w-full text-xs",children:[s.jsx("thead",{className:"bg-slate-700 text-white",children:s.jsxs("tr",{children:[s.jsx("th",{className:"text-left px-2 py-2 font-semibold",children:"Cliente"}),s.jsx("th",{className:"text-right px-2 py-2 font-semibold",children:n.previousYear}),s.jsx("th",{className:"text-right px-2 py-2 font-semibold",children:n.currentYear}),s.jsx("th",{className:"text-right px-2 py-2 font-semibold",children:"Cambio"}),s.jsx("th",{className:"text-right px-2 py-2 font-semibold",children:"%"})]})}),s.jsx("tbody",{children:n.clients.map(a=>{const o=a.changePercent>=0;return s.jsxs("tr",{className:"border-t hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors",children:[s.jsx("td",{className:"px-2 py-1.5 font-medium truncate max-w-[140px]",title:a.name,children:a.name}),s.jsxs("td",{className:"px-2 py-1.5 text-right text-muted-foreground whitespace-nowrap",children:[Ju(a.qtyPrevious)," ",s.jsx("span",{className:"text-[10px]",children:a.unit||n.unit})]}),s.jsxs("td",{className:"px-2 py-1.5 text-right font-semibold whitespace-nowrap",children:[Ju(a.qtyCurrent)," ",s.jsx("span",{className:"text-[10px]",children:a.unit||n.unit})]}),s.jsx("td",{className:Fe("px-2 py-1.5 text-right font-semibold whitespace-nowrap",o?"text-emerald-600":"text-red-600"),children:s.jsxs("div",{className:"flex items-center justify-end gap-0.5",children:[o?s.jsx(Pr,{className:"h-3 w-3"}):s.jsx(zs,{className:"h-3 w-3"}),o?"+":"",Ju(a.change)]})}),s.jsxs("td",{className:Fe("px-2 py-1.5 text-right font-bold",o?"text-emerald-600":"text-red-600"),children:[o?"+":"",a.changePercent.toFixed(1),"%"]})]},a.name)})})]})})})}function FEt(e){return console.log("[useSalesAnalyst] Hook llamado con companyId:",e),At({queryKey:["/api/sales-analyst/insights",e],queryFn:async()=>{console.log("[useSalesAnalyst] Iniciando fetch para companyId:",e);const t=await Dt("GET",`/api/sales-analyst/insights?companyId=${e}`);if(console.log("[useSalesAnalyst] Respuesta recibida, status:",t.status,t.ok),!t.ok){const r=await t.text();throw console.error("[useSalesAnalyst] Error en respuesta:",r),new Error(`Failed to fetch sales analyst insights: ${t.statusText}`)}const n=await t.json();return console.log("[useSalesAnalyst] Datos recibidos:",{hasData:!!n,focusClients:n!=null&&n.focusClients?Object.keys(n.focusClients).length:0,productOpportunities:n!=null&&n.productOpportunities?Object.keys(n.productOpportunities).length:0}),n},staleTime:15*60*1e3,cacheTime:30*60*1e3,refetchOnWindowFocus:!0,refetchInterval:30*60*1e3,retry:2,retryDelay:t=>Math.min(1e3*2**t,3e4),enabled:!!e&&e>0})}function BEt(e={},t={}){const{syncWithURL:n=!0,persistInLocalStorage:r=!1,storageKey:i="filters"}=t,[a,o]=Yo(),l=b.useCallback(()=>{if(r)try{const g=localStorage.getItem(i);if(g)return JSON.parse(g)}catch(g){console.error("Error loading filters from localStorage:",g)}return e},[r,i,e]),c=b.useCallback(()=>{if(n){const g=new URLSearchParams(window.location.search),y={};return g.forEach((v,x)=>{y[x]=v}),y}return{}},[n]),[u,d]=b.useState(()=>{const g=c();return{...l(),...g}});b.useEffect(()=>{if(n){const g=new URLSearchParams;Object.entries(u).forEach(([x,w])=>{w!=null&&w!==""&&g.set(x,String(w))});const y=g.toString(),v=a.split("?")[0]+(y?`?${y}`:"");v!==a&&o(v,{replace:!0})}},[u,n,a,o]),b.useEffect(()=>{if(r)try{localStorage.setItem(i,JSON.stringify(u))}catch(g){console.error("Error saving filters to localStorage:",g)}},[u,r,i]);const f=b.useCallback(g=>{d(y=>({...y,...g}))},[]),m=b.useCallback(()=>{d(e)},[e]),h=b.useCallback(g=>{d(y=>{const v={...y};return delete v[g],v})},[]);return{filters:u,updateFilters:f,clearFilters:m,removeFilter:h,setFilters:d}}var zEt=Symbol("radix.slottable");function VEt(e){const t=({children:n})=>s.jsx(s.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=zEt,t}var[bA]=Xo("Tooltip",[Ap]),wA=Ap(),Pbe="TooltipProvider",qEt=700,DD="tooltip.open",[UEt,S7]=bA(Pbe),Abe=e=>{const{__scopeTooltip:t,delayDuration:n=qEt,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:a}=e,o=b.useRef(!0),l=b.useRef(!1),c=b.useRef(0);return b.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),s.jsx(UEt,{scope:t,isOpenDelayedRef:o,delayDuration:n,onOpen:b.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:b.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:b.useCallback(u=>{l.current=u},[]),disableHoverableContent:i,children:a})};Abe.displayName=Pbe;var sj="Tooltip",[WEt,jA]=bA(sj),Tbe=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:i,onOpenChange:a,disableHoverableContent:o,delayDuration:l}=e,c=S7(sj,e.__scopeTooltip),u=wA(t),[d,f]=b.useState(null),m=oc(),h=b.useRef(0),g=o??c.disableHoverableContent,y=l??c.delayDuration,v=b.useRef(!1),[x,w]=nd({prop:r,defaultProp:i??!1,onChange:P=>{P?(c.onOpen(),document.dispatchEvent(new CustomEvent(DD))):c.onClose(),a==null||a(P)},caller:sj}),j=b.useMemo(()=>x?v.current?"delayed-open":"instant-open":"closed",[x]),_=b.useCallback(()=>{window.clearTimeout(h.current),h.current=0,v.current=!1,w(!0)},[w]),S=b.useCallback(()=>{window.clearTimeout(h.current),h.current=0,w(!1)},[w]),k=b.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>{v.current=!0,w(!0),h.current=0},y)},[y,w]);return b.useEffect(()=>()=>{h.current&&(window.clearTimeout(h.current),h.current=0)},[]),s.jsx(pE,{...u,children:s.jsx(WEt,{scope:t,contentId:m,open:x,stateAttribute:j,trigger:d,onTriggerChange:f,onTriggerEnter:b.useCallback(()=>{c.isOpenDelayedRef.current?k():_()},[c.isOpenDelayedRef,k,_]),onTriggerLeave:b.useCallback(()=>{g?S():(window.clearTimeout(h.current),h.current=0)},[S,g]),onOpen:_,onClose:S,disableHoverableContent:g,children:n})})};Tbe.displayName=sj;var RD="TooltipTrigger",Obe=b.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=jA(RD,n),a=S7(RD,n),o=wA(n),l=b.useRef(null),c=Fn(t,l,i.onTriggerChange),u=b.useRef(!1),d=b.useRef(!1),f=b.useCallback(()=>u.current=!1,[]);return b.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),s.jsx(Cj,{asChild:!0,...o,children:s.jsx(sn.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:c,onPointerMove:_t(e.onPointerMove,m=>{m.pointerType!=="touch"&&!d.current&&!a.isPointerInTransitRef.current&&(i.onTriggerEnter(),d.current=!0)}),onPointerLeave:_t(e.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:_t(e.onPointerDown,()=>{i.open&&i.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:_t(e.onFocus,()=>{u.current||i.onOpen()}),onBlur:_t(e.onBlur,i.onClose),onClick:_t(e.onClick,i.onClose)})})});Obe.displayName=RD;var HEt="TooltipPortal",[SPt,KEt]=bA(HEt,{forceMount:void 0}),k0="TooltipContent",Lbe=b.forwardRef((e,t)=>{const n=KEt(k0,e.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...a}=e,o=jA(k0,e.__scopeTooltip);return s.jsx(_s,{present:r||o.open,children:o.disableHoverableContent?s.jsx(Mbe,{side:i,...a,ref:t}):s.jsx(GEt,{side:i,...a,ref:t})})}),GEt=b.forwardRef((e,t)=>{const n=jA(k0,e.__scopeTooltip),r=S7(k0,e.__scopeTooltip),i=b.useRef(null),a=Fn(t,i),[o,l]=b.useState(null),{trigger:c,onClose:u}=n,d=i.current,{onPointerInTransitChange:f}=r,m=b.useCallback(()=>{l(null),f(!1)},[f]),h=b.useCallback((g,y)=>{const v=g.currentTarget,x={x:g.clientX,y:g.clientY},w=JEt(x,v.getBoundingClientRect()),j=ePt(x,w),_=tPt(y.getBoundingClientRect()),S=rPt([...j,..._]);l(S),f(!0)},[f]);return b.useEffect(()=>()=>m(),[m]),b.useEffect(()=>{if(c&&d){const g=v=>h(v,d),y=v=>h(v,c);return c.addEventListener("pointerleave",g),d.addEventListener("pointerleave",y),()=>{c.removeEventListener("pointerleave",g),d.removeEventListener("pointerleave",y)}}},[c,d,h,m]),b.useEffect(()=>{if(o){const g=y=>{const v=y.target,x={x:y.clientX,y:y.clientY},w=(c==null?void 0:c.contains(v))||(d==null?void 0:d.contains(v)),j=!nPt(x,o);w?m():j&&(m(),u())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[c,d,o,u,m]),s.jsx(Mbe,{...e,ref:a})}),[YEt,XEt]=bA(sj,{isInside:!1}),ZEt=VEt("TooltipContent"),Mbe=b.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:o,...l}=e,c=jA(k0,n),u=wA(n),{onClose:d}=c;return b.useEffect(()=>(document.addEventListener(DD,d),()=>document.removeEventListener(DD,d)),[d]),b.useEffect(()=>{if(c.trigger){const f=m=>{const h=m.target;h!=null&&h.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),s.jsx(kv,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:s.jsxs(gE,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx(ZEt,{children:r}),s.jsx(YEt,{scope:n,isInside:!0,children:s.jsx(NNe,{id:c.contentId,role:"tooltip",children:i||r})})]})})});Lbe.displayName=k0;var Ibe="TooltipArrow",QEt=b.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=wA(n);return XEt(Ibe,n).isInside?null:s.jsx(vE,{...i,...r,ref:t})});QEt.displayName=Ibe;function JEt(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(n,r,i,a)){case a:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function ePt(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function tPt(e){const{top:t,right:n,bottom:r,left:i}=e;return[{x:i,y:t},{x:n,y:t},{x:n,y:r},{x:i,y:r}]}function nPt(e,t){const{x:n,y:r}=e;let i=!1;for(let a=0,o=t.length-1;a<t.length;o=a++){const l=t[a],c=t[o],u=l.x,d=l.y,f=c.x,m=c.y;d>r!=m>r&&n<(f-u)*(r-d)/(m-d)+u&&(i=!i)}return i}function rPt(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),iPt(t)}function iPt(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const i=e[r];for(;t.length>=2;){const a=t[t.length-1],o=t[t.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))t.pop();else break}t.push(i)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const i=e[r];for(;n.length>=2;){const a=n[n.length-1],o=n[n.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))n.pop();else break}n.push(i)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var aPt=Abe,sPt=Tbe,oPt=Obe,Dbe=Lbe;const lPt=aPt,HO=sPt,KO=oPt,ES=b.forwardRef(({className:e,sideOffset:t=4,...n},r)=>s.jsx(Dbe,{ref:r,sideOffset:t,className:Fe("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...n}));ES.displayName=Dbe.displayName;function cPt({insights:e,companyId:t}){const n=e.focusClients.critical.length,r=e.focusClients.warning.length;e.focusClients.opportunities.length,e.inactiveClients.length;const i=e.riskAnalysis.revenueAtRisk,a=e.riskAnalysis.churnRisk,o=b.useMemo(()=>a>=70?{label:"Alto",color:"text-red-600",bg:"bg-red-50"}:a>=40?{label:"Medio",color:"text-amber-600",bg:"bg-amber-50"}:{label:"Bajo",color:"text-emerald-600",bg:"bg-emerald-50"},[a]);return e.statisticalContext,s.jsx(lPt,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsx(si,{title:"Clientes Crticos",subtitle:`${n} requieren atencin inmediata`,children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-baseline gap-2",children:[s.jsxs(HO,{children:[s.jsx(KO,{asChild:!0,children:s.jsxs("div",{className:"flex items-center gap-1 cursor-help",children:[s.jsx("span",{className:"text-3xl font-bold text-red-600",children:n}),s.jsx(Id,{className:"h-4 w-4 text-muted-foreground"})]})}),s.jsx(ES,{className:"max-w-xs",children:s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"font-semibold",children:"Criterio:"}),s.jsx("p",{className:"text-sm",children:"Clientes con ms de 6 meses (180 das) sin realizar compras."}),s.jsx("p",{className:"font-semibold mt-2",children:"Accin requerida:"}),s.jsx("p",{className:"text-sm",children:"Requieren atencin inmediata para evitar prdida total del cliente."})]})})]}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"clientes"})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"6+ meses sin compra"})]})}),s.jsx(si,{title:"Clientes en Riesgo",subtitle:`${r} con cada significativa`,children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-baseline gap-2",children:[s.jsxs(HO,{children:[s.jsx(KO,{asChild:!0,children:s.jsxs("div",{className:"flex items-center gap-1 cursor-help",children:[s.jsx("span",{className:"text-3xl font-bold text-amber-600",children:r}),s.jsx(Id,{className:"h-4 w-4 text-muted-foreground"})]})}),s.jsx(ES,{className:"max-w-xs",children:s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"font-semibold",children:"Criterio:"}),s.jsx("p",{className:"text-sm",children:"Clientes con 3 a 6 meses (90-180 das) sin realizar compras."}),s.jsx("p",{className:"font-semibold mt-2",children:"Accin requerida:"}),s.jsx("p",{className:"text-sm",children:"Dar seguimiento proactivo para prevenir que se conviertan en crticos."})]})})]}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"clientes"})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"3-6 meses sin compra"})]})}),s.jsx(si,{title:"Revenue en Riesgo",subtitle:"Prdida potencial estimada",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"flex items-baseline gap-2",children:s.jsx("span",{className:"text-2xl font-bold text-red-600",children:ho(i,t)})}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"De clientes crticos y en riesgo"})]})}),s.jsx(si,{title:"Riesgo de Churn",subtitle:`Nivel: ${o.label}`,children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-baseline gap-2",children:[s.jsxs(HO,{children:[s.jsx(KO,{asChild:!0,children:s.jsxs("div",{className:"flex items-center gap-1 cursor-help",children:[s.jsx("span",{className:Fe("text-3xl font-bold",o.color),children:Math.round(a)}),s.jsx(Id,{className:"h-4 w-4 text-muted-foreground"})]})}),s.jsx(ES,{className:"max-w-xs",children:s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"font-semibold",children:"Clculo normalizado:"}),s.jsx("p",{className:"text-sm",children:"Score calculado con ponderacin estadstica:"}),s.jsxs("ul",{className:"text-sm list-disc list-inside space-y-0.5 ml-2",children:[s.jsx("li",{children:"35% clientes crticos"}),s.jsx("li",{children:"25% clientes en riesgo"}),s.jsx("li",{children:"20% clientes inactivos"}),s.jsx("li",{children:"20% revenue en riesgo"})]})]})})]}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"/100"})]}),s.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:s.jsx("div",{className:Fe("h-2 rounded-full transition-all",o.bg,o.color.replace("text-","bg-")),style:{width:`${a}%`}})})]})})]})})}function GO({client:e,companyId:t}){const n=b.useMemo(()=>{switch(e.priority){case"critical":return{border:"border-red-200",bg:"bg-red-50/50",badge:"destructive",icon:Nl,iconColor:"text-red-600"};case"warning":return{border:"border-amber-200",bg:"bg-amber-50/50",badge:"secondary",icon:Nl,iconColor:"text-amber-600"};case"opportunity":return{border:"border-emerald-200",bg:"bg-emerald-50/50",badge:"default",icon:Pr,iconColor:"text-emerald-600"}}},[e.priority]),r=n.icon,i=e.yoyChange>0;return s.jsx(Ue,{className:Fe("border-2 transition-all hover:shadow-md",n.border,n.bg),children:s.jsxs(We,{className:"p-4",children:[s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(r,{className:Fe("h-4 w-4 flex-shrink-0",n.iconColor)}),s.jsx("h4",{className:"font-semibold text-sm truncate",children:e.name}),s.jsx(Ct,{variant:n.badge,className:"text-xs",children:e.priority==="critical"?"Crtico":e.priority==="warning"?"Riesgo":"Oportunidad"})]}),s.jsxs("div",{className:"space-y-1.5 text-xs",children:[s.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[s.jsx(Xa,{className:"h-3 w-3"}),s.jsx("span",{children:e.daysSincePurchase>0?`${e.daysSincePurchase} das sin compra`:"Compra reciente"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[i?s.jsx(Pr,{className:"h-3 w-3 text-emerald-600"}):s.jsx(zs,{className:"h-3 w-3 text-red-600"}),s.jsxs("span",{className:Fe("font-medium",i?"text-emerald-600":"text-red-600"),children:[i?"+":"",e.yoyChange.toFixed(1),"% vs ao anterior"]})]}),s.jsxs("div",{className:"pt-1 border-t border-border/50",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Revenue histrico:"}),s.jsx("span",{className:"font-medium",children:ho(e.previousYearRevenue,t)})]}),e.currentYearRevenue>0&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Revenue actual:"}),s.jsx("span",{className:"font-medium",children:ho(e.currentYearRevenue,t)})]})]})]})]}),s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:Fe("w-12 h-12 rounded-full flex items-center justify-center text-xs font-bold text-white",e.priority==="critical"?"bg-red-500":e.priority==="warning"?"bg-amber-500":"bg-emerald-500"),children:e.name.charAt(0).toUpperCase()})})]}),e.recommendedActions.length>0&&s.jsxs("div",{className:"mt-3 pt-3 border-t border-border/50",children:[s.jsx("p",{className:"text-xs font-medium text-muted-foreground mb-1.5",children:"Acciones recomendadas:"}),s.jsx("ul",{className:"text-xs space-y-1.5",children:e.recommendedActions.slice(0,2).map((a,o)=>{const l=a.includes("URGENTE")||a.includes("URGENT"),c=a.includes("ALTA")||a.includes("HIGH");return s.jsxs("li",{className:Fe("flex items-start gap-2 p-1.5 rounded",l?"bg-red-50 border border-red-200":c?"bg-amber-50 border border-amber-200":"bg-slate-50"),children:[s.jsx("span",{className:Fe("font-semibold mt-0.5 flex-shrink-0",l?"text-red-600":c?"text-amber-600":"text-primary"),children:""}),s.jsx("span",{className:Fe("flex-1",l?"text-red-900":c?"text-amber-900":"text-slate-700"),children:a})]},o)})}),e.recommendedActions.length>2&&s.jsxs("p",{className:"text-xs text-muted-foreground mt-1.5 italic",children:["+",e.recommendedActions.length-2," accin(es) adicional(es)"]})]})]})})}function uPt({insights:e,companyId:t}){const{critical:n,warning:r,opportunities:i}=e.focusClients;return s.jsx(si,{title:"Clientes a Enfocar",subtitle:"Anlisis de prioridad y recomendaciones",children:s.jsxs(Tp,{defaultValue:"critical",className:"w-full",children:[s.jsxs(Rh,{className:"grid w-full grid-cols-3",children:[s.jsxs(Ki,{value:"critical",className:"flex items-center gap-2",children:[s.jsx(Oa,{className:"h-4 w-4"}),"Crticos (",n.length,")"]}),s.jsxs(Ki,{value:"warning",className:"flex items-center gap-2",children:[s.jsx(Oa,{className:"h-4 w-4"}),"Riesgo (",r.length,")"]}),s.jsxs(Ki,{value:"opportunities",className:"flex items-center gap-2",children:[s.jsx(Pr,{className:"h-4 w-4"}),"Oportunidades (",i.length,")"]})]}),s.jsx(ds,{value:"critical",className:"mt-4 space-y-3",children:n.length===0?s.jsx(ed,{icon:Fi,title:"Sin clientes crticos",description:"No hay clientes que requieran atencin inmediata",size:"sm"}):n.slice(0,10).map(a=>s.jsx(GO,{client:a,companyId:t},a.name))}),s.jsx(ds,{value:"warning",className:"mt-4 space-y-3",children:r.length===0?s.jsx(ed,{icon:Fi,title:"Sin clientes en riesgo",description:"No hay clientes con cada significativa",size:"sm"}):r.slice(0,10).map(a=>s.jsx(GO,{client:a,companyId:t},a.name))}),s.jsx(ds,{value:"opportunities",className:"mt-4 space-y-3",children:i.length===0?s.jsx(ed,{icon:Pr,title:"Sin oportunidades identificadas",description:"No hay clientes con crecimiento significativo",size:"sm"}):i.slice(0,10).map(a=>s.jsx(GO,{client:a,companyId:t},a.name))})]})})}function YO({product:e}){const t=b.useMemo(()=>{switch(e.category){case"star":return{border:"border-emerald-200",bg:"bg-emerald-50/50",badge:"default",icon:iy,iconColor:"text-emerald-600"};case"declining":return{border:"border-red-200",bg:"bg-red-50/50",badge:"destructive",icon:zs,iconColor:"text-red-600"};case"crossSell":return{border:"border-blue-200",bg:"bg-blue-50/50",badge:"secondary",icon:Pr,iconColor:"text-blue-600"}}},[e.category]),n=t.icon,r=e.growthRate>0;return s.jsx(Ue,{className:Fe("border-2 transition-all hover:shadow-md",t.border,t.bg),children:s.jsxs(We,{className:"p-4",children:[s.jsx("div",{className:"flex items-start justify-between gap-3",children:s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(n,{className:Fe("h-4 w-4 flex-shrink-0",t.iconColor)}),s.jsx("h4",{className:"font-semibold text-sm truncate",children:e.name}),s.jsx(Ct,{variant:t.badge,className:"text-xs",children:e.category==="star"?"Estrella":e.category==="declining"?"Declive":"Cross-Sell"})]}),s.jsxs("div",{className:"space-y-1.5 text-xs",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[r?s.jsx(Pr,{className:"h-3 w-3 text-emerald-600"}):s.jsx(zs,{className:"h-3 w-3 text-red-600"}),s.jsxs("span",{className:Fe("font-medium",r?"text-emerald-600":"text-red-600"),children:[r?"+":"",e.growthRate.toFixed(1),"% crecimiento"]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[s.jsx(Fi,{className:"h-3 w-3"}),s.jsxs("span",{children:[e.uniqueClients," clientes nicos"]})]}),s.jsxs("div",{className:"pt-1 border-t border-border/50",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Volumen actual:"}),s.jsxs("span",{className:"font-medium",children:[Ju(e.currentVolume)," ",e.unit]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-muted-foreground",children:"Rentabilidad:"}),s.jsxs("span",{className:"font-medium",children:[e.profitability.toFixed(1),"%"]})]})]})]})]})}),e.recommendedFocus&&s.jsxs("div",{className:"mt-3 pt-3 border-t border-border/50",children:[s.jsx("p",{className:"text-xs font-medium text-muted-foreground mb-1",children:"Recomendacin:"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:e.recommendedFocus})]})]})})}function dPt({insights:e}){const{stars:t,declining:n,crossSell:r}=e.productOpportunities;return s.jsx(si,{title:"Oportunidades de Productos",subtitle:"Anlisis de productos y recomendaciones",children:s.jsxs(Tp,{defaultValue:"stars",className:"w-full",children:[s.jsxs(Rh,{className:"grid w-full grid-cols-3",children:[s.jsxs(Ki,{value:"stars",className:"flex items-center gap-2",children:[s.jsx(iy,{className:"h-4 w-4"}),"Estrella (",t.length,")"]}),s.jsxs(Ki,{value:"declining",className:"flex items-center gap-2",children:[s.jsx(zs,{className:"h-4 w-4"}),"Declive (",n.length,")"]}),s.jsxs(Ki,{value:"crossSell",className:"flex items-center gap-2",children:[s.jsx(i5,{className:"h-4 w-4"}),"Cross-Sell (",r.length,")"]})]}),s.jsx(ds,{value:"stars",className:"mt-4 space-y-3",children:t.length===0?s.jsx(ed,{icon:iy,title:"Sin productos estrella",description:"No hay productos con alto crecimiento identificados",size:"sm"}):t.slice(0,10).map(i=>s.jsx(YO,{product:i},i.name))}),s.jsx(ds,{value:"declining",className:"mt-4 space-y-3",children:n.length===0?s.jsx(ed,{icon:zs,title:"Sin productos en declive",description:"No hay productos que requieran atencin",size:"sm"}):n.slice(0,10).map(i=>s.jsx(YO,{product:i},i.name))}),s.jsx(ds,{value:"crossSell",className:"mt-4 space-y-3",children:r.length===0?s.jsx(ed,{icon:i5,title:"Sin oportunidades de cross-selling",description:"No hay productos identificados para cross-selling",size:"sm"}):r.slice(0,10).map(i=>s.jsx(YO,{product:i},i.name))})]})})}function fPt({insights:e,companyId:t}){const n=e.strategicRecommendations,r=o=>{switch(o){case"client":return Fi;case"product":return _l;case"strategy":return ic;case"risk":return Oa;default:return j9}},i=o=>{switch(o){case"high":return"bg-red-100 text-red-700 border-red-300";case"medium":return"bg-amber-100 text-amber-700 border-amber-300";case"low":return"bg-blue-100 text-blue-700 border-blue-300";default:return"bg-gray-100 text-gray-700 border-gray-300"}},a=o=>{switch(o){case"high":return"text-red-600";case"medium":return"text-amber-600";case"low":return"text-emerald-600";default:return"text-slate-500"}};return s.jsx(si,{title:"Insights Estratgicos",subtitle:"Recomendaciones basadas en anlisis de datos",children:s.jsx("div",{className:"space-y-4 max-h-[600px] overflow-y-auto",children:n.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(j9,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),s.jsx("p",{className:"text-sm",children:"No hay recomendaciones disponibles"})]}):n.map(o=>{var c,u;const l=r(o.type);return s.jsx("div",{className:"p-4 rounded-lg border border-border bg-card hover:bg-muted/50 transition-colors",children:s.jsxs("div",{className:"flex items-start gap-3 mb-2",children:[s.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:s.jsx(l,{className:"h-4 w-4 text-primary"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("h4",{className:"font-semibold text-sm",children:o.title}),s.jsx(Ct,{variant:"outline",className:Fe("text-xs",i(o.priority)),children:o.priority==="high"?"Alta":o.priority==="medium"?"Media":"Baja"})]}),s.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:o.description}),s.jsxs("div",{className:"flex flex-wrap gap-4 text-xs",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"text-muted-foreground",children:"Impacto:"}),s.jsx("span",{className:Fe("font-medium",a(o.impact)),children:o.impact==="high"?"Alto":o.impact==="medium"?"Medio":"Bajo"})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"text-muted-foreground",children:"Esfuerzo:"}),s.jsx("span",{className:Fe("font-medium",a(o.effort)),children:o.effort==="high"?"Alto":o.effort==="medium"?"Medio":"Bajo"})]}),o.estimatedValue&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"text-muted-foreground",children:"Valor estimado:"}),s.jsx("span",{className:"font-medium text-emerald-600",children:ho(o.estimatedValue,t)})]})]}),(((c=o.relatedEntities.clients)==null?void 0:c.length)||((u=o.relatedEntities.products)==null?void 0:u.length))&&s.jsxs("div",{className:"mt-3 pt-3 border-t border-border/50",children:[o.relatedEntities.clients&&o.relatedEntities.clients.length>0&&s.jsxs("div",{className:"mb-2",children:[s.jsx("span",{className:"text-xs text-muted-foreground",children:"Clientes relacionados: "}),s.jsx("span",{className:"text-xs font-medium",children:o.relatedEntities.clients.join(", ")})]}),o.relatedEntities.products&&o.relatedEntities.products.length>0&&s.jsxs("div",{children:[s.jsx("span",{className:"text-xs text-muted-foreground",children:"Productos relacionados: "}),s.jsx("span",{className:"text-xs font-medium",children:o.relatedEntities.products.join(", ")})]})]})]})]})},o.id)})})})}const XO="sales_action_items_completed";function hPt({insights:e}){const t=e.actionItems,[n,r]=b.useState(new Set);b.useEffect(()=>{try{const m=localStorage.getItem(XO);if(m){const h=JSON.parse(m);r(new Set(h))}}catch(m){console.error("Error loading completed items:",m)}},[]);const i=b.useCallback(m=>{try{localStorage.setItem(XO,JSON.stringify([...m]))}catch(h){console.error("Error saving completed items:",h)}},[]),a=b.useCallback(m=>{r(h=>{const g=new Set(h);return g.has(m)?g.delete(m):g.add(m),i(g),g})},[i]),o=b.useCallback(()=>{r(new Set),localStorage.removeItem(XO)},[]),l=m=>{switch(m){case"critical":return{color:"text-red-600",bg:"bg-red-50",bgCompleted:"bg-red-50/30",border:"border-red-200",label:"Crtica",checkColor:"text-red-500"};case"high":return{color:"text-amber-600",bg:"bg-amber-50",bgCompleted:"bg-amber-50/30",border:"border-amber-200",label:"Alta",checkColor:"text-amber-500"};case"medium":return{color:"text-blue-600",bg:"bg-blue-50",bgCompleted:"bg-blue-50/30",border:"border-blue-200",label:"Media",checkColor:"text-blue-500"};case"low":return{color:"text-gray-600",bg:"bg-gray-50",bgCompleted:"bg-gray-50/30",border:"border-gray-200",label:"Baja",checkColor:"text-gray-500"};default:return{color:"text-slate-500",bg:"bg-slate-50",bgCompleted:"bg-slate-50/30",border:"border-slate-200",label:m,checkColor:"text-slate-500"}}},c=[...t].sort((m,h)=>{const g={critical:0,high:1,medium:2,low:3},y=n.has(m.id)?1:0,v=n.has(h.id)?1:0;return y!==v?y-v:(g[m.priority]||4)-(g[h.priority]||4)}),u=t.filter(m=>n.has(m.id)).length,d=t.length,f=d>0?u/d*100:0;return s.jsx(si,{title:"Acciones Prioritarias",subtitle:`${u}/${d} completadas`,headerActions:u>0&&s.jsxs(Oe,{variant:"ghost",size:"sm",onClick:o,className:"text-xs text-slate-500 hover:text-slate-700",children:[s.jsx(die,{className:"h-3 w-3 mr-1"}),"Reiniciar"]}),children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-xs text-slate-500",children:[s.jsx("span",{children:"Progreso"}),s.jsxs("span",{children:[Math.round(f),"%"]})]}),s.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2 overflow-hidden",children:s.jsx("div",{className:Fe("h-2 rounded-full transition-all duration-500",f===100?"bg-emerald-500":"bg-primary"),style:{width:`${f}%`}})}),f===100&&s.jsx("p",{className:"text-xs text-emerald-600 font-medium text-center",children:"Todas las acciones completadas!"})]}),s.jsx("div",{className:"space-y-2 max-h-[500px] overflow-y-auto",children:c.length===0?s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(lf,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),s.jsx("p",{className:"text-sm",children:"No hay acciones pendientes"})]}):c.map(m=>{const h=l(m.priority),g=n.has(m.id);return s.jsx("div",{onClick:()=>a(m.id),className:Fe("p-3 rounded-lg border-2 transition-all cursor-pointer group","hover:shadow-md active:scale-[0.99]",h.border,g?h.bgCompleted:h.bg,g&&"opacity-60"),children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:Fe("flex-shrink-0 mt-0.5 transition-colors",g?"text-emerald-500":h.checkColor,"group-hover:scale-110"),children:g?s.jsx(u_e,{className:"h-5 w-5"}):s.jsx(d_e,{className:"h-5 w-5"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1 flex-wrap",children:[s.jsx("h4",{className:Fe("font-semibold text-sm",g&&"line-through text-slate-400"),children:m.title}),s.jsx(Ct,{variant:"outline",className:Fe("text-xs",h.color,h.border),children:h.label})]}),s.jsx("p",{className:Fe("text-sm text-slate-600 mb-2",g&&"line-through text-slate-400"),children:m.description}),m.dueDate&&s.jsxs("div",{className:"flex items-center gap-1 text-xs text-slate-400",children:[s.jsx(Wo,{className:"h-3 w-3"}),s.jsxs("span",{children:["Vence: ",new Date(m.dueDate).toLocaleDateString("es-MX")]})]})]}),g&&s.jsx("div",{className:"flex-shrink-0",children:s.jsx(lf,{className:"h-5 w-5 text-emerald-500"})})]})},m.id)})})]})})}function mPt({companyId:e,embedded:t=!1}){var y;const n=Vs();console.log("[SalesAnalyst] Componente renderizado con companyId:",e);const{filters:r,updateFilters:i}=BEt({companyId:e,period:"year",priority:void 0},{syncWithURL:!0,persistInLocalStorage:!0,storageKey:"sales_analyst_filters"}),{data:a,isLoading:o,error:l,refetch:c}=FEt(e);console.log("[SalesAnalyst] Estado del query:",{isLoading:o,hasError:!!l,hasData:!!a});const u=()=>{n.invalidateQueries({queryKey:["/api/sales-analyst/insights",e]}),c()},d=()=>{alert("Funcionalidad de exportacin prximamente disponible")},f=()=>s.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-r from-purple-600 via-indigo-600 to-blue-600 rounded-xl shadow-xl p-6 text-white",children:[s.jsxs("div",{className:"absolute inset-0 opacity-10",children:[s.jsx("div",{className:"absolute top-0 left-0 w-64 h-64 bg-white rounded-full -translate-x-1/2 -translate-y-1/2"}),s.jsx("div",{className:"absolute bottom-0 right-0 w-96 h-96 bg-white rounded-full translate-x-1/2 translate-y-1/2"})]}),s.jsxs("div",{className:"relative flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex items-start gap-4 flex-1 min-w-0",children:[s.jsx("div",{className:"flex-shrink-0 p-4 bg-white/20 backdrop-blur-sm rounded-xl shadow-lg border border-white/30",children:s.jsx(KNe,{className:"h-8 w-8 text-white"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2 flex-wrap",children:[s.jsx("h1",{className:"text-3xl font-bold text-white",id:"page-title",children:"Analista de Ventas"}),s.jsxs("span",{className:"px-3 py-1.5 text-xs font-bold bg-white/20 backdrop-blur-sm text-white rounded-full border border-white/30 flex items-center gap-1.5",children:[s.jsx(cf,{className:"h-3.5 w-3.5"}),"Anlisis con IA"]})]}),s.jsx("p",{className:"text-purple-100 text-base leading-relaxed",children:"Anlisis estratgico inteligente y recomendaciones accionables para optimizar las ventas"}),s.jsxs("div",{className:"flex items-center gap-2 mt-3 text-sm text-purple-100",children:[s.jsx("span",{children:"Inicio"}),s.jsx("span",{children:"/"}),s.jsx("span",{children:"Ventas"}),s.jsx("span",{children:"/"}),s.jsx("span",{className:"text-white font-medium",children:"Analista"})]})]})]}),s.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[s.jsxs(Oe,{onClick:d,variant:"outline",size:"sm",className:"bg-white/10 hover:bg-white/20 border-white/30 text-white backdrop-blur-sm",children:[s.jsx(nc,{className:"h-4 w-4 mr-2"}),"Exportar"]}),s.jsxs(Oe,{onClick:u,size:"sm",className:"bg-white text-purple-600 hover:bg-purple-50 font-semibold shadow-lg",children:[s.jsx(HC,{className:"h-4 w-4 mr-2"}),"Actualizar"]})]})]})]}),m=t?"space-y-5":"min-h-screen bg-slate-50 dark:bg-slate-900",h=t?"space-y-5":"container mx-auto px-4 py-6 space-y-5";if(o)return s.jsx("div",{className:m,children:s.jsxs("div",{className:h,children:[!t&&s.jsx(f,{}),s.jsx(yb,{variant:"page"})]})});if(l)return s.jsx("div",{className:m,children:s.jsxs("div",{className:h,children:[!t&&s.jsx(f,{}),s.jsx(_p,{variant:"page",message:l instanceof Error?l.message:"Error al cargar datos del analista",onRetry:u})]})});if(!a)return s.jsx("div",{className:m,children:s.jsxs("div",{className:h,children:[!t&&s.jsx(f,{}),s.jsx(_p,{variant:"page",message:"No se encontraron datos para el anlisis"})]})});const g=a;return s.jsx("div",{className:m,children:s.jsxs("div",{className:h,children:[!t&&s.jsx(f,{}),s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 pb-4 border-b border-slate-200",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("select",{value:typeof r.period=="string"?r.period:"year",onChange:v=>i({...r,period:v.target.value}),className:"px-3 py-1.5 text-sm border border-slate-200 rounded-md bg-white text-slate-700 focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary",children:[s.jsx("option",{value:"year",children:"2024-2025"}),s.jsx("option",{value:"quarter",children:"ltimo trimestre"}),s.jsx("option",{value:"month",children:"ltimo mes"})]}),s.jsxs("select",{value:typeof r.priority=="string"?r.priority:"all",onChange:v=>i({...r,priority:v.target.value==="all"?void 0:v.target.value}),className:"px-3 py-1.5 text-sm border border-slate-200 rounded-md bg-white text-slate-700 focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary",children:[s.jsx("option",{value:"all",children:"Todas las prioridades"}),s.jsx("option",{value:"critical",children:"Crtica"}),s.jsx("option",{value:"high",children:"Alta"}),s.jsx("option",{value:"medium",children:"Media"})]})]}),s.jsxs("span",{className:"text-sm text-slate-500",children:[g.focusClients.critical.length+g.focusClients.warning.length+g.focusClients.opportunities.length," clientes  ",g.inactiveClients.length," inactivos"]})]}),((y=g.statisticalContext)==null?void 0:y.aiInsights)&&s.jsx("div",{className:"bg-white rounded-lg border border-slate-200 p-4 shadow-sm",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"p-1.5 bg-emerald-100 rounded",children:s.jsx(cf,{className:"h-4 w-4 text-emerald-600"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("h3",{className:"text-sm font-medium text-slate-900",children:"Resumen Ejecutivo"}),s.jsx("span",{className:"text-xs px-1.5 py-0.5 bg-emerald-100 text-emerald-700 rounded font-medium",children:"EconovaAI"})]}),s.jsx("p",{className:"text-sm text-slate-600 leading-relaxed",children:g.statisticalContext.aiInsights})]})]})}),s.jsx(cPt,{insights:g,companyId:e}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsx(uPt,{insights:g,companyId:e}),s.jsx(dPt,{insights:g})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsx(fPt,{insights:g,companyId:e}),s.jsx(hPt,{insights:g})]})]})})}function pPt({companyId:e}){var R,D,I;const t=e||1,{toast:n}=zi(),r=Vs(),i=b.useRef(null),[a,o]=b.useState(!1),[l,c]=b.useState(!1),[u,d]=b.useState(null),[f,m]=b.useState(!1),{data:h,isLoading:g,error:y}=At({queryKey:["/api/sales-stats",t],queryFn:async()=>{const B=await Dt("GET",`/api/sales-stats?companyId=${t}`);if(!B.ok)throw new Error(`Failed to fetch sales stats: ${B.statusText}`);return await B.json()},staleTime:5*60*1e3}),{data:v}=At({queryKey:["/api/sales-monthly-trends",t],queryFn:async()=>{const B=await Dt("GET",`/api/sales-monthly-trends?companyId=${t}`);return B.ok?await B.json():[]},staleTime:5*60*1e3}),x=(v==null?void 0:v.reduce((B,$)=>B+($.amount||0),0))||0,w=(h==null?void 0:h.growth)||0,j=Wn({mutationFn:async B=>{const $=new FormData;$.append("file",B),$.append("companyId",t.toString());const K=localStorage.getItem("authToken");if(!K)throw new Error("No se encontr token de autenticacin");const Y=await fetch("/api/sales/upload",{method:"POST",headers:{Authorization:`Bearer ${K}`},body:$});if(!Y.ok){const Q=await Y.json().catch(()=>({error:"Error desconocido"}));throw new Error(Q.details||Q.error||"Error al subir el archivo")}return await Y.json()},onSuccess:B=>{n({title:" Archivo procesado exitosamente",description:`Se procesaron ${B.recordsProcessed} registros de ventas`,variant:"default"}),d(null),r.invalidateQueries({queryKey:["/api/sales-stats"]}),r.invalidateQueries({queryKey:["/api/sales-comparison"]}),r.invalidateQueries({queryKey:["/api/sales-monthly-trends"]}),r.invalidateQueries({queryKey:["/api/sales-top-clients"]}),r.invalidateQueries({queryKey:["/api/sales-alerts"]}),r.invalidateQueries({queryKey:["/api/sales-yearly-comparison"]}),r.invalidateQueries({queryKey:["/api/sales-analyst/insights"]}),r.invalidateQueries({queryKey:["/api/sales-multi-year-trend"]}),setTimeout(()=>{c(!1)},2e3)},onError:B=>{n({title:" Error al subir archivo",description:B.message||"Ocurri un error al procesar el archivo",variant:"destructive"})}}),_=b.useCallback(B=>{B.preventDefault(),B.stopPropagation(),m(!0)},[]),S=b.useCallback(B=>{B.preventDefault(),B.stopPropagation(),m(!1)},[]),k=b.useCallback(B=>{B.preventDefault(),B.stopPropagation(),m(!1);const $=B.dataTransfer.files;if($&&$.length>0){const K=$[0];K.name.endsWith(".xlsx")||K.name.endsWith(".xls")?d(K):n({title:"Formato no vlido",description:"Solo se permiten archivos Excel (.xlsx, .xls)",variant:"destructive"})}},[n]),P=b.useCallback(B=>{if(B.target.files&&B.target.files[0]){const $=B.target.files[0];$.name.endsWith(".xlsx")||$.name.endsWith(".xls")?d($):n({title:"Formato no vlido",description:"Solo se permiten archivos Excel (.xlsx, .xls)",variant:"destructive"})}},[n]),M=b.useCallback(()=>{if(!u){n({title:"Error",description:"Selecciona un archivo antes de subirlo",variant:"destructive"});return}j.mutate(u)},[u,j,n]),T=b.useCallback(()=>{d(null),i.current&&(i.current.value="")},[]);return s.jsxs("div",{className:"space-y-8",children:[s.jsx(xce,{objectIcon:Pr,title:"Dashboard de Ventas",subtitle:"Vista general de pipeline, objetivos y distribucin de ventas",breadcrumbs:[{label:"Inicio",href:"/"},{label:"Ventas",href:"/sales"},{label:"Dashboard"}],actions:[{label:"Actualizar Ventas",onClick:()=>{c(!0)},variant:"outline",icon:Kl,primary:!1},{label:"KPIS",onClick:()=>{o(!0)},variant:"default",icon:ic,primary:!0}]}),g?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[1,2,3,4].map(B=>s.jsx("div",{className:"h-32 bg-muted animate-pulse rounded-lg"},B))}):y?s.jsx(_p,{variant:"page",message:"Error al cargar mtricas de ventas"}):s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsx(V_,{title:"Revenue Total",value:ho(x,t),subtitle:`${Ju((h==null?void 0:h.currentVolume)||0)} ${(h==null?void 0:h.unit)||"KG"} vendidos`,icon:kh,trend:w!==void 0?{value:w,label:"vs perodo anterior"}:void 0,variant:"success"}),s.jsx(V_,{title:"Clientes Activos",value:(h==null?void 0:h.activeClients)||0,subtitle:`${((R=h==null?void 0:h.activeClientsMetrics)==null?void 0:R.last3Months)||0} ltimos 3 meses`,icon:Fi,variant:"default"}),s.jsx(V_,{title:"Crecimiento",value:`${w>=0?"+":""}${w.toFixed(1)}%`,subtitle:"vs perodo anterior",icon:Pr,variant:w>=0?"success":"danger"}),s.jsx(V_,{title:"Retencin",value:`${(((D=h==null?void 0:h.retentionRate)==null?void 0:D.rate)||0).toFixed(1)}%`,subtitle:`${((I=h==null?void 0:h.retentionRate)==null?void 0:I.retainedClients)||0} clientes retenidos`,icon:ic,variant:"default"})]}),s.jsx(REt,{companyId:t}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsx(IEt,{companyId:t,limit:10,period:"year"}),s.jsx(DEt,{companyId:t,limit:10,period:"year"})]}),s.jsx(MEt,{companyId:t}),s.jsx($Et,{companyId:t,limit:10}),s.jsx("div",{className:`fixed inset-0 z-50 overflow-hidden transition-all duration-300 ease-out ${a?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,children:s.jsxs("div",{className:`absolute inset-0 bg-slate-50 overflow-y-auto transition-all duration-300 ease-out ${a?"opacity-100 scale-100":"opacity-0 scale-95"}`,children:[s.jsxs("div",{className:"sticky top-0 z-10 bg-white border-b border-slate-200 px-6 py-4 flex items-center justify-between shadow-sm",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-2.5 bg-primary/10 rounded-xl",children:s.jsx(ic,{className:"h-6 w-6 text-primary"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-bold text-slate-900",children:"KPIs de Ventas"}),s.jsx("p",{className:"text-sm text-slate-500",children:"Anlisis estratgico 2024-2025"})]})]}),s.jsxs(Oe,{variant:"outline",onClick:()=>o(!1),className:"gap-2",children:[s.jsx(Ra,{className:"h-4 w-4"}),"Cerrar"]})]}),s.jsx("div",{className:"p-6 max-w-7xl mx-auto",children:a&&s.jsx(mPt,{companyId:t,embedded:!0})})]})}),s.jsxs("div",{className:`fixed inset-0 z-50 overflow-hidden transition-all duration-300 ease-out ${l?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,children:[s.jsx("div",{className:`absolute inset-0 bg-black/40 transition-opacity duration-300 ${l?"opacity-100":"opacity-0"}`,onClick:()=>{j.isPending||(c(!1),d(null))}}),s.jsxs("div",{className:`absolute left-1/2 top-1/2 -translate-x-1/2 w-full max-w-xl bg-white dark:bg-slate-900 rounded-xl shadow-2xl overflow-hidden transition-all duration-300 ease-out ${l?"-translate-y-1/2 opacity-100":"-translate-y-1/2 opacity-0 scale-95"}`,children:[s.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700 px-6 py-4 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:s.jsx(Kl,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100",children:"Actualizar Ventas"}),s.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Sube el reporte de IDRALL"})]})]}),s.jsx(Oe,{variant:"ghost",size:"icon",onClick:()=>{j.isPending||(c(!1),d(null))},disabled:j.isPending,className:"text-slate-500 hover:text-slate-700 hover:bg-slate-100 dark:hover:bg-slate-700",children:s.jsx(Ra,{className:"h-5 w-5"})})]}),s.jsxs("div",{className:"p-6",children:[s.jsx("input",{ref:i,type:"file",accept:".xlsx,.xls",onChange:P,className:"hidden"}),s.jsx("div",{onDragOver:_,onDragLeave:S,onDrop:k,onClick:()=>{var B;return!j.isPending&&((B=i.current)==null?void 0:B.click())},className:`
                relative border-2 border-dashed rounded-xl p-8 text-center cursor-pointer
                transition-all duration-200 ease-out
                ${f?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":u?"border-green-500 bg-green-50 dark:bg-green-900/20":"border-slate-300 dark:border-slate-600 hover:border-blue-400 hover:bg-slate-50 dark:hover:bg-slate-800"}
                ${j.isPending?"pointer-events-none opacity-60":""}
              `,children:j.isPending?s.jsxs("div",{className:"flex flex-col items-center gap-3",children:[s.jsx(sr,{className:"h-12 w-12 text-blue-500 animate-spin"}),s.jsx("p",{className:"text-lg font-medium text-slate-700 dark:text-slate-300",children:"Procesando archivo..."}),s.jsx("p",{className:"text-sm text-slate-500",children:"Esto puede tomar unos segundos"})]}):j.isSuccess?s.jsxs("div",{className:"flex flex-col items-center gap-3",children:[s.jsx(lf,{className:"h-12 w-12 text-green-500"}),s.jsx("p",{className:"text-lg font-medium text-green-700 dark:text-green-400",children:"Archivo procesado exitosamente!"})]}):u?s.jsxs("div",{className:"flex flex-col items-center gap-3",children:[s.jsx(O1,{className:"h-12 w-12 text-green-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-lg font-medium text-slate-700 dark:text-slate-300",children:u.name}),s.jsxs("p",{className:"text-sm text-slate-500",children:[(u.size/1024/1024).toFixed(2)," MB"]})]}),s.jsx(Oe,{variant:"ghost",size:"sm",onClick:B=>{B.stopPropagation(),T()},className:"text-slate-500 hover:text-red-500",children:"Cambiar archivo"})]}):s.jsxs("div",{className:"flex flex-col items-center gap-3",children:[s.jsx(Kl,{className:`h-12 w-12 ${f?"text-blue-500":"text-slate-400"}`}),s.jsxs("div",{children:[s.jsx("p",{className:"text-lg font-medium text-slate-700 dark:text-slate-300",children:f?"Suelta el archivo aqu":"Arrastra tu archivo Excel aqu"}),s.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"o haz clic para seleccionar"})]}),s.jsx("p",{className:"text-xs text-slate-400 mt-2",children:"Formatos aceptados: .xlsx, .xls (mx 20MB)"})]})}),!j.isSuccess&&s.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[s.jsx(Oe,{variant:"outline",onClick:()=>{c(!1),d(null)},disabled:j.isPending,children:"Cancelar"}),s.jsx(Oe,{onClick:M,disabled:!u||j.isPending,className:"bg-blue-600 hover:bg-blue-700 text-white",children:j.isPending?s.jsxs(s.Fragment,{children:[s.jsx(sr,{className:"mr-2 h-4 w-4 animate-spin"}),"Procesando..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Kl,{className:"mr-2 h-4 w-4"}),"Subir Archivo"]})})]}),s.jsxs("div",{className:"mt-6 p-4 bg-slate-50 dark:bg-slate-800 rounded-lg",children:[s.jsx("h4",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Instrucciones:"}),s.jsxs("ul",{className:"text-xs text-slate-500 space-y-1",children:[s.jsx("li",{children:" Descarga el reporte de ventas desde el CRM IDRALL"}),s.jsx("li",{children:" Asegrate de que el archivo est en formato Excel (.xlsx)"}),s.jsx("li",{children:" El sistema procesar automticamente los datos"}),s.jsx("li",{children:" Los dashboards se actualizarn inmediatamente"})]})]})]})]})]})]})}function ZO(){var U,ee,z,F,ie,ce,te,oe,ve,ne,xe;const{user:e}=ud(),{toast:t}=zi(),[n]=Yo(),r=Vs(),i=b.useRef(null),a=()=>n==="/sales/dura"?1:n==="/sales/orsega"?2:(e==null?void 0:e.companyId)||1,o=()=>{if(typeof window<"u"){const re=new URLSearchParams(window.location.search).get("view");if(re==="analyst"||re==="overview"||re==="upload"||re==="comparison"||re==="alerts"||re==="analytics")return re}return"dashboard"},[l,c]=b.useState(o()),[u,d]=b.useState(a());b.useEffect(()=>{n==="/sales/dura"?d(1):n==="/sales/orsega"&&d(2);const re=new URLSearchParams(window.location.search).get("view");console.log("[SalesPage] useEffect - location:",n,"view param:",re,"current viewMode:",l),re==="analyst"||re==="overview"||re==="upload"||re==="comparison"||re==="alerts"||re==="analytics"?l!==re&&(console.log("[SalesPage] Cambiando viewMode de",l,"a",re),c(re)):!re&&n.includes("/sales")&&l!=="dashboard"&&(console.log("[SalesPage] Cambiando viewMode a dashboard (no hay view param)"),c("dashboard"))},[n]),b.useEffect(()=>{const ue=()=>{const ae=new URLSearchParams(window.location.search).get("view");console.log("[SalesPage] checkQueryParams - view:",ae,"current viewMode:",l),ae==="analyst"||ae==="overview"||ae==="upload"||ae==="comparison"||ae==="alerts"||ae==="analytics"?l!==ae&&(console.log("[SalesPage] Query params cambiaron - actualizando viewMode a",ae),c(ae)):!ae&&l!=="dashboard"&&(console.log("[SalesPage] Query params cambiaron - actualizando viewMode a dashboard"),c("dashboard"))};ue(),window.addEventListener("popstate",ue);const re=()=>{setTimeout(ue,0)};return window.addEventListener("hashchange",re),()=>{window.removeEventListener("popstate",ue),window.removeEventListener("hashchange",re)}},[]);const[f,m]=b.useState(null),[h,g]=b.useState(!1),[y,v]=b.useState(!1);(e==null?void 0:e.role)==="admin"||(e==null||e.companyId),(e==null?void 0:e.role)==="admin"||(e==null||e.companyId);const{data:x,isLoading:w}=At({queryKey:["/api/sales-stats",u],queryFn:async()=>await(await Dt("GET",`/api/sales-stats?companyId=${u}`)).json(),enabled:!!e,refetchInterval:3e4}),{data:j,isLoading:_}=At({queryKey:["/api/sales-alerts",u],queryFn:async()=>await(await Dt("GET",`/api/sales-alerts?companyId=${u}`)).json(),enabled:!!e&&l==="alerts",refetchInterval:6e4}),{data:S,isLoading:k}=At({queryKey:["/api/sales-comparison",u],queryFn:async()=>await(await Dt("GET",`/api/sales-comparison?companyId=${u}`)).json(),enabled:!!e&&l==="comparison",refetchInterval:6e4}),P=new Date().getFullYear(),{data:M,isLoading:T}=At({queryKey:["/api/sales-monthly-trends",u,P],queryFn:async()=>await(await Dt("GET",`/api/sales-monthly-trends?companyId=${u}&year=${P}`)).json(),enabled:!!e&&l==="overview",refetchInterval:6e4}),{data:R,isLoading:D}=At({queryKey:["/api/sales-top-clients",u],queryFn:async()=>await(await Dt("GET",`/api/sales-top-clients?companyId=${u}&limit=5`)).json(),enabled:!!e&&l==="overview",refetchInterval:6e4}),I=Wn({mutationFn:async ue=>{const re=new FormData;re.append("file",ue),re.append("companyId",u.toString());const Se=localStorage.getItem("authToken");if(!Se)throw new Error("No se encontr token de autenticacin");const ae=await fetch("/api/sales/upload",{method:"POST",headers:{Authorization:`Bearer ${Se}`},body:re});if(!ae.ok){const X=await ae.json().catch(()=>({error:"Error desconocido"}));throw new Error(X.details||X.error||"Error al subir el archivo")}return await ae.json()},onSuccess:ue=>{t({title:" Archivo procesado exitosamente",description:`Se procesaron ${ue.recordsProcessed} registros de ventas`,variant:"default"}),m(null),r.invalidateQueries({queryKey:["/api/sales-stats"]}),r.invalidateQueries({queryKey:["/api/sales-comparison"]}),r.invalidateQueries({queryKey:["/api/sales-monthly-trends"]}),r.invalidateQueries({queryKey:["/api/sales-top-clients"]}),r.invalidateQueries({queryKey:["/api/sales-alerts"]}),setTimeout(()=>{c("overview")},2e3)},onError:ue=>{t({title:" Error al subir archivo",description:ue.message||"Ocurri un error al procesar el archivo",variant:"destructive"})}}),B=b.useCallback(ue=>{ue.preventDefault(),ue.stopPropagation(),g(!0)},[]),$=b.useCallback(ue=>{ue.preventDefault(),ue.stopPropagation(),g(!1)},[]),K=b.useCallback(ue=>{ue.preventDefault(),ue.stopPropagation(),g(!1);const re=ue.dataTransfer.files;if(re&&re.length>0){const Se=re[0];Se.name.endsWith(".xlsx")||Se.name.endsWith(".xls")?m(Se):t({title:"Formato no vlido",description:"Solo se permiten archivos Excel (.xlsx, .xls)",variant:"destructive"})}},[t]),Y=b.useCallback(ue=>{if(ue.target.files&&ue.target.files[0]){const re=ue.target.files[0];re.name.endsWith(".xlsx")||re.name.endsWith(".xls")?m(re):t({title:"Formato no vlido",description:"Solo se permiten archivos Excel (.xlsx, .xls)",variant:"destructive"})}},[t]),Q=b.useCallback(()=>{if(!f){t({title:"Error",description:"Selecciona un archivo antes de subirlo",variant:"destructive"});return}I.mutate(f)},[f,I,t]),H=b.useCallback(()=>{m(null),i.current&&(i.current.value="")},[]),G=u===1?{border:"border-green-500",bg:"bg-green-50 dark:bg-green-950/20",text:"text-green-700 dark:text-green-400",button:"bg-green-600 hover:bg-green-700 text-white",name:"Dura International",cardBg:"bg-gradient-to-br from-green-50 to-green-100/50 dark:from-green-950/10 dark:to-green-900/5",cardBorder:"border-green-200/50 dark:border-green-800/30",titleColor:"text-green-600 dark:text-green-400",iconBg:"bg-green-500/15 dark:bg-green-500/20",iconColor:"text-green-600 dark:text-green-400",valueColor:"text-green-700 dark:text-green-300"}:{border:"border-blue-500",bg:"bg-blue-50 dark:bg-blue-950/20",text:"text-blue-700 dark:text-blue-400",button:"bg-blue-600 hover:bg-blue-700 text-white",name:"Grupo Orsega",cardBg:"bg-gradient-to-br from-blue-50 to-blue-100/50 dark:from-blue-950/10 dark:to-blue-900/5",cardBorder:"border-blue-200/50 dark:border-blue-800/30",titleColor:"text-blue-600 dark:text-blue-400",iconBg:"bg-blue-500/15 dark:bg-blue-500/20",iconColor:"text-blue-600 dark:text-blue-400",valueColor:"text-blue-700 dark:text-blue-300"};return s.jsx(Ro,{title:`Mdulo de Ventas - ${G.name}`,children:s.jsxs("div",{className:"container mx-auto py-8 px-4 max-w-7xl",children:[l==="dashboard"&&s.jsx(pPt,{companyId:u}),l==="overview"&&s.jsxs("div",{className:"space-y-8",children:[s.jsx("div",{className:`mb-8 ${G.bg} rounded-lg p-6 border-l-4 ${G.border}`,children:s.jsxs("div",{className:"flex items-start justify-between mb-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-sales-h1-dark",children:"Mdulo de Ventas"}),s.jsx(Ct,{variant:"outline",className:`${G.border} ${G.text} font-semibold`,children:G.name})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Anlisis comparativo y seguimiento de clientes"})]}),s.jsxs(Oe,{onClick:()=>c("upload"),variant:"default",size:"sm",className:`shrink-0 ${G.button}`,children:[s.jsx(Kl,{className:"mr-2 h-4 w-4"}),"Subir Excel"]})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsx(Ue,{className:`${G.cardBg} ${G.cardBorder} border-2 shadow-sm hover:shadow-md transition-all`,children:s.jsxs(We,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:`text-sm font-medium ${G.titleColor} mb-1`,children:"Clientes Activos"}),s.jsx("p",{className:`text-4xl font-bold ${G.valueColor}`,children:w?s.jsx("div",{className:"h-10 w-20 bg-muted rounded animate-pulse"}):(x==null?void 0:x.activeClients)||0})]}),s.jsx("div",{className:`${G.iconBg} p-3 rounded-full`,children:s.jsx(Fi,{className:`w-10 h-10 ${G.iconColor}`})})]}),M&&M.length>0&&s.jsx("div",{className:"h-12 mt-4",children:s.jsx(kr,{width:"100%",height:"100%",children:s.jsx(id,{data:M.slice(-6),children:s.jsx(oa,{type:"monotone",dataKey:"clients",stroke:u===1?"#16a34a":"#2563eb",strokeWidth:1.5,dot:!1})})})}),s.jsxs("div",{className:"flex items-center justify-between pt-3 mt-3 border-t border-border/30",children:[s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Este mes: ",s.jsx("span",{className:"font-medium text-foreground",children:((U=x==null?void 0:x.activeClientsMetrics)==null?void 0:U.thisMonth)||0})]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["3 meses: ",s.jsx("span",{className:"font-medium text-foreground",children:((ee=x==null?void 0:x.activeClientsMetrics)==null?void 0:ee.last3Months)||0})]})]})]})}),s.jsx(Ue,{className:`${G.cardBg} ${G.cardBorder} border-2 shadow-sm hover:shadow-md transition-all`,children:s.jsxs(We,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:`text-sm font-medium ${G.titleColor} mb-1`,children:"Volumen del Mes"}),s.jsx("p",{className:`text-4xl font-bold ${G.valueColor}`,children:w?s.jsx("div",{className:"h-10 w-24 bg-muted rounded animate-pulse"}):((z=x==null?void 0:x.currentVolume)==null?void 0:z.toLocaleString("es-MX"))||0})]}),s.jsx("div",{className:`${G.iconBg} p-3 rounded-full`,children:s.jsx(_l,{className:`w-10 h-10 ${G.iconColor}`})})]}),M&&M.length>0&&s.jsx("div",{className:"h-12 mt-4",children:s.jsx(kr,{width:"100%",height:"100%",children:s.jsx(dc,{data:M.slice(-6),children:s.jsx(Yi,{dataKey:"volume",fill:u===1?"#16a34a":"#2563eb",radius:[2,2,0,0]})})})}),s.jsx("p",{className:"text-xs text-muted-foreground pt-3 mt-3 border-t border-border/30",children:(x==null?void 0:x.unit)||(u===1?"KG":"Unidades")})]})}),s.jsx(Ue,{className:`${((x==null?void 0:x.growth)??0)>=0?`${G.cardBg} ${G.cardBorder}`:"bg-gradient-to-br from-red-50 to-red-100/50 dark:from-red-950/10 dark:to-red-900/5 border-red-200/50 dark:border-red-800/30"} border-2 shadow-sm hover:shadow-md transition-all`,children:s.jsxs(We,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:`text-sm font-medium ${((x==null?void 0:x.growth)??0)>=0?G.titleColor:"text-red-600 dark:text-red-400"} mb-1`,children:"Crecimiento"}),s.jsx("p",{className:`text-4xl font-bold ${((x==null?void 0:x.growth)??0)>=0?G.valueColor:"text-red-700 dark:text-red-300"}`,children:w?s.jsx("div",{className:"h-10 w-16 bg-muted rounded animate-pulse"}):`${((x==null?void 0:x.growth)??0)>=0?"+":""}${(x==null?void 0:x.growth)??0}%`})]}),s.jsxs("div",{className:`${((x==null?void 0:x.growth)??0)>=0?G.iconBg:"bg-red-500/15 dark:bg-red-500/20"} p-3 rounded-full`,children:[!w&&(((x==null?void 0:x.growth)??0)>=0?s.jsx(Pr,{className:`w-10 h-10 ${G.iconColor}`}):s.jsx(zs,{className:"w-10 h-10 text-red-600 dark:text-red-400"})),w&&s.jsx(hh,{className:`w-10 h-10 ${G.iconColor}`})]})]}),s.jsx("p",{className:"text-xs text-muted-foreground pt-3 mt-3 border-t border-border/30",children:"Mismo perodo 2024"})]})}),s.jsx(Ue,{className:`${G.cardBg} ${G.cardBorder} border-2 shadow-sm hover:shadow-md transition-all`,children:s.jsxs(We,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:`text-sm font-medium ${G.titleColor} mb-1`,children:"Alertas Activas"}),s.jsx("p",{className:`text-4xl font-bold ${G.valueColor}`,children:w?s.jsx("div",{className:"h-10 w-16 bg-muted rounded animate-pulse"}):(x==null?void 0:x.activeAlerts)||0})]}),s.jsx("div",{className:`${G.iconBg} p-3 rounded-full`,children:s.jsx(Oa,{className:`w-10 h-10 ${G.iconColor}`})})]}),s.jsx("p",{className:"text-xs text-muted-foreground pt-3 mt-3 border-t border-border/30",children:"Requieren atencin"})]})})]}),!y&&s.jsx("div",{className:"flex justify-center",children:s.jsxs(Oe,{variant:"ghost",onClick:()=>v(!0),size:"sm",className:"text-xs",children:[s.jsx(hh,{className:"h-3.5 w-3.5 mr-2"}),"Ver mtricas avanzadas"]})}),y&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-700 dark:text-sales-h3-dark",children:"Mtricas Avanzadas"}),s.jsx(Oe,{variant:"ghost",size:"sm",onClick:()=>v(!1),className:"text-xs h-7",children:"Ocultar"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsx(Ue,{className:`${G.cardBg} ${G.cardBorder} border-2 shadow-sm hover:shadow-md transition-all`,children:s.jsxs(We,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:`text-sm font-medium ${G.titleColor} mb-1`,children:"Tasa de Retencin"}),s.jsx("p",{className:`text-4xl font-bold ${G.valueColor}`,children:w?s.jsx("div",{className:"h-10 w-16 bg-muted rounded animate-pulse"}):`${((F=x==null?void 0:x.retentionRate)==null?void 0:F.rate.toFixed(1))||0}%`})]}),s.jsx("div",{className:`${G.iconBg} p-3 rounded-full`,children:s.jsx(HC,{className:`w-10 h-10 ${G.iconColor}`})})]}),s.jsxs("div",{className:"space-y-1 pt-3 mt-3 border-t border-border/30",children:[s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Retenidos: ",s.jsx("span",{className:"font-medium text-foreground",children:((ie=x==null?void 0:x.retentionRate)==null?void 0:ie.retainedClients)||0})]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Perodo: ",s.jsx("span",{className:"font-medium text-foreground",children:((ce=x==null?void 0:x.retentionRate)==null?void 0:ce.currentPeriodClients)||0})," clientes"]})]})]})}),s.jsx(Ue,{className:`${G.cardBg} ${G.cardBorder} border-2 shadow-sm hover:shadow-md transition-all`,children:s.jsxs(We,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:`text-sm font-medium ${G.titleColor} mb-1`,children:"Nuevos Clientes"}),s.jsx("p",{className:`text-4xl font-bold ${G.valueColor}`,children:w?s.jsx("div",{className:"h-10 w-16 bg-muted rounded animate-pulse"}):((te=x==null?void 0:x.newClients)==null?void 0:te.count)||0})]}),s.jsx("div",{className:`${G.iconBg} p-3 rounded-full`,children:s.jsx(YC,{className:`w-10 h-10 ${G.iconColor}`})})]}),s.jsx("p",{className:"text-xs text-muted-foreground pt-3 mt-3 border-t border-border/30",children:"Primera compra este mes"})]})}),s.jsx(Ue,{className:`${G.cardBg} ${G.cardBorder} border-2 shadow-sm hover:shadow-md transition-all`,children:s.jsxs(We,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:`text-sm font-medium ${G.titleColor} mb-1`,children:"Valor Promedio"}),s.jsx("p",{className:`text-3xl font-bold ${G.valueColor}`,children:w?s.jsx("div",{className:"h-10 w-24 bg-muted rounded animate-pulse"}):`$${((oe=x==null?void 0:x.avgOrderValue)==null?void 0:oe.toLocaleString("es-MX",{minimumFractionDigits:2,maximumFractionDigits:2}))||"0.00"}`})]}),s.jsx("div",{className:`${G.iconBg} p-3 rounded-full`,children:s.jsx(kh,{className:`w-10 h-10 ${G.iconColor}`})})]}),s.jsx("p",{className:"text-xs text-muted-foreground pt-3 mt-3 border-t border-border/30",children:"Por orden/transaccin"})]})}),s.jsx(Ue,{className:`${G.cardBg} ${G.cardBorder} border-2 shadow-sm hover:shadow-md transition-all`,children:s.jsxs(We,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:`text-sm font-medium ${G.titleColor} mb-1`,children:"Clientes Perdidos"}),s.jsx("p",{className:`text-4xl font-bold ${G.valueColor}`,children:w?s.jsx("div",{className:"h-10 w-16 bg-muted rounded animate-pulse"}):`${((ve=x==null?void 0:x.clientChurn)==null?void 0:ve.count)||0}`})]}),s.jsx("div",{className:`${G.iconBg} p-3 rounded-full`,children:s.jsx(mie,{className:`w-10 h-10 ${G.iconColor}`})})]}),s.jsxs("div",{className:"space-y-1 pt-3 mt-3 border-t border-border/30",children:[s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Tasa de churn: ",s.jsxs("span",{className:"font-medium text-foreground",children:[((ne=x==null?void 0:x.clientChurn)==null?void 0:ne.rate.toFixed(1))||0,"%"]})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Inactivos este mes"})]})]})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsx(Ue,{className:`cursor-pointer ${G.cardBg} ${G.cardBorder} border-2 shadow-sm hover:shadow-md transition-all`,onClick:()=>c("analyst"),children:s.jsxs(We,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:`text-sm font-medium ${G.titleColor} mb-1`,children:"Analista de Ventas"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Anlisis estratgico y recomendaciones"})]}),s.jsx("div",{className:`${G.iconBg} p-3 rounded-full`,children:s.jsx(cf,{className:`w-10 h-10 ${G.iconColor}`})})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Clientes a enfocar, productos a vender y estrategias"})]})}),s.jsx(Ue,{className:`cursor-pointer ${G.cardBg} ${G.cardBorder} border-2 shadow-sm hover:shadow-md transition-all`,onClick:()=>c("analytics"),children:s.jsxs(We,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:`text-sm font-medium ${G.titleColor} mb-1`,children:"Anlisis Histrico"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Tendencias 2022-2025"})]}),s.jsx("div",{className:`${G.iconBg} p-3 rounded-full`,children:s.jsx(Ua,{className:`w-10 h-10 ${G.iconColor}`})})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Comparativo multi-ao y anlisis de churn"})]})}),s.jsx(Ue,{className:`cursor-pointer ${G.cardBg} ${G.cardBorder} border-2 shadow-sm hover:shadow-md transition-all`,onClick:()=>c("comparison"),children:s.jsxs(We,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:`text-sm font-medium ${G.titleColor} mb-1`,children:"Comparativo Anual"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Ao actual vs anterior"})]}),s.jsx("div",{className:`${G.iconBg} p-3 rounded-full`,children:s.jsx(Pr,{className:`w-10 h-10 ${G.iconColor}`})})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Ver diferencial por cliente y detectar oportunidades"})]})}),s.jsx(Ue,{className:`cursor-pointer ${G.cardBg} ${G.cardBorder} border-2 shadow-sm hover:shadow-md transition-all`,onClick:()=>c("alerts"),children:s.jsxs(We,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:`text-sm font-medium ${G.titleColor} mb-1`,children:"Alertas y Seguimiento"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Clientes que requieren atencin"})]}),s.jsx("div",{className:`${G.iconBg} p-3 rounded-full`,children:s.jsx(Oa,{className:`w-10 h-10 ${G.iconColor}`})})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Clientes inactivos y con diferencial negativo"})]})}),s.jsx(Ue,{className:`cursor-pointer ${G.cardBg} ${G.cardBorder} border-2 shadow-sm hover:shadow-md transition-all`,onClick:()=>c("upload"),children:s.jsxs(We,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:`text-sm font-medium ${G.titleColor} mb-1`,children:"Cargar Datos"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Excel semanal de ventas"})]}),s.jsx("div",{className:`${G.iconBg} p-3 rounded-full`,children:s.jsx(O1,{className:`w-10 h-10 ${G.iconColor}`})})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Subir el reporte semanal para actualizar el anlisis"})]})})]}),s.jsx("div",{className:"mt-2",children:s.jsx(cge,{companyId:u})}),s.jsx("div",{className:"mt-6",children:s.jsx(z_,{companyId:u})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(Ue,{className:"border border-border/50",children:[s.jsxs(Vt,{className:"pb-4",children:[s.jsxs(an,{className:"text-base font-semibold flex items-center gap-2",children:[s.jsx(Pr,{className:"h-4 w-4 text-muted-foreground"}),"Tendencias Mensuales ",P]}),s.jsx(fi,{className:"text-xs",children:"Evolucin del volumen de ventas por mes"})]}),s.jsx(We,{children:T?s.jsx("div",{className:"h-64 flex items-center justify-center",children:s.jsx("div",{className:"animate-pulse text-gray-400",children:"Cargando grfico..."})}):!M||M.length===0?s.jsxs("div",{className:"h-64 flex flex-col items-center justify-center text-center",children:[s.jsx(Ua,{className:"h-12 w-12 text-gray-300 mb-4"}),s.jsx("p",{className:"text-gray-500",children:"No hay datos disponibles"}),s.jsxs(Oe,{onClick:()=>c("upload"),className:"mt-4",size:"sm",children:[s.jsx(Kl,{className:"mr-2 h-4 w-4"}),"Subir Datos"]})]}):s.jsx("div",{className:"h-64",children:s.jsx(kr,{width:"100%",height:"100%",children:s.jsxs(id,{data:M,children:[s.jsx(sa,{strokeDasharray:"3 3",opacity:.3}),s.jsx(vr,{dataKey:"month",tick:{fontSize:11},angle:-45,textAnchor:"end",height:80}),s.jsx(dr,{tick:{fontSize:11}}),s.jsx(mr,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",border:"1px solid #e5e7eb",borderRadius:"8px"},formatter:ue=>`${ue.toLocaleString("es-MX")} ${(x==null?void 0:x.unit)||""}`}),s.jsx(Ka,{}),s.jsx(oa,{type:"monotone",dataKey:"volume",stroke:"#3b82f6",strokeWidth:3,dot:{fill:"#3b82f6",r:4},activeDot:{r:6},name:"Volumen"}),s.jsx(oa,{type:"monotone",dataKey:"clients",stroke:"#10b981",strokeWidth:2,strokeDasharray:"5 5",dot:{fill:"#10b981",r:3},name:"Clientes Activos"})]})})})})]}),s.jsxs(Ue,{className:"border border-border/50",children:[s.jsxs(Vt,{className:"pb-4",children:[s.jsxs(an,{className:"text-base font-semibold flex items-center gap-2",children:[s.jsx(Ua,{className:"h-4 w-4 text-muted-foreground"}),"Volumen Mensual ",P]}),s.jsx(fi,{className:"text-xs",children:"Comparacin de volumen por mes del ao seleccionado"})]}),s.jsx(We,{children:T?s.jsx("div",{className:"h-64 flex items-center justify-center",children:s.jsx("div",{className:"animate-pulse text-gray-400",children:"Cargando grfico..."})}):!M||M.length===0?s.jsxs("div",{className:"h-64 flex flex-col items-center justify-center text-center",children:[s.jsx(_l,{className:"h-12 w-12 text-gray-300 mb-4"}),s.jsx("p",{className:"text-gray-500",children:"No hay datos disponibles"})]}):s.jsx("div",{className:"h-64",children:s.jsx(kr,{width:"100%",height:"100%",children:s.jsxs(dc,{data:M,children:[s.jsx(sa,{strokeDasharray:"3 3",opacity:.3}),s.jsx(vr,{dataKey:"month",tick:{fontSize:11},angle:-45,textAnchor:"end",height:80}),s.jsx(dr,{tick:{fontSize:11}}),s.jsx(mr,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",border:"1px solid #e5e7eb",borderRadius:"8px"},formatter:ue=>`${ue.toLocaleString("es-MX")} ${(x==null?void 0:x.unit)||""}`}),s.jsx(Yi,{dataKey:"volume",fill:"#10b981",radius:[4,4,0,0],name:"Volumen"})]})})})})]}),s.jsxs(Ue,{className:"border border-border/50",children:[s.jsxs(Vt,{className:"pb-4",children:[s.jsxs(an,{className:"text-base font-semibold flex items-center gap-2",children:[s.jsx(Fi,{className:"h-4 w-4 text-muted-foreground"}),"Top Clientes del Mes"]}),s.jsx(fi,{className:"text-xs",children:"Distribucin de volumen por cliente"})]}),s.jsx(We,{children:D?s.jsx("div",{className:"h-64 flex items-center justify-center",children:s.jsx("div",{className:"animate-pulse text-gray-400",children:"Cargando grfico..."})}):!R||R.length===0?s.jsxs("div",{className:"h-64 flex flex-col items-center justify-center text-center",children:[s.jsx(Fi,{className:"h-12 w-12 text-gray-300 mb-4"}),s.jsx("p",{className:"text-gray-500",children:"No hay datos de clientes disponibles"})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"h-64",children:s.jsx(kr,{width:"100%",height:"100%",children:s.jsxs(PF,{children:[s.jsx(hd,{data:R,cx:"50%",cy:"50%",labelLine:!1,label:({name:ue,percent:re})=>`${ue.substring(0,15)}${ue.length>15?"...":""} ${(re*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"volume",children:R.map((ue,re)=>{const Se=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6"];return s.jsx(gc,{fill:Se[re%Se.length]},`cell-${re}`)})}),s.jsx(mr,{formatter:ue=>{var re;return`${ue.toLocaleString("es-MX")} ${((re=R[0])==null?void 0:re.unit)||""}`}})]})})}),s.jsx("div",{className:"space-y-2",children:R.map((ue,re)=>{const Se=["hsl(var(--primary))","#10b981","#f59e0b","#ef4444","#8b5cf6"];return s.jsxs("div",{className:"flex items-center justify-between p-2.5 rounded-md border border-border/50 bg-muted/30",children:[s.jsxs("div",{className:"flex items-center gap-2.5",children:[s.jsx("div",{className:"w-2.5 h-2.5 rounded-full shrink-0",style:{backgroundColor:Se[re%Se.length]}}),s.jsx("span",{className:"text-sm font-medium text-foreground",children:ue.name})]}),s.jsxs("span",{className:"text-sm font-semibold text-foreground tabular-nums",children:[ue.volume.toLocaleString("es-MX")," ",ue.unit]})]},re)})})]})})]}),s.jsxs(Ue,{className:"border border-border/50",children:[s.jsxs(Vt,{className:"pb-4",children:[s.jsxs(an,{className:"text-base font-semibold flex items-center gap-2",children:[s.jsx(hh,{className:"h-4 w-4 text-muted-foreground"}),"Resumen ",P]}),s.jsx(fi,{className:"text-xs",children:"Mtricas clave del ao seleccionado"})]}),s.jsx(We,{children:w||T?s.jsx("div",{className:"h-64 flex items-center justify-center",children:s.jsx("div",{className:"animate-pulse text-gray-400",children:"Cargando datos..."})}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{className:"p-3 rounded-lg border border-border/50 bg-muted/30",children:[s.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Promedio Mensual"}),s.jsx("p",{className:"text-xl font-semibold text-foreground tabular-nums",children:M&&M.length>0?(M.reduce((ue,re)=>ue+re.volume,0)/M.length).toLocaleString("es-MX",{maximumFractionDigits:0}):"0"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:(x==null?void 0:x.unit)||""})]}),s.jsxs("div",{className:"p-3 rounded-lg border border-border/50 bg-muted/30",children:[s.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Mejor Mes"}),s.jsx("p",{className:"text-xl font-semibold text-foreground tabular-nums",children:M&&M.length>0?Math.max(...M.map(ue=>ue.volume)).toLocaleString("es-MX",{maximumFractionDigits:0}):"0"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:(x==null?void 0:x.unit)||""})]})]}),s.jsxs("div",{className:"p-3 rounded-lg border border-border/50 bg-muted/30",children:[s.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Total de Meses con Datos"}),s.jsx("p",{className:"text-2xl font-semibold text-foreground tabular-nums",children:(M==null?void 0:M.length)||0}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Ao ",P]})]}),s.jsxs(Oe,{onClick:()=>c("upload"),variant:"outline",className:"w-full",children:[s.jsx(Kl,{className:"mr-2 h-4 w-4"}),"Subir Nuevos Datos"]})]})})]})]})]}),l==="upload"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[s.jsx(Kl,{className:"h-6 w-6"}),"Subir Excel Semanal"]}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Arrastra y suelta o haz clic para seleccionar el archivo"})]}),s.jsxs(Oe,{variant:"outline",onClick:()=>{c("overview"),m(null)},className:"flex items-center gap-2",disabled:I.isPending,children:[s.jsx(zd,{className:"h-4 w-4"}),"Volver"]})]}),f?s.jsx(Ue,{className:"shadow-lg",children:s.jsx(We,{className:"pt-6",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-lg bg-green-100 dark:bg-green-900",children:s.jsx(O1,{className:"h-6 w-6 text-green-600 dark:text-green-400"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:f.name}),s.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[(f.size/1024/1024).toFixed(2)," MB"]})]})]}),s.jsx(Oe,{variant:"ghost",size:"sm",onClick:H,disabled:I.isPending,children:s.jsx(gj,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx(Oe,{onClick:Q,disabled:I.isPending,className:"flex-1 bg-primary hover:bg-primary/90 text-white",size:"lg",children:I.isPending?s.jsxs(s.Fragment,{children:[s.jsx(sr,{className:"mr-2 h-4 w-4 animate-spin"}),"Procesando..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Kl,{className:"mr-2 h-4 w-4"}),"Subir y Procesar"]})}),s.jsx(Oe,{variant:"outline",onClick:H,disabled:I.isPending,children:"Cancelar"})]}),I.isError&&s.jsx("div",{className:"p-4 bg-red-50 dark:bg-red-950 rounded-lg border border-red-200 dark:border-red-800",children:s.jsxs("p",{className:"text-sm text-red-800 dark:text-red-200",children:[s.jsx("strong",{children:"Error:"})," ",((xe=I.error)==null?void 0:xe.message)||"Error desconocido"]})})]})})}):s.jsx(Ue,{className:`shadow-lg border-2 border-dashed transition-all duration-300 ${h?"border-primary bg-primary/5 dark:bg-primary/10":"border-gray-300 dark:border-gray-700 hover:border-primary"}`,onDragOver:B,onDragLeave:$,onDrop:K,children:s.jsx(We,{className:"pt-12 pb-12",children:s.jsxs("div",{className:"flex flex-col items-center justify-center space-y-6",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/20 to-primary/5 rounded-full blur-2xl"}),s.jsx("div",{className:"relative p-8 rounded-full bg-gradient-to-br from-primary/10 to-primary/5",children:s.jsx(Kl,{className:"h-20 w-20 text-primary mx-auto"})})]}),s.jsxs("div",{className:"text-center space-y-2",children:[s.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Arrastra tu archivo aqu o haz clic para seleccionar"}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Formatos soportados: .xlsx, .xls (mximo 20MB)"})]}),s.jsx("input",{ref:i,type:"file",accept:".xlsx,.xls",onChange:Y,className:"hidden",id:"file-upload"}),s.jsx("label",{htmlFor:"file-upload",children:s.jsx(Oe,{size:"lg",className:"bg-primary hover:bg-primary/90 text-white shadow-lg hover:shadow-xl transition-all duration-300 cursor-pointer",asChild:!0,children:s.jsxs("span",{children:[s.jsx(O1,{className:"mr-2 h-5 w-5"}),"Seleccionar Archivo"]})})}),s.jsx("div",{className:"mt-8 p-4 bg-blue-50 dark:bg-blue-950 rounded-lg border border-blue-200 dark:border-blue-800 max-w-md",children:s.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-200 text-center",children:[s.jsx("strong",{children:"Nota:"})," El sistema procesar automticamente los datos y generar alertas. Asegrate de que el archivo tenga columnas: Cliente, Producto, Cantidad, Fecha."]})})]})})})]}),l==="comparison"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[s.jsx(Ua,{className:"h-6 w-6"}),"Anlisis Comparativo"]}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Comparacin ao actual vs ao anterior por cliente"})]}),s.jsxs(Oe,{variant:"outline",onClick:()=>c("overview"),className:"flex items-center gap-2",children:[s.jsx(zd,{className:"h-4 w-4"}),"Volver"]})]}),s.jsx(Ue,{className:"shadow-lg",children:s.jsx(We,{className:"pt-6",children:k?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Ua,{className:"h-16 w-16 text-gray-300 mx-auto mb-4 animate-pulse"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Cargando datos comparativos..."})]}):!S||S.length===0?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"text-center py-6",children:[s.jsx(Ua,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"No hay datos de comparativo por cliente an"})]}),s.jsx("div",{className:"pt-4 border-t",children:s.jsx(z_,{companyId:u})})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"h-96",children:s.jsx(kr,{width:"100%",height:"100%",children:s.jsxs(dc,{data:S.slice(0,10).map(ue=>({name:ue.client_name.length>15?ue.client_name.substring(0,15)+"...":ue.client_name,"Ao Anterior":parseFloat(ue.previous_year_total),"Ao Actual":parseFloat(ue.current_year_total),fullName:ue.client_name})),margin:{top:20,right:30,left:20,bottom:60},children:[s.jsx(sa,{strokeDasharray:"3 3",opacity:.3}),s.jsx(vr,{dataKey:"name",angle:-45,textAnchor:"end",height:100,tick:{fontSize:12}}),s.jsx(dr,{tick:{fontSize:12}}),s.jsx(mr,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",border:"1px solid #e5e7eb",borderRadius:"8px"},formatter:ue=>{var re;return`${ue.toLocaleString("es-MX")} ${((re=S[0])==null?void 0:re.unit)||""}`},labelFormatter:ue=>`Cliente: ${ue}`}),s.jsx(Ka,{}),s.jsx(Yi,{dataKey:"Ao Anterior",fill:"#94a3b8",radius:[4,4,0,0]}),s.jsx(Yi,{dataKey:"Ao Actual",fill:"#3b82f6",radius:[4,4,0,0]})]})})}),s.jsx("div",{className:"border rounded-lg overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{className:"bg-gradient-to-r from-gray-50 to-gray-100 dark:from-gray-800 dark:to-gray-900",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4 text-left font-bold text-gray-900 dark:text-white",children:"Cliente"}),s.jsx("th",{className:"px-6 py-4 text-right font-bold text-gray-900 dark:text-white",children:"Ao Anterior"}),s.jsx("th",{className:"px-6 py-4 text-right font-bold text-gray-900 dark:text-white",children:"Ao Actual"}),s.jsx("th",{className:"px-6 py-4 text-right font-bold text-gray-900 dark:text-white",children:"Diferencial"}),s.jsx("th",{className:"px-6 py-4 text-right font-bold text-gray-900 dark:text-white",children:"% Cambio"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:S.map((ue,re)=>{const Se=ue.differential<0,ae=ue.differential>=0&&ue.differential<ue.previous_year_total*.1,X=ue.differential>ue.previous_year_total*.1;return s.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",style:{animationDelay:`${re*50}ms`},children:[s.jsx("td",{className:"px-6 py-4 font-semibold text-gray-900 dark:text-white",children:ue.client_name}),s.jsxs("td",{className:"px-6 py-4 text-right text-gray-700 dark:text-gray-300",children:[parseFloat(ue.previous_year_total).toLocaleString("es-MX")," ",ue.unit]}),s.jsxs("td",{className:"px-6 py-4 text-right font-semibold text-gray-900 dark:text-white",children:[parseFloat(ue.current_year_total).toLocaleString("es-MX")," ",ue.unit]}),s.jsx("td",{className:`px-6 py-4 text-right font-bold ${Se?"text-red-600 dark:text-red-400":ae?"text-amber-600 dark:text-amber-400":"text-green-600 dark:text-green-400"}`,children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[ue.differential>=0?s.jsx(Pr,{className:"h-4 w-4"}):s.jsx(zs,{className:"h-4 w-4"}),ue.differential>=0?"+":"",parseFloat(ue.differential).toLocaleString("es-MX")," ",ue.unit]})}),s.jsx("td",{className:"px-6 py-4 text-right",children:ue.percent_change!==null?s.jsxs(Ct,{variant:Se?"destructive":X?"default":"secondary",className:"font-semibold",children:[ue.percent_change>=0?"+":"",ue.percent_change,"%"]}):s.jsx("span",{className:"text-gray-400",children:"N/A"})})]},ue.client_id)})})]})})}),s.jsx("div",{className:"mt-8 pt-6 border-t",children:s.jsx(z_,{companyId:u})})]})})})]}),l==="alerts"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[s.jsx(Oa,{className:"h-6 w-6 text-amber-500"}),"Alertas Activas"]}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Clientes que requieren seguimiento"})]}),s.jsxs(Oe,{variant:"outline",onClick:()=>c("overview"),className:"flex items-center gap-2",children:[s.jsx(zd,{className:"h-4 w-4"}),"Volver"]})]}),s.jsx(Ue,{className:"shadow-lg",children:s.jsx(We,{className:"pt-6",children:_?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Oa,{className:"h-16 w-16 text-gray-300 mx-auto mb-4 animate-pulse"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Cargando alertas..."})]}):!j||j.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 rounded-full bg-green-100 dark:bg-green-900 mb-4",children:s.jsx(Oa,{className:"h-10 w-10 text-green-500"})}),s.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"No hay alertas activas"}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Las alertas se generan automticamente al subir datos"})]}):s.jsx("div",{className:"space-y-4",children:j.map((ue,re)=>{const Se={critical:{border:"border-red-500",bg:"bg-red-50 dark:bg-red-950",icon:"text-red-500",badge:"destructive"},warning:{border:"border-amber-500",bg:"bg-amber-50 dark:bg-amber-950",icon:"text-amber-500",badge:"secondary"},default:{border:"border-blue-500",bg:"bg-blue-50 dark:bg-blue-950",icon:"text-blue-500",badge:"default"}},ae=Se[ue.severity]||Se.default;return s.jsxs(Ue,{className:`border-l-4 ${ae.border} ${ae.bg} shadow-md hover:shadow-lg transition-all duration-300 hover:scale-[1.02]`,style:{animationDelay:`${re*100}ms`},children:[s.jsx(Vt,{className:"pb-3",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:`p-3 rounded-lg ${ae.bg} border-2 ${ae.border}`,children:s.jsx(Oa,{className:`h-6 w-6 ${ae.icon} animate-pulse`})}),s.jsxs("div",{className:"flex-1",children:[s.jsx(an,{className:"text-lg font-bold text-gray-900 dark:text-white mb-2",children:ue.title}),s.jsx(fi,{className:"text-sm text-gray-700 dark:text-gray-300",children:ue.description})]})]}),s.jsx(Ct,{variant:ae.badge,className:"font-semibold",children:ue.alert_type==="inactive_client"?"Cliente Inactivo":ue.alert_type==="negative_differential"?"Diferencial Negativo":ue.alert_type})]})}),ue.client_name&&s.jsxs(We,{className:"pt-0",children:[s.jsxs("div",{className:"flex items-center gap-2 p-3 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700",children:[s.jsx(Fi,{className:"h-4 w-4 text-gray-500"}),s.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:[s.jsx("span",{className:"font-semibold",children:"Cliente:"})," ",ue.client_name]})]}),ue.data&&s.jsx("div",{className:"mt-3 p-3 bg-gray-50 dark:bg-gray-900 rounded-lg border border-gray-200 dark:border-gray-700",children:s.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 font-mono",children:JSON.stringify(ue.data,null,2)})})]})]},ue.id)})})})})]}),l==="analytics"&&s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs(Oe,{variant:"ghost",size:"sm",onClick:()=>c("overview"),className:"flex items-center gap-2",children:[s.jsx(zd,{className:"h-4 w-4"}),"Volver"]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Anlisis Histrico"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Tendencias multi-ao y anlisis de clientes (2022-2025)"})]})]})}),s.jsx(uge,{companyId:u}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsx(OEt,{companyId:u}),s.jsx(LEt,{companyId:u,limit:10})]}),s.jsx(z_,{companyId:u})]})]})})}function gPt(){return s.jsxs(aje,{children:[s.jsx(rs,{path:"/login",children:()=>s.jsx(Ydt,{})}),s.jsx(rs,{path:"/register",children:()=>s.jsx(Zdt,{})}),s.jsx(rs,{path:"/activate/:token",children:()=>s.jsx(o_t,{})}),s.jsx(rs,{path:"/",children:()=>s.jsx(Eo,{children:s.jsx(Wdt,{})})}),s.jsx(rs,{path:"/logistics",children:()=>s.jsx(Eo,{logisticsOnly:!0,children:s.jsx($gt,{})})}),s.jsx(rs,{path:"/shipments",children:()=>s.jsx(Eo,{children:s.jsx(QSt,{})})}),s.jsx(rs,{path:"/new-shipment",children:()=>s.jsx(Eo,{children:s.jsx(t5t,{})})}),s.jsx(rs,{path:"/trends-analysis",children:()=>s.jsx(Eo,{executiveOnly:!0,children:s.jsx(Wgt,{})})}),s.jsx(rs,{path:"/kpi-control",children:()=>s.jsx(Eo,{children:s.jsx(zNt,{})})}),s.jsx(rs,{path:"/team-management",children:()=>s.jsx(Eo,{adminOnly:!0,children:s.jsx(QY,{})})}),s.jsx(rs,{path:"/treasury",children:()=>s.jsx(Eo,{children:s.jsx(WO,{})})}),s.jsx(rs,{path:"/treasury/vouchers",children:()=>s.jsx(Eo,{children:s.jsx(WO,{})})}),s.jsx(rs,{path:"/treasury/exchange-rates",children:()=>s.jsx(Eo,{children:s.jsx(WO,{})})}),s.jsx(rs,{path:"/sales",children:()=>s.jsx(Eo,{children:s.jsx(ZO,{})})}),s.jsx(rs,{path:"/sales/dura",children:()=>s.jsx(Eo,{children:s.jsx(ZO,{})})}),s.jsx(rs,{path:"/sales/orsega",children:()=>s.jsx(Eo,{children:s.jsx(ZO,{})})}),s.jsx(rs,{path:"/mi-perfil",children:()=>s.jsx(Eo,{children:s.jsx(s_t,{})})}),s.jsx(rs,{path:"/system-admin",children:()=>s.jsx(Eo,{adminOnly:!0,children:s.jsx(QY,{})})}),s.jsx(rs,{children:()=>s.jsx(eSe,{})})]})}function vPt(){return s.jsx(NSe,{children:s.jsx(Sje,{client:ii,children:s.jsx(rSe,{attribute:"class",defaultTheme:"dark",children:s.jsx(fSe,{children:s.jsxs(mSe,{children:[s.jsx(J_e,{}),s.jsx(gPt,{}),s.jsx(ULe,{})]})})})})})}are(document.getElementById("root")).render(s.jsx(vPt,{}));export{Oe as B,b$ as C,j$ as D,oie as F,gt as I,y$ as O,$ce as P,Dce as R,KC as S,w$ as T,Jm as U,Ra as X,Jr as _,kE as a,pj as b,Fe as c,tc as d,Oa as e,YNe as f,Xa as g,s_e as h,Ct as i,s as j,kh as k,sp as l,er as m,Da as n,Ds as o,nu as p,ah as q,b as r,Ar as s};
