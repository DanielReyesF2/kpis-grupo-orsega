var nY=Object.defineProperty;var DT=e=>{throw TypeError(e)};var aY=(e,t,r)=>t in e?nY(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var z=(e,t,r)=>aY(e,typeof t!="symbol"?t+"":t,r),aw=(e,t,r)=>t.has(e)||DT("Cannot "+r);var F=(e,t,r)=>(aw(e,t,"read from private field"),r?r.call(e):t.get(e)),Be=(e,t,r)=>t.has(e)?DT("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Pe=(e,t,r,n)=>(aw(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),ct=(e,t,r)=>(aw(e,t,"access private method"),r);var fg=(e,t,r,n)=>({set _(a){Pe(e,t,a,r)},get _(){return F(e,t,n)}});function iY(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var hg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function $t(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var KF={exports:{}},o0={},qF={exports:{}},xt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ip=Symbol.for("react.element"),sY=Symbol.for("react.portal"),oY=Symbol.for("react.fragment"),lY=Symbol.for("react.strict_mode"),cY=Symbol.for("react.profiler"),uY=Symbol.for("react.provider"),dY=Symbol.for("react.context"),fY=Symbol.for("react.forward_ref"),hY=Symbol.for("react.suspense"),mY=Symbol.for("react.memo"),pY=Symbol.for("react.lazy"),MT=Symbol.iterator;function gY(e){return e===null||typeof e!="object"?null:(e=MT&&e[MT]||e["@@iterator"],typeof e=="function"?e:null)}var WF={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},HF=Object.assign,GF={};function tf(e,t,r){this.props=e,this.context=t,this.refs=GF,this.updater=r||WF}tf.prototype.isReactComponent={};tf.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};tf.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function XF(){}XF.prototype=tf.prototype;function TP(e,t,r){this.props=e,this.context=t,this.refs=GF,this.updater=r||WF}var _P=TP.prototype=new XF;_P.constructor=TP;HF(_P,tf.prototype);_P.isPureReactComponent=!0;var IT=Array.isArray,YF=Object.prototype.hasOwnProperty,OP={current:null},QF={key:!0,ref:!0,__self:!0,__source:!0};function ZF(e,t,r){var n,a={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)YF.call(t,n)&&!QF.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:Ip,type:e,key:i,ref:o,props:a,_owner:OP.current}}function vY(e,t){return{$$typeof:Ip,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function kP(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ip}function yY(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var RT=/\/+/g;function iw(e,t){return typeof e=="object"&&e!==null&&e.key!=null?yY(""+e.key):t.toString(36)}function uv(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Ip:case sY:o=!0}}if(o)return o=e,a=a(o),e=n===""?"."+iw(o,0):n,IT(a)?(r="",e!=null&&(r=e.replace(RT,"$&/")+"/"),uv(a,t,r,"",function(u){return u})):a!=null&&(kP(a)&&(a=vY(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(RT,"$&/")+"/")+e)),t.push(a)),1;if(o=0,n=n===""?".":n+":",IT(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+iw(i,l);o+=uv(i,t,r,c,a)}else if(c=gY(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+iw(i,l++),o+=uv(i,t,r,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function mg(e,t,r){if(e==null)return e;var n=[],a=0;return uv(e,n,"","",function(i){return t.call(r,i,a++)}),n}function xY(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ln={current:null},dv={transition:null},bY={ReactCurrentDispatcher:Ln,ReactCurrentBatchConfig:dv,ReactCurrentOwner:OP};function JF(){throw Error("act(...) is not supported in production builds of React.")}xt.Children={map:mg,forEach:function(e,t,r){mg(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return mg(e,function(){t++}),t},toArray:function(e){return mg(e,function(t){return t})||[]},only:function(e){if(!kP(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};xt.Component=tf;xt.Fragment=oY;xt.Profiler=cY;xt.PureComponent=TP;xt.StrictMode=lY;xt.Suspense=hY;xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bY;xt.act=JF;xt.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=HF({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=OP.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)YF.call(t,c)&&!QF.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Ip,type:e.type,key:a,ref:i,props:n,_owner:o}};xt.createContext=function(e){return e={$$typeof:dY,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:uY,_context:e},e.Consumer=e};xt.createElement=ZF;xt.createFactory=function(e){var t=ZF.bind(null,e);return t.type=e,t};xt.createRef=function(){return{current:null}};xt.forwardRef=function(e){return{$$typeof:fY,render:e}};xt.isValidElement=kP;xt.lazy=function(e){return{$$typeof:pY,_payload:{_status:-1,_result:e},_init:xY}};xt.memo=function(e,t){return{$$typeof:mY,type:e,compare:t===void 0?null:t}};xt.startTransition=function(e){var t=dv.transition;dv.transition={};try{e()}finally{dv.transition=t}};xt.unstable_act=JF;xt.useCallback=function(e,t){return Ln.current.useCallback(e,t)};xt.useContext=function(e){return Ln.current.useContext(e)};xt.useDebugValue=function(){};xt.useDeferredValue=function(e){return Ln.current.useDeferredValue(e)};xt.useEffect=function(e,t){return Ln.current.useEffect(e,t)};xt.useId=function(){return Ln.current.useId()};xt.useImperativeHandle=function(e,t,r){return Ln.current.useImperativeHandle(e,t,r)};xt.useInsertionEffect=function(e,t){return Ln.current.useInsertionEffect(e,t)};xt.useLayoutEffect=function(e,t){return Ln.current.useLayoutEffect(e,t)};xt.useMemo=function(e,t){return Ln.current.useMemo(e,t)};xt.useReducer=function(e,t,r){return Ln.current.useReducer(e,t,r)};xt.useRef=function(e){return Ln.current.useRef(e)};xt.useState=function(e){return Ln.current.useState(e)};xt.useSyncExternalStore=function(e,t,r){return Ln.current.useSyncExternalStore(e,t,r)};xt.useTransition=function(){return Ln.current.useTransition()};xt.version="18.3.1";qF.exports=xt;var v=qF.exports;const k=$t(v),e3=iY({__proto__:null,default:k},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wY=v,jY=Symbol.for("react.element"),SY=Symbol.for("react.fragment"),NY=Object.prototype.hasOwnProperty,PY=wY.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,CY={key:!0,ref:!0,__self:!0,__source:!0};function t3(e,t,r){var n,a={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)NY.call(t,n)&&!CY.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:jY,type:e,key:i,ref:o,props:a,_owner:PY.current}}o0.Fragment=SY;o0.jsx=t3;o0.jsxs=t3;KF.exports=o0;var s=KF.exports,r3={exports:{}},Pa={},n3={exports:{}},a3={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(D,I){var B=D.length;D.push(I);e:for(;0<B;){var Y=B-1>>>1,X=D[Y];if(0<a(X,I))D[Y]=I,D[B]=X,B=Y;else break e}}function r(D){return D.length===0?null:D[0]}function n(D){if(D.length===0)return null;var I=D[0],B=D.pop();if(B!==I){D[0]=B;e:for(var Y=0,X=D.length,oe=X>>>1;Y<oe;){var je=2*(Y+1)-1,Fe=D[je],Ae=je+1,me=D[Ae];if(0>a(Fe,B))Ae<X&&0>a(me,Fe)?(D[Y]=me,D[Ae]=B,Y=Ae):(D[Y]=Fe,D[je]=B,Y=je);else if(Ae<X&&0>a(me,B))D[Y]=me,D[Ae]=B,Y=Ae;else break e}}return I}function a(D,I){var B=D.sortIndex-I.sortIndex;return B!==0?B:D.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,h=3,p=!1,x=!1,m=!1,g=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(D){for(var I=r(u);I!==null;){if(I.callback===null)n(u);else if(I.startTime<=D)n(u),I.sortIndex=I.expirationTime,t(c,I);else break;I=r(u)}}function N(D){if(m=!1,b(D),!x)if(r(c)!==null)x=!0,R(j);else{var I=r(u);I!==null&&V(N,I.startTime-D)}}function j(D,I){x=!1,m&&(m=!1,w(C),C=-1),p=!0;var B=h;try{for(b(I),f=r(c);f!==null&&(!(f.expirationTime>I)||D&&!T());){var Y=f.callback;if(typeof Y=="function"){f.callback=null,h=f.priorityLevel;var X=Y(f.expirationTime<=I);I=e.unstable_now(),typeof X=="function"?f.callback=X:f===r(c)&&n(c),b(I)}else n(c);f=r(c)}if(f!==null)var oe=!0;else{var je=r(u);je!==null&&V(N,je.startTime-I),oe=!1}return oe}finally{f=null,h=B,p=!1}}var S=!1,P=null,C=-1,A=5,E=-1;function T(){return!(e.unstable_now()-E<A)}function _(){if(P!==null){var D=e.unstable_now();E=D;var I=!0;try{I=P(!0,D)}finally{I?O():(S=!1,P=null)}}else S=!1}var O;if(typeof y=="function")O=function(){y(_)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,L=M.port2;M.port1.onmessage=_,O=function(){L.postMessage(null)}}else O=function(){g(_,0)};function R(D){P=D,S||(S=!0,O())}function V(D,I){C=g(function(){D(e.unstable_now())},I)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){x||p||(x=!0,R(j))},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(D){switch(h){case 1:case 2:case 3:var I=3;break;default:I=h}var B=h;h=I;try{return D()}finally{h=B}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,I){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var B=h;h=D;try{return I()}finally{h=B}},e.unstable_scheduleCallback=function(D,I,B){var Y=e.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?Y+B:Y):B=Y,D){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=B+X,D={id:d++,callback:I,priorityLevel:D,startTime:B,expirationTime:X,sortIndex:-1},B>Y?(D.sortIndex=B,t(u,D),r(c)===null&&D===r(u)&&(m?(w(C),C=-1):m=!0,V(N,B-Y))):(D.sortIndex=X,t(c,D),x||p||(x=!0,R(j))),D},e.unstable_shouldYield=T,e.unstable_wrapCallback=function(D){var I=h;return function(){var B=h;h=I;try{return D.apply(this,arguments)}finally{h=B}}}})(a3);n3.exports=a3;var AY=n3.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EY=v,wa=AY;function se(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i3=new Set,tm={};function _c(e,t){nd(e,t),nd(e+"Capture",t)}function nd(e,t){for(tm[e]=t,e=0;e<t.length;e++)i3.add(t[e])}var Ls=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Yj=Object.prototype.hasOwnProperty,TY=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,$T={},LT={};function _Y(e){return Yj.call(LT,e)?!0:Yj.call($T,e)?!1:TY.test(e)?LT[e]=!0:($T[e]=!0,!1)}function OY(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function kY(e,t,r,n){if(t===null||typeof t>"u"||OY(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Fn(e,t,r,n,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var sn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){sn[e]=new Fn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];sn[t]=new Fn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){sn[e]=new Fn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){sn[e]=new Fn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){sn[e]=new Fn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){sn[e]=new Fn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){sn[e]=new Fn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){sn[e]=new Fn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){sn[e]=new Fn(e,5,!1,e.toLowerCase(),null,!1,!1)});var DP=/[\-:]([a-z])/g;function MP(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(DP,MP);sn[t]=new Fn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(DP,MP);sn[t]=new Fn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(DP,MP);sn[t]=new Fn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){sn[e]=new Fn(e,1,!1,e.toLowerCase(),null,!1,!1)});sn.xlinkHref=new Fn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){sn[e]=new Fn(e,1,!1,e.toLowerCase(),null,!0,!0)});function IP(e,t,r,n){var a=sn.hasOwnProperty(t)?sn[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(kY(t,r,a,n)&&(r=null),n||a===null?_Y(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Xs=EY.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,pg=Symbol.for("react.element"),eu=Symbol.for("react.portal"),tu=Symbol.for("react.fragment"),RP=Symbol.for("react.strict_mode"),Qj=Symbol.for("react.profiler"),s3=Symbol.for("react.provider"),o3=Symbol.for("react.context"),$P=Symbol.for("react.forward_ref"),Zj=Symbol.for("react.suspense"),Jj=Symbol.for("react.suspense_list"),LP=Symbol.for("react.memo"),ho=Symbol.for("react.lazy"),l3=Symbol.for("react.offscreen"),FT=Symbol.iterator;function zf(e){return e===null||typeof e!="object"?null:(e=FT&&e[FT]||e["@@iterator"],typeof e=="function"?e:null)}var lr=Object.assign,sw;function hh(e){if(sw===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);sw=t&&t[1]||""}return`
`+sw+e}var ow=!1;function lw(e,t){if(!e||ow)return"";ow=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),i=n.stack.split(`
`),o=a.length-1,l=i.length-1;1<=o&&0<=l&&a[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==i[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{ow=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?hh(e):""}function DY(e){switch(e.tag){case 5:return hh(e.type);case 16:return hh("Lazy");case 13:return hh("Suspense");case 19:return hh("SuspenseList");case 0:case 2:case 15:return e=lw(e.type,!1),e;case 11:return e=lw(e.type.render,!1),e;case 1:return e=lw(e.type,!0),e;default:return""}}function e1(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case tu:return"Fragment";case eu:return"Portal";case Qj:return"Profiler";case RP:return"StrictMode";case Zj:return"Suspense";case Jj:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case o3:return(e.displayName||"Context")+".Consumer";case s3:return(e._context.displayName||"Context")+".Provider";case $P:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case LP:return t=e.displayName||null,t!==null?t:e1(e.type)||"Memo";case ho:t=e._payload,e=e._init;try{return e1(e(t))}catch{}}return null}function MY(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return e1(t);case 8:return t===RP?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Go(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function c3(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function IY(e){var t=c3(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function gg(e){e._valueTracker||(e._valueTracker=IY(e))}function u3(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=c3(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Dv(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function t1(e,t){var r=t.checked;return lr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function VT(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Go(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function d3(e,t){t=t.checked,t!=null&&IP(e,"checked",t,!1)}function r1(e,t){d3(e,t);var r=Go(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?n1(e,t.type,r):t.hasOwnProperty("defaultValue")&&n1(e,t.type,Go(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function zT(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function n1(e,t,r){(t!=="number"||Dv(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var mh=Array.isArray;function ju(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Go(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function a1(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(se(91));return lr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function BT(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(se(92));if(mh(r)){if(1<r.length)throw Error(se(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Go(r)}}function f3(e,t){var r=Go(t.value),n=Go(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function UT(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function h3(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function i1(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?h3(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var vg,m3=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(vg=vg||document.createElement("div"),vg.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=vg.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function rm(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Th={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},RY=["Webkit","ms","Moz","O"];Object.keys(Th).forEach(function(e){RY.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Th[t]=Th[e]})});function p3(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Th.hasOwnProperty(e)&&Th[e]?(""+t).trim():t+"px"}function g3(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=p3(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var $Y=lr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function s1(e,t){if(t){if($Y[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(se(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(se(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(se(61))}if(t.style!=null&&typeof t.style!="object")throw Error(se(62))}}function o1(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var l1=null;function FP(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var c1=null,Su=null,Nu=null;function KT(e){if(e=Lp(e)){if(typeof c1!="function")throw Error(se(280));var t=e.stateNode;t&&(t=f0(t),c1(e.stateNode,e.type,t))}}function v3(e){Su?Nu?Nu.push(e):Nu=[e]:Su=e}function y3(){if(Su){var e=Su,t=Nu;if(Nu=Su=null,KT(e),t)for(e=0;e<t.length;e++)KT(t[e])}}function x3(e,t){return e(t)}function b3(){}var cw=!1;function w3(e,t,r){if(cw)return e(t,r);cw=!0;try{return x3(e,t,r)}finally{cw=!1,(Su!==null||Nu!==null)&&(b3(),y3())}}function nm(e,t){var r=e.stateNode;if(r===null)return null;var n=f0(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(se(231,t,typeof r));return r}var u1=!1;if(Ls)try{var Bf={};Object.defineProperty(Bf,"passive",{get:function(){u1=!0}}),window.addEventListener("test",Bf,Bf),window.removeEventListener("test",Bf,Bf)}catch{u1=!1}function LY(e,t,r,n,a,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var _h=!1,Mv=null,Iv=!1,d1=null,FY={onError:function(e){_h=!0,Mv=e}};function VY(e,t,r,n,a,i,o,l,c){_h=!1,Mv=null,LY.apply(FY,arguments)}function zY(e,t,r,n,a,i,o,l,c){if(VY.apply(this,arguments),_h){if(_h){var u=Mv;_h=!1,Mv=null}else throw Error(se(198));Iv||(Iv=!0,d1=u)}}function Oc(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function j3(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function qT(e){if(Oc(e)!==e)throw Error(se(188))}function BY(e){var t=e.alternate;if(!t){if(t=Oc(e),t===null)throw Error(se(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return qT(a),e;if(i===n)return qT(a),t;i=i.sibling}throw Error(se(188))}if(r.return!==n.return)r=a,n=i;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,n=i;break}if(l===n){o=!0,n=a,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=a;break}if(l===n){o=!0,n=i,r=a;break}l=l.sibling}if(!o)throw Error(se(189))}}if(r.alternate!==n)throw Error(se(190))}if(r.tag!==3)throw Error(se(188));return r.stateNode.current===r?e:t}function S3(e){return e=BY(e),e!==null?N3(e):null}function N3(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=N3(e);if(t!==null)return t;e=e.sibling}return null}var P3=wa.unstable_scheduleCallback,WT=wa.unstable_cancelCallback,UY=wa.unstable_shouldYield,KY=wa.unstable_requestPaint,yr=wa.unstable_now,qY=wa.unstable_getCurrentPriorityLevel,VP=wa.unstable_ImmediatePriority,C3=wa.unstable_UserBlockingPriority,Rv=wa.unstable_NormalPriority,WY=wa.unstable_LowPriority,A3=wa.unstable_IdlePriority,l0=null,Xi=null;function HY(e){if(Xi&&typeof Xi.onCommitFiberRoot=="function")try{Xi.onCommitFiberRoot(l0,e,void 0,(e.current.flags&128)===128)}catch{}}var xi=Math.clz32?Math.clz32:YY,GY=Math.log,XY=Math.LN2;function YY(e){return e>>>=0,e===0?32:31-(GY(e)/XY|0)|0}var yg=64,xg=4194304;function ph(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function $v(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~a;l!==0?n=ph(l):(i&=o,i!==0&&(n=ph(i)))}else o=r&~a,o!==0?n=ph(o):i!==0&&(n=ph(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-xi(t),a=1<<r,n|=e[r],t&=~a;return n}function QY(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ZY(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-xi(i),l=1<<o,c=a[o];c===-1?(!(l&r)||l&n)&&(a[o]=QY(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function f1(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function E3(){var e=yg;return yg<<=1,!(yg&4194240)&&(yg=64),e}function uw(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Rp(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-xi(t),e[t]=r}function JY(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-xi(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}function zP(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-xi(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var Mt=0;function T3(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var _3,BP,O3,k3,D3,h1=!1,bg=[],Ro=null,$o=null,Lo=null,am=new Map,im=new Map,vo=[],eQ="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function HT(e,t){switch(e){case"focusin":case"focusout":Ro=null;break;case"dragenter":case"dragleave":$o=null;break;case"mouseover":case"mouseout":Lo=null;break;case"pointerover":case"pointerout":am.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":im.delete(t.pointerId)}}function Uf(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=Lp(t),t!==null&&BP(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function tQ(e,t,r,n,a){switch(t){case"focusin":return Ro=Uf(Ro,e,t,r,n,a),!0;case"dragenter":return $o=Uf($o,e,t,r,n,a),!0;case"mouseover":return Lo=Uf(Lo,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return am.set(i,Uf(am.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,im.set(i,Uf(im.get(i)||null,e,t,r,n,a)),!0}return!1}function M3(e){var t=Dl(e.target);if(t!==null){var r=Oc(t);if(r!==null){if(t=r.tag,t===13){if(t=j3(r),t!==null){e.blockedOn=t,D3(e.priority,function(){O3(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function fv(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=m1(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);l1=n,r.target.dispatchEvent(n),l1=null}else return t=Lp(r),t!==null&&BP(t),e.blockedOn=r,!1;t.shift()}return!0}function GT(e,t,r){fv(e)&&r.delete(t)}function rQ(){h1=!1,Ro!==null&&fv(Ro)&&(Ro=null),$o!==null&&fv($o)&&($o=null),Lo!==null&&fv(Lo)&&(Lo=null),am.forEach(GT),im.forEach(GT)}function Kf(e,t){e.blockedOn===t&&(e.blockedOn=null,h1||(h1=!0,wa.unstable_scheduleCallback(wa.unstable_NormalPriority,rQ)))}function sm(e){function t(a){return Kf(a,e)}if(0<bg.length){Kf(bg[0],e);for(var r=1;r<bg.length;r++){var n=bg[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Ro!==null&&Kf(Ro,e),$o!==null&&Kf($o,e),Lo!==null&&Kf(Lo,e),am.forEach(t),im.forEach(t),r=0;r<vo.length;r++)n=vo[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<vo.length&&(r=vo[0],r.blockedOn===null);)M3(r),r.blockedOn===null&&vo.shift()}var Pu=Xs.ReactCurrentBatchConfig,Lv=!0;function nQ(e,t,r,n){var a=Mt,i=Pu.transition;Pu.transition=null;try{Mt=1,UP(e,t,r,n)}finally{Mt=a,Pu.transition=i}}function aQ(e,t,r,n){var a=Mt,i=Pu.transition;Pu.transition=null;try{Mt=4,UP(e,t,r,n)}finally{Mt=a,Pu.transition=i}}function UP(e,t,r,n){if(Lv){var a=m1(e,t,r,n);if(a===null)bw(e,t,n,Fv,r),HT(e,n);else if(tQ(a,e,t,r,n))n.stopPropagation();else if(HT(e,n),t&4&&-1<eQ.indexOf(e)){for(;a!==null;){var i=Lp(a);if(i!==null&&_3(i),i=m1(e,t,r,n),i===null&&bw(e,t,n,Fv,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else bw(e,t,n,null,r)}}var Fv=null;function m1(e,t,r,n){if(Fv=null,e=FP(n),e=Dl(e),e!==null)if(t=Oc(e),t===null)e=null;else if(r=t.tag,r===13){if(e=j3(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Fv=e,null}function I3(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(qY()){case VP:return 1;case C3:return 4;case Rv:case WY:return 16;case A3:return 536870912;default:return 16}default:return 16}}var Oo=null,KP=null,hv=null;function R3(){if(hv)return hv;var e,t=KP,r=t.length,n,a="value"in Oo?Oo.value:Oo.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===a[i-n];n++);return hv=a.slice(e,1<n?1-n:void 0)}function mv(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function wg(){return!0}function XT(){return!1}function Ca(e){function t(r,n,a,i,o){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?wg:XT,this.isPropagationStopped=XT,this}return lr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=wg)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=wg)},persist:function(){},isPersistent:wg}),t}var rf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qP=Ca(rf),$p=lr({},rf,{view:0,detail:0}),iQ=Ca($p),dw,fw,qf,c0=lr({},$p,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:WP,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==qf&&(qf&&e.type==="mousemove"?(dw=e.screenX-qf.screenX,fw=e.screenY-qf.screenY):fw=dw=0,qf=e),dw)},movementY:function(e){return"movementY"in e?e.movementY:fw}}),YT=Ca(c0),sQ=lr({},c0,{dataTransfer:0}),oQ=Ca(sQ),lQ=lr({},$p,{relatedTarget:0}),hw=Ca(lQ),cQ=lr({},rf,{animationName:0,elapsedTime:0,pseudoElement:0}),uQ=Ca(cQ),dQ=lr({},rf,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),fQ=Ca(dQ),hQ=lr({},rf,{data:0}),QT=Ca(hQ),mQ={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pQ={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gQ={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vQ(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=gQ[e])?!!t[e]:!1}function WP(){return vQ}var yQ=lr({},$p,{key:function(e){if(e.key){var t=mQ[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=mv(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?pQ[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:WP,charCode:function(e){return e.type==="keypress"?mv(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?mv(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),xQ=Ca(yQ),bQ=lr({},c0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ZT=Ca(bQ),wQ=lr({},$p,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:WP}),jQ=Ca(wQ),SQ=lr({},rf,{propertyName:0,elapsedTime:0,pseudoElement:0}),NQ=Ca(SQ),PQ=lr({},c0,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),CQ=Ca(PQ),AQ=[9,13,27,32],HP=Ls&&"CompositionEvent"in window,Oh=null;Ls&&"documentMode"in document&&(Oh=document.documentMode);var EQ=Ls&&"TextEvent"in window&&!Oh,$3=Ls&&(!HP||Oh&&8<Oh&&11>=Oh),JT=" ",e_=!1;function L3(e,t){switch(e){case"keyup":return AQ.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function F3(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ru=!1;function TQ(e,t){switch(e){case"compositionend":return F3(t);case"keypress":return t.which!==32?null:(e_=!0,JT);case"textInput":return e=t.data,e===JT&&e_?null:e;default:return null}}function _Q(e,t){if(ru)return e==="compositionend"||!HP&&L3(e,t)?(e=R3(),hv=KP=Oo=null,ru=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return $3&&t.locale!=="ko"?null:t.data;default:return null}}var OQ={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function t_(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!OQ[e.type]:t==="textarea"}function V3(e,t,r,n){v3(n),t=Vv(t,"onChange"),0<t.length&&(r=new qP("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var kh=null,om=null;function kQ(e){Q3(e,0)}function u0(e){var t=iu(e);if(u3(t))return e}function DQ(e,t){if(e==="change")return t}var z3=!1;if(Ls){var mw;if(Ls){var pw="oninput"in document;if(!pw){var r_=document.createElement("div");r_.setAttribute("oninput","return;"),pw=typeof r_.oninput=="function"}mw=pw}else mw=!1;z3=mw&&(!document.documentMode||9<document.documentMode)}function n_(){kh&&(kh.detachEvent("onpropertychange",B3),om=kh=null)}function B3(e){if(e.propertyName==="value"&&u0(om)){var t=[];V3(t,om,e,FP(e)),w3(kQ,t)}}function MQ(e,t,r){e==="focusin"?(n_(),kh=t,om=r,kh.attachEvent("onpropertychange",B3)):e==="focusout"&&n_()}function IQ(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return u0(om)}function RQ(e,t){if(e==="click")return u0(t)}function $Q(e,t){if(e==="input"||e==="change")return u0(t)}function LQ(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ji=typeof Object.is=="function"?Object.is:LQ;function lm(e,t){if(ji(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!Yj.call(t,a)||!ji(e[a],t[a]))return!1}return!0}function a_(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function i_(e,t){var r=a_(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=a_(r)}}function U3(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?U3(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function K3(){for(var e=window,t=Dv();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Dv(e.document)}return t}function GP(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function FQ(e){var t=K3(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&U3(r.ownerDocument.documentElement,r)){if(n!==null&&GP(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=i_(r,i);var o=i_(r,n);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var VQ=Ls&&"documentMode"in document&&11>=document.documentMode,nu=null,p1=null,Dh=null,g1=!1;function s_(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;g1||nu==null||nu!==Dv(n)||(n=nu,"selectionStart"in n&&GP(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Dh&&lm(Dh,n)||(Dh=n,n=Vv(p1,"onSelect"),0<n.length&&(t=new qP("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=nu)))}function jg(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var au={animationend:jg("Animation","AnimationEnd"),animationiteration:jg("Animation","AnimationIteration"),animationstart:jg("Animation","AnimationStart"),transitionend:jg("Transition","TransitionEnd")},gw={},q3={};Ls&&(q3=document.createElement("div").style,"AnimationEvent"in window||(delete au.animationend.animation,delete au.animationiteration.animation,delete au.animationstart.animation),"TransitionEvent"in window||delete au.transitionend.transition);function d0(e){if(gw[e])return gw[e];if(!au[e])return e;var t=au[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in q3)return gw[e]=t[r];return e}var W3=d0("animationend"),H3=d0("animationiteration"),G3=d0("animationstart"),X3=d0("transitionend"),Y3=new Map,o_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ll(e,t){Y3.set(e,t),_c(t,[e])}for(var vw=0;vw<o_.length;vw++){var yw=o_[vw],zQ=yw.toLowerCase(),BQ=yw[0].toUpperCase()+yw.slice(1);ll(zQ,"on"+BQ)}ll(W3,"onAnimationEnd");ll(H3,"onAnimationIteration");ll(G3,"onAnimationStart");ll("dblclick","onDoubleClick");ll("focusin","onFocus");ll("focusout","onBlur");ll(X3,"onTransitionEnd");nd("onMouseEnter",["mouseout","mouseover"]);nd("onMouseLeave",["mouseout","mouseover"]);nd("onPointerEnter",["pointerout","pointerover"]);nd("onPointerLeave",["pointerout","pointerover"]);_c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));_c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));_c("onBeforeInput",["compositionend","keypress","textInput","paste"]);_c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));_c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));_c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),UQ=new Set("cancel close invalid load scroll toggle".split(" ").concat(gh));function l_(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,zY(n,t,void 0,e),e.currentTarget=null}function Q3(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&a.isPropagationStopped())break e;l_(a,l,u),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&a.isPropagationStopped())break e;l_(a,l,u),i=c}}}if(Iv)throw e=d1,Iv=!1,d1=null,e}function qt(e,t){var r=t[w1];r===void 0&&(r=t[w1]=new Set);var n=e+"__bubble";r.has(n)||(Z3(t,e,2,!1),r.add(n))}function xw(e,t,r){var n=0;t&&(n|=4),Z3(r,e,n,t)}var Sg="_reactListening"+Math.random().toString(36).slice(2);function cm(e){if(!e[Sg]){e[Sg]=!0,i3.forEach(function(r){r!=="selectionchange"&&(UQ.has(r)||xw(r,!1,e),xw(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Sg]||(t[Sg]=!0,xw("selectionchange",!1,t))}}function Z3(e,t,r,n){switch(I3(t)){case 1:var a=nQ;break;case 4:a=aQ;break;default:a=UP}r=a.bind(null,t,r,e),a=void 0,!u1||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function bw(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=Dl(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}w3(function(){var u=i,d=FP(r),f=[];e:{var h=Y3.get(e);if(h!==void 0){var p=qP,x=e;switch(e){case"keypress":if(mv(r)===0)break e;case"keydown":case"keyup":p=xQ;break;case"focusin":x="focus",p=hw;break;case"focusout":x="blur",p=hw;break;case"beforeblur":case"afterblur":p=hw;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=YT;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=oQ;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=jQ;break;case W3:case H3:case G3:p=uQ;break;case X3:p=NQ;break;case"scroll":p=iQ;break;case"wheel":p=CQ;break;case"copy":case"cut":case"paste":p=fQ;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=ZT}var m=(t&4)!==0,g=!m&&e==="scroll",w=m?h!==null?h+"Capture":null:h;m=[];for(var y=u,b;y!==null;){b=y;var N=b.stateNode;if(b.tag===5&&N!==null&&(b=N,w!==null&&(N=nm(y,w),N!=null&&m.push(um(y,N,b)))),g)break;y=y.return}0<m.length&&(h=new p(h,x,null,r,d),f.push({event:h,listeners:m}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==l1&&(x=r.relatedTarget||r.fromElement)&&(Dl(x)||x[Fs]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(x=r.relatedTarget||r.toElement,p=u,x=x?Dl(x):null,x!==null&&(g=Oc(x),x!==g||x.tag!==5&&x.tag!==6)&&(x=null)):(p=null,x=u),p!==x)){if(m=YT,N="onMouseLeave",w="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(m=ZT,N="onPointerLeave",w="onPointerEnter",y="pointer"),g=p==null?h:iu(p),b=x==null?h:iu(x),h=new m(N,y+"leave",p,r,d),h.target=g,h.relatedTarget=b,N=null,Dl(d)===u&&(m=new m(w,y+"enter",x,r,d),m.target=b,m.relatedTarget=g,N=m),g=N,p&&x)t:{for(m=p,w=x,y=0,b=m;b;b=zc(b))y++;for(b=0,N=w;N;N=zc(N))b++;for(;0<y-b;)m=zc(m),y--;for(;0<b-y;)w=zc(w),b--;for(;y--;){if(m===w||w!==null&&m===w.alternate)break t;m=zc(m),w=zc(w)}m=null}else m=null;p!==null&&c_(f,h,p,m,!1),x!==null&&g!==null&&c_(f,g,x,m,!0)}}e:{if(h=u?iu(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var j=DQ;else if(t_(h))if(z3)j=$Q;else{j=IQ;var S=MQ}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(j=RQ);if(j&&(j=j(e,u))){V3(f,j,r,d);break e}S&&S(e,h,u),e==="focusout"&&(S=h._wrapperState)&&S.controlled&&h.type==="number"&&n1(h,"number",h.value)}switch(S=u?iu(u):window,e){case"focusin":(t_(S)||S.contentEditable==="true")&&(nu=S,p1=u,Dh=null);break;case"focusout":Dh=p1=nu=null;break;case"mousedown":g1=!0;break;case"contextmenu":case"mouseup":case"dragend":g1=!1,s_(f,r,d);break;case"selectionchange":if(VQ)break;case"keydown":case"keyup":s_(f,r,d)}var P;if(HP)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else ru?L3(e,r)&&(C="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(C="onCompositionStart");C&&($3&&r.locale!=="ko"&&(ru||C!=="onCompositionStart"?C==="onCompositionEnd"&&ru&&(P=R3()):(Oo=d,KP="value"in Oo?Oo.value:Oo.textContent,ru=!0)),S=Vv(u,C),0<S.length&&(C=new QT(C,e,null,r,d),f.push({event:C,listeners:S}),P?C.data=P:(P=F3(r),P!==null&&(C.data=P)))),(P=EQ?TQ(e,r):_Q(e,r))&&(u=Vv(u,"onBeforeInput"),0<u.length&&(d=new QT("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=P))}Q3(f,t)})}function um(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Vv(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=nm(e,r),i!=null&&n.unshift(um(e,i,a)),i=nm(e,t),i!=null&&n.push(um(e,i,a))),e=e.return}return n}function zc(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function c_(e,t,r,n,a){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,a?(c=nm(r,i),c!=null&&o.unshift(um(r,c,l))):a||(c=nm(r,i),c!=null&&o.push(um(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var KQ=/\r\n?/g,qQ=/\u0000|\uFFFD/g;function u_(e){return(typeof e=="string"?e:""+e).replace(KQ,`
`).replace(qQ,"")}function Ng(e,t,r){if(t=u_(t),u_(e)!==t&&r)throw Error(se(425))}function zv(){}var v1=null,y1=null;function x1(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var b1=typeof setTimeout=="function"?setTimeout:void 0,WQ=typeof clearTimeout=="function"?clearTimeout:void 0,d_=typeof Promise=="function"?Promise:void 0,HQ=typeof queueMicrotask=="function"?queueMicrotask:typeof d_<"u"?function(e){return d_.resolve(null).then(e).catch(GQ)}:b1;function GQ(e){setTimeout(function(){throw e})}function ww(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),sm(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);sm(t)}function Fo(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function f_(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var nf=Math.random().toString(36).slice(2),zi="__reactFiber$"+nf,dm="__reactProps$"+nf,Fs="__reactContainer$"+nf,w1="__reactEvents$"+nf,XQ="__reactListeners$"+nf,YQ="__reactHandles$"+nf;function Dl(e){var t=e[zi];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Fs]||r[zi]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=f_(e);e!==null;){if(r=e[zi])return r;e=f_(e)}return t}e=r,r=e.parentNode}return null}function Lp(e){return e=e[zi]||e[Fs],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function iu(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(se(33))}function f0(e){return e[dm]||null}var j1=[],su=-1;function cl(e){return{current:e}}function Gt(e){0>su||(e.current=j1[su],j1[su]=null,su--)}function Bt(e,t){su++,j1[su]=e.current,e.current=t}var Xo={},xn=cl(Xo),Yn=cl(!1),ic=Xo;function ad(e,t){var r=e.type.contextTypes;if(!r)return Xo;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Qn(e){return e=e.childContextTypes,e!=null}function Bv(){Gt(Yn),Gt(xn)}function h_(e,t,r){if(xn.current!==Xo)throw Error(se(168));Bt(xn,t),Bt(Yn,r)}function J3(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(se(108,MY(e)||"Unknown",a));return lr({},r,n)}function Uv(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Xo,ic=xn.current,Bt(xn,e),Bt(Yn,Yn.current),!0}function m_(e,t,r){var n=e.stateNode;if(!n)throw Error(se(169));r?(e=J3(e,t,ic),n.__reactInternalMemoizedMergedChildContext=e,Gt(Yn),Gt(xn),Bt(xn,e)):Gt(Yn),Bt(Yn,r)}var js=null,h0=!1,jw=!1;function e5(e){js===null?js=[e]:js.push(e)}function QQ(e){h0=!0,e5(e)}function ul(){if(!jw&&js!==null){jw=!0;var e=0,t=Mt;try{var r=js;for(Mt=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}js=null,h0=!1}catch(a){throw js!==null&&(js=js.slice(e+1)),P3(VP,ul),a}finally{Mt=t,jw=!1}}return null}var ou=[],lu=0,Kv=null,qv=0,La=[],Fa=0,sc=null,Ps=1,Cs="";function Nl(e,t){ou[lu++]=qv,ou[lu++]=Kv,Kv=e,qv=t}function t5(e,t,r){La[Fa++]=Ps,La[Fa++]=Cs,La[Fa++]=sc,sc=e;var n=Ps;e=Cs;var a=32-xi(n)-1;n&=~(1<<a),r+=1;var i=32-xi(t)+a;if(30<i){var o=a-a%5;i=(n&(1<<o)-1).toString(32),n>>=o,a-=o,Ps=1<<32-xi(t)+a|r<<a|n,Cs=i+e}else Ps=1<<i|r<<a|n,Cs=e}function XP(e){e.return!==null&&(Nl(e,1),t5(e,1,0))}function YP(e){for(;e===Kv;)Kv=ou[--lu],ou[lu]=null,qv=ou[--lu],ou[lu]=null;for(;e===sc;)sc=La[--Fa],La[Fa]=null,Cs=La[--Fa],La[Fa]=null,Ps=La[--Fa],La[Fa]=null}var pa=null,ma=null,Zt=!1,fi=null;function r5(e,t){var r=Va(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function p_(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,pa=e,ma=Fo(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,pa=e,ma=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=sc!==null?{id:Ps,overflow:Cs}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Va(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,pa=e,ma=null,!0):!1;default:return!1}}function S1(e){return(e.mode&1)!==0&&(e.flags&128)===0}function N1(e){if(Zt){var t=ma;if(t){var r=t;if(!p_(e,t)){if(S1(e))throw Error(se(418));t=Fo(r.nextSibling);var n=pa;t&&p_(e,t)?r5(n,r):(e.flags=e.flags&-4097|2,Zt=!1,pa=e)}}else{if(S1(e))throw Error(se(418));e.flags=e.flags&-4097|2,Zt=!1,pa=e}}}function g_(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;pa=e}function Pg(e){if(e!==pa)return!1;if(!Zt)return g_(e),Zt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!x1(e.type,e.memoizedProps)),t&&(t=ma)){if(S1(e))throw n5(),Error(se(418));for(;t;)r5(e,t),t=Fo(t.nextSibling)}if(g_(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(se(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){ma=Fo(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}ma=null}}else ma=pa?Fo(e.stateNode.nextSibling):null;return!0}function n5(){for(var e=ma;e;)e=Fo(e.nextSibling)}function id(){ma=pa=null,Zt=!1}function QP(e){fi===null?fi=[e]:fi.push(e)}var ZQ=Xs.ReactCurrentBatchConfig;function Wf(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(se(309));var n=r.stateNode}if(!n)throw Error(se(147,e));var a=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=a.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(se(284));if(!r._owner)throw Error(se(290,e))}return e}function Cg(e,t){throw e=Object.prototype.toString.call(t),Error(se(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function v_(e){var t=e._init;return t(e._payload)}function a5(e){function t(w,y){if(e){var b=w.deletions;b===null?(w.deletions=[y],w.flags|=16):b.push(y)}}function r(w,y){if(!e)return null;for(;y!==null;)t(w,y),y=y.sibling;return null}function n(w,y){for(w=new Map;y!==null;)y.key!==null?w.set(y.key,y):w.set(y.index,y),y=y.sibling;return w}function a(w,y){return w=Uo(w,y),w.index=0,w.sibling=null,w}function i(w,y,b){return w.index=b,e?(b=w.alternate,b!==null?(b=b.index,b<y?(w.flags|=2,y):b):(w.flags|=2,y)):(w.flags|=1048576,y)}function o(w){return e&&w.alternate===null&&(w.flags|=2),w}function l(w,y,b,N){return y===null||y.tag!==6?(y=Tw(b,w.mode,N),y.return=w,y):(y=a(y,b),y.return=w,y)}function c(w,y,b,N){var j=b.type;return j===tu?d(w,y,b.props.children,N,b.key):y!==null&&(y.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===ho&&v_(j)===y.type)?(N=a(y,b.props),N.ref=Wf(w,y,b),N.return=w,N):(N=wv(b.type,b.key,b.props,null,w.mode,N),N.ref=Wf(w,y,b),N.return=w,N)}function u(w,y,b,N){return y===null||y.tag!==4||y.stateNode.containerInfo!==b.containerInfo||y.stateNode.implementation!==b.implementation?(y=_w(b,w.mode,N),y.return=w,y):(y=a(y,b.children||[]),y.return=w,y)}function d(w,y,b,N,j){return y===null||y.tag!==7?(y=Jl(b,w.mode,N,j),y.return=w,y):(y=a(y,b),y.return=w,y)}function f(w,y,b){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Tw(""+y,w.mode,b),y.return=w,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case pg:return b=wv(y.type,y.key,y.props,null,w.mode,b),b.ref=Wf(w,null,y),b.return=w,b;case eu:return y=_w(y,w.mode,b),y.return=w,y;case ho:var N=y._init;return f(w,N(y._payload),b)}if(mh(y)||zf(y))return y=Jl(y,w.mode,b,null),y.return=w,y;Cg(w,y)}return null}function h(w,y,b,N){var j=y!==null?y.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return j!==null?null:l(w,y,""+b,N);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case pg:return b.key===j?c(w,y,b,N):null;case eu:return b.key===j?u(w,y,b,N):null;case ho:return j=b._init,h(w,y,j(b._payload),N)}if(mh(b)||zf(b))return j!==null?null:d(w,y,b,N,null);Cg(w,b)}return null}function p(w,y,b,N,j){if(typeof N=="string"&&N!==""||typeof N=="number")return w=w.get(b)||null,l(y,w,""+N,j);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case pg:return w=w.get(N.key===null?b:N.key)||null,c(y,w,N,j);case eu:return w=w.get(N.key===null?b:N.key)||null,u(y,w,N,j);case ho:var S=N._init;return p(w,y,b,S(N._payload),j)}if(mh(N)||zf(N))return w=w.get(b)||null,d(y,w,N,j,null);Cg(y,N)}return null}function x(w,y,b,N){for(var j=null,S=null,P=y,C=y=0,A=null;P!==null&&C<b.length;C++){P.index>C?(A=P,P=null):A=P.sibling;var E=h(w,P,b[C],N);if(E===null){P===null&&(P=A);break}e&&P&&E.alternate===null&&t(w,P),y=i(E,y,C),S===null?j=E:S.sibling=E,S=E,P=A}if(C===b.length)return r(w,P),Zt&&Nl(w,C),j;if(P===null){for(;C<b.length;C++)P=f(w,b[C],N),P!==null&&(y=i(P,y,C),S===null?j=P:S.sibling=P,S=P);return Zt&&Nl(w,C),j}for(P=n(w,P);C<b.length;C++)A=p(P,w,C,b[C],N),A!==null&&(e&&A.alternate!==null&&P.delete(A.key===null?C:A.key),y=i(A,y,C),S===null?j=A:S.sibling=A,S=A);return e&&P.forEach(function(T){return t(w,T)}),Zt&&Nl(w,C),j}function m(w,y,b,N){var j=zf(b);if(typeof j!="function")throw Error(se(150));if(b=j.call(b),b==null)throw Error(se(151));for(var S=j=null,P=y,C=y=0,A=null,E=b.next();P!==null&&!E.done;C++,E=b.next()){P.index>C?(A=P,P=null):A=P.sibling;var T=h(w,P,E.value,N);if(T===null){P===null&&(P=A);break}e&&P&&T.alternate===null&&t(w,P),y=i(T,y,C),S===null?j=T:S.sibling=T,S=T,P=A}if(E.done)return r(w,P),Zt&&Nl(w,C),j;if(P===null){for(;!E.done;C++,E=b.next())E=f(w,E.value,N),E!==null&&(y=i(E,y,C),S===null?j=E:S.sibling=E,S=E);return Zt&&Nl(w,C),j}for(P=n(w,P);!E.done;C++,E=b.next())E=p(P,w,C,E.value,N),E!==null&&(e&&E.alternate!==null&&P.delete(E.key===null?C:E.key),y=i(E,y,C),S===null?j=E:S.sibling=E,S=E);return e&&P.forEach(function(_){return t(w,_)}),Zt&&Nl(w,C),j}function g(w,y,b,N){if(typeof b=="object"&&b!==null&&b.type===tu&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case pg:e:{for(var j=b.key,S=y;S!==null;){if(S.key===j){if(j=b.type,j===tu){if(S.tag===7){r(w,S.sibling),y=a(S,b.props.children),y.return=w,w=y;break e}}else if(S.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===ho&&v_(j)===S.type){r(w,S.sibling),y=a(S,b.props),y.ref=Wf(w,S,b),y.return=w,w=y;break e}r(w,S);break}else t(w,S);S=S.sibling}b.type===tu?(y=Jl(b.props.children,w.mode,N,b.key),y.return=w,w=y):(N=wv(b.type,b.key,b.props,null,w.mode,N),N.ref=Wf(w,y,b),N.return=w,w=N)}return o(w);case eu:e:{for(S=b.key;y!==null;){if(y.key===S)if(y.tag===4&&y.stateNode.containerInfo===b.containerInfo&&y.stateNode.implementation===b.implementation){r(w,y.sibling),y=a(y,b.children||[]),y.return=w,w=y;break e}else{r(w,y);break}else t(w,y);y=y.sibling}y=_w(b,w.mode,N),y.return=w,w=y}return o(w);case ho:return S=b._init,g(w,y,S(b._payload),N)}if(mh(b))return x(w,y,b,N);if(zf(b))return m(w,y,b,N);Cg(w,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,y!==null&&y.tag===6?(r(w,y.sibling),y=a(y,b),y.return=w,w=y):(r(w,y),y=Tw(b,w.mode,N),y.return=w,w=y),o(w)):r(w,y)}return g}var sd=a5(!0),i5=a5(!1),Wv=cl(null),Hv=null,cu=null,ZP=null;function JP(){ZP=cu=Hv=null}function eC(e){var t=Wv.current;Gt(Wv),e._currentValue=t}function P1(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Cu(e,t){Hv=e,ZP=cu=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Hn=!0),e.firstContext=null)}function Ga(e){var t=e._currentValue;if(ZP!==e)if(e={context:e,memoizedValue:t,next:null},cu===null){if(Hv===null)throw Error(se(308));cu=e,Hv.dependencies={lanes:0,firstContext:e}}else cu=cu.next=e;return t}var Ml=null;function tC(e){Ml===null?Ml=[e]:Ml.push(e)}function s5(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,tC(t)):(r.next=a.next,a.next=r),t.interleaved=r,Vs(e,n)}function Vs(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var mo=!1;function rC(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function o5(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function _s(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Vo(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,St&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,Vs(e,r)}return a=n.interleaved,a===null?(t.next=t,tC(n)):(t.next=a.next,a.next=t),n.interleaved=t,Vs(e,r)}function pv(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,zP(e,r)}}function y_(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Gv(e,t,r,n){var a=e.updateQueue;mo=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=a.baseState;o=0,d=u=c=null,l=i;do{var h=l.lane,p=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=e,m=l;switch(h=t,p=r,m.tag){case 1:if(x=m.payload,typeof x=="function"){f=x.call(p,f,h);break e}f=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=m.payload,h=typeof x=="function"?x.call(p,f,h):x,h==null)break e;f=lr({},f,h);break e;case 2:mo=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[l]:h.push(l))}else p={eventTime:p,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,c=f):d=d.next=p,o|=h;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;h=l,l=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(d===null&&(c=f),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);lc|=o,e.lanes=o,e.memoizedState=f}}function x_(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(se(191,a));a.call(n)}}}var Fp={},Yi=cl(Fp),fm=cl(Fp),hm=cl(Fp);function Il(e){if(e===Fp)throw Error(se(174));return e}function nC(e,t){switch(Bt(hm,t),Bt(fm,e),Bt(Yi,Fp),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:i1(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=i1(t,e)}Gt(Yi),Bt(Yi,t)}function od(){Gt(Yi),Gt(fm),Gt(hm)}function l5(e){Il(hm.current);var t=Il(Yi.current),r=i1(t,e.type);t!==r&&(Bt(fm,e),Bt(Yi,r))}function aC(e){fm.current===e&&(Gt(Yi),Gt(fm))}var ir=cl(0);function Xv(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Sw=[];function iC(){for(var e=0;e<Sw.length;e++)Sw[e]._workInProgressVersionPrimary=null;Sw.length=0}var gv=Xs.ReactCurrentDispatcher,Nw=Xs.ReactCurrentBatchConfig,oc=0,or=null,_r=null,Br=null,Yv=!1,Mh=!1,mm=0,JQ=0;function ln(){throw Error(se(321))}function sC(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!ji(e[r],t[r]))return!1;return!0}function oC(e,t,r,n,a,i){if(oc=i,or=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,gv.current=e===null||e.memoizedState===null?nZ:aZ,e=r(n,a),Mh){i=0;do{if(Mh=!1,mm=0,25<=i)throw Error(se(301));i+=1,Br=_r=null,t.updateQueue=null,gv.current=iZ,e=r(n,a)}while(Mh)}if(gv.current=Qv,t=_r!==null&&_r.next!==null,oc=0,Br=_r=or=null,Yv=!1,t)throw Error(se(300));return e}function lC(){var e=mm!==0;return mm=0,e}function Ri(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Br===null?or.memoizedState=Br=e:Br=Br.next=e,Br}function Xa(){if(_r===null){var e=or.alternate;e=e!==null?e.memoizedState:null}else e=_r.next;var t=Br===null?or.memoizedState:Br.next;if(t!==null)Br=t,_r=e;else{if(e===null)throw Error(se(310));_r=e,e={memoizedState:_r.memoizedState,baseState:_r.baseState,baseQueue:_r.baseQueue,queue:_r.queue,next:null},Br===null?or.memoizedState=Br=e:Br=Br.next=e}return Br}function pm(e,t){return typeof t=="function"?t(e):t}function Pw(e){var t=Xa(),r=t.queue;if(r===null)throw Error(se(311));r.lastRenderedReducer=e;var n=_r,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((oc&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=n):c=c.next=f,or.lanes|=d,lc|=d}u=u.next}while(u!==null&&u!==i);c===null?o=n:c.next=l,ji(n,t.memoizedState)||(Hn=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do i=a.lane,or.lanes|=i,lc|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Cw(e){var t=Xa(),r=t.queue;if(r===null)throw Error(se(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);ji(i,t.memoizedState)||(Hn=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function c5(){}function u5(e,t){var r=or,n=Xa(),a=t(),i=!ji(n.memoizedState,a);if(i&&(n.memoizedState=a,Hn=!0),n=n.queue,cC(h5.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Br!==null&&Br.memoizedState.tag&1){if(r.flags|=2048,gm(9,f5.bind(null,r,n,a,t),void 0,null),qr===null)throw Error(se(349));oc&30||d5(r,t,a)}return a}function d5(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=or.updateQueue,t===null?(t={lastEffect:null,stores:null},or.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function f5(e,t,r,n){t.value=r,t.getSnapshot=n,m5(t)&&p5(e)}function h5(e,t,r){return r(function(){m5(t)&&p5(e)})}function m5(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!ji(e,r)}catch{return!0}}function p5(e){var t=Vs(e,1);t!==null&&bi(t,e,1,-1)}function b_(e){var t=Ri();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:pm,lastRenderedState:e},t.queue=e,e=e.dispatch=rZ.bind(null,or,e),[t.memoizedState,e]}function gm(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=or.updateQueue,t===null?(t={lastEffect:null,stores:null},or.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function g5(){return Xa().memoizedState}function vv(e,t,r,n){var a=Ri();or.flags|=e,a.memoizedState=gm(1|t,r,void 0,n===void 0?null:n)}function m0(e,t,r,n){var a=Xa();n=n===void 0?null:n;var i=void 0;if(_r!==null){var o=_r.memoizedState;if(i=o.destroy,n!==null&&sC(n,o.deps)){a.memoizedState=gm(t,r,i,n);return}}or.flags|=e,a.memoizedState=gm(1|t,r,i,n)}function w_(e,t){return vv(8390656,8,e,t)}function cC(e,t){return m0(2048,8,e,t)}function v5(e,t){return m0(4,2,e,t)}function y5(e,t){return m0(4,4,e,t)}function x5(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function b5(e,t,r){return r=r!=null?r.concat([e]):null,m0(4,4,x5.bind(null,t,e),r)}function uC(){}function w5(e,t){var r=Xa();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&sC(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function j5(e,t){var r=Xa();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&sC(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function S5(e,t,r){return oc&21?(ji(r,t)||(r=E3(),or.lanes|=r,lc|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Hn=!0),e.memoizedState=r)}function eZ(e,t){var r=Mt;Mt=r!==0&&4>r?r:4,e(!0);var n=Nw.transition;Nw.transition={};try{e(!1),t()}finally{Mt=r,Nw.transition=n}}function N5(){return Xa().memoizedState}function tZ(e,t,r){var n=Bo(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},P5(e))C5(t,r);else if(r=s5(e,t,r,n),r!==null){var a=Dn();bi(r,e,n,a),A5(r,t,n)}}function rZ(e,t,r){var n=Bo(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(P5(e))C5(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(a.hasEagerState=!0,a.eagerState=l,ji(l,o)){var c=t.interleaved;c===null?(a.next=a,tC(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=s5(e,t,a,n),r!==null&&(a=Dn(),bi(r,e,n,a),A5(r,t,n))}}function P5(e){var t=e.alternate;return e===or||t!==null&&t===or}function C5(e,t){Mh=Yv=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function A5(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,zP(e,r)}}var Qv={readContext:Ga,useCallback:ln,useContext:ln,useEffect:ln,useImperativeHandle:ln,useInsertionEffect:ln,useLayoutEffect:ln,useMemo:ln,useReducer:ln,useRef:ln,useState:ln,useDebugValue:ln,useDeferredValue:ln,useTransition:ln,useMutableSource:ln,useSyncExternalStore:ln,useId:ln,unstable_isNewReconciler:!1},nZ={readContext:Ga,useCallback:function(e,t){return Ri().memoizedState=[e,t===void 0?null:t],e},useContext:Ga,useEffect:w_,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,vv(4194308,4,x5.bind(null,t,e),r)},useLayoutEffect:function(e,t){return vv(4194308,4,e,t)},useInsertionEffect:function(e,t){return vv(4,2,e,t)},useMemo:function(e,t){var r=Ri();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Ri();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=tZ.bind(null,or,e),[n.memoizedState,e]},useRef:function(e){var t=Ri();return e={current:e},t.memoizedState=e},useState:b_,useDebugValue:uC,useDeferredValue:function(e){return Ri().memoizedState=e},useTransition:function(){var e=b_(!1),t=e[0];return e=eZ.bind(null,e[1]),Ri().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=or,a=Ri();if(Zt){if(r===void 0)throw Error(se(407));r=r()}else{if(r=t(),qr===null)throw Error(se(349));oc&30||d5(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,w_(h5.bind(null,n,i,e),[e]),n.flags|=2048,gm(9,f5.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Ri(),t=qr.identifierPrefix;if(Zt){var r=Cs,n=Ps;r=(n&~(1<<32-xi(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=mm++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=JQ++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},aZ={readContext:Ga,useCallback:w5,useContext:Ga,useEffect:cC,useImperativeHandle:b5,useInsertionEffect:v5,useLayoutEffect:y5,useMemo:j5,useReducer:Pw,useRef:g5,useState:function(){return Pw(pm)},useDebugValue:uC,useDeferredValue:function(e){var t=Xa();return S5(t,_r.memoizedState,e)},useTransition:function(){var e=Pw(pm)[0],t=Xa().memoizedState;return[e,t]},useMutableSource:c5,useSyncExternalStore:u5,useId:N5,unstable_isNewReconciler:!1},iZ={readContext:Ga,useCallback:w5,useContext:Ga,useEffect:cC,useImperativeHandle:b5,useInsertionEffect:v5,useLayoutEffect:y5,useMemo:j5,useReducer:Cw,useRef:g5,useState:function(){return Cw(pm)},useDebugValue:uC,useDeferredValue:function(e){var t=Xa();return _r===null?t.memoizedState=e:S5(t,_r.memoizedState,e)},useTransition:function(){var e=Cw(pm)[0],t=Xa().memoizedState;return[e,t]},useMutableSource:c5,useSyncExternalStore:u5,useId:N5,unstable_isNewReconciler:!1};function oi(e,t){if(e&&e.defaultProps){t=lr({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function C1(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:lr({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var p0={isMounted:function(e){return(e=e._reactInternals)?Oc(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Dn(),a=Bo(e),i=_s(n,a);i.payload=t,r!=null&&(i.callback=r),t=Vo(e,i,a),t!==null&&(bi(t,e,a,n),pv(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Dn(),a=Bo(e),i=_s(n,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Vo(e,i,a),t!==null&&(bi(t,e,a,n),pv(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Dn(),n=Bo(e),a=_s(r,n);a.tag=2,t!=null&&(a.callback=t),t=Vo(e,a,n),t!==null&&(bi(t,e,n,r),pv(t,e,n))}};function j_(e,t,r,n,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!lm(r,n)||!lm(a,i):!0}function E5(e,t,r){var n=!1,a=Xo,i=t.contextType;return typeof i=="object"&&i!==null?i=Ga(i):(a=Qn(t)?ic:xn.current,n=t.contextTypes,i=(n=n!=null)?ad(e,a):Xo),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=p0,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function S_(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&p0.enqueueReplaceState(t,t.state,null)}function A1(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},rC(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=Ga(i):(i=Qn(t)?ic:xn.current,a.context=ad(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(C1(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&p0.enqueueReplaceState(a,a.state,null),Gv(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function ld(e,t){try{var r="",n=t;do r+=DY(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function Aw(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function E1(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var sZ=typeof WeakMap=="function"?WeakMap:Map;function T5(e,t,r){r=_s(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Jv||(Jv=!0,L1=n),E1(e,t)},r}function _5(e,t,r){r=_s(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){E1(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){E1(e,t),typeof n!="function"&&(zo===null?zo=new Set([this]):zo.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function N_(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new sZ;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=bZ.bind(null,e,t,r),t.then(e,e))}function P_(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function C_(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=_s(-1,1),t.tag=2,Vo(r,t,1))),r.lanes|=1),e)}var oZ=Xs.ReactCurrentOwner,Hn=!1;function Tn(e,t,r,n){t.child=e===null?i5(t,null,r,n):sd(t,e.child,r,n)}function A_(e,t,r,n,a){r=r.render;var i=t.ref;return Cu(t,a),n=oC(e,t,r,n,i,a),r=lC(),e!==null&&!Hn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,zs(e,t,a)):(Zt&&r&&XP(t),t.flags|=1,Tn(e,t,n,a),t.child)}function E_(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!yC(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,O5(e,t,i,n,a)):(e=wv(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:lm,r(o,n)&&e.ref===t.ref)return zs(e,t,a)}return t.flags|=1,e=Uo(i,n),e.ref=t.ref,e.return=t,t.child=e}function O5(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(lm(i,n)&&e.ref===t.ref)if(Hn=!1,t.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&(Hn=!0);else return t.lanes=e.lanes,zs(e,t,a)}return T1(e,t,r,n,a)}function k5(e,t,r){var n=t.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Bt(du,la),la|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Bt(du,la),la|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Bt(du,la),la|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,Bt(du,la),la|=n;return Tn(e,t,a,r),t.child}function D5(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function T1(e,t,r,n,a){var i=Qn(r)?ic:xn.current;return i=ad(t,i),Cu(t,a),r=oC(e,t,r,n,i,a),n=lC(),e!==null&&!Hn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,zs(e,t,a)):(Zt&&n&&XP(t),t.flags|=1,Tn(e,t,r,a),t.child)}function T_(e,t,r,n,a){if(Qn(r)){var i=!0;Uv(t)}else i=!1;if(Cu(t,a),t.stateNode===null)yv(e,t),E5(t,r,n),A1(t,r,n,a),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Ga(u):(u=Qn(r)?ic:xn.current,u=ad(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&S_(t,o,n,u),mo=!1;var h=t.memoizedState;o.state=h,Gv(t,n,o,a),c=t.memoizedState,l!==n||h!==c||Yn.current||mo?(typeof d=="function"&&(C1(t,r,d,n),c=t.memoizedState),(l=mo||j_(t,r,l,n,h,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,o5(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:oi(t.type,l),o.props=u,f=t.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Ga(c):(c=Qn(r)?ic:xn.current,c=ad(t,c));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==c)&&S_(t,o,n,c),mo=!1,h=t.memoizedState,o.state=h,Gv(t,n,o,a);var x=t.memoizedState;l!==f||h!==x||Yn.current||mo?(typeof p=="function"&&(C1(t,r,p,n),x=t.memoizedState),(u=mo||j_(t,r,u,n,h,x,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,x,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,x,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=x),o.props=n,o.state=x,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return _1(e,t,r,n,i,a)}function _1(e,t,r,n,a,i){D5(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return a&&m_(t,r,!1),zs(e,t,i);n=t.stateNode,oZ.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=sd(t,e.child,null,i),t.child=sd(t,null,l,i)):Tn(e,t,l,i),t.memoizedState=n.state,a&&m_(t,r,!0),t.child}function M5(e){var t=e.stateNode;t.pendingContext?h_(e,t.pendingContext,t.pendingContext!==t.context):t.context&&h_(e,t.context,!1),nC(e,t.containerInfo)}function __(e,t,r,n,a){return id(),QP(a),t.flags|=256,Tn(e,t,r,n),t.child}var O1={dehydrated:null,treeContext:null,retryLane:0};function k1(e){return{baseLanes:e,cachePool:null,transitions:null}}function I5(e,t,r){var n=t.pendingProps,a=ir.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Bt(ir,a&1),e===null)return N1(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=y0(o,n,0,null),e=Jl(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=k1(r),t.memoizedState=O1,e):dC(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return lZ(e,t,o,n,l,a,r);if(i){i=n.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Uo(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?i=Uo(l,i):(i=Jl(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?k1(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=O1,n}return i=e.child,e=i.sibling,n=Uo(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function dC(e,t){return t=y0({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ag(e,t,r,n){return n!==null&&QP(n),sd(t,e.child,null,r),e=dC(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function lZ(e,t,r,n,a,i,o){if(r)return t.flags&256?(t.flags&=-257,n=Aw(Error(se(422))),Ag(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=y0({mode:"visible",children:n.children},a,0,null),i=Jl(i,a,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&sd(t,e.child,null,o),t.child.memoizedState=k1(o),t.memoizedState=O1,i);if(!(t.mode&1))return Ag(e,t,o,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(se(419)),n=Aw(i,n,void 0),Ag(e,t,o,n)}if(l=(o&e.childLanes)!==0,Hn||l){if(n=qr,n!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,Vs(e,a),bi(n,e,a,-1))}return vC(),n=Aw(Error(se(421))),Ag(e,t,o,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=wZ.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,ma=Fo(a.nextSibling),pa=t,Zt=!0,fi=null,e!==null&&(La[Fa++]=Ps,La[Fa++]=Cs,La[Fa++]=sc,Ps=e.id,Cs=e.overflow,sc=t),t=dC(t,n.children),t.flags|=4096,t)}function O_(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),P1(e.return,t,r)}function Ew(e,t,r,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function R5(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(Tn(e,t,n.children,r),n=ir.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&O_(e,r,t);else if(e.tag===19)O_(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Bt(ir,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&Xv(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),Ew(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Xv(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}Ew(t,!0,r,null,i);break;case"together":Ew(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function yv(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function zs(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),lc|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(se(153));if(t.child!==null){for(e=t.child,r=Uo(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Uo(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function cZ(e,t,r){switch(t.tag){case 3:M5(t),id();break;case 5:l5(t);break;case 1:Qn(t.type)&&Uv(t);break;case 4:nC(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;Bt(Wv,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Bt(ir,ir.current&1),t.flags|=128,null):r&t.child.childLanes?I5(e,t,r):(Bt(ir,ir.current&1),e=zs(e,t,r),e!==null?e.sibling:null);Bt(ir,ir.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return R5(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Bt(ir,ir.current),n)break;return null;case 22:case 23:return t.lanes=0,k5(e,t,r)}return zs(e,t,r)}var $5,D1,L5,F5;$5=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};D1=function(){};L5=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,Il(Yi.current);var i=null;switch(r){case"input":a=t1(e,a),n=t1(e,n),i=[];break;case"select":a=lr({},a,{value:void 0}),n=lr({},n,{value:void 0}),i=[];break;case"textarea":a=a1(e,a),n=a1(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=zv)}s1(r,n);var o;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var l=a[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(tm.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(tm.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&qt("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};F5=function(e,t,r,n){r!==n&&(t.flags|=4)};function Hf(e,t){if(!Zt)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function cn(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function uZ(e,t,r){var n=t.pendingProps;switch(YP(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return cn(t),null;case 1:return Qn(t.type)&&Bv(),cn(t),null;case 3:return n=t.stateNode,od(),Gt(Yn),Gt(xn),iC(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Pg(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,fi!==null&&(z1(fi),fi=null))),D1(e,t),cn(t),null;case 5:aC(t);var a=Il(hm.current);if(r=t.type,e!==null&&t.stateNode!=null)L5(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(se(166));return cn(t),null}if(e=Il(Yi.current),Pg(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[zi]=t,n[dm]=i,e=(t.mode&1)!==0,r){case"dialog":qt("cancel",n),qt("close",n);break;case"iframe":case"object":case"embed":qt("load",n);break;case"video":case"audio":for(a=0;a<gh.length;a++)qt(gh[a],n);break;case"source":qt("error",n);break;case"img":case"image":case"link":qt("error",n),qt("load",n);break;case"details":qt("toggle",n);break;case"input":VT(n,i),qt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},qt("invalid",n);break;case"textarea":BT(n,i),qt("invalid",n)}s1(r,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&Ng(n.textContent,l,e),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Ng(n.textContent,l,e),a=["children",""+l]):tm.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&qt("scroll",n)}switch(r){case"input":gg(n),zT(n,i,!0);break;case"textarea":gg(n),UT(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=zv)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=h3(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[zi]=t,e[dm]=n,$5(e,t,!1,!1),t.stateNode=e;e:{switch(o=o1(r,n),r){case"dialog":qt("cancel",e),qt("close",e),a=n;break;case"iframe":case"object":case"embed":qt("load",e),a=n;break;case"video":case"audio":for(a=0;a<gh.length;a++)qt(gh[a],e);a=n;break;case"source":qt("error",e),a=n;break;case"img":case"image":case"link":qt("error",e),qt("load",e),a=n;break;case"details":qt("toggle",e),a=n;break;case"input":VT(e,n),a=t1(e,n),qt("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=lr({},n,{value:void 0}),qt("invalid",e);break;case"textarea":BT(e,n),a=a1(e,n),qt("invalid",e);break;default:a=n}s1(r,a),l=a;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?g3(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&m3(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&rm(e,c):typeof c=="number"&&rm(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(tm.hasOwnProperty(i)?c!=null&&i==="onScroll"&&qt("scroll",e):c!=null&&IP(e,i,c,o))}switch(r){case"input":gg(e),zT(e,n,!1);break;case"textarea":gg(e),UT(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Go(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?ju(e,!!n.multiple,i,!1):n.defaultValue!=null&&ju(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=zv)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return cn(t),null;case 6:if(e&&t.stateNode!=null)F5(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(se(166));if(r=Il(hm.current),Il(Yi.current),Pg(t)){if(n=t.stateNode,r=t.memoizedProps,n[zi]=t,(i=n.nodeValue!==r)&&(e=pa,e!==null))switch(e.tag){case 3:Ng(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ng(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[zi]=t,t.stateNode=n}return cn(t),null;case 13:if(Gt(ir),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Zt&&ma!==null&&t.mode&1&&!(t.flags&128))n5(),id(),t.flags|=98560,i=!1;else if(i=Pg(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(se(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(se(317));i[zi]=t}else id(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;cn(t),i=!1}else fi!==null&&(z1(fi),fi=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||ir.current&1?Mr===0&&(Mr=3):vC())),t.updateQueue!==null&&(t.flags|=4),cn(t),null);case 4:return od(),D1(e,t),e===null&&cm(t.stateNode.containerInfo),cn(t),null;case 10:return eC(t.type._context),cn(t),null;case 17:return Qn(t.type)&&Bv(),cn(t),null;case 19:if(Gt(ir),i=t.memoizedState,i===null)return cn(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)Hf(i,!1);else{if(Mr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Xv(e),o!==null){for(t.flags|=128,Hf(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Bt(ir,ir.current&1|2),t.child}e=e.sibling}i.tail!==null&&yr()>cd&&(t.flags|=128,n=!0,Hf(i,!1),t.lanes=4194304)}else{if(!n)if(e=Xv(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Hf(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Zt)return cn(t),null}else 2*yr()-i.renderingStartTime>cd&&r!==1073741824&&(t.flags|=128,n=!0,Hf(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=yr(),t.sibling=null,r=ir.current,Bt(ir,n?r&1|2:r&1),t):(cn(t),null);case 22:case 23:return gC(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?la&1073741824&&(cn(t),t.subtreeFlags&6&&(t.flags|=8192)):cn(t),null;case 24:return null;case 25:return null}throw Error(se(156,t.tag))}function dZ(e,t){switch(YP(t),t.tag){case 1:return Qn(t.type)&&Bv(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return od(),Gt(Yn),Gt(xn),iC(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return aC(t),null;case 13:if(Gt(ir),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(se(340));id()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Gt(ir),null;case 4:return od(),null;case 10:return eC(t.type._context),null;case 22:case 23:return gC(),null;case 24:return null;default:return null}}var Eg=!1,pn=!1,fZ=typeof WeakSet=="function"?WeakSet:Set,Te=null;function uu(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){fr(e,t,n)}else r.current=null}function M1(e,t,r){try{r()}catch(n){fr(e,t,n)}}var k_=!1;function hZ(e,t){if(v1=Lv,e=K3(),GP(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==r||a!==0&&f.nodeType!==3||(l=o+a),f!==i||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===r&&++u===a&&(l=o),h===i&&++d===n&&(c=o),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(y1={focusedElem:e,selectionRange:r},Lv=!1,Te=t;Te!==null;)if(t=Te,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Te=e;else for(;Te!==null;){t=Te;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var m=x.memoizedProps,g=x.memoizedState,w=t.stateNode,y=w.getSnapshotBeforeUpdate(t.elementType===t.type?m:oi(t.type,m),g);w.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(se(163))}}catch(N){fr(t,t.return,N)}if(e=t.sibling,e!==null){e.return=t.return,Te=e;break}Te=t.return}return x=k_,k_=!1,x}function Ih(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&M1(t,r,i)}a=a.next}while(a!==n)}}function g0(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function I1(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function V5(e){var t=e.alternate;t!==null&&(e.alternate=null,V5(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[zi],delete t[dm],delete t[w1],delete t[XQ],delete t[YQ])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function z5(e){return e.tag===5||e.tag===3||e.tag===4}function D_(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||z5(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function R1(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=zv));else if(n!==4&&(e=e.child,e!==null))for(R1(e,t,r),e=e.sibling;e!==null;)R1(e,t,r),e=e.sibling}function $1(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for($1(e,t,r),e=e.sibling;e!==null;)$1(e,t,r),e=e.sibling}var Zr=null,ci=!1;function ao(e,t,r){for(r=r.child;r!==null;)B5(e,t,r),r=r.sibling}function B5(e,t,r){if(Xi&&typeof Xi.onCommitFiberUnmount=="function")try{Xi.onCommitFiberUnmount(l0,r)}catch{}switch(r.tag){case 5:pn||uu(r,t);case 6:var n=Zr,a=ci;Zr=null,ao(e,t,r),Zr=n,ci=a,Zr!==null&&(ci?(e=Zr,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Zr.removeChild(r.stateNode));break;case 18:Zr!==null&&(ci?(e=Zr,r=r.stateNode,e.nodeType===8?ww(e.parentNode,r):e.nodeType===1&&ww(e,r),sm(e)):ww(Zr,r.stateNode));break;case 4:n=Zr,a=ci,Zr=r.stateNode.containerInfo,ci=!0,ao(e,t,r),Zr=n,ci=a;break;case 0:case 11:case 14:case 15:if(!pn&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&M1(r,t,o),a=a.next}while(a!==n)}ao(e,t,r);break;case 1:if(!pn&&(uu(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){fr(r,t,l)}ao(e,t,r);break;case 21:ao(e,t,r);break;case 22:r.mode&1?(pn=(n=pn)||r.memoizedState!==null,ao(e,t,r),pn=n):ao(e,t,r);break;default:ao(e,t,r)}}function M_(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new fZ),t.forEach(function(n){var a=jZ.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function ni(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Zr=l.stateNode,ci=!1;break e;case 3:Zr=l.stateNode.containerInfo,ci=!0;break e;case 4:Zr=l.stateNode.containerInfo,ci=!0;break e}l=l.return}if(Zr===null)throw Error(se(160));B5(i,o,a),Zr=null,ci=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){fr(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)U5(t,e),t=t.sibling}function U5(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ni(t,e),Mi(e),n&4){try{Ih(3,e,e.return),g0(3,e)}catch(m){fr(e,e.return,m)}try{Ih(5,e,e.return)}catch(m){fr(e,e.return,m)}}break;case 1:ni(t,e),Mi(e),n&512&&r!==null&&uu(r,r.return);break;case 5:if(ni(t,e),Mi(e),n&512&&r!==null&&uu(r,r.return),e.flags&32){var a=e.stateNode;try{rm(a,"")}catch(m){fr(e,e.return,m)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&d3(a,i),o1(l,o);var u=o1(l,i);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?g3(a,f):d==="dangerouslySetInnerHTML"?m3(a,f):d==="children"?rm(a,f):IP(a,d,f,u)}switch(l){case"input":r1(a,i);break;case"textarea":f3(a,i);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?ju(a,!!i.multiple,p,!1):h!==!!i.multiple&&(i.defaultValue!=null?ju(a,!!i.multiple,i.defaultValue,!0):ju(a,!!i.multiple,i.multiple?[]:"",!1))}a[dm]=i}catch(m){fr(e,e.return,m)}}break;case 6:if(ni(t,e),Mi(e),n&4){if(e.stateNode===null)throw Error(se(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(m){fr(e,e.return,m)}}break;case 3:if(ni(t,e),Mi(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{sm(t.containerInfo)}catch(m){fr(e,e.return,m)}break;case 4:ni(t,e),Mi(e);break;case 13:ni(t,e),Mi(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(mC=yr())),n&4&&M_(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(pn=(u=pn)||d,ni(t,e),pn=u):ni(t,e),Mi(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(Te=e,d=e.child;d!==null;){for(f=Te=d;Te!==null;){switch(h=Te,p=h.child,h.tag){case 0:case 11:case 14:case 15:Ih(4,h,h.return);break;case 1:uu(h,h.return);var x=h.stateNode;if(typeof x.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(m){fr(n,r,m)}}break;case 5:uu(h,h.return);break;case 22:if(h.memoizedState!==null){R_(f);continue}}p!==null?(p.return=h,Te=p):R_(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,u?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=p3("display",o))}catch(m){fr(e,e.return,m)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(m){fr(e,e.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ni(t,e),Mi(e),n&4&&M_(e);break;case 21:break;default:ni(t,e),Mi(e)}}function Mi(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(z5(r)){var n=r;break e}r=r.return}throw Error(se(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(rm(a,""),n.flags&=-33);var i=D_(e);$1(e,i,a);break;case 3:case 4:var o=n.stateNode.containerInfo,l=D_(e);R1(e,l,o);break;default:throw Error(se(161))}}catch(c){fr(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function mZ(e,t,r){Te=e,K5(e)}function K5(e,t,r){for(var n=(e.mode&1)!==0;Te!==null;){var a=Te,i=a.child;if(a.tag===22&&n){var o=a.memoizedState!==null||Eg;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||pn;l=Eg;var u=pn;if(Eg=o,(pn=c)&&!u)for(Te=a;Te!==null;)o=Te,c=o.child,o.tag===22&&o.memoizedState!==null?$_(a):c!==null?(c.return=o,Te=c):$_(a);for(;i!==null;)Te=i,K5(i),i=i.sibling;Te=a,Eg=l,pn=u}I_(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,Te=i):I_(e)}}function I_(e){for(;Te!==null;){var t=Te;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:pn||g0(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!pn)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:oi(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&x_(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}x_(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&sm(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(se(163))}pn||t.flags&512&&I1(t)}catch(h){fr(t,t.return,h)}}if(t===e){Te=null;break}if(r=t.sibling,r!==null){r.return=t.return,Te=r;break}Te=t.return}}function R_(e){for(;Te!==null;){var t=Te;if(t===e){Te=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Te=r;break}Te=t.return}}function $_(e){for(;Te!==null;){var t=Te;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{g0(4,t)}catch(c){fr(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){fr(t,a,c)}}var i=t.return;try{I1(t)}catch(c){fr(t,i,c)}break;case 5:var o=t.return;try{I1(t)}catch(c){fr(t,o,c)}}}catch(c){fr(t,t.return,c)}if(t===e){Te=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Te=l;break}Te=t.return}}var pZ=Math.ceil,Zv=Xs.ReactCurrentDispatcher,fC=Xs.ReactCurrentOwner,Ua=Xs.ReactCurrentBatchConfig,St=0,qr=null,jr=null,an=0,la=0,du=cl(0),Mr=0,vm=null,lc=0,v0=0,hC=0,Rh=null,Wn=null,mC=0,cd=1/0,ws=null,Jv=!1,L1=null,zo=null,Tg=!1,ko=null,ey=0,$h=0,F1=null,xv=-1,bv=0;function Dn(){return St&6?yr():xv!==-1?xv:xv=yr()}function Bo(e){return e.mode&1?St&2&&an!==0?an&-an:ZQ.transition!==null?(bv===0&&(bv=E3()),bv):(e=Mt,e!==0||(e=window.event,e=e===void 0?16:I3(e.type)),e):1}function bi(e,t,r,n){if(50<$h)throw $h=0,F1=null,Error(se(185));Rp(e,r,n),(!(St&2)||e!==qr)&&(e===qr&&(!(St&2)&&(v0|=r),Mr===4&&yo(e,an)),Zn(e,n),r===1&&St===0&&!(t.mode&1)&&(cd=yr()+500,h0&&ul()))}function Zn(e,t){var r=e.callbackNode;ZY(e,t);var n=$v(e,e===qr?an:0);if(n===0)r!==null&&WT(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&WT(r),t===1)e.tag===0?QQ(L_.bind(null,e)):e5(L_.bind(null,e)),HQ(function(){!(St&6)&&ul()}),r=null;else{switch(T3(n)){case 1:r=VP;break;case 4:r=C3;break;case 16:r=Rv;break;case 536870912:r=A3;break;default:r=Rv}r=Z5(r,q5.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function q5(e,t){if(xv=-1,bv=0,St&6)throw Error(se(327));var r=e.callbackNode;if(Au()&&e.callbackNode!==r)return null;var n=$v(e,e===qr?an:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=ty(e,n);else{t=n;var a=St;St|=2;var i=H5();(qr!==e||an!==t)&&(ws=null,cd=yr()+500,Zl(e,t));do try{yZ();break}catch(l){W5(e,l)}while(!0);JP(),Zv.current=i,St=a,jr!==null?t=0:(qr=null,an=0,t=Mr)}if(t!==0){if(t===2&&(a=f1(e),a!==0&&(n=a,t=V1(e,a))),t===1)throw r=vm,Zl(e,0),yo(e,n),Zn(e,yr()),r;if(t===6)yo(e,n);else{if(a=e.current.alternate,!(n&30)&&!gZ(a)&&(t=ty(e,n),t===2&&(i=f1(e),i!==0&&(n=i,t=V1(e,i))),t===1))throw r=vm,Zl(e,0),yo(e,n),Zn(e,yr()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(se(345));case 2:Pl(e,Wn,ws);break;case 3:if(yo(e,n),(n&130023424)===n&&(t=mC+500-yr(),10<t)){if($v(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){Dn(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=b1(Pl.bind(null,e,Wn,ws),t);break}Pl(e,Wn,ws);break;case 4:if(yo(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var o=31-xi(n);i=1<<o,o=t[o],o>a&&(a=o),n&=~i}if(n=a,n=yr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*pZ(n/1960))-n,10<n){e.timeoutHandle=b1(Pl.bind(null,e,Wn,ws),n);break}Pl(e,Wn,ws);break;case 5:Pl(e,Wn,ws);break;default:throw Error(se(329))}}}return Zn(e,yr()),e.callbackNode===r?q5.bind(null,e):null}function V1(e,t){var r=Rh;return e.current.memoizedState.isDehydrated&&(Zl(e,t).flags|=256),e=ty(e,t),e!==2&&(t=Wn,Wn=r,t!==null&&z1(t)),e}function z1(e){Wn===null?Wn=e:Wn.push.apply(Wn,e)}function gZ(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!ji(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function yo(e,t){for(t&=~hC,t&=~v0,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-xi(t),n=1<<r;e[r]=-1,t&=~n}}function L_(e){if(St&6)throw Error(se(327));Au();var t=$v(e,0);if(!(t&1))return Zn(e,yr()),null;var r=ty(e,t);if(e.tag!==0&&r===2){var n=f1(e);n!==0&&(t=n,r=V1(e,n))}if(r===1)throw r=vm,Zl(e,0),yo(e,t),Zn(e,yr()),r;if(r===6)throw Error(se(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Pl(e,Wn,ws),Zn(e,yr()),null}function pC(e,t){var r=St;St|=1;try{return e(t)}finally{St=r,St===0&&(cd=yr()+500,h0&&ul())}}function cc(e){ko!==null&&ko.tag===0&&!(St&6)&&Au();var t=St;St|=1;var r=Ua.transition,n=Mt;try{if(Ua.transition=null,Mt=1,e)return e()}finally{Mt=n,Ua.transition=r,St=t,!(St&6)&&ul()}}function gC(){la=du.current,Gt(du)}function Zl(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,WQ(r)),jr!==null)for(r=jr.return;r!==null;){var n=r;switch(YP(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Bv();break;case 3:od(),Gt(Yn),Gt(xn),iC();break;case 5:aC(n);break;case 4:od();break;case 13:Gt(ir);break;case 19:Gt(ir);break;case 10:eC(n.type._context);break;case 22:case 23:gC()}r=r.return}if(qr=e,jr=e=Uo(e.current,null),an=la=t,Mr=0,vm=null,hC=v0=lc=0,Wn=Rh=null,Ml!==null){for(t=0;t<Ml.length;t++)if(r=Ml[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=a,n.next=o}r.pending=n}Ml=null}return e}function W5(e,t){do{var r=jr;try{if(JP(),gv.current=Qv,Yv){for(var n=or.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Yv=!1}if(oc=0,Br=_r=or=null,Mh=!1,mm=0,fC.current=null,r===null||r.return===null){Mr=1,vm=t,jr=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=an,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=P_(o);if(p!==null){p.flags&=-257,C_(p,o,l,i,t),p.mode&1&&N_(i,u,t),t=p,c=u;var x=t.updateQueue;if(x===null){var m=new Set;m.add(c),t.updateQueue=m}else x.add(c);break e}else{if(!(t&1)){N_(i,u,t),vC();break e}c=Error(se(426))}}else if(Zt&&l.mode&1){var g=P_(o);if(g!==null){!(g.flags&65536)&&(g.flags|=256),C_(g,o,l,i,t),QP(ld(c,l));break e}}i=c=ld(c,l),Mr!==4&&(Mr=2),Rh===null?Rh=[i]:Rh.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var w=T5(i,c,t);y_(i,w);break e;case 1:l=c;var y=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(zo===null||!zo.has(b)))){i.flags|=65536,t&=-t,i.lanes|=t;var N=_5(i,l,t);y_(i,N);break e}}i=i.return}while(i!==null)}X5(r)}catch(j){t=j,jr===r&&r!==null&&(jr=r=r.return);continue}break}while(!0)}function H5(){var e=Zv.current;return Zv.current=Qv,e===null?Qv:e}function vC(){(Mr===0||Mr===3||Mr===2)&&(Mr=4),qr===null||!(lc&268435455)&&!(v0&268435455)||yo(qr,an)}function ty(e,t){var r=St;St|=2;var n=H5();(qr!==e||an!==t)&&(ws=null,Zl(e,t));do try{vZ();break}catch(a){W5(e,a)}while(!0);if(JP(),St=r,Zv.current=n,jr!==null)throw Error(se(261));return qr=null,an=0,Mr}function vZ(){for(;jr!==null;)G5(jr)}function yZ(){for(;jr!==null&&!UY();)G5(jr)}function G5(e){var t=Q5(e.alternate,e,la);e.memoizedProps=e.pendingProps,t===null?X5(e):jr=t,fC.current=null}function X5(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=dZ(r,t),r!==null){r.flags&=32767,jr=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Mr=6,jr=null;return}}else if(r=uZ(r,t,la),r!==null){jr=r;return}if(t=t.sibling,t!==null){jr=t;return}jr=t=e}while(t!==null);Mr===0&&(Mr=5)}function Pl(e,t,r){var n=Mt,a=Ua.transition;try{Ua.transition=null,Mt=1,xZ(e,t,r,n)}finally{Ua.transition=a,Mt=n}return null}function xZ(e,t,r,n){do Au();while(ko!==null);if(St&6)throw Error(se(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(se(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(JY(e,i),e===qr&&(jr=qr=null,an=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Tg||(Tg=!0,Z5(Rv,function(){return Au(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Ua.transition,Ua.transition=null;var o=Mt;Mt=1;var l=St;St|=4,fC.current=null,hZ(e,r),U5(r,e),FQ(y1),Lv=!!v1,y1=v1=null,e.current=r,mZ(r),KY(),St=l,Mt=o,Ua.transition=i}else e.current=r;if(Tg&&(Tg=!1,ko=e,ey=a),i=e.pendingLanes,i===0&&(zo=null),HY(r.stateNode),Zn(e,yr()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(Jv)throw Jv=!1,e=L1,L1=null,e;return ey&1&&e.tag!==0&&Au(),i=e.pendingLanes,i&1?e===F1?$h++:($h=0,F1=e):$h=0,ul(),null}function Au(){if(ko!==null){var e=T3(ey),t=Ua.transition,r=Mt;try{if(Ua.transition=null,Mt=16>e?16:e,ko===null)var n=!1;else{if(e=ko,ko=null,ey=0,St&6)throw Error(se(331));var a=St;for(St|=4,Te=e.current;Te!==null;){var i=Te,o=i.child;if(Te.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(Te=u;Te!==null;){var d=Te;switch(d.tag){case 0:case 11:case 15:Ih(8,d,i)}var f=d.child;if(f!==null)f.return=d,Te=f;else for(;Te!==null;){d=Te;var h=d.sibling,p=d.return;if(V5(d),d===u){Te=null;break}if(h!==null){h.return=p,Te=h;break}Te=p}}}var x=i.alternate;if(x!==null){var m=x.child;if(m!==null){x.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(m!==null)}}Te=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Te=o;else e:for(;Te!==null;){if(i=Te,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ih(9,i,i.return)}var w=i.sibling;if(w!==null){w.return=i.return,Te=w;break e}Te=i.return}}var y=e.current;for(Te=y;Te!==null;){o=Te;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,Te=b;else e:for(o=y;Te!==null;){if(l=Te,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:g0(9,l)}}catch(j){fr(l,l.return,j)}if(l===o){Te=null;break e}var N=l.sibling;if(N!==null){N.return=l.return,Te=N;break e}Te=l.return}}if(St=a,ul(),Xi&&typeof Xi.onPostCommitFiberRoot=="function")try{Xi.onPostCommitFiberRoot(l0,e)}catch{}n=!0}return n}finally{Mt=r,Ua.transition=t}}return!1}function F_(e,t,r){t=ld(r,t),t=T5(e,t,1),e=Vo(e,t,1),t=Dn(),e!==null&&(Rp(e,1,t),Zn(e,t))}function fr(e,t,r){if(e.tag===3)F_(e,e,r);else for(;t!==null;){if(t.tag===3){F_(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(zo===null||!zo.has(n))){e=ld(r,e),e=_5(t,e,1),t=Vo(t,e,1),e=Dn(),t!==null&&(Rp(t,1,e),Zn(t,e));break}}t=t.return}}function bZ(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Dn(),e.pingedLanes|=e.suspendedLanes&r,qr===e&&(an&r)===r&&(Mr===4||Mr===3&&(an&130023424)===an&&500>yr()-mC?Zl(e,0):hC|=r),Zn(e,t)}function Y5(e,t){t===0&&(e.mode&1?(t=xg,xg<<=1,!(xg&130023424)&&(xg=4194304)):t=1);var r=Dn();e=Vs(e,t),e!==null&&(Rp(e,t,r),Zn(e,r))}function wZ(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Y5(e,r)}function jZ(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(se(314))}n!==null&&n.delete(t),Y5(e,r)}var Q5;Q5=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Yn.current)Hn=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Hn=!1,cZ(e,t,r);Hn=!!(e.flags&131072)}else Hn=!1,Zt&&t.flags&1048576&&t5(t,qv,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;yv(e,t),e=t.pendingProps;var a=ad(t,xn.current);Cu(t,r),a=oC(null,t,n,e,a,r);var i=lC();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Qn(n)?(i=!0,Uv(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,rC(t),a.updater=p0,t.stateNode=a,a._reactInternals=t,A1(t,n,e,r),t=_1(null,t,n,!0,i,r)):(t.tag=0,Zt&&i&&XP(t),Tn(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(yv(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=NZ(n),e=oi(n,e),a){case 0:t=T1(null,t,n,e,r);break e;case 1:t=T_(null,t,n,e,r);break e;case 11:t=A_(null,t,n,e,r);break e;case 14:t=E_(null,t,n,oi(n.type,e),r);break e}throw Error(se(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:oi(n,a),T1(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:oi(n,a),T_(e,t,n,a,r);case 3:e:{if(M5(t),e===null)throw Error(se(387));n=t.pendingProps,i=t.memoizedState,a=i.element,o5(e,t),Gv(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=ld(Error(se(423)),t),t=__(e,t,n,r,a);break e}else if(n!==a){a=ld(Error(se(424)),t),t=__(e,t,n,r,a);break e}else for(ma=Fo(t.stateNode.containerInfo.firstChild),pa=t,Zt=!0,fi=null,r=i5(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(id(),n===a){t=zs(e,t,r);break e}Tn(e,t,n,r)}t=t.child}return t;case 5:return l5(t),e===null&&N1(t),n=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,x1(n,a)?o=null:i!==null&&x1(n,i)&&(t.flags|=32),D5(e,t),Tn(e,t,o,r),t.child;case 6:return e===null&&N1(t),null;case 13:return I5(e,t,r);case 4:return nC(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=sd(t,null,n,r):Tn(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:oi(n,a),A_(e,t,n,a,r);case 7:return Tn(e,t,t.pendingProps,r),t.child;case 8:return Tn(e,t,t.pendingProps.children,r),t.child;case 12:return Tn(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,Bt(Wv,n._currentValue),n._currentValue=o,i!==null)if(ji(i.value,o)){if(i.children===a.children&&!Yn.current){t=zs(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=_s(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),P1(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(se(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),P1(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Tn(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,Cu(t,r),a=Ga(a),n=n(a),t.flags|=1,Tn(e,t,n,r),t.child;case 14:return n=t.type,a=oi(n,t.pendingProps),a=oi(n.type,a),E_(e,t,n,a,r);case 15:return O5(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:oi(n,a),yv(e,t),t.tag=1,Qn(n)?(e=!0,Uv(t)):e=!1,Cu(t,r),E5(t,n,a),A1(t,n,a,r),_1(null,t,n,!0,e,r);case 19:return R5(e,t,r);case 22:return k5(e,t,r)}throw Error(se(156,t.tag))};function Z5(e,t){return P3(e,t)}function SZ(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Va(e,t,r,n){return new SZ(e,t,r,n)}function yC(e){return e=e.prototype,!(!e||!e.isReactComponent)}function NZ(e){if(typeof e=="function")return yC(e)?1:0;if(e!=null){if(e=e.$$typeof,e===$P)return 11;if(e===LP)return 14}return 2}function Uo(e,t){var r=e.alternate;return r===null?(r=Va(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function wv(e,t,r,n,a,i){var o=2;if(n=e,typeof e=="function")yC(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case tu:return Jl(r.children,a,i,t);case RP:o=8,a|=8;break;case Qj:return e=Va(12,r,t,a|2),e.elementType=Qj,e.lanes=i,e;case Zj:return e=Va(13,r,t,a),e.elementType=Zj,e.lanes=i,e;case Jj:return e=Va(19,r,t,a),e.elementType=Jj,e.lanes=i,e;case l3:return y0(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case s3:o=10;break e;case o3:o=9;break e;case $P:o=11;break e;case LP:o=14;break e;case ho:o=16,n=null;break e}throw Error(se(130,e==null?e:typeof e,""))}return t=Va(o,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function Jl(e,t,r,n){return e=Va(7,e,n,t),e.lanes=r,e}function y0(e,t,r,n){return e=Va(22,e,n,t),e.elementType=l3,e.lanes=r,e.stateNode={isHidden:!1},e}function Tw(e,t,r){return e=Va(6,e,null,t),e.lanes=r,e}function _w(e,t,r){return t=Va(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function PZ(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=uw(0),this.expirationTimes=uw(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=uw(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function xC(e,t,r,n,a,i,o,l,c){return e=new PZ(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Va(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},rC(i),e}function CZ(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:eu,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function J5(e){if(!e)return Xo;e=e._reactInternals;e:{if(Oc(e)!==e||e.tag!==1)throw Error(se(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Qn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(se(171))}if(e.tag===1){var r=e.type;if(Qn(r))return J3(e,r,t)}return t}function eV(e,t,r,n,a,i,o,l,c){return e=xC(r,n,!0,e,a,i,o,l,c),e.context=J5(null),r=e.current,n=Dn(),a=Bo(r),i=_s(n,a),i.callback=t??null,Vo(r,i,a),e.current.lanes=a,Rp(e,a,n),Zn(e,n),e}function x0(e,t,r,n){var a=t.current,i=Dn(),o=Bo(a);return r=J5(r),t.context===null?t.context=r:t.pendingContext=r,t=_s(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Vo(a,t,o),e!==null&&(bi(e,a,o,i),pv(e,a,o)),o}function ry(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function V_(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function bC(e,t){V_(e,t),(e=e.alternate)&&V_(e,t)}function AZ(){return null}var tV=typeof reportError=="function"?reportError:function(e){console.error(e)};function wC(e){this._internalRoot=e}b0.prototype.render=wC.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(se(409));x0(e,t,null,null)};b0.prototype.unmount=wC.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;cc(function(){x0(null,e,null,null)}),t[Fs]=null}};function b0(e){this._internalRoot=e}b0.prototype.unstable_scheduleHydration=function(e){if(e){var t=k3();e={blockedOn:null,target:e,priority:t};for(var r=0;r<vo.length&&t!==0&&t<vo[r].priority;r++);vo.splice(r,0,e),r===0&&M3(e)}};function jC(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function w0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function z_(){}function EZ(e,t,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var u=ry(o);i.call(u)}}var o=eV(t,n,e,0,null,!1,!1,"",z_);return e._reactRootContainer=o,e[Fs]=o.current,cm(e.nodeType===8?e.parentNode:e),cc(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var u=ry(c);l.call(u)}}var c=xC(e,0,!1,null,null,!1,!1,"",z_);return e._reactRootContainer=c,e[Fs]=c.current,cm(e.nodeType===8?e.parentNode:e),cc(function(){x0(t,c,r,n)}),c}function j0(e,t,r,n,a){var i=r._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var l=a;a=function(){var c=ry(o);l.call(c)}}x0(t,o,e,a)}else o=EZ(r,t,e,a,n);return ry(o)}_3=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=ph(t.pendingLanes);r!==0&&(zP(t,r|1),Zn(t,yr()),!(St&6)&&(cd=yr()+500,ul()))}break;case 13:cc(function(){var n=Vs(e,1);if(n!==null){var a=Dn();bi(n,e,1,a)}}),bC(e,1)}};BP=function(e){if(e.tag===13){var t=Vs(e,134217728);if(t!==null){var r=Dn();bi(t,e,134217728,r)}bC(e,134217728)}};O3=function(e){if(e.tag===13){var t=Bo(e),r=Vs(e,t);if(r!==null){var n=Dn();bi(r,e,t,n)}bC(e,t)}};k3=function(){return Mt};D3=function(e,t){var r=Mt;try{return Mt=e,t()}finally{Mt=r}};c1=function(e,t,r){switch(t){case"input":if(r1(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=f0(n);if(!a)throw Error(se(90));u3(n),r1(n,a)}}}break;case"textarea":f3(e,r);break;case"select":t=r.value,t!=null&&ju(e,!!r.multiple,t,!1)}};x3=pC;b3=cc;var TZ={usingClientEntryPoint:!1,Events:[Lp,iu,f0,v3,y3,pC]},Gf={findFiberByHostInstance:Dl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},_Z={bundleType:Gf.bundleType,version:Gf.version,rendererPackageName:Gf.rendererPackageName,rendererConfig:Gf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Xs.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=S3(e),e===null?null:e.stateNode},findFiberByHostInstance:Gf.findFiberByHostInstance||AZ,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _g=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_g.isDisabled&&_g.supportsFiber)try{l0=_g.inject(_Z),Xi=_g}catch{}}Pa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=TZ;Pa.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!jC(t))throw Error(se(200));return CZ(e,t,null,r)};Pa.createRoot=function(e,t){if(!jC(e))throw Error(se(299));var r=!1,n="",a=tV;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=xC(e,1,!1,null,null,r,!1,n,a),e[Fs]=t.current,cm(e.nodeType===8?e.parentNode:e),new wC(t)};Pa.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(se(188)):(e=Object.keys(e).join(","),Error(se(268,e)));return e=S3(t),e=e===null?null:e.stateNode,e};Pa.flushSync=function(e){return cc(e)};Pa.hydrate=function(e,t,r){if(!w0(t))throw Error(se(200));return j0(null,e,t,!0,r)};Pa.hydrateRoot=function(e,t,r){if(!jC(e))throw Error(se(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",o=tV;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=eV(t,null,e,1,r??null,a,!1,i,o),e[Fs]=t.current,cm(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new b0(t)};Pa.render=function(e,t,r){if(!w0(t))throw Error(se(200));return j0(null,e,t,!1,r)};Pa.unmountComponentAtNode=function(e){if(!w0(e))throw Error(se(40));return e._reactRootContainer?(cc(function(){j0(null,null,e,!1,function(){e._reactRootContainer=null,e[Fs]=null})}),!0):!1};Pa.unstable_batchedUpdates=pC;Pa.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!w0(r))throw Error(se(200));if(e==null||e._reactInternals===void 0)throw Error(se(38));return j0(e,t,r,!1,n)};Pa.version="18.3.1-next-f1338f8080-20240426";function rV(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(rV)}catch(e){console.error(e)}}rV(),r3.exports=Pa;var za=r3.exports;const OZ=$t(za);var nV,B_=za;nV=B_.createRoot,B_.hydrateRoot;function kZ(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var r,n,a,i,o=[],l="",c=e.split("/");for(c[0]||c.shift();a=c.shift();)r=a[0],r==="*"?(o.push(r),l+=a[1]==="?"?"(?:/(.*))?":"/(.*)"):r===":"?(n=a.indexOf("?",1),i=a.indexOf(".",1),o.push(a.substring(1,~n?n:~i?i:a.length)),l+=~n&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(l+=(~n?"?":"")+"\\"+a.substring(i))):l+="/"+a;return{keys:o,pattern:new RegExp("^"+l+(t?"(?=$|/)":"/?$"),"i")}}var aV={exports:{}},iV={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ud=v;function DZ(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var MZ=typeof Object.is=="function"?Object.is:DZ,IZ=ud.useState,RZ=ud.useEffect,$Z=ud.useLayoutEffect,LZ=ud.useDebugValue;function FZ(e,t){var r=t(),n=IZ({inst:{value:r,getSnapshot:t}}),a=n[0].inst,i=n[1];return $Z(function(){a.value=r,a.getSnapshot=t,Ow(a)&&i({inst:a})},[e,r,t]),RZ(function(){return Ow(a)&&i({inst:a}),e(function(){Ow(a)&&i({inst:a})})},[e]),LZ(r),r}function Ow(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!MZ(e,r)}catch{return!0}}function VZ(e,t){return t()}var zZ=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?VZ:FZ;iV.useSyncExternalStore=ud.useSyncExternalStore!==void 0?ud.useSyncExternalStore:zZ;aV.exports=iV;var BZ=aV.exports;const UZ=e3.useInsertionEffect,KZ=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",qZ=KZ?v.useLayoutEffect:v.useEffect,WZ=UZ||qZ,sV=e=>{const t=v.useRef([e,(...r)=>t[0](...r)]).current;return WZ(()=>{t[0]=e}),t[1]},HZ="popstate",SC="pushState",NC="replaceState",GZ="hashchange",U_=[HZ,SC,NC,GZ],XZ=e=>{for(const t of U_)addEventListener(t,e);return()=>{for(const t of U_)removeEventListener(t,e)}},oV=(e,t)=>BZ.useSyncExternalStore(XZ,e,t),YZ=()=>location.search,QZ=({ssrSearch:e=""}={})=>oV(YZ,()=>e),K_=()=>location.pathname,ZZ=({ssrPath:e}={})=>oV(K_,e?()=>e:K_),JZ=(e,{replace:t=!1,state:r=null}={})=>history[t?NC:SC](r,"",e),eJ=(e={})=>[ZZ(e),JZ],q_=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[q_]>"u"){for(const e of[SC,NC]){const t=history[e];history[e]=function(){const r=t.apply(this,arguments),n=new Event(e);return n.arguments=arguments,dispatchEvent(n),r}}Object.defineProperty(window,q_,{value:!0})}const tJ=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",lV=(e="")=>e==="/"?"":e,rJ=(e,t)=>e[0]==="~"?e.slice(1):lV(t)+e,nJ=(e="",t)=>tJ(W_(lV(e)),W_(t)),W_=e=>{try{return decodeURI(e)}catch{return e}},cV={hook:eJ,searchHook:QZ,parser:kZ,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:e=>e},uV=v.createContext(cV),Vp=()=>v.useContext(uV),dV={},fV=v.createContext(dV),aJ=()=>v.useContext(fV),S0=e=>{const[t,r]=e.hook(e);return[nJ(e.base,t),sV((n,a)=>r(rJ(n,e.base),a))]},ss=()=>S0(Vp()),hV=(e,t,r,n)=>{const{pattern:a,keys:i}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",n),o=a.exec(r)||[],[l,...c]=o;return l!==void 0?[!0,(()=>{const u=i!==!1?Object.fromEntries(i.map((f,h)=>[f,c[h]])):o.groups;let d={...c};return u&&Object.assign(d,u),d})(),...n?[l]:[]]:[!1,null]},iJ=({children:e,...t})=>{var d,f;const r=Vp(),n=t.hook?cV:r;let a=n;const[i,o]=((d=t.ssrPath)==null?void 0:d.split("?"))??[];o&&(t.ssrSearch=o,t.ssrPath=i),t.hrefs=t.hrefs??((f=t.hook)==null?void 0:f.hrefs);let l=v.useRef({}),c=l.current,u=c;for(let h in n){const p=h==="base"?n[h]+(t[h]||""):t[h]||n[h];c===u&&p!==u[h]&&(l.current=u={...u}),u[h]=p,p!==n[h]&&(a=u)}return v.createElement(uV.Provider,{value:a,children:e})},H_=({children:e,component:t},r)=>t?v.createElement(t,{params:r}):typeof e=="function"?e(r):e,sJ=e=>{let t=v.useRef(dV),r=t.current;for(const n in e)e[n]!==r[n]&&(r=e);return Object.keys(e).length===0&&(r=e),t.current=r},Vr=({path:e,nest:t,match:r,...n})=>{const a=Vp(),[i]=S0(a),[o,l,c]=r??hV(a.parser,e,i,t),u=sJ({...aJ(),...l});if(!o)return null;const d=c?v.createElement(iJ,{base:c},H_(n,u)):H_(n,u);return v.createElement(fV.Provider,{value:u,children:d})},Og=v.forwardRef((e,t)=>{const r=Vp(),[n,a]=S0(r),{to:i="",href:o=i,onClick:l,asChild:c,children:u,className:d,replace:f,state:h,...p}=e,x=sV(g=>{g.ctrlKey||g.metaKey||g.altKey||g.shiftKey||g.button!==0||(l==null||l(g),g.defaultPrevented||(g.preventDefault(),a(o,e)))}),m=r.hrefs(o[0]==="~"?o.slice(1):r.base+o,r);return c&&v.isValidElement(u)?v.cloneElement(u,{onClick:x,href:m}):v.createElement("a",{...p,onClick:x,href:m,className:d!=null&&d.call?d(n===o):d,children:u,ref:t})}),mV=e=>Array.isArray(e)?e.flatMap(t=>mV(t&&t.type===v.Fragment?t.props.children:t)):[e],oJ=({children:e,location:t})=>{const r=Vp(),[n]=S0(r);for(const a of mV(e)){let i=0;if(v.isValidElement(a)&&(i=hV(r.parser,a.props.path,t||n,a.props.nest))[0])return v.cloneElement(a,{match:i})}return null};var af=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},uc=typeof window>"u"||"Deno"in globalThis;function Ia(){}function lJ(e,t){return typeof e=="function"?e(t):e}function B1(e){return typeof e=="number"&&e>=0&&e!==1/0}function pV(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Eu(e,t){return typeof e=="function"?e(t):e}function hi(e,t){return typeof e=="function"?e(t):e}function G_(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:i,queryKey:o,stale:l}=e;if(o){if(n){if(t.queryHash!==PC(o,t.options))return!1}else if(!ym(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||a&&a!==t.state.fetchStatus||i&&!i(t))}function X_(e,t){const{exact:r,status:n,predicate:a,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(dc(t.options.mutationKey)!==dc(i))return!1}else if(!ym(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function PC(e,t){return((t==null?void 0:t.queryKeyHashFn)||dc)(e)}function dc(e){return JSON.stringify(e,(t,r)=>U1(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function ym(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(r=>!ym(e[r],t[r])):!1}function gV(e,t){if(e===t)return e;const r=Y_(e)&&Y_(t);if(r||U1(e)&&U1(t)){const n=r?e:Object.keys(e),a=n.length,i=r?t:Object.keys(t),o=i.length,l=r?[]:{};let c=0;for(let u=0;u<o;u++){const d=r?u:i[u];(!r&&n.includes(d)||r)&&e[d]===void 0&&t[d]===void 0?(l[d]=void 0,c++):(l[d]=gV(e[d],t[d]),l[d]===e[d]&&e[d]!==void 0&&c++)}return a===o&&c===a?e:l}return t}function ny(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function Y_(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function U1(e){if(!Q_(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!Q_(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Q_(e){return Object.prototype.toString.call(e)==="[object Object]"}function cJ(e){return new Promise(t=>{setTimeout(t,e)})}function K1(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?gV(e,t):t}function uJ(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function dJ(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var CC=Symbol();function vV(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===CC?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var ql,jo,Ku,GR,fJ=(GR=class extends af{constructor(){super();Be(this,ql);Be(this,jo);Be(this,Ku);Pe(this,Ku,t=>{if(!uc&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){F(this,jo)||this.setEventListener(F(this,Ku))}onUnsubscribe(){var t;this.hasListeners()||((t=F(this,jo))==null||t.call(this),Pe(this,jo,void 0))}setEventListener(t){var r;Pe(this,Ku,t),(r=F(this,jo))==null||r.call(this),Pe(this,jo,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){F(this,ql)!==t&&(Pe(this,ql,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof F(this,ql)=="boolean"?F(this,ql):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},ql=new WeakMap,jo=new WeakMap,Ku=new WeakMap,GR),AC=new fJ,qu,So,Wu,XR,hJ=(XR=class extends af{constructor(){super();Be(this,qu,!0);Be(this,So);Be(this,Wu);Pe(this,Wu,t=>{if(!uc&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){F(this,So)||this.setEventListener(F(this,Wu))}onUnsubscribe(){var t;this.hasListeners()||((t=F(this,So))==null||t.call(this),Pe(this,So,void 0))}setEventListener(t){var r;Pe(this,Wu,t),(r=F(this,So))==null||r.call(this),Pe(this,So,t(this.setOnline.bind(this)))}setOnline(t){F(this,qu)!==t&&(Pe(this,qu,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return F(this,qu)}},qu=new WeakMap,So=new WeakMap,Wu=new WeakMap,XR),ay=new hJ;function q1(){let e,t;const r=new Promise((a,i)=>{e=a,t=i});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}function mJ(e){return Math.min(1e3*2**e,3e4)}function yV(e){return(e??"online")==="online"?ay.isOnline():!0}var xV=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function kw(e){return e instanceof xV}function bV(e){let t=!1,r=0,n=!1,a;const i=q1(),o=m=>{var g;n||(h(new xV(m)),(g=e.abort)==null||g.call(e))},l=()=>{t=!0},c=()=>{t=!1},u=()=>AC.isFocused()&&(e.networkMode==="always"||ay.isOnline())&&e.canRun(),d=()=>yV(e.networkMode)&&e.canRun(),f=m=>{var g;n||(n=!0,(g=e.onSuccess)==null||g.call(e,m),a==null||a(),i.resolve(m))},h=m=>{var g;n||(n=!0,(g=e.onError)==null||g.call(e,m),a==null||a(),i.reject(m))},p=()=>new Promise(m=>{var g;a=w=>{(n||u())&&m(w)},(g=e.onPause)==null||g.call(e)}).then(()=>{var m;a=void 0,n||(m=e.onContinue)==null||m.call(e)}),x=()=>{if(n)return;let m;const g=r===0?e.initialPromise:void 0;try{m=g??e.fn()}catch(w){m=Promise.reject(w)}Promise.resolve(m).then(f).catch(w=>{var S;if(n)return;const y=e.retry??(uc?0:3),b=e.retryDelay??mJ,N=typeof b=="function"?b(r,w):b,j=y===!0||typeof y=="number"&&r<y||typeof y=="function"&&y(r,w);if(t||!j){h(w);return}r++,(S=e.onFail)==null||S.call(e,r,w),cJ(N).then(()=>u()?void 0:p()).then(()=>{t?h(w):x()})})};return{promise:i,cancel:o,continue:()=>(a==null||a(),i),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?x():p().then(x),i)}}function pJ(){let e=[],t=0,r=l=>{l()},n=l=>{l()},a=l=>setTimeout(l,0);const i=l=>{t?e.push(l):a(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&a(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{a=l}}}var Dr=pJ(),Wl,YR,wV=(YR=class{constructor(){Be(this,Wl)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),B1(this.gcTime)&&Pe(this,Wl,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(uc?1/0:5*60*1e3))}clearGcTimeout(){F(this,Wl)&&(clearTimeout(F(this,Wl)),Pe(this,Wl,void 0))}},Wl=new WeakMap,YR),Hu,Gu,Ma,dn,Op,Hl,li,xs,QR,gJ=(QR=class extends wV{constructor(t){super();Be(this,li);Be(this,Hu);Be(this,Gu);Be(this,Ma);Be(this,dn);Be(this,Op);Be(this,Hl);Pe(this,Hl,!1),Pe(this,Op,t.defaultOptions),this.setOptions(t.options),this.observers=[],Pe(this,Ma,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Pe(this,Hu,vJ(this.options)),this.state=t.state??F(this,Hu),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=F(this,dn))==null?void 0:t.promise}setOptions(t){this.options={...F(this,Op),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&F(this,Ma).remove(this)}setData(t,r){const n=K1(this.state.data,t,this.options);return ct(this,li,xs).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){ct(this,li,xs).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,a;const r=(n=F(this,dn))==null?void 0:n.promise;return(a=F(this,dn))==null||a.cancel(t),r?r.then(Ia).catch(Ia):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(F(this,Hu))}isActive(){return this.observers.some(t=>hi(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===CC||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!pV(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=F(this,dn))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=F(this,dn))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),F(this,Ma).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(F(this,dn)&&(F(this,Hl)?F(this,dn).cancel({revert:!0}):F(this,dn).cancelRetry()),this.scheduleGc()),F(this,Ma).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ct(this,li,xs).call(this,{type:"invalidate"})}fetch(t,r){var c,u,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(F(this,dn))return F(this,dn).continueRetry(),F(this,dn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const f=this.observers.find(h=>h.options.queryFn);f&&this.setOptions(f.options)}const n=new AbortController,a=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(Pe(this,Hl,!0),n.signal)})},i=()=>{const f=vV(this.options,r),h={queryKey:this.queryKey,meta:this.meta};return a(h),Pe(this,Hl,!1),this.options.persister?this.options.persister(f,h,this):f(h)},o={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};a(o),(c=this.options.behavior)==null||c.onFetch(o,this),Pe(this,Gu,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=o.fetchOptions)==null?void 0:u.meta))&&ct(this,li,xs).call(this,{type:"fetch",meta:(d=o.fetchOptions)==null?void 0:d.meta});const l=f=>{var h,p,x,m;kw(f)&&f.silent||ct(this,li,xs).call(this,{type:"error",error:f}),kw(f)||((p=(h=F(this,Ma).config).onError)==null||p.call(h,f,this),(m=(x=F(this,Ma).config).onSettled)==null||m.call(x,this.state.data,f,this)),this.scheduleGc()};return Pe(this,dn,bV({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,abort:n.abort.bind(n),onSuccess:f=>{var h,p,x,m;if(f===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(g){l(g);return}(p=(h=F(this,Ma).config).onSuccess)==null||p.call(h,f,this),(m=(x=F(this,Ma).config).onSettled)==null||m.call(x,f,this.state.error,this),this.scheduleGc()},onError:l,onFail:(f,h)=>{ct(this,li,xs).call(this,{type:"failed",failureCount:f,error:h})},onPause:()=>{ct(this,li,xs).call(this,{type:"pause"})},onContinue:()=>{ct(this,li,xs).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),F(this,dn).start()}},Hu=new WeakMap,Gu=new WeakMap,Ma=new WeakMap,dn=new WeakMap,Op=new WeakMap,Hl=new WeakMap,li=new WeakSet,xs=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...jV(n.data,this.options),fetchMeta:t.meta??null};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=t.error;return kw(a)&&a.revert&&F(this,Gu)?{...F(this,Gu),fetchStatus:"idle"}:{...n,error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),Dr.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),F(this,Ma).notify({query:this,type:"updated",action:t})})},QR);function jV(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:yV(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function vJ(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var $i,ZR,yJ=(ZR=class extends af{constructor(t={}){super();Be(this,$i);this.config=t,Pe(this,$i,new Map)}build(t,r,n){const a=r.queryKey,i=r.queryHash??PC(a,r);let o=this.get(i);return o||(o=new gJ({cache:this,queryKey:a,queryHash:i,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(a)}),this.add(o)),o}add(t){F(this,$i).has(t.queryHash)||(F(this,$i).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=F(this,$i).get(t.queryHash);r&&(t.destroy(),r===t&&F(this,$i).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Dr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return F(this,$i).get(t)}getAll(){return[...F(this,$i).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>G_(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>G_(t,n)):r}notify(t){Dr.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){Dr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Dr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},$i=new WeakMap,ZR),Li,Cn,Gl,Fi,lo,JR,xJ=(JR=class extends wV{constructor(t){super();Be(this,Fi);Be(this,Li);Be(this,Cn);Be(this,Gl);this.mutationId=t.mutationId,Pe(this,Cn,t.mutationCache),Pe(this,Li,[]),this.state=t.state||SV(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){F(this,Li).includes(t)||(F(this,Li).push(t),this.clearGcTimeout(),F(this,Cn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Pe(this,Li,F(this,Li).filter(r=>r!==t)),this.scheduleGc(),F(this,Cn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){F(this,Li).length||(this.state.status==="pending"?this.scheduleGc():F(this,Cn).remove(this))}continue(){var t;return((t=F(this,Gl))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var a,i,o,l,c,u,d,f,h,p,x,m,g,w,y,b,N,j,S,P;Pe(this,Gl,bV({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(C,A)=>{ct(this,Fi,lo).call(this,{type:"failed",failureCount:C,error:A})},onPause:()=>{ct(this,Fi,lo).call(this,{type:"pause"})},onContinue:()=>{ct(this,Fi,lo).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>F(this,Cn).canRun(this)}));const r=this.state.status==="pending",n=!F(this,Gl).canStart();try{if(!r){ct(this,Fi,lo).call(this,{type:"pending",variables:t,isPaused:n}),await((i=(a=F(this,Cn).config).onMutate)==null?void 0:i.call(a,t,this));const A=await((l=(o=this.options).onMutate)==null?void 0:l.call(o,t));A!==this.state.context&&ct(this,Fi,lo).call(this,{type:"pending",context:A,variables:t,isPaused:n})}const C=await F(this,Gl).start();return await((u=(c=F(this,Cn).config).onSuccess)==null?void 0:u.call(c,C,t,this.state.context,this)),await((f=(d=this.options).onSuccess)==null?void 0:f.call(d,C,t,this.state.context)),await((p=(h=F(this,Cn).config).onSettled)==null?void 0:p.call(h,C,null,this.state.variables,this.state.context,this)),await((m=(x=this.options).onSettled)==null?void 0:m.call(x,C,null,t,this.state.context)),ct(this,Fi,lo).call(this,{type:"success",data:C}),C}catch(C){try{throw await((w=(g=F(this,Cn).config).onError)==null?void 0:w.call(g,C,t,this.state.context,this)),await((b=(y=this.options).onError)==null?void 0:b.call(y,C,t,this.state.context)),await((j=(N=F(this,Cn).config).onSettled)==null?void 0:j.call(N,void 0,C,this.state.variables,this.state.context,this)),await((P=(S=this.options).onSettled)==null?void 0:P.call(S,void 0,C,t,this.state.context)),C}finally{ct(this,Fi,lo).call(this,{type:"error",error:C})}}finally{F(this,Cn).runNext(this)}}},Li=new WeakMap,Cn=new WeakMap,Gl=new WeakMap,Fi=new WeakSet,lo=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Dr.batch(()=>{F(this,Li).forEach(n=>{n.onMutationUpdate(t)}),F(this,Cn).notify({mutation:this,type:"updated",action:t})})},JR);function SV(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var oa,kp,e$,bJ=(e$=class extends af{constructor(t={}){super();Be(this,oa);Be(this,kp);this.config=t,Pe(this,oa,new Map),Pe(this,kp,Date.now())}build(t,r,n){const a=new xJ({mutationCache:this,mutationId:++fg(this,kp)._,options:t.defaultMutationOptions(r),state:n});return this.add(a),a}add(t){const r=kg(t),n=F(this,oa).get(r)??[];n.push(t),F(this,oa).set(r,n),this.notify({type:"added",mutation:t})}remove(t){var n;const r=kg(t);if(F(this,oa).has(r)){const a=(n=F(this,oa).get(r))==null?void 0:n.filter(i=>i!==t);a&&(a.length===0?F(this,oa).delete(r):F(this,oa).set(r,a))}this.notify({type:"removed",mutation:t})}canRun(t){var n;const r=(n=F(this,oa).get(kg(t)))==null?void 0:n.find(a=>a.state.status==="pending");return!r||r===t}runNext(t){var n;const r=(n=F(this,oa).get(kg(t)))==null?void 0:n.find(a=>a!==t&&a.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){Dr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...F(this,oa).values()].flat()}find(t){const r={exact:!0,...t};return this.getAll().find(n=>X_(r,n))}findAll(t={}){return this.getAll().filter(r=>X_(t,r))}notify(t){Dr.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return Dr.batch(()=>Promise.all(t.map(r=>r.continue().catch(Ia))))}},oa=new WeakMap,kp=new WeakMap,e$);function kg(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function Z_(e){return{onFetch:(t,r)=>{var d,f,h,p,x;const n=t.options,a=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,i=((p=t.state.data)==null?void 0:p.pages)||[],o=((x=t.state.data)==null?void 0:x.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let m=!1;const g=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?m=!0:t.signal.addEventListener("abort",()=>{m=!0}),t.signal)})},w=vV(t.options,t.fetchOptions),y=async(b,N,j)=>{if(m)return Promise.reject();if(N==null&&b.pages.length)return Promise.resolve(b);const S={queryKey:t.queryKey,pageParam:N,direction:j?"backward":"forward",meta:t.options.meta};g(S);const P=await w(S),{maxPages:C}=t.options,A=j?dJ:uJ;return{pages:A(b.pages,P,C),pageParams:A(b.pageParams,N,C)}};if(a&&i.length){const b=a==="backward",N=b?wJ:J_,j={pages:i,pageParams:o},S=N(n,j);l=await y(j,S,b)}else{const b=e??i.length;do{const N=c===0?o[0]??n.initialPageParam:J_(n,l);if(c>0&&N==null)break;l=await y(l,N),c++}while(c<b)}return l};t.options.persister?t.fetchFn=()=>{var m,g;return(g=(m=t.options).persister)==null?void 0:g.call(m,u,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function J_(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function wJ(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var ur,No,Po,Xu,Yu,Co,Qu,Zu,t$,jJ=(t$=class{constructor(e={}){Be(this,ur);Be(this,No);Be(this,Po);Be(this,Xu);Be(this,Yu);Be(this,Co);Be(this,Qu);Be(this,Zu);Pe(this,ur,e.queryCache||new yJ),Pe(this,No,e.mutationCache||new bJ),Pe(this,Po,e.defaultOptions||{}),Pe(this,Xu,new Map),Pe(this,Yu,new Map),Pe(this,Co,0)}mount(){fg(this,Co)._++,F(this,Co)===1&&(Pe(this,Qu,AC.subscribe(async e=>{e&&(await this.resumePausedMutations(),F(this,ur).onFocus())})),Pe(this,Zu,ay.subscribe(async e=>{e&&(await this.resumePausedMutations(),F(this,ur).onOnline())})))}unmount(){var e,t;fg(this,Co)._--,F(this,Co)===0&&((e=F(this,Qu))==null||e.call(this),Pe(this,Qu,void 0),(t=F(this,Zu))==null||t.call(this),Pe(this,Zu,void 0))}isFetching(e){return F(this,ur).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return F(this,No).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=F(this,ur).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const r=this.defaultQueryOptions(e),n=F(this,ur).build(this,r);return e.revalidateIfStale&&n.isStaleByTime(Eu(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(t)}}getQueriesData(e){return F(this,ur).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),a=F(this,ur).get(n.queryHash),i=a==null?void 0:a.state.data,o=lJ(t,i);if(o!==void 0)return F(this,ur).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return Dr.batch(()=>F(this,ur).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=F(this,ur).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=F(this,ur);Dr.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=F(this,ur),n={type:"active",...e};return Dr.batch(()=>(r.findAll(e).forEach(a=>{a.reset()}),this.refetchQueries(n,t)))}cancelQueries(e={},t={}){const r={revert:!0,...t},n=Dr.batch(()=>F(this,ur).findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(Ia).catch(Ia)}invalidateQueries(e={},t={}){return Dr.batch(()=>{if(F(this,ur).findAll(e).forEach(n=>{n.invalidate()}),e.refetchType==="none")return Promise.resolve();const r={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(r,t)})}refetchQueries(e={},t){const r={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},n=Dr.batch(()=>F(this,ur).findAll(e).filter(a=>!a.isDisabled()).map(a=>{let i=a.fetch(void 0,r);return r.throwOnError||(i=i.catch(Ia)),a.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(Ia)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=F(this,ur).build(this,t);return r.isStaleByTime(Eu(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Ia).catch(Ia)}fetchInfiniteQuery(e){return e.behavior=Z_(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Ia).catch(Ia)}ensureInfiniteQueryData(e){return e.behavior=Z_(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return ay.isOnline()?F(this,No).resumePausedMutations():Promise.resolve()}getQueryCache(){return F(this,ur)}getMutationCache(){return F(this,No)}getDefaultOptions(){return F(this,Po)}setDefaultOptions(e){Pe(this,Po,e)}setQueryDefaults(e,t){F(this,Xu).set(dc(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...F(this,Xu).values()];let r={};return t.forEach(n=>{ym(e,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(e,t){F(this,Yu).set(dc(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...F(this,Yu).values()];let r={};return t.forEach(n=>{ym(e,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...F(this,Po).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=PC(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===CC&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...F(this,Po).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){F(this,ur).clear(),F(this,No).clear()}},ur=new WeakMap,No=new WeakMap,Po=new WeakMap,Xu=new WeakMap,Yu=new WeakMap,Co=new WeakMap,Qu=new WeakMap,Zu=new WeakMap,t$),Un,bt,Dp,An,Xl,Ju,Ao,Vi,Mp,ed,td,Yl,Ql,Eo,rd,kt,vh,W1,H1,G1,X1,Y1,Q1,Z1,NV,r$,SJ=(r$=class extends af{constructor(t,r){super();Be(this,kt);Be(this,Un);Be(this,bt);Be(this,Dp);Be(this,An);Be(this,Xl);Be(this,Ju);Be(this,Ao);Be(this,Vi);Be(this,Mp);Be(this,ed);Be(this,td);Be(this,Yl);Be(this,Ql);Be(this,Eo);Be(this,rd,new Set);this.options=r,Pe(this,Un,t),Pe(this,Vi,null),Pe(this,Ao,q1()),this.options.experimental_prefetchInRender||F(this,Ao).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(F(this,bt).addObserver(this),eO(F(this,bt),this.options)?ct(this,kt,vh).call(this):this.updateResult(),ct(this,kt,X1).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return J1(F(this,bt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return J1(F(this,bt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ct(this,kt,Y1).call(this),ct(this,kt,Q1).call(this),F(this,bt).removeObserver(this)}setOptions(t,r){const n=this.options,a=F(this,bt);if(this.options=F(this,Un).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof hi(this.options.enabled,F(this,bt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ct(this,kt,Z1).call(this),F(this,bt).setOptions(this.options),n._defaulted&&!ny(this.options,n)&&F(this,Un).getQueryCache().notify({type:"observerOptionsUpdated",query:F(this,bt),observer:this});const i=this.hasListeners();i&&tO(F(this,bt),a,this.options,n)&&ct(this,kt,vh).call(this),this.updateResult(r),i&&(F(this,bt)!==a||hi(this.options.enabled,F(this,bt))!==hi(n.enabled,F(this,bt))||Eu(this.options.staleTime,F(this,bt))!==Eu(n.staleTime,F(this,bt)))&&ct(this,kt,W1).call(this);const o=ct(this,kt,H1).call(this);i&&(F(this,bt)!==a||hi(this.options.enabled,F(this,bt))!==hi(n.enabled,F(this,bt))||o!==F(this,Eo))&&ct(this,kt,G1).call(this,o)}getOptimisticResult(t){const r=F(this,Un).getQueryCache().build(F(this,Un),t),n=this.createResult(r,t);return PJ(this,n)&&(Pe(this,An,n),Pe(this,Ju,this.options),Pe(this,Xl,F(this,bt).state)),n}getCurrentResult(){return F(this,An)}trackResult(t,r){const n={};return Object.keys(t).forEach(a=>{Object.defineProperty(n,a,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(a),r==null||r(a),t[a])})}),n}trackProp(t){F(this,rd).add(t)}getCurrentQuery(){return F(this,bt)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=F(this,Un).defaultQueryOptions(t),n=F(this,Un).getQueryCache().build(F(this,Un),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return ct(this,kt,vh).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),F(this,An)))}createResult(t,r){var C;const n=F(this,bt),a=this.options,i=F(this,An),o=F(this,Xl),l=F(this,Ju),u=t!==n?t.state:F(this,Dp),{state:d}=t;let f={...d},h=!1,p;if(r._optimisticResults){const A=this.hasListeners(),E=!A&&eO(t,r),T=A&&tO(t,n,r,a);(E||T)&&(f={...f,...jV(d.data,t.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:x,errorUpdatedAt:m,status:g}=f;if(r.select&&f.data!==void 0)if(i&&f.data===(o==null?void 0:o.data)&&r.select===F(this,Mp))p=F(this,ed);else try{Pe(this,Mp,r.select),p=r.select(f.data),p=K1(i==null?void 0:i.data,p,r),Pe(this,ed,p),Pe(this,Vi,null)}catch(A){Pe(this,Vi,A)}else p=f.data;if(r.placeholderData!==void 0&&p===void 0&&g==="pending"){let A;if(i!=null&&i.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData))A=i.data;else if(A=typeof r.placeholderData=="function"?r.placeholderData((C=F(this,td))==null?void 0:C.state.data,F(this,td)):r.placeholderData,r.select&&A!==void 0)try{A=r.select(A),Pe(this,Vi,null)}catch(E){Pe(this,Vi,E)}A!==void 0&&(g="success",p=K1(i==null?void 0:i.data,A,r),h=!0)}F(this,Vi)&&(x=F(this,Vi),p=F(this,ed),m=Date.now(),g="error");const w=f.fetchStatus==="fetching",y=g==="pending",b=g==="error",N=y&&w,j=p!==void 0,P={status:g,fetchStatus:f.fetchStatus,isPending:y,isSuccess:g==="success",isError:b,isInitialLoading:N,isLoading:N,data:p,dataUpdatedAt:f.dataUpdatedAt,error:x,errorUpdatedAt:m,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:w,isRefetching:w&&!y,isLoadingError:b&&!j,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:b&&j,isStale:EC(t,r),refetch:this.refetch,promise:F(this,Ao)};if(this.options.experimental_prefetchInRender){const A=_=>{P.status==="error"?_.reject(P.error):P.data!==void 0&&_.resolve(P.data)},E=()=>{const _=Pe(this,Ao,P.promise=q1());A(_)},T=F(this,Ao);switch(T.status){case"pending":t.queryHash===n.queryHash&&A(T);break;case"fulfilled":(P.status==="error"||P.data!==T.value)&&E();break;case"rejected":(P.status!=="error"||P.error!==T.reason)&&E();break}}return P}updateResult(t){const r=F(this,An),n=this.createResult(F(this,bt),this.options);if(Pe(this,Xl,F(this,bt).state),Pe(this,Ju,this.options),F(this,Xl).data!==void 0&&Pe(this,td,F(this,bt)),ny(n,r))return;Pe(this,An,n);const a={},i=()=>{if(!r)return!0;const{notifyOnChangeProps:o}=this.options,l=typeof o=="function"?o():o;if(l==="all"||!l&&!F(this,rd).size)return!0;const c=new Set(l??F(this,rd));return this.options.throwOnError&&c.add("error"),Object.keys(F(this,An)).some(u=>{const d=u;return F(this,An)[d]!==r[d]&&c.has(d)})};(t==null?void 0:t.listeners)!==!1&&i()&&(a.listeners=!0),ct(this,kt,NV).call(this,{...a,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ct(this,kt,X1).call(this)}},Un=new WeakMap,bt=new WeakMap,Dp=new WeakMap,An=new WeakMap,Xl=new WeakMap,Ju=new WeakMap,Ao=new WeakMap,Vi=new WeakMap,Mp=new WeakMap,ed=new WeakMap,td=new WeakMap,Yl=new WeakMap,Ql=new WeakMap,Eo=new WeakMap,rd=new WeakMap,kt=new WeakSet,vh=function(t){ct(this,kt,Z1).call(this);let r=F(this,bt).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(Ia)),r},W1=function(){ct(this,kt,Y1).call(this);const t=Eu(this.options.staleTime,F(this,bt));if(uc||F(this,An).isStale||!B1(t))return;const n=pV(F(this,An).dataUpdatedAt,t)+1;Pe(this,Yl,setTimeout(()=>{F(this,An).isStale||this.updateResult()},n))},H1=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(F(this,bt)):this.options.refetchInterval)??!1},G1=function(t){ct(this,kt,Q1).call(this),Pe(this,Eo,t),!(uc||hi(this.options.enabled,F(this,bt))===!1||!B1(F(this,Eo))||F(this,Eo)===0)&&Pe(this,Ql,setInterval(()=>{(this.options.refetchIntervalInBackground||AC.isFocused())&&ct(this,kt,vh).call(this)},F(this,Eo)))},X1=function(){ct(this,kt,W1).call(this),ct(this,kt,G1).call(this,ct(this,kt,H1).call(this))},Y1=function(){F(this,Yl)&&(clearTimeout(F(this,Yl)),Pe(this,Yl,void 0))},Q1=function(){F(this,Ql)&&(clearInterval(F(this,Ql)),Pe(this,Ql,void 0))},Z1=function(){const t=F(this,Un).getQueryCache().build(F(this,Un),this.options);if(t===F(this,bt))return;const r=F(this,bt);Pe(this,bt,t),Pe(this,Dp,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},NV=function(t){Dr.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(F(this,An))}),F(this,Un).getQueryCache().notify({query:F(this,bt),type:"observerResultsUpdated"})})},r$);function NJ(e,t){return hi(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function eO(e,t){return NJ(e,t)||e.state.data!==void 0&&J1(e,t,t.refetchOnMount)}function J1(e,t,r){if(hi(t.enabled,e)!==!1){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&EC(e,t)}return!1}function tO(e,t,r,n){return(e!==t||hi(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&EC(e,r)}function EC(e,t){return hi(t.enabled,e)!==!1&&e.isStaleByTime(Eu(t.staleTime,e))}function PJ(e,t){return!ny(e.getCurrentResult(),t)}var To,_o,Kn,Ns,$s,jv,eS,n$,CJ=(n$=class extends af{constructor(r,n){super();Be(this,$s);Be(this,To);Be(this,_o);Be(this,Kn);Be(this,Ns);Pe(this,To,r),this.setOptions(n),this.bindMethods(),ct(this,$s,jv).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var a;const n=this.options;this.options=F(this,To).defaultMutationOptions(r),ny(this.options,n)||F(this,To).getMutationCache().notify({type:"observerOptionsUpdated",mutation:F(this,Kn),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&dc(n.mutationKey)!==dc(this.options.mutationKey)?this.reset():((a=F(this,Kn))==null?void 0:a.state.status)==="pending"&&F(this,Kn).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=F(this,Kn))==null||r.removeObserver(this)}onMutationUpdate(r){ct(this,$s,jv).call(this),ct(this,$s,eS).call(this,r)}getCurrentResult(){return F(this,_o)}reset(){var r;(r=F(this,Kn))==null||r.removeObserver(this),Pe(this,Kn,void 0),ct(this,$s,jv).call(this),ct(this,$s,eS).call(this)}mutate(r,n){var a;return Pe(this,Ns,n),(a=F(this,Kn))==null||a.removeObserver(this),Pe(this,Kn,F(this,To).getMutationCache().build(F(this,To),this.options)),F(this,Kn).addObserver(this),F(this,Kn).execute(r)}},To=new WeakMap,_o=new WeakMap,Kn=new WeakMap,Ns=new WeakMap,$s=new WeakSet,jv=function(){var n;const r=((n=F(this,Kn))==null?void 0:n.state)??SV();Pe(this,_o,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},eS=function(r){Dr.batch(()=>{var n,a,i,o,l,c,u,d;if(F(this,Ns)&&this.hasListeners()){const f=F(this,_o).variables,h=F(this,_o).context;(r==null?void 0:r.type)==="success"?((a=(n=F(this,Ns)).onSuccess)==null||a.call(n,r.data,f,h),(o=(i=F(this,Ns)).onSettled)==null||o.call(i,r.data,null,f,h)):(r==null?void 0:r.type)==="error"&&((c=(l=F(this,Ns)).onError)==null||c.call(l,r.error,f,h),(d=(u=F(this,Ns)).onSettled)==null||d.call(u,void 0,r.error,f,h))}this.listeners.forEach(f=>{f(F(this,_o))})})},n$),PV=v.createContext(void 0),Vn=e=>{const t=v.useContext(PV);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},AJ=({client:e,children:t})=>(v.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(PV.Provider,{value:e,children:t})),CV=v.createContext(!1),EJ=()=>v.useContext(CV);CV.Provider;function TJ(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var _J=v.createContext(TJ()),OJ=()=>v.useContext(_J);function AV(e,t){return typeof e=="function"?e(...t):!!e}function tS(){}var kJ=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},DJ=e=>{v.useEffect(()=>{e.clearReset()},[e])},MJ=({result:e,errorResetBoundary:t,throwOnError:r,query:n})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&AV(r,[e.error,n]),IJ=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},RJ=(e,t)=>e.isLoading&&e.isFetching&&!t,$J=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,rO=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function LJ(e,t,r){var d,f,h,p,x;const n=Vn(),a=EJ(),i=OJ(),o=n.defaultQueryOptions(e);(f=(d=n.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||f.call(d,o),o._optimisticResults=a?"isRestoring":"optimistic",IJ(o),kJ(o,i),DJ(i);const l=!n.getQueryCache().get(o.queryHash),[c]=v.useState(()=>new t(n,o)),u=c.getOptimisticResult(o);if(v.useSyncExternalStore(v.useCallback(m=>{const g=a?tS:c.subscribe(Dr.batchCalls(m));return c.updateResult(),g},[c,a]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),v.useEffect(()=>{c.setOptions(o,{listeners:!1})},[o,c]),$J(o,u))throw rO(o,c,i);if(MJ({result:u,errorResetBoundary:i,throwOnError:o.throwOnError,query:n.getQueryCache().get(o.queryHash)}))throw u.error;if((p=(h=n.getDefaultOptions().queries)==null?void 0:h._experimental_afterQuery)==null||p.call(h,o,u),o.experimental_prefetchInRender&&!uc&&RJ(u,a)){const m=l?rO(o,c,i):(x=n.getQueryCache().get(o.queryHash))==null?void 0:x.promise;m==null||m.catch(tS).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?u:c.trackResult(u)}function $e(e,t){return LJ(e,SJ)}function At(e,t){const r=Vn(),[n]=v.useState(()=>new CJ(r,e));v.useEffect(()=>{n.setOptions(e)},[n,e]);const a=v.useSyncExternalStore(v.useCallback(o=>n.subscribe(Dr.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=v.useCallback((o,l)=>{n.mutate(o,l).catch(tS)},[n]);if(a.error&&AV(n.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:i,mutateAsync:a.mutate}}const Dw=new Map,FJ=5e3;let Dg=!1;function xm(){try{return typeof window<"u"&&window.localStorage?localStorage.getItem("authToken"):null}catch(e){return console.warn("[Auth] Error accessing localStorage:",e),null}}function VJ(e){try{typeof window<"u"&&window.localStorage&&localStorage.setItem("authToken",e)}catch(t){console.warn("[Auth] Error storing token:",t)}}function fu(){try{typeof window<"u"&&window.localStorage&&localStorage.removeItem("authToken")}catch(e){console.warn("[Auth] Error removing token:",e)}}async function zJ(e){if(!e.ok){if(e.status===401&&(console.log("[API] Error 401 detectado, token posiblemente expirado"),!Dg))if(Dg=!0,fu(),typeof window<"u"&&!window.location.pathname.includes("/login")){console.log("[API] Guardando ruta actual para después del login");try{sessionStorage.setItem("redirectAfterLogin",window.location.pathname)}catch(t){console.warn("[API] Error saving redirect path:",t)}setTimeout(()=>{window.location.href="/login",Dg=!1},100)}else Dg=!1;try{const t=await e.text()||e.statusText;throw new Error(`${e.status}: ${t}`)}catch{throw new Error(`${e.status}: ${e.statusText}`)}}}async function zt(e,t,r,n){const a=(n==null?void 0:n.useCache)??e.toUpperCase()==="GET",i=(n==null?void 0:n.bypassCache)??!1,o=`${e}:${t}:${r?JSON.stringify(r):""}`;if(a&&!i&&e.toUpperCase()==="GET"){const d=Dw.get(o);if(d&&Date.now()-d.timestamp<FJ)return console.log(`[API] Usando respuesta en caché para: ${t}`),new Response(JSON.stringify(d.data),{status:200,headers:{"Content-Type":"application/json"}})}const l=r?{"Content-Type":"application/json"}:{},c=xm();c&&(l.Authorization=`Bearer ${c}`);const u=await fetch(t,{method:e,headers:l,body:r?JSON.stringify(r):void 0,credentials:"include"});if(u.status===304&&a){const d=Dw.get(o);if(d)return console.log(`[API] Usando respuesta previa (304) para: ${t}`),new Response(JSON.stringify(d.data),{status:200,headers:{"Content-Type":"application/json"}})}if(await zJ(u),a&&e.toUpperCase()==="GET")try{const f=await u.clone().json();Dw.set(o,{data:f,timestamp:Date.now()})}catch(d){console.error("[API] Error al cachear respuesta:",d)}return u}const EV=({on401:e})=>async({queryKey:t})=>{try{const r=Array.isArray(t)?t.join(":"):t.toString();let n=!1;if(t.length>1&&t[1]&&typeof t[1]=="object"&&t[1]!==null){const i=t[1];"bypassCache"in i&&(n=!!i.bypassCache)}const a=await zt("GET",t[0],void 0,{useCache:!0,bypassCache:n});return e==="returnNull"&&a.status,await a.json()}catch(r){throw r instanceof Error&&r.message.includes("401"),r}};async function Tu(e,t){return await(await zt(t.method,e,t.body)).json()}const Rl=new jJ({defaultOptions:{queries:{queryFn:EV({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:12e4,retry:(e,t)=>t instanceof Error&&t.message.includes("401")?!1:e<1,retryDelay:2e3,gcTime:15*60*1e3,refetchOnMount:!0,refetchOnReconnect:!1},mutations:{retry:1,retryDelay:1e3}}}),BJ=Object.freeze(Object.defineProperty({__proto__:null,apiRequest:zt,apiRequestLegacy:Tu,getAuthToken:xm,getQueryFn:EV,queryClient:Rl,removeAuthToken:fu,setAuthToken:VJ},Symbol.toStringTag,{value:"Module"})),UJ=1,KJ=1e6;let Mw=0;function qJ(){return Mw=(Mw+1)%Number.MAX_SAFE_INTEGER,Mw.toString()}const Iw=new Map,nO=e=>{if(Iw.has(e))return;const t=setTimeout(()=>{Iw.delete(e),Lh({type:"REMOVE_TOAST",toastId:e})},KJ);Iw.set(e,t)},WJ=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,UJ)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?nO(r):e.toasts.forEach(n=>{nO(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},Sv=[];let Nv={toasts:[]};function Lh(e){Nv=WJ(Nv,e),Sv.forEach(t=>{t(Nv)})}function HJ({...e}){const t=qJ(),r=a=>Lh({type:"UPDATE_TOAST",toast:{...a,id:t}}),n=()=>Lh({type:"DISMISS_TOAST",toastId:t});return Lh({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||n()}}}),{id:t,dismiss:n,update:r}}function wn(){const[e,t]=v.useState(Nv);return v.useEffect(()=>(Sv.push(t),()=>{const r=Sv.indexOf(t);r>-1&&Sv.splice(r,1)}),[e]),{...e,toast:HJ,dismiss:r=>Lh({type:"DISMISS_TOAST",toastId:r})}}function ue(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e==null||e(a),r===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function aO(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function N0(...e){return t=>{let r=!1;const n=e.map(a=>{const i=aO(a,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():aO(e[a],null)}}}}function ot(...e){return v.useCallback(N0(...e),e)}function GJ(e,t){const r=v.createContext(t),n=i=>{const{children:o,...l}=i,c=v.useMemo(()=>l,Object.values(l));return s.jsx(r.Provider,{value:c,children:o})};n.displayName=e+"Provider";function a(i){const o=v.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,a]}function jn(e,t=[]){let r=[];function n(i,o){const l=v.createContext(o),c=r.length;r=[...r,o];const u=f=>{var w;const{scope:h,children:p,...x}=f,m=((w=h==null?void 0:h[e])==null?void 0:w[c])||l,g=v.useMemo(()=>x,Object.values(x));return s.jsx(m.Provider,{value:g,children:p})};u.displayName=i+"Provider";function d(f,h){var m;const p=((m=h==null?void 0:h[e])==null?void 0:m[c])||l,x=v.useContext(p);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const a=()=>{const i=r.map(o=>v.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return v.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return a.scopeName=e,[n,XJ(a,...t)]}function XJ(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function fc(e){const t=YJ(e),r=v.forwardRef((n,a)=>{const{children:i,...o}=n,l=v.Children.toArray(i),c=l.find(QJ);if(c){const u=c.props.children,d=l.map(f=>f===c?v.Children.count(u)>1?v.Children.only(null):v.isValidElement(u)?u.props.children:null:f);return s.jsx(t,{...o,ref:a,children:v.isValidElement(u)?v.cloneElement(u,void 0,d):null})}return s.jsx(t,{...o,ref:a,children:i})});return r.displayName=`${e}.Slot`,r}var TV=fc("Slot");function YJ(e){const t=v.forwardRef((r,n)=>{const{children:a,...i}=r;if(v.isValidElement(a)){const o=JJ(a),l=ZJ(i,a.props);return a.type!==v.Fragment&&(l.ref=n?N0(n,o):o),v.cloneElement(a,l)}return v.Children.count(a)>1?v.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var _V=Symbol("radix.slottable");function OV(e){const t=({children:r})=>s.jsx(s.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=_V,t}function QJ(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===_V}function ZJ(e,t){const r={...t};for(const n in t){const a=e[n],i=t[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...l)=>{i(...l),a(...l)}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...e,...r}}function JJ(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function P0(e){const t=e+"CollectionProvider",[r,n]=jn(t),[a,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:g,children:w}=m,y=k.useRef(null),b=k.useRef(new Map).current;return s.jsx(a,{scope:g,itemMap:b,collectionRef:y,children:w})};o.displayName=t;const l=e+"CollectionSlot",c=fc(l),u=k.forwardRef((m,g)=>{const{scope:w,children:y}=m,b=i(l,w),N=ot(g,b.collectionRef);return s.jsx(c,{ref:N,children:y})});u.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=fc(d),p=k.forwardRef((m,g)=>{const{scope:w,children:y,...b}=m,N=k.useRef(null),j=ot(g,N),S=i(d,w);return k.useEffect(()=>(S.itemMap.set(N,{ref:N,...b}),()=>void S.itemMap.delete(N))),s.jsx(h,{[f]:"",ref:j,children:y})});p.displayName=d;function x(m){const g=i(e+"CollectionConsumer",m);return k.useCallback(()=>{const y=g.collectionRef.current;if(!y)return[];const b=Array.from(y.querySelectorAll(`[${f}]`));return Array.from(g.itemMap.values()).sort((S,P)=>b.indexOf(S.ref.current)-b.indexOf(P.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:o,Slot:u,ItemSlot:p},x,n]}var eee=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ie=eee.reduce((e,t)=>{const r=fc(`Primitive.${t}`),n=v.forwardRef((a,i)=>{const{asChild:o,...l}=a,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function TC(e,t){e&&za.flushSync(()=>e.dispatchEvent(t))}function Jt(e){const t=v.useRef(e);return v.useEffect(()=>{t.current=e}),v.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function tee(e,t=globalThis==null?void 0:globalThis.document){const r=Jt(e);v.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var ree="DismissableLayer",rS="dismissableLayer.update",nee="dismissableLayer.pointerDownOutside",aee="dismissableLayer.focusOutside",iO,kV=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),sf=v.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,u=v.useContext(kV),[d,f]=v.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=v.useState({}),x=ot(t,P=>f(P)),m=Array.from(u.layers),[g]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),w=m.indexOf(g),y=d?m.indexOf(d):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,N=y>=w,j=see(P=>{const C=P.target,A=[...u.branches].some(E=>E.contains(C));!N||A||(a==null||a(P),o==null||o(P),P.defaultPrevented||l==null||l())},h),S=oee(P=>{const C=P.target;[...u.branches].some(E=>E.contains(C))||(i==null||i(P),o==null||o(P),P.defaultPrevented||l==null||l())},h);return tee(P=>{y===u.layers.size-1&&(n==null||n(P),!P.defaultPrevented&&l&&(P.preventDefault(),l()))},h),v.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(iO=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),sO(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=iO)}},[d,h,r,u]),v.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),sO())},[d,u]),v.useEffect(()=>{const P=()=>p({});return document.addEventListener(rS,P),()=>document.removeEventListener(rS,P)},[]),s.jsx(Ie.div,{...c,ref:x,style:{pointerEvents:b?N?"auto":"none":void 0,...e.style},onFocusCapture:ue(e.onFocusCapture,S.onFocusCapture),onBlurCapture:ue(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:ue(e.onPointerDownCapture,j.onPointerDownCapture)})});sf.displayName=ree;var iee="DismissableLayerBranch",DV=v.forwardRef((e,t)=>{const r=v.useContext(kV),n=v.useRef(null),a=ot(t,n);return v.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),s.jsx(Ie.div,{...e,ref:a})});DV.displayName=iee;function see(e,t=globalThis==null?void 0:globalThis.document){const r=Jt(e),n=v.useRef(!1),a=v.useRef(()=>{});return v.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let c=function(){MV(nee,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function oee(e,t=globalThis==null?void 0:globalThis.document){const r=Jt(e),n=v.useRef(!1);return v.useEffect(()=>{const a=i=>{i.target&&!n.current&&MV(aee,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function sO(){const e=new CustomEvent(rS);document.dispatchEvent(e)}function MV(e,t,r,{discrete:n}){const a=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?TC(a,i):a.dispatchEvent(i)}var lee=sf,cee=DV,Ar=globalThis!=null&&globalThis.document?v.useLayoutEffect:()=>{},uee="Portal",zp=v.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[a,i]=v.useState(!1);Ar(()=>i(!0),[]);const o=r||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?OZ.createPortal(s.jsx(Ie.div,{...n,ref:t}),o):null});zp.displayName=uee;function dee(e,t){return v.useReducer((r,n)=>t[r][n]??r,e)}var Sn=e=>{const{present:t,children:r}=e,n=fee(t),a=typeof r=="function"?r({present:n.isPresent}):v.Children.only(r),i=ot(n.ref,hee(a));return typeof r=="function"||n.isPresent?v.cloneElement(a,{ref:i}):null};Sn.displayName="Presence";function fee(e){const[t,r]=v.useState(),n=v.useRef({}),a=v.useRef(e),i=v.useRef("none"),o=e?"mounted":"unmounted",[l,c]=dee(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const u=Mg(n.current);i.current=l==="mounted"?u:"none"},[l]),Ar(()=>{const u=n.current,d=a.current;if(d!==e){const h=i.current,p=Mg(u);e?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==p?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),Ar(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=p=>{const m=Mg(n.current).includes(p.animationName);if(p.target===t&&m&&(c("ANIMATION_END"),!a.current)){const g=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=g)})}},h=p=>{p.target===t&&(i.current=Mg(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:v.useCallback(u=>{u&&(n.current=getComputedStyle(u)),r(u)},[])}}function Mg(e){return(e==null?void 0:e.animationName)||"none"}function hee(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Ya({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,a]=mee({defaultProp:t,onChange:r}),i=e!==void 0,o=i?e:n,l=Jt(r),c=v.useCallback(u=>{if(i){const f=typeof u=="function"?u(e):u;f!==e&&l(f)}else a(u)},[i,e,a,l]);return[o,c]}function mee({defaultProp:e,onChange:t}){const r=v.useState(e),[n]=r,a=v.useRef(n),i=Jt(t);return v.useEffect(()=>{a.current!==n&&(i(n),a.current=n)},[n,a,i]),r}var pee="VisuallyHidden",Bp=v.forwardRef((e,t)=>s.jsx(Ie.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));Bp.displayName=pee;var gee=Bp,_C="ToastProvider",[OC,vee,yee]=P0("Toast"),[IV,mze]=jn("Toast",[yee]),[xee,C0]=IV(_C),RV=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:a="right",swipeThreshold:i=50,children:o}=e,[l,c]=v.useState(null),[u,d]=v.useState(0),f=v.useRef(!1),h=v.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${_C}\`. Expected non-empty \`string\`.`),s.jsx(OC.Provider,{scope:t,children:s.jsx(xee,{scope:t,label:r,duration:n,swipeDirection:a,swipeThreshold:i,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:v.useCallback(()=>d(p=>p+1),[]),onToastRemove:v.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:o})})};RV.displayName=_C;var $V="ToastViewport",bee=["F8"],nS="toast.viewportPause",aS="toast.viewportResume",LV=v.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=bee,label:a="Notifications ({hotkey})",...i}=e,o=C0($V,r),l=vee(r),c=v.useRef(null),u=v.useRef(null),d=v.useRef(null),f=v.useRef(null),h=ot(t,f,o.onViewportChange),p=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=o.toastCount>0;v.useEffect(()=>{const g=w=>{var b;n.length!==0&&n.every(N=>w[N]||w.code===N)&&((b=f.current)==null||b.focus())};return document.addEventListener("keydown",g),()=>document.removeEventListener("keydown",g)},[n]),v.useEffect(()=>{const g=c.current,w=f.current;if(x&&g&&w){const y=()=>{if(!o.isClosePausedRef.current){const S=new CustomEvent(nS);w.dispatchEvent(S),o.isClosePausedRef.current=!0}},b=()=>{if(o.isClosePausedRef.current){const S=new CustomEvent(aS);w.dispatchEvent(S),o.isClosePausedRef.current=!1}},N=S=>{!g.contains(S.relatedTarget)&&b()},j=()=>{g.contains(document.activeElement)||b()};return g.addEventListener("focusin",y),g.addEventListener("focusout",N),g.addEventListener("pointermove",y),g.addEventListener("pointerleave",j),window.addEventListener("blur",y),window.addEventListener("focus",b),()=>{g.removeEventListener("focusin",y),g.removeEventListener("focusout",N),g.removeEventListener("pointermove",y),g.removeEventListener("pointerleave",j),window.removeEventListener("blur",y),window.removeEventListener("focus",b)}}},[x,o.isClosePausedRef]);const m=v.useCallback(({tabbingDirection:g})=>{const y=l().map(b=>{const N=b.ref.current,j=[N,...Dee(N)];return g==="forwards"?j:j.reverse()});return(g==="forwards"?y.reverse():y).flat()},[l]);return v.useEffect(()=>{const g=f.current;if(g){const w=y=>{var j,S,P;const b=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!b){const C=document.activeElement,A=y.shiftKey;if(y.target===g&&A){(j=u.current)==null||j.focus();return}const _=m({tabbingDirection:A?"backwards":"forwards"}),O=_.findIndex(M=>M===C);Rw(_.slice(O+1))?y.preventDefault():A?(S=u.current)==null||S.focus():(P=d.current)==null||P.focus()}};return g.addEventListener("keydown",w),()=>g.removeEventListener("keydown",w)}},[l,m]),s.jsxs(cee,{ref:c,role:"region","aria-label":a.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&s.jsx(iS,{ref:u,onFocusFromOutsideViewport:()=>{const g=m({tabbingDirection:"forwards"});Rw(g)}}),s.jsx(OC.Slot,{scope:r,children:s.jsx(Ie.ol,{tabIndex:-1,...i,ref:h})}),x&&s.jsx(iS,{ref:d,onFocusFromOutsideViewport:()=>{const g=m({tabbingDirection:"backwards"});Rw(g)}})]})});LV.displayName=$V;var FV="ToastFocusProxy",iS=v.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...a}=e,i=C0(FV,r);return s.jsx(Bp,{"aria-hidden":!0,tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(l))&&n()}})});iS.displayName=FV;var A0="Toast",wee="toast.swipeStart",jee="toast.swipeMove",See="toast.swipeCancel",Nee="toast.swipeEnd",VV=v.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:a,onOpenChange:i,...o}=e,[l=!0,c]=Ya({prop:n,defaultProp:a,onChange:i});return s.jsx(Sn,{present:r||l,children:s.jsx(Aee,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:Jt(e.onPause),onResume:Jt(e.onResume),onSwipeStart:ue(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ue(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:ue(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ue(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});VV.displayName=A0;var[Pee,Cee]=IV(A0,{onClose(){}}),Aee=v.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:a,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:p,...x}=e,m=C0(A0,r),[g,w]=v.useState(null),y=ot(t,M=>w(M)),b=v.useRef(null),N=v.useRef(null),j=a||m.duration,S=v.useRef(0),P=v.useRef(j),C=v.useRef(0),{onToastAdd:A,onToastRemove:E}=m,T=Jt(()=>{var L;(g==null?void 0:g.contains(document.activeElement))&&((L=m.viewport)==null||L.focus()),o()}),_=v.useCallback(M=>{!M||M===1/0||(window.clearTimeout(C.current),S.current=new Date().getTime(),C.current=window.setTimeout(T,M))},[T]);v.useEffect(()=>{const M=m.viewport;if(M){const L=()=>{_(P.current),u==null||u()},R=()=>{const V=new Date().getTime()-S.current;P.current=P.current-V,window.clearTimeout(C.current),c==null||c()};return M.addEventListener(nS,R),M.addEventListener(aS,L),()=>{M.removeEventListener(nS,R),M.removeEventListener(aS,L)}}},[m.viewport,j,c,u,_]),v.useEffect(()=>{i&&!m.isClosePausedRef.current&&_(j)},[i,j,m.isClosePausedRef,_]),v.useEffect(()=>(A(),()=>E()),[A,E]);const O=v.useMemo(()=>g?HV(g):null,[g]);return m.viewport?s.jsxs(s.Fragment,{children:[O&&s.jsx(Eee,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:O}),s.jsx(Pee,{scope:r,onClose:T,children:za.createPortal(s.jsx(OC.ItemSlot,{scope:r,children:s.jsx(lee,{asChild:!0,onEscapeKeyDown:ue(l,()=>{m.isFocusedToastEscapeKeyDownRef.current||T(),m.isFocusedToastEscapeKeyDownRef.current=!1}),children:s.jsx(Ie.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":m.swipeDirection,...x,ref:y,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:ue(e.onKeyDown,M=>{M.key==="Escape"&&(l==null||l(M.nativeEvent),M.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,T()))}),onPointerDown:ue(e.onPointerDown,M=>{M.button===0&&(b.current={x:M.clientX,y:M.clientY})}),onPointerMove:ue(e.onPointerMove,M=>{if(!b.current)return;const L=M.clientX-b.current.x,R=M.clientY-b.current.y,V=!!N.current,D=["left","right"].includes(m.swipeDirection),I=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,B=D?I(0,L):0,Y=D?0:I(0,R),X=M.pointerType==="touch"?10:2,oe={x:B,y:Y},je={originalEvent:M,delta:oe};V?(N.current=oe,Ig(jee,f,je,{discrete:!1})):oO(oe,m.swipeDirection,X)?(N.current=oe,Ig(wee,d,je,{discrete:!1}),M.target.setPointerCapture(M.pointerId)):(Math.abs(L)>X||Math.abs(R)>X)&&(b.current=null)}),onPointerUp:ue(e.onPointerUp,M=>{const L=N.current,R=M.target;if(R.hasPointerCapture(M.pointerId)&&R.releasePointerCapture(M.pointerId),N.current=null,b.current=null,L){const V=M.currentTarget,D={originalEvent:M,delta:L};oO(L,m.swipeDirection,m.swipeThreshold)?Ig(Nee,p,D,{discrete:!0}):Ig(See,h,D,{discrete:!0}),V.addEventListener("click",I=>I.preventDefault(),{once:!0})}})})})}),m.viewport)})]}):null}),Eee=e=>{const{__scopeToast:t,children:r,...n}=e,a=C0(A0,t),[i,o]=v.useState(!1),[l,c]=v.useState(!1);return Oee(()=>o(!0)),v.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:s.jsx(zp,{asChild:!0,children:s.jsx(Bp,{...n,children:i&&s.jsxs(s.Fragment,{children:[a.label," ",r]})})})},Tee="ToastTitle",zV=v.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(Ie.div,{...n,ref:t})});zV.displayName=Tee;var _ee="ToastDescription",BV=v.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return s.jsx(Ie.div,{...n,ref:t})});BV.displayName=_ee;var UV="ToastAction",KV=v.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?s.jsx(WV,{altText:r,asChild:!0,children:s.jsx(kC,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${UV}\`. Expected non-empty \`string\`.`),null)});KV.displayName=UV;var qV="ToastClose",kC=v.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,a=Cee(qV,r);return s.jsx(WV,{asChild:!0,children:s.jsx(Ie.button,{type:"button",...n,ref:t,onClick:ue(e.onClick,a.onClose)})})});kC.displayName=qV;var WV=v.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...a}=e;return s.jsx(Ie.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...a,ref:t})});function HV(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),kee(n)){const a=n.ariaHidden||n.hidden||n.style.display==="none",i=n.dataset.radixToastAnnounceExclude==="";if(!a)if(i){const o=n.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...HV(n))}}),t}function Ig(e,t,r,{discrete:n}){const a=r.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),n?TC(a,i):a.dispatchEvent(i)}var oO=(e,t,r=0)=>{const n=Math.abs(e.x),a=Math.abs(e.y),i=n>a;return t==="left"||t==="right"?i&&n>r:!i&&a>r};function Oee(e=()=>{}){const t=Jt(e);Ar(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function kee(e){return e.nodeType===e.ELEMENT_NODE}function Dee(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Rw(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var Mee=RV,GV=LV,XV=VV,YV=zV,QV=BV,ZV=KV,JV=kC;function e6(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=e6(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function yt(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=e6(e))&&(n&&(n+=" "),n+=t);return n}const lO=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,cO=yt,of=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return cO(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:i}=t,o=Object.keys(a).map(u=>{const d=r==null?void 0:r[u],f=i==null?void 0:i[u];if(d===null)return null;const h=lO(d)||lO(f);return a[u][h]}),l=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...p}=d;return Object.entries(p).every(x=>{let[m,g]=x;return Array.isArray(g)?g.includes({...i,...l}[m]):{...i,...l}[m]===g})?[...u,f,h]:u},[]);return cO(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iee=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),t6=(...e)=>e.filter((t,r,n)=>!!t&&n.indexOf(t)===r).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ree={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ee=v.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:o,...l},c)=>v.createElement("svg",{ref:c,...Ree,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:t6("lucide",a),...l},[...o.map(([u,d])=>v.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ne=(e,t)=>{const r=v.forwardRef(({className:n,...a},i)=>v.createElement($ee,{ref:i,iconNode:t,className:t6(`lucide-${Iee(e)}`,n),...a}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uO=Ne("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lee=Ne("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hc=Ne("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fee=Ne("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dO=Ne("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sS=Ne("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vee=Ne("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dd=Ne("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fO=Ne("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r6=Ne("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yo=Ne("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $w=Ne("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ja=Ne("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ko=Ne("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zee=Ne("ChartLine",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bee=Ne("ChartNoAxesColumnIncreasing",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iy=Ne("ChartNoAxesColumn",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E0=Ne("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n6=Ne("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uee=Ne("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sy=Ne("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kee=Ne("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qo=Ne("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tn=Ne("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a6=Ne("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qee=Ne("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Up=Ne("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wee=Ne("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ga=Ne("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yh=Ne("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fd=Ne("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i6=Ne("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ia=Ne("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pn=Ne("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s6=Ne("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hee=Ne("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gee=Ne("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oS=Ne("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xh=Ne("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hO=Ne("Kanban",[["path",{d:"M6 5v11",key:"mdvv1e"}],["path",{d:"M12 5v6",key:"14ar3b"}],["path",{d:"M18 5v14",key:"7ji314"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xee=Ne("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qi=Ne("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yee=Ne("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hd=Ne("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oy=Ne("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qee=Ne("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o6=Ne("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zee=Ne("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l6=Ne("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ka=Ne("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lS=Ne("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mO=Ne("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jee=Ne("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cS=Ne("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c6=Ne("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ete=Ne("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ly=Ne("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tte=Ne("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T0=Ne("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const md=Ne("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bm=Ne("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rn=Ne("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kp=Ne("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wm=Ne("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pO=Ne("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rte=Ne("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mc=Ne("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pd=Ne("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gO=Ne("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _0=Ne("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),DC="-",nte=e=>{const t=ite(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(DC);return l[0]===""&&l.length!==1&&l.shift(),u6(l,t)||ate(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},u6=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),a=n?u6(e.slice(1),n):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(DC);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},vO=/^\[(.+)\]$/,ate=e=>{if(vO.test(e)){const t=vO.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},ite=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return ote(Object.entries(e.classGroups),r).forEach(([i,o])=>{uS(o,n,i,t)}),n},uS=(e,t,r,n)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:yO(t,a);i.classGroupId=r;return}if(typeof a=="function"){if(ste(a)){uS(a(n),t,r,n);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([i,o])=>{uS(o,yO(t,i),r,n)})})},yO=(e,t)=>{let r=e;return t.split(DC).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},ste=e=>e.isThemeGetter,ote=(e,t)=>t?e.map(([r,n])=>{const a=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[r,a]}):e,lte=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const a=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return a(i,o),o},set(i,o){r.has(i)?r.set(i,o):a(i,o)}}},d6="!",cte=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,a=t[0],i=t.length,o=l=>{const c=[];let u=0,d=0,f;for(let g=0;g<l.length;g++){let w=l[g];if(u===0){if(w===a&&(n||l.slice(g,g+i)===t)){c.push(l.slice(d,g)),d=g+i;continue}if(w==="/"){f=g;continue}}w==="["?u++:w==="]"&&u--}const h=c.length===0?l:l.substring(d),p=h.startsWith(d6),x=p?h.substring(1):h,m=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:x,maybePostfixModifierPosition:m}};return r?l=>r({className:l,parseClassName:o}):o},ute=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},dte=e=>({cache:lte(e.cacheSize),parseClassName:cte(e),...nte(e)}),fte=/\s+/,hte=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a}=t,i=[],o=e.trim().split(fte);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:p}=r(u);let x=!!p,m=n(x?h.substring(0,p):h);if(!m){if(!x){l=u+(l.length>0?" "+l:l);continue}if(m=n(h),!m){l=u+(l.length>0?" "+l:l);continue}x=!1}const g=ute(d).join(":"),w=f?g+d6:g,y=w+m;if(i.includes(y))continue;i.push(y);const b=a(m,x);for(let N=0;N<b.length;++N){const j=b[N];i.push(w+j)}l=u+(l.length>0?" "+l:l)}return l};function mte(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=f6(t))&&(n&&(n+=" "),n+=r);return n}const f6=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=f6(e[n]))&&(r&&(r+=" "),r+=t);return r};function pte(e,...t){let r,n,a,i=o;function o(c){const u=t.reduce((d,f)=>f(d),e());return r=dte(u),n=r.cache.get,a=r.cache.set,i=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=hte(c,r);return a(c,d),d}return function(){return i(mte.apply(null,arguments))}}const Kt=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},h6=/^\[(?:([a-z-]+):)?(.+)\]$/i,gte=/^\d+\/\d+$/,vte=new Set(["px","full","screen"]),yte=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,xte=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,bte=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,wte=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,jte=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,gs=e=>_u(e)||vte.has(e)||gte.test(e),io=e=>lf(e,"length",_te),_u=e=>!!e&&!Number.isNaN(Number(e)),Lw=e=>lf(e,"number",_u),Xf=e=>!!e&&Number.isInteger(Number(e)),Ste=e=>e.endsWith("%")&&_u(e.slice(0,-1)),st=e=>h6.test(e),so=e=>yte.test(e),Nte=new Set(["length","size","percentage"]),Pte=e=>lf(e,Nte,m6),Cte=e=>lf(e,"position",m6),Ate=new Set(["image","url"]),Ete=e=>lf(e,Ate,kte),Tte=e=>lf(e,"",Ote),Yf=()=>!0,lf=(e,t,r)=>{const n=h6.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},_te=e=>xte.test(e)&&!bte.test(e),m6=()=>!1,Ote=e=>wte.test(e),kte=e=>jte.test(e),Dte=()=>{const e=Kt("colors"),t=Kt("spacing"),r=Kt("blur"),n=Kt("brightness"),a=Kt("borderColor"),i=Kt("borderRadius"),o=Kt("borderSpacing"),l=Kt("borderWidth"),c=Kt("contrast"),u=Kt("grayscale"),d=Kt("hueRotate"),f=Kt("invert"),h=Kt("gap"),p=Kt("gradientColorStops"),x=Kt("gradientColorStopPositions"),m=Kt("inset"),g=Kt("margin"),w=Kt("opacity"),y=Kt("padding"),b=Kt("saturate"),N=Kt("scale"),j=Kt("sepia"),S=Kt("skew"),P=Kt("space"),C=Kt("translate"),A=()=>["auto","contain","none"],E=()=>["auto","hidden","clip","visible","scroll"],T=()=>["auto",st,t],_=()=>[st,t],O=()=>["",gs,io],M=()=>["auto",_u,st],L=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],R=()=>["solid","dashed","dotted","double","none"],V=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],D=()=>["start","end","center","between","around","evenly","stretch"],I=()=>["","0",st],B=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Y=()=>[_u,st];return{cacheSize:500,separator:":",theme:{colors:[Yf],spacing:[gs,io],blur:["none","",so,st],brightness:Y(),borderColor:[e],borderRadius:["none","","full",so,st],borderSpacing:_(),borderWidth:O(),contrast:Y(),grayscale:I(),hueRotate:Y(),invert:I(),gap:_(),gradientColorStops:[e],gradientColorStopPositions:[Ste,io],inset:T(),margin:T(),opacity:Y(),padding:_(),saturate:Y(),scale:Y(),sepia:I(),skew:Y(),space:_(),translate:_()},classGroups:{aspect:[{aspect:["auto","square","video",st]}],container:["container"],columns:[{columns:[so]}],"break-after":[{"break-after":B()}],"break-before":[{"break-before":B()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...L(),st]}],overflow:[{overflow:E()}],"overflow-x":[{"overflow-x":E()}],"overflow-y":[{"overflow-y":E()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Xf,st]}],basis:[{basis:T()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",st]}],grow:[{grow:I()}],shrink:[{shrink:I()}],order:[{order:["first","last","none",Xf,st]}],"grid-cols":[{"grid-cols":[Yf]}],"col-start-end":[{col:["auto",{span:["full",Xf,st]},st]}],"col-start":[{"col-start":M()}],"col-end":[{"col-end":M()}],"grid-rows":[{"grid-rows":[Yf]}],"row-start-end":[{row:["auto",{span:[Xf,st]},st]}],"row-start":[{"row-start":M()}],"row-end":[{"row-end":M()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",st]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",st]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...D()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...D(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...D(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[g]}],mx:[{mx:[g]}],my:[{my:[g]}],ms:[{ms:[g]}],me:[{me:[g]}],mt:[{mt:[g]}],mr:[{mr:[g]}],mb:[{mb:[g]}],ml:[{ml:[g]}],"space-x":[{"space-x":[P]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[P]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",st,t]}],"min-w":[{"min-w":[st,t,"min","max","fit"]}],"max-w":[{"max-w":[st,t,"none","full","min","max","fit","prose",{screen:[so]},so]}],h:[{h:[st,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[st,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[st,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[st,t,"auto","min","max","fit"]}],"font-size":[{text:["base",so,io]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Lw]}],"font-family":[{font:[Yf]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",st]}],"line-clamp":[{"line-clamp":["none",_u,Lw]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",gs,st]}],"list-image":[{"list-image":["none",st]}],"list-style-type":[{list:["none","disc","decimal",st]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...R(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",gs,io]}],"underline-offset":[{"underline-offset":["auto",gs,st]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:_()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",st]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",st]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...L(),Cte]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Pte]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Ete]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...R(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:R()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...R()]}],"outline-offset":[{"outline-offset":[gs,st]}],"outline-w":[{outline:[gs,io]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:O()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[gs,io]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",so,Tte]}],"shadow-color":[{shadow:[Yf]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...V(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":V()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",so,st]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[b]}],sepia:[{sepia:[j]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",st]}],duration:[{duration:Y()}],ease:[{ease:["linear","in","out","in-out",st]}],delay:[{delay:Y()}],animate:[{animate:["none","spin","ping","pulse","bounce",st]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[N]}],"scale-x":[{"scale-x":[N]}],"scale-y":[{"scale-y":[N]}],rotate:[{rotate:[Xf,st]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",st]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",st]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":_()}],"scroll-mx":[{"scroll-mx":_()}],"scroll-my":[{"scroll-my":_()}],"scroll-ms":[{"scroll-ms":_()}],"scroll-me":[{"scroll-me":_()}],"scroll-mt":[{"scroll-mt":_()}],"scroll-mr":[{"scroll-mr":_()}],"scroll-mb":[{"scroll-mb":_()}],"scroll-ml":[{"scroll-ml":_()}],"scroll-p":[{"scroll-p":_()}],"scroll-px":[{"scroll-px":_()}],"scroll-py":[{"scroll-py":_()}],"scroll-ps":[{"scroll-ps":_()}],"scroll-pe":[{"scroll-pe":_()}],"scroll-pt":[{"scroll-pt":_()}],"scroll-pr":[{"scroll-pr":_()}],"scroll-pb":[{"scroll-pb":_()}],"scroll-pl":[{"scroll-pl":_()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",st]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[gs,io,Lw]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Mte=pte(Dte);function he(...e){return Mte(yt(e))}const Ite=Mee,p6=v.forwardRef(({className:e,...t},r)=>s.jsx(GV,{ref:r,className:he("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));p6.displayName=GV.displayName;const Rte=of("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),g6=v.forwardRef(({className:e,variant:t,...r},n)=>s.jsx(XV,{ref:n,className:he(Rte({variant:t}),e),...r}));g6.displayName=XV.displayName;const $te=v.forwardRef(({className:e,...t},r)=>s.jsx(ZV,{ref:r,className:he("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));$te.displayName=ZV.displayName;const v6=v.forwardRef(({className:e,...t},r)=>s.jsx(JV,{ref:r,className:he("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:s.jsx(_0,{className:"h-4 w-4"})}));v6.displayName=JV.displayName;const y6=v.forwardRef(({className:e,...t},r)=>s.jsx(YV,{ref:r,className:he("text-sm font-semibold",e),...t}));y6.displayName=YV.displayName;const x6=v.forwardRef(({className:e,...t},r)=>s.jsx(QV,{ref:r,className:he("text-sm opacity-90",e),...t}));x6.displayName=QV.displayName;function Lte(){const{toasts:e}=wn();return s.jsxs(Ite,{children:[e.map(function({id:t,title:r,description:n,action:a,...i}){return s.jsxs(g6,{...i,children:[s.jsxs("div",{className:"grid gap-1",children:[r&&s.jsx(y6,{children:r}),n&&s.jsx(x6,{children:n})]}),a,s.jsx(v6,{})]},t)}),s.jsx(p6,{})]})}var Fte=e3[" useId ".trim().toString()]||(()=>{}),Vte=0;function Qi(e){const[t,r]=v.useState(Fte());return Ar(()=>{r(n=>n??String(Vte++))},[e]),t?`radix-${t}`:""}const zte=["top","right","bottom","left"],Qo=Math.min,da=Math.max,cy=Math.round,Rg=Math.floor,Zi=e=>({x:e,y:e}),Bte={left:"right",right:"left",bottom:"top",top:"bottom"},Ute={start:"end",end:"start"};function dS(e,t,r){return da(e,Qo(t,r))}function Bs(e,t){return typeof e=="function"?e(t):e}function Us(e){return e.split("-")[0]}function cf(e){return e.split("-")[1]}function MC(e){return e==="x"?"y":"x"}function IC(e){return e==="y"?"height":"width"}function Zo(e){return["top","bottom"].includes(Us(e))?"y":"x"}function RC(e){return MC(Zo(e))}function Kte(e,t,r){r===void 0&&(r=!1);const n=cf(e),a=RC(e),i=IC(a);let o=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=uy(o)),[o,uy(o)]}function qte(e){const t=uy(e);return[fS(e),t,fS(t)]}function fS(e){return e.replace(/start|end/g,t=>Ute[t])}function Wte(e,t,r){const n=["left","right"],a=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return r?t?a:n:t?n:a;case"left":case"right":return t?i:o;default:return[]}}function Hte(e,t,r,n){const a=cf(e);let i=Wte(Us(e),r==="start",n);return a&&(i=i.map(o=>o+"-"+a),t&&(i=i.concat(i.map(fS)))),i}function uy(e){return e.replace(/left|right|bottom|top/g,t=>Bte[t])}function Gte(e){return{top:0,right:0,bottom:0,left:0,...e}}function b6(e){return typeof e!="number"?Gte(e):{top:e,right:e,bottom:e,left:e}}function dy(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function xO(e,t,r){let{reference:n,floating:a}=e;const i=Zo(t),o=RC(t),l=IC(o),c=Us(t),u=i==="y",d=n.x+n.width/2-a.width/2,f=n.y+n.height/2-a.height/2,h=n[l]/2-a[l]/2;let p;switch(c){case"top":p={x:d,y:n.y-a.height};break;case"bottom":p={x:d,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:f};break;case"left":p={x:n.x-a.width,y:f};break;default:p={x:n.x,y:n.y}}switch(cf(t)){case"start":p[o]-=h*(r&&u?-1:1);break;case"end":p[o]+=h*(r&&u?-1:1);break}return p}const Xte=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:d,y:f}=xO(u,n,c),h=n,p={},x=0;for(let m=0;m<l.length;m++){const{name:g,fn:w}=l[m],{x:y,y:b,data:N,reset:j}=await w({x:d,y:f,initialPlacement:n,placement:h,strategy:a,middlewareData:p,rects:u,platform:o,elements:{reference:e,floating:t}});d=y??d,f=b??f,p={...p,[g]:{...p[g],...N}},j&&x<=50&&(x++,typeof j=="object"&&(j.placement&&(h=j.placement),j.rects&&(u=j.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):j.rects),{x:d,y:f}=xO(u,h,c)),m=-1)}return{x:d,y:f,placement:h,strategy:a,middlewareData:p}};async function jm(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:p=0}=Bs(t,e),x=b6(p),g=l[h?f==="floating"?"reference":"floating":f],w=dy(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(g)))==null||r?g:g.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),y=f==="floating"?{x:n,y:a,width:o.floating.width,height:o.floating.height}:o.reference,b=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),N=await(i.isElement==null?void 0:i.isElement(b))?await(i.getScale==null?void 0:i.getScale(b))||{x:1,y:1}:{x:1,y:1},j=dy(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:y,offsetParent:b,strategy:c}):y);return{top:(w.top-j.top+x.top)/N.y,bottom:(j.bottom-w.bottom+x.bottom)/N.y,left:(w.left-j.left+x.left)/N.x,right:(j.right-w.right+x.right)/N.x}}const Yte=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=Bs(e,t)||{};if(u==null)return{};const f=b6(d),h={x:r,y:n},p=RC(a),x=IC(p),m=await o.getDimensions(u),g=p==="y",w=g?"top":"left",y=g?"bottom":"right",b=g?"clientHeight":"clientWidth",N=i.reference[x]+i.reference[p]-h[p]-i.floating[x],j=h[p]-i.reference[p],S=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let P=S?S[b]:0;(!P||!await(o.isElement==null?void 0:o.isElement(S)))&&(P=l.floating[b]||i.floating[x]);const C=N/2-j/2,A=P/2-m[x]/2-1,E=Qo(f[w],A),T=Qo(f[y],A),_=E,O=P-m[x]-T,M=P/2-m[x]/2+C,L=dS(_,M,O),R=!c.arrow&&cf(a)!=null&&M!==L&&i.reference[x]/2-(M<_?E:T)-m[x]/2<0,V=R?M<_?M-_:M-O:0;return{[p]:h[p]+V,data:{[p]:L,centerOffset:M-L-V,...R&&{alignmentOffset:V}},reset:R}}}),Qte=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:m=!0,...g}=Bs(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const w=Us(a),y=Zo(l),b=Us(l)===l,N=await(c.isRTL==null?void 0:c.isRTL(u.floating)),j=h||(b||!m?[uy(l)]:qte(l)),S=x!=="none";!h&&S&&j.push(...Hte(l,m,x,N));const P=[l,...j],C=await jm(t,g),A=[];let E=((n=i.flip)==null?void 0:n.overflows)||[];if(d&&A.push(C[w]),f){const M=Kte(a,o,N);A.push(C[M[0]],C[M[1]])}if(E=[...E,{placement:a,overflows:A}],!A.every(M=>M<=0)){var T,_;const M=(((T=i.flip)==null?void 0:T.index)||0)+1,L=P[M];if(L)return{data:{index:M,overflows:E},reset:{placement:L}};let R=(_=E.filter(V=>V.overflows[0]<=0).sort((V,D)=>V.overflows[1]-D.overflows[1])[0])==null?void 0:_.placement;if(!R)switch(p){case"bestFit":{var O;const V=(O=E.filter(D=>{if(S){const I=Zo(D.placement);return I===y||I==="y"}return!0}).map(D=>[D.placement,D.overflows.filter(I=>I>0).reduce((I,B)=>I+B,0)]).sort((D,I)=>D[1]-I[1])[0])==null?void 0:O[0];V&&(R=V);break}case"initialPlacement":R=l;break}if(a!==R)return{reset:{placement:R}}}return{}}}};function bO(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function wO(e){return zte.some(t=>e[t]>=0)}const Zte=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...a}=Bs(e,t);switch(n){case"referenceHidden":{const i=await jm(t,{...a,elementContext:"reference"}),o=bO(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:wO(o)}}}case"escaped":{const i=await jm(t,{...a,altBoundary:!0}),o=bO(i,r.floating);return{data:{escapedOffsets:o,escaped:wO(o)}}}default:return{}}}}};async function Jte(e,t){const{placement:r,platform:n,elements:a}=e,i=await(n.isRTL==null?void 0:n.isRTL(a.floating)),o=Us(r),l=cf(r),c=Zo(r)==="y",u=["left","top"].includes(o)?-1:1,d=i&&c?-1:1,f=Bs(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:x}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof x=="number"&&(p=l==="end"?x*-1:x),c?{x:p*d,y:h*u}:{x:h*u,y:p*d}}const ere=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:i,placement:o,middlewareData:l}=t,c=await Jte(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:o}}}}},tre=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:a}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:g=>{let{x:w,y}=g;return{x:w,y}}},...c}=Bs(e,t),u={x:r,y:n},d=await jm(t,c),f=Zo(Us(a)),h=MC(f);let p=u[h],x=u[f];if(i){const g=h==="y"?"top":"left",w=h==="y"?"bottom":"right",y=p+d[g],b=p-d[w];p=dS(y,p,b)}if(o){const g=f==="y"?"top":"left",w=f==="y"?"bottom":"right",y=x+d[g],b=x-d[w];x=dS(y,x,b)}const m=l.fn({...t,[h]:p,[f]:x});return{...m,data:{x:m.x-r,y:m.y-n,enabled:{[h]:i,[f]:o}}}}}},rre=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:a,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Bs(e,t),d={x:r,y:n},f=Zo(a),h=MC(f);let p=d[h],x=d[f];const m=Bs(l,t),g=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(c){const b=h==="y"?"height":"width",N=i.reference[h]-i.floating[b]+g.mainAxis,j=i.reference[h]+i.reference[b]-g.mainAxis;p<N?p=N:p>j&&(p=j)}if(u){var w,y;const b=h==="y"?"width":"height",N=["top","left"].includes(Us(a)),j=i.reference[f]-i.floating[b]+(N&&((w=o.offset)==null?void 0:w[f])||0)+(N?0:g.crossAxis),S=i.reference[f]+i.reference[b]+(N?0:((y=o.offset)==null?void 0:y[f])||0)-(N?g.crossAxis:0);x<j?x=j:x>S&&(x=S)}return{[h]:p,[f]:x}}}},nre=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:a,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...u}=Bs(e,t),d=await jm(t,u),f=Us(a),h=cf(a),p=Zo(a)==="y",{width:x,height:m}=i.floating;let g,w;f==="top"||f==="bottom"?(g=f,w=h===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(w=f,g=h==="end"?"top":"bottom");const y=m-d.top-d.bottom,b=x-d.left-d.right,N=Qo(m-d[g],y),j=Qo(x-d[w],b),S=!t.middlewareData.shift;let P=N,C=j;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(C=b),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(P=y),S&&!h){const E=da(d.left,0),T=da(d.right,0),_=da(d.top,0),O=da(d.bottom,0);p?C=x-2*(E!==0||T!==0?E+T:da(d.left,d.right)):P=m-2*(_!==0||O!==0?_+O:da(d.top,d.bottom))}await c({...t,availableWidth:C,availableHeight:P});const A=await o.getDimensions(l.floating);return x!==A.width||m!==A.height?{reset:{rects:!0}}:{}}}};function O0(){return typeof window<"u"}function uf(e){return w6(e)?(e.nodeName||"").toLowerCase():"#document"}function va(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function fs(e){var t;return(t=(w6(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function w6(e){return O0()?e instanceof Node||e instanceof va(e).Node:!1}function Si(e){return O0()?e instanceof Element||e instanceof va(e).Element:!1}function os(e){return O0()?e instanceof HTMLElement||e instanceof va(e).HTMLElement:!1}function jO(e){return!O0()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof va(e).ShadowRoot}function qp(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=Ni(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(a)}function are(e){return["table","td","th"].includes(uf(e))}function k0(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function $C(e){const t=LC(),r=Si(e)?Ni(e):e;return["transform","translate","scale","rotate","perspective"].some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function ire(e){let t=Jo(e);for(;os(t)&&!gd(t);){if($C(t))return t;if(k0(t))return null;t=Jo(t)}return null}function LC(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function gd(e){return["html","body","#document"].includes(uf(e))}function Ni(e){return va(e).getComputedStyle(e)}function D0(e){return Si(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Jo(e){if(uf(e)==="html")return e;const t=e.assignedSlot||e.parentNode||jO(e)&&e.host||fs(e);return jO(t)?t.host:t}function j6(e){const t=Jo(e);return gd(t)?e.ownerDocument?e.ownerDocument.body:e.body:os(t)&&qp(t)?t:j6(t)}function Sm(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=j6(e),i=a===((n=e.ownerDocument)==null?void 0:n.body),o=va(a);if(i){const l=hS(o);return t.concat(o,o.visualViewport||[],qp(a)?a:[],l&&r?Sm(l):[])}return t.concat(a,Sm(a,[],r))}function hS(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function S6(e){const t=Ni(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=os(e),i=a?e.offsetWidth:r,o=a?e.offsetHeight:n,l=cy(r)!==i||cy(n)!==o;return l&&(r=i,n=o),{width:r,height:n,$:l}}function FC(e){return Si(e)?e:e.contextElement}function Ou(e){const t=FC(e);if(!os(t))return Zi(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:i}=S6(t);let o=(i?cy(r.width):r.width)/n,l=(i?cy(r.height):r.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const sre=Zi(0);function N6(e){const t=va(e);return!LC()||!t.visualViewport?sre:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function ore(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==va(e)?!1:t}function pc(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),i=FC(e);let o=Zi(1);t&&(n?Si(n)&&(o=Ou(n)):o=Ou(e));const l=ore(i,r,n)?N6(i):Zi(0);let c=(a.left+l.x)/o.x,u=(a.top+l.y)/o.y,d=a.width/o.x,f=a.height/o.y;if(i){const h=va(i),p=n&&Si(n)?va(n):n;let x=h,m=hS(x);for(;m&&n&&p!==x;){const g=Ou(m),w=m.getBoundingClientRect(),y=Ni(m),b=w.left+(m.clientLeft+parseFloat(y.paddingLeft))*g.x,N=w.top+(m.clientTop+parseFloat(y.paddingTop))*g.y;c*=g.x,u*=g.y,d*=g.x,f*=g.y,c+=b,u+=N,x=va(m),m=hS(x)}}return dy({width:d,height:f,x:c,y:u})}function VC(e,t){const r=D0(e).scrollLeft;return t?t.left+r:pc(fs(e)).left+r}function P6(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),a=n.left+t.scrollLeft-(r?0:VC(e,n)),i=n.top+t.scrollTop;return{x:a,y:i}}function lre(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const i=a==="fixed",o=fs(n),l=t?k0(t.floating):!1;if(n===o||l&&i)return r;let c={scrollLeft:0,scrollTop:0},u=Zi(1);const d=Zi(0),f=os(n);if((f||!f&&!i)&&((uf(n)!=="body"||qp(o))&&(c=D0(n)),os(n))){const p=pc(n);u=Ou(n),d.x=p.x+n.clientLeft,d.y=p.y+n.clientTop}const h=o&&!f&&!i?P6(o,c,!0):Zi(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:r.y*u.y-c.scrollTop*u.y+d.y+h.y}}function cre(e){return Array.from(e.getClientRects())}function ure(e){const t=fs(e),r=D0(e),n=e.ownerDocument.body,a=da(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=da(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+VC(e);const l=-r.scrollTop;return Ni(n).direction==="rtl"&&(o+=da(t.clientWidth,n.clientWidth)-a),{width:a,height:i,x:o,y:l}}function dre(e,t){const r=va(e),n=fs(e),a=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,l=0,c=0;if(a){i=a.width,o=a.height;const u=LC();(!u||u&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}return{width:i,height:o,x:l,y:c}}function fre(e,t){const r=pc(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,i=os(e)?Ou(e):Zi(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=a*i.x,u=n*i.y;return{width:o,height:l,x:c,y:u}}function SO(e,t,r){let n;if(t==="viewport")n=dre(e,r);else if(t==="document")n=ure(fs(e));else if(Si(t))n=fre(t,r);else{const a=N6(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return dy(n)}function C6(e,t){const r=Jo(e);return r===t||!Si(r)||gd(r)?!1:Ni(r).position==="fixed"||C6(r,t)}function hre(e,t){const r=t.get(e);if(r)return r;let n=Sm(e,[],!1).filter(l=>Si(l)&&uf(l)!=="body"),a=null;const i=Ni(e).position==="fixed";let o=i?Jo(e):e;for(;Si(o)&&!gd(o);){const l=Ni(o),c=$C(o);!c&&l.position==="fixed"&&(a=null),(i?!c&&!a:!c&&l.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||qp(o)&&!c&&C6(e,o))?n=n.filter(d=>d!==o):a=l,o=Jo(o)}return t.set(e,n),n}function mre(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const o=[...r==="clippingAncestors"?k0(t)?[]:hre(t,this._c):[].concat(r),n],l=o[0],c=o.reduce((u,d)=>{const f=SO(t,d,a);return u.top=da(f.top,u.top),u.right=Qo(f.right,u.right),u.bottom=Qo(f.bottom,u.bottom),u.left=da(f.left,u.left),u},SO(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function pre(e){const{width:t,height:r}=S6(e);return{width:t,height:r}}function gre(e,t,r){const n=os(t),a=fs(t),i=r==="fixed",o=pc(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=Zi(0);if(n||!n&&!i)if((uf(t)!=="body"||qp(a))&&(l=D0(t)),n){const h=pc(t,!0,i,t);c.x=h.x+t.clientLeft,c.y=h.y+t.clientTop}else a&&(c.x=VC(a));const u=a&&!n&&!i?P6(a,l):Zi(0),d=o.left+l.scrollLeft-c.x-u.x,f=o.top+l.scrollTop-c.y-u.y;return{x:d,y:f,width:o.width,height:o.height}}function Fw(e){return Ni(e).position==="static"}function NO(e,t){if(!os(e)||Ni(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return fs(e)===r&&(r=r.ownerDocument.body),r}function A6(e,t){const r=va(e);if(k0(e))return r;if(!os(e)){let a=Jo(e);for(;a&&!gd(a);){if(Si(a)&&!Fw(a))return a;a=Jo(a)}return r}let n=NO(e,t);for(;n&&are(n)&&Fw(n);)n=NO(n,t);return n&&gd(n)&&Fw(n)&&!$C(n)?r:n||ire(e)||r}const vre=async function(e){const t=this.getOffsetParent||A6,r=this.getDimensions,n=await r(e.floating);return{reference:gre(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function yre(e){return Ni(e).direction==="rtl"}const xre={convertOffsetParentRelativeRectToViewportRelativeRect:lre,getDocumentElement:fs,getClippingRect:mre,getOffsetParent:A6,getElementRects:vre,getClientRects:cre,getDimensions:pre,getScale:Ou,isElement:Si,isRTL:yre};function E6(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function bre(e,t){let r=null,n;const a=fs(e);function i(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:p}=u;if(l||t(),!h||!p)return;const x=Rg(f),m=Rg(a.clientWidth-(d+h)),g=Rg(a.clientHeight-(f+p)),w=Rg(d),b={rootMargin:-x+"px "+-m+"px "+-g+"px "+-w+"px",threshold:da(0,Qo(1,c))||1};let N=!0;function j(S){const P=S[0].intersectionRatio;if(P!==c){if(!N)return o();P?o(!1,P):n=setTimeout(()=>{o(!1,1e-7)},1e3)}P===1&&!E6(u,e.getBoundingClientRect())&&o(),N=!1}try{r=new IntersectionObserver(j,{...b,root:a.ownerDocument})}catch{r=new IntersectionObserver(j,b)}r.observe(e)}return o(!0),i}function wre(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=FC(e),d=a||i?[...u?Sm(u):[],...Sm(t)]:[];d.forEach(w=>{a&&w.addEventListener("scroll",r,{passive:!0}),i&&w.addEventListener("resize",r)});const f=u&&l?bre(u,r):null;let h=-1,p=null;o&&(p=new ResizeObserver(w=>{let[y]=w;y&&y.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var b;(b=p)==null||b.observe(t)})),r()}),u&&!c&&p.observe(u),p.observe(t));let x,m=c?pc(e):null;c&&g();function g(){const w=pc(e);m&&!E6(m,w)&&r(),m=w,x=requestAnimationFrame(g)}return r(),()=>{var w;d.forEach(y=>{a&&y.removeEventListener("scroll",r),i&&y.removeEventListener("resize",r)}),f==null||f(),(w=p)==null||w.disconnect(),p=null,c&&cancelAnimationFrame(x)}}const jre=ere,Sre=tre,Nre=Qte,Pre=nre,Cre=Zte,PO=Yte,Are=rre,Ere=(e,t,r)=>{const n=new Map,a={platform:xre,...r},i={...a.platform,_c:n};return Xte(e,t,{...a,platform:i})};var Pv=typeof document<"u"?v.useLayoutEffect:v.useEffect;function fy(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!fy(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const i=a[n];if(!(i==="_owner"&&e.$$typeof)&&!fy(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function T6(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function CO(e,t){const r=T6(e);return Math.round(t*r)/r}function Vw(e){const t=v.useRef(e);return Pv(()=>{t.current=e}),t}function Tre(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=v.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,p]=v.useState(n);fy(h,n)||p(n);const[x,m]=v.useState(null),[g,w]=v.useState(null),y=v.useCallback(D=>{D!==S.current&&(S.current=D,m(D))},[]),b=v.useCallback(D=>{D!==P.current&&(P.current=D,w(D))},[]),N=i||x,j=o||g,S=v.useRef(null),P=v.useRef(null),C=v.useRef(d),A=c!=null,E=Vw(c),T=Vw(a),_=Vw(u),O=v.useCallback(()=>{if(!S.current||!P.current)return;const D={placement:t,strategy:r,middleware:h};T.current&&(D.platform=T.current),Ere(S.current,P.current,D).then(I=>{const B={...I,isPositioned:_.current!==!1};M.current&&!fy(C.current,B)&&(C.current=B,za.flushSync(()=>{f(B)}))})},[h,t,r,T,_]);Pv(()=>{u===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,f(D=>({...D,isPositioned:!1})))},[u]);const M=v.useRef(!1);Pv(()=>(M.current=!0,()=>{M.current=!1}),[]),Pv(()=>{if(N&&(S.current=N),j&&(P.current=j),N&&j){if(E.current)return E.current(N,j,O);O()}},[N,j,O,E,A]);const L=v.useMemo(()=>({reference:S,floating:P,setReference:y,setFloating:b}),[y,b]),R=v.useMemo(()=>({reference:N,floating:j}),[N,j]),V=v.useMemo(()=>{const D={position:r,left:0,top:0};if(!R.floating)return D;const I=CO(R.floating,d.x),B=CO(R.floating,d.y);return l?{...D,transform:"translate("+I+"px, "+B+"px)",...T6(R.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:I,top:B}},[r,l,R.floating,d.x,d.y]);return v.useMemo(()=>({...d,update:O,refs:L,elements:R,floatingStyles:V}),[d,O,L,R,V])}const _re=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?PO({element:n.current,padding:a}).fn(r):{}:n?PO({element:n,padding:a}).fn(r):{}}}},Ore=(e,t)=>({...jre(e),options:[e,t]}),kre=(e,t)=>({...Sre(e),options:[e,t]}),Dre=(e,t)=>({...Are(e),options:[e,t]}),Mre=(e,t)=>({...Nre(e),options:[e,t]}),Ire=(e,t)=>({...Pre(e),options:[e,t]}),Rre=(e,t)=>({...Cre(e),options:[e,t]}),$re=(e,t)=>({..._re(e),options:[e,t]});var Lre="Arrow",_6=v.forwardRef((e,t)=>{const{children:r,width:n=10,height:a=5,...i}=e;return s.jsx(Ie.svg,{...i,ref:t,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});_6.displayName=Lre;var Fre=_6;function zC(e){const[t,r]=v.useState(void 0);return Ar(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var BC="Popper",[O6,df]=jn(BC),[Vre,k6]=O6(BC),D6=e=>{const{__scopePopper:t,children:r}=e,[n,a]=v.useState(null);return s.jsx(Vre,{scope:t,anchor:n,onAnchorChange:a,children:r})};D6.displayName=BC;var M6="PopperAnchor",I6=v.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...a}=e,i=k6(M6,r),o=v.useRef(null),l=ot(t,o);return v.useEffect(()=>{i.onAnchorChange((n==null?void 0:n.current)||o.current)}),n?null:s.jsx(Ie.div,{...a,ref:l})});I6.displayName=M6;var UC="PopperContent",[zre,Bre]=O6(UC),R6=v.forwardRef((e,t)=>{var me,De,te,ee,fe,H;const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:x,...m}=e,g=k6(UC,r),[w,y]=v.useState(null),b=ot(t,Ve=>y(Ve)),[N,j]=v.useState(null),S=zC(N),P=(S==null?void 0:S.width)??0,C=(S==null?void 0:S.height)??0,A=n+(i!=="center"?"-"+i:""),E=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},T=Array.isArray(u)?u:[u],_=T.length>0,O={padding:E,boundary:T.filter(Kre),altBoundary:_},{refs:M,floatingStyles:L,placement:R,isPositioned:V,middlewareData:D}=Tre({strategy:"fixed",placement:A,whileElementsMounted:(...Ve)=>wre(...Ve,{animationFrame:p==="always"}),elements:{reference:g.anchor},middleware:[Ore({mainAxis:a+C,alignmentAxis:o}),c&&kre({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?Dre():void 0,...O}),c&&Mre({...O}),Ire({...O,apply:({elements:Ve,rects:Me,availableWidth:dt,availableHeight:lt})=>{const{width:Pt,height:Q}=Me.reference,we=Ve.floating.style;we.setProperty("--radix-popper-available-width",`${dt}px`),we.setProperty("--radix-popper-available-height",`${lt}px`),we.setProperty("--radix-popper-anchor-width",`${Pt}px`),we.setProperty("--radix-popper-anchor-height",`${Q}px`)}}),N&&$re({element:N,padding:l}),qre({arrowWidth:P,arrowHeight:C}),h&&Rre({strategy:"referenceHidden",...O})]}),[I,B]=F6(R),Y=Jt(x);Ar(()=>{V&&(Y==null||Y())},[V,Y]);const X=(me=D.arrow)==null?void 0:me.x,oe=(De=D.arrow)==null?void 0:De.y,je=((te=D.arrow)==null?void 0:te.centerOffset)!==0,[Fe,Ae]=v.useState();return Ar(()=>{w&&Ae(window.getComputedStyle(w).zIndex)},[w]),s.jsx("div",{ref:M.setFloating,"data-radix-popper-content-wrapper":"",style:{...L,transform:V?L.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Fe,"--radix-popper-transform-origin":[(ee=D.transformOrigin)==null?void 0:ee.x,(fe=D.transformOrigin)==null?void 0:fe.y].join(" "),...((H=D.hide)==null?void 0:H.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(zre,{scope:r,placedSide:I,onArrowChange:j,arrowX:X,arrowY:oe,shouldHideArrow:je,children:s.jsx(Ie.div,{"data-side":I,"data-align":B,...m,ref:b,style:{...m.style,animation:V?void 0:"none"}})})})});R6.displayName=UC;var $6="PopperArrow",Ure={top:"bottom",right:"left",bottom:"top",left:"right"},L6=v.forwardRef(function(t,r){const{__scopePopper:n,...a}=t,i=Bre($6,n),o=Ure[i.placedSide];return s.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:s.jsx(Fre,{...a,ref:r,style:{...a.style,display:"block"}})})});L6.displayName=$6;function Kre(e){return e!==null}var qre=e=>({name:"transformOrigin",options:e,fn(t){var g,w,y;const{placement:r,rects:n,middlewareData:a}=t,o=((g=a.arrow)==null?void 0:g.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=F6(r),f={start:"0%",center:"50%",end:"100%"}[d],h=(((w=a.arrow)==null?void 0:w.x)??0)+l/2,p=(((y=a.arrow)==null?void 0:y.y)??0)+c/2;let x="",m="";return u==="bottom"?(x=o?f:`${h}px`,m=`${-c}px`):u==="top"?(x=o?f:`${h}px`,m=`${n.floating.height+c}px`):u==="right"?(x=`${-c}px`,m=o?f:`${p}px`):u==="left"&&(x=`${n.floating.width+c}px`,m=o?f:`${p}px`),{data:{x,y:m}}}});function F6(e){const[t,r="center"]=e.split("-");return[t,r]}var V6=D6,KC=I6,qC=R6,WC=L6,[M0,pze]=jn("Tooltip",[df]),HC=df(),z6="TooltipProvider",Wre=700,AO="tooltip.open",[Hre,B6]=M0(z6),U6=e=>{const{__scopeTooltip:t,delayDuration:r=Wre,skipDelayDuration:n=300,disableHoverableContent:a=!1,children:i}=e,o=v.useRef(!0),l=v.useRef(!1),c=v.useRef(0);return v.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),s.jsx(Hre,{scope:t,isOpenDelayedRef:o,delayDuration:r,onOpen:v.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:v.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:v.useCallback(u=>{l.current=u},[]),disableHoverableContent:a,children:i})};U6.displayName=z6;var K6="Tooltip",[gze,I0]=M0(K6),mS="TooltipTrigger",Gre=v.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=I0(mS,r),i=B6(mS,r),o=HC(r),l=v.useRef(null),c=ot(t,l,a.onTriggerChange),u=v.useRef(!1),d=v.useRef(!1),f=v.useCallback(()=>u.current=!1,[]);return v.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),s.jsx(KC,{asChild:!0,...o,children:s.jsx(Ie.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...n,ref:c,onPointerMove:ue(e.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!i.isPointerInTransitRef.current&&(a.onTriggerEnter(),d.current=!0)}),onPointerLeave:ue(e.onPointerLeave,()=>{a.onTriggerLeave(),d.current=!1}),onPointerDown:ue(e.onPointerDown,()=>{a.open&&a.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:ue(e.onFocus,()=>{u.current||a.onOpen()}),onBlur:ue(e.onBlur,a.onClose),onClick:ue(e.onClick,a.onClose)})})});Gre.displayName=mS;var Xre="TooltipPortal",[vze,Yre]=M0(Xre,{forceMount:void 0}),vd="TooltipContent",q6=v.forwardRef((e,t)=>{const r=Yre(vd,e.__scopeTooltip),{forceMount:n=r.forceMount,side:a="top",...i}=e,o=I0(vd,e.__scopeTooltip);return s.jsx(Sn,{present:n||o.open,children:o.disableHoverableContent?s.jsx(W6,{side:a,...i,ref:t}):s.jsx(Qre,{side:a,...i,ref:t})})}),Qre=v.forwardRef((e,t)=>{const r=I0(vd,e.__scopeTooltip),n=B6(vd,e.__scopeTooltip),a=v.useRef(null),i=ot(t,a),[o,l]=v.useState(null),{trigger:c,onClose:u}=r,d=a.current,{onPointerInTransitChange:f}=n,h=v.useCallback(()=>{l(null),f(!1)},[f]),p=v.useCallback((x,m)=>{const g=x.currentTarget,w={x:x.clientX,y:x.clientY},y=rne(w,g.getBoundingClientRect()),b=nne(w,y),N=ane(m.getBoundingClientRect()),j=sne([...b,...N]);l(j),f(!0)},[f]);return v.useEffect(()=>()=>h(),[h]),v.useEffect(()=>{if(c&&d){const x=g=>p(g,d),m=g=>p(g,c);return c.addEventListener("pointerleave",x),d.addEventListener("pointerleave",m),()=>{c.removeEventListener("pointerleave",x),d.removeEventListener("pointerleave",m)}}},[c,d,p,h]),v.useEffect(()=>{if(o){const x=m=>{const g=m.target,w={x:m.clientX,y:m.clientY},y=(c==null?void 0:c.contains(g))||(d==null?void 0:d.contains(g)),b=!ine(w,o);y?h():b&&(h(),u())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[c,d,o,u,h]),s.jsx(W6,{...e,ref:i})}),[Zre,Jre]=M0(K6,{isInside:!1}),ene=OV("TooltipContent"),W6=v.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":a,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=e,c=I0(vd,r),u=HC(r),{onClose:d}=c;return v.useEffect(()=>(document.addEventListener(AO,d),()=>document.removeEventListener(AO,d)),[d]),v.useEffect(()=>{if(c.trigger){const f=h=>{const p=h.target;p!=null&&p.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),s.jsx(sf,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:s.jsxs(qC,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx(ene,{children:n}),s.jsx(Zre,{scope:r,isInside:!0,children:s.jsx(gee,{id:c.contentId,role:"tooltip",children:a||n})})]})})});q6.displayName=vd;var H6="TooltipArrow",tne=v.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,a=HC(r);return Jre(H6,r).isInside?null:s.jsx(WC,{...a,...n,ref:t})});tne.displayName=H6;function rne(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(r,n,a,i)){case i:return"left";case a:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function nne(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function ane(e){const{top:t,right:r,bottom:n,left:a}=e;return[{x:a,y:t},{x:r,y:t},{x:r,y:n},{x:a,y:n}]}function ine(e,t){const{x:r,y:n}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i].x,c=t[i].y,u=t[o].x,d=t[o].y;c>n!=d>n&&r<(u-l)*(n-c)/(d-c)+l&&(a=!a)}return a}function sne(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),one(t)}function one(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const a=e[n];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))t.pop();else break}t.push(a)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const a=e[n];for(;r.length>=2;){const i=r[r.length-1],o=r[r.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))r.pop();else break}r.push(a)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var lne=U6,G6=q6;const cne=lne,une=v.forwardRef(({className:e,sideOffset:t=4,...r},n)=>s.jsx(G6,{ref:n,sideOffset:t,className:he("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...r}));une.displayName=G6.displayName;const le=v.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:he("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));le.displayName="Card";const _e=v.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:he("flex flex-col space-y-1.5 p-6",e),...t}));_e.displayName="CardHeader";const ke=v.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:he("text-2xl font-semibold leading-none tracking-tight",e),...t}));ke.displayName="CardTitle";const Et=v.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:he("text-sm text-muted-foreground",e),...t}));Et.displayName="CardDescription";const ce=v.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:he("p-6 pt-0",e),...t}));ce.displayName="CardContent";const dne=v.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:he("flex items-center p-6 pt-0",e),...t}));dne.displayName="CardFooter";function fne(){return s.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:s.jsx(le,{className:"w-full max-w-md mx-4",children:s.jsxs(ce,{className:"pt-6",children:[s.jsxs("div",{className:"flex mb-4 gap-2",children:[s.jsx(qo,{className:"h-8 w-8 text-red-500"}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),s.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}var hne=(e,t,r,n,a,i,o,l)=>{let c=document.documentElement,u=["light","dark"];function d(p){(Array.isArray(e)?e:[e]).forEach(x=>{let m=x==="class",g=m&&i?a.map(w=>i[w]||w):a;m?(c.classList.remove(...g),c.classList.add(i&&i[p]?i[p]:p)):c.setAttribute(x,p)}),f(p)}function f(p){l&&u.includes(p)&&(c.style.colorScheme=p)}function h(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(n)d(n);else try{let p=localStorage.getItem(t)||r,x=o&&p==="system"?h():p;d(x)}catch{}},EO=["light","dark"],X6="(prefers-color-scheme: dark)",mne=typeof window>"u",Y6=v.createContext(void 0),pne=e=>v.useContext(Y6)?v.createElement(v.Fragment,null,e.children):v.createElement(vne,{...e}),gne=["light","dark"],vne=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:r=!0,enableColorScheme:n=!0,storageKey:a="theme",themes:i=gne,defaultTheme:o=r?"system":"light",attribute:l="data-theme",value:c,children:u,nonce:d,scriptProps:f})=>{let[h,p]=v.useState(()=>xne(a,o)),[x,m]=v.useState(()=>h==="system"?zw():h),g=c?Object.values(c):i,w=v.useCallback(j=>{let S=j;if(!S)return;j==="system"&&r&&(S=zw());let P=c?c[S]:S,C=t?bne(d):null,A=document.documentElement,E=T=>{T==="class"?(A.classList.remove(...g),P&&A.classList.add(P)):T.startsWith("data-")&&(P?A.setAttribute(T,P):A.removeAttribute(T))};if(Array.isArray(l)?l.forEach(E):E(l),n){let T=EO.includes(o)?o:null,_=EO.includes(S)?S:T;A.style.colorScheme=_}C==null||C()},[d]),y=v.useCallback(j=>{let S=typeof j=="function"?j(h):j;p(S);try{localStorage.setItem(a,S)}catch{}},[h]),b=v.useCallback(j=>{let S=zw(j);m(S),h==="system"&&r&&!e&&w("system")},[h,e]);v.useEffect(()=>{let j=window.matchMedia(X6);return j.addListener(b),b(j),()=>j.removeListener(b)},[b]),v.useEffect(()=>{let j=S=>{S.key===a&&(S.newValue?p(S.newValue):y(o))};return window.addEventListener("storage",j),()=>window.removeEventListener("storage",j)},[y]),v.useEffect(()=>{w(e??h)},[e,h]);let N=v.useMemo(()=>({theme:h,setTheme:y,forcedTheme:e,resolvedTheme:h==="system"?x:h,themes:r?[...i,"system"]:i,systemTheme:r?x:void 0}),[h,y,e,x,r,i]);return v.createElement(Y6.Provider,{value:N},v.createElement(yne,{forcedTheme:e,storageKey:a,attribute:l,enableSystem:r,enableColorScheme:n,defaultTheme:o,value:c,themes:i,nonce:d,scriptProps:f}),u)},yne=v.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:a,defaultTheme:i,value:o,themes:l,nonce:c,scriptProps:u})=>{let d=JSON.stringify([r,t,i,e,l,o,n,a]).slice(1,-1);return v.createElement("script",{...u,suppressHydrationWarning:!0,nonce:typeof window>"u"?c:"",dangerouslySetInnerHTML:{__html:`(${hne.toString()})(${d})`}})}),xne=(e,t)=>{if(mne)return;let r;try{r=localStorage.getItem(e)||void 0}catch{}return r||t},bne=e=>{let t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(t),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(t)},1)}},zw=e=>(e||(e=window.matchMedia(X6)),e.matches?"dark":"light");const wne="modulepreload",jne=function(e){return"/"+e},TO={},Q6=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=Promise.allSettled(r.map(c=>{if(c=jne(c),c in TO)return;TO[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":wne,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((h,p)=>{f.addEventListener("load",h),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},Z6=v.createContext(null);function Sne({children:e}){const[t,r]=v.useState(null),[n,a]=v.useState(!0),{toast:i}=wn(),o=async()=>{try{const p=xm();if(!p){r(null);return}const x=await fetch("/api/user",{headers:{Authorization:`Bearer ${p}`}});if(x.ok){const m=await x.json();console.log("[Auth] Usuario actualizado:",m),r(m)}else console.log("[Auth] Token inválido en refreshUser, borrando..."),fu(),r(null),Rl.invalidateQueries()}catch(p){console.log("[Auth] Error al refrescar usuario:",p)}};v.useEffect(()=>{const p=async()=>{try{const m=xm();if(!m){console.log("[Auth] Sin token, finalizando loading"),a(!1);return}console.log("[Auth] Token encontrado, verificando usuario...");const g=new Promise((y,b)=>{setTimeout(()=>b(new Error("Timeout")),1e4)}),w=await Promise.race([fetch("/api/user",{headers:{Authorization:`Bearer ${m}`}}),g]);if(w.ok){const y=await w.json();console.log("[Auth] Usuario cargado:",y),r(y)}else console.log("[Auth] Token inválido, borrando..."),fu(),r(null)}catch(m){console.log("[Auth] Error al verificar autenticación:",m),(m.message==="Timeout"||m.message==="Failed to fetch")&&(console.log("[Auth] Error de conexión - limpiando autenticación"),fu(),r(null))}finally{console.log("[Auth] Finalizando loading"),a(!1)}},x=setTimeout(()=>{console.log("[Auth] Safety timeout - forzando fin de loading"),a(!1)},15e3);p().finally(()=>{clearTimeout(x)})},[]);const l=async(p,x)=>{try{a(!0),console.log("[Auth] Intentando login con nombre de usuario:",p);const{apiRequest:m,setAuthToken:g}=await Q6(async()=>{const{apiRequest:b,setAuthToken:N}=await Promise.resolve().then(()=>BJ);return{apiRequest:b,setAuthToken:N}},void 0),w=await m("POST","/api/login",{username:p,password:x},{useCache:!1});if(!w.ok){const b=await w.json();throw new Error(b.message||"Error al iniciar sesión")}const y=await w.json();g(y.token),r(y.user),Rl.invalidateQueries({queryKey:["/api/user"]}),Rl.invalidateQueries({queryKey:["/api/companies"]}),console.log("[Auth] Login exitoso para usuario:",y.user.name),i({title:"¡Bienvenido!",description:`Sesión iniciada como ${y.user.name}`})}catch(m){throw console.error("[Auth] Error login:",m),i({title:"Error al iniciar sesión",description:m.message||"Credenciales incorrectas",variant:"destructive"}),m}finally{a(!1)}},c=async()=>{try{a(!0),fu(),r(null),Rl.clear(),console.log("[Auth] Usuario desconectado correctamente"),i({title:"Sesión cerrada",description:"Has cerrado sesión correctamente"})}catch(p){console.error("[Auth] Error logout:",p),i({title:"Error al cerrar sesión",description:"Ha ocurrido un error al cerrar la sesión",variant:"destructive"})}finally{a(!1)}},u=(t==null?void 0:t.role)==="admin",d=(t==null?void 0:t.role)==="admin"||(t==null?void 0:t.role)==="manager"||(t==null?void 0:t.name)==="Mario Reynoso",f=(t==null?void 0:t.role)==="admin"||(t==null?void 0:t.name)==="Mario Reynoso"||(t==null?void 0:t.name)==="Thalia Rodriguez",h=(t==null?void 0:t.areaId)===1||(t==null?void 0:t.areaId)===4;return s.jsx(Z6.Provider,{value:{user:t,isLoading:n,isAdmin:u,isMarioOrAdmin:d,hasLogisticsAccess:f,hasSalesAccess:h,login:l,logout:c,refreshUser:o},children:e})}function dl(){const e=v.useContext(Z6);if(!e)throw new Error("useAuth debe ser usado dentro de un AuthProvider");return e}const GC=of("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),re=v.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...a},i)=>{const o=n?TV:"button";return s.jsx(o,{className:he(GC({variant:t,size:r,className:e})),ref:i,...a})});re.displayName="Button";function J6({className:e="",height:t=100}){return s.jsx("img",{src:"/Logo-ECONOVA-OF_Blanco.png",alt:"Econova Logo",className:e,style:{height:`${t}px`,display:"block",objectFit:"cover",maxWidth:"100%",width:"100%"}})}var Bw="focusScope.autoFocusOnMount",Uw="focusScope.autoFocusOnUnmount",_O={bubbles:!1,cancelable:!0},Nne="FocusScope",R0=v.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=e,[l,c]=v.useState(null),u=Jt(a),d=Jt(i),f=v.useRef(null),h=ot(t,m=>c(m)),p=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(n){let m=function(b){if(p.paused||!l)return;const N=b.target;l.contains(N)?f.current=N:co(f.current,{select:!0})},g=function(b){if(p.paused||!l)return;const N=b.relatedTarget;N!==null&&(l.contains(N)||co(f.current,{select:!0}))},w=function(b){if(document.activeElement===document.body)for(const j of b)j.removedNodes.length>0&&co(l)};document.addEventListener("focusin",m),document.addEventListener("focusout",g);const y=new MutationObserver(w);return l&&y.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",g),y.disconnect()}}},[n,l,p.paused]),v.useEffect(()=>{if(l){kO.add(p);const m=document.activeElement;if(!l.contains(m)){const w=new CustomEvent(Bw,_O);l.addEventListener(Bw,u),l.dispatchEvent(w),w.defaultPrevented||(Pne(_ne(ez(l)),{select:!0}),document.activeElement===m&&co(l))}return()=>{l.removeEventListener(Bw,u),setTimeout(()=>{const w=new CustomEvent(Uw,_O);l.addEventListener(Uw,d),l.dispatchEvent(w),w.defaultPrevented||co(m??document.body,{select:!0}),l.removeEventListener(Uw,d),kO.remove(p)},0)}}},[l,u,d,p]);const x=v.useCallback(m=>{if(!r&&!n||p.paused)return;const g=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,w=document.activeElement;if(g&&w){const y=m.currentTarget,[b,N]=Cne(y);b&&N?!m.shiftKey&&w===N?(m.preventDefault(),r&&co(b,{select:!0})):m.shiftKey&&w===b&&(m.preventDefault(),r&&co(N,{select:!0})):w===y&&m.preventDefault()}},[r,n,p.paused]);return s.jsx(Ie.div,{tabIndex:-1,...o,ref:h,onKeyDown:x})});R0.displayName=Nne;function Pne(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(co(n,{select:t}),document.activeElement!==r)return}function Cne(e){const t=ez(e),r=OO(t,e),n=OO(t.reverse(),e);return[r,n]}function ez(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function OO(e,t){for(const r of e)if(!Ane(r,{upTo:t}))return r}function Ane(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Ene(e){return e instanceof HTMLInputElement&&"select"in e}function co(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&Ene(e)&&t&&e.select()}}var kO=Tne();function Tne(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=DO(e,t),e.unshift(t)},remove(t){var r;e=DO(e,t),(r=e[0])==null||r.resume()}}}function DO(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function _ne(e){return e.filter(t=>t.tagName!=="A")}var Kw=0;function XC(){v.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??MO()),document.body.insertAdjacentElement("beforeend",e[1]??MO()),Kw++,()=>{Kw===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Kw--}},[])}function MO(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Bi=function(){return Bi=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Bi.apply(this,arguments)};function tz(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function One(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}var Cv="right-scroll-bar-position",Av="width-before-scroll-bar",kne="with-scroll-bars-hidden",Dne="--removed-body-scroll-bar-size";function qw(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Mne(e,t){var r=v.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=t,r.facade}var Ine=typeof window<"u"?v.useLayoutEffect:v.useEffect,IO=new WeakMap;function Rne(e,t){var r=Mne(null,function(n){return e.forEach(function(a){return qw(a,n)})});return Ine(function(){var n=IO.get(r);if(n){var a=new Set(n),i=new Set(e),o=r.current;a.forEach(function(l){i.has(l)||qw(l,null)}),i.forEach(function(l){a.has(l)||qw(l,o)})}IO.set(r,e)},[e]),r}function $ne(e){return e}function Lne(e,t){t===void 0&&(t=$ne);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(i),o=r}var c=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),r}}}};return a}function Fne(e){e===void 0&&(e={});var t=Lne(null);return t.options=Bi({async:!0,ssr:!1},e),t}var rz=function(e){var t=e.sideCar,r=tz(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return v.createElement(n,Bi({},r))};rz.isSideCarExport=!0;function Vne(e,t){return e.useMedium(t),rz}var nz=Fne(),Ww=function(){},$0=v.forwardRef(function(e,t){var r=v.useRef(null),n=v.useState({onScrollCapture:Ww,onWheelCapture:Ww,onTouchMoveCapture:Ww}),a=n[0],i=n[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,p=e.noIsolation,x=e.inert,m=e.allowPinchZoom,g=e.as,w=g===void 0?"div":g,y=e.gapMode,b=tz(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=h,j=Rne([r,t]),S=Bi(Bi({},b),a);return v.createElement(v.Fragment,null,d&&v.createElement(N,{sideCar:nz,removeScrollBar:u,shards:f,noIsolation:p,inert:x,setCallbacks:i,allowPinchZoom:!!m,lockRef:r,gapMode:y}),o?v.cloneElement(v.Children.only(l),Bi(Bi({},S),{ref:j})):v.createElement(w,Bi({},S,{className:c,ref:j}),l))});$0.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};$0.classNames={fullWidth:Av,zeroRight:Cv};var zne=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Bne(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=zne();return t&&e.setAttribute("nonce",t),e}function Une(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Kne(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var qne=function(){var e=0,t=null;return{add:function(r){e==0&&(t=Bne())&&(Une(t,r),Kne(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Wne=function(){var e=qne();return function(t,r){v.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},az=function(){var e=Wne(),t=function(r){var n=r.styles,a=r.dynamic;return e(n,a),null};return t},Hne={left:0,top:0,right:0,gap:0},Hw=function(e){return parseInt(e||"",10)||0},Gne=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[Hw(r),Hw(n),Hw(a)]},Xne=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Hne;var t=Gne(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},Yne=az(),ku="data-scroll-locked",Qne=function(e,t,r,n){var a=e.left,i=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(kne,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(ku,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Cv,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Av,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Cv," .").concat(Cv,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Av," .").concat(Av,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(ku,`] {
    `).concat(Dne,": ").concat(l,`px;
  }
`)},RO=function(){var e=parseInt(document.body.getAttribute(ku)||"0",10);return isFinite(e)?e:0},Zne=function(){v.useEffect(function(){return document.body.setAttribute(ku,(RO()+1).toString()),function(){var e=RO()-1;e<=0?document.body.removeAttribute(ku):document.body.setAttribute(ku,e.toString())}},[])},Jne=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,a=n===void 0?"margin":n;Zne();var i=v.useMemo(function(){return Xne(a)},[a]);return v.createElement(Yne,{styles:Qne(i,!t,a,r?"":"!important")})},pS=!1;if(typeof window<"u")try{var $g=Object.defineProperty({},"passive",{get:function(){return pS=!0,!0}});window.addEventListener("test",$g,$g),window.removeEventListener("test",$g,$g)}catch{pS=!1}var Bc=pS?{passive:!1}:!1,eae=function(e){return e.tagName==="TEXTAREA"},iz=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!eae(e)&&r[t]==="visible")},tae=function(e){return iz(e,"overflowY")},rae=function(e){return iz(e,"overflowX")},$O=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=sz(e,n);if(a){var i=oz(e,n),o=i[1],l=i[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},nae=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},aae=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},sz=function(e,t){return e==="v"?tae(t):rae(t)},oz=function(e,t){return e==="v"?nae(t):aae(t)},iae=function(e,t){return e==="h"&&t==="rtl"?-1:1},sae=function(e,t,r,n,a){var i=iae(e,window.getComputedStyle(t).direction),o=i*n,l=r.target,c=t.contains(l),u=!1,d=o>0,f=0,h=0;do{var p=oz(e,l),x=p[0],m=p[1],g=p[2],w=m-g-i*x;(x||w)&&sz(e,l)&&(f+=w,h+=x),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&Math.abs(f)<1||!d&&Math.abs(h)<1)&&(u=!0),u},Lg=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},LO=function(e){return[e.deltaX,e.deltaY]},FO=function(e){return e&&"current"in e?e.current:e},oae=function(e,t){return e[0]===t[0]&&e[1]===t[1]},lae=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},cae=0,Uc=[];function uae(e){var t=v.useRef([]),r=v.useRef([0,0]),n=v.useRef(),a=v.useState(cae++)[0],i=v.useState(az)[0],o=v.useRef(e);v.useEffect(function(){o.current=e},[e]),v.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var m=One([e.lockRef.current],(e.shards||[]).map(FO),!0).filter(Boolean);return m.forEach(function(g){return g.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),m.forEach(function(g){return g.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=v.useCallback(function(m,g){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!o.current.allowPinchZoom;var w=Lg(m),y=r.current,b="deltaX"in m?m.deltaX:y[0]-w[0],N="deltaY"in m?m.deltaY:y[1]-w[1],j,S=m.target,P=Math.abs(b)>Math.abs(N)?"h":"v";if("touches"in m&&P==="h"&&S.type==="range")return!1;var C=$O(P,S);if(!C)return!0;if(C?j=P:(j=P==="v"?"h":"v",C=$O(P,S)),!C)return!1;if(!n.current&&"changedTouches"in m&&(b||N)&&(n.current=j),!j)return!0;var A=n.current||j;return sae(A,g,m,A==="h"?b:N)},[]),c=v.useCallback(function(m){var g=m;if(!(!Uc.length||Uc[Uc.length-1]!==i)){var w="deltaY"in g?LO(g):Lg(g),y=t.current.filter(function(j){return j.name===g.type&&(j.target===g.target||g.target===j.shadowParent)&&oae(j.delta,w)})[0];if(y&&y.should){g.cancelable&&g.preventDefault();return}if(!y){var b=(o.current.shards||[]).map(FO).filter(Boolean).filter(function(j){return j.contains(g.target)}),N=b.length>0?l(g,b[0]):!o.current.noIsolation;N&&g.cancelable&&g.preventDefault()}}},[]),u=v.useCallback(function(m,g,w,y){var b={name:m,delta:g,target:w,should:y,shadowParent:dae(w)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(N){return N!==b})},1)},[]),d=v.useCallback(function(m){r.current=Lg(m),n.current=void 0},[]),f=v.useCallback(function(m){u(m.type,LO(m),m.target,l(m,e.lockRef.current))},[]),h=v.useCallback(function(m){u(m.type,Lg(m),m.target,l(m,e.lockRef.current))},[]);v.useEffect(function(){return Uc.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,Bc),document.addEventListener("touchmove",c,Bc),document.addEventListener("touchstart",d,Bc),function(){Uc=Uc.filter(function(m){return m!==i}),document.removeEventListener("wheel",c,Bc),document.removeEventListener("touchmove",c,Bc),document.removeEventListener("touchstart",d,Bc)}},[]);var p=e.removeScrollBar,x=e.inert;return v.createElement(v.Fragment,null,x?v.createElement(i,{styles:lae(a)}):null,p?v.createElement(Jne,{gapMode:e.gapMode}):null)}function dae(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const fae=Vne(nz,uae);var L0=v.forwardRef(function(e,t){return v.createElement($0,Bi({},e,{ref:t,sideCar:fae}))});L0.classNames=$0.classNames;var hae=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Kc=new WeakMap,Fg=new WeakMap,Vg={},Gw=0,lz=function(e){return e&&(e.host||lz(e.parentNode))},mae=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=lz(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},pae=function(e,t,r,n){var a=mae(t,Array.isArray(e)?e:[e]);Vg[r]||(Vg[r]=new WeakMap);var i=Vg[r],o=[],l=new Set,c=new Set(a),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};a.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))d(h);else try{var p=h.getAttribute(n),x=p!==null&&p!=="false",m=(Kc.get(h)||0)+1,g=(i.get(h)||0)+1;Kc.set(h,m),i.set(h,g),o.push(h),m===1&&x&&Fg.set(h,!0),g===1&&h.setAttribute(r,"true"),x||h.setAttribute(n,"true")}catch(w){console.error("aria-hidden: cannot operate on ",h,w)}})};return d(t),l.clear(),Gw++,function(){o.forEach(function(f){var h=Kc.get(f)-1,p=i.get(f)-1;Kc.set(f,h),i.set(f,p),h||(Fg.has(f)||f.removeAttribute(n),Fg.delete(f)),p||f.removeAttribute(r)}),Gw--,Gw||(Kc=new WeakMap,Kc=new WeakMap,Fg=new WeakMap,Vg={})}},YC=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=hae(e);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live]"))),pae(n,a,r,"aria-hidden")):function(){return null}},QC="Dialog",[cz,uz]=jn(QC),[gae,Ti]=cz(QC),dz=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!0}=e,l=v.useRef(null),c=v.useRef(null),[u=!1,d]=Ya({prop:n,defaultProp:a,onChange:i});return s.jsx(gae,{scope:t,triggerRef:l,contentRef:c,contentId:Qi(),titleId:Qi(),descriptionId:Qi(),open:u,onOpenChange:d,onOpenToggle:v.useCallback(()=>d(f=>!f),[d]),modal:o,children:r})};dz.displayName=QC;var fz="DialogTrigger",hz=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Ti(fz,r),i=ot(t,a.triggerRef);return s.jsx(Ie.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":eA(a.open),...n,ref:i,onClick:ue(e.onClick,a.onOpenToggle)})});hz.displayName=fz;var ZC="DialogPortal",[vae,mz]=cz(ZC,{forceMount:void 0}),pz=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:a}=e,i=Ti(ZC,t);return s.jsx(vae,{scope:t,forceMount:r,children:v.Children.map(n,o=>s.jsx(Sn,{present:r||i.open,children:s.jsx(zp,{asChild:!0,container:a,children:o})}))})};pz.displayName=ZC;var hy="DialogOverlay",gz=v.forwardRef((e,t)=>{const r=mz(hy,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=Ti(hy,e.__scopeDialog);return i.modal?s.jsx(Sn,{present:n||i.open,children:s.jsx(xae,{...a,ref:t})}):null});gz.displayName=hy;var yae=fc("DialogOverlay.RemoveScroll"),xae=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Ti(hy,r);return s.jsx(L0,{as:yae,allowPinchZoom:!0,shards:[a.contentRef],children:s.jsx(Ie.div,{"data-state":eA(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),gc="DialogContent",vz=v.forwardRef((e,t)=>{const r=mz(gc,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=Ti(gc,e.__scopeDialog);return s.jsx(Sn,{present:n||i.open,children:i.modal?s.jsx(bae,{...a,ref:t}):s.jsx(wae,{...a,ref:t})})});vz.displayName=gc;var bae=v.forwardRef((e,t)=>{const r=Ti(gc,e.__scopeDialog),n=v.useRef(null),a=ot(t,r.contentRef,n);return v.useEffect(()=>{const i=n.current;if(i)return YC(i)},[]),s.jsx(yz,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ue(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:ue(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:ue(e.onFocusOutside,i=>i.preventDefault())})}),wae=v.forwardRef((e,t)=>{const r=Ti(gc,e.__scopeDialog),n=v.useRef(!1),a=v.useRef(!1);return s.jsx(yz,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),yz=v.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=e,l=Ti(gc,r),c=v.useRef(null),u=ot(t,c);return XC(),s.jsxs(s.Fragment,{children:[s.jsx(R0,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(sf,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":eA(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(Sae,{titleId:l.titleId}),s.jsx(Pae,{contentRef:c,descriptionId:l.descriptionId})]})]})}),JC="DialogTitle",xz=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Ti(JC,r);return s.jsx(Ie.h2,{id:a.titleId,...n,ref:t})});xz.displayName=JC;var bz="DialogDescription",wz=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Ti(bz,r);return s.jsx(Ie.p,{id:a.descriptionId,...n,ref:t})});wz.displayName=bz;var jz="DialogClose",Sz=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,a=Ti(jz,r);return s.jsx(Ie.button,{type:"button",...n,ref:t,onClick:ue(e.onClick,()=>a.onOpenChange(!1))})});Sz.displayName=jz;function eA(e){return e?"open":"closed"}var Nz="DialogTitleWarning",[jae,Pz]=GJ(Nz,{contentName:gc,titleName:JC,docsSlug:"dialog"}),Sae=({titleId:e})=>{const t=Pz(Nz),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return v.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},Nae="DialogDescriptionWarning",Pae=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Pz(Nae).contentName}}.`;return v.useEffect(()=>{var i;const a=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},Cz=dz,Az=hz,Ez=pz,tA=gz,rA=vz,nA=xz,aA=wz,iA=Sz;const Ir=Cz,gS=Az,Cae=Ez,Tz=v.forwardRef(({className:e,...t},r)=>s.jsx(tA,{ref:r,className:he("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));Tz.displayName=tA.displayName;const Sr=v.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(Cae,{children:[s.jsx(Tz,{}),s.jsxs(rA,{ref:n,className:he("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,s.jsxs(iA,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(_0,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Sr.displayName=rA.displayName;const Nr=({className:e,...t})=>s.jsx("div",{className:he("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Nr.displayName="DialogHeader";const F0=({className:e,...t})=>s.jsx("div",{className:he("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});F0.displayName="DialogFooter";const Pr=v.forwardRef(({className:e,...t},r)=>s.jsx(nA,{ref:r,className:he("text-lg font-semibold leading-none tracking-tight",e),...t}));Pr.displayName=nA.displayName;const el=v.forwardRef(({className:e,...t},r)=>s.jsx(aA,{ref:r,className:he("text-sm text-muted-foreground",e),...t}));el.displayName=aA.displayName;const qc=({href:e,icon:t,children:r,className:n,active:a,onClick:i})=>{const[o,l]=ss(),c=d=>{d.preventDefault(),console.log("NavItem clicked:",e),l(e),i&&i()},u=a;return s.jsxs("button",{onClick:c,className:he("w-full flex items-center px-4 py-3 text-sm font-medium rounded-lg cursor-pointer transition-all duration-200 group text-left",u?"bg-gradient-to-r from-[#b5e951]/20 to-[#b5e951]/10 text-white shadow-lg border-l-4 border-[#b5e951] scale-105":"text-white/80 hover:bg-gradient-to-r hover:from-[#3a4d5d] hover:to-[#3a4d5d]/80 hover:text-white hover:scale-105 hover:shadow-md",n),children:[t,s.jsx("span",{className:"ml-3 transition-all duration-200",children:r})]})};function my(){const[e]=ss(),{user:t,isAdmin:r,isMarioOrAdmin:n,hasLogisticsAccess:a,hasSalesAccess:i,logout:o}=dl(),[l,c]=v.useState(!1),[u,d]=v.useState(!1),[,f]=ss(),{data:h=[]}=$e({queryKey:["/api/notifications"],enabled:!!t}),p=h.filter(g=>!g.read).length,x=()=>{c(!l)},m=()=>{l&&c(!1)};return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"lg:hidden fixed top-2 left-2 z-[1000]",children:s.jsx(re,{variant:"ghost",size:"sm",className:"p-2 text-primary bg-white dark:bg-primary-950 dark:text-white border shadow-sm hover:bg-secondary-50 dark:hover:bg-primary-900",onClick:x,children:s.jsx(Qee,{className:"h-5 w-5"})})}),s.jsxs("aside",{className:he("lg:flex lg:flex-col w-64 bg-gradient-to-b from-[#1a2633] via-[#273949] to-[#1a2633] shadow-2xl z-[1001] h-screen overflow-y-auto transition-all duration-300",l?"fixed inset-y-0 left-0 transform translate-x-0":"fixed inset-y-0 left-0 transform -translate-x-full lg:translate-x-0"),style:{width:"250px"},children:[l&&s.jsx(re,{variant:"ghost",size:"sm",className:"absolute top-2 right-2 text-white hover:bg-[#3a4d5d] lg:hidden",onClick:m,children:s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M18 6 6 18"}),s.jsx("path",{d:"m6 6 12 12"})]})}),s.jsx("div",{className:"px-4 py-6 border-b border-[#3a4d5d]/60 flex items-center justify-center from-[#b5e951]/10 to-[#b5e951]/5 backdrop-blur-sm bg-[#253646]",children:s.jsx("div",{className:"flex flex-shrink-0 items-center",children:s.jsx(J6,{height:55})})}),s.jsxs("nav",{className:"flex-1 px-3 py-6 space-y-2",children:[s.jsx("div",{className:"pb-3",children:s.jsx("p",{className:"px-4 text-xs uppercase tracking-wider text-white/60 font-semibold",children:"Acciones Principales"})}),s.jsx(qc,{href:"/",icon:s.jsx(Xee,{className:"mr-3 h-5 w-5 text-[#b5e951] group-hover:scale-110 transition-transform duration-200"}),active:e==="/",onClick:m,children:"Dashboard"}),s.jsx(qc,{href:"/kpi-control",icon:s.jsx(rn,{className:"mr-3 h-5 w-5 text-orange-400 group-hover:scale-110 transition-transform duration-200"}),active:e==="/kpi-control",onClick:m,className:"border border-orange-400/20 bg-gradient-to-r from-orange-400/10 to-yellow-400/10",children:"Centro de Control KPIs"}),n&&s.jsx(qc,{href:"/team-management",icon:s.jsx(pd,{className:"mr-3 h-5 w-5 text-blue-400 group-hover:scale-110 transition-transform duration-200"}),active:e==="/team-management",onClick:m,className:"border border-blue-400/20 bg-gradient-to-r from-blue-400/10 to-cyan-400/10",children:"Gestión del Equipo"}),i&&s.jsx(qc,{href:"/sales-update",icon:s.jsx(zee,{className:"mr-3 h-5 w-5 text-emerald-400 group-hover:scale-110 transition-transform duration-200"}),active:e==="/sales-update",onClick:m,children:"Actualizar Ventas"}),a&&s.jsx(qc,{href:"/shipments",icon:s.jsx(wm,{className:"mr-3 h-5 w-5 text-cyan-400 group-hover:scale-110 transition-transform duration-200"}),active:e==="/shipments"||e.includes("/shipments/"),onClick:m,children:"Trazabilidad de Envíos"}),s.jsxs("div",{onClick:()=>d(!0),className:he("flex items-center px-4 py-3 text-sm font-medium rounded-lg cursor-pointer transition-all duration-200 group",e==="/gestión-pagos"||e==="/payment-management"||e==="/cotizacion-dolares"?"bg-gradient-to-r from-[#b5e951]/20 to-[#b5e951]/10 text-white shadow-lg border-l-4 border-[#b5e951] scale-105":"text-white/80 hover:bg-gradient-to-r hover:from-[#3a4d5d] hover:to-[#3a4d5d]/80 hover:text-white hover:scale-105 hover:shadow-md","border border-emerald-400/20 bg-gradient-to-r from-emerald-400/10 to-green-400/10"),children:[s.jsx(gO,{className:"mr-3 h-5 w-5 text-emerald-400 group-hover:scale-110 transition-transform duration-200"}),s.jsx("span",{className:"transition-all duration-200",children:"Tesorería"})]}),s.jsx(qc,{href:"/notifications",icon:s.jsxs("div",{className:"relative mr-3 group-hover:scale-110 transition-transform duration-200",children:[s.jsx(dd,{className:"h-5 w-5 text-purple-400"}),p>0&&s.jsx("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full h-4 w-4 flex items-center justify-center animate-pulse",children:p>9?"9+":p})]}),active:e==="/notifications",onClick:m,className:"border border-purple-400/20 bg-gradient-to-r from-purple-400/10 to-pink-400/10",children:"Mensajes del Equipo"})]})]}),s.jsx(Ir,{open:u,onOpenChange:d,children:s.jsxs(Sr,{className:"max-w-md",children:[s.jsx(Nr,{children:s.jsxs(Pr,{className:"flex items-center gap-2",children:[s.jsx(gO,{className:"h-5 w-5 text-emerald-400"}),"Módulos de Tesorería"]})}),s.jsxs("div",{className:"grid gap-3 mt-4",children:[s.jsxs(re,{onClick:()=>{f("/gestión-pagos"),d(!1),m()},variant:"outline",className:"h-16 flex flex-col items-center justify-center gap-2 hover:bg-green-50 hover:border-green-300 transition-colors",children:[s.jsx(yh,{className:"h-6 w-6 text-green-500"}),s.jsx("span",{className:"text-sm font-medium",children:"Gestión de Pagos"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"Comprobantes y recibos"})]}),s.jsxs(re,{onClick:()=>{f("/cotizacion-dolares"),d(!1),m()},variant:"outline",className:"h-16 flex flex-col items-center justify-center gap-2 hover:bg-yellow-50 hover:border-yellow-300 transition-colors",children:[s.jsx(fd,{className:"h-6 w-6 text-yellow-500"}),s.jsx("span",{className:"text-sm font-medium",children:"Cotización Dólares"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"Tipos de cambio"})]})]})]})}),l&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 z-0 lg:hidden",onClick:x})]})}const Ee=v.forwardRef(({className:e,type:t,...r},n)=>s.jsx("input",{type:t,className:he("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));Ee.displayName="Input";var Aae=v.createContext(void 0);function ff(e){const t=v.useContext(Aae);return e||t||"ltr"}var Xw="rovingFocusGroup.onEntryFocus",Eae={bubbles:!1,cancelable:!0},V0="RovingFocusGroup",[vS,_z,Tae]=P0(V0),[_ae,hf]=jn(V0,[Tae]),[Oae,kae]=_ae(V0),Oz=v.forwardRef((e,t)=>s.jsx(vS.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(vS.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx(Dae,{...e,ref:t})})}));Oz.displayName=V0;var Dae=v.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=v.useRef(null),p=ot(t,h),x=ff(i),[m=null,g]=Ya({prop:o,defaultProp:l,onChange:c}),[w,y]=v.useState(!1),b=Jt(u),N=_z(r),j=v.useRef(!1),[S,P]=v.useState(0);return v.useEffect(()=>{const C=h.current;if(C)return C.addEventListener(Xw,b),()=>C.removeEventListener(Xw,b)},[b]),s.jsx(Oae,{scope:r,orientation:n,dir:x,loop:a,currentTabStopId:m,onItemFocus:v.useCallback(C=>g(C),[g]),onItemShiftTab:v.useCallback(()=>y(!0),[]),onFocusableItemAdd:v.useCallback(()=>P(C=>C+1),[]),onFocusableItemRemove:v.useCallback(()=>P(C=>C-1),[]),children:s.jsx(Ie.div,{tabIndex:w||S===0?-1:0,"data-orientation":n,...f,ref:p,style:{outline:"none",...e.style},onMouseDown:ue(e.onMouseDown,()=>{j.current=!0}),onFocus:ue(e.onFocus,C=>{const A=!j.current;if(C.target===C.currentTarget&&A&&!w){const E=new CustomEvent(Xw,Eae);if(C.currentTarget.dispatchEvent(E),!E.defaultPrevented){const T=N().filter(R=>R.focusable),_=T.find(R=>R.active),O=T.find(R=>R.id===m),L=[_,O,...T].filter(Boolean).map(R=>R.ref.current);Mz(L,d)}}j.current=!1}),onBlur:ue(e.onBlur,()=>y(!1))})})}),kz="RovingFocusGroupItem",Dz=v.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:i,...o}=e,l=Qi(),c=i||l,u=kae(kz,r),d=u.currentTabStopId===c,f=_z(r),{onFocusableItemAdd:h,onFocusableItemRemove:p}=u;return v.useEffect(()=>{if(n)return h(),()=>p()},[n,h,p]),s.jsx(vS.ItemSlot,{scope:r,id:c,focusable:n,active:a,children:s.jsx(Ie.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...o,ref:t,onMouseDown:ue(e.onMouseDown,x=>{n?u.onItemFocus(c):x.preventDefault()}),onFocus:ue(e.onFocus,()=>u.onItemFocus(c)),onKeyDown:ue(e.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){u.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const m=Rae(x,u.orientation,u.dir);if(m!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let w=f().filter(y=>y.focusable).map(y=>y.ref.current);if(m==="last")w.reverse();else if(m==="prev"||m==="next"){m==="prev"&&w.reverse();const y=w.indexOf(x.currentTarget);w=u.loop?$ae(w,y+1):w.slice(y+1)}setTimeout(()=>Mz(w))}})})})});Dz.displayName=kz;var Mae={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Iae(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Rae(e,t,r){const n=Iae(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return Mae[n]}function Mz(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function $ae(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var sA=Oz,oA=Dz,yS=["Enter"," "],Lae=["ArrowDown","PageUp","Home"],Iz=["ArrowUp","PageDown","End"],Fae=[...Lae,...Iz],Vae={ltr:[...yS,"ArrowRight"],rtl:[...yS,"ArrowLeft"]},zae={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Wp="Menu",[Nm,Bae,Uae]=P0(Wp),[kc,Rz]=jn(Wp,[Uae,df,hf]),z0=df(),$z=hf(),[Kae,Dc]=kc(Wp),[qae,Hp]=kc(Wp),Lz=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:a,onOpenChange:i,modal:o=!0}=e,l=z0(t),[c,u]=v.useState(null),d=v.useRef(!1),f=Jt(i),h=ff(a);return v.useEffect(()=>{const p=()=>{d.current=!0,document.addEventListener("pointerdown",x,{capture:!0,once:!0}),document.addEventListener("pointermove",x,{capture:!0,once:!0})},x=()=>d.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",x,{capture:!0}),document.removeEventListener("pointermove",x,{capture:!0})}},[]),s.jsx(V6,{...l,children:s.jsx(Kae,{scope:t,open:r,onOpenChange:f,content:c,onContentChange:u,children:s.jsx(qae,{scope:t,onClose:v.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:h,modal:o,children:n})})})};Lz.displayName=Wp;var Wae="MenuAnchor",lA=v.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=z0(r);return s.jsx(KC,{...a,...n,ref:t})});lA.displayName=Wae;var cA="MenuPortal",[Hae,Fz]=kc(cA,{forceMount:void 0}),Vz=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:a}=e,i=Dc(cA,t);return s.jsx(Hae,{scope:t,forceMount:r,children:s.jsx(Sn,{present:r||i.open,children:s.jsx(zp,{asChild:!0,container:a,children:n})})})};Vz.displayName=cA;var qa="MenuContent",[Gae,uA]=kc(qa),zz=v.forwardRef((e,t)=>{const r=Fz(qa,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,i=Dc(qa,e.__scopeMenu),o=Hp(qa,e.__scopeMenu);return s.jsx(Nm.Provider,{scope:e.__scopeMenu,children:s.jsx(Sn,{present:n||i.open,children:s.jsx(Nm.Slot,{scope:e.__scopeMenu,children:o.modal?s.jsx(Xae,{...a,ref:t}):s.jsx(Yae,{...a,ref:t})})})})}),Xae=v.forwardRef((e,t)=>{const r=Dc(qa,e.__scopeMenu),n=v.useRef(null),a=ot(t,n);return v.useEffect(()=>{const i=n.current;if(i)return YC(i)},[]),s.jsx(dA,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:ue(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),Yae=v.forwardRef((e,t)=>{const r=Dc(qa,e.__scopeMenu);return s.jsx(dA,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),Qae=fc("MenuContent.ScrollLock"),dA=v.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:p,disableOutsideScroll:x,...m}=e,g=Dc(qa,r),w=Hp(qa,r),y=z0(r),b=$z(r),N=Bae(r),[j,S]=v.useState(null),P=v.useRef(null),C=ot(t,P,g.onContentChange),A=v.useRef(0),E=v.useRef(""),T=v.useRef(0),_=v.useRef(null),O=v.useRef("right"),M=v.useRef(0),L=x?L0:v.Fragment,R=x?{as:Qae,allowPinchZoom:!0}:void 0,V=I=>{var me,De;const B=E.current+I,Y=N().filter(te=>!te.disabled),X=document.activeElement,oe=(me=Y.find(te=>te.ref.current===X))==null?void 0:me.textValue,je=Y.map(te=>te.textValue),Fe=cie(je,B,oe),Ae=(De=Y.find(te=>te.textValue===Fe))==null?void 0:De.ref.current;(function te(ee){E.current=ee,window.clearTimeout(A.current),ee!==""&&(A.current=window.setTimeout(()=>te(""),1e3))})(B),Ae&&setTimeout(()=>Ae.focus())};v.useEffect(()=>()=>window.clearTimeout(A.current),[]),XC();const D=v.useCallback(I=>{var Y,X;return O.current===((Y=_.current)==null?void 0:Y.side)&&die(I,(X=_.current)==null?void 0:X.area)},[]);return s.jsx(Gae,{scope:r,searchRef:E,onItemEnter:v.useCallback(I=>{D(I)&&I.preventDefault()},[D]),onItemLeave:v.useCallback(I=>{var B;D(I)||((B=P.current)==null||B.focus(),S(null))},[D]),onTriggerLeave:v.useCallback(I=>{D(I)&&I.preventDefault()},[D]),pointerGraceTimerRef:T,onPointerGraceIntentChange:v.useCallback(I=>{_.current=I},[]),children:s.jsx(L,{...R,children:s.jsx(R0,{asChild:!0,trapped:a,onMountAutoFocus:ue(i,I=>{var B;I.preventDefault(),(B=P.current)==null||B.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:s.jsx(sf,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:p,children:s.jsx(sA,{asChild:!0,...b,dir:w.dir,orientation:"vertical",loop:n,currentTabStopId:j,onCurrentTabStopIdChange:S,onEntryFocus:ue(c,I=>{w.isUsingKeyboardRef.current||I.preventDefault()}),preventScrollOnEntryFocus:!0,children:s.jsx(qC,{role:"menu","aria-orientation":"vertical","data-state":nB(g.open),"data-radix-menu-content":"",dir:w.dir,...y,...m,ref:C,style:{outline:"none",...m.style},onKeyDown:ue(m.onKeyDown,I=>{const Y=I.target.closest("[data-radix-menu-content]")===I.currentTarget,X=I.ctrlKey||I.altKey||I.metaKey,oe=I.key.length===1;Y&&(I.key==="Tab"&&I.preventDefault(),!X&&oe&&V(I.key));const je=P.current;if(I.target!==je||!Fae.includes(I.key))return;I.preventDefault();const Ae=N().filter(me=>!me.disabled).map(me=>me.ref.current);Iz.includes(I.key)&&Ae.reverse(),oie(Ae)}),onBlur:ue(e.onBlur,I=>{I.currentTarget.contains(I.target)||(window.clearTimeout(A.current),E.current="")}),onPointerMove:ue(e.onPointerMove,Pm(I=>{const B=I.target,Y=M.current!==I.clientX;if(I.currentTarget.contains(B)&&Y){const X=I.clientX>M.current?"right":"left";O.current=X,M.current=I.clientX}}))})})})})})})});zz.displayName=qa;var Zae="MenuGroup",fA=v.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(Ie.div,{role:"group",...n,ref:t})});fA.displayName=Zae;var Jae="MenuLabel",Bz=v.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(Ie.div,{...n,ref:t})});Bz.displayName=Jae;var py="MenuItem",VO="menu.itemSelect",B0=v.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...a}=e,i=v.useRef(null),o=Hp(py,e.__scopeMenu),l=uA(py,e.__scopeMenu),c=ot(t,i),u=v.useRef(!1),d=()=>{const f=i.current;if(!r&&f){const h=new CustomEvent(VO,{bubbles:!0,cancelable:!0});f.addEventListener(VO,p=>n==null?void 0:n(p),{once:!0}),TC(f,h),h.defaultPrevented?u.current=!1:o.onClose()}};return s.jsx(Uz,{...a,ref:c,disabled:r,onClick:ue(e.onClick,d),onPointerDown:f=>{var h;(h=e.onPointerDown)==null||h.call(e,f),u.current=!0},onPointerUp:ue(e.onPointerUp,f=>{var h;u.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:ue(e.onKeyDown,f=>{const h=l.searchRef.current!=="";r||h&&f.key===" "||yS.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});B0.displayName=py;var Uz=v.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:a,...i}=e,o=uA(py,r),l=$z(r),c=v.useRef(null),u=ot(t,c),[d,f]=v.useState(!1),[h,p]=v.useState("");return v.useEffect(()=>{const x=c.current;x&&p((x.textContent??"").trim())},[i.children]),s.jsx(Nm.ItemSlot,{scope:r,disabled:n,textValue:a??h,children:s.jsx(oA,{asChild:!0,...l,focusable:!n,children:s.jsx(Ie.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...i,ref:u,onPointerMove:ue(e.onPointerMove,Pm(x=>{n?o.onItemLeave(x):(o.onItemEnter(x),x.defaultPrevented||x.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ue(e.onPointerLeave,Pm(x=>o.onItemLeave(x))),onFocus:ue(e.onFocus,()=>f(!0)),onBlur:ue(e.onBlur,()=>f(!1))})})})}),eie="MenuCheckboxItem",Kz=v.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...a}=e;return s.jsx(Xz,{scope:e.__scopeMenu,checked:r,children:s.jsx(B0,{role:"menuitemcheckbox","aria-checked":gy(r)?"mixed":r,...a,ref:t,"data-state":mA(r),onSelect:ue(a.onSelect,()=>n==null?void 0:n(gy(r)?!0:!r),{checkForDefaultPrevented:!1})})})});Kz.displayName=eie;var qz="MenuRadioGroup",[tie,rie]=kc(qz,{value:void 0,onValueChange:()=>{}}),Wz=v.forwardRef((e,t)=>{const{value:r,onValueChange:n,...a}=e,i=Jt(n);return s.jsx(tie,{scope:e.__scopeMenu,value:r,onValueChange:i,children:s.jsx(fA,{...a,ref:t})})});Wz.displayName=qz;var Hz="MenuRadioItem",Gz=v.forwardRef((e,t)=>{const{value:r,...n}=e,a=rie(Hz,e.__scopeMenu),i=r===a.value;return s.jsx(Xz,{scope:e.__scopeMenu,checked:i,children:s.jsx(B0,{role:"menuitemradio","aria-checked":i,...n,ref:t,"data-state":mA(i),onSelect:ue(n.onSelect,()=>{var o;return(o=a.onValueChange)==null?void 0:o.call(a,r)},{checkForDefaultPrevented:!1})})})});Gz.displayName=Hz;var hA="MenuItemIndicator",[Xz,nie]=kc(hA,{checked:!1}),Yz=v.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...a}=e,i=nie(hA,r);return s.jsx(Sn,{present:n||gy(i.checked)||i.checked===!0,children:s.jsx(Ie.span,{...a,ref:t,"data-state":mA(i.checked)})})});Yz.displayName=hA;var aie="MenuSeparator",Qz=v.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return s.jsx(Ie.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});Qz.displayName=aie;var iie="MenuArrow",Zz=v.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,a=z0(r);return s.jsx(WC,{...a,...n,ref:t})});Zz.displayName=iie;var sie="MenuSub",[yze,Jz]=kc(sie),bh="MenuSubTrigger",eB=v.forwardRef((e,t)=>{const r=Dc(bh,e.__scopeMenu),n=Hp(bh,e.__scopeMenu),a=Jz(bh,e.__scopeMenu),i=uA(bh,e.__scopeMenu),o=v.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,u={__scopeMenu:e.__scopeMenu},d=v.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return v.useEffect(()=>d,[d]),v.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),s.jsx(lA,{asChild:!0,...u,children:s.jsx(Uz,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":a.contentId,"data-state":nB(r.open),...e,ref:N0(t,a.onTriggerChange),onClick:f=>{var h;(h=e.onClick)==null||h.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:ue(e.onPointerMove,Pm(f=>{i.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!r.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:ue(e.onPointerLeave,Pm(f=>{var p,x;d();const h=(p=r.content)==null?void 0:p.getBoundingClientRect();if(h){const m=(x=r.content)==null?void 0:x.dataset.side,g=m==="right",w=g?-5:5,y=h[g?"left":"right"],b=h[g?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+w,y:f.clientY},{x:y,y:h.top},{x:b,y:h.top},{x:b,y:h.bottom},{x:y,y:h.bottom}],side:m}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:ue(e.onKeyDown,f=>{var p;const h=i.searchRef.current!=="";e.disabled||h&&f.key===" "||Vae[n.dir].includes(f.key)&&(r.onOpenChange(!0),(p=r.content)==null||p.focus(),f.preventDefault())})})})});eB.displayName=bh;var tB="MenuSubContent",rB=v.forwardRef((e,t)=>{const r=Fz(qa,e.__scopeMenu),{forceMount:n=r.forceMount,...a}=e,i=Dc(qa,e.__scopeMenu),o=Hp(qa,e.__scopeMenu),l=Jz(tB,e.__scopeMenu),c=v.useRef(null),u=ot(t,c);return s.jsx(Nm.Provider,{scope:e.__scopeMenu,children:s.jsx(Sn,{present:n||i.open,children:s.jsx(Nm.Slot,{scope:e.__scopeMenu,children:s.jsx(dA,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;o.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:ue(e.onFocusOutside,d=>{d.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:ue(e.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:ue(e.onKeyDown,d=>{var p;const f=d.currentTarget.contains(d.target),h=zae[o.dir].includes(d.key);f&&h&&(i.onOpenChange(!1),(p=l.trigger)==null||p.focus(),d.preventDefault())})})})})})});rB.displayName=tB;function nB(e){return e?"open":"closed"}function gy(e){return e==="indeterminate"}function mA(e){return gy(e)?"indeterminate":e?"checked":"unchecked"}function oie(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function lie(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function cie(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=lie(e,Math.max(i,0));a.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function uie(e,t){const{x:r,y:n}=e;let a=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i].x,c=t[i].y,u=t[o].x,d=t[o].y;c>n!=d>n&&r<(u-l)*(n-c)/(d-c)+l&&(a=!a)}return a}function die(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return uie(r,t)}function Pm(e){return t=>t.pointerType==="mouse"?e(t):void 0}var fie=Lz,hie=lA,mie=Vz,pie=zz,gie=fA,vie=Bz,yie=B0,xie=Kz,bie=Wz,wie=Gz,jie=Yz,Sie=Qz,Nie=Zz,Pie=eB,Cie=rB,pA="DropdownMenu",[Aie,xze]=jn(pA,[Rz]),zn=Rz(),[Eie,aB]=Aie(pA),iB=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:a,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,c=zn(t),u=v.useRef(null),[d=!1,f]=Ya({prop:a,defaultProp:i,onChange:o});return s.jsx(Eie,{scope:t,triggerId:Qi(),triggerRef:u,contentId:Qi(),open:d,onOpenChange:f,onOpenToggle:v.useCallback(()=>f(h=>!h),[f]),modal:l,children:s.jsx(fie,{...c,open:d,onOpenChange:f,dir:n,modal:l,children:r})})};iB.displayName=pA;var sB="DropdownMenuTrigger",oB=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...a}=e,i=aB(sB,r),o=zn(r);return s.jsx(hie,{asChild:!0,...o,children:s.jsx(Ie.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...a,ref:N0(t,i.triggerRef),onPointerDown:ue(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:ue(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});oB.displayName=sB;var Tie="DropdownMenuPortal",lB=e=>{const{__scopeDropdownMenu:t,...r}=e,n=zn(t);return s.jsx(mie,{...n,...r})};lB.displayName=Tie;var cB="DropdownMenuContent",uB=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=aB(cB,r),i=zn(r),o=v.useRef(!1);return s.jsx(pie,{id:a.contentId,"aria-labelledby":a.triggerId,...i,...n,ref:t,onCloseAutoFocus:ue(e.onCloseAutoFocus,l=>{var c;o.current||(c=a.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:ue(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!a.modal||d)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});uB.displayName=cB;var _ie="DropdownMenuGroup",Oie=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=zn(r);return s.jsx(gie,{...a,...n,ref:t})});Oie.displayName=_ie;var kie="DropdownMenuLabel",dB=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=zn(r);return s.jsx(vie,{...a,...n,ref:t})});dB.displayName=kie;var Die="DropdownMenuItem",fB=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=zn(r);return s.jsx(yie,{...a,...n,ref:t})});fB.displayName=Die;var Mie="DropdownMenuCheckboxItem",hB=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=zn(r);return s.jsx(xie,{...a,...n,ref:t})});hB.displayName=Mie;var Iie="DropdownMenuRadioGroup",Rie=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=zn(r);return s.jsx(bie,{...a,...n,ref:t})});Rie.displayName=Iie;var $ie="DropdownMenuRadioItem",mB=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=zn(r);return s.jsx(wie,{...a,...n,ref:t})});mB.displayName=$ie;var Lie="DropdownMenuItemIndicator",pB=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=zn(r);return s.jsx(jie,{...a,...n,ref:t})});pB.displayName=Lie;var Fie="DropdownMenuSeparator",gB=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=zn(r);return s.jsx(Sie,{...a,...n,ref:t})});gB.displayName=Fie;var Vie="DropdownMenuArrow",zie=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=zn(r);return s.jsx(Nie,{...a,...n,ref:t})});zie.displayName=Vie;var Bie="DropdownMenuSubTrigger",vB=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=zn(r);return s.jsx(Pie,{...a,...n,ref:t})});vB.displayName=Bie;var Uie="DropdownMenuSubContent",yB=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,a=zn(r);return s.jsx(Cie,{...a,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});yB.displayName=Uie;var Kie=iB,qie=oB,Wie=lB,xB=uB,bB=dB,wB=fB,jB=hB,SB=mB,NB=pB,PB=gB,CB=vB,AB=yB;const Hie=Kie,Gie=qie,Xie=v.forwardRef(({className:e,inset:t,children:r,...n},a)=>s.jsxs(CB,{ref:a,className:he("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...n,children:[r,s.jsx(sy,{className:"ml-auto"})]}));Xie.displayName=CB.displayName;const Yie=v.forwardRef(({className:e,...t},r)=>s.jsx(AB,{ref:r,className:he("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...t}));Yie.displayName=AB.displayName;const EB=v.forwardRef(({className:e,sideOffset:t=4,...r},n)=>s.jsx(Wie,{children:s.jsx(xB,{ref:n,sideOffset:t,className:he("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...r})}));EB.displayName=xB.displayName;const xS=v.forwardRef(({className:e,inset:t,...r},n)=>s.jsx(wB,{ref:n,className:he("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...r}));xS.displayName=wB.displayName;const Qie=v.forwardRef(({className:e,children:t,checked:r,...n},a)=>s.jsxs(jB,{ref:a,className:he("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(NB,{children:s.jsx(E0,{className:"h-4 w-4"})})}),t]}));Qie.displayName=jB.displayName;const Zie=v.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(SB,{ref:n,className:he("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(NB,{children:s.jsx(Wee,{className:"h-2 w-2 fill-current"})})}),t]}));Zie.displayName=SB.displayName;const Jie=v.forwardRef(({className:e,inset:t,...r},n)=>s.jsx(bB,{ref:n,className:he("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));Jie.displayName=bB.displayName;const TB=v.forwardRef(({className:e,...t},r)=>s.jsx(PB,{ref:r,className:he("-mx-1 my-1 h-px bg-muted",e),...t}));TB.displayName=PB.displayName;var gA="Avatar",[ese,bze]=jn(gA),[tse,_B]=ese(gA),OB=v.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[a,i]=v.useState("idle");return s.jsx(tse,{scope:r,imageLoadingStatus:a,onImageLoadingStatusChange:i,children:s.jsx(Ie.span,{...n,ref:t})})});OB.displayName=gA;var kB="AvatarImage",DB=v.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:a=()=>{},...i}=e,o=_B(kB,r),l=rse(n,i),c=Jt(u=>{a(u),o.onImageLoadingStatusChange(u)});return Ar(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?s.jsx(Ie.img,{...i,ref:t,src:n}):null});DB.displayName=kB;var MB="AvatarFallback",IB=v.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...a}=e,i=_B(MB,r),[o,l]=v.useState(n===void 0);return v.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),o&&i.imageLoadingStatus!=="loaded"?s.jsx(Ie.span,{...a,ref:t}):null});IB.displayName=MB;function zO(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function rse(e,{referrerPolicy:t,crossOrigin:r}){const n=ase(),a=v.useRef(null),i=n?(a.current||(a.current=new window.Image),a.current):null,[o,l]=v.useState(()=>zO(i,e));return Ar(()=>{l(zO(i,e))},[i,e]),Ar(()=>{const c=f=>()=>{l(f)};if(!i)return;const u=c("loaded"),d=c("error");return i.addEventListener("load",u),i.addEventListener("error",d),t&&(i.referrerPolicy=t),typeof r=="string"&&(i.crossOrigin=r),()=>{i.removeEventListener("load",u),i.removeEventListener("error",d)}},[i,r,t]),o}function nse(){return()=>{}}function ase(){return v.useSyncExternalStore(nse,()=>!0,()=>!1)}var RB=OB,$B=DB,LB=IB;const FB=v.forwardRef(({className:e,...t},r)=>s.jsx(RB,{ref:r,className:he("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));FB.displayName=RB.displayName;const ise=v.forwardRef(({className:e,...t},r)=>s.jsx($B,{ref:r,className:he("aspect-square h-full w-full",e),...t}));ise.displayName=$B.displayName;const VB=v.forwardRef(({className:e,...t},r)=>s.jsx(LB,{ref:r,className:he("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));VB.displayName=LB.displayName;function zB({title:e}){const[t,r]=v.useState(!1),{user:n,logout:a}=dl(),[,i]=ss(),{data:o=[]}=$e({queryKey:["/api/notifications"],enabled:!!n}),l=o.filter(h=>!h.read).length,c=()=>{i("/mi-perfil")},u=()=>{a(),i("/login")},d=()=>{i("/notifications")},f=h=>h.split(" ").map(p=>p.charAt(0)).join("").toUpperCase().slice(0,2);return s.jsx("header",{className:"bg-white shadow-sm border-b",children:s.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[s.jsx("div",{className:"flex items-center space-x-4"}),s.jsxs("div",{className:"flex items-center space-x-3",children:[t?s.jsxs("div",{className:"relative",children:[s.jsx(Ee,{type:"text",placeholder:"Buscar...",className:"w-48 pr-8",autoFocus:!0,onBlur:()=>r(!1)}),s.jsx(cS,{className:"absolute right-2 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"})]}):s.jsx(re,{variant:"ghost",size:"sm",className:"text-gray-500 hover:text-gray-700",onClick:()=>r(!0),children:s.jsx(cS,{className:"h-5 w-5"})}),s.jsxs(re,{variant:"ghost",size:"sm",className:"text-gray-500 hover:text-gray-700 relative",onClick:d,children:[s.jsx(dd,{className:"h-5 w-5"}),l>0&&s.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-4 w-4 flex items-center justify-center animate-pulse",children:l>9?"9+":l})]}),n&&s.jsxs(Hie,{children:[s.jsx(Gie,{asChild:!0,children:s.jsxs(re,{variant:"ghost",size:"sm",className:"flex items-center space-x-2 hover:bg-gray-100",children:[s.jsx(FB,{className:"h-7 w-7",children:s.jsx(VB,{className:"text-xs bg-gradient-to-r from-blue-500 to-purple-600 text-white",children:f(n.name)})}),s.jsx("span",{className:"hidden sm:inline text-sm font-medium text-gray-700",children:n.name.split(" ")[0]})]})}),s.jsxs(EB,{align:"end",className:"w-48",children:[s.jsxs(xS,{onClick:c,className:"cursor-pointer",children:[s.jsx(mc,{className:"mr-2 h-4 w-4"}),"Mi Perfil"]}),s.jsx(TB,{}),s.jsxs(xS,{onClick:u,className:"cursor-pointer text-red-600",children:[s.jsx(Yee,{className:"mr-2 h-4 w-4"}),"Cerrar Sesión"]})]})]})]})]})})}const vA=v.createContext({});function yA(e){const t=v.useRef(null);return t.current===null&&(t.current=e()),t.current}const U0=v.createContext(null),xA=v.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class sse extends v.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=r.offsetHeight||0,n.width=r.offsetWidth||0,n.top=r.offsetTop,n.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function ose({children:e,isPresent:t}){const r=v.useId(),n=v.useRef(null),a=v.useRef({width:0,height:0,top:0,left:0}),{nonce:i}=v.useContext(xA);return v.useInsertionEffect(()=>{const{width:o,height:l,top:c,left:u}=a.current;if(t||!n.current||!o||!l)return;n.current.dataset.motionPopId=r;const d=document.createElement("style");return i&&(d.nonce=i),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${l}px !important;
            top: ${c}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[t]),s.jsx(sse,{isPresent:t,childRef:n,sizeRef:a,children:v.cloneElement(e,{ref:n})})}const lse=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:a,presenceAffectsLayout:i,mode:o})=>{const l=yA(cse),c=v.useId(),u=v.useCallback(f=>{l.set(f,!0);for(const h of l.values())if(!h)return;n&&n()},[l,n]),d=v.useMemo(()=>({id:c,initial:t,isPresent:r,custom:a,onExitComplete:u,register:f=>(l.set(f,!1),()=>l.delete(f))}),i?[Math.random(),u]:[r,u]);return v.useMemo(()=>{l.forEach((f,h)=>l.set(h,!1))},[r]),v.useEffect(()=>{!r&&!l.size&&n&&n()},[r]),o==="popLayout"&&(e=s.jsx(ose,{isPresent:r,children:e})),s.jsx(U0.Provider,{value:d,children:e})};function cse(){return new Map}function BB(e=!0){const t=v.useContext(U0);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:a}=t,i=v.useId();v.useEffect(()=>{e&&a(i)},[e]);const o=v.useCallback(()=>e&&n&&n(i),[i,n,e]);return!r&&n?[!1,o]:[!0]}const zg=e=>e.key||"";function BO(e){const t=[];return v.Children.forEach(e,r=>{v.isValidElement(r)&&t.push(r)}),t}const bA=typeof window<"u",UB=bA?v.useLayoutEffect:v.useEffect,use=({children:e,custom:t,initial:r=!0,onExitComplete:n,presenceAffectsLayout:a=!0,mode:i="sync",propagate:o=!1})=>{const[l,c]=BB(o),u=v.useMemo(()=>BO(e),[e]),d=o&&!l?[]:u.map(zg),f=v.useRef(!0),h=v.useRef(u),p=yA(()=>new Map),[x,m]=v.useState(u),[g,w]=v.useState(u);UB(()=>{f.current=!1,h.current=u;for(let N=0;N<g.length;N++){const j=zg(g[N]);d.includes(j)?p.delete(j):p.get(j)!==!0&&p.set(j,!1)}},[g,d.length,d.join("-")]);const y=[];if(u!==x){let N=[...u];for(let j=0;j<g.length;j++){const S=g[j],P=zg(S);d.includes(P)||(N.splice(j,0,S),y.push(S))}i==="wait"&&y.length&&(N=y),w(BO(N)),m(u);return}const{forceRender:b}=v.useContext(vA);return s.jsx(s.Fragment,{children:g.map(N=>{const j=zg(N),S=o&&!l?!1:u===g||d.includes(j),P=()=>{if(p.has(j))p.set(j,!0);else return;let C=!0;p.forEach(A=>{A||(C=!1)}),C&&(b==null||b(),w(h.current),o&&(c==null||c()),n&&n())};return s.jsx(lse,{isPresent:S,initial:!f.current||r?void 0:!1,custom:S?void 0:t,presenceAffectsLayout:a,mode:i,onExitComplete:S?void 0:P,children:N},j)})})},ya=e=>e;let KB=ya;function wA(e){let t;return()=>(t===void 0&&(t=e()),t)}const yd=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n},Os=e=>e*1e3,ks=e=>e/1e3,dse={useManualTiming:!1};function fse(e){let t=new Set,r=new Set,n=!1,a=!1;const i=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(u){i.has(u)&&(c.schedule(u),e()),u(o)}const c={schedule:(u,d=!1,f=!1)=>{const p=f&&n?t:r;return d&&i.add(u),p.has(u)||p.add(u),u},cancel:u=>{r.delete(u),i.delete(u)},process:u=>{if(o=u,n){a=!0;return}n=!0,[t,r]=[r,t],t.forEach(l),t.clear(),n=!1,a&&(a=!1,c.process(u))}};return c}const Bg=["read","resolveKeyframes","update","preRender","render","postRender"],hse=40;function qB(e,t){let r=!1,n=!0;const a={delta:0,timestamp:0,isProcessing:!1},i=()=>r=!0,o=Bg.reduce((w,y)=>(w[y]=fse(i),w),{}),{read:l,resolveKeyframes:c,update:u,preRender:d,render:f,postRender:h}=o,p=()=>{const w=performance.now();r=!1,a.delta=n?1e3/60:Math.max(Math.min(w-a.timestamp,hse),1),a.timestamp=w,a.isProcessing=!0,l.process(a),c.process(a),u.process(a),d.process(a),f.process(a),h.process(a),a.isProcessing=!1,r&&t&&(n=!1,e(p))},x=()=>{r=!0,n=!0,a.isProcessing||e(p)};return{schedule:Bg.reduce((w,y)=>{const b=o[y];return w[y]=(N,j=!1,S=!1)=>(r||x(),b.schedule(N,j,S)),w},{}),cancel:w=>{for(let y=0;y<Bg.length;y++)o[Bg[y]].cancel(w)},state:a,steps:o}}const{schedule:Yt,cancel:tl,state:en,steps:Yw}=qB(typeof requestAnimationFrame<"u"?requestAnimationFrame:ya,!0),WB=v.createContext({strict:!1}),UO={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},xd={};for(const e in UO)xd[e]={isEnabled:t=>UO[e].some(r=>!!t[r])};function mse(e){for(const t in e)xd[t]={...xd[t],...e[t]}}const pse=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function vy(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||pse.has(e)}let HB=e=>!vy(e);function gse(e){e&&(HB=t=>t.startsWith("on")?!vy(t):e(t))}try{gse(require("@emotion/is-prop-valid").default)}catch{}function vse(e,t,r){const n={};for(const a in e)a==="values"&&typeof e.values=="object"||(HB(a)||r===!0&&vy(a)||!t&&!vy(a)||e.draggable&&a.startsWith("onDrag"))&&(n[a]=e[a]);return n}function yse(e){if(typeof Proxy>"u")return e;const t=new Map,r=(...n)=>e(...n);return new Proxy(r,{get:(n,a)=>a==="create"?e:(t.has(a)||t.set(a,e(a)),t.get(a))})}const K0=v.createContext({});function Cm(e){return typeof e=="string"||Array.isArray(e)}function q0(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const jA=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],SA=["initial",...jA];function W0(e){return q0(e.animate)||SA.some(t=>Cm(e[t]))}function GB(e){return!!(W0(e)||e.variants)}function xse(e,t){if(W0(e)){const{initial:r,animate:n}=e;return{initial:r===!1||Cm(r)?r:void 0,animate:Cm(n)?n:void 0}}return e.inherit!==!1?t:{}}function bse(e){const{initial:t,animate:r}=xse(e,v.useContext(K0));return v.useMemo(()=>({initial:t,animate:r}),[KO(t),KO(r)])}function KO(e){return Array.isArray(e)?e.join(" "):e}const wse=Symbol.for("motionComponentSymbol");function hu(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function jse(e,t,r){return v.useCallback(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):hu(r)&&(r.current=n))},[t])}const NA=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Sse="framerAppearId",XB="data-"+NA(Sse),{schedule:PA}=qB(queueMicrotask,!1),YB=v.createContext({});function Nse(e,t,r,n,a){var i,o;const{visualElement:l}=v.useContext(K0),c=v.useContext(WB),u=v.useContext(U0),d=v.useContext(xA).reducedMotion,f=v.useRef(null);n=n||c.renderer,!f.current&&n&&(f.current=n(e,{visualState:t,parent:l,props:r,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:d}));const h=f.current,p=v.useContext(YB);h&&!h.projection&&a&&(h.type==="html"||h.type==="svg")&&Pse(f.current,r,a,p);const x=v.useRef(!1);v.useInsertionEffect(()=>{h&&x.current&&h.update(r,u)});const m=r[XB],g=v.useRef(!!m&&!(!((i=window.MotionHandoffIsComplete)===null||i===void 0)&&i.call(window,m))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,m)));return UB(()=>{h&&(x.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),PA.render(h.render),g.current&&h.animationState&&h.animationState.animateChanges())}),v.useEffect(()=>{h&&(!g.current&&h.animationState&&h.animationState.animateChanges(),g.current&&(queueMicrotask(()=>{var w;(w=window.MotionHandoffMarkAsComplete)===null||w===void 0||w.call(window,m)}),g.current=!1))}),h}function Pse(e,t,r,n){const{layoutId:a,layout:i,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:u}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:QB(e.parent)),e.projection.setOptions({layoutId:a,layout:i,alwaysMeasureLayout:!!o||l&&hu(l),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:n,layoutScroll:c,layoutRoot:u})}function QB(e){if(e)return e.options.allowProjection!==!1?e.projection:QB(e.parent)}function Cse({preloadedFeatures:e,createVisualElement:t,useRender:r,useVisualState:n,Component:a}){var i,o;e&&mse(e);function l(u,d){let f;const h={...v.useContext(xA),...u,layoutId:Ase(u)},{isStatic:p}=h,x=bse(u),m=n(u,p);if(!p&&bA){Ese();const g=Tse(h);f=g.MeasureLayout,x.visualElement=Nse(a,m,h,t,g.ProjectionNode)}return s.jsxs(K0.Provider,{value:x,children:[f&&x.visualElement?s.jsx(f,{visualElement:x.visualElement,...h}):null,r(a,u,jse(m,x.visualElement,d),m,p,x.visualElement)]})}l.displayName=`motion.${typeof a=="string"?a:`create(${(o=(i=a.displayName)!==null&&i!==void 0?i:a.name)!==null&&o!==void 0?o:""})`}`;const c=v.forwardRef(l);return c[wse]=a,c}function Ase({layoutId:e}){const t=v.useContext(vA).id;return t&&e!==void 0?t+"-"+e:e}function Ese(e,t){v.useContext(WB).strict}function Tse(e){const{drag:t,layout:r}=xd;if(!t&&!r)return{};const n={...t,...r};return{MeasureLayout:t!=null&&t.isEnabled(e)||r!=null&&r.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const _se=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function CA(e){return typeof e!="string"||e.includes("-")?!1:!!(_se.indexOf(e)>-1||/[A-Z]/u.test(e))}function qO(e){const t=[{},{}];return e==null||e.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function AA(e,t,r,n){if(typeof t=="function"){const[a,i]=qO(n);t=t(r!==void 0?r:e.custom,a,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,i]=qO(n);t=t(r!==void 0?r:e.custom,a,i)}return t}const bS=e=>Array.isArray(e),Ose=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),kse=e=>bS(e)?e[e.length-1]||0:e,yn=e=>!!(e&&e.getVelocity);function Ev(e){const t=yn(e)?e.get():e;return Ose(t)?t.toValue():t}function Dse({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:r},n,a,i){const o={latestValues:Mse(n,a,i,e),renderState:t()};return r&&(o.onMount=l=>r({props:n,current:l,...o}),o.onUpdate=l=>r(l)),o}const ZB=e=>(t,r)=>{const n=v.useContext(K0),a=v.useContext(U0),i=()=>Dse(e,t,n,a);return r?i():yA(i)};function Mse(e,t,r,n){const a={},i=n(e,{});for(const h in i)a[h]=Ev(i[h]);let{initial:o,animate:l}=e;const c=W0(e),u=GB(e);t&&u&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let d=r?r.initial===!1:!1;d=d||o===!1;const f=d?l:o;if(f&&typeof f!="boolean"&&!q0(f)){const h=Array.isArray(f)?f:[f];for(let p=0;p<h.length;p++){const x=AA(e,h[p]);if(x){const{transitionEnd:m,transition:g,...w}=x;for(const y in w){let b=w[y];if(Array.isArray(b)){const N=d?b.length-1:0;b=b[N]}b!==null&&(a[y]=b)}for(const y in m)a[y]=m[y]}}}return a}const mf=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Mc=new Set(mf),JB=e=>t=>typeof t=="string"&&t.startsWith(e),e8=JB("--"),Ise=JB("var(--"),EA=e=>Ise(e)?Rse.test(e.split("/*")[0].trim()):!1,Rse=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,t8=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Ks=(e,t,r)=>r>t?t:r<e?e:r,pf={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Am={...pf,transform:e=>Ks(0,1,e)},Ug={...pf,default:1},Gp=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),uo=Gp("deg"),Ji=Gp("%"),Ke=Gp("px"),$se=Gp("vh"),Lse=Gp("vw"),WO={...Ji,parse:e=>Ji.parse(e)/100,transform:e=>Ji.transform(e*100)},Fse={borderWidth:Ke,borderTopWidth:Ke,borderRightWidth:Ke,borderBottomWidth:Ke,borderLeftWidth:Ke,borderRadius:Ke,radius:Ke,borderTopLeftRadius:Ke,borderTopRightRadius:Ke,borderBottomRightRadius:Ke,borderBottomLeftRadius:Ke,width:Ke,maxWidth:Ke,height:Ke,maxHeight:Ke,top:Ke,right:Ke,bottom:Ke,left:Ke,padding:Ke,paddingTop:Ke,paddingRight:Ke,paddingBottom:Ke,paddingLeft:Ke,margin:Ke,marginTop:Ke,marginRight:Ke,marginBottom:Ke,marginLeft:Ke,backgroundPositionX:Ke,backgroundPositionY:Ke},Vse={rotate:uo,rotateX:uo,rotateY:uo,rotateZ:uo,scale:Ug,scaleX:Ug,scaleY:Ug,scaleZ:Ug,skew:uo,skewX:uo,skewY:uo,distance:Ke,translateX:Ke,translateY:Ke,translateZ:Ke,x:Ke,y:Ke,z:Ke,perspective:Ke,transformPerspective:Ke,opacity:Am,originX:WO,originY:WO,originZ:Ke},HO={...pf,transform:Math.round},TA={...Fse,...Vse,zIndex:HO,size:Ke,fillOpacity:Am,strokeOpacity:Am,numOctaves:HO},zse={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Bse=mf.length;function Use(e,t,r){let n="",a=!0;for(let i=0;i<Bse;i++){const o=mf[i],l=e[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||r){const u=t8(l,TA[o]);if(!c){a=!1;const d=zse[o]||o;n+=`${d}(${u}) `}r&&(t[o]=u)}}return n=n.trim(),r?n=r(t,a?"":n):a&&(n="none"),n}function _A(e,t,r){const{style:n,vars:a,transformOrigin:i}=e;let o=!1,l=!1;for(const c in t){const u=t[c];if(Mc.has(c)){o=!0;continue}else if(e8(c)){a[c]=u;continue}else{const d=t8(u,TA[c]);c.startsWith("origin")?(l=!0,i[c]=d):n[c]=d}}if(t.transform||(o||r?n.transform=Use(t,e.transform,r):n.transform&&(n.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:d=0}=i;n.transformOrigin=`${c} ${u} ${d}`}}const Kse={offset:"stroke-dashoffset",array:"stroke-dasharray"},qse={offset:"strokeDashoffset",array:"strokeDasharray"};function Wse(e,t,r=1,n=0,a=!0){e.pathLength=1;const i=a?Kse:qse;e[i.offset]=Ke.transform(-n);const o=Ke.transform(t),l=Ke.transform(r);e[i.array]=`${o} ${l}`}function GO(e,t,r){return typeof e=="string"?e:Ke.transform(t+r*e)}function Hse(e,t,r){const n=GO(t,e.x,e.width),a=GO(r,e.y,e.height);return`${n} ${a}`}function OA(e,{attrX:t,attrY:r,attrScale:n,originX:a,originY:i,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...u},d,f){if(_A(e,u,f),d){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:p,dimensions:x}=e;h.transform&&(x&&(p.transform=h.transform),delete h.transform),x&&(a!==void 0||i!==void 0||p.transform)&&(p.transformOrigin=Hse(x,a!==void 0?a:.5,i!==void 0?i:.5)),t!==void 0&&(h.x=t),r!==void 0&&(h.y=r),n!==void 0&&(h.scale=n),o!==void 0&&Wse(h,o,l,c,!1)}const kA=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),r8=()=>({...kA(),attrs:{}}),DA=e=>typeof e=="string"&&e.toLowerCase()==="svg";function n8(e,{style:t,vars:r},n,a){Object.assign(e.style,t,a&&a.getProjectionStyles(n));for(const i in r)e.style.setProperty(i,r[i])}const a8=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function i8(e,t,r,n){n8(e,t,void 0,n);for(const a in t.attrs)e.setAttribute(a8.has(a)?a:NA(a),t.attrs[a])}const yy={};function Gse(e){Object.assign(yy,e)}function s8(e,{layout:t,layoutId:r}){return Mc.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!yy[e]||e==="opacity")}function MA(e,t,r){var n;const{style:a}=e,i={};for(const o in a)(yn(a[o])||t.style&&yn(t.style[o])||s8(o,e)||((n=r==null?void 0:r.getValue(o))===null||n===void 0?void 0:n.liveStyle)!==void 0)&&(i[o]=a[o]);return i}function o8(e,t,r){const n=MA(e,t,r);for(const a in e)if(yn(e[a])||yn(t[a])){const i=mf.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;n[i]=e[a]}return n}function Xse(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}const XO=["x","y","width","height","cx","cy","r"],Yse={useVisualState:ZB({scrapeMotionValuesFromProps:o8,createRenderState:r8,onUpdate:({props:e,prevProps:t,current:r,renderState:n,latestValues:a})=>{if(!r)return;let i=!!e.drag;if(!i){for(const l in a)if(Mc.has(l)){i=!0;break}}if(!i)return;let o=!t;if(t)for(let l=0;l<XO.length;l++){const c=XO[l];e[c]!==t[c]&&(o=!0)}o&&Yt.read(()=>{Xse(r,n),Yt.render(()=>{OA(n,a,DA(r.tagName),e.transformTemplate),i8(r,n)})})}})},Qse={useVisualState:ZB({scrapeMotionValuesFromProps:MA,createRenderState:kA})};function l8(e,t,r){for(const n in t)!yn(t[n])&&!s8(n,r)&&(e[n]=t[n])}function Zse({transformTemplate:e},t){return v.useMemo(()=>{const r=kA();return _A(r,t,e),Object.assign({},r.vars,r.style)},[t])}function Jse(e,t){const r=e.style||{},n={};return l8(n,r,e),Object.assign(n,Zse(e,t)),n}function eoe(e,t){const r={},n=Jse(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}function toe(e,t,r,n){const a=v.useMemo(()=>{const i=r8();return OA(i,t,DA(n),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};l8(i,e.style,e),a.style={...i,...a.style}}return a}function roe(e=!1){return(r,n,a,{latestValues:i},o)=>{const c=(CA(r)?toe:eoe)(n,i,o,r),u=vse(n,typeof r=="string",e),d=r!==v.Fragment?{...u,...c,ref:a}:{},{children:f}=n,h=v.useMemo(()=>yn(f)?f.get():f,[f]);return v.createElement(r,{...d,children:h})}}function noe(e,t){return function(n,{forwardMotionProps:a}={forwardMotionProps:!1}){const o={...CA(n)?Yse:Qse,preloadedFeatures:e,useRender:roe(a),createVisualElement:t,Component:n};return Cse(o)}}function c8(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}function H0(e,t,r){const n=e.getProps();return AA(n,t,r!==void 0?r:n.custom,e)}const aoe=wA(()=>window.ScrollTimeline!==void 0);class ioe{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,r){for(let n=0;n<this.animations.length;n++)this.animations[n][t]=r}attachTimeline(t,r){const n=this.animations.map(a=>{if(aoe()&&a.attachTimeline)return a.attachTimeline(t);if(typeof r=="function")return r(a)});return()=>{n.forEach((a,i)=>{a&&a(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let r=0;r<this.animations.length;r++)t=Math.max(t,this.animations[r].duration);return t}runAll(t){this.animations.forEach(r=>r[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class soe extends ioe{then(t,r){return Promise.all(this.animations).then(t).catch(r)}}function IA(e,t){return e?e[t]||e.default||e:void 0}const wS=2e4;function u8(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<wS;)t+=r,n=e.next(t);return t>=wS?1/0:t}function RA(e){return typeof e=="function"}function YO(e,t){e.timeline=t,e.onfinish=null}const $A=e=>Array.isArray(e)&&typeof e[0]=="number",ooe={linearEasing:void 0};function loe(e,t){const r=wA(e);return()=>{var n;return(n=ooe[t])!==null&&n!==void 0?n:r()}}const xy=loe(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),d8=(e,t,r=10)=>{let n="";const a=Math.max(Math.round(t/r),2);for(let i=0;i<a;i++)n+=e(yd(0,a-1,i))+", ";return`linear(${n.substring(0,n.length-2)})`};function f8(e){return!!(typeof e=="function"&&xy()||!e||typeof e=="string"&&(e in jS||xy())||$A(e)||Array.isArray(e)&&e.every(f8))}const wh=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,jS={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:wh([0,.65,.55,1]),circOut:wh([.55,0,1,.45]),backIn:wh([.31,.01,.66,-.59]),backOut:wh([.33,1.53,.69,.99])};function h8(e,t){if(e)return typeof e=="function"&&xy()?d8(e,t):$A(e)?wh(e):Array.isArray(e)?e.map(r=>h8(r,t)||jS.easeOut):jS[e]}const ii={x:!1,y:!1};function m8(){return ii.x||ii.y}function coe(e,t,r){var n;if(e instanceof Element)return[e];if(typeof e=="string"){let a=document;const i=(n=void 0)!==null&&n!==void 0?n:a.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}function p8(e,t){const r=coe(e),n=new AbortController,a={passive:!0,...t,signal:n.signal};return[r,a,()=>n.abort()]}function QO(e){return t=>{t.pointerType==="touch"||m8()||e(t)}}function uoe(e,t,r={}){const[n,a,i]=p8(e,r),o=QO(l=>{const{target:c}=l,u=t(l);if(typeof u!="function"||!c)return;const d=QO(f=>{u(f),c.removeEventListener("pointerleave",d)});c.addEventListener("pointerleave",d,a)});return n.forEach(l=>{l.addEventListener("pointerenter",o,a)}),i}const g8=(e,t)=>t?e===t?!0:g8(e,t.parentElement):!1,LA=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,doe=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function foe(e){return doe.has(e.tagName)||e.tabIndex!==-1}const jh=new WeakSet;function ZO(e){return t=>{t.key==="Enter"&&e(t)}}function Qw(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const hoe=(e,t)=>{const r=e.currentTarget;if(!r)return;const n=ZO(()=>{if(jh.has(r))return;Qw(r,"down");const a=ZO(()=>{Qw(r,"up")}),i=()=>Qw(r,"cancel");r.addEventListener("keyup",a,t),r.addEventListener("blur",i,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)};function JO(e){return LA(e)&&!m8()}function moe(e,t,r={}){const[n,a,i]=p8(e,r),o=l=>{const c=l.currentTarget;if(!JO(l)||jh.has(c))return;jh.add(c);const u=t(l),d=(p,x)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",h),!(!JO(p)||!jh.has(c))&&(jh.delete(c),typeof u=="function"&&u(p,{success:x}))},f=p=>{d(p,r.useGlobalTarget||g8(c,p.target))},h=p=>{d(p,!1)};window.addEventListener("pointerup",f,a),window.addEventListener("pointercancel",h,a)};return n.forEach(l=>{!foe(l)&&l.getAttribute("tabindex")===null&&(l.tabIndex=0),(r.useGlobalTarget?window:l).addEventListener("pointerdown",o,a),l.addEventListener("focus",u=>hoe(u,a),a)}),i}function poe(e){return e==="x"||e==="y"?ii[e]?null:(ii[e]=!0,()=>{ii[e]=!1}):ii.x||ii.y?null:(ii.x=ii.y=!0,()=>{ii.x=ii.y=!1})}const v8=new Set(["width","height","top","left","right","bottom",...mf]);let Tv;function goe(){Tv=void 0}const es={now:()=>(Tv===void 0&&es.set(en.isProcessing||dse.useManualTiming?en.timestamp:performance.now()),Tv),set:e=>{Tv=e,queueMicrotask(goe)}};function FA(e,t){e.indexOf(t)===-1&&e.push(t)}function VA(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}class zA{constructor(){this.subscriptions=[]}add(t){return FA(this.subscriptions,t),()=>VA(this.subscriptions,t)}notify(t,r,n){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,r,n);else for(let i=0;i<a;i++){const o=this.subscriptions[i];o&&o(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function y8(e,t){return t?e*(1e3/t):0}const e2=30,voe=e=>!isNaN(parseFloat(e));class yoe{constructor(t,r={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,a=!0)=>{const i=es.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),a&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=es.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=voe(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new zA);const n=this.events[t].add(r);return t==="change"?()=>{n(),Yt.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t,r=!0){!r||!this.passiveEffect?this.updateAndNotify(t,r):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=es.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>e2)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,e2);return y8(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Em(e,t){return new yoe(e,t)}function xoe(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,Em(r))}function boe(e,t){const r=H0(e,t);let{transitionEnd:n={},transition:a={},...i}=r||{};i={...i,...n};for(const o in i){const l=kse(i[o]);xoe(e,o,l)}}function woe(e){return!!(yn(e)&&e.add)}function SS(e,t){const r=e.getValue("willChange");if(woe(r))return r.add(t)}function x8(e){return e.props[XB]}const b8=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,joe=1e-7,Soe=12;function Noe(e,t,r,n,a){let i,o,l=0;do o=t+(r-t)/2,i=b8(o,n,a)-e,i>0?r=o:t=o;while(Math.abs(i)>joe&&++l<Soe);return o}function Xp(e,t,r,n){if(e===t&&r===n)return ya;const a=i=>Noe(i,0,1,e,r);return i=>i===0||i===1?i:b8(a(i),t,n)}const w8=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,j8=e=>t=>1-e(1-t),S8=Xp(.33,1.53,.69,.99),BA=j8(S8),N8=w8(BA),P8=e=>(e*=2)<1?.5*BA(e):.5*(2-Math.pow(2,-10*(e-1))),UA=e=>1-Math.sin(Math.acos(e)),C8=j8(UA),A8=w8(UA),E8=e=>/^0[^.\s]+$/u.test(e);function Poe(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||E8(e):!0}const Fh=e=>Math.round(e*1e5)/1e5,KA=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Coe(e){return e==null}const Aoe=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,qA=(e,t)=>r=>!!(typeof r=="string"&&Aoe.test(r)&&r.startsWith(e)||t&&!Coe(r)&&Object.prototype.hasOwnProperty.call(r,t)),T8=(e,t,r)=>n=>{if(typeof n!="string")return n;const[a,i,o,l]=n.match(KA);return{[e]:parseFloat(a),[t]:parseFloat(i),[r]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},Eoe=e=>Ks(0,255,e),Zw={...pf,transform:e=>Math.round(Eoe(e))},$l={test:qA("rgb","red"),parse:T8("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+Zw.transform(e)+", "+Zw.transform(t)+", "+Zw.transform(r)+", "+Fh(Am.transform(n))+")"};function Toe(e){let t="",r="",n="",a="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),a=e.substring(4,5),t+=t,r+=r,n+=n,a+=a),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:a?parseInt(a,16)/255:1}}const NS={test:qA("#"),parse:Toe,transform:$l.transform},mu={test:qA("hsl","hue"),parse:T8("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+Ji.transform(Fh(t))+", "+Ji.transform(Fh(r))+", "+Fh(Am.transform(n))+")"},fn={test:e=>$l.test(e)||NS.test(e)||mu.test(e),parse:e=>$l.test(e)?$l.parse(e):mu.test(e)?mu.parse(e):NS.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?$l.transform(e):mu.transform(e)},_oe=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Ooe(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(KA))===null||t===void 0?void 0:t.length)||0)+(((r=e.match(_oe))===null||r===void 0?void 0:r.length)||0)>0}const _8="number",O8="color",koe="var",Doe="var(",t2="${}",Moe=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Tm(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},a=[];let i=0;const l=t.replace(Moe,c=>(fn.test(c)?(n.color.push(i),a.push(O8),r.push(fn.parse(c))):c.startsWith(Doe)?(n.var.push(i),a.push(koe),r.push(c)):(n.number.push(i),a.push(_8),r.push(parseFloat(c))),++i,t2)).split(t2);return{values:r,split:l,indexes:n,types:a}}function k8(e){return Tm(e).values}function D8(e){const{split:t,types:r}=Tm(e),n=t.length;return a=>{let i="";for(let o=0;o<n;o++)if(i+=t[o],a[o]!==void 0){const l=r[o];l===_8?i+=Fh(a[o]):l===O8?i+=fn.transform(a[o]):i+=a[o]}return i}}const Ioe=e=>typeof e=="number"?0:e;function Roe(e){const t=k8(e);return D8(e)(t.map(Ioe))}const rl={test:Ooe,parse:k8,createTransformer:D8,getAnimatableNone:Roe},$oe=new Set(["brightness","contrast","saturate","opacity"]);function Loe(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(KA)||[];if(!n)return e;const a=r.replace(n,"");let i=$oe.has(t)?1:0;return n!==r&&(i*=100),t+"("+i+a+")"}const Foe=/\b([a-z-]*)\(.*?\)/gu,PS={...rl,getAnimatableNone:e=>{const t=e.match(Foe);return t?t.map(Loe).join(" "):e}},Voe={...TA,color:fn,backgroundColor:fn,outlineColor:fn,fill:fn,stroke:fn,borderColor:fn,borderTopColor:fn,borderRightColor:fn,borderBottomColor:fn,borderLeftColor:fn,filter:PS,WebkitFilter:PS},WA=e=>Voe[e];function M8(e,t){let r=WA(e);return r!==PS&&(r=rl),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const zoe=new Set(["auto","none","0"]);function Boe(e,t,r){let n=0,a;for(;n<e.length&&!a;){const i=e[n];typeof i=="string"&&!zoe.has(i)&&Tm(i).values.length&&(a=e[n]),n++}if(a&&r)for(const i of t)e[i]=M8(r,a)}const r2=e=>e===pf||e===Ke,n2=(e,t)=>parseFloat(e.split(", ")[t]),a2=(e,t)=>(r,{transform:n})=>{if(n==="none"||!n)return 0;const a=n.match(/^matrix3d\((.+)\)$/u);if(a)return n2(a[1],t);{const i=n.match(/^matrix\((.+)\)$/u);return i?n2(i[1],e):0}},Uoe=new Set(["x","y","z"]),Koe=mf.filter(e=>!Uoe.has(e));function qoe(e){const t=[];return Koe.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const bd={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:a2(4,13),y:a2(5,14)};bd.translateX=bd.x;bd.translateY=bd.y;const ec=new Set;let CS=!1,AS=!1;function I8(){if(AS){const e=Array.from(ec).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const a=qoe(n);a.length&&(r.set(n,a),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const a=r.get(n);a&&a.forEach(([i,o])=>{var l;(l=n.getValue(i))===null||l===void 0||l.set(o)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}AS=!1,CS=!1,ec.forEach(e=>e.complete()),ec.clear()}function R8(){ec.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(AS=!0)})}function Woe(){R8(),I8()}class HA{constructor(t,r,n,a,i,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=a,this.element=i,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(ec.add(this),CS||(CS=!0,Yt.read(R8),Yt.resolveKeyframes(I8))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:a}=this;for(let i=0;i<t.length;i++)if(t[i]===null)if(i===0){const o=a==null?void 0:a.get(),l=t[t.length-1];if(o!==void 0)t[0]=o;else if(n&&r){const c=n.readValue(r,l);c!=null&&(t[0]=c)}t[0]===void 0&&(t[0]=l),a&&o===void 0&&a.set(t[0])}else t[i]=t[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),ec.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,ec.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const $8=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),Hoe=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Goe(e){const t=Hoe.exec(e);if(!t)return[,];const[,r,n,a]=t;return[`--${r??n}`,a]}function L8(e,t,r=1){const[n,a]=Goe(e);if(!n)return;const i=window.getComputedStyle(t).getPropertyValue(n);if(i){const o=i.trim();return $8(o)?parseFloat(o):o}return EA(a)?L8(a,t,r+1):a}const F8=e=>t=>t.test(e),Xoe={test:e=>e==="auto",parse:e=>e},V8=[pf,Ke,Ji,uo,Lse,$se,Xoe],i2=e=>V8.find(F8(e));class z8 extends HA{constructor(t,r,n,a,i){super(t,r,n,a,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let u=t[c];if(typeof u=="string"&&(u=u.trim(),EA(u))){const d=L8(u,r.current);d!==void 0&&(t[c]=d),c===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!v8.has(n)||t.length!==2)return;const[a,i]=t,o=i2(a),l=i2(i);if(o!==l)if(r2(o)&&r2(l))for(let c=0;c<t.length;c++){const u=t[c];typeof u=="string"&&(t[c]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let a=0;a<t.length;a++)Poe(t[a])&&n.push(a);n.length&&Boe(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=bd[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const a=r[r.length-1];a!==void 0&&t.getValue(n,a).jump(a,!1)}measureEndState(){var t;const{element:r,name:n,unresolvedKeyframes:a}=this;if(!r||!r.current)return;const i=r.getValue(n);i&&i.jump(this.measuredOrigin,!1);const o=a.length-1,l=a[o];a[o]=bd[n](r.measureViewportBox(),window.getComputedStyle(r.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([c,u])=>{r.getValue(c).set(u)}),this.resolveNoneKeyframes()}}const s2=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(rl.test(e)||e==="0")&&!e.startsWith("url("));function Yoe(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function Qoe(e,t,r,n){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],o=s2(a,t),l=s2(i,t);return!o||!l?!1:Yoe(e)||(r==="spring"||RA(r))&&n}const Zoe=e=>e!==null;function G0(e,{repeat:t,repeatType:r="loop"},n){const a=e.filter(Zoe),i=t&&r!=="loop"&&t%2===1?0:a.length-1;return!i||n===void 0?a[i]:n}const Joe=40;class B8{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:a=0,repeatDelay:i=0,repeatType:o="loop",...l}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=es.now(),this.options={autoplay:t,delay:r,type:n,repeat:a,repeatDelay:i,repeatType:o,...l},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>Joe?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&Woe(),this._resolved}onKeyframesResolved(t,r){this.resolvedAt=es.now(),this.hasAttemptedResolve=!0;const{name:n,type:a,velocity:i,delay:o,onComplete:l,onUpdate:c,isGenerator:u}=this.options;if(!u&&!Qoe(t,n,a,i))if(o)this.options.duration=0;else{c&&c(G0(t,this.options,r)),l&&l(),this.resolveFinishedPromise();return}const d=this.initPlayback(t,r);d!==!1&&(this._resolved={keyframes:t,finalKeyframe:r,...d},this.onPostResolved())}onPostResolved(){}then(t,r){return this.currentFinishedPromise.then(t,r)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const sr=(e,t,r)=>e+(t-e)*r;function Jw(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function ele({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let a=0,i=0,o=0;if(!t)a=i=o=r;else{const l=r<.5?r*(1+t):r+t-r*t,c=2*r-l;a=Jw(c,l,e+1/3),i=Jw(c,l,e),o=Jw(c,l,e-1/3)}return{red:Math.round(a*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:n}}function by(e,t){return r=>r>0?t:e}const ej=(e,t,r)=>{const n=e*e,a=r*(t*t-n)+n;return a<0?0:Math.sqrt(a)},tle=[NS,$l,mu],rle=e=>tle.find(t=>t.test(e));function o2(e){const t=rle(e);if(!t)return!1;let r=t.parse(e);return t===mu&&(r=ele(r)),r}const l2=(e,t)=>{const r=o2(e),n=o2(t);if(!r||!n)return by(e,t);const a={...r};return i=>(a.red=ej(r.red,n.red,i),a.green=ej(r.green,n.green,i),a.blue=ej(r.blue,n.blue,i),a.alpha=sr(r.alpha,n.alpha,i),$l.transform(a))},nle=(e,t)=>r=>t(e(r)),Yp=(...e)=>e.reduce(nle),ES=new Set(["none","hidden"]);function ale(e,t){return ES.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function ile(e,t){return r=>sr(e,t,r)}function GA(e){return typeof e=="number"?ile:typeof e=="string"?EA(e)?by:fn.test(e)?l2:lle:Array.isArray(e)?U8:typeof e=="object"?fn.test(e)?l2:sle:by}function U8(e,t){const r=[...e],n=r.length,a=e.map((i,o)=>GA(i)(i,t[o]));return i=>{for(let o=0;o<n;o++)r[o]=a[o](i);return r}}function sle(e,t){const r={...e,...t},n={};for(const a in r)e[a]!==void 0&&t[a]!==void 0&&(n[a]=GA(e[a])(e[a],t[a]));return a=>{for(const i in n)r[i]=n[i](a);return r}}function ole(e,t){var r;const n=[],a={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const o=t.types[i],l=e.indexes[o][a[o]],c=(r=e.values[l])!==null&&r!==void 0?r:0;n[i]=c,a[o]++}return n}const lle=(e,t)=>{const r=rl.createTransformer(t),n=Tm(e),a=Tm(t);return n.indexes.var.length===a.indexes.var.length&&n.indexes.color.length===a.indexes.color.length&&n.indexes.number.length>=a.indexes.number.length?ES.has(e)&&!a.values.length||ES.has(t)&&!n.values.length?ale(e,t):Yp(U8(ole(n,a),a.values),r):by(e,t)};function K8(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?sr(e,t,r):GA(e)(e,t)}const cle=5;function q8(e,t,r){const n=Math.max(t-cle,0);return y8(r-e(n),t-n)}const dr={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},tj=.001;function ule({duration:e=dr.duration,bounce:t=dr.bounce,velocity:r=dr.velocity,mass:n=dr.mass}){let a,i,o=1-t;o=Ks(dr.minDamping,dr.maxDamping,o),e=Ks(dr.minDuration,dr.maxDuration,ks(e)),o<1?(a=u=>{const d=u*o,f=d*e,h=d-r,p=TS(u,o),x=Math.exp(-f);return tj-h/p*x},i=u=>{const f=u*o*e,h=f*r+r,p=Math.pow(o,2)*Math.pow(u,2)*e,x=Math.exp(-f),m=TS(Math.pow(u,2),o);return(-a(u)+tj>0?-1:1)*((h-p)*x)/m}):(a=u=>{const d=Math.exp(-u*e),f=(u-r)*e+1;return-tj+d*f},i=u=>{const d=Math.exp(-u*e),f=(r-u)*(e*e);return d*f});const l=5/e,c=fle(a,i,l);if(e=Os(e),isNaN(c))return{stiffness:dr.stiffness,damping:dr.damping,duration:e};{const u=Math.pow(c,2)*n;return{stiffness:u,damping:o*2*Math.sqrt(n*u),duration:e}}}const dle=12;function fle(e,t,r){let n=r;for(let a=1;a<dle;a++)n=n-e(n)/t(n);return n}function TS(e,t){return e*Math.sqrt(1-t*t)}const hle=["duration","bounce"],mle=["stiffness","damping","mass"];function c2(e,t){return t.some(r=>e[r]!==void 0)}function ple(e){let t={velocity:dr.velocity,stiffness:dr.stiffness,damping:dr.damping,mass:dr.mass,isResolvedFromDuration:!1,...e};if(!c2(e,mle)&&c2(e,hle))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),a=n*n,i=2*Ks(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:dr.mass,stiffness:a,damping:i}}else{const r=ule(e);t={...t,...r,mass:dr.mass},t.isResolvedFromDuration=!0}return t}function W8(e=dr.visualDuration,t=dr.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:a}=r;const i=r.keyframes[0],o=r.keyframes[r.keyframes.length-1],l={done:!1,value:i},{stiffness:c,damping:u,mass:d,duration:f,velocity:h,isResolvedFromDuration:p}=ple({...r,velocity:-ks(r.velocity||0)}),x=h||0,m=u/(2*Math.sqrt(c*d)),g=o-i,w=ks(Math.sqrt(c/d)),y=Math.abs(g)<5;n||(n=y?dr.restSpeed.granular:dr.restSpeed.default),a||(a=y?dr.restDelta.granular:dr.restDelta.default);let b;if(m<1){const j=TS(w,m);b=S=>{const P=Math.exp(-m*w*S);return o-P*((x+m*w*g)/j*Math.sin(j*S)+g*Math.cos(j*S))}}else if(m===1)b=j=>o-Math.exp(-w*j)*(g+(x+w*g)*j);else{const j=w*Math.sqrt(m*m-1);b=S=>{const P=Math.exp(-m*w*S),C=Math.min(j*S,300);return o-P*((x+m*w*g)*Math.sinh(C)+j*g*Math.cosh(C))/j}}const N={calculatedDuration:p&&f||null,next:j=>{const S=b(j);if(p)l.done=j>=f;else{let P=0;m<1&&(P=j===0?Os(x):q8(b,j,S));const C=Math.abs(P)<=n,A=Math.abs(o-S)<=a;l.done=C&&A}return l.value=l.done?o:S,l},toString:()=>{const j=Math.min(u8(N),wS),S=d8(P=>N.next(j*P).value,j,30);return j+"ms "+S}};return N}function u2({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:d}){const f=e[0],h={done:!1,value:f},p=C=>l!==void 0&&C<l||c!==void 0&&C>c,x=C=>l===void 0?c:c===void 0||Math.abs(l-C)<Math.abs(c-C)?l:c;let m=r*t;const g=f+m,w=o===void 0?g:o(g);w!==g&&(m=w-f);const y=C=>-m*Math.exp(-C/n),b=C=>w+y(C),N=C=>{const A=y(C),E=b(C);h.done=Math.abs(A)<=u,h.value=h.done?w:E};let j,S;const P=C=>{p(h.value)&&(j=C,S=W8({keyframes:[h.value,x(h.value)],velocity:q8(b,C,h.value),damping:a,stiffness:i,restDelta:u,restSpeed:d}))};return P(0),{calculatedDuration:null,next:C=>{let A=!1;return!S&&j===void 0&&(A=!0,N(C),P(C)),j!==void 0&&C>=j?S.next(C-j):(!A&&N(C),h)}}}const gle=Xp(.42,0,1,1),vle=Xp(0,0,.58,1),H8=Xp(.42,0,.58,1),yle=e=>Array.isArray(e)&&typeof e[0]!="number",xle={linear:ya,easeIn:gle,easeInOut:H8,easeOut:vle,circIn:UA,circInOut:A8,circOut:C8,backIn:BA,backInOut:N8,backOut:S8,anticipate:P8},d2=e=>{if($A(e)){KB(e.length===4);const[t,r,n,a]=e;return Xp(t,r,n,a)}else if(typeof e=="string")return xle[e];return e};function ble(e,t,r){const n=[],a=r||K8,i=e.length-1;for(let o=0;o<i;o++){let l=a(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||ya:t;l=Yp(c,l)}n.push(l)}return n}function wle(e,t,{clamp:r=!0,ease:n,mixer:a}={}){const i=e.length;if(KB(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=ble(t,n,a),c=l.length,u=d=>{if(o&&d<e[0])return t[0];let f=0;if(c>1)for(;f<e.length-2&&!(d<e[f+1]);f++);const h=yd(e[f],e[f+1],d);return l[f](h)};return r?d=>u(Ks(e[0],e[i-1],d)):u}function jle(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const a=yd(0,t,n);e.push(sr(r,1,a))}}function Sle(e){const t=[0];return jle(t,e.length-1),t}function Nle(e,t){return e.map(r=>r*t)}function Ple(e,t){return e.map(()=>t||H8).splice(0,e.length-1)}function wy({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const a=yle(n)?n.map(d2):d2(n),i={done:!1,value:t[0]},o=Nle(r&&r.length===t.length?r:Sle(t),e),l=wle(o,t,{ease:Array.isArray(a)?a:Ple(t,a)});return{calculatedDuration:e,next:c=>(i.value=l(c),i.done=c>=e,i)}}const Cle=e=>{const t=({timestamp:r})=>e(r);return{start:()=>Yt.update(t,!0),stop:()=>tl(t),now:()=>en.isProcessing?en.timestamp:es.now()}},Ale={decay:u2,inertia:u2,tween:wy,keyframes:wy,spring:W8},Ele=e=>e/100;class XA extends B8{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:r,motionValue:n,element:a,keyframes:i}=this.options,o=(a==null?void 0:a.KeyframeResolver)||HA,l=(c,u)=>this.onKeyframesResolved(c,u);this.resolver=new o(i,l,r,n,a),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:r="keyframes",repeat:n=0,repeatDelay:a=0,repeatType:i,velocity:o=0}=this.options,l=RA(r)?r:Ale[r]||wy;let c,u;l!==wy&&typeof t[0]!="number"&&(c=Yp(Ele,K8(t[0],t[1])),t=[0,100]);const d=l({...this.options,keyframes:t});i==="mirror"&&(u=l({...this.options,keyframes:[...t].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=u8(d));const{calculatedDuration:f}=d,h=f+a,p=h*(n+1)-a;return{generator:d,mirroredGenerator:u,mapPercentToKeyframes:c,calculatedDuration:f,resolvedDuration:h,totalDuration:p}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,r=!1){const{resolved:n}=this;if(!n){const{keyframes:C}=this.options;return{done:!0,value:C[C.length-1]}}const{finalKeyframe:a,generator:i,mirroredGenerator:o,mapPercentToKeyframes:l,keyframes:c,calculatedDuration:u,totalDuration:d,resolvedDuration:f}=n;if(this.startTime===null)return i.next(0);const{delay:h,repeat:p,repeatType:x,repeatDelay:m,onUpdate:g}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-d/this.speed,this.startTime)),r?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const w=this.currentTime-h*(this.speed>=0?1:-1),y=this.speed>=0?w<0:w>d;this.currentTime=Math.max(w,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let b=this.currentTime,N=i;if(p){const C=Math.min(this.currentTime,d)/f;let A=Math.floor(C),E=C%1;!E&&C>=1&&(E=1),E===1&&A--,A=Math.min(A,p+1),!!(A%2)&&(x==="reverse"?(E=1-E,m&&(E-=m/f)):x==="mirror"&&(N=o)),b=Ks(0,1,E)*f}const j=y?{done:!1,value:c[0]}:N.next(b);l&&(j.value=l(j.value));let{done:S}=j;!y&&u!==null&&(S=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const P=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&S);return P&&a!==void 0&&(j.value=G0(c,this.options,a)),g&&g(j.value),P&&this.finish(),j}get duration(){const{resolved:t}=this;return t?ks(t.calculatedDuration):0}get time(){return ks(this.currentTime)}set time(t){t=Os(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=ks(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=Cle,onPlay:r,startTime:n}=this.options;this.driver||(this.driver=t(i=>this.tick(i))),r&&r();const a=this.driver.now();this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=a):this.startTime=n??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const Tle=new Set(["opacity","clipPath","filter","transform"]);function _le(e,t,r,{delay:n=0,duration:a=300,repeat:i=0,repeatType:o="loop",ease:l="easeInOut",times:c}={}){const u={[t]:r};c&&(u.offset=c);const d=h8(l,a);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:n,duration:a,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}const Ole=wA(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),jy=10,kle=2e4;function Dle(e){return RA(e.type)||e.type==="spring"||!f8(e.ease)}function Mle(e,t){const r=new XA({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let n={done:!1,value:e[0]};const a=[];let i=0;for(;!n.done&&i<kle;)n=r.sample(i),a.push(n.value),i+=jy;return{times:void 0,keyframes:a,duration:i-jy,ease:"linear"}}const G8={anticipate:P8,backInOut:N8,circInOut:A8};function Ile(e){return e in G8}class f2 extends B8{constructor(t){super(t);const{name:r,motionValue:n,element:a,keyframes:i}=this.options;this.resolver=new z8(i,(o,l)=>this.onKeyframesResolved(o,l),r,n,a),this.resolver.scheduleResolve()}initPlayback(t,r){let{duration:n=300,times:a,ease:i,type:o,motionValue:l,name:c,startTime:u}=this.options;if(!l.owner||!l.owner.current)return!1;if(typeof i=="string"&&xy()&&Ile(i)&&(i=G8[i]),Dle(this.options)){const{onComplete:f,onUpdate:h,motionValue:p,element:x,...m}=this.options,g=Mle(t,m);t=g.keyframes,t.length===1&&(t[1]=t[0]),n=g.duration,a=g.times,i=g.ease,o="keyframes"}const d=_le(l.owner.current,c,t,{...this.options,duration:n,times:a,ease:i});return d.startTime=u??this.calcStartTime(),this.pendingTimeline?(YO(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:f}=this.options;l.set(G0(t,this.options,r)),f&&f(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:n,times:a,type:o,ease:i,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:r}=t;return ks(r)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:r}=t;return ks(r.currentTime||0)}set time(t){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.currentTime=Os(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:r}=t;return r.playbackRate}set speed(t){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:r}=t;return r.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:r}=t;return r.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:r}=this;if(!r)return ya;const{animation:n}=r;YO(n,t)}return ya}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.playState==="finished"&&this.updateFinishedPromise(),r.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:r,keyframes:n,duration:a,type:i,ease:o,times:l}=t;if(r.playState==="idle"||r.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:d,onComplete:f,element:h,...p}=this.options,x=new XA({...p,keyframes:n,duration:a,type:i,ease:o,times:l,isGenerator:!0}),m=Os(this.time);u.setWithVelocity(x.sample(m-jy).value,x.sample(m).value,jy)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:r,name:n,repeatDelay:a,repeatType:i,damping:o,type:l}=t;if(!r||!r.owner||!(r.owner.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=r.owner.getProps();return Ole()&&n&&Tle.has(n)&&!c&&!u&&!a&&i!=="mirror"&&o!==0&&l!=="inertia"}}const Rle={type:"spring",stiffness:500,damping:25,restSpeed:10},$le=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Lle={type:"keyframes",duration:.8},Fle={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Vle=(e,{keyframes:t})=>t.length>2?Lle:Mc.has(e)?e.startsWith("scale")?$le(t[1]):Rle:Fle;function zle({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:a,repeat:i,repeatType:o,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const YA=(e,t,r,n={},a,i)=>o=>{const l=IA(n,e)||{},c=l.delay||n.delay||0;let{elapsed:u=0}=n;u=u-Os(c);let d={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-u,onUpdate:h=>{t.set(h),l.onUpdate&&l.onUpdate(h)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:i?void 0:a};zle(l)||(d={...d,...Vle(e,d)}),d.duration&&(d.duration=Os(d.duration)),d.repeatDelay&&(d.repeatDelay=Os(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(f=!0)),f&&!i&&t.get()!==void 0){const h=G0(d.keyframes,l);if(h!==void 0)return Yt.update(()=>{d.onUpdate(h),d.onComplete()}),new soe([])}return!i&&f2.supports(d)?new f2(d):new XA(d)};function Ble({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function X8(e,t,{delay:r=0,transitionOverride:n,type:a}={}){var i;let{transition:o=e.getDefaultTransition(),transitionEnd:l,...c}=t;n&&(o=n);const u=[],d=a&&e.animationState&&e.animationState.getState()[a];for(const f in c){const h=e.getValue(f,(i=e.latestValues[f])!==null&&i!==void 0?i:null),p=c[f];if(p===void 0||d&&Ble(d,f))continue;const x={delay:r,...IA(o||{},f)};let m=!1;if(window.MotionHandoffAnimation){const w=x8(e);if(w){const y=window.MotionHandoffAnimation(w,f,Yt);y!==null&&(x.startTime=y,m=!0)}}SS(e,f),h.start(YA(f,h,p,e.shouldReduceMotion&&v8.has(f)?{type:!1}:x,e,m));const g=h.animation;g&&u.push(g)}return l&&Promise.all(u).then(()=>{Yt.update(()=>{l&&boe(e,l)})}),u}function _S(e,t,r={}){var n;const a=H0(e,t,r.type==="exit"?(n=e.presenceContext)===null||n===void 0?void 0:n.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=a||{};r.transitionOverride&&(i=r.transitionOverride);const o=a?()=>Promise.all(X8(e,a,r)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:f,staggerDirection:h}=i;return Ule(e,t,d+u,f,h,r)}:()=>Promise.resolve(),{when:c}=i;if(c){const[u,d]=c==="beforeChildren"?[o,l]:[l,o];return u().then(()=>d())}else return Promise.all([o(),l(r.delay)])}function Ule(e,t,r=0,n=0,a=1,i){const o=[],l=(e.variantChildren.size-1)*n,c=a===1?(u=0)=>u*n:(u=0)=>l-u*n;return Array.from(e.variantChildren).sort(Kle).forEach((u,d)=>{u.notify("AnimationStart",t),o.push(_S(u,t,{...i,delay:r+c(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(o)}function Kle(e,t){return e.sortNodePosition(t)}function qle(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const a=t.map(i=>_S(e,i,r));n=Promise.all(a)}else if(typeof t=="string")n=_S(e,t,r);else{const a=typeof t=="function"?H0(e,t,r.custom):t;n=Promise.all(X8(e,a,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}const Wle=SA.length;function Y8(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?Y8(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<Wle;r++){const n=SA[r],a=e.props[n];(Cm(a)||a===!1)&&(t[n]=a)}return t}const Hle=[...jA].reverse(),Gle=jA.length;function Xle(e){return t=>Promise.all(t.map(({animation:r,options:n})=>qle(e,r,n)))}function Yle(e){let t=Xle(e),r=h2(),n=!0;const a=c=>(u,d)=>{var f;const h=H0(e,d,c==="exit"?(f=e.presenceContext)===null||f===void 0?void 0:f.custom:void 0);if(h){const{transition:p,transitionEnd:x,...m}=h;u={...u,...m,...x}}return u};function i(c){t=c(e)}function o(c){const{props:u}=e,d=Y8(e.parent)||{},f=[],h=new Set;let p={},x=1/0;for(let g=0;g<Gle;g++){const w=Hle[g],y=r[w],b=u[w]!==void 0?u[w]:d[w],N=Cm(b),j=w===c?y.isActive:null;j===!1&&(x=g);let S=b===d[w]&&b!==u[w]&&N;if(S&&n&&e.manuallyAnimateOnMount&&(S=!1),y.protectedKeys={...p},!y.isActive&&j===null||!b&&!y.prevProp||q0(b)||typeof b=="boolean")continue;const P=Qle(y.prevProp,b);let C=P||w===c&&y.isActive&&!S&&N||g>x&&N,A=!1;const E=Array.isArray(b)?b:[b];let T=E.reduce(a(w),{});j===!1&&(T={});const{prevResolvedValues:_={}}=y,O={..._,...T},M=V=>{C=!0,h.has(V)&&(A=!0,h.delete(V)),y.needsAnimating[V]=!0;const D=e.getValue(V);D&&(D.liveStyle=!1)};for(const V in O){const D=T[V],I=_[V];if(p.hasOwnProperty(V))continue;let B=!1;bS(D)&&bS(I)?B=!c8(D,I):B=D!==I,B?D!=null?M(V):h.add(V):D!==void 0&&h.has(V)?M(V):y.protectedKeys[V]=!0}y.prevProp=b,y.prevResolvedValues=T,y.isActive&&(p={...p,...T}),n&&e.blockInitialAnimation&&(C=!1),C&&(!(S&&P)||A)&&f.push(...E.map(V=>({animation:V,options:{type:w}})))}if(h.size){const g={};h.forEach(w=>{const y=e.getBaseTarget(w),b=e.getValue(w);b&&(b.liveStyle=!0),g[w]=y??null}),f.push({animation:g})}let m=!!f.length;return n&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(m=!1),n=!1,m?t(f):Promise.resolve()}function l(c,u){var d;if(r[c].isActive===u)return Promise.resolve();(d=e.variantChildren)===null||d===void 0||d.forEach(h=>{var p;return(p=h.animationState)===null||p===void 0?void 0:p.setActive(c,u)}),r[c].isActive=u;const f=o(c);for(const h in r)r[h].protectedKeys={};return f}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>r,reset:()=>{r=h2(),n=!0}}}function Qle(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!c8(t,e):!1}function jl(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function h2(){return{animate:jl(!0),whileInView:jl(),whileHover:jl(),whileTap:jl(),whileDrag:jl(),whileFocus:jl(),exit:jl()}}class fl{constructor(t){this.isMounted=!1,this.node=t}update(){}}class Zle extends fl{constructor(t){super(t),t.animationState||(t.animationState=Yle(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();q0(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let Jle=0;class ece extends fl{constructor(){super(...arguments),this.id=Jle++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const a=this.node.animationState.setActive("exit",!t);r&&!t&&a.then(()=>r(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const tce={animation:{Feature:Zle},exit:{Feature:ece}};function _m(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function Qp(e){return{point:{x:e.pageX,y:e.pageY}}}const rce=e=>t=>LA(t)&&e(t,Qp(t));function Vh(e,t,r,n){return _m(e,t,rce(r),n)}const m2=(e,t)=>Math.abs(e-t);function nce(e,t){const r=m2(e.x,t.x),n=m2(e.y,t.y);return Math.sqrt(r**2+n**2)}class Q8{constructor(t,r,{transformPagePoint:n,contextWindow:a,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=nj(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,p=nce(f.offset,{x:0,y:0})>=3;if(!h&&!p)return;const{point:x}=f,{timestamp:m}=en;this.history.push({...x,timestamp:m});const{onStart:g,onMove:w}=this.handlers;h||(g&&g(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),w&&w(this.lastMoveEvent,f)},this.handlePointerMove=(f,h)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=rj(h,this.transformPagePoint),Yt.update(this.updatePoint,!0)},this.handlePointerUp=(f,h)=>{this.end();const{onEnd:p,onSessionEnd:x,resumeAnimation:m}=this.handlers;if(this.dragSnapToOrigin&&m&&m(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=nj(f.type==="pointercancel"?this.lastMoveEventInfo:rj(h,this.transformPagePoint),this.history);this.startEvent&&p&&p(f,g),x&&x(f,g)},!LA(t))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=n,this.contextWindow=a||window;const o=Qp(t),l=rj(o,this.transformPagePoint),{point:c}=l,{timestamp:u}=en;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=r;d&&d(t,nj(l,this.history)),this.removeListeners=Yp(Vh(this.contextWindow,"pointermove",this.handlePointerMove),Vh(this.contextWindow,"pointerup",this.handlePointerUp),Vh(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),tl(this.updatePoint)}}function rj(e,t){return t?{point:t(e.point)}:e}function p2(e,t){return{x:e.x-t.x,y:e.y-t.y}}function nj({point:e},t){return{point:e,delta:p2(e,Z8(t)),offset:p2(e,ace(t)),velocity:ice(t,.1)}}function ace(e){return e[0]}function Z8(e){return e[e.length-1]}function ice(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const a=Z8(e);for(;r>=0&&(n=e[r],!(a.timestamp-n.timestamp>Os(t)));)r--;if(!n)return{x:0,y:0};const i=ks(a.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const o={x:(a.x-n.x)/i,y:(a.y-n.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const J8=1e-4,sce=1-J8,oce=1+J8,eU=.01,lce=0-eU,cce=0+eU;function Sa(e){return e.max-e.min}function uce(e,t,r){return Math.abs(e-t)<=r}function g2(e,t,r,n=.5){e.origin=n,e.originPoint=sr(t.min,t.max,e.origin),e.scale=Sa(r)/Sa(t),e.translate=sr(r.min,r.max,e.origin)-e.originPoint,(e.scale>=sce&&e.scale<=oce||isNaN(e.scale))&&(e.scale=1),(e.translate>=lce&&e.translate<=cce||isNaN(e.translate))&&(e.translate=0)}function zh(e,t,r,n){g2(e.x,t.x,r.x,n?n.originX:void 0),g2(e.y,t.y,r.y,n?n.originY:void 0)}function v2(e,t,r){e.min=r.min+t.min,e.max=e.min+Sa(t)}function dce(e,t,r){v2(e.x,t.x,r.x),v2(e.y,t.y,r.y)}function y2(e,t,r){e.min=t.min-r.min,e.max=e.min+Sa(t)}function Bh(e,t,r){y2(e.x,t.x,r.x),y2(e.y,t.y,r.y)}function fce(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?sr(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?sr(r,e,n.max):Math.min(e,r)),e}function x2(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function hce(e,{top:t,left:r,bottom:n,right:a}){return{x:x2(e.x,r,a),y:x2(e.y,t,n)}}function b2(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function mce(e,t){return{x:b2(e.x,t.x),y:b2(e.y,t.y)}}function pce(e,t){let r=.5;const n=Sa(e),a=Sa(t);return a>n?r=yd(t.min,t.max-n,e.min):n>a&&(r=yd(e.min,e.max-a,t.min)),Ks(0,1,r)}function gce(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const OS=.35;function vce(e=OS){return e===!1?e=0:e===!0&&(e=OS),{x:w2(e,"left","right"),y:w2(e,"top","bottom")}}function w2(e,t,r){return{min:j2(e,t),max:j2(e,r)}}function j2(e,t){return typeof e=="number"?e:e[t]||0}const S2=()=>({translate:0,scale:1,origin:0,originPoint:0}),pu=()=>({x:S2(),y:S2()}),N2=()=>({min:0,max:0}),pr=()=>({x:N2(),y:N2()});function ka(e){return[e("x"),e("y")]}function tU({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function yce({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function xce(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function aj(e){return e===void 0||e===1}function kS({scale:e,scaleX:t,scaleY:r}){return!aj(e)||!aj(t)||!aj(r)}function Cl(e){return kS(e)||rU(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function rU(e){return P2(e.x)||P2(e.y)}function P2(e){return e&&e!=="0%"}function Sy(e,t,r){const n=e-r,a=t*n;return r+a}function C2(e,t,r,n,a){return a!==void 0&&(e=Sy(e,a,n)),Sy(e,r,n)+t}function DS(e,t=0,r=1,n,a){e.min=C2(e.min,t,r,n,a),e.max=C2(e.max,t,r,n,a)}function nU(e,{x:t,y:r}){DS(e.x,t.translate,t.scale,t.originPoint),DS(e.y,r.translate,r.scale,r.originPoint)}const A2=.999999999999,E2=1.0000000000001;function bce(e,t,r,n=!1){const a=r.length;if(!a)return;t.x=t.y=1;let i,o;for(let l=0;l<a;l++){i=r[l],o=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&vu(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,nU(e,o)),n&&Cl(i.latestValues)&&vu(e,i.latestValues))}t.x<E2&&t.x>A2&&(t.x=1),t.y<E2&&t.y>A2&&(t.y=1)}function gu(e,t){e.min=e.min+t,e.max=e.max+t}function T2(e,t,r,n,a=.5){const i=sr(e.min,e.max,a);DS(e,t,r,i,n)}function vu(e,t){T2(e.x,t.x,t.scaleX,t.scale,t.originX),T2(e.y,t.y,t.scaleY,t.scale,t.originY)}function aU(e,t){return tU(xce(e.getBoundingClientRect(),t))}function wce(e,t,r){const n=aU(e,r),{scroll:a}=t;return a&&(gu(n.x,a.offset.x),gu(n.y,a.offset.y)),n}const iU=({current:e})=>e?e.ownerDocument.defaultView:null,jce=new WeakMap;class Sce{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=pr(),this.visualElement=t}start(t,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const a=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Qp(d).point)},i=(d,f)=>{const{drag:h,dragPropagation:p,onDragStart:x}=this.getProps();if(h&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=poe(h),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ka(g=>{let w=this.getAxisMotionValue(g).get()||0;if(Ji.test(w)){const{projection:y}=this.visualElement;if(y&&y.layout){const b=y.layout.layoutBox[g];b&&(w=Sa(b)*(parseFloat(w)/100))}}this.originPoint[g]=w}),x&&Yt.postRender(()=>x(d,f)),SS(this.visualElement,"transform");const{animationState:m}=this.visualElement;m&&m.setActive("whileDrag",!0)},o=(d,f)=>{const{dragPropagation:h,dragDirectionLock:p,onDirectionLock:x,onDrag:m}=this.getProps();if(!h&&!this.openDragLock)return;const{offset:g}=f;if(p&&this.currentDirection===null){this.currentDirection=Nce(g),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",f.point,g),this.updateAxis("y",f.point,g),this.visualElement.render(),m&&m(d,f)},l=(d,f)=>this.stop(d,f),c=()=>ka(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new Q8(t,{onSessionStart:a,onStart:i,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:iU(this.visualElement)})}stop(t,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:a}=r;this.startAnimation(a);const{onDragEnd:i}=this.getProps();i&&Yt.postRender(()=>i(t,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:a}=this.getProps();if(!n||!Kg(t,a,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(o=fce(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var t;const{dragConstraints:r,dragElastic:n}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,i=this.constraints;r&&hu(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&a?this.constraints=hce(a.layoutBox,r):this.constraints=!1,this.elastic=vce(n),i!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&ka(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=gce(a.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!hu(t))return!1;const n=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const i=wce(n,a.root,this.visualElement.getTransformPagePoint());let o=mce(a.layout.layoutBox,i);if(r){const l=r(yce(o));this.hasMutatedConstraints=!!l,l&&(o=tU(l))}return o}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:a,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=ka(d=>{if(!Kg(d,r,this.currentDirection))return;let f=c&&c[d]||{};o&&(f={min:0,max:0});const h=a?200:1e6,p=a?40:1e7,x={type:"inertia",velocity:n?t[d]:0,bounceStiffness:h,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(d,x)});return Promise.all(u).then(l)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return SS(this.visualElement,t),n.start(YA(t,n,0,r,this.visualElement,!1))}stopAnimation(){ka(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){ka(t=>{var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),a=n[r];return a||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){ka(r=>{const{drag:n}=this.getProps();if(!Kg(r,n,this.currentDirection))return;const{projection:a}=this.visualElement,i=this.getAxisMotionValue(r);if(a&&a.layout){const{min:o,max:l}=a.layout.layoutBox[r];i.set(t[r]-sr(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!hu(r)||!n||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};ka(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();a[o]=pce({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),ka(o=>{if(!Kg(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];l.set(sr(c,u,a[o]))})}addListeners(){if(!this.visualElement.current)return;jce.set(this.visualElement,this);const t=this.visualElement.current,r=Vh(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();hu(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,i=a.addEventListener("measure",n);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Yt.read(n);const o=_m(window,"resize",()=>this.scalePositionWithinConstraints()),l=a.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(ka(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=c[d].translate,f.set(f.get()+c[d].translate))}),this.visualElement.render())});return()=>{o(),r(),i(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:a=!1,dragConstraints:i=!1,dragElastic:o=OS,dragMomentum:l=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:a,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function Kg(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function Nce(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class Pce extends fl{constructor(t){super(t),this.removeGroupControls=ya,this.removeListeners=ya,this.controls=new Sce(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ya}unmount(){this.removeGroupControls(),this.removeListeners()}}const _2=e=>(t,r)=>{e&&Yt.postRender(()=>e(t,r))};class Cce extends fl{constructor(){super(...arguments),this.removePointerDownListener=ya}onPointerDown(t){this.session=new Q8(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:iU(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:a}=this.node.getProps();return{onSessionStart:_2(t),onStart:_2(r),onMove:n,onEnd:(i,o)=>{delete this.session,a&&Yt.postRender(()=>a(i,o))}}}mount(){this.removePointerDownListener=Vh(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const _v={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function O2(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Qf={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Ke.test(e))e=parseFloat(e);else return e;const r=O2(e,t.target.x),n=O2(e,t.target.y);return`${r}% ${n}%`}},Ace={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,a=rl.parse(e);if(a.length>5)return n;const i=rl.createTransformer(e),o=typeof a[0]!="number"?1:0,l=r.x.scale*t.x,c=r.y.scale*t.y;a[0+o]/=l,a[1+o]/=c;const u=sr(l,c,.5);return typeof a[2+o]=="number"&&(a[2+o]/=u),typeof a[3+o]=="number"&&(a[3+o]/=u),i(a)}};class Ece extends v.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:a}=this.props,{projection:i}=t;Gse(Tce),i&&(r.group&&r.group.add(i),n&&n.register&&a&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),_v.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:a,isPresent:i}=this.props,o=n.projection;return o&&(o.isPresent=i,a||t.layoutDependency!==r||r===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||Yt.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),PA.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:a}=t;a&&(a.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(a),n&&n.deregister&&n.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function sU(e){const[t,r]=BB(),n=v.useContext(vA);return s.jsx(Ece,{...e,layoutGroup:n,switchLayoutGroup:v.useContext(YB),isPresent:t,safeToRemove:r})}const Tce={borderRadius:{...Qf,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Qf,borderTopRightRadius:Qf,borderBottomLeftRadius:Qf,borderBottomRightRadius:Qf,boxShadow:Ace};function _ce(e,t,r){const n=yn(e)?e:Em(e);return n.start(YA("",n,t,r)),n.animation}function Oce(e){return e instanceof SVGElement&&e.tagName!=="svg"}const kce=(e,t)=>e.depth-t.depth;class Dce{constructor(){this.children=[],this.isDirty=!1}add(t){FA(this.children,t),this.isDirty=!0}remove(t){VA(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(kce),this.isDirty=!1,this.children.forEach(t)}}function Mce(e,t){const r=es.now(),n=({timestamp:a})=>{const i=a-r;i>=t&&(tl(n),e(i-t))};return Yt.read(n,!0),()=>tl(n)}const oU=["TopLeft","TopRight","BottomLeft","BottomRight"],Ice=oU.length,k2=e=>typeof e=="string"?parseFloat(e):e,D2=e=>typeof e=="number"||Ke.test(e);function Rce(e,t,r,n,a,i){a?(e.opacity=sr(0,r.opacity!==void 0?r.opacity:1,$ce(n)),e.opacityExit=sr(t.opacity!==void 0?t.opacity:1,0,Lce(n))):i&&(e.opacity=sr(t.opacity!==void 0?t.opacity:1,r.opacity!==void 0?r.opacity:1,n));for(let o=0;o<Ice;o++){const l=`border${oU[o]}Radius`;let c=M2(t,l),u=M2(r,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||D2(c)===D2(u)?(e[l]=Math.max(sr(k2(c),k2(u),n),0),(Ji.test(u)||Ji.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||r.rotate)&&(e.rotate=sr(t.rotate||0,r.rotate||0,n))}function M2(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const $ce=lU(0,.5,C8),Lce=lU(.5,.95,ya);function lU(e,t,r){return n=>n<e?0:n>t?1:r(yd(e,t,n))}function I2(e,t){e.min=t.min,e.max=t.max}function Ea(e,t){I2(e.x,t.x),I2(e.y,t.y)}function R2(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function $2(e,t,r,n,a){return e-=t,e=Sy(e,1/r,n),a!==void 0&&(e=Sy(e,1/a,n)),e}function Fce(e,t=0,r=1,n=.5,a,i=e,o=e){if(Ji.test(t)&&(t=parseFloat(t),t=sr(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=sr(i.min,i.max,n);e===i&&(l-=t),e.min=$2(e.min,t,r,l,a),e.max=$2(e.max,t,r,l,a)}function L2(e,t,[r,n,a],i,o){Fce(e,t[r],t[n],t[a],t.scale,i,o)}const Vce=["x","scaleX","originX"],zce=["y","scaleY","originY"];function F2(e,t,r,n){L2(e.x,t,Vce,r?r.x:void 0,n?n.x:void 0),L2(e.y,t,zce,r?r.y:void 0,n?n.y:void 0)}function V2(e){return e.translate===0&&e.scale===1}function cU(e){return V2(e.x)&&V2(e.y)}function z2(e,t){return e.min===t.min&&e.max===t.max}function Bce(e,t){return z2(e.x,t.x)&&z2(e.y,t.y)}function B2(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function uU(e,t){return B2(e.x,t.x)&&B2(e.y,t.y)}function U2(e){return Sa(e.x)/Sa(e.y)}function K2(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class Uce{constructor(){this.members=[]}add(t){FA(this.members,t),t.scheduleRender()}remove(t){if(VA(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(a=>t===a);if(r===0)return!1;let n;for(let a=r;a>=0;a--){const i=this.members[a];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Kce(e,t,r){let n="";const a=e.x.translate/t.x,i=e.y.translate/t.y,o=(r==null?void 0:r.z)||0;if((a||i||o)&&(n=`translate3d(${a}px, ${i}px, ${o}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:u,rotate:d,rotateX:f,rotateY:h,skewX:p,skewY:x}=r;u&&(n=`perspective(${u}px) ${n}`),d&&(n+=`rotate(${d}deg) `),f&&(n+=`rotateX(${f}deg) `),h&&(n+=`rotateY(${h}deg) `),p&&(n+=`skewX(${p}deg) `),x&&(n+=`skewY(${x}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(n+=`scale(${l}, ${c})`),n||"none"}const Al={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Sh=typeof window<"u"&&window.MotionDebug!==void 0,ij=["","X","Y","Z"],qce={visibility:"hidden"},q2=1e3;let Wce=0;function sj(e,t,r,n){const{latestValues:a}=t;a[e]&&(r[e]=a[e],t.setStaticValue(e,0),n&&(n[e]=0))}function dU(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=x8(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:a,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",Yt,!(a||i))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&dU(n)}function fU({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:a}){return class{constructor(o={},l=t==null?void 0:t()){this.id=Wce++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Sh&&(Al.totalNodes=Al.resolvedTargetDeltas=Al.recalculatedProjection=0),this.nodes.forEach(Xce),this.nodes.forEach(eue),this.nodes.forEach(tue),this.nodes.forEach(Yce),Sh&&window.MotionDebug.record(Al)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new Dce)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new zA),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Oce(o),this.instance=o;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||c)&&(this.isLayoutDirty=!0),e){let f;const h=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=Mce(h,250),_v.hasAnimatedSinceResize&&(_v.hasAnimatedSinceResize=!1,this.nodes.forEach(H2))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h,hasRelativeTargetChanged:p,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const m=this.options.transition||d.getDefaultTransition()||sue,{onLayoutAnimationStart:g,onLayoutAnimationComplete:w}=d.getProps(),y=!this.targetLayout||!uU(this.targetLayout,x)||p,b=!h&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||b||h&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,b);const N={...IA(m,"layout"),onPlay:g,onComplete:w};(d.shouldReduceMotion||this.options.layoutRoot)&&(N.delay=0,N.type=!1),this.startAnimation(N)}else h||H2(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,tl(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(rue),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&dU(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(W2);return}this.isUpdating||this.nodes.forEach(Zce),this.isUpdating=!1,this.nodes.forEach(Jce),this.nodes.forEach(Hce),this.nodes.forEach(Gce),this.clearAllSnapshots();const l=es.now();en.delta=Ks(0,1e3/60,l-en.timestamp),en.timestamp=l,en.isProcessing=!0,Yw.update.process(en),Yw.preRender.process(en),Yw.render.process(en),en.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,PA.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Qce),this.sharedNodes.forEach(nue)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Yt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Yt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=pr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l){const c=n(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!a)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!cU(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&(l||Cl(this.latestValues)||d)&&(a(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),oue(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:l}=this.options;if(!l)return pr();const c=l.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(lue))){const{scroll:d}=this.root;d&&(gu(c.x,d.offset.x),gu(c.y,d.offset.y))}return c}removeElementScroll(o){var l;const c=pr();if(Ea(c,o),!((l=this.scroll)===null||l===void 0)&&l.wasRoot)return c;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:f,options:h}=d;d!==this.root&&f&&h.layoutScroll&&(f.wasRoot&&Ea(c,o),gu(c.x,f.offset.x),gu(c.y,f.offset.y))}return c}applyTransform(o,l=!1){const c=pr();Ea(c,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&vu(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Cl(d.latestValues)&&vu(c,d.latestValues)}return Cl(this.latestValues)&&vu(c,this.latestValues),c}removeTransform(o){const l=pr();Ea(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!Cl(u.latestValues))continue;kS(u.latestValues)&&u.updateSnapshot();const d=pr(),f=u.measurePageBox();Ea(d,f),F2(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Cl(this.latestValues)&&F2(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==en.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:h}=this.options;if(!(!this.layout||!(f||h))){if(this.resolvedRelativeTargetAt=en.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=pr(),this.relativeTargetOrigin=pr(),Bh(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),Ea(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=pr(),this.targetWithTransforms=pr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),dce(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ea(this.target,this.layout.layoutBox),nU(this.target,this.targetDelta)):Ea(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=pr(),this.relativeTargetOrigin=pr(),Bh(this.relativeTargetOrigin,this.target,p.target),Ea(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Sh&&Al.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||kS(this.parent.latestValues)||rU(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===en.timestamp&&(u=!1),u)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;Ea(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,p=this.treeScale.y;bce(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=pr());const{target:x}=l;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(R2(this.prevProjectionDelta.x,this.projectionDelta.x),R2(this.prevProjectionDelta.y,this.projectionDelta.y)),zh(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==p||!K2(this.projectionDelta.x,this.prevProjectionDelta.x)||!K2(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x)),Sh&&Al.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)===null||l===void 0||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=pu(),this.projectionDelta=pu(),this.projectionDeltaWithTransform=pu()}setAnimationOrigin(o,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},f=pu();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const h=pr(),p=c?c.source:void 0,x=this.layout?this.layout.source:void 0,m=p!==x,g=this.getStack(),w=!g||g.members.length<=1,y=!!(m&&!w&&this.options.crossfade===!0&&!this.path.some(iue));this.animationProgress=0;let b;this.mixTargetDelta=N=>{const j=N/1e3;G2(f.x,o.x,j),G2(f.y,o.y,j),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Bh(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),aue(this.relativeTarget,this.relativeTargetOrigin,h,j),b&&Bce(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=pr()),Ea(b,this.relativeTarget)),m&&(this.animationValues=d,Rce(d,u,this.latestValues,j,y,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=j},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(tl(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Yt.update(()=>{_v.hasAnimatedSinceResize=!0,this.currentAnimation=_ce(0,q2,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(q2),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=o;if(!(!l||!c||!u)){if(this!==o&&this.layout&&u&&hU(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||pr();const f=Sa(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+f;const h=Sa(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+h}Ea(l,c),vu(l,d),zh(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Uce),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&sj("z",o,u,this.animationValues);for(let d=0;d<ij.length;d++)sj(`rotate${ij[d]}`,o,u,this.animationValues),sj(`skew${ij[d]}`,o,u,this.animationValues);o.render();for(const d in u)o.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);o.scheduleRender()}getProjectionStyles(o){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return qce;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Ev(o==null?void 0:o.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const m={};return this.options.layoutId&&(m.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,m.pointerEvents=Ev(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Cl(this.latestValues)&&(m.transform=d?d({},""):"none",this.hasProjected=!1),m}const h=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=Kce(this.projectionDeltaWithTransform,this.treeScale,h),d&&(u.transform=d(h,u.transform));const{x:p,y:x}=this.projectionDelta;u.transformOrigin=`${p.origin*100}% ${x.origin*100}% 0`,f.animationValues?u.opacity=f===this?(c=(l=h.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:u.opacity=f===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const m in yy){if(h[m]===void 0)continue;const{correct:g,applyTo:w}=yy[m],y=u.transform==="none"?h[m]:g(h[m],f);if(w){const b=w.length;for(let N=0;N<b;N++)u[w[N]]=y}else u[m]=y}return this.options.layoutId&&(u.pointerEvents=f===this?Ev(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(W2),this.root.sharedNodes.clear()}}}function Hce(e){e.updateLayout()}function Gce(e){var t;const r=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&r&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:a}=e.layout,{animationType:i}=e.options,o=r.source!==e.layout.source;i==="size"?ka(f=>{const h=o?r.measuredBox[f]:r.layoutBox[f],p=Sa(h);h.min=n[f].min,h.max=h.min+p}):hU(i,r.layoutBox,n)&&ka(f=>{const h=o?r.measuredBox[f]:r.layoutBox[f],p=Sa(n[f]);h.max=h.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+p)});const l=pu();zh(l,n,r.layoutBox);const c=pu();o?zh(c,e.applyTransform(a,!0),r.measuredBox):zh(c,n,r.layoutBox);const u=!cU(l);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:p}=f;if(h&&p){const x=pr();Bh(x,r.layoutBox,h.layoutBox);const m=pr();Bh(m,n,p.layoutBox),uU(x,m)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=m,e.relativeTargetOrigin=x,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:r,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function Xce(e){Sh&&Al.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Yce(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Qce(e){e.clearSnapshot()}function W2(e){e.clearMeasurements()}function Zce(e){e.isLayoutDirty=!1}function Jce(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function H2(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function eue(e){e.resolveTargetDelta()}function tue(e){e.calcProjection()}function rue(e){e.resetSkewAndRotation()}function nue(e){e.removeLeadSnapshot()}function G2(e,t,r){e.translate=sr(t.translate,0,r),e.scale=sr(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function X2(e,t,r,n){e.min=sr(t.min,r.min,n),e.max=sr(t.max,r.max,n)}function aue(e,t,r,n){X2(e.x,t.x,r.x,n),X2(e.y,t.y,r.y,n)}function iue(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const sue={duration:.45,ease:[.4,0,.1,1]},Y2=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Q2=Y2("applewebkit/")&&!Y2("chrome/")?Math.round:ya;function Z2(e){e.min=Q2(e.min),e.max=Q2(e.max)}function oue(e){Z2(e.x),Z2(e.y)}function hU(e,t,r){return e==="position"||e==="preserve-aspect"&&!uce(U2(t),U2(r),.2)}function lue(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const cue=fU({attachResizeListener:(e,t)=>_m(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),oj={current:void 0},mU=fU({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!oj.current){const e=new cue({});e.mount(window),e.setOptions({layoutScroll:!0}),oj.current=e}return oj.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),uue={pan:{Feature:Cce},drag:{Feature:Pce,ProjectionNode:mU,MeasureLayout:sU}};function J2(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");const a="onHover"+r,i=n[a];i&&Yt.postRender(()=>i(t,Qp(t)))}class due extends fl{mount(){const{current:t}=this.node;t&&(this.unmount=uoe(t,r=>(J2(this.node,r,"Start"),n=>J2(this.node,n,"End"))))}unmount(){}}class fue extends fl{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Yp(_m(this.node.current,"focus",()=>this.onFocus()),_m(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function ek(e,t,r){const{props:n}=e;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");const a="onTap"+(r==="End"?"":r),i=n[a];i&&Yt.postRender(()=>i(t,Qp(t)))}class hue extends fl{mount(){const{current:t}=this.node;t&&(this.unmount=moe(t,r=>(ek(this.node,r,"Start"),(n,{success:a})=>ek(this.node,n,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const MS=new WeakMap,lj=new WeakMap,mue=e=>{const t=MS.get(e.target);t&&t(e)},pue=e=>{e.forEach(mue)};function gue({root:e,...t}){const r=e||document;lj.has(r)||lj.set(r,{});const n=lj.get(r),a=JSON.stringify(t);return n[a]||(n[a]=new IntersectionObserver(pue,{root:e,...t})),n[a]}function vue(e,t,r){const n=gue(t);return MS.set(e,r),n.observe(e),()=>{MS.delete(e),n.unobserve(e)}}const yue={some:0,all:1};class xue extends fl{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:a="some",once:i}=t,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof a=="number"?a:yue[a]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),h=u?d:f;h&&h(c)};return vue(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(bue(t,r))&&this.startObserver()}unmount(){}}function bue({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const wue={inView:{Feature:xue},tap:{Feature:hue},focus:{Feature:fue},hover:{Feature:due}},jue={layout:{ProjectionNode:mU,MeasureLayout:sU}},IS={current:null},pU={current:!1};function Sue(){if(pU.current=!0,!!bA)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>IS.current=e.matches;e.addListener(t),t()}else IS.current=!1}const Nue=[...V8,fn,rl],Pue=e=>Nue.find(F8(e)),tk=new WeakMap;function Cue(e,t,r){for(const n in t){const a=t[n],i=r[n];if(yn(a))e.addValue(n,a);else if(yn(i))e.addValue(n,Em(a,{owner:e}));else if(i!==a)if(e.hasValue(n)){const o=e.getValue(n);o.liveStyle===!0?o.jump(a):o.hasAnimated||o.set(a)}else{const o=e.getStaticValue(n);e.addValue(n,Em(o!==void 0?o:a,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const rk=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Aue{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:a,blockInitialAnimation:i,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=HA,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=es.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,Yt.render(this.render,!1,!0))};const{latestValues:c,renderState:u,onUpdate:d}=o;this.onUpdate=d,this.latestValues=c,this.baseTarget={...c},this.initialValues=r.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=W0(r),this.isVariantNode=GB(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:f,...h}=this.scrapeMotionValuesFromProps(r,{},this);for(const p in h){const x=h[p];c[p]!==void 0&&yn(x)&&x.set(c[p],!1)}}mount(t){this.current=t,tk.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),pU.current||Sue(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:IS.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){tk.delete(this.current),this.projection&&this.projection.unmount(),tl(this.notifyUpdate),tl(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const r=this.features[t];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=Mc.has(t),a=r.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&Yt.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),i=r.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{a(),i(),o&&o(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in xd){const r=xd[t];if(!r)continue;const{isEnabled:n,Feature:a}=r;if(!this.features[t]&&a&&n(this.props)&&(this.features[t]=new a(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):pr()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<rk.length;n++){const a=rk[n];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const i="on"+a,o=t[i];o&&(this.propEventSubscriptions[a]=this.on(a,o))}this.prevMotionValues=Cue(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=Em(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){var n;let a=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options);return a!=null&&(typeof a=="string"&&($8(a)||E8(a))?a=parseFloat(a):!Pue(a)&&rl.test(r)&&(a=M8(t,r)),this.setBaseTarget(t,yn(a)?a.get():a)),yn(a)?a.get():a}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var r;const{initial:n}=this.props;let a;if(typeof n=="string"||typeof n=="object"){const o=AA(this.props,n,(r=this.presenceContext)===null||r===void 0?void 0:r.custom);o&&(a=o[t])}if(n&&a!==void 0)return a;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!yn(i)?i:this.initialValues[t]!==void 0&&a===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new zA),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}}class gU extends Aue{constructor(){super(...arguments),this.KeyframeResolver=z8}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;yn(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function Eue(e){return window.getComputedStyle(e)}class Tue extends gU{constructor(){super(...arguments),this.type="html",this.renderInstance=n8}readValueFromInstance(t,r){if(Mc.has(r)){const n=WA(r);return n&&n.default||0}else{const n=Eue(t),a=(e8(r)?n.getPropertyValue(r):n[r])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:r}){return aU(t,r)}build(t,r,n){_A(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return MA(t,r,n)}}class _ue extends gU{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=pr}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(Mc.has(r)){const n=WA(r);return n&&n.default||0}return r=a8.has(r)?r:NA(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return o8(t,r,n)}build(t,r,n){OA(t,r,this.isSVGTag,n.transformTemplate)}renderInstance(t,r,n,a){i8(t,r,n,a)}mount(t){this.isSVGTag=DA(t.tagName),super.mount(t)}}const Oue=(e,t)=>CA(e)?new _ue(t):new Tue(t,{allowProjection:e!==v.Fragment}),kue=noe({...tce,...wue,...uue,...jue},Oue),Ii=yse(kue);function Due({isLoading:e=!0}){const[t,r]=v.useState(e),[n,a]=v.useState(0);return v.useEffect(()=>{if(console.log("[LoadingSplash] Estado de carga:",e),e){r(!0);const i=setInterval(()=>{a(o=>(o+1)%3)},600);return()=>clearInterval(i)}else r(!1),console.log("[LoadingSplash] Ocultando animación inmediatamente")},[e]),t?s.jsx(use,{children:t&&s.jsx(Ii.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 flex items-center justify-center bg-[#273949] z-[9999]",children:s.jsxs("div",{className:"relative flex flex-col items-center",children:[s.jsxs("div",{className:"relative h-40 w-40 flex items-center justify-center",children:[n===0&&s.jsx(Ii.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.3},className:"absolute top-0 w-10 h-10 bg-white",style:{clipPath:"polygon(50% 0%, 100% 50%, 50% 100%, 0% 50%)"}}),s.jsxs("div",{className:"relative h-24 w-64 flex items-center justify-center overflow-visible",children:[[0,1,2].map(i=>s.jsx(Ii.div,{initial:{scale:0,opacity:0},animate:{scale:n>=1?[0,1]:0,opacity:n>=1?[0,1]:0},transition:{duration:.6,delay:.1*i,repeat:n===1?1/0:0,repeatDelay:.5},className:"absolute border-[3px] border-white",style:{width:`${120-i*20}px`,height:`${16-i*2}px`,borderRadius:"50%"}},i)),s.jsx(Ii.div,{initial:{scale:0},animate:{scale:n>=1?1:0},transition:{duration:.5},className:"absolute w-4 h-4 bg-white rounded-full"})]}),s.jsx(Ii.div,{initial:{y:0,opacity:0},animate:{y:n===2?[0,40]:0,opacity:n===2?[0,1]:0},transition:{duration:.4,ease:"easeIn"},className:"absolute bottom-0 w-8 h-12 bg-white",style:{borderRadius:"50% 50% 50% 50% / 60% 60% 40% 40%"}})]}),s.jsx(Ii.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3,delay:.2},className:"mt-8 text-white text-4xl font-bold tracking-wider",children:"ECONOVA"}),s.jsxs(Ii.div,{className:"mt-4 text-white/80 text-sm flex items-center",children:[s.jsx("span",{children:"Cargando"}),s.jsx(Ii.span,{animate:{opacity:[0,1,0]},transition:{duration:.8,repeat:1/0,repeatType:"loop"},className:"ml-1",children:"."}),s.jsx(Ii.span,{animate:{opacity:[0,1,0]},transition:{duration:1.2,repeat:1/0,repeatType:"loop",delay:.4},className:"ml-0",children:"."}),s.jsx(Ii.span,{animate:{opacity:[0,1,0]},transition:{duration:1.2,repeat:1/0,repeatType:"loop",delay:.8},className:"ml-0",children:"."})]})]})})}):null}function Qa({children:e,title:t,isLoading:r}){const[n,a]=v.useState(r||!1);return v.useEffect(()=>{if(r!==void 0){a(r);return}const i=setTimeout(()=>{a(!1)},800);return()=>clearTimeout(i)},[r]),s.jsxs(s.Fragment,{children:[s.jsx(Due,{isLoading:n}),s.jsxs("div",{className:"flex h-screen overflow-hidden bg-secondary-50 dark:bg-primary-950",children:[s.jsx("div",{className:"hidden lg:block lg:w-64 flex-shrink-0",children:s.jsx(my,{})}),s.jsx("div",{className:"lg:hidden",children:s.jsx(my,{})}),s.jsxs("main",{className:"flex-1 overflow-auto w-full",children:[s.jsx(zB,{title:t}),s.jsx("div",{className:"px-3 sm:px-4 md:px-6 pb-6 space-y-3 sm:space-y-4",children:e})]})]})]})}function nk(e){return new Intl.DateTimeFormat("es-ES",{year:"numeric",month:"long",day:"numeric"}).format(e)}function Mue(e){return new Intl.DateTimeFormat("es-ES",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(e)}function Iue(){return[{label:"Todos los períodos",value:"all"},{label:"Q1 2023",value:"Q1 2023"},{label:"Q2 2023",value:"Q2 2023"},{label:"Q3 2023",value:"Q3 2023"},{label:"Q4 2023",value:"Q4 2023"},{label:"Q1 2024",value:"Q1 2024"}]}function Rue({onFilterChange:e}){const[t,r]=v.useState("all"),[n,a]=v.useState("all"),[i,o]=v.useState("all"),[l,c]=v.useState(Iue()[0].value),{data:u,isLoading:d}=$e({queryKey:["/api/companies"]}),{data:f,isLoading:h}=$e({queryKey:["/api/areas",t?{companyId:t}:null],enabled:!0});return v.useEffect(()=>{const p={areaId:n&&n!=="all"?parseInt(n):void 0,status:i&&i!=="all"?i:void 0,period:l};t&&t!=="all"&&(p.companyId=parseInt(t)),e(p)},[t,n,i,l,e]),s.jsx("div",{className:"hidden"})}var QA="Tabs",[$ue,jze]=jn(QA,[hf]),vU=hf(),[Lue,ZA]=$ue(QA),yU=v.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=ff(l),[f,h]=Ya({prop:n,onChange:a,defaultProp:i});return s.jsx(Lue,{scope:r,baseId:Qi(),value:f,onValueChange:h,orientation:o,dir:d,activationMode:c,children:s.jsx(Ie.div,{dir:d,"data-orientation":o,...u,ref:t})})});yU.displayName=QA;var xU="TabsList",bU=v.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...a}=e,i=ZA(xU,r),o=vU(r);return s.jsx(sA,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:n,children:s.jsx(Ie.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:t})})});bU.displayName=xU;var wU="TabsTrigger",jU=v.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...i}=e,o=ZA(wU,r),l=vU(r),c=PU(o.baseId,n),u=CU(o.baseId,n),d=n===o.value;return s.jsx(oA,{asChild:!0,...l,focusable:!a,active:d,children:s.jsx(Ie.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:t,onMouseDown:ue(e.onMouseDown,f=>{!a&&f.button===0&&f.ctrlKey===!1?o.onValueChange(n):f.preventDefault()}),onKeyDown:ue(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(n)}),onFocus:ue(e.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!a&&f&&o.onValueChange(n)})})})});jU.displayName=wU;var SU="TabsContent",NU=v.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:a,children:i,...o}=e,l=ZA(SU,r),c=PU(l.baseId,n),u=CU(l.baseId,n),d=n===l.value,f=v.useRef(d);return v.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),s.jsx(Sn,{present:a||d,children:({present:h})=>s.jsx(Ie.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&i})})});NU.displayName=SU;function PU(e,t){return`${e}-trigger-${t}`}function CU(e,t){return`${e}-content-${t}`}var Fue=yU,AU=bU,EU=jU,TU=NU;const hl=Fue,Ys=v.forwardRef(({className:e,...t},r)=>s.jsx(AU,{ref:r,className:he("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Ys.displayName=AU.displayName;const Xt=v.forwardRef(({className:e,...t},r)=>s.jsx(EU,{ref:r,className:he("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Xt.displayName=EU.displayName;const mr=v.forwardRef(({className:e,...t},r)=>s.jsx(TU,{ref:r,className:he("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));mr.displayName=TU.displayName;var Vue="Label",_U=v.forwardRef((e,t)=>s.jsx(Ie.label,{...e,ref:t,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));_U.displayName=Vue;var OU=_U;const zue=of("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ge=v.forwardRef(({className:e,...t},r)=>s.jsx(OU,{ref:r,className:he(zue(),e),...t}));ge.displayName=OU.displayName;const Za=v.forwardRef(({className:e,...t},r)=>s.jsx("textarea",{className:he("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...t}));Za.displayName="Textarea";const Bue=of("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",success:"border-transparent bg-green-500 text-white hover:bg-green-600",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ze({className:e,variant:t,...r}){return s.jsx("div",{className:he(Bue({variant:t}),e),...r})}var Uue=Array.isArray,ea=Uue,Kue=typeof hg=="object"&&hg&&hg.Object===Object&&hg,kU=Kue,que=kU,Wue=typeof self=="object"&&self&&self.Object===Object&&self,Hue=que||Wue||Function("return this")(),hs=Hue,Gue=hs,Xue=Gue.Symbol,Zp=Xue,ak=Zp,DU=Object.prototype,Yue=DU.hasOwnProperty,Que=DU.toString,Zf=ak?ak.toStringTag:void 0;function Zue(e){var t=Yue.call(e,Zf),r=e[Zf];try{e[Zf]=void 0;var n=!0}catch{}var a=Que.call(e);return n&&(t?e[Zf]=r:delete e[Zf]),a}var Jue=Zue,ede=Object.prototype,tde=ede.toString;function rde(e){return tde.call(e)}var nde=rde,ik=Zp,ade=Jue,ide=nde,sde="[object Null]",ode="[object Undefined]",sk=ik?ik.toStringTag:void 0;function lde(e){return e==null?e===void 0?ode:sde:sk&&sk in Object(e)?ade(e):ide(e)}var Qs=lde;function cde(e){return e!=null&&typeof e=="object"}var Zs=cde,ude=Qs,dde=Zs,fde="[object Symbol]";function hde(e){return typeof e=="symbol"||dde(e)&&ude(e)==fde}var gf=hde,mde=ea,pde=gf,gde=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,vde=/^\w*$/;function yde(e,t){if(mde(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||pde(e)?!0:vde.test(e)||!gde.test(e)||t!=null&&e in Object(t)}var JA=yde;function xde(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var ml=xde;const vf=$t(ml);var bde=Qs,wde=ml,jde="[object AsyncFunction]",Sde="[object Function]",Nde="[object GeneratorFunction]",Pde="[object Proxy]";function Cde(e){if(!wde(e))return!1;var t=bde(e);return t==Sde||t==Nde||t==jde||t==Pde}var eE=Cde;const rt=$t(eE);var Ade=hs,Ede=Ade["__core-js_shared__"],Tde=Ede,cj=Tde,ok=function(){var e=/[^.]+$/.exec(cj&&cj.keys&&cj.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function _de(e){return!!ok&&ok in e}var Ode=_de,kde=Function.prototype,Dde=kde.toString;function Mde(e){if(e!=null){try{return Dde.call(e)}catch{}try{return e+""}catch{}}return""}var MU=Mde,Ide=eE,Rde=Ode,$de=ml,Lde=MU,Fde=/[\\^$.*+?()[\]{}|]/g,Vde=/^\[object .+?Constructor\]$/,zde=Function.prototype,Bde=Object.prototype,Ude=zde.toString,Kde=Bde.hasOwnProperty,qde=RegExp("^"+Ude.call(Kde).replace(Fde,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Wde(e){if(!$de(e)||Rde(e))return!1;var t=Ide(e)?qde:Vde;return t.test(Lde(e))}var Hde=Wde;function Gde(e,t){return e==null?void 0:e[t]}var Xde=Gde,Yde=Hde,Qde=Xde;function Zde(e,t){var r=Qde(e,t);return Yde(r)?r:void 0}var Ic=Zde,Jde=Ic,efe=Jde(Object,"create"),X0=efe,lk=X0;function tfe(){this.__data__=lk?lk(null):{},this.size=0}var rfe=tfe;function nfe(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var afe=nfe,ife=X0,sfe="__lodash_hash_undefined__",ofe=Object.prototype,lfe=ofe.hasOwnProperty;function cfe(e){var t=this.__data__;if(ife){var r=t[e];return r===sfe?void 0:r}return lfe.call(t,e)?t[e]:void 0}var ufe=cfe,dfe=X0,ffe=Object.prototype,hfe=ffe.hasOwnProperty;function mfe(e){var t=this.__data__;return dfe?t[e]!==void 0:hfe.call(t,e)}var pfe=mfe,gfe=X0,vfe="__lodash_hash_undefined__";function yfe(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=gfe&&t===void 0?vfe:t,this}var xfe=yfe,bfe=rfe,wfe=afe,jfe=ufe,Sfe=pfe,Nfe=xfe;function yf(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}yf.prototype.clear=bfe;yf.prototype.delete=wfe;yf.prototype.get=jfe;yf.prototype.has=Sfe;yf.prototype.set=Nfe;var Pfe=yf;function Cfe(){this.__data__=[],this.size=0}var Afe=Cfe;function Efe(e,t){return e===t||e!==e&&t!==t}var tE=Efe,Tfe=tE;function _fe(e,t){for(var r=e.length;r--;)if(Tfe(e[r][0],t))return r;return-1}var Y0=_fe,Ofe=Y0,kfe=Array.prototype,Dfe=kfe.splice;function Mfe(e){var t=this.__data__,r=Ofe(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():Dfe.call(t,r,1),--this.size,!0}var Ife=Mfe,Rfe=Y0;function $fe(e){var t=this.__data__,r=Rfe(t,e);return r<0?void 0:t[r][1]}var Lfe=$fe,Ffe=Y0;function Vfe(e){return Ffe(this.__data__,e)>-1}var zfe=Vfe,Bfe=Y0;function Ufe(e,t){var r=this.__data__,n=Bfe(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var Kfe=Ufe,qfe=Afe,Wfe=Ife,Hfe=Lfe,Gfe=zfe,Xfe=Kfe;function xf(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}xf.prototype.clear=qfe;xf.prototype.delete=Wfe;xf.prototype.get=Hfe;xf.prototype.has=Gfe;xf.prototype.set=Xfe;var Q0=xf,Yfe=Ic,Qfe=hs,Zfe=Yfe(Qfe,"Map"),rE=Zfe,ck=Pfe,Jfe=Q0,ehe=rE;function the(){this.size=0,this.__data__={hash:new ck,map:new(ehe||Jfe),string:new ck}}var rhe=the;function nhe(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var ahe=nhe,ihe=ahe;function she(e,t){var r=e.__data__;return ihe(t)?r[typeof t=="string"?"string":"hash"]:r.map}var Z0=she,ohe=Z0;function lhe(e){var t=ohe(this,e).delete(e);return this.size-=t?1:0,t}var che=lhe,uhe=Z0;function dhe(e){return uhe(this,e).get(e)}var fhe=dhe,hhe=Z0;function mhe(e){return hhe(this,e).has(e)}var phe=mhe,ghe=Z0;function vhe(e,t){var r=ghe(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var yhe=vhe,xhe=rhe,bhe=che,whe=fhe,jhe=phe,She=yhe;function bf(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}bf.prototype.clear=xhe;bf.prototype.delete=bhe;bf.prototype.get=whe;bf.prototype.has=jhe;bf.prototype.set=She;var nE=bf,IU=nE,Nhe="Expected a function";function aE(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Nhe);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var o=e.apply(this,n);return r.cache=i.set(a,o)||i,o};return r.cache=new(aE.Cache||IU),r}aE.Cache=IU;var RU=aE;const Phe=$t(RU);var Che=RU,Ahe=500;function Ehe(e){var t=Che(e,function(n){return r.size===Ahe&&r.clear(),n}),r=t.cache;return t}var The=Ehe,_he=The,Ohe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,khe=/\\(\\)?/g,Dhe=_he(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Ohe,function(r,n,a,i){t.push(a?i.replace(khe,"$1"):n||r)}),t}),Mhe=Dhe;function Ihe(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var iE=Ihe,uk=Zp,Rhe=iE,$he=ea,Lhe=gf,dk=uk?uk.prototype:void 0,fk=dk?dk.toString:void 0;function $U(e){if(typeof e=="string")return e;if($he(e))return Rhe(e,$U)+"";if(Lhe(e))return fk?fk.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var Fhe=$U,Vhe=Fhe;function zhe(e){return e==null?"":Vhe(e)}var LU=zhe,Bhe=ea,Uhe=JA,Khe=Mhe,qhe=LU;function Whe(e,t){return Bhe(e)?e:Uhe(e,t)?[e]:Khe(qhe(e))}var FU=Whe,Hhe=gf;function Ghe(e){if(typeof e=="string"||Hhe(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var J0=Ghe,Xhe=FU,Yhe=J0;function Qhe(e,t){t=Xhe(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[Yhe(t[r++])];return r&&r==n?e:void 0}var sE=Qhe,Zhe=sE;function Jhe(e,t,r){var n=e==null?void 0:Zhe(e,t);return n===void 0?r:n}var VU=Jhe;const Wa=$t(VU);function eme(e){return e==null}var tme=eme;const et=$t(tme);var rme=Qs,nme=ea,ame=Zs,ime="[object String]";function sme(e){return typeof e=="string"||!nme(e)&&ame(e)&&rme(e)==ime}var ome=sme;const vc=$t(ome);var zU={exports:{}},It={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oE=Symbol.for("react.element"),lE=Symbol.for("react.portal"),eb=Symbol.for("react.fragment"),tb=Symbol.for("react.strict_mode"),rb=Symbol.for("react.profiler"),nb=Symbol.for("react.provider"),ab=Symbol.for("react.context"),lme=Symbol.for("react.server_context"),ib=Symbol.for("react.forward_ref"),sb=Symbol.for("react.suspense"),ob=Symbol.for("react.suspense_list"),lb=Symbol.for("react.memo"),cb=Symbol.for("react.lazy"),cme=Symbol.for("react.offscreen"),BU;BU=Symbol.for("react.module.reference");function ei(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case oE:switch(e=e.type,e){case eb:case rb:case tb:case sb:case ob:return e;default:switch(e=e&&e.$$typeof,e){case lme:case ab:case ib:case cb:case lb:case nb:return e;default:return t}}case lE:return t}}}It.ContextConsumer=ab;It.ContextProvider=nb;It.Element=oE;It.ForwardRef=ib;It.Fragment=eb;It.Lazy=cb;It.Memo=lb;It.Portal=lE;It.Profiler=rb;It.StrictMode=tb;It.Suspense=sb;It.SuspenseList=ob;It.isAsyncMode=function(){return!1};It.isConcurrentMode=function(){return!1};It.isContextConsumer=function(e){return ei(e)===ab};It.isContextProvider=function(e){return ei(e)===nb};It.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===oE};It.isForwardRef=function(e){return ei(e)===ib};It.isFragment=function(e){return ei(e)===eb};It.isLazy=function(e){return ei(e)===cb};It.isMemo=function(e){return ei(e)===lb};It.isPortal=function(e){return ei(e)===lE};It.isProfiler=function(e){return ei(e)===rb};It.isStrictMode=function(e){return ei(e)===tb};It.isSuspense=function(e){return ei(e)===sb};It.isSuspenseList=function(e){return ei(e)===ob};It.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===eb||e===rb||e===tb||e===sb||e===ob||e===cme||typeof e=="object"&&e!==null&&(e.$$typeof===cb||e.$$typeof===lb||e.$$typeof===nb||e.$$typeof===ab||e.$$typeof===ib||e.$$typeof===BU||e.getModuleId!==void 0)};It.typeOf=ei;zU.exports=It;var ume=zU.exports,dme=Qs,fme=Zs,hme="[object Number]";function mme(e){return typeof e=="number"||fme(e)&&dme(e)==hme}var UU=mme;const pme=$t(UU);var gme=UU;function vme(e){return gme(e)&&e!=+e}var yme=vme;const wf=$t(yme);var vi=function(t){return t===0?0:t>0?1:-1},Ll=function(t){return vc(t)&&t.indexOf("%")===t.length-1},de=function(t){return pme(t)&&!wf(t)},Rr=function(t){return de(t)||vc(t)},xme=0,Rc=function(t){var r=++xme;return"".concat(t||"").concat(r)},yc=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!de(t)&&!vc(t))return n;var i;if(Ll(t)){var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return wf(i)&&(i=n),a&&i>r&&(i=r),i},xo=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},bme=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},xr=function(t,r){return de(t)&&de(r)?function(n){return t+n*(r-t)}:function(){return r}};function Ny(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):Wa(n,t))===r})}var wme=function(t){if(!t||!t.length)return null;for(var r=t.length,n=0,a=0,i=0,o=0,l=1/0,c=-1/0,u=0,d=0,f=0;f<r;f++)u=t[f].cx||0,d=t[f].cy||0,n+=u,a+=d,i+=u*d,o+=u*u,l=Math.min(l,u),c=Math.max(c,u);var h=r*o!==n*n?(r*i-n*a)/(r*o-n*n):0;return{xmin:l,xmax:c,a:h,b:(a-h*n)/r}},jme=function(t,r){return de(t)&&de(r)?t-r:vc(t)&&vc(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function Du(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function RS(e){"@babel/helpers - typeof";return RS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},RS(e)}var Sme=["viewBox","children"],Nme=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],hk=["points","pathLength"],uj={svg:Sme,polygon:hk,polyline:hk},cE=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Py=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(v.isValidElement(t)&&(n=t.props),!vf(n))return null;var a={};return Object.keys(n).forEach(function(i){cE.includes(i)&&(a[i]=r||function(o){return n[i](n,o)})}),a},Pme=function(t,r,n){return function(a){return t(r,n,a),null}},Om=function(t,r,n){if(!vf(t)||RS(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(i){var o=t[i];cE.includes(i)&&typeof o=="function"&&(a||(a={}),a[i]=Pme(o,r,n))}),a},Cme=["children"],Ame=["children"];function mk(e,t){if(e==null)return{};var r=Eme(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Eme(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function $S(e){"@babel/helpers - typeof";return $S=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$S(e)}var pk={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Ds=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},gk=null,dj=null,uE=function e(t){if(t===gk&&Array.isArray(dj))return dj;var r=[];return v.Children.forEach(t,function(n){et(n)||(ume.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),dj=r,gk=t,r};function Jn(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return Ds(a)}):n=[Ds(t)],uE(e).forEach(function(a){var i=Wa(a,"type.displayName")||Wa(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}function ca(e,t){var r=Jn(e,t);return r&&r[0]}var vk=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!de(n)||n<=0||!de(a)||a<=0)},Tme=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],_me=function(t){return t&&t.type&&vc(t.type)&&Tme.indexOf(t.type)>=0},KU=function(t){return t&&$S(t)==="object"&&"clipDot"in t},Ome=function(t,r,n,a){var i,o=(i=uj==null?void 0:uj[a])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!rt(t)&&(a&&o.includes(r)||Nme.includes(r))||n&&cE.includes(r)},Je=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(v.isValidElement(t)&&(a=t.props),!vf(a))return null;var i={};return Object.keys(a).forEach(function(o){var l;Ome((l=a)===null||l===void 0?void 0:l[o],o,r,n)&&(i[o]=a[o])}),i},LS=function e(t,r){if(t===r)return!0;var n=v.Children.count(t);if(n!==v.Children.count(r))return!1;if(n===0)return!0;if(n===1)return yk(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var i=t[a],o=r[a];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!yk(i,o))return!1}return!0},yk=function(t,r){if(et(t)&&et(r))return!0;if(!et(t)&&!et(r)){var n=t.props||{},a=n.children,i=mk(n,Cme),o=r.props||{},l=o.children,c=mk(o,Ame);return a&&l?Du(i,c)&&LS(a,l):!a&&!l?Du(i,c):!1}return!1},xk=function(t,r){var n=[],a={};return uE(t).forEach(function(i,o){if(_me(i))n.push(i);else if(i){var l=Ds(i.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!a[l])){var f=u(i,l,o);n.push(f),a[l]=!0}}}),n},kme=function(t){var r=t&&t.type;return r&&pk[r]?pk[r]:null},Dme=function(t,r){return uE(r).indexOf(t)},Mme=["children","width","height","viewBox","className","style","title","desc"];function FS(){return FS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},FS.apply(this,arguments)}function Ime(e,t){if(e==null)return{};var r=Rme(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Rme(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function VS(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,i=e.className,o=e.style,l=e.title,c=e.desc,u=Ime(e,Mme),d=a||{width:r,height:n,x:0,y:0},f=yt("recharts-surface",i);return k.createElement("svg",FS({},Je(u,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),k.createElement("title",null,l),k.createElement("desc",null,c),t)}var $me=["children","className"];function zS(){return zS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zS.apply(this,arguments)}function Lme(e,t){if(e==null)return{};var r=Fme(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Fme(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Tt=k.forwardRef(function(e,t){var r=e.children,n=e.className,a=Lme(e,$me),i=yt("recharts-layer",n);return k.createElement("g",zS({className:i},Je(a,!0),{ref:t}),r)}),Ms=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]};function Vme(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(a);++n<a;)i[n]=e[n+t];return i}var zme=Vme,Bme=zme;function Ume(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:Bme(e,t,r)}var Kme=Ume,qme="\\ud800-\\udfff",Wme="\\u0300-\\u036f",Hme="\\ufe20-\\ufe2f",Gme="\\u20d0-\\u20ff",Xme=Wme+Hme+Gme,Yme="\\ufe0e\\ufe0f",Qme="\\u200d",Zme=RegExp("["+Qme+qme+Xme+Yme+"]");function Jme(e){return Zme.test(e)}var qU=Jme;function epe(e){return e.split("")}var tpe=epe,WU="\\ud800-\\udfff",rpe="\\u0300-\\u036f",npe="\\ufe20-\\ufe2f",ape="\\u20d0-\\u20ff",ipe=rpe+npe+ape,spe="\\ufe0e\\ufe0f",ope="["+WU+"]",BS="["+ipe+"]",US="\\ud83c[\\udffb-\\udfff]",lpe="(?:"+BS+"|"+US+")",HU="[^"+WU+"]",GU="(?:\\ud83c[\\udde6-\\uddff]){2}",XU="[\\ud800-\\udbff][\\udc00-\\udfff]",cpe="\\u200d",YU=lpe+"?",QU="["+spe+"]?",upe="(?:"+cpe+"(?:"+[HU,GU,XU].join("|")+")"+QU+YU+")*",dpe=QU+YU+upe,fpe="(?:"+[HU+BS+"?",BS,GU,XU,ope].join("|")+")",hpe=RegExp(US+"(?="+US+")|"+fpe+dpe,"g");function mpe(e){return e.match(hpe)||[]}var ppe=mpe,gpe=tpe,vpe=qU,ype=ppe;function xpe(e){return vpe(e)?ype(e):gpe(e)}var bpe=xpe,wpe=Kme,jpe=qU,Spe=bpe,Npe=LU;function Ppe(e){return function(t){t=Npe(t);var r=jpe(t)?Spe(t):void 0,n=r?r[0]:t.charAt(0),a=r?wpe(r,1).join(""):t.slice(1);return n[e]()+a}}var Cpe=Ppe,Ape=Cpe,Epe=Ape("toUpperCase"),Tpe=Epe;const ub=$t(Tpe);function Vt(e){return function(){return e}}const ZU=Math.cos,Cy=Math.sin,_i=Math.sqrt,Ay=Math.PI,db=2*Ay,KS=Math.PI,qS=2*KS,El=1e-6,_pe=qS-El;function JU(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function Ope(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return JU;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class kpe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?JU:Ope(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,o){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=n-t,u=a-r,d=o-t,f=l-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>El)if(!(Math.abs(f*c-u*d)>El)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-o,x=a-l,m=c*c+u*u,g=p*p+x*x,w=Math.sqrt(m),y=Math.sqrt(h),b=i*Math.tan((KS-Math.acos((m+h-g)/(2*w*y)))/2),N=b/y,j=b/w;Math.abs(N-1)>El&&this._append`L${t+N*d},${r+N*f}`,this._append`A${i},${i},0,0,${+(f*p>d*x)},${this._x1=t+j*c},${this._y1=r+j*u}`}}arc(t,r,n,a,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),u=t+l,d=r+c,f=1^o,h=o?a-i:i-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>El||Math.abs(this._y1-d)>El)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%qS+qS),h>_pe?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>El&&this._append`A${n},${n},0,${+(h>=KS)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function dE(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new kpe(t)}function fE(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function e9(e){this._context=e}e9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function fb(e){return new e9(e)}function t9(e){return e[0]}function r9(e){return e[1]}function n9(e,t){var r=Vt(!0),n=null,a=fb,i=null,o=dE(l);e=typeof e=="function"?e:e===void 0?t9:Vt(e),t=typeof t=="function"?t:t===void 0?r9:Vt(t);function l(c){var u,d=(c=fE(c)).length,f,h=!1,p;for(n==null&&(i=a(p=o())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(f,u,c),+t(f,u,c));if(p)return i=null,p+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Vt(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Vt(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Vt(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(i=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=i=null:i=a(n=c),l):n},l}function qg(e,t,r){var n=null,a=Vt(!0),i=null,o=fb,l=null,c=dE(u);e=typeof e=="function"?e:e===void 0?t9:Vt(+e),t=typeof t=="function"?t:Vt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?r9:Vt(+r);function u(f){var h,p,x,m=(f=fE(f)).length,g,w=!1,y,b=new Array(m),N=new Array(m);for(i==null&&(l=o(y=c())),h=0;h<=m;++h){if(!(h<m&&a(g=f[h],h,f))===w)if(w=!w)p=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),x=h-1;x>=p;--x)l.point(b[x],N[x]);l.lineEnd(),l.areaEnd()}w&&(b[h]=+e(g,h,f),N[h]=+t(g,h,f),l.point(n?+n(g,h,f):b[h],r?+r(g,h,f):N[h]))}if(y)return l=null,y+""||null}function d(){return n9().defined(a).curve(o).context(i)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Vt(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Vt(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Vt(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Vt(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Vt(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Vt(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:Vt(!!f),u):a},u.curve=function(f){return arguments.length?(o=f,i!=null&&(l=o(i)),u):o},u.context=function(f){return arguments.length?(f==null?i=l=null:l=o(i=f),u):i},u}class a9{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function Dpe(e){return new a9(e,!0)}function Mpe(e){return new a9(e,!1)}const hE={draw(e,t){const r=_i(t/Ay);e.moveTo(r,0),e.arc(0,0,r,0,db)}},Ipe={draw(e,t){const r=_i(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},i9=_i(1/3),Rpe=i9*2,$pe={draw(e,t){const r=_i(t/Rpe),n=r*i9;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},Lpe={draw(e,t){const r=_i(t),n=-r/2;e.rect(n,n,r,r)}},Fpe=.8908130915292852,s9=Cy(Ay/10)/Cy(7*Ay/10),Vpe=Cy(db/10)*s9,zpe=-ZU(db/10)*s9,Bpe={draw(e,t){const r=_i(t*Fpe),n=Vpe*r,a=zpe*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const o=db*i/5,l=ZU(o),c=Cy(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*a,c*n+l*a)}e.closePath()}},fj=_i(3),Upe={draw(e,t){const r=-_i(t/(fj*3));e.moveTo(0,r*2),e.lineTo(-fj*r,-r),e.lineTo(fj*r,-r),e.closePath()}},Ta=-.5,_a=_i(3)/2,WS=1/_i(12),Kpe=(WS/2+1)*3,qpe={draw(e,t){const r=_i(t/Kpe),n=r/2,a=r*WS,i=n,o=r*WS+r,l=-i,c=o;e.moveTo(n,a),e.lineTo(i,o),e.lineTo(l,c),e.lineTo(Ta*n-_a*a,_a*n+Ta*a),e.lineTo(Ta*i-_a*o,_a*i+Ta*o),e.lineTo(Ta*l-_a*c,_a*l+Ta*c),e.lineTo(Ta*n+_a*a,Ta*a-_a*n),e.lineTo(Ta*i+_a*o,Ta*o-_a*i),e.lineTo(Ta*l+_a*c,Ta*c-_a*l),e.closePath()}};function Wpe(e,t){let r=null,n=dE(a);e=typeof e=="function"?e:Vt(e||hE),t=typeof t=="function"?t:Vt(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:Vt(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:Vt(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function Ey(){}function Ty(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function o9(e){this._context=e}o9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ty(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ty(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Hpe(e){return new o9(e)}function l9(e){this._context=e}l9.prototype={areaStart:Ey,areaEnd:Ey,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Ty(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Gpe(e){return new l9(e)}function c9(e){this._context=e}c9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Ty(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Xpe(e){return new c9(e)}function u9(e){this._context=e}u9.prototype={areaStart:Ey,areaEnd:Ey,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Ype(e){return new u9(e)}function bk(e){return e<0?-1:1}function wk(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),l=(i*a+o*n)/(n+a);return(bk(i)+bk(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function jk(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function hj(e,t,r){var n=e._x0,a=e._y0,i=e._x1,o=e._y1,l=(i-n)/3;e._context.bezierCurveTo(n+l,a+l*t,i-l,o-l*r,i,o)}function _y(e){this._context=e}_y.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:hj(this,this._t0,jk(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,hj(this,jk(this,r=wk(this,e,t)),r);break;default:hj(this,this._t0,r=wk(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function d9(e){this._context=new f9(e)}(d9.prototype=Object.create(_y.prototype)).point=function(e,t){_y.prototype.point.call(this,t,e)};function f9(e){this._context=e}f9.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function Qpe(e){return new _y(e)}function Zpe(e){return new d9(e)}function h9(e){this._context=e}h9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=Sk(e),a=Sk(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Sk(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function Jpe(e){return new h9(e)}function hb(e,t){this._context=e,this._t=t}hb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function ege(e){return new hb(e,.5)}function tge(e){return new hb(e,0)}function rge(e){return new hb(e,1)}function wd(e,t){if((o=e.length)>1)for(var r=1,n,a,i=e[t[0]],o,l=i.length;r<o;++r)for(a=i,i=e[t[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function HS(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function nge(e,t){return e[t]}function age(e){const t=[];return t.key=e,t}function ige(){var e=Vt([]),t=HS,r=wd,n=nge;function a(i){var o=Array.from(e.apply(this,arguments),age),l,c=o.length,u=-1,d;for(const f of i)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(f,o[l].key,u,i)]).data=f;for(l=0,d=fE(t(o));l<c;++l)o[d[l]].index=l;return r(o,d),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Vt(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:Vt(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?HS:typeof i=="function"?i:Vt(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??wd,a):r},a}function sge(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,o;a<i;++a){for(o=r=0;r<n;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<n;++r)e[r][a][1]/=o}wd(e,t)}}function oge(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var o=0,l=0;o<a;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}wd(e,t)}}function lge(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,o;n<i;++n){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],f=d[n][1]||0,h=d[n-1][1]||0,p=(f-h)/2,x=0;x<l;++x){var m=e[t[x]],g=m[n][1]||0,w=m[n-1][1]||0;p+=g-w}c+=f,u+=p*f}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,wd(e,t)}}function km(e){"@babel/helpers - typeof";return km=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},km(e)}var cge=["type","size","sizeType"];function GS(){return GS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},GS.apply(this,arguments)}function Nk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Pk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Nk(Object(r),!0).forEach(function(n){uge(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Nk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uge(e,t,r){return t=dge(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dge(e){var t=fge(e,"string");return km(t)=="symbol"?t:t+""}function fge(e,t){if(km(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(km(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hge(e,t){if(e==null)return{};var r=mge(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function mge(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var m9={symbolCircle:hE,symbolCross:Ipe,symbolDiamond:$pe,symbolSquare:Lpe,symbolStar:Bpe,symbolTriangle:Upe,symbolWye:qpe},pge=Math.PI/180,gge=function(t){var r="symbol".concat(ub(t));return m9[r]||hE},vge=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*pge;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},yge=function(t,r){m9["symbol".concat(ub(t))]=r},mb=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,i=a===void 0?64:a,o=t.sizeType,l=o===void 0?"area":o,c=hge(t,cge),u=Pk(Pk({},c),{},{type:n,size:i,sizeType:l}),d=function(){var g=gge(n),w=Wpe().type(g).size(vge(i,l,n));return w()},f=u.className,h=u.cx,p=u.cy,x=Je(u,!0);return h===+h&&p===+p&&i===+i?k.createElement("path",GS({},x,{className:yt("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:d()})):null};mb.registerSymbol=yge;function jd(e){"@babel/helpers - typeof";return jd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jd(e)}function XS(){return XS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},XS.apply(this,arguments)}function Ck(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xge(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ck(Object(r),!0).forEach(function(n){Dm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ck(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wge(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,g9(n.key),n)}}function jge(e,t,r){return t&&wge(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Sge(e,t,r){return t=Oy(t),Nge(e,p9()?Reflect.construct(t,r||[],Oy(e).constructor):t.apply(e,r))}function Nge(e,t){if(t&&(jd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pge(e)}function Pge(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(p9=function(){return!!e})()}function Oy(e){return Oy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Oy(e)}function Cge(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&YS(e,t)}function YS(e,t){return YS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},YS(e,t)}function Dm(e,t,r){return t=g9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g9(e){var t=Age(e,"string");return jd(t)=="symbol"?t:t+""}function Age(e,t){if(jd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(jd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Oa=32,mE=function(e){function t(){return bge(this,t),Sge(this,t,arguments)}return Cge(t,e),jge(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,i=Oa/2,o=Oa/6,l=Oa/3,c=n.inactive?a:n.color;if(n.type==="plainline")return k.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:Oa,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return k.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(Oa,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return k.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Oa/8,"h").concat(Oa,"v").concat(Oa*3/4,"h").concat(-Oa,"z"),className:"recharts-legend-icon"});if(k.isValidElement(n.legendIcon)){var u=xge({},n);return delete u.legendIcon,k.cloneElement(n.legendIcon,u)}return k.createElement(mb,{fill:c,cx:i,cy:i,size:Oa,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,i=a.payload,o=a.iconSize,l=a.layout,c=a.formatter,u=a.inactiveColor,d={x:0,y:0,width:Oa,height:Oa},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(p,x){var m=p.formatter||c,g=yt(Dm(Dm({"recharts-legend-item":!0},"legend-item-".concat(x),!0),"inactive",p.inactive));if(p.type==="none")return null;var w=rt(p.value)?null:p.value;Ms(!rt(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var y=p.inactive?u:p.color;return k.createElement("li",XS({className:g,style:f,key:"legend-item-".concat(x)},Om(n.props,p,x)),k.createElement(VS,{width:o,height:o,viewBox:d,style:h},n.renderIcon(p)),k.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},m?m(w,p,x):w))})}},{key:"render",value:function(){var n=this.props,a=n.payload,i=n.layout,o=n.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return k.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(v.PureComponent);Dm(mE,"displayName","Legend");Dm(mE,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Ege=Q0;function Tge(){this.__data__=new Ege,this.size=0}var _ge=Tge;function Oge(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var kge=Oge;function Dge(e){return this.__data__.get(e)}var Mge=Dge;function Ige(e){return this.__data__.has(e)}var Rge=Ige,$ge=Q0,Lge=rE,Fge=nE,Vge=200;function zge(e,t){var r=this.__data__;if(r instanceof $ge){var n=r.__data__;if(!Lge||n.length<Vge-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Fge(n)}return r.set(e,t),this.size=r.size,this}var Bge=zge,Uge=Q0,Kge=_ge,qge=kge,Wge=Mge,Hge=Rge,Gge=Bge;function jf(e){var t=this.__data__=new Uge(e);this.size=t.size}jf.prototype.clear=Kge;jf.prototype.delete=qge;jf.prototype.get=Wge;jf.prototype.has=Hge;jf.prototype.set=Gge;var v9=jf,Xge="__lodash_hash_undefined__";function Yge(e){return this.__data__.set(e,Xge),this}var Qge=Yge;function Zge(e){return this.__data__.has(e)}var Jge=Zge,eve=nE,tve=Qge,rve=Jge;function ky(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new eve;++t<r;)this.add(e[t])}ky.prototype.add=ky.prototype.push=tve;ky.prototype.has=rve;var y9=ky;function nve(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var x9=nve;function ave(e,t){return e.has(t)}var b9=ave,ive=y9,sve=x9,ove=b9,lve=1,cve=2;function uve(e,t,r,n,a,i){var o=r&lve,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var u=i.get(e),d=i.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,p=r&cve?new ive:void 0;for(i.set(e,t),i.set(t,e);++f<l;){var x=e[f],m=t[f];if(n)var g=o?n(m,x,f,t,e,i):n(x,m,f,e,t,i);if(g!==void 0){if(g)continue;h=!1;break}if(p){if(!sve(t,function(w,y){if(!ove(p,y)&&(x===w||a(x,w,r,n,i)))return p.push(y)})){h=!1;break}}else if(!(x===m||a(x,m,r,n,i))){h=!1;break}}return i.delete(e),i.delete(t),h}var w9=uve,dve=hs,fve=dve.Uint8Array,hve=fve;function mve(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var pve=mve;function gve(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var pE=gve,Ak=Zp,Ek=hve,vve=tE,yve=w9,xve=pve,bve=pE,wve=1,jve=2,Sve="[object Boolean]",Nve="[object Date]",Pve="[object Error]",Cve="[object Map]",Ave="[object Number]",Eve="[object RegExp]",Tve="[object Set]",_ve="[object String]",Ove="[object Symbol]",kve="[object ArrayBuffer]",Dve="[object DataView]",Tk=Ak?Ak.prototype:void 0,mj=Tk?Tk.valueOf:void 0;function Mve(e,t,r,n,a,i,o){switch(r){case Dve:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case kve:return!(e.byteLength!=t.byteLength||!i(new Ek(e),new Ek(t)));case Sve:case Nve:case Ave:return vve(+e,+t);case Pve:return e.name==t.name&&e.message==t.message;case Eve:case _ve:return e==t+"";case Cve:var l=xve;case Tve:var c=n&wve;if(l||(l=bve),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;n|=jve,o.set(e,t);var d=yve(l(e),l(t),n,a,i,o);return o.delete(e),d;case Ove:if(mj)return mj.call(e)==mj.call(t)}return!1}var Ive=Mve;function Rve(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var j9=Rve,$ve=j9,Lve=ea;function Fve(e,t,r){var n=t(e);return Lve(e)?n:$ve(n,r(e))}var Vve=Fve;function zve(e,t){for(var r=-1,n=e==null?0:e.length,a=0,i=[];++r<n;){var o=e[r];t(o,r,e)&&(i[a++]=o)}return i}var Bve=zve;function Uve(){return[]}var Kve=Uve,qve=Bve,Wve=Kve,Hve=Object.prototype,Gve=Hve.propertyIsEnumerable,_k=Object.getOwnPropertySymbols,Xve=_k?function(e){return e==null?[]:(e=Object(e),qve(_k(e),function(t){return Gve.call(e,t)}))}:Wve,Yve=Xve;function Qve(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var Zve=Qve,Jve=Qs,eye=Zs,tye="[object Arguments]";function rye(e){return eye(e)&&Jve(e)==tye}var nye=rye,Ok=nye,aye=Zs,S9=Object.prototype,iye=S9.hasOwnProperty,sye=S9.propertyIsEnumerable,oye=Ok(function(){return arguments}())?Ok:function(e){return aye(e)&&iye.call(e,"callee")&&!sye.call(e,"callee")},gE=oye,Dy={exports:{}};function lye(){return!1}var cye=lye;Dy.exports;(function(e,t){var r=hs,n=cye,a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===a,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(Dy,Dy.exports);var N9=Dy.exports,uye=9007199254740991,dye=/^(?:0|[1-9]\d*)$/;function fye(e,t){var r=typeof e;return t=t??uye,!!t&&(r=="number"||r!="symbol"&&dye.test(e))&&e>-1&&e%1==0&&e<t}var vE=fye,hye=9007199254740991;function mye(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=hye}var yE=mye,pye=Qs,gye=yE,vye=Zs,yye="[object Arguments]",xye="[object Array]",bye="[object Boolean]",wye="[object Date]",jye="[object Error]",Sye="[object Function]",Nye="[object Map]",Pye="[object Number]",Cye="[object Object]",Aye="[object RegExp]",Eye="[object Set]",Tye="[object String]",_ye="[object WeakMap]",Oye="[object ArrayBuffer]",kye="[object DataView]",Dye="[object Float32Array]",Mye="[object Float64Array]",Iye="[object Int8Array]",Rye="[object Int16Array]",$ye="[object Int32Array]",Lye="[object Uint8Array]",Fye="[object Uint8ClampedArray]",Vye="[object Uint16Array]",zye="[object Uint32Array]",Wt={};Wt[Dye]=Wt[Mye]=Wt[Iye]=Wt[Rye]=Wt[$ye]=Wt[Lye]=Wt[Fye]=Wt[Vye]=Wt[zye]=!0;Wt[yye]=Wt[xye]=Wt[Oye]=Wt[bye]=Wt[kye]=Wt[wye]=Wt[jye]=Wt[Sye]=Wt[Nye]=Wt[Pye]=Wt[Cye]=Wt[Aye]=Wt[Eye]=Wt[Tye]=Wt[_ye]=!1;function Bye(e){return vye(e)&&gye(e.length)&&!!Wt[pye(e)]}var Uye=Bye;function Kye(e){return function(t){return e(t)}}var P9=Kye,My={exports:{}};My.exports;(function(e,t){var r=kU,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===n,o=i&&r.process,l=function(){try{var c=a&&a.require&&a.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(My,My.exports);var qye=My.exports,Wye=Uye,Hye=P9,kk=qye,Dk=kk&&kk.isTypedArray,Gye=Dk?Hye(Dk):Wye,C9=Gye,Xye=Zve,Yye=gE,Qye=ea,Zye=N9,Jye=vE,exe=C9,txe=Object.prototype,rxe=txe.hasOwnProperty;function nxe(e,t){var r=Qye(e),n=!r&&Yye(e),a=!r&&!n&&Zye(e),i=!r&&!n&&!a&&exe(e),o=r||n||a||i,l=o?Xye(e.length,String):[],c=l.length;for(var u in e)(t||rxe.call(e,u))&&!(o&&(u=="length"||a&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Jye(u,c)))&&l.push(u);return l}var axe=nxe,ixe=Object.prototype;function sxe(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||ixe;return e===r}var oxe=sxe;function lxe(e,t){return function(r){return e(t(r))}}var A9=lxe,cxe=A9,uxe=cxe(Object.keys,Object),dxe=uxe,fxe=oxe,hxe=dxe,mxe=Object.prototype,pxe=mxe.hasOwnProperty;function gxe(e){if(!fxe(e))return hxe(e);var t=[];for(var r in Object(e))pxe.call(e,r)&&r!="constructor"&&t.push(r);return t}var vxe=gxe,yxe=eE,xxe=yE;function bxe(e){return e!=null&&xxe(e.length)&&!yxe(e)}var Jp=bxe,wxe=axe,jxe=vxe,Sxe=Jp;function Nxe(e){return Sxe(e)?wxe(e):jxe(e)}var pb=Nxe,Pxe=Vve,Cxe=Yve,Axe=pb;function Exe(e){return Pxe(e,Axe,Cxe)}var Txe=Exe,Mk=Txe,_xe=1,Oxe=Object.prototype,kxe=Oxe.hasOwnProperty;function Dxe(e,t,r,n,a,i){var o=r&_xe,l=Mk(e),c=l.length,u=Mk(t),d=u.length;if(c!=d&&!o)return!1;for(var f=c;f--;){var h=l[f];if(!(o?h in t:kxe.call(t,h)))return!1}var p=i.get(e),x=i.get(t);if(p&&x)return p==t&&x==e;var m=!0;i.set(e,t),i.set(t,e);for(var g=o;++f<c;){h=l[f];var w=e[h],y=t[h];if(n)var b=o?n(y,w,h,t,e,i):n(w,y,h,e,t,i);if(!(b===void 0?w===y||a(w,y,r,n,i):b)){m=!1;break}g||(g=h=="constructor")}if(m&&!g){var N=e.constructor,j=t.constructor;N!=j&&"constructor"in e&&"constructor"in t&&!(typeof N=="function"&&N instanceof N&&typeof j=="function"&&j instanceof j)&&(m=!1)}return i.delete(e),i.delete(t),m}var Mxe=Dxe,Ixe=Ic,Rxe=hs,$xe=Ixe(Rxe,"DataView"),Lxe=$xe,Fxe=Ic,Vxe=hs,zxe=Fxe(Vxe,"Promise"),Bxe=zxe,Uxe=Ic,Kxe=hs,qxe=Uxe(Kxe,"Set"),E9=qxe,Wxe=Ic,Hxe=hs,Gxe=Wxe(Hxe,"WeakMap"),Xxe=Gxe,QS=Lxe,ZS=rE,JS=Bxe,eN=E9,tN=Xxe,T9=Qs,Sf=MU,Ik="[object Map]",Yxe="[object Object]",Rk="[object Promise]",$k="[object Set]",Lk="[object WeakMap]",Fk="[object DataView]",Qxe=Sf(QS),Zxe=Sf(ZS),Jxe=Sf(JS),e0e=Sf(eN),t0e=Sf(tN),Tl=T9;(QS&&Tl(new QS(new ArrayBuffer(1)))!=Fk||ZS&&Tl(new ZS)!=Ik||JS&&Tl(JS.resolve())!=Rk||eN&&Tl(new eN)!=$k||tN&&Tl(new tN)!=Lk)&&(Tl=function(e){var t=T9(e),r=t==Yxe?e.constructor:void 0,n=r?Sf(r):"";if(n)switch(n){case Qxe:return Fk;case Zxe:return Ik;case Jxe:return Rk;case e0e:return $k;case t0e:return Lk}return t});var r0e=Tl,pj=v9,n0e=w9,a0e=Ive,i0e=Mxe,Vk=r0e,zk=ea,Bk=N9,s0e=C9,o0e=1,Uk="[object Arguments]",Kk="[object Array]",Wg="[object Object]",l0e=Object.prototype,qk=l0e.hasOwnProperty;function c0e(e,t,r,n,a,i){var o=zk(e),l=zk(t),c=o?Kk:Vk(e),u=l?Kk:Vk(t);c=c==Uk?Wg:c,u=u==Uk?Wg:u;var d=c==Wg,f=u==Wg,h=c==u;if(h&&Bk(e)){if(!Bk(t))return!1;o=!0,d=!1}if(h&&!d)return i||(i=new pj),o||s0e(e)?n0e(e,t,r,n,a,i):a0e(e,t,c,r,n,a,i);if(!(r&o0e)){var p=d&&qk.call(e,"__wrapped__"),x=f&&qk.call(t,"__wrapped__");if(p||x){var m=p?e.value():e,g=x?t.value():t;return i||(i=new pj),a(m,g,r,n,i)}}return h?(i||(i=new pj),i0e(e,t,r,n,a,i)):!1}var u0e=c0e,d0e=u0e,Wk=Zs;function _9(e,t,r,n,a){return e===t?!0:e==null||t==null||!Wk(e)&&!Wk(t)?e!==e&&t!==t:d0e(e,t,r,n,_9,a)}var xE=_9,f0e=v9,h0e=xE,m0e=1,p0e=2;function g0e(e,t,r,n){var a=r.length,i=a,o=!n;if(e==null)return!i;for(e=Object(e);a--;){var l=r[a];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<i;){l=r[a];var c=l[0],u=e[c],d=l[1];if(o&&l[2]){if(u===void 0&&!(c in e))return!1}else{var f=new f0e;if(n)var h=n(u,d,c,e,t,f);if(!(h===void 0?h0e(d,u,m0e|p0e,n,f):h))return!1}}return!0}var v0e=g0e,y0e=ml;function x0e(e){return e===e&&!y0e(e)}var O9=x0e,b0e=O9,w0e=pb;function j0e(e){for(var t=w0e(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,b0e(a)]}return t}var S0e=j0e;function N0e(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var k9=N0e,P0e=v0e,C0e=S0e,A0e=k9;function E0e(e){var t=C0e(e);return t.length==1&&t[0][2]?A0e(t[0][0],t[0][1]):function(r){return r===e||P0e(r,e,t)}}var T0e=E0e;function _0e(e,t){return e!=null&&t in Object(e)}var O0e=_0e,k0e=FU,D0e=gE,M0e=ea,I0e=vE,R0e=yE,$0e=J0;function L0e(e,t,r){t=k0e(t,e);for(var n=-1,a=t.length,i=!1;++n<a;){var o=$0e(t[n]);if(!(i=e!=null&&r(e,o)))break;e=e[o]}return i||++n!=a?i:(a=e==null?0:e.length,!!a&&R0e(a)&&I0e(o,a)&&(M0e(e)||D0e(e)))}var F0e=L0e,V0e=O0e,z0e=F0e;function B0e(e,t){return e!=null&&z0e(e,t,V0e)}var U0e=B0e,K0e=xE,q0e=VU,W0e=U0e,H0e=JA,G0e=O9,X0e=k9,Y0e=J0,Q0e=1,Z0e=2;function J0e(e,t){return H0e(e)&&G0e(t)?X0e(Y0e(e),t):function(r){var n=q0e(r,e);return n===void 0&&n===t?W0e(r,e):K0e(t,n,Q0e|Z0e)}}var ebe=J0e;function tbe(e){return e}var Nf=tbe;function rbe(e){return function(t){return t==null?void 0:t[e]}}var nbe=rbe,abe=sE;function ibe(e){return function(t){return abe(t,e)}}var sbe=ibe,obe=nbe,lbe=sbe,cbe=JA,ube=J0;function dbe(e){return cbe(e)?obe(ube(e)):lbe(e)}var fbe=dbe,hbe=T0e,mbe=ebe,pbe=Nf,gbe=ea,vbe=fbe;function ybe(e){return typeof e=="function"?e:e==null?pbe:typeof e=="object"?gbe(e)?mbe(e[0],e[1]):hbe(e):vbe(e)}var pl=ybe;function xbe(e,t,r,n){for(var a=e.length,i=r+(n?1:-1);n?i--:++i<a;)if(t(e[i],i,e))return i;return-1}var D9=xbe;function bbe(e){return e!==e}var wbe=bbe;function jbe(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var Sbe=jbe,Nbe=D9,Pbe=wbe,Cbe=Sbe;function Abe(e,t,r){return t===t?Cbe(e,t,r):Nbe(e,Pbe,r)}var Ebe=Abe,Tbe=Ebe;function _be(e,t){var r=e==null?0:e.length;return!!r&&Tbe(e,t,0)>-1}var Obe=_be;function kbe(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var Dbe=kbe;function Mbe(){}var Ibe=Mbe,gj=E9,Rbe=Ibe,$be=pE,Lbe=1/0,Fbe=gj&&1/$be(new gj([,-0]))[1]==Lbe?function(e){return new gj(e)}:Rbe,Vbe=Fbe,zbe=y9,Bbe=Obe,Ube=Dbe,Kbe=b9,qbe=Vbe,Wbe=pE,Hbe=200;function Gbe(e,t,r){var n=-1,a=Bbe,i=e.length,o=!0,l=[],c=l;if(r)o=!1,a=Ube;else if(i>=Hbe){var u=t?null:qbe(e);if(u)return Wbe(u);o=!1,a=Kbe,c=new zbe}else c=t?[]:l;e:for(;++n<i;){var d=e[n],f=t?t(d):d;if(d=r||d!==0?d:0,o&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;t&&c.push(f),l.push(d)}else a(c,f,r)||(c!==l&&c.push(f),l.push(d))}return l}var Xbe=Gbe,Ybe=pl,Qbe=Xbe;function Zbe(e,t){return e&&e.length?Qbe(e,Ybe(t)):[]}var Jbe=Zbe;const Hk=$t(Jbe);function M9(e,t,r){return t===!0?Hk(e,r):rt(t)?Hk(e,t):e}function Sd(e){"@babel/helpers - typeof";return Sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sd(e)}var ewe=["ref"];function Gk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Gk(Object(r),!0).forEach(function(n){gb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gk(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function twe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xk(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,R9(n.key),n)}}function rwe(e,t,r){return t&&Xk(e.prototype,t),r&&Xk(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function nwe(e,t,r){return t=Iy(t),awe(e,I9()?Reflect.construct(t,r||[],Iy(e).constructor):t.apply(e,r))}function awe(e,t){if(t&&(Sd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iwe(e)}function iwe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(I9=function(){return!!e})()}function Iy(e){return Iy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Iy(e)}function swe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rN(e,t)}function rN(e,t){return rN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},rN(e,t)}function gb(e,t,r){return t=R9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function R9(e){var t=owe(e,"string");return Sd(t)=="symbol"?t:t+""}function owe(e,t){if(Sd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Sd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function lwe(e,t){if(e==null)return{};var r=cwe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function cwe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function uwe(e){return e.value}function dwe(e,t){if(k.isValidElement(e))return k.cloneElement(e,t);if(typeof e=="function")return k.createElement(e,t);t.ref;var r=lwe(t,ewe);return k.createElement(mE,r)}var Yk=1,xa=function(e){function t(){var r;twe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=nwe(this,t,[].concat(a)),gb(r,"lastBoundingBox",{width:-1,height:-1}),r}return swe(t,e),rwe(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>Yk||Math.abs(a.height-this.lastBoundingBox.height)>Yk)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?vs({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,i=a.layout,o=a.align,l=a.verticalAlign,c=a.margin,u=a.chartWidth,d=a.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&i==="vertical"){var p=this.getBBoxSnapshot();f={left:((u||0)-p.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var x=this.getBBoxSnapshot();h={top:((d||0)-x.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return vs(vs({},f),h)}},{key:"render",value:function(){var n=this,a=this.props,i=a.content,o=a.width,l=a.height,c=a.wrapperStyle,u=a.payloadUniqBy,d=a.payload,f=vs(vs({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return k.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){n.wrapperNode=p}},dwe(i,vs(vs({},this.props),{},{payload:M9(d,u,uwe)})))}}],[{key:"getWithHeight",value:function(n,a){var i=vs(vs({},this.defaultProps),n.props),o=i.layout;return o==="vertical"&&de(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||a}:null}}])}(v.PureComponent);gb(xa,"displayName","Legend");gb(xa,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Qk=Zp,fwe=gE,hwe=ea,Zk=Qk?Qk.isConcatSpreadable:void 0;function mwe(e){return hwe(e)||fwe(e)||!!(Zk&&e&&e[Zk])}var pwe=mwe,gwe=j9,vwe=pwe;function $9(e,t,r,n,a){var i=-1,o=e.length;for(r||(r=vwe),a||(a=[]);++i<o;){var l=e[i];t>0&&r(l)?t>1?$9(l,t-1,r,n,a):gwe(a,l):n||(a[a.length]=l)}return a}var L9=$9;function ywe(e){return function(t,r,n){for(var a=-1,i=Object(t),o=n(t),l=o.length;l--;){var c=o[e?l:++a];if(r(i[c],c,i)===!1)break}return t}}var xwe=ywe,bwe=xwe,wwe=bwe(),jwe=wwe,Swe=jwe,Nwe=pb;function Pwe(e,t){return e&&Swe(e,t,Nwe)}var F9=Pwe,Cwe=Jp;function Awe(e,t){return function(r,n){if(r==null)return r;if(!Cwe(r))return e(r,n);for(var a=r.length,i=t?a:-1,o=Object(r);(t?i--:++i<a)&&n(o[i],i,o)!==!1;);return r}}var Ewe=Awe,Twe=F9,_we=Ewe,Owe=_we(Twe),bE=Owe,kwe=bE,Dwe=Jp;function Mwe(e,t){var r=-1,n=Dwe(e)?Array(e.length):[];return kwe(e,function(a,i,o){n[++r]=t(a,i,o)}),n}var V9=Mwe;function Iwe(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var Rwe=Iwe,Jk=gf;function $we(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,i=Jk(e),o=t!==void 0,l=t===null,c=t===t,u=Jk(t);if(!l&&!u&&!i&&e>t||i&&o&&c&&!l&&!u||n&&o&&c||!r&&c||!a)return 1;if(!n&&!i&&!u&&e<t||u&&r&&a&&!n&&!i||l&&r&&a||!o&&a||!c)return-1}return 0}var Lwe=$we,Fwe=Lwe;function Vwe(e,t,r){for(var n=-1,a=e.criteria,i=t.criteria,o=a.length,l=r.length;++n<o;){var c=Fwe(a[n],i[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var zwe=Vwe,vj=iE,Bwe=sE,Uwe=pl,Kwe=V9,qwe=Rwe,Wwe=P9,Hwe=zwe,Gwe=Nf,Xwe=ea;function Ywe(e,t,r){t.length?t=vj(t,function(i){return Xwe(i)?function(o){return Bwe(o,i.length===1?i[0]:i)}:i}):t=[Gwe];var n=-1;t=vj(t,Wwe(Uwe));var a=Kwe(e,function(i,o,l){var c=vj(t,function(u){return u(i)});return{criteria:c,index:++n,value:i}});return qwe(a,function(i,o){return Hwe(i,o,r)})}var Qwe=Ywe;function Zwe(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var Jwe=Zwe,eje=Jwe,eD=Math.max;function tje(e,t,r){return t=eD(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,i=eD(n.length-t,0),o=Array(i);++a<i;)o[a]=n[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=n[a];return l[t]=r(o),eje(e,this,l)}}var rje=tje;function nje(e){return function(){return e}}var aje=nje,ije=Ic,sje=function(){try{var e=ije(Object,"defineProperty");return e({},"",{}),e}catch{}}(),z9=sje,oje=aje,tD=z9,lje=Nf,cje=tD?function(e,t){return tD(e,"toString",{configurable:!0,enumerable:!1,value:oje(t),writable:!0})}:lje,uje=cje,dje=800,fje=16,hje=Date.now;function mje(e){var t=0,r=0;return function(){var n=hje(),a=fje-(n-r);if(r=n,a>0){if(++t>=dje)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var pje=mje,gje=uje,vje=pje,yje=vje(gje),xje=yje,bje=Nf,wje=rje,jje=xje;function Sje(e,t){return jje(wje(e,t,bje),e+"")}var Nje=Sje,Pje=tE,Cje=Jp,Aje=vE,Eje=ml;function Tje(e,t,r){if(!Eje(r))return!1;var n=typeof t;return(n=="number"?Cje(r)&&Aje(t,r.length):n=="string"&&t in r)?Pje(r[t],e):!1}var vb=Tje,_je=L9,Oje=Qwe,kje=Nje,rD=vb,Dje=kje(function(e,t){if(e==null)return[];var r=t.length;return r>1&&rD(e,t[0],t[1])?t=[]:r>2&&rD(t[0],t[1],t[2])&&(t=[t[0]]),Oje(e,_je(t,1),[])}),Mje=Dje;const wE=$t(Mje);function Mm(e){"@babel/helpers - typeof";return Mm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mm(e)}function nN(){return nN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nN.apply(this,arguments)}function Ije(e,t){return Fje(e)||Lje(e,t)||$je(e,t)||Rje()}function Rje(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $je(e,t){if(e){if(typeof e=="string")return nD(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nD(e,t)}}function nD(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Lje(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Fje(e){if(Array.isArray(e))return e}function aD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aD(Object(r),!0).forEach(function(n){Vje(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vje(e,t,r){return t=zje(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zje(e){var t=Bje(e,"string");return Mm(t)=="symbol"?t:t+""}function Bje(e,t){if(Mm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Mm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Uje(e){return Array.isArray(e)&&Rr(e[0])&&Rr(e[1])?e.join(" ~ "):e}var Kje=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,i=a===void 0?{}:a,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,f=t.formatter,h=t.itemSorter,p=t.wrapperClassName,x=t.labelClassName,m=t.label,g=t.labelFormatter,w=t.accessibilityLayer,y=w===void 0?!1:w,b=function(){if(d&&d.length){var _={padding:0,margin:0},O=(h?wE(d,h):d).map(function(M,L){if(M.type==="none")return null;var R=yj({display:"block",paddingTop:4,paddingBottom:4,color:M.color||"#000"},l),V=M.formatter||f||Uje,D=M.value,I=M.name,B=D,Y=I;if(V&&B!=null&&Y!=null){var X=V(D,I,M,L,d);if(Array.isArray(X)){var oe=Ije(X,2);B=oe[0],Y=oe[1]}else B=X}return k.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(L),style:R},Rr(Y)?k.createElement("span",{className:"recharts-tooltip-item-name"},Y):null,Rr(Y)?k.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,k.createElement("span",{className:"recharts-tooltip-item-value"},B),k.createElement("span",{className:"recharts-tooltip-item-unit"},M.unit||""))});return k.createElement("ul",{className:"recharts-tooltip-item-list",style:_},O)}return null},N=yj({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),j=yj({margin:0},u),S=!et(m),P=S?m:"",C=yt("recharts-default-tooltip",p),A=yt("recharts-tooltip-label",x);S&&g&&d!==void 0&&d!==null&&(P=g(m,d));var E=y?{role:"status","aria-live":"assertive"}:{};return k.createElement("div",nN({className:C,style:N},E),k.createElement("p",{className:A,style:j},k.isValidElement(P)?P:"".concat(P)),b())};function Im(e){"@babel/helpers - typeof";return Im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Im(e)}function Hg(e,t,r){return t=qje(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qje(e){var t=Wje(e,"string");return Im(t)=="symbol"?t:t+""}function Wje(e,t){if(Im(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Im(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Jf="recharts-tooltip-wrapper",Hje={visibility:"hidden"};function Gje(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return yt(Jf,Hg(Hg(Hg(Hg({},"".concat(Jf,"-right"),de(r)&&t&&de(t.x)&&r>=t.x),"".concat(Jf,"-left"),de(r)&&t&&de(t.x)&&r<t.x),"".concat(Jf,"-bottom"),de(n)&&t&&de(t.y)&&n>=t.y),"".concat(Jf,"-top"),de(n)&&t&&de(t.y)&&n<t.y))}function iD(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,i=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(i&&de(i[n]))return i[n];var d=r[n]-l-a,f=r[n]+a;if(t[n])return o[n]?d:f;if(o[n]){var h=d,p=c[n];return h<p?Math.max(f,c[n]):Math.max(d,c[n])}var x=f+l,m=c[n]+u;return x>m?Math.max(d,c[n]):Math.max(f,c[n])}function Xje(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function Yje(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,i=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,f;return o.height>0&&o.width>0&&r?(d=iD({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=iD({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=Xje({translateX:d,translateY:f,useTranslate3d:l})):u=Hje,{cssProperties:u,cssClasses:Gje({translateX:d,translateY:f,coordinate:r})}}function Nd(e){"@babel/helpers - typeof";return Nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nd(e)}function sD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function oD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sD(Object(r),!0).forEach(function(n){iN(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qje(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zje(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,U9(n.key),n)}}function Jje(e,t,r){return t&&Zje(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function e1e(e,t,r){return t=Ry(t),t1e(e,B9()?Reflect.construct(t,r||[],Ry(e).constructor):t.apply(e,r))}function t1e(e,t){if(t&&(Nd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return r1e(e)}function r1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function B9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(B9=function(){return!!e})()}function Ry(e){return Ry=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ry(e)}function n1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&aN(e,t)}function aN(e,t){return aN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},aN(e,t)}function iN(e,t,r){return t=U9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function U9(e){var t=a1e(e,"string");return Nd(t)=="symbol"?t:t+""}function a1e(e,t){if(Nd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Nd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var lD=1,i1e=function(e){function t(){var r;Qje(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=e1e(this,t,[].concat(a)),iN(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),iN(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return n1e(t,e),Jje(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>lD||Math.abs(n.height-this.state.lastBoundingBox.height)>lD)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.children,d=a.coordinate,f=a.hasPayload,h=a.isAnimationActive,p=a.offset,x=a.position,m=a.reverseDirection,g=a.useTranslate3d,w=a.viewBox,y=a.wrapperStyle,b=Yje({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:p,position:x,reverseDirection:m,tooltipBox:this.state.lastBoundingBox,useTranslate3d:g,viewBox:w}),N=b.cssClasses,j=b.cssProperties,S=oD(oD({transition:h&&i?"transform ".concat(l,"ms ").concat(c):void 0},j),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&f?"visible":"hidden",position:"absolute",top:0,left:0},y);return k.createElement("div",{tabIndex:-1,className:N,style:S,ref:function(C){n.wrapperNode=C}},u)}}])}(v.PureComponent),s1e=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},gl={isSsr:s1e()};function Pd(e){"@babel/helpers - typeof";return Pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pd(e)}function cD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function uD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cD(Object(r),!0).forEach(function(n){jE(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function o1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l1e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,q9(n.key),n)}}function c1e(e,t,r){return t&&l1e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function u1e(e,t,r){return t=$y(t),d1e(e,K9()?Reflect.construct(t,r||[],$y(e).constructor):t.apply(e,r))}function d1e(e,t){if(t&&(Pd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return f1e(e)}function f1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function K9(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(K9=function(){return!!e})()}function $y(e){return $y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$y(e)}function h1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sN(e,t)}function sN(e,t){return sN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},sN(e,t)}function jE(e,t,r){return t=q9(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function q9(e){var t=m1e(e,"string");return Pd(t)=="symbol"?t:t+""}function m1e(e,t){if(Pd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Pd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function p1e(e){return e.dataKey}function g1e(e,t){return k.isValidElement(e)?k.cloneElement(e,t):typeof e=="function"?k.createElement(e,t):k.createElement(Kje,t)}var Kr=function(e){function t(){return o1e(this,t),u1e(this,t,arguments)}return h1e(t,e),c1e(t,[{key:"render",value:function(){var n=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.content,d=a.coordinate,f=a.filterNull,h=a.isAnimationActive,p=a.offset,x=a.payload,m=a.payloadUniqBy,g=a.position,w=a.reverseDirection,y=a.useTranslate3d,b=a.viewBox,N=a.wrapperStyle,j=x??[];f&&j.length&&(j=M9(x.filter(function(P){return P.value!=null&&(P.hide!==!0||n.props.includeHidden)}),m,p1e));var S=j.length>0;return k.createElement(i1e,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:h,active:i,coordinate:d,hasPayload:S,offset:p,position:g,reverseDirection:w,useTranslate3d:y,viewBox:b,wrapperStyle:N},g1e(u,uD(uD({},this.props),{},{payload:j})))}}])}(v.PureComponent);jE(Kr,"displayName","Tooltip");jE(Kr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!gl.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var v1e=hs,y1e=function(){return v1e.Date.now()},x1e=y1e,b1e=/\s/;function w1e(e){for(var t=e.length;t--&&b1e.test(e.charAt(t)););return t}var j1e=w1e,S1e=j1e,N1e=/^\s+/;function P1e(e){return e&&e.slice(0,S1e(e)+1).replace(N1e,"")}var C1e=P1e,A1e=C1e,dD=ml,E1e=gf,fD=NaN,T1e=/^[-+]0x[0-9a-f]+$/i,_1e=/^0b[01]+$/i,O1e=/^0o[0-7]+$/i,k1e=parseInt;function D1e(e){if(typeof e=="number")return e;if(E1e(e))return fD;if(dD(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=dD(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=A1e(e);var r=_1e.test(e);return r||O1e.test(e)?k1e(e.slice(2),r?2:8):T1e.test(e)?fD:+e}var W9=D1e,M1e=ml,xj=x1e,hD=W9,I1e="Expected a function",R1e=Math.max,$1e=Math.min;function L1e(e,t,r){var n,a,i,o,l,c,u=0,d=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(I1e);t=hD(t)||0,M1e(r)&&(d=!!r.leading,f="maxWait"in r,i=f?R1e(hD(r.maxWait)||0,t):i,h="trailing"in r?!!r.trailing:h);function p(S){var P=n,C=a;return n=a=void 0,u=S,o=e.apply(C,P),o}function x(S){return u=S,l=setTimeout(w,t),d?p(S):o}function m(S){var P=S-c,C=S-u,A=t-P;return f?$1e(A,i-C):A}function g(S){var P=S-c,C=S-u;return c===void 0||P>=t||P<0||f&&C>=i}function w(){var S=xj();if(g(S))return y(S);l=setTimeout(w,m(S))}function y(S){return l=void 0,h&&n?p(S):(n=a=void 0,o)}function b(){l!==void 0&&clearTimeout(l),u=0,n=c=a=l=void 0}function N(){return l===void 0?o:y(xj())}function j(){var S=xj(),P=g(S);if(n=arguments,a=this,c=S,P){if(l===void 0)return x(c);if(f)return clearTimeout(l),l=setTimeout(w,t),p(c)}return l===void 0&&(l=setTimeout(w,t)),o}return j.cancel=b,j.flush=N,j}var F1e=L1e,V1e=F1e,z1e=ml,B1e="Expected a function";function U1e(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(B1e);return z1e(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),V1e(e,t,{leading:n,maxWait:t,trailing:a})}var K1e=U1e;const H9=$t(K1e);function Rm(e){"@babel/helpers - typeof";return Rm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rm(e)}function mD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Gg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mD(Object(r),!0).forEach(function(n){q1e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function q1e(e,t,r){return t=W1e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function W1e(e){var t=H1e(e,"string");return Rm(t)=="symbol"?t:t+""}function H1e(e,t){if(Rm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Rm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function G1e(e,t){return Z1e(e)||Q1e(e,t)||Y1e(e,t)||X1e()}function X1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Y1e(e,t){if(e){if(typeof e=="string")return pD(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pD(e,t)}}function pD(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Q1e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Z1e(e){if(Array.isArray(e))return e}var Is=v.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,i=e.width,o=i===void 0?"100%":i,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,h=e.maxHeight,p=e.children,x=e.debounce,m=x===void 0?0:x,g=e.id,w=e.className,y=e.onResize,b=e.style,N=b===void 0?{}:b,j=v.useRef(null),S=v.useRef();S.current=y,v.useImperativeHandle(t,function(){return Object.defineProperty(j.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),j.current},configurable:!0})});var P=v.useState({containerWidth:a.width,containerHeight:a.height}),C=G1e(P,2),A=C[0],E=C[1],T=v.useCallback(function(O,M){E(function(L){var R=Math.round(O),V=Math.round(M);return L.containerWidth===R&&L.containerHeight===V?L:{containerWidth:R,containerHeight:V}})},[]);v.useEffect(function(){var O=function(I){var B,Y=I[0].contentRect,X=Y.width,oe=Y.height;T(X,oe),(B=S.current)===null||B===void 0||B.call(S,X,oe)};m>0&&(O=H9(O,m,{trailing:!0,leading:!1}));var M=new ResizeObserver(O),L=j.current.getBoundingClientRect(),R=L.width,V=L.height;return T(R,V),M.observe(j.current),function(){M.disconnect()}},[T,m]);var _=v.useMemo(function(){var O=A.containerWidth,M=A.containerHeight;if(O<0||M<0)return null;Ms(Ll(o)||Ll(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),Ms(!r||r>0,"The aspect(%s) must be greater than zero.",r);var L=Ll(o)?O:o,R=Ll(c)?M:c;r&&r>0&&(L?R=L/r:R&&(L=R*r),h&&R>h&&(R=h)),Ms(L>0||R>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,L,R,o,c,d,f,r);var V=!Array.isArray(p)&&Ds(p.type).endsWith("Chart");return k.Children.map(p,function(D){return k.isValidElement(D)?v.cloneElement(D,Gg({width:L,height:R},V?{style:Gg({height:"100%",width:"100%",maxHeight:R,maxWidth:L},D.props.style)}:{})):D})},[r,p,c,h,f,d,A,o]);return k.createElement("div",{id:g?"".concat(g):void 0,className:yt("recharts-responsive-container",w),style:Gg(Gg({},N),{},{width:o,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:j},_)}),SE=function(t){return null};SE.displayName="Cell";function $m(e){"@babel/helpers - typeof";return $m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$m(e)}function gD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function oN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gD(Object(r),!0).forEach(function(n){J1e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gD(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function J1e(e,t,r){return t=eSe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eSe(e){var t=tSe(e,"string");return $m(t)=="symbol"?t:t+""}function tSe(e,t){if($m(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($m(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Wc={widthCache:{},cacheCount:0},rSe=2e3,nSe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},vD="recharts_measurement_span";function aSe(e){var t=oN({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var Uh=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||gl.isSsr)return{width:0,height:0};var n=aSe(r),a=JSON.stringify({text:t,copyStyle:n});if(Wc.widthCache[a])return Wc.widthCache[a];try{var i=document.getElementById(vD);i||(i=document.createElement("span"),i.setAttribute("id",vD),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=oN(oN({},nSe),n);Object.assign(i.style,o),i.textContent="".concat(t);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return Wc.widthCache[a]=c,++Wc.cacheCount>rSe&&(Wc.cacheCount=0,Wc.widthCache={}),c}catch{return{width:0,height:0}}},iSe=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Lm(e){"@babel/helpers - typeof";return Lm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lm(e)}function Ly(e,t){return cSe(e)||lSe(e,t)||oSe(e,t)||sSe()}function sSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oSe(e,t){if(e){if(typeof e=="string")return yD(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yD(e,t)}}function yD(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function lSe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function cSe(e){if(Array.isArray(e))return e}function uSe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xD(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,fSe(n.key),n)}}function dSe(e,t,r){return t&&xD(e.prototype,t),r&&xD(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function fSe(e){var t=hSe(e,"string");return Lm(t)=="symbol"?t:t+""}function hSe(e,t){if(Lm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Lm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var bD=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,wD=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,mSe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,pSe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,G9={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},gSe=Object.keys(G9),yu="NaN";function vSe(e,t){return e*G9[t]}var Xg=function(){function e(t,r){uSe(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!mSe.test(r)&&(this.num=NaN,this.unit=""),gSe.includes(r)&&(this.num=vSe(t,r),this.unit="px")}return dSe(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=pSe.exec(r))!==null&&n!==void 0?n:[],i=Ly(a,3),o=i[1],l=i[2];return new e(parseFloat(o),l??"")}}])}();function X9(e){if(e.includes(yu))return yu;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=bD.exec(t))!==null&&r!==void 0?r:[],a=Ly(n,4),i=a[1],o=a[2],l=a[3],c=Xg.parse(i??""),u=Xg.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return yu;t=t.replace(bD,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=wD.exec(t))!==null&&f!==void 0?f:[],p=Ly(h,4),x=p[1],m=p[2],g=p[3],w=Xg.parse(x??""),y=Xg.parse(g??""),b=m==="+"?w.add(y):w.subtract(y);if(b.isNaN())return yu;t=t.replace(wD,b.toString())}return t}var jD=/\(([^()]*)\)/;function ySe(e){for(var t=e;t.includes("(");){var r=jD.exec(t),n=Ly(r,2),a=n[1];t=t.replace(jD,X9(a))}return t}function xSe(e){var t=e.replace(/\s+/g,"");return t=ySe(t),t=X9(t),t}function bSe(e){try{return xSe(e)}catch{return yu}}function bj(e){var t=bSe(e.slice(5,-1));return t===yu?"":t}var wSe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],jSe=["dx","dy","angle","className","breakAll"];function lN(){return lN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lN.apply(this,arguments)}function SD(e,t){if(e==null)return{};var r=SSe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function SSe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ND(e,t){return ASe(e)||CSe(e,t)||PSe(e,t)||NSe()}function NSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PSe(e,t){if(e){if(typeof e=="string")return PD(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return PD(e,t)}}function PD(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function CSe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function ASe(e){if(Array.isArray(e))return e}var Y9=/[ \f\n\r\t\v\u2028\u2029]+/,Q9=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var i=[];et(r)||(n?i=r.toString().split(""):i=r.toString().split(Y9));var o=i.map(function(c){return{word:c,width:Uh(c,a).width}}),l=n?0:Uh(" ",a).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},ESe=function(t,r,n,a,i){var o=t.maxLines,l=t.children,c=t.style,u=t.breakAll,d=de(o),f=l,h=function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return L.reduce(function(R,V){var D=V.word,I=V.width,B=R[R.length-1];if(B&&(a==null||i||B.width+I+n<Number(a)))B.words.push(D),B.width+=I+n;else{var Y={words:[D],width:I};R.push(Y)}return R},[])},p=h(r),x=function(L){return L.reduce(function(R,V){return R.width>V.width?R:V})};if(!d)return p;for(var m="…",g=function(L){var R=f.slice(0,L),V=Q9({breakAll:u,style:c,children:R+m}).wordsWithComputedWidth,D=h(V),I=D.length>o||x(D).width>Number(a);return[I,D]},w=0,y=f.length-1,b=0,N;w<=y&&b<=f.length-1;){var j=Math.floor((w+y)/2),S=j-1,P=g(S),C=ND(P,2),A=C[0],E=C[1],T=g(j),_=ND(T,1),O=_[0];if(!A&&!O&&(w=j+1),A&&O&&(y=j-1),!A&&O){N=E;break}b++}return N||p},CD=function(t){var r=et(t)?[]:t.toString().split(Y9);return[{words:r}]},TSe=function(t){var r=t.width,n=t.scaleToFit,a=t.children,i=t.style,o=t.breakAll,l=t.maxLines;if((r||n)&&!gl.isSsr){var c,u,d=Q9({breakAll:o,children:a,style:i});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;c=f,u=h}else return CD(a);return ESe({breakAll:o,children:a,maxLines:l,style:i},c,u,r,n)}return CD(a)},AD="#808080",Fy=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,f=d===void 0?!1:d,h=t.textAnchor,p=h===void 0?"start":h,x=t.verticalAnchor,m=x===void 0?"end":x,g=t.fill,w=g===void 0?AD:g,y=SD(t,wSe),b=v.useMemo(function(){return TSe({breakAll:y.breakAll,children:y.children,maxLines:y.maxLines,scaleToFit:f,style:y.style,width:y.width})},[y.breakAll,y.children,y.maxLines,f,y.style,y.width]),N=y.dx,j=y.dy,S=y.angle,P=y.className,C=y.breakAll,A=SD(y,jSe);if(!Rr(n)||!Rr(i))return null;var E=n+(de(N)?N:0),T=i+(de(j)?j:0),_;switch(m){case"start":_=bj("calc(".concat(u,")"));break;case"middle":_=bj("calc(".concat((b.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:_=bj("calc(".concat(b.length-1," * -").concat(l,")"));break}var O=[];if(f){var M=b[0].width,L=y.width;O.push("scale(".concat((de(L)?L/M:1)/M,")"))}return S&&O.push("rotate(".concat(S,", ").concat(E,", ").concat(T,")")),O.length&&(A.transform=O.join(" ")),k.createElement("text",lN({},Je(A,!0),{x:E,y:T,className:yt("recharts-text",P),textAnchor:p,fill:w.includes("url")?AD:w}),b.map(function(R,V){var D=R.words.join(C?"":" ");return k.createElement("tspan",{x:E,dy:V===0?_:l,key:"".concat(D,"-").concat(V)},D)}))};function Wo(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function _Se(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function NE(e){let t,r,n;e.length!==2?(t=Wo,r=(l,c)=>Wo(e(l),c),n=(l,c)=>e(l)-c):(t=e===Wo||e===_Se?e:OSe,r=e,n=e);function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(l,c,u=0,d=l.length){const f=a(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:a,center:o,right:i}}function OSe(){return 0}function Z9(e){return e===null?NaN:+e}function*kSe(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const DSe=NE(Wo),eg=DSe.right;NE(Z9).center;class ED extends Map{constructor(t,r=RSe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(TD(this,t))}has(t){return super.has(TD(this,t))}set(t,r){return super.set(MSe(this,t),r)}delete(t){return super.delete(ISe(this,t))}}function TD({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function MSe({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function ISe({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function RSe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function $Se(e=Wo){if(e===Wo)return J9;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function J9(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const LSe=Math.sqrt(50),FSe=Math.sqrt(10),VSe=Math.sqrt(2);function Vy(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),o=i>=LSe?10:i>=FSe?5:i>=VSe?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?Vy(e,t,r*2):[l,c,u]}function cN(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,o]=n?Vy(t,e,r):Vy(e,t,r);if(!(i>=a))return[];const l=i-a+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(i-u)/-o;else for(let u=0;u<l;++u)c[u]=(i-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(a+u)/-o;else for(let u=0;u<l;++u)c[u]=(a+u)*o;return c}function uN(e,t,r){return t=+t,e=+e,r=+r,Vy(e,t,r)[2]}function dN(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?uN(t,e,r):uN(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function _D(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function OD(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function eK(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?J9:$Se(a);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),p=Math.max(r,Math.floor(t-u*f/c+h)),x=Math.min(n,Math.floor(t+(c-u)*f/c+h));eK(e,t,p,x,a)}const i=e[t];let o=r,l=n;for(eh(e,r,t),a(e[n],i)>0&&eh(e,r,n);o<l;){for(eh(e,o,l),++o,--l;a(e[o],i)<0;)++o;for(;a(e[l],i)>0;)--l}a(e[r],i)===0?eh(e,r,l):(++l,eh(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function eh(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function zSe(e,t,r){if(e=Float64Array.from(kSe(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return OD(e);if(t>=1)return _D(e);var n,a=(n-1)*t,i=Math.floor(a),o=_D(eK(e,i).subarray(0,i+1)),l=OD(e.subarray(i+1));return o+(l-o)*(a-i)}}function BSe(e,t,r=Z9){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),o=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return o+(l-o)*(a-i)}}function USe(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function ti(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Js(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const fN=Symbol("implicit");function PE(){var e=new ED,t=[],r=[],n=fN;function a(i){let o=e.get(i);if(o===void 0){if(n!==fN)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new ED;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return PE(t,r).unknown(n)},ti.apply(a,arguments),a}function Fm(){var e=PE().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,p=a<n,x=p?a:n,m=p?n:a;i=(m-x)/Math.max(1,h-c+u*2),l&&(i=Math.floor(i)),x+=(m-x-i*(h-c))*d,o=i*(1-c),l&&(x=Math.round(x),o=Math.round(o));var g=USe(h).map(function(w){return x+i*w});return r(p?g.reverse():g)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return Fm(t(),[n,a]).round(l).paddingInner(c).paddingOuter(u).align(d)},ti.apply(f(),arguments)}function tK(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return tK(t())},e}function Kh(){return tK(Fm.apply(null,arguments).paddingInner(1))}function CE(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function rK(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function tg(){}var Vm=.7,zy=1/Vm,Mu="\\s*([+-]?\\d+)\\s*",zm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ts="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",KSe=/^#([0-9a-f]{3,8})$/,qSe=new RegExp(`^rgb\\(${Mu},${Mu},${Mu}\\)$`),WSe=new RegExp(`^rgb\\(${ts},${ts},${ts}\\)$`),HSe=new RegExp(`^rgba\\(${Mu},${Mu},${Mu},${zm}\\)$`),GSe=new RegExp(`^rgba\\(${ts},${ts},${ts},${zm}\\)$`),XSe=new RegExp(`^hsl\\(${zm},${ts},${ts}\\)$`),YSe=new RegExp(`^hsla\\(${zm},${ts},${ts},${zm}\\)$`),kD={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};CE(tg,Bm,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:DD,formatHex:DD,formatHex8:QSe,formatHsl:ZSe,formatRgb:MD,toString:MD});function DD(){return this.rgb().formatHex()}function QSe(){return this.rgb().formatHex8()}function ZSe(){return nK(this).formatHsl()}function MD(){return this.rgb().formatRgb()}function Bm(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=KSe.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?ID(t):r===3?new Gn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Yg(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Yg(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=qSe.exec(e))?new Gn(t[1],t[2],t[3],1):(t=WSe.exec(e))?new Gn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=HSe.exec(e))?Yg(t[1],t[2],t[3],t[4]):(t=GSe.exec(e))?Yg(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=XSe.exec(e))?LD(t[1],t[2]/100,t[3]/100,1):(t=YSe.exec(e))?LD(t[1],t[2]/100,t[3]/100,t[4]):kD.hasOwnProperty(e)?ID(kD[e]):e==="transparent"?new Gn(NaN,NaN,NaN,0):null}function ID(e){return new Gn(e>>16&255,e>>8&255,e&255,1)}function Yg(e,t,r,n){return n<=0&&(e=t=r=NaN),new Gn(e,t,r,n)}function JSe(e){return e instanceof tg||(e=Bm(e)),e?(e=e.rgb(),new Gn(e.r,e.g,e.b,e.opacity)):new Gn}function hN(e,t,r,n){return arguments.length===1?JSe(e):new Gn(e,t,r,n??1)}function Gn(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}CE(Gn,hN,rK(tg,{brighter(e){return e=e==null?zy:Math.pow(zy,e),new Gn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Vm:Math.pow(Vm,e),new Gn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Gn(tc(this.r),tc(this.g),tc(this.b),By(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:RD,formatHex:RD,formatHex8:eNe,formatRgb:$D,toString:$D}));function RD(){return`#${Fl(this.r)}${Fl(this.g)}${Fl(this.b)}`}function eNe(){return`#${Fl(this.r)}${Fl(this.g)}${Fl(this.b)}${Fl((isNaN(this.opacity)?1:this.opacity)*255)}`}function $D(){const e=By(this.opacity);return`${e===1?"rgb(":"rgba("}${tc(this.r)}, ${tc(this.g)}, ${tc(this.b)}${e===1?")":`, ${e})`}`}function By(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function tc(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Fl(e){return e=tc(e),(e<16?"0":"")+e.toString(16)}function LD(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new mi(e,t,r,n)}function nK(e){if(e instanceof mi)return new mi(e.h,e.s,e.l,e.opacity);if(e instanceof tg||(e=Bm(e)),!e)return new mi;if(e instanceof mi)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,l=i-a,c=(i+a)/2;return l?(t===i?o=(r-n)/l+(r<n)*6:r===i?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?i+a:2-i-a,o*=60):l=c>0&&c<1?0:o,new mi(o,l,c,e.opacity)}function tNe(e,t,r,n){return arguments.length===1?nK(e):new mi(e,t,r,n??1)}function mi(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}CE(mi,tNe,rK(tg,{brighter(e){return e=e==null?zy:Math.pow(zy,e),new mi(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Vm:Math.pow(Vm,e),new mi(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Gn(wj(e>=240?e-240:e+120,a,n),wj(e,a,n),wj(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new mi(FD(this.h),Qg(this.s),Qg(this.l),By(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=By(this.opacity);return`${e===1?"hsl(":"hsla("}${FD(this.h)}, ${Qg(this.s)*100}%, ${Qg(this.l)*100}%${e===1?")":`, ${e})`}`}}));function FD(e){return e=(e||0)%360,e<0?e+360:e}function Qg(e){return Math.max(0,Math.min(1,e||0))}function wj(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const AE=e=>()=>e;function rNe(e,t){return function(r){return e+r*t}}function nNe(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function aNe(e){return(e=+e)==1?aK:function(t,r){return r-t?nNe(t,r,e):AE(isNaN(t)?r:t)}}function aK(e,t){var r=t-e;return r?rNe(e,r):AE(isNaN(e)?t:e)}const VD=function e(t){var r=aNe(t);function n(a,i){var o=r((a=hN(a)).r,(i=hN(i)).r),l=r(a.g,i.g),c=r(a.b,i.b),u=aK(a.opacity,i.opacity);return function(d){return a.r=o(d),a.g=l(d),a.b=c(d),a.opacity=u(d),a+""}}return n.gamma=e,n}(1);function iNe(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function sNe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function oNe(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)a[o]=Pf(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(l){for(o=0;o<n;++o)i[o]=a[o](l);return i}}function lNe(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Uy(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function cNe(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Pf(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var mN=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,jj=new RegExp(mN.source,"g");function uNe(e){return function(){return e}}function dNe(e){return function(t){return e(t)+""}}function fNe(e,t){var r=mN.lastIndex=jj.lastIndex=0,n,a,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=mN.exec(e))&&(a=jj.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:Uy(n,a)})),r=jj.lastIndex;return r<t.length&&(i=t.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?dNe(c[0].x):uNe(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function Pf(e,t){var r=typeof t,n;return t==null||r==="boolean"?AE(t):(r==="number"?Uy:r==="string"?(n=Bm(t))?(t=n,VD):fNe:t instanceof Bm?VD:t instanceof Date?lNe:sNe(t)?iNe:Array.isArray(t)?oNe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?cNe:Uy)(e,t)}function EE(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function hNe(e,t){t===void 0&&(t=e,e=Pf);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[l](o-l)}}function mNe(e){return function(){return e}}function Ky(e){return+e}var zD=[0,1];function kn(e){return e}function pN(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:mNe(isNaN(t)?NaN:.5)}function pNe(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function gNe(e,t,r){var n=e[0],a=e[1],i=t[0],o=t[1];return a<n?(n=pN(a,n),i=r(o,i)):(n=pN(n,a),i=r(i,o)),function(l){return i(n(l))}}function vNe(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=pN(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(l){var c=eg(e,l,1,n)-1;return i[c](a[c](l))}}function rg(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function yb(){var e=zD,t=zD,r=Pf,n,a,i,o=kn,l,c,u;function d(){var h=Math.min(e.length,t.length);return o!==kn&&(o=pNe(e[0],e[h-1])),l=h>2?vNe:gNe,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?i:(c||(c=l(e.map(n),t,r)))(n(o(h)))}return f.invert=function(h){return o(a((u||(u=l(t,e.map(n),Uy)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,Ky),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=EE,d()},f.clamp=function(h){return arguments.length?(o=h?!0:kn,d()):o!==kn},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,p){return n=h,a=p,d()}}function TE(){return yb()(kn,kn)}function yNe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function qy(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Cd(e){return e=qy(Math.abs(e)),e?e[1]:NaN}function xNe(e,t){return function(r,n){for(var a=r.length,i=[],o=0,l=e[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),i.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function bNe(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var wNe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Um(e){if(!(t=wNe.exec(e)))throw new Error("invalid format: "+e);var t;return new _E({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Um.prototype=_E.prototype;function _E(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}_E.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function jNe(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var iK;function SNe(e,t){var r=qy(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(iK=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+qy(e,Math.max(0,t+i-1))[0]}function BD(e,t){var r=qy(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const UD={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:yNe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>BD(e*100,t),r:BD,s:SNe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function KD(e){return e}var qD=Array.prototype.map,WD=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function NNe(e){var t=e.grouping===void 0||e.thousands===void 0?KD:xNe(qD.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?KD:bNe(qD.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"−":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=Um(f);var h=f.fill,p=f.align,x=f.sign,m=f.symbol,g=f.zero,w=f.width,y=f.comma,b=f.precision,N=f.trim,j=f.type;j==="n"?(y=!0,j="g"):UD[j]||(b===void 0&&(b=12),N=!0,j="g"),(g||h==="0"&&p==="=")&&(g=!0,h="0",p="=");var S=m==="$"?r:m==="#"&&/[boxX]/.test(j)?"0"+j.toLowerCase():"",P=m==="$"?n:/[%p]/.test(j)?o:"",C=UD[j],A=/[defgprs%]/.test(j);b=b===void 0?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function E(T){var _=S,O=P,M,L,R;if(j==="c")O=C(T)+O,T="";else{T=+T;var V=T<0||1/T<0;if(T=isNaN(T)?c:C(Math.abs(T),b),N&&(T=jNe(T)),V&&+T==0&&x!=="+"&&(V=!1),_=(V?x==="("?x:l:x==="-"||x==="("?"":x)+_,O=(j==="s"?WD[8+iK/3]:"")+O+(V&&x==="("?")":""),A){for(M=-1,L=T.length;++M<L;)if(R=T.charCodeAt(M),48>R||R>57){O=(R===46?a+T.slice(M+1):T.slice(M))+O,T=T.slice(0,M);break}}}y&&!g&&(T=t(T,1/0));var D=_.length+T.length+O.length,I=D<w?new Array(w-D+1).join(h):"";switch(y&&g&&(T=t(I+T,I.length?w-O.length:1/0),I=""),p){case"<":T=_+T+O+I;break;case"=":T=_+I+T+O;break;case"^":T=I.slice(0,D=I.length>>1)+_+T+O+I.slice(D);break;default:T=I+_+T+O;break}return i(T)}return E.toString=function(){return f+""},E}function d(f,h){var p=u((f=Um(f),f.type="f",f)),x=Math.max(-8,Math.min(8,Math.floor(Cd(h)/3)))*3,m=Math.pow(10,-x),g=WD[8+x/3];return function(w){return p(m*w)+g}}return{format:u,formatPrefix:d}}var Zg,OE,sK;PNe({thousands:",",grouping:[3],currency:["$",""]});function PNe(e){return Zg=NNe(e),OE=Zg.format,sK=Zg.formatPrefix,Zg}function CNe(e){return Math.max(0,-Cd(Math.abs(e)))}function ANe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Cd(t)/3)))*3-Cd(Math.abs(e)))}function ENe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Cd(t)-Cd(e))+1}function oK(e,t,r,n){var a=dN(e,t,r),i;switch(n=Um(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=ANe(a,o))&&(n.precision=i),sK(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=ENe(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=CNe(a))&&(n.precision=i-(n.type==="%")*2);break}}return OE(n)}function vl(e){var t=e.domain;return e.ticks=function(r){var n=t();return cN(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return oK(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,o=n[a],l=n[i],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=a,a=i,i=u);d-- >0;){if(u=uN(o,l,r),u===c)return n[a]=o,n[i]=l,t(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function Wy(){var e=TE();return e.copy=function(){return rg(e,Wy())},ti.apply(e,arguments),vl(e)}function lK(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Ky),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return lK(e).unknown(t)},e=arguments.length?Array.from(e,Ky):[0,1],vl(r)}function cK(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],o;return i<a&&(o=r,r=n,n=o,o=a,a=i,i=o),e[r]=t.floor(a),e[n]=t.ceil(i),e}function HD(e){return Math.log(e)}function GD(e){return Math.exp(e)}function TNe(e){return-Math.log(-e)}function _Ne(e){return-Math.exp(-e)}function ONe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function kNe(e){return e===10?ONe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function DNe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function XD(e){return(t,r)=>-e(-t,r)}function kE(e){const t=e(HD,GD),r=t.domain;let n=10,a,i;function o(){return a=DNe(n),i=kNe(n),r()[0]<0?(a=XD(a),i=XD(i),e(TNe,_Ne)):e(HD,GD),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=a(u),p=a(d),x,m;const g=l==null?10:+l;let w=[];if(!(n%1)&&p-h<g){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(x=1;x<n;++x)if(m=h<0?x/i(-h):x*i(h),!(m<u)){if(m>d)break;w.push(m)}}else for(;h<=p;++h)for(x=n-1;x>=1;--x)if(m=h>0?x/i(-h):x*i(h),!(m<u)){if(m>d)break;w.push(m)}w.length*2<g&&(w=cN(u,d,g))}else w=cN(h,p,Math.min(p-h,g)).map(i);return f?w.reverse():w},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Um(c)).precision==null&&(c.trim=!0),c=OE(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/i(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(cK(r(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),t}function uK(){const e=kE(yb()).domain([1,10]);return e.copy=()=>rg(e,uK()).base(e.base()),ti.apply(e,arguments),e}function YD(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function QD(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function DE(e){var t=1,r=e(YD(t),QD(t));return r.constant=function(n){return arguments.length?e(YD(t=+n),QD(t)):t},vl(r)}function dK(){var e=DE(yb());return e.copy=function(){return rg(e,dK()).constant(e.constant())},ti.apply(e,arguments)}function ZD(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function MNe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function INe(e){return e<0?-e*e:e*e}function ME(e){var t=e(kn,kn),r=1;function n(){return r===1?e(kn,kn):r===.5?e(MNe,INe):e(ZD(r),ZD(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},vl(t)}function IE(){var e=ME(yb());return e.copy=function(){return rg(e,IE()).exponent(e.exponent())},ti.apply(e,arguments),e}function RNe(){return IE.apply(null,arguments).exponent(.5)}function JD(e){return Math.sign(e)*e*e}function $Ne(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function fK(){var e=TE(),t=[0,1],r=!1,n;function a(i){var o=$Ne(e(i));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(i){return e.invert(JD(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,Ky)).map(JD)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return fK(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},ti.apply(a,arguments),vl(a)}function hK(){var e=[],t=[],r=[],n;function a(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=BSe(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?n:t[eg(r,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Wo),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return hK().domain(e).range(t).unknown(n)},ti.apply(i,arguments)}function mK(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function o(c){return c!=null&&c<=c?a[eg(n,c,0,r)]:i}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},o.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return mK().domain([e,t]).range(a).unknown(i)},ti.apply(vl(o),arguments)}function pK(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[eg(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return pK().domain(e).range(t).unknown(r)},ti.apply(a,arguments)}const Sj=new Date,Nj=new Date;function Fr(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),l=a.ceil(i);return i-o<l-i?o:l},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,l)=>{const c=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let u;do c.push(u=new Date(+i)),t(i,l),e(i);while(u<i&&i<o);return c},a.filter=i=>Fr(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),r&&(a.count=(i,o)=>(Sj.setTime(+i),Nj.setTime(+o),e(Sj),e(Nj),Math.floor(r(Sj,Nj))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?o=>n(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const Hy=Fr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Hy.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Fr(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Hy);Hy.range;const As=1e3,Ba=As*60,Es=Ba*60,qs=Es*24,RE=qs*7,eM=qs*30,Pj=qs*365,Vl=Fr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*As)},(e,t)=>(t-e)/As,e=>e.getUTCSeconds());Vl.range;const $E=Fr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*As)},(e,t)=>{e.setTime(+e+t*Ba)},(e,t)=>(t-e)/Ba,e=>e.getMinutes());$E.range;const LE=Fr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Ba)},(e,t)=>(t-e)/Ba,e=>e.getUTCMinutes());LE.range;const FE=Fr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*As-e.getMinutes()*Ba)},(e,t)=>{e.setTime(+e+t*Es)},(e,t)=>(t-e)/Es,e=>e.getHours());FE.range;const VE=Fr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Es)},(e,t)=>(t-e)/Es,e=>e.getUTCHours());VE.range;const ng=Fr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ba)/qs,e=>e.getDate()-1);ng.range;const xb=Fr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/qs,e=>e.getUTCDate()-1);xb.range;const gK=Fr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/qs,e=>Math.floor(e/qs));gK.range;function $c(e){return Fr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Ba)/RE)}const bb=$c(0),Gy=$c(1),LNe=$c(2),FNe=$c(3),Ad=$c(4),VNe=$c(5),zNe=$c(6);bb.range;Gy.range;LNe.range;FNe.range;Ad.range;VNe.range;zNe.range;function Lc(e){return Fr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/RE)}const wb=Lc(0),Xy=Lc(1),BNe=Lc(2),UNe=Lc(3),Ed=Lc(4),KNe=Lc(5),qNe=Lc(6);wb.range;Xy.range;BNe.range;UNe.range;Ed.range;KNe.range;qNe.range;const zE=Fr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());zE.range;const BE=Fr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());BE.range;const Ws=Fr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ws.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Fr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Ws.range;const Hs=Fr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Hs.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Fr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Hs.range;function vK(e,t,r,n,a,i){const o=[[Vl,1,As],[Vl,5,5*As],[Vl,15,15*As],[Vl,30,30*As],[i,1,Ba],[i,5,5*Ba],[i,15,15*Ba],[i,30,30*Ba],[a,1,Es],[a,3,3*Es],[a,6,6*Es],[a,12,12*Es],[n,1,qs],[n,2,2*qs],[r,1,RE],[t,1,eM],[t,3,3*eM],[e,1,Pj]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const p=f&&typeof f.range=="function"?f:c(u,d,f),x=p?p.range(u,+d+1):[];return h?x.reverse():x}function c(u,d,f){const h=Math.abs(d-u)/f,p=NE(([,,g])=>g).right(o,h);if(p===o.length)return e.every(dN(u/Pj,d/Pj,f));if(p===0)return Hy.every(Math.max(dN(u,d,f),1));const[x,m]=o[h/o[p-1][2]<o[p][2]/h?p-1:p];return x.every(m)}return[l,c]}const[WNe,HNe]=vK(Hs,BE,wb,gK,VE,LE),[GNe,XNe]=vK(Ws,zE,bb,ng,FE,$E);function Cj(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Aj(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function th(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function YNe(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=rh(a),d=nh(a),f=rh(i),h=nh(i),p=rh(o),x=nh(o),m=rh(l),g=nh(l),w=rh(c),y=nh(c),b={a:V,A:D,b:I,B,c:null,d:sM,e:sM,f:xPe,g:TPe,G:OPe,H:gPe,I:vPe,j:yPe,L:yK,m:bPe,M:wPe,p:Y,q:X,Q:cM,s:uM,S:jPe,u:SPe,U:NPe,V:PPe,w:CPe,W:APe,x:null,X:null,y:EPe,Y:_Pe,Z:kPe,"%":lM},N={a:oe,A:je,b:Fe,B:Ae,c:null,d:oM,e:oM,f:RPe,g:WPe,G:GPe,H:DPe,I:MPe,j:IPe,L:bK,m:$Pe,M:LPe,p:me,q:De,Q:cM,s:uM,S:FPe,u:VPe,U:zPe,V:BPe,w:UPe,W:KPe,x:null,X:null,y:qPe,Y:HPe,Z:XPe,"%":lM},j={a:E,A:T,b:_,B:O,c:M,d:aM,e:aM,f:fPe,g:nM,G:rM,H:iM,I:iM,j:lPe,L:dPe,m:oPe,M:cPe,p:A,q:sPe,Q:mPe,s:pPe,S:uPe,u:tPe,U:rPe,V:nPe,w:ePe,W:aPe,x:L,X:R,y:nM,Y:rM,Z:iPe,"%":hPe};b.x=S(r,b),b.X=S(n,b),b.c=S(t,b),N.x=S(r,N),N.X=S(n,N),N.c=S(t,N);function S(te,ee){return function(fe){var H=[],Ve=-1,Me=0,dt=te.length,lt,Pt,Q;for(fe instanceof Date||(fe=new Date(+fe));++Ve<dt;)te.charCodeAt(Ve)===37&&(H.push(te.slice(Me,Ve)),(Pt=tM[lt=te.charAt(++Ve)])!=null?lt=te.charAt(++Ve):Pt=lt==="e"?" ":"0",(Q=ee[lt])&&(lt=Q(fe,Pt)),H.push(lt),Me=Ve+1);return H.push(te.slice(Me,Ve)),H.join("")}}function P(te,ee){return function(fe){var H=th(1900,void 0,1),Ve=C(H,te,fe+="",0),Me,dt;if(Ve!=fe.length)return null;if("Q"in H)return new Date(H.Q);if("s"in H)return new Date(H.s*1e3+("L"in H?H.L:0));if(ee&&!("Z"in H)&&(H.Z=0),"p"in H&&(H.H=H.H%12+H.p*12),H.m===void 0&&(H.m="q"in H?H.q:0),"V"in H){if(H.V<1||H.V>53)return null;"w"in H||(H.w=1),"Z"in H?(Me=Aj(th(H.y,0,1)),dt=Me.getUTCDay(),Me=dt>4||dt===0?Xy.ceil(Me):Xy(Me),Me=xb.offset(Me,(H.V-1)*7),H.y=Me.getUTCFullYear(),H.m=Me.getUTCMonth(),H.d=Me.getUTCDate()+(H.w+6)%7):(Me=Cj(th(H.y,0,1)),dt=Me.getDay(),Me=dt>4||dt===0?Gy.ceil(Me):Gy(Me),Me=ng.offset(Me,(H.V-1)*7),H.y=Me.getFullYear(),H.m=Me.getMonth(),H.d=Me.getDate()+(H.w+6)%7)}else("W"in H||"U"in H)&&("w"in H||(H.w="u"in H?H.u%7:"W"in H?1:0),dt="Z"in H?Aj(th(H.y,0,1)).getUTCDay():Cj(th(H.y,0,1)).getDay(),H.m=0,H.d="W"in H?(H.w+6)%7+H.W*7-(dt+5)%7:H.w+H.U*7-(dt+6)%7);return"Z"in H?(H.H+=H.Z/100|0,H.M+=H.Z%100,Aj(H)):Cj(H)}}function C(te,ee,fe,H){for(var Ve=0,Me=ee.length,dt=fe.length,lt,Pt;Ve<Me;){if(H>=dt)return-1;if(lt=ee.charCodeAt(Ve++),lt===37){if(lt=ee.charAt(Ve++),Pt=j[lt in tM?ee.charAt(Ve++):lt],!Pt||(H=Pt(te,fe,H))<0)return-1}else if(lt!=fe.charCodeAt(H++))return-1}return H}function A(te,ee,fe){var H=u.exec(ee.slice(fe));return H?(te.p=d.get(H[0].toLowerCase()),fe+H[0].length):-1}function E(te,ee,fe){var H=p.exec(ee.slice(fe));return H?(te.w=x.get(H[0].toLowerCase()),fe+H[0].length):-1}function T(te,ee,fe){var H=f.exec(ee.slice(fe));return H?(te.w=h.get(H[0].toLowerCase()),fe+H[0].length):-1}function _(te,ee,fe){var H=w.exec(ee.slice(fe));return H?(te.m=y.get(H[0].toLowerCase()),fe+H[0].length):-1}function O(te,ee,fe){var H=m.exec(ee.slice(fe));return H?(te.m=g.get(H[0].toLowerCase()),fe+H[0].length):-1}function M(te,ee,fe){return C(te,t,ee,fe)}function L(te,ee,fe){return C(te,r,ee,fe)}function R(te,ee,fe){return C(te,n,ee,fe)}function V(te){return o[te.getDay()]}function D(te){return i[te.getDay()]}function I(te){return c[te.getMonth()]}function B(te){return l[te.getMonth()]}function Y(te){return a[+(te.getHours()>=12)]}function X(te){return 1+~~(te.getMonth()/3)}function oe(te){return o[te.getUTCDay()]}function je(te){return i[te.getUTCDay()]}function Fe(te){return c[te.getUTCMonth()]}function Ae(te){return l[te.getUTCMonth()]}function me(te){return a[+(te.getUTCHours()>=12)]}function De(te){return 1+~~(te.getUTCMonth()/3)}return{format:function(te){var ee=S(te+="",b);return ee.toString=function(){return te},ee},parse:function(te){var ee=P(te+="",!1);return ee.toString=function(){return te},ee},utcFormat:function(te){var ee=S(te+="",N);return ee.toString=function(){return te},ee},utcParse:function(te){var ee=P(te+="",!0);return ee.toString=function(){return te},ee}}}var tM={"-":"",_:" ",0:"0"},Wr=/^\s*\d+/,QNe=/^%/,ZNe=/[\\^$*+?|[\]().{}]/g;function Nt(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function JNe(e){return e.replace(ZNe,"\\$&")}function rh(e){return new RegExp("^(?:"+e.map(JNe).join("|")+")","i")}function nh(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function ePe(e,t,r){var n=Wr.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function tPe(e,t,r){var n=Wr.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function rPe(e,t,r){var n=Wr.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function nPe(e,t,r){var n=Wr.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function aPe(e,t,r){var n=Wr.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function rM(e,t,r){var n=Wr.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function nM(e,t,r){var n=Wr.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function iPe(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function sPe(e,t,r){var n=Wr.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function oPe(e,t,r){var n=Wr.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function aM(e,t,r){var n=Wr.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function lPe(e,t,r){var n=Wr.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function iM(e,t,r){var n=Wr.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function cPe(e,t,r){var n=Wr.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function uPe(e,t,r){var n=Wr.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function dPe(e,t,r){var n=Wr.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function fPe(e,t,r){var n=Wr.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function hPe(e,t,r){var n=QNe.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function mPe(e,t,r){var n=Wr.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function pPe(e,t,r){var n=Wr.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function sM(e,t){return Nt(e.getDate(),t,2)}function gPe(e,t){return Nt(e.getHours(),t,2)}function vPe(e,t){return Nt(e.getHours()%12||12,t,2)}function yPe(e,t){return Nt(1+ng.count(Ws(e),e),t,3)}function yK(e,t){return Nt(e.getMilliseconds(),t,3)}function xPe(e,t){return yK(e,t)+"000"}function bPe(e,t){return Nt(e.getMonth()+1,t,2)}function wPe(e,t){return Nt(e.getMinutes(),t,2)}function jPe(e,t){return Nt(e.getSeconds(),t,2)}function SPe(e){var t=e.getDay();return t===0?7:t}function NPe(e,t){return Nt(bb.count(Ws(e)-1,e),t,2)}function xK(e){var t=e.getDay();return t>=4||t===0?Ad(e):Ad.ceil(e)}function PPe(e,t){return e=xK(e),Nt(Ad.count(Ws(e),e)+(Ws(e).getDay()===4),t,2)}function CPe(e){return e.getDay()}function APe(e,t){return Nt(Gy.count(Ws(e)-1,e),t,2)}function EPe(e,t){return Nt(e.getFullYear()%100,t,2)}function TPe(e,t){return e=xK(e),Nt(e.getFullYear()%100,t,2)}function _Pe(e,t){return Nt(e.getFullYear()%1e4,t,4)}function OPe(e,t){var r=e.getDay();return e=r>=4||r===0?Ad(e):Ad.ceil(e),Nt(e.getFullYear()%1e4,t,4)}function kPe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Nt(t/60|0,"0",2)+Nt(t%60,"0",2)}function oM(e,t){return Nt(e.getUTCDate(),t,2)}function DPe(e,t){return Nt(e.getUTCHours(),t,2)}function MPe(e,t){return Nt(e.getUTCHours()%12||12,t,2)}function IPe(e,t){return Nt(1+xb.count(Hs(e),e),t,3)}function bK(e,t){return Nt(e.getUTCMilliseconds(),t,3)}function RPe(e,t){return bK(e,t)+"000"}function $Pe(e,t){return Nt(e.getUTCMonth()+1,t,2)}function LPe(e,t){return Nt(e.getUTCMinutes(),t,2)}function FPe(e,t){return Nt(e.getUTCSeconds(),t,2)}function VPe(e){var t=e.getUTCDay();return t===0?7:t}function zPe(e,t){return Nt(wb.count(Hs(e)-1,e),t,2)}function wK(e){var t=e.getUTCDay();return t>=4||t===0?Ed(e):Ed.ceil(e)}function BPe(e,t){return e=wK(e),Nt(Ed.count(Hs(e),e)+(Hs(e).getUTCDay()===4),t,2)}function UPe(e){return e.getUTCDay()}function KPe(e,t){return Nt(Xy.count(Hs(e)-1,e),t,2)}function qPe(e,t){return Nt(e.getUTCFullYear()%100,t,2)}function WPe(e,t){return e=wK(e),Nt(e.getUTCFullYear()%100,t,2)}function HPe(e,t){return Nt(e.getUTCFullYear()%1e4,t,4)}function GPe(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Ed(e):Ed.ceil(e),Nt(e.getUTCFullYear()%1e4,t,4)}function XPe(){return"+0000"}function lM(){return"%"}function cM(e){return+e}function uM(e){return Math.floor(+e/1e3)}var Hc,jK,SK;YPe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function YPe(e){return Hc=YNe(e),jK=Hc.format,Hc.parse,SK=Hc.utcFormat,Hc.utcParse,Hc}function QPe(e){return new Date(e)}function ZPe(e){return e instanceof Date?+e:+new Date(+e)}function UE(e,t,r,n,a,i,o,l,c,u){var d=TE(),f=d.invert,h=d.domain,p=u(".%L"),x=u(":%S"),m=u("%I:%M"),g=u("%I %p"),w=u("%a %d"),y=u("%b %d"),b=u("%B"),N=u("%Y");function j(S){return(c(S)<S?p:l(S)<S?x:o(S)<S?m:i(S)<S?g:n(S)<S?a(S)<S?w:y:r(S)<S?b:N)(S)}return d.invert=function(S){return new Date(f(S))},d.domain=function(S){return arguments.length?h(Array.from(S,ZPe)):h().map(QPe)},d.ticks=function(S){var P=h();return e(P[0],P[P.length-1],S??10)},d.tickFormat=function(S,P){return P==null?j:u(P)},d.nice=function(S){var P=h();return(!S||typeof S.range!="function")&&(S=t(P[0],P[P.length-1],S??10)),S?h(cK(P,S)):d},d.copy=function(){return rg(d,UE(e,t,r,n,a,i,o,l,c,u))},d}function JPe(){return ti.apply(UE(GNe,XNe,Ws,zE,bb,ng,FE,$E,Vl,jK).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function eCe(){return ti.apply(UE(WNe,HNe,Hs,BE,wb,xb,VE,LE,Vl,SK).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function jb(){var e=0,t=1,r,n,a,i,o=kn,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(a===0?.5:(f=(i(f)-r)*a,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(h){var p,x;return arguments.length?([p,x]=h,o=f(p,x),u):[o(0),o(1)]}}return u.range=d(Pf),u.rangeRound=d(EE),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return i=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),u}}function yl(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function NK(){var e=vl(jb()(kn));return e.copy=function(){return yl(e,NK())},Js.apply(e,arguments)}function PK(){var e=kE(jb()).domain([1,10]);return e.copy=function(){return yl(e,PK()).base(e.base())},Js.apply(e,arguments)}function CK(){var e=DE(jb());return e.copy=function(){return yl(e,CK()).constant(e.constant())},Js.apply(e,arguments)}function KE(){var e=ME(jb());return e.copy=function(){return yl(e,KE()).exponent(e.exponent())},Js.apply(e,arguments)}function tCe(){return KE.apply(null,arguments).exponent(.5)}function AK(){var e=[],t=kn;function r(n){if(n!=null&&!isNaN(n=+n))return t((eg(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Wo),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>zSe(e,i/n))},r.copy=function(){return AK(t).domain(e)},Js.apply(r,arguments)}function Sb(){var e=0,t=.5,r=1,n=1,a,i,o,l,c,u=kn,d,f=!1,h;function p(m){return isNaN(m=+m)?h:(m=.5+((m=+d(m))-i)*(n*m<n*i?l:c),u(f?Math.max(0,Math.min(1,m)):m))}p.domain=function(m){return arguments.length?([e,t,r]=m,a=d(e=+e),i=d(t=+t),o=d(r=+r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,p):[e,t,r]},p.clamp=function(m){return arguments.length?(f=!!m,p):f},p.interpolator=function(m){return arguments.length?(u=m,p):u};function x(m){return function(g){var w,y,b;return arguments.length?([w,y,b]=g,u=hNe(m,[w,y,b]),p):[u(0),u(.5),u(1)]}}return p.range=x(Pf),p.rangeRound=x(EE),p.unknown=function(m){return arguments.length?(h=m,p):h},function(m){return d=m,a=m(e),i=m(t),o=m(r),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,p}}function EK(){var e=vl(Sb()(kn));return e.copy=function(){return yl(e,EK())},Js.apply(e,arguments)}function TK(){var e=kE(Sb()).domain([.1,1,10]);return e.copy=function(){return yl(e,TK()).base(e.base())},Js.apply(e,arguments)}function _K(){var e=DE(Sb());return e.copy=function(){return yl(e,_K()).constant(e.constant())},Js.apply(e,arguments)}function qE(){var e=ME(Sb());return e.copy=function(){return yl(e,qE()).exponent(e.exponent())},Js.apply(e,arguments)}function rCe(){return qE.apply(null,arguments).exponent(.5)}const dM=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Fm,scaleDiverging:EK,scaleDivergingLog:TK,scaleDivergingPow:qE,scaleDivergingSqrt:rCe,scaleDivergingSymlog:_K,scaleIdentity:lK,scaleImplicit:fN,scaleLinear:Wy,scaleLog:uK,scaleOrdinal:PE,scalePoint:Kh,scalePow:IE,scaleQuantile:hK,scaleQuantize:mK,scaleRadial:fK,scaleSequential:NK,scaleSequentialLog:PK,scaleSequentialPow:KE,scaleSequentialQuantile:AK,scaleSequentialSqrt:tCe,scaleSequentialSymlog:CK,scaleSqrt:RNe,scaleSymlog:dK,scaleThreshold:pK,scaleTime:JPe,scaleUtc:eCe,tickFormat:oK},Symbol.toStringTag,{value:"Module"}));var nCe=gf;function aCe(e,t,r){for(var n=-1,a=e.length;++n<a;){var i=e[n],o=t(i);if(o!=null&&(l===void 0?o===o&&!nCe(o):r(o,l)))var l=o,c=i}return c}var OK=aCe;function iCe(e,t){return e>t}var sCe=iCe,oCe=OK,lCe=sCe,cCe=Nf;function uCe(e){return e&&e.length?oCe(e,cCe,lCe):void 0}var dCe=uCe;const Do=$t(dCe);function fCe(e,t){return e<t}var hCe=fCe,mCe=OK,pCe=hCe,gCe=Nf;function vCe(e){return e&&e.length?mCe(e,gCe,pCe):void 0}var yCe=vCe;const Nb=$t(yCe);var xCe=iE,bCe=pl,wCe=V9,jCe=ea;function SCe(e,t){var r=jCe(e)?xCe:wCe;return r(e,bCe(t))}var NCe=SCe,PCe=L9,CCe=NCe;function ACe(e,t){return PCe(CCe(e,t),1)}var ECe=ACe;const TCe=$t(ECe);var _Ce=xE;function OCe(e,t){return _Ce(e,t)}var kCe=OCe;const xc=$t(kCe);var Cf=1e9,DCe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},HE,er=!0,Ja="[DecimalError] ",rc=Ja+"Invalid argument: ",WE=Ja+"Exponent out of range: ",Af=Math.floor,_l=Math.pow,MCe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ha,zr=1e7,Ht=7,kK=9007199254740991,Yy=Af(kK/Ht),Oe={};Oe.absoluteValue=Oe.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Oe.comparedTo=Oe.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};Oe.decimalPlaces=Oe.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Ht;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Oe.dividedBy=Oe.div=function(e){return Rs(this,new this.constructor(e))};Oe.dividedToIntegerBy=Oe.idiv=function(e){var t=this,r=t.constructor;return Ft(Rs(t,new r(e),0,1),r.precision)};Oe.equals=Oe.eq=function(e){return!this.cmp(e)};Oe.exponent=function(){return Cr(this)};Oe.greaterThan=Oe.gt=function(e){return this.cmp(e)>0};Oe.greaterThanOrEqualTo=Oe.gte=function(e){return this.cmp(e)>=0};Oe.isInteger=Oe.isint=function(){return this.e>this.d.length-2};Oe.isNegative=Oe.isneg=function(){return this.s<0};Oe.isPositive=Oe.ispos=function(){return this.s>0};Oe.isZero=function(){return this.s===0};Oe.lessThan=Oe.lt=function(e){return this.cmp(e)<0};Oe.lessThanOrEqualTo=Oe.lte=function(e){return this.cmp(e)<1};Oe.logarithm=Oe.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(ha))throw Error(Ja+"NaN");if(r.s<1)throw Error(Ja+(r.s?"NaN":"-Infinity"));return r.eq(ha)?new n(0):(er=!1,t=Rs(Km(r,i),Km(e,i),i),er=!0,Ft(t,a))};Oe.minus=Oe.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?IK(t,e):DK(t,(e.s=-e.s,e))};Oe.modulo=Oe.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Ja+"NaN");return r.s?(er=!1,t=Rs(r,e,0,1).times(e),er=!0,r.minus(t)):Ft(new n(r),a)};Oe.naturalExponential=Oe.exp=function(){return MK(this)};Oe.naturalLogarithm=Oe.ln=function(){return Km(this)};Oe.negated=Oe.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Oe.plus=Oe.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?DK(t,e):IK(t,(e.s=-e.s,e))};Oe.precision=Oe.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(rc+e);if(t=Cr(a)+1,n=a.d.length-1,r=n*Ht+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Oe.squareRoot=Oe.sqrt=function(){var e,t,r,n,a,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Ja+"NaN")}for(e=Cr(l),er=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=Wi(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Af((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=o=r+3;;)if(i=n,n=i.plus(Rs(l,i,o+2)).times(.5),Wi(i.d).slice(0,o)===(t=Wi(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(Ft(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(t!="9999")break;o+=4}return er=!0,Ft(n,r)};Oe.times=Oe.mul=function(e){var t,r,n,a,i,o,l,c,u,d=this,f=d.constructor,h=d.d,p=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=p.length,c<u&&(i=h,h=p,p=i,o=c,c=u,u=o),i=[],o=c+u,n=o;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,a=c+n;a>n;)l=i[a]+p[n]*h[a-n-1]+t,i[a--]=l%zr|0,t=l/zr|0;i[a]=(i[a]+t)%zr|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,er?Ft(e,f.precision):e};Oe.toDecimalPlaces=Oe.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(ls(e,0,Cf),t===void 0?t=n.rounding:ls(t,0,8),Ft(r,e+Cr(r)+1,t))};Oe.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=bc(n,!0):(ls(e,0,Cf),t===void 0?t=a.rounding:ls(t,0,8),n=Ft(new a(n),e+1,t),r=bc(n,!0,e+1)),r};Oe.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?bc(a):(ls(e,0,Cf),t===void 0?t=i.rounding:ls(t,0,8),n=Ft(new i(a),e+Cr(a)+1,t),r=bc(n.abs(),!1,e+Cr(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};Oe.toInteger=Oe.toint=function(){var e=this,t=e.constructor;return Ft(new t(e),Cr(e)+1,t.rounding)};Oe.toNumber=function(){return+this};Oe.toPower=Oe.pow=function(e){var t,r,n,a,i,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(ha);if(l=new c(l),!l.s){if(e.s<1)throw Error(Ja+"Infinity");return l}if(l.eq(ha))return l;if(n=c.precision,e.eq(ha))return Ft(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=l.s,o){if((r=d<0?-d:d)<=kK){for(a=new c(ha),t=Math.ceil(n/Ht+4),er=!1;r%2&&(a=a.times(l),hM(a.d,t)),r=Af(r/2),r!==0;)l=l.times(l),hM(l.d,t);return er=!0,e.s<0?new c(ha).div(a):Ft(a,n)}}else if(i<0)throw Error(Ja+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,er=!1,a=e.times(Km(l,n+u)),er=!0,a=MK(a),a.s=i,a};Oe.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=Cr(a),n=bc(a,r<=i.toExpNeg||r>=i.toExpPos)):(ls(e,1,Cf),t===void 0?t=i.rounding:ls(t,0,8),a=Ft(new i(a),e,t),r=Cr(a),n=bc(a,e<=r||r<=i.toExpNeg,e)),n};Oe.toSignificantDigits=Oe.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(ls(e,1,Cf),t===void 0?t=n.rounding:ls(t,0,8)),Ft(new n(r),e,t)};Oe.toString=Oe.valueOf=Oe.val=Oe.toJSON=Oe[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Cr(e),r=e.constructor;return bc(e,t<=r.toExpNeg||t>=r.toExpPos)};function DK(e,t){var r,n,a,i,o,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),er?Ft(t,f):t;if(c=e.d,u=t.d,o=e.e,a=t.e,c=c.slice(),i=o-a,i){for(i<0?(n=c,i=-i,l=u.length):(n=u,a=o,l=c.length),o=Math.ceil(f/Ht),l=o>l?o+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=c.length,i=u.length,l-i<0&&(i=l,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/zr|0,c[i]%=zr;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=a,er?Ft(t,f):t}function ls(e,t,r){if(e!==~~e||e<t||e>r)throw Error(rc+e)}function Wi(e){var t,r,n,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)n=e[t]+"",r=Ht-n.length,r&&(i+=po(r)),i+=n;o=e[t],n=o+"",r=Ht-n.length,r&&(i+=po(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Rs=function(){function e(n,a){var i,o=0,l=n.length;for(n=n.slice();l--;)i=n[l]*a+o,n[l]=i%zr|0,o=i/zr|0;return o&&n.unshift(o),n}function t(n,a,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,i){for(var o=0;i--;)n[i]-=o,o=n[i]<a[i]?1:0,n[i]=o*zr+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,o){var l,c,u,d,f,h,p,x,m,g,w,y,b,N,j,S,P,C,A=n.constructor,E=n.s==a.s?1:-1,T=n.d,_=a.d;if(!n.s)return new A(n);if(!a.s)throw Error(Ja+"Division by zero");for(c=n.e-a.e,P=_.length,j=T.length,p=new A(E),x=p.d=[],u=0;_[u]==(T[u]||0);)++u;if(_[u]>(T[u]||0)&&--c,i==null?y=i=A.precision:o?y=i+(Cr(n)-Cr(a))+1:y=i,y<0)return new A(0);if(y=y/Ht+2|0,u=0,P==1)for(d=0,_=_[0],y++;(u<j||d)&&y--;u++)b=d*zr+(T[u]||0),x[u]=b/_|0,d=b%_|0;else{for(d=zr/(_[0]+1)|0,d>1&&(_=e(_,d),T=e(T,d),P=_.length,j=T.length),N=P,m=T.slice(0,P),g=m.length;g<P;)m[g++]=0;C=_.slice(),C.unshift(0),S=_[0],_[1]>=zr/2&&++S;do d=0,l=t(_,m,P,g),l<0?(w=m[0],P!=g&&(w=w*zr+(m[1]||0)),d=w/S|0,d>1?(d>=zr&&(d=zr-1),f=e(_,d),h=f.length,g=m.length,l=t(f,m,h,g),l==1&&(d--,r(f,P<h?C:_,h))):(d==0&&(l=d=1),f=_.slice()),h=f.length,h<g&&f.unshift(0),r(m,f,g),l==-1&&(g=m.length,l=t(_,m,P,g),l<1&&(d++,r(m,P<g?C:_,g))),g=m.length):l===0&&(d++,m=[0]),x[u++]=d,l&&m[0]?m[g++]=T[N]||0:(m=[T[N]],g=1);while((N++<j||m[0]!==void 0)&&y--)}return x[0]||x.shift(),p.e=c,Ft(p,o?i+Cr(p)+1:i)}}();function MK(e,t){var r,n,a,i,o,l,c=0,u=0,d=e.constructor,f=d.precision;if(Cr(e)>16)throw Error(WE+Cr(e));if(!e.s)return new d(ha);for(er=!1,l=f,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(_l(2,u))/Math.LN10*2+5|0,l+=n,r=a=i=new d(ha),d.precision=l;;){if(a=Ft(a.times(e),l),r=r.times(++c),o=i.plus(Rs(a,r,l)),Wi(o.d).slice(0,l)===Wi(i.d).slice(0,l)){for(;u--;)i=Ft(i.times(i),l);return d.precision=f,t==null?(er=!0,Ft(i,f)):i}i=o}}function Cr(e){for(var t=e.e*Ht,r=e.d[0];r>=10;r/=10)t++;return t}function Ej(e,t,r){if(t>e.LN10.sd())throw er=!0,r&&(e.precision=r),Error(Ja+"LN10 precision limit exceeded");return Ft(new e(e.LN10),t)}function po(e){for(var t="";e--;)t+="0";return t}function Km(e,t){var r,n,a,i,o,l,c,u,d,f=1,h=10,p=e,x=p.d,m=p.constructor,g=m.precision;if(p.s<1)throw Error(Ja+(p.s?"NaN":"-Infinity"));if(p.eq(ha))return new m(0);if(t==null?(er=!1,u=g):u=t,p.eq(10))return t==null&&(er=!0),Ej(m,u);if(u+=h,m.precision=u,r=Wi(x),n=r.charAt(0),i=Cr(p),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=Wi(p.d),n=r.charAt(0),f++;i=Cr(p),n>1?(p=new m("0."+r),i++):p=new m(n+"."+r.slice(1))}else return c=Ej(m,u+2,g).times(i+""),p=Km(new m(n+"."+r.slice(1)),u-h).plus(c),m.precision=g,t==null?(er=!0,Ft(p,g)):p;for(l=o=p=Rs(p.minus(ha),p.plus(ha),u),d=Ft(p.times(p),u),a=3;;){if(o=Ft(o.times(d),u),c=l.plus(Rs(o,new m(a),u)),Wi(c.d).slice(0,u)===Wi(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(Ej(m,u+2,g).times(i+""))),l=Rs(l,new m(f),u),m.precision=g,t==null?(er=!0,Ft(l,g)):l;l=c,a+=2}}function fM(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=Af(r/Ht),e.d=[],n=(r+1)%Ht,r<0&&(n+=Ht),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Ht;n<a;)e.d.push(+t.slice(n,n+=Ht));t=t.slice(n),n=Ht-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),er&&(e.e>Yy||e.e<-Yy))throw Error(WE+r)}else e.s=0,e.e=0,e.d=[0];return e}function Ft(e,t,r){var n,a,i,o,l,c,u,d,f=e.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=Ht,a=t,u=f[d=0];else{if(d=Math.ceil((n+1)/Ht),i=f.length,d>=i)return e;for(u=i=f[d],o=1;i>=10;i/=10)o++;n%=Ht,a=n-Ht+o}if(r!==void 0&&(i=_l(10,o-a-1),l=u/i%10|0,c=t<0||f[d+1]!==void 0||u%i,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?u/_l(10,o-a):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(i=Cr(e),f.length=1,t=t-i-1,f[0]=_l(10,(Ht-t%Ht)%Ht),e.e=Af(-t/Ht)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,i=1,d--):(f.length=d+1,i=_l(10,Ht-n),f[d]=a>0?(u/_l(10,o-a)%_l(10,a)|0)*i:0),c)for(;;)if(d==0){(f[0]+=i)==zr&&(f[0]=1,++e.e);break}else{if(f[d]+=i,f[d]!=zr)break;f[d--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(er&&(e.e>Yy||e.e<-Yy))throw Error(WE+Cr(e));return e}function IK(e,t){var r,n,a,i,o,l,c,u,d,f,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),er?Ft(t,p):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n,o){for(d=o<0,d?(r=c,o=-o,l=f.length):(r=f,n=u,l=c.length),a=Math.max(Math.ceil(p/Ht),l)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=f.length,d=a<l,d&&(l=a),a=0;a<l;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}o=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,a=f.length-l;a>0;--a)c[l++]=0;for(a=f.length;a>o;){if(c[--a]<f[a]){for(i=a;i&&c[--i]===0;)c[i]=zr-1;--c[i],c[a]+=zr}c[a]-=f[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,er?Ft(t,p):t):new h(0)}function bc(e,t,r){var n,a=Cr(e),i=Wi(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+po(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+po(-a-1)+i,r&&(n=r-o)>0&&(i+=po(n))):a>=o?(i+=po(a+1-o),r&&(n=r-a-1)>0&&(i=i+"."+po(n))):((n=a+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(i+="."),i+=po(n))),e.s<0?"-"+i:i}function hM(e,t){if(e.length>t)return e.length=t,!0}function RK(e){var t,r,n;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(rc+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return fM(o,i.toString())}else if(typeof i!="string")throw Error(rc+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,MCe.test(i))fM(o,i);else throw Error(rc+i)}if(a.prototype=Oe,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=RK,a.config=a.set=ICe,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function ICe(e){if(!e||typeof e!="object")throw Error(Ja+"Object expected");var t,r,n,a=["precision",1,Cf,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(Af(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(rc+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(rc+r+": "+n);return this}var HE=RK(DCe);ha=new HE(1);const Rt=HE;function RCe(e){return VCe(e)||FCe(e)||LCe(e)||$Ce()}function $Ce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LCe(e,t){if(e){if(typeof e=="string")return gN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gN(e,t)}}function FCe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function VCe(e){if(Array.isArray(e))return gN(e)}function gN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var zCe=function(t){return t},$K={},LK=function(t){return t===$K},mM=function(t){return function r(){return arguments.length===0||arguments.length===1&&LK(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},BCe=function e(t,r){return t===1?r:mM(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var o=a.filter(function(l){return l!==$K}).length;return o>=t?r.apply(void 0,a):e(t-o,mM(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=a.map(function(f){return LK(f)?c.shift():f});return r.apply(void 0,RCe(d).concat(c))}))})},Pb=function(t){return BCe(t.length,t)},vN=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},UCe=Pb(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),KCe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return zCe;var a=r.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},yN=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},FK=function(t){var r=null,n=null;return function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r&&i.every(function(l,c){return l===r[c]})||(r=i,n=t.apply(void 0,i)),n}};function qCe(e){var t;return e===0?t=1:t=Math.floor(new Rt(e).abs().log(10).toNumber())+1,t}function WCe(e,t,r){for(var n=new Rt(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var HCe=Pb(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),GCe=Pb(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),XCe=Pb(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const Cb={rangeStep:WCe,getDigitCount:qCe,interpolateNumber:HCe,uninterpolateNumber:GCe,uninterpolateTruncation:XCe};function xN(e){return ZCe(e)||QCe(e)||VK(e)||YCe()}function YCe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QCe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function ZCe(e){if(Array.isArray(e))return bN(e)}function qm(e,t){return tAe(e)||eAe(e,t)||VK(e,t)||JCe()}function JCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VK(e,t){if(e){if(typeof e=="string")return bN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bN(e,t)}}function bN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function eAe(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,i=void 0;try{for(var o=e[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){a=!0,i=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(a)throw i}}return r}}function tAe(e){if(Array.isArray(e))return e}function zK(e){var t=qm(e,2),r=t[0],n=t[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function BK(e,t,r){if(e.lte(0))return new Rt(0);var n=Cb.getDigitCount(e.toNumber()),a=new Rt(10).pow(n),i=e.div(a),o=n!==1?.05:.1,l=new Rt(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=l.mul(a);return t?c:new Rt(Math.ceil(c))}function rAe(e,t,r){var n=1,a=new Rt(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new Rt(10).pow(Cb.getDigitCount(e)-1),a=new Rt(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new Rt(Math.floor(e)))}else e===0?a=new Rt(Math.floor((t-1)/2)):r||(a=new Rt(Math.floor(e)));var o=Math.floor((t-1)/2),l=KCe(UCe(function(c){return a.add(new Rt(c-o).mul(n)).toNumber()}),vN);return l(0,t)}function UK(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Rt(0),tickMin:new Rt(0),tickMax:new Rt(0)};var i=BK(new Rt(t).sub(e).div(r-1),n,a),o;e<=0&&t>=0?o=new Rt(0):(o=new Rt(e).add(t).div(2),o=o.sub(new Rt(o).mod(i)));var l=Math.ceil(o.sub(e).div(i).toNumber()),c=Math.ceil(new Rt(t).sub(o).div(i).toNumber()),u=l+c+1;return u>r?UK(e,t,r,n,a+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:i,tickMin:o.sub(new Rt(l).mul(i)),tickMax:o.add(new Rt(c).mul(i))})}function nAe(e){var t=qm(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),l=zK([r,n]),c=qm(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(xN(vN(0,a-1).map(function(){return 1/0}))):[].concat(xN(vN(0,a-1).map(function(){return-1/0})),[d]);return r>n?yN(f):f}if(u===d)return rAe(u,a,i);var h=UK(u,d,o,i),p=h.step,x=h.tickMin,m=h.tickMax,g=Cb.rangeStep(x,m.add(new Rt(.1).mul(p)),p);return r>n?yN(g):g}function aAe(e,t){var r=qm(e,2),n=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=zK([n,a]),l=qm(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,a];if(c===u)return[c];var d=Math.max(t,2),f=BK(new Rt(u).sub(c).div(d-1),i,0),h=[].concat(xN(Cb.rangeStep(new Rt(c),new Rt(u).sub(new Rt(.99).mul(f)),f)),[u]);return n>a?yN(h):h}var iAe=FK(nAe),sAe=FK(aAe),oAe="Invariant failed";function wc(e,t){throw new Error(oAe)}var lAe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Td(e){"@babel/helpers - typeof";return Td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Td(e)}function Qy(){return Qy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qy.apply(this,arguments)}function cAe(e,t){return hAe(e)||fAe(e,t)||dAe(e,t)||uAe()}function uAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dAe(e,t){if(e){if(typeof e=="string")return pM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pM(e,t)}}function pM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function fAe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function hAe(e){if(Array.isArray(e))return e}function mAe(e,t){if(e==null)return{};var r=pAe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function pAe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function gAe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vAe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,WK(n.key),n)}}function yAe(e,t,r){return t&&vAe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function xAe(e,t,r){return t=Zy(t),bAe(e,KK()?Reflect.construct(t,r||[],Zy(e).constructor):t.apply(e,r))}function bAe(e,t){if(t&&(Td(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wAe(e)}function wAe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function KK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KK=function(){return!!e})()}function Zy(e){return Zy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zy(e)}function jAe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wN(e,t)}function wN(e,t){return wN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},wN(e,t)}function qK(e,t,r){return t=WK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WK(e){var t=SAe(e,"string");return Td(t)=="symbol"?t:t+""}function SAe(e,t){if(Td(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Td(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ef=function(e){function t(){return gAe(this,t),xAe(this,t,arguments)}return jAe(t,e),yAe(t,[{key:"render",value:function(){var n=this.props,a=n.offset,i=n.layout,o=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=mAe(n,lAe),p=Je(h,!1);this.props.direction==="x"&&d.type!=="number"&&wc();var x=c.map(function(m){var g=u(m,l),w=g.x,y=g.y,b=g.value,N=g.errorVal;if(!N)return null;var j=[],S,P;if(Array.isArray(N)){var C=cAe(N,2);S=C[0],P=C[1]}else S=P=N;if(i==="vertical"){var A=d.scale,E=y+a,T=E+o,_=E-o,O=A(b-S),M=A(b+P);j.push({x1:M,y1:T,x2:M,y2:_}),j.push({x1:O,y1:E,x2:M,y2:E}),j.push({x1:O,y1:T,x2:O,y2:_})}else if(i==="horizontal"){var L=f.scale,R=w+a,V=R-o,D=R+o,I=L(b-S),B=L(b+P);j.push({x1:V,y1:B,x2:D,y2:B}),j.push({x1:R,y1:I,x2:R,y2:B}),j.push({x1:V,y1:I,x2:D,y2:I})}return k.createElement(Tt,Qy({className:"recharts-errorBar",key:"bar-".concat(j.map(function(Y){return"".concat(Y.x1,"-").concat(Y.x2,"-").concat(Y.y1,"-").concat(Y.y2)}))},p),j.map(function(Y){return k.createElement("line",Qy({},Y,{key:"line-".concat(Y.x1,"-").concat(Y.x2,"-").concat(Y.y1,"-").concat(Y.y2)}))}))});return k.createElement(Tt,{className:"recharts-errorBars"},x)}}])}(k.Component);qK(Ef,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});qK(Ef,"displayName","ErrorBar");function Wm(e){"@babel/helpers - typeof";return Wm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wm(e)}function gM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Sl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gM(Object(r),!0).forEach(function(n){NAe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NAe(e,t,r){return t=PAe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PAe(e){var t=CAe(e,"string");return Wm(t)=="symbol"?t:t+""}function CAe(e,t){if(Wm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var HK=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,i=t.legendContent,o=ca(r,xa);if(!o)return null;var l=xa.defaultProps,c=l!==void 0?Sl(Sl({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:i==="children"?u=(n||[]).reduce(function(d,f){var h=f.item,p=f.props,x=p.sectors||p.data||[];return d.concat(x.map(function(m){return{type:o.props.iconType||h.props.legendType,value:m.name,color:m.fill,payload:m}}))},[]):u=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,p=h!==void 0?Sl(Sl({},h),f.props):{},x=p.dataKey,m=p.name,g=p.legendType,w=p.hide;return{inactive:w,dataKey:x,type:c.iconType||g||"square",color:GE(f),value:m||x,payload:p}}),Sl(Sl(Sl({},c),xa.getWithHeight(o,a)),{},{payload:u,item:o})};function Hm(e){"@babel/helpers - typeof";return Hm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hm(e)}function vM(e){return _Ae(e)||TAe(e)||EAe(e)||AAe()}function AAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EAe(e,t){if(e){if(typeof e=="string")return jN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jN(e,t)}}function TAe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _Ae(e){if(Array.isArray(e))return jN(e)}function jN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function yM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yM(Object(r),!0).forEach(function(n){Iu(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Iu(e,t,r){return t=OAe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OAe(e){var t=kAe(e,"string");return Hm(t)=="symbol"?t:t+""}function kAe(e,t){if(Hm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Lr(e,t,r){return et(e)||et(t)?r:Rr(t)?Wa(e,t,r):rt(t)?t(e):r}function qh(e,t,r,n){var a=TCe(e,function(l){return Lr(l,t)});if(r==="number"){var i=a.filter(function(l){return de(l)||parseFloat(l)});return i.length?[Nb(i),Do(i)]:[1/0,-1/0]}var o=n?a.filter(function(l){return!et(l)}):a;return o.map(function(l){return Rr(l)||l instanceof Date?l:""})}var DAe=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,u=0;u<l;u++){var d=u>0?a[u-1].coordinate:a[l-1].coordinate,f=a[u].coordinate,h=u>=l-1?a[0].coordinate:a[u+1].coordinate,p=void 0;if(vi(f-d)!==vi(h-f)){var x=[];if(vi(h-f)===vi(c[1]-c[0])){p=h;var m=f+c[1]-c[0];x[0]=Math.min(m,(m+d)/2),x[1]=Math.max(m,(m+d)/2)}else{p=d;var g=h+c[1]-c[0];x[0]=Math.min(f,(g+f)/2),x[1]=Math.max(f,(g+f)/2)}var w=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(t>w[0]&&t<=w[1]||t>=x[0]&&t<=x[1]){o=a[u].index;break}}else{var y=Math.min(d,h),b=Math.max(d,h);if(t>(y+f)/2&&t<=(b+f)/2){o=a[u].index;break}}}else for(var N=0;N<l;N++)if(N===0&&t<=(n[N].coordinate+n[N+1].coordinate)/2||N>0&&N<l-1&&t>(n[N].coordinate+n[N-1].coordinate)/2&&t<=(n[N].coordinate+n[N+1].coordinate)/2||N===l-1&&t>(n[N].coordinate+n[N-1].coordinate)/2){o=n[N].index;break}return o},GE=function(t){var r,n=t,a=n.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?hr(hr({},t.type.defaultProps),t.props):t.props,o=i.stroke,l=i.fill,c;switch(a){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},MAe=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var o={},l=Object.keys(i),c=0,u=l.length;c<u;c++)for(var d=i[l[c]].stackGroups,f=Object.keys(d),h=0,p=f.length;h<p;h++){var x=d[f[h]],m=x.items,g=x.cateAxisId,w=m.filter(function(P){return Ds(P.type).indexOf("Bar")>=0});if(w&&w.length){var y=w[0].type.defaultProps,b=y!==void 0?hr(hr({},y),w[0].props):w[0].props,N=b.barSize,j=b[g];o[j]||(o[j]=[]);var S=et(N)?r:N;o[j].push({item:w[0],stackList:w.slice(1),barSize:et(S)?void 0:yc(S,n,0)})}}return o},IAe=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,i=t.sizeList,o=i===void 0?[]:i,l=t.maxBarSize,c=o.length;if(c<1)return null;var u=yc(r,a,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,p=a/c,x=o.reduce(function(N,j){return N+j.barSize||0},0);x+=(c-1)*u,x>=a&&(x-=(c-1)*u,u=0),x>=a&&p>0&&(h=!0,p*=.9,x=c*p);var m=(a-x)/2>>0,g={offset:m-u,size:0};d=o.reduce(function(N,j){var S={item:j.item,position:{offset:g.offset+g.size+u,size:h?p:j.barSize}},P=[].concat(vM(N),[S]);return g=P[P.length-1].position,j.stackList&&j.stackList.length&&j.stackList.forEach(function(C){P.push({item:C,position:g})}),P},f)}else{var w=yc(n,a,0,!0);a-2*w-(c-1)*u<=0&&(u=0);var y=(a-2*w-(c-1)*u)/c;y>1&&(y>>=0);var b=l===+l?Math.min(y,l):y;d=o.reduce(function(N,j,S){var P=[].concat(vM(N),[{item:j.item,position:{offset:w+(y+u)*S+(y-b)/2,size:b}}]);return j.stackList&&j.stackList.length&&j.stackList.forEach(function(C){P.push({item:C,position:P[P.length-1].position})}),P},f)}return d},RAe=function(t,r,n,a){var i=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),u=HK({children:i,legendWidth:c});if(u){var d=a||{},f=d.width,h=d.height,p=u.align,x=u.verticalAlign,m=u.layout;if((m==="vertical"||m==="horizontal"&&x==="middle")&&p!=="center"&&de(t[p]))return hr(hr({},t),{},Iu({},p,t[p]+(f||0)));if((m==="horizontal"||m==="vertical"&&p==="center")&&x!=="middle"&&de(t[x]))return hr(hr({},t),{},Iu({},x,t[x]+(h||0)))}return t},$Ae=function(t,r,n){return et(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},GK=function(t,r,n,a,i){var o=r.props.children,l=Jn(o,Ef).filter(function(u){return $Ae(a,i,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=Lr(d,n);if(et(f))return u;var h=Array.isArray(f)?[Nb(f),Do(f)]:[f,f],p=c.reduce(function(x,m){var g=Lr(d,m,0),w=h[0]-Math.abs(Array.isArray(g)?g[0]:g),y=h[1]+Math.abs(Array.isArray(g)?g[1]:g);return[Math.min(w,x[0]),Math.max(y,x[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},LAe=function(t,r,n,a,i){var o=r.map(function(l){return GK(t,l,n,i,a)}).filter(function(l){return!et(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},XK=function(t,r,n,a,i){var o=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&GK(t,c,u,a)||qh(t,u,n,i)});if(n==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},YK=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},QK=function(t,r,n,a){if(a)return t.map(function(c){return c.coordinate});var i,o,l=t.map(function(c){return c.coordinate===r&&(i=!0),c.coordinate===n&&(o=!0),c.coordinate});return i||l.push(r),o||l.push(n),l},Ts=function(t,r,n){if(!t)return null;var a=t.scale,i=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(r||n)&&o==="category"&&a.bandwidth?a.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?vi(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var h=i?i.indexOf(f):f;return{coordinate:a(h)+u,value:f,offset:u}});return d.filter(function(f){return!wf(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:a(f)+u,value:f,index:h,offset:u}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(f){return{coordinate:a(f)+u,value:f,offset:u}}):a.domain().map(function(f,h){return{coordinate:a(f)+u,value:i?i[f]:f,index:h,offset:u}})},Tj=new WeakMap,Jg=function(t,r){if(typeof r!="function")return t;Tj.has(t)||Tj.set(t,new WeakMap);var n=Tj.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},FAe=function(t,r,n){var a=t.scale,i=t.type,o=t.layout,l=t.axisType;if(a==="auto")return o==="radial"&&l==="radiusAxis"?{scale:Fm(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:Wy(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Kh(),realScaleType:"point"}:i==="category"?{scale:Fm(),realScaleType:"band"}:{scale:Wy(),realScaleType:"linear"};if(vc(a)){var c="scale".concat(ub(a));return{scale:(dM[c]||Kh)(),realScaleType:dM[c]?c:"point"}}return rt(a)?{scale:a}:{scale:Kh(),realScaleType:"point"}},xM=1e-4,VAe=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),i=Math.min(a[0],a[1])-xM,o=Math.max(a[0],a[1])+xM,l=t(r[0]),c=t(r[n-1]);(l<i||l>o||c<i||c>o)&&t.domain([r[0],r[n-1]])}},zAe=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},BAe=function(t,r){if(!r||r.length!==2||!de(r[0])||!de(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!de(t[0])||t[0]<n)&&(i[0]=n),(!de(t[1])||t[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<n&&(i[1]=n),i},UAe=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,o=0,l=0;l<r;++l){var c=wf(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=i,t[l][n][1]=i+c,i=t[l][n][1]):(t[l][n][0]=o,t[l][n][1]=o+c,o=t[l][n][1])}},KAe=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,o=0;o<r;++o){var l=wf(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=i,t[o][n][1]=i+l,i=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},qAe={sign:UAe,expand:sge,none:wd,silhouette:oge,wiggle:lge,positive:KAe},WAe=function(t,r,n){var a=r.map(function(l){return l.props.dataKey}),i=qAe[n],o=ige().keys(a).value(function(l,c){return+Lr(l,c,0)}).order(HS).offset(i);return o(t)},HAe=function(t,r,n,a,i,o){if(!t)return null;var l=o?r.reverse():r,c={},u=l.reduce(function(f,h){var p,x=(p=h.type)!==null&&p!==void 0&&p.defaultProps?hr(hr({},h.type.defaultProps),h.props):h.props,m=x.stackId,g=x.hide;if(g)return f;var w=x[n],y=f[w]||{hasStack:!1,stackGroups:{}};if(Rr(m)){var b=y.stackGroups[m]||{numericAxisId:n,cateAxisId:a,items:[]};b.items.push(h),y.hasStack=!0,y.stackGroups[m]=b}else y.stackGroups[Rc("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return hr(hr({},f),{},Iu({},w,y))},c),d={};return Object.keys(u).reduce(function(f,h){var p=u[h];if(p.hasStack){var x={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(m,g){var w=p.stackGroups[g];return hr(hr({},m),{},Iu({},g,{numericAxisId:n,cateAxisId:a,items:w.items,stackedData:WAe(t,w.items,i)}))},x)}return hr(hr({},f),{},Iu({},h,p))},d)},GAe=function(t,r){var n=r.realScaleType,a=r.type,i=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=iAe(u,i,l);return t.domain([Nb(d),Do(d)]),{niceTicks:d}}if(i&&a==="number"){var f=t.domain(),h=sAe(f,i,l);return{niceTicks:h}}return null};function _d(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,i=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!et(a[t.dataKey])){var l=Ny(r,"value",a[t.dataKey]);if(l)return l.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var c=Lr(a,et(o)?t.dataKey:o);return et(c)?null:t.scale(c)}var bM=function(t){var r=t.axis,n=t.ticks,a=t.offset,i=t.bandSize,o=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+a:null;var c=Lr(o,r.dataKey,r.domain[l]);return et(c)?null:r.scale(c)-i/2+a},XAe=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return a<=0&&i>=0?0:i<0?i:a}return n[0]},YAe=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?hr(hr({},t.type.defaultProps),t.props):t.props,i=a.stackId;if(Rr(i)){var o=r[i];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},QAe=function(t){return t.reduce(function(r,n){return[Nb(n.concat([r[0]]).filter(de)),Do(n.concat([r[1]]).filter(de))]},[1/0,-1/0])},ZK=function(t,r,n){return Object.keys(t).reduce(function(a,i){var o=t[i],l=o.stackedData,c=l.reduce(function(u,d){var f=QAe(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},wM=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,jM=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,SN=function(t,r,n){if(rt(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(de(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(wM.test(t[0])){var i=+wM.exec(t[0])[1];a[0]=r[0]-i}else rt(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(de(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(jM.test(t[1])){var o=+jM.exec(t[1])[1];a[1]=r[1]+o}else rt(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},Jy=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var i=wE(r,function(f){return f.coordinate}),o=1/0,l=1,c=i.length;l<c;l++){var u=i[l],d=i[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},SM=function(t,r,n){return!t||!t.length||xc(t,Wa(n,"type.defaultProps.domain"))?r:t},JK=function(t,r){var n=t.type.defaultProps?hr(hr({},t.type.defaultProps),t.props):t.props,a=n.dataKey,i=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return hr(hr({},Je(t,!1)),{},{dataKey:a,unit:o,formatter:l,name:i||a,color:GE(t),value:Lr(r,a),type:c,payload:r,chartType:u,hide:d})};function Gm(e){"@babel/helpers - typeof";return Gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gm(e)}function NM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function PM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NM(Object(r),!0).forEach(function(n){ZAe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZAe(e,t,r){return t=JAe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JAe(e){var t=eEe(e,"string");return Gm(t)=="symbol"?t:t+""}function eEe(e,t){if(Gm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ex=Math.PI/180,tEe=function(t){return t*180/Math.PI},nn=function(t,r,n,a){return{x:t+Math.cos(-ex*a)*n,y:r+Math.sin(-ex*a)*n}},rEe=function(t,r){var n=t.x,a=t.y,i=r.x,o=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(a-o,2))},nEe=function(t,r){var n=t.x,a=t.y,i=r.cx,o=r.cy,l=rEe({x:n,y:a},{x:i,y:o});if(l<=0)return{radius:l};var c=(n-i)/l,u=Math.acos(c);return a>o&&(u=2*Math.PI-u),{radius:l,angle:tEe(u),angleInRadian:u}},aEe=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(a,i);return{startAngle:r-o*360,endAngle:n-o*360}},iEe=function(t,r){var n=r.startAngle,a=r.endAngle,i=Math.floor(n/360),o=Math.floor(a/360),l=Math.min(i,o);return t+l*360},CM=function(t,r){var n=t.x,a=t.y,i=nEe({x:n,y:a},r),o=i.radius,l=i.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=aEe(r),f=d.startAngle,h=d.endAngle,p=l,x;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;x=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;x=p>=h&&p<=f}return x?PM(PM({},r),{},{radius:o,angle:iEe(p,r)}):null};function Xm(e){"@babel/helpers - typeof";return Xm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xm(e)}var sEe=["offset"];function oEe(e){return dEe(e)||uEe(e)||cEe(e)||lEe()}function lEe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cEe(e,t){if(e){if(typeof e=="string")return NN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return NN(e,t)}}function uEe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function dEe(e){if(Array.isArray(e))return NN(e)}function NN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function fEe(e,t){if(e==null)return{};var r=hEe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function hEe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function AM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Er(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AM(Object(r),!0).forEach(function(n){mEe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mEe(e,t,r){return t=pEe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pEe(e){var t=gEe(e,"string");return Xm(t)=="symbol"?t:t+""}function gEe(e,t){if(Xm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ym(){return Ym=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ym.apply(this,arguments)}var vEe=function(t){var r=t.value,n=t.formatter,a=et(t.children)?r:t.children;return rt(n)?n(a):a},yEe=function(t,r){var n=vi(r-t),a=Math.min(Math.abs(r-t),360);return n*a},xEe=function(t,r,n){var a=t.position,i=t.viewBox,o=t.offset,l=t.className,c=i,u=c.cx,d=c.cy,f=c.innerRadius,h=c.outerRadius,p=c.startAngle,x=c.endAngle,m=c.clockWise,g=(f+h)/2,w=yEe(p,x),y=w>=0?1:-1,b,N;a==="insideStart"?(b=p+y*o,N=m):a==="insideEnd"?(b=x-y*o,N=!m):a==="end"&&(b=x+y*o,N=m),N=w<=0?N:!N;var j=nn(u,d,g,b),S=nn(u,d,g,b+(N?1:-1)*359),P="M".concat(j.x,",").concat(j.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(N?0:1,`,
    `).concat(S.x,",").concat(S.y),C=et(t.id)?Rc("recharts-radial-line-"):t.id;return k.createElement("text",Ym({},n,{dominantBaseline:"central",className:yt("recharts-radial-bar-label",l)}),k.createElement("defs",null,k.createElement("path",{id:C,d:P})),k.createElement("textPath",{xlinkHref:"#".concat(C)},r))},bEe=function(t){var r=t.viewBox,n=t.offset,a=t.position,i=r,o=i.cx,l=i.cy,c=i.innerRadius,u=i.outerRadius,d=i.startAngle,f=i.endAngle,h=(d+f)/2;if(a==="outside"){var p=nn(o,l,u+n,h),x=p.x,m=p.y;return{x,y:m,textAnchor:x>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var g=(c+u)/2,w=nn(o,l,g,h),y=w.x,b=w.y;return{x:y,y:b,textAnchor:"middle",verticalAnchor:"middle"}},wEe=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,i=t.position,o=r,l=o.x,c=o.y,u=o.width,d=o.height,f=d>=0?1:-1,h=f*a,p=f>0?"end":"start",x=f>0?"start":"end",m=u>=0?1:-1,g=m*a,w=m>0?"end":"start",y=m>0?"start":"end";if(i==="top"){var b={x:l+u/2,y:c-f*a,textAnchor:"middle",verticalAnchor:p};return Er(Er({},b),n?{height:Math.max(c-n.y,0),width:u}:{})}if(i==="bottom"){var N={x:l+u/2,y:c+d+h,textAnchor:"middle",verticalAnchor:x};return Er(Er({},N),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(i==="left"){var j={x:l-g,y:c+d/2,textAnchor:w,verticalAnchor:"middle"};return Er(Er({},j),n?{width:Math.max(j.x-n.x,0),height:d}:{})}if(i==="right"){var S={x:l+u+g,y:c+d/2,textAnchor:y,verticalAnchor:"middle"};return Er(Er({},S),n?{width:Math.max(n.x+n.width-S.x,0),height:d}:{})}var P=n?{width:u,height:d}:{};return i==="insideLeft"?Er({x:l+g,y:c+d/2,textAnchor:y,verticalAnchor:"middle"},P):i==="insideRight"?Er({x:l+u-g,y:c+d/2,textAnchor:w,verticalAnchor:"middle"},P):i==="insideTop"?Er({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:x},P):i==="insideBottom"?Er({x:l+u/2,y:c+d-h,textAnchor:"middle",verticalAnchor:p},P):i==="insideTopLeft"?Er({x:l+g,y:c+h,textAnchor:y,verticalAnchor:x},P):i==="insideTopRight"?Er({x:l+u-g,y:c+h,textAnchor:w,verticalAnchor:x},P):i==="insideBottomLeft"?Er({x:l+g,y:c+d-h,textAnchor:y,verticalAnchor:p},P):i==="insideBottomRight"?Er({x:l+u-g,y:c+d-h,textAnchor:w,verticalAnchor:p},P):vf(i)&&(de(i.x)||Ll(i.x))&&(de(i.y)||Ll(i.y))?Er({x:l+yc(i.x,u),y:c+yc(i.y,d),textAnchor:"end",verticalAnchor:"end"},P):Er({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},P)},jEe=function(t){return"cx"in t&&de(t.cx)};function gn(e){var t=e.offset,r=t===void 0?5:t,n=fEe(e,sEe),a=Er({offset:r},n),i=a.viewBox,o=a.position,l=a.value,c=a.children,u=a.content,d=a.className,f=d===void 0?"":d,h=a.textBreakAll;if(!i||et(l)&&et(c)&&!v.isValidElement(u)&&!rt(u))return null;if(v.isValidElement(u))return v.cloneElement(u,a);var p;if(rt(u)){if(p=v.createElement(u,a),v.isValidElement(p))return p}else p=vEe(a);var x=jEe(i),m=Je(a,!0);if(x&&(o==="insideStart"||o==="insideEnd"||o==="end"))return xEe(a,p,m);var g=x?bEe(a):wEe(a);return k.createElement(Fy,Ym({className:yt("recharts-label",f)},m,g,{breakAll:h}),p)}gn.displayName="Label";var eq=function(t){var r=t.cx,n=t.cy,a=t.angle,i=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,h=t.y,p=t.top,x=t.left,m=t.width,g=t.height,w=t.clockWise,y=t.labelViewBox;if(y)return y;if(de(m)&&de(g)){if(de(f)&&de(h))return{x:f,y:h,width:m,height:g};if(de(p)&&de(x))return{x:p,y:x,width:m,height:g}}return de(f)&&de(h)?{x:f,y:h,width:0,height:0}:de(r)&&de(n)?{cx:r,cy:n,startAngle:i||a||0,endAngle:o||a||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:w}:t.viewBox?t.viewBox:{}},SEe=function(t,r){return t?t===!0?k.createElement(gn,{key:"label-implicit",viewBox:r}):Rr(t)?k.createElement(gn,{key:"label-implicit",viewBox:r,value:t}):v.isValidElement(t)?t.type===gn?v.cloneElement(t,{key:"label-implicit",viewBox:r}):k.createElement(gn,{key:"label-implicit",content:t,viewBox:r}):rt(t)?k.createElement(gn,{key:"label-implicit",content:t,viewBox:r}):vf(t)?k.createElement(gn,Ym({viewBox:r},t,{key:"label-implicit"})):null:null},NEe=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,i=eq(t),o=Jn(a,gn).map(function(c,u){return v.cloneElement(c,{viewBox:r||i,key:"label-".concat(u)})});if(!n)return o;var l=SEe(t.label,r||i);return[l].concat(oEe(o))};gn.parseViewBox=eq;gn.renderCallByParent=NEe;function PEe(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var CEe=PEe;const AEe=$t(CEe);function Qm(e){"@babel/helpers - typeof";return Qm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qm(e)}var EEe=["valueAccessor"],TEe=["data","dataKey","clockWise","id","textBreakAll"];function _Ee(e){return MEe(e)||DEe(e)||kEe(e)||OEe()}function OEe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kEe(e,t){if(e){if(typeof e=="string")return PN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return PN(e,t)}}function DEe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function MEe(e){if(Array.isArray(e))return PN(e)}function PN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function tx(){return tx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tx.apply(this,arguments)}function EM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function TM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EM(Object(r),!0).forEach(function(n){IEe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IEe(e,t,r){return t=REe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function REe(e){var t=$Ee(e,"string");return Qm(t)=="symbol"?t:t+""}function $Ee(e,t){if(Qm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _M(e,t){if(e==null)return{};var r=LEe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function LEe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var FEe=function(t){return Array.isArray(t.value)?AEe(t.value):t.value};function rs(e){var t=e.valueAccessor,r=t===void 0?FEe:t,n=_M(e,EEe),a=n.data,i=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,u=_M(n,TEe);return!a||!a.length?null:k.createElement(Tt,{className:"recharts-label-list"},a.map(function(d,f){var h=et(i)?r(d,f):Lr(d&&d.payload,i),p=et(l)?{}:{id:"".concat(l,"-").concat(f)};return k.createElement(gn,tx({},Je(d,!0),u,p,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:gn.parseViewBox(et(o)?d:TM(TM({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}rs.displayName="LabelList";function VEe(e,t){return e?e===!0?k.createElement(rs,{key:"labelList-implicit",data:t}):k.isValidElement(e)||rt(e)?k.createElement(rs,{key:"labelList-implicit",data:t,content:e}):vf(e)?k.createElement(rs,tx({data:t},e,{key:"labelList-implicit"})):null:null}function zEe(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=Jn(n,rs).map(function(o,l){return v.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return a;var i=VEe(e.label,t);return[i].concat(_Ee(a))}rs.renderCallByParent=zEe;function Zm(e){"@babel/helpers - typeof";return Zm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zm(e)}function CN(){return CN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},CN.apply(this,arguments)}function OM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OM(Object(r),!0).forEach(function(n){BEe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BEe(e,t,r){return t=UEe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UEe(e){var t=KEe(e,"string");return Zm(t)=="symbol"?t:t+""}function KEe(e,t){if(Zm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qEe=function(t,r){var n=vi(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},ev=function(t){var r=t.cx,n=t.cy,a=t.radius,i=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(l?1:-1)+a,f=Math.asin(c/d)/ex,h=u?i:i+o*f,p=nn(r,n,d,h),x=nn(r,n,a,h),m=u?i-o*f:i,g=nn(r,n,d*Math.cos(f*ex),m);return{center:p,circleTangency:x,lineTangency:g,theta:f}},tq=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.startAngle,l=t.endAngle,c=qEe(o,l),u=o+c,d=nn(r,n,i,o),f=nn(r,n,i,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var p=nn(r,n,a,o),x=nn(r,n,a,u);h+="L ".concat(x.x,",").concat(x.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},WEe=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=vi(d-u),h=ev({cx:r,cy:n,radius:i,angle:u,sign:f,cornerRadius:o,cornerIsExternal:c}),p=h.circleTangency,x=h.lineTangency,m=h.theta,g=ev({cx:r,cy:n,radius:i,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:c}),w=g.circleTangency,y=g.lineTangency,b=g.theta,N=c?Math.abs(u-d):Math.abs(u-d)-m-b;if(N<0)return l?"M ".concat(x.x,",").concat(x.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):tq({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:u,endAngle:d});var j="M ".concat(x.x,",").concat(x.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(N>180),",").concat(+(f<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
  `);if(a>0){var S=ev({cx:r,cy:n,radius:a,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),P=S.circleTangency,C=S.lineTangency,A=S.theta,E=ev({cx:r,cy:n,radius:a,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),T=E.circleTangency,_=E.lineTangency,O=E.theta,M=c?Math.abs(u-d):Math.abs(u-d)-A-O;if(M<0&&o===0)return"".concat(j,"L").concat(r,",").concat(n,"Z");j+="L".concat(_.x,",").concat(_.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(T.x,",").concat(T.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(M>180),",").concat(+(f>0),",").concat(P.x,",").concat(P.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(C.x,",").concat(C.y,"Z")}else j+="L".concat(r,",").concat(n,"Z");return j},HEe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},rq=function(t){var r=kM(kM({},HEe),t),n=r.cx,a=r.cy,i=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(o<i||d===f)return null;var p=yt("recharts-sector",h),x=o-i,m=yc(l,x,0,!0),g;return m>0&&Math.abs(d-f)<360?g=WEe({cx:n,cy:a,innerRadius:i,outerRadius:o,cornerRadius:Math.min(m,x/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):g=tq({cx:n,cy:a,innerRadius:i,outerRadius:o,startAngle:d,endAngle:f}),k.createElement("path",CN({},Je(r,!0),{className:p,d:g,role:"img"}))};function Jm(e){"@babel/helpers - typeof";return Jm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jm(e)}function AN(){return AN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},AN.apply(this,arguments)}function DM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function MM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DM(Object(r),!0).forEach(function(n){GEe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GEe(e,t,r){return t=XEe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XEe(e){var t=YEe(e,"string");return Jm(t)=="symbol"?t:t+""}function YEe(e,t){if(Jm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Jm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var IM={curveBasisClosed:Gpe,curveBasisOpen:Xpe,curveBasis:Hpe,curveBumpX:Dpe,curveBumpY:Mpe,curveLinearClosed:Ype,curveLinear:fb,curveMonotoneX:Qpe,curveMonotoneY:Zpe,curveNatural:Jpe,curveStep:ege,curveStepAfter:rge,curveStepBefore:tge},tv=function(t){return t.x===+t.x&&t.y===+t.y},ah=function(t){return t.x},ih=function(t){return t.y},QEe=function(t,r){if(rt(t))return t;var n="curve".concat(ub(t));return(n==="curveMonotone"||n==="curveBump")&&r?IM["".concat(n).concat(r==="vertical"?"Y":"X")]:IM[n]||fb},ZEe=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,i=a===void 0?[]:a,o=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=QEe(n,l),f=u?i.filter(function(m){return tv(m)}):i,h;if(Array.isArray(o)){var p=u?o.filter(function(m){return tv(m)}):o,x=f.map(function(m,g){return MM(MM({},m),{},{base:p[g]})});return l==="vertical"?h=qg().y(ih).x1(ah).x0(function(m){return m.base.x}):h=qg().x(ah).y1(ih).y0(function(m){return m.base.y}),h.defined(tv).curve(d),h(x)}return l==="vertical"&&de(o)?h=qg().y(ih).x1(ah).x0(o):de(o)?h=qg().x(ah).y1(ih).y0(o):h=n9().x(ah).y(ih),h.defined(tv).curve(d),h(f)},nc=function(t){var r=t.className,n=t.points,a=t.path,i=t.pathRef;if((!n||!n.length)&&!a)return null;var o=n&&n.length?ZEe(t):a;return k.createElement("path",AN({},Je(t,!1),Py(t),{className:yt("recharts-curve",r),d:o,ref:i}))},nq={exports:{}},JEe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",eTe=JEe,tTe=eTe;function aq(){}function iq(){}iq.resetWarningCache=aq;var rTe=function(){function e(n,a,i,o,l,c){if(c!==tTe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:iq,resetWarningCache:aq};return r.PropTypes=r,r};nq.exports=rTe();var nTe=nq.exports;const _t=$t(nTe);var aTe=Object.getOwnPropertyNames,iTe=Object.getOwnPropertySymbols,sTe=Object.prototype.hasOwnProperty;function RM(e,t){return function(n,a,i){return e(n,a,i)&&t(n,a,i)}}function rv(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);var i=a.cache,o=i.get(r),l=i.get(n);if(o&&l)return o===n&&l===r;i.set(r,n),i.set(n,r);var c=e(r,n,a);return i.delete(r),i.delete(n),c}}function $M(e){return aTe(e).concat(iTe(e))}var oTe=Object.hasOwn||function(e,t){return sTe.call(e,t)};function Fc(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var lTe="__v",cTe="__o",uTe="_owner",LM=Object.getOwnPropertyDescriptor,FM=Object.keys;function dTe(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function fTe(e,t){return Fc(e.getTime(),t.getTime())}function hTe(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function mTe(e,t){return e===t}function VM(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.entries(),o,l,c=0;(o=i.next())&&!o.done;){for(var u=t.entries(),d=!1,f=0;(l=u.next())&&!l.done;){if(a[f]){f++;continue}var h=o.value,p=l.value;if(r.equals(h[0],p[0],c,f,e,t,r)&&r.equals(h[1],p[1],h[0],p[0],e,t,r)){d=a[f]=!0;break}f++}if(!d)return!1;c++}return!0}var pTe=Fc;function gTe(e,t,r){var n=FM(e),a=n.length;if(FM(t).length!==a)return!1;for(;a-- >0;)if(!sq(e,t,r,n[a]))return!1;return!0}function sh(e,t,r){var n=$M(e),a=n.length;if($M(t).length!==a)return!1;for(var i,o,l;a-- >0;)if(i=n[a],!sq(e,t,r,i)||(o=LM(e,i),l=LM(t,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function vTe(e,t){return Fc(e.valueOf(),t.valueOf())}function yTe(e,t){return e.source===t.source&&e.flags===t.flags}function zM(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.values(),o,l;(o=i.next())&&!o.done;){for(var c=t.values(),u=!1,d=0;(l=c.next())&&!l.done;){if(!a[d]&&r.equals(o.value,l.value,o.value,l.value,e,t,r)){u=a[d]=!0;break}d++}if(!u)return!1}return!0}function xTe(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function bTe(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function sq(e,t,r,n){return(n===uTe||n===cTe||n===lTe)&&(e.$$typeof||t.$$typeof)?!0:oTe(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var wTe="[object Arguments]",jTe="[object Boolean]",STe="[object Date]",NTe="[object Error]",PTe="[object Map]",CTe="[object Number]",ATe="[object Object]",ETe="[object RegExp]",TTe="[object Set]",_Te="[object String]",OTe="[object URL]",kTe=Array.isArray,BM=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,UM=Object.assign,DTe=Object.prototype.toString.call.bind(Object.prototype.toString);function MTe(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,a=e.areFunctionsEqual,i=e.areMapsEqual,o=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,d=e.areSetsEqual,f=e.areTypedArraysEqual,h=e.areUrlsEqual;return function(x,m,g){if(x===m)return!0;if(x==null||m==null)return!1;var w=typeof x;if(w!==typeof m)return!1;if(w!=="object")return w==="number"?o(x,m,g):w==="function"?a(x,m,g):!1;var y=x.constructor;if(y!==m.constructor)return!1;if(y===Object)return l(x,m,g);if(kTe(x))return t(x,m,g);if(BM!=null&&BM(x))return f(x,m,g);if(y===Date)return r(x,m,g);if(y===RegExp)return u(x,m,g);if(y===Map)return i(x,m,g);if(y===Set)return d(x,m,g);var b=DTe(x);return b===STe?r(x,m,g):b===ETe?u(x,m,g):b===PTe?i(x,m,g):b===TTe?d(x,m,g):b===ATe?typeof x.then!="function"&&typeof m.then!="function"&&l(x,m,g):b===OTe?h(x,m,g):b===NTe?n(x,m,g):b===wTe?l(x,m,g):b===jTe||b===CTe||b===_Te?c(x,m,g):!1}}function ITe(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?sh:dTe,areDatesEqual:fTe,areErrorsEqual:hTe,areFunctionsEqual:mTe,areMapsEqual:n?RM(VM,sh):VM,areNumbersEqual:pTe,areObjectsEqual:n?sh:gTe,arePrimitiveWrappersEqual:vTe,areRegExpsEqual:yTe,areSetsEqual:n?RM(zM,sh):zM,areTypedArraysEqual:n?sh:xTe,areUrlsEqual:bTe};if(r&&(a=UM({},a,r(a))),t){var i=rv(a.areArraysEqual),o=rv(a.areMapsEqual),l=rv(a.areObjectsEqual),c=rv(a.areSetsEqual);a=UM({},a,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return a}function RTe(e){return function(t,r,n,a,i,o,l){return e(t,r,l)}}function $Te(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,i=e.strict;if(n)return function(c,u){var d=n(),f=d.cache,h=f===void 0?t?new WeakMap:void 0:f,p=d.meta;return r(c,u,{cache:h,equals:a,meta:p,strict:i})};if(t)return function(c,u){return r(c,u,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var o={cache:void 0,equals:a,meta:void 0,strict:i};return function(c,u){return r(c,u,o)}}var LTe=xl();xl({strict:!0});xl({circular:!0});xl({circular:!0,strict:!0});xl({createInternalComparator:function(){return Fc}});xl({strict:!0,createInternalComparator:function(){return Fc}});xl({circular:!0,createInternalComparator:function(){return Fc}});xl({circular:!0,createInternalComparator:function(){return Fc},strict:!0});function xl(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,a=e.createState,i=e.strict,o=i===void 0?!1:i,l=ITe(e),c=MTe(l),u=n?n(c):RTe(c);return $Te({circular:r,comparator:c,createState:a,equals:u,strict:o})}function FTe(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function KM(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(i){r<0&&(r=i),i-r>t?(e(i),r=-1):FTe(a)};requestAnimationFrame(n)}function EN(e){"@babel/helpers - typeof";return EN=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},EN(e)}function VTe(e){return KTe(e)||UTe(e)||BTe(e)||zTe()}function zTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BTe(e,t){if(e){if(typeof e=="string")return qM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qM(e,t)}}function qM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function UTe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function KTe(e){if(Array.isArray(e))return e}function qTe(){var e={},t=function(){return null},r=!1,n=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,l=VTe(o),c=l[0],u=l.slice(1);if(typeof c=="number"){KM(a.bind(null,u),c);return}a(c),KM(a.bind(null,u));return}EN(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function ep(e){"@babel/helpers - typeof";return ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ep(e)}function WM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function HM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WM(Object(r),!0).forEach(function(n){oq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oq(e,t,r){return t=WTe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WTe(e){var t=HTe(e,"string");return ep(t)==="symbol"?t:String(t)}function HTe(e,t){if(ep(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ep(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var GTe=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(i){return a.includes(i)})})},XTe=function(t){return t},YTe=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Wh=function(t,r){return Object.keys(r).reduce(function(n,a){return HM(HM({},n),{},oq({},a,t(a,r[a])))},{})},GM=function(t,r,n){return t.map(function(a){return"".concat(YTe(a)," ").concat(r,"ms ").concat(n)}).join(",")};function QTe(e,t){return e_e(e)||JTe(e,t)||lq(e,t)||ZTe()}function ZTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JTe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function e_e(e){if(Array.isArray(e))return e}function t_e(e){return a_e(e)||n_e(e)||lq(e)||r_e()}function r_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lq(e,t){if(e){if(typeof e=="string")return TN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return TN(e,t)}}function n_e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function a_e(e){if(Array.isArray(e))return TN(e)}function TN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var rx=1e-4,cq=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},uq=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},XM=function(t,r){return function(n){var a=cq(t,r);return uq(a,n)}},i_e=function(t,r){return function(n){var a=cq(t,r),i=[].concat(t_e(a.map(function(o,l){return o*l}).slice(1)),[0]);return uq(i,n)}},YM=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],i=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,o=1,l=1;break;case"ease":a=.25,i=.1,o=.25,l=1;break;case"ease-in":a=.42,i=0,o=1,l=1;break;case"ease-out":a=.42,i=0,o=.58,l=1;break;case"ease-in-out":a=0,i=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(g){return parseFloat(g)}),d=QTe(u,4);a=d[0],i=d[1],o=d[2],l=d[3]}}}var f=XM(a,o),h=XM(i,l),p=i_e(a,o),x=function(w){return w>1?1:w<0?0:w},m=function(w){for(var y=w>1?1:w,b=y,N=0;N<8;++N){var j=f(b)-y,S=p(b);if(Math.abs(j-y)<rx||S<rx)return h(b);b=x(b-j/S)}return h(b)};return m.isStepper=!1,m},s_e=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,i=a===void 0?8:a,o=t.dt,l=o===void 0?17:o,c=function(d,f,h){var p=-(d-f)*n,x=h*i,m=h+(p-x)*l/1e3,g=h*l/1e3+d;return Math.abs(g-f)<rx&&Math.abs(m)<rx?[f,0]:[g,m]};return c.isStepper=!0,c.dt=l,c},o_e=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return YM(a);case"spring":return s_e();default:if(a.split("(")[0]==="cubic-bezier")return YM(a)}return typeof a=="function"?a:null};function tp(e){"@babel/helpers - typeof";return tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tp(e)}function QM(e){return u_e(e)||c_e(e)||dq(e)||l_e()}function l_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function c_e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function u_e(e){if(Array.isArray(e))return ON(e)}function ZM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZM(Object(r),!0).forEach(function(n){_N(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _N(e,t,r){return t=d_e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d_e(e){var t=f_e(e,"string");return tp(t)==="symbol"?t:String(t)}function f_e(e,t){if(tp(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(tp(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function h_e(e,t){return g_e(e)||p_e(e,t)||dq(e,t)||m_e()}function m_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dq(e,t){if(e){if(typeof e=="string")return ON(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ON(e,t)}}function ON(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function p_e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function g_e(e){if(Array.isArray(e))return e}var nx=function(t,r,n){return t+(r-t)*n},kN=function(t){var r=t.from,n=t.to;return r!==n},v_e=function e(t,r,n){var a=Wh(function(i,o){if(kN(o)){var l=t(o.from,o.to,o.velocity),c=h_e(l,2),u=c[0],d=c[1];return Qr(Qr({},o),{},{from:u,velocity:d})}return o},r);return n<1?Wh(function(i,o){return kN(o)?Qr(Qr({},o),{},{velocity:nx(o.velocity,a[i].velocity,n),from:nx(o.from,a[i].from,n)}):o},r):e(t,a,n-1)};const y_e=function(e,t,r,n,a){var i=GTe(e,t),o=i.reduce(function(g,w){return Qr(Qr({},g),{},_N({},w,[e[w],t[w]]))},{}),l=i.reduce(function(g,w){return Qr(Qr({},g),{},_N({},w,{from:e[w],velocity:0,to:t[w]}))},{}),c=-1,u,d,f=function(){return null},h=function(){return Wh(function(w,y){return y.from},l)},p=function(){return!Object.values(l).filter(kN).length},x=function(w){u||(u=w);var y=w-u,b=y/r.dt;l=v_e(r,l,b),a(Qr(Qr(Qr({},e),t),h())),u=w,p()||(c=requestAnimationFrame(f))},m=function(w){d||(d=w);var y=(w-d)/n,b=Wh(function(j,S){return nx.apply(void 0,QM(S).concat([r(y)]))},o);if(a(Qr(Qr(Qr({},e),t),b)),y<1)c=requestAnimationFrame(f);else{var N=Wh(function(j,S){return nx.apply(void 0,QM(S).concat([r(1)]))},o);a(Qr(Qr(Qr({},e),t),N))}};return f=r.isStepper?x:m,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function Od(e){"@babel/helpers - typeof";return Od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Od(e)}var x_e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function b_e(e,t){if(e==null)return{};var r=w_e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function w_e(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function _j(e){return P_e(e)||N_e(e)||S_e(e)||j_e()}function j_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S_e(e,t){if(e){if(typeof e=="string")return DN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return DN(e,t)}}function N_e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function P_e(e){if(Array.isArray(e))return DN(e)}function DN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function JM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ai(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JM(Object(r),!0).forEach(function(n){Nh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nh(e,t,r){return t=fq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function C_e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A_e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,fq(n.key),n)}}function E_e(e,t,r){return t&&A_e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function fq(e){var t=T_e(e,"string");return Od(t)==="symbol"?t:String(t)}function T_e(e,t){if(Od(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Od(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function __e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&MN(e,t)}function MN(e,t){return MN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},MN(e,t)}function O_e(e){var t=k_e();return function(){var n=ax(e),a;if(t){var i=ax(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return IN(this,a)}}function IN(e,t){if(t&&(Od(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return RN(e)}function RN(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k_e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ax(e){return ax=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ax(e)}var Pi=function(e){__e(r,e);var t=O_e(r);function r(n,a){var i;C_e(this,r),i=t.call(this,n,a);var o=i.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,f=o.steps,h=o.children,p=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(RN(i)),i.changeStyle=i.changeStyle.bind(RN(i)),!l||p<=0)return i.state={style:{}},typeof h=="function"&&(i.state={style:d}),IN(i);if(f&&f.length)i.state={style:f[0].style};else if(u){if(typeof h=="function")return i.state={style:u},IN(i);i.state={style:c?Nh({},c,u):u}}else i.state={style:{}};return i}return E_e(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,o=a.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,o=i.isActive,l=i.canBegin,c=i.attributeName,u=i.shouldReAnimate,d=i.to,f=i.from,h=this.state.style;if(l){if(!o){var p={style:c?Nh({},c,d):d};this.state&&h&&(c&&h[c]!==d||!c&&h!==d)&&this.setState(p);return}if(!(LTe(a.to,d)&&a.canBegin&&a.isActive)){var x=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=x||u?f:a.to;if(this.state&&h){var g={style:c?Nh({},c,m):m};(c&&h[c]!==m||!c&&h!==m)&&this.setState(g)}this.runAnimation(ai(ai({},this.props),{},{from:m,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,o=a.from,l=a.to,c=a.duration,u=a.easing,d=a.begin,f=a.onAnimationEnd,h=a.onAnimationStart,p=y_e(o,l,o_e(u),c,this.changeStyle),x=function(){i.stopJSAnimation=p()};this.manager.start([h,d,x,c,f])}},{key:"runStepAnimation",value:function(a){var i=this,o=a.steps,l=a.begin,c=a.onAnimationStart,u=o[0],d=u.style,f=u.duration,h=f===void 0?0:f,p=function(m,g,w){if(w===0)return m;var y=g.duration,b=g.easing,N=b===void 0?"ease":b,j=g.style,S=g.properties,P=g.onAnimationEnd,C=w>0?o[w-1]:g,A=S||Object.keys(j);if(typeof N=="function"||N==="spring")return[].concat(_j(m),[i.runJSAnimation.bind(i,{from:C.style,to:j,duration:y,easing:N}),y]);var E=GM(A,y,N),T=ai(ai(ai({},C.style),j),{},{transition:E});return[].concat(_j(m),[T,y,P]).filter(XTe)};return this.manager.start([c].concat(_j(o.reduce(p,[d,Math.max(h,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=qTe());var i=a.begin,o=a.duration,l=a.attributeName,c=a.to,u=a.easing,d=a.onAnimationStart,f=a.onAnimationEnd,h=a.steps,p=a.children,x=this.manager;if(this.unSubscribe=x.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var m=l?Nh({},l,c):c,g=GM(Object.keys(m),o,u);x.start([d,i,ai(ai({},m),{},{transition:g}),o,f])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=b_e(a,x_e),u=v.Children.count(i),d=this.state.style;if(typeof i=="function")return i(d);if(!l||u===0||o<=0)return i;var f=function(p){var x=p.props,m=x.style,g=m===void 0?{}:m,w=x.className,y=v.cloneElement(p,ai(ai({},c),{},{style:ai(ai({},g),d),className:w}));return y};return u===1?f(v.Children.only(i)):k.createElement("div",null,v.Children.map(i,function(h){return f(h)}))}}]),r}(v.PureComponent);Pi.displayName="Animate";Pi.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Pi.propTypes={from:_t.oneOfType([_t.object,_t.string]),to:_t.oneOfType([_t.object,_t.string]),attributeName:_t.string,duration:_t.number,begin:_t.number,easing:_t.oneOfType([_t.string,_t.func]),steps:_t.arrayOf(_t.shape({duration:_t.number.isRequired,style:_t.object.isRequired,easing:_t.oneOfType([_t.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),_t.func]),properties:_t.arrayOf("string"),onAnimationEnd:_t.func})),children:_t.oneOfType([_t.node,_t.func]),isActive:_t.bool,canBegin:_t.bool,onAnimationEnd:_t.func,shouldReAnimate:_t.bool,onAnimationStart:_t.func,onAnimationReStart:_t.func};function rp(e){"@babel/helpers - typeof";return rp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rp(e)}function ix(){return ix=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ix.apply(this,arguments)}function D_e(e,t){return $_e(e)||R_e(e,t)||I_e(e,t)||M_e()}function M_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function I_e(e,t){if(e){if(typeof e=="string")return eI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eI(e,t)}}function eI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function R_e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function $_e(e){if(Array.isArray(e))return e}function tI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tI(Object(r),!0).forEach(function(n){L_e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function L_e(e,t,r){return t=F_e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function F_e(e){var t=V_e(e,"string");return rp(t)=="symbol"?t:t+""}function V_e(e,t){if(rp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(rp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nI=function(t,r,n,a,i){var o=Math.min(Math.abs(n)/2,Math.abs(a)/2),l=a>=0?1:-1,c=n>=0?1:-1,u=a>=0&&n>=0||a<0&&n<0?1:0,d;if(o>0&&i instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=i[h]>o?o:i[h];d="M".concat(t,",").concat(r+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+c*f[0],",").concat(r)),d+="L ".concat(t+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*f[1])),d+="L ".concat(t+n,",").concat(r+a-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-c*f[2],",").concat(r+a)),d+="L ".concat(t+c*f[3],",").concat(r+a),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+a-l*f[3])),d+="Z"}else if(o>0&&i===+i&&i>0){var x=Math.min(o,i);d="M ".concat(t,",").concat(r+l*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(t+c*x,",").concat(r,`
            L `).concat(t+n-c*x,",").concat(r,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*x,`
            L `).concat(t+n,",").concat(r+a-l*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(t+n-c*x,",").concat(r+a,`
            L `).concat(t+c*x,",").concat(r+a,`
            A `).concat(x,",").concat(x,",0,0,").concat(u,",").concat(t,",").concat(r+a-l*x," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return d},z_e=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,i=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(i,i+l),d=Math.max(i,i+l),f=Math.min(o,o+c),h=Math.max(o,o+c);return n>=u&&n<=d&&a>=f&&a<=h}return!1},B_e={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},XE=function(t){var r=rI(rI({},B_e),t),n=v.useRef(),a=v.useState(-1),i=D_e(a,2),o=i[0],l=i[1];v.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var N=n.current.getTotalLength();N&&l(N)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,h=r.radius,p=r.className,x=r.animationEasing,m=r.animationDuration,g=r.animationBegin,w=r.isAnimationActive,y=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var b=yt("recharts-rectangle",p);return y?k.createElement(Pi,{canBegin:o>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:m,animationEasing:x,isActive:y},function(N){var j=N.width,S=N.height,P=N.x,C=N.y;return k.createElement(Pi,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:m,isActive:w,easing:x},k.createElement("path",ix({},Je(r,!0),{className:b,d:nI(P,C,j,S,h),ref:n})))}):k.createElement("path",ix({},Je(r,!0),{className:b,d:nI(c,u,d,f,h)}))};function $N(){return $N=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$N.apply(this,arguments)}var Ab=function(t){var r=t.cx,n=t.cy,a=t.r,i=t.className,o=yt("recharts-dot",i);return r===+r&&n===+n&&a===+a?k.createElement("circle",$N({},Je(t,!1),Py(t),{className:o,cx:r,cy:n,r:a})):null};function np(e){"@babel/helpers - typeof";return np=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},np(e)}var U_e=["x","y","top","left","width","height","className"];function LN(){return LN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},LN.apply(this,arguments)}function aI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function K_e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aI(Object(r),!0).forEach(function(n){q_e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function q_e(e,t,r){return t=W_e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function W_e(e){var t=H_e(e,"string");return np(t)=="symbol"?t:t+""}function H_e(e,t){if(np(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(np(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function G_e(e,t){if(e==null)return{};var r=X_e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function X_e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Y_e=function(t,r,n,a,i,o){return"M".concat(t,",").concat(i,"v").concat(a,"M").concat(o,",").concat(r,"h").concat(n)},Q_e=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,o=t.top,l=o===void 0?0:o,c=t.left,u=c===void 0?0:c,d=t.width,f=d===void 0?0:d,h=t.height,p=h===void 0?0:h,x=t.className,m=G_e(t,U_e),g=K_e({x:n,y:i,top:l,left:u,width:f,height:p},m);return!de(n)||!de(i)||!de(f)||!de(p)||!de(l)||!de(u)?null:k.createElement("path",LN({},Je(g,!0),{className:yt("recharts-cross",x),d:Y_e(n,i,f,p,l,u)}))},Z_e=A9,J_e=Z_e(Object.getPrototypeOf,Object),eOe=J_e,tOe=Qs,rOe=eOe,nOe=Zs,aOe="[object Object]",iOe=Function.prototype,sOe=Object.prototype,hq=iOe.toString,oOe=sOe.hasOwnProperty,lOe=hq.call(Object);function cOe(e){if(!nOe(e)||tOe(e)!=aOe)return!1;var t=rOe(e);if(t===null)return!0;var r=oOe.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&hq.call(r)==lOe}var uOe=cOe;const dOe=$t(uOe);var fOe=Qs,hOe=Zs,mOe="[object Boolean]";function pOe(e){return e===!0||e===!1||hOe(e)&&fOe(e)==mOe}var gOe=pOe;const vOe=$t(gOe);function ap(e){"@babel/helpers - typeof";return ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ap(e)}function sx(){return sx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sx.apply(this,arguments)}function yOe(e,t){return jOe(e)||wOe(e,t)||bOe(e,t)||xOe()}function xOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bOe(e,t){if(e){if(typeof e=="string")return iI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return iI(e,t)}}function iI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function wOe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function jOe(e){if(Array.isArray(e))return e}function sI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function oI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sI(Object(r),!0).forEach(function(n){SOe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SOe(e,t,r){return t=NOe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NOe(e){var t=POe(e,"string");return ap(t)=="symbol"?t:t+""}function POe(e,t){if(ap(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ap(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lI=function(t,r,n,a,i){var o=n-a,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-o/2,",").concat(r+i),l+="L ".concat(t+n-o/2-a,",").concat(r+i),l+="L ".concat(t,",").concat(r," Z"),l},COe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},AOe=function(t){var r=oI(oI({},COe),t),n=v.useRef(),a=v.useState(-1),i=yOe(a,2),o=i[0],l=i[1];v.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var b=n.current.getTotalLength();b&&l(b)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,p=r.className,x=r.animationEasing,m=r.animationDuration,g=r.animationBegin,w=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var y=yt("recharts-trapezoid",p);return w?k.createElement(Pi,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:c,y:u},duration:m,animationEasing:x,isActive:w},function(b){var N=b.upperWidth,j=b.lowerWidth,S=b.height,P=b.x,C=b.y;return k.createElement(Pi,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:g,duration:m,easing:x},k.createElement("path",sx({},Je(r,!0),{className:y,d:lI(P,C,N,j,S),ref:n})))}):k.createElement("g",null,k.createElement("path",sx({},Je(r,!0),{className:y,d:lI(c,u,d,f,h)})))},EOe=["option","shapeType","propTransformer","activeClassName","isActive"];function ip(e){"@babel/helpers - typeof";return ip=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ip(e)}function TOe(e,t){if(e==null)return{};var r=_Oe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function _Oe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function cI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ox(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cI(Object(r),!0).forEach(function(n){OOe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OOe(e,t,r){return t=kOe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kOe(e){var t=DOe(e,"string");return ip(t)=="symbol"?t:t+""}function DOe(e,t){if(ip(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ip(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function MOe(e,t){return ox(ox({},t),e)}function IOe(e,t){return e==="symbols"}function uI(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return k.createElement(XE,r);case"trapezoid":return k.createElement(AOe,r);case"sector":return k.createElement(rq,r);case"symbols":if(IOe(t))return k.createElement(mb,r);break;default:return null}}function ROe(e){return v.isValidElement(e)?e.props:e}function FN(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?MOe:n,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,l=e.isActive,c=TOe(e,EOe),u;if(v.isValidElement(t))u=v.cloneElement(t,ox(ox({},c),ROe(t)));else if(rt(t))u=t(c);else if(dOe(t)&&!vOe(t)){var d=a(t,c);u=k.createElement(uI,{shapeType:r,elementProps:d})}else{var f=c;u=k.createElement(uI,{shapeType:r,elementProps:f})}return l?k.createElement(Tt,{className:o},u):u}function Eb(e,t){return t!=null&&"trapezoids"in e.props}function Tb(e,t){return t!=null&&"sectors"in e.props}function sp(e,t){return t!=null&&"points"in e.props}function $Oe(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&i}function LOe(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function FOe(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function VOe(e,t){var r;return Eb(e,t)?r=$Oe:Tb(e,t)?r=LOe:sp(e,t)&&(r=FOe),r}function zOe(e,t){var r;return Eb(e,t)?r="trapezoids":Tb(e,t)?r="sectors":sp(e,t)&&(r="points"),r}function BOe(e,t){if(Eb(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Tb(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return sp(e,t)?t.payload:{}}function UOe(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=zOe(r,t),i=BOe(r,t),o=n.filter(function(c,u){var d=xc(i,c),f=r.props[a].filter(function(x){var m=VOe(r,t);return m(x,t)}),h=r.props[a].indexOf(f[f.length-1]),p=u===h;return d&&p}),l=n.indexOf(o[o.length-1]);return l}var KOe=Math.ceil,qOe=Math.max;function WOe(e,t,r,n){for(var a=-1,i=qOe(KOe((t-e)/(r||1)),0),o=Array(i);i--;)o[n?i:++a]=e,e+=r;return o}var HOe=WOe,GOe=W9,dI=1/0,XOe=17976931348623157e292;function YOe(e){if(!e)return e===0?e:0;if(e=GOe(e),e===dI||e===-dI){var t=e<0?-1:1;return t*XOe}return e===e?e:0}var mq=YOe,QOe=HOe,ZOe=vb,Oj=mq;function JOe(e){return function(t,r,n){return n&&typeof n!="number"&&ZOe(t,r,n)&&(r=n=void 0),t=Oj(t),r===void 0?(r=t,t=0):r=Oj(r),n=n===void 0?t<r?1:-1:Oj(n),QOe(t,r,n,e)}}var e2e=JOe,t2e=e2e,r2e=t2e(),n2e=r2e;const lx=$t(n2e);function op(e){"@babel/helpers - typeof";return op=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},op(e)}function fI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fI(Object(r),!0).forEach(function(n){pq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pq(e,t,r){return t=a2e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a2e(e){var t=i2e(e,"string");return op(t)=="symbol"?t:t+""}function i2e(e,t){if(op(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(op(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var s2e=["Webkit","Moz","O","ms"],o2e=function(t,r){var n=t.replace(/(\w)/,function(i){return i.toUpperCase()}),a=s2e.reduce(function(i,o){return hI(hI({},i),{},pq({},o+n,r))},{});return a[t]=r,a};function kd(e){"@babel/helpers - typeof";return kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kd(e)}function cx(){return cx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cx.apply(this,arguments)}function mI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mI(Object(r),!0).forEach(function(n){sa(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function l2e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,vq(n.key),n)}}function c2e(e,t,r){return t&&pI(e.prototype,t),r&&pI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function u2e(e,t,r){return t=ux(t),d2e(e,gq()?Reflect.construct(t,r||[],ux(e).constructor):t.apply(e,r))}function d2e(e,t){if(t&&(kd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return f2e(e)}function f2e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gq=function(){return!!e})()}function ux(e){return ux=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ux(e)}function h2e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&VN(e,t)}function VN(e,t){return VN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},VN(e,t)}function sa(e,t,r){return t=vq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vq(e){var t=m2e(e,"string");return kd(t)=="symbol"?t:t+""}function m2e(e,t){if(kd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(kd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var p2e=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,i=t.x,o=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=Kh().domain(lx(0,c)).range([i,i+o-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(a),scale:u,scaleValues:d}},gI=function(t){return t.changedTouches&&!!t.changedTouches.length},Dd=function(e){function t(r){var n;return l2e(this,t),n=u2e(this,t,[r]),sa(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),sa(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),sa(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,i=a.endIndex,o=a.onDragEnd,l=a.startIndex;o==null||o({endIndex:i,startIndex:l})}),n.detachDragEndListener()}),sa(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),sa(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),sa(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),sa(n,"handleSlideDragStart",function(a){var i=gI(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return h2e(t,e),c2e(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,i=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(a,i),h=Math.max(a,i),p=t.getIndexInRange(o,f),x=t.getIndexInRange(o,h);return{startIndex:p-p%c,endIndex:x===d?d:x-x%c}}},{key:"getTextOfTick",value:function(n){var a=this.props,i=a.data,o=a.tickFormatter,l=a.dataKey,c=Lr(i[n],l,n);return rt(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,i=a.slideMoveStartX,o=a.startX,l=a.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,h=c.startIndex,p=c.endIndex,x=c.onChange,m=n.pageX-i;m>0?m=Math.min(m,u+d-f-l,u+d-f-o):m<0&&(m=Math.max(m,u-o,u-l));var g=this.getIndex({startX:o+m,endX:l+m});(g.startIndex!==h||g.endIndex!==p)&&x&&x(g),this.setState({startX:o+m,endX:l+m,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var i=gI(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,i=a.brushMoveStartX,o=a.movingTravellerId,l=a.endX,c=a.startX,u=this.state[o],d=this.props,f=d.x,h=d.width,p=d.travellerWidth,x=d.onChange,m=d.gap,g=d.data,w={startX:this.state.startX,endX:this.state.endX},y=n.pageX-i;y>0?y=Math.min(y,f+h-p-u):y<0&&(y=Math.max(y,f-u)),w[o]=u+y;var b=this.getIndex(w),N=b.startIndex,j=b.endIndex,S=function(){var C=g.length-1;return o==="startX"&&(l>c?N%m===0:j%m===0)||l<c&&j===C||o==="endX"&&(l>c?j%m===0:N%m===0)||l>c&&j===C};this.setState(sa(sa({},o,u+y),"brushMoveStartX",n.pageX),function(){x&&S()&&x(b)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var i=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[a],f=l.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=l.length)){var p=l[h];a==="startX"&&p>=u||a==="endX"&&p<=c||this.setState(sa({},a,p),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.fill,u=n.stroke;return k.createElement("rect",{stroke:u,fill:c,x:a,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,f=v.Children.only(u);return f?k.cloneElement(f,{x:a,y:i,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,a){var i,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,h=c.traveller,p=c.ariaLabel,x=c.data,m=c.startIndex,g=c.endIndex,w=Math.max(n,this.props.x),y=kj(kj({},Je(this.props,!1)),{},{x:w,y:u,width:d,height:f}),b=p||"Min value: ".concat((i=x[m])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=x[g])===null||o===void 0?void 0:o.name);return k.createElement(Tt,{tabIndex:0,role:"slider","aria-label":b,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(j){["ArrowLeft","ArrowRight"].includes(j.key)&&(j.preventDefault(),j.stopPropagation(),l.handleTravellerMoveKeyboard(j.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,y))}},{key:"renderSlide",value:function(n,a){var i=this.props,o=i.y,l=i.height,c=i.stroke,u=i.travellerWidth,d=Math.min(n,a)+u,f=Math.max(Math.abs(a-n)-u,0);return k.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:f,height:l})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,i=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,h=d.endX,p=5,x={pointerEvents:"none",fill:u};return k.createElement(Tt,{className:"recharts-brush-texts"},k.createElement(Fy,cx({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-p,y:o+l/2},x),this.getTextOfTick(a)),k.createElement(Fy,cx({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+p,y:o+l/2},x),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,a=n.data,i=n.className,o=n.children,l=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,h=this.state,p=h.startX,x=h.endX,m=h.isTextActive,g=h.isSlideMoving,w=h.isTravellerMoving,y=h.isTravellerFocused;if(!a||!a.length||!de(l)||!de(c)||!de(u)||!de(d)||u<=0||d<=0)return null;var b=yt("recharts-brush",i),N=k.Children.count(o)===1,j=o2e("userSelect","none");return k.createElement(Tt,{className:b,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:j},this.renderBackground(),N&&this.renderPanorama(),this.renderSlide(p,x),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(x,"endX"),(m||g||w||y||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,i=n.y,o=n.width,l=n.height,c=n.stroke,u=Math.floor(i+l/2)-1;return k.createElement(k.Fragment,null,k.createElement("rect",{x:a,y:i,width:o,height:l,fill:c,stroke:"none"}),k.createElement("line",{x1:a+1,y1:u,x2:a+o-1,y2:u,fill:"none",stroke:"#fff"}),k.createElement("line",{x1:a+1,y1:u+2,x2:a+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var i;return k.isValidElement(n)?i=k.cloneElement(n,a):rt(n)?i=n(a):i=t.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(n,a){var i=n.data,o=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(i!==a.prevData||u!==a.prevUpdateId)return kj({prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},i&&i.length?p2e({data:i,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+o-c]);var h=a.scale.domain().map(function(p){return a.scale(p)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var i=n.length,o=0,l=i-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>a?l=c:o=c}return a>=n[l]?l:o}}])}(v.PureComponent);sa(Dd,"displayName","Brush");sa(Dd,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var g2e=bE;function v2e(e,t){var r;return g2e(e,function(n,a,i){return r=t(n,a,i),!r}),!!r}var y2e=v2e,x2e=x9,b2e=pl,w2e=y2e,j2e=ea,S2e=vb;function N2e(e,t,r){var n=j2e(e)?x2e:w2e;return r&&S2e(e,t,r)&&(t=void 0),n(e,b2e(t))}var P2e=N2e;const C2e=$t(P2e);var ns=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},vI=z9;function A2e(e,t,r){t=="__proto__"&&vI?vI(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var E2e=A2e,T2e=E2e,_2e=F9,O2e=pl;function k2e(e,t){var r={};return t=O2e(t),_2e(e,function(n,a,i){T2e(r,a,t(n,a,i))}),r}var D2e=k2e;const M2e=$t(D2e);function I2e(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var R2e=I2e,$2e=bE;function L2e(e,t){var r=!0;return $2e(e,function(n,a,i){return r=!!t(n,a,i),r}),r}var F2e=L2e,V2e=R2e,z2e=F2e,B2e=pl,U2e=ea,K2e=vb;function q2e(e,t,r){var n=U2e(e)?V2e:z2e;return r&&K2e(e,t,r)&&(t=void 0),n(e,B2e(t))}var W2e=q2e;const yq=$t(W2e);var H2e=["x","y"];function lp(e){"@babel/helpers - typeof";return lp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lp(e)}function zN(){return zN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zN.apply(this,arguments)}function yI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function oh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yI(Object(r),!0).forEach(function(n){G2e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function G2e(e,t,r){return t=X2e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function X2e(e){var t=Y2e(e,"string");return lp(t)=="symbol"?t:t+""}function Y2e(e,t){if(lp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(lp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Q2e(e,t){if(e==null)return{};var r=Z2e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Z2e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function J2e(e,t){var r=e.x,n=e.y,a=Q2e(e,H2e),i="".concat(r),o=parseInt(i,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||a.height),d=parseInt(u,10),f="".concat(t.width||a.width),h=parseInt(f,10);return oh(oh(oh(oh(oh({},t),a),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function xI(e){return k.createElement(FN,zN({shapeType:"rectangle",propTransformer:J2e,activeClassName:"recharts-active-bar"},e))}var eke=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var i=typeof n=="number";return i?t(n,a):(i||wc(),r)}},tke=["value","background"],xq;function Md(e){"@babel/helpers - typeof";return Md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Md(e)}function rke(e,t){if(e==null)return{};var r=nke(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function nke(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function dx(){return dx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dx.apply(this,arguments)}function bI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bI(Object(r),!0).forEach(function(n){Mo(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ake(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,wq(n.key),n)}}function ike(e,t,r){return t&&wI(e.prototype,t),r&&wI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ske(e,t,r){return t=fx(t),oke(e,bq()?Reflect.construct(t,r||[],fx(e).constructor):t.apply(e,r))}function oke(e,t){if(t&&(Md(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lke(e)}function lke(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bq=function(){return!!e})()}function fx(e){return fx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},fx(e)}function cke(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&BN(e,t)}function BN(e,t){return BN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},BN(e,t)}function Mo(e,t,r){return t=wq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wq(e){var t=uke(e,"string");return Md(t)=="symbol"?t:t+""}function uke(e,t){if(Md(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Md(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Xn=function(e){function t(){var r;ake(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=ske(this,t,[].concat(a)),Mo(r,"state",{isAnimationFinished:!1}),Mo(r,"id",Rc("recharts-bar-")),Mo(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),Mo(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return cke(t,e),ike(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,i=this.props,o=i.shape,l=i.dataKey,c=i.activeIndex,u=i.activeBar,d=Je(this.props,!1);return n&&n.map(function(f,h){var p=h===c,x=p?u:o,m=wr(wr(wr({},d),f),{},{isActive:p,option:x,index:h,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return k.createElement(Tt,dx({className:"recharts-bar-rectangle"},Om(a.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),k.createElement(xI,m))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,i=a.data,o=a.layout,l=a.isAnimationActive,c=a.animationBegin,u=a.animationDuration,d=a.animationEasing,f=a.animationId,h=this.state.prevData;return k.createElement(Pi,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var x=p.t,m=i.map(function(g,w){var y=h&&h[w];if(y){var b=xr(y.x,g.x),N=xr(y.y,g.y),j=xr(y.width,g.width),S=xr(y.height,g.height);return wr(wr({},g),{},{x:b(x),y:N(x),width:j(x),height:S(x)})}if(o==="horizontal"){var P=xr(0,g.height),C=P(x);return wr(wr({},g),{},{y:g.y+g.height-C,height:C})}var A=xr(0,g.width),E=A(x);return wr(wr({},g),{},{width:E})});return k.createElement(Tt,null,n.renderRectanglesStatically(m))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,i=n.isAnimationActive,o=this.state.prevData;return i&&a&&a.length&&(!o||!xc(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,i=a.data,o=a.dataKey,l=a.activeIndex,c=Je(this.props.background,!1);return i.map(function(u,d){u.value;var f=u.background,h=rke(u,tke);if(!f)return null;var p=wr(wr(wr(wr(wr({},h),{},{fill:"#eee"},f),c),Om(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return k.createElement(xI,dx({key:"background-bar-".concat(d),option:n.props.background,isActive:d===l},p))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,f=Jn(d,Ef);if(!f)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,p=function(g,w){var y=Array.isArray(g.value)?g.value[1]:g.value;return{x:g.x,y:g.y,value:y,errorVal:Lr(g,w)}},x={clipPath:n?"url(#clipPath-".concat(a,")"):null};return k.createElement(Tt,x,f.map(function(m){return k.cloneElement(m,{key:"error-bar-".concat(a,"-").concat(m.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.data,o=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,f=n.width,h=n.height,p=n.isAnimationActive,x=n.background,m=n.id;if(a||!i||!i.length)return null;var g=this.state.isAnimationFinished,w=yt("recharts-bar",o),y=l&&l.allowDataOverflow,b=c&&c.allowDataOverflow,N=y||b,j=et(m)?this.id:m;return k.createElement(Tt,{className:w},y||b?k.createElement("defs",null,k.createElement("clipPath",{id:"clipPath-".concat(j)},k.createElement("rect",{x:y?u:u-f/2,y:b?d:d-h/2,width:y?f:f*2,height:b?h:h*2}))):null,k.createElement(Tt,{className:"recharts-bar-rectangles",clipPath:N?"url(#clipPath-".concat(j,")"):null},x?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(N,j),(!p||g)&&rs.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(v.PureComponent);xq=Xn;Mo(Xn,"displayName","Bar");Mo(Xn,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!gl.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Mo(Xn,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,i=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,p=zAe(n,r);if(!p)return null;var x=t.layout,m=r.type.defaultProps,g=m!==void 0?wr(wr({},m),r.props):r.props,w=g.dataKey,y=g.children,b=g.minPointSize,N=x==="horizontal"?o:i,j=u?N.scale.domain():null,S=XAe({numericAxis:N}),P=Jn(y,SE),C=f.map(function(A,E){var T,_,O,M,L,R;u?T=BAe(u[d+E],j):(T=Lr(A,w),Array.isArray(T)||(T=[S,T]));var V=eke(b,xq.defaultProps.minPointSize)(T[1],E);if(x==="horizontal"){var D,I=[o.scale(T[0]),o.scale(T[1])],B=I[0],Y=I[1];_=bM({axis:i,ticks:l,bandSize:a,offset:p.offset,entry:A,index:E}),O=(D=Y??B)!==null&&D!==void 0?D:void 0,M=p.size;var X=B-Y;if(L=Number.isNaN(X)?0:X,R={x:_,y:o.y,width:M,height:o.height},Math.abs(V)>0&&Math.abs(L)<Math.abs(V)){var oe=vi(L||V)*(Math.abs(V)-Math.abs(L));O-=oe,L+=oe}}else{var je=[i.scale(T[0]),i.scale(T[1])],Fe=je[0],Ae=je[1];if(_=Fe,O=bM({axis:o,ticks:c,bandSize:a,offset:p.offset,entry:A,index:E}),M=Ae-Fe,L=p.size,R={x:i.x,y:O,width:i.width,height:L},Math.abs(V)>0&&Math.abs(M)<Math.abs(V)){var me=vi(M||V)*(Math.abs(V)-Math.abs(M));M+=me}}return wr(wr(wr({},A),{},{x:_,y:O,width:M,height:L,value:u?T:T[1],payload:A,background:R},P&&P[E]&&P[E].props),{},{tooltipPayload:[JK(r,A)],tooltipPosition:{x:_+M/2,y:O+L/2}})});return wr({data:C,layout:x},h)});function cp(e){"@babel/helpers - typeof";return cp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cp(e)}function dke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,jq(n.key),n)}}function fke(e,t,r){return t&&jI(e.prototype,t),r&&jI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function SI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ui(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SI(Object(r),!0).forEach(function(n){_b(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _b(e,t,r){return t=jq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jq(e){var t=hke(e,"string");return cp(t)=="symbol"?t:t+""}function hke(e,t){if(cp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ob=function(t,r,n,a,i){var o=t.width,l=t.height,c=t.layout,u=t.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},h=!!ca(u,Xn);return d.reduce(function(p,x){var m=r[x],g=m.orientation,w=m.domain,y=m.padding,b=y===void 0?{}:y,N=m.mirror,j=m.reversed,S="".concat(g).concat(N?"Mirror":""),P,C,A,E,T;if(m.type==="number"&&(m.padding==="gap"||m.padding==="no-gap")){var _=w[1]-w[0],O=1/0,M=m.categoricalDomain.sort(jme);if(M.forEach(function(je,Fe){Fe>0&&(O=Math.min((je||0)-(M[Fe-1]||0),O))}),Number.isFinite(O)){var L=O/_,R=m.layout==="vertical"?n.height:n.width;if(m.padding==="gap"&&(P=L*R/2),m.padding==="no-gap"){var V=yc(t.barCategoryGap,L*R),D=L*R/2;P=D-V-(D-V)/R*V}}}a==="xAxis"?C=[n.left+(b.left||0)+(P||0),n.left+n.width-(b.right||0)-(P||0)]:a==="yAxis"?C=c==="horizontal"?[n.top+n.height-(b.bottom||0),n.top+(b.top||0)]:[n.top+(b.top||0)+(P||0),n.top+n.height-(b.bottom||0)-(P||0)]:C=m.range,j&&(C=[C[1],C[0]]);var I=FAe(m,i,h),B=I.scale,Y=I.realScaleType;B.domain(w).range(C),VAe(B);var X=GAe(B,ui(ui({},m),{},{realScaleType:Y}));a==="xAxis"?(T=g==="top"&&!N||g==="bottom"&&N,A=n.left,E=f[S]-T*m.height):a==="yAxis"&&(T=g==="left"&&!N||g==="right"&&N,A=f[S]-T*m.width,E=n.top);var oe=ui(ui(ui({},m),X),{},{realScaleType:Y,x:A,y:E,scale:B,width:a==="xAxis"?n.width:m.width,height:a==="yAxis"?n.height:m.height});return oe.bandSize=Jy(oe,X),!m.hide&&a==="xAxis"?f[S]+=(T?-1:1)*oe.height:m.hide||(f[S]+=(T?-1:1)*oe.width),ui(ui({},p),{},_b({},x,oe))},{})},Sq=function(t,r){var n=t.x,a=t.y,i=r.x,o=r.y;return{x:Math.min(n,i),y:Math.min(a,o),width:Math.abs(i-n),height:Math.abs(o-a)}},mke=function(t){var r=t.x1,n=t.y1,a=t.x2,i=t.y2;return Sq({x:r,y:n},{x:a,y:i})},Nq=function(){function e(t){dke(this,e),this.scale=t}return fke(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],i=n[n.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();_b(Nq,"EPS",1e-4);var YE=function(t){var r=Object.keys(t).reduce(function(n,a){return ui(ui({},n),{},_b({},a,Nq.create(t[a])))},{});return ui(ui({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return M2e(a,function(c,u){return r[u].apply(c,{bandAware:o,position:l})})},isInRange:function(a){return yq(a,function(i,o){return r[o].isInRange(i)})}})};function pke(e){return(e%180+180)%180}var gke=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=pke(a),o=i*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},vke=pl,yke=Jp,xke=pb;function bke(e){return function(t,r,n){var a=Object(t);if(!yke(t)){var i=vke(r);t=xke(t),r=function(l){return i(a[l],l,a)}}var o=e(t,r,n);return o>-1?a[i?t[o]:o]:void 0}}var wke=bke,jke=mq;function Ske(e){var t=jke(e),r=t%1;return t===t?r?t-r:t:0}var Nke=Ske,Pke=D9,Cke=pl,Ake=Nke,Eke=Math.max;function Tke(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:Ake(r);return a<0&&(a=Eke(n+a,0)),Pke(e,Cke(t),a)}var _ke=Tke,Oke=wke,kke=_ke,Dke=Oke(kke),Mke=Dke;const Ike=$t(Mke);var Rke=Phe(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),QE=v.createContext(void 0),ZE=v.createContext(void 0),Pq=v.createContext(void 0),Cq=v.createContext({}),Aq=v.createContext(void 0),Eq=v.createContext(0),Tq=v.createContext(0),NI=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,i=r.offset,o=t.clipPathId,l=t.children,c=t.width,u=t.height,d=Rke(i);return k.createElement(QE.Provider,{value:n},k.createElement(ZE.Provider,{value:a},k.createElement(Cq.Provider,{value:i},k.createElement(Pq.Provider,{value:d},k.createElement(Aq.Provider,{value:o},k.createElement(Eq.Provider,{value:u},k.createElement(Tq.Provider,{value:c},l)))))))},$ke=function(){return v.useContext(Aq)},_q=function(t){var r=v.useContext(QE);r==null&&wc();var n=r[t];return n==null&&wc(),n},Lke=function(){var t=v.useContext(QE);return xo(t)},Fke=function(){var t=v.useContext(ZE),r=Ike(t,function(n){return yq(n.domain,Number.isFinite)});return r||xo(t)},Oq=function(t){var r=v.useContext(ZE);r==null&&wc();var n=r[t];return n==null&&wc(),n},Vke=function(){var t=v.useContext(Pq);return t},zke=function(){return v.useContext(Cq)},JE=function(){return v.useContext(Tq)},eT=function(){return v.useContext(Eq)};function Id(e){"@babel/helpers - typeof";return Id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Id(e)}function Bke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Uke(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Dq(n.key),n)}}function Kke(e,t,r){return t&&Uke(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function qke(e,t,r){return t=hx(t),Wke(e,kq()?Reflect.construct(t,r||[],hx(e).constructor):t.apply(e,r))}function Wke(e,t){if(t&&(Id(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hke(e)}function Hke(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kq=function(){return!!e})()}function hx(e){return hx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},hx(e)}function Gke(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&UN(e,t)}function UN(e,t){return UN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},UN(e,t)}function PI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function CI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PI(Object(r),!0).forEach(function(n){tT(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tT(e,t,r){return t=Dq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dq(e){var t=Xke(e,"string");return Id(t)=="symbol"?t:t+""}function Xke(e,t){if(Id(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Id(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Yke(e,t){return eDe(e)||Jke(e,t)||Zke(e,t)||Qke()}function Qke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zke(e,t){if(e){if(typeof e=="string")return AI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return AI(e,t)}}function AI(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Jke(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function eDe(e){if(Array.isArray(e))return e}function KN(){return KN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},KN.apply(this,arguments)}var tDe=function(t,r){var n;return k.isValidElement(t)?n=k.cloneElement(t,r):rt(t)?n=t(r):n=k.createElement("line",KN({},r,{className:"recharts-reference-line-line"})),n},rDe=function(t,r,n,a,i,o,l,c,u){var d=i.x,f=i.y,h=i.width,p=i.height;if(n){var x=u.y,m=t.y.apply(x,{position:o});if(ns(u,"discard")&&!t.y.isInRange(m))return null;var g=[{x:d+h,y:m},{x:d,y:m}];return c==="left"?g.reverse():g}if(r){var w=u.x,y=t.x.apply(w,{position:o});if(ns(u,"discard")&&!t.x.isInRange(y))return null;var b=[{x:y,y:f+p},{x:y,y:f}];return l==="top"?b.reverse():b}if(a){var N=u.segment,j=N.map(function(S){return t.apply(S,{position:o})});return ns(u,"discard")&&C2e(j,function(S){return!t.isInRange(S)})?null:j}return null};function nDe(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,i=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=$ke(),d=_q(a),f=Oq(i),h=Vke();if(!u||!h)return null;Ms(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=YE({x:d.scale,y:f.scale}),x=Rr(t),m=Rr(r),g=n&&n.length===2,w=rDe(p,x,m,g,h,e.position,d.orientation,f.orientation,e);if(!w)return null;var y=Yke(w,2),b=y[0],N=b.x,j=b.y,S=y[1],P=S.x,C=S.y,A=ns(e,"hidden")?"url(#".concat(u,")"):void 0,E=CI(CI({clipPath:A},Je(e,!0)),{},{x1:N,y1:j,x2:P,y2:C});return k.createElement(Tt,{className:yt("recharts-reference-line",l)},tDe(o,E),gn.renderCallByParent(e,mke({x1:N,y1:j,x2:P,y2:C})))}var Ru=function(e){function t(){return Bke(this,t),qke(this,t,arguments)}return Gke(t,e),Kke(t,[{key:"render",value:function(){return k.createElement(nDe,this.props)}}])}(k.Component);tT(Ru,"displayName","ReferenceLine");tT(Ru,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function qN(){return qN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qN.apply(this,arguments)}function Rd(e){"@babel/helpers - typeof";return Rd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rd(e)}function EI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function TI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EI(Object(r),!0).forEach(function(n){kb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aDe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iDe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Iq(n.key),n)}}function sDe(e,t,r){return t&&iDe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function oDe(e,t,r){return t=mx(t),lDe(e,Mq()?Reflect.construct(t,r||[],mx(e).constructor):t.apply(e,r))}function lDe(e,t){if(t&&(Rd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cDe(e)}function cDe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Mq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Mq=function(){return!!e})()}function mx(e){return mx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},mx(e)}function uDe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&WN(e,t)}function WN(e,t){return WN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},WN(e,t)}function kb(e,t,r){return t=Iq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Iq(e){var t=dDe(e,"string");return Rd(t)=="symbol"?t:t+""}function dDe(e,t){if(Rd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Rd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var fDe=function(t){var r=t.x,n=t.y,a=t.xAxis,i=t.yAxis,o=YE({x:a.scale,y:i.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return ns(t,"discard")&&!o.isInRange(l)?null:l},Db=function(e){function t(){return aDe(this,t),oDe(this,t,arguments)}return uDe(t,e),sDe(t,[{key:"render",value:function(){var n=this.props,a=n.x,i=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,u=Rr(a),d=Rr(i);if(Ms(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=fDe(this.props);if(!f)return null;var h=f.x,p=f.y,x=this.props,m=x.shape,g=x.className,w=ns(this.props,"hidden")?"url(#".concat(c,")"):void 0,y=TI(TI({clipPath:w},Je(this.props,!0)),{},{cx:h,cy:p});return k.createElement(Tt,{className:yt("recharts-reference-dot",g)},t.renderDot(m,y),gn.renderCallByParent(this.props,{x:h-o,y:p-o,width:2*o,height:2*o}))}}])}(k.Component);kb(Db,"displayName","ReferenceDot");kb(Db,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});kb(Db,"renderDot",function(e,t){var r;return k.isValidElement(e)?r=k.cloneElement(e,t):rt(e)?r=e(t):r=k.createElement(Ab,qN({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function HN(){return HN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},HN.apply(this,arguments)}function $d(e){"@babel/helpers - typeof";return $d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$d(e)}function _I(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function OI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_I(Object(r),!0).forEach(function(n){Mb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_I(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hDe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mDe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$q(n.key),n)}}function pDe(e,t,r){return t&&mDe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function gDe(e,t,r){return t=px(t),vDe(e,Rq()?Reflect.construct(t,r||[],px(e).constructor):t.apply(e,r))}function vDe(e,t){if(t&&($d(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yDe(e)}function yDe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Rq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Rq=function(){return!!e})()}function px(e){return px=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},px(e)}function xDe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&GN(e,t)}function GN(e,t){return GN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},GN(e,t)}function Mb(e,t,r){return t=$q(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $q(e){var t=bDe(e,"string");return $d(t)=="symbol"?t:t+""}function bDe(e,t){if($d(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($d(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var wDe=function(t,r,n,a,i){var o=i.x1,l=i.x2,c=i.y1,u=i.y2,d=i.xAxis,f=i.yAxis;if(!d||!f)return null;var h=YE({x:d.scale,y:f.scale}),p={x:t?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},x={x:r?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(u,{position:"end"}):h.y.rangeMax};return ns(i,"discard")&&(!h.isInRange(p)||!h.isInRange(x))?null:Sq(p,x)},Ib=function(e){function t(){return hDe(this,t),gDe(this,t,arguments)}return xDe(t,e),pDe(t,[{key:"render",value:function(){var n=this.props,a=n.x1,i=n.x2,o=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;Ms(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Rr(a),h=Rr(i),p=Rr(o),x=Rr(l),m=this.props.shape;if(!f&&!h&&!p&&!x&&!m)return null;var g=wDe(f,h,p,x,this.props);if(!g&&!m)return null;var w=ns(this.props,"hidden")?"url(#".concat(d,")"):void 0;return k.createElement(Tt,{className:yt("recharts-reference-area",c)},t.renderRect(m,OI(OI({clipPath:w},Je(this.props,!0)),g)),gn.renderCallByParent(this.props,g))}}])}(k.Component);Mb(Ib,"displayName","ReferenceArea");Mb(Ib,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Mb(Ib,"renderRect",function(e,t){var r;return k.isValidElement(e)?r=k.cloneElement(e,t):rt(e)?r=e(t):r=k.createElement(XE,HN({},t,{className:"recharts-reference-area-rect"})),r});function Lq(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function jDe(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return gke(n,r)}function SDe(e,t,r){var n=r==="width",a=e.x,i=e.y,o=e.width,l=e.height;return t===1?{start:n?a:i,end:n?a+o:i+l}:{start:n?a+o:i+l,end:n?a:i}}function gx(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function NDe(e,t){return Lq(e,t+1)}function PDe(e,t,r,n,a){for(var i=(n||[]).slice(),o=t.start,l=t.end,c=0,u=1,d=o,f=function(){var x=n==null?void 0:n[c];if(x===void 0)return{v:Lq(n,u)};var m=c,g,w=function(){return g===void 0&&(g=r(x,m)),g},y=x.coordinate,b=c===0||gx(e,y,w,d,l);b||(c=0,d=o,u+=1),b&&(d=y+e*(w()/2+a),c+=u)},h;u<=i.length;)if(h=f(),h)return h.v;return[]}function up(e){"@babel/helpers - typeof";return up=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},up(e)}function kI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kI(Object(r),!0).forEach(function(n){CDe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CDe(e,t,r){return t=ADe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ADe(e){var t=EDe(e,"string");return up(t)=="symbol"?t:t+""}function EDe(e,t){if(up(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(up(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function TDe(e,t,r,n,a){for(var i=(n||[]).slice(),o=i.length,l=t.start,c=t.end,u=function(h){var p=i[h],x,m=function(){return x===void 0&&(x=r(p,h)),x};if(h===o-1){var g=e*(p.coordinate+e*m()/2-c);i[h]=p=hn(hn({},p),{},{tickCoord:g>0?p.coordinate-g*e:p.coordinate})}else i[h]=p=hn(hn({},p),{},{tickCoord:p.coordinate});var w=gx(e,p.tickCoord,m,l,c);w&&(c=p.tickCoord-e*(m()/2+a),i[h]=hn(hn({},p),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return i}function _De(e,t,r,n,a,i){var o=(n||[]).slice(),l=o.length,c=t.start,u=t.end;if(i){var d=n[l-1],f=r(d,l-1),h=e*(d.coordinate+e*f/2-u);o[l-1]=d=hn(hn({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var p=gx(e,d.tickCoord,function(){return f},c,u);p&&(u=d.tickCoord-e*(f/2+a),o[l-1]=hn(hn({},d),{},{isShow:!0}))}for(var x=i?l-1:l,m=function(y){var b=o[y],N,j=function(){return N===void 0&&(N=r(b,y)),N};if(y===0){var S=e*(b.coordinate-e*j()/2-c);o[y]=b=hn(hn({},b),{},{tickCoord:S<0?b.coordinate-S*e:b.coordinate})}else o[y]=b=hn(hn({},b),{},{tickCoord:b.coordinate});var P=gx(e,b.tickCoord,j,c,u);P&&(c=b.tickCoord+e*(j()/2+a),o[y]=hn(hn({},b),{},{isShow:!0}))},g=0;g<x;g++)m(g);return o}function rT(e,t,r){var n=e.tick,a=e.ticks,i=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!a||!a.length||!n)return[];if(de(c)||gl.isSsr)return NDe(a,typeof c=="number"&&de(c)?c:0);var h=[],p=l==="top"||l==="bottom"?"width":"height",x=d&&p==="width"?Uh(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},m=function(b,N){var j=rt(u)?u(b.value,N):b.value;return p==="width"?jDe(Uh(j,{fontSize:t,letterSpacing:r}),x,f):Uh(j,{fontSize:t,letterSpacing:r})[p]},g=a.length>=2?vi(a[1].coordinate-a[0].coordinate):1,w=SDe(i,g,p);return c==="equidistantPreserveStart"?PDe(g,w,m,a,o):(c==="preserveStart"||c==="preserveStartEnd"?h=_De(g,w,m,a,o,c==="preserveStartEnd"):h=TDe(g,w,m,a,o),h.filter(function(y){return y.isShow}))}var ODe=["viewBox"],kDe=["viewBox"],DDe=["ticks"];function Ld(e){"@babel/helpers - typeof";return Ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ld(e)}function xu(){return xu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xu.apply(this,arguments)}function DI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Nn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DI(Object(r),!0).forEach(function(n){nT(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Dj(e,t){if(e==null)return{};var r=MDe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function MDe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function IDe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function MI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Vq(n.key),n)}}function RDe(e,t,r){return t&&MI(e.prototype,t),r&&MI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function $De(e,t,r){return t=vx(t),LDe(e,Fq()?Reflect.construct(t,r||[],vx(e).constructor):t.apply(e,r))}function LDe(e,t){if(t&&(Ld(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FDe(e)}function FDe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Fq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Fq=function(){return!!e})()}function vx(e){return vx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},vx(e)}function VDe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&XN(e,t)}function XN(e,t){return XN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},XN(e,t)}function nT(e,t,r){return t=Vq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vq(e){var t=zDe(e,"string");return Ld(t)=="symbol"?t:t+""}function zDe(e,t){if(Ld(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ld(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Tf=function(e){function t(r){var n;return IDe(this,t),n=$De(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return VDe(t,e),RDe(t,[{key:"shouldComponentUpdate",value:function(n,a){var i=n.viewBox,o=Dj(n,ODe),l=this.props,c=l.viewBox,u=Dj(l,kDe);return!Du(i,c)||!Du(o,u)||!Du(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.x,o=a.y,l=a.width,c=a.height,u=a.orientation,d=a.tickSize,f=a.mirror,h=a.tickMargin,p,x,m,g,w,y,b=f?-1:1,N=n.tickSize||d,j=de(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":p=x=n.coordinate,g=o+ +!f*c,m=g-b*N,y=m-b*h,w=j;break;case"left":m=g=n.coordinate,x=i+ +!f*l,p=x-b*N,w=p-b*h,y=j;break;case"right":m=g=n.coordinate,x=i+ +f*l,p=x+b*N,w=p+b*h,y=j;break;default:p=x=n.coordinate,g=o+ +f*c,m=g+b*N,y=m+b*h,w=j;break}return{line:{x1:p,y1:m,x2:x,y2:g},tick:{x:w,y}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o;switch(a){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,i=n.y,o=n.width,l=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,f=Nn(Nn(Nn({},Je(this.props,!1)),Je(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);f=Nn(Nn({},f),{},{x1:a,y1:i+h*l,x2:a+o,y2:i+h*l})}else{var p=+(c==="left"&&!u||c==="right"&&u);f=Nn(Nn({},f),{},{x1:a+p*o,y1:i,x2:a+p*o,y2:i+l})}return k.createElement("line",xu({},f,{className:yt("recharts-cartesian-axis-line",Wa(d,"className"))}))}},{key:"renderTicks",value:function(n,a,i){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,h=l.unit,p=rT(Nn(Nn({},this.props),{},{ticks:n}),a,i),x=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),g=Je(this.props,!1),w=Je(d,!1),y=Nn(Nn({},g),{},{fill:"none"},Je(c,!1)),b=p.map(function(N,j){var S=o.getTickLineCoord(N),P=S.line,C=S.tick,A=Nn(Nn(Nn(Nn({textAnchor:x,verticalAnchor:m},g),{},{stroke:"none",fill:u},w),C),{},{index:j,payload:N,visibleTicksCount:p.length,tickFormatter:f});return k.createElement(Tt,xu({className:"recharts-cartesian-axis-tick",key:"tick-".concat(N.value,"-").concat(N.coordinate,"-").concat(N.tickCoord)},Om(o.props,N,j)),c&&k.createElement("line",xu({},y,P,{className:yt("recharts-cartesian-axis-tick-line",Wa(c,"className"))})),d&&t.renderTickItem(d,A,"".concat(rt(f)?f(N.value,j):N.value).concat(h||"")))});return k.createElement("g",{className:"recharts-cartesian-axis-ticks"},b)}},{key:"render",value:function(){var n=this,a=this.props,i=a.axisLine,o=a.width,l=a.height,c=a.ticksGenerator,u=a.className,d=a.hide;if(d)return null;var f=this.props,h=f.ticks,p=Dj(f,DDe),x=h;return rt(c)&&(x=h&&h.length>0?c(this.props):c(p)),o<=0||l<=0||!x||!x.length?null:k.createElement(Tt,{className:yt("recharts-cartesian-axis",u),ref:function(g){n.layerReference=g}},i&&this.renderAxisLine(),this.renderTicks(x,this.state.fontSize,this.state.letterSpacing),gn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,i){var o;return k.isValidElement(n)?o=k.cloneElement(n,a):rt(n)?o=n(a):o=k.createElement(Fy,xu({},a,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])}(v.Component);nT(Tf,"displayName","CartesianAxis");nT(Tf,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var BDe=["x1","y1","x2","y2","key"],UDe=["offset"];function jc(e){"@babel/helpers - typeof";return jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jc(e)}function II(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?II(Object(r),!0).forEach(function(n){KDe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):II(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KDe(e,t,r){return t=qDe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qDe(e){var t=WDe(e,"string");return jc(t)=="symbol"?t:t+""}function WDe(e,t){if(jc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(jc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zl(){return zl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zl.apply(this,arguments)}function RI(e,t){if(e==null)return{};var r=HDe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function HDe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var GDe=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,i=t.y,o=t.width,l=t.height,c=t.ry;return k.createElement("rect",{x:a,y:i,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function zq(e,t){var r;if(k.isValidElement(e))r=k.cloneElement(e,t);else if(rt(e))r=e(t);else{var n=t.x1,a=t.y1,i=t.x2,o=t.y2,l=t.key,c=RI(t,BDe),u=Je(c,!1);u.offset;var d=RI(u,UDe);r=k.createElement("line",zl({},d,{x1:n,y1:a,x2:i,y2:o,fill:"none",key:l}))}return r}function XDe(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var u=vn(vn({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return zq(a,u)});return k.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function YDe(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,i=e.verticalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var u=vn(vn({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return zq(a,u)});return k.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function QDe(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,i=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=l.map(function(h){return Math.round(h+a-a)}).sort(function(h,p){return h-p});a!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var x=!d[p+1],m=x?a+o-h:d[p+1]-h;if(m<=0)return null;var g=p%t.length;return k.createElement("rect",{key:"react-".concat(p),y:h,x:n,height:m,width:i,stroke:"none",fill:t[g],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return k.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function ZDe(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,i=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==d[0]&&d.unshift(0);var f=d.map(function(h,p){var x=!d[p+1],m=x?i+l-h:d[p+1]-h;if(m<=0)return null;var g=p%n.length;return k.createElement("rect",{key:"react-".concat(p),x:h,y:o,width:m,height:c,stroke:"none",fill:n[g],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return k.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var JDe=function(t,r){var n=t.xAxis,a=t.width,i=t.height,o=t.offset;return QK(rT(vn(vn(vn({},Tf.defaultProps),n),{},{ticks:Ts(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.left,o.left+o.width,r)},eMe=function(t,r){var n=t.yAxis,a=t.width,i=t.height,o=t.offset;return QK(rT(vn(vn(vn({},Tf.defaultProps),n),{},{ticks:Ts(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.top,o.top+o.height,r)},Gc={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function as(e){var t,r,n,a,i,o,l=JE(),c=eT(),u=zke(),d=vn(vn({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Gc.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Gc.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:Gc.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:Gc.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:Gc.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:Gc.verticalFill,x:de(e.x)?e.x:u.left,y:de(e.y)?e.y:u.top,width:de(e.width)?e.width:u.width,height:de(e.height)?e.height:u.height}),f=d.x,h=d.y,p=d.width,x=d.height,m=d.syncWithTicks,g=d.horizontalValues,w=d.verticalValues,y=Lke(),b=Fke();if(!de(p)||p<=0||!de(x)||x<=0||!de(f)||f!==+f||!de(h)||h!==+h)return null;var N=d.verticalCoordinatesGenerator||JDe,j=d.horizontalCoordinatesGenerator||eMe,S=d.horizontalPoints,P=d.verticalPoints;if((!S||!S.length)&&rt(j)){var C=g&&g.length,A=j({yAxis:b?vn(vn({},b),{},{ticks:C?g:b.ticks}):void 0,width:l,height:c,offset:u},C?!0:m);Ms(Array.isArray(A),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(jc(A),"]")),Array.isArray(A)&&(S=A)}if((!P||!P.length)&&rt(N)){var E=w&&w.length,T=N({xAxis:y?vn(vn({},y),{},{ticks:E?w:y.ticks}):void 0,width:l,height:c,offset:u},E?!0:m);Ms(Array.isArray(T),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(jc(T),"]")),Array.isArray(T)&&(P=T)}return k.createElement("g",{className:"recharts-cartesian-grid"},k.createElement(GDe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),k.createElement(XDe,zl({},d,{offset:u,horizontalPoints:S,xAxis:y,yAxis:b})),k.createElement(YDe,zl({},d,{offset:u,verticalPoints:P,xAxis:y,yAxis:b})),k.createElement(QDe,zl({},d,{horizontalPoints:S})),k.createElement(ZDe,zl({},d,{verticalPoints:P})))}as.displayName="CartesianGrid";var tMe=["type","layout","connectNulls","ref"],rMe=["key"];function Fd(e){"@babel/helpers - typeof";return Fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fd(e)}function $I(e,t){if(e==null)return{};var r=nMe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function nMe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Hh(){return Hh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hh.apply(this,arguments)}function LI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function aa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LI(Object(r),!0).forEach(function(n){di(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xc(e){return oMe(e)||sMe(e)||iMe(e)||aMe()}function aMe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iMe(e,t){if(e){if(typeof e=="string")return YN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return YN(e,t)}}function sMe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function oMe(e){if(Array.isArray(e))return YN(e)}function YN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function lMe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function FI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Uq(n.key),n)}}function cMe(e,t,r){return t&&FI(e.prototype,t),r&&FI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function uMe(e,t,r){return t=yx(t),dMe(e,Bq()?Reflect.construct(t,r||[],yx(e).constructor):t.apply(e,r))}function dMe(e,t){if(t&&(Fd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fMe(e)}function fMe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Bq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Bq=function(){return!!e})()}function yx(e){return yx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},yx(e)}function hMe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&QN(e,t)}function QN(e,t){return QN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},QN(e,t)}function di(e,t,r){return t=Uq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Uq(e){var t=mMe(e,"string");return Fd(t)=="symbol"?t:t+""}function mMe(e,t){if(Fd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Na=function(e){function t(){var r;lMe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=uMe(this,t,[].concat(a)),di(r,"state",{isAnimationFinished:!0,totalLength:0}),di(r,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),di(r,"getStrokeDasharray",function(o,l,c){var u=c.reduce(function(w,y){return w+y});if(!u)return r.generateSimpleStrokeDasharray(l,o);for(var d=Math.floor(o/u),f=o%u,h=l-o,p=[],x=0,m=0;x<c.length;m+=c[x],++x)if(m+c[x]>f){p=[].concat(Xc(c.slice(0,x)),[f-m]);break}var g=p.length%2===0?[0,h]:[h];return[].concat(Xc(t.repeat(c,d)),Xc(p),g).map(function(w){return"".concat(w,"px")}).join(", ")}),di(r,"id",Rc("recharts-line-")),di(r,"pathRef",function(o){r.mainCurve=o}),di(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),di(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return hMe(t,e),cMe(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,f=Jn(d,Ef);if(!f)return null;var h=function(m,g){return{x:m.x,y:m.y,value:m.value,errorVal:Lr(m.payload,g)}},p={clipPath:n?"url(#clipPath-".concat(a,")"):null};return k.createElement(Tt,p,f.map(function(x){return k.cloneElement(x,{key:"bar-".concat(x.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,a,i){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,f=Je(this.props,!1),h=Je(c,!0),p=u.map(function(m,g){var w=aa(aa(aa({key:"dot-".concat(g),r:3},f),h),{},{index:g,cx:m.x,cy:m.y,value:m.value,dataKey:d,payload:m.payload,points:u});return t.renderDotItem(c,w)}),x={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return k.createElement(Tt,Hh({className:"recharts-line-dots",key:"dots"},x),p)}},{key:"renderCurveStatically",value:function(n,a,i,o){var l=this.props,c=l.type,u=l.layout,d=l.connectNulls;l.ref;var f=$I(l,tMe),h=aa(aa(aa({},Je(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(i,")"):null,points:n},o),{},{type:c,layout:u,connectNulls:d});return k.createElement(nc,Hh({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var i=this,o=this.props,l=o.points,c=o.strokeDasharray,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,h=o.animationEasing,p=o.animationId,x=o.animateNewValues,m=o.width,g=o.height,w=this.state,y=w.prevPoints,b=w.totalLength;return k.createElement(Pi,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(N){var j=N.t;if(y){var S=y.length/l.length,P=l.map(function(_,O){var M=Math.floor(O*S);if(y[M]){var L=y[M],R=xr(L.x,_.x),V=xr(L.y,_.y);return aa(aa({},_),{},{x:R(j),y:V(j)})}if(x){var D=xr(m*2,_.x),I=xr(g/2,_.y);return aa(aa({},_),{},{x:D(j),y:I(j)})}return aa(aa({},_),{},{x:_.x,y:_.y})});return i.renderCurveStatically(P,n,a)}var C=xr(0,b),A=C(j),E;if(c){var T="".concat(c).split(/[,\s]+/gim).map(function(_){return parseFloat(_)});E=i.getStrokeDasharray(A,b,T)}else E=i.generateSimpleStrokeDasharray(b,A);return i.renderCurveStatically(l,n,a,{strokeDasharray:E})})}},{key:"renderCurve",value:function(n,a){var i=this.props,o=i.points,l=i.isAnimationActive,c=this.state,u=c.prevPoints,d=c.totalLength;return l&&o&&o.length&&(!u&&d>0||!xc(u,o))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(o,n,a)}},{key:"render",value:function(){var n,a=this.props,i=a.hide,o=a.dot,l=a.points,c=a.className,u=a.xAxis,d=a.yAxis,f=a.top,h=a.left,p=a.width,x=a.height,m=a.isAnimationActive,g=a.id;if(i||!l||!l.length)return null;var w=this.state.isAnimationFinished,y=l.length===1,b=yt("recharts-line",c),N=u&&u.allowDataOverflow,j=d&&d.allowDataOverflow,S=N||j,P=et(g)?this.id:g,C=(n=Je(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},A=C.r,E=A===void 0?3:A,T=C.strokeWidth,_=T===void 0?2:T,O=KU(o)?o:{},M=O.clipDot,L=M===void 0?!0:M,R=E*2+_;return k.createElement(Tt,{className:b},N||j?k.createElement("defs",null,k.createElement("clipPath",{id:"clipPath-".concat(P)},k.createElement("rect",{x:N?h:h-p/2,y:j?f:f-x/2,width:N?p:p*2,height:j?x:x*2})),!L&&k.createElement("clipPath",{id:"clipPath-dots-".concat(P)},k.createElement("rect",{x:h-R/2,y:f-R/2,width:p+R,height:x+R}))):null,!y&&this.renderCurve(S,P),this.renderErrorBar(S,P),(y||o)&&this.renderDots(S,L,P),(!m||w)&&rs.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var i=n.length%2!==0?[].concat(Xc(n),[0]):n,o=[],l=0;l<a;++l)o=[].concat(Xc(o),Xc(i));return o}},{key:"renderDotItem",value:function(n,a){var i;if(k.isValidElement(n))i=k.cloneElement(n,a);else if(rt(n))i=n(a);else{var o=a.key,l=$I(a,rMe),c=yt("recharts-line-dot",typeof n!="boolean"?n.className:"");i=k.createElement(Ab,Hh({key:o},l,{className:c}))}return i}}])}(v.PureComponent);di(Na,"displayName","Line");di(Na,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!gl.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});di(Na,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,a=e.xAxisTicks,i=e.yAxisTicks,o=e.dataKey,l=e.bandSize,c=e.displayedData,u=e.offset,d=t.layout,f=c.map(function(h,p){var x=Lr(h,o);return d==="horizontal"?{x:_d({axis:r,ticks:a,bandSize:l,entry:h,index:p}),y:et(x)?null:n.scale(x),value:x,payload:h}:{x:et(x)?null:r.scale(x),y:_d({axis:n,ticks:i,bandSize:l,entry:h,index:p}),value:x,payload:h}});return aa({points:f,layout:d},u)});var pMe=["layout","type","stroke","connectNulls","isRange","ref"],gMe=["key"],Kq;function Vd(e){"@babel/helpers - typeof";return Vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vd(e)}function qq(e,t){if(e==null)return{};var r=vMe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function vMe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Bl(){return Bl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bl.apply(this,arguments)}function VI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VI(Object(r),!0).forEach(function(n){Hi(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yMe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Hq(n.key),n)}}function xMe(e,t,r){return t&&zI(e.prototype,t),r&&zI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function bMe(e,t,r){return t=xx(t),wMe(e,Wq()?Reflect.construct(t,r||[],xx(e).constructor):t.apply(e,r))}function wMe(e,t){if(t&&(Vd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jMe(e)}function jMe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Wq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Wq=function(){return!!e})()}function xx(e){return xx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},xx(e)}function SMe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ZN(e,t)}function ZN(e,t){return ZN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ZN(e,t)}function Hi(e,t,r){return t=Hq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hq(e){var t=NMe(e,"string");return Vd(t)=="symbol"?t:t+""}function NMe(e,t){if(Vd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var cs=function(e){function t(){var r;yMe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=bMe(this,t,[].concat(a)),Hi(r,"state",{isAnimationFinished:!0}),Hi(r,"id",Rc("recharts-area-")),Hi(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),rt(o)&&o()}),Hi(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),rt(o)&&o()}),r}return SMe(t,e),xMe(t,[{key:"renderDots",value:function(n,a,i){var o=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(o&&!l)return null;var c=this.props,u=c.dot,d=c.points,f=c.dataKey,h=Je(this.props,!1),p=Je(u,!0),x=d.map(function(g,w){var y=fo(fo(fo({key:"dot-".concat(w),r:3},h),p),{},{index:w,cx:g.x,cy:g.y,dataKey:f,value:g.value,payload:g.payload,points:d});return t.renderDotItem(u,y)}),m={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return k.createElement(Tt,Bl({className:"recharts-area-dots"},m),x)}},{key:"renderHorizontalRect",value:function(n){var a=this.props,i=a.baseLine,o=a.points,l=a.strokeWidth,c=o[0].x,u=o[o.length-1].x,d=n*Math.abs(c-u),f=Do(o.map(function(h){return h.y||0}));return de(i)&&typeof i=="number"?f=Math.max(i,f):i&&Array.isArray(i)&&i.length&&(f=Math.max(Do(i.map(function(h){return h.y||0})),f)),de(f)?k.createElement("rect",{x:c<u?c:c-d,y:0,width:d,height:Math.floor(f+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var a=this.props,i=a.baseLine,o=a.points,l=a.strokeWidth,c=o[0].y,u=o[o.length-1].y,d=n*Math.abs(c-u),f=Do(o.map(function(h){return h.x||0}));return de(i)&&typeof i=="number"?f=Math.max(i,f):i&&Array.isArray(i)&&i.length&&(f=Math.max(Do(i.map(function(h){return h.x||0})),f)),de(f)?k.createElement("rect",{x:0,y:c<u?c:c-d,width:f+(l?parseInt("".concat(l),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(n){var a=this.props.layout;return a==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,a,i,o){var l=this.props,c=l.layout,u=l.type,d=l.stroke,f=l.connectNulls,h=l.isRange;l.ref;var p=qq(l,pMe);return k.createElement(Tt,{clipPath:i?"url(#clipPath-".concat(o,")"):null},k.createElement(nc,Bl({},Je(p,!0),{points:n,connectNulls:f,type:u,baseLine:a,layout:c,stroke:"none",className:"recharts-area-area"})),d!=="none"&&k.createElement(nc,Bl({},Je(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:n})),d!=="none"&&h&&k.createElement(nc,Bl({},Je(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:a})))}},{key:"renderAreaWithAnimation",value:function(n,a){var i=this,o=this.props,l=o.points,c=o.baseLine,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,h=o.animationEasing,p=o.animationId,x=this.state,m=x.prevPoints,g=x.prevBaseLine;return k.createElement(Pi,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"area-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(w){var y=w.t;if(m){var b=m.length/l.length,N=l.map(function(C,A){var E=Math.floor(A*b);if(m[E]){var T=m[E],_=xr(T.x,C.x),O=xr(T.y,C.y);return fo(fo({},C),{},{x:_(y),y:O(y)})}return C}),j;if(de(c)&&typeof c=="number"){var S=xr(g,c);j=S(y)}else if(et(c)||wf(c)){var P=xr(g,0);j=P(y)}else j=c.map(function(C,A){var E=Math.floor(A*b);if(g[E]){var T=g[E],_=xr(T.x,C.x),O=xr(T.y,C.y);return fo(fo({},C),{},{x:_(y),y:O(y)})}return C});return i.renderAreaStatically(N,j,n,a)}return k.createElement(Tt,null,k.createElement("defs",null,k.createElement("clipPath",{id:"animationClipPath-".concat(a)},i.renderClipRect(y))),k.createElement(Tt,{clipPath:"url(#animationClipPath-".concat(a,")")},i.renderAreaStatically(l,c,n,a)))})}},{key:"renderArea",value:function(n,a){var i=this.props,o=i.points,l=i.baseLine,c=i.isAnimationActive,u=this.state,d=u.prevPoints,f=u.prevBaseLine,h=u.totalLength;return c&&o&&o.length&&(!d&&h>0||!xc(d,o)||!xc(f,l))?this.renderAreaWithAnimation(n,a):this.renderAreaStatically(o,l,n,a)}},{key:"render",value:function(){var n,a=this.props,i=a.hide,o=a.dot,l=a.points,c=a.className,u=a.top,d=a.left,f=a.xAxis,h=a.yAxis,p=a.width,x=a.height,m=a.isAnimationActive,g=a.id;if(i||!l||!l.length)return null;var w=this.state.isAnimationFinished,y=l.length===1,b=yt("recharts-area",c),N=f&&f.allowDataOverflow,j=h&&h.allowDataOverflow,S=N||j,P=et(g)?this.id:g,C=(n=Je(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},A=C.r,E=A===void 0?3:A,T=C.strokeWidth,_=T===void 0?2:T,O=KU(o)?o:{},M=O.clipDot,L=M===void 0?!0:M,R=E*2+_;return k.createElement(Tt,{className:b},N||j?k.createElement("defs",null,k.createElement("clipPath",{id:"clipPath-".concat(P)},k.createElement("rect",{x:N?d:d-p/2,y:j?u:u-x/2,width:N?p:p*2,height:j?x:x*2})),!L&&k.createElement("clipPath",{id:"clipPath-dots-".concat(P)},k.createElement("rect",{x:d-R/2,y:u-R/2,width:p+R,height:x+R}))):null,y?null:this.renderArea(S,P),(o||y)&&this.renderDots(S,L,P),(!m||w)&&rs.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:a.curPoints,prevBaseLine:a.curBaseLine}:n.points!==a.curPoints||n.baseLine!==a.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])}(v.PureComponent);Kq=cs;Hi(cs,"displayName","Area");Hi(cs,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!gl.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Hi(cs,"getBaseValue",function(e,t,r,n){var a=e.layout,i=e.baseValue,o=t.props.baseValue,l=o??i;if(de(l)&&typeof l=="number")return l;var c=a==="horizontal"?n:r,u=c.scale.domain();if(c.type==="number"){var d=Math.max(u[0],u[1]),f=Math.min(u[0],u[1]);return l==="dataMin"?f:l==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return l==="dataMin"?u[0]:l==="dataMax"?u[1]:u[0]});Hi(cs,"getComposedData",function(e){var t=e.props,r=e.item,n=e.xAxis,a=e.yAxis,i=e.xAxisTicks,o=e.yAxisTicks,l=e.bandSize,c=e.dataKey,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,p=t.layout,x=u&&u.length,m=Kq.getBaseValue(t,r,n,a),g=p==="horizontal",w=!1,y=f.map(function(N,j){var S;x?S=u[d+j]:(S=Lr(N,c),Array.isArray(S)?w=!0:S=[m,S]);var P=S[1]==null||x&&Lr(N,c)==null;return g?{x:_d({axis:n,ticks:i,bandSize:l,entry:N,index:j}),y:P?null:a.scale(S[1]),value:S,payload:N}:{x:P?null:n.scale(S[1]),y:_d({axis:a,ticks:o,bandSize:l,entry:N,index:j}),value:S,payload:N}}),b;return x||w?b=y.map(function(N){var j=Array.isArray(N.value)?N.value[0]:null;return g?{x:N.x,y:j!=null&&N.y!=null?a.scale(j):null}:{x:j!=null?n.scale(j):null,y:N.y}}):b=g?a.scale(m):n.scale(m),fo({points:y,baseLine:b,layout:p,isRange:w},h)});Hi(cs,"renderDotItem",function(e,t){var r;if(k.isValidElement(e))r=k.cloneElement(e,t);else if(rt(e))r=e(t);else{var n=yt("recharts-area-dot",typeof e!="boolean"?e.className:""),a=t.key,i=qq(t,gMe);r=k.createElement(Ab,Bl({},i,{key:a,className:n}))}return r});function zd(e){"@babel/helpers - typeof";return zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zd(e)}function PMe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function CMe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Yq(n.key),n)}}function AMe(e,t,r){return t&&CMe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function EMe(e,t,r){return t=bx(t),TMe(e,Gq()?Reflect.construct(t,r||[],bx(e).constructor):t.apply(e,r))}function TMe(e,t){if(t&&(zd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _Me(e)}function _Me(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Gq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Gq=function(){return!!e})()}function bx(e){return bx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bx(e)}function OMe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&JN(e,t)}function JN(e,t){return JN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},JN(e,t)}function Xq(e,t,r){return t=Yq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yq(e){var t=kMe(e,"string");return zd(t)=="symbol"?t:t+""}function kMe(e,t){if(zd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Rb=function(e){function t(){return PMe(this,t),EMe(this,t,arguments)}return OMe(t,e),AMe(t,[{key:"render",value:function(){return null}}])}(k.Component);Xq(Rb,"displayName","ZAxis");Xq(Rb,"defaultProps",{zAxisId:0,range:[64,64],scale:"auto",type:"number"});var DMe=["option","isActive"];function Gh(){return Gh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gh.apply(this,arguments)}function MMe(e,t){if(e==null)return{};var r=IMe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function IMe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function RMe(e){var t=e.option,r=e.isActive,n=MMe(e,DMe);return typeof t=="string"?k.createElement(FN,Gh({option:k.createElement(mb,Gh({type:t},n)),isActive:r,shapeType:"symbols"},n)):k.createElement(FN,Gh({option:t,isActive:r,shapeType:"symbols"},n))}function Bd(e){"@babel/helpers - typeof";return Bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bd(e)}function Xh(){return Xh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xh.apply(this,arguments)}function BI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Da(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BI(Object(r),!0).forEach(function(n){Io(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $Me(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function UI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Zq(n.key),n)}}function LMe(e,t,r){return t&&UI(e.prototype,t),r&&UI(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function FMe(e,t,r){return t=wx(t),VMe(e,Qq()?Reflect.construct(t,r||[],wx(e).constructor):t.apply(e,r))}function VMe(e,t){if(t&&(Bd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zMe(e)}function zMe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Qq=function(){return!!e})()}function wx(e){return wx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},wx(e)}function BMe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eP(e,t)}function eP(e,t){return eP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},eP(e,t)}function Io(e,t,r){return t=Zq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zq(e){var t=UMe(e,"string");return Bd(t)=="symbol"?t:t+""}function UMe(e,t){if(Bd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var $b=function(e){function t(){var r;$Me(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=FMe(this,t,[].concat(a)),Io(r,"state",{isAnimationFinished:!1}),Io(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0})}),Io(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1})}),Io(r,"id",Rc("recharts-scatter-")),r}return BMe(t,e),LMe(t,[{key:"renderSymbolsStatically",value:function(n){var a=this,i=this.props,o=i.shape,l=i.activeShape,c=i.activeIndex,u=Je(this.props,!1);return n.map(function(d,f){var h=c===f,p=h?l:o,x=Da(Da({},u),d);return k.createElement(Tt,Xh({className:"recharts-scatter-symbol",key:"symbol-".concat(d==null?void 0:d.cx,"-").concat(d==null?void 0:d.cy,"-").concat(d==null?void 0:d.size,"-").concat(f)},Om(a.props,d,f),{role:"img"}),k.createElement(RMe,Xh({option:p,isActive:h,key:"symbol-".concat(f)},x)))})}},{key:"renderSymbolsWithAnimation",value:function(){var n=this,a=this.props,i=a.points,o=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,d=a.animationId,f=this.state.prevPoints;return k.createElement(Pi,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(h){var p=h.t,x=i.map(function(m,g){var w=f&&f[g];if(w){var y=xr(w.cx,m.cx),b=xr(w.cy,m.cy),N=xr(w.size,m.size);return Da(Da({},m),{},{cx:y(p),cy:b(p),size:N(p)})}var j=xr(0,m.size);return Da(Da({},m),{},{size:j(p)})});return k.createElement(Tt,null,n.renderSymbolsStatically(x))})}},{key:"renderSymbols",value:function(){var n=this.props,a=n.points,i=n.isAnimationActive,o=this.state.prevPoints;return i&&a&&a.length&&(!o||!xc(o,a))?this.renderSymbolsWithAnimation():this.renderSymbolsStatically(a)}},{key:"renderErrorBar",value:function(){var n=this.props.isAnimationActive;if(n&&!this.state.isAnimationFinished)return null;var a=this.props,i=a.points,o=a.xAxis,l=a.yAxis,c=a.children,u=Jn(c,Ef);return u?u.map(function(d,f){var h=d.props,p=h.direction,x=h.dataKey;return k.cloneElement(d,{key:"".concat(p,"-").concat(x,"-").concat(i[f]),data:i,xAxis:o,yAxis:l,layout:p==="x"?"vertical":"horizontal",dataPointFormatter:function(g,w){return{x:g.cx,y:g.cy,value:p==="x"?+g.node.x:+g.node.y,errorVal:Lr(g,w)}}})}):null}},{key:"renderLine",value:function(){var n=this.props,a=n.points,i=n.line,o=n.lineType,l=n.lineJointType,c=Je(this.props,!1),u=Je(i,!1),d,f;if(o==="joint")d=a.map(function(b){return{x:b.cx,y:b.cy}});else if(o==="fitting"){var h=wme(a),p=h.xmin,x=h.xmax,m=h.a,g=h.b,w=function(N){return m*N+g};d=[{x:p,y:w(p)},{x,y:w(x)}]}var y=Da(Da(Da({},c),{},{fill:"none",stroke:c&&c.fill},u),{},{points:d});return k.isValidElement(i)?f=k.cloneElement(i,y):rt(i)?f=i(y):f=k.createElement(nc,Xh({},y,{type:l})),k.createElement(Tt,{className:"recharts-scatter-line",key:"recharts-scatter-line"},f)}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.points,o=n.line,l=n.className,c=n.xAxis,u=n.yAxis,d=n.left,f=n.top,h=n.width,p=n.height,x=n.id,m=n.isAnimationActive;if(a||!i||!i.length)return null;var g=this.state.isAnimationFinished,w=yt("recharts-scatter",l),y=c&&c.allowDataOverflow,b=u&&u.allowDataOverflow,N=y||b,j=et(x)?this.id:x;return k.createElement(Tt,{className:w,clipPath:N?"url(#clipPath-".concat(j,")"):null},y||b?k.createElement("defs",null,k.createElement("clipPath",{id:"clipPath-".concat(j)},k.createElement("rect",{x:y?d:d-h/2,y:b?f:f-p/2,width:y?h:h*2,height:b?p:p*2}))):null,o&&this.renderLine(),this.renderErrorBar(),k.createElement(Tt,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!m||g)&&rs.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}}])}(v.PureComponent);Io($b,"displayName","Scatter");Io($b,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!gl.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"});Io($b,"getComposedData",function(e){var t=e.xAxis,r=e.yAxis,n=e.zAxis,a=e.item,i=e.displayedData,o=e.xAxisTicks,l=e.yAxisTicks,c=e.offset,u=a.props.tooltipType,d=Jn(a.props.children,SE),f=et(t.dataKey)?a.props.dataKey:t.dataKey,h=et(r.dataKey)?a.props.dataKey:r.dataKey,p=n&&n.dataKey,x=n?n.range:Rb.defaultProps.range,m=x&&x[0],g=t.scale.bandwidth?t.scale.bandwidth():0,w=r.scale.bandwidth?r.scale.bandwidth():0,y=i.map(function(b,N){var j=Lr(b,f),S=Lr(b,h),P=!et(p)&&Lr(b,p)||"-",C=[{name:et(t.dataKey)?a.props.name:t.name||t.dataKey,unit:t.unit||"",value:j,payload:b,dataKey:f,type:u},{name:et(r.dataKey)?a.props.name:r.name||r.dataKey,unit:r.unit||"",value:S,payload:b,dataKey:h,type:u}];P!=="-"&&C.push({name:n.name||n.dataKey,unit:n.unit||"",value:P,payload:b,dataKey:p,type:u});var A=_d({axis:t,ticks:o,bandSize:g,entry:b,index:N,dataKey:f}),E=_d({axis:r,ticks:l,bandSize:w,entry:b,index:N,dataKey:h}),T=P!=="-"?n.scale(P):m,_=Math.sqrt(Math.max(T,0)/Math.PI);return Da(Da({},b),{},{cx:A,cy:E,x:A-_,y:E-_,xAxis:t,yAxis:r,zAxis:n,width:2*_,height:2*_,size:T,node:{x:j,y:S,z:P},tooltipPayload:C,tooltipPosition:{x:A,y:E},payload:b},d&&d[N]&&d[N].props)});return Da({points:y},c)});function Ud(e){"@babel/helpers - typeof";return Ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ud(e)}function KMe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qMe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,tW(n.key),n)}}function WMe(e,t,r){return t&&qMe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function HMe(e,t,r){return t=jx(t),GMe(e,Jq()?Reflect.construct(t,r||[],jx(e).constructor):t.apply(e,r))}function GMe(e,t){if(t&&(Ud(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return XMe(e)}function XMe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Jq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Jq=function(){return!!e})()}function jx(e){return jx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jx(e)}function YMe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tP(e,t)}function tP(e,t){return tP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},tP(e,t)}function eW(e,t,r){return t=tW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tW(e){var t=QMe(e,"string");return Ud(t)=="symbol"?t:t+""}function QMe(e,t){if(Ud(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ud(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function rP(){return rP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rP.apply(this,arguments)}function ZMe(e){var t=e.xAxisId,r=JE(),n=eT(),a=_q(t);return a==null?null:k.createElement(Tf,rP({},a,{className:yt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return Ts(o,!0)}}))}var Mn=function(e){function t(){return KMe(this,t),HMe(this,t,arguments)}return YMe(t,e),WMe(t,[{key:"render",value:function(){return k.createElement(ZMe,this.props)}}])}(k.Component);eW(Mn,"displayName","XAxis");eW(Mn,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Kd(e){"@babel/helpers - typeof";return Kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kd(e)}function JMe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eIe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,aW(n.key),n)}}function tIe(e,t,r){return t&&eIe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function rIe(e,t,r){return t=Sx(t),nIe(e,rW()?Reflect.construct(t,r||[],Sx(e).constructor):t.apply(e,r))}function nIe(e,t){if(t&&(Kd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aIe(e)}function aIe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rW=function(){return!!e})()}function Sx(e){return Sx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Sx(e)}function iIe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nP(e,t)}function nP(e,t){return nP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},nP(e,t)}function nW(e,t,r){return t=aW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aW(e){var t=sIe(e,"string");return Kd(t)=="symbol"?t:t+""}function sIe(e,t){if(Kd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Kd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function aP(){return aP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},aP.apply(this,arguments)}var oIe=function(t){var r=t.yAxisId,n=JE(),a=eT(),i=Oq(r);return i==null?null:k.createElement(Tf,aP({},i,{className:yt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(l){return Ts(l,!0)}}))},In=function(e){function t(){return JMe(this,t),rIe(this,t,arguments)}return iIe(t,e),tIe(t,[{key:"render",value:function(){return k.createElement(oIe,this.props)}}])}(k.Component);nW(In,"displayName","YAxis");nW(In,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function KI(e){return dIe(e)||uIe(e)||cIe(e)||lIe()}function lIe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cIe(e,t){if(e){if(typeof e=="string")return iP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return iP(e,t)}}function uIe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function dIe(e){if(Array.isArray(e))return iP(e)}function iP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var sP=function(t,r,n,a,i){var o=Jn(t,Ru),l=Jn(t,Db),c=[].concat(KI(o),KI(l)),u=Jn(t,Ib),d="".concat(a,"Id"),f=a[0],h=r;if(c.length&&(h=c.reduce(function(m,g){if(g.props[d]===n&&ns(g.props,"extendDomain")&&de(g.props[f])){var w=g.props[f];return[Math.min(m[0],w),Math.max(m[1],w)]}return m},h)),u.length){var p="".concat(f,"1"),x="".concat(f,"2");h=u.reduce(function(m,g){if(g.props[d]===n&&ns(g.props,"extendDomain")&&de(g.props[p])&&de(g.props[x])){var w=g.props[p],y=g.props[x];return[Math.min(m[0],w,y),Math.max(m[1],w,y)]}return m},h)}return i&&i.length&&(h=i.reduce(function(m,g){return de(g)?[Math.min(m[0],g),Math.max(m[1],g)]:m},h)),h},iW={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new a(d,f||c,h),x=r?r+u:u;return c._events[x]?c._events[x].fn?c._events[x]=[c._events[x],p]:c._events[x].push(p):(c._events[x]=p,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,x=new Array(p);h<p;h++)x[h]=f[h].fn;return x},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,p,x){var m=r?r+u:u;if(!this._events[m])return!1;var g=this._events[m],w=arguments.length,y,b;if(g.fn){switch(g.once&&this.removeListener(u,g.fn,void 0,!0),w){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,d),!0;case 3:return g.fn.call(g.context,d,f),!0;case 4:return g.fn.call(g.context,d,f,h),!0;case 5:return g.fn.call(g.context,d,f,h,p),!0;case 6:return g.fn.call(g.context,d,f,h,p,x),!0}for(b=1,y=new Array(w-1);b<w;b++)y[b-1]=arguments[b];g.fn.apply(g.context,y)}else{var N=g.length,j;for(b=0;b<N;b++)switch(g[b].once&&this.removeListener(u,g[b].fn,void 0,!0),w){case 1:g[b].fn.call(g[b].context);break;case 2:g[b].fn.call(g[b].context,d);break;case 3:g[b].fn.call(g[b].context,d,f);break;case 4:g[b].fn.call(g[b].context,d,f,h);break;default:if(!y)for(j=1,y=new Array(w-1);j<w;j++)y[j-1]=arguments[j];g[b].fn.apply(g[b].context,y)}}return!0},l.prototype.on=function(u,d,f){return i(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return i(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var p=r?r+u:u;if(!this._events[p])return this;if(!d)return o(this,p),this;var x=this._events[p];if(x.fn)x.fn===d&&(!h||x.once)&&(!f||x.context===f)&&o(this,p);else{for(var m=0,g=[],w=x.length;m<w;m++)(x[m].fn!==d||h&&!x[m].once||f&&x[m].context!==f)&&g.push(x[m]);g.length?this._events[p]=g.length===1?g[0]:g:o(this,p)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(iW);var fIe=iW.exports;const hIe=$t(fIe);var Mj=new hIe,Ij="recharts.syncMouseEvents";function dp(e){"@babel/helpers - typeof";return dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dp(e)}function mIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pIe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,sW(n.key),n)}}function gIe(e,t,r){return t&&pIe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Rj(e,t,r){return t=sW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sW(e){var t=vIe(e,"string");return dp(t)=="symbol"?t:t+""}function vIe(e,t){if(dp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(dp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var yIe=function(){function e(){mIe(this,e),Rj(this,"activeIndex",0),Rj(this,"coordinateList",[]),Rj(this,"layout","horizontal")}return gIe(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,i=a===void 0?null:a,o=r.container,l=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,o=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=i+c+u,h=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function xIe(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&de(n)&&de(a))return!0}return!1}function bIe(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function oW(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,i=e.endAngle,o=nn(t,r,n,a),l=nn(t,r,n,i);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function wIe(e,t,r){var n,a,i,o;if(e==="horizontal")n=t.x,i=n,a=r.top,o=r.top+r.height;else if(e==="vertical")a=t.y,o=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,h=nn(l,c,u,f),p=nn(l,c,d,f);n=h.x,a=h.y,i=p.x,o=p.y}else return oW(t);return[{x:n,y:a},{x:i,y:o}]}function fp(e){"@babel/helpers - typeof";return fp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fp(e)}function qI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qI(Object(r),!0).forEach(function(n){jIe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jIe(e,t,r){return t=SIe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SIe(e){var t=NIe(e,"string");return fp(t)=="symbol"?t:t+""}function NIe(e,t){if(fp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function PIe(e){var t,r,n=e.element,a=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,p=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!i||!o||h!=="ScatterChart"&&a!=="axis")return null;var x,m=nc;if(h==="ScatterChart")x=o,m=Q_e;else if(h==="BarChart")x=bIe(f,o,c,d),m=XE;else if(f==="radial"){var g=oW(o),w=g.cx,y=g.cy,b=g.radius,N=g.startAngle,j=g.endAngle;x={cx:w,cy:y,startAngle:N,endAngle:j,innerRadius:b,outerRadius:b},m=rq}else x={points:wIe(f,o,c)},m=nc;var S=nv(nv(nv(nv({stroke:"#ccc",pointerEvents:"none"},c),x),Je(p,!1)),{},{payload:l,payloadIndex:u,className:yt("recharts-tooltip-cursor",p.className)});return v.isValidElement(p)?v.cloneElement(p,S):v.createElement(m,S)}var CIe=["item"],AIe=["children","className","width","height","style","compact","title","desc"];function qd(e){"@babel/helpers - typeof";return qd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qd(e)}function bu(){return bu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bu.apply(this,arguments)}function WI(e,t){return _Ie(e)||TIe(e,t)||cW(e,t)||EIe()}function EIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TIe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function _Ie(e){if(Array.isArray(e))return e}function HI(e,t){if(e==null)return{};var r=OIe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function OIe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function kIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DIe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,uW(n.key),n)}}function MIe(e,t,r){return t&&DIe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function IIe(e,t,r){return t=Nx(t),RIe(e,lW()?Reflect.construct(t,r||[],Nx(e).constructor):t.apply(e,r))}function RIe(e,t){if(t&&(qd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $Ie(e)}function $Ie(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lW=function(){return!!e})()}function Nx(e){return Nx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Nx(e)}function LIe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&oP(e,t)}function oP(e,t){return oP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},oP(e,t)}function Wd(e){return zIe(e)||VIe(e)||cW(e)||FIe()}function FIe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cW(e,t){if(e){if(typeof e=="string")return lP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lP(e,t)}}function VIe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function zIe(e){if(Array.isArray(e))return lP(e)}function lP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function GI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function J(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GI(Object(r),!0).forEach(function(n){Ue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GI(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ue(e,t,r){return t=uW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uW(e){var t=BIe(e,"string");return qd(t)=="symbol"?t:t+""}function BIe(e,t){if(qd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var UIe={xAxis:["bottom","top"],yAxis:["left","right"]},KIe={width:"100%",height:"100%"},dW={x:0,y:0};function av(e){return e}var qIe=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},WIe=function(t,r,n,a){var i=r.find(function(d){return d&&d.index===n});if(i){if(t==="horizontal")return{x:i.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,l=a.radius;return J(J(J({},a),nn(a.cx,a.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,u=a.angle;return J(J(J({},a),nn(a.cx,a.cy,c,u)),{},{angle:u,radius:c})}return dW},Lb=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(Wd(l),Wd(u)):l},[]);return o.length>0?o:t&&t.length&&de(a)&&de(i)?t.slice(a,i+1):[]};function fW(e){return e==="number"?[0,"auto"]:void 0}var cP=function(t,r,n,a){var i=t.graphicalItems,o=t.tooltipAxis,l=Lb(r,t);return n<0||!i||!i.length||n>=l.length?null:i.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var p=f===void 0?l:f;h=Ny(p,o.dataKey,a)}else h=f&&f[n]||l[n];return h?[].concat(Wd(c),[JK(u,h)]):c},[])},XI=function(t,r,n,a){var i=a||{x:t.chartX,y:t.chartY},o=qIe(i,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=DAe(o,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,h=cP(t,r,d,f),p=WIe(n,l,d,i);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},HIe=function(t,r){var n=r.axes,a=r.graphicalItems,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=t.stackOffset,p=YK(d,i);return n.reduce(function(x,m){var g,w=m.type.defaultProps!==void 0?J(J({},m.type.defaultProps),m.props):m.props,y=w.type,b=w.dataKey,N=w.allowDataOverflow,j=w.allowDuplicatedCategory,S=w.scale,P=w.ticks,C=w.includeHidden,A=w[o];if(x[A])return x;var E=Lb(t.data,{graphicalItems:a.filter(function(X){var oe,je=o in X.props?X.props[o]:(oe=X.type.defaultProps)===null||oe===void 0?void 0:oe[o];return je===A}),dataStartIndex:c,dataEndIndex:u}),T=E.length,_,O,M;xIe(w.domain,N,y)&&(_=SN(w.domain,null,N),p&&(y==="number"||S!=="auto")&&(M=qh(E,b,"category")));var L=fW(y);if(!_||_.length===0){var R,V=(R=w.domain)!==null&&R!==void 0?R:L;if(b){if(_=qh(E,b,y),y==="category"&&p){var D=bme(_);j&&D?(O=_,_=lx(0,T)):j||(_=SM(V,_,m).reduce(function(X,oe){return X.indexOf(oe)>=0?X:[].concat(Wd(X),[oe])},[]))}else if(y==="category")j?_=_.filter(function(X){return X!==""&&!et(X)}):_=SM(V,_,m).reduce(function(X,oe){return X.indexOf(oe)>=0||oe===""||et(oe)?X:[].concat(Wd(X),[oe])},[]);else if(y==="number"){var I=LAe(E,a.filter(function(X){var oe,je,Fe=o in X.props?X.props[o]:(oe=X.type.defaultProps)===null||oe===void 0?void 0:oe[o],Ae="hide"in X.props?X.props.hide:(je=X.type.defaultProps)===null||je===void 0?void 0:je.hide;return Fe===A&&(C||!Ae)}),b,i,d);I&&(_=I)}p&&(y==="number"||S!=="auto")&&(M=qh(E,b,"category"))}else p?_=lx(0,T):l&&l[A]&&l[A].hasStack&&y==="number"?_=h==="expand"?[0,1]:ZK(l[A].stackGroups,c,u):_=XK(E,a.filter(function(X){var oe=o in X.props?X.props[o]:X.type.defaultProps[o],je="hide"in X.props?X.props.hide:X.type.defaultProps.hide;return oe===A&&(C||!je)}),y,d,!0);if(y==="number")_=sP(f,_,A,i,P),V&&(_=SN(V,_,N));else if(y==="category"&&V){var B=V,Y=_.every(function(X){return B.indexOf(X)>=0});Y&&(_=B)}}return J(J({},x),{},Ue({},A,J(J({},w),{},{axisType:i,domain:_,categoricalDomain:M,duplicateDomain:O,originalDomain:(g=w.domain)!==null&&g!==void 0?g:L,isCategorical:p,layout:d})))},{})},GIe=function(t,r){var n=r.graphicalItems,a=r.Axis,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=Lb(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),p=h.length,x=YK(d,i),m=-1;return n.reduce(function(g,w){var y=w.type.defaultProps!==void 0?J(J({},w.type.defaultProps),w.props):w.props,b=y[o],N=fW("number");if(!g[b]){m++;var j;return x?j=lx(0,p):l&&l[b]&&l[b].hasStack?(j=ZK(l[b].stackGroups,c,u),j=sP(f,j,b,i)):(j=SN(N,XK(h,n.filter(function(S){var P,C,A=o in S.props?S.props[o]:(P=S.type.defaultProps)===null||P===void 0?void 0:P[o],E="hide"in S.props?S.props.hide:(C=S.type.defaultProps)===null||C===void 0?void 0:C.hide;return A===b&&!E}),"number",d),a.defaultProps.allowDataOverflow),j=sP(f,j,b,i)),J(J({},g),{},Ue({},b,J(J({axisType:i},a.defaultProps),{},{hide:!0,orientation:Wa(UIe,"".concat(i,".").concat(m%2),null),domain:j,originalDomain:N,isCategorical:x,layout:d})))}return g},{})},XIe=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,i=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.children,f="".concat(a,"Id"),h=Jn(d,i),p={};return h&&h.length?p=HIe(t,{axes:h,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(p=GIe(t,{Axis:i,graphicalItems:o,axisType:a,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),p},YIe=function(t){var r=xo(t),n=Ts(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:wE(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Jy(r,n)}},YI=function(t){var r=t.children,n=t.defaultShowTooltip,a=ca(r,Dd),i=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},QIe=function(t){return!t||!t.length?!1:t.some(function(r){var n=Ds(r&&r.type);return n&&n.indexOf("Bar")>=0})},QI=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},ZIe=function(t,r){var n=t.props,a=t.graphicalItems,i=t.xAxisMap,o=i===void 0?{}:i,l=t.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,f=n.children,h=n.margin||{},p=ca(f,Dd),x=ca(f,xa),m=Object.keys(c).reduce(function(j,S){var P=c[S],C=P.orientation;return!P.mirror&&!P.hide?J(J({},j),{},Ue({},C,j[C]+P.width)):j},{left:h.left||0,right:h.right||0}),g=Object.keys(o).reduce(function(j,S){var P=o[S],C=P.orientation;return!P.mirror&&!P.hide?J(J({},j),{},Ue({},C,Wa(j,"".concat(C))+P.height)):j},{top:h.top||0,bottom:h.bottom||0}),w=J(J({},g),m),y=w.bottom;p&&(w.bottom+=p.props.height||Dd.defaultProps.height),x&&r&&(w=RAe(w,a,n,r));var b=u-w.left-w.right,N=d-w.top-w.bottom;return J(J({brushBottom:y},w),{},{width:Math.max(b,0),height:Math.max(N,0)})},JIe=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},Fb=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,i=a===void 0?"axis":a,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,h=function(w,y){var b=y.graphicalItems,N=y.stackGroups,j=y.offset,S=y.updateId,P=y.dataStartIndex,C=y.dataEndIndex,A=w.barSize,E=w.layout,T=w.barGap,_=w.barCategoryGap,O=w.maxBarSize,M=QI(E),L=M.numericAxisName,R=M.cateAxisName,V=QIe(b),D=[];return b.forEach(function(I,B){var Y=Lb(w.data,{graphicalItems:[I],dataStartIndex:P,dataEndIndex:C}),X=I.type.defaultProps!==void 0?J(J({},I.type.defaultProps),I.props):I.props,oe=X.dataKey,je=X.maxBarSize,Fe=X["".concat(L,"Id")],Ae=X["".concat(R,"Id")],me={},De=c.reduce(function(Gr,$){var U=y["".concat($.axisType,"Map")],Z=X["".concat($.axisType,"Id")];U&&U[Z]||$.axisType==="zAxis"||wc();var ye=U[Z];return J(J({},Gr),{},Ue(Ue({},$.axisType,ye),"".concat($.axisType,"Ticks"),Ts(ye)))},me),te=De[R],ee=De["".concat(R,"Ticks")],fe=N&&N[Fe]&&N[Fe].hasStack&&YAe(I,N[Fe].stackGroups),H=Ds(I.type).indexOf("Bar")>=0,Ve=Jy(te,ee),Me=[],dt=V&&MAe({barSize:A,stackGroups:N,totalSize:JIe(De,R)});if(H){var lt,Pt,Q=et(je)?O:je,we=(lt=(Pt=Jy(te,ee,!0))!==null&&Pt!==void 0?Pt:Q)!==null&&lt!==void 0?lt:0;Me=IAe({barGap:T,barCategoryGap:_,bandSize:we!==Ve?we:Ve,sizeList:dt[Ae],maxBarSize:Q}),we!==Ve&&(Me=Me.map(function(Gr){return J(J({},Gr),{},{position:J(J({},Gr.position),{},{offset:Gr.position.offset-we/2})})}))}var tt=I&&I.type&&I.type.getComposedData;tt&&D.push({props:J(J({},tt(J(J({},De),{},{displayedData:Y,props:w,dataKey:oe,item:I,bandSize:Ve,barPosition:Me,offset:j,stackedData:fe,layout:E,dataStartIndex:P,dataEndIndex:C}))),{},Ue(Ue(Ue({key:I.key||"item-".concat(B)},L,De[L]),R,De[R]),"animationId",S)),childIndex:Dme(I,w.children),item:I})}),D},p=function(w,y){var b=w.props,N=w.dataStartIndex,j=w.dataEndIndex,S=w.updateId;if(!vk({props:b}))return null;var P=b.children,C=b.layout,A=b.stackOffset,E=b.data,T=b.reverseStackOrder,_=QI(C),O=_.numericAxisName,M=_.cateAxisName,L=Jn(P,n),R=HAe(E,L,"".concat(O,"Id"),"".concat(M,"Id"),A,T),V=c.reduce(function(X,oe){var je="".concat(oe.axisType,"Map");return J(J({},X),{},Ue({},je,XIe(b,J(J({},oe),{},{graphicalItems:L,stackGroups:oe.axisType===O&&R,dataStartIndex:N,dataEndIndex:j}))))},{}),D=ZIe(J(J({},V),{},{props:b,graphicalItems:L}),y==null?void 0:y.legendBBox);Object.keys(V).forEach(function(X){V[X]=d(b,V[X],D,X.replace("Map",""),r)});var I=V["".concat(M,"Map")],B=YIe(I),Y=h(b,J(J({},V),{},{dataStartIndex:N,dataEndIndex:j,updateId:S,graphicalItems:L,stackGroups:R,offset:D}));return J(J({formattedGraphicalItems:Y,graphicalItems:L,offset:D,stackGroups:R},B),V)},x=function(g){function w(y){var b,N,j;return kIe(this,w),j=IIe(this,w,[y]),Ue(j,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ue(j,"accessibilityManager",new yIe),Ue(j,"handleLegendBBoxUpdate",function(S){if(S){var P=j.state,C=P.dataStartIndex,A=P.dataEndIndex,E=P.updateId;j.setState(J({legendBBox:S},p({props:j.props,dataStartIndex:C,dataEndIndex:A,updateId:E},J(J({},j.state),{},{legendBBox:S}))))}}),Ue(j,"handleReceiveSyncEvent",function(S,P,C){if(j.props.syncId===S){if(C===j.eventEmitterSymbol&&typeof j.props.syncMethod!="function")return;j.applySyncEvent(P)}}),Ue(j,"handleBrushChange",function(S){var P=S.startIndex,C=S.endIndex;if(P!==j.state.dataStartIndex||C!==j.state.dataEndIndex){var A=j.state.updateId;j.setState(function(){return J({dataStartIndex:P,dataEndIndex:C},p({props:j.props,dataStartIndex:P,dataEndIndex:C,updateId:A},j.state))}),j.triggerSyncEvent({dataStartIndex:P,dataEndIndex:C})}}),Ue(j,"handleMouseEnter",function(S){var P=j.getMouseInfo(S);if(P){var C=J(J({},P),{},{isTooltipActive:!0});j.setState(C),j.triggerSyncEvent(C);var A=j.props.onMouseEnter;rt(A)&&A(C,S)}}),Ue(j,"triggeredAfterMouseMove",function(S){var P=j.getMouseInfo(S),C=P?J(J({},P),{},{isTooltipActive:!0}):{isTooltipActive:!1};j.setState(C),j.triggerSyncEvent(C);var A=j.props.onMouseMove;rt(A)&&A(C,S)}),Ue(j,"handleItemMouseEnter",function(S){j.setState(function(){return{isTooltipActive:!0,activeItem:S,activePayload:S.tooltipPayload,activeCoordinate:S.tooltipPosition||{x:S.cx,y:S.cy}}})}),Ue(j,"handleItemMouseLeave",function(){j.setState(function(){return{isTooltipActive:!1}})}),Ue(j,"handleMouseMove",function(S){S.persist(),j.throttleTriggeredAfterMouseMove(S)}),Ue(j,"handleMouseLeave",function(S){j.throttleTriggeredAfterMouseMove.cancel();var P={isTooltipActive:!1};j.setState(P),j.triggerSyncEvent(P);var C=j.props.onMouseLeave;rt(C)&&C(P,S)}),Ue(j,"handleOuterEvent",function(S){var P=kme(S),C=Wa(j.props,"".concat(P));if(P&&rt(C)){var A,E;/.*touch.*/i.test(P)?E=j.getMouseInfo(S.changedTouches[0]):E=j.getMouseInfo(S),C((A=E)!==null&&A!==void 0?A:{},S)}}),Ue(j,"handleClick",function(S){var P=j.getMouseInfo(S);if(P){var C=J(J({},P),{},{isTooltipActive:!0});j.setState(C),j.triggerSyncEvent(C);var A=j.props.onClick;rt(A)&&A(C,S)}}),Ue(j,"handleMouseDown",function(S){var P=j.props.onMouseDown;if(rt(P)){var C=j.getMouseInfo(S);P(C,S)}}),Ue(j,"handleMouseUp",function(S){var P=j.props.onMouseUp;if(rt(P)){var C=j.getMouseInfo(S);P(C,S)}}),Ue(j,"handleTouchMove",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&j.throttleTriggeredAfterMouseMove(S.changedTouches[0])}),Ue(j,"handleTouchStart",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&j.handleMouseDown(S.changedTouches[0])}),Ue(j,"handleTouchEnd",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&j.handleMouseUp(S.changedTouches[0])}),Ue(j,"handleDoubleClick",function(S){var P=j.props.onDoubleClick;if(rt(P)){var C=j.getMouseInfo(S);P(C,S)}}),Ue(j,"handleContextMenu",function(S){var P=j.props.onContextMenu;if(rt(P)){var C=j.getMouseInfo(S);P(C,S)}}),Ue(j,"triggerSyncEvent",function(S){j.props.syncId!==void 0&&Mj.emit(Ij,j.props.syncId,S,j.eventEmitterSymbol)}),Ue(j,"applySyncEvent",function(S){var P=j.props,C=P.layout,A=P.syncMethod,E=j.state.updateId,T=S.dataStartIndex,_=S.dataEndIndex;if(S.dataStartIndex!==void 0||S.dataEndIndex!==void 0)j.setState(J({dataStartIndex:T,dataEndIndex:_},p({props:j.props,dataStartIndex:T,dataEndIndex:_,updateId:E},j.state)));else if(S.activeTooltipIndex!==void 0){var O=S.chartX,M=S.chartY,L=S.activeTooltipIndex,R=j.state,V=R.offset,D=R.tooltipTicks;if(!V)return;if(typeof A=="function")L=A(D,S);else if(A==="value"){L=-1;for(var I=0;I<D.length;I++)if(D[I].value===S.activeLabel){L=I;break}}var B=J(J({},V),{},{x:V.left,y:V.top}),Y=Math.min(O,B.x+B.width),X=Math.min(M,B.y+B.height),oe=D[L]&&D[L].value,je=cP(j.state,j.props.data,L),Fe=D[L]?{x:C==="horizontal"?D[L].coordinate:Y,y:C==="horizontal"?X:D[L].coordinate}:dW;j.setState(J(J({},S),{},{activeLabel:oe,activeCoordinate:Fe,activePayload:je,activeTooltipIndex:L}))}else j.setState(S)}),Ue(j,"renderCursor",function(S){var P,C=j.state,A=C.isTooltipActive,E=C.activeCoordinate,T=C.activePayload,_=C.offset,O=C.activeTooltipIndex,M=C.tooltipAxisBandSize,L=j.getTooltipEventType(),R=(P=S.props.active)!==null&&P!==void 0?P:A,V=j.props.layout,D=S.key||"_recharts-cursor";return k.createElement(PIe,{key:D,activeCoordinate:E,activePayload:T,activeTooltipIndex:O,chartName:r,element:S,isActive:R,layout:V,offset:_,tooltipAxisBandSize:M,tooltipEventType:L})}),Ue(j,"renderPolarAxis",function(S,P,C){var A=Wa(S,"type.axisType"),E=Wa(j.state,"".concat(A,"Map")),T=S.type.defaultProps,_=T!==void 0?J(J({},T),S.props):S.props,O=E&&E[_["".concat(A,"Id")]];return v.cloneElement(S,J(J({},O),{},{className:yt(A,O.className),key:S.key||"".concat(P,"-").concat(C),ticks:Ts(O,!0)}))}),Ue(j,"renderPolarGrid",function(S){var P=S.props,C=P.radialLines,A=P.polarAngles,E=P.polarRadius,T=j.state,_=T.radiusAxisMap,O=T.angleAxisMap,M=xo(_),L=xo(O),R=L.cx,V=L.cy,D=L.innerRadius,I=L.outerRadius;return v.cloneElement(S,{polarAngles:Array.isArray(A)?A:Ts(L,!0).map(function(B){return B.coordinate}),polarRadius:Array.isArray(E)?E:Ts(M,!0).map(function(B){return B.coordinate}),cx:R,cy:V,innerRadius:D,outerRadius:I,key:S.key||"polar-grid",radialLines:C})}),Ue(j,"renderLegend",function(){var S=j.state.formattedGraphicalItems,P=j.props,C=P.children,A=P.width,E=P.height,T=j.props.margin||{},_=A-(T.left||0)-(T.right||0),O=HK({children:C,formattedGraphicalItems:S,legendWidth:_,legendContent:u});if(!O)return null;var M=O.item,L=HI(O,CIe);return v.cloneElement(M,J(J({},L),{},{chartWidth:A,chartHeight:E,margin:T,onBBoxUpdate:j.handleLegendBBoxUpdate}))}),Ue(j,"renderTooltip",function(){var S,P=j.props,C=P.children,A=P.accessibilityLayer,E=ca(C,Kr);if(!E)return null;var T=j.state,_=T.isTooltipActive,O=T.activeCoordinate,M=T.activePayload,L=T.activeLabel,R=T.offset,V=(S=E.props.active)!==null&&S!==void 0?S:_;return v.cloneElement(E,{viewBox:J(J({},R),{},{x:R.left,y:R.top}),active:V,label:L,payload:V?M:[],coordinate:O,accessibilityLayer:A})}),Ue(j,"renderBrush",function(S){var P=j.props,C=P.margin,A=P.data,E=j.state,T=E.offset,_=E.dataStartIndex,O=E.dataEndIndex,M=E.updateId;return v.cloneElement(S,{key:S.key||"_recharts-brush",onChange:Jg(j.handleBrushChange,S.props.onChange),data:A,x:de(S.props.x)?S.props.x:T.left,y:de(S.props.y)?S.props.y:T.top+T.height+T.brushBottom-(C.bottom||0),width:de(S.props.width)?S.props.width:T.width,startIndex:_,endIndex:O,updateId:"brush-".concat(M)})}),Ue(j,"renderReferenceElement",function(S,P,C){if(!S)return null;var A=j,E=A.clipPathId,T=j.state,_=T.xAxisMap,O=T.yAxisMap,M=T.offset,L=S.type.defaultProps||{},R=S.props,V=R.xAxisId,D=V===void 0?L.xAxisId:V,I=R.yAxisId,B=I===void 0?L.yAxisId:I;return v.cloneElement(S,{key:S.key||"".concat(P,"-").concat(C),xAxis:_[D],yAxis:O[B],viewBox:{x:M.left,y:M.top,width:M.width,height:M.height},clipPathId:E})}),Ue(j,"renderActivePoints",function(S){var P=S.item,C=S.activePoint,A=S.basePoint,E=S.childIndex,T=S.isRange,_=[],O=P.props.key,M=P.item.type.defaultProps!==void 0?J(J({},P.item.type.defaultProps),P.item.props):P.item.props,L=M.activeDot,R=M.dataKey,V=J(J({index:E,dataKey:R,cx:C.x,cy:C.y,r:4,fill:GE(P.item),strokeWidth:2,stroke:"#fff",payload:C.payload,value:C.value},Je(L,!1)),Py(L));return _.push(w.renderActiveDot(L,V,"".concat(O,"-activePoint-").concat(E))),A?_.push(w.renderActiveDot(L,J(J({},V),{},{cx:A.x,cy:A.y}),"".concat(O,"-basePoint-").concat(E))):T&&_.push(null),_}),Ue(j,"renderGraphicChild",function(S,P,C){var A=j.filterFormatItem(S,P,C);if(!A)return null;var E=j.getTooltipEventType(),T=j.state,_=T.isTooltipActive,O=T.tooltipAxis,M=T.activeTooltipIndex,L=T.activeLabel,R=j.props.children,V=ca(R,Kr),D=A.props,I=D.points,B=D.isRange,Y=D.baseLine,X=A.item.type.defaultProps!==void 0?J(J({},A.item.type.defaultProps),A.item.props):A.item.props,oe=X.activeDot,je=X.hide,Fe=X.activeBar,Ae=X.activeShape,me=!!(!je&&_&&V&&(oe||Fe||Ae)),De={};E!=="axis"&&V&&V.props.trigger==="click"?De={onClick:Jg(j.handleItemMouseEnter,S.props.onClick)}:E!=="axis"&&(De={onMouseLeave:Jg(j.handleItemMouseLeave,S.props.onMouseLeave),onMouseEnter:Jg(j.handleItemMouseEnter,S.props.onMouseEnter)});var te=v.cloneElement(S,J(J({},A.props),De));function ee($){return typeof O.dataKey=="function"?O.dataKey($.payload):null}if(me)if(M>=0){var fe,H;if(O.dataKey&&!O.allowDuplicatedCategory){var Ve=typeof O.dataKey=="function"?ee:"payload.".concat(O.dataKey.toString());fe=Ny(I,Ve,L),H=B&&Y&&Ny(Y,Ve,L)}else fe=I==null?void 0:I[M],H=B&&Y&&Y[M];if(Ae||Fe){var Me=S.props.activeIndex!==void 0?S.props.activeIndex:M;return[v.cloneElement(S,J(J(J({},A.props),De),{},{activeIndex:Me})),null,null]}if(!et(fe))return[te].concat(Wd(j.renderActivePoints({item:A,activePoint:fe,basePoint:H,childIndex:M,isRange:B})))}else{var dt,lt=(dt=j.getItemByXY(j.state.activeCoordinate))!==null&&dt!==void 0?dt:{graphicalItem:te},Pt=lt.graphicalItem,Q=Pt.item,we=Q===void 0?S:Q,tt=Pt.childIndex,Gr=J(J(J({},A.props),De),{},{activeIndex:tt});return[v.cloneElement(we,Gr),null,null]}return B?[te,null,null]:[te,null]}),Ue(j,"renderCustomized",function(S,P,C){return v.cloneElement(S,J(J({key:"recharts-customized-".concat(C)},j.props),j.state))}),Ue(j,"renderMap",{CartesianGrid:{handler:av,once:!0},ReferenceArea:{handler:j.renderReferenceElement},ReferenceLine:{handler:av},ReferenceDot:{handler:j.renderReferenceElement},XAxis:{handler:av},YAxis:{handler:av},Brush:{handler:j.renderBrush,once:!0},Bar:{handler:j.renderGraphicChild},Line:{handler:j.renderGraphicChild},Area:{handler:j.renderGraphicChild},Radar:{handler:j.renderGraphicChild},RadialBar:{handler:j.renderGraphicChild},Scatter:{handler:j.renderGraphicChild},Pie:{handler:j.renderGraphicChild},Funnel:{handler:j.renderGraphicChild},Tooltip:{handler:j.renderCursor,once:!0},PolarGrid:{handler:j.renderPolarGrid,once:!0},PolarAngleAxis:{handler:j.renderPolarAxis},PolarRadiusAxis:{handler:j.renderPolarAxis},Customized:{handler:j.renderCustomized}}),j.clipPathId="".concat((b=y.id)!==null&&b!==void 0?b:Rc("recharts"),"-clip"),j.throttleTriggeredAfterMouseMove=H9(j.triggeredAfterMouseMove,(N=y.throttleDelay)!==null&&N!==void 0?N:1e3/60),j.state={},j}return LIe(w,g),MIe(w,[{key:"componentDidMount",value:function(){var b,N;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(b=this.props.margin.left)!==null&&b!==void 0?b:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var b=this.props,N=b.children,j=b.data,S=b.height,P=b.layout,C=ca(N,Kr);if(C){var A=C.props.defaultIndex;if(!(typeof A!="number"||A<0||A>this.state.tooltipTicks.length-1)){var E=this.state.tooltipTicks[A]&&this.state.tooltipTicks[A].value,T=cP(this.state,j,A,E),_=this.state.tooltipTicks[A].coordinate,O=(this.state.offset.top+S)/2,M=P==="horizontal",L=M?{x:_,y:O}:{y:_,x:O},R=this.state.formattedGraphicalItems.find(function(D){var I=D.item;return I.type.name==="Scatter"});R&&(L=J(J({},L),R.props.points[A].tooltipPosition),T=R.props.points[A].tooltipPayload);var V={activeTooltipIndex:A,isTooltipActive:!0,activeLabel:E,activePayload:T,activeCoordinate:L};this.setState(V),this.renderCursor(C),this.accessibilityManager.setIndex(A)}}}},{key:"getSnapshotBeforeUpdate",value:function(b,N){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==N.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==b.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==b.margin){var j,S;this.accessibilityManager.setDetails({offset:{left:(j=this.props.margin.left)!==null&&j!==void 0?j:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0}})}return null}},{key:"componentDidUpdate",value:function(b){LS([ca(b.children,Kr)],[ca(this.props.children,Kr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var b=ca(this.props.children,Kr);if(b&&typeof b.props.shared=="boolean"){var N=b.props.shared?"axis":"item";return l.indexOf(N)>=0?N:i}return i}},{key:"getMouseInfo",value:function(b){if(!this.container)return null;var N=this.container,j=N.getBoundingClientRect(),S=iSe(j),P={chartX:Math.round(b.pageX-S.left),chartY:Math.round(b.pageY-S.top)},C=j.width/N.offsetWidth||1,A=this.inRange(P.chartX,P.chartY,C);if(!A)return null;var E=this.state,T=E.xAxisMap,_=E.yAxisMap,O=this.getTooltipEventType(),M=XI(this.state,this.props.data,this.props.layout,A);if(O!=="axis"&&T&&_){var L=xo(T).scale,R=xo(_).scale,V=L&&L.invert?L.invert(P.chartX):null,D=R&&R.invert?R.invert(P.chartY):null;return J(J({},P),{},{xValue:V,yValue:D},M)}return M?J(J({},P),M):null}},{key:"inRange",value:function(b,N){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,S=this.props.layout,P=b/j,C=N/j;if(S==="horizontal"||S==="vertical"){var A=this.state.offset,E=P>=A.left&&P<=A.left+A.width&&C>=A.top&&C<=A.top+A.height;return E?{x:P,y:C}:null}var T=this.state,_=T.angleAxisMap,O=T.radiusAxisMap;if(_&&O){var M=xo(_);return CM({x:P,y:C},M)}return null}},{key:"parseEventsOfWrapper",value:function(){var b=this.props.children,N=this.getTooltipEventType(),j=ca(b,Kr),S={};j&&N==="axis"&&(j.props.trigger==="click"?S={onClick:this.handleClick}:S={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var P=Py(this.props,this.handleOuterEvent);return J(J({},P),S)}},{key:"addListener",value:function(){Mj.on(Ij,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Mj.removeListener(Ij,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(b,N,j){for(var S=this.state.formattedGraphicalItems,P=0,C=S.length;P<C;P++){var A=S[P];if(A.item===b||A.props.key===b.key||N===Ds(A.item.type)&&j===A.childIndex)return A}return null}},{key:"renderClipPath",value:function(){var b=this.clipPathId,N=this.state.offset,j=N.left,S=N.top,P=N.height,C=N.width;return k.createElement("defs",null,k.createElement("clipPath",{id:b},k.createElement("rect",{x:j,y:S,height:P,width:C})))}},{key:"getXScales",value:function(){var b=this.state.xAxisMap;return b?Object.entries(b).reduce(function(N,j){var S=WI(j,2),P=S[0],C=S[1];return J(J({},N),{},Ue({},P,C.scale))},{}):null}},{key:"getYScales",value:function(){var b=this.state.yAxisMap;return b?Object.entries(b).reduce(function(N,j){var S=WI(j,2),P=S[0],C=S[1];return J(J({},N),{},Ue({},P,C.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(b){var N;return(N=this.state.xAxisMap)===null||N===void 0||(N=N[b])===null||N===void 0?void 0:N.scale}},{key:"getYScaleByAxisId",value:function(b){var N;return(N=this.state.yAxisMap)===null||N===void 0||(N=N[b])===null||N===void 0?void 0:N.scale}},{key:"getItemByXY",value:function(b){var N=this.state,j=N.formattedGraphicalItems,S=N.activeItem;if(j&&j.length)for(var P=0,C=j.length;P<C;P++){var A=j[P],E=A.props,T=A.item,_=T.type.defaultProps!==void 0?J(J({},T.type.defaultProps),T.props):T.props,O=Ds(T.type);if(O==="Bar"){var M=(E.data||[]).find(function(D){return z_e(b,D)});if(M)return{graphicalItem:A,payload:M}}else if(O==="RadialBar"){var L=(E.data||[]).find(function(D){return CM(b,D)});if(L)return{graphicalItem:A,payload:L}}else if(Eb(A,S)||Tb(A,S)||sp(A,S)){var R=UOe({graphicalItem:A,activeTooltipItem:S,itemData:_.data}),V=_.activeIndex===void 0?R:_.activeIndex;return{graphicalItem:J(J({},A),{},{childIndex:V}),payload:sp(A,S)?_.data[R]:A.props.data[R]}}}return null}},{key:"render",value:function(){var b=this;if(!vk(this))return null;var N=this.props,j=N.children,S=N.className,P=N.width,C=N.height,A=N.style,E=N.compact,T=N.title,_=N.desc,O=HI(N,AIe),M=Je(O,!1);if(E)return k.createElement(NI,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},k.createElement(VS,bu({},M,{width:P,height:C,title:T,desc:_}),this.renderClipPath(),xk(j,this.renderMap)));if(this.props.accessibilityLayer){var L,R;M.tabIndex=(L=this.props.tabIndex)!==null&&L!==void 0?L:0,M.role=(R=this.props.role)!==null&&R!==void 0?R:"application",M.onKeyDown=function(D){b.accessibilityManager.keyboardEvent(D)},M.onFocus=function(){b.accessibilityManager.focus()}}var V=this.parseEventsOfWrapper();return k.createElement(NI,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},k.createElement("div",bu({className:yt("recharts-wrapper",S),style:J({position:"relative",cursor:"default",width:P,height:C},A)},V,{ref:function(I){b.container=I}}),k.createElement(VS,bu({},M,{width:P,height:C,title:T,desc:_,style:KIe}),this.renderClipPath(),xk(j,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(v.Component);Ue(x,"displayName",r),Ue(x,"defaultProps",J({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Ue(x,"getDerivedStateFromProps",function(g,w){var y=g.dataKey,b=g.data,N=g.children,j=g.width,S=g.height,P=g.layout,C=g.stackOffset,A=g.margin,E=w.dataStartIndex,T=w.dataEndIndex;if(w.updateId===void 0){var _=YI(g);return J(J(J({},_),{},{updateId:0},p(J(J({props:g},_),{},{updateId:0}),w)),{},{prevDataKey:y,prevData:b,prevWidth:j,prevHeight:S,prevLayout:P,prevStackOffset:C,prevMargin:A,prevChildren:N})}if(y!==w.prevDataKey||b!==w.prevData||j!==w.prevWidth||S!==w.prevHeight||P!==w.prevLayout||C!==w.prevStackOffset||!Du(A,w.prevMargin)){var O=YI(g),M={chartX:w.chartX,chartY:w.chartY,isTooltipActive:w.isTooltipActive},L=J(J({},XI(w,b,P)),{},{updateId:w.updateId+1}),R=J(J(J({},O),M),L);return J(J(J({},R),p(J({props:g},R),w)),{},{prevDataKey:y,prevData:b,prevWidth:j,prevHeight:S,prevLayout:P,prevStackOffset:C,prevMargin:A,prevChildren:N})}if(!LS(N,w.prevChildren)){var V,D,I,B,Y=ca(N,Dd),X=Y&&(V=(D=Y.props)===null||D===void 0?void 0:D.startIndex)!==null&&V!==void 0?V:E,oe=Y&&(I=(B=Y.props)===null||B===void 0?void 0:B.endIndex)!==null&&I!==void 0?I:T,je=X!==E||oe!==T,Fe=!et(b),Ae=Fe&&!je?w.updateId:w.updateId+1;return J(J({updateId:Ae},p(J(J({props:g},w),{},{updateId:Ae,dataStartIndex:X,dataEndIndex:oe}),w)),{},{prevChildren:N,dataStartIndex:X,dataEndIndex:oe})}return null}),Ue(x,"renderActiveDot",function(g,w,y){var b;return v.isValidElement(g)?b=v.cloneElement(g,w):rt(g)?b=g(w):b=k.createElement(Ab,w),k.createElement(Tt,{className:"recharts-active-dot",key:y},b)});var m=v.forwardRef(function(w,y){return k.createElement(x,bu({},w,{ref:y}))});return m.displayName=x.displayName,m},Vb=Fb({chartName:"LineChart",GraphicalChild:Na,axisComponents:[{axisType:"xAxis",AxisComp:Mn},{axisType:"yAxis",AxisComp:In}],formatAxisMap:Ob}),aT=Fb({chartName:"BarChart",GraphicalChild:Xn,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Mn},{axisType:"yAxis",AxisComp:In}],formatAxisMap:Ob}),eRe=Fb({chartName:"AreaChart",GraphicalChild:cs,axisComponents:[{axisType:"xAxis",AxisComp:Mn},{axisType:"yAxis",AxisComp:In}],formatAxisMap:Ob}),tRe=Fb({chartName:"ComposedChart",GraphicalChild:[Na,cs,Xn,$b],axisComponents:[{axisType:"xAxis",AxisComp:Mn},{axisType:"yAxis",AxisComp:In},{axisType:"zAxis",AxisComp:Rb}],formatAxisMap:Ob});function rRe(e,t,r=!1){const n=typeof e=="string"?parseFloat(e.replace(/[^0-9.-]+/g,"")):e,a=typeof t=="string"?parseFloat(t.replace(/[^0-9.-]+/g,"")):t;if(isNaN(n)||isNaN(a))return"alert";const i=.9;return r?n<=a?"complies":n<=a*(1+(1-i))?"alert":"not_compliant":n>=a?"complies":n>=a*i?"alert":"not_compliant"}function nRe(e,t,r=!1){const n=typeof e=="string"?parseFloat(e.replace(/[^0-9.-]+/g,"")):e,a=typeof t=="string"?parseFloat(t.replace(/[^0-9.-]+/g,"")):t;if(isNaN(n)||isNaN(a))return"0.0%";let i;return r?n===0?i=a>0?200:0:i=a/n*100:a===0?i=n>0?100:0:i=n/a*100,`${i.toFixed(1)}%`}function aRe(e){const t=typeof e=="string"?new Date(e):e,r=String(t.getDate()).padStart(2,"0"),n=String(t.getMonth()+1).padStart(2,"0"),a=t.getFullYear(),i=String(t.getHours()).padStart(2,"0"),o=String(t.getMinutes()).padStart(2,"0");return`${r}/${n}/${a} ${i}:${o}`}const iRe=({kpiValues:e,title:t,isInverted:r=!1,unit:n="",target:a="0"})=>{const i=v.useMemo(()=>[...e].sort((c,u)=>{const d=c.date?new Date(c.date).getTime():0,f=u.date?new Date(u.date).getTime():0;return d-f}).map(c=>{let u=parseFloat(c.value.replace(/[^\d.-]/g,""));return{fecha:c.date?aRe(c.date):"Fecha no disponible",valor:u,period:c.period,original:c.value}}),[e]),o=parseFloat(a.replace(/[^\d.-]/g,""));return s.jsxs(le,{className:"w-full h-full shadow-md",children:[s.jsxs(_e,{children:[s.jsx("h3",{className:"text-lg font-bold",children:t}),s.jsx("p",{className:"text-sm text-gray-500",children:"Tendencia histórica"})]}),s.jsx(ce,{children:i.length>1?s.jsx(Is,{width:"100%",height:300,children:s.jsxs(Vb,{data:i,margin:{top:5,right:30,left:20,bottom:5},children:[s.jsx(as,{strokeDasharray:"3 3"}),s.jsx(Mn,{dataKey:"fecha",tick:{fontSize:12},angle:-45,textAnchor:"end",height:70}),s.jsx(In,{}),s.jsx(Kr,{formatter:(l,c)=>{const u=i.find(d=>d.valor===l);return[(u==null?void 0:u.original)||l,"Valor"]}}),s.jsx(xa,{}),s.jsx(Na,{type:"monotone",dataKey:"valor",name:"Valor",stroke:"#273949",activeDot:{r:8},strokeWidth:2,dot:{stroke:"#273949",strokeWidth:2,r:4,fill:"#fff"}}),s.jsx(Na,{type:"monotone",dataKey:()=>o,name:"Objetivo",stroke:"#b5e951",strokeDasharray:"5 5",dot:!1})]})}):s.jsx("div",{className:"flex items-center justify-center h-[300px] text-gray-500",children:i.length===0?"No hay datos históricos disponibles":"Se necesitan al menos dos puntos para mostrar la tendencia"})})]})};function sRe({kpiId:e,isOpen:t,onClose:r}){var S,P,C,A,E,T;const[n,a]=v.useState("overview"),i=()=>{const _=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],O=new Date;return`${_[O.getMonth()]} ${O.getFullYear()}`},[o,l]=v.useState({value:"",period:i(),comments:""}),{toast:c}=wn(),u=Vn(),{user:d}=dl(),{data:f,isLoading:h}=$e({queryKey:["/api/kpis",e],queryFn:async()=>e?await(await zt("GET",`/api/kpis/${e}`)).json():null,enabled:!!e&&t}),{data:p,isLoading:x}=$e({queryKey:["/api/kpi-values",e],queryFn:async()=>e?await(await zt("GET",`/api/kpi-values?kpiId=${e}`)).json():[],enabled:!!e&&t}),{data:m}=$e({queryKey:["/api/areas",f==null?void 0:f.areaId],queryFn:async()=>f!=null&&f.areaId?await(await zt("GET",`/api/areas/${f.areaId}`)).json():null,enabled:!!(f!=null&&f.areaId)&&t}),{data:g}=$e({queryKey:["/api/companies",f==null?void 0:f.companyId],queryFn:async()=>f!=null&&f.companyId?await(await zt("GET",`/api/companies/${f.companyId}`)).json():null,enabled:!!(f!=null&&f.companyId)&&t}),w=At({mutationFn:async _=>await(await zt("POST","/api/kpi-values",_)).json(),onSuccess:()=>{c({title:"Actualización registrada",description:"La actualización del KPI ha sido registrada exitosamente."}),l({value:"",period:i(),comments:""}),u.invalidateQueries({queryKey:["/api/kpi-values"]}),u.invalidateQueries({queryKey:["/api/kpi-values",e]})},onError:_=>{c({title:"Error",description:_.message||"No se pudo registrar la actualización. Intente nuevamente.",variant:"destructive"})}}),y=_=>{const{name:O,value:M}=_.target;l(L=>({...L,[O]:M}))},b=(_,O)=>{const M=(f==null?void 0:f.name.includes("Rotación de cuentas por cobrar"))||(f==null?void 0:f.name.includes("Velocidad de rotación"))||(f==null?void 0:f.name.includes("Tiempo"))&&!(f!=null&&f.name.includes("entrega"));console.log(`KPI ${f==null?void 0:f.name} - ¿Métrica invertida?: ${M}`),console.log(`Valor actual: ${_}, Objetivo: ${O}`);const L=nRe(_,O,M),R=rRe(_,O,M);return console.log(`Porcentaje calculado: ${L}, Estado: ${R}`),{compliancePercentage:L,status:R}},N=_=>{if(_.preventDefault(),!e||!(f!=null&&f.target))return;const{compliancePercentage:O,status:M}=b(o.value,f.target);console.log(`Enviando actualización de KPI ${e}: valor=${o.value}, porcentaje=${O}, estado=${M}`),w.mutate({...o,compliancePercentage:O,status:M,kpiId:e},{onSuccess:()=>{console.log("Actualizando todas las consultas de KPIs para refrescar datos en tiempo real"),u.invalidateQueries({queryKey:["/api/kpi-values"]}),u.invalidateQueries({queryKey:["/api/kpis"]}),u.invalidateQueries()}})},j=p&&Array.isArray(p)?p.filter(_=>_.kpiId===e).sort((_,O)=>{const M=V=>{const D={Enero:1,Febrero:2,Marzo:3,Abril:4,Mayo:5,Junio:6,Julio:7,Agosto:8,Septiembre:9,Octubre:10,Noviembre:11,Diciembre:12},I=V.split(" ");if(I.length>=2){const B=I[0],Y=parseInt(I[1],10);if(D[B]&&!isNaN(Y))return Y*100+D[B]}return new Date(V).getTime()},L=M(_.period),R=M(O.period);return L&&R?L-R:new Date(_.date).getTime()-new Date(O.date).getTime()}).map(_=>{let O=_.value;return typeof _.value=="string"&&_.value.includes("KG")&&(O=parseInt(_.value.replace(/[^0-9,.]/g,"").replace(",",""),10)),{date:_.period,originalDate:nk(new Date(_.date)),value:_.value,numericValue:O,status:_.status,compliancePercentage:_.compliancePercentage?parseFloat(_.compliancePercentage.replace("%","")):0}}):[];return j.reduce((_,O)=>{const M=_.findIndex(L=>L.name===O.status);return M>=0?_[M].value+=1:_.push({name:O.status,value:1}),_},[]),t?s.jsx(Ir,{open:t,onOpenChange:_=>!_&&r(),children:s.jsx(Sr,{className:"max-w-4xl max-h-[95vh] overflow-y-auto p-3 sm:p-6",children:h?s.jsx("div",{className:"flex justify-center items-center h-40",children:s.jsx(qi,{className:"h-8 w-8 animate-spin text-primary"})}):f?s.jsxs(s.Fragment,{children:[s.jsxs(Nr,{children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2",children:[s.jsx(Pr,{className:"text-lg sm:text-xl font-bold",children:f.name}),s.jsx(Ze,{className:`text-xs whitespace-nowrap ${f.status==="complies"?"bg-green-100 text-green-800 hover:bg-green-200 dark:bg-green-900/40 dark:text-green-400":f.status==="alert"?"bg-yellow-100 text-yellow-800 hover:bg-yellow-200 dark:bg-yellow-900/40 dark:text-yellow-400":"bg-red-100 text-red-800 hover:bg-red-200 dark:bg-red-900/40 dark:text-red-400"}`,children:f.status==="complies"?"Cumple":f.status==="alert"?"Alerta":"No cumple"})]}),s.jsx(el,{children:s.jsxs("div",{className:"mt-1 sm:mt-2 space-y-0.5 sm:space-y-1 text-xs sm:text-sm",children:[s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Objetivo:"})," ",f.target]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Área:"})," ",(m==null?void 0:m.name)||"Cargando..."]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Responsable:"})," ",f.responsible||"No asignado"]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-medium",children:"Frecuencia:"})," ",f.frequency==="weekly"?"Semanal":f.frequency==="monthly"?"Mensual":f.frequency==="quarterly"?"Trimestral":f.frequency==="yearly"?"Anual":f.frequency]})]})})]}),s.jsxs(hl,{value:n,onValueChange:a,className:"w-full mt-3 sm:mt-6",children:[s.jsxs(Ys,{className:"grid w-full grid-cols-3",children:[s.jsx(Xt,{className:"text-xs sm:text-sm py-1.5",value:"overview",children:"Visión General"}),s.jsx(Xt,{className:"text-xs sm:text-sm py-1.5",value:"history",children:"Historial"}),s.jsx(Xt,{className:"text-xs sm:text-sm py-1.5",value:"update",children:"Actualizar"})]}),s.jsxs(mr,{value:"overview",className:"space-y-3 sm:space-y-4 pt-2 sm:pt-4",children:[s.jsxs(le,{className:"shadow-sm",children:[s.jsxs(_e,{className:"pb-2 sm:pb-4",children:[s.jsx(ke,{className:"text-sm sm:text-base",children:"Tendencia del Volumen de Ventas"}),s.jsx(Et,{className:"text-xs sm:text-sm",children:"Evolución del KPI en el tiempo"})]}),s.jsx(ce,{children:j.length>0?s.jsx(Is,{width:"100%",height:250,children:s.jsxs(Vb,{data:j,margin:{top:5,right:10,left:0,bottom:5},children:[s.jsx(as,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),s.jsx(Mn,{dataKey:"date",tick:{fontSize:10}}),s.jsx(In,{label:{value:"Kilogramos (KG)",angle:-90,position:"insideLeft",style:{fontSize:"10px"}},tick:{fontSize:10}}),s.jsx(Kr,{formatter:(_,O)=>typeof _=="string"&&_.includes("KG")?[`${_.replace(/[^0-9,.]/g,"").replace(",","")} KG`,"Volumen"]:[_,O],contentStyle:{fontSize:"12px"}}),s.jsx(xa,{wrapperStyle:{fontSize:"10px"}}),s.jsx(Na,{type:"monotone",dataKey:"numericValue",name:"Volumen (KG)",stroke:"#4f46e5",activeDot:{r:6},strokeWidth:2})]})}):s.jsx("div",{className:"flex justify-center items-center h-32 text-secondary-500 text-xs sm:text-sm",children:"No hay datos suficientes para mostrar la tendencia"})})]}),s.jsxs(le,{className:"shadow-sm",children:[s.jsxs(_e,{className:"pb-2 sm:pb-4",children:[s.jsx(ke,{className:"text-sm sm:text-base",children:"Último Reporte"}),s.jsx(Et,{className:"text-xs sm:text-sm",children:"Detalles del último reporte registrado"})]}),s.jsx(ce,{children:j.length>0?s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-2 sm:gap-4",children:[s.jsxs("div",{className:"space-y-0.5 sm:space-y-1",children:[s.jsx("p",{className:"text-xs sm:text-sm font-medium text-secondary-500",children:"Fecha"}),s.jsx("p",{className:"text-xs sm:text-sm",children:j[j.length-1].date})]}),s.jsxs("div",{className:"space-y-0.5 sm:space-y-1",children:[s.jsx("p",{className:"text-xs sm:text-sm font-medium text-secondary-500",children:"Valor"}),s.jsx("p",{className:"text-xs sm:text-sm",children:j[j.length-1].value})]}),s.jsxs("div",{className:"space-y-0.5 sm:space-y-1",children:[s.jsx("p",{className:"text-xs sm:text-sm font-medium text-secondary-500",children:"Estado"}),s.jsx(Ze,{className:`text-xs ${j[j.length-1].status==="complies"?"bg-green-100 text-green-800 dark:bg-green-900/40 dark:text-green-400":j[j.length-1].status==="alert"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/40 dark:text-yellow-400":"bg-red-100 text-red-800 dark:bg-red-900/40 dark:text-red-400"}`,children:j[j.length-1].status==="complies"?"Cumple":j[j.length-1].status==="alert"?"Alerta":"No cumple"})]}),s.jsxs("div",{className:"space-y-0.5 sm:space-y-1",children:[s.jsx("p",{className:"text-xs sm:text-sm font-medium text-secondary-500",children:"% Cumplimiento"}),s.jsxs("p",{className:"text-xs sm:text-sm",children:[j[j.length-1].compliancePercentage,"%"]})]})]}),p&&p.length>0&&p[p.length-1].comments&&s.jsxs("div",{className:"mt-3 sm:mt-4",children:[s.jsx("p",{className:"text-xs sm:text-sm font-medium text-secondary-500",children:"Comentarios"}),s.jsx("p",{className:"text-xs sm:text-sm mt-1",children:p[p.length-1].comments})]})]}):s.jsx("div",{className:"text-center text-secondary-500 text-xs sm:text-sm py-4",children:"No hay reportes registrados aún"})})]})]}),s.jsxs(mr,{value:"history",className:"pt-2 sm:pt-4",children:[s.jsx("div",{className:"mb-4",children:x?s.jsx("div",{className:"flex justify-center items-center h-32",children:s.jsx(qi,{className:"h-6 w-6 sm:h-8 sm:w-8 animate-spin text-primary"})}):p&&Array.isArray(p)&&p.length>1?s.jsx(iRe,{kpiValues:p,title:`Tendencia histórica de ${(f==null?void 0:f.name)||"KPI"}`,isInverted:((S=f==null?void 0:f.name)==null?void 0:S.includes("Rotación de cuentas por cobrar"))||((P=f==null?void 0:f.name)==null?void 0:P.includes("Velocidad de rotación"))||((C=f==null?void 0:f.name)==null?void 0:C.includes("Tiempo"))&&!((A=f==null?void 0:f.name)!=null&&A.includes("entrega")),unit:f==null?void 0:f.unit,target:f==null?void 0:f.target}):s.jsx(le,{className:"shadow-sm",children:s.jsx(ce,{className:"p-6",children:s.jsx("div",{className:"flex justify-center items-center h-32 text-secondary-500 text-sm",children:p&&Array.isArray(p)&&p.length===1?"Se necesitan al menos dos puntos de datos para mostrar la tendencia histórica":"No hay datos históricos disponibles para este KPI"})})})}),s.jsxs(le,{className:"shadow-sm",children:[s.jsxs(_e,{className:"pb-2 sm:pb-4",children:[s.jsx(ke,{className:"text-sm sm:text-base",children:"Historial de Actualizaciones"}),s.jsx(Et,{className:"text-xs sm:text-sm",children:"Registro cronológico de las actualizaciones del KPI"})]}),s.jsx(ce,{children:x?s.jsx("div",{className:"flex justify-center items-center h-32",children:s.jsx(qi,{className:"h-6 w-6 sm:h-8 sm:w-8 animate-spin text-primary"})}):p&&p.length>0?s.jsx("div",{className:"space-y-3 sm:space-y-4",children:p.sort((_,O)=>new Date(O.date).getTime()-new Date(_.date).getTime()).map((_,O)=>s.jsxs("div",{className:"border rounded-lg p-2 sm:p-4 space-y-2 sm:space-y-3",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-2 sm:gap-4",children:[s.jsxs("div",{className:"space-y-0.5 sm:space-y-1",children:[s.jsx("p",{className:"text-xs sm:text-sm font-medium text-secondary-500",children:"Fecha"}),s.jsx("p",{className:"text-xs sm:text-sm",children:_.period||nk(new Date(_.date))})]}),s.jsxs("div",{className:"space-y-0.5 sm:space-y-1",children:[s.jsx("p",{className:"text-xs sm:text-sm font-medium text-secondary-500",children:"Valor"}),s.jsx("p",{className:"text-xs sm:text-sm",children:_.value})]}),s.jsxs("div",{className:"space-y-0.5 sm:space-y-1",children:[s.jsx("p",{className:"text-xs sm:text-sm font-medium text-secondary-500",children:"Estado"}),s.jsx(Ze,{className:`text-xs ${_.status==="complies"?"bg-green-100 text-green-800 dark:bg-green-900/40 dark:text-green-400":_.status==="alert"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/40 dark:text-yellow-400":"bg-red-100 text-red-800 dark:bg-red-900/40 dark:text-red-400"}`,children:_.status==="complies"?"Cumple":_.status==="alert"?"Alerta":"No cumple"})]}),s.jsxs("div",{className:"space-y-0.5 sm:space-y-1",children:[s.jsx("p",{className:"text-xs sm:text-sm font-medium text-secondary-500",children:"% Cumplimiento"}),s.jsx("p",{className:"text-xs sm:text-sm",children:_.compliancePercentage||"-"})]})]}),_.comments&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs sm:text-sm font-medium text-secondary-500",children:"Comentarios"}),s.jsx("p",{className:"text-xs sm:text-sm mt-0.5 sm:mt-1",children:_.comments})]})]},O))}):s.jsx("div",{className:"text-center text-secondary-500 text-xs sm:text-sm py-6 sm:py-10",children:"No hay actualizaciones registradas para este KPI"})})]})]}),s.jsx(mr,{value:"update",className:"pt-2 sm:pt-4",children:s.jsxs(le,{className:"shadow-sm",children:[s.jsxs(_e,{className:"pb-2 sm:pb-4",children:[s.jsx(ke,{className:"text-sm sm:text-base",children:"Registrar Nueva Actualización"}),s.jsx(Et,{className:"text-xs sm:text-sm",children:"Complete el formulario para registrar una nueva actualización del KPI"})]}),s.jsx(ce,{children:s.jsxs("form",{onSubmit:N,className:"space-y-3 sm:space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 gap-3 sm:gap-4 md:grid-cols-2",children:[s.jsxs("div",{className:"space-y-1 sm:space-y-2",children:[s.jsx(ge,{htmlFor:"value",className:"text-xs sm:text-sm",children:"Valor Actual"}),s.jsx(Ee,{id:"value",name:"value",className:"text-xs sm:text-sm h-8 sm:h-10",placeholder:(E=f==null?void 0:f.name)!=null&&E.includes("Volumen de ventas")&&(g==null?void 0:g.name)==="Dura International"?"Ej: 52,450 KG":(T=f==null?void 0:f.name)!=null&&T.includes("Volumen de ventas")&&(g==null?void 0:g.name)==="Grupo Orsega"?"Ej: 760,000 unidades":"Ej: 98.5%",value:o.value,onChange:y,required:!0})]}),s.jsxs("div",{className:"space-y-1 sm:space-y-2",children:[s.jsx(ge,{htmlFor:"period",className:"text-xs sm:text-sm",children:"Período"}),s.jsx("div",{className:"flex items-center border rounded-md h-8 sm:h-10 px-3 bg-secondary-50 dark:bg-secondary-900/20",children:s.jsxs("div",{className:"text-xs sm:text-sm text-secondary-700 dark:text-secondary-300 flex-1",children:[o.period," ",s.jsx("span",{className:"text-xs text-secondary-500",children:"(período actual)"})]})}),s.jsx("p",{className:"text-xs text-secondary-500 mt-1",children:"El período se establece automáticamente al mes actual."})]}),s.jsxs("div",{className:"space-y-1 sm:space-y-2 md:col-span-2",children:[s.jsx(ge,{className:"text-xs sm:text-sm",children:"Estado y Cumplimiento"}),s.jsxs("div",{className:"px-3 sm:px-4 py-2 sm:py-3 rounded-md bg-secondary/10 text-xs sm:text-sm",children:["El estado y porcentaje de cumplimiento se calcularán automáticamente al enviar el formulario, basándose en el valor ingresado y la meta establecida.",f!=null&&f.name.includes("Velocidad de rotación")||f!=null&&f.name.includes("Tiempo")&&!(f!=null&&f.name.includes("entrega"))?s.jsx("p",{className:"mt-1 font-medium text-primary-700 dark:text-primary-500",children:"Nota: Para este KPI, valores menores al objetivo representan un mejor desempeño."}):null]})]})]}),s.jsxs("div",{className:"space-y-1 sm:space-y-2",children:[s.jsx(ge,{htmlFor:"comments",className:"text-xs sm:text-sm",children:"Comentarios"}),s.jsx(Za,{id:"comments",name:"comments",className:"text-xs sm:text-sm min-h-[80px] sm:min-h-[100px]",placeholder:"Ingrese detalles, causas, acciones tomadas, etc.",value:o.comments,onChange:y,rows:3})]}),s.jsxs(F0,{className:"mt-4 sm:mt-6 flex flex-col-reverse sm:flex-row gap-2 sm:gap-0",children:[s.jsx(re,{type:"button",variant:"outline",onClick:r,disabled:w.isPending,className:"w-full sm:w-auto text-xs sm:text-sm py-1.5 sm:py-2 h-8 sm:h-10",children:"Cancelar"}),s.jsx(re,{type:"submit",disabled:w.isPending,className:"w-full sm:w-auto text-xs sm:text-sm py-1.5 sm:py-2 h-8 sm:h-10",children:w.isPending?s.jsxs(s.Fragment,{children:[s.jsx(qi,{className:"mr-2 h-3 w-3 sm:h-4 sm:w-4 animate-spin"}),"Guardando..."]}):"Guardar Actualización"})]})]})})]})})]})]}):s.jsxs(Nr,{children:[s.jsx(Pr,{children:"KPI no encontrado"}),s.jsx(el,{children:"No se pudo cargar la información del KPI."})]})})}):null}function uP(e,[t,r]){return Math.min(r,Math.max(t,e))}function oRe(e,t){return v.useReducer((r,n)=>t[r][n]??r,e)}var iT="ScrollArea",[hW,Sze]=jn(iT),[lRe,ri]=hW(iT),mW=v.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:a,scrollHideDelay:i=600,...o}=e,[l,c]=v.useState(null),[u,d]=v.useState(null),[f,h]=v.useState(null),[p,x]=v.useState(null),[m,g]=v.useState(null),[w,y]=v.useState(0),[b,N]=v.useState(0),[j,S]=v.useState(!1),[P,C]=v.useState(!1),A=ot(t,T=>c(T)),E=ff(a);return s.jsx(lRe,{scope:r,type:n,dir:E,scrollHideDelay:i,scrollArea:l,viewport:u,onViewportChange:d,content:f,onContentChange:h,scrollbarX:p,onScrollbarXChange:x,scrollbarXEnabled:j,onScrollbarXEnabledChange:S,scrollbarY:m,onScrollbarYChange:g,scrollbarYEnabled:P,onScrollbarYEnabledChange:C,onCornerWidthChange:y,onCornerHeightChange:N,children:s.jsx(Ie.div,{dir:E,...o,ref:A,style:{position:"relative","--radix-scroll-area-corner-width":w+"px","--radix-scroll-area-corner-height":b+"px",...e.style}})})});mW.displayName=iT;var pW="ScrollAreaViewport",gW=v.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:a,...i}=e,o=ri(pW,r),l=v.useRef(null),c=ot(t,l,o.onViewportChange);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),s.jsx(Ie.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:s.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});gW.displayName=pW;var ms="ScrollAreaScrollbar",sT=v.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=ri(ms,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=a,l=e.orientation==="horizontal";return v.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),a.type==="hover"?s.jsx(cRe,{...n,ref:t,forceMount:r}):a.type==="scroll"?s.jsx(uRe,{...n,ref:t,forceMount:r}):a.type==="auto"?s.jsx(vW,{...n,ref:t,forceMount:r}):a.type==="always"?s.jsx(oT,{...n,ref:t}):null});sT.displayName=ms;var cRe=v.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=ri(ms,e.__scopeScrollArea),[i,o]=v.useState(!1);return v.useEffect(()=>{const l=a.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),o(!0)},d=()=>{c=window.setTimeout(()=>o(!1),a.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[a.scrollArea,a.scrollHideDelay]),s.jsx(Sn,{present:r||i,children:s.jsx(vW,{"data-state":i?"visible":"hidden",...n,ref:t})})}),uRe=v.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=ri(ms,e.__scopeScrollArea),i=e.orientation==="horizontal",o=Bb(()=>c("SCROLL_END"),100),[l,c]=oRe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return v.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,a.scrollHideDelay,c]),v.useEffect(()=>{const u=a.viewport,d=i?"scrollLeft":"scrollTop";if(u){let f=u[d];const h=()=>{const p=u[d];f!==p&&(c("SCROLL"),o()),f=p};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[a.viewport,i,c,o]),s.jsx(Sn,{present:r||l!=="hidden",children:s.jsx(oT,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:ue(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:ue(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),vW=v.forwardRef((e,t)=>{const r=ri(ms,e.__scopeScrollArea),{forceMount:n,...a}=e,[i,o]=v.useState(!1),l=e.orientation==="horizontal",c=Bb(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;o(l?u:d)}},10);return Hd(r.viewport,c),Hd(r.content,c),s.jsx(Sn,{present:n||i,children:s.jsx(oT,{"data-state":i?"visible":"hidden",...a,ref:t})})}),oT=v.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,a=ri(ms,e.__scopeScrollArea),i=v.useRef(null),o=v.useRef(0),[l,c]=v.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=jW(l.viewport,l.content),d={...n,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:h=>i.current=h,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:h=>o.current=h};function f(h,p){return gRe(h,o.current,l,p)}return r==="horizontal"?s.jsx(dRe,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const h=a.viewport.scrollLeft,p=ZI(h,l,a.dir);i.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollLeft=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollLeft=f(h,a.dir))}}):r==="vertical"?s.jsx(fRe,{...d,ref:t,onThumbPositionChange:()=>{if(a.viewport&&i.current){const h=a.viewport.scrollTop,p=ZI(h,l);i.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:h=>{a.viewport&&(a.viewport.scrollTop=h)},onDragScroll:h=>{a.viewport&&(a.viewport.scrollTop=f(h))}}):null}),dRe=v.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,i=ri(ms,e.__scopeScrollArea),[o,l]=v.useState(),c=v.useRef(null),u=ot(t,c,i.onScrollbarXChange);return v.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(xW,{"data-orientation":"horizontal",...a,ref:u,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":zb(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(i.viewport){const h=i.viewport.scrollLeft+d.deltaX;e.onWheelScroll(h),NW(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Cx(o.paddingLeft),paddingEnd:Cx(o.paddingRight)}})}})}),fRe=v.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...a}=e,i=ri(ms,e.__scopeScrollArea),[o,l]=v.useState(),c=v.useRef(null),u=ot(t,c,i.onScrollbarYChange);return v.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),s.jsx(xW,{"data-orientation":"vertical",...a,ref:u,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":zb(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(i.viewport){const h=i.viewport.scrollTop+d.deltaY;e.onWheelScroll(h),NW(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Cx(o.paddingTop),paddingEnd:Cx(o.paddingBottom)}})}})}),[hRe,yW]=hW(ms),xW=v.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:a,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...h}=e,p=ri(ms,r),[x,m]=v.useState(null),g=ot(t,A=>m(A)),w=v.useRef(null),y=v.useRef(""),b=p.viewport,N=n.content-n.viewport,j=Jt(d),S=Jt(c),P=Bb(f,10);function C(A){if(w.current){const E=A.clientX-w.current.left,T=A.clientY-w.current.top;u({x:E,y:T})}}return v.useEffect(()=>{const A=E=>{const T=E.target;(x==null?void 0:x.contains(T))&&j(E,N)};return document.addEventListener("wheel",A,{passive:!1}),()=>document.removeEventListener("wheel",A,{passive:!1})},[b,x,N,j]),v.useEffect(S,[n,S]),Hd(x,P),Hd(p.content,P),s.jsx(hRe,{scope:r,scrollbar:x,hasThumb:a,onThumbChange:Jt(i),onThumbPointerUp:Jt(o),onThumbPositionChange:S,onThumbPointerDown:Jt(l),children:s.jsx(Ie.div,{...h,ref:g,style:{position:"absolute",...h.style},onPointerDown:ue(e.onPointerDown,A=>{A.button===0&&(A.target.setPointerCapture(A.pointerId),w.current=x.getBoundingClientRect(),y.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),C(A))}),onPointerMove:ue(e.onPointerMove,C),onPointerUp:ue(e.onPointerUp,A=>{const E=A.target;E.hasPointerCapture(A.pointerId)&&E.releasePointerCapture(A.pointerId),document.body.style.webkitUserSelect=y.current,p.viewport&&(p.viewport.style.scrollBehavior=""),w.current=null})})})}),Px="ScrollAreaThumb",bW=v.forwardRef((e,t)=>{const{forceMount:r,...n}=e,a=yW(Px,e.__scopeScrollArea);return s.jsx(Sn,{present:r||a.hasThumb,children:s.jsx(mRe,{ref:t,...n})})}),mRe=v.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...a}=e,i=ri(Px,r),o=yW(Px,r),{onThumbPositionChange:l}=o,c=ot(t,f=>o.onThumbChange(f)),u=v.useRef(void 0),d=Bb(()=>{u.current&&(u.current(),u.current=void 0)},100);return v.useEffect(()=>{const f=i.viewport;if(f){const h=()=>{if(d(),!u.current){const p=vRe(f,l);u.current=p,l()}};return l(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[i.viewport,d,l]),s.jsx(Ie.div,{"data-state":o.hasThumb?"visible":"hidden",...a,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:ue(e.onPointerDownCapture,f=>{const p=f.target.getBoundingClientRect(),x=f.clientX-p.left,m=f.clientY-p.top;o.onThumbPointerDown({x,y:m})}),onPointerUp:ue(e.onPointerUp,o.onThumbPointerUp)})});bW.displayName=Px;var lT="ScrollAreaCorner",wW=v.forwardRef((e,t)=>{const r=ri(lT,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?s.jsx(pRe,{...e,ref:t}):null});wW.displayName=lT;var pRe=v.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,a=ri(lT,r),[i,o]=v.useState(0),[l,c]=v.useState(0),u=!!(i&&l);return Hd(a.scrollbarX,()=>{var f;const d=((f=a.scrollbarX)==null?void 0:f.offsetHeight)||0;a.onCornerHeightChange(d),c(d)}),Hd(a.scrollbarY,()=>{var f;const d=((f=a.scrollbarY)==null?void 0:f.offsetWidth)||0;a.onCornerWidthChange(d),o(d)}),u?s.jsx(Ie.div,{...n,ref:t,style:{width:i,height:l,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Cx(e){return e?parseInt(e,10):0}function jW(e,t){const r=e/t;return isNaN(r)?0:r}function zb(e){const t=jW(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function gRe(e,t,r,n="ltr"){const a=zb(r),i=a/2,o=t||i,l=a-o,c=r.scrollbar.paddingStart+o,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,d=r.content-r.viewport,f=n==="ltr"?[0,d]:[d*-1,0];return SW([c,u],f)(e)}function ZI(e,t,r="ltr"){const n=zb(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-a,o=t.content-t.viewport,l=i-n,c=r==="ltr"?[0,o]:[o*-1,0],u=uP(e,c);return SW([0,o],[0,l])(u)}function SW(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function NW(e,t){return e>0&&e<t}var vRe=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function a(){const i={left:e.scrollLeft,top:e.scrollTop},o=r.left!==i.left,l=r.top!==i.top;(o||l)&&t(),r=i,n=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(n)};function Bb(e,t){const r=Jt(e),n=v.useRef(0);return v.useEffect(()=>()=>window.clearTimeout(n.current),[]),v.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function Hd(e,t){const r=Jt(t);Ar(()=>{let n=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return a.observe(e),()=>{window.cancelAnimationFrame(n),a.unobserve(e)}}},[e,r])}var PW=mW,yRe=gW,xRe=wW;const $u=v.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(PW,{ref:n,className:he("relative overflow-hidden",e),...r,children:[s.jsx(yRe,{className:"h-full w-full rounded-[inherit]",children:t}),s.jsx(CW,{}),s.jsx(xRe,{})]}));$u.displayName=PW.displayName;const CW=v.forwardRef(({className:e,orientation:t="vertical",...r},n)=>s.jsx(sT,{ref:n,orientation:t,className:he("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:s.jsx(bW,{className:"relative flex-1 rounded-full bg-border"})}));CW.displayName=sT.displayName;const JI={complies:"En cumplimiento",alert:"En alerta",not_compliant:"Fuera de objetivo",all:"Todos los KPIs"},bRe={complies:s.jsx(tn,{className:"h-5 w-5 text-green-500"}),alert:s.jsx(Kp,{className:"h-5 w-5 text-yellow-500"}),not_compliant:s.jsx(Up,{className:"h-5 w-5 text-red-500"}),all:s.jsx(Ko,{className:"h-5 w-5 text-blue-500"})};function wRe({isOpen:e,onClose:t,status:r,kpis:n,onViewKpiDetails:a}){var c;const[i,o]=v.useState([]);v.useEffect(()=>{o(r==="all"||!r?n:n.filter(u=>u.status===r))},[n,r]);const l=r==="complies"?"text-green-600 bg-green-50 dark:text-green-400 dark:bg-green-900/30":r==="alert"?"text-yellow-600 bg-yellow-50 dark:text-yellow-400 dark:bg-yellow-900/30":r==="not_compliant"?"text-red-600 bg-red-50 dark:text-red-400 dark:bg-red-900/30":"text-primary-600 bg-primary-50 dark:text-primary-400 dark:bg-primary-900/30";return s.jsx(Ir,{open:e,onOpenChange:t,children:s.jsxs(Sr,{className:"sm:max-w-2xl max-h-[95vh] overflow-hidden",children:[s.jsxs(Nr,{children:[s.jsxs("div",{className:"flex items-center mb-1 sm:mb-2",children:[s.jsx("div",{className:`h-6 w-6 sm:h-8 sm:w-8 rounded-full flex items-center justify-center mr-2 ${l}`,children:r&&bRe[r]}),s.jsx(Pr,{className:"text-base sm:text-xl",children:r?JI[r]:"Todos los KPIs"})]}),s.jsxs(el,{className:"text-xs sm:text-sm",children:[i.length," KPIs",r!=="all"&&r?` en estado "${(c=JI[r])==null?void 0:c.toLowerCase()}"`:""]})]}),s.jsx($u,{className:"max-h-[calc(70vh-80px)] mt-2 sm:mt-4",children:s.jsx("div",{className:"space-y-2 sm:space-y-3 pr-2 sm:pr-4",children:i.length>0?i.map(u=>s.jsx(le,{className:`border ${u.status==="complies"?"border-green-100 hover:border-green-300":u.status==="alert"?"border-yellow-100 hover:border-yellow-300":"border-red-100 hover:border-red-300"} cursor-pointer transition-all hover:shadow-sm`,onClick:()=>a&&a(u.id),children:s.jsxs(ce,{className:"p-3 sm:p-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:`h-6 w-6 sm:h-8 sm:w-8 rounded-full flex items-center justify-center mr-2 sm:mr-3 ${u.status==="complies"?"bg-green-100 text-green-600 dark:bg-green-900/40 dark:text-green-400":u.status==="alert"?"bg-yellow-100 text-yellow-600 dark:bg-yellow-900/40 dark:text-yellow-400":"bg-red-100 text-red-600 dark:bg-red-900/40 dark:text-red-400"}`,children:u.status==="complies"?s.jsx(tn,{className:"h-3 w-3 sm:h-4 sm:w-4"}):u.status==="alert"?s.jsx(Kp,{className:"h-3 w-3 sm:h-4 sm:w-4"}):s.jsx(Up,{className:"h-3 w-3 sm:h-4 sm:w-4"})}),s.jsx("div",{className:"min-w-0 flex-1 mr-2",children:s.jsx("h3",{className:"font-medium text-sm sm:text-base truncate",children:u.name})})]}),s.jsx(Ze,{className:`text-xs whitespace-nowrap ${u.status==="complies"?"bg-green-100 text-green-800 dark:bg-green-900/40 dark:text-green-400":u.status==="alert"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/40 dark:text-yellow-400":"bg-red-100 text-red-800 dark:bg-red-900/40 dark:text-red-400"}`,children:u.status==="complies"?"Cumple":u.status==="alert"?"Alerta":"No Cumple"})]}),(u.value||u.target||u.compliancePercentage)&&s.jsxs("div",{className:"mt-2 sm:mt-3 flex flex-wrap sm:flex-nowrap items-center justify-between gap-y-2",children:[s.jsxs("div",{className:"flex space-x-4 sm:space-x-6",children:[u.value&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Valor actual"}),s.jsx("p",{className:"font-medium text-xs sm:text-sm",children:u.value})]}),u.target&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Objetivo"}),s.jsx("p",{className:"font-medium text-xs sm:text-sm",children:u.target})]})]}),u.compliancePercentage&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500",children:"Cumplimiento"}),s.jsx("p",{className:`text-xs sm:text-sm ${u.status==="complies"?"font-medium text-green-600 dark:text-green-400":u.status==="alert"?"font-medium text-yellow-600 dark:text-yellow-400":"font-medium text-red-600 dark:text-red-400"}`,children:u.compliancePercentage||"—"})]})]}),u.comments&&s.jsx("div",{className:"mt-2 text-xs sm:text-sm text-gray-500 p-2 bg-gray-50 dark:bg-gray-900/20 rounded-md",children:u.comments})]})},u.id)):s.jsx("div",{className:"text-center py-8 text-gray-500 text-sm",children:"No se encontraron KPIs con el estado seleccionado."})})})]})})}var jRe="Toggle",cT=v.forwardRef((e,t)=>{const{pressed:r,defaultPressed:n=!1,onPressedChange:a,...i}=e,[o=!1,l]=Ya({prop:r,onChange:a,defaultProp:n});return s.jsx(Ie.button,{type:"button","aria-pressed":o,"data-state":o?"on":"off","data-disabled":e.disabled?"":void 0,...i,ref:t,onClick:ue(e.onClick,()=>{e.disabled||l(!o)})})});cT.displayName=jRe;var AW=cT,_f="ToggleGroup",[EW,Nze]=jn(_f,[hf]),TW=hf(),uT=k.forwardRef((e,t)=>{const{type:r,...n}=e;if(r==="single"){const a=n;return s.jsx(SRe,{...a,ref:t})}if(r==="multiple"){const a=n;return s.jsx(NRe,{...a,ref:t})}throw new Error(`Missing prop \`type\` expected on \`${_f}\``)});uT.displayName=_f;var[_W,OW]=EW(_f),SRe=k.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:a=()=>{},...i}=e,[o,l]=Ya({prop:r,defaultProp:n,onChange:a});return s.jsx(_W,{scope:e.__scopeToggleGroup,type:"single",value:o?[o]:[],onItemActivate:l,onItemDeactivate:k.useCallback(()=>l(""),[l]),children:s.jsx(kW,{...i,ref:t})})}),NRe=k.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:a=()=>{},...i}=e,[o=[],l]=Ya({prop:r,defaultProp:n,onChange:a}),c=k.useCallback(d=>l((f=[])=>[...f,d]),[l]),u=k.useCallback(d=>l((f=[])=>f.filter(h=>h!==d)),[l]);return s.jsx(_W,{scope:e.__scopeToggleGroup,type:"multiple",value:o,onItemActivate:c,onItemDeactivate:u,children:s.jsx(kW,{...i,ref:t})})});uT.displayName=_f;var[PRe,CRe]=EW(_f),kW=k.forwardRef((e,t)=>{const{__scopeToggleGroup:r,disabled:n=!1,rovingFocus:a=!0,orientation:i,dir:o,loop:l=!0,...c}=e,u=TW(r),d=ff(o),f={role:"group",dir:d,...c};return s.jsx(PRe,{scope:r,rovingFocus:a,disabled:n,children:a?s.jsx(sA,{asChild:!0,...u,orientation:i,dir:d,loop:l,children:s.jsx(Ie.div,{...f,ref:t})}):s.jsx(Ie.div,{...f,ref:t})})}),Ax="ToggleGroupItem",DW=k.forwardRef((e,t)=>{const r=OW(Ax,e.__scopeToggleGroup),n=CRe(Ax,e.__scopeToggleGroup),a=TW(e.__scopeToggleGroup),i=r.value.includes(e.value),o=n.disabled||e.disabled,l={...e,pressed:i,disabled:o},c=k.useRef(null);return n.rovingFocus?s.jsx(oA,{asChild:!0,...a,focusable:!o,active:i,ref:c,children:s.jsx(eR,{...l,ref:t})}):s.jsx(eR,{...l,ref:t})});DW.displayName=Ax;var eR=k.forwardRef((e,t)=>{const{__scopeToggleGroup:r,value:n,...a}=e,i=OW(Ax,r),o={role:"radio","aria-checked":e.pressed,"aria-pressed":void 0},l=i.type==="single"?o:void 0;return s.jsx(cT,{...l,...a,ref:t,onPressedChange:c=>{c?i.onItemActivate(n):i.onItemDeactivate(n)}})}),MW=uT,IW=DW;const RW=of("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 gap-2",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground"},size:{default:"h-10 px-3 min-w-10",sm:"h-9 px-2.5 min-w-9",lg:"h-11 px-5 min-w-11"}},defaultVariants:{variant:"default",size:"default"}}),ARe=v.forwardRef(({className:e,variant:t,size:r,...n},a)=>s.jsx(AW,{ref:a,className:he(RW({variant:t,size:r,className:e})),...n}));ARe.displayName=AW.displayName;const $W=v.createContext({size:"default",variant:"default"}),LW=v.forwardRef(({className:e,variant:t,size:r,children:n,...a},i)=>s.jsx(MW,{ref:i,className:he("flex items-center justify-center gap-1",e),...a,children:s.jsx($W.Provider,{value:{variant:t,size:r},children:n})}));LW.displayName=MW.displayName;const Ph=v.forwardRef(({className:e,children:t,variant:r,size:n,...a},i)=>{const o=v.useContext($W);return s.jsx(IW,{ref:i,className:he(RW({variant:o.variant||r,size:o.size||n}),e),...a,children:t})});Ph.displayName=IW.displayName;function ERe({companyId:e,title:t="Volumen de Ventas",subtitle:r="Resumen mensual de ventas"}){const{data:n=[],isLoading:a}=$e({queryKey:["/api/kpi-values",e],refetchInterval:!1,refetchOnWindowFocus:!0,refetchOnMount:!0}),{data:i=[]}=$e({queryKey:["/api/kpis",e],refetchInterval:!1,refetchOnWindowFocus:!0,refetchOnMount:!0}),[o,l]=v.useState([]);v.useEffect(()=>{if(!n.length||!i.length){console.log("[SalesVolumeCards] Datos no disponibles aún");return}const u=i.find(h=>h.name.includes("Volumen de ventas")&&h.companyId===e);if(!u){console.log("[SalesVolumeCards] No se encontró KPI de volumen de ventas");return}const d=n.filter(h=>h.kpiId===u.id&&!h.period.includes("Semana")&&h.period.includes("2025")).sort((h,p)=>{const x=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],m=x.indexOf(h.period.split(" ")[0]),g=x.indexOf(p.period.split(" ")[0]);return m-g}),f=d.map((h,p)=>{var b;const x=parseFloat(h.value.replace(/[^0-9.,]/g,"").replace(",","."))||0,m=parseFloat(((b=h.compliancePercentage)==null?void 0:b.replace("%",""))||"0"),g=p>0?parseFloat(d[p-1].value.replace(/[^0-9.,]/g,"").replace(",","."))||0:x,w=g>0?(x-g)/g*100:0;let y="success";return m<85?y="danger":m<95&&(y="warning"),{month:h.period,value:x,percentChange:Math.round(w*10)/10,status:y,marginPercent:Math.round(m*10)/10,unit:e===1?"KG":"unidades",compliancePercent:m}});console.log(`[SalesVolumeCards] Procesados ${f.length} meses de datos reales para compañía ${e}`),l(f)},[n,i,e]),v.useEffect(()=>{const u=d=>{d.detail&&d.detail.companyId===e&&(console.log("[SalesVolumeCards] Recibiendo actualización de datos:",d.detail.data),d.detail.data.forEach(f=>{if(f.period){const h={Ene:"Enero",Feb:"Febrero",Mar:"Marzo",Abr:"Abril",May:"Mayo",Jun:"Junio",Jul:"Julio",Ago:"Agosto",Sep:"Septiembre",Oct:"Octubre",Nov:"Noviembre",Dic:"Diciembre"},p=f.period.split(" ");if(p.length===2){const x=p[0],m=p[1],g=h[x];if(g){const w=`${g} 20${m}`;l(y=>{const b=[...y],N=b.findIndex(j=>j.month===w);if(N>=0){const j=b[N].value;if(b[N].value=f.value,N>0){const S=(f.value-b[N-1].value)/b[N-1].value*100;b[N].percentChange=Math.round(S*10)/10,b[N].status=S>=0?"success":"warning"}console.log(`[SalesVolumeCards] Actualizado ${w}: ${j} → ${f.value}`)}return b})}}}}))};window.addEventListener("sales-data-updated",u);try{localStorage.removeItem("dashboardChartData"),console.log("[SalesVolumeCards] localStorage limpiado - usando solo datos auténticos de BD")}catch(d){console.error("[SalesVolumeCards] Error al limpiar localStorage:",d)}return()=>{window.removeEventListener("sales-data-updated",u)}},[e]),o.reduce((u,d)=>u+d.value,0);const c=u=>new Intl.NumberFormat("es-MX").format(u);return Math.round((new Date().getMonth()+1)/12*100),a||o.length===0?s.jsxs("div",{className:"space-y-4",children:[s.jsx("h2",{className:"text-xl font-semibold text-slate-800 dark:text-slate-200 mb-4",children:t}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[1,2,3,4].map(u=>s.jsx(le,{className:"shadow-md bg-white dark:bg-slate-900 border-l-4 border-l-gray-300",children:s.jsx(ce,{className:"p-6",children:s.jsxs("div",{className:"animate-pulse",children:[s.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-3/4 mb-2"}),s.jsx("div",{className:"h-8 bg-gray-200 dark:bg-gray-700 rounded w-1/2 mb-2"}),s.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded w-full"})]})})},u))}),s.jsx("div",{className:"text-center text-sm text-gray-500 dark:text-gray-400 mt-4",children:"Conectando con datos reales de ventas..."})]}):s.jsxs(s.Fragment,{children:[s.jsxs("h2",{className:"text-xl font-semibold text-slate-800 dark:text-slate-200 mb-4",children:[t,o.length>0&&s.jsxs("span",{className:"text-sm text-green-600 dark:text-green-400 ml-2",children:["✓ Conectado (",o.length," meses)"]})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:o.map((u,d)=>s.jsxs(le,{className:`shadow-md bg-white dark:bg-slate-900 border-l-4 ${u.percentChange>0?"border-l-green-500":u.percentChange<0?"border-l-amber-500":"border-l-blue-500"}`,children:[s.jsx(_e,{className:"pb-2",children:s.jsx(ke,{className:"text-base font-medium text-slate-800 dark:text-slate-200",children:u.month})}),s.jsx(ce,{className:"pt-0",children:s.jsxs("div",{className:"flex flex-col space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Volumen:"}),s.jsxs("span",{className:"text-lg font-bold text-gray-800 dark:text-gray-200",children:[c(u.value)," ",u.unit]})]}),d>0&&s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"vs mes anterior:"}),s.jsxs("div",{className:`flex items-center ${u.percentChange>0?"text-green-600 dark:text-green-400":u.percentChange<0?"text-red-600 dark:text-red-400":"text-gray-600 dark:text-gray-400"}`,children:[u.percentChange>0?s.jsx(rn,{className:"h-4 w-4 mr-1"}):u.percentChange<0?s.jsx(bm,{className:"h-4 w-4 mr-1"}):null,s.jsxs("span",{className:"font-medium",children:[u.percentChange>0?"+":"",u.percentChange,"%"]})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Margen bruto:"}),s.jsxs("span",{className:"font-medium text-emerald-600 dark:text-emerald-400",children:[u.marginPercent,"%"]})]})]})})]},d))})]})}function TRe({companyId:e}){const[t,r]=v.useState(e),[n,a]=v.useState("monthly"),i=Vn(),{data:o=[],isLoading:l}=$e({queryKey:["/api/kpi-values",t],staleTime:6e4,refetchInterval:!1,refetchOnWindowFocus:!1,refetchOnMount:"always"}),{data:c=[],isLoading:u}=$e({queryKey:["/api/kpis",t],staleTime:3e5,refetchInterval:!1,refetchOnWindowFocus:!1,refetchOnMount:"always"});v.useEffect(()=>{t!==e&&(console.log("SalesSummary: actualizando compañía de",t,"a",e),r(e))},[e,t]),v.useEffect(()=>{const S=()=>{console.log("[SalesSummary] Invalidando queries por actualización de ventas"),i.invalidateQueries({queryKey:["/api/kpi-values"]})};return window.addEventListener("sales-updated",S),()=>window.removeEventListener("sales-updated",S)},[]),v.useEffect(()=>{try{localStorage.removeItem("dashboardChartData"),console.log("[SalesSummary] localStorage limpiado - usando solo datos auténticos de BD")}catch(S){console.error("[SalesSummary] Error al limpiar localStorage:",S)}},[]),console.log("SalesSummary renderizando con compañía ID:",t);const d={dura:667449,orsega:10300476},f={dura:d.dura,orsega:d.orsega},p=(()=>{if(!Array.isArray(o)||!Array.isArray(c)||o.length===0||c.length===0)return console.log("[SalesSummary] Esperando datos auténticos de ventas..."),{salesData:[],totalSales:0,recentMonths:[],hasRealData:!1};const S=c.find(T=>T.name.includes("Volumen de ventas")&&T.companyId===t);if(S||(console.log("[SalesSummary] ERROR - No se encontró KPI de volumen para compañía:",t),console.log("[SalesSummary] KPIs disponibles:",c.map(T=>({id:T.id,name:T.name,companyId:T.companyId})))),!S)return console.log("[SalesSummary] No se encontró KPI de volumen de ventas para compañía",t),{salesData:[],totalSales:0,recentMonths:[],hasRealData:!1};const P=o.filter(T=>T.kpiId===S.id&&!T.period.includes("Semana"));if(P.length===0)return console.log("[SalesSummary] No hay datos auténticos de ventas registrados"),{salesData:[],totalSales:0,recentMonths:[],hasRealData:!1};console.log(`[SalesSummary] Procesando ${P.length} registros AUTÉNTICOS de ventas para ${t===1?"Dura":"Orsega"}`);const C=P.map(T=>{var M;const _=parseFloat(T.value.replace(/[^0-9.,]/g,"").replace(",","."))||0,O=parseFloat(((M=T.compliancePercentage)==null?void 0:M.replace("%",""))||"0");return{month:T.period,sales:_,target:_/(O/100)||0,profit:Math.round(_*.35),period:T.period,status:T.status||"complies",compliancePercent:O}}).sort((T,_)=>{const O=parseInt(T.period.split(" ")[1]||"2025"),M=parseInt(_.period.split(" ")[1]||"2025");if(O!==M)return O-M;const L=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],R=L.indexOf(T.period.split(" ")[0]),V=L.indexOf(_.period.split(" ")[0]);return R-V}),A=C.filter(T=>T.period.includes("2025")),E=A.reduce((T,_)=>T+_.sales,0);return console.log(`[SalesSummary] Total de ventas AUTÉNTICAS 2025: ${E.toLocaleString()} ${t===1?"KG":"unidades"}`),{salesData:C.slice(0,12),totalSales:E,recentMonths:A.slice(0,6),hasRealData:E>0}})(),x=p.salesData,m=p.totalSales,g=t===1?f.dura:f.orsega,w=m/g*100,y=Math.round(w);p.hasRealData&&m>0?(console.log(`[SalesSummary] Ventas reales: ${m.toLocaleString()} ${t===1?"KG":"unidades"}`),console.log(`[SalesSummary] Meta anual: ${g.toLocaleString()}`),console.log(`[SalesSummary] Cumplimiento: ${y}%`)):console.log("[SalesSummary] Esperando datos reales de ventas..."),console.log(`Meta anual para ${t===1?"Dura":"Orsega"}: ${g} ${t===1?"KG":"unidades"}`),console.log(`Ventas acumuladas: ${m} ${t===1?"KG":"unidades"}`),console.log(`Cálculo exacto: (${m} / ${g}) * 100 = ${w.toFixed(2)}%`),console.log(`Porcentaje redondeado mostrado: ${y}%`);const N=(()=>{if(x.length<2)return"0.0";const S=x[x.length-1].sales,P=x[x.length-2].sales;return P===0?"0.0":((S-P)/P*100).toFixed(1)})(),j=S=>t===1?new Intl.NumberFormat("es-MX").format(S)+" KG":new Intl.NumberFormat("es-MX").format(S)+" unidades";return p.hasRealData||(console.log(`[SalesSummary DEBUG - ${t===1?"Dura":"Orsega"}]`),console.log("KPIs encontrados:",Array.isArray(c)?c.length:"No array"),console.log("KPI Values encontrados:",Array.isArray(o)?o.length:"No array")),!p.hasRealData||m===0?s.jsx("div",{className:"space-y-6 text-center py-12",children:s.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-8",children:[s.jsx(iy,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-medium text-gray-900 dark:text-gray-100 mb-2",children:"Sin datos de ventas"}),s.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:["Aún no hay datos auténticos de ventas registrados para ",t===1?"Dura International":"Grupo Orsega","."]}),s.jsx("p",{className:"text-sm text-blue-600 dark:text-blue-400",children:"Los datos se mostrarán automáticamente cuando registres las ventas semanales."})]})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid gap-4 grid-cols-1 sm:grid-cols-2 md:grid-cols-3 xl:grid-cols-3",children:[s.jsxs(le,{className:"border-0 shadow-lg bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/30 dark:to-blue-800/30 dark:border-blue-800/30",children:[s.jsx(_e,{className:"pb-2 pt-6",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx(ke,{className:"text-lg font-medium text-blue-900 dark:text-blue-100",children:"Volumen Total"}),s.jsxs(Et,{className:"text-blue-600 dark:text-blue-300",children:["Acumulado anual (",t===1?"KG":"unidades",")"]})]}),s.jsx("div",{className:"p-2 bg-blue-100 rounded-lg dark:bg-blue-800/50",children:s.jsx(iy,{className:"h-5 w-5 text-blue-600 dark:text-blue-300"})})]})}),s.jsxs(ce,{children:[s.jsx("div",{className:"text-3xl font-bold text-blue-700 dark:text-blue-100 mb-1",children:j(m)}),s.jsxs("div",{className:"flex items-center",children:[s.jsxs("div",{className:"flex items-center text-emerald-600 dark:text-emerald-400 mr-2",children:[s.jsx(sS,{className:"h-4 w-4 mr-1"}),s.jsxs("span",{className:"text-sm font-medium",children:[N,"%"]})]}),s.jsx("div",{className:"text-sm text-blue-600 dark:text-blue-300",children:"vs mes anterior"})]}),s.jsxs("div",{className:"mt-4",children:[s.jsxs("div",{className:"text-xs text-blue-600 dark:text-blue-300 mb-1 flex justify-between",children:[s.jsx("span",{children:"Progreso"}),s.jsxs("span",{children:[y,"%"]})]}),s.jsx("div",{className:"w-full h-2 bg-blue-200 dark:bg-blue-800 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-blue-600 dark:bg-blue-400 rounded-full",style:{width:`${y>100?100:y}%`}})})]})]})]}),s.jsxs(le,{className:"border-0 shadow-lg bg-gradient-to-br from-amber-50 to-amber-100 dark:from-amber-900/30 dark:to-amber-800/30 dark:border-amber-800/30",children:[s.jsx(_e,{className:"pb-2 pt-6",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx(ke,{className:"text-lg font-medium text-amber-900 dark:text-amber-100",children:"Avance del Objetivo Anual"}),s.jsx(Et,{className:"text-amber-600 dark:text-amber-300",children:"Progreso hacia meta anual"})]}),s.jsx("div",{className:"p-2 bg-amber-100 rounded-lg dark:bg-amber-800/50",children:s.jsx(Vee,{className:"h-5 w-5 text-amber-600 dark:text-amber-300"})})]})}),s.jsxs(ce,{children:[s.jsxs("div",{className:"flex items-center",children:[s.jsxs("div",{className:"text-3xl font-bold text-amber-700 dark:text-amber-100 mb-1",children:[y,"%"]}),s.jsx("div",{className:"ml-2 px-2 py-0.5 rounded text-xs font-medium bg-amber-200 text-amber-800 dark:bg-amber-800 dark:text-amber-200",children:y>=100?"¡Meta cumplida!":y>=75?"Buen progreso":y>=50?"Progreso medio":"Requiere atención"})]}),s.jsxs("div",{className:"flex justify-between items-center mt-2",children:[s.jsxs("div",{className:"text-sm text-amber-600 dark:text-amber-300",children:[s.jsx("span",{className:"font-medium",children:"Ventas actuales:"}),s.jsx("br",{}),j(m)]}),s.jsxs("div",{className:"text-sm text-amber-600 dark:text-amber-300 text-right",children:[s.jsx("span",{className:"font-medium",children:"Meta anual:"}),s.jsx("br",{}),j(g)]})]}),s.jsxs("div",{className:"mt-4",children:[s.jsxs("div",{className:"text-xs text-amber-600 dark:text-amber-300 mb-1 flex justify-between",children:[s.jsx("span",{children:"Progreso"}),s.jsxs("span",{className:"font-medium",children:[j(m)," de ",j(g)]})]}),s.jsx("div",{className:"w-full h-4 bg-amber-200 dark:bg-amber-800 rounded-full overflow-hidden",children:s.jsx("div",{className:`h-full rounded-full flex items-center justify-end pr-2 text-xs font-bold ${y>=100?"bg-green-600 text-white":"bg-amber-600 dark:bg-amber-400 text-white"}`,style:{width:`${y>100?100:y}%`},children:y>=25?`${y}%`:""})})]})]})]}),s.jsxs(le,{className:"border-0 shadow-lg bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/30 dark:to-green-800/30 dark:border-green-800/30",children:[s.jsx(_e,{className:"pb-2 pt-6",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx(ke,{className:"text-lg font-medium text-green-900 dark:text-green-100",children:"Control de Costos"}),s.jsx(Et,{className:"text-green-600 dark:text-green-300",children:"Margen bruto"})]}),s.jsx("div",{className:"p-2 bg-green-100 rounded-lg dark:bg-green-800/50",children:s.jsx(rn,{className:"h-5 w-5 text-green-600 dark:text-green-300"})})]})}),s.jsx(ce,{children:(()=>{const S=x.length>0?x[x.length-1]:null,P=S?"marginPercent"in S?S.marginPercent:S.profit/S.sales*100:0,C=t===1?29:13,A=P>=C;return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"text-3xl font-bold text-green-700 dark:text-green-100 mb-1",children:[P.toFixed(1),"%"]}),x.length>1&&(()=>{const E=x[x.length-2],T="marginPercent"in E?E.marginPercent:E.profit/E.sales*100,_=P-T;return s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsxs("div",{className:`flex items-center ${_>=0?"text-emerald-600 dark:text-emerald-400":"text-red-600 dark:text-red-400"} mr-2`,children:[_>=0?s.jsx(sS,{className:"h-4 w-4 mr-1"}):s.jsx(Lee,{className:"h-4 w-4 mr-1"}),s.jsxs("span",{className:"text-sm font-medium",children:[Math.abs(_).toFixed(1),"%"]})]}),s.jsx("div",{className:"text-sm text-green-600 dark:text-green-300",children:"vs período anterior"})]})})(),s.jsxs("div",{className:"mt-4",children:[s.jsxs("div",{className:"text-xs text-green-600 dark:text-green-300 mb-1 flex justify-between",children:[s.jsxs("span",{children:["Objetivo: ",C,"%"]}),s.jsxs("span",{children:[(P/C*100).toFixed(0),"%"]})]}),s.jsx("div",{className:"w-full h-2 bg-green-200 dark:bg-green-800 rounded-full overflow-hidden",children:s.jsx("div",{className:`h-full ${A?"bg-green-600 dark:bg-green-400":"bg-amber-500 dark:bg-amber-400"} rounded-full`,style:{width:`${Math.min(P/C*100,100)}%`}})})]})]})})()})]})]}),s.jsx("div",{className:"mt-6 mb-8",children:s.jsx(ERe,{companyId:t,title:"Volumen de Ventas",subtitle:"Visualización histórica y tendencias de ventas"})}),s.jsxs(le,{className:"border-0 shadow-lg mt-8",children:[s.jsx(_e,{className:"pb-2",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(ke,{className:"text-xl font-bold",children:"Volumen de Ventas Histórico - Vista Completa"}),s.jsxs(Et,{children:["Evolución histórica del volumen de ventas (",t===1?"KG":"Unidades",")"]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs(LW,{type:"single",value:n,onValueChange:S=>S&&a(S),children:[s.jsx(Ph,{value:"monthly","aria-label":"Mensual",className:`px-3 h-8 text-xs ${n==="monthly"?"bg-primary text-white":"text-gray-600 dark:text-gray-400"}`,children:"Mensual"}),s.jsx(Ph,{value:"quarterly","aria-label":"Trimestral",className:`px-3 h-8 text-xs ${n==="quarterly"?"bg-primary text-white":"text-gray-600 dark:text-gray-400"}`,children:"Trimestral"}),s.jsx(Ph,{value:"yearly","aria-label":"Anual",className:`px-3 h-8 text-xs ${n==="yearly"?"bg-primary text-white":"text-gray-600 dark:text-gray-400"}`,children:"Anual"}),s.jsx(Ph,{value:"all","aria-label":"Todo",className:`px-3 h-8 text-xs ${n==="all"?"bg-primary text-white":"text-gray-600 dark:text-gray-400"}`,children:"Todo"})]}),s.jsx(Bee,{className:"h-5 w-5 text-primary-600 dark:text-primary-400"})]})]})}),s.jsx(ce,{children:s.jsx("div",{className:"h-[250px] sm:h-[300px]",children:s.jsx(Is,{width:"100%",height:"100%",children:s.jsxs(tRe,{data:x,margin:{top:20,right:30,left:20,bottom:10},children:[s.jsxs("defs",{children:[s.jsxs("linearGradient",{id:"colorSales",x1:"0",y1:"0",x2:"0",y2:"1",children:[s.jsx("stop",{offset:"5%",stopColor:"#273949",stopOpacity:.9}),s.jsx("stop",{offset:"95%",stopColor:"#273949",stopOpacity:.4})]}),s.jsxs("linearGradient",{id:"colorSalesBelow",x1:"0",y1:"0",x2:"0",y2:"1",children:[s.jsx("stop",{offset:"5%",stopColor:"#ef4444",stopOpacity:.9}),s.jsx("stop",{offset:"95%",stopColor:"#ef4444",stopOpacity:.4})]}),s.jsx("filter",{id:"shadow",height:"200%",children:s.jsx("feDropShadow",{dx:"0",dy:"4",stdDeviation:"6",floodColor:"#273949",floodOpacity:"0.3"})}),s.jsx("filter",{id:"shadowRed",height:"200%",children:s.jsx("feDropShadow",{dx:"0",dy:"4",stdDeviation:"6",floodColor:"#ef4444",floodOpacity:"0.3"})})]}),s.jsx(as,{strokeDasharray:"3 3",vertical:!1,opacity:.1}),s.jsx(Mn,{dataKey:"month",tick:{fontSize:12,fill:"#4b5563"},axisLine:{stroke:"#d1d5db"},tickLine:{stroke:"#d1d5db"}}),s.jsx(In,{tickFormatter:S=>`${S/1e3}k`,width:50,tick:{fontSize:12,fill:"#4b5563"},axisLine:{stroke:"#d1d5db"},tickLine:{stroke:"#d1d5db"}}),s.jsx(Kr,{formatter:(S,P)=>j(S),contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.2)",backgroundColor:"rgba(255, 255, 255, 0.98)",fontSize:"11px",padding:"8px",maxWidth:"85vw",overflow:"hidden",textOverflow:"ellipsis"},wrapperStyle:{zIndex:1e3,width:"auto",maxWidth:"90%"},cursor:{fill:"rgba(39, 57, 73, 0.1)"}}),s.jsx(xa,{wrapperStyle:{paddingTop:15},iconType:"circle"}),s.jsx(Xn,{dataKey:"sales",name:"Volumen",barSize:30,radius:[6,6,0,0],animationDuration:1200,animationEasing:"ease-in-out",shape:S=>{const{x:P,y:C,width:A,height:E}=S,T=S.payload.sales>=S.payload.target,_=T?"url(#colorSales)":"url(#colorSalesBelow)",O=T?"url(#shadow)":"url(#shadowRed)";return s.jsx("path",{d:`M${P},${C+E}L${P},${C}a6,6 0 0 1 6,-6h${A-12}a6,6 0 0 1 6,6v${E}Z`,fill:_,filter:O})}}),s.jsx(Na,{type:"monotone",dataKey:"target",name:"Objetivo",stroke:"#b5e951",strokeWidth:3,dot:{r:6,fill:"#b5e951",stroke:"white",strokeWidth:2},activeDot:{r:8,strokeWidth:2,stroke:"white"},animationDuration:1500,animationEasing:"ease-out"})]})})})})]})]})}function dT(e){const t=v.useRef({value:e,previous:e});return v.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var _Re=[" ","Enter","ArrowUp","ArrowDown"],ORe=[" ","Enter"],ag="Select",[Ub,Kb,kRe]=P0(ag),[Of,Pze]=jn(ag,[kRe,df]),qb=df(),[DRe,bl]=Of(ag),[MRe,IRe]=Of(ag),FW=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:a,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:p,form:x}=e,m=qb(t),[g,w]=v.useState(null),[y,b]=v.useState(null),[N,j]=v.useState(!1),S=ff(u),[P=!1,C]=Ya({prop:n,defaultProp:a,onChange:i}),[A,E]=Ya({prop:o,defaultProp:l,onChange:c}),T=v.useRef(null),_=g?x||!!g.closest("form"):!0,[O,M]=v.useState(new Set),L=Array.from(O).map(R=>R.props.value).join(";");return s.jsx(V6,{...m,children:s.jsxs(DRe,{required:p,scope:t,trigger:g,onTriggerChange:w,valueNode:y,onValueNodeChange:b,valueNodeHasChildren:N,onValueNodeHasChildrenChange:j,contentId:Qi(),value:A,onValueChange:E,open:P,onOpenChange:C,dir:S,triggerPointerDownPosRef:T,disabled:h,children:[s.jsx(Ub.Provider,{scope:t,children:s.jsx(MRe,{scope:e.__scopeSelect,onNativeOptionAdd:v.useCallback(R=>{M(V=>new Set(V).add(R))},[]),onNativeOptionRemove:v.useCallback(R=>{M(V=>{const D=new Set(V);return D.delete(R),D})},[]),children:r})}),_?s.jsxs(u7,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:f,value:A,onChange:R=>E(R.target.value),disabled:h,form:x,children:[A===void 0?s.jsx("option",{value:""}):null,Array.from(O)]},L):null]})})};FW.displayName=ag;var VW="SelectTrigger",zW=v.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...a}=e,i=qb(r),o=bl(VW,r),l=o.disabled||n,c=ot(t,o.onTriggerChange),u=Kb(r),d=v.useRef("touch"),[f,h,p]=d7(m=>{const g=u().filter(b=>!b.disabled),w=g.find(b=>b.value===o.value),y=f7(g,m,w);y!==void 0&&o.onValueChange(y.value)}),x=m=>{l||(o.onOpenChange(!0),p()),m&&(o.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return s.jsx(KC,{asChild:!0,...i,children:s.jsx(Ie.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":c7(o.value)?"":void 0,...a,ref:c,onClick:ue(a.onClick,m=>{m.currentTarget.focus(),d.current!=="mouse"&&x(m)}),onPointerDown:ue(a.onPointerDown,m=>{d.current=m.pointerType;const g=m.target;g.hasPointerCapture(m.pointerId)&&g.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(x(m),m.preventDefault())}),onKeyDown:ue(a.onKeyDown,m=>{const g=f.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&h(m.key),!(g&&m.key===" ")&&_Re.includes(m.key)&&(x(),m.preventDefault())})})})});zW.displayName=VW;var BW="SelectValue",UW=v.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,children:i,placeholder:o="",...l}=e,c=bl(BW,r),{onValueNodeHasChildrenChange:u}=c,d=i!==void 0,f=ot(t,c.onValueNodeChange);return Ar(()=>{u(d)},[u,d]),s.jsx(Ie.span,{...l,ref:f,style:{pointerEvents:"none"},children:c7(c.value)?s.jsx(s.Fragment,{children:o}):i})});UW.displayName=BW;var RRe="SelectIcon",KW=v.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...a}=e;return s.jsx(Ie.span,{"aria-hidden":!0,...a,ref:t,children:n||"▼"})});KW.displayName=RRe;var $Re="SelectPortal",qW=e=>s.jsx(zp,{asChild:!0,...e});qW.displayName=$Re;var Sc="SelectContent",WW=v.forwardRef((e,t)=>{const r=bl(Sc,e.__scopeSelect),[n,a]=v.useState();if(Ar(()=>{a(new DocumentFragment)},[]),!r.open){const i=n;return i?za.createPortal(s.jsx(HW,{scope:e.__scopeSelect,children:s.jsx(Ub.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),i):null}return s.jsx(GW,{...e,ref:t})});WW.displayName=Sc;var si=10,[HW,wl]=Of(Sc),LRe="SelectContentImpl",FRe=fc("SelectContent.RemoveScroll"),GW=v.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:x,hideWhenDetached:m,avoidCollisions:g,...w}=e,y=bl(Sc,r),[b,N]=v.useState(null),[j,S]=v.useState(null),P=ot(t,me=>N(me)),[C,A]=v.useState(null),[E,T]=v.useState(null),_=Kb(r),[O,M]=v.useState(!1),L=v.useRef(!1);v.useEffect(()=>{if(b)return YC(b)},[b]),XC();const R=v.useCallback(me=>{const[De,...te]=_().map(H=>H.ref.current),[ee]=te.slice(-1),fe=document.activeElement;for(const H of me)if(H===fe||(H==null||H.scrollIntoView({block:"nearest"}),H===De&&j&&(j.scrollTop=0),H===ee&&j&&(j.scrollTop=j.scrollHeight),H==null||H.focus(),document.activeElement!==fe))return},[_,j]),V=v.useCallback(()=>R([C,b]),[R,C,b]);v.useEffect(()=>{O&&V()},[O,V]);const{onOpenChange:D,triggerPointerDownPosRef:I}=y;v.useEffect(()=>{if(b){let me={x:0,y:0};const De=ee=>{var fe,H;me={x:Math.abs(Math.round(ee.pageX)-(((fe=I.current)==null?void 0:fe.x)??0)),y:Math.abs(Math.round(ee.pageY)-(((H=I.current)==null?void 0:H.y)??0))}},te=ee=>{me.x<=10&&me.y<=10?ee.preventDefault():b.contains(ee.target)||D(!1),document.removeEventListener("pointermove",De),I.current=null};return I.current!==null&&(document.addEventListener("pointermove",De),document.addEventListener("pointerup",te,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",De),document.removeEventListener("pointerup",te,{capture:!0})}}},[b,D,I]),v.useEffect(()=>{const me=()=>D(!1);return window.addEventListener("blur",me),window.addEventListener("resize",me),()=>{window.removeEventListener("blur",me),window.removeEventListener("resize",me)}},[D]);const[B,Y]=d7(me=>{const De=_().filter(fe=>!fe.disabled),te=De.find(fe=>fe.ref.current===document.activeElement),ee=f7(De,me,te);ee&&setTimeout(()=>ee.ref.current.focus())}),X=v.useCallback((me,De,te)=>{const ee=!L.current&&!te;(y.value!==void 0&&y.value===De||ee)&&(A(me),ee&&(L.current=!0))},[y.value]),oe=v.useCallback(()=>b==null?void 0:b.focus(),[b]),je=v.useCallback((me,De,te)=>{const ee=!L.current&&!te;(y.value!==void 0&&y.value===De||ee)&&T(me)},[y.value]),Fe=n==="popper"?dP:XW,Ae=Fe===dP?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:x,hideWhenDetached:m,avoidCollisions:g}:{};return s.jsx(HW,{scope:r,content:b,viewport:j,onViewportChange:S,itemRefCallback:X,selectedItem:C,onItemLeave:oe,itemTextRefCallback:je,focusSelectedItem:V,selectedItemText:E,position:n,isPositioned:O,searchRef:B,children:s.jsx(L0,{as:FRe,allowPinchZoom:!0,children:s.jsx(R0,{asChild:!0,trapped:y.open,onMountAutoFocus:me=>{me.preventDefault()},onUnmountAutoFocus:ue(a,me=>{var De;(De=y.trigger)==null||De.focus({preventScroll:!0}),me.preventDefault()}),children:s.jsx(sf,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:me=>me.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:s.jsx(Fe,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:me=>me.preventDefault(),...w,...Ae,onPlaced:()=>M(!0),ref:P,style:{display:"flex",flexDirection:"column",outline:"none",...w.style},onKeyDown:ue(w.onKeyDown,me=>{const De=me.ctrlKey||me.altKey||me.metaKey;if(me.key==="Tab"&&me.preventDefault(),!De&&me.key.length===1&&Y(me.key),["ArrowUp","ArrowDown","Home","End"].includes(me.key)){let ee=_().filter(fe=>!fe.disabled).map(fe=>fe.ref.current);if(["ArrowUp","End"].includes(me.key)&&(ee=ee.slice().reverse()),["ArrowUp","ArrowDown"].includes(me.key)){const fe=me.target,H=ee.indexOf(fe);ee=ee.slice(H+1)}setTimeout(()=>R(ee)),me.preventDefault()}})})})})})})});GW.displayName=LRe;var VRe="SelectItemAlignedPosition",XW=v.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...a}=e,i=bl(Sc,r),o=wl(Sc,r),[l,c]=v.useState(null),[u,d]=v.useState(null),f=ot(t,P=>d(P)),h=Kb(r),p=v.useRef(!1),x=v.useRef(!0),{viewport:m,selectedItem:g,selectedItemText:w,focusSelectedItem:y}=o,b=v.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&m&&g&&w){const P=i.trigger.getBoundingClientRect(),C=u.getBoundingClientRect(),A=i.valueNode.getBoundingClientRect(),E=w.getBoundingClientRect();if(i.dir!=="rtl"){const fe=E.left-C.left,H=A.left-fe,Ve=P.left-H,Me=P.width+Ve,dt=Math.max(Me,C.width),lt=window.innerWidth-si,Pt=uP(H,[si,Math.max(si,lt-dt)]);l.style.minWidth=Me+"px",l.style.left=Pt+"px"}else{const fe=C.right-E.right,H=window.innerWidth-A.right-fe,Ve=window.innerWidth-P.right-H,Me=P.width+Ve,dt=Math.max(Me,C.width),lt=window.innerWidth-si,Pt=uP(H,[si,Math.max(si,lt-dt)]);l.style.minWidth=Me+"px",l.style.right=Pt+"px"}const T=h(),_=window.innerHeight-si*2,O=m.scrollHeight,M=window.getComputedStyle(u),L=parseInt(M.borderTopWidth,10),R=parseInt(M.paddingTop,10),V=parseInt(M.borderBottomWidth,10),D=parseInt(M.paddingBottom,10),I=L+R+O+D+V,B=Math.min(g.offsetHeight*5,I),Y=window.getComputedStyle(m),X=parseInt(Y.paddingTop,10),oe=parseInt(Y.paddingBottom,10),je=P.top+P.height/2-si,Fe=_-je,Ae=g.offsetHeight/2,me=g.offsetTop+Ae,De=L+R+me,te=I-De;if(De<=je){const fe=T.length>0&&g===T[T.length-1].ref.current;l.style.bottom="0px";const H=u.clientHeight-m.offsetTop-m.offsetHeight,Ve=Math.max(Fe,Ae+(fe?oe:0)+H+V),Me=De+Ve;l.style.height=Me+"px"}else{const fe=T.length>0&&g===T[0].ref.current;l.style.top="0px";const Ve=Math.max(je,L+m.offsetTop+(fe?X:0)+Ae)+te;l.style.height=Ve+"px",m.scrollTop=De-je+m.offsetTop}l.style.margin=`${si}px 0`,l.style.minHeight=B+"px",l.style.maxHeight=_+"px",n==null||n(),requestAnimationFrame(()=>p.current=!0)}},[h,i.trigger,i.valueNode,l,u,m,g,w,i.dir,n]);Ar(()=>b(),[b]);const[N,j]=v.useState();Ar(()=>{u&&j(window.getComputedStyle(u).zIndex)},[u]);const S=v.useCallback(P=>{P&&x.current===!0&&(b(),y==null||y(),x.current=!1)},[b,y]);return s.jsx(BRe,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:S,children:s.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:N},children:s.jsx(Ie.div,{...a,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});XW.displayName=VRe;var zRe="SelectPopperPosition",dP=v.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=si,...i}=e,o=qb(r);return s.jsx(qC,{...o,...i,ref:t,align:n,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});dP.displayName=zRe;var[BRe,fT]=Of(Sc,{}),fP="SelectViewport",YW=v.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...a}=e,i=wl(fP,r),o=fT(fP,r),l=ot(t,i.onViewportChange),c=v.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),s.jsx(Ub.Slot,{scope:r,children:s.jsx(Ie.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:ue(a.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&f){const p=Math.abs(c.current-d.scrollTop);if(p>0){const x=window.innerHeight-si*2,m=parseFloat(f.style.minHeight),g=parseFloat(f.style.height),w=Math.max(m,g);if(w<x){const y=w+p,b=Math.min(x,y),N=y-b;f.style.height=b+"px",f.style.bottom==="0px"&&(d.scrollTop=N>0?N:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});YW.displayName=fP;var QW="SelectGroup",[URe,KRe]=Of(QW),qRe=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=Qi();return s.jsx(URe,{scope:r,id:a,children:s.jsx(Ie.div,{role:"group","aria-labelledby":a,...n,ref:t})})});qRe.displayName=QW;var ZW="SelectLabel",JW=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=KRe(ZW,r);return s.jsx(Ie.div,{id:a.id,...n,ref:t})});JW.displayName=ZW;var Ex="SelectItem",[WRe,e7]=Of(Ex),t7=v.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:i,...o}=e,l=bl(Ex,r),c=wl(Ex,r),u=l.value===n,[d,f]=v.useState(i??""),[h,p]=v.useState(!1),x=ot(t,y=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,y,n,a)}),m=Qi(),g=v.useRef("touch"),w=()=>{a||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(WRe,{scope:r,value:n,disabled:a,textId:m,isSelected:u,onItemTextChange:v.useCallback(y=>{f(b=>b||((y==null?void 0:y.textContent)??"").trim())},[]),children:s.jsx(Ub.ItemSlot,{scope:r,value:n,disabled:a,textValue:d,children:s.jsx(Ie.div,{role:"option","aria-labelledby":m,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:x,onFocus:ue(o.onFocus,()=>p(!0)),onBlur:ue(o.onBlur,()=>p(!1)),onClick:ue(o.onClick,()=>{g.current!=="mouse"&&w()}),onPointerUp:ue(o.onPointerUp,()=>{g.current==="mouse"&&w()}),onPointerDown:ue(o.onPointerDown,y=>{g.current=y.pointerType}),onPointerMove:ue(o.onPointerMove,y=>{var b;g.current=y.pointerType,a?(b=c.onItemLeave)==null||b.call(c):g.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ue(o.onPointerLeave,y=>{var b;y.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:ue(o.onKeyDown,y=>{var N;((N=c.searchRef)==null?void 0:N.current)!==""&&y.key===" "||(ORe.includes(y.key)&&w(),y.key===" "&&y.preventDefault())})})})})});t7.displayName=Ex;var Ch="SelectItemText",r7=v.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:a,...i}=e,o=bl(Ch,r),l=wl(Ch,r),c=e7(Ch,r),u=IRe(Ch,r),[d,f]=v.useState(null),h=ot(t,w=>f(w),c.onItemTextChange,w=>{var y;return(y=l.itemTextRefCallback)==null?void 0:y.call(l,w,c.value,c.disabled)}),p=d==null?void 0:d.textContent,x=v.useMemo(()=>s.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:m,onNativeOptionRemove:g}=u;return Ar(()=>(m(x),()=>g(x)),[m,g,x]),s.jsxs(s.Fragment,{children:[s.jsx(Ie.span,{id:c.textId,...i,ref:h}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?za.createPortal(i.children,o.valueNode):null]})});r7.displayName=Ch;var n7="SelectItemIndicator",a7=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return e7(n7,r).isSelected?s.jsx(Ie.span,{"aria-hidden":!0,...n,ref:t}):null});a7.displayName=n7;var hP="SelectScrollUpButton",i7=v.forwardRef((e,t)=>{const r=wl(hP,e.__scopeSelect),n=fT(hP,e.__scopeSelect),[a,i]=v.useState(!1),o=ot(t,n.onScrollButtonChange);return Ar(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?s.jsx(o7,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});i7.displayName=hP;var mP="SelectScrollDownButton",s7=v.forwardRef((e,t)=>{const r=wl(mP,e.__scopeSelect),n=fT(mP,e.__scopeSelect),[a,i]=v.useState(!1),o=ot(t,n.onScrollButtonChange);return Ar(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;i(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),a?s.jsx(o7,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});s7.displayName=mP;var o7=v.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=e,i=wl("SelectScrollButton",r),o=v.useRef(null),l=Kb(r),c=v.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return v.useEffect(()=>()=>c(),[c]),Ar(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),s.jsx(Ie.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:ue(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:ue(a.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:ue(a.onPointerLeave,()=>{c()})})}),HRe="SelectSeparator",l7=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return s.jsx(Ie.div,{"aria-hidden":!0,...n,ref:t})});l7.displayName=HRe;var pP="SelectArrow",GRe=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,a=qb(r),i=bl(pP,r),o=wl(pP,r);return i.open&&o.position==="popper"?s.jsx(WC,{...a,...n,ref:t}):null});GRe.displayName=pP;function c7(e){return e===""||e===void 0}var u7=v.forwardRef((e,t)=>{const{value:r,...n}=e,a=v.useRef(null),i=ot(t,a),o=dT(r);return v.useEffect(()=>{const l=a.current,c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==r&&d){const f=new Event("change",{bubbles:!0});d.call(l,r),l.dispatchEvent(f)}},[o,r]),s.jsx(Bp,{asChild:!0,children:s.jsx("select",{...n,ref:i,defaultValue:r})})});u7.displayName="BubbleSelect";function d7(e){const t=Jt(e),r=v.useRef(""),n=v.useRef(0),a=v.useCallback(o=>{const l=r.current+o;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=v.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return v.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,i]}function f7(e,t,r){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=XRe(e,Math.max(i,0));a.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==r?c:void 0}function XRe(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var YRe=FW,h7=zW,QRe=UW,ZRe=KW,JRe=qW,m7=WW,e$e=YW,p7=JW,g7=t7,t$e=r7,r$e=a7,v7=i7,y7=s7,x7=l7;const Xe=YRe,Ye=QRe,He=v.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(h7,{ref:n,className:he("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,s.jsx(ZRe,{asChild:!0,children:s.jsx(n6,{className:"h-4 w-4 opacity-50"})})]}));He.displayName=h7.displayName;const b7=v.forwardRef(({className:e,...t},r)=>s.jsx(v7,{ref:r,className:he("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(Kee,{className:"h-4 w-4"})}));b7.displayName=v7.displayName;const w7=v.forwardRef(({className:e,...t},r)=>s.jsx(y7,{ref:r,className:he("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(n6,{className:"h-4 w-4"})}));w7.displayName=y7.displayName;const Ge=v.forwardRef(({className:e,children:t,position:r="popper",...n},a)=>s.jsx(JRe,{children:s.jsxs(m7,{ref:a,className:he("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[s.jsx(b7,{}),s.jsx(e$e,{className:he("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(w7,{})]})}));Ge.displayName=m7.displayName;const n$e=v.forwardRef(({className:e,...t},r)=>s.jsx(p7,{ref:r,className:he("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));n$e.displayName=p7.displayName;const G=v.forwardRef(({className:e,children:t,...r},n)=>s.jsxs(g7,{ref:n,className:he("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(r$e,{children:s.jsx(E0,{className:"h-4 w-4"})})}),s.jsx(t$e,{children:t})]}));G.displayName=g7.displayName;const a$e=v.forwardRef(({className:e,...t},r)=>s.jsx(x7,{ref:r,className:he("-mx-1 my-1 h-px bg-muted",e),...t}));a$e.displayName=x7.displayName;function Oi(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Nc(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const j7=6048e5,i$e=864e5,S7=6e4,N7=36e5;let s$e={};function Wb(){return s$e}function hp(e,t){var l,c,u,d;const r=Wb(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=Oi(e),i=a.getDay(),o=(i<n?7:0)+i-n;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function Tx(e){return hp(e,{weekStartsOn:1})}function P7(e){const t=Oi(e),r=t.getFullYear(),n=Nc(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const a=Tx(n),i=Nc(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=Tx(i);return t.getTime()>=a.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function tR(e){const t=Oi(e);return t.setHours(0,0,0,0),t}function rR(e){const t=Oi(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function o$e(e,t){const r=tR(e),n=tR(t),a=+r-rR(r),i=+n-rR(n);return Math.round((a-i)/i$e)}function l$e(e){const t=P7(e),r=Nc(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Tx(r)}function c$e(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function u$e(e){if(!c$e(e)&&typeof e!="number")return!1;const t=Oi(e);return!isNaN(Number(t))}function d$e(e){const t=Oi(e),r=Nc(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}const f$e={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},h$e=(e,t,r)=>{let n;const a=f$e[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Lu(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const m$e={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},p$e={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},g$e={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},v$e={date:Lu({formats:m$e,defaultWidth:"full"}),time:Lu({formats:p$e,defaultWidth:"full"}),dateTime:Lu({formats:g$e,defaultWidth:"full"})},y$e={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},x$e=(e,t,r,n)=>y$e[e];function Ui(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;a=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const b$e={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},w$e={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},j$e={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},S$e={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},N$e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},P$e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},C$e=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},A$e={ordinalNumber:C$e,era:Ui({values:b$e,defaultWidth:"wide"}),quarter:Ui({values:w$e,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Ui({values:j$e,defaultWidth:"wide"}),day:Ui({values:S$e,defaultWidth:"wide"}),dayPeriod:Ui({values:N$e,defaultWidth:"wide",formattingValues:P$e,defaultFormattingWidth:"wide"})};function Ki(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?T$e(l,f=>f.test(o)):E$e(l,f=>f.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function E$e(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function T$e(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function C7(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(a.length);return{value:o,rest:l}}}const _$e=/^(\d+)(th|st|nd|rd)?/i,O$e=/\d+/i,k$e={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},D$e={any:[/^b/i,/^(a|c)/i]},M$e={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},I$e={any:[/1/i,/2/i,/3/i,/4/i]},R$e={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},$$e={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},L$e={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},F$e={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},V$e={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},z$e={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},B$e={ordinalNumber:C7({matchPattern:_$e,parsePattern:O$e,valueCallback:e=>parseInt(e,10)}),era:Ki({matchPatterns:k$e,defaultMatchWidth:"wide",parsePatterns:D$e,defaultParseWidth:"any"}),quarter:Ki({matchPatterns:M$e,defaultMatchWidth:"wide",parsePatterns:I$e,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Ki({matchPatterns:R$e,defaultMatchWidth:"wide",parsePatterns:$$e,defaultParseWidth:"any"}),day:Ki({matchPatterns:L$e,defaultMatchWidth:"wide",parsePatterns:F$e,defaultParseWidth:"any"}),dayPeriod:Ki({matchPatterns:V$e,defaultMatchWidth:"any",parsePatterns:z$e,defaultParseWidth:"any"})},U$e={code:"en-US",formatDistance:h$e,formatLong:v$e,formatRelative:x$e,localize:A$e,match:B$e,options:{weekStartsOn:0,firstWeekContainsDate:1}};function K$e(e){const t=Oi(e);return o$e(t,d$e(t))+1}function q$e(e){const t=Oi(e),r=+Tx(t)-+l$e(t);return Math.round(r/j7)+1}function A7(e,t){var d,f,h,p;const r=Oi(e),n=r.getFullYear(),a=Wb(),i=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??a.firstWeekContainsDate??((p=(h=a.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,o=Nc(e,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const l=hp(o,t),c=Nc(e,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const u=hp(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function W$e(e,t){var l,c,u,d;const r=Wb(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,a=A7(e,t),i=Nc(e,0);return i.setFullYear(a,0,n),i.setHours(0,0,0,0),hp(i,t)}function H$e(e,t){const r=Oi(e),n=+hp(r,t)-+W$e(r,t);return Math.round(n/j7)+1}function Dt(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const oo={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Dt(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Dt(r+1,2)},d(e,t){return Dt(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Dt(e.getHours()%12||12,t.length)},H(e,t){return Dt(e.getHours(),t.length)},m(e,t){return Dt(e.getMinutes(),t.length)},s(e,t){return Dt(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return Dt(a,t.length)}},Yc={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},nR={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return oo.y(e,t)},Y:function(e,t,r,n){const a=A7(e,n),i=a>0?a:1-a;if(t==="YY"){const o=i%100;return Dt(o,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):Dt(i,t.length)},R:function(e,t){const r=P7(e);return Dt(r,t.length)},u:function(e,t){const r=e.getFullYear();return Dt(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Dt(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Dt(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return oo.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Dt(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=H$e(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):Dt(a,t.length)},I:function(e,t,r){const n=q$e(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Dt(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):oo.d(e,t)},D:function(e,t,r){const n=K$e(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Dt(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Dt(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Dt(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return Dt(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=Yc.noon:n===0?a=Yc.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=Yc.evening:n>=12?a=Yc.afternoon:n>=4?a=Yc.morning:a=Yc.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return oo.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):oo.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Dt(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Dt(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):oo.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):oo.s(e,t)},S:function(e,t){return oo.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return iR(n);case"XXXX":case"XX":return Ol(n);case"XXXXX":case"XXX":default:return Ol(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return iR(n);case"xxxx":case"xx":return Ol(n);case"xxxxx":case"xxx":default:return Ol(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+aR(n,":");case"OOOO":default:return"GMT"+Ol(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+aR(n,":");case"zzzz":default:return"GMT"+Ol(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return Dt(n,t.length)},T:function(e,t,r){const n=e.getTime();return Dt(n,t.length)}};function aR(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),i=n%60;return i===0?r+String(a):r+String(a)+t+Dt(i,2)}function iR(e,t){return e%60===0?(e>0?"-":"+")+Dt(Math.abs(e)/60,2):Ol(e,t)}function Ol(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Dt(Math.trunc(n/60),2),i=Dt(n%60,2);return r+a+t+i}const sR=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},E7=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},G$e=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return sR(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",sR(n,t)).replace("{{time}}",E7(a,t))},X$e={p:E7,P:G$e},Y$e=/^D+$/,Q$e=/^Y+$/,Z$e=["D","DD","YY","YYYY"];function J$e(e){return Y$e.test(e)}function eLe(e){return Q$e.test(e)}function tLe(e,t,r){const n=rLe(e,t,r);if(console.warn(n),Z$e.includes(e))throw new RangeError(n)}function rLe(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const nLe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,aLe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,iLe=/^'([^]*?)'?$/,sLe=/''/g,oLe=/[a-zA-Z]/;function Or(e,t,r){var d,f,h,p,x,m,g,w;const n=Wb(),a=(r==null?void 0:r.locale)??n.locale??U$e,i=(r==null?void 0:r.firstWeekContainsDate)??((f=(d=r==null?void 0:r.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??n.firstWeekContainsDate??((p=(h=n.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((m=(x=r==null?void 0:r.locale)==null?void 0:x.options)==null?void 0:m.weekStartsOn)??n.weekStartsOn??((w=(g=n.locale)==null?void 0:g.options)==null?void 0:w.weekStartsOn)??0,l=Oi(e);if(!u$e(l))throw new RangeError("Invalid time value");let c=t.match(aLe).map(y=>{const b=y[0];if(b==="p"||b==="P"){const N=X$e[b];return N(y,a.formatLong)}return y}).join("").match(nLe).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const b=y[0];if(b==="'")return{isToken:!1,value:lLe(y)};if(nR[b])return{isToken:!0,value:y};if(b.match(oLe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:y}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return c.map(y=>{if(!y.isToken)return y.value;const b=y.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&eLe(b)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&J$e(b))&&tLe(b,t,String(e));const N=nR[b[0]];return N(l,b,a.localize,u)}).join("")}function lLe(e){const t=e.match(iLe);return t?t[1].replace(sLe,"'"):e}function _x(e,t){const n=fLe(e);let a;if(n.date){const c=hLe(n.date,2);a=mLe(c.restDateString,c.year)}if(!a||isNaN(a.getTime()))return new Date(NaN);const i=a.getTime();let o=0,l;if(n.time&&(o=pLe(n.time),isNaN(o)))return new Date(NaN);if(n.timezone){if(l=gLe(n.timezone),isNaN(l))return new Date(NaN)}else{const c=new Date(i+o),u=new Date(0);return u.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),u.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),u}return new Date(i+o+l)}const iv={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},cLe=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,uLe=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,dLe=/^([+-])(\d{2})(?::?(\d{2}))?$/;function fLe(e){const t={},r=e.split(iv.dateTimeDelimiter);let n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],iv.timeZoneDelimiter.test(t.date)&&(t.date=e.split(iv.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){const a=iv.timezone.exec(n);a?(t.time=n.replace(a[1],""),t.timezone=a[1]):t.time=n}return t}function hLe(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};const a=n[1]?parseInt(n[1]):null,i=n[2]?parseInt(n[2]):null;return{year:i===null?a:i*100,restDateString:e.slice((n[1]||n[2]).length)}}function mLe(e,t){if(t===null)return new Date(NaN);const r=e.match(cLe);if(!r)return new Date(NaN);const n=!!r[4],a=lh(r[1]),i=lh(r[2])-1,o=lh(r[3]),l=lh(r[4]),c=lh(r[5])-1;if(n)return wLe(t,l,c)?vLe(t,l,c):new Date(NaN);{const u=new Date(0);return!xLe(t,i,o)||!bLe(t,a)?new Date(NaN):(u.setUTCFullYear(t,i,Math.max(a,o)),u)}}function lh(e){return e?parseInt(e):1}function pLe(e){const t=e.match(uLe);if(!t)return NaN;const r=$j(t[1]),n=$j(t[2]),a=$j(t[3]);return jLe(r,n,a)?r*N7+n*S7+a*1e3:NaN}function $j(e){return e&&parseFloat(e.replace(",","."))||0}function gLe(e){if(e==="Z")return 0;const t=e.match(dLe);if(!t)return 0;const r=t[1]==="+"?-1:1,n=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;return SLe(n,a)?r*(n*N7+a*S7):NaN}function vLe(e,t,r){const n=new Date(0);n.setUTCFullYear(e,0,4);const a=n.getUTCDay()||7,i=(t-1)*7+r+1-a;return n.setUTCDate(n.getUTCDate()+i),n}const yLe=[31,null,31,30,31,30,31,31,30,31,30,31];function T7(e){return e%400===0||e%4===0&&e%100!==0}function xLe(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(yLe[t]||(T7(e)?29:28))}function bLe(e,t){return t>=1&&t<=(T7(e)?366:365)}function wLe(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function jLe(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function SLe(e,t){return t>=0&&t<=59}const NLe={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 día",other:"{{count}} días"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 año",other:"alrededor de {{count}} años"},xYears:{one:"1 año",other:"{{count}} años"},overXYears:{one:"más de 1 año",other:"más de {{count}} años"},almostXYears:{one:"casi 1 año",other:"casi {{count}} años"}},PLe=(e,t,r)=>{let n;const a=NLe[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"en "+n:"hace "+n:n},CLe={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},ALe={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},ELe={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},TLe={date:Lu({formats:CLe,defaultWidth:"full"}),time:Lu({formats:ALe,defaultWidth:"full"}),dateTime:Lu({formats:ELe,defaultWidth:"full"})},_Le={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'mañana a la' p",nextWeek:"eeee 'a la' p",other:"P"},OLe={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'mañana a las' p",nextWeek:"eeee 'a las' p",other:"P"},kLe=(e,t,r,n)=>t.getHours()!==1?OLe[e]:_Le[e],DLe={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","después de cristo"]},MLe={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1º trimestre","2º trimestre","3º trimestre","4º trimestre"]},ILe={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},RLe={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","sá"],abbreviated:["dom","lun","mar","mié","jue","vie","sáb"],wide:["domingo","lunes","martes","miércoles","jueves","viernes","sábado"]},$Le={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"}},LLe={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},FLe=(e,t)=>Number(e)+"º",VLe={ordinalNumber:FLe,era:Ui({values:DLe,defaultWidth:"wide"}),quarter:Ui({values:MLe,defaultWidth:"wide",argumentCallback:e=>Number(e)-1}),month:Ui({values:ILe,defaultWidth:"wide"}),day:Ui({values:RLe,defaultWidth:"wide"}),dayPeriod:Ui({values:$Le,defaultWidth:"wide",formattingValues:LLe,defaultFormattingWidth:"wide"})},zLe=/^(\d+)(º)?/i,BLe=/\d+/i,ULe={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[uú]n|despu[eé]s de cristo|era com[uú]n)/i},KLe={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[uú]n)/i,/^(despu[eé]s de cristo|era com[uú]n)/i]},qLe={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](º)? trimestre/i},WLe={any:[/1/i,/2/i,/3/i,/4/i]},HLe={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},GLe={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},XLe={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[áa])/i,abbreviated:/^(dom|lun|mar|mi[ée]|jue|vie|s[áa]b)/i,wide:/^(domingo|lunes|martes|mi[ée]rcoles|jueves|viernes|s[áa]bado)/i},YLe={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},QLe={narrow:/^(a|p|mn|md|(de la|a las) (mañana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (mañana|tarde|noche))/i},ZLe={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/mañana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},JLe={ordinalNumber:C7({matchPattern:zLe,parsePattern:BLe,valueCallback:function(e){return parseInt(e,10)}}),era:Ki({matchPatterns:ULe,defaultMatchWidth:"wide",parsePatterns:KLe,defaultParseWidth:"any"}),quarter:Ki({matchPatterns:qLe,defaultMatchWidth:"wide",parsePatterns:WLe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Ki({matchPatterns:HLe,defaultMatchWidth:"wide",parsePatterns:GLe,defaultParseWidth:"any"}),day:Ki({matchPatterns:XLe,defaultMatchWidth:"wide",parsePatterns:YLe,defaultParseWidth:"any"}),dayPeriod:Ki({matchPatterns:QLe,defaultMatchWidth:"any",parsePatterns:ZLe,defaultParseWidth:"any"})},Ha={code:"es",formatDistance:PLe,formatLong:TLe,formatRelative:kLe,localize:VLe,match:JLe,options:{weekStartsOn:1,firstWeekContainsDate:1}};function e4e({isOpen:e,onClose:t,kpiId:r,kpiName:n,kpiTarget:a,userName:i,areaName:o,companyName:l}){const[c,u]=v.useState(12),{data:d,isLoading:f}=$e({queryKey:["/api/kpi-history",r,c],enabled:r!==null&&e}),p=!d||d.length===0?[]:d.map(P=>({date:Or(new Date(P.date),"MMM yyyy",{locale:Ha}),value:parseFloat(P.value.replace("%","")),target:parseFloat(a.replace("%","")),rawDate:new Date(P.date)})).sort((P,C)=>P.rawDate.getTime()-C.rawDate.getTime()).slice(-c),m=(()=>{if(p.length<2)return"stable";const P=p.slice(-3),C=P.reduce((T,_)=>T+_.value,0)/P.length,A=p.slice(-6,-3),E=A.reduce((T,_)=>T+_.value,0)/A.length;return C>E*1.05?"up":C<E*.95?"down":"stable"})(),g=p.length>0?p[p.length-1].value:0,w=parseFloat(a.replace("%","")),y=()=>g>=w*.95?"compliant":g>=w*.8?"alert":"non-compliant",b=P=>{switch(P){case"compliant":return"bg-green-100 text-green-800 border-green-300";case"alert":return"bg-yellow-100 text-yellow-800 border-yellow-300";case"non-compliant":return"bg-red-100 text-red-800 border-red-300";default:return"bg-gray-100 text-gray-800 border-gray-300"}},N=P=>{switch(P){case"compliant":return"Cumple";case"alert":return"Alerta";case"non-compliant":return"No Cumple";default:return"Sin datos"}},j=()=>{switch(m){case"up":return s.jsx(rn,{className:"h-4 w-4 text-green-600"});case"down":return s.jsx(bm,{className:"h-4 w-4 text-red-600"});default:return s.jsx(ga,{className:"h-4 w-4 text-gray-600"})}},S=()=>{const P=[["Fecha","Valor","Meta"],...p.map(T=>[T.date,`${T.value}%`,`${T.target}%`])].map(T=>T.join(",")).join(`
`),C=new Blob([P],{type:"text/csv"}),A=window.URL.createObjectURL(C),E=document.createElement("a");E.href=A,E.download=`${n}-historial-${i}.csv`,E.click(),window.URL.revokeObjectURL(A)};return e?s.jsx(Ir,{open:e,onOpenChange:t,children:s.jsxs(Sr,{className:"max-w-5xl h-[90vh] overflow-y-auto",children:[s.jsx(Nr,{children:s.jsxs(Pr,{className:"flex items-center gap-2",children:[s.jsx(ja,{className:"h-5 w-5"}),"Historial de KPI"]})}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(le,{children:[s.jsx(_e,{children:s.jsxs(ke,{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold",children:n}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[i," - ",o]})]}),s.jsx(Ze,{variant:"outline",children:l})]})}),s.jsx(ce,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsxs("p",{className:"text-2xl font-bold",children:[g.toFixed(1),"%"]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Valor Actual"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("p",{className:"text-2xl font-bold",children:[w,"%"]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Meta"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx(Ze,{className:b(y()),children:N(y())}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Estado"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"flex items-center justify-center gap-1",children:[j(),s.jsx("span",{className:"font-medium capitalize",children:m==="up"?"Subiendo":m==="down"?"Bajando":"Estable"})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Tendencia"})]})]})})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center gap-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm font-medium",children:"Período:"}),s.jsxs(Xe,{value:c.toString(),onValueChange:P=>u(parseInt(P)),children:[s.jsx(He,{className:"w-32",children:s.jsx(Ye,{})}),s.jsxs(Ge,{children:[s.jsx(G,{value:"6",children:"6 meses"}),s.jsx(G,{value:"12",children:"12 meses"}),s.jsx(G,{value:"18",children:"18 meses"}),s.jsx(G,{value:"24",children:"24 meses"})]})]})]})}),s.jsxs(re,{onClick:S,variant:"outline",size:"sm",children:[s.jsx(i6,{className:"h-4 w-4 mr-2"}),"Exportar CSV"]})]}),s.jsxs(le,{children:[s.jsx(_e,{children:s.jsx(ke,{children:"Tendencia Histórica"})}),s.jsx(ce,{children:f?s.jsx("div",{className:"flex items-center justify-center h-80",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):p.length>0?s.jsx(Is,{width:"100%",height:300,children:s.jsxs(Vb,{data:p,children:[s.jsx(as,{strokeDasharray:"3 3"}),s.jsx(Mn,{dataKey:"date"}),s.jsx(In,{}),s.jsx(Kr,{formatter:(P,C)=>[`${P}%`,C==="value"?"Valor Real":"Meta"]}),s.jsx(Na,{type:"monotone",dataKey:"value",stroke:"#2563eb",strokeWidth:3,dot:{fill:"#2563eb",strokeWidth:2,r:4},name:"value"}),s.jsx(Na,{type:"monotone",dataKey:"target",stroke:"#dc2626",strokeDasharray:"5 5",strokeWidth:2,dot:{fill:"#dc2626",strokeWidth:2,r:3},name:"target"})]})}):s.jsx("div",{className:"flex items-center justify-center h-80 text-muted-foreground",children:s.jsxs("div",{className:"text-center",children:[s.jsx(ja,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"No hay datos históricos disponibles"})]})})})]}),s.jsxs(le,{children:[s.jsx(_e,{children:s.jsx(ke,{children:"Comparativo Mensual"})}),s.jsx(ce,{children:p.length>0?s.jsx(Is,{width:"100%",height:200,children:s.jsxs(aT,{data:p,children:[s.jsx(as,{strokeDasharray:"3 3"}),s.jsx(Mn,{dataKey:"date"}),s.jsx(In,{}),s.jsx(Kr,{formatter:P=>[`${P}%`,"Valor"]}),s.jsx(Xn,{dataKey:"value",fill:"#3b82f6",radius:[4,4,0,0]})]})}):s.jsx("div",{className:"flex items-center justify-center h-48 text-muted-foreground",children:s.jsx("p",{children:"No hay datos disponibles"})})})]}),s.jsxs(le,{children:[s.jsx(_e,{children:s.jsx(ke,{children:"Datos Detallados"})}),s.jsx(ce,{children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b",children:[s.jsx("th",{className:"text-left p-2",children:"Fecha"}),s.jsx("th",{className:"text-left p-2",children:"Valor"}),s.jsx("th",{className:"text-left p-2",children:"Meta"}),s.jsx("th",{className:"text-left p-2",children:"Diferencia"}),s.jsx("th",{className:"text-left p-2",children:"Estado"})]})}),s.jsx("tbody",{children:p.map((P,C)=>{const A=P.value-P.target,E=P.value>=P.target*.95?"compliant":P.value>=P.target*.8?"alert":"non-compliant";return s.jsxs("tr",{className:"border-b",children:[s.jsx("td",{className:"p-2",children:P.date}),s.jsxs("td",{className:"p-2 font-mono",children:[P.value,"%"]}),s.jsxs("td",{className:"p-2 font-mono",children:[P.target,"%"]}),s.jsxs("td",{className:`p-2 font-mono ${A>=0?"text-green-600":"text-red-600"}`,children:[A>=0?"+":"",A.toFixed(1),"%"]}),s.jsx("td",{className:"p-2",children:s.jsx(Ze,{className:b(E),children:N(E)})})]},C)})})]})})})]})]})]})}):null}function t4e({selectedCompany:e}){var V;const[t,r]=v.useState(""),[n,a]=v.useState("all"),[i,o]=v.useState("all"),[l,c]=v.useState("all"),[u,d]=v.useState("all"),[f,h]=v.useState(null),[p,x]=v.useState(!1),{data:m,isLoading:g}=$e({queryKey:["/api/kpi-overview"]}),{data:w}=$e({queryKey:["/api/companies"]}),{data:y}=$e({queryKey:["/api/areas"]}),b=D=>{switch(D){case"compliant":return"bg-green-100 text-green-800 border-green-300";case"alert":return"bg-yellow-100 text-yellow-800 border-yellow-300";case"non-compliant":return"bg-red-100 text-red-800 border-red-300";default:return"bg-gray-100 text-gray-800 border-gray-300"}},N=D=>{switch(D){case"compliant":return s.jsx(rn,{className:"h-4 w-4"});case"alert":return s.jsx(qo,{className:"h-4 w-4"});case"non-compliant":return s.jsx(bm,{className:"h-4 w-4"});default:return s.jsx(ga,{className:"h-4 w-4"})}},j=D=>{switch(D){case"compliant":return"Cumple";case"alert":return"Alerta";case"non-compliant":return"No Cumple";default:return"Sin datos"}},S=(D,I,B)=>{if(!D||!I)return 0;const Y=parseFloat(D.replace(/[^0-9.-]+/g,"")),X=parseFloat(I.replace(/[^0-9.-]+/g,""));if(isNaN(Y)||isNaN(X)||X===0)return 0;const oe=["días de cobro","días de pago","tiempo de entrega","huella de carbono","costos","gastos","tiempo de respuesta","defectos","errores","quejas","devoluciones","rotación","tiempo de inactividad"].some(Fe=>B.toLowerCase().includes(Fe));let je;return oe?je=Math.min(X/Y*100,100):je=Math.min(Y/X*100,100),Math.round(je)},P=D=>D>=90?"bg-green-500":D>=70?"bg-yellow-500":D>=50?"bg-orange-500":"bg-red-500",C=((V=w==null?void 0:w.find(D=>D.id===e))==null?void 0:V.name)||"",A=(m==null?void 0:m.filter(D=>{const I=D.companyName===C,B=D.userName.toLowerCase().includes(t.toLowerCase())||D.kpiName.toLowerCase().includes(t.toLowerCase()),Y=n==="all"||D.areaName===n,X=i==="all"||D.status===i,oe=l==="all"||D.userName===l,je=u==="all"||D.status===u;return I&&B&&Y&&X&&oe&&je}))||[],E=[...new Set((m==null?void 0:m.filter(D=>D.companyName===C).map(D=>D.areaName))||[])],T=[...new Set((m==null?void 0:m.filter(D=>D.companyName===C).map(D=>D.userName))||[])],_=A.reduce((D,I)=>(D[I.areaName]||(D[I.areaName]=[]),D[I.areaName].push(I),D),{}),O=A.filter(D=>D.status==="non-compliant"),M=A.filter(D=>D.status==="alert"),L=A.filter(D=>D.status==="compliant"),R=D=>{h(D),x(!0)};return g?s.jsx("div",{className:"flex items-center justify-center min-h-[300px]",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(Ko,{className:"h-5 w-5 text-primary"}),s.jsx("h2",{className:"text-xl font-semibold",children:"Vista General de KPIs"}),s.jsx(Ze,{variant:"outline",className:"ml-2",children:C})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsx(le,{className:"border-l-4 border-l-red-500 hover:shadow-md transition-shadow",children:s.jsx(ce,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Críticos"}),s.jsx("p",{className:"text-2xl font-bold text-red-600",children:O.length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Requieren atención"})]}),s.jsx("div",{className:"p-2 bg-red-100 rounded-full",children:s.jsx(bm,{className:"h-4 w-4 text-red-600"})})]})})}),s.jsx(le,{className:"border-l-4 border-l-yellow-500 hover:shadow-md transition-shadow",children:s.jsx(ce,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"En Alerta"}),s.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:M.length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Monitoreando"})]}),s.jsx("div",{className:"p-2 bg-yellow-100 rounded-full",children:s.jsx(qo,{className:"h-4 w-4 text-yellow-600"})})]})})}),s.jsx(le,{className:"border-l-4 border-l-green-500 hover:shadow-md transition-shadow",children:s.jsx(ce,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"En Cumplimiento"}),s.jsx("p",{className:"text-2xl font-bold text-green-600",children:L.length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Objetivo logrado"})]}),s.jsx("div",{className:"p-2 bg-green-100 rounded-full",children:s.jsx(rn,{className:"h-4 w-4 text-green-600"})})]})})}),s.jsx(le,{className:"border-l-4 border-l-blue-500 hover:shadow-md transition-shadow",children:s.jsx(ce,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total KPIs"}),s.jsx("p",{className:"text-2xl font-bold text-blue-600",children:A.length}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Activos"})]}),s.jsx("div",{className:"p-2 bg-blue-100 rounded-full",children:s.jsx(Ko,{className:"h-4 w-4 text-blue-600"})})]})})})]}),s.jsxs(le,{className:"bg-gradient-to-r from-gray-50 to-gray-100 border-gray-200",children:[s.jsx(_e,{className:"pb-3",children:s.jsxs(ke,{className:"flex items-center gap-2 text-lg",children:[s.jsx("div",{className:"p-2 bg-white rounded-lg shadow-sm",children:s.jsx(s6,{className:"h-4 w-4 text-gray-600"})}),"Filtros y Búsqueda"]})}),s.jsx(ce,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(cS,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(Ee,{placeholder:"Buscar por nombre o KPI...",value:t,onChange:D=>r(D.target.value),className:"pl-10 bg-white border-gray-300 focus:ring-2 focus:ring-blue-500"})]}),s.jsxs(Xe,{value:n,onValueChange:a,children:[s.jsx(He,{className:"bg-white border-gray-300 focus:ring-2 focus:ring-blue-500",children:s.jsx(Ye,{placeholder:"📊 Todas las áreas"})}),s.jsxs(Ge,{children:[s.jsx(G,{value:"all",children:"📊 Todas las áreas"}),E.map(D=>s.jsx(G,{value:D,children:D},D))]})]}),s.jsxs(Xe,{value:l,onValueChange:c,children:[s.jsx(He,{className:"bg-white border-gray-300 focus:ring-2 focus:ring-blue-500",children:s.jsx(Ye,{placeholder:"👤 Todas las personas"})}),s.jsxs(Ge,{children:[s.jsx(G,{value:"all",children:"👤 Todas las personas"}),T.map(D=>s.jsx(G,{value:D,children:D},D))]})]}),s.jsxs(Xe,{value:i,onValueChange:o,children:[s.jsx(He,{className:"bg-white border-gray-300 focus:ring-2 focus:ring-blue-500",children:s.jsx(Ye,{placeholder:"🔍 Todos los estados"})}),s.jsxs(Ge,{children:[s.jsx(G,{value:"all",children:"🔍 Todos los estados"}),s.jsx(G,{value:"non-compliant",children:"🔴 No cumple"}),s.jsx(G,{value:"alert",children:"🟡 Alerta"}),s.jsx(G,{value:"compliant",children:"🟢 Cumple"})]})]})]})})]}),s.jsxs(hl,{value:u,onValueChange:d,children:[s.jsxs(Ys,{className:"grid w-full grid-cols-4 bg-gray-100 p-1 rounded-lg",children:[s.jsxs(Xt,{value:"all",className:"data-[state=active]:bg-white data-[state=active]:shadow-sm",children:["📊 Todos (",A.length,")"]}),s.jsxs(Xt,{value:"non-compliant",className:"text-red-600 data-[state=active]:bg-red-50 data-[state=active]:text-red-700",children:["🔴 Críticos (",O.length,")"]}),s.jsxs(Xt,{value:"alert",className:"text-yellow-600 data-[state=active]:bg-yellow-50 data-[state=active]:text-yellow-700",children:["🟡 Alertas (",M.length,")"]}),s.jsxs(Xt,{value:"compliant",className:"text-green-600 data-[state=active]:bg-green-50 data-[state=active]:text-green-700",children:["🟢 Cumplimiento (",L.length,")"]})]}),s.jsx(mr,{value:u,className:"space-y-4",children:Object.entries(_).map(([D,I])=>s.jsxs(le,{children:[s.jsx(_e,{children:s.jsxs(ke,{className:"flex items-center justify-between",children:[s.jsx("span",{children:D}),s.jsxs(Ze,{variant:"outline",children:[I.length," KPIs"]})]})}),s.jsx(ce,{children:s.jsx("div",{className:"grid gap-4",children:I.map(B=>{const Y=S(B.kpiValue,B.kpiTarget,B.kpiName),X=P(Y);return s.jsx(le,{className:"hover:shadow-md transition-shadow border-l-4 border-l-gray-300 hover:border-l-blue-500",children:s.jsx(ce,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-bold text-lg",children:B.userName.split(" ").map(oe=>oe[0]).join("").toUpperCase()})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("h4",{className:"font-semibold text-gray-900",children:B.userName}),s.jsx(Ze,{variant:"outline",className:"text-xs",children:B.userEmail.split("@")[0]})]}),s.jsx("p",{className:"text-sm font-medium text-gray-700",children:B.kpiName}),s.jsx("p",{className:"text-xs text-gray-500",children:B.kpiFrequency}),s.jsxs("div",{className:"mt-2 w-full max-w-xs",children:[s.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 mb-1",children:[s.jsx("span",{children:"Progreso"}),s.jsxs("span",{children:[Y,"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${X}`,style:{width:`${Y}%`}})})]})]})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:B.kpiValue}),s.jsxs("p",{className:"text-sm text-gray-500",children:["Meta: ",B.kpiTarget]})]}),s.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[s.jsxs(Ze,{className:`${b(B.status)} px-3 py-1`,children:[N(B.status),s.jsx("span",{className:"ml-1 font-medium",children:j(B.status)})]}),s.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[s.jsx(ga,{className:"h-3 w-3"}),B.lastUpdate&&Or(new Date(B.lastUpdate),"dd/MM",{locale:Ha})]})]}),s.jsxs(re,{size:"sm",variant:"outline",onClick:()=>R(B),className:"flex-shrink-0",children:[s.jsx(ia,{className:"h-4 w-4 mr-1"}),"Ver"]})]})]})})},`${B.userId}-${B.kpiId}`)})})})]},D))})]}),A.length===0&&s.jsx(le,{className:"bg-gray-50 border-gray-200",children:s.jsxs(ce,{className:"p-8 text-center",children:[s.jsx("div",{className:"p-4 bg-white rounded-full w-fit mx-auto mb-4",children:s.jsx(qo,{className:"h-8 w-8 text-gray-400"})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No se encontraron KPIs"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"No hay KPIs que coincidan con los filtros seleccionados"}),s.jsxs("div",{className:"text-sm text-gray-500",children:[s.jsx("p",{children:"Intenta:"}),s.jsxs("ul",{className:"mt-2 space-y-1",children:[s.jsx("li",{children:"• Cambiar el área seleccionada"}),s.jsx("li",{children:"• Modificar el estado de los KPIs"}),s.jsx("li",{children:"• Limpiar el término de búsqueda"})]})]})]})}),f&&s.jsx(e4e,{isOpen:p,onClose:()=>x(!1),kpiId:f.kpiId,kpiName:f.kpiName,kpiTarget:f.kpiTarget,userName:f.userName,areaName:f.areaName,companyName:f.companyName})]})}function r4e({companies:e,selectedCompanyId:t,onCompanyChange:r}){const n=a=>{try{const i=Number(a);console.log("CompanySelector: Cambiando a compañía ID:",i);const o=e.find(l=>l.id===i);o&&!isNaN(i)?(console.log("CompanySelector: Compañía válida encontrada:",o.name),r(i)):(console.error("CompanySelector: ID de compañía inválido:",i),console.error("CompanySelector: Compañías disponibles:",e))}catch(i){console.error("CompanySelector: Error al cambiar compañía:",i)}};return s.jsxs("div",{className:"flex items-center bg-white/20 backdrop-blur-sm rounded-lg shadow-md border border-white/30 p-2 hover:bg-white/30 transition-colors",children:[s.jsx("div",{className:"px-3",children:s.jsx(r6,{className:"h-6 w-6 text-white"})}),s.jsxs(Xe,{value:t.toString(),onValueChange:n,children:[s.jsx(He,{className:"border-0 bg-transparent focus:ring-0 focus:ring-offset-0 p-2 text-white font-medium",children:s.jsx(Ye,{placeholder:"Seleccionar empresa"})}),s.jsx(Ge,{children:e.map(a=>s.jsx(G,{value:a.id.toString(),children:a.name},a.id))})]})]})}function n4e(){const e=k.useRef(null),[t,r]=v.useState(1),[n,a]=v.useState({companyId:t,areaId:void 0,status:void 0,period:void 0}),[i,o]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState("charts"),[f,h]=v.useState(!1),[p,x]=v.useState(void 0),{data:m,isLoading:g}=$e({queryKey:["/api/companies"],staleTime:3e5,refetchInterval:!1,refetchOnWindowFocus:!1,refetchOnMount:!0}),{data:w,isLoading:y}=$e({queryKey:["/api/kpis",n.companyId,n.areaId],staleTime:12e4,refetchInterval:!1,refetchOnWindowFocus:!1,refetchOnMount:!0}),{data:b,isLoading:N}=$e({queryKey:["/api/kpi-values"],staleTime:6e4,refetchInterval:!1,refetchOnWindowFocus:!1,refetchOnMount:!0}),S=(()=>{if(!w||!b)return[];if(!Array.isArray(w))return[];if(!Array.isArray(b))return[];const T=w.filter(O=>O.companyId===Number(n.companyId));return Array.from(new Map(T.map(O=>[O.id,O])).values()).map(O=>{const M=b.filter(D=>D.kpiId===O.id),L=n.period&&n.period!=="all"?M.filter(D=>D.period===n.period):M;if(!L||L.length===0)return null;const V=L.sort((D,I)=>{const B=new Date(D.date).getTime();return new Date(I.date).getTime()-B})[0];return n.status&&n.status!=="all"&&V.status!==n.status||n.areaId&&O.areaId!==n.areaId?null:{id:O.id,name:O.name,status:V.status,value:V.value,compliancePercentage:V.compliancePercentage,target:O.target,period:V.period,comments:V.comments}}).filter(O=>!!O)})();m&&Array.isArray(m)&&n.companyId&&m.filter(T=>T.id===n.companyId);const P=T=>{try{if("companyId"in T){const _=Number(T.companyId);console.log("Cambiando compañía a:",_),_&&(_===1||_===2)?(r(_),a(O=>({...O,companyId:_})),console.log(`CompanyId actualizado en filters: ${_}`)):console.error("ID de compañía inválido:",_)}else a(_=>({..._,...T}))}catch(_){console.error("Error al cambiar filtros:",_)}},C=T=>{o(T),c(!0)},A=()=>{if(!b||!Array.isArray(b)||b.length===0)return"N/A";const T=b.map(O=>new Date(O.date)),_=new Date(Math.max(...T.map(O=>O.getTime())));return Mue(_)};return g||y||N||!m?s.jsx(Qa,{title:"Panel de Control",isLoading:!0,children:s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-[#273949]"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Cargando dashboard..."})]})})}):s.jsx(Qa,{title:"Panel de Control",isLoading:!1,children:s.jsxs("div",{id:"dashboard-container",ref:e,children:[s.jsx(Rue,{onFilterChange:P}),s.jsxs("div",{className:"relative mb-6 sm:mb-10 overflow-hidden rounded-lg sm:rounded-xl bg-gradient-to-r from-[#273949] to-[#1a2a36] p-4 sm:p-8 shadow-lg dark:from-[#15202b] dark:to-[#0d1117]",children:[s.jsx("div",{className:"absolute inset-0 bg-grid-white/10 bg-[length:20px_20px] [mask-image:linear-gradient(to_bottom,white_20%,transparent_60%)]"}),s.jsx("div",{className:"absolute right-0 top-0 h-full w-1/3 bg-gradient-to-l from-[#b5e951]/20 to-transparent"}),s.jsxs("div",{className:"relative",children:[s.jsx("h1",{className:"mb-2 sm:mb-3 text-xl sm:text-2xl md:text-3xl font-bold text-white",children:"¡Bienvenido al Panel de Control!"}),s.jsx("p",{className:"mb-4 sm:mb-6 max-w-xl text-sm sm:text-base text-white/80",children:"Visualiza el rendimiento de tu negocio con nuestros tableros interactivos de ventas y trazabilidad de envíos."}),m&&Array.isArray(m)&&m.length>0&&s.jsx("div",{className:"mb-4 sm:mb-6 max-w-full sm:max-w-xs",children:s.jsx(r4e,{companies:m,selectedCompanyId:Number(n.companyId)||1,onCompanyChange:T=>{console.log("[Dashboard] Cambiando compañía desde selector:",T),P({companyId:T})}})}),s.jsxs("div",{className:"mt-4 sm:mt-8 grid gap-2 grid-cols-1 sm:grid-cols-2 md:grid-cols-3 md:gap-4",children:[s.jsxs("div",{className:"bg-white/10 p-3 rounded-lg backdrop-blur-sm text-white",children:[s.jsx("p",{className:"text-xs text-white/70",children:"Volumen de ventas (último mes)"}),s.jsx("p",{className:"text-2xl font-bold",children:Number(n.companyId)===2?"237,464 Unidades":"59,680 KG"}),s.jsxs("p",{className:"text-xs flex items-center text-emerald-400",children:[s.jsx(sS,{className:"h-3 w-3 mr-1"}),s.jsxs("span",{children:[Number(n.companyId)===2?"+26%":"+4.2%"," vs mes anterior"]})]})]}),s.jsxs("div",{className:"bg-white/10 p-3 rounded-lg backdrop-blur-sm text-white",children:[s.jsx("p",{className:"text-xs text-white/70",children:"KPIs en seguimiento"}),s.jsx("p",{className:"text-2xl font-bold",children:Array.isArray(S)?S.length:0}),s.jsxs("p",{className:"text-xs text-white/70",children:[Array.isArray(S)?S.filter(T=>T.status==="complies").length:0," cumpliendo objetivo"]})]}),s.jsxs("div",{className:"bg-white/10 p-3 rounded-lg backdrop-blur-sm text-white",children:[s.jsx("p",{className:"text-xs text-white/70",children:"Última actualización"}),s.jsx("p",{className:"text-xl font-bold",children:A()}),s.jsx("p",{className:"text-xs text-white/70",children:"Datos en tiempo real"})]})]})]})]}),s.jsx("div",{className:"mb-6 sm:mb-12",children:s.jsxs(hl,{defaultValue:"sales",className:"w-full",children:[s.jsxs(Ys,{className:"grid w-full grid-cols-2 mb-6",children:[s.jsx(Xt,{value:"sales",children:"Reporte de Ventas"}),s.jsx(Xt,{value:"kpi-overview",children:"Vista General KPIs"})]}),s.jsx(mr,{value:"sales",className:"space-y-6",children:s.jsxs("div",{className:"bg-slate-50 dark:bg-primary-950/50 p-3 sm:p-6 rounded-xl sm:rounded-2xl shadow-md mx-2 sm:mx-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3 sm:mb-6",children:[s.jsx("div",{className:"h-8 w-8 sm:h-10 sm:w-10 rounded-full bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center",children:s.jsx(fd,{className:"h-4 w-4 sm:h-5 sm:w-5 text-blue-600 dark:text-blue-400"})}),s.jsx("h2",{className:"text-lg sm:text-xl md:text-2xl font-bold text-slate-800 dark:text-slate-100",children:"Reporte de Ventas"})]}),s.jsx(TRe,{companyId:Number(n.companyId)||1},`sales-summary-${n.companyId}`)]})}),s.jsx(mr,{value:"kpi-overview",className:"space-y-6",children:s.jsx("div",{className:"bg-slate-50 dark:bg-primary-950/50 p-3 sm:p-6 rounded-xl sm:rounded-2xl shadow-md mx-2 sm:mx-0",children:s.jsx(t4e,{selectedCompany:Number(n.companyId)||1})})})]})}),s.jsx(sRe,{kpiId:i,isOpen:l,onClose:()=>c(!1)}),s.jsx(wRe,{isOpen:f,onClose:()=>h(!1),status:p,kpis:Array.isArray(S)?S.filter(Boolean):[],onViewKpiDetails:C})]})})}var ig=e=>e.type==="checkbox",Ul=e=>e instanceof Date,_n=e=>e==null;const _7=e=>typeof e=="object";var br=e=>!_n(e)&&!Array.isArray(e)&&_7(e)&&!Ul(e),O7=e=>br(e)&&e.target?ig(e.target)?e.target.checked:e.target.value:e,a4e=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,k7=(e,t)=>e.has(a4e(t)),i4e=e=>{const t=e.constructor&&e.constructor.prototype;return br(t)&&t.hasOwnProperty("isPrototypeOf")},hT=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Yr(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(hT&&(e instanceof Blob||n))&&(r||br(e)))if(t=r?[]:{},!r&&!i4e(e))t=e;else for(const a in e)e.hasOwnProperty(a)&&(t[a]=Yr(e[a]));else return e;return t}var Hb=e=>Array.isArray(e)?e.filter(Boolean):[],vr=e=>e===void 0,xe=(e,t,r)=>{if(!t||!br(e))return r;const n=Hb(t.split(/[,[\].]+?/)).reduce((a,i)=>_n(a)?a:a[i],e);return vr(n)||n===e?vr(e[t])?r:e[t]:n},ua=e=>typeof e=="boolean",mT=e=>/^\w*$/.test(e),D7=e=>Hb(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Ot=(e,t,r)=>{let n=-1;const a=mT(t)?[t]:D7(t),i=a.length,o=i-1;for(;++n<i;){const l=a[n];let c=r;if(n!==o){const u=e[l];c=br(u)||Array.isArray(u)?u:isNaN(+a[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const Ox={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},pi={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ys={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},M7=k.createContext(null),Gb=()=>k.useContext(M7),s4e=e=>{const{children:t,...r}=e;return k.createElement(M7.Provider,{value:r},t)};var I7=(e,t,r,n=!0)=>{const a={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(a,i,{get:()=>{const o=i;return t._proxyFormState[o]!==pi.all&&(t._proxyFormState[o]=!n||pi.all),r&&(r[o]=!0),e[o]}});return a};function o4e(e){const t=Gb(),{control:r=t.control,disabled:n,name:a,exact:i}=e||{},[o,l]=k.useState(r._formState),c=k.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),u=k.useRef(a);return u.current=a,k.useEffect(()=>r._subscribe({name:u.current,formState:c.current,exact:i,callback:d=>{!n&&l({...r._formState,...d})}}),[r,n,i]),k.useEffect(()=>{c.current.isValid&&r._setValid(!0)},[r]),k.useMemo(()=>I7(o,r,c.current,!1),[o,r])}var Gi=e=>typeof e=="string",R7=(e,t,r,n,a)=>Gi(e)?(n&&t.watch.add(e),xe(r,e,a)):Array.isArray(e)?e.map(i=>(n&&t.watch.add(i),xe(r,i))):(n&&(t.watchAll=!0),r);function l4e(e){const t=Gb(),{control:r=t.control,name:n,defaultValue:a,disabled:i,exact:o}=e||{},l=k.useRef(n),c=k.useRef(a);l.current=n,k.useEffect(()=>r._subscribe({name:l.current,formState:{values:!0},exact:o,callback:f=>!i&&d(R7(l.current,r._names,f.values||r._formValues,!1,c.current))}),[r,i,o]);const[u,d]=k.useState(r._getWatch(n,a));return k.useEffect(()=>r._removeUnmounted()),u}function c4e(e){const t=Gb(),{name:r,disabled:n,control:a=t.control,shouldUnregister:i}=e,o=k7(a._names.array,r),l=l4e({control:a,name:r,defaultValue:xe(a._formValues,r,xe(a._defaultValues,r,e.defaultValue)),exact:!0}),c=o4e({control:a,name:r,exact:!0}),u=k.useRef(e),d=k.useRef(a.register(r,{...e.rules,value:l,...ua(e.disabled)?{disabled:e.disabled}:{}})),f=k.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!xe(c.errors,r)},isDirty:{enumerable:!0,get:()=>!!xe(c.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!xe(c.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!xe(c.validatingFields,r)},error:{enumerable:!0,get:()=>xe(c.errors,r)}}),[c,r]),h=k.useCallback(g=>d.current.onChange({target:{value:O7(g),name:r},type:Ox.CHANGE}),[r]),p=k.useCallback(()=>d.current.onBlur({target:{value:xe(a._formValues,r),name:r},type:Ox.BLUR}),[r,a._formValues]),x=k.useCallback(g=>{const w=xe(a._fields,r);w&&g&&(w._f.ref={focus:()=>g.focus(),select:()=>g.select(),setCustomValidity:y=>g.setCustomValidity(y),reportValidity:()=>g.reportValidity()})},[a._fields,r]),m=k.useMemo(()=>({name:r,value:l,...ua(n)||c.disabled?{disabled:c.disabled||n}:{},onChange:h,onBlur:p,ref:x}),[r,n,c.disabled,h,p,x,l]);return k.useEffect(()=>{const g=a._options.shouldUnregister||i;a.register(r,{...u.current.rules,...ua(u.current.disabled)?{disabled:u.current.disabled}:{}});const w=(y,b)=>{const N=xe(a._fields,y);N&&N._f&&(N._f.mount=b)};if(w(r,!0),g){const y=Yr(xe(a._options.defaultValues,r));Ot(a._defaultValues,r,y),vr(xe(a._formValues,r))&&Ot(a._formValues,r,y)}return!o&&a.register(r),()=>{(o?g&&!a._state.action:g)?a.unregister(r):w(r,!1)}},[r,a,o,i]),k.useEffect(()=>{a._setDisabledField({disabled:n,name:r})},[n,r,a]),k.useMemo(()=>({field:m,formState:c,fieldState:f}),[m,c,f])}const u4e=e=>e.render(c4e(e));var $7=(e,t,r,n,a)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:a||!0}}:{},Yh=e=>Array.isArray(e)?e:[e],oR=()=>{let e=[];return{get observers(){return e},next:a=>{for(const i of e)i.next&&i.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(i=>i!==a)}}),unsubscribe:()=>{e=[]}}},gP=e=>_n(e)||!_7(e);function bo(e,t){if(gP(e)||gP(t))return e===t;if(Ul(e)&&Ul(t))return e.getTime()===t.getTime();const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(const a of r){const i=e[a];if(!n.includes(a))return!1;if(a!=="ref"){const o=t[a];if(Ul(i)&&Ul(o)||br(i)&&br(o)||Array.isArray(i)&&Array.isArray(o)?!bo(i,o):i!==o)return!1}}return!0}var En=e=>br(e)&&!Object.keys(e).length,pT=e=>e.type==="file",gi=e=>typeof e=="function",kx=e=>{if(!hT)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},L7=e=>e.type==="select-multiple",gT=e=>e.type==="radio",d4e=e=>gT(e)||ig(e),Lj=e=>kx(e)&&e.isConnected;function f4e(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=vr(e)?n++:e[t[n++]];return e}function h4e(e){for(const t in e)if(e.hasOwnProperty(t)&&!vr(e[t]))return!1;return!0}function Tr(e,t){const r=Array.isArray(t)?t:mT(t)?[t]:D7(t),n=r.length===1?e:f4e(e,r),a=r.length-1,i=r[a];return n&&delete n[i],a!==0&&(br(n)&&En(n)||Array.isArray(n)&&h4e(n))&&Tr(e,r.slice(0,-1)),e}var F7=e=>{for(const t in e)if(gi(e[t]))return!0;return!1};function Dx(e,t={}){const r=Array.isArray(e);if(br(e)||r)for(const n in e)Array.isArray(e[n])||br(e[n])&&!F7(e[n])?(t[n]=Array.isArray(e[n])?[]:{},Dx(e[n],t[n])):_n(e[n])||(t[n]=!0);return t}function V7(e,t,r){const n=Array.isArray(e);if(br(e)||n)for(const a in e)Array.isArray(e[a])||br(e[a])&&!F7(e[a])?vr(t)||gP(r[a])?r[a]=Array.isArray(e[a])?Dx(e[a],[]):{...Dx(e[a])}:V7(e[a],_n(t)?{}:t[a],r[a]):r[a]=!bo(e[a],t[a]);return r}var ch=(e,t)=>V7(e,t,Dx(t));const lR={value:!1,isValid:!1},cR={value:!0,isValid:!0};var z7=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!vr(e[0].attributes.value)?vr(e[0].value)||e[0].value===""?cR:{value:e[0].value,isValid:!0}:cR:lR}return lR},B7=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>vr(e)?e:t?e===""?NaN:e&&+e:r&&Gi(e)?new Date(e):n?n(e):e;const uR={isValid:!1,value:null};var U7=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,uR):uR;function dR(e){const t=e.ref;return pT(t)?t.files:gT(t)?U7(e.refs).value:L7(t)?[...t.selectedOptions].map(({value:r})=>r):ig(t)?z7(e.refs).value:B7(vr(t.value)?e.ref.value:t.value,e)}var m4e=(e,t,r,n)=>{const a={};for(const i of e){const o=xe(t,i);o&&Ot(a,i,o._f)}return{criteriaMode:r,names:[...e],fields:a,shouldUseNativeValidation:n}},Mx=e=>e instanceof RegExp,uh=e=>vr(e)?e:Mx(e)?e.source:br(e)?Mx(e.value)?e.value.source:e.value:e,fR=e=>({isOnSubmit:!e||e===pi.onSubmit,isOnBlur:e===pi.onBlur,isOnChange:e===pi.onChange,isOnAll:e===pi.all,isOnTouch:e===pi.onTouched});const hR="AsyncFunction";var p4e=e=>!!e&&!!e.validate&&!!(gi(e.validate)&&e.validate.constructor.name===hR||br(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===hR)),g4e=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),mR=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const Qh=(e,t,r,n)=>{for(const a of r||Object.keys(e)){const i=xe(e,a);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],a)&&!n)return!0;if(o.ref&&t(o.ref,o.name)&&!n)return!0;if(Qh(l,t))break}else if(br(l)&&Qh(l,t))break}}};function pR(e,t,r){const n=xe(e,r);if(n||mT(r))return{error:n,name:r};const a=r.split(".");for(;a.length;){const i=a.join("."),o=xe(t,i),l=xe(e,i);if(o&&!Array.isArray(o)&&r!==i)return{name:r};if(l&&l.type)return{name:i,error:l};a.pop()}return{name:r}}var v4e=(e,t,r,n)=>{r(e);const{name:a,...i}=e;return En(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===(!n||pi.all))},y4e=(e,t,r)=>!e||!t||e===t||Yh(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),x4e=(e,t,r,n,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(t||e):(r?n.isOnBlur:a.isOnBlur)?!e:(r?n.isOnChange:a.isOnChange)?e:!0,b4e=(e,t)=>!Hb(xe(e,t)).length&&Tr(e,t),w4e=(e,t,r)=>{const n=Yh(xe(e,r));return Ot(n,"root",t[r]),Ot(e,r,n),e},Ov=e=>Gi(e);function gR(e,t,r="validate"){if(Ov(e)||Array.isArray(e)&&e.every(Ov)||ua(e)&&!e)return{type:r,message:Ov(e)?e:"",ref:t}}var Qc=e=>br(e)&&!Mx(e)?e:{value:e,message:""},vR=async(e,t,r,n,a,i)=>{const{ref:o,refs:l,required:c,maxLength:u,minLength:d,min:f,max:h,pattern:p,validate:x,name:m,valueAsNumber:g,mount:w}=e._f,y=xe(r,m);if(!w||t.has(m))return{};const b=l?l[0]:o,N=_=>{a&&b.reportValidity&&(b.setCustomValidity(ua(_)?"":_||""),b.reportValidity())},j={},S=gT(o),P=ig(o),C=S||P,A=(g||pT(o))&&vr(o.value)&&vr(y)||kx(o)&&o.value===""||y===""||Array.isArray(y)&&!y.length,E=$7.bind(null,m,n,j),T=(_,O,M,L=ys.maxLength,R=ys.minLength)=>{const V=_?O:M;j[m]={type:_?L:R,message:V,ref:o,...E(_?L:R,V)}};if(i?!Array.isArray(y)||!y.length:c&&(!C&&(A||_n(y))||ua(y)&&!y||P&&!z7(l).isValid||S&&!U7(l).isValid)){const{value:_,message:O}=Ov(c)?{value:!!c,message:c}:Qc(c);if(_&&(j[m]={type:ys.required,message:O,ref:b,...E(ys.required,O)},!n))return N(O),j}if(!A&&(!_n(f)||!_n(h))){let _,O;const M=Qc(h),L=Qc(f);if(!_n(y)&&!isNaN(y)){const R=o.valueAsNumber||y&&+y;_n(M.value)||(_=R>M.value),_n(L.value)||(O=R<L.value)}else{const R=o.valueAsDate||new Date(y),V=B=>new Date(new Date().toDateString()+" "+B),D=o.type=="time",I=o.type=="week";Gi(M.value)&&y&&(_=D?V(y)>V(M.value):I?y>M.value:R>new Date(M.value)),Gi(L.value)&&y&&(O=D?V(y)<V(L.value):I?y<L.value:R<new Date(L.value))}if((_||O)&&(T(!!_,M.message,L.message,ys.max,ys.min),!n))return N(j[m].message),j}if((u||d)&&!A&&(Gi(y)||i&&Array.isArray(y))){const _=Qc(u),O=Qc(d),M=!_n(_.value)&&y.length>+_.value,L=!_n(O.value)&&y.length<+O.value;if((M||L)&&(T(M,_.message,O.message),!n))return N(j[m].message),j}if(p&&!A&&Gi(y)){const{value:_,message:O}=Qc(p);if(Mx(_)&&!y.match(_)&&(j[m]={type:ys.pattern,message:O,ref:o,...E(ys.pattern,O)},!n))return N(O),j}if(x){if(gi(x)){const _=await x(y,r),O=gR(_,b);if(O&&(j[m]={...O,...E(ys.validate,O.message)},!n))return N(O.message),j}else if(br(x)){let _={};for(const O in x){if(!En(_)&&!n)break;const M=gR(await x[O](y,r),b,O);M&&(_={...M,...E(O,M.message)},N(M.message),n&&(j[m]=_))}if(!En(_)&&(j[m]={ref:b,..._},!n))return j}}return N(!0),j};const j4e={mode:pi.onSubmit,reValidateMode:pi.onChange,shouldFocusError:!0};function S4e(e={}){let t={...j4e,...e},r={submitCount:0,isDirty:!1,isLoading:gi(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1};const n={};let a=br(t.defaultValues)||br(t.values)?Yr(t.values||t.defaultValues)||{}:{},i=t.shouldUnregister?{}:Yr(a),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...d};const h={array:oR(),state:oR()},p=fR(t.mode),x=fR(t.reValidateMode),m=t.criteriaMode===pi.all,g=$=>U=>{clearTimeout(u),u=setTimeout($,U)},w=async $=>{if(!t.disabled&&(d.isValid||f.isValid||$)){const U=t.resolver?En((await A()).errors):await T(n,!0);U!==r.isValid&&h.state.next({isValid:U})}},y=($,U)=>{!t.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&(($||Array.from(l.mount)).forEach(Z=>{Z&&(U?Ot(r.validatingFields,Z,U):Tr(r.validatingFields,Z))}),h.state.next({validatingFields:r.validatingFields,isValidating:!En(r.validatingFields)}))},b=($,U=[],Z,ye,pe=!0,ae=!0)=>{if(ye&&Z&&!t.disabled){if(o.action=!0,ae&&Array.isArray(xe(n,$))){const Se=Z(xe(n,$),ye.argA,ye.argB);pe&&Ot(n,$,Se)}if(ae&&Array.isArray(xe(r.errors,$))){const Se=Z(xe(r.errors,$),ye.argA,ye.argB);pe&&Ot(r.errors,$,Se),b4e(r.errors,$)}if((d.touchedFields||f.touchedFields)&&ae&&Array.isArray(xe(r.touchedFields,$))){const Se=Z(xe(r.touchedFields,$),ye.argA,ye.argB);pe&&Ot(r.touchedFields,$,Se)}(d.dirtyFields||f.dirtyFields)&&(r.dirtyFields=ch(a,i)),h.state.next({name:$,isDirty:O($,U),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Ot(i,$,U)},N=($,U)=>{Ot(r.errors,$,U),h.state.next({errors:r.errors})},j=$=>{r.errors=$,h.state.next({errors:r.errors,isValid:!1})},S=($,U,Z,ye)=>{const pe=xe(n,$);if(pe){const ae=xe(i,$,vr(Z)?xe(a,$):Z);vr(ae)||ye&&ye.defaultChecked||U?Ot(i,$,U?ae:dR(pe._f)):R($,ae),o.mount&&w()}},P=($,U,Z,ye,pe)=>{let ae=!1,Se=!1;const it={name:$};if(!t.disabled){if(!Z||ye){(d.isDirty||f.isDirty)&&(Se=r.isDirty,r.isDirty=it.isDirty=O(),ae=Se!==it.isDirty);const K=bo(xe(a,$),U);Se=!!xe(r.dirtyFields,$),K?Tr(r.dirtyFields,$):Ot(r.dirtyFields,$,!0),it.dirtyFields=r.dirtyFields,ae=ae||(d.dirtyFields||f.dirtyFields)&&Se!==!K}if(Z){const K=xe(r.touchedFields,$);K||(Ot(r.touchedFields,$,Z),it.touchedFields=r.touchedFields,ae=ae||(d.touchedFields||f.touchedFields)&&K!==Z)}ae&&pe&&h.state.next(it)}return ae?it:{}},C=($,U,Z,ye)=>{const pe=xe(r.errors,$),ae=(d.isValid||f.isValid)&&ua(U)&&r.isValid!==U;if(t.delayError&&Z?(c=g(()=>N($,Z)),c(t.delayError)):(clearTimeout(u),c=null,Z?Ot(r.errors,$,Z):Tr(r.errors,$)),(Z?!bo(pe,Z):pe)||!En(ye)||ae){const Se={...ye,...ae&&ua(U)?{isValid:U}:{},errors:r.errors,name:$};r={...r,...Se},h.state.next(Se)}},A=async $=>{y($,!0);const U=await t.resolver(i,t.context,m4e($||l.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return y($),U},E=async $=>{const{errors:U}=await A($);if($)for(const Z of $){const ye=xe(U,Z);ye?Ot(r.errors,Z,ye):Tr(r.errors,Z)}else r.errors=U;return U},T=async($,U,Z={valid:!0})=>{for(const ye in $){const pe=$[ye];if(pe){const{_f:ae,...Se}=pe;if(ae){const it=l.array.has(ae.name),K=pe._f&&p4e(pe._f);K&&d.validatingFields&&y([ye],!0);const ve=await vR(pe,l.disabled,i,m,t.shouldUseNativeValidation&&!U,it);if(K&&d.validatingFields&&y([ye]),ve[ae.name]&&(Z.valid=!1,U))break;!U&&(xe(ve,ae.name)?it?w4e(r.errors,ve,ae.name):Ot(r.errors,ae.name,ve[ae.name]):Tr(r.errors,ae.name))}!En(Se)&&await T(Se,U,Z)}}return Z.valid},_=()=>{for(const $ of l.unMount){const U=xe(n,$);U&&(U._f.refs?U._f.refs.every(Z=>!Lj(Z)):!Lj(U._f.ref))&&te($)}l.unMount=new Set},O=($,U)=>!t.disabled&&($&&U&&Ot(i,$,U),!bo(X(),a)),M=($,U,Z)=>R7($,l,{...o.mount?i:vr(U)?a:Gi($)?{[$]:U}:U},Z,U),L=$=>Hb(xe(o.mount?i:a,$,t.shouldUnregister?xe(a,$,[]):[])),R=($,U,Z={})=>{const ye=xe(n,$);let pe=U;if(ye){const ae=ye._f;ae&&(!ae.disabled&&Ot(i,$,B7(U,ae)),pe=kx(ae.ref)&&_n(U)?"":U,L7(ae.ref)?[...ae.ref.options].forEach(Se=>Se.selected=pe.includes(Se.value)):ae.refs?ig(ae.ref)?ae.refs.length>1?ae.refs.forEach(Se=>(!Se.defaultChecked||!Se.disabled)&&(Se.checked=Array.isArray(pe)?!!pe.find(it=>it===Se.value):pe===Se.value)):ae.refs[0]&&(ae.refs[0].checked=!!pe):ae.refs.forEach(Se=>Se.checked=Se.value===pe):pT(ae.ref)?ae.ref.value="":(ae.ref.value=pe,ae.ref.type||h.state.next({name:$,values:Yr(i)})))}(Z.shouldDirty||Z.shouldTouch)&&P($,pe,Z.shouldTouch,Z.shouldDirty,!0),Z.shouldValidate&&Y($)},V=($,U,Z)=>{for(const ye in U){const pe=U[ye],ae=`${$}.${ye}`,Se=xe(n,ae);(l.array.has($)||br(pe)||Se&&!Se._f)&&!Ul(pe)?V(ae,pe,Z):R(ae,pe,Z)}},D=($,U,Z={})=>{const ye=xe(n,$),pe=l.array.has($),ae=Yr(U);Ot(i,$,ae),pe?(h.array.next({name:$,values:Yr(i)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&Z.shouldDirty&&h.state.next({name:$,dirtyFields:ch(a,i),isDirty:O($,ae)})):ye&&!ye._f&&!_n(ae)?V($,ae,Z):R($,ae,Z),mR($,l)&&h.state.next({...r}),h.state.next({name:o.mount?$:void 0,values:Yr(i)})},I=async $=>{o.mount=!0;const U=$.target;let Z=U.name,ye=!0;const pe=xe(n,Z),ae=Se=>{ye=Number.isNaN(Se)||Ul(Se)&&isNaN(Se.getTime())||bo(Se,xe(i,Z,Se))};if(pe){let Se,it;const K=U.type?dR(pe._f):O7($),ve=$.type===Ox.BLUR||$.type===Ox.FOCUS_OUT,pt=!g4e(pe._f)&&!t.resolver&&!xe(r.errors,Z)&&!pe._f.deps||x4e(ve,xe(r.touchedFields,Z),r.isSubmitted,x,p),cr=mR(Z,l,ve);Ot(i,Z,K),ve?(pe._f.onBlur&&pe._f.onBlur($),c&&c(0)):pe._f.onChange&&pe._f.onChange($);const ze=P(Z,K,ve),Ut=!En(ze)||cr;if(!ve&&h.state.next({name:Z,type:$.type,values:Yr(i)}),pt)return(d.isValid||f.isValid)&&(t.mode==="onBlur"?ve&&w():ve||w()),Ut&&h.state.next({name:Z,...cr?{}:ze});if(!ve&&cr&&h.state.next({...r}),t.resolver){const{errors:Lt}=await A([Z]);if(ae(K),ye){const rw=pR(r.errors,n,Z),$f=pR(Lt,n,rw.name||Z);Se=$f.error,Z=$f.name,it=En(Lt)}}else y([Z],!0),Se=(await vR(pe,l.disabled,i,m,t.shouldUseNativeValidation))[Z],y([Z]),ae(K),ye&&(Se?it=!1:(d.isValid||f.isValid)&&(it=await T(n,!0)));ye&&(pe._f.deps&&Y(pe._f.deps),C(Z,it,Se,ze))}},B=($,U)=>{if(xe(r.errors,U)&&$.focus)return $.focus(),1},Y=async($,U={})=>{let Z,ye;const pe=Yh($);if(t.resolver){const ae=await E(vr($)?$:pe);Z=En(ae),ye=$?!pe.some(Se=>xe(ae,Se)):Z}else $?(ye=(await Promise.all(pe.map(async ae=>{const Se=xe(n,ae);return await T(Se&&Se._f?{[ae]:Se}:Se)}))).every(Boolean),!(!ye&&!r.isValid)&&w()):ye=Z=await T(n);return h.state.next({...!Gi($)||(d.isValid||f.isValid)&&Z!==r.isValid?{}:{name:$},...t.resolver||!$?{isValid:Z}:{},errors:r.errors}),U.shouldFocus&&!ye&&Qh(n,B,$?pe:l.mount),ye},X=$=>{const U={...o.mount?i:a};return vr($)?U:Gi($)?xe(U,$):$.map(Z=>xe(U,Z))},oe=($,U)=>({invalid:!!xe((U||r).errors,$),isDirty:!!xe((U||r).dirtyFields,$),error:xe((U||r).errors,$),isValidating:!!xe(r.validatingFields,$),isTouched:!!xe((U||r).touchedFields,$)}),je=$=>{$&&Yh($).forEach(U=>Tr(r.errors,U)),h.state.next({errors:$?r.errors:{}})},Fe=($,U,Z)=>{const ye=(xe(n,$,{_f:{}})._f||{}).ref,pe=xe(r.errors,$)||{},{ref:ae,message:Se,type:it,...K}=pe;Ot(r.errors,$,{...K,...U,ref:ye}),h.state.next({name:$,errors:r.errors,isValid:!1}),Z&&Z.shouldFocus&&ye&&ye.focus&&ye.focus()},Ae=($,U)=>gi($)?h.state.subscribe({next:Z=>$(M(void 0,U),Z)}):M($,U,!0),me=$=>h.state.subscribe({next:U=>{y4e($.name,U.name,$.exact)&&v4e(U,$.formState||d,we,$.reRenderRoot)&&$.callback({values:{...i},...r,...U})}}).unsubscribe,De=$=>(o.mount=!0,f={...f,...$.formState},me({...$,formState:f})),te=($,U={})=>{for(const Z of $?Yh($):l.mount)l.mount.delete(Z),l.array.delete(Z),U.keepValue||(Tr(n,Z),Tr(i,Z)),!U.keepError&&Tr(r.errors,Z),!U.keepDirty&&Tr(r.dirtyFields,Z),!U.keepTouched&&Tr(r.touchedFields,Z),!U.keepIsValidating&&Tr(r.validatingFields,Z),!t.shouldUnregister&&!U.keepDefaultValue&&Tr(a,Z);h.state.next({values:Yr(i)}),h.state.next({...r,...U.keepDirty?{isDirty:O()}:{}}),!U.keepIsValid&&w()},ee=({disabled:$,name:U})=>{(ua($)&&o.mount||$||l.disabled.has(U))&&($?l.disabled.add(U):l.disabled.delete(U))},fe=($,U={})=>{let Z=xe(n,$);const ye=ua(U.disabled)||ua(t.disabled);return Ot(n,$,{...Z||{},_f:{...Z&&Z._f?Z._f:{ref:{name:$}},name:$,mount:!0,...U}}),l.mount.add($),Z?ee({disabled:ua(U.disabled)?U.disabled:t.disabled,name:$}):S($,!0,U.value),{...ye?{disabled:U.disabled||t.disabled}:{},...t.progressive?{required:!!U.required,min:uh(U.min),max:uh(U.max),minLength:uh(U.minLength),maxLength:uh(U.maxLength),pattern:uh(U.pattern)}:{},name:$,onChange:I,onBlur:I,ref:pe=>{if(pe){fe($,U),Z=xe(n,$);const ae=vr(pe.value)&&pe.querySelectorAll&&pe.querySelectorAll("input,select,textarea")[0]||pe,Se=d4e(ae),it=Z._f.refs||[];if(Se?it.find(K=>K===ae):ae===Z._f.ref)return;Ot(n,$,{_f:{...Z._f,...Se?{refs:[...it.filter(Lj),ae,...Array.isArray(xe(a,$))?[{}]:[]],ref:{type:ae.type,name:$}}:{ref:ae}}}),S($,!1,void 0,ae)}else Z=xe(n,$,{}),Z._f&&(Z._f.mount=!1),(t.shouldUnregister||U.shouldUnregister)&&!(k7(l.array,$)&&o.action)&&l.unMount.add($)}}},H=()=>t.shouldFocusError&&Qh(n,B,l.mount),Ve=$=>{ua($)&&(h.state.next({disabled:$}),Qh(n,(U,Z)=>{const ye=xe(n,Z);ye&&(U.disabled=ye._f.disabled||$,Array.isArray(ye._f.refs)&&ye._f.refs.forEach(pe=>{pe.disabled=ye._f.disabled||$}))},0,!1))},Me=($,U)=>async Z=>{let ye;Z&&(Z.preventDefault&&Z.preventDefault(),Z.persist&&Z.persist());let pe=Yr(i);if(h.state.next({isSubmitting:!0}),t.resolver){const{errors:ae,values:Se}=await A();r.errors=ae,pe=Se}else await T(n);if(l.disabled.size)for(const ae of l.disabled)Ot(pe,ae,void 0);if(Tr(r.errors,"root"),En(r.errors)){h.state.next({errors:{}});try{await $(pe,Z)}catch(ae){ye=ae}}else U&&await U({...r.errors},Z),H(),setTimeout(H);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:En(r.errors)&&!ye,submitCount:r.submitCount+1,errors:r.errors}),ye)throw ye},dt=($,U={})=>{xe(n,$)&&(vr(U.defaultValue)?D($,Yr(xe(a,$))):(D($,U.defaultValue),Ot(a,$,Yr(U.defaultValue))),U.keepTouched||Tr(r.touchedFields,$),U.keepDirty||(Tr(r.dirtyFields,$),r.isDirty=U.defaultValue?O($,Yr(xe(a,$))):O()),U.keepError||(Tr(r.errors,$),d.isValid&&w()),h.state.next({...r}))},lt=($,U={})=>{const Z=$?Yr($):a,ye=Yr(Z),pe=En($),ae=pe?a:ye;if(U.keepDefaultValues||(a=Z),!U.keepValues){if(U.keepDirtyValues){const Se=new Set([...l.mount,...Object.keys(ch(a,i))]);for(const it of Array.from(Se))xe(r.dirtyFields,it)?Ot(ae,it,xe(i,it)):D(it,xe(ae,it))}else{if(hT&&vr($))for(const Se of l.mount){const it=xe(n,Se);if(it&&it._f){const K=Array.isArray(it._f.refs)?it._f.refs[0]:it._f.ref;if(kx(K)){const ve=K.closest("form");if(ve){ve.reset();break}}}}for(const Se of l.mount)D(Se,xe(ae,Se))}i=Yr(ae),h.array.next({values:{...ae}}),h.state.next({values:{...ae}})}l={mount:U.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!U.keepIsValid||!!U.keepDirtyValues,o.watch=!!t.shouldUnregister,h.state.next({submitCount:U.keepSubmitCount?r.submitCount:0,isDirty:pe?!1:U.keepDirty?r.isDirty:!!(U.keepDefaultValues&&!bo($,a)),isSubmitted:U.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:pe?{}:U.keepDirtyValues?U.keepDefaultValues&&i?ch(a,i):r.dirtyFields:U.keepDefaultValues&&$?ch(a,$):U.keepDirty?r.dirtyFields:{},touchedFields:U.keepTouched?r.touchedFields:{},errors:U.keepErrors?r.errors:{},isSubmitSuccessful:U.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Pt=($,U)=>lt(gi($)?$(i):$,U),Q=($,U={})=>{const Z=xe(n,$),ye=Z&&Z._f;if(ye){const pe=ye.refs?ye.refs[0]:ye.ref;pe.focus&&(pe.focus(),U.shouldSelect&&gi(pe.select)&&pe.select())}},we=$=>{r={...r,...$}},Gr={control:{register:fe,unregister:te,getFieldState:oe,handleSubmit:Me,setError:Fe,_subscribe:me,_runSchema:A,_getWatch:M,_getDirty:O,_setValid:w,_setFieldArray:b,_setDisabledField:ee,_setErrors:j,_getFieldArray:L,_reset:lt,_resetDefaultValues:()=>gi(t.defaultValues)&&t.defaultValues().then($=>{Pt($,t.resetOptions),h.state.next({isLoading:!1})}),_removeUnmounted:_,_disableForm:Ve,_subjects:h,_proxyFormState:d,get _fields(){return n},get _formValues(){return i},get _state(){return o},set _state($){o=$},get _defaultValues(){return a},get _names(){return l},set _names($){l=$},get _formState(){return r},get _options(){return t},set _options($){t={...t,...$}}},subscribe:De,trigger:Y,register:fe,handleSubmit:Me,watch:Ae,setValue:D,getValues:X,reset:Pt,resetField:dt,clearErrors:je,unregister:te,setError:Fe,setFocus:Q,getFieldState:oe};return{...Gr,formControl:Gr}}function Gd(e={}){const t=k.useRef(void 0),r=k.useRef(void 0),[n,a]=k.useState({isDirty:!1,isValidating:!1,isLoading:gi(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:gi(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...e.formControl?e.formControl:S4e(e),formState:n},e.formControl&&e.defaultValues&&!gi(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions));const i=t.current.control;return i._options=e,k.useLayoutEffect(()=>i._subscribe({formState:i._proxyFormState,callback:()=>a({...i._formState}),reRenderRoot:!0}),[i]),k.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),k.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==n.isDirty&&i._subjects.state.next({isDirty:o})}},[i,n.isDirty]),k.useEffect(()=>{e.values&&!bo(e.values,r.current)?(i._reset(e.values,i._options.resetOptions),r.current=e.values,a(o=>({...o}))):i._resetDefaultValues()},[e.values,i]),k.useEffect(()=>{e.errors&&!En(e.errors)&&i._setErrors(e.errors)},[e.errors,i]),k.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),k.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[e.shouldUnregister,i]),t.current.formState=I7(n,i),t.current}const yR=(e,t,r)=>{if(e&&"reportValidity"in e){const n=xe(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},K7=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?yR(n.ref,r,e):n.refs&&n.refs.forEach(a=>yR(a,r,e))}},N4e=(e,t)=>{t.shouldUseNativeValidation&&K7(e,t);const r={};for(const n in e){const a=xe(t.fields,n),i=Object.assign(e[n]||{},{ref:a&&a.ref});if(P4e(t.names||Object.keys(e),n)){const o=Object.assign({},xe(r,n));Ot(o,"root",i),Ot(r,n,o)}else Ot(r,n,i)}return r},P4e=(e,t)=>e.some(r=>r.startsWith(t+"."));var C4e=function(e,t){for(var r={};e.length;){var n=e[0],a=n.code,i=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];r[o]={message:l.message,type:l.code}}else r[o]={message:i,type:a};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return e.push(f)})}),t){var c=r[o].types,u=c&&c[n.code];r[o]=$7(o,t,r,a,u?[].concat(u,n.message):n.message)}e.shift()}return r},Xd=function(e,t,r){return r===void 0&&(r={}),function(n,a,i){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(u){return i.shouldUseNativeValidation&&K7({},i),{errors:{},values:r.raw?n:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:N4e(C4e(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}},jt;(function(e){e.assertEqual=a=>a;function t(a){}e.assertIs=t;function r(a){throw new Error}e.assertNever=r,e.arrayToEnum=a=>{const i={};for(const o of a)i[o]=o;return i},e.getValidEnumValues=a=>{const i=e.objectKeys(a).filter(l=>typeof a[a[l]]!="number"),o={};for(const l of i)o[l]=a[l];return e.objectValues(o)},e.objectValues=a=>e.objectKeys(a).map(function(i){return a[i]}),e.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const i=[];for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&i.push(o);return i},e.find=(a,i)=>{for(const o of a)if(i(o))return o},e.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&isFinite(a)&&Math.floor(a)===a;function n(a,i=" | "){return a.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}e.joinValues=n,e.jsonStringifyReplacer=(a,i)=>typeof i=="bigint"?i.toString():i})(jt||(jt={}));var vP;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(vP||(vP={}));const Ce=jt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ss=e=>{switch(typeof e){case"undefined":return Ce.undefined;case"string":return Ce.string;case"number":return isNaN(e)?Ce.nan:Ce.number;case"boolean":return Ce.boolean;case"function":return Ce.function;case"bigint":return Ce.bigint;case"symbol":return Ce.symbol;case"object":return Array.isArray(e)?Ce.array:e===null?Ce.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Ce.promise:typeof Map<"u"&&e instanceof Map?Ce.map:typeof Set<"u"&&e instanceof Set?Ce.set:typeof Date<"u"&&e instanceof Date?Ce.date:Ce.object;default:return Ce.unknown}},ie=jt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),A4e=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class ba extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(i){return i.message},n={_errors:[]},a=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(a);else if(o.code==="invalid_return_type")a(o.returnTypeError);else if(o.code==="invalid_arguments")a(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let l=n,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(r(o))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return a(this),n}static assert(t){if(!(t instanceof ba))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,jt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const a of this.issues)a.path.length>0?(r[a.path[0]]=r[a.path[0]]||[],r[a.path[0]].push(t(a))):n.push(t(a));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}ba.create=e=>new ba(e);const Yd=(e,t)=>{let r;switch(e.code){case ie.invalid_type:e.received===Ce.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case ie.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,jt.jsonStringifyReplacer)}`;break;case ie.unrecognized_keys:r=`Unrecognized key(s) in object: ${jt.joinValues(e.keys,", ")}`;break;case ie.invalid_union:r="Invalid input";break;case ie.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${jt.joinValues(e.options)}`;break;case ie.invalid_enum_value:r=`Invalid enum value. Expected ${jt.joinValues(e.options)}, received '${e.received}'`;break;case ie.invalid_arguments:r="Invalid function arguments";break;case ie.invalid_return_type:r="Invalid function return type";break;case ie.invalid_date:r="Invalid date";break;case ie.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:jt.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case ie.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case ie.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case ie.custom:r="Invalid input";break;case ie.invalid_intersection_types:r="Intersection results could not be merged";break;case ie.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case ie.not_finite:r="Number must be finite";break;default:r=t.defaultError,jt.assertNever(e)}return{message:r}};let q7=Yd;function E4e(e){q7=e}function Ix(){return q7}const Rx=e=>{const{data:t,path:r,errorMaps:n,issueData:a}=e,i=[...r,...a.path||[]],o={...a,path:i};if(a.message!==void 0)return{...a,path:i,message:a.message};let l="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)l=u(o,{data:t,defaultError:l}).message;return{...a,path:i,message:l}},T4e=[];function be(e,t){const r=Ix(),n=Rx({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===Yd?void 0:Yd].filter(a=>!!a)});e.common.issues.push(n)}class bn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const a of r){if(a.status==="aborted")return We;a.status==="dirty"&&t.dirty(),n.push(a.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const a of r){const i=await a.key,o=await a.value;n.push({key:i,value:o})}return bn.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const a of r){const{key:i,value:o}=a;if(i.status==="aborted"||o.status==="aborted")return We;i.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||a.alwaysSet)&&(n[i.value]=o.value)}return{status:t.value,value:n}}}const We=Object.freeze({status:"aborted"}),wu=e=>({status:"dirty",value:e}),Rn=e=>({status:"valid",value:e}),yP=e=>e.status==="aborted",xP=e=>e.status==="dirty",Pc=e=>e.status==="valid",mp=e=>typeof Promise<"u"&&e instanceof Promise;function $x(e,t,r,n){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function W7(e,t,r,n,a){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,r),r}var Re;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(Re||(Re={}));var Ah,Eh;class us{constructor(t,r,n,a){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=a}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const xR=(e,t)=>{if(Pc(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new ba(e.common.issues);return this._error=r,this._error}}};function at(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:a}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:a}:{errorMap:(o,l)=>{var c,u;const{message:d}=e;return o.code==="invalid_enum_value"?{message:d??l.defaultError}:typeof l.data>"u"?{message:(c=d??n)!==null&&c!==void 0?c:l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:(u=d??r)!==null&&u!==void 0?u:l.defaultError}},description:a}}class ut{get description(){return this._def.description}_getType(t){return Ss(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:Ss(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new bn,ctx:{common:t.parent.common,data:t.data,parsedType:Ss(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(mp(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){var n;const a={common:{issues:[],async:(n=r==null?void 0:r.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Ss(t)},i=this._parseSync({data:t,path:a.path,parent:a});return xR(a,i)}"~validate"(t){var r,n;const a={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Ss(t)};if(!this["~standard"].async)try{const i=this._parseSync({data:t,path:[],parent:a});return Pc(i)?{value:i.value}:{issues:a.common.issues}}catch(i){!((n=(r=i==null?void 0:i.message)===null||r===void 0?void 0:r.toLowerCase())===null||n===void 0)&&n.includes("encountered")&&(this["~standard"].async=!0),a.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:a}).then(i=>Pc(i)?{value:i.value}:{issues:a.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Ss(t)},a=this._parse({data:t,path:n.path,parent:n}),i=await(mp(a)?a:Promise.resolve(a));return xR(n,i)}refine(t,r){const n=a=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(a):r;return this._refinement((a,i)=>{const o=t(a),l=()=>i.addIssue({code:ie.custom,...n(a)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,r){return this._refinement((n,a)=>t(n)?!0:(a.addIssue(typeof r=="function"?r(n,a):r),!1))}_refinement(t){return new Ci({schema:this,typeName:qe.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return is.create(this,this._def)}nullable(){return sl.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return wi.create(this)}promise(){return Zd.create(this,this._def)}or(t){return yp.create([this,t],this._def)}and(t){return xp.create(this,t,this._def)}transform(t){return new Ci({...at(this._def),schema:this,typeName:qe.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new Np({...at(this._def),innerType:this,defaultValue:r,typeName:qe.ZodDefault})}brand(){return new vT({typeName:qe.ZodBranded,type:this,...at(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new Pp({...at(this._def),innerType:this,catchValue:r,typeName:qe.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return sg.create(this,t)}readonly(){return Cp.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const _4e=/^c[^\s-]{8,}$/i,O4e=/^[0-9a-z]+$/,k4e=/^[0-9A-HJKMNP-TV-Z]{26}$/i,D4e=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,M4e=/^[a-z0-9_-]{21}$/i,I4e=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,R4e=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,$4e=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,L4e="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Fj;const F4e=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,V4e=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,z4e=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,B4e=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,U4e=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,K4e=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,H7="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",q4e=new RegExp(`^${H7}$`);function G7(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}function W4e(e){return new RegExp(`^${G7(e)}$`)}function X7(e){let t=`${H7}T${G7(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function H4e(e,t){return!!((t==="v4"||!t)&&F4e.test(e)||(t==="v6"||!t)&&z4e.test(e))}function G4e(e,t){if(!I4e.test(e))return!1;try{const[r]=e.split("."),n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),a=JSON.parse(atob(n));return!(typeof a!="object"||a===null||!a.typ||!a.alg||t&&a.alg!==t)}catch{return!1}}function X4e(e,t){return!!((t==="v4"||!t)&&V4e.test(e)||(t==="v6"||!t)&&B4e.test(e))}class yi extends ut{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Ce.string){const i=this._getOrReturnCtx(t);return be(i,{code:ie.invalid_type,expected:Ce.string,received:i.parsedType}),We}const n=new bn;let a;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(a=this._getOrReturnCtx(t,a),be(a,{code:ie.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")t.data.length>i.value&&(a=this._getOrReturnCtx(t,a),be(a,{code:ie.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const o=t.data.length>i.value,l=t.data.length<i.value;(o||l)&&(a=this._getOrReturnCtx(t,a),o?be(a,{code:ie.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&be(a,{code:ie.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")$4e.test(t.data)||(a=this._getOrReturnCtx(t,a),be(a,{validation:"email",code:ie.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")Fj||(Fj=new RegExp(L4e,"u")),Fj.test(t.data)||(a=this._getOrReturnCtx(t,a),be(a,{validation:"emoji",code:ie.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")D4e.test(t.data)||(a=this._getOrReturnCtx(t,a),be(a,{validation:"uuid",code:ie.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")M4e.test(t.data)||(a=this._getOrReturnCtx(t,a),be(a,{validation:"nanoid",code:ie.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")_4e.test(t.data)||(a=this._getOrReturnCtx(t,a),be(a,{validation:"cuid",code:ie.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")O4e.test(t.data)||(a=this._getOrReturnCtx(t,a),be(a,{validation:"cuid2",code:ie.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")k4e.test(t.data)||(a=this._getOrReturnCtx(t,a),be(a,{validation:"ulid",code:ie.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{a=this._getOrReturnCtx(t,a),be(a,{validation:"url",code:ie.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(a=this._getOrReturnCtx(t,a),be(a,{validation:"regex",code:ie.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(a=this._getOrReturnCtx(t,a),be(a,{code:ie.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(a=this._getOrReturnCtx(t,a),be(a,{code:ie.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(a=this._getOrReturnCtx(t,a),be(a,{code:ie.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?X7(i).test(t.data)||(a=this._getOrReturnCtx(t,a),be(a,{code:ie.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?q4e.test(t.data)||(a=this._getOrReturnCtx(t,a),be(a,{code:ie.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?W4e(i).test(t.data)||(a=this._getOrReturnCtx(t,a),be(a,{code:ie.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?R4e.test(t.data)||(a=this._getOrReturnCtx(t,a),be(a,{validation:"duration",code:ie.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?H4e(t.data,i.version)||(a=this._getOrReturnCtx(t,a),be(a,{validation:"ip",code:ie.invalid_string,message:i.message}),n.dirty()):i.kind==="jwt"?G4e(t.data,i.alg)||(a=this._getOrReturnCtx(t,a),be(a,{validation:"jwt",code:ie.invalid_string,message:i.message}),n.dirty()):i.kind==="cidr"?X4e(t.data,i.version)||(a=this._getOrReturnCtx(t,a),be(a,{validation:"cidr",code:ie.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?U4e.test(t.data)||(a=this._getOrReturnCtx(t,a),be(a,{validation:"base64",code:ie.invalid_string,message:i.message}),n.dirty()):i.kind==="base64url"?K4e.test(t.data)||(a=this._getOrReturnCtx(t,a),be(a,{validation:"base64url",code:ie.invalid_string,message:i.message}),n.dirty()):jt.assertNever(i);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(a=>t.test(a),{validation:r,code:ie.invalid_string,...Re.errToObj(n)})}_addCheck(t){return new yi({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Re.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Re.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Re.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Re.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Re.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Re.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Re.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Re.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Re.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Re.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Re.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Re.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Re.errToObj(t)})}datetime(t){var r,n;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(r=t==null?void 0:t.offset)!==null&&r!==void 0?r:!1,local:(n=t==null?void 0:t.local)!==null&&n!==void 0?n:!1,...Re.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...Re.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...Re.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...Re.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...Re.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...Re.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...Re.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...Re.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...Re.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...Re.errToObj(r)})}nonempty(t){return this.min(1,Re.errToObj(t))}trim(){return new yi({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new yi({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new yi({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}yi.create=e=>{var t;return new yi({checks:[],typeName:qe.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...at(e)})};function Y4e(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,a=r>n?r:n,i=parseInt(e.toFixed(a).replace(".","")),o=parseInt(t.toFixed(a).replace(".",""));return i%o/Math.pow(10,a)}class nl extends ut{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Ce.number){const i=this._getOrReturnCtx(t);return be(i,{code:ie.invalid_type,expected:Ce.number,received:i.parsedType}),We}let n;const a=new bn;for(const i of this._def.checks)i.kind==="int"?jt.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),be(n,{code:ie.invalid_type,expected:"integer",received:"float",message:i.message}),a.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),be(n,{code:ie.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),be(n,{code:ie.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),a.dirty()):i.kind==="multipleOf"?Y4e(t.data,i.value)!==0&&(n=this._getOrReturnCtx(t,n),be(n,{code:ie.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),be(n,{code:ie.not_finite,message:i.message}),a.dirty()):jt.assertNever(i);return{status:a.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,Re.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Re.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Re.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Re.toString(r))}setLimit(t,r,n,a){return new nl({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Re.toString(a)}]})}_addCheck(t){return new nl({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Re.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Re.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Re.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Re.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Re.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Re.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:Re.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Re.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Re.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&jt.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}nl.create=e=>new nl({checks:[],typeName:qe.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...at(e)});class al extends ut{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==Ce.bigint)return this._getInvalidInput(t);let n;const a=new bn;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),be(n,{code:ie.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),be(n,{code:ie.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),a.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),be(n,{code:ie.not_multiple_of,multipleOf:i.value,message:i.message}),a.dirty()):jt.assertNever(i);return{status:a.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return be(r,{code:ie.invalid_type,expected:Ce.bigint,received:r.parsedType}),We}gte(t,r){return this.setLimit("min",t,!0,Re.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Re.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Re.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Re.toString(r))}setLimit(t,r,n,a){return new al({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Re.toString(a)}]})}_addCheck(t){return new al({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Re.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Re.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Re.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Re.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Re.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}al.create=e=>{var t;return new al({checks:[],typeName:qe.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...at(e)})};class pp extends ut{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Ce.boolean){const n=this._getOrReturnCtx(t);return be(n,{code:ie.invalid_type,expected:Ce.boolean,received:n.parsedType}),We}return Rn(t.data)}}pp.create=e=>new pp({typeName:qe.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...at(e)});class Cc extends ut{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Ce.date){const i=this._getOrReturnCtx(t);return be(i,{code:ie.invalid_type,expected:Ce.date,received:i.parsedType}),We}if(isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return be(i,{code:ie.invalid_date}),We}const n=new bn;let a;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(a=this._getOrReturnCtx(t,a),be(a,{code:ie.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(a=this._getOrReturnCtx(t,a),be(a,{code:ie.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):jt.assertNever(i);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Cc({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:Re.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:Re.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}Cc.create=e=>new Cc({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:qe.ZodDate,...at(e)});class Lx extends ut{_parse(t){if(this._getType(t)!==Ce.symbol){const n=this._getOrReturnCtx(t);return be(n,{code:ie.invalid_type,expected:Ce.symbol,received:n.parsedType}),We}return Rn(t.data)}}Lx.create=e=>new Lx({typeName:qe.ZodSymbol,...at(e)});class gp extends ut{_parse(t){if(this._getType(t)!==Ce.undefined){const n=this._getOrReturnCtx(t);return be(n,{code:ie.invalid_type,expected:Ce.undefined,received:n.parsedType}),We}return Rn(t.data)}}gp.create=e=>new gp({typeName:qe.ZodUndefined,...at(e)});class vp extends ut{_parse(t){if(this._getType(t)!==Ce.null){const n=this._getOrReturnCtx(t);return be(n,{code:ie.invalid_type,expected:Ce.null,received:n.parsedType}),We}return Rn(t.data)}}vp.create=e=>new vp({typeName:qe.ZodNull,...at(e)});class Qd extends ut{constructor(){super(...arguments),this._any=!0}_parse(t){return Rn(t.data)}}Qd.create=e=>new Qd({typeName:qe.ZodAny,...at(e)});class ac extends ut{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Rn(t.data)}}ac.create=e=>new ac({typeName:qe.ZodUnknown,...at(e)});class Gs extends ut{_parse(t){const r=this._getOrReturnCtx(t);return be(r,{code:ie.invalid_type,expected:Ce.never,received:r.parsedType}),We}}Gs.create=e=>new Gs({typeName:qe.ZodNever,...at(e)});class Fx extends ut{_parse(t){if(this._getType(t)!==Ce.undefined){const n=this._getOrReturnCtx(t);return be(n,{code:ie.invalid_type,expected:Ce.void,received:n.parsedType}),We}return Rn(t.data)}}Fx.create=e=>new Fx({typeName:qe.ZodVoid,...at(e)});class wi extends ut{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),a=this._def;if(r.parsedType!==Ce.array)return be(r,{code:ie.invalid_type,expected:Ce.array,received:r.parsedType}),We;if(a.exactLength!==null){const o=r.data.length>a.exactLength.value,l=r.data.length<a.exactLength.value;(o||l)&&(be(r,{code:o?ie.too_big:ie.too_small,minimum:l?a.exactLength.value:void 0,maximum:o?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),n.dirty())}if(a.minLength!==null&&r.data.length<a.minLength.value&&(be(r,{code:ie.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),n.dirty()),a.maxLength!==null&&r.data.length>a.maxLength.value&&(be(r,{code:ie.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>a.type._parseAsync(new us(r,o,r.path,l)))).then(o=>bn.mergeArray(n,o));const i=[...r.data].map((o,l)=>a.type._parseSync(new us(r,o,r.path,l)));return bn.mergeArray(n,i)}get element(){return this._def.type}min(t,r){return new wi({...this._def,minLength:{value:t,message:Re.toString(r)}})}max(t,r){return new wi({...this._def,maxLength:{value:t,message:Re.toString(r)}})}length(t,r){return new wi({...this._def,exactLength:{value:t,message:Re.toString(r)}})}nonempty(t){return this.min(1,t)}}wi.create=(e,t)=>new wi({type:e,minLength:null,maxLength:null,exactLength:null,typeName:qe.ZodArray,...at(t)});function Jc(e){if(e instanceof ar){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=is.create(Jc(n))}return new ar({...e._def,shape:()=>t})}else return e instanceof wi?new wi({...e._def,type:Jc(e.element)}):e instanceof is?is.create(Jc(e.unwrap())):e instanceof sl?sl.create(Jc(e.unwrap())):e instanceof ds?ds.create(e.items.map(t=>Jc(t))):e}class ar extends ut{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=jt.objectKeys(t);return this._cached={shape:t,keys:r}}_parse(t){if(this._getType(t)!==Ce.object){const u=this._getOrReturnCtx(t);return be(u,{code:ie.invalid_type,expected:Ce.object,received:u.parsedType}),We}const{status:n,ctx:a}=this._processInputParams(t),{shape:i,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof Gs&&this._def.unknownKeys==="strip"))for(const u in a.data)o.includes(u)||l.push(u);const c=[];for(const u of o){const d=i[u],f=a.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new us(a,f,a.path,u)),alwaysSet:u in a.data})}if(this._def.catchall instanceof Gs){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of l)c.push({key:{status:"valid",value:d},value:{status:"valid",value:a.data[d]}});else if(u==="strict")l.length>0&&(be(a,{code:ie.unrecognized_keys,keys:l}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of l){const f=a.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new us(a,f,a.path,d)),alwaysSet:d in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const f=await d.key,h=await d.value;u.push({key:f,value:h,alwaysSet:d.alwaysSet})}return u}).then(u=>bn.mergeObjectSync(n,u)):bn.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return Re.errToObj,new ar({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var a,i,o,l;const c=(o=(i=(a=this._def).errorMap)===null||i===void 0?void 0:i.call(a,r,n).message)!==null&&o!==void 0?o:n.defaultError;return r.code==="unrecognized_keys"?{message:(l=Re.errToObj(t).message)!==null&&l!==void 0?l:c}:{message:c}}}:{}})}strip(){return new ar({...this._def,unknownKeys:"strip"})}passthrough(){return new ar({...this._def,unknownKeys:"passthrough"})}extend(t){return new ar({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new ar({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:qe.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new ar({...this._def,catchall:t})}pick(t){const r={};return jt.objectKeys(t).forEach(n=>{t[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new ar({...this._def,shape:()=>r})}omit(t){const r={};return jt.objectKeys(this.shape).forEach(n=>{t[n]||(r[n]=this.shape[n])}),new ar({...this._def,shape:()=>r})}deepPartial(){return Jc(this)}partial(t){const r={};return jt.objectKeys(this.shape).forEach(n=>{const a=this.shape[n];t&&!t[n]?r[n]=a:r[n]=a.optional()}),new ar({...this._def,shape:()=>r})}required(t){const r={};return jt.objectKeys(this.shape).forEach(n=>{if(t&&!t[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof is;)i=i._def.innerType;r[n]=i}}),new ar({...this._def,shape:()=>r})}keyof(){return Y7(jt.objectKeys(this.shape))}}ar.create=(e,t)=>new ar({shape:()=>e,unknownKeys:"strip",catchall:Gs.create(),typeName:qe.ZodObject,...at(t)});ar.strictCreate=(e,t)=>new ar({shape:()=>e,unknownKeys:"strict",catchall:Gs.create(),typeName:qe.ZodObject,...at(t)});ar.lazycreate=(e,t)=>new ar({shape:e,unknownKeys:"strip",catchall:Gs.create(),typeName:qe.ZodObject,...at(t)});class yp extends ut{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function a(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=i.map(l=>new ba(l.ctx.common.issues));return be(r,{code:ie.invalid_union,unionErrors:o}),We}if(r.common.async)return Promise.all(n.map(async i=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(a);{let i;const o=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},d=c._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const l=o.map(c=>new ba(c));return be(r,{code:ie.invalid_union,unionErrors:l}),We}}get options(){return this._def.options}}yp.create=(e,t)=>new yp({options:e,typeName:qe.ZodUnion,...at(t)});const bs=e=>e instanceof wp?bs(e.schema):e instanceof Ci?bs(e.innerType()):e instanceof jp?[e.value]:e instanceof il?e.options:e instanceof Sp?jt.objectValues(e.enum):e instanceof Np?bs(e._def.innerType):e instanceof gp?[void 0]:e instanceof vp?[null]:e instanceof is?[void 0,...bs(e.unwrap())]:e instanceof sl?[null,...bs(e.unwrap())]:e instanceof vT||e instanceof Cp?bs(e.unwrap()):e instanceof Pp?bs(e._def.innerType):[];class Xb extends ut{_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Ce.object)return be(r,{code:ie.invalid_type,expected:Ce.object,received:r.parsedType}),We;const n=this.discriminator,a=r.data[n],i=this.optionsMap.get(a);return i?r.common.async?i._parseAsync({data:r.data,path:r.path,parent:r}):i._parseSync({data:r.data,path:r.path,parent:r}):(be(r,{code:ie.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),We)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,r,n){const a=new Map;for(const i of r){const o=bs(i.shape[t]);if(!o.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const l of o){if(a.has(l))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(l)}`);a.set(l,i)}}return new Xb({typeName:qe.ZodDiscriminatedUnion,discriminator:t,options:r,optionsMap:a,...at(n)})}}function bP(e,t){const r=Ss(e),n=Ss(t);if(e===t)return{valid:!0,data:e};if(r===Ce.object&&n===Ce.object){const a=jt.objectKeys(t),i=jt.objectKeys(e).filter(l=>a.indexOf(l)!==-1),o={...e,...t};for(const l of i){const c=bP(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(r===Ce.array&&n===Ce.array){if(e.length!==t.length)return{valid:!1};const a=[];for(let i=0;i<e.length;i++){const o=e[i],l=t[i],c=bP(o,l);if(!c.valid)return{valid:!1};a.push(c.data)}return{valid:!0,data:a}}else return r===Ce.date&&n===Ce.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class xp extends ut{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=(i,o)=>{if(yP(i)||yP(o))return We;const l=bP(i.value,o.value);return l.valid?((xP(i)||xP(o))&&r.dirty(),{status:r.value,value:l.data}):(be(n,{code:ie.invalid_intersection_types}),We)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,o])=>a(i,o)):a(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}xp.create=(e,t,r)=>new xp({left:e,right:t,typeName:qe.ZodIntersection,...at(r)});class ds extends ut{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Ce.array)return be(n,{code:ie.invalid_type,expected:Ce.array,received:n.parsedType}),We;if(n.data.length<this._def.items.length)return be(n,{code:ie.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),We;!this._def.rest&&n.data.length>this._def.items.length&&(be(n,{code:ie.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new us(n,o,n.path,l)):null}).filter(o=>!!o);return n.common.async?Promise.all(i).then(o=>bn.mergeArray(r,o)):bn.mergeArray(r,i)}get items(){return this._def.items}rest(t){return new ds({...this._def,rest:t})}}ds.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ds({items:e,typeName:qe.ZodTuple,rest:null,...at(t)})};class bp extends ut{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Ce.object)return be(n,{code:ie.invalid_type,expected:Ce.object,received:n.parsedType}),We;const a=[],i=this._def.keyType,o=this._def.valueType;for(const l in n.data)a.push({key:i._parse(new us(n,l,n.path,l)),value:o._parse(new us(n,n.data[l],n.path,l)),alwaysSet:l in n.data});return n.common.async?bn.mergeObjectAsync(r,a):bn.mergeObjectSync(r,a)}get element(){return this._def.valueType}static create(t,r,n){return r instanceof ut?new bp({keyType:t,valueType:r,typeName:qe.ZodRecord,...at(n)}):new bp({keyType:yi.create(),valueType:t,typeName:qe.ZodRecord,...at(r)})}}class Vx extends ut{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Ce.map)return be(n,{code:ie.invalid_type,expected:Ce.map,received:n.parsedType}),We;const a=this._def.keyType,i=this._def.valueType,o=[...n.data.entries()].map(([l,c],u)=>({key:a._parse(new us(n,l,n.path,[u,"key"])),value:i._parse(new us(n,c,n.path,[u,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return We;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of o){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return We;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}}}}Vx.create=(e,t,r)=>new Vx({valueType:t,keyType:e,typeName:qe.ZodMap,...at(r)});class Ac extends ut{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Ce.set)return be(n,{code:ie.invalid_type,expected:Ce.set,received:n.parsedType}),We;const a=this._def;a.minSize!==null&&n.data.size<a.minSize.value&&(be(n,{code:ie.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),r.dirty()),a.maxSize!==null&&n.data.size>a.maxSize.value&&(be(n,{code:ie.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),r.dirty());const i=this._def.valueType;function o(c){const u=new Set;for(const d of c){if(d.status==="aborted")return We;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const l=[...n.data.values()].map((c,u)=>i._parse(new us(n,c,n.path,u)));return n.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,r){return new Ac({...this._def,minSize:{value:t,message:Re.toString(r)}})}max(t,r){return new Ac({...this._def,maxSize:{value:t,message:Re.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}Ac.create=(e,t)=>new Ac({valueType:e,minSize:null,maxSize:null,typeName:qe.ZodSet,...at(t)});class Fu extends ut{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Ce.function)return be(r,{code:ie.invalid_type,expected:Ce.function,received:r.parsedType}),We;function n(l,c){return Rx({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Ix(),Yd].filter(u=>!!u),issueData:{code:ie.invalid_arguments,argumentsError:c}})}function a(l,c){return Rx({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Ix(),Yd].filter(u=>!!u),issueData:{code:ie.invalid_return_type,returnTypeError:c}})}const i={errorMap:r.common.contextualErrorMap},o=r.data;if(this._def.returns instanceof Zd){const l=this;return Rn(async function(...c){const u=new ba([]),d=await l._def.args.parseAsync(c,i).catch(p=>{throw u.addIssue(n(c,p)),u}),f=await Reflect.apply(o,this,d);return await l._def.returns._def.type.parseAsync(f,i).catch(p=>{throw u.addIssue(a(f,p)),u})})}else{const l=this;return Rn(function(...c){const u=l._def.args.safeParse(c,i);if(!u.success)throw new ba([n(c,u.error)]);const d=Reflect.apply(o,this,u.data),f=l._def.returns.safeParse(d,i);if(!f.success)throw new ba([a(d,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new Fu({...this._def,args:ds.create(t).rest(ac.create())})}returns(t){return new Fu({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,r,n){return new Fu({args:t||ds.create([]).rest(ac.create()),returns:r||ac.create(),typeName:qe.ZodFunction,...at(n)})}}class wp extends ut{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}wp.create=(e,t)=>new wp({getter:e,typeName:qe.ZodLazy,...at(t)});class jp extends ut{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return be(r,{received:r.data,code:ie.invalid_literal,expected:this._def.value}),We}return{status:"valid",value:t.data}}get value(){return this._def.value}}jp.create=(e,t)=>new jp({value:e,typeName:qe.ZodLiteral,...at(t)});function Y7(e,t){return new il({values:e,typeName:qe.ZodEnum,...at(t)})}class il extends ut{constructor(){super(...arguments),Ah.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return be(r,{expected:jt.joinValues(n),received:r.parsedType,code:ie.invalid_type}),We}if($x(this,Ah)||W7(this,Ah,new Set(this._def.values)),!$x(this,Ah).has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return be(r,{received:r.data,code:ie.invalid_enum_value,options:n}),We}return Rn(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return il.create(t,{...this._def,...r})}exclude(t,r=this._def){return il.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}Ah=new WeakMap;il.create=Y7;class Sp extends ut{constructor(){super(...arguments),Eh.set(this,void 0)}_parse(t){const r=jt.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==Ce.string&&n.parsedType!==Ce.number){const a=jt.objectValues(r);return be(n,{expected:jt.joinValues(a),received:n.parsedType,code:ie.invalid_type}),We}if($x(this,Eh)||W7(this,Eh,new Set(jt.getValidEnumValues(this._def.values))),!$x(this,Eh).has(t.data)){const a=jt.objectValues(r);return be(n,{received:n.data,code:ie.invalid_enum_value,options:a}),We}return Rn(t.data)}get enum(){return this._def.values}}Eh=new WeakMap;Sp.create=(e,t)=>new Sp({values:e,typeName:qe.ZodNativeEnum,...at(t)});class Zd extends ut{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Ce.promise&&r.common.async===!1)return be(r,{code:ie.invalid_type,expected:Ce.promise,received:r.parsedType}),We;const n=r.parsedType===Ce.promise?r.data:Promise.resolve(r.data);return Rn(n.then(a=>this._def.type.parseAsync(a,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Zd.create=(e,t)=>new Zd({type:e,typeName:qe.ZodPromise,...at(t)});class Ci extends ut{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===qe.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),a=this._def.effect||null,i={addIssue:o=>{be(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),a.type==="preprocess"){const o=a.transform(n.data,i);if(n.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return We;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?We:c.status==="dirty"||r.value==="dirty"?wu(c.value):c});{if(r.value==="aborted")return We;const l=this._def.schema._parseSync({data:o,path:n.path,parent:n});return l.status==="aborted"?We:l.status==="dirty"||r.value==="dirty"?wu(l.value):l}}if(a.type==="refinement"){const o=l=>{const c=a.refinement(l,i);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?We:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?We:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(a.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Pc(o))return o;const l=a.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>Pc(o)?Promise.resolve(a.transform(o.value,i)).then(l=>({status:r.value,value:l})):o);jt.assertNever(a)}}Ci.create=(e,t,r)=>new Ci({schema:e,typeName:qe.ZodEffects,effect:t,...at(r)});Ci.createWithPreprocess=(e,t,r)=>new Ci({schema:t,effect:{type:"preprocess",transform:e},typeName:qe.ZodEffects,...at(r)});class is extends ut{_parse(t){return this._getType(t)===Ce.undefined?Rn(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}is.create=(e,t)=>new is({innerType:e,typeName:qe.ZodOptional,...at(t)});class sl extends ut{_parse(t){return this._getType(t)===Ce.null?Rn(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}sl.create=(e,t)=>new sl({innerType:e,typeName:qe.ZodNullable,...at(t)});class Np extends ut{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===Ce.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}Np.create=(e,t)=>new Np({innerType:e,typeName:qe.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...at(t)});class Pp extends ut{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},a=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return mp(a)?a.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new ba(n.common.issues)},input:n.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new ba(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}Pp.create=(e,t)=>new Pp({innerType:e,typeName:qe.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...at(t)});class zx extends ut{_parse(t){if(this._getType(t)!==Ce.nan){const n=this._getOrReturnCtx(t);return be(n,{code:ie.invalid_type,expected:Ce.nan,received:n.parsedType}),We}return{status:"valid",value:t.data}}}zx.create=e=>new zx({typeName:qe.ZodNaN,...at(e)});const Q4e=Symbol("zod_brand");class vT extends ut{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class sg extends ut{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?We:i.status==="dirty"?(r.dirty(),wu(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const a=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?We:a.status==="dirty"?(r.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:n.path,parent:n})}}static create(t,r){return new sg({in:t,out:r,typeName:qe.ZodPipeline})}}class Cp extends ut{_parse(t){const r=this._def.innerType._parse(t),n=a=>(Pc(a)&&(a.value=Object.freeze(a.value)),a);return mp(r)?r.then(a=>n(a)):n(r)}unwrap(){return this._def.innerType}}Cp.create=(e,t)=>new Cp({innerType:e,typeName:qe.ZodReadonly,...at(t)});function bR(e,t){const r=typeof e=="function"?e(t):typeof e=="string"?{message:e}:e;return typeof r=="string"?{message:r}:r}function Q7(e,t={},r){return e?Qd.create().superRefine((n,a)=>{var i,o;const l=e(n);if(l instanceof Promise)return l.then(c=>{var u,d;if(!c){const f=bR(t,n),h=(d=(u=f.fatal)!==null&&u!==void 0?u:r)!==null&&d!==void 0?d:!0;a.addIssue({code:"custom",...f,fatal:h})}});if(!l){const c=bR(t,n),u=(o=(i=c.fatal)!==null&&i!==void 0?i:r)!==null&&o!==void 0?o:!0;a.addIssue({code:"custom",...c,fatal:u})}}):Qd.create()}const Z4e={object:ar.lazycreate};var qe;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(qe||(qe={}));const J4e=(e,t={message:`Input not instance of ${e.name}`})=>Q7(r=>r instanceof e,t),Z7=yi.create,J7=nl.create,eFe=zx.create,tFe=al.create,eH=pp.create,rFe=Cc.create,nFe=Lx.create,aFe=gp.create,iFe=vp.create,sFe=Qd.create,oFe=ac.create,lFe=Gs.create,cFe=Fx.create,uFe=wi.create,dFe=ar.create,fFe=ar.strictCreate,hFe=yp.create,mFe=Xb.create,pFe=xp.create,gFe=ds.create,vFe=bp.create,yFe=Vx.create,xFe=Ac.create,bFe=Fu.create,wFe=wp.create,jFe=jp.create,SFe=il.create,NFe=Sp.create,PFe=Zd.create,wR=Ci.create,CFe=is.create,AFe=sl.create,EFe=Ci.createWithPreprocess,TFe=sg.create,_Fe=()=>Z7().optional(),OFe=()=>J7().optional(),kFe=()=>eH().optional(),DFe={string:e=>yi.create({...e,coerce:!0}),number:e=>nl.create({...e,coerce:!0}),boolean:e=>pp.create({...e,coerce:!0}),bigint:e=>al.create({...e,coerce:!0}),date:e=>Cc.create({...e,coerce:!0})},MFe=We;var q=Object.freeze({__proto__:null,defaultErrorMap:Yd,setErrorMap:E4e,getErrorMap:Ix,makeIssue:Rx,EMPTY_PATH:T4e,addIssueToContext:be,ParseStatus:bn,INVALID:We,DIRTY:wu,OK:Rn,isAborted:yP,isDirty:xP,isValid:Pc,isAsync:mp,get util(){return jt},get objectUtil(){return vP},ZodParsedType:Ce,getParsedType:Ss,ZodType:ut,datetimeRegex:X7,ZodString:yi,ZodNumber:nl,ZodBigInt:al,ZodBoolean:pp,ZodDate:Cc,ZodSymbol:Lx,ZodUndefined:gp,ZodNull:vp,ZodAny:Qd,ZodUnknown:ac,ZodNever:Gs,ZodVoid:Fx,ZodArray:wi,ZodObject:ar,ZodUnion:yp,ZodDiscriminatedUnion:Xb,ZodIntersection:xp,ZodTuple:ds,ZodRecord:bp,ZodMap:Vx,ZodSet:Ac,ZodFunction:Fu,ZodLazy:wp,ZodLiteral:jp,ZodEnum:il,ZodNativeEnum:Sp,ZodPromise:Zd,ZodEffects:Ci,ZodTransformer:Ci,ZodOptional:is,ZodNullable:sl,ZodDefault:Np,ZodCatch:Pp,ZodNaN:zx,BRAND:Q4e,ZodBranded:vT,ZodPipeline:sg,ZodReadonly:Cp,custom:Q7,Schema:ut,ZodSchema:ut,late:Z4e,get ZodFirstPartyTypeKind(){return qe},coerce:DFe,any:sFe,array:uFe,bigint:tFe,boolean:eH,date:rFe,discriminatedUnion:mFe,effect:wR,enum:SFe,function:bFe,instanceof:J4e,intersection:pFe,lazy:wFe,literal:jFe,map:yFe,nan:eFe,nativeEnum:NFe,never:lFe,null:iFe,nullable:AFe,number:J7,object:dFe,oboolean:kFe,onumber:OFe,optional:CFe,ostring:_Fe,pipeline:TFe,preprocess:EFe,promise:PFe,record:vFe,set:xFe,strictObject:fFe,string:Z7,symbol:nFe,transformer:wR,tuple:gFe,undefined:aFe,union:hFe,unknown:oFe,void:cFe,NEVER:MFe,ZodIssueCode:ie,quotelessJson:A4e,ZodError:ba});const Jd=s4e,tH=v.createContext({}),gt=({...e})=>s.jsx(tH.Provider,{value:{name:e.name},children:s.jsx(u4e,{...e})}),Yb=()=>{const e=v.useContext(tH),t=v.useContext(rH),{getFieldState:r,formState:n}=Gb(),a=r(e.name,n);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:i}=t;return{id:i,name:e.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...a}},rH=v.createContext({}),ft=v.forwardRef(({className:e,...t},r)=>{const n=v.useId();return s.jsx(rH.Provider,{value:{id:n},children:s.jsx("div",{ref:r,className:he("space-y-2",e),...t})})});ft.displayName="FormItem";const ht=v.forwardRef(({className:e,...t},r)=>{const{error:n,formItemId:a}=Yb();return s.jsx(ge,{ref:r,className:he(n&&"text-destructive",e),htmlFor:a,...t})});ht.displayName="FormLabel";const mt=v.forwardRef(({...e},t)=>{const{error:r,formItemId:n,formDescriptionId:a,formMessageId:i}=Yb();return s.jsx(TV,{ref:t,id:n,"aria-describedby":r?`${a} ${i}`:`${a}`,"aria-invalid":!!r,...e})});mt.displayName="FormControl";const wo=v.forwardRef(({className:e,...t},r)=>{const{formDescriptionId:n}=Yb();return s.jsx("p",{ref:r,id:n,className:he("text-sm text-muted-foreground",e),...t})});wo.displayName="FormDescription";const vt=v.forwardRef(({className:e,children:t,...r},n)=>{const{error:a,formMessageId:i}=Yb(),o=a?String((a==null?void 0:a.message)??""):t;return o?s.jsx("p",{ref:n,id:i,className:he("text-sm font-medium text-destructive",e),...r,children:o}):null});vt.displayName="FormMessage";const IFe=of("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Ec=v.forwardRef(({className:e,variant:t,...r},n)=>s.jsx("div",{ref:n,role:"alert",className:he(IFe({variant:t}),e),...r}));Ec.displayName="Alert";const Ap=v.forwardRef(({className:e,...t},r)=>s.jsx("h5",{ref:r,className:he("mb-1 font-medium leading-none tracking-tight",e),...t}));Ap.displayName="AlertTitle";const Tc=v.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:he("text-sm [&_p]:leading-relaxed",e),...t}));Tc.displayName="AlertDescription";const RFe=q.object({username:q.string().min(3,"El nombre de usuario debe tener al menos 3 caracteres"),password:q.string().min(6,"La contraseña debe tener al menos 6 caracteres")});function $Fe(){const{login:e,user:t}=dl(),[r,n]=v.useState(null),[a,i]=v.useState(!1),[,o]=ss();v.useEffect(()=>{if(t){const u=sessionStorage.getItem("redirectAfterLogin");u?(console.log(`[LoginForm] Redireccionando a ruta guardada: ${u}`),sessionStorage.removeItem("redirectAfterLogin"),o(u)):(console.log("[LoginForm] No hay ruta guardada, redireccionando al dashboard"),o("/"))}},[t,o]);const l=Gd({resolver:Xd(RFe),defaultValues:{username:"",password:""}}),c=async u=>{i(!0),n(null);try{console.log(`[LoginForm] Intentando iniciar sesión con usuario: ${u.username}`),await e(u.username,u.password)}catch(d){console.error("[LoginForm] Error en inicio de sesión:",d),n(d instanceof Error?d.message:"Error al iniciar sesión")}finally{i(!1)}};return s.jsxs(le,{className:"w-full max-w-md",children:[s.jsxs(_e,{children:[s.jsx(ke,{className:"text-2xl font-bold",children:"Iniciar Sesión"}),s.jsx(Et,{children:"Ingrese sus credenciales para acceder al dashboard de KPIs"})]}),s.jsxs(ce,{children:[r&&s.jsxs(Ec,{variant:"destructive",className:"mb-4",children:[s.jsx(qo,{className:"h-4 w-4"}),s.jsx(Tc,{children:r})]}),s.jsx(Jd,{...l,children:s.jsxs("form",{onSubmit:l.handleSubmit(c),className:"space-y-4",children:[s.jsx(gt,{control:l.control,name:"username",render:({field:u})=>s.jsxs(ft,{children:[s.jsx(ht,{children:"Usuario"}),s.jsx(mt,{children:s.jsx(Ee,{placeholder:"Nombre de usuario",...u})}),s.jsx(vt,{})]})}),s.jsx(gt,{control:l.control,name:"password",render:({field:u})=>s.jsxs(ft,{children:[s.jsx(ht,{children:"Contraseña"}),s.jsx(mt,{children:s.jsx(Ee,{type:"password",placeholder:"******",...u})}),s.jsx(vt,{})]})}),s.jsx(re,{type:"submit",className:"w-full",disabled:a,children:a?s.jsxs(s.Fragment,{children:[s.jsx(qi,{className:"mr-2 h-4 w-4 animate-spin"}),"Iniciando..."]}):"Iniciar Sesión"})]})})]})]})}function LFe(){const{user:e,isLoading:t}=dl(),[r,n]=ss();return v.useEffect(()=>{if(!t&&e){const a=sessionStorage.getItem("redirectAfterLogin");a&&a!=="/login"?(sessionStorage.removeItem("redirectAfterLogin"),n(a)):n("/")}},[e,t,n]),t?s.jsx("div",{className:"flex justify-center items-center min-h-screen bg-secondary-100",children:s.jsx("div",{className:"w-8 h-8 border-4 border-primary-600 border-t-transparent rounded-full animate-spin"})}):s.jsx("div",{className:"min-h-screen flex flex-col justify-center items-center bg-[#273949] p-4",children:s.jsxs("div",{className:"w-full max-w-md mb-8",children:[s.jsxs("div",{className:"text-center mb-8 flex flex-col items-center",children:[s.jsx(J6,{height:120,className:"mb-4"}),s.jsx("h1",{className:"text-3xl font-bold text-[#b5e951]",children:"Grupo Orsega y Dura International"}),s.jsx("p",{className:"text-white mt-2",children:"Sistema de gestión de indicadores clave de rendimiento"})]}),s.jsx($Fe,{})]})})}var FFe="Separator",jR="horizontal",VFe=["horizontal","vertical"],nH=v.forwardRef((e,t)=>{const{decorative:r,orientation:n=jR,...a}=e,i=zFe(n)?n:jR,l=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return s.jsx(Ie.div,{"data-orientation":i,...l,...a,ref:t})});nH.displayName=FFe;function zFe(e){return VFe.includes(e)}var aH=nH;const kf=v.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},a)=>s.jsx(aH,{ref:a,decorative:r,orientation:t,className:he("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));kf.displayName=aH.displayName;var yT="Checkbox",[BFe,Cze]=jn(yT),[UFe,KFe]=BFe(yT),iH=v.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,p]=v.useState(null),x=ot(t,N=>p(N)),m=v.useRef(!1),g=h?d||!!h.closest("form"):!0,[w=!1,y]=Ya({prop:a,defaultProp:i,onChange:u}),b=v.useRef(w);return v.useEffect(()=>{const N=h==null?void 0:h.form;if(N){const j=()=>y(b.current);return N.addEventListener("reset",j),()=>N.removeEventListener("reset",j)}},[h,y]),s.jsxs(UFe,{scope:r,state:w,disabled:l,children:[s.jsx(Ie.button,{type:"button",role:"checkbox","aria-checked":Ho(w)?"mixed":w,"aria-required":o,"data-state":lH(w),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:x,onKeyDown:ue(e.onKeyDown,N=>{N.key==="Enter"&&N.preventDefault()}),onClick:ue(e.onClick,N=>{y(j=>Ho(j)?!0:!j),g&&(m.current=N.isPropagationStopped(),m.current||N.stopPropagation())})}),g&&s.jsx(qFe,{control:h,bubbles:!m.current,name:n,value:c,checked:w,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"},defaultChecked:Ho(i)?!1:i})]})});iH.displayName=yT;var sH="CheckboxIndicator",oH=v.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...a}=e,i=KFe(sH,r);return s.jsx(Sn,{present:n||Ho(i.state)||i.state===!0,children:s.jsx(Ie.span,{"data-state":lH(i.state),"data-disabled":i.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});oH.displayName=sH;var qFe=e=>{const{control:t,checked:r,bubbles:n=!0,defaultChecked:a,...i}=e,o=v.useRef(null),l=dT(r),c=zC(t);v.useEffect(()=>{const d=o.current,f=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(f,"checked").set;if(l!==r&&p){const x=new Event("click",{bubbles:n});d.indeterminate=Ho(r),p.call(d,Ho(r)?!1:r),d.dispatchEvent(x)}},[l,r,n]);const u=v.useRef(Ho(r)?!1:r);return s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:a??u.current,...i,tabIndex:-1,ref:o,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Ho(e){return e==="indeterminate"}function lH(e){return Ho(e)?"indeterminate":e?"checked":"unchecked"}var cH=iH,WFe=oH;const uH=v.forwardRef(({className:e,...t},r)=>s.jsx(cH,{ref:r,className:he("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:s.jsx(WFe,{className:he("flex items-center justify-center text-current"),children:s.jsx(E0,{className:"h-4 w-4"})})}));uH.displayName=cH.displayName;const sv=[{id:"imasa",name:"IMASA",email:"solicitudes@imasa.com.mx",phone:"+52 (33) 1234-5678",specialties:["Carga general","Logística nacional"]},{id:"fedex",name:"FedEx",email:"customer.service@fedex.com",phone:"+52 (55) 5000-1234",specialties:["Envíos urgentes","Paquetería"]},{id:"dhl",name:"DHL",email:"info@dhl.com.mx",phone:"+52 (55) 5345-7000",specialties:["Envíos internacionales","Logística especializada"]},{id:"transportes_unidos",name:"Transportes Unidos",email:"operaciones@transportesunidos.mx",phone:"+52 (33) 8888-9999",specialties:["Carga pesada","Rutas regionales"]}],HFe=q.object({providerId:q.string().min(1,"Selecciona un proveedor"),urgency:q.enum(["normal","urgente","mismo_dia"]),deliveryTime:q.string().optional(),specialInstructions:q.string().optional(),contactPerson:q.string().default("Thalia Rodriguez"),contactEmail:q.string().email().default("thaliarodriguez@grupoorsega.com"),contactPhone:q.string().default("+52 (33) 1234-5678"),includePickupAddress:q.boolean().default(!0),includeDeliveryAddress:q.boolean().default(!0),includeProductDetails:q.boolean().default(!0),includeDeadlines:q.boolean().default(!0),additionalRequirements:q.string().optional(),drumsQuantity:q.string().optional(),drumsType:q.string().optional(),requiresAppointment:q.boolean().default(!1)});function GFe({isOpen:e,onClose:t,shipment:r,onSuccess:n}){const{toast:a}=wn(),[i,o]=v.useState(!1),[l,c]=v.useState(!1),[u,d]=v.useState(null),f=Gd({resolver:Xd(HFe),defaultValues:{providerId:"",urgency:"normal",deliveryTime:"",specialInstructions:"",contactPerson:"Thalia Rodriguez",contactEmail:"thaliarodriguez@grupoorsega.com",contactPhone:"+52 (33) 1234-5678",includePickupAddress:!0,includeDeliveryAddress:!0,includeProductDetails:!0,includeDeadlines:!0,additionalRequirements:"",drumsQuantity:"",drumsType:"TAMBORES",requiresAppointment:!1}}),h=m=>{if(!sv.find(N=>N.id===m.providerId))return"";const w={normal:"servicio",urgente:"servicio URGENTE",mismo_dia:"servicio MISMO DÍA"}[m.urgency],y=m.deliveryTime?` para entrega el ${m.deliveryTime}`:"";let b=`Hola, buen día

¿Me pueden ayudar por favor con 1 unidad para ${w}${y}? Por favor que se presenten ${m.deliveryTime?`el ${m.deliveryTime}`:"mañana"}.

`;return m.includePickupAddress&&(b+=`Recolección:
${r.origin}

`),m.includeDeliveryAddress&&(b+=`ENTREGA:
${r.destination}

`),m.includeProductDetails&&(b+=`Producto: ${r.product}
Cantidad: ${r.quantity} ${r.unit}
${r.purchaseOrderNumber?`Orden de Compra: ${r.purchaseOrderNumber}`:""}

`),m.drumsQuantity&&m.drumsQuantity!==""&&m.drumsQuantity!=="0"&&(b+=`ENTREGA ${m.drumsQuantity} ${m.drumsType}

`),b+=`FAVOR DE FACTURAR ESTE SERVICIO A ${r.companyId===1?"DURA INTERNATIONAL":"GRUPO ORSEGA"}, S.A. DE C.V.
El operador debe presentarse con equipo básico de seguridad
${m.requiresAppointment?"⚠️ IMPORTANTE: Este servicio REQUIERE CITA PREVIA - Favor de coordinar con anticipación":""}

`,m.specialInstructions&&(b+=`Instrucciones especiales:
${m.specialInstructions}

`),m.additionalRequirements&&(b+=`Requisitos adicionales:
${m.additionalRequirements}

`),b+=`Les agradezco si confirman el servicio
¡Gracias, saludos!

--
${m.contactPerson}
${m.contactEmail}
${m.contactPhone}`,b},p=async m=>{o(!0);try{const g=sv.find(b=>b.id===m.providerId),w=await fetch("/api/transport-request",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({shipmentId:r.id,...m})});if(!w.ok){const b=await w.json();throw new Error(b.message||"Error al enviar la solicitud")}const y=await w.json();a({title:"Solicitud enviada",description:`Se ha enviado la solicitud de transporte a ${g==null?void 0:g.name}. El proveedor responderá directamente a ${m.contactEmail}`}),n(),t()}catch(g){a({title:"Error",description:g.message||"No se pudo enviar la solicitud. Intenta nuevamente.",variant:"destructive"})}finally{o(!1)}},x=f.watch();return s.jsx(Ir,{open:e,onOpenChange:t,children:s.jsxs(Sr,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsx(Nr,{children:s.jsxs(Pr,{className:"flex items-center gap-2",children:[s.jsx(wm,{className:"h-5 w-5"}),"Solicitar Transporte - ",r.trackingCode]})}),l?s.jsxs("div",{className:"space-y-4",children:[s.jsxs(le,{children:[s.jsx(_e,{children:s.jsxs(ke,{className:"text-sm flex items-center gap-2",children:[s.jsx(hd,{className:"h-4 w-4"}),"Vista Previa del Correo"]})}),s.jsx(ce,{children:s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"font-medium",children:["Para: ",u==null?void 0:u.email]}),s.jsxs("p",{className:"font-medium",children:["Asunto: SOLICITUD DE SERVICIO ",r.trackingCode]})]}),s.jsx(kf,{}),s.jsx("div",{className:"bg-gray-50 p-4 rounded-md font-mono text-sm whitespace-pre-wrap",children:h(x)})]})})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(re,{onClick:()=>p(x),disabled:i,className:"flex-1",children:[s.jsx(c6,{className:"mr-2 h-4 w-4"}),i?"Enviando...":"Confirmar y Enviar"]}),s.jsx(re,{variant:"outline",onClick:()=>c(!1),children:"Editar"})]})]}):s.jsx(Jd,{...f,children:s.jsxs("form",{onSubmit:f.handleSubmit(p),className:"space-y-6",children:[s.jsxs(le,{children:[s.jsx(_e,{children:s.jsx(ke,{className:"text-sm",children:"Información del Envío"})}),s.jsx(ce,{className:"space-y-3",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"font-medium text-gray-500",children:"Cliente:"}),s.jsx("p",{children:r.customerName})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"font-medium text-gray-500",children:"Producto:"}),s.jsxs("p",{children:[r.product," - ",r.quantity," ",r.unit]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"font-medium text-gray-500",children:"Origen:"}),s.jsx("p",{children:r.origin})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"font-medium text-gray-500",children:"Destino:"}),s.jsx("p",{children:r.destination})]})]})})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(gt,{control:f.control,name:"providerId",render:({field:m})=>s.jsxs(ft,{children:[s.jsx(ht,{children:"Proveedor de Logística"}),s.jsxs(Xe,{onValueChange:g=>{m.onChange(g),d(sv.find(w=>w.id===g)||null)},value:m.value,children:[s.jsx(mt,{children:s.jsx(He,{children:s.jsx(Ye,{placeholder:"Selecciona un proveedor"})})}),s.jsx(Ge,{children:sv.map(g=>s.jsx(G,{value:g.id,children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Yo,{className:"h-4 w-4"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:g.name}),s.jsx("div",{className:"text-xs text-gray-500",children:g.email})]})]})},g.id))})]}),u&&s.jsx("div",{className:"mt-2 p-3 bg-blue-50 rounded-md",children:s.jsxs("div",{className:"text-sm",children:[s.jsx("p",{className:"font-medium",children:u.name}),s.jsx("p",{className:"text-gray-600",children:u.email}),s.jsx("p",{className:"text-gray-600",children:u.phone}),s.jsx("div",{className:"mt-1 flex gap-1",children:u.specialties.map((g,w)=>s.jsx(Ze,{variant:"secondary",className:"text-xs",children:g},w))})]})}),s.jsx(vt,{})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(gt,{control:f.control,name:"urgency",render:({field:m})=>s.jsxs(ft,{children:[s.jsx(ht,{children:"Urgencia"}),s.jsxs(Xe,{onValueChange:m.onChange,value:m.value,children:[s.jsx(mt,{children:s.jsx(He,{children:s.jsx(Ye,{})})}),s.jsxs(Ge,{children:[s.jsx(G,{value:"normal",children:"Normal"}),s.jsx(G,{value:"urgente",children:"Urgente"}),s.jsx(G,{value:"mismo_dia",children:"Mismo día"})]})]}),s.jsx(vt,{})]})}),s.jsx(gt,{control:f.control,name:"deliveryTime",render:({field:m})=>s.jsxs(ft,{children:[s.jsx(ht,{children:"Fecha/Hora de Entrega"}),s.jsx(mt,{children:s.jsx(Ee,{...m,placeholder:"ej: mañana a las 11:00 am"})}),s.jsx(wo,{children:"Especifica cuándo debe realizarse la entrega"}),s.jsx(vt,{})]})})]}),s.jsx(gt,{control:f.control,name:"requiresAppointment",render:({field:m})=>s.jsxs(ft,{className:"flex flex-row items-start space-x-3 space-y-0 rounded-md border p-4",children:[s.jsx(mt,{children:s.jsx(uH,{checked:m.value,onCheckedChange:m.onChange})}),s.jsxs("div",{className:"space-y-1 leading-none",children:[s.jsx(ht,{className:"text-sm font-medium cursor-pointer",children:"📅 Requiere cita previa"}),s.jsx(wo,{children:"Marca esta opción si el proveedor debe coordinar una cita antes de la entrega o recolección"})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(gt,{control:f.control,name:"drumsQuantity",render:({field:m})=>s.jsxs(ft,{children:[s.jsx(ht,{children:"Cantidad de Tambores"}),s.jsxs(Xe,{onValueChange:m.onChange,value:m.value,children:[s.jsx(mt,{children:s.jsx(He,{children:s.jsx(Ye,{placeholder:"Sin tambores"})})}),s.jsxs(Ge,{children:[s.jsx(G,{value:"0",children:"Sin tambores"}),s.jsx(G,{value:"1",children:"1 tambor"}),s.jsx(G,{value:"2",children:"2 tambores"}),s.jsx(G,{value:"3",children:"3 tambores"}),s.jsx(G,{value:"4",children:"4 tambores"}),s.jsx(G,{value:"5",children:"5 tambores"}),s.jsx(G,{value:"6",children:"6 tambores"}),s.jsx(G,{value:"7",children:"7 tambores"}),s.jsx(G,{value:"8",children:"8 tambores"}),s.jsx(G,{value:"9",children:"9 tambores"}),s.jsx(G,{value:"10",children:"10 tambores"}),s.jsx(G,{value:"12",children:"12 tambores"}),s.jsx(G,{value:"15",children:"15 tambores"}),s.jsx(G,{value:"20",children:"20 tambores"})]})]}),s.jsx(vt,{})]})}),s.jsx(gt,{control:f.control,name:"drumsType",render:({field:m})=>s.jsxs(ft,{children:[s.jsx(ht,{children:"Tipo de Contenedor"}),s.jsxs(Xe,{onValueChange:m.onChange,value:m.value,children:[s.jsx(mt,{children:s.jsx(He,{children:s.jsx(Ye,{placeholder:"Selecciona el tipo"})})}),s.jsxs(Ge,{children:[s.jsx(G,{value:"TAMBORES",children:"TAMBORES"}),s.jsx(G,{value:"BIDONES",children:"BIDONES"}),s.jsx(G,{value:"CONTENEDORES",children:"CONTENEDORES"}),s.jsx(G,{value:"BARRILES",children:"BARRILES"})]})]}),s.jsx(vt,{})]})})]}),s.jsx(gt,{control:f.control,name:"specialInstructions",render:({field:m})=>s.jsxs(ft,{children:[s.jsx(ht,{children:"Instrucciones Especiales"}),s.jsx(mt,{children:s.jsx(Za,{...m,placeholder:"Instrucciones adicionales para el transportista...",rows:3})}),s.jsx(vt,{})]})})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(re,{type:"submit",disabled:i,className:"flex-1",children:i?"Enviando...":"Enviar Solicitud"}),s.jsx(re,{type:"button",variant:"outline",onClick:()=>c(!0),disabled:!f.watch("providerId"),children:"Vista previa"})]})]})}),s.jsx(F0,{children:s.jsx(re,{variant:"outline",onClick:t,disabled:i,children:"Cancelar"})})]})})}var xT="Switch",[XFe,Aze]=jn(xT),[YFe,QFe]=XFe(xT),dH=v.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,p]=v.useState(null),x=ot(t,b=>p(b)),m=v.useRef(!1),g=h?d||!!h.closest("form"):!0,[w=!1,y]=Ya({prop:a,defaultProp:i,onChange:u});return s.jsxs(YFe,{scope:r,checked:w,disabled:l,children:[s.jsx(Ie.button,{type:"button",role:"switch","aria-checked":w,"aria-required":o,"data-state":mH(w),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:x,onClick:ue(e.onClick,b=>{y(N=>!N),g&&(m.current=b.isPropagationStopped(),m.current||b.stopPropagation())})}),g&&s.jsx(ZFe,{control:h,bubbles:!m.current,name:n,value:c,checked:w,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});dH.displayName=xT;var fH="SwitchThumb",hH=v.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,a=QFe(fH,r);return s.jsx(Ie.span,{"data-state":mH(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:t})});hH.displayName=fH;var ZFe=e=>{const{control:t,checked:r,bubbles:n=!0,...a}=e,i=v.useRef(null),o=dT(r),l=zC(t);return v.useEffect(()=>{const c=i.current,u=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(u,"checked").set;if(o!==r&&f){const h=new Event("click",{bubbles:n});f.call(c,r),c.dispatchEvent(h)}},[o,r,n]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:i,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function mH(e){return e?"checked":"unchecked"}var pH=dH,JFe=hH;const Ep=v.forwardRef(({className:e,...t},r)=>s.jsx(pH,{className:he("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:s.jsx(JFe,{className:he("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Ep.displayName=pH.displayName;const bT=v.forwardRef(({className:e,...t},r)=>s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",{ref:r,className:he("w-full caption-bottom text-sm",e),...t})}));bT.displayName="Table";const wT=v.forwardRef(({className:e,...t},r)=>s.jsx("thead",{ref:r,className:he("[&_tr]:border-b",e),...t}));wT.displayName="TableHeader";const jT=v.forwardRef(({className:e,...t},r)=>s.jsx("tbody",{ref:r,className:he("[&_tr:last-child]:border-0",e),...t}));jT.displayName="TableBody";const e3e=v.forwardRef(({className:e,...t},r)=>s.jsx("tfoot",{ref:r,className:he("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));e3e.displayName="TableFooter";const Kl=v.forwardRef(({className:e,...t},r)=>s.jsx("tr",{ref:r,className:he("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Kl.displayName="TableRow";const qn=v.forwardRef(({className:e,...t},r)=>s.jsx("th",{ref:r,className:he("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));qn.displayName="TableHead";const mn=v.forwardRef(({className:e,...t},r)=>s.jsx("td",{ref:r,className:he("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));mn.displayName="TableCell";const t3e=v.forwardRef(({className:e,...t},r)=>s.jsx("caption",{ref:r,className:he("mt-4 text-sm text-muted-foreground",e),...t}));t3e.displayName="TableCaption";function r3e({isOpen:e,onClose:t}){const{toast:r}=wn(),n=Vn(),[a,i]=v.useState(null),[o,l]=v.useState(!1),[c,u]=v.useState({name:"",email:"",phone:"",contactPerson:"",address:"",website:"",specialties:[],serviceAreas:[],notes:"",isActive:!0,requiresAppointment:!1,rating:5}),[d,f]=v.useState(""),[h,p]=v.useState(""),{data:x=[],isLoading:m}=$e({queryKey:["/api/transport-providers"],enabled:e}),g=At({mutationFn:async E=>await Tu("/api/transport-providers",{method:"POST",body:JSON.stringify(E)}),onSuccess:()=>{n.invalidateQueries({queryKey:["/api/transport-providers"]}),r({title:"Éxito",description:"Proveedor de transporte creado exitosamente"}),b(),l(!1)},onError:E=>{r({title:"Error",description:E.message||"Error al crear el proveedor",variant:"destructive"})}}),w=At({mutationFn:async({id:E,data:T})=>await Tu(`/api/transport-providers/${E}`,{method:"PUT",body:JSON.stringify(T)}),onSuccess:()=>{n.invalidateQueries({queryKey:["/api/transport-providers"]}),r({title:"Éxito",description:"Proveedor de transporte actualizado exitosamente"}),b(),l(!1),i(null)},onError:E=>{r({title:"Error",description:E.message||"Error al actualizar el proveedor",variant:"destructive"})}}),y=At({mutationFn:async E=>await Tu(`/api/transport-providers/${E}`,{method:"DELETE"}),onSuccess:()=>{n.invalidateQueries({queryKey:["/api/transport-providers"]}),r({title:"Éxito",description:"Proveedor de transporte eliminado exitosamente"})},onError:E=>{r({title:"Error",description:E.message||"Error al eliminar el proveedor",variant:"destructive"})}}),b=()=>{u({name:"",email:"",phone:"",contactPerson:"",address:"",website:"",specialties:[],serviceAreas:[],notes:"",isActive:!0,requiresAppointment:!1,rating:5}),f(""),p("")},N=E=>{i(E),u({name:E.name,email:E.email,phone:E.phone||"",contactPerson:E.contactPerson||"",address:E.address||"",website:E.website||"",specialties:E.specialties||[],serviceAreas:E.serviceAreas||[],notes:E.notes||"",isActive:E.isActive,requiresAppointment:E.requiresAppointment,rating:E.rating}),l(!0)},j=E=>{E.preventDefault(),a?w.mutate({id:a.id,data:c}):g.mutate(c)},S=()=>{d.trim()&&!c.specialties.includes(d.trim())&&(u(E=>({...E,specialties:[...E.specialties,d.trim()]})),f(""))},P=E=>{u(T=>({...T,specialties:T.specialties.filter(_=>_!==E)}))},C=()=>{h.trim()&&!c.serviceAreas.includes(h.trim())&&(u(E=>({...E,serviceAreas:[...E.serviceAreas,h.trim()]})),p(""))},A=E=>{u(T=>({...T,serviceAreas:T.serviceAreas.filter(_=>_!==E)}))};return s.jsx(Ir,{open:e,onOpenChange:t,children:s.jsxs(Sr,{className:"max-w-6xl max-h-[90vh] overflow-y-auto",children:[s.jsx(Nr,{children:s.jsxs(Pr,{className:"flex items-center gap-2",children:[s.jsx(wm,{className:"h-5 w-5 text-blue-600"}),"Gestión de Proveedores de Transporte"]})}),s.jsx("div",{className:"space-y-6",children:o?s.jsxs("form",{onSubmit:j,className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("h3",{className:"text-lg font-medium",children:[a?"Editar":"Nuevo"," Proveedor de Transporte"]}),s.jsx(re,{type:"button",variant:"outline",onClick:()=>{l(!1),b(),i(null)},children:"Cancelar"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(ge,{htmlFor:"name",children:"Nombre del Proveedor *"}),s.jsx(Ee,{id:"name",value:c.name,onChange:E=>u(T=>({...T,name:E.target.value})),required:!0})]}),s.jsxs("div",{children:[s.jsx(ge,{htmlFor:"email",children:"Email *"}),s.jsx(Ee,{id:"email",type:"email",value:c.email,onChange:E=>u(T=>({...T,email:E.target.value})),required:!0})]}),s.jsxs("div",{children:[s.jsx(ge,{htmlFor:"phone",children:"Teléfono"}),s.jsx(Ee,{id:"phone",value:c.phone,onChange:E=>u(T=>({...T,phone:E.target.value}))})]}),s.jsxs("div",{children:[s.jsx(ge,{htmlFor:"contactPerson",children:"Persona de Contacto"}),s.jsx(Ee,{id:"contactPerson",value:c.contactPerson,onChange:E=>u(T=>({...T,contactPerson:E.target.value}))})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(ge,{htmlFor:"website",children:"Sitio Web"}),s.jsx(Ee,{id:"website",value:c.website,onChange:E=>u(T=>({...T,website:E.target.value}))})]}),s.jsxs("div",{children:[s.jsx(ge,{htmlFor:"address",children:"Dirección"}),s.jsx(Ee,{id:"address",value:c.address,onChange:E=>u(T=>({...T,address:E.target.value}))})]}),s.jsxs("div",{children:[s.jsx(ge,{htmlFor:"rating",children:"Calificación (1-5)"}),s.jsx(Ee,{id:"rating",type:"number",min:"1",max:"5",value:c.rating,onChange:E=>u(T=>({...T,rating:parseInt(E.target.value)}))})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ep,{id:"isActive",checked:c.isActive,onCheckedChange:E=>u(T=>({...T,isActive:E}))}),s.jsx(ge,{htmlFor:"isActive",children:"Proveedor activo"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ep,{id:"requiresAppointment",checked:c.requiresAppointment,onCheckedChange:E=>u(T=>({...T,requiresAppointment:E}))}),s.jsx(ge,{htmlFor:"requiresAppointment",children:"Requiere cita previa"})]})]})]})]}),s.jsxs("div",{children:[s.jsx(ge,{children:"Especialidades"}),s.jsxs("div",{className:"flex gap-2 mb-2",children:[s.jsx(Ee,{placeholder:"Agregar especialidad...",value:d,onChange:E=>f(E.target.value),onKeyPress:E=>E.key==="Enter"&&(E.preventDefault(),S())}),s.jsx(re,{type:"button",onClick:S,children:s.jsx(Ka,{className:"h-4 w-4"})})]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:c.specialties.map((E,T)=>s.jsxs(Ze,{variant:"secondary",className:"cursor-pointer",onClick:()=>P(E),children:[E," ×"]},T))})]}),s.jsxs("div",{children:[s.jsx(ge,{children:"Áreas de Servicio"}),s.jsxs("div",{className:"flex gap-2 mb-2",children:[s.jsx(Ee,{placeholder:"Agregar área de servicio...",value:h,onChange:E=>p(E.target.value),onKeyPress:E=>E.key==="Enter"&&(E.preventDefault(),C())}),s.jsx(re,{type:"button",onClick:C,children:s.jsx(Ka,{className:"h-4 w-4"})})]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:c.serviceAreas.map((E,T)=>s.jsxs(Ze,{variant:"secondary",className:"cursor-pointer",onClick:()=>A(E),children:[E," ×"]},T))})]}),s.jsxs("div",{children:[s.jsx(ge,{htmlFor:"notes",children:"Notas"}),s.jsx(Za,{id:"notes",value:c.notes,onChange:E=>u(T=>({...T,notes:E.target.value})),rows:3})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(re,{type:"button",variant:"outline",onClick:()=>{l(!1),b(),i(null)},children:"Cancelar"}),s.jsxs(re,{type:"submit",disabled:g.isPending||w.isPending,children:[a?"Actualizar":"Crear"," Proveedor"]})]})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Gestiona tu base de datos de proveedores de transporte"}),s.jsxs(re,{onClick:()=>{b(),i(null),l(!0)},className:"flex items-center gap-2",children:[s.jsx(Ka,{className:"h-4 w-4"}),"Nuevo Proveedor"]})]}),m?s.jsx("div",{className:"text-center py-8",children:"Cargando proveedores..."}):x.length===0?s.jsx("div",{className:"text-center py-8 text-gray-500",children:"No hay proveedores registrados"}):s.jsx("div",{className:"border rounded-lg",children:s.jsxs(bT,{children:[s.jsx(wT,{children:s.jsxs(Kl,{children:[s.jsx(qn,{children:"Proveedor"}),s.jsx(qn,{children:"Contacto"}),s.jsx(qn,{children:"Especialidades"}),s.jsx(qn,{children:"Estado"}),s.jsx(qn,{children:"Calificación"}),s.jsx(qn,{children:"Acciones"})]})}),s.jsx(jT,{children:x.map(E=>{var T,_,O;return s.jsxs(Kl,{children:[s.jsx(mn,{children:s.jsxs("div",{children:[s.jsxs("div",{className:"font-medium flex items-center gap-2",children:[E.name,E.requiresAppointment&&s.jsxs(Ze,{variant:"outline",className:"text-xs",children:[s.jsx(ja,{className:"h-3 w-3 mr-1"}),"Requiere cita"]})]}),E.contactPerson&&s.jsx("div",{className:"text-sm text-gray-500",children:E.contactPerson})]})}),s.jsx(mn,{children:s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[s.jsx(hd,{className:"h-3 w-3"}),E.email]}),E.phone&&s.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[s.jsx(l6,{className:"h-3 w-3"}),E.phone]}),E.website&&s.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[s.jsx(Hee,{className:"h-3 w-3"}),s.jsx("a",{href:E.website,target:"_blank",rel:"noopener noreferrer",className:"hover:underline",children:"Sitio web"})]})]})}),s.jsx(mn,{children:s.jsxs("div",{className:"flex flex-wrap gap-1",children:[(T=E.specialties)==null?void 0:T.slice(0,2).map((M,L)=>s.jsx(Ze,{variant:"secondary",className:"text-xs",children:M},L)),(((_=E.specialties)==null?void 0:_.length)||0)>2&&s.jsxs(Ze,{variant:"outline",className:"text-xs",children:["+",(((O=E.specialties)==null?void 0:O.length)||0)-2," más"]})]})}),s.jsx(mn,{children:s.jsx(Ze,{variant:E.isActive?"default":"secondary",children:E.isActive?"Activo":"Inactivo"})}),s.jsx(mn,{children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(tte,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"}),s.jsxs("span",{className:"text-sm",children:[E.rating,"/5"]})]})}),s.jsx(mn,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(re,{size:"sm",variant:"outline",onClick:()=>N(E),children:s.jsx(ly,{className:"h-3 w-3"})}),s.jsx(re,{size:"sm",variant:"outline",onClick:()=>{confirm("¿Estás seguro de eliminar este proveedor?")&&y.mutate(E.id)},className:"text-red-600 hover:text-red-700",children:s.jsx(md,{className:"h-3 w-3"})})]})})]},E.id)})})]})})]})})]})})}const n3e=({status:e})=>{const r={pending:{label:"Pendiente",variant:"outline",color:"bg-blue-100 text-blue-800"},in_transit:{label:"En Tránsito",variant:"default",color:"bg-orange-100 text-orange-800"},delayed:{label:"Retrasado",variant:"destructive",color:"bg-red-100 text-red-800"},delivered:{label:"Entregado",variant:"success",color:"bg-green-100 text-green-800"},cancelled:{label:"Cancelado",variant:"secondary",color:"bg-gray-100 text-gray-800"}}[e]||{label:e,variant:"outline"};return s.jsx(Ze,{variant:r.variant,children:r.label})},a3e=({shipment:e,onCardClick:t,onRefresh:r,onTransportRequest:n})=>{const[a,i]=v.useState(!1),o=f=>{i(!0),f.dataTransfer.setData("shipment",JSON.stringify(e)),f.dataTransfer.effectAllowed="move"},l=()=>{i(!1)},c=f=>{!a&&!f.target.closest("button")&&(f.stopPropagation(),t(e))},u=f=>{switch(f){case"pending":return"border-l-slate-400";case"in_transit":return"border-l-amber-400";case"delivered":return"border-l-[#b5e951]";case"delayed":return"border-l-rose-400";case"cancelled":return"border-l-gray-400";default:return"border-l-gray-300"}},d=f=>{switch(f){case"delayed":return"🚨";case"in_transit":return"🚚";case"delivered":return"✅";case"cancelled":return"❌";default:return"📦"}};return s.jsxs("div",{className:`mb-3 cursor-move transition-all duration-200 border-l-4 rounded-lg p-3 bg-white border border-gray-200 ${u(e.status)} ${a?"opacity-50 shadow-xl scale-105":"hover:shadow-md hover:-translate-y-0.5"}`,draggable:!0,onDragStart:o,onDragEnd:l,onClick:c,children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("span",{className:"text-base",children:d(e.status)}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-semibold text-sm text-gray-900",children:e.purchaseOrderNumber||e.trackingCode}),s.jsx("div",{className:"text-xs text-gray-500",children:e.customerName})]}),s.jsx(Gee,{className:"h-3 w-3 text-gray-300"})]}),s.jsxs("div",{className:"mb-2",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:e.product}),s.jsxs("div",{className:"text-xs text-gray-500",children:[e.quantity," ",e.unit]})]}),s.jsxs("div",{className:"flex items-center gap-1 text-xs mb-2",children:[s.jsx("span",{className:"text-slate-600 font-medium truncate flex-1",children:e.origin}),s.jsx("span",{className:"text-gray-400 text-xs",children:"→"}),s.jsx("span",{className:"text-slate-700 font-medium truncate flex-1",children:e.destination})]}),e.estimatedDeliveryDate&&s.jsxs("div",{className:"text-xs text-gray-500",children:["📅 ",new Date(e.estimatedDeliveryDate).toLocaleDateString("es-ES",{day:"numeric",month:"short"})]}),e.status==="pending"&&s.jsx("div",{className:"mt-2 pt-2 border-t border-gray-100",children:s.jsx("button",{onClick:f=>{f.stopPropagation(),f.preventDefault(),n(e)},className:"w-full text-xs bg-blue-600 hover:bg-blue-700 text-white py-1.5 px-2 rounded transition-colors flex items-center justify-center gap-1 font-medium",children:"🚚 Solicitar transporte"})})]})},dh=({title:e,status:t,shipments:r,onDrop:n,onCardClick:a,onRefresh:i,onTransportRequest:o})=>{const[l,c]=v.useState(!1),u=r.filter(m=>m.status===t),d=m=>{m.preventDefault(),c(!0)},f=()=>{c(!1)},h=m=>{m.preventDefault(),c(!1);try{const g=m.dataTransfer.getData("shipment"),w=JSON.parse(g);w.status!==t&&n(w,t)}catch(g){console.error("Error al procesar el drop:",g)}},x=(m=>{switch(m){case"pending":return{color:"border-slate-200 bg-gradient-to-b from-slate-50/60 to-white",headerColor:"bg-slate-700 text-white",icon:"📋",description:"Listos para enviar"};case"in_transit":return{color:"border-amber-200 bg-gradient-to-b from-amber-50/60 to-white",headerColor:"bg-amber-700 text-white",icon:"🚚",description:"En camino"};case"delivered":return{color:"border-[#b5e951]/30 bg-gradient-to-b from-[#b5e951]/10 to-white",headerColor:"bg-[#6b7a00] text-white",icon:"✅",description:"Completados"};case"delayed":return{color:"border-rose-200 bg-gradient-to-b from-rose-50/60 to-white",headerColor:"bg-rose-700 text-white",icon:"⚠️",description:"Requieren atención"};case"cancelled":return{color:"border-gray-200 bg-gradient-to-b from-gray-50/60 to-white",headerColor:"bg-gray-700 text-white",icon:"❌",description:"Cancelados"};default:return{color:"border-gray-200 bg-gray-50/50",headerColor:"bg-gray-700 text-white",icon:"📦",description:"Envíos"}}})(t);return s.jsx("div",{className:"flex-1 min-w-80",children:s.jsxs(le,{className:`${x.color} ${l?"ring-2 ring-blue-400 ring-opacity-50 shadow-lg":""} transition-all duration-200`,onDragOver:d,onDragLeave:f,onDrop:h,children:[s.jsx(_e,{className:`${x.headerColor} rounded-t-lg -m-[1px] mb-3`,children:s.jsxs(ke,{className:"text-lg flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-xl",children:x.icon}),s.jsxs("div",{children:[s.jsx("div",{className:"font-bold",children:e}),s.jsx("div",{className:"text-xs opacity-80 font-normal",children:x.description})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ze,{variant:"secondary",className:"bg-white/20 text-white border-white/30",children:u.length}),u.length>0&&s.jsxs("div",{className:"text-xs opacity-80",children:[Math.round(u.length/r.length*100),"%"]})]})]})}),s.jsx(ce,{children:s.jsxs("div",{className:`space-y-3 max-h-96 overflow-y-auto transition-all ${l?"bg-blue-50 border-2 border-dashed border-blue-300 rounded-lg p-3":""}`,children:[u.map(m=>s.jsx(a3e,{shipment:m,onCardClick:a,onRefresh:i,onTransportRequest:o},m.id)),u.length===0&&s.jsxs("div",{className:"text-center text-gray-500 py-12",children:[s.jsx("div",{className:"text-4xl mb-2",children:x.icon}),s.jsx("div",{className:"text-sm font-medium",children:l?"Suelta la tarjeta aquí":"No hay envíos"}),s.jsx("div",{className:"text-xs opacity-75 mt-1",children:l?"para cambiar el estado":x.description.toLowerCase()})]})]})})]})})};function i3e(){var S,P,C,A,E;const{toast:e}=wn(),t=Vn(),[r,n]=v.useState({isOpen:!1,shipment:null}),[a,i]=v.useState({isOpen:!1,shipment:null}),[o,l]=v.useState(!1),[c,u]=v.useState(!1),[d,f]=v.useState({companyId:"1",trackingCode:"",customerName:"",customerEmail:"",product:"",quantity:"",unit:"kg",origin:"",destination:"",estimatedDeliveryDate:"",purchaseOrderNumber:""}),h=(T,_)=>{const O=T==="1"?"DUR":"ORS",M=new Date().getFullYear(),L=_.filter(D=>{const I=new Date(D.createdAt).getFullYear();return D.trackingCode.startsWith(O)&&I===M});let R=0;L.forEach(D=>{const I=D.trackingCode.match(new RegExp(`${O}-${M}-(\\d+)`));if(I){const B=parseInt(I[1]);B>R&&(R=B)}});const V=(R+1).toString().padStart(4,"0");return`${O}-${M}-${V}`},{data:p=[],isLoading:x}=$e({queryKey:["/api/shipments"]}),m=p.sort((T,_)=>new Date(_.createdAt).getTime()-new Date(T.createdAt).getTime());v.useEffect(()=>{if(d.companyId&&m){const T=h(d.companyId,m);T!==d.trackingCode&&f(_=>({..._,trackingCode:T,product:""}))}},[d.companyId,m.length]);const g=At({mutationFn:async({shipmentId:T,status:_})=>await Tu(`/api/shipments/${T}/status`,{method:"PUT",body:{status:_,sendNotification:!0,comments:`Estado actualizado mediante drag & drop a ${_}`}}),onSuccess:T=>{e({title:"Estado actualizado",description:T.notificationSent?"Se actualizó el estado y se envió notificación al cliente":"El estado se actualizó correctamente"}),t.invalidateQueries({queryKey:["/api/shipments"]})},onError:T=>{e({title:"Error",description:T.message||"Error al actualizar el estado",variant:"destructive"})}}),w=At({mutationFn:async T=>await Tu("/api/shipments",{method:"POST",body:{...T,quantity:T.quantity.toString(),carbonFootprint:"0",status:"pending",companyId:parseInt(T.companyId),estimatedDeliveryDate:T.estimatedDeliveryDate||null}}),onSuccess:()=>{e({title:"Envío creado",description:"El nuevo envío se ha registrado correctamente"}),t.invalidateQueries({queryKey:["/api/shipments"]}),u(!1);const T=h("1",m||[]);f({companyId:"1",trackingCode:T,customerName:"",customerEmail:"",product:"",quantity:"",unit:"kg",origin:"",destination:"",estimatedDeliveryDate:"",purchaseOrderNumber:""})},onError:T=>{e({title:"Error",description:T.message||"Error al crear el envío",variant:"destructive"})}}),y=(T,_)=>{g.mutate({shipmentId:T.id,status:_})},b=T=>{n({isOpen:!0,shipment:T})},N=T=>{i({isOpen:!0,shipment:T})},j=()=>{if(!d.trackingCode||!d.customerName||!d.product||!d.purchaseOrderNumber){e({title:"Campos requeridos",description:"Por favor completa todos los campos obligatorios incluyendo la orden de compra",variant:"destructive"});return}w.mutate(d)};return x?s.jsx("div",{className:"flex justify-center items-center py-16",children:s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-blue-200 border-t-blue-600 mx-auto"}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsx("div",{className:"text-lg",children:"🚚"})})]}),s.jsx("p",{className:"text-gray-700 mt-4 font-medium",children:"Cargando tablero de envíos..."}),s.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Preparando tu vista Kanban"})]})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[s.jsx(wm,{className:"h-6 w-6 text-slate-600"}),"Gestión de Envíos"]}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Arrastra las tarjetas entre columnas para actualizar el estado"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(re,{onClick:()=>l(!0),variant:"outline",className:"flex items-center gap-2",children:[s.jsx(wm,{className:"h-4 w-4"}),"Proveedores de transporte"]}),s.jsxs(re,{onClick:()=>u(!0),className:"flex items-center gap-2",children:[s.jsx(Ka,{className:"h-4 w-4"}),"Nuevo Envío"]})]})]}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-5 gap-3",children:[{status:"pending",label:"Pendientes",icon:"📋",color:"bg-slate-100 text-slate-700"},{status:"in_transit",label:"En Tránsito",icon:"🚚",color:"bg-amber-100 text-amber-700"},{status:"delivered",label:"Entregados",icon:"✅",color:"bg-[#b5e951]/20 text-[#6b7a00]"},{status:"delayed",label:"Retrasados",icon:"⚠️",color:"bg-rose-100 text-rose-700"},{status:"cancelled",label:"Cancelados",icon:"❌",color:"bg-gray-100 text-gray-700"}].map(T=>{const _=m.filter(O=>O.status===T.status).length;return s.jsxs("div",{className:`${T.color} rounded-lg p-3 text-center`,children:[s.jsx("div",{className:"text-lg",children:T.icon}),s.jsx("div",{className:"text-xl font-bold",children:_}),s.jsx("div",{className:"text-xs font-medium",children:T.label})]},T.status)})}),s.jsxs("div",{className:"flex gap-4 overflow-x-auto pb-4",children:[s.jsx(dh,{title:"Pendientes",status:"pending",shipments:m,onDrop:y,onCardClick:b,onRefresh:()=>t.invalidateQueries({queryKey:["/api/shipments"]}),onTransportRequest:N}),s.jsx(dh,{title:"En Tránsito",status:"in_transit",shipments:m,onDrop:y,onCardClick:b,onRefresh:()=>t.invalidateQueries({queryKey:["/api/shipments"]}),onTransportRequest:N}),s.jsx(dh,{title:"Entregados",status:"delivered",shipments:m,onDrop:y,onCardClick:b,onRefresh:()=>t.invalidateQueries({queryKey:["/api/shipments"]}),onTransportRequest:N}),s.jsx(dh,{title:"Retrasados",status:"delayed",shipments:m,onDrop:y,onCardClick:b,onRefresh:()=>t.invalidateQueries({queryKey:["/api/shipments"]}),onTransportRequest:N}),s.jsx(dh,{title:"Cancelados",status:"cancelled",shipments:m,onDrop:y,onCardClick:b,onRefresh:()=>t.invalidateQueries({queryKey:["/api/shipments"]}),onTransportRequest:N})]}),s.jsx(Ir,{open:c,onOpenChange:u,children:s.jsxs(Sr,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(Nr,{children:[s.jsxs(Pr,{className:"flex items-center gap-2",children:[s.jsx(Ka,{className:"h-5 w-5 text-slate-600"}),"Crear Nuevo Envío"]}),s.jsx(el,{children:"Completa la información del nuevo envío"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ge,{htmlFor:"companyId",children:"Empresa *"}),s.jsxs(Xe,{value:d.companyId,onValueChange:T=>{f(_=>({..._,companyId:T}))},children:[s.jsx(He,{children:s.jsx(Ye,{})}),s.jsxs(Ge,{children:[s.jsx(G,{value:"1",children:"Dura International"}),s.jsx(G,{value:"2",children:"Grupo Orsega"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ge,{htmlFor:"trackingCode",children:"Código de Seguimiento *"}),s.jsxs("div",{className:"relative",children:[s.jsx(Ee,{id:"trackingCode",value:d.trackingCode,readOnly:!0,className:"bg-gray-50 font-mono text-sm",placeholder:"Se generará automáticamente"}),s.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3",children:s.jsx("div",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded",children:"AUTO"})})]}),s.jsx("p",{className:"text-xs text-gray-500",children:"Se genera automáticamente según la empresa"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ge,{htmlFor:"customerName",children:"Nombre del Cliente *"}),s.jsx(Ee,{id:"customerName",value:d.customerName,onChange:T=>f(_=>({..._,customerName:T.target.value})),placeholder:"Nombre completo del cliente"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ge,{htmlFor:"customerEmail",children:"Email del Cliente"}),s.jsx(Ee,{id:"customerEmail",type:"email",value:d.customerEmail,onChange:T=>f(_=>({..._,customerEmail:T.target.value})),placeholder:"email@cliente.com"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ge,{htmlFor:"purchaseOrderNumber",children:"Orden de Compra *"}),s.jsx(Ee,{id:"purchaseOrderNumber",value:d.purchaseOrderNumber,onChange:T=>f(_=>({..._,purchaseOrderNumber:T.target.value})),placeholder:"Número de orden de compra",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ge,{htmlFor:"product",children:"Producto *"}),s.jsxs(Xe,{value:d.product,onValueChange:T=>f(_=>({..._,product:T})),children:[s.jsx(He,{children:s.jsx(Ye,{placeholder:"Selecciona un producto"})}),s.jsx(Ge,{children:d.companyId==="1"?s.jsxs(s.Fragment,{children:[s.jsx(G,{value:"Pinturas y Recubrimientos",children:"Pinturas y Recubrimientos"}),s.jsx(G,{value:"Impresión de Tintas",children:"Impresión de Tintas"}),s.jsx(G,{value:"Resina de Poliéster Insaturado",children:"Resina de Poliéster Insaturado"}),s.jsx(G,{value:"Catalizadores de Poliuretano",children:"Catalizadores de Poliuretano"}),s.jsx(G,{value:"Productos Químicos y Petroquímicos",children:"Productos Químicos y Petroquímicos"}),s.jsx(G,{value:"Aditivos de Combustible",children:"Aditivos de Combustible"}),s.jsx(G,{value:"Lubricantes y Grasas",children:"Lubricantes y Grasas"})]}):s.jsxs(s.Fragment,{children:[s.jsx(G,{value:"Catalizadores de Hidrogenación",children:"Catalizadores de Hidrogenación"}),s.jsx(G,{value:"Ácidos Grasos",children:"Ácidos Grasos"}),s.jsx(G,{value:"Catalizadores Alcóxidos",children:"Catalizadores Alcóxidos"}),s.jsx(G,{value:"Solventes",children:"Solventes"}),s.jsx(G,{value:"Aceites de Procesos",children:"Aceites de Procesos"}),s.jsx(G,{value:"Otros",children:"Otros"}),s.jsx(G,{value:"Sebos y Complementos",children:"Sebos y Complementos"}),s.jsx(G,{value:"Catalizadores Gastados",children:"Catalizadores Gastados"})]})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ge,{htmlFor:"quantity",children:"Cantidad"}),s.jsx(Ee,{id:"quantity",type:"number",value:d.quantity,onChange:T=>f(_=>({..._,quantity:T.target.value})),placeholder:"0"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ge,{htmlFor:"unit",children:"Unidad"}),s.jsxs(Xe,{value:d.unit,onValueChange:T=>f(_=>({..._,unit:T})),children:[s.jsx(He,{children:s.jsx(Ye,{})}),s.jsxs(Ge,{children:[s.jsx(G,{value:"kg",children:"Kilogramos (kg)"}),s.jsx(G,{value:"toneladas",children:"Toneladas"}),s.jsx(G,{value:"piezas",children:"Piezas"}),s.jsx(G,{value:"cajas",children:"Cajas"}),s.jsx(G,{value:"litros",children:"Litros"})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ge,{htmlFor:"origin",children:"Origen"}),s.jsx(Ee,{id:"origin",value:d.origin,onChange:T=>f(_=>({..._,origin:T.target.value})),placeholder:"Ciudad/Estado de origen"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ge,{htmlFor:"destination",children:"Destino"}),s.jsx(Ee,{id:"destination",value:d.destination,onChange:T=>f(_=>({..._,destination:T.target.value})),placeholder:"Ciudad/Estado de destino"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ge,{htmlFor:"estimatedDeliveryDate",children:"Fecha Estimada de Entrega"}),s.jsx(Ee,{id:"estimatedDeliveryDate",type:"date",value:d.estimatedDeliveryDate,onChange:T=>f(_=>({..._,estimatedDeliveryDate:T.target.value}))})]})]}),s.jsxs(F0,{className:"gap-2",children:[s.jsx(re,{variant:"outline",onClick:()=>u(!1),children:"Cancelar"}),s.jsx(re,{onClick:j,disabled:w.isPending,children:w.isPending?"Creando...":"Crear Envío"})]})]})}),s.jsx(Ir,{open:r.isOpen,onOpenChange:T=>!T&&n({isOpen:!1,shipment:null}),children:s.jsxs(Sr,{className:"max-w-2xl",children:[s.jsxs(Nr,{children:[s.jsxs(Pr,{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-xl",children:((S=r.shipment)==null?void 0:S.status)==="in_transit"?"🚚":((P=r.shipment)==null?void 0:P.status)==="delivered"?"✅":((C=r.shipment)==null?void 0:C.status)==="delayed"?"⚠️":((A=r.shipment)==null?void 0:A.status)==="cancelled"?"❌":"📦"}),"Detalles del Envío"]}),s.jsxs(el,{children:["Información completa del envío ",(E=r.shipment)==null?void 0:E.trackingCode]})]}),r.shipment&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Código de seguimiento"}),s.jsx("p",{className:"text-lg font-bold text-gray-900",children:r.shipment.trackingCode})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Cliente"}),s.jsx("p",{className:"text-base text-gray-900",children:r.shipment.customerName}),r.shipment.customerEmail&&s.jsx("p",{className:"text-sm text-gray-600",children:r.shipment.customerEmail})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Estado actual"}),s.jsx("div",{className:"mt-1",children:s.jsx(n3e,{status:r.shipment.status})})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Producto"}),s.jsx("p",{className:"text-base text-gray-900",children:r.shipment.product})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Cantidad"}),s.jsxs("p",{className:"text-base text-gray-900",children:[r.shipment.quantity," ",r.shipment.unit]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Orden de Compra"}),s.jsx("p",{className:"text-base text-gray-900",children:r.shipment.purchaseOrderNumber||"No especificada"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Fecha de creación"}),s.jsx("p",{className:"text-base text-gray-900",children:new Date(r.shipment.createdAt).toLocaleDateString("es-ES",{day:"numeric",month:"short",year:"numeric"})})]})]})]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsxs("h4",{className:"font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[s.jsx(oy,{className:"h-4 w-4"}),"Información de Envío"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Origen"}),s.jsx("p",{className:"text-base text-gray-900",children:r.shipment.origin})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Destino"}),s.jsx("p",{className:"text-base text-gray-900",children:r.shipment.destination})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Fecha estimada de entrega"}),s.jsx("p",{className:"text-base text-gray-900",children:r.shipment.estimatedDeliveryDate?new Date(r.shipment.estimatedDeliveryDate).toLocaleDateString("es-ES",{weekday:"long",year:"numeric",month:"long",day:"numeric"}):"No programada"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-600",children:"Fecha de creación"}),s.jsx("p",{className:"text-base text-gray-900",children:new Date(r.shipment.createdAt).toLocaleDateString("es-ES",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]})]})]}),s.jsxs("div",{className:"flex gap-2 pt-4 border-t",children:[s.jsx(re,{variant:"outline",onClick:()=>n({isOpen:!1,shipment:null}),className:"flex-1",children:"Cerrar"}),s.jsx(re,{onClick:()=>{n({isOpen:!1,shipment:null})},className:"flex-1",children:"Editar Envío"})]})]})]})}),a.shipment&&s.jsx(GFe,{isOpen:a.isOpen,onClose:()=>i({isOpen:!1,shipment:null}),shipment:a.shipment,onSuccess:()=>{i({isOpen:!1,shipment:null}),t.invalidateQueries({queryKey:["/api/shipments"]})}}),s.jsx(r3e,{isOpen:o,onClose:()=>l(!1)})]})}function s3e(){wn();const{data:e,isLoading:t}=$e({queryKey:["/api/companies"]}),{data:r,isLoading:n}=$e({queryKey:["/api/shipments"]});return s.jsx("div",{className:"min-h-screen bg-gray-50 p-4",children:s.jsx("div",{className:"max-w-7xl mx-auto",children:s.jsx(i3e,{})})})}function o3e(){return s.jsx(Qa,{title:"Trazabilidad de Envíos",children:s.jsx(s3e,{})})}const Vj=[{name:"Nextipac",code:"Nextipac, Jalisco",frequent:!0},{name:"Altamira",code:"Altamira, Tamaulipas",frequent:!0},{name:"Bodega Principal Dura",code:"CDMX",frequent:!0},{name:"Centro Distribución Norte",code:"Nuevo León",frequent:!0},{name:"Planta Química Dura",code:"Querétaro",frequent:!0},{name:"Centro Logístico Orsega",code:"Jalisco",frequent:!0},{name:"Terminal de Cargas Tampico",code:"Tamaulipas",frequent:!0},{name:"Centro Operativo Sur",code:"Puebla",frequent:!0},{name:"Ciudad de México",code:"CDMX"},{name:"Guadalajara",code:"Jalisco"},{name:"Monterrey",code:"Nuevo León"},{name:"Puebla",code:"Puebla"},{name:"Tijuana",code:"Baja California"},{name:"León",code:"Guanajuato"},{name:"Juárez",code:"Chihuahua"},{name:"Cancún",code:"Quintana Roo"},{name:"Mérida",code:"Yucatán"},{name:"Villahermosa",code:"Tabasco"}];function SR({placeholder:e,value:t,onChange:r,name:n,disabled:a=!1}){const[i,o]=v.useState(!1),[l,c]=v.useState(t||"");v.useEffect(()=>{c(t||"")},[t]);const u=g=>{const w=g.target.value;c(w),r(w)},d=g=>{const w=`${g.name}`;c(w),r(w),o(!1)},f=l.toLowerCase().trim(),h=f.length>0,p=h?Vj.filter(g=>g.frequent&&(g.name.toLowerCase().includes(f)||g.code.toLowerCase().includes(f))):Vj.filter(g=>g.frequent),x=h?Vj.filter(g=>!g.frequent&&(g.name.toLowerCase().includes(f)||g.code.toLowerCase().includes(f))):[],m=p.length>0||x.length>0;return s.jsxs("div",{className:"relative w-full",children:[s.jsx(mt,{children:s.jsxs("div",{className:"relative",children:[s.jsx(Ee,{placeholder:e,value:l,onChange:u,onFocus:()=>o(!0),onBlur:()=>setTimeout(()=>o(!1),200),disabled:a,name:n,autoComplete:"off",className:"w-full pr-10"}),l&&s.jsx(re,{type:"button",variant:"ghost",size:"sm",className:"absolute right-2 top-1/2 -translate-y-1/2 h-6 w-6 p-0 hover:bg-transparent",onClick:()=>{c(""),r("")},children:s.jsx(_0,{className:"h-4 w-4 text-muted-foreground hover:text-foreground"})})]})}),i&&m&&s.jsxs("div",{className:"absolute z-50 w-full mt-1 bg-white border rounded-md shadow-lg max-h-64 overflow-y-auto",children:[p.length>0&&s.jsxs("div",{className:"p-2",children:[s.jsx("div",{className:"text-xs font-medium text-muted-foreground mb-2",children:"Ubicaciones Frecuentes"}),p.map((g,w)=>s.jsxs("button",{type:"button",className:"w-full text-left px-3 py-2 text-sm hover:bg-gray-100 rounded-md flex items-center",onClick:()=>d(g),children:[s.jsx(oy,{className:"mr-2 h-4 w-4 text-primary"}),s.jsx("span",{className:"font-medium",children:g.name}),s.jsx("span",{className:"ml-auto text-xs text-muted-foreground",children:g.code})]},`frequent-${w}`))]}),x.length>0&&s.jsxs("div",{className:"p-2 border-t",children:[s.jsx("div",{className:"text-xs font-medium text-muted-foreground mb-2",children:"Otras Ubicaciones"}),x.map((g,w)=>s.jsxs("button",{type:"button",className:"w-full text-left px-3 py-2 text-sm hover:bg-gray-100 rounded-md flex items-center",onClick:()=>d(g),children:[s.jsx(oy,{className:"mr-2 h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"font-medium",children:g.name}),s.jsx("span",{className:"ml-auto text-xs text-muted-foreground",children:g.code})]},`other-${w}`))]}),s.jsx("div",{className:"p-2 border-t bg-gray-50 text-xs text-muted-foreground",children:"💡 Escribe libremente cualquier ubicación. Las sugerencias son opcionales."})]})]})}const NR={"01000":{lat:19.3356,lng:-99.2045},44100:{lat:20.6597,lng:-103.3496},44130:{lat:20.7238,lng:-103.3844},44160:{lat:20.6403,lng:-103.3101},64e3:{lat:25.6866,lng:-100.3161},72e3:{lat:19.0414,lng:-98.2063},2e4:{lat:21.8818,lng:-102.2916},22e3:{lat:32.5027,lng:-117.0037},83e3:{lat:29.0729,lng:-110.9559},78e3:{lat:22.1565,lng:-100.9855},97e3:{lat:20.9674,lng:-89.5926},91e3:{lat:19.5438,lng:-96.9102},58e3:{lat:19.706,lng:-101.195},62e3:{lat:18.9242,lng:-99.2216},29e3:{lat:16.7569,lng:-93.1292},42e3:{lat:20.1168,lng:-98.7332},76e3:{lat:20.5888,lng:-100.3899},31e3:{lat:28.6353,lng:-106.0889},34e3:{lat:24.0277,lng:-104.6532},86e3:{lat:17.9904,lng:-92.9304},89600:{lat:22.4025,lng:-97.9297},45200:{lat:20.7503,lng:-103.45}};function PR(e){let t=e.match(/\(CP:\s*(\d+)\)/);return t||(t=e.match(/\((\d{5})\)/),t)?t[1]:(t=e.match(/\b(\d{5})\b/),t?t[1]:null)}function l3e(e,t,r,n){const i=ov(r-e),o=ov(n-t),l=Math.sin(i/2)*Math.sin(i/2)+Math.cos(ov(e))*Math.cos(ov(r))*Math.sin(o/2)*Math.sin(o/2),u=6371*(2*Math.atan2(Math.sqrt(l),Math.sqrt(1-l)));return Math.round(u)}function ov(e){return e*(Math.PI/180)}function CR(e,t){const r=PR(e),n=PR(t);if(!r||!n)return e.toLowerCase().includes("méxico")&&(t.toLowerCase().includes("tijuana")||t.toLowerCase().includes("juárez")||t.toLowerCase().includes("juarez")||t.toLowerCase().includes("nuevo laredo"))||t.toLowerCase().includes("méxico")&&(e.toLowerCase().includes("tijuana")||e.toLowerCase().includes("juárez")||e.toLowerCase().includes("juarez")||e.toLowerCase().includes("nuevo laredo"))?1800:e.toLowerCase().includes("guadalajara")&&t.toLowerCase().includes("monterrey")||t.toLowerCase().includes("guadalajara")&&e.toLowerCase().includes("monterrey")?850:e.toLowerCase().includes("méxico")&&t.toLowerCase().includes("guadalajara")||t.toLowerCase().includes("méxico")&&e.toLowerCase().includes("guadalajara")?550:e.toLowerCase().includes("méxico")&&t.toLowerCase().includes("monterrey")||t.toLowerCase().includes("méxico")&&e.toLowerCase().includes("monterrey")?900:e&&t?300:null;const a=NR[r],i=NR[n];return!a||!i?350:l3e(a.lat,a.lng,i.lat,i.lng)}const ne=Symbol.for("drizzle:entityKind");function Jr(e,t){if(!e||typeof e!="object")return!1;if(e instanceof t)return!0;if(!Object.prototype.hasOwnProperty.call(t,ne))throw new Error(`Class "${t.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let r=Object.getPrototypeOf(e).constructor;if(r)for(;r;){if(ne in r&&r[ne]===t[ne])return!0;r=Object.getPrototypeOf(r)}return!1}var a$;a$=ne;class ef{constructor(t,r){z(this,"name");z(this,"keyAsName");z(this,"primary");z(this,"notNull");z(this,"default");z(this,"defaultFn");z(this,"onUpdateFn");z(this,"hasDefault");z(this,"isUnique");z(this,"uniqueName");z(this,"uniqueType");z(this,"dataType");z(this,"columnType");z(this,"enumValues");z(this,"generated");z(this,"generatedIdentity");z(this,"config");this.table=t,this.config=r,this.name=r.name,this.keyAsName=r.keyAsName,this.notNull=r.notNull,this.default=r.default,this.defaultFn=r.defaultFn,this.onUpdateFn=r.onUpdateFn,this.hasDefault=r.hasDefault,this.primary=r.primaryKey,this.isUnique=r.isUnique,this.uniqueName=r.uniqueName,this.uniqueType=r.uniqueType,this.dataType=r.dataType,this.columnType=r.columnType,this.generated=r.generated,this.generatedIdentity=r.generatedIdentity}mapFromDriverValue(t){return t}mapToDriverValue(t){return t}shouldDisableInsert(){return this.config.generated!==void 0&&this.config.generated.type!=="byDefault"}}z(ef,a$,"Column");var i$;i$=ne;class gH{constructor(t,r,n){z(this,"config");z(this,"$default",this.$defaultFn);z(this,"$onUpdate",this.$onUpdateFn);this.config={name:t,keyAsName:t==="",notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:r,columnType:n,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(t){return this.config.default=t,this.config.hasDefault=!0,this}$defaultFn(t){return this.config.defaultFn=t,this.config.hasDefault=!0,this}$onUpdateFn(t){return this.config.onUpdateFn=t,this.config.hasDefault=!0,this}primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(t){this.config.name===""&&(this.config.name=t)}}z(gH,i$,"ColumnBuilder");const Vu=Symbol.for("drizzle:Name");var s$;s$=ne;class vH{constructor(t,r){z(this,"reference");z(this,"_onUpdate","no action");z(this,"_onDelete","no action");this.reference=()=>{const{name:n,columns:a,foreignColumns:i}=t();return{name:n,columns:a,foreignTable:i[0].table,foreignColumns:i}},r&&(this._onUpdate=r.onUpdate,this._onDelete=r.onDelete)}onUpdate(t){return this._onUpdate=t===void 0?"no action":t,this}onDelete(t){return this._onDelete=t===void 0?"no action":t,this}build(t){return new yH(t,this)}}z(vH,s$,"PgForeignKeyBuilder");var o$;o$=ne;class yH{constructor(t,r){z(this,"reference");z(this,"onUpdate");z(this,"onDelete");this.table=t,this.reference=r.reference,this.onUpdate=r._onUpdate,this.onDelete=r._onDelete}getName(){const{name:t,columns:r,foreignColumns:n}=this.reference(),a=r.map(l=>l.name),i=n.map(l=>l.name),o=[this.table[Vu],...a,n[0].table[Vu],...i];return t??`${o.join("_")}_fk`}}z(yH,o$,"PgForeignKey");function c3e(e,...t){return e(...t)}function u3e(e,t){return`${e[Vu]}_${t.join("_")}_unique`}function AR(e,t,r){for(let n=t;n<e.length;n++){const a=e[n];if(a==="\\"){n++;continue}if(a==='"')return[e.slice(t,n).replace(/\\/g,""),n+1];if(!r&&(a===","||a==="}"))return[e.slice(t,n).replace(/\\/g,""),n]}return[e.slice(t).replace(/\\/g,""),e.length]}function xH(e,t=0){const r=[];let n=t,a=!1;for(;n<e.length;){const i=e[n];if(i===","){(a||n===t)&&r.push(""),a=!0,n++;continue}if(a=!1,i==="\\"){n+=2;continue}if(i==='"'){const[c,u]=AR(e,n+1,!0);r.push(c),n=u;continue}if(i==="}")return[r,n+1];if(i==="{"){const[c,u]=xH(e,n+1);r.push(c),n=u;continue}const[o,l]=AR(e,n,!1);r.push(o),n=l}return[r,n]}function d3e(e){const[t]=xH(e,1);return t}function bH(e){return`{${e.map(t=>Array.isArray(t)?bH(t):typeof t=="string"?`"${t.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${t}`).join(",")}}`}var l$,c$;class wt extends(c$=gH,l$=ne,c$){constructor(){super(...arguments);z(this,"foreignKeyConfigs",[])}array(r){return new jH(this.config.name,this,r)}references(r,n={}){return this.foreignKeyConfigs.push({ref:r,actions:n}),this}unique(r,n){return this.config.isUnique=!0,this.config.uniqueName=r,this.config.uniqueType=n==null?void 0:n.nulls,this}generatedAlwaysAs(r){return this.config.generated={as:r,type:"always",mode:"stored"},this}buildForeignKeys(r,n){return this.foreignKeyConfigs.map(({ref:a,actions:i})=>c3e((o,l)=>{const c=new vH(()=>{const u=o();return{columns:[r],foreignColumns:[u]}});return l.onUpdate&&c.onUpdate(l.onUpdate),l.onDelete&&c.onDelete(l.onDelete),c.build(n)},a,i))}buildExtraConfigColumn(r){return new wH(r,this.config)}}z(wt,l$,"PgColumnBuilder");var u$,d$;class nt extends(d$=ef,u$=ne,d$){constructor(t,r){r.uniqueName||(r.uniqueName=u3e(t,[r.name])),super(t,r),this.table=t}}z(nt,u$,"PgColumn");var f$,h$;class wH extends(h$=nt,f$=ne,h$){constructor(){super(...arguments);z(this,"indexConfig",{order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass});z(this,"defaultConfig",{order:"asc",nulls:"last",opClass:void 0})}getSQLType(){return this.getSQLType()}asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(r){return this.indexConfig.opClass=r,this}}z(wH,f$,"ExtraConfigColumn");var m$,p$;class jH extends(p$=wt,m$=ne,p$){constructor(t,r,n){super(t,"array","PgArray"),this.config.baseBuilder=r,this.config.size=n}build(t){const r=this.config.baseBuilder.build(t);return new wP(t,this.config,r)}}z(jH,m$,"PgArrayBuilder");var g$,v$;const s0=class s0 extends(v$=nt,g$=ne,v$){constructor(r,n,a,i){super(r,n);z(this,"size");this.baseColumn=a,this.range=i,this.size=n.size}getSQLType(){return`${this.baseColumn.getSQLType()}[${typeof this.size=="number"?this.size:""}]`}mapFromDriverValue(r){return typeof r=="string"&&(r=d3e(r)),r.map(n=>this.baseColumn.mapFromDriverValue(n))}mapToDriverValue(r,n=!1){const a=r.map(i=>i===null?null:Jr(this.baseColumn,s0)?this.baseColumn.mapToDriverValue(i,!0):this.baseColumn.mapToDriverValue(i));return n?a:bH(a)}};z(s0,g$,"PgArray");let wP=s0;const jP=Symbol.for("drizzle:isPgEnum");function f3e(e){return!!e&&typeof e=="function"&&jP in e&&e[jP]===!0}var y$,x$;class SH extends(x$=wt,y$=ne,x$){constructor(t,r){super(t,"string","PgEnumColumn"),this.config.enum=r}build(t){return new NH(t,this.config)}}z(SH,y$,"PgEnumColumnBuilder");var b$,w$;class NH extends(w$=nt,b$=ne,w$){constructor(r,n){super(r,n);z(this,"enum",this.config.enum);z(this,"enumValues",this.config.enum.enumValues);this.enum=n.enum}getSQLType(){return this.enum.enumName}}z(NH,b$,"PgEnumColumn");function PH(e,t){return h3e(e,t,void 0)}function h3e(e,t,r){const n=Object.assign(a=>new SH(a??"",n),{enumName:e,enumValues:t,schema:r,[jP]:!0});return n}var j$;j$=ne;class ST{constructor(t,r,n,a=!1){this._={brand:"Subquery",sql:t,selectedFields:r,alias:n,isWith:a}}}z(ST,j$,"Subquery");const m3e={startActiveSpan(e,t){return t()}},zu=Symbol.for("drizzle:ViewBaseConfig"),zj=Symbol.for("drizzle:Schema"),ER=Symbol.for("drizzle:Columns"),TR=Symbol.for("drizzle:ExtraConfigColumns"),Bj=Symbol.for("drizzle:OriginalName"),Uj=Symbol.for("drizzle:BaseName"),Bx=Symbol.for("drizzle:IsAlias"),_R=Symbol.for("drizzle:ExtraConfigBuilder"),CH=Symbol.for("drizzle:IsDrizzleTable");var S$,N$,P$,C$,A$,E$,T$,_$,O$,k$;k$=ne,O$=Vu,_$=Bj,T$=zj,E$=ER,A$=TR,C$=Uj,P$=Bx,N$=CH,S$=_R;class On{constructor(t,r,n){z(this,O$);z(this,_$);z(this,T$);z(this,E$);z(this,A$);z(this,C$);z(this,P$,!1);z(this,N$,!0);z(this,S$);this[Vu]=this[Bj]=t,this[zj]=r,this[Uj]=n}}z(On,k$,"Table"),z(On,"Symbol",{Name:Vu,Schema:zj,OriginalName:Bj,Columns:ER,ExtraConfigColumns:TR,BaseName:Uj,IsAlias:Bx,ExtraConfigBuilder:_R});function AH(e){return typeof e=="object"&&e!==null&&CH in e}function p3e(e){return e!=null&&typeof e.getSQL=="function"}function g3e(e){var r;const t={sql:"",params:[]};for(const n of e)t.sql+=n.sql,t.params.push(...n.params),(r=n.typings)!=null&&r.length&&(t.typings||(t.typings=[]),t.typings.push(...n.typings));return t}var D$;D$=ne;class Ra{constructor(t){z(this,"value");this.value=Array.isArray(t)?t:[t]}getSQL(){return new $r([this])}}z(Ra,D$,"StringChunk");var M$;M$=ne;const kl=class kl{constructor(t){z(this,"decoder",EH);z(this,"shouldInlineParams",!1);this.queryChunks=t}append(t){return this.queryChunks.push(...t.queryChunks),this}toQuery(t){return m3e.startActiveSpan("drizzle.buildSQL",r=>{const n=this.buildQueryFromSourceParams(this.queryChunks,t);return r==null||r.setAttributes({"drizzle.query.text":n.sql,"drizzle.query.params":JSON.stringify(n.params)}),n})}buildQueryFromSourceParams(t,r){const n=Object.assign({},r,{inlineParams:r.inlineParams||this.shouldInlineParams,paramStartIndex:r.paramStartIndex||{value:0}}),{casing:a,escapeName:i,escapeParam:o,prepareTyping:l,inlineParams:c,paramStartIndex:u}=n;return g3e(t.map(d=>{var f;if(Jr(d,Ra))return{sql:d.value.join(""),params:[]};if(Jr(d,Ux))return{sql:i(d.value),params:[]};if(d===void 0)return{sql:"",params:[]};if(Array.isArray(d)){const h=[new Ra("(")];for(const[p,x]of d.entries())h.push(x),p<d.length-1&&h.push(new Ra(", "));return h.push(new Ra(")")),this.buildQueryFromSourceParams(h,n)}if(Jr(d,kl))return this.buildQueryFromSourceParams(d.queryChunks,{...n,inlineParams:c||d.shouldInlineParams});if(Jr(d,On)){const h=d[On.Symbol.Schema],p=d[On.Symbol.Name];return{sql:h===void 0||d[Bx]?i(p):i(h)+"."+i(p),params:[]}}if(Jr(d,ef)){const h=a.getColumnCasing(d);if(r.invokeSource==="indexes")return{sql:i(h),params:[]};const p=d.table[On.Symbol.Schema];return{sql:d.table[Bx]||p===void 0?i(d.table[On.Symbol.Name])+"."+i(h):i(p)+"."+i(d.table[On.Symbol.Name])+"."+i(h),params:[]}}if(Jr(d,OH)){const h=d[zu].schema,p=d[zu].name;return{sql:h===void 0||d[zu].isAlias?i(p):i(h)+"."+i(p),params:[]}}if(Jr(d,NT)){if(Jr(d.value,qx))return{sql:o(u.value++,d),params:[d],typings:["none"]};const h=d.value===null?null:d.encoder.mapToDriverValue(d.value);if(Jr(h,kl))return this.buildQueryFromSourceParams([h],n);if(c)return{sql:this.mapInlineParam(h,n),params:[]};let p=["none"];return l&&(p=[l(d.encoder)]),{sql:o(u.value++,h),params:[h],typings:p}}return Jr(d,qx)?{sql:o(u.value++,d),params:[d],typings:["none"]}:Jr(d,kl.Aliased)&&d.fieldAlias!==void 0?{sql:i(d.fieldAlias),params:[]}:Jr(d,ST)?d._.isWith?{sql:i(d._.alias),params:[]}:this.buildQueryFromSourceParams([new Ra("("),d._.sql,new Ra(") "),new Ux(d._.alias)],n):f3e(d)?d.schema?{sql:i(d.schema)+"."+i(d.enumName),params:[]}:{sql:i(d.enumName),params:[]}:p3e(d)?(f=d.shouldOmitSQLParens)!=null&&f.call(d)?this.buildQueryFromSourceParams([d.getSQL()],n):this.buildQueryFromSourceParams([new Ra("("),d.getSQL(),new Ra(")")],n):c?{sql:this.mapInlineParam(d,n),params:[]}:{sql:o(u.value++,d),params:[d],typings:["none"]}}))}mapInlineParam(t,{escapeString:r}){if(t===null)return"null";if(typeof t=="number"||typeof t=="boolean")return t.toString();if(typeof t=="string")return r(t);if(typeof t=="object"){const n=t.toString();return r(n==="[object Object]"?JSON.stringify(t):n)}throw new Error("Unexpected param value: "+t)}getSQL(){return this}as(t){return t===void 0?this:new kl.Aliased(this,t)}mapWith(t){return this.decoder=typeof t=="function"?{mapFromDriverValue:t}:t,this}inlineParams(){return this.shouldInlineParams=!0,this}if(t){return t?this:void 0}};z(kl,M$,"SQL");let $r=kl;var I$;I$=ne;class Ux{constructor(t){z(this,"brand");this.value=t}getSQL(){return new $r([this])}}z(Ux,I$,"Name");const EH={mapFromDriverValue:e=>e},TH={mapToDriverValue:e=>e};({...EH,...TH});var R$;R$=ne;class NT{constructor(t,r=TH){z(this,"brand");this.value=t,this.encoder=r}getSQL(){return new $r([this])}}z(NT,R$,"Param");function Kx(e,...t){const r=[];(t.length>0||e.length>0&&e[0]!=="")&&r.push(new Ra(e[0]));for(const[n,a]of t.entries())r.push(a,new Ra(e[n+1]));return new $r(r)}(e=>{function t(){return new $r([])}e.empty=t;function r(c){return new $r(c)}e.fromList=r;function n(c){return new $r([new Ra(c)])}e.raw=n;function a(c,u){const d=[];for(const[f,h]of c.entries())f>0&&u!==void 0&&d.push(u),d.push(h);return new $r(d)}e.join=a;function i(c){return new Ux(c)}e.identifier=i;function o(c){return new qx(c)}e.placeholder=o;function l(c,u){return new NT(c,u)}e.param=l})(Kx||(Kx={}));(e=>{var r;r=ne;const n=class n{constructor(i,o){z(this,"isSelectionField",!1);this.sql=i,this.fieldAlias=o}getSQL(){return this.sql}clone(){return new n(this.sql,this.fieldAlias)}};z(n,r,"SQL.Aliased");let t=n;e.Aliased=t})($r||($r={}));var $$;$$=ne;class qx{constructor(t){this.name=t}getSQL(){return new $r([this])}}z(qx,$$,"Placeholder");const _H=Symbol.for("drizzle:IsDrizzleView");var L$,F$,V$;V$=ne,F$=zu,L$=_H;class OH{constructor({name:t,schema:r,selectedFields:n,query:a}){z(this,F$);z(this,L$,!0);this[zu]={name:t,originalName:t,schema:r,selectedFields:n,query:a,isExisting:!a,isAlias:!1}}getSQL(){return new $r([this])}}z(OH,V$,"View");function v3e(e){return typeof e=="object"&&e!==null&&_H in e}ef.prototype.getSQL=function(){return new $r([this])};On.prototype.getSQL=function(){return new $r([this])};ST.prototype.getSQL=function(){return new $r([this])};function y3e(e){return e[On.Symbol.Columns]}function x3e(e){return e[zu].selectedFields}function Hr(e,t){return{name:typeof e=="string"&&e.length>0?e:"",config:typeof e=="object"?e:t}}var z$,B$;class og extends(B$=wt,z$=ne,B$){generatedAlwaysAsIdentity(t){if(t){const{name:r,...n}=t;this.config.generatedIdentity={type:"always",sequenceName:r,sequenceOptions:n}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(t){if(t){const{name:r,...n}=t;this.config.generatedIdentity={type:"byDefault",sequenceName:r,sequenceOptions:n}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}}z(og,z$,"PgIntColumnBaseBuilder");var U$,K$;class kH extends(K$=og,U$=ne,K$){constructor(t){super(t,"number","PgBigInt53")}build(t){return new DH(t,this.config)}}z(kH,U$,"PgBigInt53Builder");var q$,W$;class DH extends(W$=nt,q$=ne,W$){getSQLType(){return"bigint"}mapFromDriverValue(t){return typeof t=="number"?t:Number(t)}}z(DH,q$,"PgBigInt53");var H$,G$;class MH extends(G$=og,H$=ne,G$){constructor(t){super(t,"bigint","PgBigInt64")}build(t){return new IH(t,this.config)}}z(MH,H$,"PgBigInt64Builder");var X$,Y$;class IH extends(Y$=nt,X$=ne,Y$){getSQLType(){return"bigint"}mapFromDriverValue(t){return BigInt(t)}}z(IH,X$,"PgBigInt64");function b3e(e,t){const{name:r,config:n}=Hr(e,t);return n.mode==="number"?new kH(r):new MH(r)}var Q$,Z$;class RH extends(Z$=wt,Q$=ne,Z$){constructor(t){super(t,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new $H(t,this.config)}}z(RH,Q$,"PgBigSerial53Builder");var J$,eL;class $H extends(eL=nt,J$=ne,eL){getSQLType(){return"bigserial"}mapFromDriverValue(t){return typeof t=="number"?t:Number(t)}}z($H,J$,"PgBigSerial53");var tL,rL;class LH extends(rL=wt,tL=ne,rL){constructor(t){super(t,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(t){return new FH(t,this.config)}}z(LH,tL,"PgBigSerial64Builder");var nL,aL;class FH extends(aL=nt,nL=ne,aL){getSQLType(){return"bigserial"}mapFromDriverValue(t){return BigInt(t)}}z(FH,nL,"PgBigSerial64");function w3e(e,t){const{name:r,config:n}=Hr(e,t);return n.mode==="number"?new RH(r):new LH(r)}var iL,sL;class VH extends(sL=wt,iL=ne,sL){constructor(t){super(t,"boolean","PgBoolean")}build(t){return new zH(t,this.config)}}z(VH,iL,"PgBooleanBuilder");var oL,lL;class zH extends(lL=nt,oL=ne,lL){getSQLType(){return"boolean"}}z(zH,oL,"PgBoolean");function $n(e){return new VH(e??"")}var cL,uL;class BH extends(uL=wt,cL=ne,uL){constructor(t,r){super(t,"string","PgChar"),this.config.length=r.length,this.config.enumValues=r.enum}build(t){return new UH(t,this.config)}}z(BH,cL,"PgCharBuilder");var dL,fL;class UH extends(fL=nt,dL=ne,fL){constructor(){super(...arguments);z(this,"length",this.config.length);z(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"char":`char(${this.length})`}}z(UH,dL,"PgChar");function j3e(e,t={}){const{name:r,config:n}=Hr(e,t);return new BH(r,n)}var hL,mL;class KH extends(mL=wt,hL=ne,mL){constructor(t){super(t,"string","PgCidr")}build(t){return new qH(t,this.config)}}z(KH,hL,"PgCidrBuilder");var pL,gL;class qH extends(gL=nt,pL=ne,gL){getSQLType(){return"cidr"}}z(qH,pL,"PgCidr");function S3e(e){return new KH(e??"")}var vL,yL;class WH extends(yL=wt,vL=ne,yL){constructor(t,r,n){super(t,"custom","PgCustomColumn"),this.config.fieldConfig=r,this.config.customTypeParams=n}build(t){return new HH(t,this.config)}}z(WH,vL,"PgCustomColumnBuilder");var xL,bL;class HH extends(bL=nt,xL=ne,bL){constructor(r,n){super(r,n);z(this,"sqlName");z(this,"mapTo");z(this,"mapFrom");this.sqlName=n.customTypeParams.dataType(n.fieldConfig),this.mapTo=n.customTypeParams.toDriver,this.mapFrom=n.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(r){return typeof this.mapFrom=="function"?this.mapFrom(r):r}mapToDriverValue(r){return typeof this.mapTo=="function"?this.mapTo(r):r}}z(HH,xL,"PgCustomColumn");function N3e(e){return(t,r)=>{const{name:n,config:a}=Hr(t,r);return new WH(n,a,e)}}var wL,jL;class Df extends(jL=wt,wL=ne,jL){defaultNow(){return this.default(Kx`now()`)}}z(Df,wL,"PgDateColumnBaseBuilder");var SL,NL;class GH extends(NL=Df,SL=ne,NL){constructor(t){super(t,"date","PgDate")}build(t){return new XH(t,this.config)}}z(GH,SL,"PgDateBuilder");var PL,CL;class XH extends(CL=nt,PL=ne,CL){getSQLType(){return"date"}mapFromDriverValue(t){return new Date(t)}mapToDriverValue(t){return t.toISOString()}}z(XH,PL,"PgDate");var AL,EL;class YH extends(EL=Df,AL=ne,EL){constructor(t){super(t,"string","PgDateString")}build(t){return new QH(t,this.config)}}z(YH,AL,"PgDateStringBuilder");var TL,_L;class QH extends(_L=nt,TL=ne,_L){getSQLType(){return"date"}}z(QH,TL,"PgDateString");function P3e(e,t){const{name:r,config:n}=Hr(e,t);return(n==null?void 0:n.mode)==="date"?new GH(r):new YH(r)}var OL,kL;class ZH extends(kL=wt,OL=ne,kL){constructor(t){super(t,"number","PgDoublePrecision")}build(t){return new JH(t,this.config)}}z(ZH,OL,"PgDoublePrecisionBuilder");var DL,ML;class JH extends(ML=nt,DL=ne,ML){getSQLType(){return"double precision"}mapFromDriverValue(t){return typeof t=="string"?Number.parseFloat(t):t}}z(JH,DL,"PgDoublePrecision");function C3e(e){return new ZH(e??"")}var IL,RL;class eG extends(RL=wt,IL=ne,RL){constructor(t){super(t,"string","PgInet")}build(t){return new tG(t,this.config)}}z(eG,IL,"PgInetBuilder");var $L,LL;class tG extends(LL=nt,$L=ne,LL){getSQLType(){return"inet"}}z(tG,$L,"PgInet");function A3e(e){return new eG(e??"")}var FL,VL;class rG extends(VL=og,FL=ne,VL){constructor(t){super(t,"number","PgInteger")}build(t){return new nG(t,this.config)}}z(rG,FL,"PgIntegerBuilder");var zL,BL;class nG extends(BL=nt,zL=ne,BL){getSQLType(){return"integer"}mapFromDriverValue(t){return typeof t=="string"?Number.parseInt(t):t}}z(nG,zL,"PgInteger");function Le(e){return new rG(e??"")}var UL,KL;class aG extends(KL=wt,UL=ne,KL){constructor(t,r){super(t,"string","PgInterval"),this.config.intervalConfig=r}build(t){return new iG(t,this.config)}}z(aG,UL,"PgIntervalBuilder");var qL,WL;class iG extends(WL=nt,qL=ne,WL){constructor(){super(...arguments);z(this,"fields",this.config.intervalConfig.fields);z(this,"precision",this.config.intervalConfig.precision)}getSQLType(){const r=this.fields?` ${this.fields}`:"",n=this.precision?`(${this.precision})`:"";return`interval${r}${n}`}}z(iG,qL,"PgInterval");function E3e(e,t={}){const{name:r,config:n}=Hr(e,t);return new aG(r,n)}var HL,GL;class sG extends(GL=wt,HL=ne,GL){constructor(t){super(t,"json","PgJson")}build(t){return new oG(t,this.config)}}z(sG,HL,"PgJsonBuilder");var XL,YL;class oG extends(YL=nt,XL=ne,YL){constructor(t,r){super(t,r)}getSQLType(){return"json"}mapToDriverValue(t){return JSON.stringify(t)}mapFromDriverValue(t){if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t}}z(oG,XL,"PgJson");function fa(e){return new sG(e??"")}var QL,ZL;class lG extends(ZL=wt,QL=ne,ZL){constructor(t){super(t,"json","PgJsonb")}build(t){return new cG(t,this.config)}}z(lG,QL,"PgJsonbBuilder");var JL,e4;class cG extends(e4=nt,JL=ne,e4){constructor(t,r){super(t,r)}getSQLType(){return"jsonb"}mapToDriverValue(t){return JSON.stringify(t)}mapFromDriverValue(t){if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t}}z(cG,JL,"PgJsonb");function T3e(e){return new lG(e??"")}var t4,r4;class uG extends(r4=wt,t4=ne,r4){constructor(t){super(t,"array","PgLine")}build(t){return new dG(t,this.config)}}z(uG,t4,"PgLineBuilder");var n4,a4;class dG extends(a4=nt,n4=ne,a4){getSQLType(){return"line"}mapFromDriverValue(t){const[r,n,a]=t.slice(1,-1).split(",");return[Number.parseFloat(r),Number.parseFloat(n),Number.parseFloat(a)]}mapToDriverValue(t){return`{${t[0]},${t[1]},${t[2]}}`}}z(dG,n4,"PgLine");var i4,s4;class fG extends(s4=wt,i4=ne,s4){constructor(t){super(t,"json","PgLineABC")}build(t){return new hG(t,this.config)}}z(fG,i4,"PgLineABCBuilder");var o4,l4;class hG extends(l4=nt,o4=ne,l4){getSQLType(){return"line"}mapFromDriverValue(t){const[r,n,a]=t.slice(1,-1).split(",");return{a:Number.parseFloat(r),b:Number.parseFloat(n),c:Number.parseFloat(a)}}mapToDriverValue(t){return`{${t.a},${t.b},${t.c}}`}}z(hG,o4,"PgLineABC");function _3e(e,t){const{name:r,config:n}=Hr(e,t);return!(n!=null&&n.mode)||n.mode==="tuple"?new uG(r):new fG(r)}var c4,u4;class mG extends(u4=wt,c4=ne,u4){constructor(t){super(t,"string","PgMacaddr")}build(t){return new pG(t,this.config)}}z(mG,c4,"PgMacaddrBuilder");var d4,f4;class pG extends(f4=nt,d4=ne,f4){getSQLType(){return"macaddr"}}z(pG,d4,"PgMacaddr");function O3e(e){return new mG(e??"")}var h4,m4;class gG extends(m4=wt,h4=ne,m4){constructor(t){super(t,"string","PgMacaddr8")}build(t){return new vG(t,this.config)}}z(gG,h4,"PgMacaddr8Builder");var p4,g4;class vG extends(g4=nt,p4=ne,g4){getSQLType(){return"macaddr8"}}z(vG,p4,"PgMacaddr8");function k3e(e){return new gG(e??"")}var v4,y4;class yG extends(y4=wt,v4=ne,y4){constructor(t,r,n){super(t,"string","PgNumeric"),this.config.precision=r,this.config.scale=n}build(t){return new xG(t,this.config)}}z(yG,v4,"PgNumericBuilder");var x4,b4;class xG extends(b4=nt,x4=ne,b4){constructor(r,n){super(r,n);z(this,"precision");z(this,"scale");this.precision=n.precision,this.scale=n.scale}getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}z(xG,x4,"PgNumeric");function D3e(e,t){const{name:r,config:n}=Hr(e,t);return new yG(r,n==null?void 0:n.precision,n==null?void 0:n.scale)}var w4,j4;class bG extends(j4=wt,w4=ne,j4){constructor(t){super(t,"array","PgPointTuple")}build(t){return new wG(t,this.config)}}z(bG,w4,"PgPointTupleBuilder");var S4,N4;class wG extends(N4=nt,S4=ne,N4){getSQLType(){return"point"}mapFromDriverValue(t){if(typeof t=="string"){const[r,n]=t.slice(1,-1).split(",");return[Number.parseFloat(r),Number.parseFloat(n)]}return[t.x,t.y]}mapToDriverValue(t){return`(${t[0]},${t[1]})`}}z(wG,S4,"PgPointTuple");var P4,C4;class jG extends(C4=wt,P4=ne,C4){constructor(t){super(t,"json","PgPointObject")}build(t){return new SG(t,this.config)}}z(jG,P4,"PgPointObjectBuilder");var A4,E4;class SG extends(E4=nt,A4=ne,E4){getSQLType(){return"point"}mapFromDriverValue(t){if(typeof t=="string"){const[r,n]=t.slice(1,-1).split(",");return{x:Number.parseFloat(r),y:Number.parseFloat(n)}}return t}mapToDriverValue(t){return`(${t.x},${t.y})`}}z(SG,A4,"PgPointObject");function M3e(e,t){const{name:r,config:n}=Hr(e,t);return!(n!=null&&n.mode)||n.mode==="tuple"?new bG(r):new jG(r)}function I3e(e){const t=[];for(let r=0;r<e.length;r+=2)t.push(Number.parseInt(e.slice(r,r+2),16));return new Uint8Array(t)}function OR(e,t){const r=new ArrayBuffer(8),n=new DataView(r);for(let a=0;a<8;a++)n.setUint8(a,e[t+a]);return n.getFloat64(0,!0)}function NG(e){const t=I3e(e);let r=0;const n=t[r];r+=1;const a=new DataView(t.buffer),i=a.getUint32(r,n===1);if(r+=4,i&536870912&&(a.getUint32(r,n===1),r+=4),(i&65535)===1){const o=OR(t,r);r+=8;const l=OR(t,r);return r+=8,[o,l]}throw new Error("Unsupported geometry type")}var T4,_4;class PG extends(_4=wt,T4=ne,_4){constructor(t){super(t,"array","PgGeometry")}build(t){return new CG(t,this.config)}}z(PG,T4,"PgGeometryBuilder");var O4,k4;class CG extends(k4=nt,O4=ne,k4){getSQLType(){return"geometry(point)"}mapFromDriverValue(t){return NG(t)}mapToDriverValue(t){return`point(${t[0]} ${t[1]})`}}z(CG,O4,"PgGeometry");var D4,M4;class AG extends(M4=wt,D4=ne,M4){constructor(t){super(t,"json","PgGeometryObject")}build(t){return new EG(t,this.config)}}z(AG,D4,"PgGeometryObjectBuilder");var I4,R4;class EG extends(R4=nt,I4=ne,R4){getSQLType(){return"geometry(point)"}mapFromDriverValue(t){const r=NG(t);return{x:r[0],y:r[1]}}mapToDriverValue(t){return`point(${t.x} ${t.y})`}}z(EG,I4,"PgGeometryObject");function R3e(e,t){const{name:r,config:n}=Hr(e,t);return!(n!=null&&n.mode)||n.mode==="tuple"?new PG(r):new AG(r)}var $4,L4;class TG extends(L4=wt,$4=ne,L4){constructor(t,r){super(t,"number","PgReal"),this.config.length=r}build(t){return new _G(t,this.config)}}z(TG,$4,"PgRealBuilder");var F4,V4;class _G extends(V4=nt,F4=ne,V4){constructor(r,n){super(r,n);z(this,"mapFromDriverValue",r=>typeof r=="string"?Number.parseFloat(r):r)}getSQLType(){return"real"}}z(_G,F4,"PgReal");function $3e(e){return new TG(e??"")}var z4,B4;class OG extends(B4=wt,z4=ne,B4){constructor(t){super(t,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new kG(t,this.config)}}z(OG,z4,"PgSerialBuilder");var U4,K4;class kG extends(K4=nt,U4=ne,K4){getSQLType(){return"serial"}}z(kG,U4,"PgSerial");function Qt(e){return new OG(e??"")}var q4,W4;class DG extends(W4=og,q4=ne,W4){constructor(t){super(t,"number","PgSmallInt")}build(t){return new MG(t,this.config)}}z(DG,q4,"PgSmallIntBuilder");var H4,G4;class MG extends(G4=nt,H4=ne,G4){constructor(){super(...arguments);z(this,"mapFromDriverValue",r=>typeof r=="string"?Number(r):r)}getSQLType(){return"smallint"}}z(MG,H4,"PgSmallInt");function L3e(e){return new DG(e??"")}var X4,Y4;class IG extends(Y4=wt,X4=ne,Y4){constructor(t){super(t,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new RG(t,this.config)}}z(IG,X4,"PgSmallSerialBuilder");var Q4,Z4;class RG extends(Z4=nt,Q4=ne,Z4){getSQLType(){return"smallserial"}}z(RG,Q4,"PgSmallSerial");function F3e(e){return new IG(e??"")}var J4,eF;class $G extends(eF=wt,J4=ne,eF){constructor(t,r){super(t,"string","PgText"),this.config.enumValues=r.enum}build(t){return new LG(t,this.config)}}z($G,J4,"PgTextBuilder");var tF,rF;class LG extends(rF=nt,tF=ne,rF){constructor(){super(...arguments);z(this,"enumValues",this.config.enumValues)}getSQLType(){return"text"}}z(LG,tF,"PgText");function W(e,t={}){const{name:r,config:n}=Hr(e,t);return new $G(r,n)}var nF,aF;class FG extends(aF=Df,nF=ne,aF){constructor(t,r,n){super(t,"string","PgTime"),this.withTimezone=r,this.precision=n,this.config.withTimezone=r,this.config.precision=n}build(t){return new VG(t,this.config)}}z(FG,nF,"PgTimeBuilder");var iF,sF;class VG extends(sF=nt,iF=ne,sF){constructor(r,n){super(r,n);z(this,"withTimezone");z(this,"precision");this.withTimezone=n.withTimezone,this.precision=n.precision}getSQLType(){return`time${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}z(VG,iF,"PgTime");function V3e(e,t={}){const{name:r,config:n}=Hr(e,t);return new FG(r,n.withTimezone??!1,n.precision)}var oF,lF;class zG extends(lF=Df,oF=ne,lF){constructor(t,r,n){super(t,"date","PgTimestamp"),this.config.withTimezone=r,this.config.precision=n}build(t){return new BG(t,this.config)}}z(zG,oF,"PgTimestampBuilder");var cF,uF;class BG extends(uF=nt,cF=ne,uF){constructor(r,n){super(r,n);z(this,"withTimezone");z(this,"precision");z(this,"mapFromDriverValue",r=>new Date(this.withTimezone?r:r+"+0000"));z(this,"mapToDriverValue",r=>r.toISOString());this.withTimezone=n.withTimezone,this.precision=n.precision}getSQLType(){return`timestamp${this.precision===void 0?"":` (${this.precision})`}${this.withTimezone?" with time zone":""}`}}z(BG,cF,"PgTimestamp");var dF,fF;class UG extends(fF=Df,dF=ne,fF){constructor(t,r,n){super(t,"string","PgTimestampString"),this.config.withTimezone=r,this.config.precision=n}build(t){return new KG(t,this.config)}}z(UG,dF,"PgTimestampStringBuilder");var hF,mF;class KG extends(mF=nt,hF=ne,mF){constructor(r,n){super(r,n);z(this,"withTimezone");z(this,"precision");this.withTimezone=n.withTimezone,this.precision=n.precision}getSQLType(){return`timestamp${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}z(KG,hF,"PgTimestampString");function Qe(e,t={}){const{name:r,config:n}=Hr(e,t);return(n==null?void 0:n.mode)==="string"?new UG(r,n.withTimezone??!1,n.precision):new zG(r,(n==null?void 0:n.withTimezone)??!1,n==null?void 0:n.precision)}var pF,gF;class qG extends(gF=wt,pF=ne,gF){constructor(t){super(t,"string","PgUUID")}defaultRandom(){return this.default(Kx`gen_random_uuid()`)}build(t){return new WG(t,this.config)}}z(qG,pF,"PgUUIDBuilder");var vF,yF;class WG extends(yF=nt,vF=ne,yF){getSQLType(){return"uuid"}}z(WG,vF,"PgUUID");function z3e(e){return new qG(e??"")}var xF,bF;class HG extends(bF=wt,xF=ne,bF){constructor(t,r){super(t,"string","PgVarchar"),this.config.length=r.length,this.config.enumValues=r.enum}build(t){return new GG(t,this.config)}}z(HG,xF,"PgVarcharBuilder");var wF,jF;class GG extends(jF=nt,wF=ne,jF){constructor(){super(...arguments);z(this,"length",this.config.length);z(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"varchar":`varchar(${this.length})`}}z(GG,wF,"PgVarchar");function B3e(e,t={}){const{name:r,config:n}=Hr(e,t);return new HG(r,n)}var SF,NF;class XG extends(NF=wt,SF=ne,NF){constructor(t,r){super(t,"string","PgBinaryVector"),this.config.dimensions=r.dimensions}build(t){return new YG(t,this.config)}}z(XG,SF,"PgBinaryVectorBuilder");var PF,CF;class YG extends(CF=nt,PF=ne,CF){constructor(){super(...arguments);z(this,"dimensions",this.config.dimensions)}getSQLType(){return`bit(${this.dimensions})`}}z(YG,PF,"PgBinaryVector");function U3e(e,t){const{name:r,config:n}=Hr(e,t);return new XG(r,n)}var AF,EF;class QG extends(EF=wt,AF=ne,EF){constructor(t,r){super(t,"array","PgHalfVector"),this.config.dimensions=r.dimensions}build(t){return new ZG(t,this.config)}}z(QG,AF,"PgHalfVectorBuilder");var TF,_F;class ZG extends(_F=nt,TF=ne,_F){constructor(){super(...arguments);z(this,"dimensions",this.config.dimensions)}getSQLType(){return`halfvec(${this.dimensions})`}mapToDriverValue(r){return JSON.stringify(r)}mapFromDriverValue(r){return r.slice(1,-1).split(",").map(n=>Number.parseFloat(n))}}z(ZG,TF,"PgHalfVector");function K3e(e,t){const{name:r,config:n}=Hr(e,t);return new QG(r,n)}var OF,kF;class JG extends(kF=wt,OF=ne,kF){constructor(t,r){super(t,"string","PgSparseVector"),this.config.dimensions=r.dimensions}build(t){return new eX(t,this.config)}}z(JG,OF,"PgSparseVectorBuilder");var DF,MF;class eX extends(MF=nt,DF=ne,MF){constructor(){super(...arguments);z(this,"dimensions",this.config.dimensions)}getSQLType(){return`sparsevec(${this.dimensions})`}}z(eX,DF,"PgSparseVector");function q3e(e,t){const{name:r,config:n}=Hr(e,t);return new JG(r,n)}var IF,RF;class tX extends(RF=wt,IF=ne,RF){constructor(t,r){super(t,"array","PgVector"),this.config.dimensions=r.dimensions}build(t){return new rX(t,this.config)}}z(tX,IF,"PgVectorBuilder");var $F,LF;class rX extends(LF=nt,$F=ne,LF){constructor(){super(...arguments);z(this,"dimensions",this.config.dimensions)}getSQLType(){return`vector(${this.dimensions})`}mapToDriverValue(r){return JSON.stringify(r)}mapFromDriverValue(r){return r.slice(1,-1).split(",").map(n=>Number.parseFloat(n))}}z(rX,$F,"PgVector");function W3e(e,t){const{name:r,config:n}=Hr(e,t);return new tX(r,n)}function H3e(){return{bigint:b3e,bigserial:w3e,boolean:$n,char:j3e,cidr:S3e,customType:N3e,date:P3e,doublePrecision:C3e,inet:A3e,integer:Le,interval:E3e,json:fa,jsonb:T3e,line:_3e,macaddr:O3e,macaddr8:k3e,numeric:D3e,point:M3e,geometry:R3e,real:$3e,serial:Qt,smallint:L3e,smallserial:F3e,text:W,time:V3e,timestamp:Qe,uuid:z3e,varchar:B3e,bit:U3e,halfvec:K3e,sparsevec:q3e,vector:W3e}}const SP=Symbol.for("drizzle:PgInlineForeignKeys"),kR=Symbol.for("drizzle:EnableRLS");var FF,VF,zF,BF,UF;class Wx extends(UF=On,BF=ne,zF=SP,VF=kR,FF=On.Symbol.ExtraConfigBuilder,UF){constructor(){super(...arguments);z(this,zF,[]);z(this,VF,!1);z(this,FF)}}z(Wx,BF,"PgTable"),z(Wx,"Symbol",Object.assign({},On.Symbol,{InlineForeignKeys:SP,EnableRLS:kR}));function G3e(e,t,r,n,a=e){const i=new Wx(e,n,a),o=typeof t=="function"?t(H3e()):t,l=Object.fromEntries(Object.entries(o).map(([d,f])=>{const h=f;h.setName(d);const p=h.build(i);return i[SP].push(...h.buildForeignKeys(p,i)),[d,p]})),c=Object.fromEntries(Object.entries(o).map(([d,f])=>{const h=f;h.setName(d);const p=h.buildExtraConfigColumn(i);return[d,p]})),u=Object.assign(i,l);return u[On.Symbol.Columns]=l,u[On.Symbol.ExtraConfigColumns]=c,Object.assign(u,{enableRLS:()=>(u[Wx.Symbol.EnableRLS]=!0,u)})}const tr=(e,t,r)=>G3e(e,t,r,void 0),nr={INT8_MIN:-128,INT8_MAX:127,INT8_UNSIGNED_MAX:255,INT16_MIN:-32768,INT16_MAX:32767,INT16_UNSIGNED_MAX:65535,INT24_MIN:-8388608,INT24_MAX:8388607,INT24_UNSIGNED_MAX:16777215,INT32_MIN:-2147483648,INT32_MAX:2147483647,INT32_UNSIGNED_MAX:4294967295,INT48_MIN:-0x800000000000,INT48_MAX:0x7fffffffffff,INT48_UNSIGNED_MAX:0xffffffffffff,INT64_MIN:-9223372036854775808n,INT64_MAX:9223372036854775807n,INT64_UNSIGNED_MAX:18446744073709551615n};function gr(e,t){return t.includes(e.columnType)}function X3e(e){return"enumValues"in e&&Array.isArray(e.enumValues)&&e.enumValues.length>0}const Y3e=q.union([q.string(),q.number(),q.boolean(),q.null()]),Q3e=q.union([Y3e,q.record(q.any()),q.array(q.any())]),Z3e=q.custom(e=>e instanceof Buffer);function nX(e,t){const r=(t==null?void 0:t.zodInstance)??q,n=(t==null?void 0:t.coerce)??{};let a;return X3e(e)&&(a=e.enumValues.length?r.enum(e.enumValues):r.string()),a||(gr(e,["PgGeometry","PgPointTuple"])?a=r.tuple([r.number(),r.number()]):gr(e,["PgGeometryObject","PgPointObject"])?a=r.object({x:r.number(),y:r.number()}):gr(e,["PgHalfVector","PgVector"])?(a=r.array(r.number()),a=e.dimensions?a.length(e.dimensions):a):gr(e,["PgLine"])?a=r.tuple([r.number(),r.number(),r.number()]):gr(e,["PgLineABC"])?a=r.object({a:r.number(),b:r.number(),c:r.number()}):gr(e,["PgArray"])?(a=r.array(nX(e.baseColumn,r)),a=e.size?a.length(e.size):a):e.dataType==="array"?a=r.array(r.any()):e.dataType==="number"?a=J3e(e,r,n):e.dataType==="bigint"?a=e5e(e,r,n):e.dataType==="boolean"?a=n===!0||n.boolean?r.coerce.boolean():r.boolean():e.dataType==="date"?a=n===!0||n.date?r.coerce.date():r.date():e.dataType==="string"?a=t5e(e,r,n):e.dataType==="json"?a=Q3e:e.dataType==="custom"?a=r.any():e.dataType==="buffer"&&(a=Z3e)),a||(a=r.any()),a}function J3e(e,t,r){let n=e.getSQLType().includes("unsigned"),a,i,o=!1;gr(e,["MySqlTinyInt","SingleStoreTinyInt"])?(a=n?0:nr.INT8_MIN,i=n?nr.INT8_UNSIGNED_MAX:nr.INT8_MAX,o=!0):gr(e,["PgSmallInt","PgSmallSerial","MySqlSmallInt","SingleStoreSmallInt"])?(a=n?0:nr.INT16_MIN,i=n?nr.INT16_UNSIGNED_MAX:nr.INT16_MAX,o=!0):gr(e,["PgReal","MySqlFloat","MySqlMediumInt","SingleStoreMediumInt","SingleStoreFloat"])?(a=n?0:nr.INT24_MIN,i=n?nr.INT24_UNSIGNED_MAX:nr.INT24_MAX,o=gr(e,["MySqlMediumInt","SingleStoreMediumInt"])):gr(e,["PgInteger","PgSerial","MySqlInt","SingleStoreInt"])?(a=n?0:nr.INT32_MIN,i=n?nr.INT32_UNSIGNED_MAX:nr.INT32_MAX,o=!0):gr(e,["PgDoublePrecision","MySqlReal","MySqlDouble","SingleStoreReal","SingleStoreDouble","SQLiteReal"])?(a=n?0:nr.INT48_MIN,i=n?nr.INT48_UNSIGNED_MAX:nr.INT48_MAX):gr(e,["PgBigInt53","PgBigSerial53","MySqlBigInt53","MySqlSerial","SingleStoreBigInt53","SingleStoreSerial","SQLiteInteger"])?(n=n||gr(e,["MySqlSerial","SingleStoreSerial"]),a=n?0:Number.MIN_SAFE_INTEGER,i=Number.MAX_SAFE_INTEGER,o=!0):gr(e,["MySqlYear","SingleStoreYear"])?(a=1901,i=2155,o=!0):(a=Number.MIN_SAFE_INTEGER,i=Number.MAX_SAFE_INTEGER);let l=r===!0||r!=null&&r.number?t.coerce.number():t.number();return l=l.min(a).max(i),o?l.int():l}function e5e(e,t,r){const n=e.getSQLType().includes("unsigned"),a=n?0n:nr.INT64_MIN,i=n?nr.INT64_UNSIGNED_MAX:nr.INT64_MAX;return(r===!0||r!=null&&r.bigint?t.coerce.bigint():t.bigint()).min(a).max(i)}function t5e(e,t,r){if(gr(e,["PgUUID"]))return t.string().uuid();let n,a,i=!1;gr(e,["PgVarchar","SQLiteText"])?n=e.length:gr(e,["MySqlVarChar","SingleStoreVarChar"])?n=e.length??nr.INT16_UNSIGNED_MAX:gr(e,["MySqlText","SingleStoreText"])&&(e.textType==="longtext"?n=nr.INT32_UNSIGNED_MAX:e.textType==="mediumtext"?n=nr.INT24_UNSIGNED_MAX:e.textType==="text"?n=nr.INT16_UNSIGNED_MAX:n=nr.INT8_UNSIGNED_MAX),gr(e,["PgChar","MySqlChar","SingleStoreChar"])&&(n=e.length,i=!0),gr(e,["PgBinaryVector"])&&(a=/^[01]+$/,n=e.dimensions);let o=r===!0||r!=null&&r.string?t.coerce.string():t.string();return o=a?o.regex(a):o,n&&i?o.length(n):n?o.max(n):o}function aX(e){return AH(e)?y3e(e):x3e(e)}function iX(e,t,r,n){const a={};for(const[i,o]of Object.entries(e)){if(!Jr(o,ef)&&!Jr(o,$r)&&!Jr(o,$r.Aliased)&&typeof o=="object"){const f=AH(o)||v3e(o)?aX(o):o;a[i]=iX(f,t[i]??{},r,n);continue}const l=t[i];if(l!==void 0&&typeof l!="function"){a[i]=l;continue}const c=Jr(o,ef)?o:void 0,u=c?nX(c,n):q.any(),d=typeof l=="function"?l(u):u;r.never(c)||(a[i]=d,c&&(r.nullable(c)&&(a[i]=a[i].nullable()),r.optional(c)&&(a[i]=a[i].optional())))}return q.object(a)}const r5e={never:e=>{var t,r;return((t=e==null?void 0:e.generated)==null?void 0:t.type)==="always"||((r=e==null?void 0:e.generatedIdentity)==null?void 0:r.type)==="always"},optional:e=>!e.notNull||e.notNull&&e.hasDefault,nullable:e=>!e.notNull},rr=(e,t)=>{const r=aX(e);return iX(r,{},r5e)},PT=PH("shipment_status",["pending","in_transit","delayed","delivered","cancelled"]),n5e=tr("users",{id:Qt("id").primaryKey(),name:W("name").notNull(),email:W("email").notNull().unique(),password:W("password").notNull(),role:W("role").notNull().default("viewer"),companyId:Le("company_id"),areaId:Le("area_id"),lastLogin:Qe("last_login")}),a5e=rr(n5e).omit({id:!0,lastLogin:!0}),i5e=tr("companies",{id:Qt("id").primaryKey(),name:W("name").notNull(),description:W("description"),sector:W("sector"),logo:W("logo"),createdAt:Qe("created_at").defaultNow()});rr(i5e).omit({id:!0,createdAt:!0});const s5e=tr("areas",{id:Qt("id").primaryKey(),name:W("name").notNull(),description:W("description"),companyId:Le("company_id").notNull()});rr(s5e).omit({id:!0});const o5e=tr("kpis",{id:Qt("id").primaryKey(),name:W("name").notNull(),description:W("description"),areaId:Le("area_id").notNull(),companyId:Le("company_id").notNull(),unit:W("unit").notNull(),target:W("target").notNull(),frequency:W("frequency").notNull(),calculationMethod:W("calculation_method"),responsible:W("responsible"),invertedMetric:$n("inverted_metric").default(!1)});rr(o5e).omit({id:!0}).extend({target:q.union([q.string(),q.number()]).transform(e=>typeof e=="number"?e.toString():e).optional(),objective:q.union([q.string(),q.number()]).transform(e=>typeof e=="number"?e.toString():e).optional(),description:q.string().min(1,"La descripción es requerida"),areaId:q.union([q.string(),q.number()]).transform(e=>typeof e=="string"?parseInt(e):e),companyId:q.union([q.string(),q.number()]).transform(e=>typeof e=="string"?parseInt(e):e)}).transform(e=>{e.objective&&!e.target&&(e.target=e.objective);const{objective:t,...r}=e;return r}).refine(e=>e.target,{message:"El objetivo/target es requerido",path:["target"]});const l5e=tr("kpi_values",{id:Qt("id").primaryKey(),kpiId:Le("kpi_id").notNull(),userId:Le("user_id").notNull(),value:W("value").notNull(),date:Qe("date").defaultNow(),period:W("period").notNull(),compliancePercentage:W("compliance_percentage"),status:W("status"),comments:W("comments"),updatedBy:Le("updated_by")}),c5e=rr(l5e).omit({id:!0,date:!0}),u5e=tr("action_plans",{id:Qt("id").primaryKey(),kpiId:Le("kpi_id").notNull(),problemDescription:W("problem_description").notNull(),correctiveActions:W("corrective_actions").notNull(),responsible:W("responsible").notNull(),startDate:Qe("start_date").notNull(),endDate:Qe("end_date").notNull(),status:W("status").notNull(),results:W("results")});rr(u5e).omit({id:!0});q.object({username:q.string().min(3,"El nombre de usuario debe tener al menos 3 caracteres"),password:q.string().min(6,"La contraseña debe tener al menos 6 caracteres")});c5e.extend({compliancePercentage:q.string().optional(),status:q.string().optional()});q.object({name:q.string().optional(),description:q.string().optional(),areaId:q.number().optional(),companyId:q.number().optional(),unit:q.string().optional(),target:q.union([q.string(),q.number()]).transform(e=>typeof e=="number"?e.toString():e).optional(),frequency:q.string().optional(),calculationMethod:q.string().optional(),responsible:q.string().optional(),invertedMetric:q.boolean().optional()});a5e.extend({password:q.string().min(6,"La contraseña debe tener al menos 6 caracteres"),confirmPassword:q.string().min(6,"La contraseña debe tener al menos 6 caracteres")}).refine(e=>e.password===e.confirmPassword,{message:"Las contraseñas no coinciden",path:["confirmPassword"]});const d5e=tr("shipments",{id:Qt("id").primaryKey(),trackingCode:W("tracking_code").notNull().unique(),companyId:Le("company_id").notNull(),purchaseOrderNumber:W("purchase_order_number"),customerName:W("customer_name").notNull(),customerEmail:W("customer_email"),customerPhone:W("customer_phone"),notificationEmails:fa("notification_emails"),destination:W("destination").notNull(),origin:W("origin").notNull(),product:W("product").notNull(),quantity:W("quantity").notNull(),unit:W("unit").notNull(),departureDate:Qe("departure_date"),estimatedDeliveryDate:Qe("estimated_delivery_date"),actualDeliveryDate:Qe("actual_delivery_date"),status:PT("status").notNull().default("pending"),carrier:W("carrier"),vehicleInfo:W("vehicle_info"),vehicleType:W("vehicle_type"),fuelType:W("fuel_type"),distance:W("distance"),carbonFootprint:W("carbon_footprint"),driverName:W("driver_name"),driverPhone:W("driver_phone"),comments:W("comments"),createdAt:Qe("created_at").defaultNow(),updatedAt:Qe("updated_at").defaultNow()}),f5e=rr(d5e).omit({id:!0,createdAt:!0,updatedAt:!0}),h5e=tr("shipment_updates",{id:Qt("id").primaryKey(),shipmentId:Le("shipment_id").notNull(),status:PT("status").notNull(),location:W("location"),comments:W("comments"),updatedBy:Le("updated_by"),timestamp:Qe("timestamp").defaultNow()});rr(h5e).omit({id:!0,timestamp:!0});const m5e=tr("notifications",{id:Qt("id").primaryKey(),title:W("title").notNull(),message:W("message").notNull(),type:W("type").notNull().default("info"),fromUserId:Le("from_user_id").notNull(),toUserId:Le("to_user_id"),companyId:Le("company_id"),areaId:Le("area_id"),priority:W("priority").notNull().default("normal"),read:$n("read").default(!1),createdAt:Qe("created_at").defaultNow(),readAt:Qe("read_at")});rr(m5e).omit({id:!0,createdAt:!0});const p5e=tr("shipment_notifications",{id:Qt("id").primaryKey(),shipmentId:Le("shipment_id").notNull(),emailTo:W("email_to").notNull(),subject:W("subject").notNull(),status:W("status").notNull(),sentAt:Qe("sent_at").defaultNow(),sentBy:Le("sent_by").notNull(),shipmentStatus:PT("shipment_status").notNull(),errorMessage:W("error_message")});rr(p5e).omit({id:!0,sentAt:!0});q.object({status:q.enum(["pending","in_transit","delayed","delivered","cancelled"]),sendNotification:q.boolean().default(!0),comments:q.string().optional(),location:q.string().optional()});const g5e=tr("job_profiles",{id:Qt("id").primaryKey(),areaId:Le("area_id").notNull(),companyId:Le("company_id").notNull(),title:W("title").notNull(),description:W("description").notNull(),mainActivities:fa("main_activities").notNull(),responsibilities:fa("responsibilities").notNull(),kpiInstructions:fa("kpi_instructions").notNull(),tips:fa("tips").notNull(),processes:fa("processes").notNull(),updateFrequency:fa("update_frequency").notNull(),createdAt:Qe("created_at").defaultNow(),updatedAt:Qe("updated_at").defaultNow()});rr(g5e).omit({id:!0,createdAt:!0,updatedAt:!0});q.object({id:q.number(),areaId:q.number(),companyId:q.number(),title:q.string(),description:q.string(),mainActivities:q.array(q.string()),responsibilities:q.array(q.string()),kpiInstructions:q.array(q.object({kpiName:q.string(),description:q.string(),updateFrequency:q.string(),instructions:q.string()})),tips:q.array(q.object({category:q.string(),tip:q.string()})),processes:q.array(q.object({name:q.string(),description:q.string(),steps:q.array(q.string())})),updateFrequency:q.object({daily:q.array(q.string()),weekly:q.array(q.string()),monthly:q.array(q.string())}),areaName:q.string(),companyName:q.string(),userKpis:q.array(q.object({id:q.number(),name:q.string(),target:q.string(),frequency:q.string()}))});const v5e=tr("bank_accounts",{id:Qt("id").primaryKey(),bankName:W("bank_name").notNull(),accountType:W("account_type").notNull(),accountNumber:W("account_number").notNull(),accountName:W("account_name").notNull(),companyId:Le("company_id").notNull(),currency:W("currency").notNull().default("MXN"),isActive:$n("is_active").default(!0),createdAt:Qe("created_at").defaultNow(),updatedAt:Qe("updated_at").defaultNow()});rr(v5e).omit({id:!0,createdAt:!0,updatedAt:!0});const y5e=tr("daily_balances",{id:Qt("id").primaryKey(),bankAccountId:Le("bank_account_id").notNull(),date:W("date").notNull(),balance:W("balance").notNull(),previousBalance:W("previous_balance"),difference:W("difference"),notes:W("notes"),createdBy:Le("created_by").notNull(),createdAt:Qe("created_at").defaultNow(),updatedAt:Qe("updated_at").defaultNow()});rr(y5e).omit({id:!0,createdAt:!0,updatedAt:!0});const x5e=tr("document_categories",{id:Qt("id").primaryKey(),name:W("name").notNull(),description:W("description"),color:W("color").default("#3B82F6"),icon:W("icon").default("FileText"),isActive:$n("is_active").default(!0),createdAt:Qe("created_at").defaultNow()});rr(x5e).omit({id:!0,createdAt:!0});const b5e=tr("documents",{id:Qt("id").primaryKey(),title:W("title").notNull(),description:W("description"),fileName:W("file_name").notNull(),fileSize:Le("file_size"),fileType:W("file_type").notNull(),filePath:W("file_path").notNull(),categoryId:Le("category_id").notNull(),companyId:Le("company_id").notNull(),amount:W("amount"),currency:W("currency").default("MXN"),documentDate:W("document_date"),supplier:W("supplier"),referenceNumber:W("reference_number"),bankAccountId:Le("bank_account_id"),status:W("status").notNull().default("pending"),tags:fa("tags"),uploadedBy:Le("uploaded_by").notNull(),approvedBy:Le("approved_by"),createdAt:Qe("created_at").defaultNow(),updatedAt:Qe("updated_at").defaultNow()});rr(b5e).omit({id:!0,createdAt:!0,updatedAt:!0});const w5e=tr("payment_alerts",{id:Qt("id").primaryKey(),name:W("name").notNull(),description:W("description"),alertType:W("alert_type").notNull(),bankAccountId:Le("bank_account_id"),threshold:W("threshold"),recipients:fa("recipients").notNull(),isActive:$n("is_active").default(!0),lastTriggered:Qe("last_triggered"),createdBy:Le("created_by").notNull(),createdAt:Qe("created_at").defaultNow(),updatedAt:Qe("updated_at").defaultNow()});rr(w5e).omit({id:!0,createdAt:!0,updatedAt:!0});const j5e=tr("suppliers",{id:Qt("id").primaryKey(),name:W("name").notNull(),email:W("email").notNull(),phone:W("phone"),address:W("address"),rfc:W("rfc"),companyId:Le("company_id").notNull(),requiresReceipt:$n("requires_receipt").default(!1),isActive:$n("is_active").default(!0),notes:W("notes"),createdAt:Qe("created_at").defaultNow(),updatedAt:Qe("updated_at").defaultNow()});rr(j5e).omit({id:!0,createdAt:!0,updatedAt:!0});const S5e=PH("payment_status",["payment_sent","waiting_receipt","receipt_received","completed","no_receipt_required"]),N5e=tr("payments",{id:Qt("id").primaryKey(),companyId:Le("company_id").notNull(),supplierId:Le("supplier_id").notNull(),amount:W("amount").notNull(),currency:W("currency").notNull().default("MXN"),paymentDate:W("payment_date").notNull(),status:S5e("status").notNull().default("payment_sent"),isCashPayment:$n("is_cash_payment").default(!1),bankAccountId:Le("bank_account_id"),invoiceNumber:W("invoice_number"),description:W("description"),paymentReceiptPath:W("payment_receipt_path"),invoicePath:W("invoice_path"),supplierReceiptPath:W("supplier_receipt_path"),emailSent:$n("email_sent").default(!1),emailSentAt:Qe("email_sent_at"),lastReminderSent:Qe("last_reminder_sent"),reminderCount:Le("reminder_count").default(0),createdBy:Le("created_by").notNull(),updatedBy:Le("updated_by"),createdAt:Qe("created_at").defaultNow(),updatedAt:Qe("updated_at").defaultNow()});rr(N5e).omit({id:!0,createdAt:!0,updatedAt:!0});const P5e=tr("payment_reminders",{id:Qt("id").primaryKey(),paymentId:Le("payment_id").notNull(),reminderType:W("reminder_type").notNull(),scheduledFor:Qe("scheduled_for").notNull(),emailTo:W("email_to").notNull(),subject:W("subject").notNull(),body:W("body").notNull(),status:W("status").notNull().default("pending"),sentAt:Qe("sent_at"),reminderNumber:Le("reminder_number").default(1),errorMessage:W("error_message"),createdAt:Qe("created_at").defaultNow()});rr(P5e).omit({id:!0,createdAt:!0});const C5e=tr("transport_requests",{id:Qt("id").primaryKey(),shipmentId:Le("shipment_id").notNull(),providerId:W("provider_id").notNull(),providerName:W("provider_name").notNull(),providerEmail:W("provider_email").notNull(),requestData:fa("request_data").notNull(),status:W("status").notNull().default("sent"),requestedBy:Le("requested_by").notNull(),createdAt:Qe("created_at").defaultNow(),updatedAt:Qe("updated_at").defaultNow()});rr(C5e).omit({id:!0,createdAt:!0,updatedAt:!0});const A5e=tr("pending_invoices",{id:Qt("id").primaryKey(),companyId:Le("company_id").notNull(),supplierId:Le("supplier_id").notNull(),invoiceNumber:W("invoice_number").notNull(),amount:W("amount").notNull(),currency:W("currency").notNull().default("MXN"),issueDate:W("issue_date"),dueDate:W("due_date"),description:W("description"),invoicePath:W("invoice_path").notNull(),fileName:W("file_name").notNull(),fileSize:Le("file_size"),status:W("status").notNull().default("pending"),priority:W("priority").notNull().default("normal"),uploadedBy:Le("uploaded_by").notNull(),approvedBy:Le("approved_by"),processedBy:Le("processed_by"),paymentId:Le("payment_id"),notes:W("notes"),createdAt:Qe("created_at").defaultNow(),updatedAt:Qe("updated_at").defaultNow()});rr(A5e).omit({id:!0,createdAt:!0,updatedAt:!0});const E5e=tr("currency_quotes",{id:Qt("id").primaryKey(),sourceProvider:W("source_provider").notNull(),quotingUser:Le("quoting_user").notNull(),companyId:Le("company_id").notNull(),buyRate:W("buy_rate").notNull(),sellRate:W("sell_rate").notNull(),baseCurrency:W("base_currency").notNull().default("USD"),targetCurrency:W("target_currency").notNull().default("MXN"),quotingDate:W("quoting_date").notNull(),quotingTime:W("quoting_time").notNull(),notes:W("notes"),isActive:$n("is_active").default(!0),createdAt:Qe("created_at").defaultNow(),updatedAt:Qe("updated_at").defaultNow()});rr(E5e).omit({id:!0,createdAt:!0,updatedAt:!0});q.object({provider:q.string(),period:q.enum(["day","week","month","quarter","year"]),averageBuyRate:q.number(),averageSellRate:q.number(),minBuyRate:q.number(),maxBuyRate:q.number(),minSellRate:q.number(),maxSellRate:q.number(),volatility:q.number(),trend:q.enum(["up","down","stable"]),quotes:q.array(q.object({id:q.number(),buyRate:q.string(),sellRate:q.string(),quotingDate:q.string(),quotingTime:q.string()}))});const T5e=tr("transport_providers",{id:Qt("id").primaryKey(),name:W("name").notNull(),email:W("email").notNull(),phone:W("phone"),contactPerson:W("contact_person"),address:W("address"),website:W("website"),specialties:fa("specialties"),serviceAreas:fa("service_areas"),notes:W("notes"),isActive:$n("is_active").default(!0),requiresAppointment:$n("requires_appointment").default(!1),rating:Le("rating").default(5),createdBy:Le("created_by").notNull(),createdAt:Qe("created_at").defaultNow(),updatedAt:Qe("updated_at").defaultNow()});rr(T5e).omit({id:!0,createdAt:!0,updatedAt:!0});const _5e=tr("clients",{id:Qt("id").primaryKey(),name:W("name").notNull(),email:W("email"),phone:W("phone"),contactPerson:W("contact_person"),company:W("company"),address:W("address"),paymentTerms:Le("payment_terms").default(30),isActive:$n("is_active").default(!0),requiresReceipt:$n("requires_receipt").default(!0),reminderFrequency:Le("reminder_frequency").default(7),notes:W("notes"),createdAt:Qe("created_at").defaultNow(),updatedAt:Qe("updated_at").defaultNow()});rr(_5e).omit({id:!0,createdAt:!0,updatedAt:!0});const O5e={1:["Pinturas y Recubrimientos","Impresión de Tintas","Resina de Poliester Insaturado","Catalizadores de Poliuretano","Productos Químicos y Petroquímicos","Aditivos de Combustible","Lubricantes y Grasas"],2:["Catalizadores de Hidrogenación","Ácidos Grasos","Catalizadores Alcóxidos","Solventes","Aceites de Procesos","Otros","Sebos y Complementos","Catalizadores Gastados"]},k5e=["PEDRO TORRES CORDERO","ROMÁN MELGAREJO HERNÁNDEZ","GERARDO TORRES SEGURA","JESÚS ANTONIO GARCÍA ROJAS","LOGÍSTICA INTEGRAL GAFA","AUTOLÍNEAS DEX","C2, ENLACES TERRESTRES","JRB SEA TO SKY","JUAN MANUEL LÓPEZ TOSCANO","ALFA Y OMEGA FORWARDING","OPERADORA DE SERVICIOS PAQUETEXPRESS","DANNA Y MONT","TRANSPORTES POTOSINOS"],D5e={Camión:{Diesel:.9,Gasolina:1.1,GNC:.7,Eléctrico:.1},"Camión refrigerado":{Diesel:1.2,Gasolina:1.4,GNC:1,Eléctrico:.4},Cisterna:{Diesel:1.1,Gasolina:1.3,GNC:.9,Eléctrico:.3},Trailer:{Diesel:1.1,Gasolina:1.3,GNC:.8,Eléctrico:.3},Tanque:{Diesel:1.1,Gasolina:1.3,GNC:.9,Eléctrico:.3}},M5e=f5e.omit({companyId:!0,notificationEmails:!0}).extend({companyId:q.string().min(1,{message:"La empresa es requerida"}),departureDate:q.string().min(1,{message:"La fecha de salida es requerida"}),estimatedDeliveryDate:q.string().min(1,{message:"La fecha estimada de entrega es requerida"}),vehicleType:q.string().min(1,{message:"El tipo de vehículo es requerido"}),fuelType:q.string().min(1,{message:"El tipo de combustible es requerido"}),distance:q.string().min(1,{message:"La distancia es requerida"}),notificationEmails:q.string().optional(),purchaseOrderNumber:q.string().optional()}).refine(e=>{const t=new Date(e.departureDate);return new Date(e.estimatedDeliveryDate)>=t},{message:"La fecha estimada de entrega debe ser posterior a la fecha de salida",path:["estimatedDeliveryDate"]});function I5e(){const[e,t]=ss(),{toast:r}=wn(),[n,a]=v.useState(!1),[i,o]=v.useState(null),[l,c]=v.useState([]),[u,d]=v.useState(1),f=4,h=["Información Básica","Logística","Huella de Carbono","Información Adicional"],{data:p=[],isLoading:x}=$e({queryKey:["/api/companies"]});v.useEffect(()=>{const S=m.getValues("origin"),P=m.getValues("destination");if(S&&P&&u===3){const C=CR(S,P);if(C)m.setValue("distance",C.toString()),r({title:"Distancia calculada automáticamente",description:`Se ha calculado una distancia de ${C} km entre origen y destino.`});else{const A="350";m.setValue("distance",A),r({title:"Usando distancia predeterminada",description:`No fue posible calcular la distancia exacta. Se ha establecido un valor predeterminado de ${A} km que puedes editar manualmente.`})}}},[u]);const m=Gd({resolver:Xd(M5e),defaultValues:{trackingCode:y(),companyId:"",purchaseOrderNumber:"",customerName:"",destination:"",origin:"",product:"",quantity:"",unit:"KG",status:"pending",carrier:"",vehicleType:"",fuelType:"Diesel",distance:"",departureDate:Or(new Date,"yyyy-MM-dd"),estimatedDeliveryDate:Or(new Date(Date.now()+3*24*60*60*1e3),"yyyy-MM-dd"),notificationEmails:""}}),g=At({mutationFn:async S=>{if(!S.companyId)throw new Error("Debe seleccionar una empresa");const P=parseInt(S.companyId);if(isNaN(P))throw new Error("ID de empresa inválido");let C=i||0;console.log(`[Nuevo envío] Huella de carbono calculada: ${C} kg CO2e`);const A=S.notificationEmails?S.notificationEmails.split(",").map(_=>_.trim()).filter(_=>_.length>0):[],E={...S,departureDate:new Date(S.departureDate).toISOString(),estimatedDeliveryDate:new Date(S.estimatedDeliveryDate).toISOString(),companyId:P,carbonFootprint:C,notificationEmails:A.length>0?A:null};return(await zt("POST","/api/shipments",E)).json()},onSuccess:()=>{r({title:"Envío creado",description:"El envío se ha creado correctamente"}),Rl.invalidateQueries({queryKey:["/api/shipments"]}),t("/shipments")},onError:S=>{console.error("Error al crear envío:",S),r({title:"Error",description:S.message||"No se pudo crear el envío. Verifica todos los campos.",variant:"destructive"})}}),w=()=>{var _;const S=m.getValues("vehicleType"),P=m.getValues("fuelType");let C=parseFloat(m.getValues("distance")||"0");if(!C&&C!==0&&(C=350,m.setValue("distance",C.toString()),r({title:"Distancia ajustada",description:"Se ha establecido una distancia predeterminada de 350 km para el cálculo."})),!S||!P){r({title:"Datos incompletos",description:"Por favor, selecciona un tipo de vehículo y combustible antes de calcular.",variant:"destructive"});return}let A=(_=D5e[S])==null?void 0:_[P];A||(A=.9,r({title:"Usando factor predeterminado",description:"Se ha usado un factor de emisión general para el cálculo.",variant:"default"}));const E=C*A,T=E.toFixed(0);o(E),a(!0),r({title:"Cálculo realizado",description:`Huella de carbono estimada: ${T} kg CO2e`})};function y(S){let P="DUR";S&&(S==="1"?P="DUR":S==="2"&&(P="ORS"));const C=new Date,A=C.getFullYear().toString().substr(2,2),E=(C.getMonth()+1).toString().padStart(2,"0"),T=Math.floor(Math.random()*1e4).toString().padStart(4,"0");return`${P}-${A}${E}-${T}`}const b=()=>{let S=!0;if(u===1){const P=m.getValues("companyId"),C=m.getValues("customerName"),A=m.getValues("product"),E=m.getValues("quantity");(!P||!C||!A||!E)&&(r({title:"Campos incompletos",description:"Por favor, completa todos los campos obligatorios antes de continuar",variant:"destructive"}),S=!1)}else if(u===2){const P=m.getValues("origin"),C=m.getValues("destination"),A=m.getValues("departureDate"),E=m.getValues("estimatedDeliveryDate");m.getValues("carrier");const T=[];if((!P||P.trim().length<2)&&T.push("Origen"),(!C||C.trim().length<2)&&T.push("Destino"),A||T.push("Fecha de salida"),E||T.push("Fecha estimada de entrega"),T.length>0&&(r({title:"Campos incompletos",description:`Completa: ${T.join(", ")}`,variant:"destructive"}),S=!1),A&&E){const _=new Date(A);new Date(E)<=_&&(r({title:"Error en fechas",description:"La fecha de entrega debe ser posterior a la fecha de salida",variant:"destructive"}),S=!1)}}else u===3&&(i||(r({title:"Cálculo pendiente",description:"Por favor, calcula la huella de carbono antes de continuar",variant:"destructive"}),S=!1));S&&u<f&&d(u+1)},N=()=>{u>1&&d(u-1)},j=S=>{if(!i){r({title:"Huella de carbono",description:"Por favor, calcula la huella de carbono antes de crear el envío",variant:"default"});return}g.mutate(S)};return x?s.jsx(Qa,{title:"Nuevo Envío",children:s.jsx("div",{className:"flex items-center justify-center min-h-[50vh]",children:s.jsx(qi,{className:"h-8 w-8 animate-spin text-primary"})})}):s.jsx(Qa,{title:"Nuevo Envío",children:s.jsxs("div",{className:"w-full max-w-4xl mx-auto px-4 sm:px-6",children:[s.jsx("div",{className:"flex items-center space-x-2 mb-4 sm:mb-6",children:s.jsxs(re,{variant:"outline",size:"sm",onClick:()=>t("/shipments"),children:[s.jsx(hc,{className:"mr-1 sm:mr-2 h-4 w-4"}),s.jsx("span",{className:"text-xs sm:text-sm",children:"Volver a Envíos"})]})}),s.jsxs(le,{className:"shadow-lg",children:[s.jsxs(_e,{className:"py-4 sm:py-6",children:[s.jsx(ke,{className:"text-lg sm:text-xl",children:"Nuevo Envío"}),s.jsxs(Et,{className:"text-xs sm:text-sm",children:["Completa el formulario para crear un nuevo envío.",s.jsx("span",{className:"block mt-1 text-primary font-medium",children:"Responsable de Logística: Thalia Rodriguez"})]})]}),s.jsxs(ce,{className:"px-3 sm:px-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("div",{className:"flex justify-between",children:h.map((S,P)=>s.jsxs("div",{className:`flex flex-col items-center text-center flex-1 ${P>0?"ml-4":""}`,children:[s.jsx("div",{className:`flex items-center justify-center w-8 h-8 rounded-full mb-2 ${u>P+1?"bg-green-100 text-green-600 border border-green-600":u===P+1?"bg-primary text-white":"bg-gray-100 text-gray-400 border border-gray-300"}`,children:u>P+1?s.jsx(a6,{className:"h-5 w-5"}):s.jsx("span",{className:"text-sm font-semibold",children:P+1})}),s.jsx("span",{className:`text-xs sm:text-sm ${u===P+1?"font-semibold text-primary":"text-gray-500"}`,children:S})]},P))}),s.jsx("div",{className:"relative flex items-center mt-1",children:s.jsx("div",{className:"flex-grow border-t border-gray-300"})})]}),s.jsx(Jd,{...m,children:s.jsxs("form",{onSubmit:m.handleSubmit(j),className:"space-y-6",children:[u===1&&s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsx(gt,{control:m.control,name:"trackingCode",render:({field:S})=>s.jsxs(ft,{children:[s.jsx(ht,{children:"Código de seguimiento"}),s.jsx(mt,{children:s.jsx(Ee,{...S,readOnly:!0})}),s.jsx(wo,{children:"Código generado automáticamente"}),s.jsx(vt,{})]})}),s.jsx(gt,{control:m.control,name:"companyId",render:({field:S})=>s.jsxs(ft,{children:[s.jsx(ht,{children:"Empresa"}),s.jsxs(Xe,{onValueChange:P=>{S.onChange(P);const C=O5e[P]||[];c(C),m.setValue("product","");const A=y(P);m.setValue("trackingCode",A),r({title:"Código actualizado",description:`Se ha generado un nuevo código de seguimiento: ${A}`})},defaultValue:S.value,children:[s.jsx(mt,{children:s.jsx(He,{children:s.jsx(Ye,{placeholder:"Selecciona una empresa"})})}),s.jsx(Ge,{children:p.map(P=>s.jsx(G,{value:P.id.toString(),children:P.name},P.id))})]}),s.jsx(vt,{})]})}),s.jsx(gt,{control:m.control,name:"customerName",render:({field:S})=>s.jsxs(ft,{children:[s.jsx(ht,{children:"Cliente"}),s.jsx(mt,{children:s.jsx(Ee,{...S,placeholder:"Nombre del cliente"})}),s.jsx(vt,{})]})}),s.jsx(gt,{control:m.control,name:"purchaseOrderNumber",render:({field:S})=>s.jsxs(ft,{children:[s.jsx(ht,{children:"Número de Orden de Compra"}),s.jsx(mt,{children:s.jsx(Ee,{...S,placeholder:"Ej: OC-2025-001"})}),s.jsx(wo,{children:"Número de orden de compra (opcional)"}),s.jsx(vt,{})]})}),s.jsx(gt,{control:m.control,name:"product",render:({field:S})=>s.jsxs(ft,{children:[s.jsx(ht,{children:"Producto"}),l.length>0?s.jsxs(Xe,{onValueChange:S.onChange,value:S.value,children:[s.jsx(mt,{children:s.jsx(He,{children:s.jsx(Ye,{placeholder:"Seleccione un producto"})})}),s.jsx(Ge,{children:l.map((P,C)=>s.jsx(G,{value:P,children:P},C))})]}):s.jsxs("div",{className:"space-y-2",children:[s.jsx(mt,{children:s.jsx(Ee,{...S,placeholder:m.getValues("companyId")?"Seleccione una empresa con productos disponibles":"Primero seleccione una empresa",disabled:!m.getValues("companyId")})}),m.getValues("companyId")&&s.jsx("p",{className:"text-xs text-amber-600",children:"No hay productos predefinidos para esta empresa. Puede ingresar el producto manualmente."})]}),s.jsx(vt,{})]})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(gt,{control:m.control,name:"quantity",render:({field:S})=>s.jsxs(ft,{children:[s.jsx(ht,{children:"Cantidad"}),s.jsx(mt,{children:s.jsx(Ee,{...S,type:"text",placeholder:"Ej: 5000"})}),s.jsx(vt,{})]})}),s.jsx(gt,{control:m.control,name:"unit",render:({field:S})=>s.jsxs(ft,{children:[s.jsx(ht,{children:"Unidad"}),s.jsxs(Xe,{onValueChange:S.onChange,defaultValue:S.value,children:[s.jsx(mt,{children:s.jsx(He,{children:s.jsx(Ye,{placeholder:"Selecciona una unidad"})})}),s.jsxs(Ge,{children:[s.jsx(G,{value:"KG",children:"Kilogramos"}),s.jsx(G,{value:"L",children:"Litros"}),s.jsx(G,{value:"unidades",children:"Unidades"}),s.jsx(G,{value:"cajas",children:"Cajas"}),s.jsx(G,{value:"pallets",children:"Pallets"}),s.jsx(G,{value:"Full",children:"Full"}),s.jsx(G,{value:"Sencillo",children:"Sencillo"}),s.jsx(G,{value:"Pipa",children:"Pipa"})]})]}),s.jsx(vt,{})]})})]}),s.jsx(gt,{control:m.control,name:"origin",render:({field:S})=>s.jsxs(ft,{children:[s.jsx(ht,{children:"Origen"}),s.jsx(SR,{placeholder:"Ej: Altamira, Nextipac, CDMX...",value:S.value,onChange:S.onChange,name:S.name,disabled:S.disabled}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Escribe cualquier ubicación. Las sugerencias son opcionales."}),s.jsx(vt,{})]})}),s.jsx(gt,{control:m.control,name:"destination",render:({field:S})=>s.jsxs(ft,{children:[s.jsx(ht,{children:"Destino"}),s.jsx(SR,{placeholder:"Ej: Altamira, Nextipac, CDMX...",value:S.value,onChange:S.onChange,name:S.name,disabled:S.disabled}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Escribe cualquier ubicación. Las sugerencias son opcionales."}),s.jsx(vt,{})]})})]})}),u===2&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs(Ec,{className:"mb-4 bg-blue-50 border-blue-200",children:[s.jsx(Ap,{className:"text-primary font-medium",children:"Información de Logística"}),s.jsxs(Tc,{children:["La logística de este envío está gestionada por ",s.jsx("span",{className:"font-medium",children:"Thalia Rodriguez"}),". Por favor, complete los datos de forma precisa para facilitar el seguimiento."]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsx(gt,{control:m.control,name:"departureDate",render:({field:S})=>s.jsxs(ft,{children:[s.jsx(ht,{children:"Fecha de salida"}),s.jsx(mt,{children:s.jsx("div",{className:"flex",children:s.jsx(Ee,{type:"date",...S})})}),s.jsx(vt,{})]})}),s.jsx(gt,{control:m.control,name:"estimatedDeliveryDate",render:({field:S})=>s.jsxs(ft,{children:[s.jsx(ht,{children:"Fecha estimada de entrega"}),s.jsx(mt,{children:s.jsx("div",{className:"flex",children:s.jsx(Ee,{type:"date",...S})})}),s.jsx(vt,{})]})}),s.jsx(gt,{control:m.control,name:"carrier",render:({field:S})=>s.jsxs(ft,{children:[s.jsx(ht,{children:"Transportista (Opcional)"}),s.jsxs(Xe,{onValueChange:S.onChange,defaultValue:S.value||"",children:[s.jsx(mt,{children:s.jsx(He,{children:s.jsx(Ye,{placeholder:"Se asignará después por logística"})})}),s.jsxs(Ge,{children:[s.jsx(G,{value:"",children:"Sin asignar"}),k5e.map((P,C)=>s.jsx(G,{value:P,children:P},C))]})]}),s.jsx(wo,{children:"Logística asignará el transportista posteriormente"}),s.jsx(vt,{})]})}),s.jsx(gt,{control:m.control,name:"notificationEmails",render:({field:S})=>s.jsxs(ft,{className:"md:col-span-2",children:[s.jsx(ht,{children:"Emails del Cliente"}),s.jsx(mt,{children:s.jsx(Za,{...S,placeholder:"contacto@clienteempresa.com, gerente@clienteempresa.com",className:"resize-none",rows:3})}),s.jsx(wo,{children:"Emails del cliente separados por comas para recibir notificaciones del envío"}),s.jsx(vt,{})]})}),s.jsx(gt,{control:m.control,name:"vehicleInfo",render:({field:S})=>s.jsxs(ft,{children:[s.jsx(ht,{children:"Información del vehículo"}),s.jsx(mt,{children:s.jsx(Ee,{...S,value:S.value||"",placeholder:"Ej: Cisterna C-3540"})}),s.jsx(vt,{})]})})]})]}),u===3&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsx(gt,{control:m.control,name:"vehicleType",render:({field:S})=>s.jsxs(ft,{children:[s.jsx(ht,{children:"Tipo de vehículo"}),s.jsxs(Xe,{onValueChange:S.onChange,defaultValue:S.value,children:[s.jsx(mt,{children:s.jsx(He,{children:s.jsx(Ye,{placeholder:"Selecciona un tipo de vehículo"})})}),s.jsxs(Ge,{children:[s.jsx(G,{value:"Camión",children:"Camión"}),s.jsx(G,{value:"Camión refrigerado",children:"Camión refrigerado"}),s.jsx(G,{value:"Cisterna",children:"Cisterna"}),s.jsx(G,{value:"Trailer",children:"Trailer"}),s.jsx(G,{value:"Tanque",children:"Tanque"})]})]}),s.jsx(vt,{})]})}),s.jsx(gt,{control:m.control,name:"fuelType",render:({field:S})=>s.jsxs(ft,{children:[s.jsx(ht,{children:"Tipo de combustible"}),s.jsxs(Xe,{onValueChange:S.onChange,defaultValue:S.value,children:[s.jsx(mt,{children:s.jsx(He,{children:s.jsx(Ye,{placeholder:"Selecciona un tipo de combustible"})})}),s.jsxs(Ge,{children:[s.jsx(G,{value:"Diesel",children:"Diesel"}),s.jsx(G,{value:"Gasolina",children:"Gasolina"}),s.jsx(G,{value:"GNC",children:"Gas Natural Comprimido"}),s.jsx(G,{value:"Eléctrico",children:"Eléctrico"})]})]}),s.jsx(vt,{})]})}),s.jsx(gt,{control:m.control,name:"distance",render:({field:S})=>s.jsxs(ft,{children:[s.jsx(ht,{children:"Distancia (km)"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(mt,{className:"flex-1",children:s.jsx(Ee,{...S,type:"number",placeholder:"Calculado automáticamente desde origen y destino",min:"1"})}),s.jsx(re,{type:"button",variant:"outline",size:"icon",onClick:()=>{const P=m.getValues("origin"),C=m.getValues("destination");if(P&&C){const A=CR(P,C);A?(m.setValue("distance",A.toString()),r({title:"Distancia recalculada",description:`Se ha calculado una distancia de ${A} km entre origen y destino.`})):r({title:"No se pudo calcular la distancia",description:"Asegúrate de que los campos de origen y destino contengan códigos postales válidos.",variant:"destructive"})}else r({title:"Datos incompletos",description:"Debes seleccionar un origen y un destino para calcular la distancia.",variant:"destructive"})},title:"Recalcular distancia",children:s.jsx($w,{className:"h-4 w-4"})})]}),s.jsx(wo,{children:"Se calcula automáticamente a partir del origen y destino seleccionados"}),s.jsx(vt,{})]})})]}),s.jsx("div",{className:"flex justify-center mt-4",children:s.jsxs(re,{type:"button",onClick:w,className:"bg-primary text-white flex items-center gap-2",children:[s.jsx($w,{className:"h-4 w-4"}),"Calcular huella de carbono"]})}),n&&i&&s.jsxs(Ec,{className:"mt-4 bg-green-50 border-green-200",children:[s.jsx($w,{className:"h-4 w-4 text-green-600"}),s.jsx(Ap,{className:"text-green-700 text-sm",children:"Huella de carbono calculada"}),s.jsxs(Tc,{className:"text-green-700 text-xs sm:text-sm",children:["Se estima que este envío generará aproximadamente ",s.jsxs("span",{className:"font-bold",children:[i?i.toFixed(0):"0"," kg de CO2e"]}),"."]})]})]}),u===4&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsx(gt,{control:m.control,name:"customerEmail",render:({field:S})=>s.jsxs(ft,{children:[s.jsx(ht,{children:"Email del cliente"}),s.jsx(mt,{children:s.jsx(Ee,{type:"email",placeholder:"correo@ejemplo.com",className:"w-full",...S,value:S.value||""})}),s.jsx(vt,{})]})}),s.jsx(gt,{control:m.control,name:"customerPhone",render:({field:S})=>s.jsxs(ft,{children:[s.jsx(ht,{children:"Teléfono del cliente"}),s.jsx(mt,{children:s.jsx(Ee,{placeholder:"Número de teléfono",className:"w-full",...S,value:S.value||""})}),s.jsx(vt,{})]})})]}),s.jsx(gt,{control:m.control,name:"comments",render:({field:S})=>s.jsxs(ft,{children:[s.jsx(ht,{children:"Comentarios adicionales"}),s.jsx(mt,{children:s.jsx(Za,{placeholder:"Ingrese cualquier información adicional relevante para este envío",className:"w-full min-h-[120px]",...S,value:S.value||""})}),s.jsx(vt,{})]})})]}),s.jsxs("div",{className:"flex justify-between pt-6",children:[s.jsx(re,{type:"button",variant:"outline",onClick:()=>t("/shipments"),className:"text-xs sm:text-sm",children:"Cancelar"}),s.jsxs("div",{className:"flex space-x-2",children:[u>1&&s.jsxs(re,{type:"button",variant:"secondary",onClick:N,className:"text-xs sm:text-sm flex items-center",children:[s.jsx(Uee,{className:"h-4 w-4 mr-1"}),"Anterior"]}),u<f?s.jsxs(re,{type:"button",onClick:b,className:"text-xs sm:text-sm bg-primary text-white flex items-center",children:["Siguiente",s.jsx(sy,{className:"h-4 w-4 ml-1"})]}):s.jsx(re,{type:"submit",className:"text-xs sm:text-sm bg-primary text-white",disabled:g.isPending,children:g.isPending?s.jsxs(s.Fragment,{children:[s.jsx(qi,{className:"mr-2 h-4 w-4 animate-spin"}),"Guardando..."]}):"Crear Envío"})]})]})]})})]})]})]})})}function Zc({className:e,...t}){return s.jsx("div",{className:he("animate-pulse rounded-md bg-muted",e),...t})}const R5e=(e,t=3)=>{var d;if(!e||e.length<2)return[];const r=e.length,n=e.slice(-r),a=n.map(f=>{const h=parseFloat(String(f.value||"0").replace(/[^0-9.-]+/g,""));return isNaN(h)?0:h});let i=0;for(let f=1;f<a.length;f++)i+=a[f]-a[f-1];const o=i/(a.length-1||1),l=a[a.length-1]||0,c=((d=n[n.length-1])==null?void 0:d.period)||"Enero 2025",u=[];for(let f=1;f<=t;f++){const h=l+o*f,p=c.split(" "),x=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"];let m=x.findIndex(y=>y===p[0]);m===-1&&(m=0);let g=parseInt(p[1]||"2025");isNaN(g)&&(g=2025),m=(m+f)%12,m+f>=12&&(g+=Math.floor((m+f)/12));const w=h.toFixed(2);u.push({period:`${x[m]} ${g}`,date:`Proyección ${f}`,value:h,originalValue:w,isProjection:!0})}return u},$5e=e=>{if(!e||e.length<2)return{change:"0",percentChange:"0",numericPercentChange:0,trend:"neutral"};const t=e.map(l=>{const c=parseFloat(String(l.value).replace(/[^0-9.-]+/g,""));return isNaN(c)?0:c}),r=t[0],a=t[t.length-1]-r,i=r!==0?a/Math.abs(r)*100:0;let o="neutral";return i>3?o="up":i<-3&&(o="down"),{change:a.toFixed(2),percentChange:i.toFixed(2),numericPercentChange:i,trend:o}};function L5e(){const[e,t]=v.useState(""),[r,n]=v.useState(""),[a,i]=v.useState(""),[o,l]=v.useState("all"),[c,u]=v.useState(!0),{data:d,isLoading:f}=$e({queryKey:["/api/companies"]}),{data:h,isLoading:p}=$e({queryKey:["/api/areas",e?{companyId:parseInt(e)}:null],enabled:!!e}),{data:x,isLoading:m}=$e({queryKey:["/api/kpis",e?{companyId:parseInt(e)}:null,r?{areaId:parseInt(r)}:null],enabled:!!e}),{data:g,isLoading:w}=$e({queryKey:["/api/kpi-values",a?{kpiId:parseInt(a)}:null],enabled:!!a}),y=g&&Array.isArray(g)?g.filter(C=>{if(o==="all")return!0;if(o==="3months"){const A=new Date(C.date),E=new Date;return E.setMonth(E.getMonth()-3),A>=E}if(o==="6months"){const A=new Date(C.date),E=new Date;return E.setMonth(E.getMonth()-6),A>=E}return!0}).sort((C,A)=>new Date(C.date).getTime()-new Date(A.date).getTime()):[],b=x&&Array.isArray(x)&&a?x.find(C=>C.id===parseInt(a)):null,N=y.map(C=>({period:C.period||"Sin período",date:C.date?new Date(C.date).toLocaleDateString("es-ES",{day:"2-digit",month:"short",year:"numeric"}):"Sin fecha",value:parseFloat(String(C.value||"0").replace(/[^0-9.-]+/g,""))||0,originalValue:C.value||"0",status:C.status,isProjection:!1})),j=c?R5e(y):[],S=[...N,...j],P=$5e(y);return v.useEffect(()=>{n(""),i("")},[e]),v.useEffect(()=>{i("")},[r]),s.jsx(Qa,{title:"Análisis de Tendencias",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Análisis de Tendencias"}),s.jsx("p",{className:"text-secondary-500 dark:text-secondary-400",children:"Analiza la evolución histórica de los KPIs y proyecta tendencias futuras"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs(Xe,{value:o,onValueChange:l,children:[s.jsx(He,{className:"w-[180px]",children:s.jsx(Ye,{placeholder:"Período de tiempo"})}),s.jsxs(Ge,{children:[s.jsx(G,{value:"all",children:"Todo el historial"}),s.jsx(G,{value:"6months",children:"Últimos 6 meses"}),s.jsx(G,{value:"3months",children:"Últimos 3 meses"})]})]}),s.jsxs(re,{variant:c?"default":"outline",size:"sm",onClick:()=>u(!c),children:[s.jsx(rn,{className:"mr-2 h-4 w-4"}),c?"Ocultar proyecciones":"Mostrar proyecciones"]})]})]}),s.jsxs(le,{children:[s.jsxs(_e,{className:"pb-3",children:[s.jsx(ke,{className:"text-lg",children:"Filtros"}),s.jsx(Et,{children:"Selecciona una empresa, área y KPI para analizar sus tendencias"})]}),s.jsx(ce,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Empresa"}),s.jsxs(Xe,{value:e,onValueChange:t,children:[s.jsx(He,{children:s.jsx(Ye,{placeholder:"Seleccionar empresa"})}),s.jsx(Ge,{children:f?s.jsx("div",{className:"py-2 px-4",children:s.jsx(Zc,{className:"h-5 w-full"})}):d&&Array.isArray(d)?d.map(C=>s.jsx(G,{value:C.id.toString(),children:C.name},C.id)):s.jsx("div",{className:"py-2 px-4 text-center text-secondary-500",children:"No hay empresas disponibles"})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Área"}),s.jsxs(Xe,{value:r,onValueChange:n,disabled:!e||p,children:[s.jsx(He,{children:s.jsx(Ye,{placeholder:"Seleccionar área"})}),s.jsx(Ge,{children:p?s.jsx("div",{className:"py-2 px-4",children:s.jsx(Zc,{className:"h-5 w-full"})}):h&&Array.isArray(h)?h.filter(C=>C.companyId===parseInt(e)).map(C=>s.jsx(G,{value:C.id.toString(),children:C.name},C.id)):s.jsx("div",{className:"py-2 px-4 text-center text-secondary-500",children:"No hay áreas disponibles"})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"KPI"}),s.jsxs(Xe,{value:a,onValueChange:i,disabled:!e&&!r||m,children:[s.jsx(He,{children:s.jsx(Ye,{placeholder:"Seleccionar KPI"})}),s.jsx(Ge,{children:m?s.jsx("div",{className:"py-2 px-4",children:s.jsx(Zc,{className:"h-5 w-full"})}):x&&Array.isArray(x)?x.filter(C=>r?C.areaId===parseInt(r):C.companyId===parseInt(e)).map(C=>s.jsx(G,{value:C.id.toString(),children:C.name},C.id)):s.jsx("div",{className:"py-2 px-4 text-center text-secondary-500",children:"No hay KPIs disponibles"})})]})]})]})})]}),a&&b?s.jsxs("div",{className:"space-y-6",children:[s.jsxs(le,{children:[s.jsx(_e,{className:"pb-2",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(ke,{children:b.name}),s.jsx(Et,{className:"mt-1",children:b.description||"Sin descripción"})]}),s.jsx(Ze,{variant:"outline",className:"ml-2",children:b.unit||"Sin unidad"})]})}),s.jsx(ce,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-primary-50 dark:bg-primary-900/20 rounded-lg p-4",children:[s.jsx("div",{className:"text-sm text-secondary-500 dark:text-secondary-400 mb-1",children:"Valor actual"}),s.jsx("div",{className:"text-2xl font-bold",children:y.length>0?y[y.length-1].value:"N/A"}),s.jsxs("div",{className:"text-xs text-secondary-500 dark:text-secondary-400 mt-1",children:[s.jsx(ja,{className:"inline h-3 w-3 mr-1"}),y.length>0?new Date(y[y.length-1].date).toLocaleDateString("es-ES"):"Sin fecha"]})]}),s.jsxs("div",{className:"bg-secondary-50 dark:bg-secondary-900/20 rounded-lg p-4",children:[s.jsx("div",{className:"text-sm text-secondary-500 dark:text-secondary-400 mb-1",children:"Meta"}),s.jsx("div",{className:"text-2xl font-bold",children:b.target||"N/A"}),s.jsx("div",{className:"text-xs text-primary-600 dark:text-primary-400 mt-1",children:b.targetDescription||"Valor objetivo"})]}),s.jsxs("div",{className:"bg-secondary-50 dark:bg-secondary-900/20 rounded-lg p-4",children:[s.jsx("div",{className:"text-sm text-secondary-500 dark:text-secondary-400 mb-1",children:"Cambio absoluto"}),s.jsxs("div",{className:"text-2xl font-bold flex items-center",children:[P.change,P.trend==="up"&&s.jsx(dO,{className:"ml-1 h-5 w-5 text-green-600"}),P.trend==="down"&&s.jsx(uO,{className:"ml-1 h-5 w-5 text-red-600"})]}),s.jsx("div",{className:"text-xs text-secondary-500 dark:text-secondary-400 mt-1",children:"Desde el primer registro"})]}),s.jsxs("div",{className:"bg-secondary-50 dark:bg-secondary-900/20 rounded-lg p-4",children:[s.jsx("div",{className:"text-sm text-secondary-500 dark:text-secondary-400 mb-1",children:"Cambio porcentual"}),s.jsxs("div",{className:`text-2xl font-bold flex items-center ${P.trend==="up"?"text-green-600 dark:text-green-400":P.trend==="down"?"text-red-600 dark:text-red-400":"text-secondary-800 dark:text-secondary-200"}`,children:[P.percentChange,"%",P.trend==="up"&&s.jsx(dO,{className:"ml-1 h-5 w-5"}),P.trend==="down"&&s.jsx(uO,{className:"ml-1 h-5 w-5"})]}),s.jsx("div",{className:"text-xs text-secondary-500 dark:text-secondary-400 mt-1",children:P.trend==="up"?"Tendencia positiva":P.trend==="down"?"Tendencia negativa":"Sin cambios significativos"})]})]})})]}),s.jsxs(hl,{defaultValue:"line",className:"w-full",children:[s.jsxs(Ys,{className:"mb-4",children:[s.jsxs(Xt,{value:"line",children:[s.jsx(rn,{className:"mr-2 h-4 w-4"}),"Línea de tendencia"]}),s.jsxs(Xt,{value:"bar",children:[s.jsx(iy,{className:"mr-2 h-4 w-4"}),"Gráfico de barras"]}),s.jsxs(Xt,{value:"area",children:[s.jsx(iy,{className:"mr-2 h-4 w-4"}),"Gráfico de área"]})]}),s.jsx(mr,{value:"line",className:"mt-0",children:s.jsxs(le,{children:[s.jsxs(_e,{className:"pb-2",children:[s.jsx(ke,{className:"text-lg",children:"Evolución histórica y proyección"}),s.jsx(Et,{children:"Evolución del KPI a lo largo del tiempo con proyección futura"})]}),s.jsx(ce,{children:w?s.jsx(Zc,{className:"h-[400px] w-full"}):S.length>0?s.jsx("div",{className:"h-[400px] w-full",children:s.jsx(Is,{width:"100%",height:"100%",children:s.jsxs(Vb,{data:S,margin:{top:10,right:30,left:20,bottom:30},children:[s.jsx(as,{strokeDasharray:"3 3"}),s.jsx(Mn,{dataKey:"date",angle:-45,textAnchor:"end",height:70,tick:{fontSize:11}}),s.jsx(In,{}),s.jsx(Kr,{formatter:(C,A)=>{const E=S.find(T=>T.value===C);return[(E==null?void 0:E.originalValue)||C,"Valor"]},labelFormatter:C=>{const A=S.find(E=>E.date===C);return`${(A==null?void 0:A.period)||C}`}}),s.jsx(xa,{}),s.jsx(Na,{type:"monotone",dataKey:"value",stroke:"#3b82f6",strokeWidth:2,dot:{r:4},name:"Valor Histórico",activeDot:{r:6},connectNulls:!0,isAnimationActive:!0,animationDuration:1e3}),c&&j.length>0&&s.jsx(Na,{type:"monotone",dataKey:"value",stroke:"#8884d8",strokeDasharray:"5 5",strokeWidth:2,dot:{r:4,fill:"#8884d8"},name:"Proyección",connectNulls:!0,isAnimationActive:!0,animationDuration:1e3,data:j}),b.target&&s.jsx(Ru,{y:parseFloat(String(b.target).replace(/[^0-9.-]+/g,"")),stroke:"#16a34a",strokeDasharray:"3 3",label:{value:"Meta",position:"insideBottomRight",fill:"#16a34a",fontSize:12}})]})})}):s.jsx("div",{className:"h-[400px] w-full flex items-center justify-center bg-secondary-50 dark:bg-secondary-900/20 rounded-lg",children:s.jsxs("div",{className:"text-center",children:[s.jsx(xh,{className:"h-10 w-10 text-secondary-400 mx-auto mb-2"}),s.jsx("p",{className:"text-secondary-500 dark:text-secondary-400",children:"No hay datos suficientes para mostrar la tendencia"}),s.jsx("p",{className:"text-xs text-secondary-500 dark:text-secondary-400 mt-1",children:"Añade valores históricos para visualizar la evolución"})]})})})]})}),s.jsx(mr,{value:"bar",className:"mt-0",children:s.jsxs(le,{children:[s.jsxs(_e,{className:"pb-2",children:[s.jsx(ke,{className:"text-lg",children:"Comparativa por períodos"}),s.jsx(Et,{children:"Compara los valores del KPI entre diferentes períodos"})]}),s.jsx(ce,{children:w?s.jsx(Zc,{className:"h-[400px] w-full"}):N.length>0?s.jsx("div",{className:"h-[400px] w-full",children:s.jsx(Is,{width:"100%",height:"100%",children:s.jsxs(aT,{data:N,margin:{top:10,right:30,left:20,bottom:30},children:[s.jsx(as,{strokeDasharray:"3 3"}),s.jsx(Mn,{dataKey:"date",angle:-45,textAnchor:"end",height:70,tick:{fontSize:11}}),s.jsx(In,{}),s.jsx(Kr,{formatter:(C,A)=>{const E=N.find(T=>T.value===C);return[(E==null?void 0:E.originalValue)||C,"Valor"]},labelFormatter:C=>{const A=N.find(E=>E.date===C);return`${(A==null?void 0:A.period)||C}`}}),s.jsx(xa,{}),s.jsx(Xn,{dataKey:"value",fill:"#3b82f6",name:"Valor",isAnimationActive:!0,animationDuration:1e3}),b.target&&s.jsx(Ru,{y:parseFloat(String(b.target).replace(/[^0-9.-]+/g,"")),stroke:"#16a34a",strokeDasharray:"3 3",label:{value:"Meta",position:"insideBottomRight",fill:"#16a34a",fontSize:12}})]})})}):s.jsx("div",{className:"h-[400px] w-full flex items-center justify-center bg-secondary-50 dark:bg-secondary-900/20 rounded-lg",children:s.jsxs("div",{className:"text-center",children:[s.jsx(xh,{className:"h-10 w-10 text-secondary-400 mx-auto mb-2"}),s.jsx("p",{className:"text-secondary-500 dark:text-secondary-400",children:"No hay datos suficientes para mostrar la comparativa"}),s.jsx("p",{className:"text-xs text-secondary-500 dark:text-secondary-400 mt-1",children:"Añade valores históricos para visualizar los períodos"})]})})})]})}),s.jsx(mr,{value:"area",className:"mt-0",children:s.jsxs(le,{children:[s.jsxs(_e,{className:"pb-2",children:[s.jsx(ke,{className:"text-lg",children:"Gráfico de área"}),s.jsx(Et,{children:"Visualiza la evolución con un gráfico de área sombreada para mejor percepción"})]}),s.jsx(ce,{children:w?s.jsx(Zc,{className:"h-[400px] w-full"}):N.length>0?s.jsx("div",{className:"h-[400px] w-full",children:s.jsx(Is,{width:"100%",height:"100%",children:s.jsxs(eRe,{data:S,margin:{top:10,right:30,left:20,bottom:30},children:[s.jsx(as,{strokeDasharray:"3 3"}),s.jsx(Mn,{dataKey:"date",angle:-45,textAnchor:"end",height:70,tick:{fontSize:11}}),s.jsx(In,{}),s.jsx(Kr,{formatter:(C,A)=>{const E=S.find(T=>T.value===C);return[(E==null?void 0:E.originalValue)||C,"Valor"]},labelFormatter:C=>{const A=S.find(E=>E.date===C);return`${(A==null?void 0:A.period)||C}`}}),s.jsx(xa,{}),s.jsx(cs,{type:"monotone",dataKey:"value",stroke:"#3b82f6",fill:"#3b82f6",fillOpacity:.3,strokeWidth:2,dot:{r:4},name:"Valor Histórico",activeDot:{r:6},connectNulls:!0,isAnimationActive:!0,animationDuration:1e3}),c&&j.length>0&&s.jsx(cs,{type:"monotone",dataKey:"value",stroke:"#8884d8",fill:"#8884d8",fillOpacity:.3,strokeDasharray:"5 5",strokeWidth:2,dot:{r:4,fill:"#8884d8"},name:"Proyección",connectNulls:!0,isAnimationActive:!0,animationDuration:1e3,data:j}),b.target&&s.jsx(Ru,{y:parseFloat(String(b.target).replace(/[^0-9.-]+/g,"")),stroke:"#16a34a",strokeDasharray:"3 3",label:{value:"Meta",position:"insideBottomRight",fill:"#16a34a",fontSize:12}})]})})}):s.jsx("div",{className:"h-[400px] w-full flex items-center justify-center bg-secondary-50 dark:bg-secondary-900/20 rounded-lg",children:s.jsxs("div",{className:"text-center",children:[s.jsx(xh,{className:"h-10 w-10 text-secondary-400 mx-auto mb-2"}),s.jsx("p",{className:"text-secondary-500 dark:text-secondary-400",children:"No hay datos suficientes para mostrar el gráfico de área"}),s.jsx("p",{className:"text-xs text-secondary-500 dark:text-secondary-400 mt-1",children:"Añade valores históricos para visualizar la evolución"})]})})})]})})]}),s.jsxs(le,{children:[s.jsxs(_e,{className:"pb-2",children:[s.jsx(ke,{className:"text-lg",children:"Análisis y recomendaciones"}),s.jsx(Et,{children:"Interpretación automática basada en los datos históricos"})]}),s.jsx(ce,{children:N.length>0?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"p-4 bg-secondary-50 dark:bg-secondary-900/20 rounded-lg",children:[s.jsxs("h3",{className:"font-medium mb-2 flex items-center",children:[s.jsx(rn,{className:"mr-2 h-4 w-4 text-primary-600"}),"Análisis de tendencia"]}),s.jsx("p",{className:"text-secondary-800 dark:text-secondary-200",children:P.trend==="up"?s.jsxs(s.Fragment,{children:["El KPI muestra una ",s.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:"tendencia positiva"})," con un incremento del ",P.percentChange,"% desde el primer registro.",P.numericPercentChange>10&&"El crecimiento es significativo."]}):P.trend==="down"?s.jsxs(s.Fragment,{children:["El KPI muestra una ",s.jsx("span",{className:"font-medium text-red-600 dark:text-red-400",children:"tendencia negativa"})," con una disminución del ",Math.abs(P.numericPercentChange).toFixed(2),"% desde el primer registro.",P.numericPercentChange<-10&&"La disminución es significativa y requiere atención."]}):s.jsxs(s.Fragment,{children:["El KPI se mantiene ",s.jsx("span",{className:"font-medium",children:"relativamente estable"})," con una variación del ",P.percentChange,"% desde el primer registro."]})})]}),c&&j.length>0&&s.jsxs("div",{className:"p-4 bg-purple-50 dark:bg-purple-900/20 rounded-lg",children:[s.jsxs("h3",{className:"font-medium mb-2 flex items-center",children:[s.jsx(sy,{className:"mr-2 h-4 w-4 text-purple-600"}),"Proyección futura"]}),s.jsxs("p",{className:"text-secondary-800 dark:text-secondary-200",children:["Basado en los datos históricos, se proyecta que el KPI",j.length>0&&N.length>0&&j[j.length-1].value>N[N.length-1].value?s.jsxs(s.Fragment,{children:[" seguirá ",s.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:"aumentando"})," hasta alcanzar aproximadamente ",s.jsx("span",{className:"font-medium",children:j[j.length-1].originalValue})," en ",j[j.length-1].period,"."]}):j.length>0&&N.length>0&&j[j.length-1].value<N[N.length-1].value?s.jsxs(s.Fragment,{children:[" continuará ",s.jsx("span",{className:"font-medium text-red-600 dark:text-red-400",children:"disminuyendo"})," hasta aproximadamente ",s.jsx("span",{className:"font-medium",children:j[j.length-1].originalValue})," en ",j[j.length-1].period,"."]}):s.jsxs(s.Fragment,{children:[" se mantendrá ",s.jsx("span",{className:"font-medium",children:"relativamente estable"})," en los próximos períodos."]})]})]}),s.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[s.jsxs("h3",{className:"font-medium mb-2 flex items-center",children:[s.jsx(sy,{className:"mr-2 h-4 w-4 text-blue-600"}),"Recomendaciones"]}),s.jsx("div",{className:"space-y-2",children:P.trend==="up"?s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"text-secondary-800 dark:text-secondary-200",children:"• Mantenga las prácticas actuales que están contribuyendo a esta tendencia positiva."}),s.jsx("p",{className:"text-secondary-800 dark:text-secondary-200",children:"• Documente los factores que han impulsado esta mejora para aplicarlos en otras áreas."}),b.target&&parseFloat(String(y[y.length-1].value).replace(/[^0-9.-]+/g,""))<parseFloat(String(b.target).replace(/[^0-9.-]+/g,""))&&s.jsx("p",{className:"text-secondary-800 dark:text-secondary-200",children:"• A pesar de la mejora, el KPI aún no alcanza el objetivo establecido. Continúe enfocándose en estrategias para cerrar esta brecha."})]}):P.trend==="down"?s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"text-secondary-800 dark:text-secondary-200",children:"• Identifique las causas fundamentales de esta tendencia negativa y establezca un plan de acción correctivo."}),s.jsx("p",{className:"text-secondary-800 dark:text-secondary-200",children:"• Realice un análisis más detallado de los factores que podrían estar afectando el desempeño de este KPI."}),s.jsx("p",{className:"text-secondary-800 dark:text-secondary-200",children:"• Considere establecer objetivos intermedios para revertir gradualmente esta tendencia."})]}):s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"text-secondary-800 dark:text-secondary-200",children:"• Evalúe si la estabilidad actual es suficiente o si se requiere un impulso adicional para mejorar el rendimiento."}),s.jsx("p",{className:"text-secondary-800 dark:text-secondary-200",children:"• Identifique oportunidades incrementales para optimizar este KPI sin grandes cambios disruptivos."})]})})]})]}):s.jsxs("div",{className:"p-4 bg-secondary-50 dark:bg-secondary-900/20 rounded-lg text-center",children:[s.jsx(xh,{className:"h-6 w-6 text-secondary-400 mx-auto mb-2"}),s.jsx("p",{className:"text-secondary-500 dark:text-secondary-400",children:"No hay datos suficientes para realizar un análisis"}),s.jsx("p",{className:"text-xs text-secondary-500 dark:text-secondary-400 mt-1",children:"Añade al menos dos valores históricos para generar recomendaciones"})]})})]})]}):s.jsx(le,{children:s.jsx(ce,{className:"p-6",children:s.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[300px] text-center",children:[s.jsx(rn,{className:"h-12 w-12 text-secondary-300 dark:text-secondary-700 mb-4"}),s.jsx("h3",{className:"text-xl font-medium mb-2",children:"Selecciona un KPI para analizar"}),s.jsx("p",{className:"text-secondary-500 dark:text-secondary-400 max-w-md",children:"Usa los filtros superiores para seleccionar una empresa, área y KPI específico para visualizar su análisis de tendencias y proyecciones futuras."})]})})})]})})}function F5e({children:e,title:t}){return s.jsxs("div",{className:"flex h-screen bg-gray-50",children:[s.jsx(my,{}),s.jsxs("div",{className:"flex flex-col flex-1 overflow-hidden ml-0 lg:ml-[250px]",children:[s.jsx(zB,{title:t}),s.jsx("main",{className:"flex-1 overflow-y-auto bg-gray-50 px-4 md:px-6 lg:px-8",children:e})]})]})}const V5e=q.object({value:q.string().min(1,"El valor es requerido").transform(e=>{const t=e.replace(/[^0-9]/g,""),r=Number(t);if(isNaN(r)||r<=0)throw new Error("El valor debe ser un número válido mayor que 0");return r}),month:q.string().min(1,"El mes es requerido"),year:q.number().min(2020,"El año debe ser mayor a 2020"),companyId:q.number().default(1)}),z5e=q.object({value:q.string().min(1,"El valor es requerido").transform(e=>{const t=e.replace(/[^0-9]/g,""),r=Number(t);if(isNaN(r)||r<=0)throw new Error("El valor debe ser un número válido mayor que 0");return r}),companyId:q.number().default(1)});function B5e(){const[e,t]=v.useState("current"),[r,n]=v.useState("idle"),[a,i]=v.useState(""),[o,l]=v.useState(1),{toast:c}=wn(),u=Vn(),d=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],f=new Date().getFullYear(),h=[f-1,f,f+1],p=Gd({resolver:Xd(V5e),defaultValues:{value:"",month:d[new Date().getMonth()],year:f,companyId:1}}),x=Gd({resolver:Xd(z5e),defaultValues:{value:"",companyId:1}}),{data:m=[]}=$e({queryKey:["/api/companies"]}),{data:g=[]}=$e({queryKey:["/api/kpi-values"],refetchInterval:!1}),y=(()=>{if(!Array.isArray(g)||g.length===0)return null;const A=g.filter(T=>T.kpiId===39&&T.period&&!T.period.includes("Semana"));return A.length===0?null:A.sort((T,_)=>new Date(_.date).getTime()-new Date(T.date).getTime())[0]})(),N=(()=>{const A=new Date,E=d[A.getMonth()],T=A.getFullYear(),_=A.getDate();return{week:`Semana ${Math.ceil(_/7)}`,month:E,year:T,fullDate:A.toLocaleDateString("es-MX",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}})(),j=At({mutationFn:async A=>{const E=await fetch("/api/sales/monthly-update",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("authToken")}`},body:JSON.stringify({value:A.value,month:A.month,year:A.year,companyId:A.companyId})});if(!E.ok){const T=await E.json();throw new Error(T.message||"Error al registrar historial")}return await E.json()},onSuccess:A=>{n("success"),i("Historial registrado correctamente"),c({title:"Registro exitoso",description:"Los datos históricos han sido guardados correctamente."}),u.invalidateQueries({queryKey:["/api/kpi-values"]}),p.reset(),window.dispatchEvent(new CustomEvent("sales-updated",{detail:{companyId:o,type:"historical"}}))},onError:A=>{n("error"),i(A.message||"Error al registrar historial"),c({title:"Error",description:A.message||"Error al registrar historial",variant:"destructive"})}}),S=At({mutationFn:async A=>{const E=await fetch("/api/sales/weekly-update",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("authToken")}`},body:JSON.stringify({value:A.value,weekNumber:N.week,month:N.month,year:N.year,companyId:A.companyId})});if(!E.ok){const T=await E.json();throw new Error(T.message||"Error al actualizar semana")}return await E.json()},onSuccess:A=>{n("success"),i("Semana actualizada correctamente"),c({title:"Actualización exitosa",description:"Los datos de la semana actual han sido registrados."}),u.invalidateQueries({queryKey:["/api/kpi-values"]}),x.reset(),window.dispatchEvent(new CustomEvent("sales-updated",{detail:{companyId:o,type:"weekly"}}))},onError:A=>{n("error"),i(A.message||"Error al actualizar semana"),c({title:"Error",description:A.message||"Error al actualizar semana",variant:"destructive"})}});v.useEffect(()=>{p.setValue("companyId",o),x.setValue("companyId",o)},[o,p,x]);const P=()=>o===1?"Valor en KG":"Valor en unidades",C=()=>o===1?"Ej: 150000":"Ej: 5000";return s.jsxs("div",{className:"max-w-4xl mx-auto p-6 space-y-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:"Actualización de Ventas"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Registra datos históricos o actualiza la semana actual"})]}),s.jsxs(le,{children:[s.jsx(_e,{children:s.jsxs(ke,{className:"flex items-center gap-2",children:[s.jsx(rn,{className:"h-5 w-5"}),"Objetivos de Ventas"]})}),s.jsx(ce,{children:s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"text-center p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[s.jsx("h3",{className:"font-medium text-blue-900 dark:text-blue-100",children:"Dura International"}),s.jsx("p",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:"667,449"}),s.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:"Objetivo anual en KG"})]}),s.jsxs("div",{className:"text-center p-4 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[s.jsx("h3",{className:"font-medium text-green-900 dark:text-green-100",children:"Grupo Orsega"}),s.jsx("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:"10,300,476"}),s.jsx("p",{className:"text-sm text-green-700 dark:text-green-300",children:"Objetivo anual en unidades"})]})]})})]}),y&&s.jsxs(Ec,{children:[s.jsx(ga,{className:"h-4 w-4"}),s.jsx(Ap,{children:"Última Actualización"}),s.jsxs(Tc,{children:[y.period," - ",Number(y.value).toLocaleString()," ",o===1?"KG":"unidades",s.jsxs("span",{className:"text-gray-500 ml-2",children:["(",new Date(y.date).toLocaleDateString("es-MX"),")"]})]})]}),s.jsxs(hl,{value:e,onValueChange:A=>t(A),children:[s.jsxs(Ys,{className:"grid w-full grid-cols-2",children:[s.jsxs(Xt,{value:"history",className:"flex items-center gap-2",children:[s.jsx(oS,{className:"h-4 w-4"}),"Historial"]}),s.jsxs(Xt,{value:"current",className:"flex items-center gap-2",children:[s.jsx(ja,{className:"h-4 w-4"}),"Semana Actual"]})]}),s.jsx(mr,{value:"history",children:s.jsxs(le,{children:[s.jsxs(_e,{children:[s.jsx(ke,{children:"Registrar Historial Mensual"}),s.jsx(Et,{children:"Ingresa las ventas totales de meses anteriores para completar el historial"})]}),s.jsx(ce,{children:s.jsx(Jd,{...p,children:s.jsxs("form",{onSubmit:p.handleSubmit(A=>j.mutate(A)),className:"space-y-4",children:[s.jsx(gt,{control:p.control,name:"companyId",render:({field:A})=>s.jsxs(ft,{children:[s.jsx(ht,{children:"Compañía"}),s.jsxs(Xe,{value:A.value.toString(),onValueChange:E=>{const T=parseInt(E);A.onChange(T),l(T)},children:[s.jsx(mt,{children:s.jsx(He,{children:s.jsx(Ye,{})})}),s.jsxs(Ge,{children:[s.jsx(G,{value:"1",children:"Dura International"}),s.jsx(G,{value:"2",children:"Grupo Orsega"})]})]}),s.jsx(vt,{})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx(gt,{control:p.control,name:"month",render:({field:A})=>s.jsxs(ft,{children:[s.jsx(ht,{children:"Mes"}),s.jsxs(Xe,{onValueChange:A.onChange,value:A.value,children:[s.jsx(mt,{children:s.jsx(He,{children:s.jsx(Ye,{})})}),s.jsx(Ge,{children:d.map(E=>s.jsx(G,{value:E,children:E},E))})]}),s.jsx(vt,{})]})}),s.jsx(gt,{control:p.control,name:"year",render:({field:A})=>s.jsxs(ft,{children:[s.jsx(ht,{children:"Año"}),s.jsxs(Xe,{onValueChange:E=>A.onChange(parseInt(E)),value:A.value.toString(),children:[s.jsx(mt,{children:s.jsx(He,{children:s.jsx(Ye,{})})}),s.jsx(Ge,{children:h.map(E=>s.jsx(G,{value:E.toString(),children:E},E))})]}),s.jsx(vt,{})]})}),s.jsx(gt,{control:p.control,name:"value",render:({field:A})=>s.jsxs(ft,{children:[s.jsx(ht,{children:P()}),s.jsx(mt,{children:s.jsx(Ee,{...A,placeholder:C(),type:"text"})}),s.jsx(vt,{})]})})]}),s.jsx(re,{type:"submit",disabled:j.isPending,className:"w-full",children:j.isPending?s.jsxs(s.Fragment,{children:[s.jsx(qi,{className:"mr-2 h-4 w-4 animate-spin"}),"Registrando..."]}):"Registrar Mes Completo"})]})})})]})}),s.jsx(mr,{value:"current",children:s.jsxs(le,{children:[s.jsxs(_e,{children:[s.jsx(ke,{children:"Actualizar Semana Actual"}),s.jsx(Et,{children:"Registra las ventas de la semana actual - la fecha se calcula automáticamente"})]}),s.jsxs(ce,{children:[s.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(ja,{className:"h-4 w-4 text-blue-600"}),s.jsx("span",{className:"font-medium text-blue-900 dark:text-blue-100",children:"Periodo a Actualizar"})]}),s.jsxs("p",{className:"text-blue-800 dark:text-blue-200",children:[s.jsx(Ze,{variant:"outline",className:"mr-2",children:N.week}),N.month," ",N.year]}),s.jsx("p",{className:"text-sm text-blue-600 dark:text-blue-400 mt-1",children:N.fullDate})]}),s.jsx(Jd,{...x,children:s.jsxs("form",{onSubmit:x.handleSubmit(A=>S.mutate(A)),className:"space-y-4",children:[s.jsx(gt,{control:x.control,name:"companyId",render:({field:A})=>s.jsxs(ft,{children:[s.jsx(ht,{children:"Compañía"}),s.jsxs(Xe,{value:A.value.toString(),onValueChange:E=>{const T=parseInt(E);A.onChange(T),l(T)},children:[s.jsx(mt,{children:s.jsx(He,{children:s.jsx(Ye,{})})}),s.jsxs(Ge,{children:[s.jsx(G,{value:"1",children:"Dura International"}),s.jsx(G,{value:"2",children:"Grupo Orsega"})]})]}),s.jsx(vt,{})]})}),s.jsx(gt,{control:x.control,name:"value",render:({field:A})=>s.jsxs(ft,{children:[s.jsx(ht,{children:P()}),s.jsx(mt,{children:s.jsx(Ee,{...A,placeholder:C(),type:"text"})}),s.jsx(vt,{})]})}),s.jsx(re,{type:"submit",disabled:S.isPending,className:"w-full",children:S.isPending?s.jsxs(s.Fragment,{children:[s.jsx(qi,{className:"mr-2 h-4 w-4 animate-spin"}),"Actualizando..."]}):"Actualizar Semana Actual"})]})})]})]})})]}),r!=="idle"&&s.jsxs(Ec,{variant:r==="error"?"destructive":"default",children:[r==="success"?s.jsx(a6,{className:"h-4 w-4"}):s.jsx(qo,{className:"h-4 w-4"}),s.jsx(Ap,{children:r==="success"?"Éxito":"Error"}),s.jsx(Tc,{children:a})]})]})}function U5e(){return s.jsx(F5e,{title:"Actualización de Ventas",children:s.jsx(B5e,{})})}const K5e=q.object({value:q.string().min(1,"El valor es requerido"),comments:q.string().optional(),period:q.string().optional()});function q5e({kpiId:e,isOpen:t,onClose:r}){const{toast:n}=wn(),a=Vn(),[i,o]=v.useState(!1),{data:l,isLoading:c}=$e({queryKey:[`/api/kpis/${e}`],enabled:t&&!!e}),{data:u}=$e({queryKey:["/api/kpi-values",e],enabled:t&&!!e}),d=u==null?void 0:u.filter(y=>y.kpiId===e).sort((y,b)=>new Date(b.date).getTime()-new Date(y.date).getTime())[0],f=Gd({resolver:Xd(K5e),defaultValues:{value:"",comments:"",period:h()}});function h(){const y=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],b=new Date,N=new Date(b.getFullYear(),0,1),j=(b.getTime()-N.getTime())/864e5;return`Semana ${Math.ceil((j+N.getDay()+1)/7)} - ${y[b.getMonth()]} ${b.getFullYear()}`}const p=At({mutationFn:async y=>{console.log("[KPI Update] Enviando datos:",{kpiId:e,value:y.value,period:y.period||h(),comments:y.comments||""});try{const b=await zt("POST","/api/kpi-values",{kpiId:e,value:y.value,period:y.period||h(),comments:y.comments||""});return console.log("[KPI Update] Respuesta exitosa:",b),await b.json()}catch(b){throw console.error("[KPI Update] Error en la petición:",b),b}},onSuccess:()=>{n({title:"KPI actualizado exitosamente",description:"El valor del KPI ha sido registrado correctamente.",variant:"default"}),a.invalidateQueries({queryKey:["/api/kpi-values"]}),a.invalidateQueries({queryKey:["/api/kpis"]}),a.invalidateQueries({queryKey:["/api/companies"]}),a.invalidateQueries({queryKey:["/api/areas"]}),a.refetchQueries({queryKey:[`/api/kpis/${e}`]}),a.refetchQueries({queryKey:["/api/kpi-values",e]}),setTimeout(()=>{a.refetchQueries({queryKey:["/api/kpi-values"]}),a.refetchQueries({queryKey:["/api/kpis"]})},100),r()},onError:y=>{n({title:"Error al actualizar KPI",description:y.message||"Ocurrió un error inesperado.",variant:"destructive"})}}),x=async y=>{o(!0);try{await p.mutateAsync(y)}finally{o(!1)}};v.useEffect(()=>{t&&f.reset({value:"",comments:"",period:h()})},[t,f]);const m=y=>{switch(y){case"complies":return"bg-green-100 text-green-800 border-green-200";case"alert":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"not_compliant":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},g=y=>{switch(y){case"complies":return"Cumple";case"alert":return"Alerta";case"not_compliant":return"No Cumple";default:return"Sin Estado"}},w=y=>{switch(y){case"complies":return s.jsx(tn,{className:"h-4 w-4"});case"alert":return s.jsx(Kp,{className:"h-4 w-4"});case"not_compliant":return s.jsx(Up,{className:"h-4 w-4"});default:return null}};return c?s.jsx(Ir,{open:t,onOpenChange:r,children:s.jsx(Sr,{className:"sm:max-w-[500px]",children:s.jsxs("div",{className:"flex items-center justify-center py-8",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),s.jsx("span",{className:"ml-2 text-gray-600",children:"Cargando KPI..."})]})})}):s.jsx(Ir,{open:t,onOpenChange:r,children:s.jsxs(Sr,{className:"sm:max-w-[600px]",children:[s.jsxs(Nr,{children:[s.jsxs(Pr,{className:"flex items-center gap-2",children:[s.jsx(rn,{className:"h-5 w-5 text-blue-600"}),"Actualizar KPI"]}),s.jsx(el,{children:"Registra un nuevo valor para este KPI"})]}),l&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsxs("h3",{className:"font-medium text-gray-900 mb-3 flex items-center gap-2",children:[s.jsx(xh,{className:"h-4 w-4 text-blue-600"}),"Información del KPI"]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Nombre:"}),s.jsx("div",{className:"font-semibold text-gray-900",children:l.name})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Meta:"}),s.jsx("div",{className:"text-lg font-bold text-blue-600",children:l.target||"Sin meta definida"})]}),d&&s.jsxs("div",{children:[s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Valor Actual:"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-lg font-bold text-gray-900",children:d.value}),s.jsx(Ze,{className:`text-xs ${m(d.status)}`,children:s.jsxs("div",{className:"flex items-center gap-1",children:[w(d.status),g(d.status)]})})]})]})]}),d&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 pt-2",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Cumplimiento:"}),s.jsxs("div",{className:"text-lg font-bold text-green-600",children:[d.compliancePercentage,"%"]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Última actualización:"}),s.jsxs("div",{className:"text-sm text-gray-700 flex items-center gap-1",children:[s.jsx(ja,{className:"h-3 w-3"}),new Date(d.date).toLocaleDateString()]})]})]}),(d==null?void 0:d.comments)&&s.jsxs("div",{className:"pt-2",children:[s.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Comentarios anteriores:"}),s.jsx("div",{className:"text-sm text-gray-700 bg-white p-2 rounded border mt-1",children:d.comments})]})]})]}),s.jsx(Jd,{...f,children:s.jsxs("form",{onSubmit:f.handleSubmit(x),className:"space-y-4",children:[s.jsx(gt,{control:f.control,name:"value",render:({field:y})=>s.jsxs(ft,{children:[s.jsxs(ht,{className:"flex items-center gap-2",children:[s.jsx(T0,{className:"h-4 w-4"}),"Nuevo Valor"]}),s.jsx(mt,{children:s.jsx(Ee,{placeholder:"Ej: 95.5%, 1500 KG, 2.3 días",...y,disabled:i})}),s.jsx(vt,{})]})}),s.jsx(gt,{control:f.control,name:"period",render:({field:y})=>s.jsxs(ft,{children:[s.jsxs(ht,{className:"flex items-center gap-2",children:[s.jsx(ja,{className:"h-4 w-4"}),"Período (Automático)"]}),s.jsx(mt,{children:s.jsx(Ee,{...y,disabled:!0,className:"bg-gray-50 text-gray-700 cursor-not-allowed",readOnly:!0})}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"El período se detecta automáticamente basado en la semana actual"}),s.jsx(vt,{})]})}),s.jsx(gt,{control:f.control,name:"comments",render:({field:y})=>s.jsxs(ft,{children:[s.jsx(ht,{children:"Comentarios (opcional)"}),s.jsx(mt,{children:s.jsx(Za,{placeholder:"Agrega comentarios sobre esta actualización...",className:"min-h-[80px]",...y,disabled:i})}),s.jsx(vt,{})]})}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[s.jsx(re,{type:"button",variant:"outline",onClick:r,disabled:i,children:"Cancelar"}),s.jsx(re,{type:"submit",disabled:i,children:i?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Actualizando..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Jee,{className:"h-4 w-4 mr-2"}),"Actualizar KPI"]})})]})]})})]})]})})}function W5e(){const[e,t]=v.useState(null),[r,n]=v.useState(null),[a,i]=v.useState(!1),[o,l]=v.useState("all"),{data:c}=$e({queryKey:["/api/user"]}),{data:u,isLoading:d}=$e({queryKey:["/api/companies"],refetchInterval:!1,refetchOnWindowFocus:!1,refetchOnMount:!0}),{data:f}=$e({queryKey:["/api/areas"],refetchInterval:!1,refetchOnWindowFocus:!1,refetchOnMount:!0}),{data:h,isLoading:p}=$e({queryKey:["/api/kpis"],refetchInterval:!1,refetchOnWindowFocus:!1,refetchOnMount:!0}),{data:x}=$e({queryKey:["/api/kpi-values"],refetchInterval:!1,refetchOnWindowFocus:!1,refetchOnMount:!0});v.useEffect(()=>{const A=localStorage.getItem("selectedCompanyId");A&&u&&u.find(T=>T.id===parseInt(A))&&t(parseInt(A))},[u]);const m=A=>{const E=parseInt(A);t(E),localStorage.setItem("selectedCompanyId",E.toString())},g=v.useMemo(()=>!(c!=null&&c.areaId)||!f?null:f.find(A=>A.id===c.areaId),[c,f]),w=v.useMemo(()=>!e||!u?null:u.find(A=>A.id===e),[e,u]),y=v.useMemo(()=>{if(!h||!x||!e||!(c!=null&&c.areaId)||!g||!f)return[];const A=f.find(T=>T.companyId===e&&T.name===g.name);return A?h.filter(T=>T.companyId===e&&T.areaId===A.id).map(T=>{const _=x.filter(M=>M.kpiId===T.id);if(!_||_.length===0)return{...T,value:"Sin datos",status:"not_compliant",compliancePercentage:"0",date:null,comments:"No hay valores registrados"};const O=_.sort((M,L)=>new Date(L.date).getTime()-new Date(M.date).getTime())[0];return{...T,value:O.value,status:O.status,compliancePercentage:O.compliancePercentage,date:O.date,comments:O.comments,period:O.period}}):[]},[h,x,e,c==null?void 0:c.areaId,g,f]),b=v.useMemo(()=>o==="all"?y:y.filter(A=>A.status===o),[y,o]),N=v.useMemo(()=>{const A={total:y.length,complies:0,alert:0,not_compliant:0};return y.forEach(E=>{E.status==="complies"?A.complies++:E.status==="alert"?A.alert++:E.status==="not_compliant"&&A.not_compliant++}),A},[y]),j=A=>{switch(A){case"complies":return"bg-green-100 text-green-800 border-green-200";case"alert":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"not_compliant":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},S=A=>{switch(A){case"complies":return"Cumple";case"alert":return"Alerta";case"not_compliant":return"No Cumple";default:return"Sin Estado"}},P=A=>{switch(A){case"complies":return s.jsx(tn,{className:"h-4 w-4"});case"alert":return s.jsx(Kp,{className:"h-4 w-4"});case"not_compliant":return s.jsx(Up,{className:"h-4 w-4"});default:return null}},C=A=>{n(A),i(!0)};return d||p?s.jsx(Qa,{children:s.jsxs("div",{className:"flex items-center justify-center h-64",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),s.jsx("span",{className:"ml-2 text-gray-600",children:"Cargando centro de control..."})]})}):s.jsx(Qa,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[s.jsx(rn,{className:"h-6 w-6 text-blue-600"}),"Centro de Control de KPIs"]}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Monitorea y actualiza los KPIs de tu área"})]})}),s.jsxs(le,{children:[s.jsx(_e,{className:"pb-3",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(mc,{className:"h-5 w-5 text-blue-600"}),s.jsx(ke,{className:"text-lg",children:"Información del Usuario"})]})}),s.jsx(ce,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-medium",children:"Usuario:"}),s.jsx("span",{children:(c==null?void 0:c.name)||"Cargando..."})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(oy,{className:"h-4 w-4 text-gray-500"}),s.jsx("span",{className:"font-medium",children:"Área:"}),s.jsx("span",{children:(g==null?void 0:g.name)||"Sin área asignada"})]})]})})]}),s.jsxs(le,{children:[s.jsxs(_e,{className:"pb-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Yo,{className:"h-5 w-5 text-blue-600"}),s.jsx(ke,{className:"text-lg",children:"Seleccionar Empresa"})]}),s.jsx(Et,{children:"Elige la empresa para la cual deseas gestionar los KPIs"})]}),s.jsxs(ce,{children:[s.jsxs(Xe,{value:(e==null?void 0:e.toString())||"",onValueChange:m,children:[s.jsx(He,{className:"w-full",children:s.jsx(Ye,{placeholder:"Selecciona una empresa"})}),s.jsx(Ge,{children:u==null?void 0:u.map(A=>s.jsx(G,{value:A.id.toString(),children:A.name},A.id))})]}),w&&s.jsx("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg border border-blue-200",children:s.jsxs("div",{className:"flex items-center gap-2 text-blue-700",children:[s.jsx(Yo,{className:"h-4 w-4"}),s.jsx("span",{className:"font-medium",children:"Empresa seleccionada:"}),s.jsx("span",{children:w.name})]})})]})]}),e&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs(le,{children:[s.jsx(_e,{className:"pb-3",children:s.jsxs(ke,{className:"text-lg flex items-center gap-2",children:[s.jsx(T0,{className:"h-5 w-5 text-blue-600"}),"Resumen de KPIs"]})}),s.jsx(ce,{children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-gray-900",children:N.total}),s.jsx("div",{className:"text-sm text-gray-600",children:"Total KPIs"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:N.complies}),s.jsx("div",{className:"text-sm text-gray-600",children:"Cumpliendo"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:N.alert}),s.jsx("div",{className:"text-sm text-gray-600",children:"En Alerta"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-red-600",children:N.not_compliant}),s.jsx("div",{className:"text-sm text-gray-600",children:"No Cumpliendo"})]})]})})]}),s.jsxs(le,{children:[s.jsx(_e,{className:"pb-3",children:s.jsxs(ke,{className:"text-lg flex items-center gap-2",children:[s.jsx(s6,{className:"h-5 w-5 text-blue-600"}),"Filtros"]})}),s.jsx(ce,{children:s.jsx("div",{className:"space-y-3",children:s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Filtrar por Estado"}),s.jsxs(Xe,{value:o,onValueChange:l,children:[s.jsx(He,{className:"w-full mt-1",children:s.jsx(Ye,{})}),s.jsxs(Ge,{children:[s.jsx(G,{value:"all",children:"Todos los Estados"}),s.jsx(G,{value:"complies",children:"Solo Cumpliendo"}),s.jsx(G,{value:"alert",children:"Solo en Alerta"}),s.jsx(G,{value:"not_compliant",children:"Solo No Cumpliendo"})]})]})]})})})]})]}),e&&s.jsxs(le,{children:[s.jsxs(_e,{children:[s.jsxs(ke,{className:"text-lg flex items-center gap-2",children:[s.jsx(rn,{className:"h-5 w-5 text-blue-600"}),"KPIs de ",g==null?void 0:g.name," - ",w==null?void 0:w.name]}),s.jsxs(Et,{children:[b.length," KPIs ",o!=="all"?`(${S(o)})`:""]})]}),s.jsx(ce,{children:b.length===0?s.jsx("div",{className:"text-center py-8 text-gray-500",children:"No hay KPIs disponibles para los filtros seleccionados."}):s.jsx("div",{className:"space-y-4",children:b.map(A=>s.jsx("div",{className:"p-4 border rounded-lg hover:bg-gray-50 transition-colors",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("h3",{className:"font-medium text-gray-900",children:A.name}),s.jsx(Ze,{className:`text-xs ${j(A.status)}`,children:s.jsxs("div",{className:"flex items-center gap-1",children:[P(A.status),S(A.status)]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-gray-600",children:"Valor Actual:"}),s.jsx("div",{className:"text-lg font-semibold text-gray-900",children:A.value})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-gray-600",children:"Meta:"}),s.jsx("div",{className:"text-lg font-semibold text-blue-600",children:A.target||"Sin meta"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium text-gray-600",children:"Cumplimiento:"}),s.jsxs("div",{className:"text-lg font-semibold text-green-600",children:[A.compliancePercentage,"%"]})]})]}),A.date&&s.jsxs("div",{className:"mt-2 flex items-center gap-2 text-xs text-gray-500",children:[s.jsx(ja,{className:"h-3 w-3"}),"Última actualización: ",new Date(A.date).toLocaleDateString()]}),A.comments&&s.jsxs("div",{className:"mt-2 text-xs text-gray-600",children:[s.jsx("strong",{children:"Comentarios:"})," ",A.comments]})]}),s.jsxs(re,{onClick:()=>C(A.id),size:"sm",className:"ml-4",children:[s.jsx(o6,{className:"h-4 w-4 mr-1"}),"Actualizar"]})]})},A.id))})})]}),r&&s.jsx(q5e,{kpiId:r,isOpen:a,onClose:()=>{i(!1),n(null)}})]})})}var sX="AlertDialog",[H5e,Eze]=jn(sX,[uz]),eo=uz(),oX=e=>{const{__scopeAlertDialog:t,...r}=e,n=eo(t);return s.jsx(Cz,{...n,...r,modal:!0})};oX.displayName=sX;var G5e="AlertDialogTrigger",lX=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=eo(r);return s.jsx(Az,{...a,...n,ref:t})});lX.displayName=G5e;var X5e="AlertDialogPortal",cX=e=>{const{__scopeAlertDialog:t,...r}=e,n=eo(t);return s.jsx(Ez,{...n,...r})};cX.displayName=X5e;var Y5e="AlertDialogOverlay",uX=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=eo(r);return s.jsx(tA,{...a,...n,ref:t})});uX.displayName=Y5e;var Bu="AlertDialogContent",[Q5e,Z5e]=H5e(Bu),J5e=OV("AlertDialogContent"),dX=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...a}=e,i=eo(r),o=v.useRef(null),l=ot(t,o),c=v.useRef(null);return s.jsx(jae,{contentName:Bu,titleName:fX,docsSlug:"alert-dialog",children:s.jsx(Q5e,{scope:r,cancelRef:c,children:s.jsxs(rA,{role:"alertdialog",...i,...a,ref:l,onOpenAutoFocus:ue(a.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[s.jsx(J5e,{children:n}),s.jsx(tVe,{contentRef:o})]})})})});dX.displayName=Bu;var fX="AlertDialogTitle",hX=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=eo(r);return s.jsx(nA,{...a,...n,ref:t})});hX.displayName=fX;var mX="AlertDialogDescription",pX=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=eo(r);return s.jsx(aA,{...a,...n,ref:t})});pX.displayName=mX;var eVe="AlertDialogAction",gX=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,a=eo(r);return s.jsx(iA,{...a,...n,ref:t})});gX.displayName=eVe;var vX="AlertDialogCancel",yX=v.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:a}=Z5e(vX,r),i=eo(r),o=ot(t,a);return s.jsx(iA,{...i,...n,ref:o})});yX.displayName=vX;var tVe=({contentRef:e})=>{const t=`\`${Bu}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Bu}\` by passing a \`${mX}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Bu}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return v.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},rVe=oX,nVe=lX,aVe=cX,xX=uX,bX=dX,wX=gX,jX=yX,SX=hX,NX=pX;const NP=rVe,PP=nVe,iVe=aVe,PX=v.forwardRef(({className:e,...t},r)=>s.jsx(xX,{className:he("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));PX.displayName=xX.displayName;const Hx=v.forwardRef(({className:e,...t},r)=>s.jsxs(iVe,{children:[s.jsx(PX,{}),s.jsx(bX,{ref:r,className:he("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));Hx.displayName=bX.displayName;const Gx=({className:e,...t})=>s.jsx("div",{className:he("flex flex-col space-y-2 text-center sm:text-left",e),...t});Gx.displayName="AlertDialogHeader";const Xx=({className:e,...t})=>s.jsx("div",{className:he("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Xx.displayName="AlertDialogFooter";const Yx=v.forwardRef(({className:e,...t},r)=>s.jsx(SX,{ref:r,className:he("text-lg font-semibold",e),...t}));Yx.displayName=SX.displayName;const Qx=v.forwardRef(({className:e,...t},r)=>s.jsx(NX,{ref:r,className:he("text-sm text-muted-foreground",e),...t}));Qx.displayName=NX.displayName;const Zx=v.forwardRef(({className:e,...t},r)=>s.jsx(wX,{ref:r,className:he(GC(),e),...t}));Zx.displayName=wX.displayName;const Jx=v.forwardRef(({className:e,...t},r)=>s.jsx(jX,{ref:r,className:he(GC({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));Jx.displayName=jX.displayName;function sVe(){var Me,dt,lt,Pt;const{toast:e}=wn(),t=Vn(),[r,n]=v.useState(!1),[a,i]=v.useState(!1),[o,l]=v.useState(!1),[c,u]=v.useState(!1),[d,f]=v.useState(null),[h,p]=v.useState(null),[x,m]=v.useState(null),[g,w]=v.useState("all"),[y,b]=v.useState("all"),[N,j]=v.useState(null),[S,P]=v.useState(""),C={felicitar:{title:"¡Excelente trabajo!",message:"Hola {name}, quería felicitarte por el excelente trabajo que has estado realizando. Tu dedicación y resultados son realmente destacables. ¡Sigue así!",type:"success",priority:"normal"},seguimiento:{title:"¿Cómo vas con todo?",message:"Hola {name}, espero que estés muy bien. Me gustaría saber cómo vas con tus actividades actuales. ¿Necesitas algún tipo de apoyo o tienes alguna consulta?",type:"info",priority:"normal"},solicitar_info:{title:"¿Podrías darme una actualización?",message:"Hola {name}, ¿podrías proporcionarme una actualización sobre el estado de los proyectos en tu área? Me ayudaría mucho para la planificación general.",type:"info",priority:"high"},apoyo:{title:"¿Necesitas ayuda?",message:"Hola {name}, quería preguntarte si necesitas algún tipo de apoyo adicional para cumplir con tus objetivos. Estoy aquí para ayudarte en lo que necesites.",type:"info",priority:"normal"},reunion:{title:"¿Nos reunimos pronto?",message:"Hola {name}, me gustaría programar una reunión contigo para revisar el progreso y discutir nuevas oportunidades. ¿Cuándo te viene bien?",type:"info",priority:"normal"},recordatorio:{title:"Solo un recordatorio",message:"Hola {name}, solo quería recordarte sobre la entrega pendiente. Sin prisa, pero me gustaría saber si necesitas algún recurso adicional para completarla.",type:"warning",priority:"normal"},reconocimiento:{title:"¡El equipo te reconoce!",message:"Hola {name}, el equipo ha notado tu gran contribución en los últimos proyectos. Tu trabajo hace la diferencia y es muy valorado por todos.",type:"success",priority:"normal"},personalizado:{title:"",message:"",type:"info",priority:"normal"}},{data:A=[],isLoading:E}=$e({queryKey:["/api/users"]}),{data:T=[],isLoading:_}=$e({queryKey:["/api/companies"]}),{data:O=[],isLoading:M}=$e({queryKey:["/api/areas"]}),{data:L=[],isLoading:R}=$e({queryKey:["/api/kpis"]}),{data:V=[]}=$e({queryKey:["/api/kpi-values"]}),D=At({mutationFn:Q=>zt("POST","/api/users",Q),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/users"]}),n(!1),f(null),e({title:"Usuario creado exitosamente"})},onError:Q=>{e({title:"Error al crear usuario",description:Q.message,variant:"destructive"})}}),I=At({mutationFn:({id:Q,...we})=>zt("PUT",`/api/users/${Q}`,we),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/users"]}),n(!1),f(null),e({title:"Usuario actualizado exitosamente"})},onError:Q=>{e({title:"Error al actualizar usuario",description:Q.message,variant:"destructive"})}}),B=At({mutationFn:Q=>zt("DELETE",`/api/users/${Q}`),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/users"]}),e({title:"Usuario eliminado exitosamente"})},onError:Q=>{e({title:"Error al eliminar usuario",description:Q.message,variant:"destructive"})}}),Y=At({mutationFn:Q=>zt("POST","/api/kpis",Q),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/kpis"]}),i(!1),p(null),e({title:"KPI creado exitosamente"})},onError:Q=>{e({title:"Error al crear KPI",description:Q.message,variant:"destructive"})}}),X=At({mutationFn:({id:Q,...we})=>zt("PUT",`/api/kpis/${Q}`,we),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/kpis"]}),i(!1),p(null),e({title:"KPI actualizado exitosamente"})},onError:Q=>{e({title:"Error al actualizar KPI",description:Q.message,variant:"destructive"})}});At({mutationFn:Q=>zt("DELETE",`/api/kpis/${Q}`),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/kpis"]}),e({title:"KPI eliminado exitosamente"})},onError:Q=>{e({title:"Error al eliminar KPI",description:Q.message,variant:"destructive"})}});const oe=At({mutationFn:Q=>zt("DELETE",`/api/user-kpis/${Q}`),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/kpis"]}),t.invalidateQueries({queryKey:["/api/kpi-values"]}),e({title:"KPI eliminado del usuario exitosamente"})},onError:Q=>{e({title:"Error al eliminar KPI del usuario",description:Q.message,variant:"destructive"})}}),je=At({mutationFn:Q=>zt("POST","/api/notifications",Q),onSuccess:()=>{u(!1),j(null),P(""),e({title:"Mensaje enviado exitosamente"})},onError:Q=>{e({title:"Error al enviar mensaje",description:Q.message,variant:"destructive"})}}),Fe=Q=>{Q.preventDefault();const we=new FormData(Q.target),tt={name:we.get("name"),email:we.get("email"),password:we.get("password"),role:we.get("role"),companyId:we.get("companyId")==="none"?null:parseInt(we.get("companyId")),areaId:we.get("areaId")==="none"?null:parseInt(we.get("areaId"))};d?I.mutate({id:d.id,...tt}):D.mutate(tt)},Ae=Q=>{Q.preventDefault();const we=new FormData(Q.target),tt={name:we.get("name"),description:we.get("description"),unit:we.get("unit"),companyId:parseInt(we.get("companyId")),areaId:parseInt(we.get("areaId")),objective:we.get("objective"),frequency:we.get("frequency")};h?X.mutate({id:h.id,...tt}):Y.mutate(tt)},me=Q=>{Q.preventDefault();const we=new FormData(Q.target),tt={title:we.get("title"),message:we.get("message"),type:we.get("type"),priority:we.get("priority"),toUserId:(N==null?void 0:N.id)||null,companyId:(N==null?void 0:N.companyId)||null,areaId:(N==null?void 0:N.areaId)||null};je.mutate(tt)},De=Q=>{if(P(Q),Q&&Q!=="personalizado"){const we=C[Q],tt=document.getElementById("notification-form");tt&&(tt.elements.namedItem("title").value=we.title,tt.elements.namedItem("message").value=we.message.replace("{name}",(N==null?void 0:N.name)||""),tt.elements.namedItem("type").value=we.type,tt.elements.namedItem("priority").value=we.priority)}},te=g==="all"?O:O.filter(Q=>Q.companyId===parseInt(g));L.filter(Q=>{const we=g==="all"||Q.companyId===parseInt(g),tt=y==="all"||Q.areaId===parseInt(y);return we&&tt});const ee=Q=>{const we=T.find(tt=>tt.id===Q);return(we==null?void 0:we.name)||"Sin empresa"},fe=Q=>{const we=O.find(tt=>tt.id===Q);return(we==null?void 0:we.name)||"Sin área"},H=Q=>{switch(Q){case"admin":return"bg-red-500";case"manager":return"bg-blue-500";case"collaborator":return"bg-green-500";case"viewer":return"bg-gray-500";default:return"bg-gray-500"}},Ve=Q=>{const we=A.find(tt=>tt.id===Q);return we?we.role==="admin"||we.role==="manager"?L:L.filter(tt=>tt.companyId===we.companyId&&tt.areaId===we.areaId):[]};return R||_||M||E?s.jsx(Qa,{children:s.jsx("div",{className:"flex items-center justify-center h-96",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Cargando administración del sistema..."})]})})}):s.jsx(Qa,{children:s.jsxs("div",{className:"container mx-auto p-6 max-w-7xl",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx(pd,{className:"h-8 w-8 text-blue-600"}),s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Gestión del Equipo"})]}),s.jsx("div",{className:"w-full",children:s.jsxs(le,{children:[s.jsx(_e,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs(ke,{className:"flex items-center gap-2",children:[s.jsx(pd,{className:"h-5 w-5"}),"Gestión del Equipo"]}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Administra usuarios, roles y permisos del sistema"})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs(Ir,{open:r,onOpenChange:n,children:[s.jsx(gS,{asChild:!0,children:s.jsxs(re,{onClick:()=>f(null),children:[s.jsx(rte,{className:"h-4 w-4 mr-2"}),"Nuevo Usuario"]})}),s.jsxs(Sr,{className:"max-w-2xl",children:[s.jsx(Nr,{children:s.jsx(Pr,{children:d?"Editar Usuario":"Crear Nuevo Usuario"})}),s.jsxs("form",{onSubmit:Fe,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ge,{htmlFor:"name",children:"Nombre Completo"}),s.jsx(Ee,{id:"name",name:"name",defaultValue:(d==null?void 0:d.name)||"",required:!0})]}),s.jsxs("div",{children:[s.jsx(ge,{htmlFor:"email",children:"Email"}),s.jsx(Ee,{id:"email",name:"email",type:"email",defaultValue:(d==null?void 0:d.email)||"",required:!0})]})]}),s.jsxs("div",{children:[s.jsx(ge,{htmlFor:"password",children:d?"Nueva Contraseña (dejar vacío para no cambiar)":"Contraseña"}),s.jsx(Ee,{id:"password",name:"password",type:"password",required:!d})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(ge,{htmlFor:"role",children:"Rol"}),s.jsxs(Xe,{name:"role",defaultValue:(d==null?void 0:d.role)||"",required:!0,children:[s.jsx(He,{children:s.jsx(Ye,{placeholder:"Seleccionar rol"})}),s.jsxs(Ge,{children:[s.jsx(G,{value:"admin",children:"Administrador"}),s.jsx(G,{value:"manager",children:"Gerente"}),s.jsx(G,{value:"collaborator",children:"Colaborador"}),s.jsx(G,{value:"viewer",children:"Observador"})]})]})]}),s.jsxs("div",{children:[s.jsx(ge,{htmlFor:"companyId",children:"Empresa"}),s.jsxs(Xe,{name:"companyId",defaultValue:((Me=d==null?void 0:d.companyId)==null?void 0:Me.toString())||"none",required:!0,children:[s.jsx(He,{children:s.jsx(Ye,{placeholder:"Seleccionar empresa"})}),s.jsxs(Ge,{children:[s.jsx(G,{value:"none",children:"Sin empresa"}),T.map(Q=>s.jsx(G,{value:Q.id.toString(),children:Q.name},Q.id))]})]})]}),s.jsxs("div",{children:[s.jsx(ge,{htmlFor:"areaId",children:"Área"}),s.jsxs(Xe,{name:"areaId",defaultValue:((dt=d==null?void 0:d.areaId)==null?void 0:dt.toString())||"none",required:!0,children:[s.jsx(He,{children:s.jsx(Ye,{placeholder:"Seleccionar área"})}),s.jsxs(Ge,{children:[s.jsx(G,{value:"none",children:"Sin área"}),O.map(Q=>s.jsx(G,{value:Q.id.toString(),children:Q.name},Q.id))]})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(re,{type:"button",variant:"outline",onClick:()=>n(!1),children:"Cancelar"}),s.jsxs(re,{type:"submit",disabled:D.isPending||I.isPending,children:[d?"Actualizar":"Crear"," Usuario"]})]})]})]})]})})]})}),s.jsx(ce,{children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:A.map(Q=>s.jsx(le,{className:"group hover:shadow-lg transition-shadow duration-200 border-0 shadow-sm bg-gradient-to-br from-white to-gray-50",children:s.jsxs(ce,{className:"p-6",children:[s.jsx("div",{className:"flex items-start justify-between mb-4",children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-blue-600 rounded-full flex items-center justify-center text-white font-bold text-lg",children:Q.name.split(" ").map(we=>we[0]).join("").toUpperCase()}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg text-gray-900",children:Q.name}),s.jsx(Ze,{className:`${H(Q.role)} text-white text-xs`,children:Q.role==="admin"?"Administrador":Q.role==="manager"?"Gerente":Q.role==="collaborator"?"Colaborador":"Observador"})]})]}),s.jsxs("div",{className:"space-y-2 mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[s.jsx(hd,{className:"h-4 w-4 text-gray-400"}),s.jsx("span",{className:"truncate",children:Q.email})]}),Q.companyId&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[s.jsx(Yo,{className:"h-4 w-4 text-gray-400"}),s.jsx("span",{className:"truncate",children:ee(Q.companyId)})]}),Q.areaId&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[s.jsx(ete,{className:"h-4 w-4 text-gray-400"}),s.jsx("span",{className:"truncate",children:fe(Q.areaId)})]})]})]})}),s.jsxs("div",{className:"space-y-2 pt-4 border-t border-gray-100",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsxs(re,{variant:"ghost",size:"sm",className:"flex-1 hover:bg-blue-50 hover:text-blue-600",onClick:()=>{m(Q),l(!0)},children:[s.jsx(Ko,{className:"h-4 w-4 mr-2"}),"Ver KPIs (",Ve(Q.id).length,")"]}),s.jsx(re,{variant:"ghost",size:"sm",className:"hover:bg-green-50 hover:text-green-600",onClick:()=>{f(Q),n(!0)},children:s.jsx(ly,{className:"h-4 w-4"})}),s.jsxs(NP,{children:[s.jsx(PP,{asChild:!0,children:s.jsx(re,{variant:"ghost",size:"sm",className:"hover:bg-red-50 hover:text-red-600",children:s.jsx(md,{className:"h-4 w-4"})})}),s.jsxs(Hx,{children:[s.jsxs(Gx,{children:[s.jsx(Yx,{children:"¿Eliminar Usuario?"}),s.jsxs(Qx,{children:['Esta acción no se puede deshacer. Se eliminará permanentemente el usuario "',Q.name,'" y todos sus datos asociados.']})]}),s.jsxs(Xx,{children:[s.jsx(Jx,{children:"Cancelar"}),s.jsx(Zx,{onClick:()=>B.mutate(Q.id),className:"bg-red-500 hover:bg-red-600",children:"Eliminar"})]})]})]})]}),s.jsxs(Ir,{open:c&&(N==null?void 0:N.id)===Q.id,onOpenChange:we=>{we||(u(!1),j(null),P(""))},children:[s.jsx(gS,{asChild:!0,children:s.jsxs(re,{variant:"outline",size:"sm",className:"w-full hover:bg-yellow-50 hover:text-yellow-600 border-yellow-200",onClick:()=>{j(Q),u(!0)},children:[s.jsx(dd,{className:"h-4 w-4 mr-2"}),"Enviar Mensaje"]})}),s.jsxs(Sr,{className:"max-w-2xl",children:[s.jsx(Nr,{children:s.jsxs(Pr,{className:"flex items-center gap-2",children:[s.jsx(dd,{className:"h-5 w-5"}),"Enviar Mensaje a ",Q.name]})}),s.jsxs("form",{id:"notification-form",onSubmit:me,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(ge,{htmlFor:"template",children:"Tipo de mensaje"}),s.jsxs(Xe,{value:S,onValueChange:De,children:[s.jsx(He,{children:s.jsx(Ye,{placeholder:"Selecciona un tipo de mensaje"})}),s.jsxs(Ge,{children:[s.jsx(G,{value:"felicitar",children:"🎉 Excelente trabajo"}),s.jsx(G,{value:"seguimiento",children:"👋 ¿Cómo vas con todo?"}),s.jsx(G,{value:"solicitar_info",children:"📊 ¿Podrías darme una actualización?"}),s.jsx(G,{value:"apoyo",children:"🤝 ¿Necesitas ayuda?"}),s.jsx(G,{value:"reunion",children:"📅 ¿Nos reunimos pronto?"}),s.jsx(G,{value:"recordatorio",children:"⏰ Solo un recordatorio"}),s.jsx(G,{value:"reconocimiento",children:"🏆 ¡El equipo te reconoce!"}),s.jsx(G,{value:"personalizado",children:"✏️ Mensaje personalizado"})]})]})]}),s.jsxs("div",{children:[s.jsx(ge,{htmlFor:"title",children:"Título"}),s.jsx(Ee,{id:"title",name:"title",placeholder:"Ingresa el título del mensaje",required:!0})]}),s.jsxs("div",{children:[s.jsx(ge,{htmlFor:"message",children:"Mensaje"}),s.jsx(Za,{id:"message",name:"message",placeholder:"Escribe tu mensaje aquí...",rows:4,required:!0})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ge,{htmlFor:"type",children:"Tipo"}),s.jsxs(Xe,{name:"type",defaultValue:"info",required:!0,children:[s.jsx(He,{children:s.jsx(Ye,{placeholder:"Seleccionar tipo"})}),s.jsxs(Ge,{children:[s.jsx(G,{value:"info",children:"Información"}),s.jsx(G,{value:"warning",children:"Advertencia"}),s.jsx(G,{value:"success",children:"Éxito"}),s.jsx(G,{value:"error",children:"Error"})]})]})]}),s.jsxs("div",{children:[s.jsx(ge,{htmlFor:"priority",children:"Prioridad"}),s.jsxs(Xe,{name:"priority",defaultValue:"normal",required:!0,children:[s.jsx(He,{children:s.jsx(Ye,{placeholder:"Seleccionar prioridad"})}),s.jsxs(Ge,{children:[s.jsx(G,{value:"low",children:"Baja"}),s.jsx(G,{value:"normal",children:"Normal"}),s.jsx(G,{value:"high",children:"Alta"}),s.jsx(G,{value:"urgent",children:"Urgente"})]})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(re,{type:"button",variant:"outline",onClick:()=>{u(!1),j(null),P("")},children:"Cancelar"}),s.jsxs(re,{type:"submit",disabled:je.isPending,className:"flex items-center gap-2",children:[s.jsx(c6,{className:"h-4 w-4"}),je.isPending?"Enviando...":"Enviar Mensaje"]})]})]})]})]})]})]})},Q.id))})})]})}),s.jsx(Ir,{open:o,onOpenChange:l,children:s.jsxs(Sr,{className:"max-w-6xl max-h-[80vh] overflow-y-auto",children:[s.jsx(Nr,{children:s.jsxs(Pr,{className:"flex items-center gap-2",children:[s.jsx(Ko,{className:"h-5 w-5"}),"KPIs de ",x==null?void 0:x.name]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs(re,{onClick:()=>{p(null),i(!0)},className:"flex items-center gap-2",children:[s.jsx(Ka,{className:"h-4 w-4"}),"Nuevo KPI"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ge,{htmlFor:"company-filter",children:"Empresa:"}),s.jsxs(Xe,{value:g,onValueChange:w,children:[s.jsx(He,{className:"w-40",children:s.jsx(Ye,{})}),s.jsxs(Ge,{children:[s.jsx(G,{value:"all",children:"Todas"}),T.map(Q=>s.jsx(G,{value:Q.id.toString(),children:Q.name},Q.id))]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ge,{htmlFor:"area-filter",children:"Área:"}),s.jsxs(Xe,{value:y,onValueChange:b,children:[s.jsx(He,{className:"w-40",children:s.jsx(Ye,{})}),s.jsxs(Ge,{children:[s.jsx(G,{value:"all",children:"Todas"}),te.map(Q=>s.jsx(G,{value:Q.id.toString(),children:Q.name},Q.id))]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[Ve(x==null?void 0:x.id).map(Q=>s.jsx(le,{className:"group",children:s.jsx(ce,{className:"p-4",children:s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-medium text-sm mb-1",children:Q.name}),s.jsxs("div",{className:"text-xs text-gray-500 space-y-1",children:[s.jsx("span",{className:"block",children:ee(Q.companyId)}),s.jsx("span",{className:"block",children:fe(Q.areaId)}),s.jsxs("span",{className:"block",children:["Objetivo: ",Q.objective]}),s.jsxs("span",{className:"block",children:["Frecuencia: ",Q.frequency]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(re,{variant:"ghost",size:"sm",onClick:()=>{p(Q),i(!0)},children:s.jsx(ly,{className:"h-4 w-4"})}),s.jsxs(NP,{children:[s.jsx(PP,{asChild:!0,children:s.jsx(re,{variant:"ghost",size:"sm",children:s.jsx(md,{className:"h-4 w-4"})})}),s.jsxs(Hx,{children:[s.jsxs(Gx,{children:[s.jsx(Yx,{children:"¿Eliminar KPI?"}),s.jsxs(Qx,{children:['Esta acción no se puede deshacer. Se eliminará permanentemente el KPI "',Q.name,'" y todos sus datos asociados.']})]}),s.jsxs(Xx,{children:[s.jsx(Jx,{children:"Cancelar"}),s.jsx(Zx,{onClick:()=>oe.mutate(Q.id),className:"bg-red-500 hover:bg-red-600",children:"Eliminar"})]})]})]})]})]})})},Q.id)),x&&Ve(x.id).length===0&&s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(Ko,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),s.jsx("p",{children:"No hay KPIs asignados a este usuario"}),s.jsx("p",{className:"text-sm",children:'Haz clic en "Nuevo KPI" para agregar uno'})]})]})]})]})}),s.jsx(Ir,{open:a,onOpenChange:i,children:s.jsxs(Sr,{className:"max-w-2xl",children:[s.jsx(Nr,{children:s.jsx(Pr,{children:h?"Editar KPI":"Crear Nuevo KPI"})}),s.jsxs("form",{onSubmit:Ae,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ge,{htmlFor:"name",children:"Nombre del KPI"}),s.jsx(Ee,{id:"name",name:"name",defaultValue:(h==null?void 0:h.name)||"",required:!0})]}),s.jsxs("div",{children:[s.jsx(ge,{htmlFor:"unit",children:"Unidad"}),s.jsx(Ee,{id:"unit",name:"unit",defaultValue:(h==null?void 0:h.unit)||"",placeholder:"ej: %, unidades, pesos",required:!0})]})]}),s.jsxs("div",{children:[s.jsx(ge,{htmlFor:"description",children:"Descripción"}),s.jsx(Za,{id:"description",name:"description",defaultValue:(h==null?void 0:h.description)||"",rows:3})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ge,{htmlFor:"companyId",children:"Empresa"}),s.jsxs(Xe,{name:"companyId",defaultValue:((lt=h==null?void 0:h.companyId)==null?void 0:lt.toString())||"",required:!0,children:[s.jsx(He,{children:s.jsx(Ye,{placeholder:"Seleccionar empresa"})}),s.jsx(Ge,{children:T.map(Q=>s.jsx(G,{value:Q.id.toString(),children:Q.name},Q.id))})]})]}),s.jsxs("div",{children:[s.jsx(ge,{htmlFor:"areaId",children:"Área"}),s.jsxs(Xe,{name:"areaId",defaultValue:((Pt=h==null?void 0:h.areaId)==null?void 0:Pt.toString())||"",required:!0,children:[s.jsx(He,{children:s.jsx(Ye,{placeholder:"Seleccionar área"})}),s.jsx(Ge,{children:O.map(Q=>s.jsx(G,{value:Q.id.toString(),children:Q.name},Q.id))})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ge,{htmlFor:"objective",children:"Objetivo"}),s.jsx(Ee,{id:"objective",name:"objective",defaultValue:(h==null?void 0:h.objective)||"",placeholder:"ej: 95%, 1000 unidades",required:!0})]}),s.jsxs("div",{children:[s.jsx(ge,{htmlFor:"frequency",children:"Frecuencia"}),s.jsxs(Xe,{name:"frequency",defaultValue:(h==null?void 0:h.frequency)||"",required:!0,children:[s.jsx(He,{children:s.jsx(Ye,{placeholder:"Seleccionar frecuencia"})}),s.jsxs(Ge,{children:[s.jsx(G,{value:"daily",children:"Diaria"}),s.jsx(G,{value:"weekly",children:"Semanal"}),s.jsx(G,{value:"monthly",children:"Mensual"}),s.jsx(G,{value:"quarterly",children:"Trimestral"}),s.jsx(G,{value:"yearly",children:"Anual"})]})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(re,{type:"button",variant:"outline",onClick:()=>i(!1),children:"Cancelar"}),s.jsxs(re,{type:"submit",disabled:Y.isPending||X.isPending,children:[h?"Actualizar":"Crear"," KPI"]})]})]})]})})]})})}function oVe(){const[e,t]=v.useState(null),{toast:r}=wn(),n=Vn(),{data:a=[],isLoading:i}=$e({queryKey:["/api/notifications"],select:h=>h.sort((p,x)=>new Date(x.createdAt).getTime()-new Date(p.createdAt).getTime())}),o=At({mutationFn:h=>zt("PUT",`/api/notifications/${h}/read`),onSuccess:()=>{n.invalidateQueries({queryKey:["/api/notifications"]}),r({title:"Mensaje marcado como leído"})}}),l=At({mutationFn:h=>zt("DELETE",`/api/notifications/${h}`),onSuccess:()=>{n.invalidateQueries({queryKey:["/api/notifications"]}),r({title:"Mensaje eliminado"}),t(null)}}),c=h=>{switch(h){case"urgent":return"bg-red-500";case"high":return"bg-orange-500";case"normal":return"bg-blue-500";case"low":return"bg-gray-500";default:return"bg-blue-500"}},u=h=>{switch(h){case"urgent":return"Urgente";case"high":return"Alta";case"normal":return"Normal";case"low":return"Baja";default:return"Normal"}},d=h=>{switch(h){case"success":return"✅";case"warning":return"⚠️";case"error":return"❌";default:return"ℹ️"}},f=a.filter(h=>!h.read).length;return i?s.jsx(Qa,{children:s.jsx("div",{className:"flex items-center justify-center h-96",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Cargando mensajes..."})]})})}):s.jsx(Qa,{children:s.jsxs("div",{className:"container mx-auto p-6 max-w-7xl",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx(dd,{className:"h-8 w-8 text-blue-600"}),s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Mensajes del Equipo"}),f>0&&s.jsxs(Ze,{className:"bg-red-500 text-white",children:[f," nuevos"]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsx("div",{className:"lg:col-span-1",children:s.jsxs(le,{children:[s.jsx(_e,{children:s.jsxs(ke,{className:"flex items-center gap-2",children:[s.jsx(hd,{className:"h-5 w-5"}),"Mensajes Recibidos"]})}),s.jsx(ce,{className:"p-0",children:s.jsx($u,{className:"h-[600px]",children:a.length===0?s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(dd,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),s.jsx("p",{children:"No hay mensajes"})]}):a.map(h=>s.jsx("div",{className:`p-4 border-b cursor-pointer hover:bg-gray-50 transition-colors ${h.read?"":"bg-blue-50 border-l-4 border-l-blue-500"} ${(e==null?void 0:e.id)===h.id?"bg-blue-100":""}`,onClick:()=>t(h),children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"text-lg",children:d(h.type)}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("p",{className:`font-medium text-sm truncate ${h.read?"":"font-bold"}`,children:h.title}),s.jsx(Ze,{className:`${c(h.priority)} text-white text-xs`,children:u(h.priority)})]}),s.jsx("p",{className:"text-xs text-gray-500 truncate mb-2",children:h.message}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-400",children:[s.jsx(ga,{className:"h-3 w-3"}),Or(new Date(h.createdAt),"PPp",{locale:Ha})]})]})]})},h.id))})})]})}),s.jsx("div",{className:"lg:col-span-2",children:e?s.jsxs(le,{children:[s.jsx(_e,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"text-2xl",children:d(e.type)}),s.jsxs("div",{children:[s.jsx(ke,{className:"text-xl",children:e.title}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsx(Ze,{className:`${c(e.priority)} text-white`,children:u(e.priority)}),s.jsx("span",{className:"text-sm text-gray-500",children:Or(new Date(e.createdAt),"PPp",{locale:Ha})})]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[!e.read&&s.jsxs(re,{variant:"outline",size:"sm",onClick:()=>o.mutate(e.id),disabled:o.isPending,children:[s.jsx(E0,{className:"h-4 w-4 mr-2"}),"Marcar como leído"]}),s.jsxs(NP,{children:[s.jsx(PP,{asChild:!0,children:s.jsxs(re,{variant:"outline",size:"sm",children:[s.jsx(md,{className:"h-4 w-4 mr-2"}),"Eliminar"]})}),s.jsxs(Hx,{children:[s.jsxs(Gx,{children:[s.jsx(Yx,{children:"¿Eliminar mensaje?"}),s.jsx(Qx,{children:"Esta acción no se puede deshacer. El mensaje será eliminado permanentemente."})]}),s.jsxs(Xx,{children:[s.jsx(Jx,{children:"Cancelar"}),s.jsx(Zx,{onClick:()=>l.mutate(e.id),className:"bg-red-500 hover:bg-red-600",children:"Eliminar"})]})]})]})]})]})}),s.jsx(ce,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[s.jsx(mc,{className:"h-4 w-4"}),s.jsxs("span",{children:["De: ",e.fromUserName||"Usuario desconocido"]}),s.jsxs("span",{className:"text-xs text-gray-500",children:["(",e.fromUserEmail||"Email no disponible",")"]})]}),s.jsx(kf,{}),s.jsx("div",{className:"prose max-w-none",children:s.jsx("p",{className:"text-gray-700 leading-relaxed whitespace-pre-wrap",children:e.message})})]})})]}):s.jsx(le,{children:s.jsx(ce,{className:"flex items-center justify-center h-96",children:s.jsxs("div",{className:"text-center text-gray-500",children:[s.jsx(hd,{className:"h-16 w-16 mx-auto mb-4 text-gray-300"}),s.jsx("p",{className:"text-lg",children:"Selecciona un mensaje para ver su contenido"})]})})})})]})]})})}function lVe(){const{user:e}=dl(),{data:t,isLoading:r,error:n}=$e({queryKey:[`/api/job-profiles/${e==null?void 0:e.id}`],enabled:!!(e!=null&&e.id)}),{data:a,isLoading:i}=$e({queryKey:[`/api/user-kpis/${e==null?void 0:e.id}`],enabled:!!(e!=null&&e.id)});if(r||i)return s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})});if(!t)return s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsx("div",{className:"mb-6",children:s.jsx(Og,{href:"/",children:s.jsxs(re,{variant:"outline",className:"flex items-center gap-2",children:[s.jsx(hc,{className:"h-4 w-4"}),"Volver al Dashboard"]})})}),s.jsxs(le,{className:"max-w-2xl mx-auto",children:[s.jsxs(_e,{children:[s.jsxs(ke,{className:"flex items-center gap-2",children:[s.jsx(mc,{className:"h-5 w-5"}),"Perfil de Usuario"]}),s.jsx(Et,{children:"Tu perfil personalizado no está disponible aún. Pronto tendrás acceso a información detallada sobre tu puesto."})]}),s.jsx(ce,{children:s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Yo,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),s.jsx("p",{className:"text-gray-600",children:"Estamos configurando tu perfil personalizado con información específica de tu puesto."})]})})]})]});const o=t;return s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsx("div",{className:"mb-6",children:s.jsx(Og,{href:"/",children:s.jsxs(re,{variant:"outline",className:"flex items-center gap-2",children:[s.jsx(hc,{className:"h-4 w-4"}),"Volver al Dashboard"]})})}),s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[s.jsx("div",{className:"bg-blue-100 p-3 rounded-full",children:s.jsx(mc,{className:"h-6 w-6 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:e==null?void 0:e.name}),s.jsx("p",{className:"text-gray-600",children:o.title}),s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsx(Ze,{variant:"outline",children:o.companyName}),s.jsx(Ze,{variant:"outline",children:o.areaName})]})]})]})}),s.jsxs(hl,{defaultValue:"overview",className:"w-full",children:[s.jsxs(Ys,{className:"grid w-full grid-cols-4",children:[s.jsx(Xt,{value:"overview",children:"Vista General"}),s.jsx(Xt,{value:"kpis",children:"Mis KPIs"}),s.jsx(Xt,{value:"activities",children:"Actividades"}),s.jsx(Xt,{value:"tips",children:"Tips & Guías"})]}),s.jsxs(mr,{value:"overview",className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs(le,{className:"lg:col-span-2",children:[s.jsx(_e,{children:s.jsxs(ke,{className:"flex items-center gap-2",children:[s.jsx(fO,{className:"h-5 w-5"}),"Descripción del Puesto"]})}),s.jsx(ce,{children:s.jsx("p",{className:"text-gray-700 leading-relaxed",children:o.description})})]}),s.jsxs(le,{children:[s.jsx(_e,{children:s.jsxs(ke,{className:"flex items-center gap-2",children:[s.jsx(T0,{className:"h-5 w-5"}),"Resumen de KPIs"]})}),s.jsx(ce,{children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Total de KPIs"}),s.jsx(Ze,{variant:"secondary",children:o.userKpis.length})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Semanales"}),s.jsx("span",{className:"text-sm font-medium",children:o.userKpis.filter(l=>l.frequency==="weekly").length})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Mensuales"}),s.jsx("span",{className:"text-sm font-medium",children:o.userKpis.filter(l=>l.frequency==="monthly").length})]}),s.jsx(kf,{}),s.jsx(Og,{href:"/kpi-control",children:s.jsxs(re,{className:"w-full",children:["Actualizar KPIs",s.jsx(Fee,{className:"h-4 w-4 ml-2"})]})})]})})]})]}),s.jsxs(le,{children:[s.jsx(_e,{children:s.jsxs(ke,{className:"flex items-center gap-2",children:[s.jsx(pd,{className:"h-5 w-5"}),"Responsabilidades Principales"]})}),s.jsx(ce,{children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:o.responsibilities.map((l,c)=>s.jsxs("div",{className:"flex items-start gap-3 p-3 bg-gray-50 rounded-lg",children:[s.jsx(tn,{className:"h-5 w-5 text-green-500 mt-0.5"}),s.jsx("span",{className:"text-sm text-gray-700",children:l})]},c))})})]})]}),s.jsx(mr,{value:"kpis",className:"space-y-6",children:s.jsxs(le,{children:[s.jsxs(_e,{children:[s.jsxs(ke,{className:"flex items-center gap-2",children:[s.jsx(rn,{className:"h-5 w-5"}),"Mis KPIs Asignados"]}),s.jsx(Et,{children:"Estos son los KPIs que debes monitorear y actualizar regularmente"})]}),s.jsxs(ce,{children:[s.jsx("div",{className:"space-y-4",children:o.userKpis.map((l,c)=>{var u;return s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-900",children:l.name}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Objetivo: ",l.target]})]}),s.jsx(Ze,{variant:l.frequency==="weekly"?"default":"secondary",children:l.frequency==="weekly"?"Semanal":"Mensual"})]}),o.kpiInstructions.find(d=>d.kpiName===l.name)&&s.jsx("div",{className:"mt-3 p-3 bg-blue-50 rounded-lg",children:s.jsxs("p",{className:"text-sm text-blue-800",children:[s.jsx("strong",{children:"Instrucciones:"})," ",(u=o.kpiInstructions.find(d=>d.kpiName===l.name))==null?void 0:u.instructions]})})]},c)})}),s.jsx("div",{className:"mt-6 p-4 bg-yellow-50 rounded-lg",children:s.jsxs("p",{className:"text-sm text-yellow-800",children:[s.jsx("strong",{children:"¿Dónde actualizar?"})," Ve a la sección",s.jsx(Og,{href:"/kpi-control",className:"mx-1 font-medium underline",children:'"Centro de Control de KPIs"'}),"para actualizar todos tus KPIs."]})})]})]})}),s.jsx(mr,{value:"activities",className:"space-y-6",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(le,{children:[s.jsx(_e,{children:s.jsxs(ke,{className:"flex items-center gap-2",children:[s.jsx(tn,{className:"h-5 w-5"}),"Actividades Principales"]})}),s.jsx(ce,{children:s.jsx($u,{className:"h-96",children:s.jsx("div",{className:"space-y-3",children:o.mainActivities.map((l,c)=>s.jsxs("div",{className:"flex items-start gap-3 p-3 border rounded-lg",children:[s.jsx("div",{className:"bg-blue-100 p-1 rounded-full",children:s.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full"})}),s.jsx("span",{className:"text-sm text-gray-700",children:l})]},c))})})})]}),s.jsxs(le,{children:[s.jsx(_e,{children:s.jsxs(ke,{className:"flex items-center gap-2",children:[s.jsx(ga,{className:"h-5 w-5"}),"Cronograma de Actividades"]})}),s.jsx(ce,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Diarias"}),s.jsx("ul",{className:"space-y-1",children:o.updateFrequency.daily.map((l,c)=>s.jsx("li",{className:"text-sm text-gray-600 pl-4 border-l-2 border-green-200",children:l},c))})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Semanales"}),s.jsx("ul",{className:"space-y-1",children:o.updateFrequency.weekly.map((l,c)=>s.jsx("li",{className:"text-sm text-gray-600 pl-4 border-l-2 border-blue-200",children:l},c))})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Mensuales"}),s.jsx("ul",{className:"space-y-1",children:o.updateFrequency.monthly.map((l,c)=>s.jsx("li",{className:"text-sm text-gray-600 pl-4 border-l-2 border-purple-200",children:l},c))})]})]})})]})]})}),s.jsx(mr,{value:"tips",className:"space-y-6",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(le,{children:[s.jsx(_e,{children:s.jsxs(ke,{className:"flex items-center gap-2",children:[s.jsx(rn,{className:"h-5 w-5"}),"Tips para el Éxito"]})}),s.jsx(ce,{children:s.jsx($u,{className:"h-96",children:s.jsx("div",{className:"space-y-4",children:o.tips.map((l,c)=>s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:l.category}),s.jsx("p",{className:"text-sm text-gray-700",children:l.tip})]},c))})})})]}),s.jsxs(le,{children:[s.jsx(_e,{children:s.jsxs(ke,{className:"flex items-center gap-2",children:[s.jsx(fO,{className:"h-5 w-5"}),"Procesos y Procedimientos"]})}),s.jsx(ce,{children:s.jsx($u,{className:"h-96",children:s.jsx("div",{className:"space-y-4",children:o.processes.map((l,c)=>s.jsxs("div",{className:"border rounded-lg p-4",children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:l.name}),s.jsx("p",{className:"text-sm text-gray-600 mb-3",children:l.description}),s.jsx("div",{className:"space-y-2",children:l.steps.map((u,d)=>s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(Ze,{variant:"outline",className:"text-xs",children:d+1}),s.jsx("span",{className:"text-sm text-gray-700",children:u})]},d))})]},c))})})})]})]})})]})]})}function cVe({isOpen:e,onClose:t}){const{toast:r}=wn(),n=Vn(),[a,i]=v.useState("list"),[o,l]=v.useState(null),[c,u]=v.useState({name:"",email:"",phone:"",contactPerson:"",company:"",address:"",paymentTerms:30,isActive:!0,requiresReceipt:!0,reminderFrequency:7,notes:""}),{data:d=[],isLoading:f}=$e({queryKey:["/api/clients"],enabled:e}),h=At({mutationFn:async b=>{const N=await fetch("/api/clients",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(b)});if(!N.ok)throw new Error("Failed to create client");return N.json()},onSuccess:()=>{n.invalidateQueries({queryKey:["/api/clients"]}),r({description:"Cliente creado exitosamente"}),m(),i("list")},onError:()=>{r({description:"Error al crear cliente",variant:"destructive"})}}),p=At({mutationFn:async({id:b,...N})=>{const j=await fetch(`/api/clients/${b}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(N)});if(!j.ok)throw new Error("Failed to update client");return j.json()},onSuccess:()=>{n.invalidateQueries({queryKey:["/api/clients"]}),r({description:"Cliente actualizado exitosamente"}),m(),i("list")},onError:()=>{r({description:"Error al actualizar cliente",variant:"destructive"})}}),x=At({mutationFn:async b=>{const N=await fetch(`/api/clients/${b}`,{method:"DELETE"});if(!N.ok)throw new Error("Failed to delete client");return N.json()},onSuccess:()=>{n.invalidateQueries({queryKey:["/api/clients"]}),r({description:"Cliente eliminado exitosamente"})},onError:()=>{r({description:"Error al eliminar cliente",variant:"destructive"})}}),m=()=>{u({name:"",email:"",phone:"",contactPerson:"",company:"",address:"",paymentTerms:30,isActive:!0,requiresReceipt:!0,reminderFrequency:7,notes:""}),l(null)},g=b=>{b.preventDefault(),o?p.mutate({id:o.id,...c}):h.mutate(c)},w=b=>{l(b),u({name:b.name,email:b.email||"",phone:b.phone||"",contactPerson:b.contactPerson||"",company:b.company||"",address:b.address||"",paymentTerms:b.paymentTerms||30,isActive:b.isActive??!0,requiresReceipt:b.requiresReceipt??!0,reminderFrequency:b.reminderFrequency||7,notes:b.notes||""}),i("form")},y=b=>{confirm("¿Está seguro de que desea eliminar este cliente?")&&x.mutate(b)};return v.useEffect(()=>{e||(m(),i("list"))},[e]),s.jsx(Ir,{open:e,onOpenChange:t,children:s.jsxs(Sr,{className:"max-w-4xl max-h-[90vh] overflow-hidden",children:[s.jsx(Nr,{children:s.jsxs(Pr,{className:"flex items-center gap-2",children:[s.jsx(mc,{className:"h-5 w-5 text-blue-600"}),"Gestión de Clientes"]})}),s.jsxs(hl,{value:a,onValueChange:i,className:"w-full",children:[s.jsxs(Ys,{className:"grid w-full grid-cols-2",children:[s.jsxs(Xt,{value:"list",className:"flex items-center gap-2",children:[s.jsx(mc,{className:"h-4 w-4"}),"Lista de Clientes"]}),s.jsxs(Xt,{value:"form",className:"flex items-center gap-2",children:[s.jsx(Ka,{className:"h-4 w-4"}),o?"Editar Cliente":"Nuevo Cliente"]})]}),s.jsxs(mr,{value:"list",className:"space-y-4",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Gestiona la base de datos de clientes para recordatorios de pago"}),s.jsxs(re,{onClick:()=>{m(),i("form")},className:"flex items-center gap-2",children:[s.jsx(Ka,{className:"h-4 w-4"}),"Nuevo Cliente"]})]}),s.jsx("div",{className:"border rounded-lg max-h-[400px] overflow-y-auto",children:s.jsxs(bT,{children:[s.jsx(wT,{children:s.jsxs(Kl,{children:[s.jsx(qn,{children:"Cliente"}),s.jsx(qn,{children:"Empresa"}),s.jsx(qn,{children:"Contacto"}),s.jsx(qn,{children:"Términos de Pago"}),s.jsx(qn,{children:"Recibos"}),s.jsx(qn,{children:"Estado"}),s.jsx(qn,{children:"Acciones"})]})}),s.jsx(jT,{children:f?s.jsx(Kl,{children:s.jsx(mn,{colSpan:7,className:"text-center py-8",children:"Cargando clientes..."})}):d.length===0?s.jsx(Kl,{children:s.jsx(mn,{colSpan:7,className:"text-center py-8",children:"No hay clientes registrados"})}):d.map(b=>s.jsxs(Kl,{children:[s.jsx(mn,{children:s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:b.name}),b.email&&s.jsxs("div",{className:"text-sm text-gray-500 flex items-center gap-1",children:[s.jsx(hd,{className:"h-3 w-3"}),b.email]})]})}),s.jsx(mn,{children:s.jsxs("div",{children:[b.company&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Yo,{className:"h-3 w-3"}),b.company]}),b.contactPerson&&s.jsx("div",{className:"text-sm text-gray-500",children:b.contactPerson})]})}),s.jsx(mn,{children:b.phone&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(l6,{className:"h-3 w-3"}),b.phone]})}),s.jsx(mn,{children:s.jsxs("span",{className:"text-sm font-medium",children:[b.paymentTerms||30," días"]})}),s.jsx(mn,{children:s.jsxs("div",{className:"space-y-1",children:[s.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${b.requiresReceipt?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:b.requiresReceipt?"Requiere recibo":"Sin recibo"}),b.requiresReceipt&&s.jsxs("div",{className:"text-xs text-gray-500",children:["Recordatorios cada ",b.reminderFrequency||7," días"]})]})}),s.jsx(mn,{children:s.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${b.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:b.isActive?"Activo":"Inactivo"})}),s.jsx(mn,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(re,{variant:"outline",size:"sm",onClick:()=>w(b),children:s.jsx(ly,{className:"h-3 w-3"})}),s.jsx(re,{variant:"outline",size:"sm",onClick:()=>y(b.id),className:"text-red-600 hover:text-red-700",children:s.jsx(md,{className:"h-3 w-3"})})]})})]},b.id))})]})})]}),s.jsx(mr,{value:"form",className:"space-y-4",children:s.jsxs("form",{onSubmit:g,className:"space-y-4 max-h-[500px] overflow-y-auto",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ge,{htmlFor:"name",children:"Nombre del Cliente *"}),s.jsx(Ee,{id:"name",value:c.name,onChange:b=>u(N=>({...N,name:b.target.value})),placeholder:"Juan Carlos Méndez",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ge,{htmlFor:"company",children:"Empresa"}),s.jsx(Ee,{id:"company",value:c.company,onChange:b=>u(N=>({...N,company:b.target.value})),placeholder:"Autopartes del Centro SA"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ge,{htmlFor:"email",children:"Email"}),s.jsx(Ee,{id:"email",type:"email",value:c.email,onChange:b=>u(N=>({...N,email:b.target.value})),placeholder:"cliente@empresa.mx"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ge,{htmlFor:"phone",children:"Teléfono"}),s.jsx(Ee,{id:"phone",value:c.phone,onChange:b=>u(N=>({...N,phone:b.target.value})),placeholder:"(55) 5551-2345"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ge,{htmlFor:"contactPerson",children:"Persona de Contacto"}),s.jsx(Ee,{id:"contactPerson",value:c.contactPerson,onChange:b=>u(N=>({...N,contactPerson:b.target.value})),placeholder:"Juan Carlos Méndez"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ge,{htmlFor:"paymentTerms",children:"Términos de Pago (días)"}),s.jsx(Ee,{id:"paymentTerms",type:"number",min:"1",value:c.paymentTerms,onChange:b=>u(N=>({...N,paymentTerms:parseInt(b.target.value)||30}))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ge,{htmlFor:"address",children:"Dirección"}),s.jsx(Ee,{id:"address",value:c.address,onChange:b=>u(N=>({...N,address:b.target.value})),placeholder:"Av. Insurgentes 123, CDMX"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ge,{htmlFor:"notes",children:"Notas"}),s.jsx(Za,{id:"notes",value:c.notes,onChange:b=>u(N=>({...N,notes:b.target.value})),placeholder:"Información adicional sobre el cliente...",rows:3})]}),s.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50 space-y-4",children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Configuración de Pagos"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ep,{id:"requiresReceipt",checked:c.requiresReceipt,onCheckedChange:b=>u(N=>({...N,requiresReceipt:b}))}),s.jsx(ge,{htmlFor:"requiresReceipt",children:"Requiere recibo de pago"})]}),c.requiresReceipt&&s.jsxs("div",{className:"space-y-2 ml-6",children:[s.jsx(ge,{htmlFor:"reminderFrequency",children:"Frecuencia de recordatorios (días)"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ee,{id:"reminderFrequency",type:"number",min:"1",max:"30",value:c.reminderFrequency,onChange:b=>u(N=>({...N,reminderFrequency:parseInt(b.target.value)||7})),className:"w-20"}),s.jsx("span",{className:"text-sm text-gray-600",children:"días entre recordatorios"})]}),s.jsxs("p",{className:"text-xs text-gray-500",children:["Se enviará un recordatorio cada ",c.reminderFrequency," días hasta recibir el comprobante de pago"]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ep,{id:"isActive",checked:c.isActive,onCheckedChange:b=>u(N=>({...N,isActive:b}))}),s.jsx(ge,{htmlFor:"isActive",children:"Cliente activo"})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t",children:[s.jsx(re,{type:"button",variant:"outline",onClick:()=>i("list"),children:"Cancelar"}),s.jsx(re,{type:"submit",disabled:h.isPending||p.isPending,className:"bg-blue-600 hover:bg-blue-700",children:o?"Actualizar Cliente":"Crear Cliente"})]})]})})]})]})})}function uVe(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return v.useMemo(()=>n=>{t.forEach(a=>a(n))},t)}const Qb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Mf(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function CT(e){return"nodeType"in e}function Bn(e){var t,r;return e?Mf(e)?e:CT(e)&&(t=(r=e.ownerDocument)==null?void 0:r.defaultView)!=null?t:window:window}function AT(e){const{Document:t}=Bn(e);return e instanceof t}function lg(e){return Mf(e)?!1:e instanceof Bn(e).HTMLElement}function CX(e){return e instanceof Bn(e).SVGElement}function If(e){return e?Mf(e)?e.document:CT(e)?AT(e)?e:lg(e)||CX(e)?e.ownerDocument:document:document:document}const Ai=Qb?v.useLayoutEffect:v.useEffect;function Zb(e){const t=v.useRef(e);return Ai(()=>{t.current=e}),v.useCallback(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return t.current==null?void 0:t.current(...n)},[])}function dVe(){const e=v.useRef(null),t=v.useCallback((n,a)=>{e.current=setInterval(n,a)},[]),r=v.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,r]}function Tp(e,t){t===void 0&&(t=[e]);const r=v.useRef(e);return Ai(()=>{r.current!==e&&(r.current=e)},t),r}function cg(e,t){const r=v.useRef();return v.useMemo(()=>{const n=e(r.current);return r.current=n,n},[...t])}function e0(e){const t=Zb(e),r=v.useRef(null),n=v.useCallback(a=>{a!==r.current&&(t==null||t(a,r.current)),r.current=a},[]);return[r,n]}function t0(e){const t=v.useRef();return v.useEffect(()=>{t.current=e},[e]),t.current}let Kj={};function ug(e,t){return v.useMemo(()=>{if(t)return t;const r=Kj[e]==null?0:Kj[e]+1;return Kj[e]=r,e+"-"+r},[e,t])}function AX(e){return function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];return n.reduce((i,o)=>{const l=Object.entries(o);for(const[c,u]of l){const d=i[c];d!=null&&(i[c]=d+e*u)}return i},{...t})}}const Uu=AX(1),r0=AX(-1);function fVe(e){return"clientX"in e&&"clientY"in e}function Jb(e){if(!e)return!1;const{KeyboardEvent:t}=Bn(e.target);return t&&e instanceof t}function hVe(e){if(!e)return!1;const{TouchEvent:t}=Bn(e.target);return t&&e instanceof t}function n0(e){if(hVe(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:r}=e.touches[0];return{x:t,y:r}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:r}=e.changedTouches[0];return{x:t,y:r}}}return fVe(e)?{x:e.clientX,y:e.clientY}:null}const ol=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:r}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(r?Math.round(r):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:r}=e;return"scaleX("+t+") scaleY("+r+")"}},Transform:{toString(e){if(e)return[ol.Translate.toString(e),ol.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:r,easing:n}=e;return t+" "+r+"ms "+n}}}),DR="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function mVe(e){return e.matches(DR)?e:e.querySelector(DR)}const pVe={display:"none"};function gVe(e){let{id:t,value:r}=e;return k.createElement("div",{id:t,style:pVe},r)}function vVe(e){let{id:t,announcement:r,ariaLiveType:n="assertive"}=e;const a={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return k.createElement("div",{id:t,style:a,role:"status","aria-live":n,"aria-atomic":!0},r)}function yVe(){const[e,t]=v.useState("");return{announce:v.useCallback(n=>{n!=null&&t(n)},[]),announcement:e}}const EX=v.createContext(null);function xVe(e){const t=v.useContext(EX);v.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function bVe(){const[e]=v.useState(()=>new Set),t=v.useCallback(n=>(e.add(n),()=>e.delete(n)),[e]);return[v.useCallback(n=>{let{type:a,event:i}=n;e.forEach(o=>{var l;return(l=o[a])==null?void 0:l.call(o,i)})},[e]),t]}const wVe={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},jVe={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:r}=e;return r?"Draggable item "+t.id+" was moved over droppable area "+r.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:r}=e;return r?"Draggable item "+t.id+" was dropped over droppable area "+r.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function SVe(e){let{announcements:t=jVe,container:r,hiddenTextDescribedById:n,screenReaderInstructions:a=wVe}=e;const{announce:i,announcement:o}=yVe(),l=ug("DndLiveRegion"),[c,u]=v.useState(!1);if(v.useEffect(()=>{u(!0)},[]),xVe(v.useMemo(()=>({onDragStart(f){let{active:h}=f;i(t.onDragStart({active:h}))},onDragMove(f){let{active:h,over:p}=f;t.onDragMove&&i(t.onDragMove({active:h,over:p}))},onDragOver(f){let{active:h,over:p}=f;i(t.onDragOver({active:h,over:p}))},onDragEnd(f){let{active:h,over:p}=f;i(t.onDragEnd({active:h,over:p}))},onDragCancel(f){let{active:h,over:p}=f;i(t.onDragCancel({active:h,over:p}))}}),[i,t])),!c)return null;const d=k.createElement(k.Fragment,null,k.createElement(gVe,{id:n,value:a.draggable}),k.createElement(vVe,{id:l,announcement:o}));return r?za.createPortal(d,r):d}var kr;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(kr||(kr={}));function a0(){}function NVe(e,t){return v.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function PVe(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return v.useMemo(()=>[...t].filter(n=>n!=null),[...t])}const Ei=Object.freeze({x:0,y:0});function CVe(e,t){const r=n0(e);if(!r)return"0 0";const n={x:(r.x-t.left)/t.width*100,y:(r.y-t.top)/t.height*100};return n.x+"% "+n.y+"%"}function AVe(e,t){let{data:{value:r}}=e,{data:{value:n}}=t;return n-r}function EVe(e,t){if(!e||e.length===0)return null;const[r]=e;return r[t]}function TVe(e,t){const r=Math.max(t.top,e.top),n=Math.max(t.left,e.left),a=Math.min(t.left+t.width,e.left+e.width),i=Math.min(t.top+t.height,e.top+e.height),o=a-n,l=i-r;if(n<a&&r<i){const c=t.width*t.height,u=e.width*e.height,d=o*l,f=d/(c+u-d);return Number(f.toFixed(4))}return 0}const _Ve=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:n}=e;const a=[];for(const i of n){const{id:o}=i,l=r.get(o);if(l){const c=TVe(l,t);c>0&&a.push({id:o,data:{droppableContainer:i,value:c}})}}return a.sort(AVe)};function OVe(e,t,r){return{...e,scaleX:t&&r?t.width/r.width:1,scaleY:t&&r?t.height/r.height:1}}function TX(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Ei}function kVe(e){return function(r){for(var n=arguments.length,a=new Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];return a.reduce((o,l)=>({...o,top:o.top+e*l.y,bottom:o.bottom+e*l.y,left:o.left+e*l.x,right:o.right+e*l.x}),{...r})}}const DVe=kVe(1);function _X(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function MVe(e,t,r){const n=_X(t);if(!n)return e;const{scaleX:a,scaleY:i,x:o,y:l}=n,c=e.left-o-(1-a)*parseFloat(r),u=e.top-l-(1-i)*parseFloat(r.slice(r.indexOf(" ")+1)),d=a?e.width/a:e.width,f=i?e.height/i:e.height;return{width:d,height:f,top:u,right:c+d,bottom:u+f,left:c}}const IVe={ignoreTransform:!1};function Rf(e,t){t===void 0&&(t=IVe);let r=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:u,transformOrigin:d}=Bn(e).getComputedStyle(e);u&&(r=MVe(r,u,d))}const{top:n,left:a,width:i,height:o,bottom:l,right:c}=r;return{top:n,left:a,width:i,height:o,bottom:l,right:c}}function MR(e){return Rf(e,{ignoreTransform:!0})}function RVe(e){const t=e.innerWidth,r=e.innerHeight;return{top:0,left:0,right:t,bottom:r,width:t,height:r}}function $Ve(e,t){return t===void 0&&(t=Bn(e).getComputedStyle(e)),t.position==="fixed"}function LVe(e,t){t===void 0&&(t=Bn(e).getComputedStyle(e));const r=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(a=>{const i=t[a];return typeof i=="string"?r.test(i):!1})}function ET(e,t){const r=[];function n(a){if(t!=null&&r.length>=t||!a)return r;if(AT(a)&&a.scrollingElement!=null&&!r.includes(a.scrollingElement))return r.push(a.scrollingElement),r;if(!lg(a)||CX(a)||r.includes(a))return r;const i=Bn(e).getComputedStyle(a);return a!==e&&LVe(a,i)&&r.push(a),$Ve(a,i)?r:n(a.parentNode)}return e?n(e):r}function OX(e){const[t]=ET(e,1);return t??null}function qj(e){return!Qb||!e?null:Mf(e)?e:CT(e)?AT(e)||e===If(e).scrollingElement?window:lg(e)?e:null:null}function kX(e){return Mf(e)?e.scrollX:e.scrollLeft}function DX(e){return Mf(e)?e.scrollY:e.scrollTop}function CP(e){return{x:kX(e),y:DX(e)}}var Ur;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(Ur||(Ur={}));function MX(e){return!Qb||!e?!1:e===document.scrollingElement}function IX(e){const t={x:0,y:0},r=MX(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},n={x:e.scrollWidth-r.width,y:e.scrollHeight-r.height},a=e.scrollTop<=t.y,i=e.scrollLeft<=t.x,o=e.scrollTop>=n.y,l=e.scrollLeft>=n.x;return{isTop:a,isLeft:i,isBottom:o,isRight:l,maxScroll:n,minScroll:t}}const FVe={x:.2,y:.2};function VVe(e,t,r,n,a){let{top:i,left:o,right:l,bottom:c}=r;n===void 0&&(n=10),a===void 0&&(a=FVe);const{isTop:u,isBottom:d,isLeft:f,isRight:h}=IX(e),p={x:0,y:0},x={x:0,y:0},m={height:t.height*a.y,width:t.width*a.x};return!u&&i<=t.top+m.height?(p.y=Ur.Backward,x.y=n*Math.abs((t.top+m.height-i)/m.height)):!d&&c>=t.bottom-m.height&&(p.y=Ur.Forward,x.y=n*Math.abs((t.bottom-m.height-c)/m.height)),!h&&l>=t.right-m.width?(p.x=Ur.Forward,x.x=n*Math.abs((t.right-m.width-l)/m.width)):!f&&o<=t.left+m.width&&(p.x=Ur.Backward,x.x=n*Math.abs((t.left+m.width-o)/m.width)),{direction:p,speed:x}}function zVe(e){if(e===document.scrollingElement){const{innerWidth:i,innerHeight:o}=window;return{top:0,left:0,right:i,bottom:o,width:i,height:o}}const{top:t,left:r,right:n,bottom:a}=e.getBoundingClientRect();return{top:t,left:r,right:n,bottom:a,width:e.clientWidth,height:e.clientHeight}}function RX(e){return e.reduce((t,r)=>Uu(t,CP(r)),Ei)}function BVe(e){return e.reduce((t,r)=>t+kX(r),0)}function UVe(e){return e.reduce((t,r)=>t+DX(r),0)}function $X(e,t){if(t===void 0&&(t=Rf),!e)return;const{top:r,left:n,bottom:a,right:i}=t(e);OX(e)&&(a<=0||i<=0||r>=window.innerHeight||n>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const KVe=[["x",["left","right"],BVe],["y",["top","bottom"],UVe]];class TT{constructor(t,r){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const n=ET(r),a=RX(n);this.rect={...t},this.width=t.width,this.height=t.height;for(const[i,o,l]of KVe)for(const c of o)Object.defineProperty(this,c,{get:()=>{const u=l(n),d=a[i]-u;return this.rect[c]+d},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Zh{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(r=>{var n;return(n=this.target)==null?void 0:n.removeEventListener(...r)})},this.target=t}add(t,r,n){var a;(a=this.target)==null||a.addEventListener(t,r,n),this.listeners.push([t,r,n])}}function qVe(e){const{EventTarget:t}=Bn(e);return e instanceof t?e:If(e)}function Wj(e,t){const r=Math.abs(e.x),n=Math.abs(e.y);return typeof t=="number"?Math.sqrt(r**2+n**2)>t:"x"in t&&"y"in t?r>t.x&&n>t.y:"x"in t?r>t.x:"y"in t?n>t.y:!1}var $a;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})($a||($a={}));function IR(e){e.preventDefault()}function WVe(e){e.stopPropagation()}var Ct;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(Ct||(Ct={}));const LX={start:[Ct.Space,Ct.Enter],cancel:[Ct.Esc],end:[Ct.Space,Ct.Enter,Ct.Tab]},HVe=(e,t)=>{let{currentCoordinates:r}=t;switch(e.code){case Ct.Right:return{...r,x:r.x+25};case Ct.Left:return{...r,x:r.x-25};case Ct.Down:return{...r,y:r.y+25};case Ct.Up:return{...r,y:r.y-25}}};class FX{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:r}}=t;this.props=t,this.listeners=new Zh(If(r)),this.windowListeners=new Zh(Bn(r)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add($a.Resize,this.handleCancel),this.windowListeners.add($a.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add($a.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:r}=this.props,n=t.node.current;n&&$X(n),r(Ei)}handleKeyDown(t){if(Jb(t)){const{active:r,context:n,options:a}=this.props,{keyboardCodes:i=LX,coordinateGetter:o=HVe,scrollBehavior:l="smooth"}=a,{code:c}=t;if(i.end.includes(c)){this.handleEnd(t);return}if(i.cancel.includes(c)){this.handleCancel(t);return}const{collisionRect:u}=n.current,d=u?{x:u.left,y:u.top}:Ei;this.referenceCoordinates||(this.referenceCoordinates=d);const f=o(t,{active:r,context:n.current,currentCoordinates:d});if(f){const h=r0(f,d),p={x:0,y:0},{scrollableAncestors:x}=n.current;for(const m of x){const g=t.code,{isTop:w,isRight:y,isLeft:b,isBottom:N,maxScroll:j,minScroll:S}=IX(m),P=zVe(m),C={x:Math.min(g===Ct.Right?P.right-P.width/2:P.right,Math.max(g===Ct.Right?P.left:P.left+P.width/2,f.x)),y:Math.min(g===Ct.Down?P.bottom-P.height/2:P.bottom,Math.max(g===Ct.Down?P.top:P.top+P.height/2,f.y))},A=g===Ct.Right&&!y||g===Ct.Left&&!b,E=g===Ct.Down&&!N||g===Ct.Up&&!w;if(A&&C.x!==f.x){const T=m.scrollLeft+h.x,_=g===Ct.Right&&T<=j.x||g===Ct.Left&&T>=S.x;if(_&&!h.y){m.scrollTo({left:T,behavior:l});return}_?p.x=m.scrollLeft-T:p.x=g===Ct.Right?m.scrollLeft-j.x:m.scrollLeft-S.x,p.x&&m.scrollBy({left:-p.x,behavior:l});break}else if(E&&C.y!==f.y){const T=m.scrollTop+h.y,_=g===Ct.Down&&T<=j.y||g===Ct.Up&&T>=S.y;if(_&&!h.x){m.scrollTo({top:T,behavior:l});return}_?p.y=m.scrollTop-T:p.y=g===Ct.Down?m.scrollTop-j.y:m.scrollTop-S.y,p.y&&m.scrollBy({top:-p.y,behavior:l});break}}this.handleMove(t,Uu(r0(f,this.referenceCoordinates),p))}}}handleMove(t,r){const{onMove:n}=this.props;t.preventDefault(),n(r)}handleEnd(t){const{onEnd:r}=this.props;t.preventDefault(),this.detach(),r()}handleCancel(t){const{onCancel:r}=this.props;t.preventDefault(),this.detach(),r()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}FX.activators=[{eventName:"onKeyDown",handler:(e,t,r)=>{let{keyboardCodes:n=LX,onActivation:a}=t,{active:i}=r;const{code:o}=e.nativeEvent;if(n.start.includes(o)){const l=i.activatorNode.current;return l&&e.target!==l?!1:(e.preventDefault(),a==null||a({event:e.nativeEvent}),!0)}return!1}}];function RR(e){return!!(e&&"distance"in e)}function $R(e){return!!(e&&"delay"in e)}class _T{constructor(t,r,n){var a;n===void 0&&(n=qVe(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=r;const{event:i}=t,{target:o}=i;this.props=t,this.events=r,this.document=If(o),this.documentListeners=new Zh(this.document),this.listeners=new Zh(n),this.windowListeners=new Zh(Bn(o)),this.initialCoordinates=(a=n0(i))!=null?a:Ei,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:r,bypassActivationConstraint:n}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add($a.Resize,this.handleCancel),this.windowListeners.add($a.DragStart,IR),this.windowListeners.add($a.VisibilityChange,this.handleCancel),this.windowListeners.add($a.ContextMenu,IR),this.documentListeners.add($a.Keydown,this.handleKeydown),r){if(n!=null&&n({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if($R(r)){this.timeoutId=setTimeout(this.handleStart,r.delay),this.handlePending(r);return}if(RR(r)){this.handlePending(r);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,r){const{active:n,onPending:a}=this.props;a(n,t,this.initialCoordinates,r)}handleStart(){const{initialCoordinates:t}=this,{onStart:r}=this.props;t&&(this.activated=!0,this.documentListeners.add($a.Click,WVe,{capture:!0}),this.removeTextSelection(),this.documentListeners.add($a.SelectionChange,this.removeTextSelection),r(t))}handleMove(t){var r;const{activated:n,initialCoordinates:a,props:i}=this,{onMove:o,options:{activationConstraint:l}}=i;if(!a)return;const c=(r=n0(t))!=null?r:Ei,u=r0(a,c);if(!n&&l){if(RR(l)){if(l.tolerance!=null&&Wj(u,l.tolerance))return this.handleCancel();if(Wj(u,l.distance))return this.handleStart()}if($R(l)&&Wj(u,l.tolerance))return this.handleCancel();this.handlePending(l,u);return}t.cancelable&&t.preventDefault(),o(c)}handleEnd(){const{onAbort:t,onEnd:r}=this.props;this.detach(),this.activated||t(this.props.active),r()}handleCancel(){const{onAbort:t,onCancel:r}=this.props;this.detach(),this.activated||t(this.props.active),r()}handleKeydown(t){t.code===Ct.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const GVe={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class OT extends _T{constructor(t){const{event:r}=t,n=If(r.target);super(t,GVe,n)}}OT.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t;return!r.isPrimary||r.button!==0?!1:(n==null||n({event:r}),!0)}}];const XVe={move:{name:"mousemove"},end:{name:"mouseup"}};var AP;(function(e){e[e.RightClick=2]="RightClick"})(AP||(AP={}));class YVe extends _T{constructor(t){super(t,XVe,If(t.event.target))}}YVe.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t;return r.button===AP.RightClick?!1:(n==null||n({event:r}),!0)}}];const Hj={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class QVe extends _T{constructor(t){super(t,Hj)}static setup(){return window.addEventListener(Hj.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(Hj.move.name,t)};function t(){}}}QVe.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t;const{touches:a}=r;return a.length>1?!1:(n==null||n({event:r}),!0)}}];var Jh;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(Jh||(Jh={}));var i0;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(i0||(i0={}));function ZVe(e){let{acceleration:t,activator:r=Jh.Pointer,canScroll:n,draggingRect:a,enabled:i,interval:o=5,order:l=i0.TreeOrder,pointerCoordinates:c,scrollableAncestors:u,scrollableAncestorRects:d,delta:f,threshold:h}=e;const p=e6e({delta:f,disabled:!i}),[x,m]=dVe(),g=v.useRef({x:0,y:0}),w=v.useRef({x:0,y:0}),y=v.useMemo(()=>{switch(r){case Jh.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case Jh.DraggableRect:return a}},[r,a,c]),b=v.useRef(null),N=v.useCallback(()=>{const S=b.current;if(!S)return;const P=g.current.x*w.current.x,C=g.current.y*w.current.y;S.scrollBy(P,C)},[]),j=v.useMemo(()=>l===i0.TreeOrder?[...u].reverse():u,[l,u]);v.useEffect(()=>{if(!i||!u.length||!y){m();return}for(const S of j){if((n==null?void 0:n(S))===!1)continue;const P=u.indexOf(S),C=d[P];if(!C)continue;const{direction:A,speed:E}=VVe(S,C,y,t,h);for(const T of["x","y"])p[T][A[T]]||(E[T]=0,A[T]=0);if(E.x>0||E.y>0){m(),b.current=S,x(N,o),g.current=E,w.current=A;return}}g.current={x:0,y:0},w.current={x:0,y:0},m()},[t,N,n,m,i,o,JSON.stringify(y),JSON.stringify(p),x,u,j,d,JSON.stringify(h)])}const JVe={x:{[Ur.Backward]:!1,[Ur.Forward]:!1},y:{[Ur.Backward]:!1,[Ur.Forward]:!1}};function e6e(e){let{delta:t,disabled:r}=e;const n=t0(t);return cg(a=>{if(r||!n||!a)return JVe;const i={x:Math.sign(t.x-n.x),y:Math.sign(t.y-n.y)};return{x:{[Ur.Backward]:a.x[Ur.Backward]||i.x===-1,[Ur.Forward]:a.x[Ur.Forward]||i.x===1},y:{[Ur.Backward]:a.y[Ur.Backward]||i.y===-1,[Ur.Forward]:a.y[Ur.Forward]||i.y===1}}},[r,t,n])}function t6e(e,t){const r=t!=null?e.get(t):void 0,n=r?r.node.current:null;return cg(a=>{var i;return t==null?null:(i=n??a)!=null?i:null},[n,t])}function r6e(e,t){return v.useMemo(()=>e.reduce((r,n)=>{const{sensor:a}=n,i=a.activators.map(o=>({eventName:o.eventName,handler:t(o.handler,n)}));return[...r,...i]},[]),[e,t])}var _p;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(_p||(_p={}));var EP;(function(e){e.Optimized="optimized"})(EP||(EP={}));const LR=new Map;function n6e(e,t){let{dragging:r,dependencies:n,config:a}=t;const[i,o]=v.useState(null),{frequency:l,measure:c,strategy:u}=a,d=v.useRef(e),f=g(),h=Tp(f),p=v.useCallback(function(w){w===void 0&&(w=[]),!h.current&&o(y=>y===null?w:y.concat(w.filter(b=>!y.includes(b))))},[h]),x=v.useRef(null),m=cg(w=>{if(f&&!r)return LR;if(!w||w===LR||d.current!==e||i!=null){const y=new Map;for(let b of e){if(!b)continue;if(i&&i.length>0&&!i.includes(b.id)&&b.rect.current){y.set(b.id,b.rect.current);continue}const N=b.node.current,j=N?new TT(c(N),N):null;b.rect.current=j,j&&y.set(b.id,j)}return y}return w},[e,i,r,f,c]);return v.useEffect(()=>{d.current=e},[e]),v.useEffect(()=>{f||p()},[r,f]),v.useEffect(()=>{i&&i.length>0&&o(null)},[JSON.stringify(i)]),v.useEffect(()=>{f||typeof l!="number"||x.current!==null||(x.current=setTimeout(()=>{p(),x.current=null},l))},[l,f,p,...n]),{droppableRects:m,measureDroppableContainers:p,measuringScheduled:i!=null};function g(){switch(u){case _p.Always:return!1;case _p.BeforeDragging:return r;default:return!r}}}function kT(e,t){return cg(r=>e?r||(typeof t=="function"?t(e):e):null,[t,e])}function a6e(e,t){return kT(e,t)}function i6e(e){let{callback:t,disabled:r}=e;const n=Zb(t),a=v.useMemo(()=>{if(r||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:i}=window;return new i(n)},[n,r]);return v.useEffect(()=>()=>a==null?void 0:a.disconnect(),[a]),a}function ew(e){let{callback:t,disabled:r}=e;const n=Zb(t),a=v.useMemo(()=>{if(r||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:i}=window;return new i(n)},[r]);return v.useEffect(()=>()=>a==null?void 0:a.disconnect(),[a]),a}function s6e(e){return new TT(Rf(e),e)}function FR(e,t,r){t===void 0&&(t=s6e);const[n,a]=v.useState(null);function i(){a(c=>{if(!e)return null;if(e.isConnected===!1){var u;return(u=c??r)!=null?u:null}const d=t(e);return JSON.stringify(c)===JSON.stringify(d)?c:d})}const o=i6e({callback(c){if(e)for(const u of c){const{type:d,target:f}=u;if(d==="childList"&&f instanceof HTMLElement&&f.contains(e)){i();break}}}}),l=ew({callback:i});return Ai(()=>{i(),e?(l==null||l.observe(e),o==null||o.observe(document.body,{childList:!0,subtree:!0})):(l==null||l.disconnect(),o==null||o.disconnect())},[e]),n}function o6e(e){const t=kT(e);return TX(e,t)}const VR=[];function l6e(e){const t=v.useRef(e),r=cg(n=>e?n&&n!==VR&&e&&t.current&&e.parentNode===t.current.parentNode?n:ET(e):VR,[e]);return v.useEffect(()=>{t.current=e},[e]),r}function c6e(e){const[t,r]=v.useState(null),n=v.useRef(e),a=v.useCallback(i=>{const o=qj(i.target);o&&r(l=>l?(l.set(o,CP(o)),new Map(l)):null)},[]);return v.useEffect(()=>{const i=n.current;if(e!==i){o(i);const l=e.map(c=>{const u=qj(c);return u?(u.addEventListener("scroll",a,{passive:!0}),[u,CP(u)]):null}).filter(c=>c!=null);r(l.length?new Map(l):null),n.current=e}return()=>{o(e),o(i)};function o(l){l.forEach(c=>{const u=qj(c);u==null||u.removeEventListener("scroll",a)})}},[a,e]),v.useMemo(()=>e.length?t?Array.from(t.values()).reduce((i,o)=>Uu(i,o),Ei):RX(e):Ei,[e,t])}function zR(e,t){t===void 0&&(t=[]);const r=v.useRef(null);return v.useEffect(()=>{r.current=null},t),v.useEffect(()=>{const n=e!==Ei;n&&!r.current&&(r.current=e),!n&&r.current&&(r.current=null)},[e]),r.current?r0(e,r.current):Ei}function u6e(e){v.useEffect(()=>{if(!Qb)return;const t=e.map(r=>{let{sensor:n}=r;return n.setup==null?void 0:n.setup()});return()=>{for(const r of t)r==null||r()}},e.map(t=>{let{sensor:r}=t;return r}))}function d6e(e,t){return v.useMemo(()=>e.reduce((r,n)=>{let{eventName:a,handler:i}=n;return r[a]=o=>{i(o,t)},r},{}),[e,t])}function VX(e){return v.useMemo(()=>e?RVe(e):null,[e])}const BR=[];function f6e(e,t){t===void 0&&(t=Rf);const[r]=e,n=VX(r?Bn(r):null),[a,i]=v.useState(BR);function o(){i(()=>e.length?e.map(c=>MX(c)?n:new TT(t(c),c)):BR)}const l=ew({callback:o});return Ai(()=>{l==null||l.disconnect(),o(),e.forEach(c=>l==null?void 0:l.observe(c))},[e]),a}function zX(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return lg(t)?t:e}function h6e(e){let{measure:t}=e;const[r,n]=v.useState(null),a=v.useCallback(u=>{for(const{target:d}of u)if(lg(d)){n(f=>{const h=t(d);return f?{...f,width:h.width,height:h.height}:h});break}},[t]),i=ew({callback:a}),o=v.useCallback(u=>{const d=zX(u);i==null||i.disconnect(),d&&(i==null||i.observe(d)),n(d?t(d):null)},[t,i]),[l,c]=e0(o);return v.useMemo(()=>({nodeRef:l,rect:r,setRef:c}),[r,l,c])}const m6e=[{sensor:OT,options:{}},{sensor:FX,options:{}}],p6e={current:{}},kv={draggable:{measure:MR},droppable:{measure:MR,strategy:_p.WhileDragging,frequency:EP.Optimized},dragOverlay:{measure:Rf}};class em extends Map{get(t){var r;return t!=null&&(r=super.get(t))!=null?r:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:r}=t;return!r})}getNodeFor(t){var r,n;return(r=(n=this.get(t))==null?void 0:n.node.current)!=null?r:void 0}}const g6e={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new em,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:a0},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:kv,measureDroppableContainers:a0,windowRect:null,measuringScheduled:!1},BX={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:a0,draggableNodes:new Map,over:null,measureDroppableContainers:a0},dg=v.createContext(BX),UX=v.createContext(g6e);function v6e(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new em}}}function y6e(e,t){switch(t.type){case kr.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case kr.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case kr.DragEnd:case kr.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case kr.RegisterDroppable:{const{element:r}=t,{id:n}=r,a=new em(e.droppable.containers);return a.set(n,r),{...e,droppable:{...e.droppable,containers:a}}}case kr.SetDroppableDisabled:{const{id:r,key:n,disabled:a}=t,i=e.droppable.containers.get(r);if(!i||n!==i.key)return e;const o=new em(e.droppable.containers);return o.set(r,{...i,disabled:a}),{...e,droppable:{...e.droppable,containers:o}}}case kr.UnregisterDroppable:{const{id:r,key:n}=t,a=e.droppable.containers.get(r);if(!a||n!==a.key)return e;const i=new em(e.droppable.containers);return i.delete(r),{...e,droppable:{...e.droppable,containers:i}}}default:return e}}function x6e(e){let{disabled:t}=e;const{active:r,activatorEvent:n,draggableNodes:a}=v.useContext(dg),i=t0(n),o=t0(r==null?void 0:r.id);return v.useEffect(()=>{if(!t&&!n&&i&&o!=null){if(!Jb(i)||document.activeElement===i.target)return;const l=a.get(o);if(!l)return;const{activatorNode:c,node:u}=l;if(!c.current&&!u.current)return;requestAnimationFrame(()=>{for(const d of[c.current,u.current]){if(!d)continue;const f=mVe(d);if(f){f.focus();break}}})}},[n,t,a,o,i]),null}function KX(e,t){let{transform:r,...n}=t;return e!=null&&e.length?e.reduce((a,i)=>i({transform:a,...n}),r):r}function b6e(e){return v.useMemo(()=>({draggable:{...kv.draggable,...e==null?void 0:e.draggable},droppable:{...kv.droppable,...e==null?void 0:e.droppable},dragOverlay:{...kv.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function w6e(e){let{activeNode:t,measure:r,initialRect:n,config:a=!0}=e;const i=v.useRef(!1),{x:o,y:l}=typeof a=="boolean"?{x:a,y:a}:a;Ai(()=>{if(!o&&!l||!t){i.current=!1;return}if(i.current||!n)return;const u=t==null?void 0:t.node.current;if(!u||u.isConnected===!1)return;const d=r(u),f=TX(d,n);if(o||(f.x=0),l||(f.y=0),i.current=!0,Math.abs(f.x)>0||Math.abs(f.y)>0){const h=OX(u);h&&h.scrollBy({top:f.y,left:f.x})}},[t,o,l,n,r])}const tw=v.createContext({...Ei,scaleX:1,scaleY:1});var go;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(go||(go={}));const j6e=v.memo(function(t){var r,n,a,i;let{id:o,accessibility:l,autoScroll:c=!0,children:u,sensors:d=m6e,collisionDetection:f=_Ve,measuring:h,modifiers:p,...x}=t;const m=v.useReducer(y6e,void 0,v6e),[g,w]=m,[y,b]=bVe(),[N,j]=v.useState(go.Uninitialized),S=N===go.Initialized,{draggable:{active:P,nodes:C,translate:A},droppable:{containers:E}}=g,T=P!=null?C.get(P):null,_=v.useRef({initial:null,translated:null}),O=v.useMemo(()=>{var on;return P!=null?{id:P,data:(on=T==null?void 0:T.data)!=null?on:p6e,rect:_}:null},[P,T]),M=v.useRef(null),[L,R]=v.useState(null),[V,D]=v.useState(null),I=Tp(x,Object.values(x)),B=ug("DndDescribedBy",o),Y=v.useMemo(()=>E.getEnabled(),[E]),X=b6e(h),{droppableRects:oe,measureDroppableContainers:je,measuringScheduled:Fe}=n6e(Y,{dragging:S,dependencies:[A.x,A.y],config:X.droppable}),Ae=t6e(C,P),me=v.useMemo(()=>V?n0(V):null,[V]),De=rY(),te=a6e(Ae,X.draggable.measure);w6e({activeNode:P!=null?C.get(P):null,config:De.layoutShiftCompensation,initialRect:te,measure:X.draggable.measure});const ee=FR(Ae,X.draggable.measure,te),fe=FR(Ae?Ae.parentElement:null),H=v.useRef({activatorEvent:null,active:null,activeNode:Ae,collisionRect:null,collisions:null,droppableRects:oe,draggableNodes:C,draggingNode:null,draggingNodeRect:null,droppableContainers:E,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Ve=E.getNodeFor((r=H.current.over)==null?void 0:r.id),Me=h6e({measure:X.dragOverlay.measure}),dt=(n=Me.nodeRef.current)!=null?n:Ae,lt=S?(a=Me.rect)!=null?a:ee:null,Pt=!!(Me.nodeRef.current&&Me.rect),Q=o6e(Pt?null:ee),we=VX(dt?Bn(dt):null),tt=l6e(S?Ve??Ae:null),Gr=f6e(tt),$=KX(p,{transform:{x:A.x-Q.x,y:A.y-Q.y,scaleX:1,scaleY:1},activatorEvent:V,active:O,activeNodeRect:ee,containerNodeRect:fe,draggingNodeRect:lt,over:H.current.over,overlayNodeRect:Me.rect,scrollableAncestors:tt,scrollableAncestorRects:Gr,windowRect:we}),U=me?Uu(me,A):null,Z=c6e(tt),ye=zR(Z),pe=zR(Z,[ee]),ae=Uu($,ye),Se=lt?DVe(lt,$):null,it=O&&Se?f({active:O,collisionRect:Se,droppableRects:oe,droppableContainers:Y,pointerCoordinates:U}):null,K=EVe(it,"id"),[ve,pt]=v.useState(null),cr=Pt?$:Uu($,pe),ze=OVe(cr,(i=ve==null?void 0:ve.rect)!=null?i:null,ee),Ut=v.useRef(null),Lt=v.useCallback((on,ta)=>{let{sensor:ra,options:to}=ta;if(M.current==null)return;const Aa=C.get(M.current);if(!Aa)return;const na=on.nativeEvent,ki=new ra({active:M.current,activeNode:Aa,event:na,options:to,context:H,onAbort(Xr){if(!C.get(Xr))return;const{onDragAbort:Di}=I.current,ps={id:Xr};Di==null||Di(ps),y({type:"onDragAbort",event:ps})},onPending(Xr,ro,Di,ps){if(!C.get(Xr))return;const{onDragPending:Ff}=I.current,no={id:Xr,constraint:ro,initialCoordinates:Di,offset:ps};Ff==null||Ff(no),y({type:"onDragPending",event:no})},onStart(Xr){const ro=M.current;if(ro==null)return;const Di=C.get(ro);if(!Di)return;const{onDragStart:ps}=I.current,Lf={activatorEvent:na,active:{id:ro,data:Di.data,rect:_}};za.unstable_batchedUpdates(()=>{ps==null||ps(Lf),j(go.Initializing),w({type:kr.DragStart,initialCoordinates:Xr,active:ro}),y({type:"onDragStart",event:Lf}),R(Ut.current),D(na)})},onMove(Xr){w({type:kr.DragMove,coordinates:Xr})},onEnd:Vc(kr.DragEnd),onCancel:Vc(kr.DragCancel)});Ut.current=ki;function Vc(Xr){return async function(){const{active:Di,collisions:ps,over:Lf,scrollAdjustedTranslate:Ff}=H.current;let no=null;if(Di&&Ff){const{cancelDrop:Vf}=I.current;no={activatorEvent:na,active:Di,collisions:ps,delta:Ff,over:Lf},Xr===kr.DragEnd&&typeof Vf=="function"&&await Promise.resolve(Vf(no))&&(Xr=kr.DragCancel)}M.current=null,za.unstable_batchedUpdates(()=>{w({type:Xr}),j(go.Uninitialized),pt(null),R(null),D(null),Ut.current=null;const Vf=Xr===kr.DragEnd?"onDragEnd":"onDragCancel";if(no){const nw=I.current[Vf];nw==null||nw(no),y({type:Vf,event:no})}})}}},[C]),rw=v.useCallback((on,ta)=>(ra,to)=>{const Aa=ra.nativeEvent,na=C.get(to);if(M.current!==null||!na||Aa.dndKit||Aa.defaultPrevented)return;const ki={active:na};on(ra,ta.options,ki)===!0&&(Aa.dndKit={capturedBy:ta.sensor},M.current=to,Lt(ra,ta))},[C,Lt]),$f=r6e(d,rw);u6e(d),Ai(()=>{ee&&N===go.Initializing&&j(go.Initialized)},[ee,N]),v.useEffect(()=>{const{onDragMove:on}=I.current,{active:ta,activatorEvent:ra,collisions:to,over:Aa}=H.current;if(!ta||!ra)return;const na={active:ta,activatorEvent:ra,collisions:to,delta:{x:ae.x,y:ae.y},over:Aa};za.unstable_batchedUpdates(()=>{on==null||on(na),y({type:"onDragMove",event:na})})},[ae.x,ae.y]),v.useEffect(()=>{const{active:on,activatorEvent:ta,collisions:ra,droppableContainers:to,scrollAdjustedTranslate:Aa}=H.current;if(!on||M.current==null||!ta||!Aa)return;const{onDragOver:na}=I.current,ki=to.get(K),Vc=ki&&ki.rect.current?{id:ki.id,rect:ki.rect.current,data:ki.data,disabled:ki.disabled}:null,Xr={active:on,activatorEvent:ta,collisions:ra,delta:{x:Aa.x,y:Aa.y},over:Vc};za.unstable_batchedUpdates(()=>{pt(Vc),na==null||na(Xr),y({type:"onDragOver",event:Xr})})},[K]),Ai(()=>{H.current={activatorEvent:V,active:O,activeNode:Ae,collisionRect:Se,collisions:it,droppableRects:oe,draggableNodes:C,draggingNode:dt,draggingNodeRect:lt,droppableContainers:E,over:ve,scrollableAncestors:tt,scrollAdjustedTranslate:ae},_.current={initial:lt,translated:Se}},[O,Ae,it,Se,C,dt,lt,oe,E,ve,tt,ae]),ZVe({...De,delta:A,draggingRect:Se,pointerCoordinates:U,scrollableAncestors:tt,scrollableAncestorRects:Gr});const eY=v.useMemo(()=>({active:O,activeNode:Ae,activeNodeRect:ee,activatorEvent:V,collisions:it,containerNodeRect:fe,dragOverlay:Me,draggableNodes:C,droppableContainers:E,droppableRects:oe,over:ve,measureDroppableContainers:je,scrollableAncestors:tt,scrollableAncestorRects:Gr,measuringConfiguration:X,measuringScheduled:Fe,windowRect:we}),[O,Ae,ee,V,it,fe,Me,C,E,oe,ve,je,tt,Gr,X,Fe,we]),tY=v.useMemo(()=>({activatorEvent:V,activators:$f,active:O,activeNodeRect:ee,ariaDescribedById:{draggable:B},dispatch:w,draggableNodes:C,over:ve,measureDroppableContainers:je}),[V,$f,O,ee,w,B,C,ve,je]);return k.createElement(EX.Provider,{value:b},k.createElement(dg.Provider,{value:tY},k.createElement(UX.Provider,{value:eY},k.createElement(tw.Provider,{value:ze},u)),k.createElement(x6e,{disabled:(l==null?void 0:l.restoreFocus)===!1})),k.createElement(SVe,{...l,hiddenTextDescribedById:B}));function rY(){const on=(L==null?void 0:L.autoScrollEnabled)===!1,ta=typeof c=="object"?c.enabled===!1:c===!1,ra=S&&!on&&!ta;return typeof c=="object"?{...c,enabled:ra}:{enabled:ra}}}),S6e=v.createContext(null),UR="button",N6e="Draggable";function P6e(e){let{id:t,data:r,disabled:n=!1,attributes:a}=e;const i=ug(N6e),{activators:o,activatorEvent:l,active:c,activeNodeRect:u,ariaDescribedById:d,draggableNodes:f,over:h}=v.useContext(dg),{role:p=UR,roleDescription:x="draggable",tabIndex:m=0}=a??{},g=(c==null?void 0:c.id)===t,w=v.useContext(g?tw:S6e),[y,b]=e0(),[N,j]=e0(),S=d6e(o,t),P=Tp(r);Ai(()=>(f.set(t,{id:t,key:i,node:y,activatorNode:N,data:P}),()=>{const A=f.get(t);A&&A.key===i&&f.delete(t)}),[f,t]);const C=v.useMemo(()=>({role:p,tabIndex:m,"aria-disabled":n,"aria-pressed":g&&p===UR?!0:void 0,"aria-roledescription":x,"aria-describedby":d.draggable}),[n,p,m,g,x,d.draggable]);return{active:c,activatorEvent:l,activeNodeRect:u,attributes:C,isDragging:g,listeners:n?void 0:S,node:y,over:h,setNodeRef:b,setActivatorNodeRef:j,transform:w}}function qX(){return v.useContext(UX)}const C6e="Droppable",A6e={timeout:25};function WX(e){let{data:t,disabled:r=!1,id:n,resizeObserverConfig:a}=e;const i=ug(C6e),{active:o,dispatch:l,over:c,measureDroppableContainers:u}=v.useContext(dg),d=v.useRef({disabled:r}),f=v.useRef(!1),h=v.useRef(null),p=v.useRef(null),{disabled:x,updateMeasurementsFor:m,timeout:g}={...A6e,...a},w=Tp(m??n),y=v.useCallback(()=>{if(!f.current){f.current=!0;return}p.current!=null&&clearTimeout(p.current),p.current=setTimeout(()=>{u(Array.isArray(w.current)?w.current:[w.current]),p.current=null},g)},[g]),b=ew({callback:y,disabled:x||!o}),N=v.useCallback((C,A)=>{b&&(A&&(b.unobserve(A),f.current=!1),C&&b.observe(C))},[b]),[j,S]=e0(N),P=Tp(t);return v.useEffect(()=>{!b||!j.current||(b.disconnect(),f.current=!1,b.observe(j.current))},[j,b]),v.useEffect(()=>(l({type:kr.RegisterDroppable,element:{id:n,key:i,disabled:r,node:j,rect:h,data:P}}),()=>l({type:kr.UnregisterDroppable,key:i,id:n})),[n]),v.useEffect(()=>{r!==d.current.disabled&&(l({type:kr.SetDroppableDisabled,id:n,key:i,disabled:r}),d.current.disabled=r)},[n,i,r,l]),{active:o,rect:h,isOver:(c==null?void 0:c.id)===n,node:j,over:c,setNodeRef:S}}function E6e(e){let{animation:t,children:r}=e;const[n,a]=v.useState(null),[i,o]=v.useState(null),l=t0(r);return!r&&!n&&l&&a(l),Ai(()=>{if(!i)return;const c=n==null?void 0:n.key,u=n==null?void 0:n.props.id;if(c==null||u==null){a(null);return}Promise.resolve(t(u,i)).then(()=>{a(null)})},[t,n,i]),k.createElement(k.Fragment,null,r,n?v.cloneElement(n,{ref:o}):null)}const T6e={x:0,y:0,scaleX:1,scaleY:1};function _6e(e){let{children:t}=e;return k.createElement(dg.Provider,{value:BX},k.createElement(tw.Provider,{value:T6e},t))}const O6e={position:"fixed",touchAction:"none"},k6e=e=>Jb(e)?"transform 250ms ease":void 0,D6e=v.forwardRef((e,t)=>{let{as:r,activatorEvent:n,adjustScale:a,children:i,className:o,rect:l,style:c,transform:u,transition:d=k6e}=e;if(!l)return null;const f=a?u:{...u,scaleX:1,scaleY:1},h={...O6e,width:l.width,height:l.height,top:l.top,left:l.left,transform:ol.Transform.toString(f),transformOrigin:a&&n?CVe(n,l):void 0,transition:typeof d=="function"?d(n):d,...c};return k.createElement(r,{className:o,style:h,ref:t},i)}),M6e=e=>t=>{let{active:r,dragOverlay:n}=t;const a={},{styles:i,className:o}=e;if(i!=null&&i.active)for(const[l,c]of Object.entries(i.active))c!==void 0&&(a[l]=r.node.style.getPropertyValue(l),r.node.style.setProperty(l,c));if(i!=null&&i.dragOverlay)for(const[l,c]of Object.entries(i.dragOverlay))c!==void 0&&n.node.style.setProperty(l,c);return o!=null&&o.active&&r.node.classList.add(o.active),o!=null&&o.dragOverlay&&n.node.classList.add(o.dragOverlay),function(){for(const[c,u]of Object.entries(a))r.node.style.setProperty(c,u);o!=null&&o.active&&r.node.classList.remove(o.active)}},I6e=e=>{let{transform:{initial:t,final:r}}=e;return[{transform:ol.Transform.toString(t)},{transform:ol.Transform.toString(r)}]},R6e={duration:250,easing:"ease",keyframes:I6e,sideEffects:M6e({styles:{active:{opacity:"0"}}})};function $6e(e){let{config:t,draggableNodes:r,droppableContainers:n,measuringConfiguration:a}=e;return Zb((i,o)=>{if(t===null)return;const l=r.get(i);if(!l)return;const c=l.node.current;if(!c)return;const u=zX(o);if(!u)return;const{transform:d}=Bn(o).getComputedStyle(o),f=_X(d);if(!f)return;const h=typeof t=="function"?t:L6e(t);return $X(c,a.draggable.measure),h({active:{id:i,data:l.data,node:c,rect:a.draggable.measure(c)},draggableNodes:r,dragOverlay:{node:o,rect:a.dragOverlay.measure(u)},droppableContainers:n,measuringConfiguration:a,transform:f})})}function L6e(e){const{duration:t,easing:r,sideEffects:n,keyframes:a}={...R6e,...e};return i=>{let{active:o,dragOverlay:l,transform:c,...u}=i;if(!t)return;const d={x:l.rect.left-o.rect.left,y:l.rect.top-o.rect.top},f={scaleX:c.scaleX!==1?o.rect.width*c.scaleX/l.rect.width:1,scaleY:c.scaleY!==1?o.rect.height*c.scaleY/l.rect.height:1},h={x:c.x-d.x,y:c.y-d.y,...f},p=a({...u,active:o,dragOverlay:l,transform:{initial:c,final:h}}),[x]=p,m=p[p.length-1];if(JSON.stringify(x)===JSON.stringify(m))return;const g=n==null?void 0:n({active:o,dragOverlay:l,...u}),w=l.node.animate(p,{duration:t,easing:r,fill:"forwards"});return new Promise(y=>{w.onfinish=()=>{g==null||g(),y()}})}}let KR=0;function F6e(e){return v.useMemo(()=>{if(e!=null)return KR++,KR},[e])}const V6e=k.memo(e=>{let{adjustScale:t=!1,children:r,dropAnimation:n,style:a,transition:i,modifiers:o,wrapperElement:l="div",className:c,zIndex:u=999}=e;const{activatorEvent:d,active:f,activeNodeRect:h,containerNodeRect:p,draggableNodes:x,droppableContainers:m,dragOverlay:g,over:w,measuringConfiguration:y,scrollableAncestors:b,scrollableAncestorRects:N,windowRect:j}=qX(),S=v.useContext(tw),P=F6e(f==null?void 0:f.id),C=KX(o,{activatorEvent:d,active:f,activeNodeRect:h,containerNodeRect:p,draggingNodeRect:g.rect,over:w,overlayNodeRect:g.rect,scrollableAncestors:b,scrollableAncestorRects:N,transform:S,windowRect:j}),A=kT(h),E=$6e({config:n,draggableNodes:x,droppableContainers:m,measuringConfiguration:y}),T=A?g.setRef:void 0;return k.createElement(_6e,null,k.createElement(E6e,{animation:E},f&&P?k.createElement(D6e,{key:P,id:f.id,ref:T,as:l,activatorEvent:d,adjustScale:t,className:c,transition:i,rect:A,style:{zIndex:u,...a},transform:C},r):null))});function HX(e,t,r){const n=e.slice();return n.splice(r<0?n.length+r:r,0,n.splice(t,1)[0]),n}function z6e(e,t){return e.reduce((r,n,a)=>{const i=t.get(n);return i&&(r[a]=i),r},Array(e.length))}function lv(e){return e!==null&&e>=0}function B6e(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function U6e(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const GX=e=>{let{rects:t,activeIndex:r,overIndex:n,index:a}=e;const i=HX(t,n,r),o=t[a],l=i[a];return!l||!o?null:{x:l.left-o.left,y:l.top-o.top,scaleX:l.width/o.width,scaleY:l.height/o.height}},cv={scaleX:1,scaleY:1},K6e=e=>{var t;let{activeIndex:r,activeNodeRect:n,index:a,rects:i,overIndex:o}=e;const l=(t=i[r])!=null?t:n;if(!l)return null;if(a===r){const u=i[o];return u?{x:0,y:r<o?u.top+u.height-(l.top+l.height):u.top-l.top,...cv}:null}const c=q6e(i,a,r);return a>r&&a<=o?{x:0,y:-l.height-c,...cv}:a<r&&a>=o?{x:0,y:l.height+c,...cv}:{x:0,y:0,...cv}};function q6e(e,t,r){const n=e[t],a=e[t-1],i=e[t+1];return n?r<t?a?n.top-(a.top+a.height):i?i.top-(n.top+n.height):0:i?i.top-(n.top+n.height):a?n.top-(a.top+a.height):0:0}const XX="Sortable",YX=k.createContext({activeIndex:-1,containerId:XX,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:GX,disabled:{draggable:!1,droppable:!1}});function W6e(e){let{children:t,id:r,items:n,strategy:a=GX,disabled:i=!1}=e;const{active:o,dragOverlay:l,droppableRects:c,over:u,measureDroppableContainers:d}=qX(),f=ug(XX,r),h=l.rect!==null,p=v.useMemo(()=>n.map(S=>typeof S=="object"&&"id"in S?S.id:S),[n]),x=o!=null,m=o?p.indexOf(o.id):-1,g=u?p.indexOf(u.id):-1,w=v.useRef(p),y=!B6e(p,w.current),b=g!==-1&&m===-1||y,N=U6e(i);Ai(()=>{y&&x&&d(p)},[y,p,x,d]),v.useEffect(()=>{w.current=p},[p]);const j=v.useMemo(()=>({activeIndex:m,containerId:f,disabled:N,disableTransforms:b,items:p,overIndex:g,useDragOverlay:h,sortedRects:z6e(p,c),strategy:a}),[m,f,N.draggable,N.droppable,b,p,g,c,h,a]);return k.createElement(YX.Provider,{value:j},t)}const H6e=e=>{let{id:t,items:r,activeIndex:n,overIndex:a}=e;return HX(r,n,a).indexOf(t)},G6e=e=>{let{containerId:t,isSorting:r,wasDragging:n,index:a,items:i,newIndex:o,previousItems:l,previousContainerId:c,transition:u}=e;return!u||!n||l!==i&&a===o?!1:r?!0:o!==a&&t===c},X6e={duration:200,easing:"ease"},QX="transform",Y6e=ol.Transition.toString({property:QX,duration:0,easing:"linear"}),Q6e={roleDescription:"sortable"};function Z6e(e){let{disabled:t,index:r,node:n,rect:a}=e;const[i,o]=v.useState(null),l=v.useRef(r);return Ai(()=>{if(!t&&r!==l.current&&n.current){const c=a.current;if(c){const u=Rf(n.current,{ignoreTransform:!0}),d={x:c.left-u.left,y:c.top-u.top,scaleX:c.width/u.width,scaleY:c.height/u.height};(d.x||d.y)&&o(d)}}r!==l.current&&(l.current=r)},[t,r,n,a]),v.useEffect(()=>{i&&o(null)},[i]),i}function J6e(e){let{animateLayoutChanges:t=G6e,attributes:r,disabled:n,data:a,getNewIndex:i=H6e,id:o,strategy:l,resizeObserverConfig:c,transition:u=X6e}=e;const{items:d,containerId:f,activeIndex:h,disabled:p,disableTransforms:x,sortedRects:m,overIndex:g,useDragOverlay:w,strategy:y}=v.useContext(YX),b=eze(n,p),N=d.indexOf(o),j=v.useMemo(()=>({sortable:{containerId:f,index:N,items:d},...a}),[f,a,N,d]),S=v.useMemo(()=>d.slice(d.indexOf(o)),[d,o]),{rect:P,node:C,isOver:A,setNodeRef:E}=WX({id:o,data:j,disabled:b.droppable,resizeObserverConfig:{updateMeasurementsFor:S,...c}}),{active:T,activatorEvent:_,activeNodeRect:O,attributes:M,setNodeRef:L,listeners:R,isDragging:V,over:D,setActivatorNodeRef:I,transform:B}=P6e({id:o,data:j,attributes:{...Q6e,...r},disabled:b.draggable}),Y=uVe(E,L),X=!!T,oe=X&&!x&&lv(h)&&lv(g),je=!w&&V,Fe=je&&oe?B:null,me=oe?Fe??(l??y)({rects:m,activeNodeRect:O,activeIndex:h,overIndex:g,index:N}):null,De=lv(h)&&lv(g)?i({id:o,items:d,activeIndex:h,overIndex:g}):N,te=T==null?void 0:T.id,ee=v.useRef({activeId:te,items:d,newIndex:De,containerId:f}),fe=d!==ee.current.items,H=t({active:T,containerId:f,isDragging:V,isSorting:X,id:o,index:N,items:d,newIndex:ee.current.newIndex,previousItems:ee.current.items,previousContainerId:ee.current.containerId,transition:u,wasDragging:ee.current.activeId!=null}),Ve=Z6e({disabled:!H,index:N,node:C,rect:P});return v.useEffect(()=>{X&&ee.current.newIndex!==De&&(ee.current.newIndex=De),f!==ee.current.containerId&&(ee.current.containerId=f),d!==ee.current.items&&(ee.current.items=d)},[X,De,f,d]),v.useEffect(()=>{if(te===ee.current.activeId)return;if(te!=null&&ee.current.activeId==null){ee.current.activeId=te;return}const dt=setTimeout(()=>{ee.current.activeId=te},50);return()=>clearTimeout(dt)},[te]),{active:T,activeIndex:h,attributes:M,data:j,rect:P,index:N,newIndex:De,items:d,isOver:A,isSorting:X,isDragging:V,listeners:R,node:C,overIndex:g,over:D,setNodeRef:Y,setActivatorNodeRef:I,setDroppableNodeRef:E,setDraggableNodeRef:L,transform:Ve??me,transition:Me()};function Me(){if(Ve||fe&&ee.current.newIndex===N)return Y6e;if(!(je&&!Jb(_)||!u)&&(X||H))return ol.Transition.toString({...u,property:QX})}}function eze(e,t){var r,n;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(r=e==null?void 0:e.draggable)!=null?r:t.draggable,droppable:(n=e==null?void 0:e.droppable)!=null?n:t.droppable}}Ct.Down,Ct.Right,Ct.Up,Ct.Left;const tze={payment_sent:"bg-blue-100 text-blue-800",waiting_receipt:"bg-yellow-100 text-yellow-800",receipt_received:"bg-green-100 text-green-800",completed:"bg-emerald-100 text-emerald-800",no_receipt_required:"bg-gray-100 text-gray-800"},rze={payment_sent:"Pago Enviado",waiting_receipt:"Esperando Recibo",receipt_received:"Recibo Recibido",completed:"Completado",no_receipt_required:"Sin Recibo Requerido"};function ZX({payment:e,isDragging:t=!1}){var f,h;const{attributes:r,listeners:n,setNodeRef:a,transform:i,transition:o,isDragging:l}=J6e({id:e.id,data:{type:"Payment",payment:e}}),c={transform:ol.Transform.toString(i),transition:o,opacity:l?.5:1},u=p=>{const x=parseFloat(p);return new Intl.NumberFormat("es-MX",{style:"currency",currency:"MXN",minimumFractionDigits:0,maximumFractionDigits:0}).format(x)},d=p=>new Date(p).toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit"});return s.jsxs("div",{ref:a,style:c,...r,...n,className:`
        p-3 bg-white border border-gray-200 rounded-lg shadow-sm hover:shadow-md transition-all duration-200 cursor-grab group
        ${l?"cursor-grabbing shadow-lg scale-105":""}
        ${t?"opacity-50":""}
        hover:border-gray-300
      `,children:[s.jsxs("div",{className:"mb-2",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("h3",{className:"font-medium text-gray-900 text-sm truncate flex-1",children:((f=e.supplier)==null?void 0:f.name)||"Proveedor"}),s.jsx("div",{className:"w-2 h-4 bg-gray-200 rounded-sm group-hover:bg-gray-300 transition-colors ml-2 flex-shrink-0"})]}),s.jsx("div",{className:"text-lg font-bold text-[#273949]",children:u(e.amount)})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[s.jsx("span",{children:d(e.paymentDate)}),s.jsx("span",{className:"text-[10px] bg-gray-100 px-1.5 py-0.5 rounded uppercase font-medium",children:((h=e.company)==null?void 0:h.name)==="Dura International"?"DURA":"ORSEGA"})]}),e.description&&s.jsx("p",{className:"text-xs text-gray-400 truncate mt-1",children:e.description})]}),e.invoiceNumber&&s.jsx("div",{className:"mt-2 pt-2 border-t border-gray-100",children:s.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[s.jsx(Pn,{className:"w-3 h-3"}),s.jsx("span",{className:"truncate",children:e.invoiceNumber})]})})]})}function fh({id:e,title:t,icon:r,payments:n,color:a}){const{setNodeRef:i,isOver:o}=WX({id:e,data:{type:"Container",accepts:["Payment"]}});return s.jsxs("div",{ref:i,className:`
        min-h-[500px] p-4 rounded-lg border-2 border-dashed transition-colors
        ${o?"border-blue-500 bg-blue-50":"border-gray-300 bg-gray-50"}
      `,children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[s.jsx(r,{className:`w-5 h-5 ${a}`}),s.jsx("h3",{className:"font-semibold text-sm text-gray-900",children:t}),s.jsxs("span",{className:"text-xs text-gray-500",children:["(",n.length,")"]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(W6e,{items:n.map(l=>l.id),strategy:K6e,children:n.map(l=>s.jsx(ZX,{payment:l},l.id))}),n.length===0&&s.jsx("div",{className:"text-center py-8 text-gray-500",children:s.jsx("p",{className:"text-sm",children:"No hay pagos en esta categoría"})})]})]})}function Gj(){var ye,pe,ae,Se,it;const{user:e}=dl(),{toast:t}=wn(),r=Vn(),[,n]=ss(),[a,i]=v.useState("new-payment"),[o,l]=v.useState(null),[c,u]=v.useState(null),[d,f]=v.useState(null),[h,p]=v.useState(!1),x=PVe(NVe(OT,{activationConstraint:{distance:3}})),m=()=>{n("/")},[g,w]=v.useState({companyId:"",supplierId:"",amount:"",paymentDate:"",description:"",invoiceNumber:"",paymentReceipt:null,invoice:null,isCashPayment:!1}),[y,b]=v.useState(!1),[N,j]=v.useState(null),[S,P]=v.useState(0),[C,A]=v.useState(!1),[E,T]=v.useState(null),[_,O]=v.useState(!1),[M,L]=v.useState({companyId:"",supplierId:"",invoiceNumber:"",amount:"",currency:"MXN",issueDate:"",dueDate:"",description:"",priority:"normal",notes:"",invoiceFile:null}),[R,V]=v.useState("pending"),[D,I]=v.useState(!1),[B,Y]=v.useState(null),[X,oe]=v.useState(!1),[je,Fe]=v.useState(null);v.useEffect(()=>{const ve=setTimeout(async()=>{if(!(!g.paymentReceipt||!g.invoice)){b(!0);try{const pt=new FormData;pt.append("paymentReceipt",g.paymentReceipt),pt.append("invoice",g.invoice);const cr=await fetch("/api/extract-payment-data",{method:"POST",body:pt,headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}});if(!cr.ok)throw new Error("Error al procesar los documentos");const ze=await cr.json();if(ze.success)j(ze.data),P(ze.data.confidence),w(Ut=>({...Ut,amount:ze.data.amount||Ut.amount,paymentDate:ze.data.paymentDate||Ut.paymentDate,invoiceNumber:ze.data.invoiceNumber||Ut.invoiceNumber,description:ze.data.description||Ut.description})),A(!0),t({title:ze.data.matches?"Datos validados exitosamente":"Revisar diferencias",description:ze.data.matches?"Los datos del comprobante y factura coinciden":"Se encontraron diferencias entre los documentos",variant:ze.data.matches?"default":"destructive"});else throw new Error(ze.message||"Error procesando documentos")}catch(pt){console.error("Error extracting payment data:",pt),t({title:"Error",description:"No se pudieron extraer los datos automáticamente. Completa el formulario manualmente.",variant:"destructive"})}finally{b(!1)}}},500);return()=>clearTimeout(ve)},[g.paymentReceipt,g.invoice,t]);const{data:Ae=[]}=$e({queryKey:["/api/companies"]}),{data:me=[]}=$e({queryKey:["/api/suppliers",g.companyId],enabled:!!g.companyId}),{data:De=[]}=$e({queryKey:["/api/payments",o],enabled:!!o}),{data:te=[]}=$e({queryKey:["/api/payments"]}),{data:ee=[]}=$e({queryKey:["/api/pending-invoices",o,R],enabled:!0}),fe=At({mutationFn:async K=>await zt("POST","/api/payments",K),onSuccess:()=>{t({title:"Pago creado exitosamente",description:"El pago ha sido registrado y se ha enviado el correo al proveedor",variant:"default"}),r.invalidateQueries({queryKey:["/api/payments"]}),r.invalidateQueries({queryKey:["/api/payments",o]}),r.invalidateQueries({queryKey:["/api/payments",parseInt(g.companyId)]}),l(parseInt(g.companyId)),tt(),i("history")},onError:K=>{t({title:"Error al crear pago",description:K.message||"Ocurrió un error inesperado",variant:"destructive"})}}),H=At({mutationFn:async({id:K,status:ve})=>await zt("PUT",`/api/payments/${K}`,{status:ve}),onSuccess:()=>{t({title:"Estado actualizado",description:"El estado del pago ha sido actualizado",variant:"default"}),r.invalidateQueries({queryKey:["/api/payments"]})},onError:K=>{t({title:"Error al actualizar",description:K.message||"Ocurrió un error inesperado",variant:"destructive"})}}),Ve=At({mutationFn:async K=>{const ve=await fetch("/api/pending-invoices",{method:"POST",body:K,headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}});if(!ve.ok)throw new Error("Error al crear la factura");return ve.json()},onSuccess:()=>{t({title:"Factura subida exitosamente",description:"La factura ha sido registrada y está disponible para Lolita",variant:"default"}),r.invalidateQueries({queryKey:["/api/pending-invoices"]}),Gr()},onError:K=>{t({title:"Error al subir factura",description:K.message||"Ocurrió un error inesperado",variant:"destructive"})}}),Me=K=>{var cr;const{active:ve}=K;u(ve.id);const pt=(cr=o?De:te)==null?void 0:cr.find(ze=>ze.id===ve.id);f(pt||null)},dt=K=>{const{active:ve,over:pt}=K;if(!pt){u(null),f(null);return}const cr=ve.id,ze=pt.id,Lt={payment_sent:"payment_sent",waiting_receipt:"waiting_receipt",receipt_received:"receipt_received",completed:"completed",no_receipt_required:"no_receipt_required"}[ze];Lt&&d&&d.status!==Lt&&H.mutate({id:cr,status:Lt}),u(null),f(null)},lt=()=>{u(null),f(null)},Pt=async K=>{if(K.preventDefault(),!g.companyId||!g.supplierId){t({title:"Campos requeridos",description:"Por favor seleccione empresa y proveedor",variant:"destructive"});return}if((!g.amount||!g.paymentDate)&&(g.paymentReceipt||g.invoice)){t({title:"Completar datos",description:"Por favor complete monto y fecha de pago, o espere a que se extraigan automáticamente de los documentos",variant:"destructive"});return}if(!y&&(!g.amount||!g.paymentDate)){t({title:"Campos requeridos",description:"Por favor complete monto y fecha de pago",variant:"destructive"});return}fe.mutate({companyId:parseInt(g.companyId),supplierId:parseInt(g.supplierId),amount:g.amount,currency:"MXN",paymentDate:g.paymentDate,description:g.description,invoiceNumber:g.invoiceNumber,isCashPayment:g.isCashPayment,status:g.isCashPayment?"no_receipt_required":"waiting_receipt",paymentReceiptPath:N==null?void 0:N.paymentReceiptPath,invoicePath:N==null?void 0:N.invoicePath})},Q=K=>ve=>{var cr;const pt=(cr=ve.target.files)==null?void 0:cr[0];pt&&w(ze=>({...ze,[K]:pt}))},we=K=>(De==null?void 0:De.filter(ve=>ve.status===K))||[];v.useEffect(()=>{const ve=setTimeout(async()=>{if(M.invoiceFile){I(!0);try{const pt=new FormData;pt.append("invoice",M.invoiceFile);const cr=await fetch("/api/extract-invoice-data",{method:"POST",body:pt,headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}});if(!cr.ok)throw new Error("Error al procesar la factura");const ze=await cr.json();if(ze.success){if(Y(ze.data),L(Ut=>({...Ut,invoiceNumber:ze.data.invoiceNumber||Ut.invoiceNumber,amount:ze.data.amount||Ut.amount,issueDate:ze.data.issueDate||Ut.issueDate,dueDate:ze.data.dueDate||Ut.dueDate,description:ze.data.description||Ut.description})),ze.data.supplierName&&me.length>0){const Ut=me.find(Lt=>Lt.name.toLowerCase().includes(ze.data.supplierName.toLowerCase())||ze.data.supplierName.toLowerCase().includes(Lt.name.toLowerCase()));Ut&&L(Lt=>({...Lt,supplierId:Ut.id.toString()}))}oe(!0),t({title:"Datos extraídos exitosamente",description:`Se extrajeron los datos de la factura con ${Math.round(ze.data.confidence*100)}% de confianza`,variant:"default"})}else throw new Error(ze.message||"Error procesando factura")}catch(pt){console.error("Error extracting invoice data:",pt),t({title:"Error",description:"No se pudieron extraer los datos automáticamente. Completa el formulario manualmente.",variant:"destructive"})}finally{I(!1)}}},500);return()=>clearTimeout(ve)},[M.invoiceFile,me,t]);const tt=()=>{w({companyId:"",supplierId:"",amount:"",paymentDate:"",description:"",invoiceNumber:"",paymentReceipt:null,invoice:null,isCashPayment:!1}),j(null),P(0),A(!1),T(null),O(!1)},Gr=()=>{L({companyId:"",supplierId:"",invoiceNumber:"",amount:"",currency:"MXN",issueDate:"",dueDate:"",description:"",priority:"normal",notes:"",invoiceFile:null}),oe(!1),Y(null),Fe(null)},$=async K=>{var ve;Fe(K),I(!0);try{const pt=new FormData;pt.append("invoice",K);const cr=await fetch("/api/extract-invoice-data",{method:"POST",body:pt,headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}});if(!cr.ok)throw new Error("Error al extraer datos de la factura");const ze=await cr.json();if(!ze.success)throw new Error(ze.message||"Error al procesar la factura");const Ut=Ae==null?void 0:Ae[0];if(!Ut)throw new Error("No hay empresas disponibles");const Lt=new FormData;Lt.append("invoice",K),Lt.append("companyId",Ut.id.toString()),Lt.append("supplierId","1"),Lt.append("invoiceNumber",ze.data.invoiceNumber||""),Lt.append("amount",((ve=ze.data.amount)==null?void 0:ve.toString())||"0"),Lt.append("currency",ze.data.currency||"MXN"),ze.data.issueDate&&ze.data.issueDate.trim()!==""&&Lt.append("issueDate",ze.data.issueDate),ze.data.dueDate&&ze.data.dueDate.trim()!==""&&Lt.append("dueDate",ze.data.dueDate),Lt.append("description",ze.data.description||""),Lt.append("priority","normal"),Lt.append("notes",`Procesado automáticamente - Confianza: ${Math.round(ze.data.confidence*100)}%`),await Ve.mutateAsync(Lt),t({title:"¡Factura procesada automáticamente!",description:`${ze.data.invoiceNumber||K.name} ha sido registrada para Lolita`,variant:"default"})}catch(pt){console.error("Error processing smart invoice:",pt),t({title:"Error al procesar factura",description:pt instanceof Error?pt.message:"Error desconocido",variant:"destructive"})}finally{I(!1),Fe(null)}},U=K=>{const ve=g[K];ve&&(T({type:K,file:ve}),O(!0))},Z=()=>{O(!1),T(null)};return s.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs(re,{variant:"outline",size:"sm",onClick:m,className:"flex items-center space-x-2",children:[s.jsx(hc,{className:"w-4 h-4"}),s.jsx("span",{children:"Volver al Dashboard"})]}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Gestión de Comprobante de Pagos"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Sistema con IA para extraer datos automáticamente de PDFs e imágenes. Gestiona pagos a proveedores y seguimiento de recibos."})]})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs(re,{variant:"outline",size:"sm",onClick:()=>p(!0),className:"flex items-center space-x-2 bg-blue-50 hover:bg-blue-100 text-blue-700 border-blue-200",children:[s.jsx(pd,{className:"w-4 h-4"}),s.jsx("span",{children:"Gestionar Clientes"})]}),s.jsxs(Xe,{value:(o==null?void 0:o.toString())||"",onValueChange:K=>l(parseInt(K)),children:[s.jsx(He,{className:"w-48",children:s.jsx(Ye,{placeholder:"Seleccionar empresa"})}),s.jsx(Ge,{children:Ae==null?void 0:Ae.map(K=>s.jsx(G,{value:K.id.toString(),children:K.name},K.id))})]})]})]}),s.jsxs(hl,{value:a,onValueChange:i,children:[s.jsxs(Ys,{className:"grid w-full grid-cols-4 h-12",children:[s.jsxs(Xt,{value:"pending-invoices",className:"flex items-center space-x-2",children:[s.jsx(Pn,{className:"w-4 h-4"}),s.jsx("span",{children:"Facturas por Pagar"})]}),s.jsxs(Xt,{value:"new-payment",className:"flex items-center space-x-2",children:[s.jsx(Ka,{className:"w-4 h-4"}),s.jsx("span",{children:"Registrar Nuevo Pago"})]}),s.jsxs(Xt,{value:"kanban",className:"flex items-center space-x-2",children:[s.jsx(hO,{className:"w-4 h-4"}),s.jsx("span",{children:"Seguimiento"})]}),s.jsxs(Xt,{value:"history",className:"flex items-center space-x-2",children:[s.jsx(oS,{className:"w-4 h-4"}),s.jsx("span",{children:"Historial"})]})]}),s.jsxs(mr,{value:"new-payment",className:"space-y-8",children:[s.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[s.jsxs("div",{className:`flex items-center space-x-2 px-4 py-2 rounded-full ${C?"bg-gray-100 text-gray-500":"bg-blue-100 text-blue-700"}`,children:[s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold ${C?"bg-gray-300 text-gray-600":"bg-blue-600 text-white"}`,children:"1"}),s.jsx("span",{className:"text-sm font-medium",children:"Información básica"})]}),s.jsx("div",{className:"w-8 h-px bg-gray-300"}),s.jsxs("div",{className:`flex items-center space-x-2 px-4 py-2 rounded-full ${C?"bg-green-100 text-green-700":"bg-gray-100 text-gray-400"}`,children:[s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold ${C?"bg-green-600 text-white":"bg-gray-300 text-gray-600"}`,children:"2"}),s.jsx("span",{className:"text-sm font-medium",children:"Confirmar datos"})]})]}),C?s.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Confirmar Datos del Pago"}),s.jsx("p",{className:"text-gray-600",children:"Revisa los datos extraídos automáticamente y confirma la información"})]}),s.jsxs(le,{className:`border-2 ${N!=null&&N.matches?"border-green-100":"border-yellow-100"}`,children:[s.jsxs(_e,{className:`${N!=null&&N.matches?"bg-green-50":"bg-yellow-50"}`,children:[s.jsxs(ke,{className:`flex items-center space-x-2 ${N!=null&&N.matches?"text-green-900":"text-yellow-900"}`,children:[N!=null&&N.matches?s.jsx(tn,{className:"w-5 h-5 text-green-600"}):s.jsx(Kp,{className:"w-5 h-5 text-yellow-600"}),s.jsx("span",{children:N!=null&&N.matches?"Datos validados exitosamente":"Revisar diferencias encontradas"})]}),s.jsx(Et,{className:`${N!=null&&N.matches?"text-green-700":"text-yellow-700"}`,children:N!=null&&N.matches?"Los datos del comprobante y factura coinciden perfectamente.":"Se encontraron diferencias entre los documentos. Revisa y corrige antes de continuar."})]}),(N==null?void 0:N.differences)&&N.differences.length>0&&s.jsx(ce,{className:"pt-4",children:s.jsxs("div",{className:"p-4 bg-yellow-100 rounded-lg border border-yellow-300",children:[s.jsx("h4",{className:"font-medium text-yellow-800 mb-2",children:"Diferencias encontradas:"}),s.jsx("ul",{className:"text-sm text-yellow-700 space-y-1",children:N.differences.map((K,ve)=>s.jsxs("li",{className:"flex items-start space-x-2",children:[s.jsx("span",{className:"text-yellow-600",children:"•"}),s.jsx("span",{children:K})]},ve))})]})})]}),s.jsxs("form",{onSubmit:Pt,className:"space-y-8",children:[s.jsxs(le,{children:[s.jsxs(_e,{children:[s.jsxs(ke,{className:"flex items-center space-x-2",children:[s.jsx(Pn,{className:"w-5 h-5"}),s.jsx("span",{children:"Datos del Pago"})]}),s.jsx(Et,{children:"Verifica que los datos extraídos sean correctos antes de continuar"})]}),s.jsx(ce,{className:"space-y-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ge,{htmlFor:"amount",className:"text-base font-medium",children:"Monto *"}),s.jsx(Ee,{id:"amount",type:"text",placeholder:"$0.00",value:g.amount,onChange:K=>w(ve=>({...ve,amount:K.target.value})),className:"h-12 text-base bg-green-50 border-green-200"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ge,{htmlFor:"paymentDate",className:"text-base font-medium",children:"Fecha de Pago *"}),s.jsx(Ee,{id:"paymentDate",type:"date",value:g.paymentDate,onChange:K=>w(ve=>({...ve,paymentDate:K.target.value})),className:"h-12 text-base bg-green-50 border-green-200"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ge,{htmlFor:"invoiceNumber",className:"text-base font-medium",children:"Número de Factura"}),s.jsx(Ee,{id:"invoiceNumber",type:"text",placeholder:"FAC-2024-001",value:g.invoiceNumber,onChange:K=>w(ve=>({...ve,invoiceNumber:K.target.value})),className:"h-12 text-base bg-green-50 border-green-200"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ge,{htmlFor:"description",className:"text-base font-medium",children:"Descripción"}),s.jsx(Ee,{id:"description",type:"text",placeholder:"Concepto del pago",value:g.description,onChange:K=>w(ve=>({...ve,description:K.target.value})),className:"h-12 text-base bg-green-50 border-green-200"})]})]})})]}),s.jsxs(le,{className:"border-2 border-purple-100",children:[s.jsxs(_e,{className:"bg-purple-50",children:[s.jsxs(ke,{className:"flex items-center space-x-2 text-purple-900",children:[s.jsx(ia,{className:"w-5 h-5"}),s.jsx("span",{children:"Revisión de Seguridad - Documentos"})]}),s.jsx(Et,{className:"text-purple-700",children:"Revisa los documentos una vez más antes de confirmar el pago como medida de seguridad"})]}),s.jsx(ce,{className:"pt-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(ge,{className:"text-base font-medium",children:"Comprobante de Pago"}),s.jsxs(re,{type:"button",variant:"outline",size:"sm",onClick:()=>U("paymentReceipt"),className:"text-purple-600 border-purple-200 hover:bg-purple-50",children:[s.jsx(ia,{className:"w-4 h-4 mr-1"}),"Revisar"]})]}),s.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg border",children:[s.jsx("p",{className:"text-sm text-gray-700 font-medium",children:(ye=g.paymentReceipt)==null?void 0:ye.name}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:g.paymentReceipt&&`${(g.paymentReceipt.size/1024/1024).toFixed(2)} MB`})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(ge,{className:"text-base font-medium",children:"Factura"}),s.jsxs(re,{type:"button",variant:"outline",size:"sm",onClick:()=>U("invoice"),className:"text-purple-600 border-purple-200 hover:bg-purple-50",children:[s.jsx(ia,{className:"w-4 h-4 mr-1"}),"Revisar"]})]}),s.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg border",children:[s.jsx("p",{className:"text-sm text-gray-700 font-medium",children:(pe=g.invoice)==null?void 0:pe.name}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:g.invoice&&`${(g.invoice.size/1024/1024).toFixed(2)} MB`})]})]})]})})]}),s.jsxs(le,{className:"border-2 border-amber-100",children:[s.jsxs(_e,{className:"bg-amber-50",children:[s.jsxs(ke,{className:"flex items-center space-x-2 text-amber-900",children:[s.jsx(yh,{className:"w-5 h-5"}),s.jsx("span",{children:"Tipo de Pago"})]}),s.jsx(Et,{className:"text-amber-700",children:"Selecciona si este es un pago de contado (no requiere recibo del proveedor)"})]}),s.jsxs(ce,{className:"pt-6",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("input",{type:"checkbox",id:"isCashPayment",checked:g.isCashPayment,onChange:K=>w(ve=>({...ve,isCashPayment:K.target.checked})),className:"w-5 h-5 text-amber-600 bg-gray-100 border-gray-300 rounded focus:ring-amber-500"}),s.jsx(ge,{htmlFor:"isCashPayment",className:"text-base font-medium",children:"Pago de Contado"})]}),s.jsx("p",{className:"text-sm text-gray-600 mt-2 ml-8",children:'Los pagos de contado se marcan automáticamente como "Sin Recibo Requerido" y no requieren seguimiento de recibo del proveedor'})]})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs(re,{type:"button",variant:"outline",onClick:()=>A(!1),className:"flex items-center space-x-2",children:[s.jsx(hc,{className:"w-4 h-4"}),s.jsx("span",{children:"Volver a Documentos"})]}),s.jsxs("div",{className:"flex space-x-4",children:[s.jsxs(re,{type:"button",variant:"outline",onClick:tt,className:"flex items-center space-x-2",children:[s.jsx(mO,{className:"w-4 h-4"}),s.jsx("span",{children:"Empezar de Nuevo"})]}),s.jsx(re,{type:"submit",disabled:fe.isPending,className:"bg-green-600 hover:bg-green-700 flex items-center space-x-2 px-6 py-3",children:fe.isPending?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),s.jsx("span",{children:"Registrando..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(tn,{className:"w-4 h-4"}),s.jsx("span",{children:"Confirmar y Registrar Pago"})]})})]})]})]})]}):s.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Registrar Nuevo Pago"}),s.jsx("p",{className:"text-gray-600",children:"Selecciona la empresa  con la cual realizaste el pago y proveedor al que se realizó el pago , luego sube los documentos"})]}),s.jsxs(le,{className:"border-2 border-blue-100",children:[s.jsx(_e,{className:"bg-blue-50",children:s.jsxs(ke,{className:"flex items-center space-x-2 text-blue-900",children:[s.jsx(Yo,{className:"w-5 h-5"}),s.jsx("span",{children:"Paso 1: Seleccionar empresa y proveedor"})]})}),s.jsx(ce,{className:"pt-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ge,{htmlFor:"company",className:"text-base font-medium",children:"Empresa *"}),s.jsxs(Xe,{value:g.companyId,onValueChange:K=>w(ve=>({...ve,companyId:K})),children:[s.jsx(He,{className:"h-12 text-base",children:s.jsx(Ye,{placeholder:"Seleccionar empresa"})}),s.jsx(Ge,{children:Ae==null?void 0:Ae.map(K=>s.jsx(G,{value:K.id.toString(),children:K.name},K.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ge,{htmlFor:"supplier",className:"text-base font-medium",children:"Proveedor *"}),s.jsxs(Xe,{value:g.supplierId,onValueChange:K=>w(ve=>({...ve,supplierId:K})),disabled:!g.companyId,children:[s.jsx(He,{className:"h-12 text-base",children:s.jsx(Ye,{placeholder:"Primero selecciona empresa"})}),s.jsx(Ge,{children:me==null?void 0:me.map(K=>s.jsx(G,{value:K.id.toString(),children:s.jsxs("div",{className:"flex items-center justify-between w-full",children:[s.jsx("span",{children:K.name}),K.requiresReceipt&&s.jsx(Ze,{className:"ml-2 bg-yellow-100 text-yellow-800 text-xs",children:"Requiere Recibo"})]})},K.id))})]})]})]})})]}),g.companyId&&g.supplierId&&s.jsxs(le,{className:"border-2 border-green-100",children:[s.jsxs(_e,{className:"bg-green-50",children:[s.jsxs(ke,{className:"flex items-center space-x-2 text-green-900",children:[s.jsx(pO,{className:"w-5 h-5"}),s.jsx("span",{children:"Paso 2: Subir documentos"})]}),s.jsx(Et,{className:"text-green-700",children:"Sube ambos documentos para que el sistema extraiga automáticamente los datos del pago"})]}),s.jsxs(ce,{className:"pt-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"text-center p-6 border-2 border-dashed border-gray-300 rounded-lg hover:border-blue-400 transition-colors",children:s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"flex justify-center",children:s.jsx(yh,{className:"w-12 h-12 text-gray-400"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900",children:"Comprobante de Pago"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Screenshot, foto o PDF del comprobante bancario"})]}),s.jsx(Ee,{id:"paymentReceipt",type:"file",accept:".pdf,.jpg,.jpeg,.png,.gif,.webp",onChange:Q("paymentReceipt"),className:"file:mr-2 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100",disabled:y})]})}),g.paymentReceipt&&s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between text-green-600 bg-green-50 p-3 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(tn,{className:"w-5 h-5"}),s.jsx("span",{className:"text-sm font-medium",children:g.paymentReceipt.name})]}),s.jsxs(re,{type:"button",variant:"outline",size:"sm",onClick:()=>U("paymentReceipt"),className:"flex items-center space-x-2 text-blue-600 border-blue-200 hover:bg-blue-50",children:[s.jsx(ia,{className:"w-4 h-4"}),s.jsx("span",{children:"Vista Previa"})]})]}),s.jsxs("div",{className:"border-2 border-blue-100 rounded-lg p-4 bg-blue-50/30",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[s.jsx(ia,{className:"w-4 h-4 text-blue-600"}),s.jsx("span",{className:"text-sm font-medium text-blue-900",children:"Vista Previa del Comprobante"})]}),s.jsx(Xj,{file:g.paymentReceipt,isInline:!0})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"text-center p-6 border-2 border-dashed border-gray-300 rounded-lg hover:border-blue-400 transition-colors",children:s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"flex justify-center",children:s.jsx(Pn,{className:"w-12 h-12 text-gray-400"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-900",children:"Factura"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"PDF, imagen o screenshot de la factura"})]}),s.jsx(Ee,{id:"invoice",type:"file",accept:".pdf,.jpg,.jpeg,.png,.gif,.webp",onChange:Q("invoice"),className:"file:mr-2 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100",disabled:y})]})}),g.invoice&&s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between text-green-600 bg-green-50 p-3 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(tn,{className:"w-5 h-5"}),s.jsx("span",{className:"text-sm font-medium",children:g.invoice.name})]}),s.jsxs(re,{type:"button",variant:"outline",size:"sm",onClick:()=>U("invoice"),className:"flex items-center space-x-2 text-blue-600 border-blue-200 hover:bg-blue-50",children:[s.jsx(ia,{className:"w-4 h-4"}),s.jsx("span",{children:"Vista Previa"})]})]}),s.jsxs("div",{className:"border-2 border-green-100 rounded-lg p-4 bg-green-50/30",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[s.jsx(ia,{className:"w-4 h-4 text-green-600"}),s.jsx("span",{className:"text-sm font-medium text-green-900",children:"Vista Previa de la Factura"})]}),s.jsx(Xj,{file:g.invoice,isInline:!0})]})]})]})]}),g.paymentReceipt&&g.invoice&&!y&&!C&&s.jsx("div",{className:"mt-6 text-center",children:s.jsxs("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[s.jsx(tn,{className:"w-6 h-6 text-green-600"}),s.jsx("p",{className:"text-green-700 font-medium",children:"¡Documentos listos para procesar!"})]}),s.jsx("p",{className:"text-green-600 text-sm mt-1",children:"La extracción automática comenzará en unos segundos..."})]})}),y&&s.jsx("div",{className:"mt-6",children:s.jsx("div",{className:"flex items-center justify-center p-6 bg-blue-50 rounded-lg border border-blue-200",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-blue-700 font-medium",children:"Extrayendo datos automáticamente..."}),s.jsx("p",{className:"text-blue-600 text-sm",children:"Procesando documentos con IA, espera un momento"})]})]})})})]})]}),s.jsx("div",{className:"flex justify-between",children:s.jsxs(re,{type:"button",variant:"outline",onClick:tt,className:"flex items-center space-x-2",children:[s.jsx(mO,{className:"w-4 h-4"}),s.jsx("span",{children:"Limpiar todo"})]})})]})]}),s.jsx(mr,{value:"pending-invoices",className:"space-y-6",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs(le,{className:"mb-6",children:[s.jsxs(_e,{children:[s.jsxs(ke,{className:"flex items-center space-x-2",children:[s.jsx(Pn,{className:"w-5 h-5"}),s.jsx("span",{children:"Facturas Pendientes"}),s.jsxs("span",{className:"bg-yellow-100 text-yellow-800 px-2 py-1 rounded-full text-sm font-medium",children:[(ee==null?void 0:ee.filter(K=>K.status==="pending").length)||0," por procesar"]})]}),s.jsx(Et,{children:"Facturas subidas que están esperando ser procesadas por Lolita"})]}),s.jsxs(ce,{children:[s.jsxs("div",{className:"flex space-x-2 mb-6",children:[s.jsxs(re,{variant:R==="pending"?"default":"outline",size:"sm",onClick:()=>V("pending"),className:R==="pending"?"bg-yellow-50 text-yellow-700 border-yellow-200":"",children:[s.jsx(ga,{className:"w-4 h-4 mr-1"}),"Pendientes (",(ee==null?void 0:ee.filter(K=>K.status==="pending").length)||0,")"]}),s.jsxs(re,{variant:R==="processing"?"default":"outline",size:"sm",onClick:()=>V("processing"),className:R==="processing"?"bg-blue-50 text-blue-700 border-blue-200":"",children:[s.jsx(qo,{className:"w-4 h-4 mr-1"}),"En Proceso (",(ee==null?void 0:ee.filter(K=>K.status==="processing").length)||0,")"]}),s.jsxs(re,{variant:R==="completed"?"default":"outline",size:"sm",onClick:()=>V("completed"),className:R==="completed"?"bg-green-50 text-green-700 border-green-200":"",children:[s.jsx(tn,{className:"w-4 h-4 mr-1"}),"Pagadas (",(ee==null?void 0:ee.filter(K=>K.status==="completed").length)||0,")"]})]}),s.jsx("div",{className:"grid gap-4",children:((ae=ee==null?void 0:ee.filter(K=>K.status===R))==null?void 0:ae.length)>0?ee.filter(K=>K.status===R).map(K=>{var ve;return s.jsx(le,{className:"border-l-4 border-l-yellow-400 bg-yellow-50",children:s.jsx(ce,{className:"p-4",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[s.jsx("div",{className:"bg-blue-100 p-2 rounded-lg",children:s.jsx(Pn,{className:"w-5 h-5 text-blue-600"})}),s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold text-gray-900",children:["Factura: ",K.invoiceNumber||"Sin número"]}),s.jsxs("p",{className:"text-sm text-gray-600",children:[((ve=Ae==null?void 0:Ae.find(pt=>pt.id===K.companyId))==null?void 0:ve.name)||"N/A"," • ",K.priority==="high"?"🔴 Alta prioridad":K.priority==="low"?"🟢 Baja prioridad":"🟡 Normal"]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-3",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Monto:"}),s.jsxs("p",{className:"text-lg font-bold text-gray-900",children:["$",K.amount]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Emisión:"}),s.jsx("p",{className:"text-sm text-gray-900",children:K.issueDate||"N/A"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Vencimiento:"}),s.jsx("p",{className:"text-sm text-gray-900",children:K.dueDate||"N/A"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Subido:"}),s.jsx("p",{className:"text-sm text-gray-900",children:new Date(K.createdAt).toLocaleDateString("es-MX")})]})]}),K.description&&s.jsxs("div",{className:"mb-3",children:[s.jsx("span",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Descripción:"}),s.jsx("p",{className:"text-sm text-gray-700 bg-white p-2 rounded border",children:K.description})]}),K.notes&&s.jsxs("div",{className:"mb-3",children:[s.jsx("span",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Notas:"}),s.jsx("p",{className:"text-sm text-blue-700 bg-blue-50 p-2 rounded border",children:K.notes})]})]}),s.jsxs("div",{className:"flex flex-col space-y-2",children:[s.jsxs(re,{size:"sm",variant:"outline",onClick:()=>window.open(`/${K.invoicePath}`,"_blank"),className:"flex items-center space-x-1",children:[s.jsx(ia,{className:"w-4 h-4"}),s.jsx("span",{children:"Ver Factura"})]}),s.jsxs(re,{size:"sm",className:"bg-green-600 hover:bg-green-700 flex items-center space-x-1",onClick:()=>{w({...g,companyId:K.companyId,supplierId:K.supplierId||1,amount:K.amount,description:K.description||`Pago factura ${K.invoiceNumber}`,invoiceNumber:K.invoiceNumber,paymentMethod:"transfer"}),i("register-payment"),t({title:"Datos pre-cargados",description:"Formulario listo para procesar el pago"})},children:[s.jsx(yh,{className:"w-4 h-4"}),s.jsx("span",{children:"Procesar Pago"})]})]})]})})},K.id)}):s.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[s.jsx(Pn,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:R==="pending"?"No hay facturas pendientes":R==="processing"?"No hay facturas en proceso":"No hay facturas completadas"}),s.jsx("p",{className:"text-gray-600",children:R==="pending"?"Las nuevas facturas aparecerán aquí cuando se suban":R==="processing"?"Las facturas en proceso aparecerán aquí":"Las facturas pagadas aparecerán aquí"})]})})]})]}),s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Subir Nueva Factura"}),s.jsxs("p",{className:"text-gray-600",children:["🚀 ",s.jsx("strong",{children:"Drag & Drop con IA:"})," Simplemente arrastra las facturas desde tu explorador. La IA extraerá automáticamente todos los datos."]})]}),s.jsx(le,{className:"border-2 border-dashed border-blue-200 hover:border-blue-400 transition-colors mb-6",children:s.jsx(ce,{className:"p-12",children:s.jsx("div",{className:"text-center",onDrop:K=>{K.preventDefault();const ve=K.dataTransfer.files[0];ve&&ve.type.match(/^(application\/pdf|image\/(jpeg|jpg|png|gif|webp))$/)&&$(ve)},onDragOver:K=>K.preventDefault(),onDragEnter:K=>K.preventDefault(),children:D?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-20 w-20 border-b-4 border-blue-500 mx-auto mb-6"}),s.jsx("h3",{className:"text-2xl font-bold text-blue-900 mb-4",children:"🤖 Procesando con IA..."}),s.jsxs("p",{className:"text-blue-700 mb-6 text-lg",children:["Extrayendo datos de ",je==null?void 0:je.name]}),s.jsx("div",{className:"bg-blue-50 rounded-lg p-6 max-w-md mx-auto",children:s.jsxs("div",{className:"text-left text-sm text-blue-800 space-y-2",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"animate-pulse w-2 h-2 bg-blue-500 rounded-full mr-2"}),"Leyendo documento..."]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"animate-pulse w-2 h-2 bg-blue-500 rounded-full mr-2"}),"Extrayendo números y fechas..."]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"animate-pulse w-2 h-2 bg-blue-500 rounded-full mr-2"}),"Identificando proveedor..."]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"animate-pulse w-2 h-2 bg-blue-500 rounded-full mr-2"}),"Creando tarjeta para Lolita..."]})]})})]}):s.jsxs(s.Fragment,{children:[s.jsx(pO,{className:"w-24 h-24 text-blue-400 mx-auto mb-6"}),s.jsx("h3",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Arrastra las facturas aquí"}),s.jsxs("p",{className:"text-gray-600 mb-8 text-lg",children:["🚀 ",s.jsx("strong",{children:"IA Automática:"})," Solo suelta el archivo, nosotros hacemos el resto"]}),s.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl p-8 max-w-lg mx-auto mb-8 border border-blue-100",children:[s.jsx("h4",{className:"font-bold text-blue-900 mb-4 text-lg",children:"✨ Lo que hace la IA automáticamente:"}),s.jsxs("div",{className:"text-left space-y-3",children:[s.jsxs("div",{className:"flex items-start",children:[s.jsx(Pn,{className:"w-5 h-5 text-blue-600 mr-3 mt-0.5"}),s.jsx("span",{className:"text-blue-800",children:"Lee automáticamente el PDF o imagen"})]}),s.jsxs("div",{className:"flex items-start",children:[s.jsx(fd,{className:"w-5 h-5 text-blue-600 mr-3 mt-0.5"}),s.jsx("span",{className:"text-blue-800",children:"Extrae número de factura y montos"})]}),s.jsxs("div",{className:"flex items-start",children:[s.jsx(ja,{className:"w-5 h-5 text-blue-600 mr-3 mt-0.5"}),s.jsx("span",{className:"text-blue-800",children:"Identifica fechas de emisión y vencimiento"})]}),s.jsxs("div",{className:"flex items-start",children:[s.jsx(r6,{className:"w-5 h-5 text-blue-600 mr-3 mt-0.5"}),s.jsx("span",{className:"text-blue-800",children:"Reconoce el proveedor automáticamente"})]}),s.jsxs("div",{className:"flex items-start",children:[s.jsx(tn,{className:"w-5 h-5 text-blue-600 mr-3 mt-0.5"}),s.jsx("span",{className:"text-blue-800",children:"Crea la tarjeta lista para Lolita"})]})]})]}),s.jsx("input",{type:"file",accept:".pdf,.jpg,.jpeg,.png,.gif,.webp",onChange:K=>{var pt;const ve=(pt=K.target.files)==null?void 0:pt[0];ve&&$(ve)},className:"hidden",id:"smart-invoice-upload"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs(re,{type:"button",size:"lg",className:"bg-blue-600 hover:bg-blue-700 text-lg px-8 py-3",onClick:()=>{var K;return(K=document.getElementById("smart-invoice-upload"))==null?void 0:K.click()},children:[s.jsx(Ka,{className:"w-6 h-6 mr-3"}),"Seleccionar Factura"]}),s.jsx("p",{className:"text-sm text-gray-500",children:"Formatos: PDF, JPG, PNG, GIF, WebP • Máximo: 10MB"})]})]})})})})]})}),s.jsx(mr,{value:"kanban",className:"space-y-6",children:o?s.jsxs(j6e,{sensors:x,onDragStart:Me,onDragEnd:dt,onDragCancel:lt,children:[s.jsx("div",{className:"mb-4",children:s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(hO,{className:"w-5 h-5 text-blue-600"}),s.jsx("h3",{className:"font-semibold text-blue-900",children:"Seguimiento de Pagos - Drag & Drop"})]}),s.jsx("p",{className:"text-blue-700 text-sm mt-1",children:"Arrastra los pagos entre las columnas para cambiar su estado automáticamente"})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6",children:[s.jsx(fh,{id:"payment_sent",title:"Pago Enviado",icon:yh,color:"text-blue-600",payments:we("payment_sent")}),s.jsx(fh,{id:"waiting_receipt",title:"Esperando Recibo",icon:ga,color:"text-yellow-600",payments:we("waiting_receipt")}),s.jsx(fh,{id:"receipt_received",title:"Recibo Recibido",icon:tn,color:"text-green-600",payments:we("receipt_received")}),s.jsx(fh,{id:"completed",title:"Completado",icon:tn,color:"text-emerald-600",payments:we("completed")}),s.jsx(fh,{id:"no_receipt_required",title:"Sin Recibo",icon:Pn,color:"text-gray-600",payments:we("no_receipt_required")})]}),s.jsx(V6e,{children:c&&d?s.jsx(ZX,{payment:d,isDragging:!0}):null})]}):s.jsx(le,{children:s.jsx(ce,{className:"flex items-center justify-center p-8",children:s.jsx("p",{className:"text-gray-500",children:"Selecciona una empresa para ver el seguimiento de pagos"})})})}),s.jsx(mr,{value:"history",className:"space-y-6",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(oS,{className:"w-5 h-5 text-gray-500"}),s.jsx("h2",{className:"text-xl font-semibold",children:"Historial de Pagos"})]}),o&&s.jsx(Ze,{variant:"outline",className:"bg-blue-50 text-blue-700",children:(Se=Ae.find(K=>K.id===o))==null?void 0:Se.name})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ge,{htmlFor:"search-history",className:"text-sm font-medium",children:"Buscar:"}),s.jsx(Ee,{id:"search-history",placeholder:"Buscar por proveedor, monto, o descripción...",className:"w-64"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs(re,{variant:"outline",size:"sm",children:[s.jsx(i6,{className:"w-4 h-4 mr-2"}),"Excel"]}),s.jsxs(re,{variant:"outline",size:"sm",children:[s.jsx(Pn,{className:"w-4 h-4 mr-2"}),"PDF"]})]})]})]}),s.jsx("div",{className:"space-y-4",children:((o?De:te)||[]).length>0?((o?De:te)||[]).map(K=>{var ve,pt;return s.jsx(le,{className:"hover:shadow-md transition-shadow duration-200",children:s.jsxs(ce,{className:"p-6",children:[s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{className:"flex-1 space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center space-x-3",children:s.jsxs("div",{className:"flex flex-col",children:[s.jsx("h3",{className:"font-semibold text-lg text-gray-900",children:(ve=K.supplier)==null?void 0:ve.name}),s.jsx("p",{className:"text-sm text-gray-500",children:(pt=K.company)==null?void 0:pt.name})]})}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["$",K.amount]}),s.jsx("p",{className:"text-sm text-gray-500",children:K.currency})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[s.jsx(ja,{className:"w-4 h-4"}),s.jsx("span",{children:new Date(K.paymentDate).toLocaleDateString("es-MX")})]}),K.description&&s.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[s.jsx(Pn,{className:"w-4 h-4"}),s.jsx("span",{className:"truncate max-w-xs",children:K.description})]})]}),s.jsx(Ze,{className:tze[K.status],variant:"secondary",children:rze[K.status]})]})]})}),(K.paymentReceiptPath||K.invoicePath)&&s.jsx("div",{className:"mt-4 pt-4 border-t border-gray-100",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Documentos:"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[K.paymentReceiptPath&&s.jsxs(re,{variant:"ghost",size:"sm",onClick:()=>window.open(`/uploads/${K.paymentReceiptPath}`,"_blank"),className:"text-blue-600 hover:text-blue-800 hover:bg-blue-50",children:[s.jsx(ia,{className:"w-4 h-4 mr-1"}),"Comprobante"]}),K.invoicePath&&s.jsxs(re,{variant:"ghost",size:"sm",onClick:()=>window.open(`/uploads/${K.invoicePath}`,"_blank"),className:"text-green-600 hover:text-green-800 hover:bg-green-50",children:[s.jsx(ia,{className:"w-4 h-4 mr-1"}),"Factura"]})]})]})})]})},K.id)}):s.jsx(le,{children:s.jsx(ce,{className:"p-12 text-center",children:s.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[s.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center",children:s.jsx(Pn,{className:"w-8 h-8 text-gray-400"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No hay pagos registrados"}),s.jsx("p",{className:"text-gray-500",children:o?`No se encontraron pagos para ${(it=Ae.find(K=>K.id===o))==null?void 0:it.name}`:"Comienza registrando tu primer pago"})]})]})})})})]})})]}),s.jsx(Ir,{open:_,onOpenChange:Z,children:s.jsxs(Sr,{className:"max-w-4xl w-full max-h-[90vh] p-0",children:[s.jsxs(Nr,{className:"p-6 border-b",children:[s.jsxs(Pr,{className:"flex items-center space-x-2",children:[s.jsx(Pn,{className:"w-5 h-5"}),s.jsxs("span",{children:["Vista Previa: ",(E==null?void 0:E.type)==="paymentReceipt"?"Comprobante de Pago":"Factura"]})]}),s.jsx(el,{children:"Revisa el documento antes de confirmar el pago como medida de seguridad"})]}),s.jsx("div",{className:"flex-1 p-6 overflow-auto",children:E&&s.jsx(Xj,{file:E.file})}),s.jsxs("div",{className:"p-6 border-t bg-gray-50 flex justify-end space-x-3",children:[s.jsxs(re,{variant:"outline",onClick:Z,className:"flex items-center space-x-2",children:[s.jsx(_0,{className:"w-4 h-4"}),s.jsx("span",{children:"Cerrar"})]}),s.jsxs(re,{onClick:Z,className:"flex items-center space-x-2 bg-green-600 hover:bg-green-700",children:[s.jsx(tn,{className:"w-4 h-4"}),s.jsx("span",{children:"Documento Validado"})]})]})]})}),s.jsx(cVe,{isOpen:h,onClose:()=>p(!1)})]})}function Xj({file:e,isInline:t=!1}){const[r,n]=v.useState(""),[a,i]=v.useState([]),[o,l]=v.useState(!1),[c,u]=v.useState(!1);v.useEffect(()=>{if(e){const w=URL.createObjectURL(e);return n(w),e.type==="application/pdf"&&d(e),()=>{URL.revokeObjectURL(w)}}},[e]);const d=async w=>{l(!0),u(!1);try{const y=await Q6(()=>import("./pdf-CaJW-a52.js"),[]);y.GlobalWorkerOptions.workerSrc=`//cdnjs.cloudflare.com/ajax/libs/pdf.js/${y.version}/pdf.worker.min.js`;const b=await w.arrayBuffer(),N=await y.getDocument({data:b}).promise,j=[],S=t?2:Math.min(N.numPages,3);for(let C=1;C<=S;C++)j.push(f(N,C));const P=await Promise.all(j);i(P.filter(C=>C!==null))}catch(y){console.error("Error rendering PDF:",y),u(!0)}finally{l(!1)}},f=async(w,y)=>{try{const b=await w.getPage(y),N=t?1.2:1.5,j=b.getViewport({scale:N}),S=document.createElement("canvas"),P=S.getContext("2d");return S.height=j.height,S.width=j.width,await b.render({canvasContext:P,viewport:j}).promise,S.toDataURL()}catch(b){return console.error(`Error rendering page ${y}:`,b),null}},h=()=>{r&&window.open(r,"_blank")},p=e.type==="application/pdf",x=e.type.startsWith("image/"),m=t?"min-h-[300px]":"min-h-[500px]",g=t?"max-h-[400px]":"max-h-[600px]";return s.jsx("div",{className:`w-full h-full ${m} flex items-center justify-center bg-gray-100 rounded-lg`,children:p?s.jsx("div",{className:"w-full h-full",children:o?s.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center space-y-4",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Cargando PDF..."})]}):c||a.length===0?s.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center space-y-4",children:[s.jsx(Pn,{className:"w-16 h-16 text-blue-500"}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-lg font-medium text-gray-700",children:"PDF Detectado"}),s.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:[e.name," (",(e.size/1024/1024).toFixed(2)," MB)"]}),s.jsxs(re,{onClick:h,className:"mt-3 bg-blue-600 hover:bg-blue-700",size:"sm",children:[s.jsx(ia,{className:"w-4 h-4 mr-2"}),"Abrir PDF Completo"]})]})]}):s.jsxs("div",{className:"w-full space-y-4 p-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("p",{className:"text-sm font-medium text-gray-700",children:["Vista Previa PDF - ",a.length," página",a.length>1?"s":""]}),s.jsxs(re,{onClick:h,variant:"outline",size:"sm",className:"text-blue-600",children:[s.jsx(ia,{className:"w-4 h-4 mr-1"}),"Ver Completo"]})]}),s.jsx("div",{className:"space-y-3 max-h-[500px] overflow-y-auto",children:a.map((w,y)=>s.jsxs("div",{className:"border rounded-lg p-2 bg-white",children:[s.jsx("img",{src:w,alt:`Página ${y+1} del PDF`,className:"w-full h-auto object-contain rounded border shadow-sm"}),s.jsxs("p",{className:"text-xs text-gray-500 mt-2 text-center",children:["Página ",y+1]})]},y))})]})}):x?s.jsxs("div",{className:"text-center",children:[s.jsx("img",{src:r,alt:"Vista previa del documento",className:`max-w-full ${g} object-contain rounded-lg border shadow-lg`}),!t&&s.jsx("div",{className:"mt-4",children:s.jsxs("p",{className:"text-sm text-gray-600",children:[e.name," (",(e.size/1024/1024).toFixed(2)," MB)"]})})]}):s.jsxs("div",{className:"text-center space-y-4",children:[s.jsx(Pn,{className:"w-16 h-16 text-gray-400 mx-auto"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-lg font-medium text-gray-700",children:"Vista previa no disponible"}),s.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:[e.name," (",(e.size/1024/1024).toFixed(2)," MB)"]}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Tipo de archivo: ",e.type]})]})]})})}function nze(){const[e,t]=v.useState(!1),r=Vn(),{data:n=[],isLoading:a}=$e({queryKey:["/api/payment-reminders"],refetchInterval:3e4}),i=At({mutationFn:async()=>{const f=await fetch("/api/process-payment-reminders",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("authToken")}`}});if(!f.ok)throw new Error("Error procesando recordatorios");return f.json()},onSuccess:f=>{r.invalidateQueries({queryKey:["/api/payment-reminders"]}),console.log("Recordatorios procesados:",f.results)},onError:f=>{console.error("Error procesando recordatorios:",f)}}),o=async()=>{t(!0);try{await i.mutateAsync()}finally{t(!1)}},l=f=>{switch(f){case"pending":return s.jsxs(Ze,{variant:"outline",className:"text-yellow-700 border-yellow-300",children:[s.jsx(ga,{className:"w-3 h-3 mr-1"}),"Pendiente"]});case"sent":return s.jsxs(Ze,{variant:"outline",className:"text-green-700 border-green-300",children:[s.jsx(tn,{className:"w-3 h-3 mr-1"}),"Enviado"]});case"failed":return s.jsxs(Ze,{variant:"outline",className:"text-red-700 border-red-300",children:[s.jsx(Up,{className:"w-3 h-3 mr-1"}),"Fallido"]});default:return s.jsx(Ze,{variant:"outline",children:f})}},c=n.filter(f=>f.status==="pending"),u=n.filter(f=>f.status==="sent"),d=n.filter(f=>f.status==="failed");return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-green-50 p-6",children:s.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[s.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"🤖 Automatización de Pagos"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Sistema automático de envío de documentos y recordatorios de recibos"})]}),s.jsx("div",{className:"flex items-center gap-4",children:s.jsxs(re,{onClick:o,disabled:e||i.isPending,className:"bg-blue-600 hover:bg-blue-700",children:[e?s.jsx(lS,{className:"w-4 h-4 mr-2 animate-spin"}):s.jsx(qee,{className:"w-4 h-4 mr-2"}),"Procesar Recordatorios"]})})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs(le,{children:[s.jsx(_e,{className:"pb-2",children:s.jsx(ke,{className:"text-sm font-medium text-gray-600",children:"Total Recordatorios"})}),s.jsx(ce,{children:s.jsx("div",{className:"text-2xl font-bold text-gray-900",children:n.length})})]}),s.jsxs(le,{children:[s.jsx(_e,{className:"pb-2",children:s.jsx(ke,{className:"text-sm font-medium text-yellow-600",children:"Pendientes"})}),s.jsx(ce,{children:s.jsx("div",{className:"text-2xl font-bold text-yellow-700",children:c.length})})]}),s.jsxs(le,{children:[s.jsx(_e,{className:"pb-2",children:s.jsx(ke,{className:"text-sm font-medium text-green-600",children:"Enviados"})}),s.jsx(ce,{children:s.jsx("div",{className:"text-2xl font-bold text-green-700",children:u.length})})]}),s.jsxs(le,{children:[s.jsx(_e,{className:"pb-2",children:s.jsx(ke,{className:"text-sm font-medium text-red-600",children:"Fallidos"})}),s.jsx(ce,{children:s.jsx("div",{className:"text-2xl font-bold text-red-700",children:d.length})})]})]}),s.jsxs(le,{children:[s.jsxs(_e,{children:[s.jsxs(ke,{className:"flex items-center gap-2",children:[s.jsx(ga,{className:"w-5 h-5"}),"Recordatorios Programados"]}),s.jsx(Et,{children:"Recordatorios automáticos para solicitar recibos de pago a proveedores"})]}),s.jsx(ce,{children:a?s.jsxs("div",{className:"flex items-center justify-center py-8",children:[s.jsx(lS,{className:"w-6 h-6 animate-spin text-gray-400"}),s.jsx("span",{className:"ml-2 text-gray-600",children:"Cargando recordatorios..."})]}):n.length===0?s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(ga,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),s.jsx("p",{children:"No hay recordatorios programados"})]}):s.jsx("div",{className:"space-y-4",children:n.map(f=>s.jsx("div",{className:"border rounded-lg p-4 hover:bg-gray-50 transition-colors",children:s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[l(f.status),s.jsxs("span",{className:"text-sm text-gray-500",children:["Recordatorio #",f.reminderNumber]})]}),s.jsx("h3",{className:"font-medium text-gray-900 mb-1",children:f.subject}),s.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Para: ",s.jsx("span",{className:"font-medium",children:f.emailTo})]}),s.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[s.jsxs("span",{children:["Programado: ",Or(new Date(f.scheduledFor),"PPP 'a las' p",{locale:Ha})]}),f.sentAt&&s.jsxs("span",{children:["Enviado: ",Or(new Date(f.sentAt),"PPP 'a las' p",{locale:Ha})]})]}),f.errorMessage&&s.jsxs("div",{className:"mt-2 p-2 bg-red-50 border border-red-200 rounded text-sm text-red-700",children:["Error: ",f.errorMessage]})]})})},f.id))})})]}),s.jsxs(le,{children:[s.jsx(_e,{children:s.jsx(ke,{children:"📋 Cómo Funciona la Automatización"})}),s.jsxs(ce,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[s.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"1. Envío Automático"}),s.jsx("p",{className:"text-sm text-blue-700",children:"Cuando creas un pago, el sistema automáticamente envía el comprobante al proveedor por email."})]}),s.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[s.jsx("h3",{className:"font-semibold text-yellow-900 mb-2",children:"2. Recordatorios Programados"}),s.jsx("p",{className:"text-sm text-yellow-700",children:"Se programan recordatorios automáticos para solicitar recibos a los 3, 7 y 14 días."})]}),s.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[s.jsx("h3",{className:"font-semibold text-green-900 mb-2",children:"3. Seguimiento Automático"}),s.jsx("p",{className:"text-sm text-green-700",children:"El sistema rastrea el estado de cada recordatorio y notifica cuando se envían exitosamente."})]})]}),s.jsx(kf,{}),s.jsxs("div",{className:"text-sm text-gray-600",children:[s.jsxs("p",{className:"mb-2",children:[s.jsx("strong",{children:"Nota:"}),' Los recordatorios se procesan automáticamente cada hora. También puedes ejecutarlos manualmente usando el botón "Procesar Recordatorios".']}),s.jsxs("p",{children:["Los emails de pagos se envían desde: ",s.jsx("strong",{children:"doloresnavarro@grupoorsega.com"})]})]})]})]})]})})}const qR=e=>{switch(e.toLowerCase()){case"santander":return"Santander";case"monex":return"Monex";case"dof":return"Diario Oficial";default:return e.toUpperCase()}},aze=e=>{switch(e.toLowerCase()){case"santander":return"bg-red-100 text-red-800 border-red-200";case"monex":return"bg-blue-100 text-blue-800 border-blue-200";case"dof":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},WR=e=>{switch(e.toLowerCase()){case"dof":return"🏛️";case"santander":return"🏦";case"monex":return"💱";default:return"💰"}};function ize(){const[e,t]=v.useState(null),[r,n]=v.useState(!1),[a,i]=v.useState(null),[o,l]=v.useState({buyRate:"",sellRate:"",notes:""}),{toast:c}=wn(),u=Vn(),{data:d=[],isLoading:f,refetch:h}=$e({queryKey:["/api/currency-quotes"],refetchInterval:3e4}),p=()=>{window.location.href="/cotizacion-dolares/historial"},x=()=>{window.location.href="/"},m=At({mutationFn:S=>zt("/api/currency-quotes","POST",S),onSuccess:()=>{u.invalidateQueries({queryKey:["/api/currency-quotes"]}),n(!1),t(null),c({title:"Cotización actualizada",description:"La cotización ha sido registrada exitosamente."})},onError:S=>{c({title:"Error",description:S.message||"Error al actualizar la cotización",variant:"destructive"})}}),g=S=>{t(S),l({buyRate:"",sellRate:"",notes:""}),n(!0)},w=S=>{S.preventDefault();const P={source:e,buyRate:parseFloat(o.buyRate),sellRate:parseFloat(o.sellRate),notes:o.notes||`Actualizado manualmente por Lolita - ${Or(new Date,"dd/MM/yyyy HH:mm")}`};m.mutate(P)},y=(S,P)=>{l(C=>({...C,[S]:P}))},b=d.reduce((S,P)=>((!S[P.sourceProvider]||new Date(P.createdAt)>new Date(S[P.sourceProvider].createdAt))&&(S[P.sourceProvider]=P),S),{}),N=S=>{const P=d.filter(_=>_.sourceProvider===S).sort((_,O)=>new Date(O.createdAt).getTime()-new Date(_.createdAt).getTime());if(P.length<2)return"neutral";const C=P[0],A=P[1],E=(parseFloat(C.buyRate)+parseFloat(C.sellRate))/2,T=(parseFloat(A.buyRate)+parseFloat(A.sellRate))/2;return E>T?"up":E<T?"down":"neutral"},j=S=>{try{const[P,C]=S.split(":"),A=new Date;return A.setHours(parseInt(P),parseInt(C)),Or(A,"h:mm a",{locale:Ha})}catch{return S}};return f?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-6",children:s.jsx("div",{className:"max-w-7xl mx-auto",children:s.jsxs("div",{className:"animate-pulse space-y-4",children:[s.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[1,2,3].map(S=>s.jsx("div",{className:"h-64 bg-gray-200 rounded"},S))})]})})}):s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-6",children:s.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs(re,{variant:"outline",size:"sm",onClick:x,className:"flex items-center space-x-2",children:[s.jsx(hc,{className:"h-4 w-4"}),s.jsx("span",{children:"Dashboard"})]}),s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center space-x-2",children:[s.jsx(fd,{className:"h-8 w-8 text-green-600"}),s.jsx("span",{children:"Cotización de Dólares"})]}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Seguimiento automático de tipos de cambio USD/MXN"})]})]}),s.jsx("div",{className:"flex items-center space-x-2",children:s.jsxs(re,{variant:"outline",onClick:p,className:"flex items-center space-x-2",children:[s.jsx(ja,{className:"h-4 w-4"}),s.jsx("span",{children:"Ver Historial"})]})})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:["dof","santander","monex"].map(S=>{const P=b[S],C=N(S);return s.jsxs(le,{className:"border-2 hover:shadow-lg transition-shadow",children:[s.jsx(_e,{className:"pb-3",children:s.jsxs(ke,{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"text-2xl",children:WR(S)}),s.jsx("span",{children:qR(S)})]}),s.jsx(Ze,{className:aze(S),children:S.toUpperCase()})]})}),s.jsx(ce,{className:"space-y-4",children:P?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Compra:"}),s.jsxs("span",{className:"font-bold text-lg text-green-600",children:["$",parseFloat(P.buyRate).toFixed(4)]})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Venta:"}),s.jsxs("span",{className:"font-bold text-lg text-red-600",children:["$",parseFloat(P.sellRate).toFixed(4)]})]}),s.jsxs("div",{className:"flex justify-between items-center border-t pt-2",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Promedio:"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("span",{className:"font-bold text-lg text-blue-600",children:["$",((parseFloat(P.buyRate)+parseFloat(P.sellRate))/2).toFixed(4)]}),C==="up"&&s.jsx(rn,{className:"h-4 w-4 text-green-500"}),C==="down"&&s.jsx(bm,{className:"h-4 w-4 text-red-500"})]})]}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Spread:"}),s.jsxs("span",{className:"text-sm font-medium",children:["$",(parseFloat(P.sellRate)-parseFloat(P.buyRate)).toFixed(4)]})]})]}),s.jsxs("div",{className:"text-xs text-gray-500 border-t pt-3 space-y-1",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Fecha:"}),s.jsx("span",{children:Or(_x(P.quotingDate),"dd/MM/yyyy",{locale:Ha})})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Hora:"}),s.jsx("span",{children:j(P.quotingTime)})]}),P.notes&&s.jsx("div",{className:"text-xs italic text-blue-600 mt-2",children:P.notes})]}),(S==="santander"||S==="monex")&&s.jsx("div",{className:"border-t pt-3",children:s.jsxs(re,{onClick:()=>g(S),variant:"ghost",size:"sm",className:"w-full flex items-center justify-center space-x-2 hover:bg-blue-50",children:[s.jsx(o6,{className:"h-4 w-4"}),s.jsx("span",{children:"Actualizar precio"})]})})]}):s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(fd,{className:"h-12 w-12 mx-auto mb-3 opacity-30"}),s.jsx("p",{className:"text-sm",children:"Sin cotización disponible"}),s.jsx("p",{className:"text-xs mt-1",children:S==="dof"?"La próxima actualización automática agregará datos":'Presiona "Actualizar Cotización" para agregar datos manualmente'}),(S==="santander"||S==="monex")&&s.jsx("div",{className:"border-t pt-3 mt-4",children:s.jsxs(re,{onClick:()=>g(S),variant:"outline",size:"sm",className:"w-full flex items-center justify-center space-x-2",children:[s.jsx(Ka,{className:"h-4 w-4"}),s.jsx("span",{children:"Agregar Cotización"})]})})]})})]},S)})}),d.filter(S=>S.sourceProvider==="santander"||S.sourceProvider==="monex").length>0&&s.jsxs(le,{children:[s.jsxs(_e,{children:[s.jsxs(ke,{className:"flex items-center space-x-2",children:[s.jsx(Ko,{className:"h-5 w-5"}),s.jsx("span",{children:"Tendencia Histórica"})]}),s.jsx("p",{className:"text-sm text-gray-500",children:"Comparación diaria de tipos de cambio • Rojo = Santander • Azul = Monex"})]}),s.jsxs(ce,{children:[s.jsxs("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[s.jsx("p",{className:"text-sm text-blue-700 font-medium mb-1",children:"💡 Cómo leer la gráfica:"}),s.jsx("p",{className:"text-xs text-blue-600",children:"4 barras por fecha: Última actualización de Compra/Venta (3 decimales). Si hay múltiples actualizaciones del día, solo se muestra la más reciente."})]}),s.jsx("div",{className:"h-96 w-full",children:s.jsx(Is,{width:"100%",height:"100%",children:s.jsxs(aT,{data:(()=>{const P=d.filter(C=>C.sourceProvider==="santander"||C.sourceProvider==="monex").reduce((C,A)=>{const E=A.quotingDate;return C[E]||(C[E]={fecha:Or(_x(A.quotingDate),"dd MMM",{locale:Ha}),santanderCompra:null,santanderVenta:null,monexCompra:null,monexVenta:null,santanderData:null,monexData:null,santanderUpdates:0,monexUpdates:0}),A.sourceProvider==="santander"?(C[E].santanderUpdates++,C[E].santanderCompra=parseFloat(A.buyRate),C[E].santanderVenta=parseFloat(A.sellRate),C[E].santanderData={buyRate:parseFloat(A.buyRate),sellRate:parseFloat(A.sellRate),time:A.quotingTime,notes:A.notes,updates:C[E].santanderUpdates}):A.sourceProvider==="monex"&&(C[E].monexUpdates++,C[E].monexCompra=parseFloat(A.buyRate),C[E].monexVenta=parseFloat(A.sellRate),C[E].monexData={buyRate:parseFloat(A.buyRate),sellRate:parseFloat(A.sellRate),time:A.quotingTime,notes:A.notes,updates:C[E].monexUpdates}),C},{});return Object.values(P).sort((C,A)=>new Date(C.date||C.fecha).getTime()-new Date(A.date||A.fecha).getTime()).slice(-10)})(),margin:{top:20,right:30,left:40,bottom:60},barGap:10,children:[s.jsx(as,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),s.jsx(Mn,{dataKey:"fecha",tick:{fontSize:12},angle:-45,textAnchor:"end",height:70}),s.jsx(In,{domain:[18.55,18.7],tickFormatter:S=>`$${S.toFixed(3)}`,tick:{fontSize:11},width:70}),s.jsx(Kr,{content:({active:S,payload:P,label:C})=>{if(S&&P&&P.length>0){const A=P[0].payload;return s.jsxs("div",{className:"bg-white p-4 border rounded-lg shadow-lg border-gray-200",children:[s.jsx("p",{className:"font-bold mb-3 text-gray-800",children:C}),A.santanderData&&s.jsxs("div",{className:"mb-3 p-2 bg-red-50 rounded",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-3 h-3 bg-red-500 rounded mr-2"}),s.jsx("span",{className:"font-medium text-red-700",children:"Santander"})]}),A.santanderData.updates>1&&s.jsxs("span",{className:"text-xs bg-red-100 text-red-600 px-2 py-1 rounded-full",children:["Act. ",A.santanderData.updates]})]}),s.jsxs("p",{className:"text-sm",children:["Compra: ",s.jsxs("span",{className:"font-mono font-bold",children:["$",A.santanderData.buyRate.toFixed(3)]})]}),s.jsxs("p",{className:"text-sm",children:["Venta: ",s.jsxs("span",{className:"font-mono font-bold",children:["$",A.santanderData.sellRate.toFixed(3)]})]}),s.jsxs("p",{className:"text-xs text-gray-500",children:[j(A.santanderData.time)," ",A.santanderData.updates>1?"(Última actualización)":""]})]}),A.monexData&&s.jsxs("div",{className:"p-2 bg-blue-50 rounded",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded mr-2"}),s.jsx("span",{className:"font-medium text-blue-700",children:"Monex"})]}),A.monexData.updates>1&&s.jsxs("span",{className:"text-xs bg-blue-100 text-blue-600 px-2 py-1 rounded-full",children:["Act. ",A.monexData.updates]})]}),s.jsxs("p",{className:"text-sm",children:["Compra: ",s.jsxs("span",{className:"font-mono font-bold",children:["$",A.monexData.buyRate.toFixed(3)]})]}),s.jsxs("p",{className:"text-sm",children:["Venta: ",s.jsxs("span",{className:"font-mono font-bold",children:["$",A.monexData.sellRate.toFixed(3)]})]}),s.jsxs("p",{className:"text-xs text-gray-500",children:[j(A.monexData.time)," ",A.monexData.updates>1?"(Última actualización)":""]})]}),A.santanderData&&A.monexData&&s.jsxs("div",{className:"mt-3 pt-2 border-t border-gray-200",children:[s.jsx("p",{className:"text-xs font-medium",children:(A.santanderData.buyRate+A.santanderData.sellRate)/2<(A.monexData.buyRate+A.monexData.sellRate)/2?"🏆 Santander tiene mejor precio promedio":"🏆 Monex tiene mejor precio promedio"}),s.jsxs("p",{className:"text-xs text-gray-500",children:["Diferencia: $",Math.abs((A.santanderData.buyRate+A.santanderData.sellRate)/2-(A.monexData.buyRate+A.monexData.sellRate)/2).toFixed(3)]})]})]})}return null}}),s.jsx(xa,{wrapperStyle:{paddingTop:"20px"},iconType:"rect"}),s.jsx(Xn,{dataKey:"santanderCompra",name:"🏦 Santander (Compra)",fill:"#dc2626",radius:[2,2,0,0],maxBarSize:30}),s.jsx(Xn,{dataKey:"santanderVenta",name:"🏦 Santander (Venta)",fill:"#f87171",radius:[2,2,0,0],maxBarSize:30}),s.jsx(Xn,{dataKey:"monexCompra",name:"💱 Monex (Compra)",fill:"#2563eb",radius:[2,2,0,0],maxBarSize:30}),s.jsx(Xn,{dataKey:"monexVenta",name:"💱 Monex (Venta)",fill:"#60a5fa",radius:[2,2,0,0],maxBarSize:30})]})})}),s.jsxs("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg",children:[s.jsx("p",{className:"text-sm text-blue-800 font-medium mb-1",children:"💡 Cómo leer la gráfica:"}),s.jsxs("p",{className:"text-xs text-blue-700",children:["• Solo última actualización por banco/día (evita saturación visual)",s.jsx("br",{}),"• Precisión exacta a 3 decimales (no promedios)",s.jsx("br",{}),"• Barras más BAJAS = mejor precio para comprar dólares",s.jsx("br",{}),"• Pasa el mouse para ver cuántas veces se actualizó cada banco"]})]}),d.filter(S=>S.sourceProvider==="santander"||S.sourceProvider==="monex").length===0&&s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(Ko,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),s.jsx("p",{children:"No hay datos de bancos para comparar"}),s.jsx("p",{className:"text-sm",children:"Agregue cotizaciones de Santander o Monex para ver la comparativa"})]})]})]}),s.jsx(le,{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border-blue-200",children:s.jsx(ce,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[s.jsx("span",{children:"Sistema automatizado • Zona horaria: México (UTC-6)"}),s.jsxs("span",{children:["Última consulta: ",Or(new Date,"dd/MM/yyyy HH:mm")]})]})})}),s.jsx(Ir,{open:r,onOpenChange:n,children:s.jsxs(Sr,{className:"sm:max-w-md",children:[s.jsx(Nr,{children:s.jsxs(Pr,{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"text-2xl",children:e&&WR(e)}),s.jsxs("span",{children:["Actualizar ",e&&qR(e)]})]})}),s.jsxs("form",{onSubmit:w,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ge,{htmlFor:"buyRate",children:"Precio de Compra"}),s.jsx(Ee,{id:"buyRate",name:"buyRate",type:"number",step:"0.0001",placeholder:"18.6000",value:o.buyRate,onChange:S=>y("buyRate",S.target.value),required:!0,className:"mt-1"})]}),s.jsxs("div",{children:[s.jsx(ge,{htmlFor:"sellRate",children:"Precio de Venta"}),s.jsx(Ee,{id:"sellRate",name:"sellRate",type:"number",step:"0.0001",placeholder:"18.6200",value:o.sellRate,onChange:S=>y("sellRate",S.target.value),required:!0,className:"mt-1"})]})]}),s.jsxs("div",{children:[s.jsx(ge,{htmlFor:"notes",children:"Notas (Opcional)"}),s.jsx(Za,{id:"notes",name:"notes",placeholder:"Ej: Cotización especial para cliente VIP",value:o.notes,onChange:S=>y("notes",S.target.value),rows:3,className:"mt-1"})]}),s.jsxs("div",{className:"text-xs text-gray-500 bg-blue-50 p-3 rounded",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Fecha:"})," ",Or(new Date,"dd/MM/yyyy")]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Hora:"})," ",Or(new Date,"HH:mm")]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Usuario:"})," Lolita (Actualización manual)"]})]}),s.jsxs("div",{className:"flex space-x-2 pt-4",children:[s.jsx(re,{type:"button",variant:"outline",onClick:()=>n(!1),className:"flex-1",children:"Cancelar"}),s.jsx(re,{type:"submit",disabled:m.isPending,className:"flex-1",children:m.isPending?"Guardando...":"Guardar Cotización"})]})]})]})})]})})}function sze(){const[,e]=ss(),{data:t=[],isLoading:r,refetch:n}=$e({queryKey:["/api/currency-quotes/weekly-history"],refetchInterval:3e4}),a=async()=>{try{(await fetch("/api/currency-quotes/force-update",{method:"POST",headers:{"Content-Type":"application/json"}})).ok&&n()}catch(d){console.error("Error al forzar actualización:",d)}},i=t.reduce((d,f)=>{var p;const h=f.quotingDate||((p=f.createdAt)==null?void 0:p.split("T")[0]);return d[h]||(d[h]=[]),d[h].push(f),d},{}),o=Object.keys(i).sort((d,f)=>new Date(f).getTime()-new Date(d).getTime()),l=d=>{switch(d.toLowerCase()){case"dof":return"bg-blue-100 text-blue-800 border-blue-200";case"santander":return"bg-red-100 text-red-800 border-red-200";case"monex":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},c=d=>{switch(d.toLowerCase()){case"dof":return"🏛️";case"santander":return"🏦";case"monex":return"💱";default:return"💰"}},u=d=>{try{const[f,h]=d.split(":"),p=new Date;return p.setHours(parseInt(f),parseInt(h)),Or(p,"h:mm a",{locale:Ha})}catch{return d}};return r?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-6",children:s.jsx("div",{className:"max-w-4xl mx-auto",children:s.jsxs("div",{className:"animate-pulse space-y-4",children:[s.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/3"}),s.jsx("div",{className:"h-64 bg-gray-200 rounded"})]})})}):s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-6",children:s.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs(re,{variant:"outline",size:"sm",onClick:()=>e("/cotizacion-dolares"),className:"flex items-center space-x-2",children:[s.jsx(hc,{className:"h-4 w-4"}),s.jsx("span",{children:"Volver"})]}),s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center space-x-2",children:[s.jsx(ja,{className:"h-8 w-8 text-blue-600"}),s.jsx("span",{children:"Historial Semanal USD/MXN"})]}),s.jsx("p",{className:"text-gray-600",children:"Últimas cotizaciones registradas - Formato Lolita"})]})]}),s.jsxs(re,{onClick:a,className:"flex items-center space-x-2",children:[s.jsx(lS,{className:"h-4 w-4"}),s.jsx("span",{children:"Actualizar"})]})]}),s.jsxs(le,{className:"border-l-4 border-l-blue-500",children:[s.jsx(_e,{children:s.jsxs(ke,{className:"flex items-center space-x-2 text-blue-700",children:[s.jsx(fd,{className:"h-5 w-5"}),s.jsx("span",{children:"Actualizaciones Automáticas"})]})}),s.jsxs(ce,{children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ga,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{children:"Próxima actualización: 9:00 AM"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ga,{className:"h-4 w-4 text-green-600"}),s.jsx("span",{children:"Segunda actualización: 12:30 PM"})]})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"El sistema actualiza automáticamente las cotizaciones del DOF dos veces al día"})]})]}),o.length===0?s.jsxs(Ec,{children:[s.jsx(qo,{className:"h-4 w-4"}),s.jsx(Tc,{children:'No hay cotizaciones registradas en la última semana. Presiona "Actualizar" para obtener las cotizaciones más recientes.'})]}):s.jsx("div",{className:"space-y-4",children:o.map(d=>s.jsxs(le,{className:"overflow-hidden",children:[s.jsx(_e,{className:"bg-gradient-to-r from-gray-50 to-blue-50 border-b",children:s.jsxs(ke,{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500"}),s.jsx("span",{className:"text-lg font-semibold",children:Or(_x(d),"EEEE d 'de' MMMM",{locale:Ha})}),s.jsx(Ze,{variant:"outline",className:"capitalize",children:Or(_x(d),"yyyy",{locale:Ha})})]}),s.jsxs("div",{className:"text-sm text-gray-500",children:[i[d].length," cotización",i[d].length!==1?"es":""]})]})}),s.jsx(ce,{className:"p-0",children:s.jsx("div",{className:"divide-y divide-gray-100",children:i[d].sort((f,h)=>(h.quotingTime||"").localeCompare(f.quotingTime||"")).map(f=>s.jsx("div",{className:"p-6 hover:bg-gray-50 transition-colors",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"text-2xl",children:c(f.sourceProvider)}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Ze,{className:l(f.sourceProvider),children:f.sourceProvider.toUpperCase()}),s.jsx("span",{className:"text-sm text-gray-500",children:u(f.quotingTime)})]}),s.jsxs("div",{className:"flex items-center space-x-6 mt-2",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Compra"}),s.jsxs("p",{className:"text-lg font-bold text-green-600",children:["$",parseFloat(f.buyRate).toFixed(4)]})]}),s.jsx("div",{className:"text-gray-300",children:s.jsx(kf,{orientation:"vertical",className:"h-8"})}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Venta"}),s.jsxs("p",{className:"text-lg font-bold text-red-600",children:["$",parseFloat(f.sellRate).toFixed(4)]})]})]})]})]}),s.jsxs("div",{className:"text-right space-y-1",children:[s.jsxs("div",{className:"text-sm text-gray-600",children:["Spread: $",(parseFloat(f.sellRate)-parseFloat(f.buyRate)).toFixed(4)]}),f.notes&&s.jsx("div",{className:"text-xs text-gray-500 italic max-w-32 text-right",children:f.notes})]})]})},f.id))})})]},d))}),s.jsx(le,{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border-blue-200",children:s.jsx(ce,{className:"p-4",children:s.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[s.jsx("span",{children:"Sistema automatizado de cotizaciones • Zona horaria: México"}),s.jsxs("span",{children:["Actualizado: ",Or(new Date,"dd/MM/yyyy HH:mm")]})]})})})]})})}function oze(){var C,A;const[e,t]=v.useState(!1),[r,n]=v.useState(null),[a,i]=v.useState(null),[o,l]=v.useState({name:"",description:"",target:"",unit:"",frequency:"monthly",areaId:0,companyId:0}),{toast:c}=wn(),u=Vn(),{data:d=[]}=$e({queryKey:["/api/companies"]}),{data:f=[]}=$e({queryKey:["/api/areas"]}),{data:h=[],isLoading:p}=$e({queryKey:["/api/kpis"],refetchInterval:2e3,refetchOnWindowFocus:!0,refetchOnMount:!0});f.filter(E=>a?E.companyId===a:!0);const x=h.map(E=>{const T=f.find(O=>O.id===E.areaId),_=d.find(O=>O.id===E.companyId);return{...E,areaName:T==null?void 0:T.name,companyName:_==null?void 0:_.name}}),m=a?x.filter(E=>E.companyId===a):x,g=At({mutationFn:E=>(console.log("[Frontend] Enviando datos KPI:",E),zt("POST","/api/kpis",E)),onSuccess:()=>{u.invalidateQueries({queryKey:["/api/kpis"]}),u.invalidateQueries({queryKey:["/api/companies"]}),u.invalidateQueries({queryKey:["/api/areas"]}),u.refetchQueries({queryKey:["/api/kpis"]}),t(!1),b(),c({title:"KPI Creado",description:"El KPI ha sido creado exitosamente."})},onError:E=>{console.error("[Frontend] Error al crear KPI:",E),c({title:"Error",description:E.message||"Error al crear el KPI.",variant:"destructive"})}}),w=At({mutationFn:({id:E,data:T})=>zt(`/api/kpis/${E}`,"PUT",T),onSuccess:()=>{u.invalidateQueries({queryKey:["/api/kpis"]}),n(null),b(),c({title:"KPI Actualizado",description:"El KPI ha sido actualizado exitosamente."})},onError:E=>{c({title:"Error",description:E.message||"Error al actualizar el KPI.",variant:"destructive"})}}),y=At({mutationFn:E=>zt(`/api/kpis/${E}`,"DELETE"),onSuccess:()=>{u.invalidateQueries({queryKey:["/api/kpis"]}),c({title:"KPI Eliminado",description:"El KPI ha sido eliminado exitosamente."})},onError:E=>{c({title:"Error",description:E.message||"Error al eliminar el KPI.",variant:"destructive"})}}),b=()=>{l({name:"",description:"",target:"",unit:"",frequency:"monthly",areaId:0,companyId:0})},N=E=>{E.preventDefault(),r?w.mutate({id:r.id,data:o}):g.mutate(o)},j=E=>{n(E),l({name:E.name,description:E.description||"",target:E.target,unit:E.unit,frequency:E.frequency,areaId:E.areaId,companyId:E.companyId})},S=E=>{confirm("¿Estás seguro de que deseas eliminar este KPI?")&&y.mutate(E)},P=()=>s.jsxs("form",{onSubmit:N,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ge,{htmlFor:"name",children:"Nombre del KPI"}),s.jsx(Ee,{id:"name",value:o.name,onChange:E=>l({...o,name:E.target.value}),required:!0})]}),s.jsxs("div",{children:[s.jsx(ge,{htmlFor:"unit",children:"Unidad"}),s.jsx(Ee,{id:"unit",value:o.unit,onChange:E=>l({...o,unit:E.target.value}),placeholder:"%, kg, horas, días, etc.",required:!0})]})]}),s.jsxs("div",{children:[s.jsx(ge,{htmlFor:"description",children:"Descripción"}),s.jsx(Za,{id:"description",value:o.description,onChange:E=>l({...o,description:E.target.value}),placeholder:"Descripción detallada del KPI"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(ge,{htmlFor:"target",children:"Objetivo"}),s.jsx(Ee,{id:"target",value:o.target,onChange:E=>l({...o,target:E.target.value}),placeholder:"100%, 50, 2.5, etc.",required:!0})]}),s.jsxs("div",{children:[s.jsx(ge,{htmlFor:"frequency",children:"Frecuencia"}),s.jsxs(Xe,{value:o.frequency,onValueChange:E=>l({...o,frequency:E}),children:[s.jsx(He,{children:s.jsx(Ye,{})}),s.jsxs(Ge,{children:[s.jsx(G,{value:"daily",children:"Diaria"}),s.jsx(G,{value:"weekly",children:"Semanal"}),s.jsx(G,{value:"monthly",children:"Mensual"}),s.jsx(G,{value:"quarterly",children:"Trimestral"}),s.jsx(G,{value:"yearly",children:"Anual"})]})]})]}),s.jsxs("div",{children:[s.jsx(ge,{htmlFor:"company",children:"Empresa"}),s.jsxs(Xe,{value:o.companyId.toString(),onValueChange:E=>l({...o,companyId:parseInt(E),areaId:0}),children:[s.jsx(He,{children:s.jsx(Ye,{placeholder:"Seleccionar empresa"})}),s.jsx(Ge,{children:d.map(E=>s.jsx(G,{value:E.id.toString(),children:E.name},E.id))})]})]})]}),s.jsxs("div",{children:[s.jsx(ge,{htmlFor:"area",children:"Área"}),s.jsxs(Xe,{value:o.areaId.toString(),onValueChange:E=>l({...o,areaId:parseInt(E)}),disabled:!o.companyId,children:[s.jsx(He,{children:s.jsx(Ye,{placeholder:"Seleccionar área"})}),s.jsx(Ge,{children:f.filter(E=>E.companyId===o.companyId).map(E=>s.jsx(G,{value:E.id.toString(),children:E.name},E.id))})]})]}),s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx(re,{type:"button",variant:"outline",onClick:()=>{t(!1),n(null),b()},children:"Cancelar"}),s.jsxs(re,{type:"submit",disabled:g.isPending||w.isPending,children:[r?"Actualizar":"Crear"," KPI"]})]})]});return s.jsxs("div",{className:"flex h-screen bg-gray-50",children:[s.jsx(my,{}),s.jsx("div",{className:"flex-1 flex flex-col overflow-hidden ml-0 lg:ml-[250px]",children:s.jsx("main",{className:"flex-1 overflow-x-hidden overflow-y-auto bg-gray-50 p-6",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Administración de KPIs"}),s.jsx("p",{className:"text-gray-600",children:"Gestiona los KPIs de todas las áreas y empresas"})]}),s.jsxs("div",{className:"mb-6 flex flex-wrap gap-4",children:[s.jsxs("div",{className:"w-64",children:[s.jsx(ge,{htmlFor:"company-filter",children:"Filtrar por empresa"}),s.jsxs(Xe,{value:(a==null?void 0:a.toString())||"all",onValueChange:E=>i(E==="all"?null:parseInt(E)),children:[s.jsx(He,{children:s.jsx(Ye,{})}),s.jsxs(Ge,{children:[s.jsx(G,{value:"all",children:"Todas las empresas"}),d.map(E=>s.jsx(G,{value:E.id.toString(),children:E.name},E.id))]})]})]}),s.jsx("div",{className:"flex items-end",children:s.jsxs(Ir,{open:e,onOpenChange:t,children:[s.jsx(gS,{asChild:!0,children:s.jsxs(re,{children:[s.jsx(Ka,{className:"w-4 h-4 mr-2"}),"Crear KPI"]})}),s.jsxs(Sr,{className:"max-w-2xl",children:[s.jsx(Nr,{children:s.jsx(Pr,{children:"Crear Nuevo KPI"})}),s.jsx(P,{})]})]})})]}),s.jsxs("div",{className:"mb-4 p-4 bg-blue-50 border border-blue-200 rounded",children:[s.jsxs("p",{className:"text-sm text-blue-800",children:["Debug: Total KPIs: ",h.length," | Filtered KPIs: ",m.length," | Selected Company: ",a||"Todas"]}),s.jsxs("p",{className:"text-sm text-blue-800",children:["Last KPI: ",(C=h[h.length-1])==null?void 0:C.name," (ID: ",(A=h[h.length-1])==null?void 0:A.id,")"]})]}),s.jsx("div",{className:"grid gap-4",children:p?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#273949] mx-auto"}),s.jsx("p",{className:"mt-2 text-gray-600",children:"Cargando KPIs..."})]}):m.map(E=>s.jsxs(le,{className:"hover:shadow-md transition-shadow",children:[s.jsx(_e,{className:"pb-3",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx(ke,{className:"text-lg",children:E.name}),s.jsx(Et,{className:"mt-1",children:E.description||"Sin descripción"})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(re,{variant:"outline",size:"sm",onClick:()=>j(E),children:s.jsx(Zee,{className:"w-4 h-4"})}),s.jsx(re,{variant:"outline",size:"sm",onClick:()=>S(E.id),className:"text-red-600 hover:text-red-700",children:s.jsx(md,{className:"w-4 h-4"})})]})]})}),s.jsx(ce,{children:s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(T0,{className:"w-4 h-4 mr-2 text-green-600"}),s.jsx("span",{className:"font-medium",children:"Objetivo:"}),s.jsxs("span",{className:"ml-1",children:[E.target," ",E.unit]})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(Yo,{className:"w-4 h-4 mr-2 text-blue-600"}),s.jsx("span",{className:"font-medium",children:"Empresa:"}),s.jsx("span",{className:"ml-1",children:E.companyName})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(pd,{className:"w-4 h-4 mr-2 text-purple-600"}),s.jsx("span",{className:"font-medium",children:"Área:"}),s.jsx("span",{className:"ml-1",children:E.areaName})]}),s.jsx("div",{children:s.jsx(Ze,{variant:"outline",children:E.frequency==="daily"?"Diaria":E.frequency==="weekly"?"Semanal":E.frequency==="monthly"?"Mensual":E.frequency==="quarterly"?"Trimestral":"Anual"})})]})})]},E.id))}),s.jsx(Ir,{open:!!r,onOpenChange:E=>!E&&n(null),children:s.jsxs(Sr,{className:"max-w-2xl",children:[s.jsx(Nr,{children:s.jsx(Pr,{children:"Editar KPI"})}),s.jsx(P,{})]})})]})})})]})}const lze=v.createContext(null);function cze({children:e}){const[t,r]=v.useState(()=>{const n=localStorage.getItem("selectedCompanyId");return n?Number(n):1});return v.useEffect(()=>{localStorage.setItem("selectedCompanyId",t.toString())},[t]),s.jsx(lze.Provider,{value:{selectedCompany:t,setSelectedCompany:r},children:e})}const HR=e=>{e!=="/login"&&(console.log(`[ProtectedRoute] Guardando ruta actual: ${e}`),sessionStorage.setItem("redirectAfterLogin",e))},un=({children:e,adminOnly:t=!1,executiveOnly:r=!1,logisticsOnly:n=!1,salesOnly:a=!1})=>{const{user:i,isLoading:o,isAdmin:l,isMarioOrAdmin:c,hasLogisticsAccess:u,hasSalesAccess:d,refreshUser:f}=dl(),[h,p]=ss();return v.useEffect(()=>{const x=xm(),m=setTimeout(()=>{o&&(console.log("[ProtectedRoute] Timeout de seguridad - redirigiendo a login"),p("/login"))},5e3);if(x&&!i&&!o){console.log("[ProtectedRoute] Token encontrado pero no hay usuario, intentando refrescar"),f(),clearTimeout(m);return}if(!o){if(clearTimeout(m),!x){HR(h),p("/login");return}if(!i){HR(h),console.log("[ProtectedRoute] Redirigiendo a login por falta de autenticación"),p("/login");return}if(t&&!l){console.log("[ProtectedRoute] Redirigiendo a dashboard por falta de permisos de administrador"),p("/");return}if(n&&!u){console.log("[ProtectedRoute] Redirigiendo a dashboard por falta de permisos de logística"),p("/");return}if(a&&!d){console.log("[ProtectedRoute] Redirigiendo a dashboard por falta de permisos de ventas"),p("/");return}console.log(`[ProtectedRoute] Usuario autenticado correctamente: ${i.name}, Ruta: ${h}`)}return()=>clearTimeout(m)},[i,o,l,t,p,h,f,u,d,n,a]),o?s.jsx("div",{className:"flex justify-center items-center h-screen",children:s.jsx(qi,{className:"h-8 w-8 animate-spin text-primary-600"})}):!i||t&&!l||r&&!c||n&&!u||a&&!d?null:s.jsx(s.Fragment,{children:e})};class JX extends v.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,r){console.error("[ErrorBoundary] Error capturado:",t,r)}render(){return this.state.hasError?s.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:s.jsxs("div",{className:"text-center p-8",children:[s.jsx("div",{className:"mb-4",children:s.jsx("div",{className:"mx-auto h-16 w-16 rounded-full bg-red-100 flex items-center justify-center",children:s.jsx("svg",{className:"h-8 w-8 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})})}),s.jsx("h1",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Error en la aplicación"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Ha ocurrido un error inesperado. Por favor, recarga la página."}),s.jsxs("div",{className:"space-x-4",children:[s.jsx("button",{onClick:()=>{console.log("[ErrorBoundary] Reiniciando estado..."),this.setState({hasError:!1,error:void 0})},className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#273949]",children:"Reintentar"}),s.jsx("button",{onClick:()=>window.location.reload(),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-[#273949] hover:bg-[#1a2a36] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#273949]",children:"Recargar página"})]})]})}):this.props.children}}function uze(){return s.jsx(JX,{children:s.jsxs(oJ,{children:[s.jsx(Vr,{path:"/login",component:LFe}),s.jsx(Vr,{path:"/",children:s.jsx(un,{children:s.jsx(n4e,{})})}),s.jsx(Vr,{path:"/shipments",children:s.jsx(un,{logisticsOnly:!0,children:s.jsx(o3e,{})})}),s.jsx(Vr,{path:"/shipments/new",children:s.jsx(un,{logisticsOnly:!0,children:s.jsx(I5e,{})})}),s.jsx(Vr,{path:"/trends-analysis",children:s.jsx(un,{executiveOnly:!0,children:s.jsx(L5e,{})})}),s.jsx(Vr,{path:"/sales-update",children:s.jsx(un,{salesOnly:!0,children:s.jsx(U5e,{})})}),s.jsx(Vr,{path:"/kpi-control",children:s.jsx(un,{children:s.jsx(W5e,{})})}),s.jsx(Vr,{path:"/team-management",children:s.jsx(un,{executiveOnly:!0,children:s.jsx(sVe,{})})}),s.jsx(Vr,{path:"/notifications",children:s.jsx(un,{children:s.jsx(oVe,{})})}),s.jsx(Vr,{path:"/mi-perfil",children:s.jsx(un,{children:s.jsx(lVe,{})})}),s.jsx(Vr,{path:"/gestión-pagos",children:s.jsx(un,{children:s.jsx(Gj,{})})}),s.jsx(Vr,{path:"/payment-management",children:s.jsx(un,{children:s.jsx(Gj,{})})}),s.jsx(Vr,{path:"/payments",children:s.jsx(un,{children:s.jsx(Gj,{})})}),s.jsx(Vr,{path:"/automation-status",children:s.jsx(un,{children:s.jsx(nze,{})})}),s.jsx(Vr,{path:"/cotizacion-dolares",children:s.jsx(un,{children:s.jsx(ize,{})})}),s.jsx(Vr,{path:"/cotizacion-dolares/historial",children:s.jsx(un,{children:s.jsx(sze,{})})}),s.jsx(Vr,{path:"/kpi-admin",children:s.jsx(un,{executiveOnly:!0,children:s.jsx(oze,{})})}),s.jsx(Vr,{component:fne})]})})}function dze(){return s.jsx(JX,{children:s.jsx(AJ,{client:Rl,children:s.jsx(cne,{children:s.jsx(pne,{attribute:"class",defaultTheme:"light",children:s.jsx(Sne,{children:s.jsx(cze,{children:s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx(uze,{}),s.jsx(Lte,{})]})})})})})})})}nV(document.getElementById("root")).render(s.jsx(dze,{}));
